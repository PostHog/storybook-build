(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{5687:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(58),___CSS_LOADER_GET_URL_IMPORT___=__webpack_require__(655),___CSS_LOADER_URL_IMPORT_0___=__webpack_require__(2483);exports=___CSS_LOADER_API_IMPORT___(!1);var ___CSS_LOADER_URL_REPLACEMENT_0___=___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);exports.push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.image-showcase-container{height:100%;position:relative}.image-showcase-container .image-showcase{position:fixed;top:0;bottom:0;left:0;width:100%;background:linear-gradient(180deg,#373088,#d05783 60.94%,#ffb269)}.image-showcase-container .image-showcase .the-mountains{z-index:0;position:absolute;left:0;right:0;bottom:0;height:180px;background:url('+___CSS_LOADER_URL_REPLACEMENT_0___+');background-size:cover}.image-showcase-container .main-logo{padding:32px;z-index:1;position:relative}.image-showcase-container .main-logo img{height:28px}.auth-main-content{display:flex;justify-content:center;align-items:center;padding-top:32px}.auth-main-content .inner{width:100%;max-width:382px;padding:16px;background-color:#fff;border-radius:4px}.auth-main-content .subtitle{color:#f96b36;font-family:GoshaSans-Bold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue}.ant-alert-error .ant-alert-message{font-weight:700;color:#f96132}.mobile-logo{display:none;padding:0 0 32px}.rocket-button{background-color:#f96b36;text-transform:uppercase;font-family:GoshaSans-Bold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue;border-radius:4px;color:hsla(0,0%,100%,.88);border:0;padding-top:12px;padding-bottom:12px;height:unset;font-size:1.1rem;transition:background-color .3s ease-out}.rocket-button .icon{float:left;background-color:hsla(0,0%,100%,.2);border-radius:4px;padding-left:6px;padding-right:6px}.rocket-button:active,.rocket-button:focus,.rocket-button:hover{background-color:#dc4107;color:hsla(0,0%,100%,.88)}@media(max-width:992px){.main-logo{display:none}.main-logo.mobile-logo{display:block}.auth-main-content{padding-bottom:0;flex-direction:column}.showcase-content .inner{padding-bottom:64px}.showcase-content .inner h1{text-align:center}}.invite-signup{height:100vh}.invite-signup.authenticated{height:calc(100vh - 50px)}.invite-signup .inner{text-align:center;max-width:400px;padding:0 16px}.invite-signup .inner,.invite-signup .inner h1{color:hsla(0,0%,100%,.88)}.invite-signup .error-view-container{display:flex;align-items:center;justify-content:center;height:100%}.invite-signup .error-view-container .inner .actions,.invite-signup .error-view-container .inner .error-message{margin-top:32px}.invite-signup .authenticated-invite{background:linear-gradient(180deg,#20305a,#373088 33.85%,#d05783);height:100%;display:flex;align-items:center;justify-content:center}.invite-signup .authenticated-invite .inner>div{margin-bottom:16px}.invite-signup .authenticated-invite .inner>div:last-of-type{margin-bottom:0}.invite-signup .authenticated-invite .whoami-mock{display:flex;align-items:center;height:100%;width:100%}.invite-signup .authenticated-invite .whoami-mock .whoami-inner-container{display:inline-block}.invite-signup .authenticated-invite .whoami-mock .whoami-inner-container .whoami{cursor:default!important;border:1px dashed hsla(0,0%,100%,.88);border-radius:4px;background-color:hsla(0,0%,100%,.3);padding:4px}.invite-signup .authenticated-invite .whoami-mock .whoami-inner-container .whoami,.invite-signup .authenticated-invite .whoami-mock .whoami-inner-container span{color:hsla(0,0%,100%,.88)!important}.invite-signup a.plain-link{color:hsla(0,0%,100%,.88);font-weight:700}.invite-signup a.plain-link:after{content:" | "}.invite-signup a.plain-link:after:hover{color:hsla(0,0%,100%,.88)}.invite-signup a.plain-link:last-of-type:after{content:""}.invite-signup a.plain-link:hover{color:hsla(0,0%,80%,.88)}.invite-signup .unauthenticated-invite{height:100vh;position:relative}.invite-signup .unauthenticated-invite .ant-row{height:100%}.invite-signup .unauthenticated-invite .image-showcase-container .company{font-family:GoshaSans-Bold,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue;font-size:2.7rem;margin-bottom:0}.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content{z-index:1;color:hsla(0,0%,100%,.88);height:calc(100% - 100px);width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:0 32px;position:relative}.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content h1 b,.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content h2 b,.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content h3 b{color:#fff}.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content .page-title{color:hsla(0,0%,100%,.6)}.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content h3{color:hsla(0,0%,100%,.88)}.invite-signup .unauthenticated-invite .image-showcase-container .showcase-content .mobile-continue{display:none}.invite-signup .unauthenticated-invite .rhs-content{display:flex;justify-content:center;align-items:center;padding-top:32px}.invite-signup .unauthenticated-invite .rhs-content .rhs-inner{width:100%;max-width:382px;padding:0 16px}.invite-signup .unauthenticated-invite .rhs-content .password-login{margin-top:32px}@media screen and (max-width:768px){.invite-signup .unauthenticated-invite{overflow:auto;scroll-behavior:smooth}.invite-signup .unauthenticated-invite .image-showcase{position:relative!important;height:100%}.invite-signup .unauthenticated-invite .showcase-content .page-title{margin-top:0}.invite-signup .unauthenticated-invite .showcase-content .mobile-continue{display:block!important;padding-top:16px}.invite-signup .unauthenticated-invite .rhs-content{height:auto;overflow:initial}.invite-signup .unauthenticated-invite .rhs-content .top-helper{text-align:left;margin-right:0;padding:0 16px;color:rgba(0,0,0,.5)}.invite-signup .unauthenticated-invite .rhs-content .top-helper b{font-weight:400}}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5688:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(58),___CSS_LOADER_GET_URL_IMPORT___=__webpack_require__(655),___CSS_LOADER_URL_IMPORT_0___=__webpack_require__(5689);exports=___CSS_LOADER_API_IMPORT___(!1);var ___CSS_LOADER_URL_REPLACEMENT_0___=___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);exports.push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.starry-background{height:100%;background:linear-gradient(180deg,#200c39,#373088 75%,#4a3587)}.starry-background .stars{z-index:0;position:absolute;top:0;left:0;right:0;bottom:0;background:url('+___CSS_LOADER_URL_REPLACEMENT_0___+") repeat 50%}.starry-background .children{height:100%;position:relative;z-index:1}",""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5689:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=__webpack_require__.p+"images/stars.29a3d3603392b8e81d73cc4fe8a15364.svg"},6e3:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InviteSignup",(function(){return InviteSignup_InviteSignup}));__webpack_require__(43),__webpack_require__(331);var ErrorCodes,slicedToArray=__webpack_require__(16),slicedToArray_default=__webpack_require__.n(slicedToArray),defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),index_esm=__webpack_require__(4),react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(103),__webpack_require__(49),__webpack_require__(394),__webpack_require__(182),__webpack_require__(52),__webpack_require__(8)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(71),__webpack_require__(17)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(21),react_toastify=__webpack_require__(55);!function(ErrorCodes){ErrorCodes.InvalidInvite="invalid_invite",ErrorCodes.InvalidRecipient="invalid_recipient",ErrorCodes.Unknown="unknown"}(ErrorCodes||(ErrorCodes={}));var inviteSignupLogic=Object(index_esm.kea)({actions:{setError:function setError(payload){return{payload:payload}}},reducers:{error:[null,{setError:function setError(_,_ref){return _ref.payload}}]},loaders:function loaders(_ref2){var _acceptInvite,_prevalidateInvite,actions=_ref2.actions,values=_ref2.values;return{invite:[null,{prevalidateInvite:(_prevalidateInvite=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(id,breakpoint){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return breakpoint(),_context.prev=1,_context.next=4,api.a.get("api/signup/".concat(id,"/"));case 4:return _context.abrupt("return",_context.sent);case 7:return _context.prev=7,_context.t0=_context.catch(1),400===_context.t0.status?"invalid_recipient"===_context.t0.code?actions.setError({code:ErrorCodes.InvalidRecipient,detail:_context.t0.detail}):actions.setError({code:ErrorCodes.InvalidInvite,detail:_context.t0.detail}):actions.setError({code:ErrorCodes.Unknown}),_context.abrupt("return",null);case 11:case"end":return _context.stop()}}),_callee,null,[[1,7]])}))),function prevalidateInvite(_x,_x2){return _prevalidateInvite.apply(this,arguments)})}],acceptedInvite:[null,{acceptInvite:(_acceptInvite=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(payload,breakpoint){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(breakpoint(),values.invite){_context2.next=3;break}return _context2.abrupt("return",null);case 3:return _context2.next=5,api.a.create("api/signup/".concat(values.invite.id,"/"),payload);case 5:return _context2.abrupt("return",_context2.sent);case 6:case"end":return _context2.stop()}}),_callee2)}))),function acceptInvite(_x3,_x4){return _acceptInvite.apply(this,arguments)})}]}},listeners:function listeners(_ref3){var _acceptInviteSuccess,values=_ref3.values;return{acceptInviteSuccess:(_acceptInviteSuccess=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(_,breakpoint){var _values$invite;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return react_toastify.c.success("You have joined ".concat(null===(_values$invite=values.invite)||void 0===_values$invite?void 0:_values$invite.organization_name,"! Taking you to PostHog now...")),_context3.next=3,breakpoint(2e3);case 3:window.location.href="/";case 4:case"end":return _context3.stop()}}),_callee3)}))),function acceptInviteSuccess(_x5,_x6){return _acceptInviteSuccess.apply(this,arguments)})}},urlToAction:function urlToAction(_ref4){var actions=_ref4.actions;return{"/signup/*":function signup(_ref5,_ref6){var id=_ref5._,error_code=_ref6.error_code,error_detail=_ref6.error_detail;error_code?Object.values(ErrorCodes).includes(error_code)?actions.setError({code:error_code,detail:error_detail}):actions.setError({code:ErrorCodes.Unknown,detail:error_detail}):id&&actions.prevalidateInvite(id)}}},path:function path(){return["scenes","authentication","inviteSignupLogic"]}}),utils=__webpack_require__(12),injectStylesIntoStyleTag=__webpack_require__(29),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),InviteSignup=__webpack_require__(5687),InviteSignup_default=__webpack_require__.n(InviteSignup),options={insert:"head",singleton:!1},StarryBackground=(injectStylesIntoStyleTag_default()(InviteSignup_default.a,options),InviteSignup_default.a.locals,__webpack_require__(5688)),StarryBackground_default=__webpack_require__.n(StarryBackground),StarryBackground_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(StarryBackground_default.a,StarryBackground_options),StarryBackground_default.a.locals;function StarryBackground_StarryBackground(_ref){var children=_ref.children,style=_ref.style;return react_default.a.createElement("div",{className:"starry-background",style:style},react_default.a.createElement("div",{className:"stars"}),react_default.a.createElement("div",{className:"children"},children))}try{StarryBackground_StarryBackground.displayName="StarryBackground",StarryBackground_StarryBackground.__docgenInfo={description:"",displayName:"StarryBackground",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/StarryBackground/index.tsx#StarryBackground"]={docgenInfo:StarryBackground_StarryBackground.__docgenInfo,name:"StarryBackground",path:"frontend/src/lib/components/StarryBackground/index.tsx#StarryBackground"})}catch(__react_docgen_typescript_loader_error){}var userLogic=__webpack_require__(35),es_button=__webpack_require__(131),space=__webpack_require__(5420),row=__webpack_require__(435),col=__webpack_require__(253),input=__webpack_require__(652),ArrowLeftOutlined=__webpack_require__(5383),ArrowRightOutlined=__webpack_require__(5385),ArrowDownOutlined=__webpack_require__(5492),lib=__webpack_require__(27),Link=__webpack_require__(57),TopNavigation=__webpack_require__(1714),SocialLoginButton=__webpack_require__(1715),logic=__webpack_require__(54),Checkbox=__webpack_require__(770),Checkbox_default=__webpack_require__.n(Checkbox),icon_white=__webpack_require__(1047),sceneLogic=__webpack_require__(47);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var UTM_TAGS="utm_medium=in-product&utm_campaign=invite-signup",PasswordStrength=Object(react.lazy)((function(){return Promise.all([__webpack_require__.e(7),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,5390))}));function HelperLinks(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("a",{className:"plain-link",href:"/"},"App Home"),react_default.a.createElement("a",{className:"plain-link",href:"https://posthog.com?".concat(UTM_TAGS,"&utm_message=invalid-invite"),rel:"noopener"},"PostHog Website"),react_default.a.createElement("a",{className:"plain-link",href:"https://posthog.com/slack?".concat(UTM_TAGS,"&utm_message=invalid-invite"),rel:"noopener"},"Contact Us"))}function BackToPostHog(){var push=Object(index_esm.useActions)(lib.router).push;return react_default.a.createElement(es_button.a,{icon:react_default.a.createElement(ArrowLeftOutlined.a,null),block:!0,onClick:function onClick(){return push(sceneLogic.c.default())}},"Go back to PostHog")}function ErrorView(){var _ErrorMessages,error=Object(index_esm.useValues)(inviteSignupLogic).error,user=Object(index_esm.useValues)(userLogic.a).user,ErrorMessages=(_ErrorMessages={},defineProperty_default()(_ErrorMessages,ErrorCodes.InvalidInvite,{title:"Oops! This invite link is invalid or has expired",detail:react_default.a.createElement(react_default.a.Fragment,null,null==error?void 0:error.detail," If you believe this is a mistake, please contact whoever created this invite and"," ",react_default.a.createElement("b",null,"ask them for a new invite"),"."),actions:user?react_default.a.createElement(BackToPostHog,null):react_default.a.createElement(HelperLinks,null)}),defineProperty_default()(_ErrorMessages,ErrorCodes.InvalidRecipient,{title:"Oops! You cannot use this invite link",detail:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",null,null==error?void 0:error.detail),react_default.a.createElement("div",{className:"mt"},user?react_default.a.createElement("span",null,"You can either log out and create a new account under the new email address or ask the organization admin to send a"," ",react_default.a.createElement("b",null,"new invite to the email address on your account, ",null==user?void 0:user.email),"."):react_default.a.createElement("div",null,"You need to log in with the email address above, or create your own password.",react_default.a.createElement("div",{className:"mt"},react_default.a.createElement(es_button.a,{icon:react_default.a.createElement(ArrowLeftOutlined.a,null),href:window.location.pathname},"Try again"))))),actions:user?react_default.a.createElement(BackToPostHog,null):react_default.a.createElement(HelperLinks,null)}),defineProperty_default()(_ErrorMessages,ErrorCodes.Unknown,{title:"Oops! We could not validate this invite link",detail:"".concat(null==error?void 0:error.detail," There was an issue with your invite link, please try again in a few seconds. If the problem persists, contact us."),actions:user?react_default.a.createElement(BackToPostHog,null):react_default.a.createElement(HelperLinks,null)}),_ErrorMessages);return error?react_default.a.createElement(StarryBackground_StarryBackground,null,react_default.a.createElement("div",{className:"error-view-container"},react_default.a.createElement("div",{className:"inner"},react_default.a.createElement("h1",{className:"page-title"},ErrorMessages[error.code].title),react_default.a.createElement("div",{className:"error-message"},ErrorMessages[error.code].detail),react_default.a.createElement("div",{className:"actions"},ErrorMessages[error.code].actions)))):null}function AuthenticatedAcceptInvite(_ref){var invite=_ref.invite,user=Object(index_esm.useValues)(userLogic.a).user,acceptInvite=Object(index_esm.useActions)(inviteSignupLogic).acceptInvite,_useValues4=Object(index_esm.useValues)(inviteSignupLogic),acceptedInviteLoading=_useValues4.acceptedInviteLoading,acceptedInvite=_useValues4.acceptedInvite;return react_default.a.createElement("div",{className:"authenticated-invite"},react_default.a.createElement(space.b,{className:"inner",direction:"vertical",align:"center"},react_default.a.createElement(row.a,null,react_default.a.createElement("h1",{className:"page-title"},"You have been invited to join ",invite.organization_name)),react_default.a.createElement(row.a,null,react_default.a.createElement("span",null,"You will accept the invite under your ",react_default.a.createElement("b",null,"existing PostHog account")," (",null==user?void 0:user.email,")")),user&&react_default.a.createElement(row.a,null,react_default.a.createElement("div",{className:"whoami-mock"},react_default.a.createElement("div",{className:"whoami-inner-container"},react_default.a.createElement(TopNavigation.b,{user:user})))),react_default.a.createElement(row.a,null,"You can change organizations at any time by clicking on the dropdown at the top right corner of the navigation bar."),react_default.a.createElement("div",null,acceptedInvite?react_default.a.createElement(es_button.a,{block:!0,onClick:function onClick(){return window.location.href="/"}},"Go to PostHog ",react_default.a.createElement(ArrowRightOutlined.a,null)):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(es_button.a,{type:"primary",block:!0,onClick:function onClick(){return acceptInvite()},disabled:acceptedInviteLoading},"Accept invite"),react_default.a.createElement("div",{className:"mt"},react_default.a.createElement(Link.a,{to:"/"},react_default.a.createElement(ArrowLeftOutlined.a,null)," Go back to PostHog"))))))}function UnauthenticatedAcceptInvite(_ref2){var invite=_ref2.invite,_useState=Object(react.useState)({firstName:(null==invite?void 0:invite.first_name)||"",password:"",emailOptIn:!0}),_useState2=slicedToArray_default()(_useState,2),formValues=_useState2[0],setFormValues=_useState2[1],_useState3=Object(react.useState)({submitted:!1,passwordInvalid:!1}),_useState4=slicedToArray_default()(_useState3,2),formState=_useState4[0],setFormState=_useState4[1],passwordInputRef=Object(react.useRef)(null),acceptInvite=Object(index_esm.useActions)(inviteSignupLogic).acceptInvite,acceptedInviteLoading=Object(index_esm.useValues)(inviteSignupLogic).acceptedInviteLoading,socialAuthAvailable=Object(index_esm.useValues)(logic.a).socialAuthAvailable,parentContainerRef=Object(react.useRef)(null),mainContainerRef=Object(react.useRef)(null);return react_default.a.createElement("div",{className:"unauthenticated-invite",ref:parentContainerRef},react_default.a.createElement(row.a,null,react_default.a.createElement(col.a,{span:24,md:10,className:"image-showcase-container"},react_default.a.createElement("div",{className:"image-showcase ant-col-24 ant-col-md-10"},react_default.a.createElement("div",{className:"the-mountains"}),react_default.a.createElement("div",{className:"main-logo"},react_default.a.createElement("img",{src:icon_white.a,alt:""})),react_default.a.createElement("div",{className:"showcase-content"},react_default.a.createElement("h1",{className:"page-title"},"Hello",(null==invite?void 0:invite.first_name)?" ".concat(invite.first_name):"","! You've been invited to join"),react_default.a.createElement("div",{className:"company"},(null==invite?void 0:invite.organization_name)||"us"),react_default.a.createElement("h1",{className:"page-title"},"on PostHog"),react_default.a.createElement("div",{className:"mobile-continue"},react_default.a.createElement(es_button.a,{icon:react_default.a.createElement(ArrowDownOutlined.a,null),type:"default",onClick:function goToMainContent(){var _parentContainerRef$c,yPos=mainContainerRef.current?mainContainerRef.current.getBoundingClientRect().top:null;yPos&&(null===(_parentContainerRef$c=parentContainerRef.current)||void 0===_parentContainerRef$c||_parentContainerRef$c.scrollTo(0,yPos))}},"Continue"))))),react_default.a.createElement(col.a,{span:24,md:14,className:"rhs-content",ref:mainContainerRef},react_default.a.createElement("div",{className:"rhs-inner"},react_default.a.createElement(SocialLoginButton.a,{title:"Continue with a provider",caption:"Remember to log in with ".concat(null==invite?void 0:invite.target_email),queryString:invite?"?invite_id=".concat(invite.id):""}),react_default.a.createElement("div",{className:"password-login"},react_default.a.createElement("h3",{className:"l3 text-center"},socialAuthAvailable?"Or create your own password":"Create your PostHog account"),react_default.a.createElement("form",{onSubmit:function handleFormSubmit(e){if(e.preventDefault(),formState.passwordInvalid)return setFormState(_objectSpread(_objectSpread({},formState),{},{submitted:!0})),void(passwordInputRef.current&&passwordInputRef.current.focus());var payload={first_name:formValues.firstName,password:formValues.password,email_opt_in:formValues.emailOptIn};acceptInvite(payload)}},react_default.a.createElement("div",{className:"input-set"},react_default.a.createElement("label",{htmlFor:"email"},"Email"),react_default.a.createElement(input.a,{type:"email",disabled:!0,id:"email",value:null==invite?void 0:invite.target_email})),react_default.a.createElement("div",{className:"input-set".concat(formState.submitted&&formState.passwordInvalid?" errored":""),style:{paddingBottom:8}},react_default.a.createElement("label",{htmlFor:"password"},"Password"),react_default.a.createElement(input.a,{placeholder:"*******",type:"password",required:!0,disabled:acceptedInviteLoading,autoFocus:window.screen.width>=768,value:formValues.password,onChange:function handlePasswordChanged(e){var value=e.target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},{password:value})),value.length>=8?setFormState(_objectSpread(_objectSpread({},formState),{},{passwordInvalid:!1})):setFormState(_objectSpread(_objectSpread({},formState),{},{passwordInvalid:!0}))},id:"password",ref:passwordInputRef}),react_default.a.createElement("span",{className:"caption"},"Your password must have at least 8 characters."),react_default.a.createElement(react.Suspense,{fallback:react_default.a.createElement(react_default.a.Fragment,null)},react_default.a.createElement(PasswordStrength,{password:formValues.password}))),react_default.a.createElement("div",{className:"input-set"},react_default.a.createElement("label",{htmlFor:"first_name"},"First Name"),react_default.a.createElement(input.a,{placeholder:"Jane",type:"text",required:!0,disabled:acceptedInviteLoading,id:"first_name",value:formValues.firstName,onChange:function onChange(e){return setFormValues(_objectSpread(_objectSpread({},formValues),{},{firstName:e.target.value}))}}),(null==invite?void 0:invite.first_name)&&react_default.a.createElement("span",{className:"caption"},"Your name was provided in the invite, feel free to change it.")),react_default.a.createElement("div",{className:"mb"},react_default.a.createElement(Checkbox_default.a,{checked:formValues.emailOptIn,onChange:function onChange(e){return setFormValues(_objectSpread(_objectSpread({},formValues),{},{emailOptIn:e.target.checked}))},disabled:acceptedInviteLoading,style:{fontSize:12,color:"var(--muted)"}},"Send me product and security updates")),react_default.a.createElement(es_button.a,{type:"primary",htmlType:"submit","data-attr":"password-signup",disabled:formState.submitted&&formState.passwordInvalid,loading:acceptedInviteLoading,block:!0},"Continue")),react_default.a.createElement("div",{className:"mt text-center"},"By clicking continue you agree to our"," ",react_default.a.createElement("a",{href:"https://posthog.com/terms",target:"_blank",rel:"noopener"},"Terms of Service")," ","and"," ",react_default.a.createElement("a",{href:"https://posthog.com/privacy",target:"_blank",rel:"noopener"},"Privacy Policy"),"."),react_default.a.createElement("div",{className:"mt text-center text-muted",style:{marginBottom:60}},"Already have an account? ",react_default.a.createElement(Link.a,{to:"/login"},"Log in")))))))}function InviteSignup_InviteSignup(){var _useValues7=Object(index_esm.useValues)(inviteSignupLogic),invite=_useValues7.invite,inviteLoading=_useValues7.inviteLoading,user=Object(index_esm.useValues)(userLogic.a).user;return inviteLoading?react_default.a.createElement(utils.d,null):react_default.a.createElement("div",{className:"invite-signup".concat(user?" authenticated":"")},react_default.a.createElement(ErrorView,null),invite&&(user?react_default.a.createElement(AuthenticatedAcceptInvite,{invite:invite}):react_default.a.createElement(UnauthenticatedAcceptInvite,{invite:invite})))}}}]);