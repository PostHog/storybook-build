"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[44664],{"../../frontend/src/lib/components/AppMetrics/AppMetricSummary.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>AppMetricSummary});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/utils.tsx"),_queries_nodes_DataVisualization_Components_Charts_LineGraph__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/queries/nodes/DataVisualization/Components/Charts/LineGraph.tsx"),_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function AppMetricSummary(_ref){let{name,timeSeries,previousPeriodTimeSeries,description,loading}=_ref,total=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>timeSeries?timeSeries.series.reduce((acc,curr)=>acc+curr.values.reduce((acc,curr)=>acc+curr,0),0):0,[timeSeries]),totalPreviousPeriod=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>previousPeriodTimeSeries?previousPeriodTimeSeries.series.reduce((acc,curr)=>acc+curr.values.reduce((acc,curr)=>acc+curr,0),0):0,[previousPeriodTimeSeries]),diff=(total-totalPreviousPeriod)/totalPreviousPeriod;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"flex flex-1 flex-col relative border rounded p-3 bg-surface-primary min-w-[16rem] max-w-[24rem]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"flex flex-row justify-between items-start",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.HQ,{info:description,children:name}),loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.yW,{className:"w-20 h-6 mb-2"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"text-right text-2xl text-muted-foreground",children:(0,lib_utils__WEBPACK_IMPORTED_MODULE_2__.Lc)(total)})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"flex flex-row justify-end items-center gap-2 text-xs text-muted",children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.yW,{className:"w-10 h-4"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:diff>0?` (+${(100*diff).toFixed(1)}%)`:` (-${(-(100*diff)).toFixed(1)}%)`})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"flex-1 mt-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"h-[10rem]",children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.t2,{}):timeSeries?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_queries_nodes_DataVisualization_Components_Charts_LineGraph__WEBPACK_IMPORTED_MODULE_3__.x,{xData:{column:{name:"date",type:{name:"DATE",isNumerical:!1},label:"Date",dataIndex:0},data:timeSeries.labels},yData:timeSeries.series.map(x=>({column:{name:x.name,type:{name:"INTEGER",isNumerical:!0},label:x.name,dataIndex:0},data:x.values})),visualizationType:_types__WEBPACK_IMPORTED_MODULE_4__.Qb.ActionsLineGraph,chartSettings:{showLegend:!1,showTotalRow:!1,showXAxisBorder:!1,showYAxisBorder:!1,showXAxisTicks:!1,leftYAxisSettings:{showTicks:!1,showGridLines:!1}}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.HQ,{children:"No data"})})})})]})}},"../../frontend/src/lib/components/AppMetrics/AppMetricsFilters.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>AppMetricsFilters});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.28.1_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/DateFilter/DateFilter.tsx"),_appMetricsLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/AppMetrics/appMetricsLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function AppMetricsFilters(_ref){let{logicKey}=_ref,logic=(0,_appMetricsLogic__WEBPACK_IMPORTED_MODULE_4__.t)({logicKey}),{params,availableIntervals}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(logic),{setParams}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(logic);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"flex flex-row gap-2 flex-wrap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.Yv,{options:[{label:"Hourly",value:"hour",disabledReason:availableIntervals.includes("hour")?void 0:"Please select a smaller date range"},{label:"Daily",value:"day",disabledReason:availableIntervals.includes("day")?void 0:"Please select a smaller date range"}],size:"small",value:params.interval,onChange:value=>setParams({interval:value})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_3__.f,{dateTo:params.dateTo,dateFrom:params.dateFrom,onChange:(from,to)=>setParams({dateFrom:from||void 0,dateTo:to||void 0}),allowedRollingDateOptions:["days","weeks","months","years"],makeLabel:key=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconCalendar,{})," ",key]})})]})}},"../../frontend/src/lib/components/AppMetrics/AppMetricsTrends.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>AppMetricsTrends});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),_queries_nodes_DataVisualization_Components_Charts_LineGraph__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/queries/nodes/DataVisualization/Components/Charts/LineGraph.tsx"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function AppMetricsTrends(_ref){let{appMetricsTrends,loading}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"relative border rounded min-h-[20rem] h-[70vh] bg-white",children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.t2,{}):appMetricsTrends?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_queries_nodes_DataVisualization_Components_Charts_LineGraph__WEBPACK_IMPORTED_MODULE_1__.x,{className:"p-2",xData:{column:{name:"date",type:{name:"DATE",isNumerical:!1},label:"Date",dataIndex:0},data:appMetricsTrends.labels},yData:appMetricsTrends.series.map(x=>({column:{name:x.name,type:{name:"INTEGER",isNumerical:!0},label:x.name,dataIndex:0},data:x.values})),visualizationType:_types__WEBPACK_IMPORTED_MODULE_2__.Qb.ActionsLineGraph,chartSettings:{showLegend:!0,showTotalRow:!0}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"flex-1 flex items-center justify-center",children:"Missing"})})}},"../../frontend/src/scenes/hog-functions/logs/LogsViewer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>LogsViewer,n:()=>tagTypeForLevel});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.28.1_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),CopyToClipboard=__webpack_require__("../../frontend/src/lib/components/CopyToClipboard.tsx"),DateFilter=__webpack_require__("../../frontend/src/lib/components/DateFilter/DateFilter.tsx"),TZLabel=__webpack_require__("../../frontend/src/lib/components/TZLabel/index.tsx"),icons=__webpack_require__("../../frontend/src/lib/lemon-ui/icons/index.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),logsViewerLogic=__webpack_require__("../../frontend/src/scenes/hog-functions/logs/logsViewerLogic.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let humanReadableLevel=level=>(0,utils.fm)(level.toLowerCase());function LogLevelsPicker(_ref){let{value,onChange}=_ref,onClick=level=>{let levels=[...value],index=levels.indexOf(level);index>-1?levels.splice(index,1):levels.push(level),onChange(levels)},displayLevels=value.length!==logsViewerLogic.SV.length&&value.length>0?value.map(l=>humanReadableLevel(l)).join(", "):"All levels";return(0,jsx_runtime.jsx)(src.d6,{closeOnClickInside:!1,items:logsViewerLogic.SV.map(level=>({label:humanReadableLevel(level),onClick:()=>onClick(level),active:value.includes(level)})),children:(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconFilter,{}),size:"small",type:"secondary",className:"whitespace-nowrap",children:displayLevels})})}let tagTypeForLevel=level=>{switch(level.toLowerCase()){case"debug":return"muted";case"log":case"info":default:return"default";case"warning":case"warn":return"warning";case"error":return"danger"}},shortInstanceId=instanceId=>instanceId.split("-").map(part=>part.slice(0,2)).join("");function LogsViewer(_ref){let{renderColumns=c=>c,renderMessage=m=>m,instanceLabel="invocation",...props}=_ref,logic=(0,logsViewerLogic.WC)(props),{unGroupedLogs,groupedLogs,logsLoading,hiddenLogs,hiddenLogsLoading,isThereMoreToLoad,expandedRows,filters,isGrouped}=(0,index_esm.useValues)(logic),{revealHiddenLogs,loadOlderLogs,setFilters,setRowExpanded,setIsGrouped}=(0,index_esm.useActions)(logic),logColumns=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",width:0,render:(_,_ref2)=>{let{timestamp}=_ref2;return(0,jsx_runtime.jsx)(TZLabel.w,{time:timestamp})}},{title:"Level",key:"level",dataIndex:"level",width:0,render:(_,_ref3)=>{let{level}=_ref3;return(0,jsx_runtime.jsx)(src.oe,{type:tagTypeForLevel(level),children:level.toUpperCase()})}},{width:0,title:instanceLabel,dataIndex:"instanceId",key:"instanceId",render:(_,_ref4)=>{let{instanceId}=_ref4;return(0,jsx_runtime.jsx)("code",{className:"whitespace-nowrap",children:(0,jsx_runtime.jsx)(CopyToClipboard.D,{explicitValue:instanceId,selectable:!0,children:(0,jsx_runtime.jsx)(src.rU,{className:"font-semibold",subtle:!0,onClick:()=>setRowExpanded(instanceId,!expandedRows[instanceId]),title:instanceId,children:shortInstanceId(instanceId)})})})}},{title:"Message",key:"message",dataIndex:"message",render:(_,_ref5)=>{let{message}=_ref5;return(0,jsx_runtime.jsx)("code",{className:"whitespace-pre-wrap",children:renderMessage(message)})}}],groupedLogColumns=renderColumns([{title:"Timestamp",key:"timestamp",dataIndex:"maxTimestamp",width:0,sorter:(a,b)=>a.maxTimestamp.unix()-b.maxTimestamp.unix(),render:(_,_ref6)=>{let{maxTimestamp}=_ref6;return(0,jsx_runtime.jsx)(TZLabel.w,{time:maxTimestamp})}},{width:0,title:instanceLabel,dataIndex:"instanceId",key:"instanceId",render:(_,_ref7)=>{let{instanceId}=_ref7;return(0,jsx_runtime.jsx)("code",{className:"whitespace-nowrap",children:(0,jsx_runtime.jsx)(CopyToClipboard.D,{explicitValue:instanceId,selectable:!0,children:(0,jsx_runtime.jsx)(src.rU,{className:"font-semibold",subtle:!0,onClick:()=>setRowExpanded(instanceId,!expandedRows[instanceId]),title:instanceId,children:shortInstanceId(instanceId)})})})}},{key:"logLevel",dataIndex:"logLevel",width:0,render:(_,_ref8)=>{let{instanceId,logLevel}=_ref8;return(0,jsx_runtime.jsx)(src.rU,{subtle:!0,className:"flex items-center gap-2",onClick:()=>{setRowExpanded(instanceId,!expandedRows[instanceId])},children:(0,jsx_runtime.jsx)(src.oe,{type:tagTypeForLevel(logLevel),children:logLevel.toUpperCase()})})}},{title:"Last message",key:"entries",dataIndex:"entries",render:(_,_ref9)=>{let{instanceId,entries}=_ref9,lastEntry=entries[entries.length-1];return(0,jsx_runtime.jsx)("code",{className:"whitespace-pre-wrap",children:(0,jsx_runtime.jsxs)(src.rU,{subtle:!0,onClick:()=>{setRowExpanded(instanceId,!expandedRows[instanceId])},children:[renderMessage(lastEntry.message),entries.length>1&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsxs)("span",{className:"text-xs text-muted-alt",children:["+ ",entries.length-1," more"]})]})]})})}}]),footer=(0,jsx_runtime.jsx)(src.Jp,{onClick:loadOlderLogs,loading:logsLoading,fullWidth:!0,center:!0,disabledReason:isThereMoreToLoad?void 0:"There's nothing more to load",children:isThereMoreToLoad?`Load up to ${logsViewerLogic.Hs} older entries`:"No older entries"});return(0,jsx_runtime.jsxs)("div",{className:"flex-1 deprecated-space-y-2 ph-no-capture flex flex-col",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap flex-row-reverse items-center gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-100",children:(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search for messages containing…",fullWidth:!0,onChange:value=>setFilters({search:value}),value:filters.search,allowClear:!0,prefix:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(posthog_icons_es.IconSearch,{})})})}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(LogLevelsPicker,{value:filters.levels,onChange:levels=>setFilters({levels})}),(0,jsx_runtime.jsx)(DateFilter.f,{dateTo:filters.date_to,dateFrom:filters.date_from,onChange:(from,to)=>setFilters({date_from:from||void 0,date_to:to||void 0}),allowedRollingDateOptions:["days","weeks","months","years"],makeLabel:key=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCalendar,{})," ",key]})}),"boolean"!=typeof props.groupByInstanceId&&(0,jsx_runtime.jsx)(src.Yv,{size:"small",value:isGrouped,onChange:checked=>setIsGrouped(checked),options:[{label:(0,jsx_runtime.jsx)(posthog_icons_es.IconTableOfContents,{}),value:!0,labelInMenu:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconTableOfContents,{className:"mr-1"})," Group logs by ",instanceLabel]})},{label:(0,jsx_runtime.jsx)(posthog_icons_es.IconList,{}),value:!1,labelInMenu:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconList,{className:"mr-1"})," No grouping"]})}]}),(0,jsx_runtime.jsx)(src.Jp,{size:"small",onClick:revealHiddenLogs,loading:hiddenLogsLoading,type:"secondary",icon:(0,jsx_runtime.jsx)(icons.Xd,{count:hiddenLogs.length,children:hiddenLogs.length?(0,jsx_runtime.jsx)(posthog_icons_es.IconEye,{}):(0,jsx_runtime.jsx)(icons.$L,{})}),disabledReason:hiddenLogs.length?void 0:"No newer entries. Will check every 5 seconds.",tooltip:`Show ${(0,utils.Zi)(hiddenLogs.length,"newer entry","newer entries")}`})]})]}),isGrouped?(0,jsx_runtime.jsx)(src.g3,{dataSource:groupedLogs,loading:logsLoading,className:"ph-no-capture overflow-y-auto",rowKey:record=>record.instanceId,footer:footer,columns:groupedLogColumns,expandable:{noIndent:!0,isRowExpanded:record=>{var _expandedRows$record$;return null!==(_expandedRows$record$=expandedRows[record.instanceId])&&void 0!==_expandedRows$record$&&_expandedRows$record$},onRowExpand:record=>setRowExpanded(record.instanceId,!0),onRowCollapse:record=>setRowExpanded(record.instanceId,!1),expandedRowRender:record=>(0,jsx_runtime.jsx)(src.g3,{embedded:!0,dataSource:record.entries,columns:[{key:"spacer",width:0,render:()=>(0,jsx_runtime.jsx)("div",{className:"w-6"})},...logColumns]})}},"grouped"):(0,jsx_runtime.jsx)(src.g3,{dataSource:unGroupedLogs,loading:logsLoading,className:"ph-no-capture overflow-y-auto",rowKey:(record,index)=>`${record.timestamp.toISOString()}-${index}`,columns:logColumns,footer:footer},"ungrouped"),(0,jsx_runtime.jsx)("div",{className:"mb-8"})]})}},"../../frontend/src/scenes/hog-functions/logs/logsViewerLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Hs:()=>LOG_VIEWER_LIMIT,SV:()=>ALL_LOG_LEVELS,WC:()=>logsViewerLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_api__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_dayjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/dayjs.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_queries_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/queries/utils.ts");let ALL_LOG_LEVELS=["DEBUG","LOG","INFO","WARNING","ERROR"],DEFAULT_LOG_LEVELS=["DEBUG","LOG","INFO","WARNING","ERROR"],LOG_VIEWER_LIMIT=100,toKey=log=>`${log.instanceId}-${log.level}-${log.timestamp.toISOString()}`,toAbsoluteClickhouseTimestamp=timestamp=>timestamp.format("YYYY-MM-DD HH:mm:ss.SSS"),buildBoundaryFilters=request=>(0,_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP)`
        AND log_source = ${request.sourceType}
        AND log_source_id = ${request.sourceId}
        AND timestamp > {filters.dateRange.from}
        AND timestamp < {filters.dateRange.to}
    `,buildSearchFilters=_ref=>{let{searchGroups,levels}=_ref,query=(0,_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP)`\nAND lower(level) IN (${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(levels.map(level=>`'${level.toLowerCase()}'`).join(","))})`;return searchGroups.forEach(search=>{query+=(0,_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP)`\nAND message ILIKE '%${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(search)}%'`}),query},loadLogs=async request=>{var _request$dateFrom;let query=(0,_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP)`
        SELECT instance_id, timestamp, level, message
        FROM log_entries
        WHERE 1=1
        ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(buildBoundaryFilters(request))}
        ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(buildSearchFilters(request))}
        ORDER BY timestamp ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(request.order)}
        LIMIT ${LOG_VIEWER_LIMIT}`;return(await lib_api__WEBPACK_IMPORTED_MODULE_4__.ZP.queryHogQL(query,{refresh:"force_blocking",filtersOverride:{date_from:null!==(_request$dateFrom=request.dateFrom)&&void 0!==_request$dateFrom?_request$dateFrom:"-7d",date_to:request.dateTo}})).results.map(result=>({instanceId:result[0],timestamp:(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_5__.Bv)(result[1]),level:result[2].toUpperCase(),message:result[3]}))},loadGroupedLogs=async request=>{var _request$dateFrom2;let query=(0,_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP)`
        SELECT instance_id, timestamp, level, message
        FROM log_entries
        WHERE 1=1 
        ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(buildBoundaryFilters(request))}
        AND instance_id in (
            SELECT DISTINCT instance_id
            FROM log_entries
            WHERE 1=1
            ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(buildBoundaryFilters(request))}
            ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(buildSearchFilters(request))}
            ORDER BY timestamp ${_queries_utils__WEBPACK_IMPORTED_MODULE_7__.zP.raw(request.order)}
            LIMIT ${LOG_VIEWER_LIMIT}
        )
        ORDER BY timestamp DESC`;return(await lib_api__WEBPACK_IMPORTED_MODULE_4__.ZP.queryHogQL(query,{refresh:"force_blocking",filtersOverride:{date_from:null!==(_request$dateFrom2=request.dateFrom)&&void 0!==_request$dateFrom2?_request$dateFrom2:"-7d",date_to:request.dateTo}})).results.map(result=>({instanceId:result[0],timestamp:(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_5__.Bv)(result[1]),level:result[2].toUpperCase(),message:result[3]}))},groupLogs=logs=>{let byId={},dedupeCache=new Set;for(let log of logs){var _byId$log$instanceId;let key=toKey(log);if(dedupeCache.has(key))continue;dedupeCache.add(key);let group=null!==(_byId$log$instanceId=byId[log.instanceId])&&void 0!==_byId$log$instanceId?_byId$log$instanceId:{instanceId:log.instanceId,maxTimestamp:log.timestamp,minTimestamp:log.timestamp,logLevel:log.level,entries:[]};byId[log.instanceId]=group,group.entries.push(log),group.maxTimestamp=log.timestamp.isAfter(group.maxTimestamp)?log.timestamp:group.maxTimestamp,group.minTimestamp=log.timestamp.isBefore(group.minTimestamp)?log.timestamp:group.minTimestamp,ALL_LOG_LEVELS.indexOf(log.level)>ALL_LOG_LEVELS.indexOf(group.logLevel)&&(group.logLevel=log.level)}return Object.values(byId).map(group=>({...group,entries:group.entries.sort((a,b)=>a.timestamp.diff(b.timestamp))}))},logsViewerLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(key=>["scenes","pipeline","hogfunctions","logs","logsViewerLogic",key]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(_ref2=>{let{sourceType,sourceId,logicKey}=_ref2;return logicKey||`${sourceType}:${sourceId}`}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setFilters:filters=>({filters}),addLogGroups:logGroups=>({logGroups}),clearHiddenLogs:!0,markLogsEnd:!0,revealHiddenLogs:!0,setRowExpanded:(instanceId,expanded)=>({instanceId,expanded}),scheduleLoadNewerLogs:!0,loadLogs:!0,loadNewerLogs:!0,loadOlderLogs:!0,clearLogs:!0,loadGroupedLogs:!0,loadUngroupedLogs:!0,setIsGrouped:isGrouped=>({isGrouped})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)(_ref3=>{var _props$groupByInstanc;let{props}=_ref3;return{isGrouped:[null===(_props$groupByInstanc=props.groupByInstanceId)||void 0===_props$groupByInstanc||_props$groupByInstanc,{setIsGrouped:(_,_ref4)=>{let{isGrouped}=_ref4;return isGrouped}}],filters:[{search:"",levels:DEFAULT_LOG_LEVELS,date_from:"-7d",date_to:void 0},{setFilters:(state,_ref5)=>{let{filters}=_ref5;return{...state,...filters}}}],isThereMoreToLoad:[!0,{markLogsEnd:()=>!1,loadLogs:()=>!0}],expandedRows:[{},{setRowExpanded:(state,_ref6)=>{let{instanceId,expanded}=_ref6;return{...state,[instanceId]:expanded}}}],unGroupedLogs:[[],{clearLogs:()=>[]}],groupedLogs:[[],{clearLogs:()=>[]}]}}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref7=>{let{values,actions}=_ref7;return{unGroupedLogs:[[],{loadUngroupedLogs:async(_,breakpoint)=>{await breakpoint(10),actions.clearHiddenLogs();let results=await loadLogs(values.logEntryParams);return await breakpoint(10),results},loadMoreUngroupedLogs:async()=>{if(!values.oldestLogTimestamp)return values.unGroupedLogs;let logParams={...values.logEntryParams,dateTo:toAbsoluteClickhouseTimestamp(values.oldestLogTimestamp)},results=await loadLogs(logParams);return results.length||actions.markLogsEnd(),[...results.filter(log=>!values.allLogEntryKeys.has(toKey(log))),...values.unGroupedLogs].sort((a,b)=>b.timestamp.diff(a.timestamp))}}],groupedLogs:[[],{loadGroupedLogs:async(_,breakpoint)=>{await breakpoint(10),actions.clearHiddenLogs();let results=await loadGroupedLogs(values.logEntryParams).catch(e=>{throw _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.UJ.error("Error loading logs "+e.message),e});return await breakpoint(10),groupLogs(results)},loadMoreGroupedLogs:async()=>{if(!values.oldestLogTimestamp)return values.groupedLogs;let logParams={...values.logEntryParams,dateTo:toAbsoluteClickhouseTimestamp(values.oldestLogTimestamp)},results=await loadGroupedLogs(logParams);return results.length||actions.markLogsEnd(),groupLogs([...results,...values.groupedLogs.flatMap(group=>group.entries)])},addLogGroups:_ref8=>{let{logGroups}=_ref8;return groupLogs([...logGroups.flatMap(group=>group.entries),...values.groupedLogs.flatMap(group=>group.entries)])}}],hiddenLogs:[[],{loadNewerLogs:async(_,breakpoint)=>{if(await breakpoint(10),!values.newestLogTimestamp)return values.hiddenLogs;let logParams={...values.logEntryParams,dateFrom:toAbsoluteClickhouseTimestamp(values.newestLogTimestamp),order:"ASC"},newLogs=[];if(values.isGrouped){let results=await loadGroupedLogs(logParams);await breakpoint(10);let newLogs=[],newLogsToImmediateAdd=[],existingLogIds=values.groupedLogs.map(log=>log.instanceId);if(values.logsLoading)return values.hiddenLogs;for(let log of results)existingLogIds.includes(log.instanceId)?newLogsToImmediateAdd.push(log):newLogs.push(log);newLogsToImmediateAdd.length&&actions.loadGroupedLogsSuccess(groupLogs([...newLogsToImmediateAdd,...values.groupedLogs.flatMap(group=>group.entries)]))}else{let results=await loadLogs(logParams);await breakpoint(10),newLogs=results}return actions.scheduleLoadNewerLogs(),[...newLogs=newLogs.filter(log=>!values.allLogEntryKeys.has(toKey(log))),...values.hiddenLogs]},clearHiddenLogs:()=>[]}]}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)(()=>({logsLoading:[s=>[s.groupedLogsLoading,s.unGroupedLogsLoading],(groupedLogsLoading,unGroupedLogsLoading)=>groupedLogsLoading||unGroupedLogsLoading],logEntryParams:[s=>[(_,p)=>p,s.filters],(props,filters)=>{let searchGroups=[filters.search,...props.searchGroups||[]].filter(x=>!!x);return{levels:filters.levels,searchGroups:searchGroups,sourceType:props.sourceType,sourceId:props.sourceId,dateFrom:filters.date_from,dateTo:filters.date_to,order:"DESC"}}],allLogEntries:[s=>[s.groupedLogs,s.unGroupedLogs,s.hiddenLogs],(groupedLogs,unGroupedLogs,hiddenLogs)=>[...groupedLogs.flatMap(log=>log.entries),...unGroupedLogs,...hiddenLogs]],allLogEntryKeys:[s=>[s.allLogEntries],allLogEntries=>new Set(allLogEntries.map(toKey))],newestLogTimestamp:[s=>[s.allLogEntries],allLogEntries=>{let item=allLogEntries.reduce((max,log)=>max?log.timestamp.isAfter(max)?log.timestamp:max:log.timestamp,null);return item?item.tz(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_6__.teamLogic.findMounted()?.values.currentTeam?.timezone):null}],oldestLogTimestamp:[s=>[s.allLogEntries],allLogEntries=>allLogEntries.reduce((min,log)=>min?log.timestamp.isBefore(min)?log.timestamp:min:log.timestamp,null)]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.propsChanged)((_ref9,oldProps)=>{let{props,actions}=_ref9;if(props.groupByInstanceId!==oldProps.groupByInstanceId){var _props$groupByInstanc2;actions.setIsGrouped(null===(_props$groupByInstanc2=props.groupByInstanceId)||void 0===_props$groupByInstanc2||_props$groupByInstanc2)}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref10=>{let{actions,cache,values}=_ref10;return{loadLogs:()=>{clearTimeout(cache.pollingTimeout),values.isGrouped?actions.loadGroupedLogs():actions.loadUngroupedLogs()},loadOlderLogs:()=>{values.isGrouped?actions.loadMoreGroupedLogs():actions.loadMoreUngroupedLogs()},setFilters:async(_ref11,breakpoint)=>{let{filters}=_ref11;await breakpoint(filters.search?500:10),actions.loadLogs()},setIsGrouped:async()=>{actions.clearLogs(),actions.loadLogs()},loadGroupedLogsSuccess:()=>actions.scheduleLoadNewerLogs(),loadUngroupedLogsSuccess:()=>actions.scheduleLoadNewerLogs(),scheduleLoadNewerLogs:()=>{clearTimeout(cache.pollingTimeout),cache.pollingTimeout=setTimeout(()=>actions.loadNewerLogs(),5e3)},revealHiddenLogs:()=>{values.hiddenLogs.length&&(values.isGrouped?actions.loadMoreGroupedLogsSuccess(groupLogs([...values.hiddenLogs,...values.groupedLogs.flatMap(group=>group.entries)])):actions.loadMoreUngroupedLogsSuccess([...values.unGroupedLogs,...values.hiddenLogs].sort((a,b)=>b.timestamp.diff(a.timestamp))),actions.clearHiddenLogs())}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)(_ref12=>{let{actions}=_ref12;actions.loadLogs()}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.beforeUnmount)(_ref13=>{let{cache}=_ref13;clearInterval(cache.pollingTimeout)}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.actionToUrl)(_ref14=>{let{values}=_ref14,syncProperties=properties=>{let newSearch={...kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams,...properties};return Object.keys(properties).forEach(key=>{(null===properties[key]||void 0===properties[key])&&delete newSearch[key]}),[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,newSearch,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.hashParams]};return{setFilters:_ref15=>{let{filters}=_ref15;return syncProperties(filters)},setIsGrouped:()=>syncProperties({grouped:values.isGrouped})}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.urlToAction)(_ref16=>{let{actions,values}=_ref16;return{"*":(_,search)=>{Object.keys(search).forEach(key=>{key in values.filters&&search[key]!==values.filters[key]&&actions.setFilters({[key]:search[key]})}),"boolean"==typeof search.grouped&&search.grouped!==values.isGrouped&&actions.setIsGrouped(search.grouped)}}})])},"../../frontend/src/scenes/pipeline/pipelineNodeLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>pipelineNodeLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/utils.tsx"),scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_layout_navigation_3000_sidepanel_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/layout/navigation-3000/sidepanel/types.ts"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/types.ts"),_pipelineNodeNewLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/pipeline/pipelineNodeNewLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/pipeline/types.ts");let pipelineNodeLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(_ref=>{let{id}=_ref;return id}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(id=>["scenes","pipeline","pipelineNodeLogic",id]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setCurrentTab:function(){let tab=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_types__WEBPACK_IMPORTED_MODULE_5__.il.Configuration;return{tab}},setBreadcrumbTitle:title=>({title}),setProjectTreeRef:projectTreeRef=>({projectTreeRef})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)(()=>({currentTab:[_types__WEBPACK_IMPORTED_MODULE_5__.il.Configuration,{setCurrentTab:(_,_ref2)=>{let{tab}=_ref2;return tab}}],breadcrumbTitle:["",{setBreadcrumbTitle:(_,_ref3)=>{let{title}=_ref3;return title}}],projectTreeRef:[null,{setProjectTreeRef:(_,_ref4)=>{let{projectTreeRef}=_ref4;return projectTreeRef}}]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)(()=>({breadcrumbs:[(s,p)=>[p.id,p.stage,s.breadcrumbTitle],(id,stage,breadcrumbTitle)=>[{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__.x.Pipeline,name:"Data pipeline",path:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.pipeline()},{key:stage||"unknown",name:stage?(0,lib_utils__WEBPACK_IMPORTED_MODULE_2__.fm)(_pipelineNodeNewLogic__WEBPACK_IMPORTED_MODULE_6__.U[stage]||""):"Unknown",path:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.pipeline(stage?_pipelineNodeNewLogic__WEBPACK_IMPORTED_MODULE_6__.U[stage]:void 0)},{key:[scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__.x.PipelineNode,id],name:breadcrumbTitle}]],[_layout_navigation_3000_sidepanel_types__WEBPACK_IMPORTED_MODULE_8__.f]:[s=>[s.node],node=>node.backend===_types__WEBPACK_IMPORTED_MODULE_7__.b.Plugin?{activity_scope:_types__WEBPACK_IMPORTED_MODULE_5__.jc.PLUGIN,activity_item_id:`${node.id}`}:null],nodeBackend:[s=>[s.node],node=>node.backend],node:[(_,p)=>[p.id],id=>"string"==typeof id?0===id.indexOf("hog-")?{backend:_types__WEBPACK_IMPORTED_MODULE_7__.b.HogFunction,id:`${id}`.replace("hog-","")}:{backend:_types__WEBPACK_IMPORTED_MODULE_7__.b.BatchExport,id}:{backend:_types__WEBPACK_IMPORTED_MODULE_7__.b.Plugin,id}],tabs:[s=>[s.nodeBackend],nodeBackend=>{let tabs=Object.values(_types__WEBPACK_IMPORTED_MODULE_5__.il);return nodeBackend===_types__WEBPACK_IMPORTED_MODULE_7__.b.BatchExport?tabs.filter(t=>t!==_types__WEBPACK_IMPORTED_MODULE_5__.il.History):tabs}],id:[(_,p)=>[p.id],id=>id],stage:[(_,p)=>[p.stage],stage=>stage]})),(0,kea_router__WEBPACK_IMPORTED_MODULE_1__.actionToUrl)(_ref5=>{let{values,props}=_ref5;return{setCurrentTab:()=>[scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.pipelineNode(props.stage,props.id,values.currentTab)]}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_1__.urlToAction)(_ref6=>{let{props,actions,values}=_ref6;return{[scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.pipelineNode(props.stage,props.id,":nodeTab")]:_ref7=>{let{nodeTab}=_ref7;if(nodeTab!==values.currentTab&&Object.values(_types__WEBPACK_IMPORTED_MODULE_5__.il).includes(nodeTab)&&actions.setCurrentTab(nodeTab),"string"==typeof props.id&&(props.id.startsWith("managed-")||props.id.startsWith("self-managed-"))){kea_router__WEBPACK_IMPORTED_MODULE_1__.router.actions.replace(scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.dataWarehouseSource(props.id.toString()));return}let match=kea_router__WEBPACK_IMPORTED_MODULE_1__.router.values.location.pathname.match(/\/pipeline\/([^/]+)\/hog-([^/]+)\/?/);if(match){let{projectTreeRef}=values,type="hog_function/",ref=match[2];projectTreeRef&&projectTreeRef.type===type&&projectTreeRef.ref===ref||actions.setProjectTreeRef({type,ref})}}}})])},"../../frontend/src/scenes/pipeline/pipelineNodeNewLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>pipelineNodeNewLogic,U:()=>NODE_STAGE_TO_PIPELINE_TAB});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/utils.tsx"),scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/urls.ts"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/types.ts"),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/pipeline/utils.tsx");let NODE_STAGE_TO_PIPELINE_TAB={[_types__WEBPACK_IMPORTED_MODULE_6__.We.Transformation]:_types__WEBPACK_IMPORTED_MODULE_6__.J9.Transformations,[_types__WEBPACK_IMPORTED_MODULE_6__.We.Destination]:_types__WEBPACK_IMPORTED_MODULE_6__.J9.Destinations,[_types__WEBPACK_IMPORTED_MODULE_6__.We.SiteApp]:_types__WEBPACK_IMPORTED_MODULE_6__.J9.SiteApps,[_types__WEBPACK_IMPORTED_MODULE_6__.We.Source]:_types__WEBPACK_IMPORTED_MODULE_6__.J9.Sources},pipelineNodeNewLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[scenes_userLogic__WEBPACK_IMPORTED_MODULE_5__.userLogic,["user"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(id=>["scenes","pipeline","pipelineNodeNewLogic",id]),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)({plugins:[{},{loadPlugins:async()=>(0,_utils__WEBPACK_IMPORTED_MODULE_7__.c$)("api/organizations/@current/pipeline_destinations")}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({loading:[s=>[s.pluginsLoading],pluginsLoading=>pluginsLoading],breadcrumbs:[(_,p)=>[p.stage,p.pluginId,p.kind,p.batchExportDestination],(stage,pluginId,kind,batchDestination)=>{let parsedStage=stage?stage.replace("-"," "):null;return[{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__.x.Pipeline,name:"Data pipeline",path:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.pipeline()},{key:stage||"unknown",name:stage?(0,lib_utils__WEBPACK_IMPORTED_MODULE_2__.fm)(NODE_STAGE_TO_PIPELINE_TAB[stage]||""):"Unknown",path:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.pipeline(stage?NODE_STAGE_TO_PIPELINE_TAB[stage]:void 0)},{key:pluginId||batchDestination||"Unknown",name:kind?`New ${(0,lib_utils__WEBPACK_IMPORTED_MODULE_2__.fm)(kind)} source`:pluginId?"New":batchDestination?`New ${batchDestination} destination`:`New ${parsedStage}`.trim()}]}],projectTreeRef:[s=>[s.loading],()=>({type:"hog_function/",ref:null})]})])}}]);
//# sourceMappingURL=44664.ee5ed550.iframe.bundle.js.map