"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[14415],{"../../frontend/src/scenes/surveys/SurveyTemplates.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SurveyTemplates:()=>SurveyTemplates,scene:()=>scene});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/urls.ts"),scenes_surveys_components_SurveyFeedbackButton__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/surveys/components/SurveyFeedbackButton.tsx"),_constants__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/surveys/constants.tsx"),_SurveyAppearancePreview__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/surveys/SurveyAppearancePreview.tsx"),_surveyLogic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/surveys/surveyLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:SurveyTemplates,settingSectionId:"environment-surveys"};function TemplateCard(_ref){let{template,idx,setSurveyTemplateValues,reportSurveyTemplateClicked,surveyAppearance}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("button",{className:"flex flex-col bg-bg-light border border-border rounded-lg overflow-hidden hover:border-primary-3000-hover focus:border-primary-3000-hover focus:outline-none transition-colors text-left h-full group p-4 overflow-hidden","data-attr":"survey-template",onClick:()=>{var _template$questions,_template$conditions;setSurveyTemplateValues({name:template.templateType,questions:null!==(_template$questions=template.questions)&&void 0!==_template$questions?_template$questions:[],appearance:{..._constants__WEBPACK_IMPORTED_MODULE_7__.R3,...template.appearance,...surveyAppearance},conditions:null!==(_template$conditions=template.conditions)&&void 0!==_template$conditions?_template$conditions:null}),reportSurveyTemplateClicked(template.templateType)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-start justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("h3",{className:"text-sm font-semibold text-default line-clamp-2 flex-1",children:template.templateType}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.oe,{type:template.tagType||"default",size:"small",className:"ml-2 flex-shrink-0",children:template.category||"General"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-xs text-secondary leading-relaxed line-clamp-3",children:template.description})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"transform scale-75 pointer-events-none",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_SurveyAppearancePreview__WEBPACK_IMPORTED_MODULE_8__.$,{survey:{id:`templateMock-${idx}`,questions:template.questions,appearance:{..._constants__WEBPACK_IMPORTED_MODULE_7__.R3,whiteLabel:!0,...template.appearance,...surveyAppearance,disabledButtonOpacity:"1",maxWidth:"320px"}},previewPageIndex:0},idx)})})]})}function SurveyTemplates(){let{setSurveyTemplateValues}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)((0,_surveyLogic__WEBPACK_IMPORTED_MODULE_9__.TL)({id:"new"})),{reportSurveyTemplateClicked}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_3__.vx),{currentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__.teamLogic),surveyAppearance={...currentTeam?.survey_config?.appearance};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_2__.m,{buttons:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(scenes_surveys_components_SurveyFeedbackButton__WEBPACK_IMPORTED_MODULE_6__.k,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{type:"primary",to:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.j.survey("new"),"data-attr":"new-blank-survey",children:"Create blank survey"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("p",{className:"text-center text-base",children:["Choose a template based on your goal, or"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.rU,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.j.survey("new"),className:"text-primary-3000",children:"start from scratch with a blank survey"}),"."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:_constants__WEBPACK_IMPORTED_MODULE_7__.nj.map((template,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(TemplateCard,{template:template,idx:idx,setSurveyTemplateValues:setSurveyTemplateValues,reportSurveyTemplateClicked:reportSurveyTemplateClicked,surveyAppearance:surveyAppearance},idx))})]})]})}}}]);