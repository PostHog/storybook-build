(window.webpackJsonp=window.webpackJsonp||[]).push([[233,234],{"./frontend/src/scenes/cohorts/Cohort.tsx":function(G,a,e){"use strict";e.r(a),e.d(a,"scene",function(){return Ce}),e.d(a,"Cohort",function(){return le});var l=e("./node_modules/react/index.js"),t=e.n(l),S=e("./node_modules/core-js/modules/es.function.name.js"),o=e("./node_modules/kea/lib/index.esm.js"),D=e("./frontend/src/scenes/urls.ts"),re=e("./frontend/src/models/cohortsModel.ts"),ee=Object(o.kea)([Object(o.props)({}),Object(o.key)(function(f){return f.id||"new"}),Object(o.path)(["scenes","cohorts","cohortLogic"]),Object(o.selectors)({breadcrumbs:[function(){return[re.a.selectors.cohortsById,function(f,x){return x.id}]},function(f,x){var b;return[{name:"Cohorts",path:D.a.cohorts()},{name:x!=="new"&&((b=f[x])===null||b===void 0?void 0:b.name)||"Untitled"}]}]})]),W=e("./node_modules/antd/lib/dropdown/style/index.css"),L=e("./frontend/src/scenes/cohorts/cohortEditLogic.ts"),ne=e("./frontend/src/scenes/userLogic.ts"),H=e("./frontend/src/lib/components/PageHeader.tsx"),E=e("./frontend/src/lib/components/LemonButton/index.ts"),Q=e("./node_modules/kea-router/lib/index.js"),m=e("./node_modules/antd/es/divider/index.js"),y=e("./frontend/src/lib/forms/Field.tsx"),h=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),K=e("./frontend/src/lib/components/Tooltip.tsx"),C=e("./frontend/src/lib/components/LemonSelect.tsx"),X=e("./frontend/src/scenes/cohorts/CohortFilters/constants.tsx"),Y=e("./frontend/src/lib/constants.tsx"),s=e("./frontend/src/types.ts"),r=e("./frontend/src/lib/components/LemonTextArea/LemonTextArea.tsx"),n=e("./node_modules/antd/lib/upload/Dragger.js"),i=e.n(n),d=e("./frontend/src/lib/components/icons.tsx"),R=e("./frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx"),_=e("./node_modules/core-js/modules/es.array.map.js"),Z=e("./node_modules/core-js/modules/es.array.iterator.js"),pe=e("./node_modules/core-js/modules/es.object.to-string.js"),B=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),te=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ae=e.n(te),c=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.scss"),P=e.n(c),F={};F.insert="head",F.singleton=!1;var M=ae()(P.a,F),z=P.a.locals||{},v=e("./frontend/src/scenes/cohorts/cohortUtils.tsx"),p=e("./node_modules/kea-forms/lib/index.js"),U=e("./node_modules/kea-forms/lib/components.js"),w=e("./node_modules/clsx/dist/clsx.m.js"),$=e("./node_modules/antd/es/row/index.js"),j=e("./frontend/src/lib/components/Lettermark/Lettermark.tsx"),T=e("./frontend/src/lib/utils.tsx"),O=e("./frontend/src/lib/components/LemonDivider/index.ts"),ce=e("./frontend/src/lib/components/AlertMessage/index.ts"),k=e("./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaRowBuilder.tsx");function ie(f){var x=Object(L.a)(f),b=Object(o.useValues)(x),se=b.cohort,q=Object(o.useActions)(x),fe=q.setInnerGroupType,he=q.duplicateFilter,ue=q.removeFilter,u=q.addFilter;return t.a.createElement(t.a.Fragment,null,se.filters.properties.values.map(function(A,N){return Object(v.i)(A)?t.a.createElement(p.Group,{key:N,name:["filters","properties","values",N]},N!==0&&t.a.createElement("div",{className:"CohortCriteriaGroups__matching-group__logical-divider"},se.filters.properties.type),t.a.createElement(U.Field,{name:"id",template:function(g){var I=g.error,V=g.kids;return t.a.createElement("div",{className:Object(w.a)("CohortCriteriaGroups__matching-group",I&&"CohortCriteriaGroups__matching-group--error")},t.a.createElement($.a,{align:"middle",wrap:!1,className:"px-4"},t.a.createElement(j.a,{name:T.d[N],color:j.b.Gray}),t.a.createElement(R.a,{prefix:"Match persons against",suffix:"criteria",onChange:function(me){return fe(me,N)},value:A.type}),t.a.createElement("div",{style:{flex:1,minWidth:"0.5rem"}}),t.a.createElement(E.a,{icon:t.a.createElement(d.IconCopy,null),status:"primary-alt",onClick:function(){return he(N)}}),se.filters.properties.values.length>1&&t.a.createElement(E.a,{icon:t.a.createElement(d.IconDelete,null),status:"primary-alt",onClick:function(){return ue(N)}})),t.a.createElement(O.a,{large:!0}),I&&t.a.createElement($.a,{className:"CohortCriteriaGroups__matching-group__error-row"},t.a.createElement(ce.a,{type:"error",style:{width:"100%"}},t.a.createElement(t.a.Fragment,null,I))),V)}},t.a.createElement(t.a.Fragment,null,A.values.map(function(oe,g){return Object(v.i)(oe)?null:t.a.createElement(p.Group,{key:g,name:["values",g]},t.a.createElement(k.a,{id:f.id,groupIndex:N,index:g,logicalOperator:A.type,criteria:oe,type:Object(v.g)(oe),hideDeleteIcon:A.values.length<=1}),g===A.values.length-1&&t.a.createElement("div",{className:"m-3"},t.a.createElement(E.a,{"data-attr":"cohort-add-filter-group-criteria",type:"secondary",onClick:function(){return u(N)},icon:t.a.createElement(d.IconPlusMini,{color:"var(--primary)"})},"Add criteria")))})))):null}),t.a.createElement(E.a,{"data-attr":"cohort-add-filter-group",className:"mb-4 mt-4",type:"secondary",onClick:function(){return u()},icon:t.a.createElement(d.IconPlusMini,{color:"var(--primary)"}),fullWidth:!0},"Add criteria group"))}try{ie.displayName="CohortCriteriaGroups",ie.__docgenInfo={description:"",displayName:"CohortCriteriaGroups",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.tsx#CohortCriteriaGroups"]={docgenInfo:ie.__docgenInfo,name:"CohortCriteriaGroups",path:"frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.tsx#CohortCriteriaGroups"})}catch(f){}var ge=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),Ee=e("./frontend/src/scenes/persons/Persons.tsx"),ye=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx");function de(f){var x=f.id,b={id:x},se=Object(L.a)(b),q=Object(o.useActions)(se),fe=q.deleteCohort,he=q.setOuterGroupsType,ue=Object(o.useValues)(se),u=ue.cohort,A=ue.cohortLoading,N=Object(o.useValues)(ne.a),oe=N.hasAvailableFeature,g=u.id==="new"||u.id===void 0;return t.a.createElement("div",{className:"cohort"},t.a.createElement(p.Form,{logic:L.a,props:b,formKey:"cohort",enableFormOnSubmit:!0},t.a.createElement(H.a,{title:g?"New cohort":u.name||"Untitled",buttons:t.a.createElement("div",{className:"flex items-center gap-2"},g?t.a.createElement(E.a,{"data-attr":"cancel-cohort",type:"secondary",onClick:function(){Q.router.actions.push(D.a.cohorts())},disabled:A},"Cancel"):t.a.createElement(E.a,{"data-attr":"delete-cohort",status:"danger",type:"secondary",onClick:function(){fe()},disabled:A},"Delete"),t.a.createElement(E.a,{type:"primary","data-attr":"save-cohort",htmlType:"submit",loading:A||u.is_calculating,disabled:A||u.is_calculating},"Save"))}),t.a.createElement(m.a,null),t.a.createElement("div",{className:"space-y-2",style:{maxWidth:640}},t.a.createElement("div",{className:"flex gap-4 flex-wrap","data-tooltip":"cohorts-type"},t.a.createElement("div",{className:"flex-1"},t.a.createElement(y.a,{name:"name",label:"Name"},t.a.createElement(h.a,{"data-attr":"cohort-name"}))),t.a.createElement("div",{className:"flex-1"},t.a.createElement(y.a,{name:"is_static",label:"Type"},function(I){var V=I.value,J=I.onChange;return t.a.createElement(K.a,{title:g?null:"Create a new cohort to use a different type of cohort."},t.a.createElement("div",null,t.a.createElement(C.a,{disabled:!g,options:X.b,value:V?Y.b.Static:Y.b.Dynamic,onChange:function(ve){J(ve===Y.b.Static)},type:"secondary",status:"stealth",fullWidth:!0,"data-attr":"cohort-type"})))}))),oe(s.d.DASHBOARD_COLLABORATION)&&t.a.createElement("div",{className:"ph-ignore-input"},t.a.createElement(y.a,{name:"description",label:"Description","data-attr":"cohort-description"},t.a.createElement(r.a,null)))),u.is_static?t.a.createElement("div",{className:"mt-4 ph-ignore-input"},t.a.createElement(y.a,{name:"csv",label:g?"Upload users":"Add users","data-attr":"cohort-csv"},function(I){var V,J,me=I.onChange;return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",null,"Upload a CSV file to add users to your cohort. The CSV file only requires a single column with the user\u2019s distinct ID."),t.a.createElement(i.a,{name:"file",multiple:!1,fileList:u.csv?[u.csv]:[],accept:".csv",showUploadList:!1,beforeUpload:function(Pe){return me(Pe),!1},className:"cohort-csv-dragger"},u.csv?t.a.createElement(t.a.Fragment,null,t.a.createElement(d.IconUploadFile,{style:{fontSize:"3rem",color:"var(--muted-alt)"}}),t.a.createElement("div",{className:"ant-upload-text"},(V=(J=u.csv)===null||J===void 0?void 0:J.name)!==null&&V!==void 0?V:"File chosen")):t.a.createElement(t.a.Fragment,null,t.a.createElement(d.IconUploadFile,{style:{fontSize:"3rem",color:"var(--muted-alt)"}}),t.a.createElement("div",{className:"ant-upload-text"},"Drag a file here or click to browse for a file"))))})):t.a.createElement(t.a.Fragment,null,t.a.createElement(m.a,null),t.a.createElement("div",{className:"flex items-center justify-between my-4"},t.a.createElement("div",{className:"flex flex-col"},t.a.createElement(ye.a,{htmlFor:"groups"},"Matching criteria"),t.a.createElement("span",null,"Actors who match the following criteria will be part of the cohort. Continuously updated automatically.")),t.a.createElement(R.a,{value:u.filters.properties.type,onChange:function(V){he(V)},topLevelFilter:!0,suffix:"criteria"})),t.a.createElement(ie,{id:b.id})),!g&&t.a.createElement(t.a.Fragment,null,t.a.createElement(m.a,null),t.a.createElement("div",null,t.a.createElement("h3",{className:"l3"},"Persons in this cohort"),u.is_calculating?t.a.createElement("div",{className:"cohort-recalculating flex items-center"},t.a.createElement(ge.a,{size:"sm",style:{marginRight:4}}),"We're recalculating who belongs to this cohort. This could take up to a couple of minutes."):t.a.createElement(Ee.Persons,{cohort:u.id})))))}try{de.displayName="CohortEdit",de.__docgenInfo={description:"",displayName:"CohortEdit",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/cohorts/CohortEdit.tsx#CohortEdit"]={docgenInfo:de.__docgenInfo,name:"CohortEdit",path:"frontend/src/scenes/cohorts/CohortEdit.tsx#CohortEdit"})}catch(f){}var Ce={component:le,logic:ee,paramsToProps:function(x){var b=x.params.id;return{id:b&&b!=="new"?parseInt(b):"new"}}};function le(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=f.id;return t.a.createElement(de,{id:x})}try{le.displayName="Cohort",le.__docgenInfo={description:"",displayName:"Cohort",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/cohorts/Cohort.tsx#Cohort"]={docgenInfo:le.__docgenInfo,name:"Cohort",path:"frontend/src/scenes/cohorts/Cohort.tsx#Cohort"})}catch(f){}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(G,a,e){"use strict";e.d(a,"a",function(){return Y});var l=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),t=e.n(l),S=e("./node_modules/@babel/runtime/regenerator/index.js"),o=e.n(S),D=e("./node_modules/core-js/modules/es.array.iterator.js"),re=e.n(D),ee=e("./node_modules/core-js/modules/es.object.to-string.js"),W=e.n(ee),L=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ne=e.n(L),H=e("./node_modules/core-js/modules/es.array.concat.js"),E=e.n(H),Q=e("./node_modules/kea/lib/index.esm.js"),m=e("./frontend/src/lib/api.ts"),y=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),h=e("./frontend/src/lib/utils.tsx"),K=e("./frontend/src/scenes/teamLogic.tsx"),C=e("./frontend/src/scenes/urls.ts"),X=e("./frontend/src/models/groupsModel.ts"),Y=Object(Q.kea)({path:["groups","groupsListLogic"],connect:{values:[K.a,["currentTeamId"],X.a,["groupTypes","aggregationLabel"],y.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(n){return{url:n}},setTab:function(n){return{tab:n}}}},loaders:function(r){var n=r.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var i=t()(o.a.mark(function R(_){var Z;return o.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(Z=_.url,!n.groupsEnabled){B.next=6;break}return Z=Z||"api/projects/".concat(n.currentTeamId,"/groups/?group_type_index=").concat(n.currentTab),B.next=5,m.b.get(Z);case 5:return B.abrupt("return",B.sent);case 6:case"end":return B.stop()}},R)}));function d(R){return i.apply(this,arguments)}return d}()}]}},reducers:{currentTab:["-1",{setTab:function(r,n){var i=n.tab;return i}}]},selectors:{currentTabName:[function(s){return[s.currentTab,s.groupTypes,s.aggregationLabel]},function(s,r,n){return s==="-1"?"Persons":r!=null&&r.length?Object(h.j)(n(parseInt(s)).singular):""}],groupName:[function(s){return[s.currentTab,s.aggregationLabel]},function(s,r){return s==="-1"?{singular:"person",plural:"persons"}:r(parseInt(s))}],breadcrumbs:[function(s){return[s.currentTabName,s.currentTab]},function(s,r){return[{name:s,path:C.a.groups(r)}]}]},actionToUrl:function(){return{setTab:function(n){var i=n.tab;return i!=="-1"?C.a.groups(i):C.a.persons()}}},urlToAction:function(r){var n=r.actions,i=r.values;return{"/groups/:id":function(R){var _=R.id;_&&(n.setTab(_),n.loadGroups())},"/persons":function(){i.currentTab!=="-1"&&n.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(G,a,e){"use strict";e.d(a,"a",function(){return m});var l=e("./node_modules/kea/lib/index.esm.js"),t=e("./frontend/src/lib/components/PageHeader.tsx"),S=e("./node_modules/react/index.js"),o=e.n(S),D=e("./node_modules/core-js/modules/es.array.includes.js"),re=e("./node_modules/core-js/modules/es.string.includes.js"),ee=e("./node_modules/core-js/modules/es.array.map.js"),W=e("./node_modules/antd/es/tabs/index.js"),L=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),ne=e("./frontend/src/lib/utils.tsx"),H=e("./frontend/src/models/groupsModel.ts"),E=e("./frontend/src/scenes/groups/groupsListLogic.ts");function Q(){var y=Object(l.useActions)(E.a),h=y.setTab,K=Object(l.useValues)(E.a),C=K.currentTab,X=Object(l.useValues)(H.a),Y=X.groupTypes,s=X.aggregationLabel,r=Object(l.useValues)(L.b),n=r.groupsAccessStatus,i=[L.a.HasAccess,L.a.HasGroupTypes,L.a.NoAccess].includes(n);return o.a.createElement(W.a,{activeKey:C,onChange:function(R){return h(R)}},o.a.createElement(W.a.TabPane,{tab:"Persons",key:"-1"}),i?o.a.createElement(W.a.TabPane,{tab:"Introducing Group Analytics",key:"0"}):Y.map(function(d){return o.a.createElement(W.a.TabPane,{tab:Object(ne.j)(s(d.group_type_index).plural),key:d.group_type_index})}))}function m(y){var h=y.hideGroupTabs,K=Object(l.useValues)(H.a),C=K.showGroupsOptions;return o.a.createElement(o.a.Fragment,null,o.a.createElement(t.a,{title:"Persons".concat(C?" & Groups":""),caption:"A catalog of your product's end users".concat(C?" and groups":"",".")}),!h&&C&&o.a.createElement(Q,null))}try{m.displayName="PersonPageHeader",m.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:m.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(y){}},"./frontend/src/scenes/persons/Persons.scss":function(G,a,e){"use strict";var l=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),t=e.n(l),S=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),o=e.n(S),D={};D.insert="head",D.singleton=!1;var re=t()(o.a,D),ee=o.a.locals||{}},"./frontend/src/scenes/persons/Persons.tsx":function(G,a,e){"use strict";e.r(a),e.d(a,"scene",function(){return B}),e.d(a,"Persons",function(){return te}),e.d(a,"PersonsScene",function(){return ae});var l=e("./node_modules/react/index.js"),t=e.n(l),S=e("./node_modules/kea/lib/index.esm.js"),o=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),D=e.n(o),re=e("./node_modules/core-js/modules/es.array.concat.js"),ee=e("./node_modules/core-js/modules/es.object.keys.js"),W=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),L=e("./frontend/src/lib/components/PropertiesTable.tsx"),ne=e("./frontend/src/scenes/persons/Persons.scss"),H=e("./frontend/src/lib/components/CopyToClipboard.tsx"),E=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Q=e("./frontend/src/lib/components/LemonTable/index.ts");function m(c){var P=c.people,F=c.loading,M=F===void 0?!1:F,z=c.hasPrevious,v=c.hasNext,p=c.loadPrevious,U=c.loadNext,w=c.compact,$=[{title:"Person",key:"person",render:function(T,O){return t.a.createElement(E.a,{withIcon:!0,person:O})}},{title:"ID",key:"id",render:function(T,O){return t.a.createElement("div",{style:{overflow:"hidden"}},O.distinct_ids.length&&t.a.createElement(H.a,{explicitValue:O.distinct_ids[0],iconStyle:{color:"var(--primary)"},description:"person distinct ID"},O.distinct_ids[0]))}}].concat(D()(w?[]:[{title:"First seen",dataIndex:"created_at",render:function(T){return T?t.a.createElement(W.b,{time:T}):t.a.createElement(t.a.Fragment,null)}}]));return t.a.createElement(Q.a,{"data-tooltip":"persons-table",columns:$,loading:M,rowKey:"id",pagination:{controlled:!0,pageSize:100,onForward:v?function(){U==null||U(),window.scrollTo(0,0)}:void 0,onBackward:z?function(){p==null||p(),window.scrollTo(0,0)}:void 0},expandable:{expandedRowRender:function(T){var O=T.properties;return Object.keys(O).length?t.a.createElement(L.a,{properties:O}):"This person has no properties."}},dataSource:P,emptyState:"No persons",nouns:["person","persons"]})}try{m.displayName="PersonsTable",m.__docgenInfo={description:"",displayName:"PersonsTable",props:{people:{defaultValue:null,description:"",name:"people",required:!0,type:{name:"PersonType[]"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},hasPrevious:{defaultValue:null,description:"",name:"hasPrevious",required:!1,type:{name:"boolean"}},hasNext:{defaultValue:null,description:"",name:"hasNext",required:!1,type:{name:"boolean"}},loadPrevious:{defaultValue:null,description:"",name:"loadPrevious",required:!1,type:{name:"(() => void)"}},loadNext:{defaultValue:null,description:"",name:"loadNext",required:!1,type:{name:"(() => void)"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"]={docgenInfo:m.__docgenInfo,name:"PersonsTable",path:"frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"})}catch(c){}var y=e("./node_modules/antd/es/popconfirm/index.js"),h=e("./frontend/src/scenes/persons/personsLogic.ts"),K=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),C=e.n(K),X=e("./node_modules/core-js/modules/es.regexp.exec.js"),Y=e("./node_modules/core-js/modules/es.string.search.js"),s=e("./node_modules/antd/es/input/index.js"),r=e("./frontend/src/lib/components/icons.tsx"),n=e("./frontend/src/lib/components/Tooltip.tsx"),i=function(P){var F=P.autoFocus,M=F===void 0?!0:F,z=Object(S.useActions)(h.a),v=z.loadPersons,p=z.setListFilters,U=Object(S.useValues)(h.a),w=U.listFilters,$=Object(l.useState)(""),j=C()($,2),T=j[0],O=j[1];return Object(l.useEffect)(function(){O(w.search||"")},[]),t.a.createElement("div",{className:"flex items-center gap-2",style:{width:"min(100%, 24rem)"}},t.a.createElement(s.a.Search,{"data-attr":"persons-search",placeholder:"Search for persons",autoFocus:M,value:T,onChange:function(k){O(k.target.value)},enterButton:!0,onPressEnter:function(k){k.preventDefault(),p({search:T||void 0}),v()},allowClear:!0,onSearch:function(k){p({search:k||void 0}),v()},style:{width:"100%"}}),t.a.createElement(n.a,{title:t.a.createElement(t.a.Fragment,null,'Search by email or Distinct ID. Email will match partially, for example: "@gmail.com". Distinct ID needs to match exactly.')},t.a.createElement(r.IconInfo,{className:"text-2xl text-muted-alt"})))};try{i.displayName="PersonsSearch",i.__docgenInfo={description:"",displayName:"PersonsSearch",props:{autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"]={docgenInfo:i.__docgenInfo,name:"PersonsSearch",path:"frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"})}catch(c){}var d=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),R=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),_=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Z=e("./frontend/src/lib/components/LemonButton/index.ts"),pe=e("./frontend/src/lib/components/ExportButton/exporter.tsx"),B={component:ae,logic:h.a,paramsToProps:function(){return{syncWithUrl:!0}}};function te(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=c.cohort;return t.a.createElement(S.BindLogic,{logic:h.a,props:{cohort:P,syncWithUrl:!P}},t.a.createElement(ae,null))}function ae(){var c=Object(S.useActions)(h.a),P=c.loadPersons,F=c.setListFilters,M=Object(S.useValues)(h.a),z=M.cohortId,v=M.persons,p=M.listFilters,U=M.personsLoading,w=M.exporterProps,$=M.apiDocsURL;return t.a.createElement("div",{className:"persons-list"},!z&&t.a.createElement(d.a,null),t.a.createElement("div",{className:"space-y-2"},t.a.createElement("div",{className:"flex justify-between",style:{gap:"0.75rem"}},t.a.createElement(i,{autoFocus:!z}),t.a.createElement(y.a,{placement:"topRight",title:t.a.createElement(t.a.Fragment,null,"Exporting by csv is limited to 10,000 users.",t.a.createElement("br",null),"To return more, please use ",t.a.createElement("a",{href:$},"the API"),". Do you want to export by CSV?"),onConfirm:function(){return Object(pe.a)(w[0])}},t.a.createElement(Z.a,{type:"secondary",icon:t.a.createElement(r.IconExport,{style:{color:"var(--primary)"}})},p.properties&&p.properties.length>0?t.a.createElement("div",{style:{display:"block"}},"Export (",t.a.createElement("strong",null,p.properties.length)," filter)"):"Export"))),t.a.createElement(R.a,{pageKey:"persons-list-page",propertyFilters:p.properties,onChange:function(T){F({properties:T}),P()},endpoint:"person",taxonomicGroupTypes:[_.a.PersonProperties,_.a.Cohorts],showConditionBadge:!0}),t.a.createElement(m,{people:v.results,loading:U,hasPrevious:!!v.previous,hasNext:!!v.next,loadPrevious:function(){return P(v.previous)},loadNext:function(){return P(v.next)}})))}try{te.displayName="Persons",te.__docgenInfo={description:"",displayName:"Persons",props:{cohort:{defaultValue:null,description:"",name:"cohort",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Persons.tsx#Persons"]={docgenInfo:te.__docgenInfo,name:"Persons",path:"frontend/src/scenes/persons/Persons.tsx#Persons"})}catch(c){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.scss":function(G,a,e){var l=e("./node_modules/css-loader/dist/runtime/api.js");a=l(!1),a.push([G.i,".CohortCriteriaGroups__matching-group{padding-top:1rem;border:1px solid var(--border);border-radius:4px;width:100%;margin:.5rem 0}.CohortCriteriaGroups__matching-group.CohortCriteriaGroups__matching-group--error{border:1px solid var(--danger)}.CohortCriteriaGroups__matching-group .CohortCriteriaGroups__matching-group__error-row{padding:0 1rem 1rem}.CohortCriteriaGroups__matching-group__logical-divider{color:var(--primary-alt);font-weight:600;font-size:12px;text-transform:uppercase;padding:0 1.5rem}",""]),G.exports=a},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(G,a,e){var l=e("./node_modules/css-loader/dist/runtime/api.js");a=l(!1),a.push([G.i,".extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:var(--primary);cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),G.exports=a}}]);
