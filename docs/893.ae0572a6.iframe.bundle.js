(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[893],{"./frontend/src/scenes/notebooks/NotebookScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NotebookScene:()=>NotebookScene_NotebookScene,scene:()=>scene});var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),notebookLogic=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/notebookLogic.ts"),Notebook=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/Notebook.tsx"),NotFound=__webpack_require__("./frontend/src/lib/components/NotFound/index.tsx"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),notebooksModel=__webpack_require__("./frontend/src/models/notebooksModel.ts");const notebookSceneLogic=(0,index_esm.kea)([(0,index_esm.path)((key=>["scenes","notebooks","notebookSceneLogic",key])),(0,index_esm.props)({}),(0,index_esm.key)((_ref=>{let{shortId}=_ref;return shortId})),(0,index_esm.connect)((props=>({values:[(0,notebookLogic.T)(props),["notebook","notebookLoading"],notebooksModel.L,["notebooksLoading"]],actions:[(0,notebookLogic.T)(props),["loadNotebook"],notebooksModel.L,["createNotebook"]]}))),(0,index_esm.selectors)((()=>({notebookId:[()=>[(_,props)=>props],props=>props.shortId],loading:[s=>[s.notebookLoading,s.notebooksLoading],(notebookLoading,notebooksLoading)=>notebookLoading||notebooksLoading],breadcrumbs:[s=>[s.notebook,s.loading],(notebook,loading)=>[{name:"Notebooks",path:urls.j.notebooks()},{name:notebook?notebook?.title||"Unnamed":loading?"Loading...":"Notebook not found"}]]}))),(0,index_esm.afterMount)((_ref2=>{let{actions,props}=_ref2;"new"===props.shortId?actions.createNotebook():actions.loadNotebook()}))]);var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),notebookPopoverLogic=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/notebookPopoverLogic.ts"),NotebookMeta=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/NotebookMeta.tsx"),UserActivityIndicator=__webpack_require__("./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),LemonMenu=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMenu/index.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),notebookTemplates=__webpack_require__("./frontend/src/scenes/notebooks/NotebookTemplates/notebookTemplates.ts"),featureFlagLogic=(__webpack_require__("./frontend/src/scenes/notebooks/NotebookScene.scss"),__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts")),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),NotebookLoadingState=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/NotebookLoadingState.tsx"),NotebookShare=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/NotebookShare.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const scene={component:NotebookScene_NotebookScene,logic:notebookSceneLogic,paramsToProps:_ref=>{let{params:{shortId}}=_ref;return{shortId:shortId||"missing"}}};function NotebookScene_NotebookScene(){const{notebookId,loading}=(0,index_esm.useValues)(notebookSceneLogic),{notebook,conflictWarningVisible,showHistory}=(0,index_esm.useValues)((0,notebookLogic.T)({shortId:notebookId})),{exportJSON,setShowHistory}=(0,index_esm.useActions)((0,notebookLogic.T)({shortId:notebookId})),{selectNotebook,setVisibility}=(0,index_esm.useActions)(notebookPopoverLogic.L),{selectedNotebook,visibility}=(0,index_esm.useValues)(notebookPopoverLogic.L),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.h),buttonSize=featureFlags[constants.y8.POSTHOG_3000]?"small":"medium";if(!notebook&&!loading&&!conflictWarningVisible)return(0,jsx_runtime.jsx)(NotFound.T,{object:"notebook"});if("visible"===visibility&&selectedNotebook===notebookId)return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col justify-center items-center h-full text-muted-alt mx-10",children:[(0,jsx_runtime.jsxs)("h2",{className:"text-muted-alt",children:["This Notebook is open in the sidebar ",(0,jsx_runtime.jsx)(icons.Ec8,{})]}),(0,jsx_runtime.jsxs)("p",{children:["You can navigate around PostHog and ",(0,jsx_runtime.jsx)("b",{children:"drag and drop"})," thing into it. Or you can close the sidebar and it will be full screen here instead."]}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:()=>setVisibility("hidden"),children:"Open it here instead"})]});const isTemplate=notebook?.is_template;return"new"===notebookId?(0,jsx_runtime.jsx)(NotebookLoadingState.C,{}):(0,jsx_runtime.jsxs)("div",{className:"NotebookScene",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between border-b py-2 mb-2 sticky top-0 bg-bg-3000 z-10",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[isTemplate&&(0,jsx_runtime.jsx)(src.LemonTag,{type:"highlight",children:"TEMPLATE"}),(0,jsx_runtime.jsx)(UserActivityIndicator.F,{at:notebook?.last_modified_at,by:notebook?.last_modified_by})]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,jsx_runtime.jsx)(NotebookMeta.B,{shortId:notebookId}),(0,jsx_runtime.jsx)(LemonMenu.d,{items:[{items:[{label:"Export JSON",icon:(0,jsx_runtime.jsx)(icons.b8X,{}),onClick:()=>exportJSON()},{label:"History",icon:(0,jsx_runtime.jsx)(icons.pPA,{}),onClick:()=>setShowHistory(!showHistory)},{label:"Share",icon:(0,jsx_runtime.jsx)(icons.FOM,{}),onClick:()=>(0,NotebookShare.W)({shortId:notebookId})},!isTemplate&&{label:"Delete",icon:(0,jsx_runtime.jsx)(icons.Fzz,{}),status:"danger",onClick:()=>{notebooksModel.L.actions.deleteNotebook(notebookId,notebook?.title),lib.router.actions.push(urls.j.notebooks())}}]}],actionable:!0,children:(0,jsx_runtime.jsx)(src.LemonButton,{"aria-label":"more",icon:(0,jsx_runtime.jsx)(icons.YRX,{}),status:"stealth",size:"small"})}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",icon:(0,jsx_runtime.jsx)(icons.Hnp,{}),size:buttonSize,onClick:()=>{selectNotebook(notebookTemplates.D[0].short_id),setVisibility("visible")},children:"Guide"}),(0,jsx_runtime.jsx)(NotebookMeta.t,{type:"secondary",size:buttonSize}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:buttonSize,onClick:()=>{selectNotebook(notebookId),setVisibility("visible")},tooltip:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Opens the notebook in a popover, that can be accessed from anywhere in the PostHog app. This is great for dragging and dropping elements like Insights, Recordings or even Feature Flags into your active Notebook."}),children:"Open in popover"})]})]}),(0,jsx_runtime.jsx)(Notebook.a,{shortId:notebookId,editable:!isTemplate},notebookId)]})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/notebooks/NotebookScene.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".Navigation3000 .NotebookScene{position:absolute;left:0;top:0;bottom:0;right:0;overflow-y:auto;padding:0 1rem}.NotebookScene .ProseMirror>.react-renderer{scroll-margin-top:65px}",""]),module.exports=exports},"./frontend/src/scenes/notebooks/NotebookScene.scss":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_NotebookScene_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/notebooks/NotebookScene.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_NotebookScene_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_NotebookScene_scss__WEBPACK_IMPORTED_MODULE_1__),options={insert:"head",singleton:!1};_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_NotebookScene_scss__WEBPACK_IMPORTED_MODULE_1___default(),options),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_NotebookScene_scss__WEBPACK_IMPORTED_MODULE_1___default().locals}}]);