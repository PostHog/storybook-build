(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(ue,L,t){"use strict";t.d(L,"a",function(){return Qe});var J=t("./node_modules/core-js/modules/es.array.includes.js"),q=t.n(J),we=t("./node_modules/core-js/modules/es.array.iterator.js"),xe=t.n(we),je=t("./node_modules/core-js/modules/es.object.to-string.js"),Xe=t.n(je),et=t("./node_modules/core-js/modules/es.object.values.js"),fe=t.n(et),e=t("./node_modules/core-js/modules/es.string.includes.js"),S=t.n(e),$e=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Me=t.n($e),s=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),He=t.n(s),A=t("./node_modules/kea/lib/index.esm.js"),k=t("./frontend/src/lib/utils.tsx"),F=t("./frontend/src/types.ts"),y=t("./frontend/src/scenes/insights/sharedUtils.ts"),h=t("./frontend/src/scenes/insights/insightLogic.ts");function le(_,z){var re=Object.keys(_);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(_);z&&(ve=ve.filter(function(Pe){return Object.getOwnPropertyDescriptor(_,Pe).enumerable})),re.push.apply(re,ve)}return re}function _e(_){for(var z=1;z<arguments.length;z++){var re=arguments[z]!=null?arguments[z]:{};z%2?le(Object(re),!0).forEach(function(ve){He()(_,ve,re[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(re)):le(Object(re)).forEach(function(ve){Object.defineProperty(_,ve,Object.getOwnPropertyDescriptor(re,ve))})}return _}function me(_){return Object.values(F.o).includes(_)}var Qe=Object(A.kea)({props:{},key:Object(y.c)("new"),path:function(z){return["lib","components","ChartFilter","chartFilterLogic",z]},connect:function(z){return{actions:[Object(h.c)(z),["setFilters"]],values:[Object(h.c)(z),["filters"]]}},actions:function(){return{setChartFilter:function(re){return{chartFilter:re}}}},selectors:{chartFilter:[function(_){return[_.filters]},function(_){var z=_.display,re=_.funnel_viz_type;return(z===F.d.FunnelViz?re:z)||null}]},listeners:function(z){var re=z.actions,ve=z.values;return{setChartFilter:function(yt){var Ze=yt.chartFilter,at=ve.filters,ee=at.display,qe=at.funnel_viz_type;me(Ze)?(qe!==Ze||ee!==F.d.FunnelViz)&&re.setFilters(_e(_e({},ve.filters),{},{display:F.d.FunnelViz,funnel_viz_type:Ze})):Object(k.mb)(ee,Ze)||re.setFilters(_e(_e({},ve.filters),{},{display:Ze}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(ue,L,t){"use strict";t.d(L,"a",function(){return k});var J=t("./node_modules/core-js/modules/es.array.iterator.js"),q=t.n(J),we=t("./node_modules/core-js/modules/es.object.to-string.js"),xe=t.n(we),je=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Xe=t.n(je),et=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),fe=t.n(et),e=t("./node_modules/kea/lib/index.esm.js"),S=t("./frontend/src/lib/utils.tsx"),$e=t("./frontend/src/types.ts"),Me=t("./frontend/src/scenes/insights/sharedUtils.ts"),s=t("./frontend/src/scenes/insights/insightLogic.ts");function He(F,y){var h=Object.keys(F);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(F);y&&(le=le.filter(function(_e){return Object.getOwnPropertyDescriptor(F,_e).enumerable})),h.push.apply(h,le)}return h}function A(F){for(var y=1;y<arguments.length;y++){var h=arguments[y]!=null?arguments[y]:{};y%2?He(Object(h),!0).forEach(function(le){fe()(F,le,h[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(h)):He(Object(h)).forEach(function(le){Object.defineProperty(F,le,Object.getOwnPropertyDescriptor(h,le))})}return F}var k=Object(e.kea)({props:{},key:Object(Me.c)("new"),path:function(y){return["lib","components","CompareFilter","compareFilterLogic",y]},connect:function(y){return{actions:[Object(s.c)(y),["setFilters"]],values:[Object(s.c)(y),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(h){return{compare:h}},toggleCompare:!0}},selectors:{compare:[function(F){return[F.filters]},function(F){return!!(F!=null&&F.compare)}],disabled:[function(F){return[F.filters,F.canEditInsight]},function(F,y){var h=F.insight,le=F.date_from,_e=F.display;return!y||h===$e.s.LIFECYCLE||_e===$e.d.WorldMap||le==="all"}]},listeners:function(y){var h=y.values,le=y.actions;return{setCompare:function(me){var Qe=me.compare;Object(S.mb)(Qe,h.compare)||le.setFilters(A(A({},h.filters),{},{compare:Qe}))},toggleCompare:function(){le.setCompare(!h.compare)}}}})},"./frontend/src/lib/components/CopyToClipboard.tsx":function(ue,L,t){"use strict";t.d(L,"a",function(){return Qe});var J=t("./node_modules/core-js/modules/es.symbol.js"),q=t.n(J),we=t("./node_modules/core-js/modules/es.symbol.description.js"),xe=t.n(we),je=t("./node_modules/core-js/modules/es.object.to-string.js"),Xe=t.n(je),et=t("./node_modules/core-js/modules/es.regexp.to-string.js"),fe=t.n(et),e=t("./node_modules/@babel/runtime/helpers/extends.js"),S=t.n(e),$e=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),Me=t.n($e),s=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),He=t.n(s),A=t("./node_modules/react/index.js"),k=t.n(A),F=t("./frontend/src/lib/utils.tsx"),y=t("./frontend/src/lib/components/Tooltip.tsx"),h=t("./frontend/src/lib/components/icons.tsx"),le=t("./frontend/src/lib/components/LemonButton/index.ts");function _e(_,z){var re=Object.keys(_);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(_);z&&(ve=ve.filter(function(Pe){return Object.getOwnPropertyDescriptor(_,Pe).enumerable})),re.push.apply(re,ve)}return re}function me(_){for(var z=1;z<arguments.length;z++){var re=arguments[z]!=null?arguments[z]:{};z%2?_e(Object(re),!0).forEach(function(ve){Me()(_,ve,re[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(re)):_e(Object(re)).forEach(function(ve){Object.defineProperty(_,ve,Object.getOwnPropertyDescriptor(re,ve))})}return _}function Qe(_){var z=_.children,re=_.explicitValue,ve=_.description,Pe=_.selectable,yt=Pe===void 0?!1:Pe,Ze=_.isValueSensitive,at=Ze===void 0?!1:Ze,ee=_.tooltipMessage,qe=ee===void 0?null:ee,n=_.iconStyle,o=n===void 0?{}:n,X=_.iconPosition,V=X===void 0?"end":X,O=_.style,Ce=He()(_,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),Ct=function(){return Object(F.t)(re!=null?re:z?z.toString():"",ve)},Ve=k.a.createElement("span",S()({className:at?"ph-no-capture":"",style:me({cursor:yt?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:V==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},O),onClick:yt?void 0:Ct},Ce),k.a.createElement("span",{style:V==="start"?{flexGrow:1}:{}},z),k.a.createElement(le.a,{compact:!0,icon:k.a.createElement(h.IconCopy,null),className:"copy-icon",onClick:yt?Ct:void 0,style:me(Me()({},V==="end"?"marginLeft":"marginRight",4),o)}));return!yt||qe!==null?k.a.createElement(y.a,{title:qe||"Click to copy"},Ve):k.a.createElement(k.a.Fragment,null,Ve)}try{Qe.displayName="CopyToClipboardInline",Qe.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:Qe.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(_){}},"./frontend/src/lib/components/PropertiesTable.tsx":function(ue,L,t){"use strict";t.d(L,"a",function(){return ct});var J=t("./node_modules/core-js/modules/es.array.filter.js"),q=t("./node_modules/core-js/modules/es.array.includes.js"),we=t("./node_modules/core-js/modules/es.array.map.js"),xe=t("./node_modules/core-js/modules/es.array.some.js"),je=t("./node_modules/core-js/modules/es.object.entries.js"),Xe=t("./node_modules/core-js/modules/es.string.includes.js"),et=t("./node_modules/core-js/modules/es.string.starts-with.js"),fe=t("./node_modules/@babel/runtime/helpers/typeof.js"),e=t.n(fe),S=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),$e=t.n(S),Me=t("./node_modules/react/index.js"),s=t.n(Me),He=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),A=t("./node_modules/antd/es/input/index.js"),k=t("./node_modules/antd/es/dropdown/index.js"),F=t("./node_modules/antd/es/menu/index.js"),y=t("./node_modules/antd/es/popconfirm/index.js"),h=t("./frontend/src/lib/utils.tsx"),le=t("./frontend/src/lib/components/icons.tsx"),_e=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),me=t.n(_e),Qe=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss"),_=t.n(Qe),z={};z.insert="head",z.singleton=!1;var re=me()(_.a,z),ve=_.a.locals||{},Pe=t("./frontend/src/lib/components/LemonTable/index.ts"),yt=t("./frontend/src/lib/components/CopyToClipboard.tsx"),Ze=t("./node_modules/kea/lib/index.esm.js"),at=t("./frontend/src/models/propertyDefinitionsModel.ts"),ee=t("./frontend/src/lib/components/LemonButton/index.ts"),qe=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),n=t.n(qe),o=t("./node_modules/antd/es/radio/index.js"),X=t("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),V=t("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),O=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Ce=t("./node_modules/@ant-design/icons/es/icons/StopOutlined.js"),Ct=t("./node_modules/antd/lib/modal/Modal.js"),Ve=t.n(Ct);function wt(Q,oe){var Te=Object.keys(Q);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Q);oe&&(Be=Be.filter(function(mt){return Object.getOwnPropertyDescriptor(Q,mt).enumerable})),Te.push.apply(Te,Be)}return Te}function ut(Q){for(var oe=1;oe<arguments.length;oe++){var Te=arguments[oe]!=null?arguments[oe]:{};oe%2?wt(Object(Te),!0).forEach(function(Be){n()(Q,Be,Te[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(Te)):wt(Object(Te)).forEach(function(Be){Object.defineProperty(Q,Be,Object.getOwnPropertyDescriptor(Te,Be))})}return Q}function Kt(Q){var oe=Q.editProperty,Te={creating:!1,propertyType:"string"},Be=Object(Me.useState)(Te),mt=$e()(Be,2),We=mt[0],pt=mt[1],St=function(){We.key&&We.value!==void 0&&(oe(We.key,We.value),pt(Te))};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb"},s.a.createElement("div",{className:"text-right"},s.a.createElement(ee.a,{"data-attr":"add-prop-button",onClick:function(){return pt(ut(ut({},We),{},{creating:!0}))},type:"primary"},"New property"))),s.a.createElement(Ve.a,{visible:We.creating,destroyOnClose:!0,onCancel:function(){return pt(Te)},title:"Adding new property",okText:s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!We.key||We.value===void 0},onOk:St},s.a.createElement("div",{className:"input-set"},s.a.createElement("label",{htmlFor:"propertyKey"},"Key"),s.a.createElement(A.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function(U){return pt(ut(ut({},We),{},{key:U.target.value}))}})),s.a.createElement("div",{className:"input-set"},s.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),s.a.createElement("div",null,s.a.createElement(o.a.Group,{value:We.propertyType,onChange:function(U){return pt(ut(ut({},We),{},{propertyType:U.target.value,value:U.target.value==="string"?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},s.a.createElement(o.a.Button,{value:"string"},"Text or Number"),s.a.createElement(o.a.Button,{value:"boolean"},"Boolean or Null")))),s.a.createElement("div",{className:"input-set"},s.a.createElement("label",{htmlFor:"propertyValue"},"Value"),We.propertyType==="boolean"?s.a.createElement("div",null,s.a.createElement(o.a.Group,{value:We.value,onChange:function(U){return pt(ut(ut({},We),{},{value:U.target.value}))},id:"propertyValue",buttonStyle:"solid"},s.a.createElement(o.a.Button,{value:"true",defaultChecked:!0},s.a.createElement(V.a,null)," True"),s.a.createElement(o.a.Button,{value:"false"},s.a.createElement(O.a,null)," False"),s.a.createElement(o.a.Button,{value:"null"},s.a.createElement(Ce.a,null)," Null"))):s.a.createElement(A.a,{placeholder:"try email@example.com, gold, 1",onChange:function(U){return pt(ut(ut({},We),{},{value:U.target.value}))},id:"propertyValue",onKeyDown:function(U){return U.key==="Enter"&&St()}}))))}try{Kt.displayName="NewPropertyComponent",Kt.__docgenInfo={description:"",displayName:"NewPropertyComponent",props:{editProperty:{defaultValue:null,description:"",name:"editProperty",required:!0,type:{name:"(key: string, newValue?: string | number | boolean | null | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"]={docgenInfo:Kt.__docgenInfo,name:"NewPropertyComponent",path:"frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"})}catch(Q){}function qt(Q){var oe=Q.value,Te=Q.onChange;return s.a.createElement(A.a,{defaultValue:oe,autoFocus:!0,onBlur:function(){return Te(null,!1)},onPressEnter:function(mt){return Te(mt.target.value,!0)}})}function dn(Q){var oe=Q.value,Te=Q.rootKey,Be=Q.onEdit,mt=Q.nestingLevel,We=Q.useDetectedPropertyType,pt=Object(Ze.useValues)(at.a),St=pt.describeProperty,Ke=Object(Me.useState)(!1),U=$e()(Ke,2),$t=U[0],bt=U[1],ke=Te&&!He.e.includes(Te)&&(!mt||mt<=1)&&Be,Ot=["string","number","bigint"],P=["boolean","null"],dt;Te&&We&&(dt=St(Te));var he=oe===null?"null":e()(oe),Oe=oe===null?"null":String(oe),_t=function(Ue,De){bt(!1),Te!==void 0&&De&&Be&&Ue!=oe&&Be(Te,Ue,oe)},Ge=s.a.createElement("span",{className:ke?"editable ph-no-capture":"ph-no-capture",onClick:function(){return ke&&Ot.includes(he)&&bt(!0)}},Object(h.eb)(oe)?s.a.createElement("a",{href:oe,target:"_blank",rel:"noopener noreferrer",className:"value-link"},s.a.createElement("span",null,Oe),s.a.createElement(le.IconOpenInNew,null)):Oe);return s.a.createElement("div",{className:"properties-table-value"},$t?s.a.createElement(qt,{value:oe,onChange:_t}):s.a.createElement(s.a.Fragment,null,ke&&P.includes(he)?s.a.createElement(k.a,{overlay:s.a.createElement(F.a,{onClick:function(Ue){var De=Ue.key,Se=null;De==="t"?Se=!0:De==="f"&&(Se=!1),_t(Se,!0)}},s.a.createElement(F.a.Item,{key:"t"},"true"),s.a.createElement(F.a.Item,{key:"f"},"false"),s.a.createElement(F.a.Item,{key:"n",danger:!0},"null"))},Ge):s.a.createElement(yt.a,{description:"property value",explicitValue:Oe,selectable:!0,isValueSensitive:!0},Ge),s.a.createElement("div",{className:"property-value-type"},dt||he)))}function ct(Q){var oe=Q.properties,Te=Q.rootKey,Be=Q.onEdit,mt=Q.sortProperties,We=mt===void 0?!1:mt,pt=Q.searchable,St=pt===void 0?!1:pt,Ke=Q.embedded,U=Ke===void 0?!0:Ke,$t=Q.nestingLevel,bt=$t===void 0?0:$t,ke=Q.onDelete,Ot=Q.className,P=Q.useDetectedPropertyType,dt=Object(Me.useState)(""),he=$e()(dt,2),Oe=he[0],_t=he[1],Ge=Object(Me.useMemo)(function(){if(!(oe instanceof Object))return[];var Ue=Object.entries(oe);if(Oe){var De=Oe.toLowerCase();Ue=Ue.filter(function(Se){var ft=$e()(Se,2),Ht=ft[0],lt=ft[1];return Ht.toLowerCase().includes(De)||JSON.stringify(lt).toLowerCase().includes(De)})}return We&&Ue.sort(function(Se,ft){var Ht=$e()(Se,1),lt=Ht[0],Nt=$e()(ft,1),At=Nt[0];return lt[0]==="$"&&At[0]!=="$"?1:lt[0]!=="$"&&At[0]==="$"||lt.toLowerCase()<At.toLowerCase()?-1:1}),Ue},[oe,We,Oe]);if(Array.isArray(oe))return s.a.createElement("div",null,oe.length?oe.map(function(Ue,De){return s.a.createElement(ct,{key:De,properties:Ue,nestingLevel:bt+1,useDetectedPropertyType:["$set","$set_once"].some(function(Se){return Se===Te})?!1:P})}):s.a.createElement("div",{className:"property-value-type"},"ARRAY (EMPTY)"));var Vt=[{key:"key",title:"Key",width:"20rem",render:function(De,Se){return s.a.createElement("div",{className:"properties-table-key"},s.a.createElement(He.a,{value:Se[0]}))},sorter:function(De,Se){return String(De[0]).localeCompare(String(Se[0]))}},{key:"value",title:"Value",render:function(De,Se){return s.a.createElement(ct,{properties:Se[1],rootKey:Se[0],onEdit:Be,nestingLevel:bt+1,useDetectedPropertyType:["$set","$set_once"].some(function(ft){return ft===Te})?!1:P})}}];return ke&&bt===0&&Vt.push({key:"delete",title:"",width:0,render:function(De,Se){return!He.e.includes(Se[0])&&!String(Se[0]).startsWith("$initial_")&&s.a.createElement(y.a,{onConfirm:function(){return ke(Se[0])},okButtonProps:{danger:!0},okText:"Delete",title:s.a.createElement(s.a.Fragment,null,"Are you sure you want to delete property ",s.a.createElement("code",null,Se[0]),"?"," ",s.a.createElement("b",null,"This cannot be undone.")),placement:"left"},s.a.createElement(ee.a,{icon:s.a.createElement(le.IconDeleteForever,null),status:"danger",compact:!0}))}}),oe instanceof Object?s.a.createElement(s.a.Fragment,null,St&&s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"}},s.a.createElement(A.a.Search,{placeholder:"Search for property keys and values",className:"mb",allowClear:!0,enterButton:!0,style:{maxWidth:400,width:"initial",flexGrow:1},value:Oe,onChange:function(De){_t(De.target.value)}}),Be&&s.a.createElement(Kt,{editProperty:Be})),s.a.createElement(Pe.a,{columns:Vt,showHeader:!U,size:"small",rowKey:"0",embedded:U,dataSource:Ge,className:Ot,emptyState:"This property value is an empty object."})):s.a.createElement(dn,{value:oe,rootKey:Te,onEdit:Be,nestingLevel:bt,useDetectedPropertyType:P})}try{ct.displayName="PropertiesTable",ct.__docgenInfo={description:"",displayName:"PropertiesTable",props:{properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"any"}},sortProperties:{defaultValue:{value:"false"},description:"",name:"sortProperties",required:!1,type:{name:"boolean"}},searchable:{defaultValue:{value:"false"},description:"",name:"searchable",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"true"},description:"Whether this table should be style for being embedded. Default: true.",name:"embedded",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((key: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},useDetectedPropertyType:{defaultValue:null,description:"",name:"useDetectedPropertyType",required:!1,type:{name:"boolean"}},rootKey:{defaultValue:null,description:"",name:"rootKey",required:!1,type:{name:"string"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((key: string, newValue: any, oldValue?: any) => void)"}},nestingLevel:{defaultValue:{value:"0"},description:"",name:"nestingLevel",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"]={docgenInfo:ct.__docgenInfo,name:"PropertiesTable",path:"frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"})}catch(Q){}},"./frontend/src/scenes/experiments/Experiment.tsx":function(ue,L,t){"use strict";t.r(L),t.d(L,"scene",function(){return na}),t.d(L,"Experiment_",function(){return Sn}),t.d(L,"CodeLanguageSelect",function(){return Kn});var J=t("./node_modules/core-js/modules/es.symbol.js"),q=t("./node_modules/core-js/modules/es.symbol.description.js"),we=t("./node_modules/core-js/modules/es.array.concat.js"),xe=t("./node_modules/core-js/modules/es.array.filter.js"),je=t("./node_modules/core-js/modules/es.array.map.js"),Xe=t("./node_modules/core-js/modules/es.array.reduce.js"),et=t("./node_modules/core-js/modules/es.function.name.js"),fe=t("./node_modules/core-js/modules/es.number.constructor.js"),e=t("./node_modules/core-js/modules/es.number.to-fixed.js"),S=t("./node_modules/core-js/modules/es.object.keys.js"),$e=t("./node_modules/core-js/modules/es.object.to-string.js"),Me=t("./node_modules/core-js/modules/es.regexp.to-string.js"),s=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),He=t.n(s),A=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),k=t.n(A),F=t("./node_modules/antd/es/form/index.js"),y=t("./node_modules/antd/es/row/index.js"),h=t("./node_modules/antd/es/col/index.js"),le=t("./node_modules/antd/es/input/index.js"),_e=t("./node_modules/antd/es/tooltip/index.js"),me=t("./node_modules/antd/es/select/index.js"),Qe=t("./node_modules/antd/es/card/index.js"),_=t("./node_modules/antd/es/tag/index.js"),z=t("./node_modules/antd/es/collapse/index.js"),re=t("./node_modules/antd/es/skeleton/index.js"),ve=t("./node_modules/antd/es/progress/index.js"),Pe=t("./node_modules/kea/lib/index.esm.js"),yt=t("./frontend/src/lib/components/PageHeader.tsx"),Ze=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),at=t("./frontend/src/lib/components/PropertyFilters/utils.ts"),ee=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),qe=t("./node_modules/react/index.js"),n=t.n(qe),o=t("./frontend/src/scenes/funnels/funnelLogic.ts"),X=t("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),V=t("./frontend/src/scenes/insights/insightLogic.ts"),O=t("./frontend/src/types.ts"),Ce=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ct=t.n(Ce),Ve=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss"),wt=t.n(Ve),ut={};ut.insert="head",ut.singleton=!1;var Kt=Ct()(wt.a,ut),qt=wt.a.locals||{},dn=t("./node_modules/core-js/modules/es.array.fill.js"),ct=t("./node_modules/core-js/modules/es.array.find.js"),Q=t("./node_modules/core-js/modules/es.array.find-index.js"),oe=t("./node_modules/core-js/modules/es.array.iterator.js"),Te=t("./node_modules/core-js/modules/es.array.splice.js"),Be=t("./node_modules/core-js/modules/es.number.epsilon.js"),mt=t("./node_modules/core-js/modules/es.object.values.js"),We=t("./node_modules/core-js/modules/es.promise.js"),pt=t("./node_modules/core-js/modules/es.string.iterator.js"),St=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ke=t("./node_modules/@babel/runtime/regenerator/index.js"),U=t.n(Ke),$t=t("./node_modules/regenerator-runtime/runtime.js"),bt=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ke=t.n(bt),Ot=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),P=t.n(Ot),dt=t("./frontend/src/lib/api.ts"),he=t("./frontend/src/lib/dayjs.ts"),Oe=t("./frontend/src/lib/utils.tsx"),_t=["furry","amusing","charming","tame","swift","clever","pleasant","tiny","wild","herbivorous","admirable","adorable","agile","beautiful","bossy","candid","cold","colorful","cuddly","curious","cute","energetic","fast","feisty","fierce","fluffy","friendly","fuzzy","grumpy","hairy","heavy","large","lazy","loud","lovable","loving","enchanted","maternal","sweet","messy","nocturnal","noisy","nosy","picky","playful","quick","sassy","scaly","short","shy","slow","small","smart","soft","strong","tall","tenacious","glorious","warm","cheerful","gracious"],Ge=["aardvark","albatross","alligator","alpaca","ant","anteater","antelope","ape","armadillo","donkey","baboon","badger","barracuda","bat","bear","beaver","bee","bison","boar","buffalo","butterfly","camel","capybara","caribou","cassowary","cat","caterpillar","cattle","chamois","cheetah","chicken","chimpanzee","chinchilla","chough","clam","cobra","cockroach","cod","cormorant","coyote","crab","crane","crocodile","crow","curlew","deer","dinosaur","dog","dogfish","dolphin","dotterel","dove","dragonfly","duck","dugong","dunlin","eagle","echidna","eel","eland","elephant","elk","emu","falcon","ferret","finch","firefox","fish","flamingo","fly","fox","frog","gaur","gazelle","gerbil","giraffe","gnat","gnu","goat","goldfinch","goldfish","goose","gorilla","goshawk","grasshopper","grouse","guanaco","gull","hamster","hare","hawk","hedgehog","heron","herring","hippopotamus","hornet","horse","human","hummingbird","hyena","ibex","ibis","jackal","jaguar","jay","jellyfish","kangaroo","kingfisher","koala","kookabura","kouprey","kudu","lapwing","lark","lemur","leopard","lion","llama","lobster","locust","loris","louse","lyrebird","magpie","mallard","manatee","mandrill","mantis","marten","meerkat","mink","mole","mongoose","monkey","moose","mosquito","mouse","mule","narwhal","newt","nightingale","octopus","okapi","opossum","oryx","ostrich","otter","owl","oyster","panther","parrot","partridge","peafowl","pelican","penguin","pheasant","pig","pigeon","pony","porcupine","porpoise","quail","quelea","quetzal","rabbit","raccoon","rail","ram","rat","raven","reindeer","rhinoceros","rook","salamander","salmon","sandpiper","sardine","scorpion","seahorse","seal","shark","sheep","shrew","skunk","snail","snake","sparrow","spider","spoonbill","squid","squirrel","starling","stingray","stinkbug","stork","swallow","swan","tapir","tarsier","termite","tiger","toad","trout","turkey","turtle","viper","vulture","wallaby","walrus","wasp","weasel","whale","wildcat","wolf","wolverine","wombat","woodcock","woodpecker","worm","wren","yak","zebra"];function Vt(){return"".concat(Object(Oe.j)(Object(Oe.ub)(_t))," ").concat(Object(Oe.j)(Object(Oe.ub)(Ge)))}var Ue=t("./frontend/src/scenes/insights/utils/cleanFilters.ts"),De=t("./frontend/src/scenes/teamLogic.ts"),Se=t("./frontend/src/scenes/urls.ts"),ft=t("./node_modules/kea-router/lib/index.js"),Ht=t("./frontend/src/scenes/experiments/experimentsLogic.ts"),lt=t("./frontend/src/lib/constants.tsx"),Nt=t("./frontend/src/scenes/trends/trendsLogic.ts"),At=t("./frontend/src/lib/utils/eventUsageLogic.ts"),un=t("./frontend/src/scenes/userLogic.ts"),nt=t("./frontend/src/lib/components/Tooltip.tsx"),en=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),tn=t("./frontend/src/models/groupsModel.ts"),bn=t("./frontend/src/lib/components/lemonToast.tsx");function wn(a,r){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);r&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,i)}return l}function Y(a){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?wn(Object(l),!0).forEach(function(i){He()(a,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):wn(Object(l)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(l,i))})}return a}var nn=14,an=Object(Pe.kea)({props:{},key:function(r){return r.experimentId||"new"},path:function(r){return["scenes","experiment","experimentLogic",r]},connect:{values:[De.a,["currentTeamId"],un.a,["hasAvailableFeature"],tn.a,["groupTypes","groupsTaxonomicTypes","aggregationLabel"]],actions:[Ht.a,["updateExperiments","addToExperiments"]]},actions:{setExperiment:function(r){return{experiment:r}},createExperiment:function(r,l,i){return{draft:r,runningTime:l,sampleSize:i}},setExperimentInsightId:function(r){return{shortId:r}},createNewExperimentInsight:function(r){return{filters:r}},setFilters:function(r){return{filters:r}},setNewExperimentData:function(r){return{experimentData:r}},updateExperimentGroup:function(r,l){return{variant:r,idx:l}},removeExperimentGroup:function(r){return{idx:r}},setExperimentInsightType:function(r){return{insightType:r}},setEditExperiment:function(r){return{editing:r}},setSecondaryMetrics:function(r){return{secondaryMetrics:r}},resetNewExperiment:!0,launchExperiment:!0,endExperiment:!0,addExperimentGroup:!0,archiveExperiment:!0},reducers:{newExperimentData:[null,{setNewExperimentData:function(r,l){var i=l.experimentData;if(i.filters){var f=Y(Y({},r==null?void 0:r.filters),i.filters);return Y(Y(Y({},r),i),{},{filters:f})}if(i.parameters){var j=Y(Y({},r==null?void 0:r.parameters),i.parameters);return Y(Y(Y({},r),i),{},{parameters:j})}return Y(Y({},r),i)},updateExperimentGroup:function(r,l){var i,f=l.variant,j=l.idx,b=P()((r==null||(i=r.parameters)===null||i===void 0?void 0:i.feature_flag_variants)||[]);return b[j]=Y(Y({},b[j]),f),Y(Y({},r),{},{parameters:Y(Y({},r==null?void 0:r.parameters),{},{feature_flag_variants:b})})},addExperimentGroup:function(r){var l;if(!(r==null||(l=r.parameters)===null||l===void 0)&&l.feature_flag_variants){var i=mn(r.parameters.feature_flag_variants.length+1),f=r.parameters.feature_flag_variants.map(function(j,b){return Y(Y({},j),{},{rollout_percentage:i[b]})});return Y(Y({},r),{},{parameters:Y(Y({},r.parameters),{},{feature_flag_variants:[].concat(P()(f),[{key:"test_group_".concat(r.parameters.feature_flag_variants.length),rollout_percentage:i[i.length-1]}])})})}return r},removeExperimentGroup:function(r,l){var i,f,j=l.idx;if(!r)return r;var b=P()(((i=r.parameters)===null||i===void 0?void 0:i.feature_flag_variants)||[]);b.splice(j,1);var u=mn(((r==null||(f=r.parameters)===null||f===void 0?void 0:f.feature_flag_variants)||[]).length-1),T=b.map(function(v,ae){return Y(Y({},v),{},{rollout_percentage:u[ae]})});return Y(Y({},r),{},{parameters:Y(Y({},r.parameters),{},{feature_flag_variants:T})})},setSecondaryMetrics:function(r,l){var i=l.secondaryMetrics,f=i.map(function(j){return j});return Y(Y({},r),{},{secondary_metrics:f})},resetNewExperiment:function(){return{parameters:{feature_flag_variants:[{key:"control",rollout_percentage:50},{key:"test",rollout_percentage:50}]}}}}],experimentInsightType:[O.s.TRENDS,{setExperimentInsightType:function(r,l){var i=l.insightType;return i}}],experimentInsightId:[null,{setExperimentInsightId:function(r,l){var i=l.shortId;return i}}],editingExistingExperiment:[!1,{setEditExperiment:function(r,l){var i=l.editing;return i}}]},listeners:function(r){var l=r.values,i=r.props,f=r.actions;return{createExperiment:function(){var j=ke()(U.a.mark(function u(T){var v,ae,ye,Le,R,B,g,ze,Dt,Bt;return U.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(ae=T.draft,ye=T.runningTime,Le=T.sampleSize,R=null,B=!!i.experimentId&&i.experimentId!=="new",W.prev=3,!B){W.next=14;break}return W.next=7,dt.b.update("api/projects/".concat(l.currentTeamId,"/experiments/").concat(i.experimentId),Y(Y({},l.newExperimentData),{},{parameters:Y(Y({},(g=l.newExperimentData)===null||g===void 0?void 0:g.parameters),{},{recommended_running_time:ye,recommended_sample_size:Le})},!ae&&{start_date:Object(he.a)()}));case 7:if(R=W.sent,!(!((ze=R)===null||ze===void 0)&&ze.id)){W.next=12;break}return f.updateExperiments(R),ft.router.actions.push(Se.a.experiment(R.id)),W.abrupt("return");case 12:W.next=18;break;case 14:return W.next=16,dt.b.create("api/projects/".concat(l.currentTeamId,"/experiments"),Y(Y({},l.newExperimentData),{},{parameters:Y(Y({},(Dt=l.newExperimentData)===null||Dt===void 0?void 0:Dt.parameters),{},{recommended_running_time:ye,recommended_sample_size:Le})},!ae&&{start_date:Object(he.a)()}));case 16:R=W.sent,R&&At.f.actions.reportExperimentCreated(R);case 18:W.next=24;break;case 20:return W.prev=20,W.t0=W.catch(3),bn.a.error(W.t0.detail||"Failed to create experiment"),W.abrupt("return");case 24:!((v=R)===null||v===void 0)&&v.id&&(Bt=R.id,ft.router.actions.push(Se.a.experiment(Bt)),f.addToExperiments(R),bn.a.success("Experiment ".concat(B?"updated":"created"),{button:{label:"View it",action:function(){ft.router.actions.push(Se.a.experiment(Bt))}}}));case 25:case"end":return W.stop()}},u,null,[[3,20]])}));function b(u){return j.apply(this,arguments)}return b}(),createNewExperimentInsight:function(){var j=ke()(U.a.mark(function u(T){var v,ae,ye,Le;return U.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return v=T.filters,l.experimentInsightType===O.s.FUNNELS?ae=Object(Ue.a)(Y({insight:O.s.FUNNELS,funnel_viz_type:O.o.Steps,display:O.d.FunnelViz,date_from:Object(he.a)().subtract(nn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(he.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:lt.k.horizontal},v)):ae=Object(Ue.a)(Y({insight:O.s.TRENDS,date_from:Object(he.a)().subtract(nn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(he.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},v)),ye={name:Vt(),description:"",tags:[],filters:ae,result:null},B.next=5,dt.b.create("api/projects/".concat(l.currentTeamId,"/insights"),ye);case 5:Le=B.sent,f.setExperimentInsightId(Le.short_id),f.setNewExperimentData({filters:Y({},ye.filters)});case 8:case"end":return B.stop()}},u)}));function b(u){return j.apply(this,arguments)}return b}(),setFilters:function(b){var u=b.filters;if(l.experimentInsightType===O.s.FUNNELS){var T;(T=o.a.findMounted({dashboardItemId:l.experimentInsightId}))===null||T===void 0||T.actions.setFilters(u)}else{var v;(v=Nt.a.findMounted({dashboardItemId:l.experimentInsightId}))===null||v===void 0||v.actions.setFilters(u)}},loadExperimentSuccess:function(){var j=ke()(U.a.mark(function u(T){var v;return U.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:v=T.experimentData,v&&At.f.actions.reportExperimentViewed(v),f.setExperimentInsightType((v==null?void 0:v.filters.insight)||O.s.FUNNELS),v!=null&&v.start_date?(f.resetNewExperiment(),f.loadExperimentResults(),f.loadSecondaryMetricResults()):(f.setNewExperimentData(Y({},v)),f.createNewExperimentInsight(v==null?void 0:v.filters));case 4:case"end":return ye.stop()}},u)}));function b(u){return j.apply(this,arguments)}return b}(),launchExperiment:function(){var j=ke()(U.a.mark(function u(){var T;return U.a.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:T=Object(he.a)(),f.updateExperiment({start_date:T.format("YYYY-MM-DDTHH:mm")}),l.experimentData&&At.f.actions.reportExperimentLaunched(l.experimentData,T);case 3:case"end":return ae.stop()}},u)}));function b(){return j.apply(this,arguments)}return b}(),endExperiment:function(){var j=ke()(U.a.mark(function u(){var T,v,ae;return U.a.wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:v=Object(he.a)(),f.updateExperiment({end_date:v.format("YYYY-MM-DDTHH:mm")}),ae=v.diff((T=l.experimentData)===null||T===void 0?void 0:T.start_date,"second"),l.experimentData&&At.f.actions.reportExperimentCompleted(l.experimentData,v,ae,l.areResultsSignificant);case 4:case"end":return Le.stop()}},u)}));function b(){return j.apply(this,arguments)}return b}(),archiveExperiment:function(){var j=ke()(U.a.mark(function u(){return U.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:f.updateExperiment({archived:!0}),l.experimentData&&At.f.actions.reportExperimentArchived(l.experimentData);case 2:case"end":return v.stop()}},u)}));function b(){return j.apply(this,arguments)}return b}(),setExperimentInsightType:function(){if(i.experimentId==="new"||l.editingExistingExperiment)f.createNewExperimentInsight();else{var b;f.createNewExperimentInsight((b=l.experimentData)===null||b===void 0?void 0:b.filters)}},updateExperimentSuccess:function(){var j=ke()(U.a.mark(function u(T){var v;return U.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:v=T.experimentData,f.updateExperiments(v);case 2:case"end":return ye.stop()}},u)}));function b(u){return j.apply(this,arguments)}return b}()}},loaders:function(r){var l=r.values,i=r.props;return{experimentData:[null,{loadExperiment:function(){var f=ke()(U.a.mark(function b(){var u;return U.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(i.experimentId&&i.experimentId!=="new")){v.next=16;break}return v.prev=1,v.next=4,dt.b.get("api/projects/".concat(l.currentTeamId,"/experiments/").concat(i.experimentId));case 4:return u=v.sent,v.abrupt("return",u);case 8:if(v.prev=8,v.t0=v.catch(1),v.t0.status!==404){v.next=14;break}ft.router.actions.push(Se.a.experiments()),v.next=16;break;case 14:throw bn.a.error("Failed to load experiment ".concat(i.experimentId)),new Error("Failed to load experiment ".concat(i.experimentId));case 16:return v.abrupt("return",null);case 17:case"end":return v.stop()}},b,null,[[1,8]])}));function j(){return f.apply(this,arguments)}return j}(),updateExperiment:function(){var f=ke()(U.a.mark(function b(u){var T;return U.a.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,dt.b.update("api/projects/".concat(l.currentTeamId,"/experiments/").concat(i.experimentId),u);case 2:return T=ae.sent,ae.abrupt("return",T);case 4:case"end":return ae.stop()}},b)}));function j(b){return f.apply(this,arguments)}return j}()}],experimentResults:[null,{loadExperimentResults:function(){var f=ke()(U.a.mark(function b(){var u;return U.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,dt.b.get("api/projects/".concat(l.currentTeamId,"/experiments/").concat(i.experimentId,"/results"));case 3:return u=v.sent,v.abrupt("return",Y(Y({},u),{},{itemID:Math.random().toString(36).substring(2,15)}));case 7:if(v.prev=7,v.t0=v.catch(0),v.t0.code!=="no_data"){v.next=11;break}return v.abrupt("return",null);case 11:return bn.a.error(v.t0.detail||"Failed to load experiment results"),v.abrupt("return",null);case 13:case"end":return v.stop()}},b,null,[[0,7]])}));function j(){return f.apply(this,arguments)}return j}()}],secondaryMetricResults:[null,{loadSecondaryMetricResults:function(){var f=ke()(U.a.mark(function b(){var u;return U.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Promise.all((((u=l.experimentData)===null||u===void 0?void 0:u.secondary_metrics)||[]).map(function(){var ae=ke()(U.a.mark(function ye(Le,R){var B;return U.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.prev=0,ze.next=3,dt.b.get("api/projects/".concat(l.currentTeamId,"/experiments/").concat(i.experimentId,"/secondary_results?id=").concat(R));case 3:return B=ze.sent,ze.abrupt("return",B.result);case 7:return ze.prev=7,ze.t0=ze.catch(0),ze.abrupt("return",{});case 10:case"end":return ze.stop()}},ye,null,[[0,7]])}));return function(ye,Le){return ae.apply(this,arguments)}}()));case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},b)}));function j(){return f.apply(this,arguments)}return j}()}]}},selectors:{breadcrumbs:[function(a){return[a.experimentData,function(r,l){return l.experimentId}]},function(a,r){return[{name:"Experiments",path:Se.a.experiments()},{name:(a==null?void 0:a.name)||"New",path:Se.a.experiment(r||"new")}]}],variants:[function(a){return[a.newExperimentData,a.experimentData]},function(a,r){var l,i;if(r!=null&&r.start_date){var f;return(r==null||(f=r.parameters)===null||f===void 0?void 0:f.feature_flag_variants)||[]}return(a==null||(l=a.parameters)===null||l===void 0?void 0:l.feature_flag_variants)||(r==null||(i=r.parameters)===null||i===void 0?void 0:i.feature_flag_variants)||[]}],taxonomicGroupTypesForSelection:[function(a){return[a.newExperimentData,a.groupsTaxonomicTypes]},function(a,r){var l;return(a==null||(l=a.filters)===null||l===void 0?void 0:l.aggregation_group_type_index)!=null&&r.length>0?[r[a.filters.aggregation_group_type_index]]:[ee.a.PersonProperties,ee.a.Cohorts]}],parsedSecondaryMetrics:[function(a){return[a.newExperimentData,a.experimentData]},function(a,r){var l=(a==null?void 0:a.secondary_metrics)||(r==null?void 0:r.secondary_metrics)||[];return l}],minimumDetectableChange:[function(a){return[a.newExperimentData]},function(a){var r;return(a==null||(r=a.parameters)===null||r===void 0?void 0:r.minimum_detectable_effect)||5}],minimumSampleSizePerVariant:[function(a){return[a.minimumDetectableChange]},function(a){return function(r){return Math.ceil(1600*r*(1-r/100)/(a*a))}}],areResultsSignificant:[function(a){return[a.experimentResults]},function(a){return(a==null?void 0:a.significant)||!1}],significanceBannerDetails:[function(a){return[a.experimentResults]},function(a){if((a==null?void 0:a.significance_code)===O.E.HighLoss){var r;return n.a.createElement(n.a.Fragment,null,"This is because the expected loss in conversion is greater than 1%",n.a.createElement(nt.a,{placement:"right",title:n.a.createElement(n.a.Fragment,null,"Current value is ",(r=((a==null?void 0:a.expected_loss)||0)*100)===null||r===void 0?void 0:r.toFixed(2),"%")},n.a.createElement(en.a,{style:{padding:"4px 2px"}})),".")}if((a==null?void 0:a.significance_code)===O.E.HighPValue){var l;return n.a.createElement(n.a.Fragment,null,"This is because the p value is greater than 0.05",n.a.createElement(nt.a,{placement:"right",title:n.a.createElement(n.a.Fragment,null,"Current value is ",(a==null||(l=a.p_value)===null||l===void 0?void 0:l.toFixed(3))||1,".")},n.a.createElement(en.a,{style:{padding:"4px 2px"}})),".")}return(a==null?void 0:a.significance_code)===O.E.LowWinProbability?"This is because the win probability of all test variants combined is less than 90%.":(a==null?void 0:a.significance_code)===O.E.NotEnoughExposure?"This is because we need at least 100 people per variant to declare significance.":""}],recommendedExposureForCountData:[function(a){return[a.minimumDetectableChange]},function(a){return function(r){var l=r*a/100,i=r,f=l+r;return parseFloat((4/Math.pow(Math.sqrt(i/nn)-Math.sqrt(f/nn),2)).toFixed(1))}}],expectedRunningTime:[function(){return[]},function(){return function(a,r){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nn;return parseFloat((r/(a/l)).toFixed(1))}}],conversionRateForVariant:[function(a){return[a.experimentResults]},function(a){return function(r){var l="Can't find variant";if(!a)return l;var i=(a==null?void 0:a.insight).find(function(f){var j,b;return((j=f[0])===null||j===void 0||(b=j.breakdown_value)===null||b===void 0?void 0:b[0])===r});return i?(i[i.length-1].count/i[0].count*100).toFixed(1):l}}],getIndexForVariant:[function(a){return[a.experimentResults]},function(a){return function(r,l){if(!a)return 0;var i=-1;return l===O.s.FUNNELS?i=P()(a==null?void 0:a.insight).sort(function(f,j){var b,u;return((b=j[0])===null||b===void 0?void 0:b.count)-((u=f[0])===null||u===void 0?void 0:u.count)}).findIndex(function(f){var j,b;return((j=f[0])===null||j===void 0||(b=j.breakdown_value)===null||b===void 0?void 0:b[0])===r}):i=(a==null?void 0:a.insight).findIndex(function(f){return f.breakdown_value===r}),i===-1?0:i}}],countDataForVariant:[function(a){return[a.experimentResults]},function(a){return function(r){var l="Can't find variant";if(!a)return l;var i=(a==null?void 0:a.insight).find(function(f){return f.breakdown_value===r});return i?i.count.toString():l}}],highestProbabilityVariant:[function(a){return[a.experimentResults]},function(a){if(a){var r=Math.max.apply(Math,P()(Object.values(a.probability)));return Object.keys(a.probability).find(function(l){return Math.abs(a.probability[l]-r)<Number.EPSILON})}}],areTrendResultsConfusing:[function(a){return[a.experimentResults,a.highestProbabilityVariant]},function(a,r){if(!a)return!1;var l=(a==null?void 0:a.insight).reduce(function(i,f){return f.count>i.count?f:i},{count:0,breakdown_value:""});return l.count?l.breakdown_value!==r:!1}]},urlToAction:function(r){var l=r.actions,i=r.values,f=r.props;return{"/experiments/:id":function(b){var u=b.id;if(!i.hasAvailableFeature(O.c.EXPERIMENTATION)){ft.router.actions.push("/experiments");return}if(u){var T=u==="new"?"new":parseInt(u);T==="new"&&(l.createNewExperimentInsight(),l.resetNewExperiment(),l.setSecondaryMetrics([])),l.setEditExperiment(!1),T!=="new"&&T===f.experimentId&&l.loadExperiment()}}}}});function mn(a){var r=Math.round(100/a),l=r*a,i=l-100,f=new Array(a).fill(r);return f[a-1]=r-i,f}var On=t("./frontend/src/scenes/insights/InsightContainer.tsx"),Ee=t("./frontend/src/lib/components/icons.tsx"),Ie=t("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),Je=t("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),Gt=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Pt=t("./frontend/src/lib/components/CopyToClipboard.tsx"),Qn=t("./frontend/src/scenes/funnels/funnelUtils.ts"),An=t("./node_modules/antd/es/modal/index.js"),Rn=t("./node_modules/antd/es/button/index.js"),xa=t("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js");function _n(a,r){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);r&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,i)}return l}function rn(a){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?_n(Object(l),!0).forEach(function(i){He()(a,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):_n(Object(l)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(l,i))})}return a}var Zn=14,pn={name:"",filters:{insight:O.s.TRENDS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}]}},Jt={name:"",filters:{insight:O.s.FUNNELS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}],layout:lt.k.horizontal}},Xt=Object(Pe.kea)({props:{},path:["scenes","experiment","secondaryMetricsLogic"],connect:{values:[De.a,["currentTeamId"]]},actions:{setSecondaryMetrics:function(r){return{secondaryMetrics:r}},createNewMetric:!0,addNewMetric:function(r){return{metric:r}},updateMetricFilters:function(r){return{filters:r}},setFilters:function(r){return{filters:r}},setPreviewInsightId:function(r){return{shortId:r}},createPreviewInsight:function(r){return{filters:r}},showModal:!0,hideModal:!1,changeInsightType:function(r){return{type:r}},setCurrentMetricName:function(r){return{name:r}},deleteMetric:function(r){return{metricId:r}}},loaders:function(r){var l=r.values;return{experiments:[[],{loadExperiments:function(){var i=ke()(U.a.mark(function j(){var b;return U.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,dt.b.get("api/projects/".concat(l.currentTeamId,"/experiments"));case 2:return b=T.sent,T.abrupt("return",b.results);case 4:case"end":return T.stop()}},j)}));function f(){return i.apply(this,arguments)}return f}()}]}},reducers:function(r){var l=r.props;return{previewInsightId:[null,{setPreviewInsightId:function(f,j){var b=j.shortId;return b}}],metrics:[l.initialMetrics,{addNewMetric:function(f,j){var b=j.metric;return[].concat(P()(f),[rn({},b)])},deleteMetric:function(f,j){var b=j.metricId;return f.filter(function(u,T){return T!==b})}}],modalVisible:[!1,{showModal:function(){return!0},hideModal:function(){return!1}}],currentMetricName:["",{setCurrentMetricName:function(f,j){var b=j.name;return b}}],currentMetric:[pn,{changeInsightType:function(f,j){var b=j.type;return b===O.s.TRENDS?pn:f.filters.insight===O.s.TRENDS?Jt:pn},updateMetricFilters:function(f,j){var b=j.filters;return rn(rn({},f),{},{filters:b})}}]}},listeners:function(r){var l=r.actions,i=r.values,f=r.props;return{createPreviewInsight:function(){var j=ke()(U.a.mark(function u(T){var v,ae,ye,Le;return U.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return v=T.filters,(v==null?void 0:v.insight)===O.s.FUNNELS?ae=Object(Ue.a)(rn({insight:O.s.FUNNELS,funnel_viz_type:O.o.Steps,display:O.d.FunnelViz,date_from:Object(he.a)().subtract(Zn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(he.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:lt.k.horizontal},v)):ae=Object(Ue.a)(rn({insight:O.s.TRENDS,date_from:Object(he.a)().subtract(Zn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(he.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},v)),ye={description:"",tags:[],filters:ae,result:null},B.next=5,dt.b.create("api/projects/".concat(De.a.values.currentTeamId,"/insights"),ye);case 5:Le=B.sent,l.setPreviewInsightId(Le.short_id);case 7:case"end":return B.stop()}},u)}));function b(u){return j.apply(this,arguments)}return b}(),setFilters:function(b){var u=b.filters;if(u.insight===O.s.FUNNELS){var T;(T=o.a.findMounted({dashboardItemId:i.previewInsightId}))===null||T===void 0||T.actions.setFilters(u)}else{var v;(v=Nt.a.findMounted({dashboardItemId:i.previewInsightId}))===null||v===void 0||v.actions.setFilters(u)}},createNewMetric:function(){l.addNewMetric(rn(rn({},i.currentMetric),{},{name:i.currentMetricName})),f.onMetricsChange(i.metrics),l.changeInsightType(O.s.TRENDS),l.setCurrentMetricName("")},deleteMetric:function(){f.onMetricsChange(i.metrics)},changeInsightType:function(){return l.createPreviewInsight(i.currentMetric.filters)}}},events:function(r){var l=r.actions;return{afterMount:function(){l.createPreviewInsight()}}}}),Ft=t("./frontend/src/lib/components/LemonButton/index.ts"),Vn=t("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx");function qn(a,r){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);r&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,i)}return l}function Qt(a){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?qn(Object(l),!0).forEach(function(i){He()(a,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):qn(Object(l)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(l,i))})}return a}function Nn(a){var r=a.onMetricsChange,l=a.initialMetrics,i=Xt({onMetricsChange:r,initialMetrics:l}),f=Object(Pe.useValues)(i),j=f.previewInsightId,b=f.metrics,u=f.modalVisible,T=f.currentMetric,v=Object(Pe.useActions)(i),ae=v.createNewMetric,ye=v.updateMetricFilters,Le=v.setFilters,R=v.showModal,B=v.hideModal,g=v.changeInsightType,ze=v.setCurrentMetricName,Dt=v.deleteMetric,Bt=Object(Pe.useValues)(Object(V.c)({dashboardItemId:j,syncWithUrl:!1})),Ut=Bt.insightProps,W=Object(Pe.useValues)(Object(o.a)(Ut)),ln=W.isStepsEmpty,on=W.filterSteps;return n.a.createElement(n.a.Fragment,null,n.a.createElement(An.a,{title:"Add secondary metric",visible:u,destroyOnClose:!0,onCancel:B,footer:null,style:{minWidth:600}},n.a.createElement(F.a,{layout:"vertical",initialValues:{type:O.s.TRENDS},onValuesChange:function(rt){rt.name&&ze(rt.name)},onFinish:function(){ae(),B()},scrollToFirstError:!0,requiredMark:!1},n.a.createElement(F.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"You have to enter a name."}]},n.a.createElement(le.a,null)),n.a.createElement(F.a.Item,{name:"type",label:"Type"},n.a.createElement(me.a,{style:{display:"flex"},value:T.filters.insight,onChange:function(){g()},suffixIcon:n.a.createElement(Je.a,null),dropdownMatchSelectWidth:!1},n.a.createElement(me.a.Option,{value:O.s.TRENDS},n.a.createElement(h.a,null,n.a.createElement("span",null,n.a.createElement("b",null,"Trend")))),n.a.createElement(me.a.Option,{value:O.s.FUNNELS},n.a.createElement(h.a,null,n.a.createElement("span",null,n.a.createElement("b",null,"Conversion funnel")))))),n.a.createElement(F.a.Item,{name:"query",label:"Query"},n.a.createElement(Qe.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},T.filters.insight===O.s.FUNNELS&&n.a.createElement(X.a,{filters:T.filters,setFilters:function(rt){var Mt=Qt(Qt({},T.filters),{},{insight:O.s.FUNNELS},rt);ye(Mt),Le(Mt)},typeKey:"funnel-preview-metric",mathAvailability:Vn.b.None,hideDeleteBtn:on.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!ln,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ee.a.EventProperties,ee.a.PersonProperties,ee.a.Cohorts,ee.a.Elements],rowClassName:"action-filters-bordered"}),T.filters.insight===O.s.TRENDS&&n.a.createElement(X.a,{entitiesLimit:1,horizontalUI:!0,filters:T.filters,setFilters:function(rt){var Mt=Qt(Qt({},T.filters),{},{insight:O.s.TRENDS},rt);ye(Mt),Le(Mt)},typeKey:"trend-preview-metric",buttonCopy:"Add graph series",showSeriesIndicator:!0,propertiesTaxonomicGroupTypes:[ee.a.EventProperties,ee.a.PersonProperties,ee.a.Cohorts,ee.a.Elements]}))),n.a.createElement(F.a.Item,{name:"metric-preview",label:"Metric preview"},n.a.createElement(Pe.BindLogic,{logic:V.c,props:Ut},n.a.createElement(On.a,{disableHeader:!0,disableTable:!0}))),n.a.createElement(y.a,{justify:"end"},n.a.createElement(Ft.a,{type:"secondary",className:"mr-05",onClick:function(){return B()}},"Cancel"),n.a.createElement(Ft.a,{type:"primary",htmlType:"submit"},"Save")))),n.a.createElement(y.a,null,n.a.createElement(h.a,null,b.map(function(ge,rt){return n.a.createElement(y.a,{key:rt,className:"mt"},n.a.createElement(y.a,{align:"middle",className:"full-width border-all",style:{padding:8}},n.a.createElement("div",{style:{fontWeight:500}},"Name")," ",n.a.createElement("div",{className:"metric-name"},ge.name),n.a.createElement(xa.a,{className:"text-danger",style:{padding:8},onClick:function(){return Dt(rt)}})),n.a.createElement(Qe.a,{className:"full-width",style:{borderTop:"none"},bodyStyle:{padding:0}},ge.filters.insight===O.s.FUNNELS&&n.a.createElement(X.a,{filters:ge.filters,setFilters:function(Wt){var Tt=Qt(Qt({},ge.filters),{},{insight:O.s.FUNNELS},Wt);ye(Tt),Le(Tt)},typeKey:"funnel-preview-".concat(rt),mathAvailability:Vn.b.None,hideDeleteBtn:on.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!ln,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ee.a.EventProperties,ee.a.PersonProperties,ee.a.Cohorts,ee.a.Elements],rowClassName:"action-filters-bordered",readOnly:!0}),ge.filters.insight===O.s.TRENDS&&n.a.createElement(X.a,{horizontalUI:!0,filters:ge.filters,setFilters:function(Wt){var Tt=Qt(Qt({},ge.filters),{},{insight:O.s.TRENDS},Wt);ye(Tt),Le(Tt)},typeKey:"trend-preview-".concat(rt),buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,propertiesTaxonomicGroupTypes:[ee.a.EventProperties,ee.a.PersonProperties,ee.a.Cohorts,ee.a.Elements],readOnly:!0})))}),b&&!(b.length>2)&&n.a.createElement(h.a,null,n.a.createElement("div",{className:"mb-05 mt"},n.a.createElement(Rn.a,{style:{color:"var(--primary)",minWidth:240},onClick:R},"Add metric"))))))}try{Nn.displayName="SecondaryMetrics",Nn.__docgenInfo={description:"",displayName:"SecondaryMetrics",props:{onMetricsChange:{defaultValue:null,description:"",name:"onMetricsChange",required:!0,type:{name:"(metrics: SecondaryExperimentMetric[]) => void"}},initialMetrics:{defaultValue:null,description:"",name:"initialMetrics",required:!0,type:{name:"SecondaryExperimentMetric[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"]={docgenInfo:Nn.__docgenInfo,name:"SecondaryMetrics",path:"frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"})}catch(a){}var xn=t("./frontend/src/lib/colors.ts"),sn=t("./frontend/src/lib/components/EntityFilterInfo.tsx"),ja=t("./frontend/src/lib/components/EditableField/EditableField.tsx"),jn=t("./frontend/src/lib/components/Link.tsx"),Ca=t("./frontend/src/lib/logic/featureFlagLogic.ts"),ea=t("./node_modules/antd/es/slider/index.js"),Bn=t("./node_modules/antd/es/input-number/index.js"),Va=t("./frontend/src/lib/components/InsightLabel/index.tsx"),Sa=t("./frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.tsx");function kt(){var a=Object(qe.useState)(!1),r=k()(a,2),l=r[0],i=r[1],f=Object(qe.useState)(!1),j=k()(f,2),b=j[0],u=j[1];return n.a.createElement(Qe.a,{className:"experiment-workflow",title:n.a.createElement("span",{className:"card-secondary"},"Experiment workflow")},n.a.createElement(y.a,null,n.a.createElement(h.a,{className:"exp-workflow-step step-completed full-width"},n.a.createElement(y.a,{align:"middle"},n.a.createElement(Ee.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}),n.a.createElement("b",{className:"ml-05"},"Create experiment")),n.a.createElement("div",{className:"ml-2"},"Set variants, select participants, and add secondary metrics"))),n.a.createElement(y.a,null,n.a.createElement(h.a,{className:"full-width exp-workflow-step ".concat(l?"step-completed":""),onClick:function(){return i(!l)}},n.a.createElement(y.a,{align:"middle"},l?n.a.createElement(Ee.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):n.a.createElement(Ee.IconRadioButtonUnchecked,null),n.a.createElement("b",{className:"ml-05"},"Validate experiment")),n.a.createElement("div",{className:"ml-2"},"Once you've written your code, it's a good idea to test that each variant behaves as you'd expect."))),n.a.createElement(y.a,null,n.a.createElement(h.a,{className:"full-width exp-workflow-step ".concat(b?"step-completed":""),onClick:function(){return u(!b)}},n.a.createElement(y.a,{align:"middle"},b?n.a.createElement(Ee.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):n.a.createElement(Ee.IconRadioButtonUnchecked,null),n.a.createElement("b",{className:"ml-05"},"Launch experiment")),n.a.createElement("div",{className:"ml-2"},"Run your experiment, monitor results, and decide when to terminate your experiment."))))}function Fn(a){var r,l,i,f,j,b,u=a.experiment,T=a.trendCount,v=a.funnelConversionRate,ae=a.trendExposure,ye=a.funnelSampleSize,Le=a.funnelEntrants,R=(u==null?void 0:u.id)||"new",B=Object(Pe.useValues)(an({experimentId:R})),g=B.experimentInsightType,ze=B.editingExistingExperiment,Dt=B.minimumDetectableChange,Bt=B.expectedRunningTime,Ut=B.aggregationLabel,W=Object(Pe.useActions)(an({experimentId:R})),ln=W.setNewExperimentData,on=g===O.s.FUNNELS&&100-v<50?100-v:50,ge=Object(he.a)().diff(Object(he.a)(u==null?void 0:u.start_date),"hour"),rt=0;u!=null&&u.start_date?rt=Bt(Le||1,ye||0,ge):rt=Bt(Le||1,ye||0);var Mt=Object(he.a)(u==null?void 0:u.start_date).add(rt,"hour"),Wt=!(u!=null&&u.end_date)&&ge>=24&&Le&&ye,Tt=Object(Oe.s)(u==null||(r=u.filters)===null||r===void 0?void 0:r.properties);return n.a.createElement(y.a,null,n.a.createElement(h.a,{span:!(u!=null&&u.start_date)&&R!=="new"&&!ze?12:24},R==="new"&&n.a.createElement(y.a,{className:"experiment-preview-row"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("b",null,"Experiment preview")),n.a.createElement("div",{className:"text-muted"},"Here are the baseline metrics for your experiment. Adjust your minimum detectible threshold to adjust for the smallest conversion value you\u2019ll accept, and the experiment duration."," "))),(R==="new"||ze)&&n.a.createElement(y.a,{className:"mb"},n.a.createElement(h.a,{span:24},n.a.createElement("div",null,n.a.createElement("b",null,"Minimum acceptable improvement"),n.a.createElement(_e.a,{title:"Minimum acceptable improvement is a calculation that estimates the smallest significant improvement you are willing to accept."},n.a.createElement(en.a,{style:{marginLeft:4}}))),n.a.createElement(y.a,{className:"mde-slider"},n.a.createElement(h.a,{span:8},n.a.createElement(ea.a,{defaultValue:5,value:Dt,min:1,max:on,trackStyle:{background:"var(--primary)"},handleStyle:{background:"var(--primary)"},onChange:function(ot){ln({parameters:{minimum_detectable_effect:ot}})},tipFormatter:function(ot){return"".concat(ot,"%")}})),n.a.createElement(Bn.a,{min:1,max:on,defaultValue:5,formatter:function(ot){return"".concat(ot,"%")},style:{margin:"0 16px"},value:Dt,onChange:function(ot){ln({parameters:{minimum_detectable_effect:ot}})}})))),n.a.createElement(y.a,{className:"experiment-preview-row ".concat(u!=null&&u.start_date?"mr":"")},g===O.s.TRENDS?n.a.createElement(n.a.Fragment,null,!(u!=null&&u.start_date)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{span:6},n.a.createElement("div",{className:"card-secondary"},"Baseline Count"),n.a.createElement("div",{className:"l4"},Object(Oe.O)(T||0))),n.a.createElement(h.a,{span:6},n.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Count"),n.a.createElement("div",{className:"l4"},Object(Oe.O)(T+Math.ceil(T*(Dt/100))||0)))),n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Recommended running time"),n.a.createElement("div",null,n.a.createElement("span",{className:"l4"},"~",Object(Oe.O)(ae||0))," days"))):n.a.createElement(n.a.Fragment,null,!(u!=null&&u.start_date)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Baseline Conversion Rate"),n.a.createElement("div",{className:"l4"},v.toFixed(1),"%")),n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Conversion Rate"),n.a.createElement("div",{className:"l4"},(v+Dt).toFixed(1),"%"))),n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Recommended Sample Size"),n.a.createElement("div",{className:"pb"},n.a.createElement("span",{className:"l4"},"~",Object(Oe.O)(ye||0))," persons")),!(u!=null&&u.start_date)&&n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Recommended running time"),n.a.createElement("div",null,n.a.createElement("span",{className:"l4"},"~",Object(Oe.O)(rt||0))," days"))),n.a.createElement(y.a,{className:"full-width mt"},n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Experiment variants"),n.a.createElement("ul",{className:"variants-list"},u==null||(l=u.parameters)===null||l===void 0||(i=l.feature_flag_variants)===null||i===void 0?void 0:i.map(function(st,ot){return n.a.createElement("li",{key:ot},st.key)}))),n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary"},"Participants"),n.a.createElement("div",null,Tt!=null&&Tt.length?n.a.createElement("div",null,Tt==null?void 0:Tt.map(function(st){return n.a.createElement(Sa.c,{key:st.key,item:st,style:{margin:2,cursor:"default"}})})):n.a.createElement(n.a.Fragment,null,"100% of"," ",(u==null||(f=u.filters)===null||f===void 0?void 0:f.aggregation_group_type_index)!=null?Object(Oe.j)(Ut(u.filters.aggregation_group_type_index).plural):"users")))),n.a.createElement(y.a,{className:"full-width"},R!=="new"&&!ze&&n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary mt"},"Start date"),u!=null&&u.start_date?n.a.createElement("span",null,Object(he.a)(u==null?void 0:u.start_date).format("D MMM YYYY")):n.a.createElement("span",{className:"description"},"Not started yet")),g===O.s.FUNNELS&&Wt?n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary mt"},"Expected end date"),n.a.createElement("span",null,Mt.isAfter(Object(he.a)())?Mt.format("D MMM YYYY"):Object(he.a)().format("D MMM YYYY"))):null,(u==null?void 0:u.end_date)&&n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"card-secondary mt"},"Completed date"),n.a.createElement("span",null,Object(he.a)(u==null?void 0:u.end_date).format("D MMM YYYY"))))),R!=="new"&&!ze&&n.a.createElement(y.a,{className:"experiment-preview-row"},n.a.createElement(h.a,null,n.a.createElement("div",{className:"card-secondary mb-05"},g===O.s.FUNNELS?"Conversion goal steps":"Trend goal"),[].concat(P()((u==null||(j=u.filters)===null||j===void 0?void 0:j.events)||[]),P()((u==null||(b=u.filters)===null||b===void 0?void 0:b.actions)||[])).sort(function(st,ot){return(st.order||0)-(ot.order||0)}).map(function(st,ot){var Pn;return n.a.createElement(h.a,{key:ot,className:"mb-05"},n.a.createElement(y.a,{style:{marginBottom:4}},n.a.createElement("div",{className:"preview-conversion-goal-num"},g===O.s.FUNNELS?(st.order||0)+1:ot+1),n.a.createElement("b",null,n.a.createElement(Va.b,{action:st,showCountedByTag:g===O.s.TRENDS,hideIcon:!0}))),(Pn=st.properties)===null||Pn===void 0?void 0:Pn.map(function(ht){return n.a.createElement(Sa.c,{key:ht.key,item:ht})}))})))),R!=="new"&&!ze&&!(u!=null&&u.start_date)&&n.a.createElement(h.a,{span:12,className:"pl"},n.a.createElement(kt,null)))}try{Fn.displayName="ExperimentPreview",Fn.__docgenInfo={description:"",displayName:"ExperimentPreview",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}},trendCount:{defaultValue:null,description:"",name:"trendCount",required:!0,type:{name:"number"}},trendExposure:{defaultValue:null,description:"",name:"trendExposure",required:!1,type:{name:"number"}},funnelSampleSize:{defaultValue:null,description:"",name:"funnelSampleSize",required:!1,type:{name:"number"}},funnelConversionRate:{defaultValue:null,description:"",name:"funnelConversionRate",required:!0,type:{name:"number"}},funnelEntrants:{defaultValue:null,description:"",name:"funnelEntrants",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"]={docgenInfo:Fn.__docgenInfo,name:"ExperimentPreview",path:"frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"})}catch(a){}var Cn=t("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx");function fn(a){var r,l,i,f=a.experiment,j=Object(qe.useState)("control"),b=k()(j,2),u=b[0],T=b[1];return n.a.createElement(Qe.a,{title:n.a.createElement("span",{className:"card-secondary"},"Feature flag usage and implementation"),className:"experiment-implementation-details"},n.a.createElement(y.a,{justify:"space-between",className:"mb-05"},n.a.createElement("div",null,n.a.createElement("span",{className:"mr-05"},"Variant group"),n.a.createElement(me.a,{onChange:T,defaultValue:"control",suffixIcon:n.a.createElement(Je.a,null)},f==null||(r=f.parameters)===null||r===void 0||(l=r.feature_flag_variants)===null||l===void 0?void 0:l.map(function(v,ae){return n.a.createElement(me.a.Option,{key:ae,value:v.key},v.key)}))),n.a.createElement("div",null,n.a.createElement(Kn,null))),n.a.createElement("b",null,"Implement your experiment in code"),n.a.createElement(Cn.a,{language:Cn.b.JavaScript,wrap:!0},"if (posthog.getFeatureFlag('".concat((i=f==null?void 0:f.feature_flag_key)!==null&&i!==void 0?i:"","') === '").concat(u,`') {
    // where '`).concat(u,`' is the variant, run your code here
}`)),n.a.createElement("b",null,"Test that it works"),n.a.createElement(Cn.a,{language:Cn.b.JavaScript},"posthog.feature_flags.override({'".concat(f==null?void 0:f.feature_flag_key,"': '").concat(u,"'})")),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://posthog.com/docs/user-guides/feature-flags"},n.a.createElement(y.a,{align:"middle"},"Experiment implementation guide",n.a.createElement(Ee.IconOpenInNew,{className:"ml-05"}))))}try{fn.displayName="ExperimentImplementationDetails",fn.__docgenInfo={description:"",displayName:"ExperimentImplementationDetails",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"]={docgenInfo:fn.__docgenInfo,name:"ExperimentImplementationDetails",path:"frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"})}catch(a){}function ta(a,r){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);r&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,i)}return l}function Dn(a){for(var r=1;r<arguments.length;r++){var l=arguments[r]!=null?arguments[r]:{};r%2?ta(Object(l),!0).forEach(function(i){He()(a,i,l[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):ta(Object(l)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(l,i))})}return a}var na={component:Sn,logic:an,paramsToProps:function(r){var l=r.params.id;return{experimentId:l==="new"?"new":parseInt(l)}}};function Sn(){var a,r,l,i,f,j,b,u,T,v,ae,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Le=ye.id,R=Object(Pe.useValues)(an({experimentId:Le})),B=R.newExperimentData,g=R.experimentData,ze=R.experimentInsightId,Dt=R.minimumSampleSizePerVariant,Bt=R.recommendedExposureForCountData,Ut=R.variants,W=R.experimentResults,ln=R.countDataForVariant,on=R.editingExistingExperiment,ge=R.experimentInsightType,rt=R.experimentResultsLoading,Mt=R.parsedSecondaryMetrics,Wt=R.areResultsSignificant,Tt=R.conversionRateForVariant,st=R.getIndexForVariant,ot=R.significanceBannerDetails,Pn=R.areTrendResultsConfusing,ht=R.taxonomicGroupTypesForSelection,aa=R.groupTypes,Pa=R.aggregationLabel,zt=R.secondaryMetricResults,ra=R.experimentDataLoading,sa=R.secondaryMetricResultsLoading,xt=Object(Pe.useActions)(an({experimentId:Le})),Rt=xt.setNewExperimentData,Ta=xt.createExperiment,Mn=xt.launchExperiment,Yt=xt.setFilters,vn=xt.setEditExperiment,la=xt.endExperiment,oa=xt.addExperimentGroup,kn=xt.updateExperiment,Ba=xt.updateExperimentGroup,Ka=xt.removeExperimentGroup,Ia=xt.setSecondaryMetrics,Tn=xt.setExperimentInsightType,cn=xt.archiveExperiment,ia=Object(Pe.useValues)(Ca.a),Un=ia.featureFlags,Na=F.a.useForm(),Fa=k()(Na,1),Da=Fa[0],Ma=Object(qe.useState)(!0),Wn=k()(Ma,2),In=Wn[0],ca=Wn[1],ka=Object(Pe.useValues)(Object(V.c)({dashboardItemId:ze})),zn=ka.insightProps,gn=Object(Pe.useValues)(Object(o.a)(zn)),La=gn.isStepsEmpty,wa=gn.filterSteps,da=gn.filters,Ln=gn.results,Aa=gn.conversionMetrics,ua=Object(Pe.useValues)(Object(Nt.a)(zn)),Yn=ua.filters,ma=ua.results,$n=Aa.totalRate*100,Ra=Dt($n),pa=Ra*Ut.length,fa=(a=ma[0])===null||a===void 0?void 0:a.count,va=Ln==null||(r=Ln[0])===null||r===void 0?void 0:r.count,Hn=Bt(fa),Zt=Math.floor(24/(Ut.length+2)),Gn=ge===O.s.FUNNELS&&(W==null?void 0:W.insight)?W.insight.reduce(function(H,G){var vt;return((vt=G[0])===null||vt===void 0?void 0:vt.count)+H},0):0,Ua=ge===O.s.FUNNELS?(Gn||0)/((g==null||(l=g.parameters)===null||l===void 0?void 0:l.recommended_sample_size)||1)*100:Object(he.a)().diff(g==null?void 0:g.start_date,"day")/((g==null||(i=g.parameters)===null||i===void 0?void 0:i.recommended_running_time)||1)*100,_a={running:"green",draft:"default",complete:"purple"},ga=function(){if(g!=null&&g.start_date){if(!(g!=null&&g.end_date))return"running"}else return"draft";return"complete"},Jn=[{background:"#35416b",color:"#fff"},{background:"#C278CE66",color:"#35416B"},{background:"#FFE6AE",color:"#35416B"},{background:"#8DA9E74D",color:"#35416B"}];return n.a.createElement(n.a.Fragment,null,Le==="new"||on?n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{align:"middle",justify:"space-between",style:{borderBottom:"1px solid var(--border)",marginBottom:"1rem",paddingBottom:8}},n.a.createElement(yt.a,{title:"New experiment"}),n.a.createElement(y.a,null,n.a.createElement(Ft.a,{type:"secondary",className:"mr-05",onClick:function(){return ft.router.actions.push(Se.a.experiments())}},"Cancel"),n.a.createElement(Ft.a,{type:"primary",htmlType:"submit",form:"new-experiment"},"Save"))),n.a.createElement(F.a,{name:"new-experiment",layout:"vertical",className:"experiment-form",form:Da,onValuesChange:function(G){return Rt(G)},initialValues:{name:B==null?void 0:B.name,feature_flag_key:B==null?void 0:B.feature_flag_key,description:B==null?void 0:B.description},onFinish:function(){return Ta(!0,Hn,pa)},requiredMark:!1,scrollToFirstError:!0},n.a.createElement("div",null,n.a.createElement(Pe.BindLogic,{logic:V.c,props:zn},n.a.createElement(y.a,null,n.a.createElement(h.a,{span:12,style:{paddingRight:24}},n.a.createElement(y.a,{className:"full-width"},n.a.createElement(F.a.Item,{style:{marginRight:16},label:"Name",name:"name",rules:[{required:!0,message:"You have to enter a name."}]},n.a.createElement(le.a,{"data-attr":"experiment-name",className:"ph-ignore-input"})),n.a.createElement(F.a.Item,{style:{marginBottom:"1rem"},label:n.a.createElement("div",null,"Feature flag key"," ",n.a.createElement(_e.a,{title:"Enter a unique key. This will create a new feature flag which will be associated with this experiment."},n.a.createElement(en.a,null))),name:"feature_flag_key",rules:[{required:!0,message:"You have to enter a feature flag key name."}]},n.a.createElement(le.a,{"data-attr":"experiment-feature-flag-key",disabled:on}))),n.a.createElement(F.a.Item,{label:n.a.createElement("div",null,"Description ",n.a.createElement("span",{className:"text-muted"},"(optional)")),name:"description"},n.a.createElement(le.a.TextArea,{"data-attr":"experiment-description",className:"ph-ignore-input",placeholder:"Adding a helpful description can ensure others know what this experiment is about."})),(B==null||(f=B.parameters)===null||f===void 0?void 0:f.feature_flag_variants)&&n.a.createElement(h.a,null,n.a.createElement("label",null,n.a.createElement("b",null,"Experiment variants")),n.a.createElement("div",{className:"text-muted"},"Participants are divided into variant groups evenly. All experiments must consist of a control group and at least one test group. Experiments may have at most 3 test groups. Variant names can only contain letters, numbers, hyphens, and underscores."),n.a.createElement(h.a,{className:"variants"},B.parameters.feature_flag_variants.map(function(H,G){return n.a.createElement(F.a,{key:"".concat(H,"-").concat(G),initialValues:{key:H.key},onValuesChange:function(Lt){Ba(Lt,G)}},n.a.createElement(y.a,{key:"".concat(H,"-").concat(G),className:"feature-flag-variant ".concat(G===0?"border-top":G>=3?"border-bottom":"")},n.a.createElement("div",{className:"variant-label",style:Dn({},Jn[G])},G===0?"Control":"Test"),n.a.createElement(F.a.Item,{name:"key",rules:[{required:!0,message:"Key should not be empty."},{required:!0,pattern:/^([A-z]|[a-z]|[0-9]|-|_)+$/,message:n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a,{style:{color:"#F96132"}})," ","Variant names can only contain letters, numbers, hyphens, and underscores.")}],style:{display:"contents"}},n.a.createElement(le.a,{disabled:G===0,"data-attr":"feature-flag-variant-key","data-key-index":G.toString(),className:"ph-ignore-input",placeholder:"example-variant-".concat(G+1),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1})),n.a.createElement("div",{className:"float-right"},!(G===0||G===1)&&n.a.createElement(_e.a,{title:"Delete this variant",placement:"bottomLeft"},n.a.createElement(Ft.a,{type:"primary-alt",compact:!0,icon:n.a.createElement(Ee.IconDelete,null),onClick:function(){return Ka(G)}})))))}),B.parameters.feature_flag_variants.length<4&&n.a.createElement("div",{className:"feature-flag-variant border-bottom"},n.a.createElement(Ft.a,{onClick:function(){return oa()},fullWidth:!0,icon:n.a.createElement(Ee.IconPlusMini,null)},"Add test variant")))),n.a.createElement(y.a,{className:"person-selection"},n.a.createElement("div",{className:"mb-05"},n.a.createElement("strong",null,"Select participants")),n.a.createElement(h.a,null,n.a.createElement("div",{className:"text-muted"},"Select the entities who will participate in this experiment. If no filters are set, 100% of participants will be targeted."),n.a.createElement("div",{className:"mt mb-05"},n.a.createElement("strong",null,"Participant type")),n.a.createElement(me.a,{value:(B==null||(j=B.filters)===null||j===void 0?void 0:j.aggregation_group_type_index)!=null?B.filters.aggregation_group_type_index:-1,onChange:function(G){var vt,Lt=G!==-1?G:void 0;Lt!=(B==null||(vt=B.filters)===null||vt===void 0?void 0:vt.aggregation_group_type_index)&&(Yt({properties:[],aggregation_group_type_index:Lt}),Rt({filters:{aggregation_group_type_index:Lt,properties:[]}}))},"data-attr":"participant-aggregation-filter",dropdownMatchSelectWidth:!1},n.a.createElement(me.a.Option,{key:-1,value:-1},"Persons"),aa.map(function(H){return n.a.createElement(me.a.Option,{key:H.group_type_index,value:H.group_type_index},Object(Oe.j)(Pa(H.group_type_index).plural))})),n.a.createElement("div",{className:"mt"},n.a.createElement("strong",null,"Filters")),n.a.createElement(Ze.a,{pageKey:"experiment-participants-property",propertyFilters:ge===O.s.FUNNELS?Object(Oe.s)(da.properties):Object(Oe.s)(Yn.properties),onChange:function(G){Rt({filters:{properties:G}}),Yt({properties:G.filter(at.b)})},taxonomicGroupTypes:ht})))),n.a.createElement(y.a,{className:"metrics-selection"},n.a.createElement(h.a,{span:12},n.a.createElement("div",{className:"mb-05"},n.a.createElement("b",null,"Goal type"),n.a.createElement("div",{className:"text-muted"},ge===O.s.TRENDS?"Track counts of a specific event or action":"Track how many persons complete a sequence of actions and or events")),n.a.createElement(me.a,{style:{display:"flex"},value:ge,onChange:Tn,suffixIcon:n.a.createElement(Je.a,null),dropdownMatchSelectWidth:!1},n.a.createElement(me.a.Option,{value:O.s.TRENDS},n.a.createElement(h.a,null,n.a.createElement("span",null,n.a.createElement("b",null,"Trend")))),n.a.createElement(me.a.Option,{value:O.s.FUNNELS},n.a.createElement(h.a,null,n.a.createElement("span",null,n.a.createElement("b",null,"Conversion funnel"))))),n.a.createElement("div",{className:"mb mt"},n.a.createElement("b",null,"Experiment goal"),ge===O.s.TRENDS&&n.a.createElement("div",{className:"text-muted"},"Trend-based experiments can have at most one graph series. This metric is used to track the progress of your experiment.")),n.a.createElement(y.a,null,n.a.createElement(Qe.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},ge===O.s.FUNNELS&&n.a.createElement(X.a,{filters:da,setFilters:function(G){Rt({filters:G}),Yt(G)},typeKey:"EditFunnel-action",mathAvailability:Vn.b.None,hideDeleteBtn:wa.length===1,buttonCopy:"Add funnel step",buttonType:"link",showSeriesIndicator:!La,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ee.a.EventProperties,ee.a.PersonProperties,ee.a.Cohorts,ee.a.Elements],rowClassName:"action-filters-bordered"}),ge===O.s.TRENDS&&n.a.createElement(X.a,{horizontalUI:!0,filters:Yn,setFilters:function(G){Rt({filters:G}),Yt(G)},typeKey:"experiment-trends",buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,propertiesTaxonomicGroupTypes:[ee.a.EventProperties,ee.a.PersonProperties,ee.a.Cohorts,ee.a.Elements],customRowPrefix:Yn.insight===O.s.LIFECYCLE?n.a.createElement(n.a.Fragment,null,"Showing ",n.a.createElement("b",null,"Unique users")," who did"):void 0}))),Un[lt.i.EXPERIMENTS_SECONDARY_METRICS]&&n.a.createElement(h.a,{className:"secondary-metrics"},n.a.createElement("div",null,n.a.createElement("b",null,"Secondary metrics"),n.a.createElement("span",{className:"text-muted ml-05"},"(optional)")),n.a.createElement("div",{className:"text-muted",style:{marginTop:4}},"Use secondary metrics to monitor metrics related to your experiment goal. You can add up to three secondary metrics."," "),n.a.createElement(Nn,{onMetricsChange:function(G){return Ia(G)},initialMetrics:Mt}))),n.a.createElement(h.a,{span:12,className:"pl"},n.a.createElement("div",{className:"card-secondary mb"},"Goal preview"),n.a.createElement(On.a,{disableHeader:ge===O.s.TRENDS,disableTable:!0})))),n.a.createElement(y.a,null,n.a.createElement(Qe.a,{className:"experiment-preview"},n.a.createElement(Fn,{experiment:B,trendCount:fa,trendExposure:Hn,funnelSampleSize:pa,funnelEntrants:va,funnelConversionRate:$n}))))),n.a.createElement(Ft.a,{className:"float-right",type:"primary",htmlType:"submit"},"Save"))):!ra&&g?n.a.createElement("div",{className:"view-experiment"},n.a.createElement(y.a,{className:"draft-header"},n.a.createElement(y.a,{justify:"space-between",align:"middle",className:"full-width pb"},n.a.createElement(h.a,null,n.a.createElement(y.a,null,n.a.createElement(yt.a,{style:{paddingRight:8},title:"".concat(g==null?void 0:g.name),buttons:n.a.createElement(n.a.Fragment,null,n.a.createElement(Pt.a,{explicitValue:g.feature_flag_key,iconStyle:{color:"var(--text-muted-alt)"}},n.a.createElement("span",{className:"text-muted"},g.feature_flag_key)),n.a.createElement(_.a,{style:{alignSelf:"center"},color:_a[ga()]},n.a.createElement("b",{className:"uppercase"},ga())),W&&g.end_date&&n.a.createElement(_.a,{style:{alignSelf:"center"},color:Wt?"green":"geekblue"},n.a.createElement("b",{className:"uppercase"},Wt?"Significant Results":"Results not significant")))})),n.a.createElement("span",{className:"exp-description"},g.start_date?n.a.createElement(ja.a,{multiline:!0,name:"description",value:g.description||"",placeholder:"Description (optional)",onSave:function(G){return kn({description:G})},maxLength:400,"data-attr":"experiment-description",compactButtons:!0}):n.a.createElement(n.a.Fragment,null,g.description||"There is no description for this experiment."))),g&&!g.start_date&&n.a.createElement("div",{className:"flex-center"},n.a.createElement(Ft.a,{type:"secondary",className:"mr-05",onClick:function(){return vn(!0)}},"Edit"),n.a.createElement(Ft.a,{type:"primary",onClick:function(){return Mn()}},"Launch")),g&&g.start_date&&!g.end_date&&n.a.createElement(Ft.a,{type:"secondary",status:"danger",onClick:function(){return la()}},"Stop"),(g==null?void 0:g.end_date)&&Object(he.a)().isSameOrAfter(Object(he.a)(g.end_date),"day")&&!g.archived&&n.a.createElement(Ft.a,{type:"secondary",status:"danger",onClick:function(){return cn()}},n.a.createElement("b",null,"Archive")))),n.a.createElement(y.a,null,In&&W&&Wt&&!g.end_date&&n.a.createElement(y.a,{align:"middle",className:"significant-results"},n.a.createElement(h.a,{span:20,style:{fontWeight:500,color:"#497342"}},n.a.createElement("div",null,"Experiment results are significant."," ",g.end_date?"":"You can end your experiment now or let it run until complete.")),n.a.createElement(h.a,{span:4},g.end_date?n.a.createElement(Gt.a,{className:"close-button",onClick:function(){return ca(!1)}}):n.a.createElement(Ft.a,{type:"highlighted",className:"end-experiment-btn",onClick:function(){return la()}},"End experiment"))),In&&W&&!Wt&&!g.end_date&&n.a.createElement(y.a,{align:"top",className:"not-significant-results"},n.a.createElement(h.a,{span:23,style:{fontWeight:500,color:"#2D2D2D"}},n.a.createElement("strong",null,"Your results are not statistically significant"),"."," ",ot," ",g!=null&&g.end_date?"":"We don't recommend ending this experiment yet."," ","See our"," ",n.a.createElement("a",{href:"https://posthog.com/docs/user-guides/experimentation#funnel-experiment-calculations"}," ","experimentation guide"," "),"for more information."," "),n.a.createElement(h.a,{span:1},n.a.createElement(Gt.a,{className:"close-button",onClick:function(){return ca(!1)}}))),In&&g.end_date&&n.a.createElement(y.a,{align:"top",className:"feature-flag-mods"},n.a.createElement(h.a,{span:23,style:{fontWeight:500}},n.a.createElement("strong",null,"Your experiment is complete.")," We recommend removing the feature flag from your code completely, instead of relying on this distribution."," ",n.a.createElement(jn.a,{to:g.feature_flag?Se.a.featureFlag(g.feature_flag):void 0},n.a.createElement("b",null,"Adjust feature flag distribution"))),n.a.createElement(h.a,{span:1},n.a.createElement(Gt.a,{className:"close-button",onClick:function(){return ca(!1)}})))),n.a.createElement(y.a,null,n.a.createElement(z.a,{className:"full-width",defaultActiveKey:"experiment-details"},n.a.createElement(z.a.Panel,{header:n.a.createElement("b",null,"Experiment details"),key:"experiment-details"},n.a.createElement(y.a,null,n.a.createElement(h.a,{span:g!=null&&g.start_date?12:24},n.a.createElement(Fn,{experiment:g,trendCount:fa,trendExposure:g==null?void 0:g.parameters.recommended_running_time,funnelSampleSize:g==null?void 0:g.parameters.recommended_sample_size,funnelConversionRate:$n,funnelEntrants:g!=null&&g.start_date?Gn:va})),!rt&&!W&&g.start_date&&n.a.createElement(h.a,{span:12},n.a.createElement(fn,{experiment:g})),(W||((b=g.secondary_metrics)===null||b===void 0?void 0:b.length)>0)&&n.a.createElement(h.a,{className:"secondary-progress",span:g!=null&&g.start_date?12:24},Un[lt.i.EXPERIMENTS_SECONDARY_METRICS]&&!!(g!=null&&g.secondary_metrics.length)&&n.a.createElement(h.a,{className:"border-bottom"},n.a.createElement(y.a,{align:"middle",justify:"space-between",className:"mb-05"},n.a.createElement(h.a,{className:"card-secondary",span:2*Zt},"Secondary metrics"),g==null||(u=g.parameters)===null||u===void 0||(T=u.feature_flag_variants)===null||T===void 0?void 0:T.map(function(H,G){return n.a.createElement(h.a,{key:G,span:Zt,style:{color:"".concat(ge===O.s.FUNNELS?Object(Qn.k)(st(H.key,O.s.FUNNELS)+1):Object(xn.c)("white")[st(H.key,O.s.TRENDS)])}},n.a.createElement("span",{className:"text-default"},Object(Oe.j)(H.key)))})),Un[lt.i.EXPERIMENTS_SECONDARY_METRICS]&&(g.start_date?sa?n.a.createElement(re.a,{active:!0,paragraph:!1}):n.a.createElement(n.a.Fragment,null,g.secondary_metrics.map(function(H,G){var vt,Lt;return n.a.createElement(y.a,{className:"border-top",key:G,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},n.a.createElement(h.a,{span:2*Zt},Object(Oe.j)(H.name)),g==null||(vt=g.parameters)===null||vt===void 0||(Lt=vt.feature_flag_variants)===null||Lt===void 0?void 0:Lt.map(function(Xn,ha){return n.a.createElement(h.a,{key:ha,span:Zt},zt!=null&&zt[G][Xn.key]?H.filters.insight===O.s.FUNNELS?n.a.createElement(n.a.Fragment,null,((zt==null?void 0:zt[G][Xn.key])*100).toFixed(1),"%"):n.a.createElement(n.a.Fragment,null,Object(Oe.O)(zt==null?void 0:zt[G][Xn.key])):n.a.createElement(n.a.Fragment,null,"--"))}))})):n.a.createElement(n.a.Fragment,null,g.secondary_metrics.map(function(H,G){var vt,Lt;return n.a.createElement(y.a,{className:"border-top",key:G,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},n.a.createElement(h.a,{span:2*Zt},Object(Oe.j)(H.name)),g==null||(vt=g.parameters)===null||vt===void 0||(Lt=vt.feature_flag_variants)===null||Lt===void 0?void 0:Lt.map(function(Xn,ha){return n.a.createElement(h.a,{key:ha,span:Zt},"--")}))})))),W&&n.a.createElement(h.a,{className:"mt"},n.a.createElement("div",{className:"mb-05"},n.a.createElement("b",null,"Experiment progress")),n.a.createElement(ve.a,{strokeWidth:20,showInfo:!1,percent:Ua,strokeColor:"var(--success)"}),ge===O.s.TRENDS&&g.start_date&&n.a.createElement(y.a,{justify:"space-between",className:"mt-05"},g.end_date?n.a.createElement("div",null,"Ran for"," ",n.a.createElement("b",null,Object(he.a)(g.end_date).diff(g.start_date,"day"))," ","days"):n.a.createElement("div",null,n.a.createElement("b",null,Object(he.a)().diff(g.start_date,"day"))," ","days running"),n.a.createElement("div",null,"Goal:"," ",n.a.createElement("b",null,g==null||(v=g.parameters)===null||v===void 0?void 0:v.recommended_running_time)," ","days")),ge===O.s.FUNNELS&&n.a.createElement(y.a,{justify:"space-between",className:"mt-05"},g.end_date?n.a.createElement("div",null,"Saw"," ",n.a.createElement("b",null,Object(Oe.O)(Gn))," ","participants"):n.a.createElement("div",null,n.a.createElement("b",null,Object(Oe.O)(Gn))," ","participants seen"),n.a.createElement("div",null,"Goal:"," ",n.a.createElement("b",null,Object(Oe.O)((g==null||(ae=g.parameters)===null||ae===void 0?void 0:ae.recommended_sample_size)||0))," ","participants"))))))),!(g!=null&&g.start_date)&&n.a.createElement("div",{className:"mt full-width"},n.a.createElement(fn,{experiment:g}))),n.a.createElement("div",{className:"experiment-result"},W?n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{justify:"space-around",style:{flexFlow:"nowrap"}},Object.keys(W.probability).sort(function(H,G){return W.probability[G]-W.probability[H]}).map(function(H,G){return n.a.createElement(h.a,{key:G,className:"pr"},n.a.createElement("div",null,n.a.createElement("b",null,Object(Oe.j)(H))),ge===O.s.TRENDS?n.a.createElement(y.a,null,n.a.createElement("b",{style:{paddingRight:4}},n.a.createElement(y.a,null,"action"in W.insight[0]&&n.a.createElement(sn.a,{filter:W.insight[0].action}),n.a.createElement("span",{style:{paddingLeft:4}},"count:")))," ",ln(H)," ",Pn&&G===0&&n.a.createElement(_e.a,{placement:"right",title:"It might seem confusing that the best variant has lower absolute count, but this can happen when fewer people are exposed to this variant, so its relative count is higher."},n.a.createElement(en.a,{style:{padding:"4px 2px"}}))):n.a.createElement(y.a,null,n.a.createElement("b",{style:{paddingRight:4}},"Conversion rate:")," ",Tt(H),"%"),n.a.createElement(ve.a,{percent:Number((W.probability[H]*100).toFixed(1)),size:"small",showInfo:!1,strokeColor:ge===O.s.FUNNELS?Object(Qn.k)(st(H,O.s.FUNNELS)+1):Object(xn.c)("white")[st(H,O.s.TRENDS)]}),n.a.createElement("div",null,"Probability that this variant is the best:"," ",n.a.createElement("b",null,(W.probability[H]*100).toFixed(1),"%")))}))):rt&&n.a.createElement("div",{className:"text-center"},n.a.createElement(re.a,{active:!0})),W?n.a.createElement(Pe.BindLogic,{logic:V.c,props:{dashboardItemId:W.itemID,cachedInsight:{short_id:W.itemID,filters:Dn(Dn(Dn({},W.filters),{},{insight:ge,display:g.filters.display},ge===O.s.FUNNELS&&{layout:lt.k.vertical,funnel_viz_type:O.o.Steps}),ge===O.s.TRENDS&&{display:O.d.ActionsLineGraphCumulative}),result:W.insight},doNotLoad:!0}},n.a.createElement("div",{className:"mt"},n.a.createElement(On.a,{disableHeader:ge===O.s.TRENDS,disableTable:ge===O.s.FUNNELS}))):g.start_date&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"no-experiment-results"},!rt&&n.a.createElement("div",{className:"text-center"},n.a.createElement("b",null,"There are no results for this experiment yet."),n.a.createElement("div",{className:"text-default"},"Double check your feature flag implementation if you're still not seeing results.")))))):n.a.createElement(re.a,{active:!0}))}function Kn(){return n.a.createElement(me.a,{defaultValue:"JavaScript",suffixIcon:n.a.createElement(Je.a,null)},n.a.createElement(me.a.Option,{value:"JavaScript"},n.a.createElement(y.a,{align:"middle"},n.a.createElement(Ee.IconJavascript,{style:{marginRight:6}})," JavaScript")))}try{Sn.displayName="Experiment_",Sn.__docgenInfo={description:"",displayName:"Experiment_",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/Experiment.tsx#Experiment_"]={docgenInfo:Sn.__docgenInfo,name:"Experiment_",path:"frontend/src/scenes/experiments/Experiment.tsx#Experiment_"})}catch(a){}},"./frontend/src/scenes/experiments/experimentsLogic.ts":function(ue,L,t){"use strict";t.d(L,"a",function(){return Pe});var J=t("./node_modules/core-js/modules/es.array.concat.js"),q=t.n(J),we=t("./node_modules/core-js/modules/es.array.filter.js"),xe=t.n(we),je=t("./node_modules/core-js/modules/es.array.iterator.js"),Xe=t.n(je),et=t("./node_modules/core-js/modules/es.array.map.js"),fe=t.n(et),e=t("./node_modules/core-js/modules/es.object.to-string.js"),S=t.n(e),$e=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Me=t.n($e),s=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),He=t.n(s),A=t("./node_modules/@babel/runtime/regenerator/index.js"),k=t.n(A),F=t("./node_modules/regenerator-runtime/runtime.js"),y=t.n(F),h=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),le=t.n(h),_e=t("./node_modules/kea/lib/index.esm.js"),me=t("./frontend/src/lib/api.ts"),Qe=t("./frontend/src/scenes/teamLogic.ts"),_=t("./frontend/src/types.ts"),z=t("./frontend/src/lib/utils.tsx"),re=t("./frontend/src/scenes/userLogic.ts"),ve=t("./frontend/src/lib/components/lemonToast.tsx"),Pe=Object(_e.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[Qe.a,["currentTeamId"],re.a,["hasAvailableFeature"]]},actions:{},loaders:function(Ze){var at=Ze.values,ee=Ze.actions;return{experiments:[[],{loadExperiments:function(){var qe=le()(k.a.mark(function o(X){var V;return k.a.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(at.hasAvailableFeature(_.c.EXPERIMENTATION)){Ce.next=2;break}return Ce.abrupt("return",[]);case 2:return Ce.next=4,me.b.get("api/projects/".concat(at.currentTeamId,"/experiments?").concat(X||""));case 4:return V=Ce.sent,Ce.abrupt("return",V.results);case 6:case"end":return Ce.stop()}},o)}));function n(o){return qe.apply(this,arguments)}return n}(),deleteExperiment:function(){var qe=le()(k.a.mark(function o(X){return k.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,me.b.delete("api/projects/".concat(at.currentTeamId,"/experiments/").concat(X));case 2:return ve.a.info("Experiment removed"),O.abrupt("return",at.experiments.filter(function(Ce){return Ce.id!==X}));case 4:case"end":return O.stop()}},o)}));function n(o){return qe.apply(this,arguments)}return n}(),addToExperiments:function(n){return[].concat(He()(at.experiments),[n])},updateExperiments:function(n){return at.experiments.map(function(o){return o.id===n.id?n:o})}}],tab:[_.h.All,{setExperimentsFilters:function(){var qe=le()(k.a.mark(function o(X){var V,O;return k.a.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return V=X.tab,O=V===_.h.Yours?Object(z.zb)({user:!0}):Object(z.zb)({archived:!0}),V===_.h.All?ee.loadExperiments(Object(z.zb)({all:!0})):ee.loadExperiments(O),Ct.abrupt("return",V);case 4:case"end":return Ct.stop()}},o)}));function n(o){return qe.apply(this,arguments)}return n}()}]}},events:function(Ze){var at=Ze.actions;return{afterMount:function(){at.loadExperiments(Object(z.zb)({all:!0}))}}}})},"./frontend/src/scenes/insights/InsightContainer.tsx":function(ue,L,t){"use strict";t.d(L,"a",function(){return Ea});var J=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),q=t.n(J),we=t("./node_modules/antd/es/card/index.js"),xe=t("./node_modules/antd/es/row/index.js"),je=t("./node_modules/antd/es/col/index.js"),Xe=t("./node_modules/core-js/modules/es.array.includes.js"),et=t("./node_modules/core-js/modules/es.string.includes.js"),fe=t("./node_modules/react/index.js"),e=t.n(fe),S=t("./node_modules/core-js/modules/es.array.concat.js"),$e=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Me=t.n($e),s=t("./node_modules/kea/lib/index.esm.js"),He=t("./node_modules/antd/es/tag/index.js"),A=t("./node_modules/antd/es/select/index.js"),k=t("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),F=t("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),y=t("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),h=t("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},_e=le,me=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Qe=function(c,d){return fe.createElement(me.a,Object(h.a)(Object(h.a)({},c),{},{ref:d,icon:_e}))};Qe.displayName="AreaChartOutlined";var _=fe.forwardRef(Qe),z=t("./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js"),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},ve=re,Pe=function(c,d){return fe.createElement(me.a,Object(h.a)(Object(h.a)({},c),{},{ref:d,icon:ve}))};Pe.displayName="TableOutlined";var yt=fe.forwardRef(Pe),Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},at=Ze,ee=function(c,d){return fe.createElement(me.a,Object(h.a)(Object(h.a)({},c),{},{ref:d,icon:at}))};ee.displayName="PieChartOutlined";var qe=fe.forwardRef(ee),n=t("./node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),o=t("./frontend/src/types.ts"),X=t("./frontend/src/lib/utils.tsx"),V=t("./frontend/src/scenes/insights/insightLogic.ts"),O=t("./frontend/src/lib/logic/featureFlagLogic.ts"),Ce=t("./frontend/src/lib/constants.tsx"),Ct=t("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),Ve=t("./frontend/src/lib/components/Tooltip.tsx");function wt(m){var c=m.filters,d=m.onChange,p=m.disabled,C=Object(s.useValues)(V.c),E=C.insightProps,x=Object(s.useValues)(Object(k.a)(E)),D=x.chartFilter,M=Object(s.useActions)(Object(k.a)(E)),w=M.setChartFilter,I=Object(s.useValues)(O.a),N=I.featureFlags,$=c.insight===o.s.STICKINESS||c.insight===o.s.RETENTION,K=c.insight===o.s.RETENTION||c.insight===o.s.STICKINESS,te=c.insight===o.s.RETENTION||c.insight===o.s.STICKINESS||!!c.breakdown&&c.breakdown!=="$geoip_country_code"&&c.breakdown!=="$geoip_country_name"||Object(Ct.c)(c).length>1,ie=c.insight===o.s.RETENTION,se=ie||c.insight===o.s.STICKINESS||c.insight===o.s.RETENTION,Ae=c.insight===o.s.RETENTION?o.d.ActionsTable:c.insight===o.s.FUNNELS?o.d.FunnelViz:o.d.ActionsLineGraph;function Z(ce){var ne=ce.icon,de=ce.tooltip,be=ce.children,Re=be===void 0?null:be;return e.a.createElement(Ve.a,{title:de,placement:"left"},e.a.createElement("div",{style:{width:"100%"}},ne," ",Re))}function pe(ce){var ne=ce.children,de=ne===void 0?null:ne;return e.a.createElement(He.a,{color:"orange",style:{marginLeft:8,fontSize:10}},de)}var Ne=c.insight===o.s.FUNNELS?[{value:o.o.Steps,label:e.a.createElement(Z,{icon:e.a.createElement(F.a,null)},"Steps")},{value:o.o.Trends,label:e.a.createElement(Z,{icon:e.a.createElement(y.a,null)},"Trends",e.a.createElement(pe,null,"BETA"))}]:[{label:"Line Chart",options:[{value:o.d.ActionsLineGraph,label:e.a.createElement(Z,{icon:e.a.createElement(y.a,null)},"Linear")},{value:o.d.ActionsLineGraphCumulative,label:e.a.createElement(Z,{icon:e.a.createElement(_,null)},"Cumulative"),disabled:$}]},{label:"Bar Chart",options:[{value:o.d.ActionsBar,label:e.a.createElement(Z,{icon:e.a.createElement(z.a,null)},"Time"),disabled:ie},{value:o.d.ActionsBarValue,label:e.a.createElement(Z,{icon:e.a.createElement(z.a,null)},"Value"),disabled:se}]},{value:o.d.ActionsTable,label:e.a.createElement(Z,{icon:e.a.createElement(yt,null)},"Table")},{value:o.d.ActionsPie,label:e.a.createElement(Z,{icon:e.a.createElement(qe,null)},"Pie"),disabled:K}].concat(Me()(N[Ce.i.HEDGEHOGGER]?[{value:o.d.WorldMap,label:e.a.createElement(Z,{icon:e.a.createElement(n.a,null),tooltip:"Visualize data by country. Only works with one series at a time."},"World Map"),disabled:te}]:[]));return e.a.createElement(A.a,{key:"2",defaultValue:c.display||Ae,value:D||Ae,onChange:function(ne){w(ne),d==null||d(ne)},bordered:!0,dropdownAlign:X.a.bottomRight,dropdownMatchSelectWidth:!1,listHeight:288,"data-attr":"chart-filter",disabled:p,options:Ne})}try{wt.displayName="ChartFilter",wt.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:wt.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(m){}var ut=t("./node_modules/antd/es/checkbox/index.js"),Kt=t("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function qt(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=Object(s.useValues)(Object(Kt.a)(c)),p=d.compare,C=d.disabled,E=Object(s.useActions)(Object(Kt.a)(c)),x=E.setCompare;return C?null:e.a.createElement(ut.a,{onChange:function(M){x(M.target.checked)},checked:p,style:{marginLeft:8,marginRight:6},disabled:C},"Compare",e.a.createElement("span",{className:"hide-lte-md"}," to previous"))}var dn=t("./node_modules/core-js/modules/es.array.map.js"),ct=t("./node_modules/core-js/modules/es.object.entries.js"),Q=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),oe=t.n(Q),Te=t("./node_modules/core-js/modules/es.array.iterator.js"),Be=t("./node_modules/core-js/modules/es.object.to-string.js"),mt=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),We=t("./frontend/src/scenes/insights/sharedUtils.ts");function pt(m,c){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);c&&(p=p.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),d.push.apply(d,p)}return d}function St(m){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?pt(Object(d),!0).forEach(function(p){q()(m,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):pt(Object(d)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(d,p))})}return m}var Ke=Object(s.kea)({props:{},key:Object(We.c)("new"),path:function(c){return["lib","components","IntervalFilter","intervalFilterLogic",c]},connect:function(c){return{actions:[Object(V.c)(c),["setFilters"]],values:[Object(V.c)(c),["filters"]]}},actions:function(){return{setInterval:function(d){return{interval:d}}}},listeners:function(c){var d=c.values,p=c.actions;return{setInterval:function(E){var x=E.interval;Object(X.mb)(x,d.filters.interval)||p.setFilters(St(St({},d.filters),{},{interval:x}))}}},selectors:{interval:[function(m){return[m.filters]},function(m){return m==null?void 0:m.interval}]}}),U=t("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),$t={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function bt(m){var c=m.disabled,d=Object(s.useValues)(V.c),p=d.insightProps,C=Object(s.useValues)(Ke(p)),E=C.interval,x=Object(s.useActions)(Ke(p)),D=x.setInterval,M=Object.entries($t).map(function(w){var I=oe()(w,2),N=I[0],$=I[1].label;return{key:N,value:N,label:N===E?e.a.createElement(e.a.Fragment,null,e.a.createElement(U.a,null)," ",$):$}});return e.a.createElement(A.a,{bordered:!0,disabled:c,defaultValue:E||"day",value:E||void 0,dropdownMatchSelectWidth:!1,onChange:D,"data-attr":"interval-filter",options:M})}try{bt.displayName="IntervalFilter",bt.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:bt.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(m){}var ke=t("./node_modules/@ant-design/icons/es/icons/FundOutlined.js"),Ot=t("./frontend/src/lib/components/SmoothingFilter/smoothings.ts");function P(m,c){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);c&&(p=p.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),d.push.apply(d,p)}return d}function dt(m){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?arguments[c]:{};c%2?P(Object(d),!0).forEach(function(p){q()(m,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):P(Object(d)).forEach(function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(d,p))})}return m}function he(){var m=Object(s.useValues)(V.c),c=m.filters,d=Object(s.useActions)(V.c),p=d.setFilters,C=c.interval,E=c.smoothing_intervals;if(!C)return null;var x=Ot.a[C].map(function(D){var M=D.value,w=D.label;return{value:M,label:M===E?e.a.createElement(e.a.Fragment,null,e.a.createElement(ke.a,null)," ",w):w}});return x.length?e.a.createElement(A.a,{key:C,bordered:!0,value:E||1,dropdownMatchSelectWidth:!1,onChange:function(M){p(dt(dt({},c),{},{smoothing_intervals:M}))},"data-attr":"smoothing-filter",options:x}):e.a.createElement(e.a.Fragment,null)}var Oe=t("./node_modules/@babel/runtime/helpers/extends.js"),_t=t.n(Oe),Ge=t("./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts"),Vt=t("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function Ue(m){var c=Object(s.useValues)(V.c),d=c.insightProps,p=Object(s.useValues)(Object(Ge.a)(d)),C=p.dates,E=C.dateFrom,x=C.dateTo,D=Object(s.useActions)(Object(Ge.a)(d)),M=D.setDates;return e.a.createElement(Vt.a,_t()({},m,{dateFrom:E!=null?E:void 0,dateTo:x!=null?x:void 0,onChange:function(I,N){var $;M(I,N),($=m.onChange)===null||$===void 0||$.call(m,I,N)}}))}try{Ue.displayName="InsightDateFilter",Ue.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string"}},showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},bordered:{defaultValue:null,description:"",name:"bordered",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string, toDate: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"((props: any) => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"Record<string, dateMappingOption>"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}},selectProps:{defaultValue:null,description:"",name:"selectProps",required:!1,type:{name:"SelectProps<any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:Ue.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(m){}var De=t("./node_modules/rc-picker/lib/generate/dayjs.js"),Se=t.n(De),ft=t("./node_modules/antd/lib/date-picker/generatePicker/index.js"),Ht=t.n(ft),lt=t("./frontend/src/scenes/retention/retentionTableLogic.ts"),Nt=t("./frontend/src/lib/dayjs.ts"),At=Ht()(Se.a);function un(m){var c=m.disabled,d=Object(s.useValues)(V.c),p=d.insightProps,C=Object(s.useValues)(Object(lt.e)(p)),E=C.filters,x=Object(s.useActions)(Object(lt.e)(p)),D=x.setFilters,M=E.date_to&&Object(Nt.a)(E.date_to).year()!==Object(Nt.a)().year()?", YYYY":"";return e.a.createElement(e.a.Fragment,null,e.a.createElement(Ve.a,{title:"Cohorts up to this end date"},e.a.createElement("span",{style:{maxWidth:100,display:"inline-flex",alignItems:"center"}},e.a.createElement(U.a,null),e.a.createElement(At,{showTime:E.period==="Hour",use12Hours:!0,format:E.period==="Hour"?"MMM D".concat(M,", h a"):"MMM D".concat(M),value:E.date_to?Object(Nt.a)(E.date_to):void 0,onChange:function(I){return D({date_to:I&&Object(Nt.a)(I).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",suffixIcon:null,disabled:c}))))}try{un.displayName="RetentionDatePicker",un.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:un.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(m){}var nt=t("./frontend/src/scenes/funnels/funnelLogic.ts"),en=t("./node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js");function tn(m){var c=m.disabled,d=Object(s.useValues)(V.c),p=d.insightProps,C=Object(s.useValues)(Object(nt.a)(p)),E=C.barGraphLayout,x=Object(s.useActions)(Object(nt.a)(p)),D=x.setFilters,M=[{value:Ce.k.vertical,icon:e.a.createElement(z.a,null),label:"Left to right"},{value:Ce.k.horizontal,icon:e.a.createElement(en.a,null),label:"Top to bottom"}];return e.a.createElement(A.a,{defaultValue:Ce.k.vertical,value:E||Ce.k.vertical,onChange:function(I){return D({layout:I})},bordered:!0,dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",optionLabelProp:"label",disabled:c},e.a.createElement(A.a.OptGroup,{label:"Graph display options"},M.map(function(w){return e.a.createElement(A.a.Option,{key:w.value,value:w.value,label:e.a.createElement(e.a.Fragment,null,w.icon," ",w.label)},w.label)})))}try{tn.displayName="FunnelDisplayLayoutPicker",tn.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:tn.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(m){}var bn=t("./node_modules/core-js/modules/es.array.filter.js"),wn=t("./node_modules/core-js/modules/es.array.from.js"),Y=t("./node_modules/core-js/modules/es.array.slice.js"),nn=t("./node_modules/core-js/modules/es.string.iterator.js"),an=t("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),mn=t("./frontend/src/scenes/paths/pathsLogic.ts"),On=t("./frontend/src/scenes/userLogic.ts");function Ee(m){var c,d=m.disabled,p=Object(s.useValues)(V.c),C=p.insightProps,E=Object(s.useValues)(Object(mn.b)(C)),x=E.filter,D=Object(s.useActions)(Object(mn.b)(C)),M=D.setFilter,w=Object(s.useValues)(On.a),I=w.user,N=2,$=!(I==null||(c=I.organization)===null||c===void 0)&&c.available_features.includes(o.c.PATHS_ADVANCED)?20:5,K=Array.from(Array.from(Array.from(Array($+1).keys()).slice(N)),function(te){return{label:"".concat(te," Steps"),value:te}});return e.a.createElement(A.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:x.step_limit||mn.a,onSelect:function(ie){return M({step_limit:ie})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:X.a.bottomRight,optionLabelProp:"label",disabled:d},K.map(function(te){return e.a.createElement(A.a.Option,{key:te.value,value:te.value,label:e.a.createElement(e.a.Fragment,null,e.a.createElement(an.a,null)," ",te.label)},te.label)}))}try{Ee.displayName="PathStepPicker",Ee.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:Ee.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"})}catch(m){}var Ie=t("./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js");function Je(m){var c=m.disabled,d=Object(s.useValues)(V.c),p=d.insightProps,C=Object(s.useValues)(Object(lt.e)(p)),E=C.retentionReference,x=Object(s.useActions)(Object(lt.e)(p)),D=x.setRetentionReference;return e.a.createElement(A.a,{value:E,onChange:D,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:c},[{value:"total",icon:e.a.createElement(Ie.a,null),label:"Overall cohort"},{value:"previous",icon:e.a.createElement(Ie.a,null),label:"Relative to previous period"}].map(function(M){return e.a.createElement(A.a.Option,{key:M.value,value:M.value,label:e.a.createElement(e.a.Fragment,null,M.icon," ",M.label)},M.label)}))}try{Je.displayName="ReferencePicker",Je.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:Je.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"})}catch(m){}var Gt=t("./node_modules/antd/es/tooltip/index.js"),Pt=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Qn=t("./node_modules/core-js/modules/es.set.js"),An=t("./node_modules/antd/es/input-number/index.js"),Rn=t("./node_modules/clsx/dist/clsx.m.js"),xa=0,_n=90,rn=new Set([5,15,25,50,90]),Zn=[{label:"Auto bins",value:Ce.a,display:!0}].concat(Me()(Array.from(Array.from(Array(_n+1).keys()),function(m){return{label:"".concat(m," bins"),value:m,display:rn.has(m)}})),[{label:"Custom",value:"custom",display:!0}]);function pn(m){var c=m.disabled,d=Object(s.useValues)(V.c),p=d.insightProps,C=Object(s.useValues)(Object(nt.a)(p)),E=C.filters,x=C.numericBinCount,D=Object(s.useActions)(Object(nt.a)(p)),M=D.setBinCount;return e.a.createElement(A.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:Ce.a,value:E.bin_count||Ce.a,onSelect:function(I){return M(I)},dropdownRender:function(I){return e.a.createElement(e.a.Fragment,null,I,e.a.createElement("div",null,e.a.createElement(An.a,{className:"funnel-bins-custom-picker",size:"middle",min:xa,max:_n,value:x,onChange:function($){var K=typeof $=="string"?parseInt($):$;K&&M(K)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:X.a.bottomRight,optionLabelProp:"label",disabled:c},e.a.createElement(A.a.OptGroup,{label:"Bin Count"},Zn.map(function(w){return w.value==="custom"?null:e.a.createElement(A.a.Option,{className:Object(Rn.a)({"select-option-hidden":!w.display}),key:w.value,value:w.value,label:e.a.createElement(e.a.Fragment,null,e.a.createElement(z.a,null)," ",w.label)},w.label)})))}try{pn.displayName="FunnelBinsPicker",pn.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:pn.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(m){}var Jt,Xt,Ft=function(c,d){switch(c){case o.s.FUNNELS:return d.funnel_viz_type===o.o.Trends;case o.s.RETENTION:case o.s.PATHS:return!1;case o.s.TRENDS:case o.s.STICKINESS:case o.s.LIFECYCLE:default:return!d.display||!Ce.m.includes(d.display)}},Vn=function(c){switch(c){case o.s.TRENDS:case o.s.STICKINESS:return!0;case o.s.RETENTION:case o.s.FUNNELS:return!1;case o.s.LIFECYCLE:case o.s.PATHS:return!1;default:return!0}},qn=(Jt={},q()(Jt,"".concat(o.s.TRENDS),!0),q()(Jt,"".concat(o.s.STICKINESS),!0),q()(Jt,"".concat(o.s.LIFECYCLE),!0),q()(Jt,"".concat(o.s.FUNNELS),!0),q()(Jt,"".concat(o.s.RETENTION),!1),q()(Jt,"".concat(o.s.PATHS),!0),Jt),Qt=(Xt={},q()(Xt,"".concat(o.s.TRENDS),!0),q()(Xt,"".concat(o.s.STICKINESS),!0),q()(Xt,"".concat(o.s.LIFECYCLE),!1),q()(Xt,"".concat(o.s.FUNNELS),!1),q()(Xt,"".concat(o.s.RETENTION),!1),q()(Xt,"".concat(o.s.PATHS),!1),Xt),Nn=function(c){var d,p;return!c.actions&&!c.events||((d=c.actions)===null||d===void 0?void 0:d.length)===0&&((p=c.events)===null||p===void 0?void 0:p.length)===0};function xn(m){var c=m.filters,d=m.activeView,p=m.disableTable,C=m.disabled,E=d===o.s.FUNNELS,x=d===o.s.PATHS,D=Object(s.useValues)(O.a),M=D.featureFlags;return e.a.createElement("div",{className:"display-config-inner"},e.a.createElement("div",{className:"display-config-inner-row"},qn[d]&&!p&&e.a.createElement("span",{className:"filter"},e.a.createElement("span",{className:"head-title-item"},"Date range"),e.a.createElement(Ue,{defaultValue:"Last 7 days",disabled:C||E&&Nn(c),bordered:!0,makeLabel:function(I){return e.a.createElement(e.a.Fragment,null,e.a.createElement(U.a,null)," ",I,I=="All time"&&e.a.createElement(Gt.a,{title:"Only events dated after 2015 will be shown"},e.a.createElement(Pt.a,{className:"info-indicator"})))}})),Ft(d,c)&&e.a.createElement("span",{className:"filter"},e.a.createElement("span",{className:"head-title-item"},e.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),e.a.createElement(bt,{view:d,disabled:C})),d===o.s.TRENDS&&!c.breakdown_type&&!c.compare&&(!c.display||c.display===o.d.ActionsLineGraph)&&M[Ce.i.SMOOTHING_INTERVAL]?e.a.createElement(he,null):null,d===o.s.RETENTION&&e.a.createElement(e.a.Fragment,null,e.a.createElement(un,{disabled:C}),e.a.createElement(Je,{disabled:C})),x&&e.a.createElement("span",{className:"filter"},e.a.createElement(Ee,{disabled:C})),Qt[d]&&e.a.createElement("span",{className:"filter"},e.a.createElement(qt,null))),e.a.createElement("div",{className:"display-config-inner-row"},Vn(d)&&e.a.createElement("span",{className:"filter"},e.a.createElement("span",{className:"head-title-item"},"Chart type"),e.a.createElement(wt,{filters:c,disabled:C||c.insight===o.s.LIFECYCLE})),E&&c.funnel_viz_type===o.o.Steps&&e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"filter"},e.a.createElement(tn,{disabled:C}))),E&&c.funnel_viz_type===o.o.TimeToConvert&&e.a.createElement("span",{className:"filter"},e.a.createElement(pn,{disabled:C}))))}try{xn.displayName="InsightDisplayConfig",xn.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:xn.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(m){}var sn=t("./node_modules/antd/es/button/index.js"),ja=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),jn=t.n(ja),Ca=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),ea=t.n(Ca),Bn={};Bn.insert="head",Bn.singleton=!1;var Va=jn()(ea.a,Bn),Sa=ea.a.locals||{},kt=t("./frontend/src/scenes/funnels/funnelUtils.ts"),Fn=t("./node_modules/core-js/modules/es.array.find.js"),Cn=t("./frontend/src/lib/components/EntityFilterInfo.tsx");function fn(){var m,c=Object(s.useValues)(V.c),d=c.insightProps,p=Object(s.useValues)(Object(nt.a)(d)),C=p.filters,E=p.numberOfSeries,x=p.areFiltersValid,D=p.filterSteps,M=Object(s.useActions)(Object(nt.a)(d)),w=M.changeStepRange;if(C.funnel_viz_type===o.o.Steps)return null;var I=function(ie,se){w(ie,se)},N=x?Array.from(Array(Math.max(E)).keys()).slice(0,-1):[0],$=x?Array.from(Array(Math.max(E)).keys()).slice(((m=C.funnel_from_step)!==null&&m!==void 0?m:0)+1):[1],K=function(ie){return ie.map(function(se){var Ae=D.find(function(Z){return Z.order===se});return Ae?e.a.createElement(A.a.Option,{key:se,value:se,label:"Step ".concat(se+1)},e.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.a.createElement("span",{style:{marginRight:4}},"Step ",se+1,":"),e.a.createElement(Cn.a,{filter:Ae}))):null})};return e.a.createElement(xe.a,{className:"funnel-options-inputs"},e.a.createElement("span",{className:"text-muted-alt"},"from"),e.a.createElement(A.a,{disabled:!x,dropdownMatchSelectWidth:!1,dropdownAlign:X.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:C.funnel_from_step||0,onChange:function(ie){return I(ie,C.funnel_to_step)},style:{marginLeft:4,marginRight:4}},K(N)),e.a.createElement("span",{className:"text-muted-alt"},"to"),e.a.createElement(A.a,{disabled:!x,dropdownMatchSelectWidth:!1,dropdownAlign:X.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:C.funnel_to_step||Math.max(E-1,1),onChange:function(ie){return I(C.funnel_from_step,ie)},style:{marginLeft:4,marginRight:4}},K($)))}function ta(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=m.filters,p=m.activeView,C=Object(s.useValues)(Object(nt.a)(c)),E=C.conversionMetrics,x=C.aggregationTargetLabel,D=Object(s.useActions)(Object(k.a)(c)),M=D.setChartFilter;if(p!==o.s.FUNNELS)return null;var w=[].concat(Me()(d.funnel_viz_type===o.o.Steps?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},e.a.createElement(Ve.a,{title:"Overall conversion rate for all ".concat(x.plural," on the entire funnel.")},e.a.createElement(Pt.a,{className:"info-indicator left"})),"Total conversion rate"),e.a.createElement("span",{className:"text-muted-alt mr-025"},":"),e.a.createElement("span",{className:"l4"},Object(kt.c)(E.totalRate),"%"))]:[]),Me()(d.funnel_viz_type!==o.o.Trends?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},e.a.createElement(Ve.a,{title:"Average (arithmetic mean) of the total time each ".concat(x.singular," spent in the entire funnel.")},e.a.createElement(Pt.a,{className:"info-indicator left"})),"Average time to convert"," "),d.funnel_viz_type===o.o.TimeToConvert&&e.a.createElement(fn,null),e.a.createElement("span",{className:"text-muted-alt mr-025"},":"),e.a.createElement(sn.a,{type:"link",onClick:function(){return M(o.o.TimeToConvert)},disabled:d.funnel_viz_type===o.o.TimeToConvert},e.a.createElement("span",{className:"l4"},Object(X.N)(E.averageTime))))]:[]),Me()(d.funnel_viz_type===o.o.Trends?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),e.a.createElement(fn,null))]:[]));return e.a.createElement(xe.a,{className:"funnel-canvas-label",align:"middle"},w.map(function(I,N){return e.a.createElement(e.a.Fragment,{key:N},N>0&&e.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),I)}))}var Dn=t("./frontend/src/lib/hooks/usePeriodicRerender.ts"),na=3;function Sn(){var m=Object(s.useValues)(V.c),c=m.lastRefresh,d=Object(s.useActions)(V.c),p=d.loadResults;return Object(Dn.a)(15e3),e.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",c?Object(Nt.a)(c).fromNow():"a while ago",e.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),e.a.createElement(Gt.a,{title:e.a.createElement(e.a.Fragment,null,"Insights can be refreshed",e.a.createElement("br",null),"every ",na," minutes.")},e.a.createElement(sn.a,{size:"small",type:"link",onClick:function(){return p(!0)},disabled:!!c&&Object(Nt.a)().subtract(na-.5,"minutes").isBefore(c),style:{padding:0}},e.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var Kn=t("./frontend/src/scenes/trends/PersonsModal.tsx"),a=t("./frontend/src/scenes/trends/viz/index.ts"),r=t("./frontend/src/scenes/trends/SaveCohortModal.tsx"),l=t("./frontend/src/scenes/trends/trendsLogic.ts"),i=t("./frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},showTotalCount:{defaultValue:{value:"false"},description:"",name:"showTotalCount",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"})}catch(m){}var f=t("./frontend/src/scenes/trends/personsModalLogic.ts"),j=t("./frontend/src/lib/utils/eventUsageLogic.ts"),b=t("./frontend/src/scenes/insights/insightSceneLogic.tsx"),u=t("./frontend/src/scenes/insights/WorldMap/index.ts");function T(m){var c=m.view,d=Object(s.useValues)(b.a),p=d.insightMode,C=Object(s.useValues)(V.c),E=C.insightProps,x=Object(s.useValues)(f.b),D=x.cohortModalVisible,M=Object(s.useActions)(f.b),w=M.setCohortModalVisible,I=Object(s.useValues)(Object(l.a)(E)),N=I.filters,$=I.loadMoreBreakdownUrl,K=I.breakdownValuesLoading,te=I.showModalActions,ie=I.aggregationTargetLabel,se=Object(s.useActions)(Object(l.a)(E)),Ae=se.loadMoreBreakdownValues,Z=Object(s.useValues)(f.b),pe=Z.showingPeople,Ne=Object(s.useActions)(f.b),ce=Ne.saveCohortWithUrl,ne=Object(s.useActions)(j.f),de=ne.reportCohortCreatedFromPersonsModal,be=function(){if(!N.display||N.display===o.d.ActionsLineGraph||N.display===o.d.ActionsLineGraphCumulative||N.display===o.d.ActionsBar)return e.a.createElement(a.b,null);if(N.display===o.d.ActionsTable)return e.a.createElement(s.BindLogic,{logic:l.a,props:{dashboardItemId:null,view:c,filters:null}},e.a.createElement(i.b,{embedded:!0,showTotalCount:!0,filterKey:"trends_".concat(c),canEditSeriesNameInline:p===o.t.Edit,isMainInsightView:!0}));if(N.display===o.d.ActionsPie)return e.a.createElement(a.c,null);if(N.display===o.d.ActionsBarValue)return e.a.createElement(a.a,null);if(N.display===o.d.WorldMap)return e.a.createElement(u.a,null)};return e.a.createElement(e.a.Fragment,null,(N.actions||N.events)&&e.a.createElement("div",{className:N.display!==o.d.ActionsTable&&N.display!==o.d.WorldMap?"trends-insights-container":void 0},be()),N.breakdown&&$&&e.a.createElement("div",{className:"mt text-center"},e.a.createElement("div",{className:"text-muted mb"},"For readability, ",e.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),e.a.createElement("div",null,e.a.createElement(sn.a,{style:{textAlign:"center",marginBottom:16},onClick:Ae,loading:K},"Load more breakdown values"))),e.a.createElement(Kn.a,{visible:pe&&!D,view:c,filters:N,onSaveCohort:function(){w(!0)},showModalActions:te,aggregationTargetLabel:ie}),e.a.createElement(r.a,{visible:D,onOk:function(En){ce(En),w(!1),de(N)},onCancel:function(){return w(!1)}}))}try{T.displayName="TrendInsight",T.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:T.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(m){}var v=t("./frontend/src/scenes/funnels/Funnel.tsx");function ae(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=Object(s.useValues)(Object(nt.a)(c)),p=d.isValidFunnel,C=d.insightLoading,E=d.filters,x=d.areFiltersValid,D=d.barGraphLayout,M=d.aggregationTargetLabel,w=Object(s.useValues)(f.b),I=w.showingPeople,N=w.cohortModalVisible,$=Object(s.useActions)(f.b),K=$.setCohortModalVisible;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Kn.a,{visible:I&&!N,view:o.s.FUNNELS,filters:E,onSaveCohort:function(){K(!0)},showModalActions:E.aggregation_group_type_index==null,aggregationTargetLabel:M}),e.a.createElement("div",{className:Object(Rn.a)("funnel-insights-container",{"non-empty-state":p&&x||C,"no-padding":E.funnel_viz_type==o.o.Steps&&D===Ce.k.vertical})},e.a.createElement(v.a,null)))}var ye=t("./frontend/src/scenes/retention/RetentionContainer.tsx"),Le=t("./frontend/src/scenes/paths/Paths.tsx"),R=t("./frontend/src/scenes/insights/EmptyStates/index.ts");function B(){var m=Object(s.useValues)(V.c),c=m.activeView;return c!==o.s.PATHS?null:e.a.createElement(xe.a,{className:"funnel-canvas-label",align:"middle"},e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var g=t("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),ze=t("./node_modules/antd/lib/input/TextArea.js"),Dt=t.n(ze),Bt=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss"),Ut=t.n(Bt),W={};W.insert="head",W.singleton=!1;var ln=jn()(Ut.a,W),on=Ut.a.locals||{},ge=t("./node_modules/core-js/modules/es.number.constructor.js"),rt=t("./node_modules/core-js/modules/es.number.is-integer.js"),Mt=t("./node_modules/core-js/modules/es.number.to-fixed.js"),Wt=t("./node_modules/core-js/modules/es.regexp.exec.js"),Tt=t("./node_modules/core-js/modules/es.string.split.js"),st=t("./node_modules/antd/es/spin/index.js"),ot=t("./node_modules/antd/es/table/index.js"),Pn=t("./node_modules/antd/lib/table/Column.js"),ht=t.n(Pn),aa=t("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),Pa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},zt=Pa,ra=function(c,d){return fe.createElement(me.a,Object(h.a)(Object(h.a)({},c),{},{ref:d,icon:zt}))};ra.displayName="FallOutlined";var sa=fe.forwardRef(ra),xt=t("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),Rt=t("./frontend/src/lib/components/icons.tsx"),Ta=t("./node_modules/antd/lib/checkbox/Checkbox.js"),Mn=t.n(Ta),Yt=t("./frontend/src/scenes/funnels/FunnelBarGraph.tsx"),vn=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),la=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss"),oa=t.n(la),kn={};kn.insert="head",kn.singleton=!1;var Ba=jn()(oa.a,kn),Ka=oa.a.locals||{},Ia=t("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function Tn(m){var c=m.id,d=m.offset,p=m.children,C=Object(s.useActions)(Object(Ia.a)({id:c,offset:d})),E=C.scrolling,x=Object(fe.useRef)(null);return Object(fe.useEffect)(function(){var D=x.current;return document.addEventListener("scroll",function(){return E(D)}),function(){return document.removeEventListener("scroll",function(){return E(D)})}},[x.current]),e.a.createElement("div",{ref:x},p)}try{Tn.displayName="VisibilitySensor",Tn.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:Tn.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(m){}var cn=t("./frontend/src/lib/components/LemonButton/index.ts"),ia=t("./frontend/src/lib/components/Popup/Popup.tsx"),Un=t("./node_modules/antd/es/modal/index.js"),Na=t("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),Fa=t("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),Da=t("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),Ma=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss"),Wn=t.n(Ma),In={};In.insert="head",In.singleton=!1;var ca=jn()(Wn.a,In),ka=Wn.a.locals||{},zn=t("./frontend/src/lib/components/Spinner/Spinner.tsx"),gn=t("./frontend/src/lib/components/Link.tsx"),La=t("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function wa(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=Object(nt.a)(c),p=Object(s.useValues)(d),C=p.correlationsLoading,E=p.funnelCorrelationDetails,x=p.parseDisplayNameForCorrelation,D=p.correlationMatrixAndScore,M=Object(s.useActions)(d),w=M.setFunnelCorrelationDetails,I=M.openCorrelationPersonsModal,N=(E==null?void 0:E.result_type)===o.k.Events?"event":"property",$=(E==null?void 0:E.result_type)===o.k.Events?"performed event":"have property",K=e.a.createElement(e.a.Fragment,null);if(E){var te=x(E),ie=te.first_value,se=te.second_value;K=e.a.createElement(e.a.Fragment,null,e.a.createElement(vn.a,{value:ie}),se!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(vn.a,{value:se,disablePopover:!0})))}var Ae=D.correlationScore,Z=D.truePositive,pe=D.falsePositive,Ne=D.trueNegative,ce=D.falseNegative,ne=D.correlationScoreStrength,de=ne==="strong"?e.a.createElement(Na.a,{style:{color:"var(--success)"}}):ne==="moderate"?e.a.createElement(Fa.a,{style:{color:"var(--warning)"}}):e.a.createElement(Da.a,{style:{color:"var(--danger)"}}),be=function(){return w(null)};return e.a.createElement(Un.a,{className:"correlation-matrix",visible:!!E,onCancel:be,destroyOnClose:!0,footer:e.a.createElement(sn.a,{onClick:be},"Dismiss"),width:600,title:"Correlation details"},e.a.createElement("div",{className:"correlation-table-wrapper"},C?e.a.createElement("div",{className:"mt text-center"},e.a.createElement(zn.a,{size:"lg"})):E?e.a.createElement(e.a.Fragment,null,e.a.createElement("p",{className:"text-muted-alt mb"},"The table below displays the correlation details for users who ",$," ",e.a.createElement("b",null,K),"."),e.a.createElement("table",null,e.a.createElement("thead",null,e.a.createElement("tr",{className:"table-title"},e.a.createElement("td",{colSpan:3},"Results matrix")),e.a.createElement("tr",null,e.a.createElement("td",null,(E==null?void 0:E.result_type)===o.k.Events?"Performed event":"Has property"),e.a.createElement("td",null,"Success"),e.a.createElement("td",null,"Dropped off"))),e.a.createElement("tbody",null,e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"},"Yes"),e.a.createElement("td",null,e.a.createElement(Ve.a,{title:"True positive (TP) - Percentage of users who ".concat($," and completed the funnel.")},e.a.createElement("div",{className:"percentage"},Z?Object(X.ob)(Z/(Z+pe)):"0.00%")),Z===0?"0 users":e.a.createElement(gn.a,{onClick:function(){I(E,!0)}},Object(X.qb)(Z,"user",void 0,!0,!0))),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(Ve.a,{title:"False negative (FN) - Percentage of users who ".concat($," and did not complete the funnel.")},ce?Object(X.ob)(ce/(ce+Ne)):"0.00%")),ce===0?"0 users":e.a.createElement(gn.a,{onClick:function(){I(E,!1)}},Object(X.qb)(ce,"user",void 0,!0,!0)))),e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"},"No"),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(Ve.a,{title:"False positive (FP) - Percentage of users who did not ".concat($," and completed the funnel.")},pe?Object(X.ob)(pe/(Z+pe)):"0.00%")),Object(X.qb)(pe,"user",void 0,!0,!0)),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(Ve.a,{title:"True negative (TN) - Percentage of users who did not ".concat($," and did not complete the funnel.")},Ne?Object(X.ob)(Ne/(ce+Ne)):"0.00%")),Object(X.qb)(Ne,"user",void 0,!0,!0))),e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"}),e.a.createElement("td",null,e.a.createElement("b",null,"100%")),e.a.createElement("td",null,e.a.createElement("b",null,"100%"))))),e.a.createElement("div",{className:"mt text-center"},Object(X.j)((E==null?void 0:E.result_type)||"")," ",e.a.createElement("b",null,K)," ","has a"," ",(E==null?void 0:E.correlation_type)===o.l.Success?e.a.createElement("b",{className:"text-success"},"positive"," ",e.a.createElement(Ve.a,{title:"Positive correlation means this ".concat(N," is correlated with a successful conversion.")},e.a.createElement(Pt.a,{className:"cursor-pointer"}))):e.a.createElement("b",{className:"text-danger"},"negative"," ",e.a.createElement(Ve.a,{title:"Negative correlation means this ".concat(N," is correlated with an unsuccessful conversion (user dropped off).")},e.a.createElement(Pt.a,{className:"cursor-pointer"})))," ","correlation score of"," ",e.a.createElement("b",{style:{color:ne==="strong"?"var(--success)":ne==="moderate"?"var(--warning)":"var(--danger)"}},e.a.createElement(Ve.a,{title:"This ".concat(N," has ").concat(ne," correlation.")},e.a.createElement("span",{style:{cursor:"pointer"}},de," ",Ae.toFixed(3)))))):e.a.createElement("div",null,e.a.createElement(La.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function da(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=Object(nt.a)(c),p=Object(s.useValues)(d),C=p.stepsWithCount,E=p.correlationValues,x=p.correlationTypes,D=p.eventHasPropertyCorrelations,M=p.eventWithPropertyCorrelationsValues,w=p.parseDisplayNameForCorrelation,I=p.correlationsLoading,N=p.eventWithPropertyCorrelationsLoading,$=p.nestedTableExpandedKeys,K=p.correlationPropKey,te=p.filters,ie=p.aggregationTargetLabel,se=Object(s.useActions)(d),Ae=se.setCorrelationTypes,Z=se.loadEventWithPropertyCorrelations,pe=se.addNestedTableExpandedKey,Ne=se.removeNestedTableExpandedKey,ce=se.openCorrelationPersonsModal,ne=se.loadCorrelations,de=Object(s.useActions)(j.f),be=de.reportCorrelationInteraction;Object(fe.useEffect)(function(){ne({})},[te]);var Re=function(Fe){x?x.includes(Fe)?Ae(x.filter(function(tt){return tt!==Fe})):Ae([].concat(Me()(x),[Fe])):Ae([Fe])},En=function(Fe){var tt=function(Oa){return Oa<10&&!Number.isInteger(Oa)?Oa.toFixed(1):Oa.toFixed()},jt=Fe.correlation_type===o.l.Success,it=w(Fe),yn=it.first_value,ya=it.second_value;return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,jt?e.a.createElement(aa.a,{style:{color:"green"}}):e.a.createElement(sa,{style:{color:"red"}})," ",e.a.createElement(vn.a,{value:yn}),ya!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(vn.a,{value:ya,disablePopover:!0}))),e.a.createElement("div",null,Object(X.j)(ie.plural)," ",te.aggregation_group_type_index!=null?"that":"who"," converted were"," ",e.a.createElement("mark",null,e.a.createElement("b",null,tt(Fe.odds_ratio),"x ",jt?"more":"less"," likely"))," ","to"," ",Fe.result_type===o.k.EventWithProperties?"have this event property":"do this event"),e.a.createElement(wa,null))},It=function(Fe){return e.a.createElement(Yt.c,{onClick:function(){ce(Fe,!0)}},Fe.success_count)},Ye=function(Fe){return e.a.createElement(Yt.c,{onClick:function(){ce(Fe,!1)}},Fe.failure_count)},Et=function(Fe){return N?e.a.createElement("div",{className:"nested-properties-loading"},e.a.createElement(st.a,null),e.a.createElement("h3",null,"Loading correlation results"),e.a.createElement("p",null,"This process can take up to 20 seconds. ")):e.a.createElement("div",null,e.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),e.a.createElement(ot.a,{dataSource:M[Fe],rowKey:function(jt){return jt.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(jt,it){return be(o.k.EventWithProperties,"pagination change",{page:jt,page_size:it})}}},e.a.createElement(ht.a,{title:"Property",key:"eventName",render:function(jt,it){return En(it)},align:"left"}),e.a.createElement(ht.a,{title:"Completed",key:"success_count",render:function(jt,it){return It(it)},width:90,align:"center"}),e.a.createElement(ht.a,{title:"Dropped off",key:"failure_count",render:function(jt,it){return Ye(it)},width:120,align:"center"}),e.a.createElement(ht.a,{title:"",key:"actions",render:function(jt,it){return e.a.createElement(Ln,{record:it})},align:"center",width:30})))};return C.length>1?e.a.createElement(Tn,{id:K,offset:152},e.a.createElement("div",{className:"funnel-correlation-table"},e.a.createElement("span",{className:"funnel-correlation-header"},e.a.createElement("span",{className:"table-header"},e.a.createElement(Rt.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),e.a.createElement("span",{className:"table-options"},e.a.createElement("p",{className:"title"},"CORRELATION"),e.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return Re(o.l.Success)}},e.a.createElement(Mn.a,{checked:x.includes(o.l.Success),style:{pointerEvents:"none"}},"Success")),e.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return Re(o.l.Failure)}},e.a.createElement(Mn.a,{checked:x.includes(o.l.Failure),style:{pointerEvents:"none"}},"Dropoff")))),e.a.createElement(ot.a,{dataSource:E,loading:I,size:"small",scroll:{x:"max-content"},rowKey:function(Fe){return Fe.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return be(o.k.Events,"load more")}},expandable:{expandedRowRender:function(Fe){return Et(Fe.event.event)},expandedRowKeys:$,rowExpandable:function(){return te.aggregation_group_type_index===void 0},expandIcon:function(Fe){var tt=Fe.expanded,jt=Fe.onExpand,it=Fe.record,yn=Fe.expandable;return yn?tt?e.a.createElement(Ve.a,{title:"Collapse"},e.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(ba){Ne(it.event.event),jt(it,ba)}},e.a.createElement(Rt.IconUnfoldLess,null))):e.a.createElement(Ve.a,{title:"Expand to see correlated properties for this event"},e.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(ba){!D(it.event.event)&&Z(it.event.event),pe(it.event.event),jt(it,ba)}},e.a.createElement(Rt.IconUnfoldMore,null))):null}}},e.a.createElement(ht.a,{title:"Event",key:"eventName",render:function(Fe,tt){return En(tt)},align:"left",ellipsis:!0}),e.a.createElement(ht.a,{title:e.a.createElement("div",{className:"flex-center"},"Completed",e.a.createElement(Ve.a,{title:"".concat(Object(X.j)(ie.plural)," ").concat(te.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},e.a.createElement(Pt.a,{className:"column-info"}))),key:"success_count",render:function(Fe,tt){return It(tt)},width:90,align:"center"}),e.a.createElement(ht.a,{title:e.a.createElement("div",{className:"flex-center"},"Dropped off",e.a.createElement(Ve.a,{title:e.a.createElement(e.a.Fragment,null,Object(X.j)(ie.plural)," ",te.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",e.a.createElement("b",null,"not complete")," the entire funnel.")},e.a.createElement(Pt.a,{className:"column-info"}))),key:"failure_count",render:function(Fe,tt){return Ye(tt)},width:120,align:"center"}),e.a.createElement(ht.a,{title:"",key:"actions",render:function(Fe,tt){return e.a.createElement(Ln,{record:tt})},width:30})))):null}var Ln=function(c){var d=c.record,p=Object(s.useValues)(V.c),C=p.insightProps,E=Object(nt.a)(C),x=Object(s.useActions)(E),D=x.excludeEventPropertyFromProject,M=x.excludeEventFromProject,w=x.setFunnelCorrelationDetails,I=Object(s.useValues)(E),N=I.isEventPropertyExcluded,$=I.isEventExcluded,K=d.event.event.split("::"),te=Object(fe.useState)(!1),ie=oe()(te,2),se=ie[0],Ae=ie[1];return e.a.createElement(xe.a,{style:{justifyContent:"flex-end"}},e.a.createElement(ia.a,{visible:se,actionable:!0,onClickOutside:function(){return Ae(!1)},overlay:e.a.createElement(e.a.Fragment,null,d.result_type===o.k.Events&&e.a.createElement(cn.a,{onClick:function(){return w(d)},fullWidth:!0,type:"stealth"},"View correlation details"),e.a.createElement(cn.a,{disabled:d.result_type===o.k.EventWithProperties?N(K[1]):$(K[0]),onClick:function(){return d.result_type===o.k.EventWithProperties?D(K[0],K[1]):M(K[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",type:"stealth"},"Exclude event from project"))},e.a.createElement(cn.a,{type:"stealth",onClick:function(){return Ae(!se)}},e.a.createElement(xt.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},Aa=t("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function ua(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=Object(nt.a)(c),p=Object(s.useValues)(d),C=p.stepsWithCount,E=p.propertyCorrelationValues,x=p.propertyCorrelationTypes,D=p.excludedPropertyNames,M=p.parseDisplayNameForCorrelation,w=p.propertyCorrelationsLoading,I=p.inversePropertyNames,N=p.propertyNames,$=p.correlationPropKey,K=p.allProperties,te=p.filters,ie=p.aggregationTargetLabel,se=Object(s.useActions)(d),Ae=se.setPropertyCorrelationTypes,Z=se.setPropertyNames,pe=se.openCorrelationPersonsModal,Ne=se.loadPropertyCorrelations,ce=Object(s.useActions)(j.f),ne=ce.reportCorrelationInteraction;Object(fe.useEffect)(function(){N.length===0&&Z(K),Ne({})},[te]);var de=function(Ye){x?x.includes(Ye)?Ae(x.filter(function(Et){return Et!==Ye})):Ae([].concat(Me()(x),[Ye])):Ae([Ye])},be=function(Ye){return e.a.createElement(Yt.c,{onClick:function(){pe(Ye,!0)}},Ye.success_count)},Re=function(Ye){return e.a.createElement(Yt.c,{onClick:function(){pe(Ye,!1)}},Ye.failure_count)},En=function(Ye){var Et=function(yn){return yn<10&&!Number.isInteger(yn)?yn.toFixed(1):yn.toFixed()},gt=Ye.correlation_type===o.l.Success,Fe=M(Ye),tt=Fe.first_value,jt=Fe.second_value;return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,gt?e.a.createElement(aa.a,{style:{color:"green"}}):e.a.createElement(sa,{style:{color:"red"}})," ",e.a.createElement(vn.a,{value:tt}),jt!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(vn.a,{value:jt,disablePopover:!0}))),e.a.createElement("div",null,Object(X.j)(ie.plural)," ",te.aggregation_group_type_index!=null?"that":"who"," converted were"," ",e.a.createElement("mark",null,e.a.createElement("b",null,Et(Ye.odds_ratio),"x ",gt?"more":"less"," likely"))," ","to have this property value"))};return C.length>1?e.a.createElement(Tn,{offset:150,id:"".concat($,"-properties")},e.a.createElement("div",{className:"funnel-correlation-table"},e.a.createElement(xe.a,{className:"funnel-correlation-header"},e.a.createElement(je.a,{className:"table-header"},e.a.createElement(Rt.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),e.a.createElement(je.a,{className:"table-options"},e.a.createElement(xe.a,{style:{display:"contents"}},K.length>0&&e.a.createElement(e.a.Fragment,null,e.a.createElement("p",{className:"title"},"PROPERTIES "),e.a.createElement(Aa.a,{value:new Set(N),onChange:function(Ye){return Z(Ye)},allProperties:I(D||[])}))),e.a.createElement(xe.a,{style:{display:"contents"}},e.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),e.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return de(o.l.Success)}},e.a.createElement(Mn.a,{checked:x.includes(o.l.Success),style:{pointerEvents:"none"}},"Success")),e.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return de(o.l.Failure)}},e.a.createElement(Mn.a,{checked:x.includes(o.l.Failure),style:{pointerEvents:"none"}},"Dropoff"))))),e.a.createElement(ot.a,{dataSource:E,loading:w,scroll:{x:"max-content"},size:"small",rowKey:function(Ye){return Ye.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(Ye,Et){return ne(o.k.Properties,"pagination change",{page:Ye,page_size:Et})}}},e.a.createElement(ht.a,{title:"".concat(Object(X.j)(ie.singular)," property"),key:"propertName",render:function(Ye,Et){return En(Et)},align:"left"}),e.a.createElement(ht.a,{title:e.a.createElement("div",{className:"flex-center"},"Completed",e.a.createElement(Ve.a,{title:"".concat(Object(X.j)(ie.plural)," ").concat(te.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},e.a.createElement(Pt.a,{className:"column-info"}))),key:"success_count",render:function(Ye,Et){return be(Et)},width:90,align:"center"}),e.a.createElement(ht.a,{title:e.a.createElement("div",{className:"flex-center"},"Dropped off",e.a.createElement(Ve.a,{title:e.a.createElement(e.a.Fragment,null,Object(X.j)(ie.plural)," ",te.aggregation_group_type_index!=null?"that":"who"," have this property and did ",e.a.createElement("b",null,"not complete")," the entire funnel.")},e.a.createElement(Pt.a,{className:"column-info"}))),key:"failure_count",render:function(Ye,Et){return Re(Et)},width:120,align:"center"}),e.a.createElement(ht.a,{title:"",key:"actions",render:function(Ye,Et){return e.a.createElement(Yn,{record:Et})},align:"center",width:30})))):null}var Yn=function(c){var d=c.record,p=Object(s.useValues)(V.c),C=p.insightProps,E=Object(nt.a)(C),x=Object(s.useActions)(E),D=x.excludePropertyFromProject,M=x.setFunnelCorrelationDetails,w=Object(s.useValues)(E),I=w.isPropertyExcludedFromProject,N=(d.event.event||"").split("::")[0],$=Object(fe.useState)(!1),K=oe()($,2),te=K[0],ie=K[1];return e.a.createElement(xe.a,{style:{justifyContent:"flex-end"}},e.a.createElement(ia.a,{visible:te,actionable:!0,onClickOutside:function(){return ie(!1)},overlay:e.a.createElement(e.a.Fragment,null,e.a.createElement(cn.a,{onClick:function(){return M(d)},fullWidth:!0,type:"stealth"},"View correlation details"),e.a.createElement(cn.a,{disabled:I(N),onClick:function(){return D(N)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",type:"stealth"},"Exclude property from project"))},e.a.createElement(cn.a,{type:"stealth",onClick:function(){return ie(!te)}},e.a.createElement(xt.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},ma=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),$n=t("./frontend/src/lib/components/PayCard/PayCard.tsx"),Ra=t("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),pa=function(){var c,d=Object(s.useValues)(V.c),p=d.insightProps,C=Object(s.useValues)(Object(nt.a)(p)),E=C.isSkewed,x=C.stepsWithCount,D=C.correlationFeedbackHidden,M=C.correlationDetailedFeedbackVisible,w=C.correlationFeedbackRating,I=C.correlationAnalysisAvailable,N=C.aggregationTargetLabel,$=Object(s.useActions)(Object(nt.a)(p)),K=$.sendCorrelationAnalysisFeedback,te=$.hideSkewWarning,ie=$.hideCorrelationAnalysisFeedback,se=$.setCorrelationFeedbackRating,Ae=$.setCorrelationDetailedFeedback,Z=Object(s.useValues)(Ra.a),pe=Z.preflight,Ne=Object(fe.useRef)(null);return x.length<=1?null:!I&&!(!(pe==null||(c=pe.instance_preferences)===null||c===void 0)&&c.disable_paid_fs)?e.a.createElement($n.a,{identifier:o.c.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(N.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(N.plural," are converting or dropping off.")}):e.a.createElement(e.a.Fragment,null,e.a.createElement("h2",{style:{margin:"1rem 0"}},"Correlation analysis"),e.a.createElement("div",{className:"funnel-correlation"},E&&e.a.createElement(we.a,{className:"skew-warning"},e.a.createElement("h4",null,e.a.createElement(Rt.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",e.a.createElement(ma.a,{className:"close-button",onClick:te})),e.a.createElement("div",null,e.a.createElement("b",null,"Tips for adjusting your funnel:"),e.a.createElement("ol",null,e.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),e.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),e.a.createElement(da,null),!D&&e.a.createElement(we.a,{className:"correlation-feedback"},e.a.createElement(xe.a,{className:"row-initial"},e.a.createElement(je.a,{span:14},e.a.createElement("h4",null,e.a.createElement(g.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?")),e.a.createElement(je.a,{span:9,style:{alignContent:"right"}},!!w&&e.a.createElement("i",{style:{color:"var(--success)",marginRight:8}},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(ce,ne){return e.a.createElement(sn.a,{key:ne,className:"emoji-button",style:w===ce[0]?{background:"#5375FF"}:w?{display:"none"}:{},onClick:function(){w===ce[0]?se(0):(se(ce[0]),setTimeout(function(){var be;return(be=Ne.current)===null||be===void 0?void 0:be.focus()},100))}},ce[1])})),e.a.createElement(je.a,{span:1},e.a.createElement(ma.a,{className:"close-button",onClick:ie}))),e.a.createElement("div",{style:{display:M?void 0:"none"}},e.a.createElement("form",{onSubmit:K},e.a.createElement(Dt.a,{onBlur:function(ne){return Ae(ne.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",style:{marginTop:16},ref:Ne,onKeyDown:function(ne){if(ne.key==="Enter"&&ne.metaKey){var de;(de=Ne.current)===null||de===void 0||de.blur(),K()}}}),e.a.createElement("div",{className:"text-right"},e.a.createElement(sn.a,{className:"feedback-button","data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback"))))),e.a.createElement(ua,null)))},fa=t("./node_modules/core-js/modules/es.regexp.to-string.js"),va=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss"),Hn=t.n(va),Zt={};Zt.insert="head",Zt.singleton=!1;var Gn=jn()(Hn.a,Zt),Ua=Hn.a.locals||{},_a=t("./frontend/src/lib/components/InsightLabel/index.tsx"),ga=t("./frontend/src/lib/colors.ts"),Jn=t("./frontend/src/lib/components/LemonCheckbox/index.ts");function H(){var m=Object(s.useValues)(V.c),c=m.filters,d=m.activeView,p=Object(s.useActions)(V.c),C=p.toggleInsightLegend,E=Object(s.useValues)(O.a),x=E.featureFlags;return(d===o.s.TRENDS&&c.display!==o.d.WorldMap&&c.display!==o.d.ActionsTable||d===o.s.STICKINESS)&&x[Ce.i.INSIGHT_LEGENDS]?e.a.createElement(sn.a,{className:"insight-legend-button",onClick:C},e.a.createElement(Rt.IconLegend,null),e.a.createElement("span",{className:"insight-legend-button-title"},c.show_legend?"Hide":"Show"," legend")):null}function G(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=m.filters,p=Object(l.a)(c),C=Object(s.useValues)(p),E=C.indexedResults,x=C.hiddenLegendKeys,D=Object(s.useActions)(p),M=D.toggleVisibility,w=Object(ga.c)("white",E.length,!!d.compare);return e.a.createElement("div",{className:"insight-legend-menu"},e.a.createElement("div",{className:"insight-legend-menu-scroll"},E&&E.map(function(I){var N,$;return e.a.createElement(xe.a,{key:I.id,className:"insight-legend-menu-item",wrap:!1},e.a.createElement(Jn.a,{className:"insight-legend-menu-item-inner",color:w[I.id],checked:!x[I.id],onChange:function(){return M(I.id)},rowProps:{fullWidth:!0},label:e.a.createElement(_a.b,{key:I.id,seriesColor:w[I.id],action:I.action,fallbackName:I.breakdown_value===""?"None":I.label,hasMultipleSeries:E.length>1,breakdownValue:I.breakdown_value===""?"None":(N=I.breakdown_value)===null||N===void 0?void 0:N.toString(),compareValue:d.compare?Object(i.d)(I):void 0,pillMidEllipsis:(I==null||($=I.filter)===null||$===void 0?void 0:$.breakdown)==="$current_url",hideIcon:!0})}))})))}var vt=t("./node_modules/core-js/modules/es.array.every.js"),Lt=t("./node_modules/core-js/modules/es.array.flat-map.js"),Xn=t("./node_modules/core-js/modules/es.array.some.js"),ha=t("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),Xa=t("./node_modules/core-js/modules/es.object.from-entries.js"),Ya=t("./frontend/src/lib/components/LemonTable/index.ts"),$a=t("./frontend/src/scenes/insights/InsightTabs/FunnelTab/funnelStepTableUtils.tsx"),Ha=t("./frontend/src/models/cohortsModel.ts"),Wa=t("./frontend/src/lib/components/Lettermark/Lettermark.tsx"),Ga=t("./frontend/src/lib/components/LemonRow/index.ts");function Ja(){var m=Object(s.useValues)(V.c),c=m.insightProps,d=Object(nt.a)(c),p=Object(s.useValues)(d),C=p.insightLoading,E=p.steps,x=p.flattenedBreakdowns,D=p.hiddenLegendKeys,M=p.visibleStepsWithConversionMetrics,w=Object(s.useActions)(d),I=w.setHiddenById,N=w.toggleVisibilityByBreakdown,$=w.openPersonsModalForStep,K=Object(s.useValues)(Ha.a),te=K.cohorts,ie=x.length===1,se=x==null?void 0:x.every(function(Z){return!D[Object(kt.m)(M==null?void 0:M[0],Z.breakdown_value)]}),Ae=[{children:[{title:ie?"Breakdown":e.a.createElement(Jn.a,{checked:se||(x!=null&&x.some(function(Z){return!D[Object(kt.m)(M==null?void 0:M[0],Z.breakdown_value)]})?"indeterminate":!1),onChange:function(){I(Object.fromEntries(M.flatMap(function(pe){return x.map(function(Ne){return[Object(kt.m)(pe,Ne.breakdown_value),se]})})))},label:"Breakdown",rowProps:{compact:!0,style:{padding:0,marginLeft:"-0.5rem",font:"inherit"}}}),dataIndex:"breakdown_value",render:function(pe){var Ne=Object(i.c)(te,pe);return ie?e.a.createElement("span",{style:{fontWeight:500}},Ne):e.a.createElement(Jn.a,{checked:!D[Object(kt.m)(M==null?void 0:M[0],pe)],onChange:function(){return N(pe)},label:Ne,rowProps:{compact:!0,style:{padding:0,marginLeft:"-0.5rem"}}})}},{title:"Total conversion",render:function(pe,Ne){var ce,ne;return Object(kt.c)((ce=Ne==null||(ne=Ne.conversionRates)===null||ne===void 0?void 0:ne.total)!==null&&ce!==void 0?ce:0,!0)},align:"right"}]}].concat(Me()(E.map(function(Z,pe){return{title:e.a.createElement(Ga.a,{icon:e.a.createElement(Wa.a,{name:pe+1,color:Wa.b.Gray}),style:{font:"inherit",padding:0},compact:!0},e.a.createElement(Cn.a,{filter:Object($a.b)(Z)})),children:[{title:"Completed",render:function(ce,ne){var de,be,Re=(de=ne.steps)===null||de===void 0?void 0:de[pe];return Re&&e.a.createElement(Yt.c,{onClick:function(){return $({step:Re,converted:!0})},style:{padding:0}},(be=Re.count)!==null&&be!==void 0?be:0)},align:"right"},{title:"Rate",render:function(ce,ne){var de,be,Re;return Object(kt.c)((de=(be=ne.steps)===null||be===void 0||(Re=be[pe])===null||Re===void 0?void 0:Re.conversionRates.fromPrevious)!==null&&de!==void 0?de:0,!0)},align:"right"}].concat(Me()(pe===0?[]:[{title:"Dropped",render:function(ce,ne){var de,be,Re=(de=ne.steps)===null||de===void 0?void 0:de[pe];return Re&&e.a.createElement(Yt.c,{onClick:function(){return $({step:Re,converted:!1})},style:{padding:0}},(be=Re.droppedOffFromPrevious)!==null&&be!==void 0?be:0)},align:"right"},{title:"Rate",render:function(ce,ne){var de,be,Re;return Object(kt.c)(1-((de=(be=ne.steps)===null||be===void 0||(Re=be[pe])===null||Re===void 0?void 0:Re.conversionRates.fromPrevious)!==null&&de!==void 0?de:0),!0)},align:"right"},{title:"Avg. time",render:function(ce,ne){var de,be;return((de=ne.steps)===null||de===void 0||(be=de[Z.order])===null||be===void 0?void 0:be.average_conversion_time)!=null?Object(X.N)(ne.steps[Z.order].average_conversion_time,3):"\u2013"},align:"right",className:"nowrap"}]))}})));return e.a.createElement(Ya.a,{dataSource:x,columns:Ae,loading:C,rowRibbonColor:function(pe){return Object(kt.k)(pe==null?void 0:pe.breakdownIndex,x.length===1)},rowKey:"breakdownIndex"})}var hn,za=(hn={},q()(hn,"".concat(o.s.TRENDS),e.a.createElement(T,{view:o.s.TRENDS})),q()(hn,"".concat(o.s.STICKINESS),e.a.createElement(T,{view:o.s.STICKINESS})),q()(hn,"".concat(o.s.LIFECYCLE),e.a.createElement(T,{view:o.s.LIFECYCLE})),q()(hn,"".concat(o.s.FUNNELS),e.a.createElement(ae,null)),q()(hn,"".concat(o.s.RETENTION),e.a.createElement(ye.a,null)),q()(hn,"".concat(o.s.PATHS),e.a.createElement(Le.a,null)),hn);function Ea(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1},c=m.disableHeader,d=m.disableTable,p=Object(s.useValues)(O.a),C=p.featureFlags,E=Object(s.useValues)(b.a),x=E.insightMode,D=Object(s.useValues)(V.c),M=D.insightProps,w=D.canEditInsight,I=D.insightLoading,N=D.activeView,$=D.loadedView,K=D.filters,te=D.showTimeoutMessage,ie=D.showErrorMessage,se=D.csvExportUrl,Ae=Object(s.useValues)(Object(nt.a)(M)),Z=Ae.areFiltersValid,pe=Ae.isValidFunnel,Ne=Ae.areExclusionFiltersValid,ce=Ae.correlationAnalysisAvailable,ne=function(){if(N!==$||I&&!te)return e.a.createElement(e.a.Fragment,null,K.display!==o.d.ActionsTable&&K.display!==o.d.WorldMap&&e.a.createElement("div",{className:"trends-insights-container"}),e.a.createElement(X.b,null));if($===o.s.FUNNELS){if(!Z)return e.a.createElement(R.b,{actionable:x===o.t.Edit||d});if(!Ne)return e.a.createElement(R.a,null);if(!pe&&!I)return e.a.createElement(R.c,null)}return ie?e.a.createElement(R.d,null):te?e.a.createElement(R.e,{isLoading:I}):null}();function de(){return N===o.s.FUNNELS&&!ie&&!te&&Z&&K.funnel_viz_type===o.o.Steps&&!d&&(K==null?void 0:K.layout)===Ce.k.horizontal?e.a.createElement(Ja,null):(!K.display||(K==null?void 0:K.display)!==o.d.ActionsTable&&(K==null?void 0:K.display)!==o.d.ActionsBarValue)&&N===o.s.TRENDS&&!d?e.a.createElement(e.a.Fragment,null,se&&e.a.createElement("div",{className:"flex-center space-between-items",style:{margin:"1rem 0"}},e.a.createElement("h2",null,"Trend results"),e.a.createElement(Ve.a,{title:"Export this table in CSV format",placement:"left"},e.a.createElement(cn.a,{type:"secondary",icon:e.a.createElement(Rt.IconExport,{style:{color:"var(--primary)"}}),href:se},"Export"))),e.a.createElement(s.BindLogic,{logic:l.a,props:M},e.a.createElement(i.b,{isLegend:!0,showTotalCount:!0,filterKey:N===o.s.TRENDS?"trends_".concat(N):"",canEditSeriesNameInline:N===o.s.TRENDS&&x===o.t.Edit,canCheckUncheckSeries:w}))):null}return e.a.createElement(e.a.Fragment,null,e.a.createElement(we.a,{title:c?null:e.a.createElement(xn,{activeView:N,insightMode:x,filters:K,disableTable:!!d,disabled:!w}),"data-attr":"insights-graph",className:"insights-graph-container"},e.a.createElement("div",null,e.a.createElement(xe.a,{className:Object(Rn.a)("insights-graph-header",{funnels:N===o.s.FUNNELS}),align:"middle",justify:"space-between"},e.a.createElement(je.a,null,e.a.createElement(Sn,null)),e.a.createElement(je.a,null,N===o.s.FUNNELS?e.a.createElement(ta,null):null,N===o.s.PATHS?e.a.createElement(B,null):null,e.a.createElement(H,null))),ne||(C[Ce.i.INSIGHT_LEGENDS]&&(N===o.s.TRENDS||N===o.s.STICKINESS)&&K.show_legend?e.a.createElement(xe.a,{className:"insights-graph-container-row",wrap:!1},e.a.createElement(je.a,{className:"insights-graph-container-row-left"},za[N]),e.a.createElement(je.a,{className:"insights-graph-container-row-right"},e.a.createElement(G,null))):za[N]))),de(),!d&&ce&&N===o.s.FUNNELS&&e.a.createElement(pa,null))}try{Ea.displayName="InsightContainer",Ea.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:Ea.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(m){}},"./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts":function(ue,L,t){"use strict";t.d(L,"a",function(){return He});var J=t("./node_modules/core-js/modules/es.array.iterator.js"),q=t.n(J),we=t("./node_modules/core-js/modules/es.object.to-string.js"),xe=t.n(we),je=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Xe=t.n(je),et=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),fe=t.n(et),e=t("./node_modules/kea/lib/index.esm.js"),S=t("./frontend/src/scenes/insights/insightLogic.ts"),$e=t("./frontend/src/scenes/insights/sharedUtils.ts");function Me(A,k){var F=Object.keys(A);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(A);k&&(y=y.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),F.push.apply(F,y)}return F}function s(A){for(var k=1;k<arguments.length;k++){var F=arguments[k]!=null?arguments[k]:{};k%2?Me(Object(F),!0).forEach(function(y){fe()(A,y,F[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):Me(Object(F)).forEach(function(y){Object.defineProperty(A,y,Object.getOwnPropertyDescriptor(F,y))})}return A}var He=Object(e.kea)({props:{},key:Object($e.c)("new"),path:function(k){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",k]},connect:function(k){return{actions:[Object(S.c)(k),["setFilters"]],values:[Object(S.c)(k),["filters"]]}},actions:function(){return{setDates:function(F,y){return{dateFrom:F,dateTo:y}}}},selectors:{dates:[function(A){return[A.filters]},function(A){return{dateFrom:(A==null?void 0:A.date_from)||null,dateTo:(A==null?void 0:A.date_to)||null}}]},listeners:function(k){var F=k.actions,y=k.values;return{setDates:function(le){var _e=le.dateFrom,me=le.dateTo;F.setFilters(s(s({},y.filters),{},{date_from:_e||null,date_to:me||null}))}}}})},"./frontend/src/scenes/trends/PersonsModal.tsx":function(ue,L,t){"use strict";t.d(L,"a",function(){return qt});var J=t("./node_modules/core-js/modules/es.array.concat.js"),q=t("./node_modules/core-js/modules/es.array.find.js"),we=t("./node_modules/core-js/modules/es.array.map.js"),xe=t("./node_modules/core-js/modules/es.object.keys.js"),je=t("./node_modules/core-js/modules/es.object.to-string.js"),Xe=t("./node_modules/core-js/modules/es.regexp.exec.js"),et=t("./node_modules/core-js/modules/es.regexp.to-string.js"),fe=t("./node_modules/core-js/modules/es.string.replace.js"),e=t("./node_modules/react/index.js"),S=t.n(e),$e=t("./node_modules/kea/lib/index.esm.js"),Me=t("./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js"),s=t("./node_modules/@ant-design/icons/es/icons/UsergroupAddOutlined.js"),He=t("./node_modules/antd/es/modal/index.js"),A=t("./node_modules/antd/es/button/index.js"),k=t("./node_modules/antd/es/skeleton/index.js"),F=t("./node_modules/antd/es/input/index.js"),y=t("./node_modules/antd/es/select/index.js"),h=t("./frontend/src/types.ts"),le=t("./frontend/src/scenes/trends/personsModalLogic.ts"),_e=t("./frontend/src/lib/components/CopyToClipboard.tsx"),me=t("./frontend/src/lib/utils.tsx"),Qe=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_=t.n(Qe),z=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss"),re=t.n(z),ve={};ve.insert="head",ve.singleton=!1;var Pe=_()(re.a,ve),yt=re.a.locals||{},Ze=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),at=t("./frontend/src/lib/components/PropertiesTable.tsx"),ee=t("./frontend/src/lib/components/DateDisplay/index.tsx"),qe=t("./frontend/src/scenes/persons/PersonHeader.tsx"),n=t("./frontend/src/lib/api.ts"),o=t("./frontend/src/lib/components/LemonTable/index.ts"),X=t("./frontend/src/scenes/persons/GroupActorHeader.tsx"),V=t("./frontend/src/lib/components/icons.tsx"),O=t("./frontend/src/lib/components/InsightLabel/index.tsx"),Ce=t("./frontend/src/lib/colors.ts"),Ct=t("./frontend/src/lib/logic/featureFlagLogic.ts"),Ve=t("./frontend/src/lib/constants.tsx"),wt=t("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),ut=t("./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx"),Kt=t("./frontend/src/scenes/insights/WorldMap/countryCodes.ts");function qt(ct){var Q,oe,Te,Be,mt,We,pt=ct.visible,St=ct.view,Ke=ct.filters,U=ct.onSaveCohort,$t=ct.showModalActions,bt=$t===void 0?!0:$t,ke=ct.aggregationTargetLabel,Ot=Object($e.useValues)(le.b),P=Ot.people,dt=Ot.loadingMorePeople,he=Ot.firstLoadedPeople,Oe=Ot.searchTerm,_t=Ot.isInitialLoad,Ge=Ot.peopleParams,Vt=Ot.actorLabel,Ue=Ot.sessionRecordingId,De=Object($e.useActions)(le.b),Se=De.hidePeople,ft=De.loadMorePeople,Ht=De.setFirstLoadedActors,lt=De.setPersonsModalFilters,Nt=De.setSearchTerm,At=De.switchToDataPoint,un=De.openRecordingModal,nt=De.closeRecordingModal,en=Object($e.useValues)(Ct.a),tn=en.featureFlags,bn=Object(e.useMemo)(function(){var Ee,Ie,Je;return _t?"Loading ".concat(ke.plural,"\u2026"):Ke.shown_as==="Stickiness"?S.a.createElement(S.a.Fragment,null,S.a.createElement(Ze.a,{value:(P==null?void 0:P.label)||"",disablePopover:!0})," stickiness on day ",P==null?void 0:P.day):Ke.display==="ActionsBarValue"||Ke.display==="ActionsPie"?S.a.createElement(Ze.a,{value:(P==null?void 0:P.label)||"",disablePopover:!0}):Ke.insight===h.s.FUNNELS?S.a.createElement(S.a.Fragment,null,((Ee=P==null?void 0:P.funnelStep)!==null&&Ee!==void 0?Ee:0)>=0?"Completed":"Dropped off at"," step"," ",Math.abs((Ie=P==null?void 0:P.funnelStep)!==null&&Ie!==void 0?Ie:0)," \u2022 ",S.a.createElement(Ze.a,{value:(P==null?void 0:P.label)||"",disablePopover:!0})," ",P!=null&&P.breakdown_value?"\u2022 ".concat(P.breakdown_value):""):Ke.insight===h.s.PATHS?S.a.createElement(S.a.Fragment,null,P!=null&&P.pathsDropoff?"Dropped off after":"Completed"," step"," ",S.a.createElement(Ze.a,{value:(P==null?void 0:P.label.replace(/(^[0-9]+_)/,""))||"",disablePopover:!0})):Ke.display===h.d.WorldMap?S.a.createElement(S.a.Fragment,null,Object(me.j)(Vt),Ge!=null&&Ge.breakdown_value?" in ".concat(Object(Kt.a)(Ge==null?void 0:Ge.breakdown_value)," ").concat(Kt.b[Ge==null?void 0:Ge.breakdown_value]):""):S.a.createElement(S.a.Fragment,null,Object(me.j)(Vt)," on"," ",S.a.createElement(ee.a,{interval:Ke.interval||"day",date:(P==null||(Je=P.day)===null||Je===void 0?void 0:Je.toString())||""}))},[Ke,P,_t]),wn=tn[Ve.i.NEW_INSIGHT_COHORTS],Y=!1,nn=(St===h.s.TRENDS||St===h.s.STICKINESS||!!wn&&(St===h.s.FUNNELS||St===h.s.PATHS))&&bt,an=Object(Ce.c)("white",P==null||(Q=P.crossDataset)===null||Q===void 0?void 0:Q.length),mn=!!(!(P==null||(oe=P.crossDataset)===null||oe===void 0)&&oe.find(function(Ee){var Ie=Ee.action;return(Ie==null?void 0:Ie.math)&&Ie.math!=="total"})),On=!!(!(P==null||(Te=P.crossDataset)===null||Te===void 0)&&Te.find(function(Ee){var Ie=Ee.action;return Ie==null?void 0:Ie.order}));return S.a.createElement(S.a.Fragment,null,!!Ue&&S.a.createElement(wt.a,{onClose:nt}),S.a.createElement(He.a,{title:bn,visible:pt,onCancel:Se,footer:P&&P.count>0&&(Y||nn)&&S.a.createElement(S.a.Fragment,null,Y&&S.a.createElement(A.a,{icon:S.a.createElement(Me.a,null),href:n.b.actions.determinePeopleCsvUrl({label:P.label,action:P.action,date_from:P.day,date_to:P.day,breakdown_value:P.breakdown_value},Ke),style:{marginRight:8},"data-attr":"person-modal-download-csv"},"Download CSV"),nn&&S.a.createElement(A.a,{onClick:U,icon:S.a.createElement(s.a,null),"data-attr":"person-modal-save-as-cohort"},"Save as cohort")),width:600,className:"person-modal"},_t?S.a.createElement("div",{style:{padding:16}},S.a.createElement(k.a,{active:!0})):P&&S.a.createElement(S.a.Fragment,null,S.a.createElement(F.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for persons by email, name, or ID",onChange:function(Ie){Nt(Ie.target.value),Ie.target.value||Ht(he)},value:Oe,onSearch:function(Ie){return Ie?lt(Ie,P,Ke):Ht(he)}}),tn[Ve.i.MULTI_POINT_PERSON_MODAL]&&!!(!((Be=P.crossDataset)===null||Be===void 0)&&Be.length)&&P.seriesId!==void 0&&S.a.createElement("div",{className:"data-point-selector"},S.a.createElement(y.a,{value:P.seriesId,onChange:function(Ie){return At(Ie)}},P.crossDataset.map(function(Ee){var Ie,Je;return S.a.createElement(y.a.Option,{value:Ee.id,key:"".concat((Ie=Ee.action)===null||Ie===void 0?void 0:Ie.id).concat(Ee.breakdown_value)},S.a.createElement(O.b,{seriesColor:an[Ee.id],action:Ee.action,breakdownValue:Ee.breakdown_value===""?"None":(Je=Ee.breakdown_value)===null||Je===void 0?void 0:Je.toString(),showCountedByTag:mn,hasMultipleSeries:On}))}))),S.a.createElement("div",{className:"user-count-subheader"},S.a.createElement(V.IconPersonFilled,{style:{fontSize:"1.125rem",marginRight:"0.5rem"}}),S.a.createElement("span",null,"This list contains"," ",S.a.createElement("b",null,P.count," unique ",ke.plural),(Ge==null?void 0:Ge.pointValue)!==void 0&&(!(!((mt=Ge.action)===null||mt===void 0)&&mt.math)||((We=Ge.action)===null||We===void 0?void 0:We.math)==="total")&&S.a.createElement(S.a.Fragment,null," ","who performed the event"," ",S.a.createElement("b",null,Ge.pointValue," total"," ",Object(me.qb)(Ge.pointValue,"time",void 0,!1))),".")),P.count>0?S.a.createElement(o.a,{columns:[{title:"Person",key:"person",render:function(Ie,Je){return S.a.createElement(dn,{actor:Je})}},{width:0,title:"Recordings",key:"recordings",render:function(Ie,Je){var Gt,Pt;if(((Gt=Je.matched_recordings)===null||Gt===void 0?void 0:Gt.length)&&((Pt=Je.matched_recordings)===null||Pt===void 0?void 0:Pt.length)>0)return S.a.createElement(ut.a,{sessionRecordings:Je.matched_recordings,onOpenRecording:function(An){un(An.session_id)}})}}],className:"persons-table",rowKey:"id",expandable:{expandedRowRender:function(Ie){var Je=Ie.properties;return Object.keys(Je).length?S.a.createElement(at.a,{properties:Je}):"This person has no properties."}},embedded:!0,showHeader:!1,dataSource:P.people,nouns:["person","persons"]}):S.a.createElement("div",{className:"person-row-container person-row"},"We couldn't find any matching ",ke.plural," for this data point."),(P==null?void 0:P.next)&&S.a.createElement("div",{style:{margin:"1rem",textAlign:"center"}},S.a.createElement(A.a,{type:"primary",style:{color:"white"},onClick:ft,loading:dt},"Load more ",ke.plural)))))}function dn(ct){var Q=ct.actor;return Object(me.W)(Q)?S.a.createElement("div",{key:Q.id,className:"person-row"},S.a.createElement("div",{className:"person-ids"},S.a.createElement("strong",null,S.a.createElement(X.a,{actor:Q})))):S.a.createElement("div",{key:Q.id,className:"person-ids"},S.a.createElement("strong",null,S.a.createElement(qe.a,{person:Q,withIcon:!1})),S.a.createElement(_e.a,{explicitValue:Q.distinct_ids[0],iconStyle:{color:"var(--primary)"},iconPosition:"end",className:"text-small text-muted-alt"},Object(me.kb)(Q.distinct_ids[0],32)))}try{qt.displayName="PersonsModal",qt.__docgenInfo={description:"",displayName:"PersonsModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onSaveCohort:{defaultValue:null,description:"",name:"onSaveCohort",required:!0,type:{name:"() => void"}},showModalActions:{defaultValue:{value:"true"},description:"",name:"showModalActions",required:!1,type:{name:"boolean"}},aggregationTargetLabel:{defaultValue:null,description:"",name:"aggregationTargetLabel",required:!0,type:{name:"{ singular: string; plural: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"]={docgenInfo:qt.__docgenInfo,name:"PersonsModal",path:"frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"})}catch(ct){}try{dn.displayName="ActorRow",dn.__docgenInfo={description:"",displayName:"ActorRow",props:{actor:{defaultValue:null,description:"",name:"actor",required:!0,type:{name:"ActorType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"]={docgenInfo:dn.__docgenInfo,name:"ActorRow",path:"frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"})}catch(ct){}},"./frontend/src/scenes/trends/SaveCohortModal.tsx":function(ue,L,t){"use strict";t.d(L,"a",function(){return et});var J=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),q=t.n(J),we=t("./node_modules/react/index.js"),xe=t.n(we),je=t("./node_modules/antd/es/modal/index.js"),Xe=t("./node_modules/antd/es/input/index.js");function et(fe){var e=fe.onOk,S=fe.onCancel,$e=fe.visible,Me=Object(we.useState)(""),s=q()(Me,2),He=s[0],A=s[1];return xe.a.createElement(je.a,{title:"New Cohort",okText:"Save",cancelText:"Cancel",onOk:function(){e(He),A("")},onCancel:S,visible:$e},xe.a.createElement("div",{className:"mb"},xe.a.createElement(Xe.a,{required:!0,autoFocus:!0,placeholder:"Cohort name...",value:He,"data-attr":"cohort-name",onChange:function(F){return A(F.target.value)}})))}try{et.displayName="SaveCohortModal",et.__docgenInfo={description:"",displayName:"SaveCohortModal",props:{onOk:{defaultValue:null,description:"",name:"onOk",required:!0,type:{name:"(title: string) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"]={docgenInfo:et.__docgenInfo,name:"SaveCohortModal",path:"frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"})}catch(fe){}},"./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js":function(ue,L,t){"use strict";var J=t("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),q=t("./node_modules/react/index.js"),we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},xe=we,je=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(e,S){return q.createElement(je.a,Object(J.a)(Object(J.a)({},e),{},{ref:S,icon:xe}))};Xe.displayName="BarChartOutlined";var et=L.a=q.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js":function(ue,L,t){"use strict";var J=t("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),q=t("./node_modules/react/index.js"),we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},xe=we,je=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(e,S){return q.createElement(je.a,Object(J.a)(Object(J.a)({},e),{},{ref:S,icon:xe}))};Xe.displayName="DownloadOutlined";var et=L.a=q.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(ue,L,t){"use strict";var J=t("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),q=t("./node_modules/react/index.js"),we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},xe=we,je=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(e,S){return q.createElement(je.a,Object(J.a)(Object(J.a)({},e),{},{ref:S,icon:xe}))};Xe.displayName="OrderedListOutlined";var et=L.a=q.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js":function(ue,L,t){"use strict";var J=t("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),q=t("./node_modules/react/index.js"),we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},xe=we,je=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(e,S){return q.createElement(je.a,Object(J.a)(Object(J.a)({},e),{},{ref:S,icon:xe}))};Xe.displayName="PercentageOutlined";var et=L.a=q.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/SaveOutlined.js":function(ue,L,t){"use strict";var J=t("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),q=t("./node_modules/react/index.js"),we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},xe=we,je=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(e,S){return q.createElement(je.a,Object(J.a)(Object(J.a)({},e),{},{ref:S,icon:xe}))};Xe.displayName="SaveOutlined";var et=L.a=q.forwardRef(Xe)},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insight-legend-button{display:flex;align-items:center}.insight-legend-button .insight-legend-button-title{margin-left:.5rem;font-size:14px;font-weight:500}.insight-legend-menu{box-shadow:none!important;border:1px solid rgba(0,0,0,.15);background-color:#fff;border-radius:4px;max-width:300px;width:100%;max-height:100%;overflow-y:auto;overflow-x:auto;display:flex;flex-direction:column}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item{width:100%}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner{cursor:pointer;display:flex;align-items:center}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner .insights-label{width:100%;font-size:.75rem}",""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.properties-table-key{min-width:12rem;display:flex;align-items:center;justify-content:space-between}.property-value-type{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:1.25rem;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;text-transform:uppercase;cursor:default}.property-value-type:not(:first-child){margin-left:.25rem}.properties-table-value{min-width:12rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;align-items:center}.properties-table-value .value-link>*{vertical-align:middle}.properties-table-value .value-link>svg{margin-left:.25rem;font-size:1rem}.properties-table-value .editable{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-color:#5375ff;text-decoration-color:#5375ff;cursor:pointer}",""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,'.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.experiment-form .metrics-selection{border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;width:100%}.experiment-form .metrics-selection .action-filters-bordered .draggable-action-filter{border-bottom:1px solid rgba(0,0,0,.15);padding:1rem .25rem;margin-top:0}.experiment-form .metrics-selection .action-filters-bordered .row-action-btn{color:#35416b}.experiment-form .person-selection{width:100%;border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;align-items:center;justify-content:space-between}.experiment-form .insights-graph-container{margin-bottom:1rem;background-color:#fff}.experiment-form .insights-graph-container .ant-card-head{border-bottom:1px solid rgba(0,0,0,.15);min-height:unset;background-color:#fff;padding-left:1rem;padding-right:1rem}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title{padding:.5rem 0}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter{font-size:14px}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter:not(:last-child),.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter span.head-title-item{margin-right:.5rem}.experiment-form .insights-graph-container .display-config-inner{display:flex;align-items:center;justify-content:space-between;overflow-x:auto}.experiment-form .insights-graph-container .ant-card-body{padding:0}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-left{width:100%}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-right{width:100%;height:min(calc(90vh - 16rem),36rem);max-width:300px;padding:0 1rem 1rem 0;display:flex;align-items:center}.experiment-form .insights-graph-container .graph-container{width:calc(100% - 2rem);height:calc(100% - 3rem)}.experiment-form .insights-graph-header{margin-top:0!important;margin-bottom:0!important;padding-left:1rem;padding-right:1rem;min-height:48px}.experiment-form .experiment-preview{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.experiment-form .experiment-preview .mde-slider .ant-slider-handle{border:none}.experiment-form .experiment-preview .mde-slider .ant-slider-rail{background-color:#e5ebff}.experiment-form .variants{margin-top:.5rem;padding-bottom:1rem}.experiment-form .variants .ant-form-horizontal{min-height:32px}.experiment-form .variants .border-top{border-top-left-radius:4px;border-top-right-radius:4px}.experiment-form .variants .border-bottom{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.experiment-form .variants .feature-flag-variant{display:flex;align-items:center;height:3.5rem;padding:0 .5rem;background:#fff;border-bottom-width:1px;border-bottom-color:rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);border-left:1px solid rgba(0,0,0,.15);border-right:1px solid rgba(0,0,0,.15)}.experiment-form .variants .feature-flag-variant .ant-form-item-explain-error{margin-top:.5rem;color:#bf411a}.experiment-form .variants .feature-flag-variant .ant-form-item-label{padding:0}.experiment-form .variants .variant-label{display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:4px;color:#fff;min-width:52px;padding:2px 6px;margin-right:8px;font-size:12px;font-weight:500;letter-spacing:.01em}.experiment-form .secondary-metrics{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.15);margin-bottom:1rem}.experiment-form .ant-input-number-disabled,.experiment-form .ant-input[disabled]{color:#000}.view-experiment .draft-header{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.view-experiment .exp-description{font-style:italic;color:rgba(0,0,0,.5)}.view-experiment .participants{background-color:#fff}.view-experiment .participants .ant-collapse-header{padding-top:.5rem;padding-bottom:.5rem;padding-left:.75rem}.view-experiment .variants-list{list-style:none;margin:0;padding:0}.view-experiment .variants-list li{display:inline}.view-experiment .variants-list li:after{content:", "}.view-experiment .variants-list li:last-child:after{content:""}.view-experiment .experiment-result{padding-top:1rem}.view-experiment .significant-results{padding:.5rem;width:100%;background:rgba(119,185,108,.1);border-radius:4px;text-align:center;margin-bottom:1rem}.view-experiment .not-significant-results{padding:.5rem;width:100%;background:rgba(83,117,255,.1);border-radius:4px;margin-bottom:1rem}.view-experiment .feature-flag-mods{padding:.5rem;width:100%;background:#f6ebf8;border-radius:4px;margin-bottom:1rem}.view-experiment .ant-collapse-content-box{display:flex;flex-flow:column}.view-experiment .secondary-progress{margin-top:.5rem}.view-experiment .secondary-progress li:before{content:"\u2022";display:inline-block;font-weight:900;margin-right:4px}.view-experiment .secondary-progress .ant-progress-inner,.view-experiment .secondary-progress .ant-progress-inner .ant-progress-bg{border-radius:4px}.view-experiment .no-experiment-results{display:flex;justify-content:center;align-items:center;margin-top:1rem;background-color:#fafaf9;border:1px solid rgba(0,0,0,.15);width:100%;min-height:320px;font-size:24px}.view-experiment .end-experiment-btn{background:#77b96c;color:#fff}.view-experiment .end-experiment-btn:hover{color:#000}.preview-conversion-goal-num{height:24px;width:24px;text-align:center;background-color:#fafaf9;color:#35416b;font-weight:700;margin-right:.5rem}.experiment-preview-row{border-bottom:1px solid rgba(0,0,0,.15);padding-bottom:1rem;margin-bottom:1rem}.experiment-preview-row:last-child{border-bottom:none;padding-bottom:0;margin-bottom:0}.metric-name{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:8px 8px 8px 16px;margin-left:.5rem;flex:1}.experiment-implementation-details,.experiment-workflow{border-color:#d9d9d9}.experiment-implementation-details .ant-card-head,.experiment-workflow .ant-card-head{padding-left:1rem;padding-right:1rem;border:none}.experiment-implementation-details .ant-card-head-title,.experiment-workflow .ant-card-head-title{border-bottom:1px solid rgba(0,0,0,.15)}.experiment-implementation-details .exp-workflow-step,.experiment-workflow .exp-workflow-step{margin-bottom:.5rem;padding:.5rem;border-radius:4px}.experiment-implementation-details .exp-workflow-step:hover,.experiment-workflow .exp-workflow-step:hover{cursor:pointer}.experiment-implementation-details .step-completed,.experiment-workflow .step-completed{background-color:#e5ebff}',""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insights-graph-header.funnels{border-bottom:1px solid rgba(0,0,0,.15)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:#2d2d2d}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid #f7a501}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.15);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:rgba(0,0,0,.5)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:500}.funnel-correlation .correlation-feedback{margin-top:1rem}.funnel-correlation .correlation-feedback .ant-card-body{padding:.5rem 1rem}.funnel-correlation .correlation-feedback h4{padding:0;margin:0;font-weight:700;color:#747ea1}.funnel-correlation .correlation-feedback .emoji-button{margin-right:4px}.funnel-correlation .correlation-feedback .emoji-button:last-of-type{margin-right:0}.funnel-correlation .correlation-feedback .row-initial{display:flex;align-items:center}.funnel-correlation .correlation-feedback .row-initial .ant-col{text-align:right}.funnel-correlation .correlation-feedback .row-initial .ant-col:first-of-type{text-align:left}.funnel-correlation .correlation-feedback .close-button{color:rgba(0,0,0,.5)!important;cursor:pointer;z-index:5}.funnel-correlation .correlation-feedback .feedback-button{margin:1rem 0}",""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:4px;border:1px solid rgba(0,0,0,.15);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:#747ea1}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:#fafafa;text-transform:uppercase;color:rgba(0,0,0,.5)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation-table{margin-top:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;align-self:stretch;justify-content:space-between;align-content:space-between;border-top-left-radius:4px;border-top-right-radius:4px;padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:#2d2d2d;margin-left:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:#747ea1;cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:#747ea1}",""]),ue.exports=L},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss":function(ue,L,t){var J=t("./node_modules/css-loader/dist/runtime/api.js");L=J(!1),L.push([ue.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.person-modal .ant-modal-header{padding:1rem}.person-modal .ant-modal-title{overflow:hidden;text-overflow:ellipsis}.person-modal .ant-modal-content{overflow:hidden}.person-modal .ant-modal-body{padding:0;max-height:60vh;overflow-y:auto}.person-modal .ant-modal-footer .ant-btn{color:#5375ff}.person-modal .ant-input-search{padding:1rem}.person-modal .persons-table{border-top:1px solid var(--border);border-bottom:1px solid var(--border)}.person-modal .person-ids{display:flex;flex-direction:column}.person-modal .user-count-subheader{padding:.5rem 1rem;color:var(--muted-alt)}.person-modal .user-count-subheader>*{vertical-align:middle}.person-modal .person-row-container{padding:.5rem 1rem}.person-modal .data-point-selector{padding:.5rem 1rem;border-bottom:1px solid var(--border)}.person-modal .data-point-selector .ant-select{display:block;width:100%}",""]),ue.exports=L}}]);
