(window.webpackJsonp=window.webpackJsonp||[]).push([[249],{"./frontend/src/lib/forms/Field.tsx":function(ee,v,a){"use strict";a.d(v,"a",function(){return b});var F=a("./node_modules/core-js/modules/es.function.name.js"),$=a.n(F),N=a("./node_modules/@babel/runtime/helpers/extends.js"),R=a.n(N),g=a("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),I=a.n(g),i=a("./node_modules/clsx/dist/clsx.m.js"),e=a("./node_modules/kea-forms/lib/components.js"),s=a.n(e),V=a("./node_modules/react/index.js"),t=a.n(V),b=function(A){var M=A.showOptional,o=A.name,D=I()(A,["showOptional","name"]),f=function(y){var h=y.label,B=y.kids,C=y.hint,E=y.error;return t.a.createElement("div",{className:Object(i.a)("ant-row","ant-form-item",C||E?"ant-form-item-with-help":"",E?"ant-form-item-has-error":"")},h?t.a.createElement("div",{className:"ant-col ant-form-item-label"},t.a.createElement("label",{htmlFor:String(o),title:typeof h=="string"?h:void 0},M?t.a.createElement(t.a.Fragment,null,h,M?t.a.createElement("span",{className:"ant-form-item-optional",title:""},"(optional)"):null):h)):null,t.a.createElement("div",{className:"ant-col ant-form-item-control"},t.a.createElement("div",{className:"ant-form-item-control-input"},t.a.createElement("div",{className:"ant-form-item-control-input-content"},B)),C||E?t.a.createElement("div",{className:"ant-form-item-explain ant-form-item-explain-connected"},E?t.a.createElement("div",{role:"alert",className:"ant-form-item-explain-error"},"Error: ",E):null,C?t.a.createElement("div",{role:"alert",className:"ant-form-item-explain-warning"},"Hint: ",C):null):null))};return t.a.createElement(e.Field,R()({},D,{name:o,template:f}))};try{b.displayName="Field",b.__docgenInfo={description:"Compatible replacement for Form.Item",displayName:"Field",props:{showOptional:{defaultValue:null,description:"",name:"showOptional",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/forms/Field.tsx#Field"]={docgenInfo:b.__docgenInfo,name:"Field",path:"frontend/src/lib/forms/Field.tsx#Field"})}catch(Q){}},"./frontend/src/lib/forms/VerticalForm.tsx":function(ee,v,a){"use strict";a.d(v,"a",function(){return e});var F=a("./node_modules/@babel/runtime/helpers/extends.js"),$=a.n(F),N=a("./node_modules/react/index.js"),R=a.n(N),g=a("./node_modules/kea-forms/lib/index.js"),I=a.n(g),i=a("./node_modules/clsx/dist/clsx.m.js");function e(s){return R.a.createElement(g.Form,$()({},s,{className:Object(i.a)("antd-form ant-form-vertical",s.className)}),s.children)}try{e.displayName="VerticalForm",e.__docgenInfo={description:"",displayName:"VerticalForm",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/forms/VerticalForm.tsx#VerticalForm"]={docgenInfo:e.__docgenInfo,name:"VerticalForm",path:"frontend/src/lib/forms/VerticalForm.tsx#VerticalForm"})}catch(s){}},"./frontend/src/scenes/dashboard/Dashboards.tsx":function(ee,v,a){"use strict";a.r(v),a.d(v,"scene",function(){return Se}),a.d(v,"Dashboards",function(){return re});var F=a("./node_modules/core-js/modules/es.symbol.js"),$=a("./node_modules/core-js/modules/es.symbol.description.js"),N=a("./node_modules/core-js/modules/es.array.concat.js"),R=a("./node_modules/core-js/modules/es.function.name.js"),g=a("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),I=a.n(g),i=a("./node_modules/react/index.js"),e=a.n(i),s=a("./node_modules/kea/lib/index.esm.js"),V=a("./frontend/src/models/dashboardsModel.tsx"),t=a("./node_modules/antd/es/tabs/index.js"),b=a("./node_modules/antd/es/input/index.js"),Q=a("./node_modules/antd/es/row/index.js"),A=a("./node_modules/antd/es/col/index.js"),M=a("./node_modules/antd/es/card/index.js"),o=a("./frontend/src/scenes/dashboard/dashboardsLogic.ts"),D=a("./frontend/src/lib/components/Link.tsx"),f=a("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3-15.4 12.3-16.6 35.4-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8z"}}]},name:"pushpin",theme:"filled"},y=ae,h=a("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),B=function(c,l){return i.createElement(h.a,Object(f.a)(Object(f.a)({},c),{},{ref:l,icon:y}))};B.displayName="PushpinFilled";var C=i.forwardRef(B),E=a("./node_modules/@ant-design/icons/es/icons/PushpinOutlined.js"),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},he=ue,te=function(c,l){return i.createElement(h.a,Object(f.a)(Object(f.a)({},c),{},{ref:l,icon:he}))};te.displayName="ShareAltOutlined";var fe=i.forwardRef(te),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"},be=ve,ne=function(c,l){return i.createElement(h.a,Object(f.a)(Object(f.a)({},c),{},{ref:l,icon:be}))};ne.displayName="AppstoreAddOutlined";var oe=i.forwardRef(ne),W=a("./frontend/src/lib/forms/Field.tsx"),Ee=a("./node_modules/antd/lib/input/TextArea.js"),pe=a.n(Ee),Oe=a("./frontend/src/lib/components/LemonModal/LemonModal.tsx"),p=a("./frontend/src/lib/components/LemonButton/index.ts"),U=a("./frontend/src/types.ts"),se=a("./frontend/src/lib/components/LemonSelect.tsx"),ge=a("./frontend/src/lib/components/PayGateMini/PayGateMini.tsx"),Ae=a("./frontend/src/scenes/dashboard/ShareModal.tsx"),De=a("./frontend/src/lib/forms/VerticalForm.tsx"),K=a("./frontend/src/scenes/dashboard/newDashboardLogic.ts");function ye(){var P=Object(s.useActions)(K.a),c=P.hideNewDashboardModal,l=Object(s.useValues)(K.a),L=l.isNewDashboardSubmitting,w=l.newDashboardModalVisible;return e.a.createElement(Oe.a,{title:"New dashboard",destroyOnClose:!0,onCancel:c,visible:w,footer:e.a.createElement(e.a.Fragment,null,e.a.createElement(p.a,{form:"new-dashboard-form",type:"secondary","data-attr":"dashboard-cancel",loading:L,style:{marginRight:"0.5rem"},onClick:c},"Cancel"),e.a.createElement(p.a,{form:"new-dashboard-form",htmlType:"submit",type:"primary","data-attr":"dashboard-submit",loading:L,disabled:L},"Create"))},e.a.createElement(De.a,{logic:K.a,formKey:"newDashboard",id:"new-dashboard-form"},e.a.createElement("p",null,"Use dashboards to compose multiple insights into a single view."),e.a.createElement(W.a,{name:"name",label:"Name"},e.a.createElement(b.a,{autoFocus:!0,"data-attr":"dashboard-name-input",className:"ph-ignore-input"})),e.a.createElement(W.a,{name:"description",label:"Description",showOptional:!0},e.a.createElement(pe.a,{"data-attr":"dashboard-description-input",className:"ph-ignore-input"})),e.a.createElement(W.a,{name:"useTemplate",label:"Template",showOptional:!0},function(O){var T=O.value,j=O.onValueChange;return e.a.createElement(se.a,{value:T,onChange:j,placeholder:"Optionally start from template",allowClear:!0,options:{DEFAULT_APP:{label:"Website","data-attr":"dashboard-select-default-app"}},type:"stealth",outlined:!0,style:{width:"100%"},"data-attr":"copy-from-template"})}),e.a.createElement(W.a,{name:"restrictionLevel",label:"Collaboration settings"},function(O){var T=O.value,j=O.onValueChange;return e.a.createElement(ge.a,{feature:U.c.DASHBOARD_PERMISSIONING},e.a.createElement(se.a,{value:T,onChange:j,options:Ae.a,loading:L,type:"stealth",outlined:!0,style:{width:"100%"}}))})))}var Ce=a("./frontend/src/lib/components/PageHeader.tsx"),Pe=a("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),Le=a("./frontend/src/scenes/userLogic.ts"),z=a("./frontend/src/lib/utils/eventUsageLogic.ts"),H=a("./frontend/src/scenes/urls.ts"),je=a("./frontend/src/lib/components/LemonTable/index.ts"),le=a("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),xe=a("./frontend/src/lib/components/LemonButton/More.tsx"),G=a("./frontend/src/scenes/dashboard/dashboardLogic.ts"),Y=a("./frontend/src/lib/components/LemonRow/index.ts"),X=a("./frontend/src/lib/components/Tooltip.tsx"),Z=a("./frontend/src/lib/components/icons.tsx"),Me=a("./frontend/src/scenes/teamLogic.ts"),Te=a("./frontend/src/lib/constants.tsx"),Se={component:re,logic:o.b};function re(){var P=Object(s.useValues)(V.a),c=P.dashboardsLoading,l=Object(s.useActions)(V.a),L=l.deleteDashboard,w=l.unpinDashboard,O=l.pinDashboard,T=l.duplicateDashboard,j=Object(s.useActions)(o.b),Fe=j.setSearchTerm,k=j.setCurrentTab,q=Object(s.useValues)(o.b),de=q.dashboards,J=q.searchTerm,x=q.currentTab,ie=Object(s.useActions)(K.a),Ne=ie.showNewDashboardModal,ce=ie.addDashboard,Re=Object(s.useValues)(Le.a),me=Re.hasAvailableFeature,Ie=Object(s.useValues)(Me.a),_=Ie.currentTeam,Ve=[{width:0,dataIndex:"pinned",render:function(r,d){var n=d.id;return r?e.a.createElement(C,{onClick:function(){return w(n,z.a.DashboardsList)},style:{cursor:"pointer"}}):e.a.createElement(E.a,{onClick:function(){return O(n,z.a.DashboardsList)},style:{cursor:"pointer"}})}},{title:"Name",dataIndex:"name",width:"40%",render:function(r,d){var n=d.id,u=d.description,S=d._highlight,Be=d.is_shared,We=d.effective_privilege_level,Ue=n===(_==null?void 0:_.primary_dashboard),Ke=We>=Te.e.CanEdit;return e.a.createElement("div",{className:S?"highlighted":void 0,style:{display:"inline-block"}},e.a.createElement("div",{className:"row-name"},e.a.createElement(D.a,{"data-attr":"dashboard-name",to:H.a.dashboard(n)},r||"Untitled"),!Ke&&e.a.createElement(X.a,{title:"You don't have edit permissions for this dashboard."},e.a.createElement(Z.IconLock,{style:{marginLeft:6,verticalAlign:"-0.125em"}})),Be&&e.a.createElement(X.a,{title:"This dashboard is shared publicly."},e.a.createElement(fe,{style:{marginLeft:6}})),Ue&&e.a.createElement(X.a,{title:"Primary dashboards are shown on the project home page"},e.a.createElement(Z.IconCottage,{style:{marginLeft:6,color:"var(--warning)",fontSize:"1rem",verticalAlign:"-0.125em"}}))),me(U.c.DASHBOARD_COLLABORATION)&&u&&e.a.createElement("span",{className:"row-description"},u))},sorter:function(r,d){var n,u;return((n=r.name)!==null&&n!==void 0?n:"Untitled").localeCompare((u=d.name)!==null&&u!==void 0?u:"Untitled")}}].concat(I()(me(U.c.TAGGING)?[{title:"Tags",dataIndex:"tags",render:function(r){return r?e.a.createElement(Pe.a,{tags:r,staticOnly:!0}):null}}]:[]),[Object(le.b)(),Object(le.a)(),{width:0,render:function(r,d){var n=d.id,u=d.name;return e.a.createElement(xe.a,{overlay:e.a.createElement("div",{style:{maxWidth:250}},e.a.createElement(p.a,{type:"stealth",to:H.a.dashboard(n),onClick:function(){Object(G.c)({id:n}).mount(),Object(G.c)({id:n}).actions.setDashboardMode(null,z.a.DashboardsList)},fullWidth:!0},"View"),e.a.createElement(p.a,{type:"stealth",to:H.a.dashboard(n),onClick:function(){Object(G.c)({id:n}).mount(),Object(G.c)({id:n}).actions.setDashboardMode(U.e.Edit,z.a.DashboardsList)},fullWidth:!0},"Edit"),e.a.createElement(p.a,{type:"stealth",onClick:function(){return T({id:n,name:u})},fullWidth:!0},"Duplicate"),e.a.createElement(Y.b,null),e.a.createElement(Y.a,{icon:e.a.createElement(Z.IconCottage,{style:{color:"var(--warning)"}}),fullWidth:!0,status:"muted"},e.a.createElement("span",null,"Change the default dashboard on the"," ",e.a.createElement(D.a,{to:H.a.projectHomepage()},"project home page"),".")),e.a.createElement(Y.b,null),e.a.createElement(p.a,{type:"stealth",onClick:function(){return L({id:n,redirect:!1})},fullWidth:!0,status:"danger"},"Delete dashboard"))})}}]);return e.a.createElement("div",null,e.a.createElement(ye,null),e.a.createElement(Ce.a,{title:"Dashboards",buttons:e.a.createElement(p.a,{"data-attr":"new-dashboard",onClick:Ne,type:"primary"},"New dashboard")}),e.a.createElement(t.a,{activeKey:x,style:{borderColor:"#D9D9D9"},onChange:function(r){return k(r)}},e.a.createElement(t.a.TabPane,{tab:"All Dashboards",key:o.a.All}),e.a.createElement(t.a.TabPane,{tab:"Pinned",key:o.a.Pinned}),e.a.createElement(t.a.TabPane,{tab:"Shared",key:o.a.Shared})),e.a.createElement("div",null,e.a.createElement(b.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for dashboards",style:{width:240},value:J,onChange:function(r){Fe(r.target.value)}})),e.a.createElement(Y.b,{large:!0}),c||de.length>0||J||x!==o.a.All?e.a.createElement(je.a,{dataSource:de,rowKey:"id",columns:Ve,loading:c,defaultSorting:{columnKey:"name",order:1},emptyState:J?"No ".concat(x===o.a.Pinned?"pinned ":x===o.a.Shared?"shared ":"",'dashboards matching "').concat(J,'"!'):x===o.a.Pinned?e.a.createElement(e.a.Fragment,null,"No dashboards have been pinned for quick access yet."," ",e.a.createElement(D.a,{onClick:function(){return k(o.a.All)}},"Go to All Dashboards to pin one.")):x===o.a.Shared?e.a.createElement(e.a.Fragment,null,"No dashboards have been shared yet."," ",e.a.createElement(D.a,{onClick:function(){return k(o.a.All)}},"Go to All Dashboards to share one.")):void 0,nouns:["dashboard","dashboards"]}):e.a.createElement("div",{className:"mt"},e.a.createElement("p",null,"Create your first dashboard:"),e.a.createElement(Q.a,{gutter:[16,16]},e.a.createElement(A.a,{xs:24,xl:6},e.a.createElement(M.a,{title:"Empty",size:"small",style:{cursor:"pointer"},onClick:function(){return ce({name:"New Dashboard",useTemplate:""})}},e.a.createElement("div",{style:{textAlign:"center",fontSize:40}},e.a.createElement(oe,null)))),e.a.createElement(A.a,{xs:24,xl:6},e.a.createElement(M.a,{title:"App Default",size:"small",style:{cursor:"pointer"},onClick:function(){return ce({name:"Web App Dashboard",useTemplate:"DEFAULT_APP"})}},e.a.createElement("div",{style:{textAlign:"center",fontSize:40}},e.a.createElement(oe,null)))))))}}}]);
