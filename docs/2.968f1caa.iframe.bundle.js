(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./frontend/src/scenes/events/EventPageHeader.tsx":function(Q,C,e){"use strict";e.d(C,"a",function(){return y});var x=e("./frontend/src/lib/components/PageHeader.tsx"),H=e("./node_modules/react/index.js"),S=e.n(H),K=e("./frontend/src/scenes/events/index.ts");function y(V){var Y=V.activeTab,n=V.hideTabs;return S.a.createElement(S.a.Fragment,null,S.a.createElement(x.a,{title:"Events & Actions",caption:"See events being sent to this project and manage custom actions. Event history is limited to the last twelve months.",tabbedPage:!0}),!n&&S.a.createElement(K.c,{tab:Y}))}try{y.displayName="EventPageHeader",y.__docgenInfo={description:"",displayName:"EventPageHeader",props:{activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"enum",value:[{value:'"events"'},{value:'"actions"'},{value:'"stats"'},{value:'"properties"'}]}},hideTabs:{defaultValue:null,description:"",name:"hideTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventPageHeader.tsx#EventPageHeader"]={docgenInfo:y.__docgenInfo,name:"EventPageHeader",path:"frontend/src/scenes/events/EventPageHeader.tsx#EventPageHeader"})}catch(V){}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(Q,C,e){"use strict";e.d(C,"a",function(){return K});var x=e("./node_modules/antd/es/alert/index.js"),H=e("./node_modules/react/index.js"),S=e.n(H);function K(y){var V=y.tab;return S.a.createElement(x.a,{type:"info",showIcon:!0,message:"".concat(V," is not enabled for your instance."),description:S.a.createElement(S.a.Fragment,null,"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",S.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",S.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events.")})}try{K.displayName="UsageDisabledWarning",K.__docgenInfo={description:"",displayName:"UsageDisabledWarning",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"]={docgenInfo:K.__docgenInfo,name:"UsageDisabledWarning",path:"frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"})}catch(y){}},"./frontend/src/scenes/events/VolumeTable.scss":function(Q,C,e){"use strict";var x=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),H=e.n(x),S=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/events/VolumeTable.scss"),K=e.n(S),y={};y.insert="head",y.singleton=!1;var V=H()(K.a,y),Y=K.a.locals||{}},"./frontend/src/scenes/events/VolumeTable.tsx":function(Q,C,e){"use strict";e.d(C,"a",function(){return re});var x=e("./node_modules/core-js/modules/es.symbol.js"),H=e("./node_modules/core-js/modules/es.symbol.description.js"),S=e("./node_modules/core-js/modules/es.array.map.js"),K=e("./node_modules/core-js/modules/es.function.name.js"),y=e("./node_modules/core-js/modules/es.regexp.exec.js"),V=e("./node_modules/core-js/modules/es.string.ends-with.js"),Y=e("./node_modules/core-js/modules/es.string.search.js"),n=e("./node_modules/core-js/modules/es.string.starts-with.js"),B=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),X=e.n(B),Z=e("./node_modules/antd/es/button/index.js"),le=e("./node_modules/antd/es/input/index.js"),J=e("./node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),p=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),I=e("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),j=e("./node_modules/antd/lib/table/index.js"),E=e.n(j),R=e("./node_modules/fuse.js/dist/fuse.esm.js"),L=e("./node_modules/kea/lib/index.esm.js"),N=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),se=e("./frontend/src/lib/utils.tsx"),k=e("./node_modules/react/index.js"),u=e.n(k),Ee=e("./frontend/src/scenes/userLogic.tsx"),de=e("./frontend/src/types.ts"),_e=e("./frontend/src/scenes/events/VolumeTable.scss"),me=e("./frontend/src/scenes/events/definitions/definitionDrawerLogic.ts"),fe=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),ce=e("./frontend/src/scenes/events/Owner.tsx"),ue=e("./node_modules/antd/es/row/index.js"),pe=e("./frontend/src/models/eventDefinitionsModel.ts");function ne(W){var T=W.id,U=W.description,A=W.type,ae=Object(L.useActions)(pe.a),q=ae.updateDescription,ie=Object(k.useState)(U),F=X()(ie,2),G=F[0],w=F[1],$=Object(k.useState)(!1),ee=X()($,2),h=ee[0],_=ee[1];return Object(k.useEffect)(function(){w(U)},[U]),u.a.createElement(u.a.Fragment,null,u.a.createElement(ue.a,null,u.a.createElement(le.a.TextArea,{value:G||"",style:{paddingLeft:0},bordered:h,onClick:function(d){d.stopPropagation(),_(!0)},placeholder:"Click to add description",onChange:function(d){return w(d.target.value)},onKeyDown:function(d){d.key==="Enter"&&(_(!1),q(T,G,A))},autoSize:!0})),h&&u.a.createElement(ue.a,{style:{float:"right",marginTop:8}},u.a.createElement(Z.a,{size:"small",style:{marginRight:8},onClick:function(d){d.stopPropagation(),_(!1),w(U)}},"Cancel"),u.a.createElement(Z.a,{type:"primary",size:"small",onClick:function(d){d.stopPropagation(),w(G),_(!1),q(T,G,A)}},"Save")))}try{ne.displayName="VolumeTableRecordDescription",ne.__docgenInfo={description:"",displayName:"VolumeTableRecordDescription",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/definitions/VolumeTableRecordDescription.tsx#VolumeTableRecordDescription"]={docgenInfo:ne.__docgenInfo,name:"VolumeTableRecordDescription",path:"frontend/src/scenes/events/definitions/VolumeTableRecordDescription.tsx#VolumeTableRecordDescription"})}catch(W){}var te=e("./frontend/src/lib/components/Tooltip.tsx"),oe=function(T){return!!N.f.event[T]},ve=function(T,U){return new R.a(T,{keys:["eventOrProp.name"],threshold:.3}).search(U).map(function(A){return A.item})};function re(W){var T=W.type,U=W.data,A=Object(k.useState)(!1),ae=X()(A,2),q=ae[0],ie=ae[1],F=Object(k.useState)([]),G=X()(F,2),w=G[0],$=G[1],ee=Object(L.useValues)(Ee.a),h=ee.hasAvailableFeature,_=Object(L.useActions)(me.a),b=_.openDrawer,d=h(de.c.INGESTION_TAXONOMY),P=[{title:"".concat(Object(se.j)(T)," name"),render:function(l,s){var a;return u.a.createElement("span",null,u.a.createElement("div",{style:{display:"flex",alignItems:"baseline",paddingBottom:4}},u.a.createElement("span",{className:"ph-no-capture",style:{paddingRight:8}},u.a.createElement(N.b,{style:d?{fontWeight:"bold"}:{},value:s.eventOrProp.name})),h(de.c.TAGGING)?u.a.createElement(fe.a,{tags:s.eventOrProp.tags||[],staticOnly:!0}):null),d&&(oe(s.eventOrProp.name)?null:u.a.createElement(ne,{id:s.eventOrProp.id,description:s.eventOrProp.description,type:T})),(a=s.warnings)===null||a===void 0?void 0:a.map(function(t){return u.a.createElement(te.a,{key:t,color:"orange",title:u.a.createElement(u.a.Fragment,null,u.a.createElement("b",null,"Warning!")," ",t)},u.a.createElement(J.a,{style:{color:"var(--warning)",marginLeft:6}}))}))},sorter:function(l,s){return(""+l.eventOrProp.name).localeCompare(s.eventOrProp.name||"")},filters:[{text:"Has warnings",value:"warnings"},{text:"No warnings",value:"noWarnings"}],onFilter:function(l,s){return l==="warnings"?!!s.warnings.length:!s.warnings.length}},T==="event"&&d?{title:"Owner",render:function(l,s){var a,t=(a=s.eventOrProp)===null||a===void 0?void 0:a.owner;return oe(s.eventOrProp.name)?u.a.createElement(u.a.Fragment,null,"-"):u.a.createElement(ce.a,{user:t})}}:{},T==="event"?{title:function(){return u.a.createElement(te.a,{placement:"right",title:"Total number of events over the last 30 days. Can be delayed by up to an hour."},"30 day volume (delayed by up to an hour)",u.a.createElement(p.a,{className:"info-indicator"}))},render:function(l,s){return u.a.createElement("span",{className:"ph-no-capture"},Object(se.q)(s.eventOrProp.volume_30_day))},sorter:function(l,s){return l.eventOrProp.volume_30_day==s.eventOrProp.volume_30_day,(l.eventOrProp.volume_30_day||-1)-(s.eventOrProp.volume_30_day||-1)}}:{},{title:function(){return u.a.createElement(te.a,{placement:"right",title:"Number of queries in PostHog that included a filter on this ".concat(T)},"30 day queries (delayed by up to an hour)",u.a.createElement(p.a,{className:"info-indicator"}))},render:function(l,s){return u.a.createElement("span",{className:"ph-no-capture"},Object(se.q)(s.eventOrProp.query_usage_30_day))},sorter:function(l,s){return l.eventOrProp.query_usage_30_day==s.eventOrProp.query_usage_30_day,(l.eventOrProp.query_usage_30_day||-1)-(s.eventOrProp.query_usage_30_day||-1)}},d?{render:function(l,s){return u.a.createElement(u.a.Fragment,null,oe(s.eventOrProp.name)?null:u.a.createElement(Z.a,{type:"link",icon:u.a.createElement(I.a,{style:{color:"#5375FF"}}),onClick:function(){return b(T,s.eventOrProp.id)}}))}}:{}];return Object(k.useEffect)(function(){$(U.map(function(o){var l,s,a={eventOrProp:o};return a.warnings=[],!((l=o.name)===null||l===void 0)&&l.endsWith(" ")&&a.warnings.push("This ".concat(T," ends with a space.")),!((s=o.name)===null||s===void 0)&&s.startsWith(" ")&&a.warnings.push("This ".concat(T," starts with a space.")),a})||[])},[U]),u.a.createElement(u.a.Fragment,null,u.a.createElement(le.a.Search,{allowClear:!0,enterButton:!0,style:{marginTop:"1.5rem",maxWidth:400,width:"initial",flexGrow:1},onChange:function(l){ie(l.target.value)},placeholder:"Filter ".concat(T==="property"?"properties":"events","....")}),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(E.a,{dataSource:q?ve(w,q):w,columns:P,rowKey:function(l){return l.eventOrProp.name},size:"small",style:{marginBottom:"4rem"},pagination:{pageSize:100,hideOnSinglePage:!0},onRow:function(l){return d&&!oe(l.eventOrProp.name)?{onClick:function(){return b(T,l.eventOrProp.id)},style:{cursor:"pointer"}}:{}}}))}try{re.displayName="VolumeTable",re.__docgenInfo={description:"",displayName:"VolumeTable",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"event"'},{value:'"property"'}]}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(PropertyDefinition | EventDefinition)[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/VolumeTable.tsx#VolumeTable"]={docgenInfo:re.__docgenInfo,name:"VolumeTable",path:"frontend/src/scenes/events/VolumeTable.tsx#VolumeTable"})}catch(W){}},"./frontend/src/scenes/events/definitions/DefinitionDrawer.tsx":function(Q,C,e){"use strict";e.d(C,"a",function(){return ee});var x=e("./node_modules/core-js/modules/es.array.filter.js"),H=e("./node_modules/core-js/modules/es.array.includes.js"),S=e("./node_modules/core-js/modules/es.function.name.js"),K=e("./node_modules/core-js/modules/es.string.includes.js"),y=e("./node_modules/kea/lib/index.esm.js"),V=e("./frontend/src/lib/components/Drawer.tsx"),Y=e("./node_modules/react/index.js"),n=e.n(Y),B=e("./frontend/src/scenes/events/definitions/definitionDrawerLogic.ts"),X=e("./node_modules/antd/lib/typography/Title.js"),Z=e.n(X),le=e("./frontend/src/scenes/events/VolumeTable.scss"),J=e("./node_modules/antd/es/collapse/index.js"),p=e("./node_modules/antd/es/button/index.js"),I=e("./node_modules/antd/es/alert/index.js"),j=e("./node_modules/antd/es/row/index.js"),E=e("./node_modules/antd/es/col/index.js"),R=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),L=e("./frontend/src/lib/utils.tsx"),N=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),se=e("./frontend/src/scenes/PreflightCheck/logic.tsx"),k=e("./node_modules/core-js/modules/es.symbol.js"),u=e("./node_modules/core-js/modules/es.symbol.description.js"),Ee=e("./node_modules/core-js/modules/es.array.concat.js"),de=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_e=e.n(de),me=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),fe=e.n(me),ce=e("./node_modules/antd/es/input/index.js"),ue=e("./node_modules/antd/es/table/index.js"),pe=e("./node_modules/use-debounce/esm/useDebouncedCallback.js"),ne=e("./frontend/src/types.ts"),te=e("./frontend/src/scenes/userLogic.tsx");function oe(){var h,_=Object(y.useValues)(B.a),b=_.eventPropertiesDefinitions,d=_.eventsSnippet,P=_.eventPropertiesDefinitionTags,o=_.tagLoading,l=Object(y.useActions)(B.a),s=l.setEventPropertyDescription,a=l.saveAll,t=l.setEventPropertyDefinitionUpdateList,r=l.setEventPropertyDefinition,i=Object(y.useValues)(te.a),m=i.hasAvailableFeature,c=(h=d[0])===null||h===void 0?void 0:h.properties,f=[{title:"Property",key:"property",render:function(D){var g=D.name;return n.a.createElement("span",{className:"text-default"},g)}},{title:"Description",key:"description",render:function(D){var g=D.description,v=D.id,z=Object(Y.useState)(g),M=_e()(z,2),ge=M[0],Oe=M[1],Pe=Object(pe.a)(function(De){s(De,v)},200);return n.a.createElement(ce.a.TextArea,{placeholder:"Add description",value:ge||"",onChange:function(ye){Oe(ye.target.value),Pe(ye.target.value)},onKeyDown:function(ye){ye.key==="Enter"&&a()}})}}].concat(fe()(m(ne.c.TAGGING)?[{title:"Tags",key:"tags",render:function(D){var g=D.id,v=D.tags;return n.a.createElement(R.a,{id:g,tags:v||[],onChange:function(M,ge){t(g),r({tags:ge},g)},saving:o,tagsAvailable:P==null?void 0:P.filter(function(z){return!(v!=null&&v.includes(z))})})}}]:[]),[{title:"Example",key:"example",render:function(D){var g=D.name,v=c[g];return v=Array.isArray(v)||v instanceof Object?JSON.stringify(v).substr(0,140):v,n.a.createElement("div",{style:{backgroundColor:"#F0F0F0",padding:"4px, 15px",textAlign:"center"}},n.a.createElement("span",{style:{fontSize:10,fontWeight:400,fontFamily:"monaco"}},v))}}]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a,{style:{paddingBottom:16}},n.a.createElement("span",{className:"text-default text-muted"},"Top properties that are sent with this event. Please note that description and tags are shared across events. Posthog properties are ",n.a.createElement("b",null,"excluded")," from this list.")),n.a.createElement(ue.a,{dataSource:b,columns:f,rowKey:function(D){return D.id},size:"small",tableLayout:"fixed",pagination:{pageSize:5,hideOnSinglePage:!0}}))}var ve=e("./node_modules/core-js/modules/es.array.find.js"),re=e("./node_modules/core-js/modules/es.array.map.js"),W=e("./node_modules/antd/es/select/index.js"),T=e("./frontend/src/scenes/organization/Settings/membersLogic.tsx"),U=e("./frontend/src/scenes/events/Owner.tsx");function A(h){var _=h.owner,b=Object(y.useValues)(T.a),d=b.members,P=Object(y.useActions)(B.a),o=P.changeOwner;return n.a.createElement(W.a,{className:"owner-select",placeholder:n.a.createElement(U.a,{user:_}),style:{minWidth:200},dropdownClassName:"owner-option",onChange:function(s){var a,t=(a=d.find(function(r){return r.user.id===s}))===null||a===void 0?void 0:a.user;t&&o(t)}},d.map(function(l){return n.a.createElement(W.a.Option,{key:l.user.id,value:l.user.id},n.a.createElement(U.a,{user:l.user}))}))}try{A.displayName="DefinitionOwnerDropdown",A.__docgenInfo={description:"",displayName:"DefinitionOwnerDropdown",props:{owner:{defaultValue:null,description:"",name:"owner",required:!0,type:{name:"UserBasicType | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/definitions/DefinitionOwnerDropdown.tsx#DefinitionOwnerDropdown"]={docgenInfo:A.__docgenInfo,name:"DefinitionOwnerDropdown",path:"frontend/src/scenes/events/definitions/DefinitionOwnerDropdown.tsx#DefinitionOwnerDropdown"})}catch(h){}function ae(){var h=Object(y.useValues)(B.a),_=h.description,b=Object(y.useActions)(B.a),d=b.setDescription,P=b.saveAll;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{flexDirection:"column",minWidth:300}},n.a.createElement("h4",{className:"l4"},"Description"),n.a.createElement(ce.a.TextArea,{style:{minHeight:108,marginBottom:8},placeholder:"Add description",value:_||"",onChange:function(l){d(l.target.value)},onKeyDown:function(l){l.key==="Enter"&&P()}})))}var q=e("./frontend/src/lib/components/Property.tsx"),ie=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),F=e("./frontend/src/scenes/persons/PersonHeader.tsx");function G(){var h=Object(y.useValues)(B.a),_=h.eventsSnippet,b=[{title:"Person",key:"person",render:function(P){var o=P.person;return o?n.a.createElement(F.a,{withIcon:!0,person:o}):{props:{colSpan:0}}}},{title:"URL",key:"url",eventProperties:["$current_url","$screen_name"],span:4,render:function(P){var o=P.properties;return o?n.a.createElement(q.a,{value:o.$current_url?o.$current_url:o.$screen_name}):{props:{colSpan:0}}},ellipsis:!0},{title:"Source",key:"source",render:function(P){var o=P.properties;return o?n.a.createElement(q.a,{value:o.$browser}):{props:{colSpan:0}}}},{title:"When",key:"when",render:function(P){var o=P.timestamp;return o?n.a.createElement(ie.b,{time:o,showSeconds:!0}):{props:{colSpan:0}}},ellipsis:!0}];return n.a.createElement(n.a.Fragment,null,_&&n.a.createElement("div",{style:{fontWeight:400,paddingTop:15}},n.a.createElement(ue.a,{dataSource:_,columns:b,key:"default",rowKey:function(P){return P.id},size:"small",pagination:!1})))}var w=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),$=e("./frontend/src/lib/components/Tooltip.tsx");function ee(){var h,_=Object(y.useValues)(B.a),b=_.drawerState,d=_.definition,P=_.tagLoading,o=_.type,l=_.eventDefinitionTags,s=_.propertyDefinitionTags,a=Object(y.useActions)(B.a),t=a.closeDrawer,r=a.setDefinition,i=a.saveAll,m=Object(y.useValues)(se.a),c=m.preflight,f=Object(y.useValues)(te.a),O=f.hasAvailableFeature,D=J.a.Panel,g=o==="event"?l:s;return n.a.createElement(n.a.Fragment,null,d&&n.a.createElement("div",{className:"definition-drawer"},n.a.createElement(V.a,{placement:"right",headerStyle:{paddingBottom:0},title:n.a.createElement(Z.a,{level:3},d.name),visible:b,onClose:t,width:"60vw",bodyStyle:{padding:14,paddingTop:0},className:"definition-drawer",footer:n.a.createElement(p.a,{style:{float:"right"},type:"primary",onClick:i},"Save")},c&&!(c!=null&&c.is_event_property_usage_enabled)?n.a.createElement("div",{style:{marginTop:8}},n.a.createElement(w.a,{tab:o==="event"?"Events Stats":"Property Stats"})):d.volume_30_day===null&&n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{type:"warning",message:"We haven't been able to get usage and volume data yet. Please check later."})),n.a.createElement(J.a,{defaultActiveKey:["1"],expandIconPosition:"right",ghost:!0,style:{borderBottom:"1px solid #D9D9D9"}},n.a.createElement(D,{header:"General",key:"1",className:"l3"},n.a.createElement(j.a,{className:"panel-wrapper"},n.a.createElement(E.a,{style:{marginRight:14}},n.a.createElement(ae,null)),n.a.createElement(E.a,null,O(ne.c.TAGGING)&&n.a.createElement(j.a,null,n.a.createElement(E.a,null,n.a.createElement("h4",{className:"l4"},"Tags"),n.a.createElement(R.a,{tags:d.tags||[],onChange:function(z,M){return r({tags:M})},saving:P,tagsAvailable:g==null?void 0:g.filter(function(v){var z;return!(!((z=d.tags)===null||z===void 0)&&z.includes(v))})}))),o==="event"&&n.a.createElement(j.a,null,n.a.createElement("div",{style:{paddingTop:16}},n.a.createElement("h4",{className:"l4"},"Owner"),n.a.createElement(A,{owner:d.owner||null}))))),n.a.createElement(j.a,{className:"detail-status"},o==="event"&&n.a.createElement("div",{style:{paddingRight:32,textAlign:"center"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",textAlign:"center"}},n.a.createElement("h4",{className:"l4",style:{marginBottom:0}},"Total count (30 days)"),n.a.createElement($.a,{placement:"right",title:"Total number of events over the last 30 days. Can be delayed by up to an hour."},n.a.createElement(N.a,{className:"info-indicator"}))),n.a.createElement("span",null,d.volume_30_day||"-")),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n.a.createElement("h4",{className:"l4",style:{marginBottom:0}},"Query Usage (30 days)"),n.a.createElement($.a,{placement:"right",title:"Number of queries in PostHog that included a filter on this ".concat(o)},n.a.createElement(N.a,{className:"info-indicator"}))),n.a.createElement("span",null,d.query_usage_30_day||"-")),n.a.createElement("div",null,n.a.createElement("h4",{className:"l4"},"Last modified"),n.a.createElement("span",null,Object(L.K)(d.updated_at||null))),n.a.createElement("div",null,n.a.createElement("h4",{className:"l4"},"Last modified by"),n.a.createElement("span",null,((h=d.updated_by)===null||h===void 0?void 0:h.first_name)||"-"))))),o==="event"&&n.a.createElement(J.a,{defaultActiveKey:["2"],expandIconPosition:"right",ghost:!0},n.a.createElement(D,{header:"Properties",key:"2",className:"l3"},n.a.createElement(oe,null))),n.a.createElement(J.a,{style:{paddingBottom:32},defaultActiveKey:["3"],expandIconPosition:"right",ghost:!0},n.a.createElement(D,{header:"Recent",key:"3",className:"l3 events-table"},n.a.createElement("span",{className:"text-muted",style:{fontWeight:400,fontSize:14}},"Most recent events received"),n.a.createElement(G,null))))))}},"./frontend/src/scenes/events/definitions/definitionDrawerLogic.ts":function(Q,C,e){"use strict";e.d(C,"a",function(){return l});var x=e("./node_modules/core-js/modules/es.symbol.js"),H=e.n(x),S=e("./node_modules/core-js/modules/es.symbol.description.js"),K=e.n(S),y=e("./node_modules/core-js/modules/es.array.concat.js"),V=e.n(y),Y=e("./node_modules/core-js/modules/es.array.filter.js"),n=e.n(Y),B=e("./node_modules/core-js/modules/es.array.find.js"),X=e.n(B),Z=e("./node_modules/core-js/modules/es.array.flat-map.js"),le=e.n(Z),J=e("./node_modules/core-js/modules/es.array.for-each.js"),p=e.n(J),I=e("./node_modules/core-js/modules/es.array.includes.js"),j=e.n(I),E=e("./node_modules/core-js/modules/es.array.iterator.js"),R=e.n(E),L=e("./node_modules/core-js/modules/es.array.map.js"),N=e.n(L),se=e("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),k=e.n(se),u=e("./node_modules/core-js/modules/es.function.name.js"),Ee=e.n(u),de=e("./node_modules/core-js/modules/es.object.keys.js"),_e=e.n(de),me=e("./node_modules/core-js/modules/es.object.to-string.js"),fe=e.n(me),ce=e("./node_modules/core-js/modules/es.string.includes.js"),ue=e.n(ce),pe=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),ne=e.n(pe),te=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),oe=e.n(te),ve=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),re=e.n(ve),W=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),T=e.n(W),U=e("./node_modules/@babel/runtime/regenerator/index.js"),A=e.n(U),ae=e("./node_modules/regenerator-runtime/runtime.js"),q=e.n(ae),ie=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),F=e.n(ie),G=e("./node_modules/kea/lib/index.esm.js"),w=e("./frontend/src/lib/api.ts"),$=e("./frontend/src/lib/utils.tsx"),ee=e("./frontend/src/models/eventDefinitionsModel.ts"),h=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),_=e("./frontend/src/models/propertyDefinitionsModel.ts"),b=e("./frontend/src/scenes/teamLogic.tsx"),d=e("./frontend/src/scenes/urls.ts");function P(s,a){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),t.push.apply(t,r)}return t}function o(s){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?P(Object(t),!0).forEach(function(r){T()(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}var l=Object(G.kea)({path:["scenes","events","definitions","definitionDrawerLogic"],actions:function(){return{openDrawer:function(t,r){return{type:t,id:r}},setDrawerType:function(t){return{type:t}},setDescription:function(t){return{description:t}},changeOwner:function(t){return{owner:t}},setDefinition:function(t){return{definition:t}},setEventPropertyDescription:function(t,r){return{description:t,id:r}},setEventPropertyDefinition:function(t,r){return{propertyDefinition:t,id:r}},setEventPropertyDefinitionUpdateList:function(t){return{id:t}},closeDrawer:!0,setTagLoading:function(t){return{loading:t}},saveAll:!0,setGraphResults:function(t){return{results:t}},setVisibilityById:function(t){return{entry:t}}}},loaders:function(a){var t=a.actions,r=a.values;return{definition:[null,{loadDefinition:function(){var i=F()(A.a.mark(function c(f){var O,D;return A.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return O=f.type,D=f.id,v.next=3,w.a.get("api/projects/@current/".concat(O,"_definitions/").concat(D));case 3:return v.abrupt("return",v.sent);case 4:case"end":return v.stop()}},c)}));function m(c){return i.apply(this,arguments)}return m}(),saveDefinition:function(){var i=F()(A.a.mark(function c(f){var O,D,g,v;return A.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return O=f.definition,D=f.type,D==="event"&&(O.owner=((g=O.owner)===null||g===void 0?void 0:g.id)||null,O.description=r.description),D==="property"&&r.type==="property"&&(O.description=r.description),M.next=5,w.a.update("api/projects/@current/".concat(D,"_definitions/").concat(O.id),O);case 5:return v=M.sent,t.saveDefinitionSuccess(v),M.abrupt("return",v);case 8:case"end":return M.stop()}},c)}));function m(c){return i.apply(this,arguments)}return m}(),closeDrawer:function(){return null}}],eventsSnippet:[[],{loadEventsSnippet:function(){var i=F()(A.a.mark(function c(f){var O,D,g,v;return A.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return O=r.type==="property"?[{key:f==null?void 0:f.name,value:"is_set",operator:"is_set",type:"event"}]:{},D=r.type==="event"?f==null?void 0:f.name:null,g=Object($.zb)(o(o({properties:O},{event:D}),{},{orderBy:["-timestamp"],limit:5})),M.next=5,w.a.get("api/projects/".concat(b.a.values.currentTeamId,"/events/?").concat(g));case 5:return v=M.sent,r.type==="property"&&t.loadEventsSnippetSuccess(v.results),M.abrupt("return",v.results);case 8:case"end":return M.stop()}},c)}));function m(c){return i.apply(this,arguments)}return m}()}],eventPropertiesDefinitions:[[],{loadEventPropertiesDefinitions:function(){var i=F()(A.a.mark(function c(f){var O;return A.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,w.a.get("api/projects/@current/property_definitions/?properties=".concat(f));case 2:return O=g.sent,g.abrupt("return",O.results);case 4:case"end":return g.stop()}},c)}));function m(c){return i.apply(this,arguments)}return m}()}]}},reducers:function(){return{drawerState:[!1,{openDrawer:function(){return!0},closeDrawer:function(){return!1}}],description:["",{setDescription:function(t,r){var i=r.description;return i}}],definition:[null,{setDefinition:function(t,r){var i=r.definition;return o(o({},t),i)}}],tagLoading:[!1,{setTagLoading:function(t,r){var i=r.loading;return i}}],type:["",{setDrawerType:function(t,r){var i=r.type;return i}}],eventPropertiesDefinitions:[[],{setEventPropertyDefinition:function(t,r){var i=r.propertyDefinition,m=r.id,c=t.map(function(f){return f.id===m?o(o({},f),i):f});return c}}],editedEventPropertyDefinitions:[[],{setEventPropertyDefinitionUpdateList:function(t,r){var i=r.id;return i&&!t.includes(i)?[].concat(re()(t),[i]):re()(t)}}],graphResults:[[],{setGraphResults:function(t,r){var i=r.results;return i}}]}},selectors:function(){return{eventDefinitionTags:[function(){return[ee.a.selectors.eventDefinitions]},function(a){var t=a.flatMap(function(r){var i=r.tags;return i}).filter(function(r){return!!r});return Object($.Bb)(t,function(r){return r}).sort()}],eventPropertiesDefinitionTags:[function(a){return[a.eventPropertiesDefinitions]},function(a){var t=a.flatMap(function(r){var i=r.tags;return i}).filter(function(r){return!!r});return Object($.Bb)(t,function(r){return r}).sort()}],propertyDefinitionTags:[function(){return[_.a.selectors.propertyDefinitions]},function(a){var t=a.flatMap(function(r){var i=r.tags;return i}).filter(function(r){return!!r});return Object($.Bb)(t,function(r){return r}).sort()}]}},listeners:function(a){var t=a.actions,r=a.values;return{openDrawer:function(m){var c=m.type,f=m.id;t.setDrawerType(c),t.loadDefinition({type:c,id:f})},loadDefinitionSuccess:function(m){var c=m.definition;t.loadEventsSnippet(c),t.setDescription((c==null?void 0:c.description)||"")},loadEventsSnippetSuccess:function(m){var c=m.eventsSnippet,f=Object.keys(c[0].properties).filter(function(O){return!h.f.event[O]});t.loadEventPropertiesDefinitions(f)},saveDefinitionSuccess:function(m){var c=m.definition;r.type==="event"?ee.a.actions.updateEventDefinition(c):_.a.actions.updatePropertyDefinition(c)},changeOwner:function(m){var c=m.owner;t.setDefinition({owner:c})},setEventPropertyDescription:function(m){var c=m.description,f=m.id;t.setEventPropertyDefinition({description:c},f),t.setEventPropertyDefinitionUpdateList(f)},saveAll:function(){t.saveDefinition({definition:o({},r.definition),type:r.type}),r.editedEventPropertyDefinitions.forEach(function(m){var c=r.eventPropertiesDefinitions.find(function(f){return f.id===m});t.saveDefinition({definition:o({},c),type:"property"})}),t.closeDrawer()}}},actionToUrl:function(a){var t=a.values;return{openDrawer:function(i){var m=i.type,c=i.id;return m==="property"?d.a.eventPropertyStat(c):d.a.eventStat(c)},closeDrawer:function(){return t.type==="property"?d.a.eventPropertyStats():d.a.eventStats()}}},urlToAction:function(a){var t=a.actions;return{"/events/stats/:id":function(i){var m=i.id;m&&t.openDrawer("event",m)},"/events/properties/:id":function(i){var m=i.id;m&&t.openDrawer("property",m)}}}})},"./node_modules/antd/lib/typography/Title.js":function(Q,C,e){"use strict";var x=e("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),H=e("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var S=x(e("./node_modules/@babel/runtime/helpers/extends.js")),K=B(e("./node_modules/react/index.js")),y=x(e("./node_modules/antd/lib/_util/devWarning.js")),V=x(e("./node_modules/antd/lib/typography/Base.js")),Y=e("./node_modules/antd/lib/_util/type.js");function n(p){if(typeof WeakMap!="function")return null;var I=new WeakMap,j=new WeakMap;return(n=function(R){return R?j:I})(p)}function B(p,I){if(!I&&p&&p.__esModule)return p;if(p===null||H(p)!=="object"&&typeof p!="function")return{default:p};var j=n(I);if(j&&j.has(p))return j.get(p);var E={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in p)if(L!=="default"&&Object.prototype.hasOwnProperty.call(p,L)){var N=R?Object.getOwnPropertyDescriptor(p,L):null;N&&(N.get||N.set)?Object.defineProperty(E,L,N):E[L]=p[L]}return E.default=p,j&&j.set(p,E),E}var X=function(p,I){var j={};for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&I.indexOf(E)<0&&(j[E]=p[E]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var R=0,E=Object.getOwnPropertySymbols(p);R<E.length;R++)I.indexOf(E[R])<0&&Object.prototype.propertyIsEnumerable.call(p,E[R])&&(j[E[R]]=p[E[R]]);return j},Z=(0,Y.tupleNum)(1,2,3,4,5),le=function(I){var j=I.level,E=j===void 0?1:j,R=X(I,["level"]),L;return Z.indexOf(E)!==-1?L="h".concat(E):((0,y.default)(!1,"Typography.Title","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value. And `5` need 4.6.0+ version."),L="h1"),K.createElement(V.default,(0,S.default)({},R,{component:L}))},J=le;C.default=J},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/events/VolumeTable.scss":function(Q,C,e){var x=e("./node_modules/css-loader/dist/runtime/api.js");C=x(!1),C.push([Q.i,".definition-drawer .ant-collapse-ghost>.ant-collapse-item>.ant-collapse-content>.ant-collapse-content-box{padding-top:0}.definition-drawer .definition-description.ant-input:-moz-placeholder-shown{font-style:italic}.definition-drawer .definition-description.ant-input:-ms-input-placeholder{font-style:italic}.definition-drawer .definition-description.ant-input:placeholder-shown{font-style:italic}.definition-drawer .panel-wrapper{display:flex;flex-direction:row;padding-top:0}.definition-drawer .panel-wrapper span{font-weight:400;font-size:14px}.definition-drawer .owner-select .ant-select-selector .ant-select-selection-placeholder{color:#000;font-weight:400}.definition-drawer .detail-status{display:flex;flex-direction:row;justify-content:space-evenly;margin-top:30px;text-align:center}.definition-drawer .detail-status .ant-typography{margin-bottom:0}.definition-drawer .detail-status span{font-weight:400;font-size:14px}",""]),Q.exports=C}}]);
