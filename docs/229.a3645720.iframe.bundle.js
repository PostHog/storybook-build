(window.webpackJsonp=window.webpackJsonp||[]).push([[229,238],{"./frontend/src/scenes/cohorts/Cohort.tsx":function(P,o,e){"use strict";e.r(o),e.d(o,"scene",function(){return Ke}),e.d(o,"Cohort",function(){return ie});var a=e("./node_modules/core-js/modules/es.object.keys.js"),s=e("./node_modules/core-js/modules/es.symbol.js"),S=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),f=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),K=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ce=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ne=e.n(ce),V=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),B=e.n(V),ue=e("./node_modules/core-js/modules/es.function.name.js"),te=e("./node_modules/core-js/modules/es.array.map.js"),ae=e("./node_modules/core-js/modules/es.array.filter.js"),le=e("./node_modules/core-js/modules/es.object.to-string.js"),L=e("./node_modules/core-js/modules/es.array.concat.js"),W=e("./node_modules/core-js/modules/es.regexp.to-string.js"),H=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=e.n(H),T=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/Cohort.scss"),Y=e.n(T),X={};X.insert="head",X.singleton=!1;var l=h()(Y.a,X),i=Y.a.locals||{},n=e("./node_modules/react/index.js"),t=e.n(n),c=e("./node_modules/kea/lib/index.esm.js"),O=e("./node_modules/kea-forms/lib/index.js"),U=e("./node_modules/antd/es/divider/index.js"),u=e("./node_modules/antd/es/row/index.js"),Z=e("./node_modules/antd/es/col/index.js"),M=e("./frontend/src/types.ts"),z=e("./frontend/src/lib/constants.tsx"),de=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),d=e("./node_modules/antd/lib/upload/Dragger.js"),A=e.n(d),$=e("./frontend/src/scenes/persons/Persons.tsx"),I=e("./frontend/src/scenes/cohorts/cohortLogic.ts"),D=e("./frontend/src/scenes/userLogic.ts"),J=e("./node_modules/antd/lib/dropdown/style/index.css"),v=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),p=e("./frontend/src/lib/components/LemonButton/index.ts"),se=e("./frontend/src/lib/components/PageHeader.tsx"),oe=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),j=e("./frontend/src/lib/forms/Field.tsx"),C=e("./frontend/src/lib/forms/VerticalForm.tsx"),x=e("./frontend/src/lib/components/LemonSelect.tsx"),me=e("./frontend/src/lib/components/LemonTextArea/LemonTextArea.tsx"),N=e("./frontend/src/lib/components/icons.tsx"),be=e("./frontend/src/scenes/cohorts/MatchCriteriaSelector.tsx"),Se=e("./frontend/src/lib/components/Tooltip.tsx"),Le=e("./node_modules/kea-router/lib/index.js"),Ae=e("./frontend/src/scenes/urls.ts"),Pe=e("./frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx"),Ie=e("./frontend/src/scenes/cohorts/CohortFilters/constants.tsx"),Ve=e("./node_modules/core-js/modules/es.array.iterator.js"),We=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),De=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.scss"),Te=e.n(De),ve={};ve.insert="head",ve.singleton=!1;var He=h()(Te.a,ve),Ye=Te.a.locals||{},Ee=e("./frontend/src/scenes/cohorts/cohortUtils.ts"),Re=e("./node_modules/kea-forms/lib/components.js"),Fe=e("./node_modules/clsx/dist/clsx.m.js"),Oe=e("./frontend/src/lib/components/Lettermark/Lettermark.tsx"),Me=e("./frontend/src/lib/utils.tsx"),Ne=e("./frontend/src/lib/components/LemonDivider/index.ts"),Ge=e("./frontend/src/lib/components/AlertMessage/index.ts"),Be=e("./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaRowBuilder.tsx");function Ue(){var E=Object(c.useValues)(I.a),y=E.cohort,m=E.id,g=Object(c.useActions)(I.a),_=g.setInnerGroupType,ye=g.duplicateFilter,fe=g.removeFilter,ge=g.addFilter;return t.a.createElement(t.a.Fragment,null,y.filters.properties.values.map(function(Q,b){return Object(Ee.g)(Q)?t.a.createElement(O.Group,{key:b,name:["filters","properties","values",b]},b!==0&&t.a.createElement("div",{className:"CohortCriteriaGroups__matching-group__logical-divider"},y.filters.properties.type),t.a.createElement(Re.Field,{name:"id",template:function(R){var re=R.error,je=R.kids;return t.a.createElement("div",{className:Object(Fe.a)("CohortCriteriaGroups__matching-group",re&&"CohortCriteriaGroups__matching-group--error")},t.a.createElement(u.a,{align:"middle",wrap:!1,className:"pl pr"},t.a.createElement(Oe.a,{name:Me.d[b],color:Oe.b.Gray}),t.a.createElement(Pe.a,{prefix:"Match persons against",suffix:"criteria",onChange:function(w){return _(w,b)},value:Q.type}),t.a.createElement("div",{style:{flex:1,minWidth:"0.5rem"}}),t.a.createElement(p.a,{icon:t.a.createElement(N.IconCopy,null),type:"alt",onClick:function(){return ye(b)}}),y.filters.properties.values.length>1&&t.a.createElement(p.a,{icon:t.a.createElement(N.IconDelete,null),type:"alt",onClick:function(){return fe(b)}})),t.a.createElement(Ne.a,{large:!0}),re&&t.a.createElement(u.a,{className:"CohortCriteriaGroups__matching-group__error-row"},t.a.createElement(Ge.a,{type:"error",style:{width:"100%"}},t.a.createElement(t.a.Fragment,null,re))),je)}},t.a.createElement(t.a.Fragment,null,Q.values.map(function(r,R){return Object(Ee.g)(r)?null:t.a.createElement(O.Group,{key:R,name:["values",R]},t.a.createElement(c.BindLogic,{logic:I.a,props:{id:m}},t.a.createElement(Be.a,{groupIndex:b,index:R,logicalOperator:Q.type,criteria:r,type:Object(Ee.f)(r),hideDeleteIcon:Q.values.length<=1})),R===Q.values.length-1&&t.a.createElement(u.a,null,t.a.createElement(p.a,{"data-attr":"cohort-add-filter-group-criteria",style:{margin:"0.75rem"},type:"secondary",onClick:function(){return ge(b)},icon:t.a.createElement(N.IconPlusMini,{color:"var(--primary)"})},"Add criteria")))})))):null}),t.a.createElement(p.a,{"data-attr":"cohort-add-filter-group",className:"mb mt",type:"secondary",onClick:function(){return ge()},icon:t.a.createElement(N.IconPlusMini,{color:"var(--primary)"}),fullWidth:!0},"Add criteria group"))}function xe(E,y){var m=Object.keys(E);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(E);y&&(g=g.filter(function(_){return Object.getOwnPropertyDescriptor(E,_).enumerable})),m.push.apply(m,g)}return m}function pe(E){for(var y=1;y<arguments.length;y++){var m=arguments[y]!=null?arguments[y]:{};y%2?xe(Object(m),!0).forEach(function(g){B()(E,g,m[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(m)):xe(Object(m)).forEach(function(g){Object.defineProperty(E,g,Object.getOwnPropertyDescriptor(m,g))})}return E}var Ke={component:ie,paramsToProps:function(y){var m=y.params.id;return{id:m&&m!=="new"?parseInt(m):"new"}}};function ie(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=E.id,m={id:y},g=Object(I.a)(m),_=Object(c.useActions)(g),ye=_.deleteCohort,fe=_.setCohort,ge=_.onCriteriaChange,Q=_.setOuterGroupsType,b=Object(c.useValues)(g),r=b.cohort,R=b.cohortLoading,re=b.newCohortFiltersEnabled,je=Object(c.useValues)(D.a),he=je.hasAvailableFeature,w=r.id==="new"||r.id===void 0;return t.a.createElement("div",{className:"cohort"},t.a.createElement(C.a,{logic:I.a,props:m,formKey:"cohort",enableFormOnSubmit:!0},t.a.createElement(se.a,{title:w?"New cohort":r.name||"Untitled",buttons:t.a.createElement("div",{className:"flex-center"},w?t.a.createElement(p.a,{"data-attr":"cancel-cohort",type:"secondary",onClick:function(){Le.router.actions.push(Ae.a.cohorts())},style:{marginRight:8},disabled:R},"Cancel"):t.a.createElement(p.a,{"data-attr":"delete-cohort",status:"danger",type:"secondary",onClick:function(){ye()},style:{marginRight:8},disabled:R},"Delete"),t.a.createElement(p.a,{type:"primary","data-attr":"save-cohort",htmlType:"submit",loading:R||r.is_calculating,disabled:R||r.is_calculating},"Save"))}),t.a.createElement(U.a,null),t.a.createElement(u.a,{gutter:[16,24],style:{maxWidth:640}},t.a.createElement(Z.a,{xs:24,sm:12},t.a.createElement(j.a,{name:"name",label:"Name",className:"Cohort__Name"},t.a.createElement(oe.a,{"data-attr":"cohort-name"}))),t.a.createElement(Z.a,{xs:24,sm:12},t.a.createElement(j.a,{name:"is_static",label:"Type"},function(G){var F=G.value,k=G.onChange;return t.a.createElement(Se.a,{title:w?null:"Create a new cohort to use a different type of cohort."},t.a.createElement("div",null,t.a.createElement(x.a,{disabled:!w,options:Ie.b,value:F?z.b.Static:z.b.Dynamic,onChange:function(ee){k(ee===z.b.Static)},type:"stealth",outlined:!0,style:{width:"100%"},"data-attr":"cohort-type"})))}))),he(M.d.DASHBOARD_COLLABORATION)&&t.a.createElement(u.a,{gutter:[16,24],className:"mt ph-ignore-input",style:{maxWidth:640}},t.a.createElement(Z.a,{span:24},t.a.createElement(j.a,{name:"description",label:"Description","data-attr":"cohort-description"},t.a.createElement(me.a,null)))),r.is_static?t.a.createElement(u.a,{gutter:24,className:"mt ph-ignore-input"},t.a.createElement(Z.a,{span:24},t.a.createElement(j.a,{name:"csv",label:w?"Upload users":"Add users","data-attr":"cohort-csv"},function(G){var F,k,q=G.onChange;return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"mb"},"Upload a CSV file to add users to your cohort. The CSV file only requires a single column with the user\u2019s distinct ID."),t.a.createElement(A.a,{name:"file",multiple:!1,fileList:r.csv?[r.csv]:[],accept:".csv",showUploadList:!1,beforeUpload:function(Ce){return q(Ce),!1},className:"cohort-csv-dragger"},r.csv?t.a.createElement(t.a.Fragment,null,t.a.createElement(N.IconUploadFile,{style:{fontSize:"3rem",color:"var(--muted-alt)"}}),t.a.createElement("div",{className:"ant-upload-text"},(F=(k=r.csv)===null||k===void 0?void 0:k.name)!==null&&F!==void 0?F:"File chosen")):t.a.createElement(t.a.Fragment,null,t.a.createElement(N.IconUploadFile,{style:{fontSize:"3rem",color:"var(--muted-alt)"}}),t.a.createElement("div",{className:"ant-upload-text"},"Drag a file here or click to browse for a file"))))}))):t.a.createElement(t.a.Fragment,null,t.a.createElement(U.a,null),t.a.createElement(u.a,{gutter:24,className:"mt"},t.a.createElement(Z.a,{span:24},t.a.createElement(t.a.Fragment,null,t.a.createElement(u.a,{align:"middle",justify:"space-between",wrap:!1},t.a.createElement(u.a,{className:"ant-form-item ant-form-item-label",style:{marginBottom:0}},t.a.createElement("label",{htmlFor:"groups",title:"Matching criteria"},"Matching criteria"),t.a.createElement("span",null,"Actors who match the following criteria will be part of the cohort. Continuously updated automatically.")),re&&t.a.createElement(u.a,{align:"middle",wrap:!1,justify:"space-between",className:"pl"},t.a.createElement(Pe.a,{value:r.filters.properties.type,onChange:function(F){Q(F)},topLevelFilter:!0,suffix:"criteria"}))),re?t.a.createElement(c.BindLogic,{logic:I.a,props:m},t.a.createElement(Ue,null)):t.a.createElement(t.a.Fragment,null,r.groups.map(function(G,F){return t.a.createElement(O.Group,{key:F,name:["groups",F]},t.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}},t.a.createElement(O.Field,{name:"id",template:function(q){var ee=q.error,Ce=q.kids;return t.a.createElement("div",{style:{padding:15,border:ee?"1px solid var(--danger)":"1px solid rgba(0, 0, 0, 0.1)",borderRadius:4,width:"100%"}},Ce,t.a.createElement(u.a,null,ee&&t.a.createElement("div",{style:{color:"var(--danger)",marginTop:16}},ee)))}},t.a.createElement(be.b,{onCriteriaChange:function(q){return ge(q,G.id)},onRemove:function(){fe(pe(pe({},r),{},{groups:r.groups.filter(function(q,ee){return ee!==F})}))},group:G,hideRemove:r.groups.length===1})),F<r.groups.length-1&&t.a.createElement("div",{className:"stateful-badge or mt mb"},"OR")))}),t.a.createElement("span",{id:"add"}),t.a.createElement("div",{style:{marginTop:8,marginBottom:8}},t.a.createElement("a",{href:"#add",style:{padding:0},onClick:function(){fe(pe(pe({},r),{},{groups:[].concat(ne()(r.groups),[{id:Math.random().toString().substr(2,5),matchType:z.p,properties:[]}])}))},"data-attr":"add-match-criteria"},t.a.createElement(de.a,null)," Add matching criteria"))))))),!w&&t.a.createElement(t.a.Fragment,null,t.a.createElement(U.a,null),t.a.createElement("div",null,t.a.createElement("h3",{className:"l3"},"Persons in this cohort"),r.is_calculating?t.a.createElement("div",{className:"cohort-recalculating flex-center"},t.a.createElement(v.a,{size:"sm",style:{marginRight:4}}),"We're recalculating who belongs to this cohort. This could take up to a couple of minutes."):t.a.createElement("div",{style:{marginTop:15}},t.a.createElement($.Persons,{cohort:r.id}))))))}try{ie.displayName="Cohort",ie.__docgenInfo={description:"",displayName:"Cohort",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/cohorts/Cohort.tsx#Cohort"]={docgenInfo:ie.__docgenInfo,name:"Cohort",path:"frontend/src/scenes/cohorts/Cohort.tsx#Cohort"})}catch(E){}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(P,o,e){"use strict";e.d(o,"a",function(){return X});var a=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=e.n(a),S=e("./node_modules/@babel/runtime/regenerator/index.js"),f=e.n(S),K=e("./node_modules/core-js/modules/es.array.iterator.js"),ce=e.n(K),ne=e("./node_modules/core-js/modules/es.object.to-string.js"),V=e.n(ne),B=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ue=e.n(B),te=e("./node_modules/core-js/modules/es.array.concat.js"),ae=e.n(te),le=e("./node_modules/kea/lib/index.esm.js"),L=e("./frontend/src/lib/api.ts"),W=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),H=e("./frontend/src/lib/utils.tsx"),h=e("./frontend/src/scenes/teamLogic.ts"),T=e("./frontend/src/scenes/urls.ts"),Y=e("./frontend/src/models/groupsModel.ts"),X=Object(le.kea)({path:["groups","groupsListLogic"],connect:{values:[h.a,["currentTeamId"],Y.a,["groupTypes","aggregationLabel"],W.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(n){return{url:n}},setTab:function(n){return{tab:n}}}},loaders:function(i){var n=i.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var t=s()(f.a.mark(function O(U){var u;return f.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(u=U.url,!n.groupsEnabled){M.next=6;break}return u=u||"api/projects/".concat(n.currentTeamId,"/groups/?group_type_index=").concat(n.currentTab),M.next=5,L.b.get(u);case 5:return M.abrupt("return",M.sent);case 6:case"end":return M.stop()}},O)}));function c(O){return t.apply(this,arguments)}return c}()}]}},reducers:{currentTab:["-1",{setTab:function(i,n){var t=n.tab;return t}}]},selectors:{currentTabName:[function(l){return[l.currentTab,l.groupTypes,l.aggregationLabel]},function(l,i,n){return l==="-1"?"Persons":i!=null&&i.length?Object(H.j)(n(parseInt(l)).singular):""}],breadcrumbs:[function(l){return[l.currentTabName,l.currentTab]},function(l,i){return[{name:l,path:T.a.groups(i)}]}]},actionToUrl:function(){return{setTab:function(n){var t=n.tab;return t!=="-1"?T.a.groups(t):T.a.persons()}}},urlToAction:function(i){var n=i.actions,t=i.values;return{"/groups/:id":function(O){var U=O.id;U&&(n.setTab(U),n.loadGroups())},"/persons":function(){t.currentTab!=="-1"&&n.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(P,o,e){"use strict";e.d(o,"a",function(){return L});var a=e("./node_modules/kea/lib/index.esm.js"),s=e("./frontend/src/lib/components/PageHeader.tsx"),S=e("./node_modules/react/index.js"),f=e.n(S),K=e("./node_modules/core-js/modules/es.array.includes.js"),ce=e("./node_modules/core-js/modules/es.string.includes.js"),ne=e("./node_modules/core-js/modules/es.array.map.js"),V=e("./node_modules/antd/es/tabs/index.js"),B=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),ue=e("./frontend/src/lib/utils.tsx"),te=e("./frontend/src/models/groupsModel.ts"),ae=e("./frontend/src/scenes/groups/groupsListLogic.ts");function le(){var W=Object(a.useActions)(ae.a),H=W.setTab,h=Object(a.useValues)(ae.a),T=h.currentTab,Y=Object(a.useValues)(te.a),X=Y.groupTypes,l=Y.aggregationLabel,i=Object(a.useValues)(B.b),n=i.groupsAccessStatus,t=[B.a.HasAccess,B.a.HasGroupTypes,B.a.NoAccess].includes(n);return f.a.createElement(V.a,{activeKey:T,onChange:function(O){return H(O)}},f.a.createElement(V.a.TabPane,{tab:"Persons",key:"-1"}),t?f.a.createElement(V.a.TabPane,{tab:"Introducing Group Analytics",key:"0"}):X.map(function(c){return f.a.createElement(V.a.TabPane,{tab:Object(ue.j)(l(c.group_type_index).plural),key:c.group_type_index})}))}function L(W){var H=W.hideGroupTabs,h=Object(a.useValues)(te.a),T=h.showGroupsOptions;return f.a.createElement(f.a.Fragment,null,f.a.createElement(s.a,{title:"Persons".concat(T?" & Groups":""),caption:"A catalog of your product's end users".concat(T?" and groups":"",".")}),!H&&T&&f.a.createElement(le,null))}try{L.displayName="PersonPageHeader",L.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:L.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(W){}},"./frontend/src/scenes/persons/Persons.scss":function(P,o,e){"use strict";var a=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=e.n(a),S=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),f=e.n(S),K={};K.insert="head",K.singleton=!1;var ce=s()(f.a,K),ne=f.a.locals||{}},"./frontend/src/scenes/persons/Persons.tsx":function(P,o,e){"use strict";e.r(o),e.d(o,"scene",function(){return M}),e.d(o,"Persons",function(){return z}),e.d(o,"PersonsScene",function(){return de});var a=e("./node_modules/react/index.js"),s=e.n(a),S=e("./node_modules/kea/lib/index.esm.js"),f=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),K=e.n(f),ce=e("./node_modules/core-js/modules/es.array.concat.js"),ne=e("./node_modules/core-js/modules/es.object.keys.js"),V=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),B=e("./frontend/src/lib/components/PropertiesTable.tsx"),ue=e("./frontend/src/scenes/persons/Persons.scss"),te=e("./frontend/src/lib/components/CopyToClipboard.tsx"),ae=e("./frontend/src/scenes/persons/PersonHeader.tsx"),le=e("./frontend/src/lib/components/LemonTable/index.ts");function L(d){var A=d.people,$=d.loading,I=$===void 0?!1:$,D=d.hasPrevious,J=d.hasNext,v=d.loadPrevious,p=d.loadNext,se=d.compact,oe=[{title:"Person",key:"person",render:function(C,x){return s.a.createElement(ae.a,{withIcon:!0,person:x})}},{title:"ID",key:"id",render:function(C,x){return s.a.createElement("div",{style:{overflow:"hidden"}},x.distinct_ids.length&&s.a.createElement(te.a,{explicitValue:x.distinct_ids[0],iconStyle:{color:"var(--primary)"},description:"person distinct ID"},x.distinct_ids[0]))}}].concat(K()(se?[]:[{title:"First seen",dataIndex:"created_at",render:function(C){return C?s.a.createElement(V.b,{time:C}):s.a.createElement(s.a.Fragment,null)}}]));return s.a.createElement(le.a,{columns:oe,loading:I,rowKey:"id",pagination:{controlled:!0,pageSize:100,onForward:J?function(){p==null||p(),window.scrollTo(0,0)}:void 0,onBackward:D?function(){v==null||v(),window.scrollTo(0,0)}:void 0},expandable:{expandedRowRender:function(C){var x=C.properties;return Object.keys(x).length?s.a.createElement(B.a,{properties:x}):"This person has no properties."}},dataSource:A,emptyState:"No persons",nouns:["person","persons"]})}try{L.displayName="PersonsTable",L.__docgenInfo={description:"",displayName:"PersonsTable",props:{people:{defaultValue:null,description:"",name:"people",required:!0,type:{name:"PersonType[]"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},hasPrevious:{defaultValue:null,description:"",name:"hasPrevious",required:!1,type:{name:"boolean"}},hasNext:{defaultValue:null,description:"",name:"hasNext",required:!1,type:{name:"boolean"}},loadPrevious:{defaultValue:null,description:"",name:"loadPrevious",required:!1,type:{name:"(() => void)"}},loadNext:{defaultValue:null,description:"",name:"loadNext",required:!1,type:{name:"(() => void)"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"]={docgenInfo:L.__docgenInfo,name:"PersonsTable",path:"frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"})}catch(d){}var W=e("./node_modules/antd/es/row/index.js"),H=e("./node_modules/antd/es/popconfirm/index.js"),h=e("./frontend/src/scenes/persons/personsLogic.ts"),T=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Y=e.n(T),X=e("./node_modules/core-js/modules/es.regexp.exec.js"),l=e("./node_modules/core-js/modules/es.string.search.js"),i=e("./node_modules/antd/es/input/index.js"),n=e("./frontend/src/lib/components/LemonRow/index.ts"),t=e("./frontend/src/lib/components/icons.tsx"),c=function(A){var $=A.autoFocus,I=$===void 0?!0:$,D=Object(S.useActions)(h.a),J=D.loadPersons,v=D.setListFilters,p=Object(S.useValues)(h.a),se=p.listFilters,oe=Object(a.useState)(""),j=Y()(oe,2),C=j[0],x=j[1];return Object(a.useEffect)(function(){x(se.search||"")},[]),s.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"min(100%, 24rem)"}},s.a.createElement(i.a.Search,{"data-attr":"persons-search",placeholder:"Search for persons",autoFocus:I,value:C,onChange:function(N){x(N.target.value),N.target.value||(v({search:void 0}),J())},enterButton:!0,onPressEnter:function(N){N.preventDefault(),v({search:C||void 0}),J()},allowClear:!0,onSearch:function(){v({search:C||void 0}),J()},style:{width:"100%"}}),s.a.createElement(n.a,{className:"ml-05",type:"stealth",tooltip:s.a.createElement(s.a.Fragment,null,"Search by email, name, ID, or even contents of properties. You can also search for persons who just ",s.a.createElement("i",null,"have"),' a property like so: "has:your_property".'),icon:s.a.createElement(t.IconInfo,null)}))};try{c.displayName="PersonsSearch",c.__docgenInfo={description:"",displayName:"PersonsSearch",props:{autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"]={docgenInfo:c.__docgenInfo,name:"PersonsSearch",path:"frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"})}catch(d){}var O=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),U=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),u=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Z=e("./frontend/src/lib/components/LemonButton/index.ts"),M={component:de,logic:h.a,paramsToProps:function(){return{syncWithUrl:!0}}};function z(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=d.cohort;return s.a.createElement(S.BindLogic,{logic:h.a,props:{cohort:A,syncWithUrl:!A}},s.a.createElement(de,null))}function de(){var d=Object(S.useActions)(h.a),A=d.loadPersons,$=d.setListFilters,I=d.exportCsv,D=Object(S.useValues)(h.a),J=D.cohortId,v=D.persons,p=D.listFilters,se=D.personsLoading,oe=D.exportUrl;return s.a.createElement("div",{className:"persons-list"},!J&&s.a.createElement(O.a,null),s.a.createElement(W.a,{align:"middle",justify:"space-between",className:"mb-05",style:{gap:"0.75rem"}},s.a.createElement(c,{autoFocus:!J}),s.a.createElement("div",null,s.a.createElement(H.a,{placement:"topRight",title:s.a.createElement(s.a.Fragment,null,"Exporting by csv is limited to 10,000 users.",s.a.createElement("br",null),"To return more, please use ",s.a.createElement("a",{href:"https://posthog.com/docs/api/persons"},"the API"),". Do you want to export by CSV?"),onConfirm:I},oe&&s.a.createElement(Z.a,{type:"secondary",icon:s.a.createElement(t.IconExport,{style:{color:"var(--primary)"}})},p.properties&&p.properties.length>0?s.a.createElement("div",{style:{display:"block"}},"Export (",s.a.createElement("strong",null,p.properties.length)," filter)"):"Export")))),s.a.createElement(U.a,{pageKey:"persons-list-page",propertyFilters:p.properties,onChange:function(C){$({properties:C}),A()},endpoint:"person",taxonomicGroupTypes:[u.a.PersonProperties,u.a.Cohorts],showConditionBadge:!0}),s.a.createElement(L,{people:v.results,loading:se,hasPrevious:!!v.previous,hasNext:!!v.next,loadPrevious:function(){return A(v.previous)},loadNext:function(){return A(v.next)}}))}try{z.displayName="Persons",z.__docgenInfo={description:"",displayName:"Persons",props:{cohort:{defaultValue:null,description:"",name:"cohort",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Persons.tsx#Persons"]={docgenInfo:z.__docgenInfo,name:"Persons",path:"frontend/src/scenes/persons/Persons.tsx#Persons"})}catch(d){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/Cohort.scss":function(P,o,e){var a=e("./node_modules/css-loader/dist/runtime/api.js");o=a(!1),o.push([P.i,".Cohort__Name.ant-form-item-has-error .ant-form-item-explain-error{font-weight:500;margin:.25rem 0}.Cohort__Name.ant-form-item-has-error .LemonInput{border:1px solid var(--danger)}",""]),P.exports=o},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.scss":function(P,o,e){var a=e("./node_modules/css-loader/dist/runtime/api.js");o=a(!1),o.push([P.i,".CohortCriteriaGroups__matching-group{padding-top:1rem;border:1px solid var(--border);border-radius:4px;width:100%;margin:.5rem 0}.CohortCriteriaGroups__matching-group.CohortCriteriaGroups__matching-group--error{border:1px solid var(--danger)}.CohortCriteriaGroups__matching-group .CohortCriteriaGroups__matching-group__error-row{padding:0 1rem 1rem}.CohortCriteriaGroups__matching-group__logical-divider{color:var(--primary-alt);font-weight:600;font-size:12px;text-transform:uppercase;padding:0 1.5rem}",""]),P.exports=o},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(P,o,e){var a=e("./node_modules/css-loader/dist/runtime/api.js");o=a(!1),o.push([P.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:#5375ff;cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),P.exports=o}}]);
