(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{4708:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Group",(function(){return Group}));__webpack_require__(41),__webpack_require__(40),__webpack_require__(129);var slicedToArray=__webpack_require__(13),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),tabs=__webpack_require__(549),row=__webpack_require__(339),col=__webpack_require__(245),card=__webpack_require__(4243),skeleton=__webpack_require__(1220),index_esm=__webpack_require__(1),PropertiesTable=__webpack_require__(690),TimezoneAware=__webpack_require__(253),regenerator=(__webpack_require__(43),__webpack_require__(48),__webpack_require__(5)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(66),__webpack_require__(11)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(18),teamLogic=__webpack_require__(28),groupsModel=__webpack_require__(143),groupLogic=Object(index_esm.kea)({path:["groups","groupLogic"],connect:{values:[teamLogic.a,["currentTeamId"],groupsModel.a,["groupsEnabled","groupTypes"]]},actions:function actions(){return{setGroup:function setGroup(groupTypeIndex,groupKey){return{groupTypeIndex:groupTypeIndex,groupKey:groupKey}}}},loaders:function loaders(_ref){var _loadGroup,values=_ref.values;return{groupData:[null,{loadGroup:(_loadGroup=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var url;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url="api/projects/".concat(values.currentTeamId,"/groups/").concat(values.groupKey,"?group_type_index=").concat(values.groupTypeIndex),_context.next=3,api.a.get(url);case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}),_callee)}))),function loadGroup(){return _loadGroup.apply(this,arguments)})}]}},reducers:{groupTypeIndex:[0,{setGroup:function setGroup(_,_ref2){return _ref2.groupTypeIndex}}],groupKey:["",{setGroup:function setGroup(_,_ref3){return _ref3.groupKey}}]},selectors:{groupTypeName:[function(s){return[s.groupTypes,s.groupTypeIndex]},function(groupTypes,index){var _groupTypes$index;return(null===(_groupTypes$index=groupTypes[index])||void 0===_groupTypes$index?void 0:_groupTypes$index.group_type)||""}]},urlToAction:function urlToAction(_ref4){var actions=_ref4.actions;return{"/groups/:groupTypeIndex/:groupKey":function groupsGroupTypeIndexGroupKey(_ref5){var groupTypeIndex=_ref5.groupTypeIndex,groupKey=_ref5.groupKey;groupTypeIndex&&groupKey&&(actions.setGroup(+groupTypeIndex,groupKey),actions.loadGroup())}}}}),EventsTable=__webpack_require__(1857),urls=__webpack_require__(16),TabPane=tabs.a.TabPane;function Group(){var _useValues=Object(index_esm.useValues)(groupLogic),groupData=_useValues.groupData,groupDataLoading=_useValues.groupDataLoading,groupTypeName=_useValues.groupTypeName,groupKey=_useValues.groupKey,groupTypeIndex=_useValues.groupTypeIndex,_useState=Object(react.useState)("properties"),_useState2=slicedToArray_default()(_useState,2),activeCardTab=_useState2[0],setActiveCardTab=_useState2[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{style:{paddingTop:32}},react_default.a.createElement(row.a,{gutter:16},react_default.a.createElement(col.a,{span:16},groupData&&react_default.a.createElement(EventsTable.a,{pageKey:"".concat(groupTypeIndex,"::").concat(groupKey),fixedFilters:{properties:[{key:"$group_".concat(groupTypeIndex),value:groupKey}]},sceneUrl:urls.a.group(groupTypeIndex.toString(),groupKey)})),react_default.a.createElement(col.a,{span:8},react_default.a.createElement(card.a,{className:"card-elevated person-detail"},groupData&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"person-header"},react_default.a.createElement("span",{className:"ph-no-capture text-ellipsis"},groupData.group_key)),react_default.a.createElement("div",{className:"item-group"},react_default.a.createElement("label",null,"Group type"),react_default.a.createElement("div",null,groupTypeName)),react_default.a.createElement("div",{className:"item-group"},react_default.a.createElement("label",null,"First seen"),react_default.a.createElement("div",null,react_default.a.createElement(TimezoneAware.b,{time:groupData.created_at})))),groupDataLoading&&react_default.a.createElement(skeleton.a,{paragraph:{rows:4},active:!0})),react_default.a.createElement(card.a,{className:"card-elevated person-properties",style:{marginTop:16}},react_default.a.createElement(tabs.a,{defaultActiveKey:activeCardTab,onChange:function onChange(tab){setActiveCardTab(tab)}},react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"group-properties-tab"},"Properties"),key:"properties",disabled:groupDataLoading}),react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"group-related-tab"},"Related groups"),key:"related",disabled:groupDataLoading})),groupData&&("properties"==activeCardTab?react_default.a.createElement("div",{style:{maxWidth:"100%",overflow:"hidden"}},react_default.a.createElement("h3",{className:"l3"},"Properties list"),react_default.a.createElement(PropertiesTable.a,{properties:groupData.group_properties,className:"persons-page-props-table"})):null),groupDataLoading&&react_default.a.createElement(skeleton.a,{paragraph:{rows:6},active:!0}))))))}}}]);