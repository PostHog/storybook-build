"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[72083],{"../../frontend/src/scenes/activity/explore/EventsScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{EventsScene:()=>EventsScene,scene:()=>scene});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.28.1_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),PageHeader=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),useFeatureFlag=__webpack_require__("../../frontend/src/lib/hooks/useFeatureFlag.ts"),LemonTabs=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),SceneContent=__webpack_require__("../../frontend/src/layout/scenes/components/SceneContent.tsx"),SceneDivider=__webpack_require__("../../frontend/src/layout/scenes/components/SceneDivider.tsx"),SceneTitleSection=__webpack_require__("../../frontend/src/layout/scenes/components/SceneTitleSection.tsx"),Query=__webpack_require__("../../frontend/src/queries/Query/Query.tsx"),queryFeatures=__webpack_require__("../../frontend/src/queries/nodes/DataTable/queryFeatures.ts"),types=__webpack_require__("../../frontend/src/types.ts"),fast_deep_equal=__webpack_require__("../../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js"),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal),LemonToast=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/LemonToast.tsx"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),tabAwareActionToUrl=__webpack_require__("../../frontend/src/lib/logic/scenes/tabAwareActionToUrl.ts"),tabAwareScene=__webpack_require__("../../frontend/src/lib/logic/scenes/tabAwareScene.ts"),tabAwareUrlToAction=__webpack_require__("../../frontend/src/lib/logic/scenes/tabAwareUrlToAction.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),defaults=__webpack_require__("../../frontend/src/scenes/activity/explore/defaults.ts"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),teamLogic=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),defaultEventsQuery=__webpack_require__("../../frontend/src/queries/nodes/DataTable/defaultEventsQuery.ts");let eventsSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","events","eventsSceneLogic"]),(0,tabAwareScene.P)(),(0,index_esm.connect)(()=>({values:[teamLogic.teamLogic,["currentTeam"],featureFlagLogic.featureFlagLogic,["featureFlags"]]})),(0,index_esm.actions)({setQuery:query=>({query})}),(0,index_esm.reducers)({savedQuery:[null,{setQuery:(_,_ref)=>{let{query}=_ref;return query}}]}),(0,index_esm.selectors)({defaultQuery:[s=>[s.currentTeam],currentTeam=>{let defaultSourceForTeam=currentTeam&&(0,defaultEventsQuery.Rr)(currentTeam),defaultForScene=(0,defaults.w)();return defaultSourceForTeam?{...defaultForScene,source:defaultSourceForTeam}:defaultForScene}],query:[s=>[s.savedQuery,s.defaultQuery],(savedQuery,defaultQuery)=>savedQuery||defaultQuery],breadcrumbs:[()=>[],()=>[{key:"Activity",name:"Activity",path:urls.j.activity()},{key:sceneTypes.x.ExploreEvents,name:"Explore"}]]}),(0,tabAwareActionToUrl.N)(_ref2=>{let{values}=_ref2;return{setQuery:()=>[urls.j.activity(types.ZO.ExploreEvents),{},(0,utils.h0)(values.query,values.defaultQuery)?{}:{q:values.query},{replace:!0}]}}),(0,tabAwareUrlToAction.O)(_ref3=>{let{actions,values}=_ref3;return{[urls.j.activity(types.ZO.ExploreEvents)]:(_,__,_ref4)=>{let{q:queryParam}=_ref4;fast_deep_equal_default()(queryParam,values.query)||(queryParam?"object"==typeof queryParam?actions.setQuery(queryParam):(LemonToast.UJ.error("Invalid query in URL"),console.error({queryParam})):(0,utils.h0)(values.query,values.defaultQuery)||actions.setQuery(values.defaultQuery))}}})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function EventsScene(){let{tabId}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{query}=(0,index_esm.useValues)(eventsSceneLogic),{setQuery}=(0,index_esm.useActions)(eventsSceneLogic),newSceneLayout=(0,useFeatureFlag.y)("NEW_SCENE_LAYOUT");return(0,jsx_runtime.jsxs)(SceneContent._,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{tabbedPage:!0}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:types.ZO.ExploreEvents,tabs:[{key:types.ZO.ExploreEvents,label:"Explore",link:urls.j.activity(types.ZO.ExploreEvents)},{key:types.ZO.LiveEvents,label:"Live",link:urls.j.activity(types.ZO.LiveEvents)}],sceneInset:newSceneLayout}),(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:"Explore events",description:"A catalog of all user interactions with your app or website.",resourceType:{type:"event",forceIcon:(0,jsx_runtime.jsx)(posthog_icons_es.IconApps,{})}}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(Query.A,{attachTo:eventsSceneLogic({tabId}),uniqueKey:`events-scene-${tabId}`,query:query,setQuery:setQuery,context:{showOpenEditorButton:!0,extraDataTableQueryFeatures:[queryFeatures.P.highlightExceptionEventRows],dataTableMaxPaginationLimit:200}})]})}let scene={component:EventsScene,logic:eventsSceneLogic,settingSectionId:"environment-autocapture"}}}]);