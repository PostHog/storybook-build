(window.webpackJsonp=window.webpackJsonp||[]).push([[230,238],{"./frontend/src/scenes/cohorts/Cohort.tsx":function(F,c,e){"use strict";e.r(c),e.d(c,"scene",function(){return Ne}),e.d(c,"Cohort",function(){return ie});var u=e("./node_modules/core-js/modules/es.object.keys.js"),s=e("./node_modules/core-js/modules/es.symbol.js"),T=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),p=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),K=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ae=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),oe=e.n(ae),V=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),M=e.n(V),ue=e("./node_modules/core-js/modules/es.function.name.js"),q=e("./node_modules/core-js/modules/es.array.map.js"),re=e("./node_modules/core-js/modules/es.array.filter.js"),ne=e("./node_modules/core-js/modules/es.object.to-string.js"),O=e("./node_modules/core-js/modules/es.array.concat.js"),W=e("./node_modules/core-js/modules/es.regexp.to-string.js"),H=e("./node_modules/react/index.js"),t=e.n(H),d=e("./node_modules/kea/lib/index.esm.js"),L=e("./node_modules/kea-forms/lib/index.js"),J=e("./node_modules/antd/es/divider/index.js"),o=e("./node_modules/antd/es/row/index.js"),n=e("./node_modules/antd/es/col/index.js"),a=e("./frontend/src/types.ts"),m=e("./frontend/src/lib/constants.tsx"),E=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),N=e("./node_modules/antd/lib/upload/Dragger.js"),Q=e.n(N),Y=e("./frontend/src/scenes/persons/Persons.tsx"),z=e("./frontend/src/scenes/cohorts/cohortLogic.ts"),A=e("./frontend/src/scenes/userLogic.ts"),le=e("./node_modules/antd/lib/dropdown/style/index.css"),ce=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),r=e("./frontend/src/lib/components/LemonButton/index.ts"),x=e("./frontend/src/lib/components/PageHeader.tsx"),$=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),B=e("./frontend/src/lib/forms/Field.tsx"),b=e("./frontend/src/lib/forms/VerticalForm.tsx"),G=e("./frontend/src/lib/components/LemonSelect.tsx"),v=e("./frontend/src/lib/components/LemonTextArea/LemonTextArea.tsx"),f=e("./frontend/src/lib/components/icons.tsx"),ee=e("./frontend/src/scenes/cohorts/MatchCriteriaSelector.tsx"),te=e("./frontend/src/lib/components/Tooltip.tsx"),D=e("./node_modules/kea-router/lib/index.js"),y=e("./frontend/src/scenes/urls.ts"),j=e("./frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx"),me=e("./frontend/src/scenes/cohorts/CohortFilters/constants.tsx"),de=e("./node_modules/core-js/modules/es.array.iterator.js"),Be=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),xe=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),be=e.n(xe),Se=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.scss"),Ce=e.n(Se),he={};he.insert="head",he.singleton=!1;var Ge=be()(Ce.a,he),Ue=Ce.a.locals||{},Ee=e("./frontend/src/scenes/cohorts/cohortUtils.ts"),Le=e("./node_modules/kea-forms/lib/components.js"),Ae=e("./node_modules/clsx/dist/clsx.m.js"),Te=e("./frontend/src/lib/components/Lettermark/Lettermark.tsx"),De=e("./frontend/src/lib/utils.tsx"),Ie=e("./frontend/src/lib/components/LemonDivider/index.ts"),Re=e("./frontend/src/lib/components/AlertMessage/index.ts"),Fe=e("./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaRowBuilder.tsx");function Me(){var h=Object(d.useValues)(z.a),P=h.cohort,i=h.id,g=Object(d.useActions)(z.a),X=g.setInnerGroupType,ye=g.duplicateFilter,fe=g.removeFilter,ge=g.addFilter;return t.a.createElement(t.a.Fragment,null,P.filters.properties.values.map(function(U,C){return Object(Ee.g)(U)?t.a.createElement(L.Group,{key:C,name:["filters","properties","values",C]},C!==0&&t.a.createElement("div",{className:"CohortCriteriaGroups__matching-group__logical-divider"},U.type),t.a.createElement(Le.Field,{name:"id",template:function(I){var se=I.error,je=I.kids;return t.a.createElement("div",{className:Object(Ae.a)("CohortCriteriaGroups__matching-group",se&&"CohortCriteriaGroups__matching-group--error")},t.a.createElement(o.a,{align:"middle",wrap:!1,className:"pl pr"},t.a.createElement(Te.a,{name:De.d[C],color:Te.b.Gray}),t.a.createElement(j.a,{prefix:"Match persons against",suffix:"criteria",onChange:function(Z){return X(Z,C)},value:U.type}),t.a.createElement("div",{style:{flex:1,minWidth:"0.5rem"}}),t.a.createElement(r.a,{icon:t.a.createElement(f.IconCopy,null),type:"alt",onClick:function(){return ye(C)}}),P.filters.properties.values.length>1&&t.a.createElement(r.a,{icon:t.a.createElement(f.IconDelete,null),type:"alt",onClick:function(){return fe(C)}})),t.a.createElement(Ie.a,{large:!0}),se&&t.a.createElement(o.a,{className:"CohortCriteriaGroups__matching-group__error-row"},t.a.createElement(Re.a,{type:"error",style:{width:"100%"}},t.a.createElement(t.a.Fragment,null,se))),je)}},t.a.createElement(t.a.Fragment,null,U.values.map(function(l,I){return Object(Ee.g)(l)?null:t.a.createElement(L.Group,{key:I,name:["values",I]},t.a.createElement(d.BindLogic,{logic:z.a,props:{id:i}},t.a.createElement(Fe.a,{groupIndex:C,index:I,logicalOperator:U.type,criteria:l,type:Object(Ee.f)(l),hideDeleteIcon:U.values.length<=1})),I===U.values.length-1&&t.a.createElement(o.a,null,t.a.createElement(r.a,{"data-attr":"cohort-add-filter-group-criteria",style:{margin:"0.75rem"},type:"secondary",onClick:function(){return ge(C)},icon:t.a.createElement(f.IconPlusMini,{color:"var(--primary)"})},"Add criteria")))})))):null}),t.a.createElement(r.a,{"data-attr":"cohort-add-filter-group",className:"mb mt",type:"secondary",onClick:function(){return ge()},icon:t.a.createElement(f.IconPlusMini,{color:"var(--primary)"}),fullWidth:!0},"Add criteria group"))}function Oe(h,P){var i=Object.keys(h);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(h);P&&(g=g.filter(function(X){return Object.getOwnPropertyDescriptor(h,X).enumerable})),i.push.apply(i,g)}return i}function pe(h){for(var P=1;P<arguments.length;P++){var i=arguments[P]!=null?arguments[P]:{};P%2?Oe(Object(i),!0).forEach(function(g){M()(h,g,i[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(i)):Oe(Object(i)).forEach(function(g){Object.defineProperty(h,g,Object.getOwnPropertyDescriptor(i,g))})}return h}var Ne={component:ie,paramsToProps:function(P){var i=P.params.id;return{id:i&&i!=="new"?parseInt(i):"new"}}};function ie(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=h.id,i={id:P},g=Object(z.a)(i),X=Object(d.useActions)(g),ye=X.deleteCohort,fe=X.setCohort,ge=X.onCriteriaChange,U=X.setOuterGroupsType,C=Object(d.useValues)(g),l=C.cohort,I=C.cohortLoading,se=C.newCohortFiltersEnabled,je=Object(d.useValues)(A.a),ve=je.hasAvailableFeature,Z=l.id==="new"||l.id===void 0;return t.a.createElement("div",{className:"cohort"},t.a.createElement(b.a,{logic:z.a,props:i,formKey:"cohort",enableFormOnSubmit:!0},t.a.createElement(x.a,{title:Z?"New cohort":l.name||"Untitled",buttons:t.a.createElement("div",{className:"flex-center"},Z?t.a.createElement(r.a,{"data-attr":"cancel-cohort",type:"secondary",onClick:function(){D.router.actions.push(y.a.cohorts())},style:{marginRight:8},disabled:I},"Cancel"):t.a.createElement(r.a,{"data-attr":"delete-cohort",status:"danger",type:"secondary",onClick:function(){ye()},style:{marginRight:8},disabled:I},"Delete"),t.a.createElement(r.a,{type:"primary","data-attr":"save-cohort",htmlType:"submit",loading:I},"Save"))}),t.a.createElement(J.a,null),t.a.createElement(o.a,{gutter:[16,24],style:{maxWidth:640}},t.a.createElement(n.a,{xs:24,sm:12},t.a.createElement(B.a,{name:"name",label:"Name"},t.a.createElement($.a,{"data-attr":"cohort-name"}))),t.a.createElement(n.a,{xs:24,sm:12},t.a.createElement(B.a,{name:"is_static",label:"Type"},function(R){var S=R.value,w=R.onChange;return t.a.createElement(te.a,{title:Z?null:"Create a new cohort to use a different type of cohort."},t.a.createElement("div",null,t.a.createElement(G.a,{disabled:!Z,options:me.b,value:S?m.b.Static:m.b.Dynamic,onChange:function(k){w(k===m.b.Static)},type:"stealth",outlined:!0,style:{width:"100%"},"data-attr":"cohort-type"})))}))),ve(a.d.DASHBOARD_COLLABORATION)&&t.a.createElement(o.a,{gutter:[16,24],className:"mt ph-ignore-input",style:{maxWidth:640}},t.a.createElement(n.a,{span:24},t.a.createElement(B.a,{name:"description",label:"Description","data-attr":"cohort-description"},t.a.createElement(v.a,null)))),l.is_static?t.a.createElement(o.a,{gutter:24,className:"mt ph-ignore-input"},t.a.createElement(n.a,{span:24},t.a.createElement(B.a,{name:"csv",label:Z?"Upload users":"Add users","data-attr":"cohort-csv"},function(R){var S,w,_=R.onChange;return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"mb"},"Upload a CSV file to add users to your cohort. The CSV file only requires a single column with the user\u2019s distinct ID."),t.a.createElement(Q.a,{name:"file",multiple:!1,fileList:l.csv?[l.csv]:[],accept:".csv",showUploadList:!1,beforeUpload:function(Pe){return _(Pe),!1},className:"cohort-csv-dragger"},l.csv?t.a.createElement(t.a.Fragment,null,t.a.createElement(f.IconUploadFile,{style:{fontSize:"3rem",color:"var(--muted-alt)"}}),t.a.createElement("div",{className:"ant-upload-text"},(S=(w=l.csv)===null||w===void 0?void 0:w.name)!==null&&S!==void 0?S:"File chosen")):t.a.createElement(t.a.Fragment,null,t.a.createElement(f.IconUploadFile,{style:{fontSize:"3rem",color:"var(--muted-alt)"}}),t.a.createElement("div",{className:"ant-upload-text"},"Drag a file here or click to browse for a file"))))}))):t.a.createElement(t.a.Fragment,null,t.a.createElement(J.a,null),t.a.createElement(o.a,{gutter:24,className:"mt"},t.a.createElement(n.a,{span:24},t.a.createElement(t.a.Fragment,null,t.a.createElement(o.a,{align:"middle",justify:"space-between",wrap:!1},t.a.createElement(o.a,{className:"ant-form-item ant-form-item-label",style:{marginBottom:0}},t.a.createElement("label",{htmlFor:"groups",title:"Matching criteria"},"Matching criteria"),t.a.createElement("span",null,"Actors who match the following criteria will be part of the cohort. Continuously updated automatically.")),se&&t.a.createElement(o.a,{align:"middle",wrap:!1,justify:"space-between",className:"pl"},t.a.createElement(j.a,{value:l.filters.properties.type,onChange:function(S){U(S)},topLevelFilter:!0,suffix:"criteria"}))),se?t.a.createElement(d.BindLogic,{logic:z.a,props:i},t.a.createElement(Me,null)):t.a.createElement(t.a.Fragment,null,l.groups.map(function(R,S){return t.a.createElement(L.Group,{key:S,name:["groups",S]},t.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}},t.a.createElement(L.Field,{name:"id",template:function(_){var k=_.error,Pe=_.kids;return t.a.createElement("div",{style:{padding:15,border:k?"1px solid var(--danger)":"1px solid rgba(0, 0, 0, 0.1)",borderRadius:4,width:"100%"}},Pe,t.a.createElement(o.a,null,k&&t.a.createElement("div",{style:{color:"var(--danger)",marginTop:16}},k)))}},t.a.createElement(ee.b,{onCriteriaChange:function(_){return ge(_,R.id)},onRemove:function(){fe(pe(pe({},l),{},{groups:l.groups.filter(function(_,k){return k!==S})}))},group:R,hideRemove:l.groups.length===1})),S<l.groups.length-1&&t.a.createElement("div",{className:"stateful-badge or mt mb"},"OR")))}),t.a.createElement("span",{id:"add"}),t.a.createElement("div",{style:{marginTop:8,marginBottom:8}},t.a.createElement("a",{href:"#add",style:{padding:0},onClick:function(){fe(pe(pe({},l),{},{groups:[].concat(oe()(l.groups),[{id:Math.random().toString().substr(2,5),matchType:m.p,properties:[]}])}))},"data-attr":"add-match-criteria"},t.a.createElement(E.a,null)," Add matching criteria"))))))),!Z&&t.a.createElement(t.a.Fragment,null,t.a.createElement(J.a,null),t.a.createElement("div",null,t.a.createElement("h3",{className:"l3"},"Persons in this cohort"),l.is_calculating?t.a.createElement("div",{className:"cohort-recalculating flex-center"},t.a.createElement(ce.a,{size:"sm",style:{marginRight:4}}),"We're recalculating who belongs to this cohort. This could take up to a couple of minutes."):t.a.createElement("div",{style:{marginTop:15}},t.a.createElement(Y.Persons,{cohort:l.id}))))))}try{ie.displayName="Cohort",ie.__docgenInfo={description:"",displayName:"Cohort",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/cohorts/Cohort.tsx#Cohort"]={docgenInfo:ie.__docgenInfo,name:"Cohort",path:"frontend/src/scenes/cohorts/Cohort.tsx#Cohort"})}catch(h){}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(F,c,e){"use strict";e.d(c,"a",function(){return J});var u=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=e.n(u),T=e("./node_modules/@babel/runtime/regenerator/index.js"),p=e.n(T),K=e("./node_modules/core-js/modules/es.array.iterator.js"),ae=e.n(K),oe=e("./node_modules/core-js/modules/es.object.to-string.js"),V=e.n(oe),M=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ue=e.n(M),q=e("./node_modules/core-js/modules/es.array.concat.js"),re=e.n(q),ne=e("./node_modules/kea/lib/index.esm.js"),O=e("./frontend/src/lib/api.ts"),W=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),H=e("./frontend/src/lib/utils.tsx"),t=e("./frontend/src/scenes/teamLogic.ts"),d=e("./frontend/src/scenes/urls.ts"),L=e("./frontend/src/models/groupsModel.ts"),J=Object(ne.kea)({path:["groups","groupsListLogic"],connect:{values:[t.a,["currentTeamId"],L.a,["groupTypes","aggregationLabel"],W.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(a){return{url:a}},setTab:function(a){return{tab:a}}}},loaders:function(n){var a=n.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var m=s()(p.a.mark(function N(Q){var Y;return p.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(Y=Q.url,!a.groupsEnabled){A.next=6;break}return Y=Y||"api/projects/".concat(a.currentTeamId,"/groups/?group_type_index=").concat(a.currentTab),A.next=5,O.b.get(Y);case 5:return A.abrupt("return",A.sent);case 6:case"end":return A.stop()}},N)}));function E(N){return m.apply(this,arguments)}return E}()}]}},reducers:{currentTab:["-1",{setTab:function(n,a){var m=a.tab;return m}}]},selectors:{currentTabName:[function(o){return[o.currentTab,o.groupTypes,o.aggregationLabel]},function(o,n,a){return o==="-1"?"Persons":n!=null&&n.length?Object(H.j)(a(parseInt(o)).singular):""}],breadcrumbs:[function(o){return[o.currentTabName,o.currentTab]},function(o,n){return[{name:o,path:d.a.groups(n)}]}]},actionToUrl:function(){return{setTab:function(a){var m=a.tab;return m!=="-1"?d.a.groups(m):d.a.persons()}}},urlToAction:function(n){var a=n.actions,m=n.values;return{"/groups/:id":function(N){var Q=N.id;Q&&(a.setTab(Q),a.loadGroups())},"/persons":function(){m.currentTab!=="-1"&&a.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(F,c,e){"use strict";e.d(c,"a",function(){return O});var u=e("./node_modules/kea/lib/index.esm.js"),s=e("./frontend/src/lib/components/PageHeader.tsx"),T=e("./node_modules/react/index.js"),p=e.n(T),K=e("./node_modules/core-js/modules/es.array.includes.js"),ae=e("./node_modules/core-js/modules/es.string.includes.js"),oe=e("./node_modules/core-js/modules/es.array.map.js"),V=e("./node_modules/antd/es/tabs/index.js"),M=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),ue=e("./frontend/src/lib/utils.tsx"),q=e("./frontend/src/models/groupsModel.ts"),re=e("./frontend/src/scenes/groups/groupsListLogic.ts");function ne(){var W=Object(u.useActions)(re.a),H=W.setTab,t=Object(u.useValues)(re.a),d=t.currentTab,L=Object(u.useValues)(q.a),J=L.groupTypes,o=L.aggregationLabel,n=Object(u.useValues)(M.b),a=n.groupsAccessStatus,m=[M.a.HasAccess,M.a.HasGroupTypes,M.a.NoAccess].includes(a);return p.a.createElement(V.a,{activeKey:d,onChange:function(N){return H(N)}},p.a.createElement(V.a.TabPane,{tab:"Persons",key:"-1"}),m?p.a.createElement(V.a.TabPane,{tab:"Introducing Group Analytics",key:"0"}):J.map(function(E){return p.a.createElement(V.a.TabPane,{tab:Object(ue.j)(o(E.group_type_index).plural),key:E.group_type_index})}))}function O(W){var H=W.hideGroupTabs,t=Object(u.useValues)(q.a),d=t.showGroupsOptions;return p.a.createElement(p.a.Fragment,null,p.a.createElement(s.a,{title:"Persons".concat(d?" & Groups":""),caption:"A catalog of your product's end users".concat(d?" and groups":"",".")}),!H&&d&&p.a.createElement(ne,null))}try{O.displayName="PersonPageHeader",O.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:O.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(W){}},"./frontend/src/scenes/persons/Persons.scss":function(F,c,e){"use strict";var u=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=e.n(u),T=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),p=e.n(T),K={};K.insert="head",K.singleton=!1;var ae=s()(p.a,K),oe=p.a.locals||{}},"./frontend/src/scenes/persons/Persons.tsx":function(F,c,e){"use strict";e.r(c),e.d(c,"scene",function(){return A}),e.d(c,"Persons",function(){return le}),e.d(c,"PersonsScene",function(){return ce});var u=e("./node_modules/react/index.js"),s=e.n(u),T=e("./node_modules/kea/lib/index.esm.js"),p=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),K=e.n(p),ae=e("./node_modules/core-js/modules/es.array.concat.js"),oe=e("./node_modules/core-js/modules/es.object.keys.js"),V=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),M=e("./frontend/src/lib/components/PropertiesTable.tsx"),ue=e("./frontend/src/scenes/persons/Persons.scss"),q=e("./frontend/src/lib/components/CopyToClipboard.tsx"),re=e("./frontend/src/scenes/persons/PersonHeader.tsx"),ne=e("./frontend/src/lib/components/LemonTable/index.ts");function O(r){var x=r.people,$=r.loading,B=$===void 0?!1:$,b=r.hasPrevious,G=r.hasNext,v=r.loadPrevious,f=r.loadNext,ee=r.compact,te=[{title:"Person",key:"person",render:function(y,j){return s.a.createElement(re.a,{withIcon:!0,person:j})}},{title:"ID",key:"id",render:function(y,j){return s.a.createElement("div",{style:{overflow:"hidden"}},j.distinct_ids.length&&s.a.createElement(q.a,{explicitValue:j.distinct_ids[0],iconStyle:{color:"var(--primary)"},description:"person distinct ID"},j.distinct_ids[0]))}}].concat(K()(ee?[]:[{title:"First seen",dataIndex:"created_at",render:function(y){return y?s.a.createElement(V.b,{time:y}):s.a.createElement(s.a.Fragment,null)}}]));return s.a.createElement(ne.a,{columns:te,loading:B,rowKey:"id",pagination:{controlled:!0,pageSize:100,onForward:G?function(){f==null||f(),window.scrollTo(0,0)}:void 0,onBackward:b?function(){v==null||v(),window.scrollTo(0,0)}:void 0},expandable:{expandedRowRender:function(y){var j=y.properties;return Object.keys(j).length?s.a.createElement(M.a,{properties:j}):"This person has no properties."}},dataSource:x,emptyState:"No persons",nouns:["person","persons"]})}try{O.displayName="PersonsTable",O.__docgenInfo={description:"",displayName:"PersonsTable",props:{people:{defaultValue:null,description:"",name:"people",required:!0,type:{name:"PersonType[]"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},hasPrevious:{defaultValue:null,description:"",name:"hasPrevious",required:!1,type:{name:"boolean"}},hasNext:{defaultValue:null,description:"",name:"hasNext",required:!1,type:{name:"boolean"}},loadPrevious:{defaultValue:null,description:"",name:"loadPrevious",required:!1,type:{name:"(() => void)"}},loadNext:{defaultValue:null,description:"",name:"loadNext",required:!1,type:{name:"(() => void)"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"]={docgenInfo:O.__docgenInfo,name:"PersonsTable",path:"frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"})}catch(r){}var W=e("./node_modules/antd/es/row/index.js"),H=e("./node_modules/antd/es/popconfirm/index.js"),t=e("./frontend/src/scenes/persons/personsLogic.ts"),d=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),L=e.n(d),J=e("./node_modules/core-js/modules/es.regexp.exec.js"),o=e("./node_modules/core-js/modules/es.string.search.js"),n=e("./node_modules/antd/es/input/index.js"),a=e("./frontend/src/lib/components/LemonRow/index.ts"),m=e("./frontend/src/lib/components/icons.tsx"),E=function(x){var $=x.autoFocus,B=$===void 0?!0:$,b=Object(T.useActions)(t.a),G=b.loadPersons,v=b.setListFilters,f=Object(T.useValues)(t.a),ee=f.listFilters,te=Object(u.useState)(""),D=L()(te,2),y=D[0],j=D[1];return Object(u.useEffect)(function(){j(ee.search||"")},[]),s.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"min(100%, 24rem)"}},s.a.createElement(n.a.Search,{"data-attr":"persons-search",placeholder:"Search for persons",autoFocus:B,value:y,onChange:function(de){j(de.target.value),de.target.value||(v({search:void 0}),G())},enterButton:!0,onPressEnter:function(de){de.preventDefault(),v({search:y||void 0}),G()},allowClear:!0,onSearch:function(){v({search:y||void 0}),G()},style:{width:"100%"}}),s.a.createElement(a.a,{className:"ml-05",type:"stealth",tooltip:s.a.createElement(s.a.Fragment,null,"Search by email, name, ID, or even contents of properties. You can also search for persons who just ",s.a.createElement("i",null,"have"),' a property like so: "has:your_property".'),icon:s.a.createElement(m.IconInfo,null)}))};try{E.displayName="PersonsSearch",E.__docgenInfo={description:"",displayName:"PersonsSearch",props:{autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"]={docgenInfo:E.__docgenInfo,name:"PersonsSearch",path:"frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"})}catch(r){}var N=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),Q=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Y=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),z=e("./frontend/src/lib/components/LemonButton/index.ts"),A={component:ce,logic:t.a,paramsToProps:function(){return{syncWithUrl:!0}}};function le(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=r.cohort;return s.a.createElement(T.BindLogic,{logic:t.a,props:{cohort:x,syncWithUrl:!x}},s.a.createElement(ce,null))}function ce(){var r=Object(T.useActions)(t.a),x=r.loadPersons,$=r.setListFilters,B=r.exportCsv,b=Object(T.useValues)(t.a),G=b.cohortId,v=b.persons,f=b.listFilters,ee=b.personsLoading,te=b.exportUrl;return s.a.createElement("div",{className:"persons-list"},!G&&s.a.createElement(N.a,null),s.a.createElement(W.a,{align:"middle",justify:"space-between",className:"mb-05",style:{gap:"0.75rem"}},s.a.createElement(E,{autoFocus:!G}),s.a.createElement("div",null,s.a.createElement(H.a,{placement:"topRight",title:s.a.createElement(s.a.Fragment,null,"Exporting by csv is limited to 10,000 users.",s.a.createElement("br",null),"To return more, please use ",s.a.createElement("a",{href:"https://posthog.com/docs/api/persons"},"the API"),". Do you want to export by CSV?"),onConfirm:B},te&&s.a.createElement(z.a,{type:"secondary",icon:s.a.createElement(m.IconExport,{style:{color:"var(--primary)"}})},f.properties&&f.properties.length>0?s.a.createElement("div",{style:{display:"block"}},"Export (",s.a.createElement("strong",null,f.properties.length)," filter)"):"Export")))),s.a.createElement(Q.a,{pageKey:"persons-list-page",propertyFilters:f.properties,onChange:function(y){$({properties:y}),x()},endpoint:"person",taxonomicGroupTypes:[Y.a.PersonProperties,Y.a.Cohorts],showConditionBadge:!0}),s.a.createElement(O,{people:v.results,loading:ee,hasPrevious:!!v.previous,hasNext:!!v.next,loadPrevious:function(){return x(v.previous)},loadNext:function(){return x(v.next)}}))}try{le.displayName="Persons",le.__docgenInfo={description:"",displayName:"Persons",props:{cohort:{defaultValue:null,description:"",name:"cohort",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Persons.tsx#Persons"]={docgenInfo:le.__docgenInfo,name:"Persons",path:"frontend/src/scenes/persons/Persons.tsx#Persons"})}catch(r){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/cohorts/CohortFilters/CohortCriteriaGroups.scss":function(F,c,e){var u=e("./node_modules/css-loader/dist/runtime/api.js");c=u(!1),c.push([F.i,".CohortCriteriaGroups__matching-group{padding-top:1rem;border:1px solid var(--border);border-radius:4px;width:100%;margin:.5rem 0}.CohortCriteriaGroups__matching-group.CohortCriteriaGroups__matching-group--error{border:1px solid var(--danger)}.CohortCriteriaGroups__matching-group .CohortCriteriaGroups__matching-group__error-row{padding:0 1rem 1rem}.CohortCriteriaGroups__matching-group__logical-divider{color:var(--primary-alt);font-weight:600;font-size:12px;text-transform:uppercase;padding:0 1.5rem}",""]),F.exports=c},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(F,c,e){var u=e("./node_modules/css-loader/dist/runtime/api.js");c=u(!1),c.push([F.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:#5375ff;cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),F.exports=c}}]);
