(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{4739:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InsightRouter",(function(){return InsightRouter})),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene}));var skeleton=__webpack_require__(1243),card=__webpack_require__(4262),row=__webpack_require__(381),col=__webpack_require__(348),index_esm=__webpack_require__(1),NotFound=__webpack_require__(886),react=__webpack_require__(0),react_default=__webpack_require__.n(react),defineProperty=(__webpack_require__(41),__webpack_require__(49),__webpack_require__(63),__webpack_require__(42),__webpack_require__(84),__webpack_require__(174),__webpack_require__(53),__webpack_require__(3)),defineProperty_default=__webpack_require__.n(defineProperty),regenerator=__webpack_require__(8),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(70),__webpack_require__(13)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(23),teamLogic=__webpack_require__(31),eventUsageLogic=__webpack_require__(26),lib=__webpack_require__(32),urls=__webpack_require__(18),insightRouterLogic=Object(index_esm.kea)({path:["scenes","insights","insightRouterLogic"],actions:{loadInsight:function loadInsight(id){return{id:id}},setError:!0},reducers:{error:[!1,{setError:function setError(){return!0}}]},listeners:function listeners(_ref){var _loadInsight,actions=_ref.actions;return{loadInsight:(_loadInsight=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(_ref2){var id,response,item;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return id=_ref2.id,_context.next=3,api.a.get("api/projects/".concat(teamLogic.a.values.currentTeamId,"/insights/?short_id=").concat(id));case 3:(response=_context.sent).results.length?(item=response.results[0],eventUsageLogic.f.actions.reportInsightShortUrlVisited(!0,item.filters.insight||null),lib.router.actions.replace(Object(lib.combineUrl)(urls.a.insightView(item.short_id,item.filters),void 0,{fromItemName:item.name,fromDashboard:item.dashboard,id:item.short_id}).url)):(eventUsageLogic.f.actions.reportInsightShortUrlVisited(!1,null),actions.setError());case 5:case"end":return _context.stop()}}),_callee)}))),function loadInsight(_x){return _loadInsight.apply(this,arguments)})}},urlToAction:function urlToAction(_ref3){var actions=_ref3.actions;return defineProperty_default()({},urls.a.insightRouter(":shortId"),(function(_ref4){var shortId=_ref4.shortId;shortId&&actions.loadInsight(shortId)}))}});function InsightRouter(){var error=Object(index_esm.useValues)(insightRouterLogic).error;return react_default.a.createElement(react_default.a.Fragment,null,error?react_default.a.createElement(NotFound.a,{object:"insight"}):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(skeleton.a,{active:!0,paragraph:{rows:0}}),react_default.a.createElement(card.a,null,react_default.a.createElement(row.a,{gutter:16},react_default.a.createElement(col.a,{md:18},react_default.a.createElement(skeleton.a,{active:!0})),react_default.a.createElement(col.a,{md:6,style:{textAlign:"center"}},react_default.a.createElement(skeleton.a,{active:!0,paragraph:{rows:0}}),react_default.a.createElement(skeleton.a,{active:!0,paragraph:{rows:0}}),react_default.a.createElement(skeleton.a,{active:!0,paragraph:{rows:0}})))),react_default.a.createElement(card.a,{style:{minHeight:600,marginTop:16}})))}var scene={component:InsightRouter,logic:insightRouterLogic}}}]);