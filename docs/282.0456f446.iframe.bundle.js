var ze=Object.defineProperty,Ve=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var Me=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var Re=(K,x,t)=>x in K?ze(K,x,{enumerable:!0,configurable:!0,writable:!0,value:t}):K[x]=t,ge=(K,x)=>{for(var t in x||(x={}))Be.call(x,t)&&Re(K,t,x[t]);if(Me)for(var t of Me(x))De.call(x,t)&&Re(K,t,x[t]);return K},Te=(K,x)=>Ve(K,_e(x));var G=(K,x,t)=>new Promise((U,L)=>{var y=F=>{try{W(t.next(F))}catch(te){L(te)}},ee=F=>{try{W(t.throw(F))}catch(te){L(te)}},W=F=>F.done?U(F.value):Promise.resolve(F.value).then(y,ee);W((t=t.apply(K,x)).next())});(window.webpackJsonp=window.webpackJsonp||[]).push([[282],{"./frontend/src/scenes/instance/SystemStatus/index.tsx":function(K,x,t){"use strict";t.r(x),t.d(x,"scene",function(){return me}),t.d(x,"SystemStatus",function(){return ae});var U=t("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=t.n(U),y=t("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/instance/SystemStatus/index.scss"),ee=t.n(y),W={};W.insert="head",W.singleton=!1;var F=L()(ee.a,W),te=ee.a.locals||{},oe=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/alert/index.js"),X=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tabs/index.js"),m=t("./frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts"),h=t("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),re=t("./frontend/src/lib/components/PageHeader.tsx"),o=t("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),l=t("./frontend/src/lib/components/icons.tsx"),u=t("./frontend/src/lib/components/Link.tsx"),A=t("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),I=t("./frontend/src/lib/utils.tsx"),e=t("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const ne=new Set(["last_event_ingested_timestamp"]);function H(s,a){let{key:r,value:n,value_type:c,emptyNullLabel:d,isSecret:E}=a;return n&&E?Object(e.jsx)(A.a,{style:{color:"var(--muted)",backgroundColor:"#fee5b3"},className:"uppercase",icon:E?Object(e.jsx)(l.IconLock,{style:{color:"var(--warning)"}}):void 0,children:"Secret"}):r&&ne.has(r)&&typeof n=="string"?new Date(n).getTime()===new Date("1970-01-01T00:00:00").getTime()?"Never":Object(I.O)(n):c==="bool"||typeof n=="boolean"?Object(e.jsx)(A.a,{type:n?"success":"danger",children:n?"Yes":"No"}):n==null||n===""?Object(e.jsx)(A.a,{className:"uppercase",style:{color:"var(--muted)"},children:d!=null?d:"Unknown"}):c==="int"||typeof n=="number"?n.toLocaleString("en-US"):n.toString()}var N=t("./frontend/@posthog/lemon-ui/src/index.ts");const ve={async_migrations_ok:"/instance/async_migrations"};function Oe(s,a){return Object(e.jsxs)("span",{children:[a.metric," ",ve[a.key]?Object(e.jsx)(u.a,{to:ve[a.key],children:Object(e.jsx)(l.IconOpenInNew,{style:{verticalAlign:"middle"}})}):null]})}function we(){const{overview:s,systemStatusLoading:a}=Object(h.useValues)(m.b);return Object(e.jsx)(N.LemonTable,{className:"system-status-table",rowKey:"metric",dataSource:s,columns:[{title:"Metric",className:"metric-column",render:Oe},{title:"Value",render:H}],loading:a,expandable:{expandedRowRender:function(n){var c;return(c=n.subrows)!==null&&c!==void 0&&c.rows.length?Object(e.jsx)(xe,ge({},n.subrows)):null},rowExpandable:r=>{var n;return!!((n=r.subrows)!==null&&n!==void 0&&n.rows.length)}}})}function xe(s){return Object(e.jsx)(N.LemonTable,{dataSource:s.rows,columns:s.columns.map((a,r)=>({title:a,dataIndex:r})),embedded:!0})}var ce=t("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),fe=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/collapse/index.js"),Ce=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/checkbox/index.js"),de=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/button/index.js"),Se=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/table/index.js"),ye=t("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ReloadOutlined.js");function Ie(){const{analyzeModalOpen:s,analyzeQuery:a,analyzeQueryResult:r,analyzeQueryResultLoading:n}=Object(h.useValues)(m.b),{setAnalyzeModalOpen:c,setAnalyzeQuery:d,runAnalyzeQuery:E}=Object(h.useActions)(m.b);return Object(e.jsxs)(N.LemonModal,{isOpen:s,title:"Analyze ClickHouse query performance",footer:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(N.LemonButton,{type:"secondary",onClick:()=>c(!1),children:"Cancel"}),Object(e.jsx)(N.LemonButton,{type:"primary",onClick:()=>void E(),disabled:n,children:"Analyze"})]}),onClose:()=>c(!1),width:"80%",children:[Object(e.jsx)(N.LemonTextArea,{placeholder:"SQL query to analyze",onChange:d,value:a,rows:10}),r&&Object(e.jsxs)("div",{className:"mt-2",children:[Object(e.jsx)("h2",{children:"Analysis results"}),Object(e.jsx)("ul",{children:Object.entries(r.timing).map(p=>{let[k,M]=p;return Object(e.jsxs)("li",{children:[k,": ",M]},k)})}),Object.entries(r.flamegraphs).map(p=>{let[k,M]=p;return Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{children:["Flamegraph: ",k]}),Object(e.jsx)("a",{className:"embedded-svg-wrapper",href:`data:image/svg+xml;utf8,${encodeURIComponent(M)}`,dangerouslySetInnerHTML:{__html:M}})]},k)})]})]})}function Ae(){const{openSections:s,queries:a,queriesLoading:r,showAnalyzeQueryButton:n}=Object(h.useValues)(m.b),{setOpenSections:c,loadQueries:d}=Object(h.useActions)(m.b),[E,p]=Object(ce.useState)(!1),k=Object(ce.useMemo)(()=>{var R;return a==null||(R=a.postgres_running)===null||R===void 0?void 0:R.filter(P=>{let{state:ke}=P;return E||ke!=="idle"})},[E,a]),M=R=>{R.stopPropagation(),d()};return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)(fe.a,{activeKey:s,onChange:R=>c(R),children:[Object(e.jsxs)(fe.a.Panel,{header:"PostgreSQL - currently running queries",children:[Object(e.jsxs)("div",{className:"mb-4 float-right",children:[Object(e.jsx)(Ce.a,{checked:E,onChange:R=>{p(R.target.checked)},children:"Show idle queries"}),Object(e.jsxs)(de.a,{style:{marginLeft:8},onClick:M,children:[Object(e.jsx)(ye.a,{})," Reload Queries"]})]}),Object(e.jsx)(pe,{queries:k,loading:r})]},"1"),(a==null?void 0:a.clickhouse_running)!=null?Object(e.jsxs)(fe.a.Panel,{header:"Clickhouse - currently running queries",children:[Object(e.jsx)("div",{className:"mb-4 float-right",children:Object(e.jsxs)(de.a,{style:{marginLeft:8},onClick:M,children:[Object(e.jsx)(ye.a,{})," Reload Queries"]})}),Object(e.jsx)(pe,{queries:a==null?void 0:a.clickhouse_running,loading:r,showAnalyze:n})]},"2"):null,(a==null?void 0:a.clickhouse_slow_log)!=null?Object(e.jsxs)(fe.a.Panel,{header:"Clickhouse - slow query log (past 6 hours)",children:[Object(e.jsx)("div",{className:"mb-4 float-right",children:Object(e.jsxs)(de.a,{style:{marginLeft:8},onClick:M,children:[Object(e.jsx)(ye.a,{})," Reload Queries"]})}),Object(e.jsx)(pe,{queries:a==null?void 0:a.clickhouse_slow_log,loading:r,showAnalyze:n})]},"3"):null]}),Object(e.jsx)(Ie,{})]})}function pe(s){const{openAnalyzeModalWithQuery:a}=Object(h.useActions)(m.b),r=[{title:"duration",dataIndex:"duration",key:"duration",sorter:(n,c)=>+n.duration-+c.duration},{title:"query",dataIndex:"query",render:function(c,d){let{}=c;return s.showAnalyze?Object(e.jsx)(u.a,{to:"#",onClick:()=>a(d.query),children:d.query}):d.query},key:"query"}];return s.queries&&s.queries.length>0&&Object.keys(s.queries[0]).forEach(n=>{n!=="duration"&&n!=="query"&&r.push({title:n,dataIndex:n,key:n})}),Object(e.jsx)(Se.a,{dataSource:s.queries||[],columns:r,loading:s.loading,pagination:{pageSize:30,hideOnSinglePage:!0},size:"small",bordered:!0,style:{overflowX:"auto",overflowY:"auto"},locale:{emptyText:"No queries found"}})}var je=t("./frontend/src/lib/components/LemonTable/index.ts"),Ee=t("./frontend/src/lib/hooks/useKeyboardHotkeys.tsx");function he(s){let{key:a,value:r,value_type:n,onValueChanged:c,isSecret:d}=s;if(n==="bool")return Object(e.jsx)(N.LemonCheckbox,{defaultChecked:!!r,onChange:p=>c(a,p),label:Object(e.jsx)(A.a,{type:r?"success":"danger",className:"uppercase",children:r?"Yes":"No"})});const E=d&&r?"":r;return Object(e.jsx)(N.LemonInput,{defaultValue:E,type:n==="int"?"number":"text",placeholder:d&&r?"Keep existing secret value":void 0,onBlur:p=>c(a,p.target.value)})}try{he.displayName="RenderMetricValueEdit",he.__docgenInfo={description:"",displayName:"RenderMetricValueEdit",props:{onValueChanged:{defaultValue:null,description:"",name:"onValueChanged",required:!0,type:{name:"(key: string, value: any) => void"}},key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | boolean | null"}},value_type:{defaultValue:null,description:"",name:"value_type",required:!1,type:{name:"enum",value:[{value:'"bool"'},{value:'"str"'},{value:'"int"'}]}},emptyNullLabel:{defaultValue:null,description:"",name:"emptyNullLabel",required:!1,type:{name:"string"}},isSecret:{defaultValue:null,description:"",name:"isSecret",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/instance/SystemStatus/RenderMetricValueEdit.tsx#RenderMetricValueEdit"]={docgenInfo:he.__docgenInfo,name:"RenderMetricValueEdit",path:"frontend/src/scenes/instance/SystemStatus/RenderMetricValueEdit.tsx#RenderMetricValueEdit"})}catch(s){}var T=t("./frontend/src/lib/components/AlertMessage/index.ts");function g(s){let{metricKey:a,oldValue:r,value:n,isSecret:c}=s;return(n==null?void 0:n.toString())===(r==null?void 0:r.toString())?null:Object(e.jsxs)("div",{className:"bg-border-light radius p-2",children:[Object(e.jsx)("div",{children:Object(e.jsx)("code",{children:a})}),Object(e.jsxs)("div",{className:"text-muted",children:["Value will be changed",!c&&Object(e.jsxs)(e.Fragment,{children:[" from ",Object(e.jsx)("span",{className:"font-bold text-default",children:H(null,{key:a,value:r,emptyNullLabel:"Unset",isSecret:c})})]})," to ",Object(e.jsx)("span",{className:"font-bold text-default",children:H(null,{key:a,value:n,emptyNullLabel:"Unset"})}),c&&Object(e.jsx)("div",{className:"text-danger",children:"This field is secret - you won't see its value once saved"})]})]})}function j(s){let{onClose:a,isOpen:r}=s;const{instanceConfigEditingState:n,editableInstanceSettings:c,updatedInstanceConfigCount:d}=Object(h.useValues)(m.b),{saveInstanceConfig:E}=Object(h.useActions)(m.b),p=d!==null;return Object(e.jsx)(N.LemonModal,{title:"Confirm new changes",isOpen:r,closable:!p,onClose:a,footer:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(N.LemonButton,{type:"secondary",onClick:a,loading:p,children:"Cancel"}),Object(e.jsx)(N.LemonButton,{type:"primary",status:"danger",loading:p,onClick:E,children:"Apply changes"})]}),children:Object(e.jsxs)("div",{className:"space-y-2",children:[Object.keys(n).find(k=>k.startsWith("EMAIL"))&&Object(e.jsx)(T.a,{type:"info",children:Object(e.jsxs)(e.Fragment,{children:["As you are changing email settings, we'll attempt to send a ",Object(e.jsx)("b",{children:"test email"})," so you can verify everything works (unless you are turning email off)."]})}),Object.keys(n).includes("RECORDINGS_TTL_WEEKS")&&Object(e.jsx)(T.a,{type:"warning",children:Object(e.jsx)(e.Fragment,{children:"Changing your recordings TTL requires ClickHouse to have enough free space to perform the operation (even when reducing this value). In addition, please mind that removing old recordings will be removed asynchronously, not immediately."})}),Object(e.jsx)("div",{children:"The following changes will be immediately applied to your instance."}),Object.keys(n).map(k=>{var M,R;return Object(e.jsx)(g,{metricKey:k,value:n[k],oldValue:(M=c.find(P=>P.key===k))===null||M===void 0?void 0:M.value,isSecret:(R=c.find(P=>P.key===k))===null||R===void 0?void 0:R.is_secret},k)}),p&&Object(e.jsx)("div",{className:"mt-4 text-success",children:Object(e.jsxs)("b",{children:[Object(I.vb)(d||0,"change")," updated successfully."]})})]})})}try{j.displayName="InstanceConfigSaveModal",j.__docgenInfo={description:"",displayName:"InstanceConfigSaveModal",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/instance/SystemStatus/InstanceConfigSaveModal.tsx#InstanceConfigSaveModal"]={docgenInfo:j.__docgenInfo,name:"InstanceConfigSaveModal",path:"frontend/src/scenes/instance/SystemStatus/InstanceConfigSaveModal.tsx#InstanceConfigSaveModal"})}catch(s){}function O(){const{configOptions:s,preflightLoading:a}=Object(h.useValues)(o.a),{editableInstanceSettings:r,instanceSettingsLoading:n,instanceConfigMode:c,instanceConfigEditingState:d}=Object(h.useValues)(m.b),{loadInstanceSettings:E,setInstanceConfigMode:p,updateInstanceConfigValue:k,clearInstanceConfigEditing:M}=Object(h.useActions)(m.b);Object(ce.useEffect)(()=>{E()},[]),Object(Ee.a)({e:{action:()=>p(m.a.Edit),disabled:c!==m.a.View||n},escape:{action:()=>P(),disabled:c!==m.a.Edit||n},enter:{action:()=>R(),disabled:c!==m.a.Edit||n}});const R=()=>{Object.keys(d).length?p(m.a.Saving):p(m.a.View)},P=()=>{p(m.a.View),M()},ke=[{title:"Key",dataIndex:"key",render:function(Le){return Object(e.jsx)("code",{children:Le})}},{title:"Description",dataIndex:"description"},{title:"Value",render:function(Le,be){var Ne;const Pe={value:be.value,key:be.key,emptyNullLabel:"Unset",value_type:be.value_type,isSecret:be.is_secret};return c===m.a.View?H(Le,Pe):he(Te(ge({},Pe),{value:(Ne=d[be.key])!==null&&Ne!==void 0?Ne:be.value,onValueChanged:k}))}}],Ue=[{key:"metric",title:"Metric",dataIndex:"metric"},{title:"Value",dataIndex:"value"}];return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[Object(e.jsxs)("div",{className:"flex-1",children:[Object(e.jsx)("h3",{children:"Instance configuration"}),Object(e.jsxs)("div",{children:["Changing these settings will take effect on your entire instance."," ",Object(e.jsxs)("a",{href:"https://posthog.com/docs/self-host/configure/instance-settings",target:"_blank",children:["Learn more ",Object(e.jsx)(l.IconOpenInNew,{style:{verticalAlign:"middle"}})]}),"."]})]}),c===m.a.View?Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(N.LemonButton,{type:"primary",onClick:()=>p(m.a.Edit),"data-attr":"instance-config-edit-button",disabled:n,children:"Edit"})}):Object(e.jsxs)(e.Fragment,{children:[Object.keys(d).length>0&&Object(e.jsxs)("span",{className:"text-warning-dark flex items-center gap-2",children:[Object(e.jsx)(l.IconWarning,{className:"text-lg"})," You have"," ",Object(e.jsx)("b",{children:Object.keys(d).length})," unapplied"," ",Object(I.vb)(Object.keys(d).length,"change",void 0,!1)]}),Object(e.jsx)(N.LemonButton,{type:"secondary",disabled:n,onClick:P,children:"Discard changes"}),Object(e.jsx)(N.LemonButton,{type:"primary",disabled:n,onClick:R,children:"Save"})]})]}),Object(e.jsx)(je.a,{dataSource:r,columns:ke,loading:n,rowKey:"key"}),Object(e.jsxs)("div",{className:"my-4",children:[Object(e.jsx)("h3",{children:"Environment configuration"}),Object(e.jsxs)("div",{children:["These settings can only be modified by environment variables."," ",Object(e.jsxs)("a",{href:"https://posthog.com/docs/self-host/configure/environment-variables",target:"_blank",children:["Learn more ",Object(e.jsx)(l.IconOpenInNew,{style:{verticalAlign:"middle"}})]}),"."]})]}),Object(e.jsx)(je.a,{dataSource:s,columns:Ue,loading:a,rowKey:"key"}),Object(e.jsx)(j,{isOpen:c===m.a.Saving,onClose:()=>p(m.a.Edit)})]})}var i=t("./frontend/src/scenes/userLogic.ts"),v=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/modal/index.js"),_=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/divider/index.js"),b=t("./frontend/src/lib/components/ProfilePicture/index.ts"),f=t("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.0/node_modules/kea-router/lib/index.js"),C=t("./frontend/src/lib/api.ts"),z=t("./frontend/src/scenes/urls.ts");const S=Object(h.kea)({path:["scenes","instance","SystemStatus","staffUsersLogic"],connect:{values:[i.a,["user"]],actions:[i.a,["loadUser"]]},actions:{setStaffUsersToBeAdded:s=>({userUuids:s}),addStaffUsers:!0,deleteStaffUser:s=>({userUuid:s})},reducers:{staffUsersToBeAdded:[[],{setStaffUsersToBeAdded:(s,a)=>{let{userUuids:r}=a;return r}}]},loaders:s=>{let{actions:a,values:r}=s;return{allUsers:[[],{loadAllUsers:()=>G(this,null,function*(){var n;return(n=(yield C.b.get("api/users")).results)!==null&&n!==void 0?n:[]}),addStaffUsers:()=>G(this,null,function*(){const{staffUsersToBeAdded:n,allUsers:c}=r;a.setStaffUsersToBeAdded([]);const d=yield Promise.all(n.map(p=>G(this,null,function*(){return yield C.b.update(`api/users/${p}`,{is_staff:!0})}))),E=[...c.filter(p=>{let{uuid:k}=p;return!n.includes(k)}),...d];return E.sort((p,k)=>p.first_name.localeCompare(k.first_name)),E}),deleteStaffUser:n=>G(this,null,function*(){var c;let{userUuid:d}=n;yield C.b.update(`api/users/${d}`,{is_staff:!1}),((c=r.user)===null||c===void 0?void 0:c.uuid)===d&&(a.loadUser(),f.router.actions.push(z.a.projectHomepage()));const E=[...r.allUsers];for(const p of E)p.uuid===d&&(p.is_staff=!1);return E})}]}},selectors:{staffUsers:[s=>[s.allUsers],s=>s.filter(a=>a.is_staff)],nonStaffUsers:[s=>[s.allUsers],s=>s.filter(a=>!a.is_staff)]},events:s=>{let{actions:a}=s;return{afterMount:[a.loadAllUsers]}}});var V=t("./frontend/src/lib/components/LemonButton/index.ts"),Z=t("./frontend/src/lib/components/LemonSelectMultiple/LemonSelectMultiple.tsx"),le=t("./frontend/src/lib/components/UserSelectItem.tsx");function q(){const{user:s}=Object(h.useValues)(i.a),{staffUsers:a,allUsersLoading:r,nonStaffUsers:n,staffUsersToBeAdded:c}=Object(h.useValues)(S),{setStaffUsersToBeAdded:d,addStaffUsers:E,deleteStaffUser:p}=Object(h.useActions)(S),k=[{key:"profile_picture",render:function(R,P){return Object(e.jsx)(b.b,{name:P.first_name,email:P.email})},width:32},{key:"name",title:"Name",dataIndex:"first_name",render:function(R,P){return Object(e.jsxs)(e.Fragment,{children:[P.first_name,P.uuid===(s==null?void 0:s.uuid)&&Object(e.jsx)(A.a,{className:"uppercase ml-1",children:"Me"})]})}},{key:"email",title:"Email",dataIndex:"email"},{key:"actions",width:32,render:function(R,P){return Object(e.jsx)(V.a,{"data-attr":"invite-delete",icon:Object(e.jsx)(l.IconDelete,{}),status:"danger",disabled:a.length<2,title:a.length<2?"You should always have at least one staff user.":"Cancel the invite",onClick:()=>{v.a.confirm({title:`Remove ${(s==null?void 0:s.uuid)===P.uuid?"yourself":P.first_name} as a Staff User?`,icon:null,okText:"Remove user",okType:"primary",okButtonProps:{className:"btn-danger"},content:Object(e.jsx)("div",{style:{border:""},children:(s==null?void 0:s.uuid)===P.uuid?Object(e.jsxs)(e.Fragment,{children:["Please confirm you want to ",Object(e.jsx)("b",{children:"remove yourself"})," as a staff user.",Object(e.jsx)("div",{style:{fontWeight:"normal",color:"var(--muted-alt)"},children:"Only another staff user will be able to add you again."})]}):`Are you sure you want to remove ${P.first_name} as a Staff User?`}),onOk(){p(P.uuid)},cancelText:"Cancel"})}})}}];return Object(e.jsxs)("div",{children:[Object(e.jsx)("h3",{className:"l3",style:{marginTop:16},children:"Staff Users"}),Object(e.jsxs)("div",{className:"mb-4",children:["Users who have permissions to manage instance-wide settings. Staff user permissions are set at the"," ",Object(e.jsx)("b",{children:"instance-level and are independent of any organization or project permissions."})," ",Object(e.jsxs)("a",{href:"https://posthog.com/docs/self-host/configure/instance-settings#staff-users",target:"_blank",children:["Learn more ",Object(e.jsx)(l.IconOpenInNew,{style:{verticalAlign:"middle"}})]}),"."]}),Object(e.jsx)(_.a,{style:{margin:0,marginBottom:16}}),Object(e.jsx)("section",{children:Object(e.jsxs)("div",{className:"flex gap-2 mb-4",children:[Object(e.jsx)("div",{style:{flex:1},children:Object(e.jsx)(Z.a,{placeholder:"Add staff users here\u2026",loading:r,value:c,onChange:M=>d(M),filterOption:!0,mode:"multiple","data-attr":"subscribed-emails",options:Object(le.a)(n,"uuid")})}),Object(e.jsx)(V.a,{type:"primary",loading:r,disabled:c.length===0,onClick:E,children:"Add"})]})}),Object(e.jsx)(je.a,{dataSource:a,columns:k,loading:r,rowKey:"uuid"})]})}var ie=t("./frontend/src/lib/logic/featureFlagLogic.ts"),ue=t("./frontend/src/lib/constants.tsx"),J=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/row/index.js"),B=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/col/index.js"),$=t("./frontend/src/lib/components/CodeSnippet/index.tsx"),w=t("./node_modules/.pnpm/kea-forms@3.0.3_kea@3.1.0/node_modules/kea-forms/lib/index.js"),Q=t("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.0/node_modules/kea-loaders/lib/index.js");const D=Object(h.kea)([Object(h.path)(["scenes","instance","SystemStatus","kafkaInspectorLogic"]),Object(h.actions)({fetchKafkaMessage:(s,a,r)=>({topic:s,partition:a,offset:r})}),Object(Q.loaders)({kafkaMessage:[null,{fetchKafkaMessage:s=>G(this,null,function*(){let{topic:a,partition:r,offset:n}=s;return yield C.b.create("api/kafka_inspector/fetch_message",{topic:a,partition:r,offset:n})})}]}),Object(w.forms)(s=>{let{actions:a}=s;return{fetchKafkaMessage:{defaults:{topic:"clickhouse_events_json",partition:0,offset:0},submit:r=>{let{topic:n,partition:c,offset:d}=r;a.fetchKafkaMessage(n,Number(c),Number(d))}}}})]);var Y=t("./frontend/src/lib/components/LemonInput/LemonInput.tsx");function se(){const{kafkaMessage:s}=Object(h.useValues)(D);return Object(e.jsxs)("div",{children:[Object(e.jsx)("h3",{className:"l3",style:{marginTop:16},children:"Kafka Inspector"}),Object(e.jsx)("div",{className:"mb-4",children:"Debug Kafka messages using the inspector tool."}),Object(e.jsx)(_.a,{style:{margin:0,marginBottom:16}}),Object(e.jsx)("section",{children:Object(e.jsx)("div",{style:{display:"flex",marginBottom:"0.75rem"},children:Object(e.jsx)(w.Form,{logic:D,formKey:"fetchKafkaMessage",className:"ant-form-horizontal ant-form-hide-required-mark",enableFormOnSubmit:!0,children:Object(e.jsxs)(J.a,{gutter:[24,24],children:[Object(e.jsx)(B.a,{span:8,children:Object(e.jsx)(w.Field,{name:"topic",children:Object(e.jsx)(Y.a,{placeholder:"Topic"})})}),Object(e.jsxs)(B.a,{span:4,children:[Object(e.jsx)(w.Field,{name:"partition",children:Object(e.jsx)(Y.a,{placeholder:"Partition",type:"number"})})," "]}),Object(e.jsxs)(B.a,{span:4,children:[Object(e.jsx)(w.Field,{name:"offset",children:Object(e.jsx)(Y.a,{placeholder:"Offset",type:"number"})})," "]}),Object(e.jsx)(B.a,{span:6,children:Object(e.jsxs)(de.a,{htmlType:"submit",type:"primary","data-attr":"fetch-kafka-message-submit-button",children:["Fetch message"," "]})})]})})})}),Object(e.jsx)($.a,{language:$.b.JSON,children:s?JSON.stringify(s,null,4):`
`})]})}const me={component:ae,logic:m.b};function ae(){const{tab:s,error:a}=Object(h.useValues)(m.b),{setTab:r}=Object(h.useActions)(m.b),{preflight:n,siteUrlMisconfigured:c}=Object(h.useValues)(o.a),{user:d}=Object(h.useValues)(i.a),{featureFlags:E}=Object(h.useValues)(ie.a);return Object(e.jsxs)("div",{className:"system-status-scene",children:[Object(e.jsx)(re.a,{title:"Instance status & settings",caption:Object(e.jsxs)(e.Fragment,{children:["Here you can find all the critical runtime details and settings of your PostHog instance. You have access to this because you're a ",Object(e.jsx)("b",{children:"staff user"}),"."," ",Object(e.jsxs)("a",{target:"_blank",style:{display:"inline-flex",alignItems:"center"},href:"https://posthog.com/docs/self-host/configure/instance-settings?utm_medium=in-product&utm_campaign=instance_status",children:["Learn more ",Object(e.jsx)(l.IconOpenInNew,{style:{marginLeft:4}})]}),"."]})}),a&&Object(e.jsx)(oe.a,{message:"Something went wrong",description:a||Object(e.jsx)("span",{children:"An unknown error occurred. Please try again or contact us."}),type:"error",showIcon:!0}),c&&Object(e.jsx)(oe.a,{message:"Misconfiguration detected",description:Object(e.jsxs)(e.Fragment,{children:["Your ",Object(e.jsx)("code",{children:"SITE_URL"})," environment variable seems misconfigured. Your"," ",Object(e.jsx)("code",{children:"SITE_URL"})," is set to"," ",Object(e.jsx)("b",{children:Object(e.jsx)("code",{children:n==null?void 0:n.site_url})})," ","but you're currently browsing this page from"," ",Object(e.jsx)("b",{children:Object(e.jsx)("code",{children:window.location.origin})}),". In order for PostHog to work properly, please set this to the origin where your instance is hosted."," ",Object(e.jsxs)("a",{target:"_blank",rel:"noopener",href:"https://posthog.com/docs/configuring-posthog/environment-variables?utm_medium=in-product&utm_campaign=system-status-site-url-misconfig",children:["Learn more ",Object(e.jsx)(l.IconOpenInNew,{})]})]}),showIcon:!0,type:"warning",style:{marginBottom:32}}),Object(e.jsxs)(X.a,{tabPosition:"top",animated:!1,activeKey:s,onTabClick:p=>r(p),children:[Object(e.jsx)(X.a.TabPane,{tab:"System overview",children:Object(e.jsx)(we,{})},"overview"),(d==null?void 0:d.is_staff)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(X.a.TabPane,{tab:"Internal metrics",children:Object(e.jsx)(Ae,{})},"metrics"),Object(e.jsx)(X.a.TabPane,{tab:Object(e.jsxs)(e.Fragment,{children:["Settings"," ",Object(e.jsx)(A.a,{type:"warning",className:"uppercase",children:"Beta"})]}),children:Object(e.jsx)(O,{})},"settings")]}),(d==null?void 0:d.is_staff)&&Object(e.jsx)(X.a.TabPane,{tab:Object(e.jsx)(e.Fragment,{children:"Staff Users"}),children:Object(e.jsx)(q,{})},"staff_users"),(d==null?void 0:d.is_staff)&&E[ue.i.KAFKA_INSPECTOR]&&Object(e.jsx)(X.a.TabPane,{tab:Object(e.jsxs)(e.Fragment,{children:["Kafka Inspector"," ",Object(e.jsx)(A.a,{type:"warning",className:"uppercase",children:"Beta"})]}),children:Object(e.jsx)(se,{})},"kafka_inspector")]})]})}},"./frontend/src/scenes/instance/SystemStatus/systemStatusLogic.ts":function(K,x,t){"use strict";t.d(x,"a",function(){return m}),t.d(x,"b",function(){return re});var U=t("./frontend/src/lib/api.ts"),L=t("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),y=t("./frontend/src/scenes/userLogic.ts"),ee=t("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),W=t("./frontend/src/scenes/organizationLogic.tsx"),F=t("./frontend/src/lib/constants.tsx"),te=t("./frontend/src/lib/utils.tsx"),oe=t("./frontend/src/lib/components/lemonToast.tsx"),X=t("./frontend/src/lib/utils/eventUsageLogic.ts");let m;(function(o){o.View="view",o.Edit="edit",o.Saving="saving"})(m||(m={}));const h=["RECORDINGS_TTL_WEEKS","EMAIL_ENABLED","EMAIL_HOST","EMAIL_PORT","EMAIL_HOST_USER","EMAIL_HOST_PASSWORD","EMAIL_USE_TLS","EMAIL_USE_SSL","EMAIL_DEFAULT_FROM","EMAIL_REPLY_TO","AGGREGATE_BY_DISTINCT_IDS_TEAMS","PERSON_ON_EVENTS_ENABLED","GROUPS_ON_EVENTS_ENABLED","STRICT_CACHING_TEAMS","SLACK_APP_CLIENT_ID","SLACK_APP_CLIENT_SECRET","SLACK_APP_SIGNING_SECRET","PARALLEL_DASHBOARD_ITEM_CACHE","SENTRY_AUTH_TOKEN","SENTRY_ORGANIZATION"],re=Object(L.kea)({path:["scenes","instance","SystemStatus","systemStatusLogic"],actions:{setTab:o=>({tab:o}),setOpenSections:o=>({sections:o}),setAnalyzeModalOpen:o=>({isOpen:o}),setAnalyzeQuery:o=>({query:o}),openAnalyzeModalWithQuery:o=>({query:o}),setInstanceConfigMode:o=>({mode:o}),updateInstanceConfigValue:(o,l)=>({key:o,value:l}),clearInstanceConfigEditing:!0,saveInstanceConfig:!0,setUpdatedInstanceConfigCount:o=>({count:o}),increaseUpdatedInstanceConfigCount:!0},loaders:o=>{let{values:l}=o;return{systemStatus:[null,{loadSystemStatus:()=>G(this,null,function*(){var u,A,I;return!Object(te.mb)()||(u=ee.a.values.preflight)!==null&&u!==void 0&&u.cloud&&!((A=y.a.values.user)!==null&&A!==void 0&&A.is_staff)?null:(I=(yield U.b.get("api/instance_status")).results)!==null&&I!==void 0?I:null})}],instanceSettings:[[],{loadInstanceSettings:()=>G(this,null,function*(){var u;return(u=(yield U.b.get("api/instance_settings")).results)!==null&&u!==void 0?u:[]})}],queries:[null,{loadQueries:()=>G(this,null,function*(){return(yield U.b.get("api/instance_status/queries")).results})}],analyzeQueryResult:[null,{setAnalyzeModalOpen:()=>null,runAnalyzeQuery:()=>G(this,null,function*(){return(yield U.b.create("api/instance_status/analyze_ch_query",{query:l.analyzeQuery})).results})}]}},reducers:{tab:["overview",{setTab:(o,l)=>{let{tab:u}=l;return u}}],error:[null,{loadSystemStatusFailure:(o,l)=>{let{error:u}=l;return u}}],openSections:[["0"],{persist:!0},{setOpenSections:(o,l)=>{let{sections:u}=l;return u}}],analyzeModalOpen:[!1,{setAnalyzeModalOpen:(o,l)=>{let{isOpen:u}=l;return u},openAnalyzeModalWithQuery:()=>!0}],analyzeQuery:["",{setAnalyzeQuery:(o,l)=>{let{query:u}=l;return u},openAnalyzeModalWithQuery:(o,l)=>{let{query:u}=l;return u}}],instanceConfigMode:[m.View,{setInstanceConfigMode:(o,l)=>{let{mode:u}=l;return u}}],instanceConfigEditingState:[{},{updateInstanceConfigValue:(o,l)=>{let{key:u,value:A}=l;if(A!==void 0)return Te(ge({},o),{[u]:A});const I=ge({},o);return delete I[u],I},clearInstanceConfigEditing:()=>({})}],updatedInstanceConfigCount:[null,{setUpdatedInstanceConfigCount:(o,l)=>{let{count:u}=l;return u},loadInstanceSettings:()=>null,increaseUpdatedInstanceConfigCount:o=>(o!=null?o:0)+1}]},selectors:()=>({overview:[o=>[o.systemStatus],o=>o?o.overview:[]],showAnalyzeQueryButton:[()=>[ee.a.selectors.preflight,W.a.selectors.currentOrganization,y.a.selectors.user],(o,l,u)=>o!=null&&o.cloud?!!(u!=null&&u.is_staff):!!(l!=null&&l.membership_level)&&l.membership_level>=F.p.Admin],editableInstanceSettings:[o=>[o.instanceSettings],o=>o.filter(l=>l.editable&&h.includes(l.key))]}),listeners:o=>{let{actions:l,values:u}=o;return{setTab:A=>{let{tab:I}=A;I==="metrics"&&l.loadQueries(),l.setInstanceConfigMode(m.View)},updateInstanceConfigValue:A=>{var I;let{key:e,value:ne}=A;const H=(I=u.editableInstanceSettings.find(N=>N.key===e))===null||I===void 0?void 0:I.value;ne&&H==ne&&l.updateInstanceConfigValue(e,void 0)},saveInstanceConfig:(A,I)=>G(this,null,function*(){l.setUpdatedInstanceConfigCount(0),Object.entries(u.instanceConfigEditingState).map(e=>G(this,null,function*(){let[ne,H]=e;try{yield U.b.update(`api/instance_settings/${ne}`,{value:H}),X.e.actions.reportInstanceSettingChange(ne,H),l.increaseUpdatedInstanceConfigCount()}catch(N){oe.d.error("There was an error updating instance settings \u2013 please try again"),yield I(1e3),l.loadInstanceSettings()}})),yield I(1e3),u.updatedInstanceConfigCount===Object.keys(u.instanceConfigEditingState).length&&(l.loadInstanceSettings(),l.clearInstanceConfigEditing(),l.setInstanceConfigMode(m.View),oe.d.success("Instance settings updated"))})}},events:o=>{let{actions:l}=o;return{afterMount:()=>{l.loadSystemStatus()}}},actionToUrl:o=>{let{values:l}=o;return{setTab:()=>"/instance/"+(l.tab==="overview"?"status":l.tab)}},urlToAction:o=>{let{actions:l,values:u}=o;return{"/instance(/:tab)":A=>{let{tab:I}=A;const e=I&&["metrics","settings","staff_users","kafka_inspector"].includes(I)?I:"overview";e!==u.tab&&l.setTab(e)}}}})},"./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/collapse/index.js":function(K,x,t){"use strict";var U=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/extends.js"),L=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),y=t("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),ee=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),W=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),F=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/createClass.js"),te=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/inherits.js"),oe=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/createSuper.js"),X=t("./node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),m=t.n(X),h=t("./node_modules/.pnpm/shallowequal@1.1.0/node_modules/shallowequal/index.js"),re=t.n(h),o=t("./node_modules/.pnpm/rc-util@5.24.4_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-util/es/Children/toArray.js"),l=t("./node_modules/.pnpm/rc-motion@2.6.2_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-motion/es/index.js"),u=t("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),A=y.forwardRef(function(T,g){var j,O=T.prefixCls,i=T.forceRender,v=T.className,_=T.style,b=T.children,f=T.isActive,C=T.role,z=y.useState(f||i),S=Object(u.a)(z,2),V=S[0],Z=S[1];return y.useEffect(function(){(i||f)&&Z(!0)},[i,f]),V?y.createElement("div",{ref:g,className:m()("".concat(O,"-content"),(j={},Object(L.a)(j,"".concat(O,"-content-active"),f),Object(L.a)(j,"".concat(O,"-content-inactive"),!f),j),v),style:_,role:C},y.createElement("div",{className:"".concat(O,"-content-box")},b)):null});A.displayName="PanelContent";var I=A,e=function(T){Object(te.a)(j,T);var g=Object(oe.a)(j);function j(){var O;return Object(W.a)(this,j),O=g.apply(this,arguments),O.handleItemClick=function(){var i=O.props,v=i.onItemClick,_=i.panelKey;typeof v=="function"&&v(_)},O.handleKeyPress=function(i){(i.key==="Enter"||i.keyCode===13||i.which===13)&&O.handleItemClick()},O}return Object(F.a)(j,[{key:"shouldComponentUpdate",value:function(i){return!re()(this.props,i)}},{key:"render",value:function(){var i,v,_=this,b=this.props,f=b.className,C=b.id,z=b.style,S=b.prefixCls,V=b.header,Z=b.headerClass,le=b.children,q=b.isActive,ie=b.showArrow,ue=b.destroyInactivePanel,J=b.accordion,B=b.forceRender,$=b.openMotion,w=b.expandIcon,Q=b.extra,D=b.collapsible,Y=D==="disabled",se=m()("".concat(S,"-header"),(i={},Object(L.a)(i,Z,Z),Object(L.a)(i,"".concat(S,"-header-collapsible-only"),D==="header"),i)),me=m()((v={},Object(L.a)(v,"".concat(S,"-item"),!0),Object(L.a)(v,"".concat(S,"-item-active"),q),Object(L.a)(v,"".concat(S,"-item-disabled"),Y),v),f),ae=y.createElement("i",{className:"arrow"});return ie&&typeof w=="function"&&(ae=w(this.props)),y.createElement("div",{className:me,style:z,id:C},y.createElement("div",{className:se,onClick:function(){return D!=="header"&&_.handleItemClick()},role:J?"tab":"button",tabIndex:Y?-1:0,"aria-expanded":q,onKeyPress:this.handleKeyPress},ie&&ae,D==="header"?y.createElement("span",{onClick:this.handleItemClick,className:"".concat(S,"-header-text")},V):V,Q&&y.createElement("div",{className:"".concat(S,"-extra")},Q)),y.createElement(l.default,Object.assign({visible:q,leavedClassName:"".concat(S,"-content-hidden")},$,{forceRender:B,removeOnLeave:ue}),function(s,a){var r=s.className,n=s.style;return y.createElement(I,{ref:a,prefixCls:S,className:r,style:n,isActive:q,forceRender:B,role:J?"tabpanel":null},le)}))}}]),j}(y.Component);e.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var ne=e;function H(T){var g=T;return Array.isArray(g)||(g=g?[g]:[]),g.map(function(j){return String(j)})}var N=function(T){Object(te.a)(j,T);var g=Object(oe.a)(j);function j(O){var i;Object(W.a)(this,j),i=g.call(this,O),i.onClickItem=function(f){var C=i.state.activeKey;if(i.props.accordion)C=C[0]===f?[]:[f];else{C=Object(ee.a)(C);var z=C.indexOf(f),S=z>-1;S?C.splice(z,1):C.push(f)}i.setActiveKey(C)},i.getNewChild=function(f,C){if(!f)return null;var z=i.state.activeKey,S=i.props,V=S.prefixCls,Z=S.openMotion,le=S.accordion,q=S.destroyInactivePanel,ie=S.expandIcon,ue=S.collapsible,J=f.key||String(C),B=f.props,$=B.header,w=B.headerClass,Q=B.destroyInactivePanel,D=B.collapsible,Y=!1;le?Y=z[0]===J:Y=z.indexOf(J)>-1;var se=D!=null?D:ue,me={key:J,panelKey:J,header:$,headerClass:w,isActive:Y,prefixCls:V,destroyInactivePanel:Q!=null?Q:q,openMotion:Z,accordion:le,children:f.props.children,onItemClick:se==="disabled"?null:i.onClickItem,expandIcon:ie,collapsible:se};return typeof f.type=="string"?f:y.cloneElement(f,me)},i.getItems=function(){var f=i.props.children;return Object(o.a)(f).map(i.getNewChild)},i.setActiveKey=function(f){"activeKey"in i.props||i.setState({activeKey:f}),i.props.onChange(i.props.accordion?f[0]:f)};var v=O.activeKey,_=O.defaultActiveKey,b=_;return"activeKey"in O&&(b=v),i.state={activeKey:H(b)},i}return Object(F.a)(j,[{key:"shouldComponentUpdate",value:function(i,v){return!re()(this.props,i)||!re()(this.state,v)}},{key:"render",value:function(){var i,v=this.props,_=v.prefixCls,b=v.className,f=v.style,C=v.accordion,z=m()((i={},Object(L.a)(i,_,!0),Object(L.a)(i,b,!!b),i));return y.createElement("div",{className:z,style:f,role:C?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(i){var v={};return"activeKey"in i&&(v.activeKey=H(i.activeKey)),v}}]),j}(y.Component);N.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},N.Panel=ne;var ve=N,Oe=ve,we=ve.Panel,xe=t("./node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),ce=t.n(xe),fe=t("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/RightOutlined.js"),Ce=t("./node_modules/.pnpm/rc-util@5.24.4_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-util/es/omit.js"),de=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/config-provider/context.js"),Se=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/_util/devWarning.js"),ye=function(g){Object(Se.a)(!("disabled"in g),"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');var j=y.useContext(de.b),O=j.getPrefixCls,i=g.prefixCls,v=g.className,_=v===void 0?"":v,b=g.showArrow,f=b===void 0?!0:b,C=O("collapse",i),z=ce()(Object(L.a)({},"".concat(C,"-no-arrow"),!f),_);return y.createElement(Oe.Panel,Object(U.a)({},g,{prefixCls:C,className:z}))},Ie=ye,Ae=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/_util/motion.js"),pe=t("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/_util/reactNode.js"),je=function(g){var j,O=y.useContext(de.b),i=O.getPrefixCls,v=O.direction,_=g.prefixCls,b=g.className,f=b===void 0?"":b,C=g.bordered,z=C===void 0?!0:C,S=g.ghost,V=i("collapse",_),Z=function(){var $=g.expandIconPosition;return $!==void 0?$:v==="rtl"?"right":"left"},le=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=g.expandIcon,Q=w?w($):y.createElement(fe.a,{rotate:$.isActive?90:void 0});return y.createElement("div",null,Object(pe.a)(Q,function(){return{className:ce()(Q.props.className,"".concat(V,"-arrow"))}}))},q=Z(),ie=ce()((j={},Object(L.a)(j,"".concat(V,"-borderless"),!z),Object(L.a)(j,"".concat(V,"-icon-position-").concat(q),!0),Object(L.a)(j,"".concat(V,"-rtl"),v==="rtl"),Object(L.a)(j,"".concat(V,"-ghost"),!!S),j),f),ue=Object(U.a)(Object(U.a)({},Ae.a),{motionAppear:!1,leavedClassName:"".concat(V,"-content-hidden")}),J=function(){var $=g.children;return Object(o.a)($).map(function(w,Q){var D;if(!((D=w.props)===null||D===void 0)&&D.disabled){var Y=w.key||String(Q),se=w.props,me=se.disabled,ae=se.collapsible,s=Object(U.a)(Object(U.a)({},Object(Ce.a)(w.props,["disabled"])),{key:Y,collapsible:ae!=null?ae:me?"disabled":void 0});return Object(pe.a)(w,s)}return w})};return y.createElement(Oe,Object(U.a)({openMotion:ue},g,{expandIcon:le,prefixCls:V,className:ie}),J())};je.Panel=Ie;var Ee=je,he=x.a=Ee},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/instance/SystemStatus/index.scss":function(K,x,t){var U=t("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");x=U(!1),x.push([K.i,".system-status-scene{margin-bottom:64px}@media(min-width:750px){.system-status-scene .metric-column{width:33%}}.embedded-svg-wrapper{cursor:text}.embedded-svg-wrapper svg{width:100%;height:100%}",""]),K.exports=x}}]);
