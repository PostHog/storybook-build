(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{"./frontend/src/scenes/project-homepage/ProjectHomepage.tsx":function(m,t,e){"use strict";e.r(t),e.d(t,"ProjectHomepage",function(){return H}),e.d(t,"scene",function(){return k});var v=e("./node_modules/core-js/modules/es.function.name.js"),q=e("./node_modules/core-js/modules/es.object.to-string.js"),_=e("./node_modules/core-js/modules/es.regexp.to-string.js"),O=e("./node_modules/react/index.js"),a=e.n(O),w=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),E=e.n(w),A=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),M=e.n(A),g={};g.insert="head",g.singleton=!1;var ee=E()(M.a,g),ae=M.a.locals||{},R=e("./frontend/src/lib/components/PageHeader.tsx"),V=e("./frontend/src/scenes/dashboard/Dashboard.tsx"),n=e("./node_modules/kea/lib/index.esm.js"),j=e("./frontend/src/scenes/teamLogic.ts"),N=e("./frontend/src/types.ts"),b=e("./node_modules/antd/es/button/index.js"),B=e("./node_modules/antd/es/row/index.js"),C=e("./node_modules/antd/es/typography/index.js"),G=e("./frontend/src/scenes/organization/Settings/inviteLogic.ts"),W=e("./node_modules/kea-router/lib/index.js"),F=e("./frontend/src/scenes/urls.ts"),I=e("./frontend/src/lib/components/LemonRow/index.ts"),J=e("./frontend/src/scenes/dashboard/dashboardLogic.ts"),se=e("./node_modules/core-js/modules/es.symbol.js"),oe=e("./node_modules/core-js/modules/es.symbol.description.js"),re=e("./node_modules/core-js/modules/es.array.map.js"),$=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/PrimaryDashboardModal.scss"),L=e.n($),P={};P.insert="head",P.singleton=!1;var te=E()(L.a,P),de=L.a.locals||{},z=e("./frontend/src/models/dashboardsModel.tsx"),K=e("./frontend/src/lib/components/LemonModal/LemonModal.tsx"),S=e("./frontend/src/lib/components/LemonButton/index.ts"),Q=e("./node_modules/antd/es/skeleton/index.js"),U=e("./node_modules/@babel/runtime/regenerator/index.js"),T=e.n(U),ne=e("./node_modules/regenerator-runtime/runtime.js"),X=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Y=e.n(X),x=Object(n.kea)({path:["scenes","project-homepage","primaryDashboardModalLogic"],connect:{actions:[j.a,["updateCurrentTeam"]],values:[j.a,["currentTeam"]]},actions:{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!0},setPrimaryDashboard:function(l){return{dashboardId:l}}},selectors:{primaryDashboardId:[function(s){return[s.currentTeam]},function(s){return s==null?void 0:s.primary_dashboard}]},reducers:{visible:[!1,{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!1}}]},listeners:function(l){var o=l.actions;return{setPrimaryDashboard:function(){var c=Y()(T.a.mark(function d(h){var u;return T.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:u=h.dashboardId,o.updateCurrentTeam({primary_dashboard:u});case 2:case"end":return r.stop()}},d)}));function i(d){return c.apply(this,arguments)}return i}()}}}),D=e("./frontend/src/lib/components/icons.tsx");function Z(){var s=Object(n.useValues)(x),l=s.visible,o=s.primaryDashboardId,c=Object(n.useActions)(x),i=c.closePrimaryDashboardModal,d=c.setPrimaryDashboard,h=Object(n.useValues)(z.a),u=h.nameSortedDashboards,y=h.dashboardsLoading;return a.a.createElement(K.a,{className:"primary-dashboard-modal",visible:l,onCancel:function(){i()},title:"Select a default dashboard for the project",destroyOnClose:!0,bodyStyle:{padding:0},footer:a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,{type:"secondary","data-attr":"close-primary-dashboard-modal",style:{marginRight:"0.5rem"},onClick:i},"Close"))},y?a.a.createElement("div",{className:"loading-skeleton-container"},a.a.createElement(Q.a,{active:!0})):a.a.createElement("div",{className:"dashboard-list"},u.map(function(r){var f=r.id===o,p=[a.a.createElement("div",{key:1,className:"dashboard-label-container"},a.a.createElement("strong",null,r.name),a.a.createElement(C.a.Paragraph,{ellipsis:{rows:1},className:"text-small dashboard-description"},r.description)),a.a.createElement("div",{key:2},f?a.a.createElement("div",{className:"default-indicator"},a.a.createElement(D.HomeIcon,{className:"mr-05",style:{width:18}}),a.a.createElement("span",null,"Default")):a.a.createElement("strong",{className:"set-default-text"},"Set as default"))];return f?a.a.createElement(I.a,{key:r.id,fullWidth:!0,status:"muted",className:"dashboard-row"},p):a.a.createElement(S.a,{key:r.id,fullWidth:!0,className:"dashboard-row",onClick:function(){d(r.id),i()}},p)})))}function H(){var s,l=Object(n.useValues)(j.a),o=l.currentTeam,c=Object(J.c)({id:(s=o==null?void 0:o.primary_dashboard)!==null&&s!==void 0?s:void 0}),i=Object(n.useValues)(c),d=i.dashboard,h=Object(n.useActions)(G.a),u=h.showInviteModal,y=Object(n.useActions)(x),r=y.showPrimaryDashboardModal,f=a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(b.a,{"data-attr":"project-home-invite-team-members",onClick:function(){u()},className:"mr-05"},"Invite members"),a.a.createElement(b.a,{"data-attr":"project-home-new-insight",onClick:function(){W.router.actions.push(F.a.insightNew({insight:N.s.TRENDS}))}},"New insight"));return a.a.createElement("div",{className:"project-homepage"},a.a.createElement(R.a,{title:(o==null?void 0:o.name)||"",delimited:!0,buttons:f}),o!=null&&o.primary_dashboard?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(B.a,{className:"homepage-dashboard-header"},a.a.createElement("div",{className:"dashboard-title-container"},(d==null?void 0:d.name)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(D.HomeIcon,{className:"mr-05",style:{width:18,height:18}}),a.a.createElement(C.a.Title,{className:"dashboard-name",level:4},d==null?void 0:d.name))),a.a.createElement(b.a,{"data-attr":"project-home-new-insight",onClick:r},"Change dashboard")),a.a.createElement(I.b,{large:!0})),a.a.createElement(V.Dashboard,{id:o.primary_dashboard.toString(),placement:N.f.ProjectHomepage})):a.a.createElement("div",{className:"empty-state-container"},a.a.createElement(D.HomeIcon,{className:"mb"}),a.a.createElement("h1",null,"There isn\u2019t a default dashboard set for this project"),a.a.createElement("p",{className:"mb"},"Default dashboards are shown to everyone in the project. When you set a default, it\u2019ll show up here."),a.a.createElement(b.a,{type:"primary","data-attr":"project-home-new-insight",onClick:function(){r()}},"Select a default dashboard")),a.a.createElement(Z,null))}var k={component:H}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/PrimaryDashboardModal.scss":function(m,t,e){var v=e("./node_modules/css-loader/dist/runtime/api.js");t=v(!1),t.push([m.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.primary-dashboard-modal .loading-skeleton-container{padding:1rem}.primary-dashboard-modal .dashboard-list{max-height:350px;overflow-y:scroll;padding:.5rem 1rem .25rem}.primary-dashboard-modal .dashboard-list .dashboard-row{display:flex;flex:1;height:60px;padding:.5rem;margin-bottom:.25rem}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-label-container{color:#2d2d2d;flex:1}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-description{margin-bottom:0;max-width:300px;color:rgba(0,0,0,.5)}.primary-dashboard-modal .dashboard-list .dashboard-row .set-default-text{color:#5375ff}.primary-dashboard-modal .dashboard-list .dashboard-row .default-indicator{color:#2d2d2d;display:flex;align-items:center}",""]),m.exports=t},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(m,t,e){var v=e("./node_modules/css-loader/dist/runtime/api.js");t=v(!1),t.push([m.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.project-homepage .homepage-dashboard-header{justify-content:space-between;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container{display:flex;flex-direction:row;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container .dashboard-name{margin:0}.project-homepage .empty-state-container{background-color:#fafaf9;width:100%;justify-content:center;align-items:center;padding:4rem;display:flex;flex-direction:column}",""]),m.exports=t}}]);
