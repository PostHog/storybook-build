"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[84338],{"../../products/messaging/frontend/MessagingScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MessagingScene:()=>MessagingScene,messagingSceneLogic:()=>messagingSceneLogic,scene:()=>scene});var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.26.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.3.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),PageHeader=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),useFeatureFlag=__webpack_require__("../../frontend/src/lib/hooks/useFeatureFlag.ts"),LemonTabs=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),More=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/More.tsx"),LemonTable=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),LemonTableLink=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),kea_loaders_lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("../../frontend/src/lib/api.ts");let campaignsLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","campaignsLogic"]),(0,index_esm.actions)({deleteCampaign:campaign=>({campaign}),loadCampaigns:()=>({})}),(0,kea_loaders_lib.loaders)(_ref=>{let{values}=_ref;return{campaigns:[[],{loadCampaigns:async()=>(await api.ZP.hogFlows.getHogFlows()).results,deleteCampaign:async _ref2=>{let{campaign}=_ref2;return await api.ZP.hogFlows.deleteHogFlow(campaign.id),values.campaigns.filter(c=>c.id!==campaign.id)}}]}}),(0,index_esm.afterMount)(_ref3=>{let{actions}=_ref3;actions.loadCampaigns()})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function CampaignsTable(){(0,index_esm.useMountedLogic)(campaignsLogic);let{campaigns,campaignsLoading}=(0,index_esm.useValues)(campaignsLogic),{deleteCampaign}=(0,index_esm.useActions)(campaignsLogic),columns=[{title:"Name",render:(_,item)=>(0,jsx_runtime.jsx)(LemonTableLink.i,{to:urls.j.messagingCampaign(item.id),title:item.name,description:item.status})},{title:"Status",render:(_,item)=>(0,jsx_runtime.jsx)(src.oe,{type:"active"===item.status?"success":"default",children:(0,utils.fm)(item.status)})},{width:0,render:function Render(_,campaign){return(0,jsx_runtime.jsx)(More.T,{overlay:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"campaign-delete",fullWidth:!0,status:"danger",onClick:()=>deleteCampaign(campaign),children:"Delete"})})})}}];return(0,jsx_runtime.jsx)("div",{className:"campaigns-section",children:(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:campaigns,loading:campaignsLoading,columns:columns})})}var LemonMenu=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonMenu/index.ts"),ProductIntroduction=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),ChannelSetupModal=__webpack_require__("../../products/messaging/frontend/Channels/ChannelSetupModal.tsx"),icons=__webpack_require__("../../frontend/src/lib/lemon-ui/icons/icons.tsx"),OtherIntegrations=__webpack_require__("../../frontend/src/scenes/settings/environment/OtherIntegrations.tsx"),integrationsLogic=__webpack_require__("../../frontend/src/lib/integrations/integrationsLogic.ts");let MESSAGING_CHANNEL_TYPES=["email","slack","twilio"];function MessageChannels(){var _integrations$filter;let{setupModalOpen,integrations,integrationsLoading,setupModalType,selectedIntegration}=(0,index_esm.useValues)(integrationsLogic.a),{openSetupModal,closeSetupModal}=(0,index_esm.useActions)(integrationsLogic.a),allMessagingIntegrations=null!==(_integrations$filter=integrations?.filter(integration=>MESSAGING_CHANNEL_TYPES.includes(integration.kind)))&&void 0!==_integrations$filter?_integrations$filter:[],showProductIntroduction=!integrationsLoading&&!allMessagingIntegrations.length,menuItems=[{label:(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconLetter,{})," Email"]}),onClick:()=>openSetupModal(void 0,"email")},{label:(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)(icons.IconSlack,{})," Slack"]}),disableClientSideRouting:!0,to:api.ZP.integrations.authorizeUrl({kind:"slack",next:urls.j.messaging("channels")})},{label:(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)(icons.IconTwilio,{})," Twilio"]}),onClick:()=>openSetupModal(void 0,"twilio")}];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:(0,jsx_runtime.jsx)("div",{className:"flex items-center m-2 shrink-0",children:(0,jsx_runtime.jsx)(LemonMenu.d,{items:menuItems,children:(0,jsx_runtime.jsx)(src.Jp,{"data-attr":"new-channel-button",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),size:"small",type:"primary",children:"New channel"})})})}),(0,jsx_runtime.jsx)(ChannelSetupModal.A,{isOpen:setupModalOpen,channelType:setupModalType,integration:selectedIntegration||void 0,onComplete:()=>closeSetupModal()}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-4",children:[integrationsLoading&&!integrations?.length&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.yW,{className:"h-20"}),(0,jsx_runtime.jsx)(src.yW,{className:"h-20"}),(0,jsx_runtime.jsx)(src.yW,{className:"h-20"})]}),showProductIntroduction&&(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Messaging channel",thingName:"channel integration",description:"Configure channels to send messages from.",docsURL:"https://posthog.com/docs/messaging",action:()=>openSetupModal(void 0,"email"),isEmpty:!0}),allMessagingIntegrations.length>0&&(0,jsx_runtime.jsx)(OtherIntegrations.h,{titleText:"",integrationKinds:[...MESSAGING_CHANNEL_TYPES]})]})]})}var columnUtils=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),LemonToast=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/index.ts"),deleteWithUndo=__webpack_require__("../../frontend/src/lib/utils/deleteWithUndo.tsx");let messageTemplatesLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","library","messageTemplatesLogic"]),(0,kea_loaders_lib.loaders)(_ref=>{let{values,actions}=_ref;return{templates:[[],{loadTemplates:async()=>(await api.ZP.messaging.getTemplates()).results,deleteTemplate:async template=>(await (0,deleteWithUndo.S)({endpoint:"environments/@current/messaging/templates",object:{id:template.id,name:template.name},callback:undo=>{undo&&actions.loadTemplates()}}),values.templates.filter(t=>t.id!==template.id)),createTemplate:async _ref2=>{let{template}=_ref2;try{let newTemplate=await api.ZP.messaging.createTemplate(template);return LemonToast.U.success("Template created successfully"),[...values.templates,newTemplate]}catch{return LemonToast.U.error("Failed to create template"),values.templates}},updateTemplate:async _ref3=>{let{templateId,template}=_ref3;try{let updatedTemplate=await api.ZP.messaging.updateTemplate(templateId,template);return LemonToast.U.success("Template updated successfully"),values.templates.map(t=>t.id===templateId?updatedTemplate:t)}catch{return LemonToast.U.error("Failed to update template"),values.templates}}}]}}),(0,index_esm.afterMount)(_ref4=>{let{actions}=_ref4;actions.loadTemplates()})]);function MessageTemplatesTable(){(0,index_esm.useMountedLogic)(messageTemplatesLogic);let{templates,templatesLoading}=(0,index_esm.useValues)(messageTemplatesLogic),{deleteTemplate}=(0,index_esm.useActions)(messageTemplatesLogic),columns=[{title:"Name",render:(_,item)=>(0,jsx_runtime.jsx)(LemonTableLink.i,{to:urls.j.messagingLibraryTemplate(item.id),title:item.name,description:item.description})},(0,columnUtils.JB)(),(0,columnUtils.rw)(),{width:0,render:function Render(_,message){return(0,jsx_runtime.jsx)(More.T,{overlay:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"message-template-delete",fullWidth:!0,status:"danger",onClick:()=>deleteTemplate(message),children:"Delete"})})})}}];return(0,jsx_runtime.jsx)("div",{className:"templates-section",children:(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:templates,loading:templatesLoading,columns:columns})})}var react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");let optOutCategoriesLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","OptOuts","optOutCategoriesLogic"]),(0,index_esm.actions)({loadCategories:!0,deleteCategory:id=>({id}),openNewCategoryModal:!0,closeNewCategoryModal:!0}),(0,kea_loaders_lib.loaders)({categories:{__default:[],loadCategories:async()=>(await api.ZP.messaging.getCategories({category_type:"marketing"})).results||[]}}),(0,index_esm.reducers)({categories:[[],{loadCategoriesSuccess:(_,_ref)=>{let{categories}=_ref;return categories}}],isNewCategoryModalOpen:[!1,{openNewCategoryModal:()=>!0,closeNewCategoryModal:()=>!1}]}),(0,index_esm.listeners)(_ref2=>{let{actions}=_ref2;return{deleteCategory:async _ref3=>{let{id}=_ref3;try{await api.ZP.messaging.updateCategory(id,{deleted:!0}),actions.loadCategories()}catch(error){console.error("Failed to delete category:",error)}}}})]);var TZLabel=__webpack_require__("../../frontend/src/lib/components/TZLabel/index.tsx");function OptOutList(_ref){let{categoryName}=_ref,columns=[{title:"Recipient",dataIndex:"recipient",key:"recipient"},{title:"Opt-out date",dataIndex:"optOutDate",key:"optOutDate",render:optOutDate=>(0,jsx_runtime.jsx)(TZLabel.w,{time:optOutDate})}];return(0,jsx_runtime.jsx)("div",{className:"max-h-64 overflow-y-auto",children:(0,jsx_runtime.jsx)(src.g3,{columns:columns,dataSource:[],rowKey:"id",emptyState:`No opt-outs found${categoryName?` for ${categoryName}`:""}`,size:"small"})})}var kea_forms_lib=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.5_react@18.2.0_/node_modules/kea-forms/lib/index.js"),LemonField=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),LemonToast_LemonToast=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/LemonToast.tsx");let NEW_CATEGORY={name:"",key:"",description:"",public_description:"",category_type:"marketing"},newCategoryLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","OptOuts","newCategoryLogic"]),(0,index_esm.props)({}),(0,index_esm.key)(props=>props.category?.id||"new"),(0,index_esm.actions)({submitForm:!0,resetForm:!0}),(0,kea_forms_lib.forms)(_ref=>{let{props}=_ref;return{categoryForm:{defaults:props.category?{name:props.category.name,key:props.category.key,description:props.category.description,public_description:props.category.public_description,category_type:props.category.category_type}:NEW_CATEGORY,errors:_ref2=>{let{name,key}=_ref2;return{name:name.trim()?void 0:"Name is required",key:key.trim()?/^[a-zA-Z0-9_-]+$/.test(key)?void 0:"Only letters, numbers, hyphens (-) & underscores (_) are allowed":"Key is required"}},submit:async formValues=>{props.category?(await api.ZP.messaging.updateCategory(props.category.id,formValues),LemonToast_LemonToast.UJ.success("Category updated successfully")):(await api.ZP.messaging.createCategory(formValues),LemonToast_LemonToast.UJ.success("Category created successfully")),optOutCategoriesLogic.actions.loadCategories(),props.onSuccess&&props.onSuccess()}}}}),(0,index_esm.listeners)(_ref3=>{let{actions}=_ref3;return{resetForm:()=>{actions.resetCategoryForm()}}})]);function NewCategoryModal(_ref){let{isOpen,onClose,category}=_ref,logic=newCategoryLogic({category,onSuccess:onClose}),{isCategoryFormSubmitting}=(0,index_esm.useValues)(logic),{submitCategoryForm,resetCategoryForm}=(0,index_esm.useActions)(logic),handleClose=()=>{resetCategoryForm(),onClose()};return(0,jsx_runtime.jsx)(src.fQ,{isOpen:isOpen,onClose:handleClose,title:category?"Edit message category":"New message category",footer:(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",onClick:handleClose,children:"Cancel"}),(0,jsx_runtime.jsx)(src.Jp,{type:"primary",loading:isCategoryFormSubmitting,onClick:submitCategoryForm,children:category?"Update":"Create"})]}),children:(0,jsx_runtime.jsxs)(kea_forms_lib.Form,{logic:newCategoryLogic,formKey:"categoryForm",props:{category,onSuccess:onClose},className:"space-y-4",children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"name",label:"Name",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"e.g., Product updates"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"key",label:"Key",info:"This is the unique identifier for the category",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"e.g., product_updates",disabledReason:category?"Key cannot be changed after creation":void 0})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"category_type",label:"Message type",info:"Marketing messages can be opted out of by users. Transactional messages are not affected by recipient preferences",help:(0,jsx_runtime.jsxs)("p",{children:["Be sure to comply with local regulations regarding marketing communications (",(0,jsx_runtime.jsx)(src.rU,{to:"https://www.ftc.gov/business-guidance/resources/can-spam-act-compliance-guide-business",target:"_blank",children:"CAN-SPAM"}),","," ",(0,jsx_runtime.jsx)(src.rU,{to:"https://gdpr.eu/email-encryption/",target:"_blank",children:"GDPR"}),")"]}),children:(0,jsx_runtime.jsx)(src.Yv,{options:[{label:"Marketing",value:"marketing"},{label:"Transactional",value:"transactional"}],placeholder:"Select message type"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"description",label:"Description",children:(0,jsx_runtime.jsx)(src._V,{placeholder:"Internal description for your team",rows:3})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"public_description",label:"Public description",help:"This description will be shown to users in the email preferences page.",children:(0,jsx_runtime.jsx)(src._V,{placeholder:"e.g., Latest updates on feature launches, product improvements, and more.",rows:3})})]})})}function OptOutCategories(){let{categories,categoriesLoading}=(0,index_esm.useValues)(optOutCategoriesLogic),{loadCategories,deleteCategory}=(0,index_esm.useActions)(optOutCategoriesLogic),[isNewCategoryModalOpen,setIsNewCategoryModalOpen]=(0,react.useState)(!1),[editingCategory,setEditingCategory]=(0,react.useState)(null);(0,react.useEffect)(()=>{loadCategories()},[loadCategories]);let handleEditCategory=category=>{setEditingCategory(category)},collapseItems=(0,react.useMemo)(()=>(categories||[]).map(category=>({key:category.id,header:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"font-medium",children:category.name}),(0,jsx_runtime.jsx)("div",{className:"text-xs text-muted",children:category.description})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[(0,jsx_runtime.jsx)(src.oe,{type:"marketing"===category.category_type?"success":"completion",children:(0,utils.fm)(category.category_type)}),(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconGear,{}),size:"small",onClick:()=>handleEditCategory(category),children:"Edit"}),(0,jsx_runtime.jsx)(src.Jp,{size:"small",status:"danger",onClick:()=>src.dn.open({title:"Delete category",description:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:["Are you sure you want to delete the message category"," ",(0,jsx_runtime.jsx)("b",{children:category.name}),"?"]}),(0,jsx_runtime.jsx)("p",{children:"All messages associated with this category must be updated manually."})]}),primaryButton:{children:"Delete",status:"danger",onClick:()=>deleteCategory(category.id)},secondaryButton:{children:"Cancel"}}),children:"Delete"})]})]}),content:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"mb-3",children:[(0,jsx_runtime.jsxs)("div",{className:"text-sm text-muted mb-1",children:["Key: ",category.key]}),category.public_description&&(0,jsx_runtime.jsxs)("div",{className:"text-sm text-muted",children:["Public description: ",category.public_description]})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h4",{className:"font-medium mb-2",children:"Opt-out list"}),(0,jsx_runtime.jsx)(OptOutList,{categoryName:category.name})]})]})})),[categories,deleteCategory]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{caption:"Configure message categories and view opt-outs",buttons:(0,jsx_runtime.jsx)(src.Jp,{"data-attr":"new-optout-category",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),size:"small",type:"primary",onClick:()=>setIsNewCategoryModalOpen(!0),children:"New category"})}),categoriesLoading?(0,jsx_runtime.jsx)(src.yW,{className:"h-10"}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:collapseItems.length>0?(0,jsx_runtime.jsx)(src.JL,{panels:collapseItems}):(0,jsx_runtime.jsx)("div",{className:"text-center py-8 text-muted",children:"No message categories configured yet"})}),(0,jsx_runtime.jsx)(NewCategoryModal,{isOpen:isNewCategoryModalOpen||null!==editingCategory,onClose:()=>{setIsNewCategoryModalOpen(!1),setEditingCategory(null)},category:editingCategory})]})}function OptOutScene(){return(0,jsx_runtime.jsxs)("div",{className:"space-y-8",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Message categories"}),(0,jsx_runtime.jsx)(OptOutCategories,{})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Marketing opt-out list"}),(0,jsx_runtime.jsx)(OptOutList,{})]})]})}let MESSAGING_SCENE_TABS=["campaigns","library","channels","opt-outs"],messagingSceneLogic=(0,index_esm.kea)([(0,index_esm.props)({}),(0,index_esm.path)(()=>["scenes","messaging","messagingSceneLogic"]),(0,index_esm.actions)({setCurrentTab:tab=>({tab})}),(0,index_esm.reducers)(()=>({currentTab:["campaigns",{setCurrentTab:(_,_ref)=>{let{tab}=_ref;return tab}}]})),(0,index_esm.selectors)({logicProps:[()=>[(_,props)=>props],props=>props],breadcrumbs:[()=>[(_,props)=>props],_ref2=>{let{tab}=_ref2;return[{key:sceneTypes.x.Messaging,name:"Messaging"},{key:[sceneTypes.x.Messaging,tab],name:(0,utils.fm)(tab.replaceAll("_"," "))}]}]}),(0,index_esm.listeners)({setCurrentTab:_ref3=>{let{tab}=_ref3;lib.router.actions.push(urls.j.messaging(tab))}}),(0,lib.urlToAction)(_ref4=>{let{actions,values}=_ref4;return{[urls.j.messaging(":tab")]:_ref5=>{let{tab}=_ref5,possibleTab=null!=tab?tab:"campaigns";(possibleTab=MESSAGING_SCENE_TABS.includes(possibleTab)?possibleTab:"campaigns")!==values.currentTab&&actions.setCurrentTab(possibleTab)}}})]),scene={component:MessagingScene,logic:messagingSceneLogic,paramsToProps:_ref7=>{let{params:{tab}}=_ref7;return{tab}}};function MessagingScene(){let{currentTab}=(0,index_esm.useValues)(messagingSceneLogic),{setCurrentTab}=(0,index_esm.useActions)(messagingSceneLogic);if(!(0,useFeatureFlag.y)("MESSAGING"))return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col justify-center items-center h-full",children:[(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold",children:"Coming soon!"}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-muted-foreground",children:"We're working on bringing messaging to PostHog. Stay tuned for updates!"})]});let tabs=[{label:"Campaigns",key:"campaigns",content:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{caption:"Create automated messaging campaigns triggered by events",buttons:(0,jsx_runtime.jsx)(src.Jp,{"data-attr":"new-campaign",to:urls.j.messagingCampaignNew(),type:"primary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),children:"New campaign"})}),(0,jsx_runtime.jsx)(CampaignsTable,{})]})},{label:"Library",key:"library",content:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{caption:"Create and manage messages",buttons:(0,jsx_runtime.jsx)(src.Jp,{"data-attr":"new-message-button",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),size:"small",type:"primary",to:urls.j.messagingLibraryTemplateNew(),children:"New template"})}),(0,jsx_runtime.jsx)(MessageTemplatesTable,{})]})},{label:"Channels",key:"channels",content:(0,jsx_runtime.jsx)(MessageChannels,{})},{label:"Opt-outs",key:"opt-outs",content:(0,jsx_runtime.jsx)(OptOutScene,{})}];return(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:currentTab,tabs:tabs,onChange:setCurrentTab})}}}]);