(window.webpackJsonp=window.webpackJsonp||[]).push([[252],{"./frontend/src/scenes/project-homepage/ProjectHomepage.tsx":function(u,l,e){"use strict";e.r(l),e.d(l,"ProjectHomepage",function(){return V}),e.d(l,"scene",function(){return _});var v=e("./node_modules/core-js/modules/es.function.name.js"),ee=e("./node_modules/core-js/modules/es.object.to-string.js"),ae=e("./node_modules/core-js/modules/es.regexp.to-string.js"),R=e("./node_modules/react/index.js"),a=e.n(R),$=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=e.n($),B=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),C=e.n(B),P={};P.insert="head",P.singleton=!1;var oe=L()(C.a,P),se=C.a.locals||{},G=e("./frontend/src/lib/components/PageHeader.tsx"),W=e("./frontend/src/scenes/dashboard/Dashboard.tsx"),c=e("./node_modules/kea/lib/index.esm.js"),b=e("./frontend/src/scenes/teamLogic.ts"),N=e("./frontend/src/types.ts"),f=e("./node_modules/antd/es/button/index.js"),F=e("./node_modules/antd/es/row/index.js"),w=e("./node_modules/antd/es/skeleton/index.js"),I=e("./node_modules/antd/es/typography/index.js"),J=e("./frontend/src/scenes/organization/Settings/inviteLogic.ts"),U=e("./node_modules/kea-router/lib/index.js"),z=e("./frontend/src/scenes/urls.ts"),H=e("./frontend/src/lib/components/LemonRow/index.ts"),re=e("./node_modules/core-js/modules/es.symbol.js"),te=e("./node_modules/core-js/modules/es.symbol.description.js"),ne=e("./node_modules/core-js/modules/es.array.map.js"),K=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/PrimaryDashboardModal.scss"),S=e.n(K),D={};D.insert="head",D.singleton=!1;var de=L()(S.a,D),le=S.a.locals||{},Q=e("./frontend/src/models/dashboardsModel.tsx"),X=e("./frontend/src/lib/components/LemonModal/LemonModal.tsx"),O=e("./frontend/src/lib/components/LemonButton/index.ts"),Y=e("./node_modules/@babel/runtime/regenerator/index.js"),g=e.n(Y),ie=e("./node_modules/regenerator-runtime/runtime.js"),Z=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),T=e.n(Z),x=e("./frontend/src/lib/utils/eventUsageLogic.ts"),E=Object(c.kea)({path:["scenes","project-homepage","primaryDashboardModalLogic"],connect:{logic:[x.f],actions:[b.a,["updateCurrentTeam"]],values:[b.a,["currentTeam"]]},actions:{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!0},setPrimaryDashboard:function(i){return{dashboardId:i}}},selectors:{primaryDashboardId:[function(o){return[o.currentTeam]},function(o){return o==null?void 0:o.primary_dashboard}]},reducers:{visible:[!1,{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!1}}]},listeners:function(i){var d=i.actions;return{setPrimaryDashboard:function(){var r=T()(g.a.mark(function s(h){var m;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:m=h.dashboardId,d.updateCurrentTeam({primary_dashboard:m}),x.f.actions.reportPrimaryDashboardChanged();case 3:case"end":return n.stop()}},s)}));function t(s){return r.apply(this,arguments)}return t}(),showPrimaryDashboardModal:function(){var r=T()(g.a.mark(function s(){return g.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:x.f.actions.reportPrimaryDashboardModalOpened();case 1:case"end":return m.stop()}},s)}));function t(){return r.apply(this,arguments)}return t}()}}}),M=e("./frontend/src/lib/components/icons.tsx");function k(){var o=Object(c.useValues)(E),i=o.visible,d=o.primaryDashboardId,r=Object(c.useActions)(E),t=r.closePrimaryDashboardModal,s=r.setPrimaryDashboard,h=Object(c.useValues)(Q.a),m=h.nameSortedDashboards,y=h.dashboardsLoading;return a.a.createElement(X.a,{className:"primary-dashboard-modal",visible:i,onCancel:function(){t()},title:"Select a default dashboard for the project",destroyOnClose:!0,bodyStyle:{padding:0},footer:a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{type:"secondary","data-attr":"close-primary-dashboard-modal",style:{marginRight:"0.5rem"},onClick:t},"Close"))},y?a.a.createElement("div",{className:"loading-skeleton-container"},a.a.createElement(w.a,{active:!0})):a.a.createElement("div",{className:"dashboard-list"},m.map(function(n){var j=n.id===d,p=[a.a.createElement("div",{key:1,className:"dashboard-label-container"},a.a.createElement("strong",null,n.name),a.a.createElement(I.a.Paragraph,{ellipsis:{rows:1},className:"text-small dashboard-description"},n.description)),a.a.createElement("div",{key:2},j?a.a.createElement("div",{className:"default-indicator"},a.a.createElement(M.HomeIcon,{className:"mr-05",style:{width:18}}),a.a.createElement("span",null,"Default")):a.a.createElement("strong",{className:"set-default-text"},"Set as default"))];return j?a.a.createElement(H.a,{key:n.id,fullWidth:!0,status:"muted",className:"dashboard-row"},p):a.a.createElement(O.a,{key:n.id,fullWidth:!0,className:"dashboard-row",onClick:function(){s(n.id),t()}},p)})))}var q=e("./frontend/src/scenes/dashboard/dashboardLogic.ts"),A=Object(c.kea)({path:["scenes","project-homepage","projectHomepageLogic"],selectors:{primaryDashboardId:[function(){return[b.a.selectors.currentTeam]},function(o){return o==null?void 0:o.primary_dashboard}],dashboardLogic:[function(o){return[o.primaryDashboardId]},function(o){return q.c.build({id:o!=null?o:void 0,placement:N.f.ProjectHomepage},!1)}]},subscriptions:function(i){var d=i.cache;return{dashboardLogic:function(t){var s;(s=d.unmount)===null||s===void 0||s.call(d),d.unmount=t?t.mount():null}}},events:function(i){var d=i.cache;return{afterMount:function(){var t;(t=d.unmount)===null||t===void 0||t.call(d)}}}});function V(){var o=Object(c.useValues)(A),i=o.dashboardLogic,d=Object(c.useValues)(b.a),r=d.currentTeam,t=Object(c.useValues)(i),s=t.dashboard,h=Object(c.useActions)(J.a),m=h.showInviteModal,y=Object(c.useActions)(E),n=y.showPrimaryDashboardModal,j=a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(f.a,{"data-attr":"project-home-invite-team-members",onClick:function(){m()},className:"mr-05"},"Invite members"),a.a.createElement(f.a,{"data-attr":"project-home-new-insight",onClick:function(){U.router.actions.push(z.a.insightNew())}},"New insight"));return a.a.createElement("div",{className:"project-homepage"},a.a.createElement(G.a,{title:(r==null?void 0:r.name)||"",delimited:!0,buttons:j}),r!=null&&r.primary_dashboard?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(F.a,{className:"homepage-dashboard-header"},a.a.createElement("div",{className:"dashboard-title-container"},!s&&a.a.createElement(w.a,{active:!0,paragraph:!1}),(s==null?void 0:s.name)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M.HomeIcon,{className:"mr-05",style:{width:18,height:18}}),a.a.createElement(I.a.Title,{className:"dashboard-name",level:4},s==null?void 0:s.name))),a.a.createElement(f.a,{"data-attr":"project-home-new-insight",onClick:n},"Change dashboard")),a.a.createElement(H.b,{large:!0})),a.a.createElement(W.Dashboard,{id:r.primary_dashboard.toString(),placement:N.f.ProjectHomepage})):a.a.createElement("div",{className:"empty-state-container"},a.a.createElement(M.HomeIcon,{className:"mb"}),a.a.createElement("h1",null,"There isn\u2019t a default dashboard set for this project"),a.a.createElement("p",{className:"mb"},"Default dashboards are shown to everyone in the project. When you set a default, it\u2019ll show up here."),a.a.createElement(f.a,{type:"primary","data-attr":"project-home-new-insight",onClick:function(){n()}},"Select a default dashboard")),a.a.createElement(k,null))}var _={component:V,logic:A}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/PrimaryDashboardModal.scss":function(u,l,e){var v=e("./node_modules/css-loader/dist/runtime/api.js");l=v(!1),l.push([u.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.primary-dashboard-modal .loading-skeleton-container{padding:1rem}.primary-dashboard-modal .dashboard-list{max-height:350px;overflow-y:scroll;padding:.5rem 1rem .25rem}.primary-dashboard-modal .dashboard-list .dashboard-row{display:flex;flex:1;height:60px;padding:.5rem;margin-bottom:.25rem}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-label-container{color:#2d2d2d;flex:1}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-description{margin-bottom:0;max-width:300px;color:rgba(0,0,0,.5)}.primary-dashboard-modal .dashboard-list .dashboard-row .set-default-text{color:#5375ff}.primary-dashboard-modal .dashboard-list .dashboard-row .default-indicator{color:#2d2d2d;display:flex;align-items:center}",""]),u.exports=l},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(u,l,e){var v=e("./node_modules/css-loader/dist/runtime/api.js");l=v(!1),l.push([u.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.project-homepage .homepage-dashboard-header{justify-content:space-between;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container{display:flex;flex-direction:row;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container .dashboard-name{margin:0}.project-homepage .homepage-dashboard-header .dashboard-title-container .ant-skeleton{width:300px}.project-homepage .homepage-dashboard-header .dashboard-title-container .ant-skeleton h3{margin:0}.project-homepage .empty-state-container{background-color:#fafaf9;width:100%;justify-content:center;align-items:center;padding:4rem;display:flex;flex-direction:column}",""]),u.exports=l}}]);
