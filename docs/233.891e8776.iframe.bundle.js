(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{"./frontend/src/lib/components/Drawer.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return re});var D=t("./node_modules/@babel/runtime/helpers/extends.js"),o=t.n(D),x=t("./node_modules/react/index.js"),Pe=t.n(x),f=t("./node_modules/antd/es/drawer/index.js"),ve=t("./frontend/src/vars.ts");function re(xe){return Pe.a.createElement(f.a,o()({},xe,{zIndex:ve.a.zDrawer}))}try{re.displayName="Drawer",re.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:re.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(xe){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return xt}),t.d(S,"b",function(){return gt});var D=t("./node_modules/core-js/modules/es.array.for-each.js"),o=t("./node_modules/core-js/modules/es.array.from.js"),x=t("./node_modules/core-js/modules/es.array.map.js"),Pe=t("./node_modules/core-js/modules/es.array.reduce.js"),f=t("./node_modules/core-js/modules/es.array.slice.js"),ve=t("./node_modules/core-js/modules/es.number.constructor.js"),re=t("./node_modules/core-js/modules/es.string.iterator.js"),xe=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Le=t("./node_modules/@babel/runtime/helpers/extends.js"),Ge=t.n(Le),Ie=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),ze=t.n(Ie),W=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ce=t.n(W),he=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),_e=t.n(he),me=t("./node_modules/react/index.js"),m=t.n(me),le=t("./node_modules/antd/es/table/index.js"),Je=t("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),Y=t("./frontend/src/lib/utils/responsiveUtils.tsx"),Pt=t("./node_modules/react-resizable/index.js");function rt(v){var T=v.children,E=v.onResize,g=v.initialWidth,X=v.height,ae=v.minConstraints,ue=v.maxConstraints,Ue=m.a.createElement("div",{className:"inner-wrapper"},m.a.createElement("div",{className:"inner-text"},T)),Ee=Object(me.useState)(g),Me=Ce()(Ee,2),L=Me[0],O=Me[1],te=Object(me.useState)(!1),I=Ce()(te,2),G=I[0],k=I[1],$=function(je,Te){O(Te.size.width),E(je,Te)};return m.a.createElement("div",{className:"react-resizable-wrapper"},m.a.createElement(Pt.ResizableBox,{width:L,height:X,minConstraints:ae,maxConstraints:ue,axis:"x",handle:m.a.createElement("span",{className:"resizable-handle","data-drag-active":G}),onResize:$,onResizeStart:function(je){je.preventDefault(),k(!0)},onResizeStop:function(){k(!1)},draggableOpts:{enableUserSelectHack:!0}},Ue))}function ne(v){var T=v.columns,E=v.handleResize,g=v.layoutEffect,X=v.minColumnWidth,ae=v.expandable,ue=60;return Object(me.useLayoutEffect)(function(){return typeof g=="function"?g():void 0}),m.a.createElement("div",{className:"resizable-virtual-table-header"},!!ae&&m.a.createElement("div",{className:"left-spacer",style:{width:(ae==null?void 0:ae.columnWidth)||xt}}),T.map(function(Ue,Ee){var Me=Ue.title,L=Ue.width,O=Ue.widthConstraints,te=O!=null&&O.length?O[0]:X,I=O!=null&&O.length?O[1]:1/0;return m.a.createElement(rt,{key:Ee,initialWidth:L!=null?L:te,height:ue,onResize:E(Ee),minConstraints:[te,ue],maxConstraints:[I,ue]},Me)}))}var Ae=m.a.memo(ne);try{ne.displayName="VirtualTableHeader",ne.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:ne.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(v){}var Q=t("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),q=t("./frontend/src/lib/hooks/useWindowSize.js"),ce=function(){var T=Object(q.a)(),E=T.width,g=Object(me.useState)(Y.a),X=Ce()(g,2),ae=X[0],ue=X[1];return Object(me.useEffect)(function(){ue(Y.a)},[E]),ae},se=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),oe=t.n(se),be=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),$e=t.n(be),Oe={};Oe.insert="head",Oe.singleton=!1;var Ft=oe()($e.a,Oe),Ve=$e.a.locals||{};function at(v,T){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(v);T&&(g=g.filter(function(X){return Object.getOwnPropertyDescriptor(v,X).enumerable})),E.push.apply(E,g)}return E}function ke(v){for(var T=1;T<arguments.length;T++){var E=arguments[T]!=null?arguments[T]:{};T%2?at(Object(E),!0).forEach(function(g){ze()(v,g,E[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):at(Object(E)).forEach(function(g){Object.defineProperty(v,g,Object.getOwnPropertyDescriptor(E,g))})}return v}var yt=Q.b,xt=48;function gt(v){var T=v.columns,E=T===void 0?[]:T,g=v.components,X=_e()(v,["columns","components"]),ae=ce(),ue=Object(Y.d)(ae),Ue=Object(me.useState)(function(){var K=E.length;return E.map(function(P,y){return ke(ke({},P),{},{width:y===K?void 0:ue})})}),Ee=Ce()(Ue,2),Me=Ee[0],L=Ee[1],O=Object(me.useState)(Me),te=Ce()(O,2),I=te[0],G=te[1],k=Object(me.useState)(!1),$=Ce()(k,2),_=$[0],je=$[1],Te=Object(me.useRef)(null),we=Object(me.useRef)(null),Re=Object(me.useRef)();function ct(K){var P;if(K){var y;return we==null||(y=we.current)===null||y===void 0?void 0:y.classList.add("scrollable-right")}return we==null||(P=we.current)===null||P===void 0?void 0:P.classList.remove("scrollable-right")}function ut(){if(we.current){var K=we.current;K.offsetWidth+K.scrollLeft<K.scrollWidth?ct(!0):ct(!1)}}function qe(){var K,P=(K=Te.current)===null||K===void 0?void 0:K.querySelectorAll(".ant-table-content colgroup col");if(P){var y=Array.from(P);return y.map(function(C){return C.style.width?Object(Y.e)(C.style.width):void 0})}return[]}function st(K,P){var y,C=(y=Te.current)===null||y===void 0?void 0:y.querySelector(".ant-table-content colgroup col:nth-child(".concat(K+1+Number(!!X.expandable),"):not(:last-child)"));C==null||C.setAttribute("style","width: ".concat(P,"px;"))}function mt(){var K,P=(K=Te.current)===null||K===void 0?void 0:K.querySelector(".ant-table-content colgroup col:last-child");P==null||P.removeAttribute("style")}function de(){var K,P=(K=Te.current)===null||K===void 0?void 0:K.querySelector(".resizable-virtual-table-header");if(P!=null&&P.childNodes){var y=Array.from(P==null?void 0:P.childNodes),C=y.reduce(function(Z,ie){var A=ie.offsetWidth;return Z+(A!=null?A:0)},0);if(C){var B,N=(B=Te.current)===null||B===void 0?void 0:B.querySelector(".ant-table table");N==null||N.setAttribute("style","width: ".concat(C,"px;"))}}mt()}var Ye=function(P){return function(y,C){var B=C.size.width;Re.current&&cancelAnimationFrame(Re.current),Re.current=requestAnimationFrame(function(){st(P,B),de()}),ut()}};function Dt(K){var P,y=(P=Te.current)===null||P===void 0?void 0:P.querySelector(".ant-table table"),C=y==null?void 0:y.clientWidth;if(!(!C||C===K)){Re.current&&cancelAnimationFrame(Re.current);var B=K/C,N=qe();Re.current=requestAnimationFrame(function(){je(!1),G(function(Z){var ie=E.length-1,A=Z.map(function(d,w){var j;return w===ie?d:ke(ke({},d),{},{width:Math.max(((j=N[w+Number(!!X.expandable)])!==null&&j!==void 0?j:0)*B,ue)})});return A.slice(0,ie).forEach(function(d,w){var j;st(w,(j=d.width)!==null&&j!==void 0?j:ue)}),de(),A}),je(!0)})}}var Kt=new Je.a(function(K){K.forEach(function(P){var y=P.contentRect.width;return Dt(y)})});return Object(me.useEffect)(function(){L(function(K){var P=K.length;return K.map(function(y,C){return C===P?y:ke(ke({},y),{},{render:E[C].render})})})},[E]),Object(me.useLayoutEffect)(function(){if(Te.current){Kt.observe(Te.current);var K=Te.current.clientWidth,P=Me.reduce(function(C,B){var N=B.span;return C+N},0),y=Object(Y.c)(K,P);L(function(C){var B=C.length,N=C.map(function(Z,ie){return ie===B?Z:ke(ke({},Z),{},{width:Math.max(Z.defaultWidth||y*Z.span,ue)})});return G(N),N}),ut(),je(!0)}},[]),m.a.createElement("div",{ref:Te,className:"resizable-table-scroll-container",onScroll:ut},m.a.createElement("div",{ref:we,className:"table-gradient-overlay"},_&&m.a.createElement(Ae,{columns:I,handleResize:Ye,layoutEffect:de,minColumnWidth:ue,expandable:X.expandable}),m.a.createElement(le.a,Ge()({columns:Me,components:ke(ke({},g),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},X))))}try{gt.displayName="ResizableTable",gt.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:gt.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(v){}try{yt.displayName="TableConfig",yt.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:yt.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(v){}},"./frontend/src/lib/hooks/useWindowSize.js":function(z,S,t){"use strict";t.d(S,"a",function(){return re});var D=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=t.n(D),x=t("./node_modules/@babel/runtime/helpers/typeof.js"),Pe=t.n(x),f=t("./node_modules/react/index.js"),ve=t.n(f);function re(){var xe=(typeof window=="undefined"?"undefined":Pe()(window))==="object";function Le(){return{width:xe?window.innerWidth:void 0,height:xe?window.innerHeight:void 0}}var Ge=Object(f.useState)(Le),Ie=o()(Ge,2),ze=Ie[0],W=Ie[1];return Object(f.useEffect)(function(){if(!xe)return!1;function Ce(){W(Le())}return window.addEventListener("resize",Ce),function(){return window.removeEventListener("resize",Ce)}},[]),ze}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return ze});var D=t("./node_modules/core-js/modules/es.array.includes.js"),o=t.n(D),x=t("./node_modules/core-js/modules/es.string.includes.js"),Pe=t.n(x),f=t("./node_modules/react/index.js"),ve=t.n(f),re=t("./node_modules/kea/lib/index.esm.js"),xe=t("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),Le=t("./node_modules/rc-select/es/index.js"),Ge=t("./frontend/src/lib/components/Link.tsx"),Ie=t("./frontend/src/lib/introductions/groupsAccessLogic.ts");function ze(W){var Ce=W.value,he=Object(re.useValues)(Ie.b),_e=he.groupsAccessStatus;return[Ie.a.HasAccess,Ie.a.HasGroupTypes,Ie.a.NoAccess].includes(_e)?ve.a.createElement(Le.default.Option,{key:"groups",value:Ce,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},ve.a.createElement(xe.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",ve.a.createElement(Ge.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{ze.displayName="GroupsIntroductionOption",ze.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:ze.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(W){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(z,S,t){"use strict";t.d(S,"d",function(){return ne}),t.d(S,"c",function(){return Ae}),t.d(S,"e",function(){return Q}),t.d(S,"a",function(){return q}),t.d(S,"b",function(){return ce});var D=t("./node_modules/core-js/modules/es.array.filter.js"),o=t.n(D),x=t("./node_modules/core-js/modules/es.array.iterator.js"),Pe=t.n(x),f=t("./node_modules/core-js/modules/es.array.map.js"),ve=t.n(f),re=t("./node_modules/core-js/modules/es.object.entries.js"),xe=t.n(re),Le=t("./node_modules/core-js/modules/es.object.from-entries.js"),Ge=t.n(Le),Ie=t("./node_modules/core-js/modules/es.object.values.js"),ze=t.n(Ie),W=t("./node_modules/core-js/modules/es.regexp.exec.js"),Ce=t.n(W),he=t("./node_modules/core-js/modules/es.string.replace.js"),_e=t.n(he),me=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=t.n(me),le=t("./node_modules/antd/lib/_util/responsiveObserve.js"),Je=t.n(le),Y=t("./frontend/src/lib/components/ResizableTable/index.tsx"),Pt=Object.fromEntries(Object.entries(le.responsiveMap).map(function(se){var oe=m()(se,2),be=oe[0],$e=oe[1];return[be,Q($e)]})),rt=Object.values(Pt).sort(function(se,oe){return se-oe});function ne(se){return se<576?150:50}function Ae(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,be=se-Y.a;return Math.floor(be/oe)}function Q(se){return parseFloat(se.replace(/[^\d.]/g,""))}function q(){var se=window.innerWidth,oe=rt.filter(function(be){return se>=be}).pop();return oe||rt[0]}function ce(se){return Pt[se]||-1}try{ne.displayName="getMinColumnWidth",ne.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:ne.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(se){}try{Q.displayName="parsePixelValue",Q.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:Q.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(se){}try{ce.displayName="getBreakpoint",ce.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:ce.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(se){}},"./frontend/src/scenes/events/index.ts":function(z,S,t){"use strict";var D=t("./frontend/src/scenes/events/EventDetails.tsx"),o=t("./frontend/src/scenes/events/EventElements.tsx"),x=t("./frontend/src/scenes/events/EventsTable.tsx");t.d(S,"a",function(){return x.a});var Pe=t("./frontend/src/scenes/events/eventsTableLogic.ts")},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return rt});var D=t("./node_modules/react/index.js"),o=t.n(D),x=t("./node_modules/kea/lib/index.esm.js"),Pe=t("./frontend/src/lib/components/LemonTable/index.ts"),f=t("./frontend/src/models/groupsModel.ts"),ve=t("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),re=t.n(ve),xe=t("./frontend/src/lib/utils.tsx"),Le=t("./frontend/src/scenes/persons/PersonHeader.tsx"),Ge=t("./node_modules/core-js/modules/es.array.concat.js"),Ie=t("./node_modules/core-js/modules/es.array.iterator.js"),ze=t("./node_modules/core-js/modules/es.object.to-string.js"),W=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ce=t("./node_modules/@babel/runtime/regenerator/index.js"),he=t.n(Ce),_e=t("./node_modules/regenerator-runtime/runtime.js"),me=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),m=t.n(me),le=t("./frontend/src/lib/api.ts"),Je=t("./frontend/src/scenes/teamLogic.ts"),Y=Object(x.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[Je.a,["currentTeamId"]]},props:{},key:function(Ae){var Q;return"".concat((Q=Ae.groupTypeIndex)!==null&&Q!==void 0?Q:"person","-").concat(Ae.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(Ae){var Q=Ae.values,q=Ae.props;return{relatedActors:[[],{loadRelatedActors:function(){var ce=m()(he.a.mark(function oe(){var be;return he.a.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return be="api/projects/".concat(Q.currentTeamId,"/groups/related?").concat(Object(xe.Ab)({group_type_index:q.groupTypeIndex,id:q.id})),Oe.next=3,le.a.get(be);case 3:return Oe.abrupt("return",Oe.sent);case 4:case"end":return Oe.stop()}},oe)}));function se(){return ce.apply(this,arguments)}return se}(),setGroup:function(){return[]}}]}},events:function(Ae){var Q=Ae.actions;return{afterMount:Q.loadRelatedActors}}}),Pt=t("./frontend/src/scenes/persons/GroupActorHeader.tsx");function rt(ne){var Ae=ne.groupTypeIndex,Q=ne.id,q=Object(x.useValues)(Y({groupTypeIndex:Ae,id:Q})),ce=q.relatedActors,se=q.relatedActorsLoading,oe=Object(x.useValues)(f.a),be=oe.aggregationLabel,$e=[{title:"Type",key:"type",render:function(Ft,Ve){return Ve.type==="group"?o.a.createElement(o.a.Fragment,null,Object(xe.j)(be(Ve.group_type_index).singular)):o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,null)," Person")}},{title:"id",key:"id",render:function(Ft,Ve){return Ve.type=="group"?o.a.createElement(Pt.a,{actor:Ve}):o.a.createElement(Le.a,{person:Ve,withIcon:!1})}}];return o.a.createElement(Pe.a,{dataSource:ce,columns:$e,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:se,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{rt.displayName="RelatedGroups",rt.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:rt.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(ne){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return A});var D=t("./node_modules/core-js/modules/es.array.concat.js"),o=t("./node_modules/core-js/modules/es.array.map.js"),x=t("./node_modules/core-js/modules/es.array.splice.js"),Pe=t("./node_modules/@babel/runtime/helpers/extends.js"),f=t.n(Pe),ve=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),re=t.n(ve),xe=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Le=t.n(xe),Ge=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ie=t.n(Ge),ze=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),W=t.n(ze),Ce={};Ce.insert="head",Ce.singleton=!1;var he=Ie()(W.a,Ce),_e=W.a.locals||{},me=t("./node_modules/react/index.js"),m=t.n(me),le=t("./node_modules/kea/lib/index.esm.js"),Je=t("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),Y=t("./node_modules/core-js/modules/es.symbol.js"),Pt=t("./node_modules/core-js/modules/es.symbol.description.js"),rt=t("./node_modules/core-js/modules/es.array.filter.js"),ne=t("./node_modules/core-js/modules/es.function.name.js"),Ae=t("./node_modules/core-js/modules/es.object.keys.js"),Q=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),q=t.n(Q),ce=t("./node_modules/antd/es/button/index.js"),se=t("./node_modules/antd/es/row/index.js"),oe=t("./node_modules/antd/es/col/index.js"),be=t("./node_modules/antd/es/select/index.js"),$e=t("./frontend/src/lib/components/Tooltip.tsx"),Oe=t("./frontend/src/types.ts"),Ft=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Ve=t("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),at=t("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),ke=t("./frontend/src/lib/utils.tsx"),yt=t("./frontend/src/lib/components/SeriesGlyph.tsx"),xt=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),gt=t.n(xt),v={};v.insert="head",v.singleton=!1;var T=Ie()(gt.a,v),E=gt.a.locals||{},g=t("./frontend/src/lib/components/Popup/Popup.tsx"),X=t("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),ae=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ue=t("./frontend/src/lib/components/EntityFilterInfo.tsx"),Ue=t("./node_modules/clsx/dist/clsx.m.js"),Ee=t("./frontend/src/scenes/trends/mathsLogic.tsx"),Me=t("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),L=t("./frontend/src/models/actionsModel.ts"),O=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),te=t("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),I=t("./frontend/src/lib/components/icons.tsx"),G;function k(d,w){var j=Object.keys(d);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(d);w&&(M=M.filter(function(Se){return Object.getOwnPropertyDescriptor(d,Se).enumerable})),j.push.apply(j,M)}return j}function $(d){for(var w=1;w<arguments.length;w++){var j=arguments[w]!=null?arguments[w]:{};w%2?k(Object(j),!0).forEach(function(M){re()(d,M,j[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(j)):k(Object(j)).forEach(function(M){Object.defineProperty(d,M,Object.getOwnPropertyDescriptor(j,M))})}return d}var _=function(w,j){if(w)return"Hide filters";if(j.properties&&Object.keys(j.properties).length>0){var M;return Object(ke.qb)((M=j.properties)===null||M===void 0?void 0:M.length,"filter")}return"Add filters"};function je(d){var w,j,M,Se=d.logic,V=d.filter,J=d.index,He=d.hideMathSelector,Fe=d.hidePropertySelector,pt=d.singleFilter,et=d.showOr,it=d.hideFilter,Xe=d.hideRename,ye=d.onRenameClick,Rt=ye===void 0?function(){}:ye,dt=d.showSeriesIndicator,Ze=d.seriesIndicatorType,Lt=Ze===void 0?"alpha":Ze,Ct=d.horizontalUI,We=Ct===void 0?!1:Ct,Vt=d.fullWidth,ft=Vt===void 0?!1:Vt,Ut=d.filterCount,Wt=d.customRowPrefix,wt=d.customRowSuffix,kt=d.rowClassName,ln=d.propertyFilterWrapperClassName,dn=d.stripeActionRow,Gt=dn===void 0?!0:dn,tn=d.hasBreakdown,Pn=d.showNestedArrow,An=Pn===void 0?!1:Pn,It=d.hideDeleteBtn,At=It===void 0?!1:It,cn=d.actionsTaxonomicGroupTypes,un=cn===void 0?[ae.a.Events,ae.a.Actions]:cn,mn=d.propertiesTaxonomicGroupTypes,nn=d.disabled,pn=nn===void 0?!1:nn,fn=d.readOnly,$t=fn===void 0?!1:fn,vn=d.renderRow,Yt=Object(le.useValues)(Se),Ot=Yt.selectedFilter,xn=Yt.entities,On=Yt.entityFilterVisible,jt=Object(le.useActions)(Se),Qe=jt.updateFilter,lt=jt.selectFilter,Mt=jt.updateFilterMath,rn=jt.removeLocalFilter,jn=jt.updateFilterProperty,yn=jt.setEntityFilterVisibility,Tn=jt.duplicateFilter,Nt=Object(le.useValues)(L.a),sn=Nt.actions,Rn=Object(le.useValues)(Ee.c),Ht=Rn.mathDefinitions,Xt=typeof V.order=="number"?On[V.order]:!1,Zt,ht,Bt,zt=V.math,bt=V.math_property,Et=V.math_group_type_index,Tt=function(){rn($($({},V),{},{index:J}))},gn=function(vt,Qt){var Jt;Mt($($({},Object(Ee.b)(Qt)),{},{math_property:!((Jt=Ht[Qt])===null||Jt===void 0)&&Jt.onProperty?bt!=null?bt:"$time":void 0,type:V.type,index:J}))},hn=function(vt,Qt){Mt($($({},V),{},{math_property:Qt,index:J}))},bn=Boolean(Ot&&(Ot==null?void 0:Ot.type)===V.type&&(Ot==null?void 0:Ot.index)===J),Cn=function(){lt(bn?null:$($({},V),{},{index:J}))};if(V.type===Oe.g.NEW_ENTITY)ht=null,Bt=null;else{var _t;Zt=((_t=xn[V.type])===null||_t===void 0?void 0:_t.filter(function(tt){return tt.id===V.id})[0])||{},ht=Zt.name||V.name,Bt=Zt.id||V.id}var on=m.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),an=Lt==="numeric"?m.a.createElement(yt.a,{style:{borderColor:"var(--border)"}},J+1):m.a.createElement(yt.b,{seriesIndex:J,hasBreakdown:tn}),wn=typeof Wt=="function"?Wt({filter:V,index:J,onClose:Tt}):Wt,Fn=m.a.createElement(g.a,{overlay:m.a.createElement(X.a,{groupType:V.type,value:V.type==="actions"&&typeof Bt=="string"?parseInt(Bt):Bt||void 0,onChange:function(vt,Qt,Jt){Qe({type:Re(vt.type)||void 0,id:"".concat(Qt),name:Jt==null?void 0:Jt.name,index:J})},onClose:function(){return lt(null)},taxonomicGroupTypes:un}),visible:bn,onClickOutside:function(){return lt(null)}},function(tt){var vt=tt.setRef;return m.a.createElement(ce.a,{"data-attr":"trend-element-subject-"+J,onClick:Cn,block:ft,ref:vt,disabled:pn||$t,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},m.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},m.a.createElement(ue.a,{filter:V})),m.a.createElement(Ve.a,{style:{fontSize:10}}))}),Dn=typeof wt=="function"?wt({filter:V,index:J,onClose:Tt}):wt,In=m.a.createElement(ce.a,{type:"link",onClick:function(){typeof V.order=="number"&&yn(V.order,!Xt)},className:"row-action-btn show-filters".concat(Xt?" visible":""),"data-attr":"show-prop-filter-".concat(J),title:"Show filters",style:{display:"flex",alignItems:"center"}},m.a.createElement(I.IconFilter,{fontSize:"1.25em"}),!((w=V.properties)===null||w===void 0)&&w.length?Object(ke.qb)((j=V.properties)===null||j===void 0?void 0:j.length,"filter"):null),En=m.a.createElement(ce.a,{type:"link",onClick:function(){lt(V),Rt()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(J),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},m.a.createElement(I.IconEdit,{fontSize:"1.25em"})),Bn=m.a.createElement(ce.a,{type:"link",onClick:function(){Tn(V)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(J),title:"Duplicate graph series"},m.a.createElement(I.IconCopy,{fontSize:"1.25em"})),Mn=m.a.createElement(ce.a,{type:"link",onClick:Tt,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(J),title:"Delete graph series"},m.a.createElement(I.IconDelete,{fontSize:"1.25em"}));return m.a.createElement("div",{className:Object(Ue.a)({"action-row-striped":We&&Gt,"action-row":!We||!Gt,"full-width":ft})},!We&&J>0&&et&&m.a.createElement(se.a,{align:"middle",style:{marginTop:12}},on),m.a.createElement(se.a,{gutter:8,align:"middle",className:"".concat(We?"":"mt"," ").concat(kt),wrap:!ft},vn?vn({seriesIndicator:an,prefix:wn,filter:Fn,suffix:Dn,propertyFiltersButton:In,renameRowButton:En,deleteButton:Mn,orLabel:on}):m.a.createElement(m.a.Fragment,null,!At&&We&&!pt&&Ut>1&&m.a.createElement(oe.a,null,m.a.createElement(ce.a,{type:"link",onClick:Tt,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:m.a.createElement(at.a,null)})),dt&&m.a.createElement(oe.a,{className:"action-row-letter"},an),Wt!==void 0?m.a.createElement(oe.a,null,wn):m.a.createElement(m.a.Fragment,null,We&&m.a.createElement(oe.a,null,"Showing")),m.a.createElement(oe.a,{className:"column-filter",style:ft?{}:{maxWidth:"calc(".concat(He?"100":"50","% - 16px)")},flex:ft?"auto":void 0},Fn),wt!==void 0&&m.a.createElement(oe.a,{className:"column-row-suffix"},Dn),!He&&m.a.createElement(m.a.Fragment,null,We&&m.a.createElement(oe.a,null,"counted by"),m.a.createElement(oe.a,{style:{maxWidth:"calc(50% - 16px".concat(dt?" - 32px":"",")")}},m.a.createElement(Te,{math:zt,mathGroupTypeIndex:Et,index:J,onMathSelect:gn,style:{maxWidth:"100%",width:"initial"}})),((M=Ht[zt||""])===null||M===void 0?void 0:M.onProperty)&&m.a.createElement(m.a.Fragment,null,We&&m.a.createElement(oe.a,null,"on property"),m.a.createElement(oe.a,{style:{maxWidth:"calc(50% - 16px".concat(dt?" - 32px":"",")")}},m.a.createElement(te.c,{groupType:ae.a.NumericalEventProperties,value:bt,onChange:function(vt){return hn(J,vt)},eventNames:ht?[ht]:[],dataAttr:"math-property-select",renderValue:function(vt){return m.a.createElement($e.a,{title:m.a.createElement(m.a.Fragment,null,"Calculate"," ",Ht[zt!=null?zt:""].name.toLowerCase()," from property ",m.a.createElement("code",null,vt),". Note that only"," ",ht," occurences where ",m.a.createElement("code",null,vt)," is set with a numeric value will be taken into account."),placement:"right"},m.a.createElement("div",null,m.a.createElement(O.b,{value:vt,disablePopover:!0})))}})))),(We||ft)&&!it&&!$t&&m.a.createElement(oe.a,null,In),(We||ft)&&!Xe&&!$t&&m.a.createElement(oe.a,null,En),(We||ft)&&!it&&!pt&&!$t&&m.a.createElement(oe.a,null,Bn),!At&&!We&&!pt&&!$t&&m.a.createElement(oe.a,{className:"column-delete-btn"},Mn),We&&Ut>1&&J<Ut-1&&et&&on)),(!Fe||V.properties&&V.properties.length>0)&&!We&&!ft&&m.a.createElement("div",{style:{paddingTop:6}},m.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),m.a.createElement(ce.a,{className:"ant-btn-md",onClick:function(){return typeof V.order=="number"?yn(V.order,!Xt):void 0},"data-attr":"show-prop-filter-"+J},_(Xt,V))),Xt&&m.a.createElement("div",{className:"mr property-filter-wrapper ".concat(ln)},m.a.createElement(Ft.a,{pageKey:"".concat(J,"-").concat(Bt,"-filter"),propertyFilters:V.properties,onChange:function(vt){return jn({properties:vt,index:J})},disablePopover:We,style:{marginBottom:0},showNestedArrow:An,taxonomicGroupTypes:mn,eventNames:V.type===ae.a.Events&&V.id?[String(V.id)]:V.type===ae.a.Actions&&V.id?Object(ke.I)(parseInt(String(V.id)),sn):[]})))}function Te(d){var w=d.math,j=d.mathGroupTypeIndex,M=d.index,Se=d.onMathSelect,V=d.style,J="This can only be used on properties that have at least one number type occurence in your events.",He=Object(le.useValues)(Ee.c),Fe=He.eventMathEntries,pt=He.propertyMathEntries;return m.a.createElement(be.a,{style:$({width:150},V),value:Object(Ee.a)(w,j),onChange:function(it){return Se(M,it)},"data-attr":"math-selector-".concat(M),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},m.a.createElement(be.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},Fe.map(function(et){var it=q()(et,2),Xe=it[0],ye=it[1],Rt=ye.name,dt=ye.description,Ze=ye.onProperty;return m.a.createElement(be.a.Option,{key:Xe,value:Xe,"data-attr":"math-".concat(Xe,"-").concat(M)},m.a.createElement($e.a,{title:Ze?m.a.createElement(m.a.Fragment,null,dt,m.a.createElement("br",null),J):dt,placement:"right"},m.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},Rt)))}),Object(Me.a)({value:""})),m.a.createElement(be.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},pt.map(function(et){var it=q()(et,2),Xe=it[0],ye=it[1],Rt=ye.name,dt=ye.description,Ze=ye.onProperty;return m.a.createElement(be.a.Option,{key:Xe,value:Xe,"data-attr":"math-".concat(Xe,"-").concat(M)},m.a.createElement($e.a,{title:Ze?m.a.createElement(m.a.Fragment,null,dt,m.a.createElement("br",null),J):dt,placement:"right"},m.a.createElement("div",{style:{height:"100%",width:"100%"}},Rt)))})))}var we=(G={},re()(G,ae.a.Events,Oe.g.EVENTS),re()(G,ae.a.Actions,Oe.g.ACTIONS),G);function Re(d){return we[d]||null}try{je.displayName="ActionFilterRow",je.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:je.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(d){}try{Re.displayName="taxonomicFilterGroupTypeToEntityType",Re.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:Re.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(d){}var ct=t("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),ut=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),qe=t.n(ut),st=t("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),mt=Object(st.c)(function(){return m.a.createElement("span",{className:"action-filter-drag-handle"},m.a.createElement(I.SortableDragIcon,null))}),de=Object(st.b)(function(d){var w=d.filterCount,j=d.filterIndex,M=qe()(d,["filterCount","filterIndex"]),Se=w>1;return m.a.createElement("div",{className:"draggable-action-filter ".concat(Se?"drag-handle-visible":"")},Se?m.a.createElement(mt,null):m.a.createElement("span",{style:{marginLeft:4}}),m.a.createElement(je,f()({},M,{filterCount:w,index:j,key:j})))}),Ye=Object(st.a)(function(d){var w=d.children;return m.a.createElement("div",null,w)});try{de.displayName="SortableActionFilterRow",de.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:de.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(d){}try{Ye.displayName="SortableContainer",Ye.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:Ye.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(d){}var Dt=t("./node_modules/antd/es/modal/index.js"),Kt=t("./node_modules/antd/es/input/index.js"),K=t("./frontend/src/scenes/insights/utils.ts"),P=Object(le.kea)({props:{},key:function(w){return w.typeKey},path:function(w){return["scenes","insights","ActionFilter","renameModalLogic",w]},connect:{actions:[Je.a,["selectFilter"]]},actions:function(){return{setName:function(j){return{name:j}}}},reducers:function(w){var j,M=w.props;return{name:[(j=Object(K.c)(M.filter))!==null&&j!==void 0?j:"",{setName:function(V,J){var He=J.name;return He},selectFilter:function(V,J){var He,Fe=J.filter;return(He=Object(K.c)(Fe))!==null&&He!==void 0?He:""}}]}}});function y(d){var w,j=d.typeKey,M=d.view,Se=Object(le.useValues)(Je.a),V=Se.selectedFilter,J=Se.modalVisible,He=Object(le.useActions)(Je.a),Fe=He.renameFilter,pt=He.hideModal,et=P({typeKey:j,filter:V}),it=Object(le.useValues)(et),Xe=it.name,ye=Object(le.useActions)(et),Rt=ye.setName,dt=Object(me.useRef)(null);C(dt,{cursor:"all"},[J]);var Ze="Rename ".concat(M===Oe.s.FUNNELS?"funnel step":"graph series");return m.a.createElement(Dt.a,{"data-attr":"filter-rename-modal",visible:J,title:Ze,footer:m.a.createElement(m.a.Fragment,null,m.a.createElement(ce.a,{type:"link",onClick:pt},"Cancel"),m.a.createElement(ce.a,{type:"primary",onClick:function(){return Fe(Xe)}},Ze)),onCancel:pt},"Query series/steps can be renamed to provide a more"," ",m.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",m.a.createElement("br",null),m.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),m.a.createElement(Kt.a,{ref:dt,value:Xe,onPressEnter:function(){return Fe(Xe)},onChange:function(Ct){return Rt(Ct.target.value)},suffix:m.a.createElement("span",{className:"text-muted-alt"},(w=Object(K.c)(V,!1))!==null&&w!==void 0?w:"")}))}function C(d,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(me.useEffect)(function(){var M=setTimeout(function(){if(d.current){var Se;(Se=d.current)===null||Se===void 0||Se.focus(w)}},0);return function(){return clearTimeout(M)}},j)}try{y.displayName="RenameModal",y.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:y.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(d){}var B=t("./frontend/src/lib/utils/eventUsageLogic.ts"),N=t("./frontend/src/scenes/teamLogic.ts");function Z(d,w){var j=Object.keys(d);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(d);w&&(M=M.filter(function(Se){return Object.getOwnPropertyDescriptor(d,Se).enumerable})),j.push.apply(j,M)}return j}function ie(d){for(var w=1;w<arguments.length;w++){var j=arguments[w]!=null?arguments[w]:{};w%2?Z(Object(j),!0).forEach(function(M){re()(d,M,j[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(j)):Z(Object(j)).forEach(function(M){Object.defineProperty(d,M,Object.getOwnPropertyDescriptor(j,M))})}return d}var A=m.a.forwardRef(function(d,w){var j=d.setFilters,M=d.filters,Se=d.typeKey,V=d.addFilterDefaultOptions,J=V===void 0?{}:V,He=d.hideMathSelector,Fe=d.hidePropertySelector,pt=Fe===void 0?!1:Fe,et=d.buttonCopy,it=et===void 0?"":et,Xe=d.disabled,ye=Xe===void 0?!1:Xe,Rt=d.sortable,dt=Rt===void 0?!1:Rt,Ze=d.showSeriesIndicator,Lt=Ze===void 0?!1:Ze,Ct=d.seriesIndicatorType,We=Ct===void 0?"alpha":Ct,Vt=d.showOr,ft=Vt===void 0?!1:Vt,Ut=d.hideFilter,Wt=Ut===void 0?!1:Ut,wt=d.hideRename,kt=wt===void 0?!1:wt,ln=d.horizontalUI,dn=ln===void 0?!1:ln,Gt=d.fullWidth,tn=Gt===void 0?!1:Gt,Pn=d.customRowPrefix,An=d.customRowSuffix,It=d.rowClassName,At=d.entitiesLimit,cn=d.propertyFilterWrapperClassName,un=d.stripeActionRow,mn=un===void 0?!0:un,nn=d.customActions,pn=d.showNestedArrow,fn=pn===void 0?!1:pn,$t=d.actionsTaxonomicGroupTypes,vn=d.propertiesTaxonomicGroupTypes,Yt=d.hideDeleteBtn,Ot=d.renderRow,xn=d.buttonType,On=xn===void 0?"dashed":xn,jt=d.readOnly,Qe=jt===void 0?!1:jt,lt=Object(le.useValues)(N.a),Mt=lt.currentTeamId,rn=Object(Je.a)({teamId:Mt,setFilters:j,filters:M,typeKey:Se,addFilterDefaultOptions:J}),jn=Object(le.useActions)(B.f),yn=jn.reportFunnelStepReordered,Tn=Object(le.useValues)(rn),Nt=Tn.localFilters,sn=Object(le.useActions)(rn),Rn=sn.addFilter,Ht=sn.setLocalFilters,Xt=sn.showModal;Object(me.useEffect)(function(){Ht(M)},[M]);function Zt(bt){var Et=bt.oldIndex,Tt=bt.newIndex;function gn(hn,bn,Cn){var _t=Le()(hn);return Array.prototype.splice.call(_t,Cn,0,Array.prototype.splice.call(_t,bn,1)[0]),_t.map(function(on,an){return ie(ie({},on),{},{order:an})})}j(Object(Je.b)(gn(Nt,Et,Tt))),Et!==Tt&&yn()}var ht=At===1,Bt={logic:rn,showSeriesIndicator:Lt,seriesIndicatorType:We,hideMathSelector:He,hidePropertySelector:pt,customRowPrefix:Pn,customRowSuffix:An,rowClassName:It,propertyFilterWrapperClassName:cn,stripeActionRow:mn,hasBreakdown:!!M.breakdown,fullWidth:tn,actionsTaxonomicGroupTypes:$t,propertiesTaxonomicGroupTypes:vn,hideDeleteBtn:Yt,disabled:ye,readOnly:Qe,renderRow:Ot,hideRename:kt,onRenameClick:Xt},zt=Boolean(At&&Nt.length>=At);return m.a.createElement("div",{ref:w},!kt&&!Qe&&m.a.createElement(le.BindLogic,{logic:Je.a,props:{setFilters:j,filters:M,typeKey:Se,addFilterDefaultOptions:J}},m.a.createElement(y,{view:M.insight,typeKey:Se})),Nt?dt?m.a.createElement(Ye,{onSortEnd:Zt,lockAxis:"y",distance:5},Nt.map(function(bt,Et){return m.a.createElement(de,f()({key:Et,filter:bt,index:Et,filterIndex:Et,filterCount:Nt.length,showNestedArrow:fn},Bt))})):Nt.map(function(bt,Et){return m.a.createElement(je,f()({filter:bt,index:Et,key:Et,singleFilter:ht,showOr:ft,hideFilter:Wt||Qe,horizontalUI:dn,filterCount:Nt.length,showNestedArrow:fn},Bt))}):null,(!ht||nn)&&m.a.createElement("div",{className:Object(Ue.a)(On!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!ht&&m.a.createElement(ce.a,{type:On,onClick:function(){return Rn()},"data-attr":"add-action-event-button",icon:m.a.createElement(ct.a,null),disabled:zt||ye||Qe,className:"add-action-event-button"},zt?"Reached limit of ".concat(At," ").concat(M.insight===Oe.s.FUNNELS?"steps":"series"):it||"Action or event"),nn))});try{A.displayName="ActionFilter",A.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:A.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(d){}},"./frontend/src/scenes/persons/Person.tsx":function(z,S,t){"use strict";t.r(S),t.d(S,"scene",function(){return Dt}),t.d(S,"Person",function(){return K});var D=t("./node_modules/core-js/modules/es.array.join.js"),o=t("./node_modules/core-js/modules/es.array.map.js"),x=t("./node_modules/core-js/modules/es.array.slice.js"),Pe=t("./node_modules/react/index.js"),f=t.n(Pe),ve=t("./node_modules/antd/es/tabs/index.js"),re=t("./node_modules/antd/es/dropdown/index.js"),xe=t("./node_modules/antd/es/menu/index.js"),Le=t("./node_modules/antd/es/tag/index.js"),Ge=t("./node_modules/antd/es/popconfirm/index.js"),Ie=t("./node_modules/antd/es/button/index.js"),ze=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),W=t("./frontend/src/scenes/events/index.ts"),Ce=t("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),he=t("./node_modules/kea/lib/index.esm.js"),_e=t("./frontend/src/scenes/persons/personsLogic.ts"),me=t("./frontend/src/scenes/persons/PersonHeader.tsx"),m=t("./frontend/src/scenes/persons/Persons.scss"),le=t("./frontend/src/lib/components/CopyToClipboard.tsx"),Je=t("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Y=t("./node_modules/core-js/modules/es.array.filter.js"),Pt=t("./node_modules/core-js/modules/es.function.name.js"),rt=t("./node_modules/antd/es/modal/index.js"),ne=t("./node_modules/antd/es/row/index.js"),Ae=t("./node_modules/antd/es/radio/index.js"),Q=t("./node_modules/antd/es/col/index.js"),q=t("./node_modules/antd/es/select/index.js"),ce=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),se=t.n(ce),oe=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss"),be=t.n(oe),$e={};$e.insert="head",$e.singleton=!1;var Oe=se()(be.a,$e),Ft=be.a.locals||{},Ve=t("./node_modules/core-js/modules/es.array.iterator.js"),at=t("./node_modules/core-js/modules/es.object.to-string.js"),ke=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),yt=t("./node_modules/@babel/runtime/regenerator/index.js"),xt=t.n(yt),gt=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),v=t.n(gt),T=t("./node_modules/regenerator-runtime/runtime.js"),E=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),g=t.n(E),X=t("./node_modules/kea-router/lib/index.js"),ae=t("./frontend/src/lib/api.ts"),ue=t("./frontend/src/lib/components/lemonToast.tsx"),Ue=t("./frontend/src/lib/utils/eventUsageLogic.ts");function Ee(P,y){var C=Object.keys(P);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(P);y&&(B=B.filter(function(N){return Object.getOwnPropertyDescriptor(P,N).enumerable})),C.push.apply(C,B)}return C}function Me(P){for(var y=1;y<arguments.length;y++){var C=arguments[y]!=null?arguments[y]:{};y%2?Ee(Object(C),!0).forEach(function(B){v()(P,B,C[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(C)):Ee(Object(C)).forEach(function(B){Object.defineProperty(P,B,Object.getOwnPropertyDescriptor(C,B))})}return P}var L;(function(P){P.SPLIT="split",P.MERGE="merge"})(L||(L={}));var O=Object(he.kea)({props:{},key:function(y){return y.person.id},path:function(y){return["scenes","persons","mergeSplitPersonLogic",y||"new"]},connect:function(){return{actions:[Object(_e.a)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[Object(_e.a)({syncWithUrl:!0}),["persons"]]}},actions:{setActivity:function(y){return{activity:y}},setSelectedPersonsToMerge:function(y){return{persons:y}},setSelectedPersonToAssignSplit:function(y){return{id:y}},cancel:!0},reducers:function(y){var C=y.props;return{activity:[L.MERGE,{setActivity:function(N,Z){var ie=Z.activity;return ie}}],person:[C.person,{}],selectedPersonsToMerge:[[],{setSelectedPersonsToMerge:function(N,Z){var ie=Z.persons;return ie}}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:function(N,Z){var ie=Z.id;return ie}}]}},listeners:function(y){var C=y.actions,B=y.values;return{setListFilters:function(){C.loadPersons()},cancel:function(){B.executedLoading||C.setSplitMergeModalShown(!1)}}},loaders:function(y){var C=y.values,B=y.actions;return{executed:[!1,{execute:function(){var N=g()(xt.a.mark(function ie(){var A,d;return xt.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(C.activity!==L.MERGE){j.next=12;break}return j.next=3,ae.a.create("api/person/"+C.person.id+"/merge/",{ids:C.selectedPersonsToMerge});case 3:if(A=j.sent,!A.id){j.next=10;break}return ue.a.success("Persons have been merged"),Ue.f.actions.reportPersonMerged(C.selectedPersonsToMerge.length),B.setSplitMergeModalShown(!1),B.setPerson(A),j.abrupt("return",!0);case 10:j.next=21;break;case 12:return j.next=14,ae.a.create("api/person/"+C.person.id+"/split/",Me({},C.selectedPersonsToAssignSplit?{main_distinct_id:C.selectedPersonsToAssignSplit}:{}));case 14:if(d=j.sent,!d.success){j.next=21;break}return ue.a.success("Person succesfully split. This may take up to a couple of minutes to complete"),Ue.f.actions.reportPersonSplit(C.person.distinct_ids.length),B.setSplitMergeModalShown(!1),X.router.actions.push("/persons"),j.abrupt("return",!0);case 21:return j.abrupt("return",!1);case 22:case"end":return j.stop()}},ie)}));function Z(){return N.apply(this,arguments)}return Z}()}]}},events:function(y){var C=y.actions;return{afterMount:[C.loadPersons]}}}),te=t("./frontend/src/lib/utils.tsx"),I=t("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),G=t("./frontend/src/lib/components/Tooltip.tsx");function k(P){var y=P.person,C={person:y},B=Object(he.useValues)(O(C)),N=B.activity,Z=B.executedLoading,ie=Object(he.useActions)(O(C)),A=ie.setActivity,d=ie.execute,w=ie.cancel;return f.a.createElement(rt.a,{visible:!0,title:"Merge/split persons",onCancel:w,className:"merge-split-person",okText:"".concat(Object(te.j)(N)," persons"),onOk:d,okButtonProps:{loading:Z},cancelButtonProps:{disabled:Z}},f.a.createElement("div",{className:"activity-header"},f.a.createElement(ne.a,{align:"middle"},f.a.createElement(Ae.a.Group,{onChange:function(M){return A(M.target.value)},value:N},f.a.createElement(Q.a,{className:"tab-btn ant-btn"},f.a.createElement(Ae.a,{value:"merge"},"Merge")),f.a.createElement(Q.a,{className:"tab-btn ant-btn"},f.a.createElement(Ae.a,{value:"split",disabled:y.distinct_ids.length<2},y.distinct_ids.length<2?f.a.createElement(G.a,{title:"Only persons with more than two distinct IDs can be split.",delayMs:0},"Split"):f.a.createElement(f.a.Fragment,null,"Split")))))),f.a.createElement(he.BindLogic,{logic:O,props:C},f.a.createElement(f.a.Fragment,null,N===L.MERGE?f.a.createElement($,null):f.a.createElement(_,null))))}function $(){var P=Object(he.useValues)(O),y=P.persons,C=P.person,B=P.executedLoading,N=Object(he.useActions)(O),Z=N.setListFilters,ie=N.setSelectedPersonsToMerge;return f.a.createElement(f.a.Fragment,null,f.a.createElement("p",{className:"mb"},"Merge all properties and events of the selected persons into ",f.a.createElement("strong",null,C.name)," ",f.a.createElement("span",{style:{fontSize:"1.2em"}},"("),f.a.createElement("code",{title:C.distinct_ids[0]},Object(te.kb)(C.distinct_ids[0],20)),f.a.createElement("span",{style:{fontSize:"1.2em"}},")"),". Properties get merged based on timestamps, see more details on"," ",f.a.createElement("a",{href:"https://posthog.com/docs/integrate/user-properties#how-do-values-get-overridden"},"PostHog Docs"),"."),f.a.createElement(q.a,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Please select persons to merge",onChange:function(d){return ie(d)},filterOption:!1,onSearch:function(d){Z({search:d})},className:"mt",disabled:B},y.results&&y.results.filter(function(A){return A.uuid!==C.uuid}).map(function(A){return A.id?f.a.createElement(q.a.Option,{value:A.id,key:A.id},A.name):void 0})),f.a.createElement(I.a,{style:{marginTop:16},type:"danger"},"This action is not reversible. Please be sure before continuing."))}function _(){var P=Object(he.useValues)(O),y=P.person,C=P.executedLoading,B=Object(he.useActions)(O),N=B.setSelectedPersonToAssignSplit;return y?f.a.createElement(f.a.Fragment,null,f.a.createElement("p",null,"This will split all Distinct IDs for this person into unique persons."),f.a.createElement("p",null,"You can select a distinct ID for which all the current properties will be assigned (",f.a.createElement("i",null,"optional"),"). All other new users will start without any properties."),f.a.createElement(q.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:function(ie){return N(ie)},filterOption:!1,disabled:C},y==null?void 0:y.distinct_ids.map(function(Z){return f.a.createElement(q.a.Option,{value:Z,key:Z},Z)})),f.a.createElement(I.a,{style:{marginTop:16},type:"danger"},f.a.createElement("div",null,"This will create ",f.a.createElement("strong",null,y.distinct_ids.length-1)," new"," ",Object(te.qb)(y.distinct_ids.length,"person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."))):null}try{k.displayName="MergeSplitPerson",k.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:k.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(P){}var je=t("./frontend/src/lib/components/LemonTable/index.ts"),Te=t("./frontend/src/scenes/urls.ts"),we=t("./frontend/src/lib/components/Link.tsx");function Re(){var P=Object(he.useValues)(_e.a),y=P.cohorts,C=P.cohortsLoading,B=P.person,N=Object(he.useActions)(_e.a),Z=N.loadCohorts;Object(Pe.useEffect)(function(){Z()},[B]);var ie=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function(d,w){return f.a.createElement(we.a,{to:Te.a.cohort(w.id)},f.a.createElement("strong",null,w.name))},sorter:function(d,w){return(d.name||"").localeCompare(w.name||"")}},{title:"Users in cohort",render:function(d){return d==null?void 0:d.toLocaleString()},dataIndex:"count",sorter:function(d,w){return(d.count||0)-(w.count||0)}}];return f.a.createElement(je.a,{dataSource:y||[],loading:C,columns:ie,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var ct=t("./frontend/src/lib/components/PropertiesTable.tsx"),ut=t("./frontend/src/lib/components/TimezoneAware/index.tsx"),qe=t("./frontend/src/types.ts"),st=t("./frontend/src/lib/components/PageHeader.tsx"),mt=t("./frontend/src/scenes/groups/RelatedGroups.tsx"),de=t("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Ye=ve.a.TabPane,Dt={component:K,logic:_e.a,paramsToProps:function(y){var C=y.params;return{syncWithUrl:!0,urlId:C._}}};function Kt(P){var y=P.person;return f.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},f.a.createElement("div",{className:"mr"},f.a.createElement("span",{className:"text-muted"},"IDs:")," ",f.a.createElement(le.a,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"}},y.distinct_ids[0]),y.distinct_ids.length>1&&f.a.createElement(re.a,{overlay:f.a.createElement(xe.a,null,y.distinct_ids.slice(1).map(function(C){return f.a.createElement(xe.a.Item,{key:C},f.a.createElement(le.a,{description:"person distinct ID",iconStyle:{color:"var(--primary)"}},C))})),trigger:["click"]},f.a.createElement(Le.a,{className:"extra-ids"},"+",y.distinct_ids.length-1,f.a.createElement(Je.a,null)))),f.a.createElement("div",null,f.a.createElement("span",{className:"text-muted"},"First seen:")," ",y.created_at?f.a.createElement(ut.b,{time:y.created_at}):"unknown"))}function K(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=P._,C={syncWithUrl:!0,urlId:y},B=Object(he.useValues)(Object(_e.a)(C)),N=B.person,Z=B.personLoading,ie=B.deletedPersonLoading,A=B.currentTab,d=B.showSessionRecordings,w=B.splitMergeModalShown,j=Object(he.useActions)(Object(_e.a)(C)),M=j.deletePerson,Se=j.editProperty,V=j.navigateToTab,J=j.setSplitMergeModalShown,He=Object(he.useValues)(de.b),Fe=He.groupsEnabled;return N?f.a.createElement(he.BindLogic,{logic:_e.a,props:C},f.a.createElement(st.a,{title:Object(me.b)(N),caption:f.a.createElement(Kt,{person:N}),buttons:f.a.createElement("div",null,f.a.createElement(Ge.a,{title:"Are you sure you want to delete this person?",onConfirm:M,okText:"Yes, delete ".concat(Object(me.b)(N)),cancelText:"No, cancel"},f.a.createElement(Ie.a,{className:"text-danger",disabled:ie,loading:ie,"data-attr":"delete-person"},"Delete person")),f.a.createElement(Ie.a,{onClick:function(){return J(!0)},"data-attr":"merge-person-button",style:{marginLeft:8}},"Split or merge IDs"))}),f.a.createElement(ve.a,{activeKey:A,onChange:function(et){V(et)}},f.a.createElement(Ye,{tab:f.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:qe.x.PROPERTIES},f.a.createElement(ct.a,{properties:N.properties||{},searchable:!0,onEdit:Se,sortProperties:!0,embedded:!1,onDelete:function(et){return Se(et,void 0)}})),f.a.createElement(Ye,{tab:f.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:qe.x.EVENTS},f.a.createElement(W.a,{pageKey:N.distinct_ids.join("__"),fixedFilters:{person_id:N.id},hidePersonColumn:!0,sceneUrl:Te.a.person(y||N.distinct_ids[0]||String(N.id),!1)})),d&&f.a.createElement(Ye,{tab:f.a.createElement("span",{"data-attr":"person-session-recordings-tab"},"Recordings"),key:qe.x.SESSION_RECORDINGS},f.a.createElement(Ce.a,{key:N.uuid,personUUID:N.uuid,isPersonPage:!0})),f.a.createElement(Ye,{tab:f.a.createElement("span",{"data-attr":"persons-cohorts-tab"},"Cohorts"),key:qe.x.COHORTS},f.a.createElement(Re,null)),Fe&&N.uuid&&f.a.createElement(Ye,{tab:f.a.createElement("span",{"data-attr":"persons-related-tab"},"Related groups",f.a.createElement(G.a,{title:"People and groups that have shared events with this person in the last 90 days."},f.a.createElement(ze.a,{style:{marginLeft:6,marginRight:0}}))),key:qe.x.RELATED},f.a.createElement(mt.a,{id:N.uuid,groupTypeIndex:null}))),w&&N&&f.a.createElement(k,{person:N})):Z?f.a.createElement(te.b,null):f.a.createElement(st.a,{title:"Person not found",caption:y?`There's no person matching distinct ID "`.concat(y,'".'):void 0})}try{K.displayName="Person",K.__docgenInfo={description:"",displayName:"Person",props:{_:{defaultValue:null,description:"",name:"_",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Person.tsx#Person"]={docgenInfo:K.__docgenInfo,name:"Person",path:"frontend/src/scenes/persons/Person.tsx#Person"})}catch(P){}},"./frontend/src/scenes/persons/Persons.scss":function(z,S,t){"use strict";var D=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=t.n(D),x=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),Pe=t.n(x),f={};f.insert="head",f.singleton=!1;var ve=o()(Pe.a,f),re=Pe.a.locals||{}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return Ln});var D=t("./node_modules/react/index.js"),o=t.n(D),x=t("./frontend/src/lib/components/Drawer.tsx"),Pe=t("./node_modules/core-js/modules/es.object.to-string.js"),f=t("./node_modules/core-js/modules/es.regexp.to-string.js"),ve=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),re=t.n(ve),xe=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),Le=t.n(xe),Ge={};Ge.insert="head",Ge.singleton=!1;var Ie=re()(Le.a,Ge),ze=Le.a.locals||{},W=t("./node_modules/kea/lib/index.esm.js"),Ce=t("./node_modules/core-js/modules/es.array.index-of.js"),he=t("./node_modules/core-js/modules/es.array.iterator.js"),_e=t("./node_modules/core-js/modules/es.array.slice.js"),me=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),m=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),le=t.n(m),Je=t("./node_modules/@babel/runtime/regenerator/index.js"),Y=t.n(Je),Pt=t("./node_modules/regenerator-runtime/runtime.js"),rt=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ne=t.n(rt),Ae=t("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),Q=t("./frontend/src/lib/utils/eventUsageLogic.ts"),q=t("./frontend/src/types.ts"),ce=t("./frontend/src/lib/utils/responsiveUtils.tsx"),se=t("./node_modules/core-js/modules/es.array.concat.js"),oe=t("./node_modules/core-js/modules/es.array.for-each.js"),be=t("./node_modules/core-js/modules/es.array.includes.js"),$e=t("./node_modules/core-js/modules/es.array.join.js"),Oe=t("./node_modules/core-js/modules/es.array.map.js"),Ft=t("./node_modules/core-js/modules/es.object.entries.js"),Ve=t("./node_modules/core-js/modules/es.object.values.js"),at=t("./node_modules/core-js/modules/es.regexp.exec.js"),ke=t("./node_modules/core-js/modules/es.string.ends-with.js"),yt=t("./node_modules/core-js/modules/es.string.includes.js"),xt=t("./node_modules/core-js/modules/es.string.iterator.js"),gt=t("./node_modules/core-js/modules/es.string.replace.js"),v=t("./node_modules/core-js/modules/es.string.search.js"),T=t("./node_modules/core-js/modules/es.string.split.js"),E=t("./node_modules/core-js/modules/es.string.starts-with.js"),g=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),X=t("./node_modules/core-js/modules/web.url.js"),ae=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),ue=t.n(ae),Ue=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ee=t.n(Ue),Me=t("./node_modules/fuse.js/dist/fuse.esm.js"),L=t("./frontend/src/lib/api.ts"),O=t("./frontend/src/lib/utils.tsx"),te=t("./frontend/src/scenes/teamLogic.ts"),I=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),G=t("./frontend/src/lib/dayjs.ts"),k=t("./node_modules/core-js/modules/es.array.from.js"),$=t("./node_modules/core-js/modules/es.function.name.js");function _(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=je(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(p){throw p},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,u;return{s:function(){e=r[Symbol.iterator]()},n:function(){var p=e.next();return i=p.done,p},e:function(p){l=!0,u=p},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw u}}}}function je(r,n){if(!!r){if(typeof r=="string")return Te(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Te(r,n)}}function Te(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,s=new Array(n);e<n;e++)s[e]=r[e];return s}var we=15,Re=we/2;function ct(r){return"touches"in r}function ut(r){return"clientX"in r}var qe=function(n){if(ct(n)){var e,s,a,i,l;return(e=n==null||(s=n.touches)===null||s===void 0||(a=s[0])===null||a===void 0?void 0:a.pageX)!==null&&e!==void 0?e:n==null||(i=n.changedTouches)===null||i===void 0||(l=i[0])===null||l===void 0?void 0:l.pageX}return ut(n)?n==null?void 0:n.clientX:0};function st(r,n,e){if(r.windowId===n.windowId)return r.time-n.time;var s=_(e),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return-1;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return 1}}catch(l){s.e(l)}finally{s.f()}throw"Could not find player positions in segments"}function mt(r,n){var e=_(n),s;try{for(e.s();!(s=e.n()).done;){var a=s.value;if(r.windowId===a.windowId&&r.time>=a.startPlayerPosition.time&&r.time<=a.endPlayerPosition.time)return a}}catch(i){e.e(i)}finally{e.f()}return null}function de(r,n){var e=0,s=_(n),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return e+r.time-i.startPlayerPosition.time;e+=i.durationMs}}catch(l){s.e(l)}finally{s.f()}return null}function Ye(r,n){var e=0,s=_(n),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(e+i.durationMs>r)return{windowId:i.windowId,time:r-e+i.startPlayerPosition.time};e+=i.durationMs}}catch(l){s.e(l)}finally{s.f()}return r===e&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function Dt(r,n,e){if(e&&n in e){var s=e[n].startTimeEpochMs,a=e[n].endTimeEpochMs;return s>r||a<r?null:{windowId:n,time:r-s}}return null}function Kt(r,n){if(r.windowId in n){var e=n[r.windowId].startTimeEpochMs;return e+r.time}return null}var K=function(n,e,s,a){var i=n/e*a;return Ye(i,s)},P=function(n,e,s,a){var i=de(n,s);return(i!=null?i:0)/a*e},y=t("./frontend/src/lib/components/lemonToast.tsx"),C=t("./node_modules/fast-deep-equal/index.js"),B=t.n(C),N=t("./frontend/src/lib/logic/featureFlagLogic.ts"),Z=t("./frontend/src/lib/constants.tsx");function ie(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,s)}return e}function A(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ie(Object(e),!0).forEach(function(s){ue()(r,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ie(Object(e)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(e,s))})}return r}function d(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=w(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(p){throw p},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,u;return{s:function(){e=r[Symbol.iterator]()},n:function(){var p=e.next();return i=p.done,p},e:function(p){l=!0,u=p},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw u}}}}function w(r,n){if(!!r){if(typeof r=="string")return j(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return j(r,n)}}function j(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,s=new Array(n);e<n;e++)s[e]=r[e];return s}var M=!1,Se="rrweb/console@1",V=function(n){var e=n.segments.map(function(a){var i=+Object(G.a)(n.start_and_end_times_by_window_id[a.window_id].start_time),l=+Object(G.a)(a==null?void 0:a.start_time),u=+Object(G.a)(a==null?void 0:a.end_time),c={windowId:a.window_id,time:l-i},p={windowId:a.window_id,time:u-i},h=u-l;return{startPlayerPosition:c,endPlayerPosition:p,durationMs:h,startTimeEpochMs:l,endTimeEpochMs:u,windowId:a.window_id,isActive:a.is_active}}),s={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(a){var i=Ee()(a,2),l=i[0],u=i[1];s[l]={startTimeEpochMs:+Object(G.a)(u.start_time),endTimeEpochMs:+Object(G.a)(u.end_time)}}),{segments:e,startAndEndTimesByWindowId:s,recordingDurationMs:Object(O.zb)(e.map(function(a){return a.durationMs}))}},J=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=null;if(n&&e&&s){var i=d(n),l;try{for(i.s();!(l=i.n()).done;){var u,c=l.value,p=((u=e[c.windowId])!==null&&u!==void 0?u:[]).slice(-1).pop();if(p&&p.timestamp>=c.startTimeEpochMs){var h=s[c.windowId].startTimeEpochMs;a={windowId:c.windowId,time:Math.min(p.timestamp-h,c.endPlayerPosition.time)}}else return a}}catch(b){i.e(b)}finally{i.f()}}return a},He=function(n){return n.map(function(e){var s,a,i;return A(A({},e),{},{queryValue:"".concat((s=(a=(i=Object(I.d)(e.event,"event"))===null||i===void 0?void 0:i.label)!==null&&a!==void 0?a:e.event)!==null&&s!==void 0?s:""," ").concat(Object(O.B)(e)).replace(/['"]+/g,"")})})},Fe=Object(W.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[Q.f],values:[te.a,["currentTeamId"],N.a,["featureFlags"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,e){return{recordingData:n,loadTime:e}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,e){return{sessionRecordingId:n,url:e}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,e){var s=e.filters;return A(A({},n),s)}}],sessionRecordingId:[null,{loadRecording:function(n,e){var s=e.sessionRecordingId;return s!=null?s:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,e){var s=e.sessionEventsData;return!!(s!=null&&s.next)}}],source:[Q.d.Unknown,{setSource:function(n,e){var s=e.source;return s}}]},listeners:function(n){var e=n.values,s=n.actions,a=n.sharedListeners,i=n.cache;return{loadRecordingMetaSuccess:function(){i.eventsStartTime=performance.now(),s.loadEvents()},loadRecordingSnapshotsSuccess:function(){var u;!((u=e.sessionPlayerData)===null||u===void 0)&&u.next?s.loadRecordingSnapshots(void 0,e.sessionPlayerData.next):Q.f.actions.reportRecording(e.sessionPlayerData,e.source,performance.now()-i.startTime,q.D.LOADED,0),e.chunkPaginationIndex===1&&s.reportUsage(e.sessionPlayerData,performance.now()-i.startTime)},loadEventsSuccess:function(){var u;if(!((u=e.sessionEventsData)===null||u===void 0)&&u.next)s.loadEvents(e.sessionEventsData.next);else{var c,p,h;Q.f.actions.reportRecordingEventsFetched((c=(p=e.sessionEventsData)===null||p===void 0||(h=p.events)===null||h===void 0?void 0:h.length)!==null&&c!==void 0?c:0,performance.now()-i.eventsStartTime),i.eventsStartTime=null}},loadRecordingMetaFailure:a.showErrorToast,loadRecordingSnapshotsFailure:a.showErrorToast,loadEventsFailure:a.showErrorToast,reportUsage:function(){var l=ne()(Y.a.mark(function c(p,h){var b,R;return Y.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return b=p.recordingData,R=p.loadTime,F.next=3,h();case 3:return Q.f.actions.reportRecording(b,e.source,R,q.D.VIEWED,0),F.next=6,h(M?1:1e4);case 6:Q.f.actions.reportRecording(b,e.source,R,q.D.ANALYZED,10);case 7:case"end":return F.stop()}},c)}));function u(c,p){return l.apply(this,arguments)}return u}()}},sharedListeners:function(){return{showErrorToast:function(e){var s=e.error;y.a.error(s)}}},loaders:function(n){var e=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var s=ne()(Y.a.mark(function i(l,u){var c,p,h,b,R,U,F,H,pe,De,fe;return Y.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return U=l.sessionRecordingId,F=Object(O.Ab)({save_view:!0}),ee.next=4,L.a.get("api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(U,"?").concat(F));case 4:return H=ee.sent,pe=(c=H.result)===null||c===void 0?void 0:c.session_recording,De=V(pe),fe=J(De.segments,(p=e.sessionPlayerData)===null||p===void 0?void 0:p.snapshotsByWindowId,De.startAndEndTimesByWindowId),u(),ee.abrupt("return",A(A({},e.sessionPlayerData),{},{person:(h=H.result)===null||h===void 0?void 0:h.person,metadata:De,bufferedTo:fe,snapshotsByWindowId:(b=A({},(R=e.sessionPlayerData)===null||R===void 0?void 0:R.snapshotsByWindowId))!==null&&b!==void 0?b:{}}));case 10:case"end":return ee.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}(),loadRecordingSnapshots:function(){var s=ne()(Y.a.mark(function i(l,u){var c,p,h,b,R,U,F,H,pe,De,fe,ge,ee,Ke,Ne;return Y.a.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return pe=l.sessionRecordingId,De=l.url,fe=De||"api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(pe,"/snapshots?").concat(Object(O.Ab)({limit:e.featureFlags[Z.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),nt.next=4,L.a.get(fe);case 4:return ge=nt.sent,u(),ee=A({},(c=(p=e.sessionPlayerData)===null||p===void 0?void 0:p.snapshotsByWindowId)!==null&&c!==void 0?c:{}),Ke=(h=ge.result)===null||h===void 0?void 0:h.snapshot_data_by_window_id,Object.entries(Ke).forEach(function(Be){var St,qt=Ee()(Be,2),en=qt[0],Sn=qt[1];ee[en]=[].concat(le()((St=ee[en])!==null&&St!==void 0?St:[]),le()(Sn))}),Ne=J((b=e.sessionPlayerData)===null||b===void 0||(R=b.metadata)===null||R===void 0?void 0:R.segments,ee,(U=e.sessionPlayerData)===null||U===void 0||(F=U.metadata)===null||F===void 0?void 0:F.startAndEndTimesByWindowId),nt.abrupt("return",A(A({},e.sessionPlayerData),{},{bufferedTo:Ne,snapshotsByWindowId:ee,next:(H=ge.result)===null||H===void 0?void 0:H.next}));case 11:case"end":return nt.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}()},sessionEventsData:{loadEvents:function(){var s=ne()(Y.a.mark(function i(l,u){var c,p,h,b,R,U,F,H,pe;return Y.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(b=l.url,e.eventsApiParams){fe.next=3;break}return fe.abrupt("return",e.sessionEventsData);case 3:return R=b||"api/projects/".concat(e.currentTeamId,"/events?").concat(Object(O.Ab)(e.eventsApiParams)),fe.next=6,L.a.get(R);case 6:return U=fe.sent,u(),F=[],H=[],pe=(c=U.results)!==null&&c!==void 0?c:[],pe.forEach(function(ge){var ee,Ke,Ne,ot,nt=Dt(+Object(G.a)(ge.timestamp)-1e3,(ee=(Ke=ge.properties)===null||Ke===void 0?void 0:Ke.$window_id)!==null&&ee!==void 0?ee:"",(Ne=e.sessionPlayerData)===null||Ne===void 0||(ot=Ne.metadata)===null||ot===void 0?void 0:ot.startAndEndTimesByWindowId);if(nt===null){var Be,St,qt,en;nt=Dt(+Object(G.a)(ge.timestamp),(Be=(St=ge.properties)===null||St===void 0?void 0:St.$window_id)!==null&&Be!==void 0?Be:"",(qt=e.sessionPlayerData)===null||qt===void 0||(en=qt.metadata)===null||en===void 0?void 0:en.startAndEndTimesByWindowId)}if(nt!==null){var Sn=de(nt,e.sessionPlayerData.metadata.segments);Sn!==null&&H.push(A(A({},ge),{},{playerTime:Sn,playerPosition:nt,percentageOfRecordingDuration:100*Sn/e.sessionPlayerData.metadata.recordingDurationMs}))}}),F=[].concat(le()((p=(h=e.sessionEventsData)===null||h===void 0?void 0:h.events)!==null&&p!==void 0?p:[]),H).sort(function(ge,ee){return ge.playerTime-ee.playerTime}),fe.abrupt("return",A(A({},e.sessionEventsData),{},{next:U==null?void 0:U.next,events:F}));case 14:case"end":return fe.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}()}}},selectors:{eventsToShow:[function(r){return[r.filters,r.sessionEventsData]},function(r,n){var e,s=(e=n==null?void 0:n.events)!==null&&e!==void 0?e:[];return r!=null&&r.query?new Me.a(He(s),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(i,l){return s[i.idx].timestamp-s[l.idx].timestamp||i.score-l.score}}).search(r.query).map(function(a){return a.item}):s}],eventsApiParams:[function(r){return[r.sessionPlayerData]},function(r){var n,e,s,a=(n=r.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,i=(e=r.metadata.segments.slice(-1).pop())===null||e===void 0?void 0:e.endTimeEpochMs;if(!(!(r==null||(s=r.person)===null||s===void 0)&&s.id)||!a||!i)return null;var l=6e4;return{person_id:r.person.id,after:G.a.utc(a).subtract(l,"ms").format(),before:G.a.utc(i).add(l,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(r){return[r.sessionPlayerData]},function(r){var n,e,s=[];return r==null||(n=r.metadata)===null||n===void 0||(e=n.segments)===null||e===void 0||e.forEach(function(a){var i;r==null||(i=r.snapshotsByWindowId[a.windowId])===null||i===void 0||i.forEach(function(l){if(l.type===6&&l.data.plugin===Se&&l.timestamp>=a.startTimeEpochMs&&l.timestamp<=a.endTimeEpochMs){var u,c,p=l.data.payload,h=p.level,b=p.payload,R=p.trace,U=b==null||(u=b.map)===null||u===void 0?void 0:u.call(b,function(ee){return ee.startsWith('"')&&ee.endsWith('"')?ee.slice(1,-1):ee}).join(" "),F,H;if(R&&R.length>0){var pe=R[0].split("(").slice(-1)[0].replace(")",""),De=pe.split(":"),fe=De.slice(-2).join(":");if(H=De.slice(0,-2).join(":"),De.length>=4)try{var ge=new URL(H).pathname.split("/").slice(-1)[0];F="".concat(ge,":").concat(fe)}catch(ee){F=":".concat(fe)}else F=":".concat(fe)}s.push({playerPosition:Dt(l.timestamp,a.windowId,r==null||(c=r.metadata)===null||c===void 0?void 0:c.startAndEndTimesByWindowId),parsedTraceURL:H,parsedTraceString:F,parsedPayload:U,level:h})}})}),s}],areAllSnapshotsLoaded:[function(r){return[r.sessionPlayerData]},function(r){var n,e;return(r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&B()(r==null||(e=r.metadata)===null||e===void 0?void 0:e.segments.slice(-1)[0].endPlayerPosition,r==null?void 0:r.bufferedTo)}]},urlToAction:function(n){var e=n.actions,s=n.values,a=n.cache,i=function(u,c,p){var h=c.source,b=p.sessionRecordingId;h&&Object.values(Q.d).includes(h)&&e.setSource(h),s&&b&&b!==s.sessionRecordingId&&(a.startTime=performance.now(),e.loadRecordingMeta(b),e.loadRecordingSnapshots(b))};return{"/recordings":i,"/person/*":i,"/insights/*":i}}});function pt(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=et(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(p){throw p},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,u;return{s:function(){e=r[Symbol.iterator]()},n:function(){var p=e.next();return i=p.done,p},e:function(p){l=!0,u=p},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw u}}}}function et(r,n){if(!!r){if(typeof r=="string")return it(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return it(r,n)}}function it(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,s=new Array(n);e<n;e++)s[e]=r[e];return s}var Xe=[.5,1,2,4,8,16],ye=Object(W.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[Q.f],values:[Fe,["sessionRecordingId","sessionPlayerData"]],actions:[Fe,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:e}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(e,s){var a=s.frame;return a}}],player:[null,{setPlayer:function(e,s){var a=s.player;return a}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(e,s){var a=s.playerPosition;return a}}],currentSegment:[null,{setCurrentSegment:function(e,s){var a=s.segment;return a}}],speed:[1,{persist:!0},{setSpeed:function(e,s){var a=s.speed;return a}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(e,s){var a=s.skipInactivitySetting;return a}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(e,s){var a=s.isSkippingInactivity;return a}}],scale:[1,{setScale:function(e,s){var a=s.scale;return a}}],playingState:[q.C.PLAY,{setPlay:function(){return q.C.PLAY},setPause:function(){return q.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(r){return[r.playingState,r.isBuffering,r.isScrubbing,r.isSkippingInactivity]},function(r,n,e,s){return e?r:n?q.C.BUFFER:s&&r!==q.C.PAUSE?q.C.SKIP:r}],currentPlayerTime:[function(r){return[r.currentPlayerPosition,r.sessionPlayerData]},function(r,n){var e;if((n==null||(e=n.metadata)===null||e===void 0?void 0:e.segments)&&r){var s;return de(r,n==null||(s=n.metadata)===null||s===void 0?void 0:s.segments)}return 0}],jumpTimeMs:[function(r){return[r.speed]},function(r){return 10*1e3*r}]},listeners:function(n){var e=n.values,s=n.actions,a=n.cache;return{setRootFrame:function(){s.tryInitReplayer()},tryInitReplayer:function(){var l,u,c=(l=(u=e.currentPlayerPosition)===null||u===void 0?void 0:u.windowId)!==null&&l!==void 0?l:null;if(s.setPlayer(null),e.rootFrame&&(e.rootFrame.innerHTML=""),!e.rootFrame||c===null||!e.sessionPlayerData.snapshotsByWindowId[c]||e.sessionPlayerData.snapshotsByWindowId[c].length<2){s.setPlayer(null);return}var p=new Ae.a(e.sessionPlayerData.snapshotsByWindowId[c],{root:e.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});s.setPlayer({replayer:p,windowId:c})},setPlayer:function(l){var u=l.player;u&&(s.seek(e.currentPlayerPosition),s.syncPlayerSpeed())},setCurrentSegment:function(l){var u=l.segment;if(!u.isActive&&e.skipInactivitySetting?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1),e.player&&e.player.windowId!==u.windowId){var c,p;(c=e.player)===null||c===void 0||(p=c.replayer)===null||p===void 0||p.pause(),s.tryInitReplayer()}s.seek(e.currentPlayerPosition)},setSkipInactivitySetting:function(l){var u,c=l.skipInactivitySetting;Q.f.actions.reportRecordingPlayerSkipInactivityToggled(c),!(!((u=e.currentSegment)===null||u===void 0)&&u.isActive)&&c?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1)},setSkippingInactivity:function(){s.syncPlayerSpeed()},syncPlayerSpeed:function(){if(e.isSkippingInactivity){var l,u,c,p,h,b,R,U=(((l=(u=e.currentSegment)===null||u===void 0||(c=u.endPlayerPosition)===null||c===void 0?void 0:c.time)!==null&&l!==void 0?l:0)-((p=(h=e.currentPlayerPosition)===null||h===void 0?void 0:h.time)!==null&&p!==void 0?p:0))/1e3,F=Math.max(50,U);(b=e.player)===null||b===void 0||(R=b.replayer)===null||R===void 0||R.setConfig({speed:F})}else{var H,pe;(H=e.player)===null||H===void 0||(pe=H.replayer)===null||pe===void 0||pe.setConfig({speed:e.speed})}},checkBufferingCompleted:function(){e.currentPlayerPosition&&e.sessionPlayerData.bufferedTo&&e.currentPlayerState===q.C.BUFFER&&st(e.currentPlayerPosition,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)<0&&(s.endBuffer(),s.seek(e.currentPlayerPosition))},initializePlayerFromStart:function(){var l,u,c=(l=e.sessionPlayerData)===null||l===void 0||(u=l.metadata)===null||u===void 0?void 0:u.segments[0];c&&(s.setCurrentSegment(c),s.setCurrentPlayerPosition(c.startPlayerPosition),e.player||s.tryInitReplayer())},loadRecordingMetaSuccess:function(){var i=ne()(Y.a.mark(function u(c,p){return Y.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:s.initializePlayerFromStart(),s.checkBufferingCompleted(),p();case 3:case"end":return b.stop()}},u)}));function l(u,c){return i.apply(this,arguments)}return l}(),loadRecordingSnapshotsSuccess:function(){var i=ne()(Y.a.mark(function u(c,p){var h,b,R,U,F,H,pe,De,fe,ge,ee,Ke,Ne,ot;return Y.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(H=(h=(b=e.player)===null||b===void 0||(R=b.replayer)===null||R===void 0?void 0:R.service.state.context.events)!==null&&h!==void 0?h:[],pe=[],((U=e.currentSegment)===null||U===void 0?void 0:U.windowId)!==void 0&&pe.push.apply(pe,le()(((De=e.sessionPlayerData.snapshotsByWindowId[(fe=e.currentSegment)===null||fe===void 0?void 0:fe.windowId])!==null&&De!==void 0?De:[]).slice(H.length))),!(!((F=e.player)===null||F===void 0)&&F.replayer)){Be.next=23;break}ge=pt(pe),Be.prev=5,ge.s();case 7:if((ee=ge.n()).done){Be.next=13;break}return ot=ee.value,Be.next=11,(Ke=e.player)===null||Ke===void 0||(Ne=Ke.replayer)===null||Ne===void 0?void 0:Ne.addEvent(ot);case 11:Be.next=7;break;case 13:Be.next=18;break;case 15:Be.prev=15,Be.t0=Be.catch(5),ge.e(Be.t0);case 18:return Be.prev=18,ge.f(),Be.finish(18);case 21:Be.next=24;break;case 23:s.initializePlayerFromStart();case 24:s.checkBufferingCompleted(),p();case 26:case"end":return Be.stop()}},u,null,[[5,15,18,21]])}));function l(u,c){return i.apply(this,arguments)}return l}(),setPlay:function(){var l;s.stopAnimation(),s.syncPlayerSpeed();var u=e.currentPlayerPosition||((l=e.currentSegment)===null||l===void 0?void 0:l.startPlayerPosition);u&&s.seek(u,!0)},setPause:function(){var l,u;s.stopAnimation(),s.syncPlayerSpeed(),(l=e.player)===null||l===void 0||(u=l.replayer)===null||u===void 0||u.pause()},startBuffer:function(){s.stopAnimation()},startScrub:function(){s.stopAnimation()},setSpeed:function(l){var u=l.speed;Q.f.actions.reportRecordingPlayerSpeedChanged(u),s.syncPlayerSpeed()},seek:function(){var i=ne()(Y.a.mark(function u(c,p){var h,b,R,U,F,H,pe,De,fe,ge,ee,Ke,Ne;return Y.a.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:R=c.playerPosition,U=c.forcePlay,s.stopAnimation(),s.setCurrentPlayerPosition(R),F=null,R&&((h=e.sessionPlayerData)===null||h===void 0?void 0:h.metadata)&&(F=mt(R,e.sessionPlayerData.metadata.segments),F&&(F.windowId!==((H=e.currentSegment)===null||H===void 0?void 0:H.windowId)||F.startTimeEpochMs!==((pe=e.currentSegment)===null||pe===void 0?void 0:pe.startTimeEpochMs))&&s.setCurrentSegment(F)),!(!((b=e.sessionPlayerData)===null||b===void 0)&&b.bufferedTo)||!R||!e.currentSegment||st(R,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0?((De=e.player)===null||De===void 0||(fe=De.replayer)===null||fe===void 0||fe.pause(),s.startBuffer()):!U&&e.currentPlayerState===q.C.PAUSE?((ge=e.player)===null||ge===void 0||(ee=ge.replayer)===null||ee===void 0||ee.pause(R.time),s.endBuffer()):((Ke=e.player)===null||Ke===void 0||(Ne=Ke.replayer)===null||Ne===void 0||Ne.play(R.time),s.updateAnimation(),s.endBuffer()),p();case 7:case"end":return nt.stop()}},u)}));function l(u,c){return i.apply(this,arguments)}return l}(),seekForward:function(){if(e.currentPlayerPosition){var l=de(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var u=l+e.jumpTimeMs,c=Ye(u,e.sessionPlayerData.metadata.segments);c||(s.setPause(),c=e.sessionPlayerData.metadata.segments[0].startPlayerPosition),s.seek(c)}}},seekBackward:function(){if(e.currentPlayerPosition){var l=de(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var u=Math.max(l-e.jumpTimeMs,0),c=Ye(u,e.sessionPlayerData.metadata.segments);s.seek(c)}}},togglePlayPause:function(){e.currentPlayerState!==q.C.BUFFER&&(e.currentPlayerState===q.C.PAUSE?s.setPlay():s.setPause())},updateAnimation:function(){var l,u,c,p,h=(l=e.player)===null||l===void 0||(u=l.replayer)===null||u===void 0?void 0:u.getCurrentTime(),b=null;if(h!==void 0&&e.currentSegment&&(b={windowId:e.currentSegment.windowId,time:Math.min(h,e.currentSegment.endPlayerPosition.time)}),b&&((c=e.currentSegment)===null||c===void 0?void 0:c.endPlayerPosition)&&st(b,(p=e.currentSegment)===null||p===void 0?void 0:p.endPlayerPosition,e.sessionPlayerData.metadata.segments)>=0){var R=e.sessionPlayerData.metadata.segments.indexOf(e.currentSegment)+1;if(R<e.sessionPlayerData.metadata.segments.length){var U=e.sessionPlayerData.metadata.segments[R];s.setCurrentPlayerPosition(U.startPlayerPosition),s.setCurrentSegment(U)}else s.setPause(),s.setCurrentPlayerPosition(e.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!e.sessionPlayerData.bufferedTo||!b||!e.currentSegment||st(b,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0){var F,H;(F=e.player)===null||F===void 0||(H=F.replayer)===null||H===void 0||H.pause(),s.startBuffer()}else s.setCurrentPlayerPosition(b),a.timer=requestAnimationFrame(s.updateAnimation)},stopAnimation:function(){a.timer&&cancelAnimationFrame(a.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(ce.b)("md")}},events:function(n){var e=n.values,s=n.actions;return{beforeUnmount:function(){var i,l;(i=e.player)===null||i===void 0||(l=i.replayer)===null||l===void 0||l.pause(),s.setPlayer(null)}}}}),Rt=t("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),dt=t("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function Ze(r){var n=r.children,e=r.onClick,s=e===void 0?function(){}:e,a=r.className,i=a===void 0?"":a;return o.a.createElement("div",{onClick:s,className:"rrweb-controller-icon ".concat(i)},n)}function Lt(r){var n=r.onClick,e=r.time;return o.a.createElement(Ze,{onClick:n,className:"rrweb-controller-icon-seek"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"seek-seconds"},e),o.a.createElement(Rt.a,{className:"seek-icon",rotate:90})))}function Ct(r){var n=r.onClick,e=r.time;return o.a.createElement(Ze,{onClick:n,className:"rrweb-controller-icon-seek"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"seek-seconds"},e),o.a.createElement(dt.a,{className:"seek-icon",rotate:270})))}function We(r){var n=r.onClick,e=r.className,s=e===void 0?"":e;return o.a.createElement(Ze,{onClick:n,className:s},o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Vt(r){var n=r.onClick,e=r.className,s=e===void 0?"":e;return o.a.createElement(Ze,{onClick:n,className:s},o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function ft(r){var n=r.onClick,e=r.className,s=e===void 0?"":e;return o.a.createElement(Ze,{onClick:n,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Ut(r){var n=r.onClick,e=r.className,s=e===void 0?"":e;return o.a.createElement(Ze,{onClick:n,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function Wt(r){var n=r.onClick,e=r.className,s=e===void 0?"":e;return o.a.createElement(Ze,{onClick:n,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Lt.displayName="IconSeekBack",Lt.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Lt.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(r){}try{Ct.displayName="IconSeekForward",Ct.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:Ct.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(r){}try{We.displayName="IconPlay",We.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:We.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(r){}try{Vt.displayName="IconPause",Vt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Vt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(r){}try{ft.displayName="IconFullscreen",ft.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:ft.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(r){}try{Ut.displayName="IconStepForward",Ut.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Ut.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(r){}try{Wt.displayName="IconStepBackward",Wt.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:Wt.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(r){}var wt=o.a.forwardRef(function(n,e){var s=Object(D.useRef)(),a=Object(W.useValues)(ye),i=a.currentPlayerState,l=a.player,u=Object(W.useActions)(ye),c=u.togglePlayPause,p=u.setScale,h=e;Object(D.useEffect)(function(){if(!!l)return l.replayer.on("resize",R),window.addEventListener("resize",b),function(){return window.removeEventListener("resize",b)}},[l==null?void 0:l.replayer]);var b=function(){R(s.current)},R=function(H){var pe;if(!(!H||!(!(h==null||(pe=h.current)===null||pe===void 0)&&pe.parentElement)||!(l!=null&&l.replayer))){s.current=H;var De=h.current.parentElement.getBoundingClientRect(),fe=De.width,ge=De.height,ee=Math.min(fe/H.width,ge/H.height,1);l.replayer.wrapper.style.transform="scale(".concat(ee,")"),h.current.style.paddingLeft="".concat((fe-H.width*ee)/2,"px"),h.current.style.paddingTop="".concat((ge-H.height*ee)/2,"px"),h.current.style.marginBottom="-".concat(ge-H.height*ee,"px"),p(ee)}},U=function(){return i===q.C.BUFFER?o.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):i===q.C.PAUSE?o.a.createElement("div",{className:"rrweb-overlay"},o.a.createElement(We,{className:"rrweb-overlay-play-icon"})):i===q.C.SKIP?o.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return o.a.createElement("div",{className:"rrweb-player",onClick:c},o.a.createElement("div",{ref:e}),o.a.createElement("div",{className:"rrweb-overlay-container"},U()))});try{wt.displayName="PlayerFrame",wt.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:wt.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(r){}var kt=t("./node_modules/antd/es/select/index.js"),ln=t("./node_modules/antd/es/switch/index.js"),dn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),Gt=t.n(dn),tn={};tn.insert="head",tn.singleton=!1;var Pn=re()(Gt.a,tn),An=Gt.a.locals||{},It=t("./node_modules/clsx/dist/clsx.m.js"),At=Object(W.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[ye,["sessionPlayerData","currentPlayerPosition"],Fe,["eventsToShow"]],actions:[ye,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,e){return{thumbLeftPos:n,shouldSeek:e}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:e}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-Re,{setThumbLeftPos:function(n,e){var s=e.thumbLeftPos;return s}}],cursorDiff:[0,{setCursorDiff:function(n,e){var s=e.cursorDiff;return s}}],slider:[null,{setSlider:function(n,e){var s=e.ref;return s.current}}],thumb:[null,{setThumb:function(n,e){var s=e.ref;return s.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(r){return[r.sessionPlayerData]},function(r){var n,e;if((r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments)&&(r==null||(e=r.metadata)===null||e===void 0?void 0:e.recordingDurationMs)){var s,a=(s=de(r.bufferedTo,r.metadata.segments))!==null&&s!==void 0?s:0;return 100*a/r.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(r){return[r.thumbLeftPos,r.slider,r.sessionPlayerData]},function(r,n,e){var s;return r&&n&&(e==null||(s=e.metadata)===null||s===void 0?void 0:s.recordingDurationMs)?(r+Re)/n.offsetWidth*e.metadata.recordingDurationMs:0}]},listeners:function(n){var e=n.values,s=n.actions;return{setCurrentPlayerPosition:function(){var a=ne()(Y.a.mark(function l(){var u,c,p,h;return Y.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(e.slider){R.next=2;break}return R.abrupt("return");case 2:(!e.isSeeking||e.currentPlayerPosition===((u=e.sessionPlayerData)===null||u===void 0||(c=u.metadata)===null||c===void 0||(p=c.segments[0])===null||p===void 0?void 0:p.startPlayerPosition))&&(h=e.currentPlayerPosition?P(e.currentPlayerPosition,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs):0,s.setThumbLeftPos(h-Re,!1));case 3:case"end":return R.stop()}},l)}));function i(){return a.apply(this,arguments)}return i}(),setThumbLeftPos:function(i){var l,u=i.thumbLeftPos,c=i.shouldSeek;if(!!e.slider&&c&&((l=e.sessionPlayerData)===null||l===void 0?void 0:l.metadata)){var p=K(u+Re,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs);s.seek(p)}},handleSeek:function(){var a=ne()(Y.a.mark(function l(u){var c,p,h,b,R;return Y.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return h=u.newX,b=u.shouldSeek,R=(c=(p=e.slider)===null||p===void 0?void 0:p.offsetWidth)!==null&&c!==void 0?c:0,F.next=4,s.setThumbLeftPos(Object(O.m)(h,0,R)-Re,b);case 4:s.endSeeking();case 5:case"end":return F.stop()}},l)}));function i(l){return a.apply(this,arguments)}return i}(),handleMove:function(){var a=ne()(Y.a.mark(function l(u){var c,p;return Y.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(c=u.event,e.slider){b.next=3;break}return b.abrupt("return");case 3:s.startScrub(),p=qe(c)-e.cursorDiff-e.slider.getBoundingClientRect().left,s.handleSeek(p,!1);case 6:case"end":return b.stop()}},l)}));function i(l){return a.apply(this,arguments)}return i}(),handleUp:function(i){var l=i.event;if(!!e.slider){var u=qe(l)-e.cursorDiff-e.slider.getBoundingClientRect().left;s.handleSeek(u),s.endScrub(),document.removeEventListener("touchmove",s.handleMove),document.removeEventListener("touchend",s.handleUp),document.removeEventListener("mousemove",s.handleMove),document.removeEventListener("mouseup",s.handleUp)}},handleDown:function(i){var l=i.event;if(!!e.thumb){s.startScrub();var u=qe(l),c=u-e.thumb.getBoundingClientRect().left-Re;Math.abs(c)>we&&(c=0),s.setCursorDiff(c),document.addEventListener("touchmove",s.handleMove),document.addEventListener("touchend",s.handleUp),document.addEventListener("mousemove",s.handleMove),document.addEventListener("mouseup",s.handleUp)}},handleTickClick:function(i){var l=i.playerPosition;e.isSeeking||s.handleSeek(P(l,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var e=n.actions,s=n.values,a=n.cache;return{afterMount:function(){a.setCurrentPlayerPosition=function(){e.setCurrentPlayerPosition(s.currentPlayerPosition)},window.addEventListener("resize",a.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",a.setCurrentPlayerPosition)}}}});function cn(r){var n=r.event,e=Object(D.useState)(!1),s=Ee()(e,2),a=s[0],i=s[1],l=Object(W.useActions)(At),u=l.handleTickClick,c=Object(W.useActions)(Q.f),p=c.reportRecordingPlayerSeekbarEventHovered;return o.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(b){b.stopPropagation(),u(n.playerPosition)},onMouseEnter:function(b){b.stopPropagation(),i(!0),p()},onMouseLeave:function(b){b.stopPropagation(),i(!1)}},o.a.createElement("div",{className:Object(It.a)("tick-info",{show:a})},n.event),o.a.createElement("div",{className:"tick-marker"}),o.a.createElement("div",{className:Object(It.a)("tick-thumb",{big:a})}))}function un(){var r,n,e=Object(D.useRef)(null),s=Object(D.useRef)(null),a=Object(W.useActions)(At),i=a.handleDown,l=a.setSlider,u=a.setThumb,c=Object(W.useValues)(Fe),p=c.eventsToShow,h=c.sessionPlayerData,b=Object(W.useValues)(At),R=b.thumbLeftPos,U=b.bufferPercent;return Object(D.useEffect)(function(){e.current&&s.current&&(l(e),u(s))},[e.current,s.current]),o.a.createElement("div",{className:"rrweb-controller-slider"},o.a.createElement("div",{className:"slider",ref:e,onMouseDown:i,onTouchStart:i},o.a.createElement("div",{className:"inactivity-bar"},h==null||(r=h.metadata)===null||r===void 0||(n=r.segments)===null||n===void 0?void 0:n.map(function(F){return o.a.createElement("div",{key:"".concat(F.windowId,"-").concat(F.startTimeEpochMs),className:Object(It.a)("activity-section",!F.isActive&&"inactive-section"),style:{width:"".concat(100*F.durationMs/h.metadata.recordingDurationMs,"%")}})})),o.a.createElement("div",{className:"slider-bar"}),o.a.createElement("div",{className:"thumb",ref:s,style:{transform:"translateX(".concat(R,"px)")}}),o.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(R,0),"px")}}),o.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(U,"% - 2px)")}})),o.a.createElement("div",{className:"ticks"},p.map(function(F){return o.a.createElement(cn,{key:F.id,event:F})})))}var mn=t("./node_modules/antd/es/tooltip/index.js");function nn(){var r,n,e,s=Object(W.useActions)(ye),a=s.seekBackward,i=s.seekForward,l=Object(W.useValues)(ye),u=l.jumpTimeMs,c=l.currentPlayerTime,p=l.sessionPlayerData,h=Object(W.useValues)(At),b=h.isScrubbing,R=h.scrubbingTime;return o.a.createElement(o.a.Fragment,null,o.a.createElement(mn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(u/1e3,"s (\u2190 left arrow)")},o.a.createElement("span",null,o.a.createElement(Lt,{onClick:a,time:u/1e3}))),o.a.createElement(mn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(u/1e3,"s (\u2192 right arrow)")},o.a.createElement("span",null,o.a.createElement(Ct,{onClick:i,time:u/1e3}))),o.a.createElement("div",{className:"rrweb-timestamp"},Object(O.o)(((r=b?R:c)!==null&&r!==void 0?r:0)/1e3)," /"," ",Object(O.o)(Math.floor(((n=p==null||(e=p.metadata)===null||e===void 0?void 0:e.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function pn(){var r=Object(W.useActions)(ye),n=r.togglePlayPause,e=r.setSpeed,s=r.setSkipInactivitySetting,a=Object(W.useValues)(ye),i=a.currentPlayerState,l=a.speed,u=a.isSmallScreen,c=a.skipInactivitySetting;return o.a.createElement("div",{className:"rrweb-controller"},o.a.createElement("span",null,i===q.C.PLAY?o.a.createElement(Vt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):o.a.createElement(We,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!u&&o.a.createElement(nn,null),o.a.createElement("div",{className:"rrweb-progress"},o.a.createElement(un,null)),o.a.createElement(kt.a,{onChange:function(h){return e(h)},value:l,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},o.a.createElement(kt.a.OptGroup,{label:"Speed"},Xe.map(function(p){return o.a.createElement(kt.a.Option,{key:p,value:p},p,"x")}))),o.a.createElement("div",{onClick:function(){s(!c)},className:"rrweb-inactivity-toggle"},o.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),o.a.createElement(ln.a,{checked:c,size:"small"})))}var fn=t("./node_modules/core-js/modules/es.symbol.js"),$t=t("./node_modules/core-js/modules/es.symbol.description.js"),vn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),Yt=t.n(vn),Ot={};Ot.insert="head",Ot.singleton=!1;var xn=re()(Yt.a,Ot),On=Yt.a.locals||{},jt=t("./node_modules/antd/es/empty/index.js"),Qe=t("./node_modules/antd/es/row/index.js"),lt=t("./node_modules/antd/es/col/index.js"),Mt=t("./node_modules/antd/es/skeleton/index.js"),rn=t("./node_modules/antd/es/input/index.js"),jn=t("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),yn=t("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),Tn=t("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),Nt=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),sn=t("./node_modules/react-virtualized/dist/es/List/index.js"),Rn=t("./node_modules/react-virtualized/dist/es/Grid/index.js"),Ht=t("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Xt=t("./node_modules/core-js/modules/es.array.find-index.js");function Zt(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,s)}return e}function ht(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Zt(Object(e),!0).forEach(function(s){ue()(r,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Zt(Object(e)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(e,s))})}return r}var Bt=65,zt=50,bt=150*5,Et=Object(W.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[Q.f],actions:[Fe,["setFilters","loadEventsSuccess"],ye,["seek"]],values:[Fe,["eventsToShow","sessionEventsDataLoading"],ye,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,e){var s=e.filters;return ht(ht({},n),s)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,e){var s=e.renderMeta;return s}}],list:[null,{setList:function(n,e){var s=e.list;return s}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var e=n.actions,s=n.values;return{setLocalFilters:function(){var a=ne()(Y.a.mark(function l(u,c){return Y.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,c(250);case 2:e.setFilters(s.localFilters);case 3:case"end":return h.stop()}},l)}));function i(l,u){return a.apply(this,arguments)}return i}(),scrollTo:function(){var a=ne()(Y.a.mark(function l(u,c){var p,h;return Y.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return p=u.rowIndex,h=p!=null?p:s.currentEventsIndices.startIndex,s.list&&(s.list.scrollToPosition(s.list.getOffsetForRow({alignment:"center",index:h})),Q.f.actions.reportRecordingScrollTo(h)),R.next=5,c(bt);case 5:e.enablePositionFinder();case 6:case"end":return R.stop()}},l)}));function i(l,u){return a.apply(this,arguments)}return i}(),handleEventClick:function(i){var l=i.playerPosition;l&&e.seek(l)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(e){var s;return ht(ht({},e),{},{colonTimestamp:Object(O.o)(Math.floor(((s=e.playerTime)!==null&&s!==void 0?s:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,e){var s;if(n.length<1)return{start:0,end:0};var a=n.findIndex(function(u){var c;return((c=u.playerTime)!==null&&c!==void 0?c:0)>=Object(O.k)(e!=null?e:0)}),i=Math.max(Object(O.k)(e!=null?e:0),1e3),l=Object(O.E)((s=n[Object(O.m)(a===-1?n.length-1:a-1,0,n.length-1)].playerTime)!==null&&s!==void 0?s:0);return{start:l,end:i}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,e){return function(s){var a,i,l,u;return((a=e==null||(i=e[s])===null||i===void 0?void 0:i.playerTime)!==null&&a!==void 0?a:0)>=n.start&&((l=e==null||(u=e[s])===null||u===void 0?void 0:u.playerTime)!==null&&l!==void 0?l:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,e){return{startIndex:Object(O.m)(n.findIndex(function(s,a){return e(a)}),0,n.length-1),stopIndex:Object(O.m)(Object(O.C)(n,function(s,a){return e(a)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,e){if(!e||!e.Grid||n.startIndex>=e.Grid.props.rowCount||n.stopIndex>e.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var s=e.Grid.state,a=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,i=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:a,height:i.offset+i.size-a}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(e){return e>=n.overscanStartIndex&&e<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,e,s){return!s&&(n.stopIndex<e.startIndex||n.startIndex>e.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,e){return n.startIndex>e.stopIndex}]}}}),Tt=t("./frontend/src/lib/components/icons.tsx");function gn(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),e.push.apply(e,s)}return e}function hn(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?gn(Object(e),!0).forEach(function(s){ue()(r,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gn(Object(e)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(e,s))})}return r}function bn(r){var n=r.cellCount,e=r.overscanCellsCount,s=r.startIndex,a=r.stopIndex,i=Math.floor(e/2),l=e-i;return{overscanStartIndex:Math.max(0,s-i),overscanStopIndex:Math.min(n-1,a+l)}}var Cn=function(n){return n.event==="$pageview"?o.a.createElement(Tt.PageviewIcon,null):n.event==="$pageleave"?o.a.createElement(Tt.PageleaveIcon,null):n.event==="$autocapture"?o.a.createElement(Tt.AutocaptureIcon,null):o.a.createElement(Tt.EventIcon,null)};function _t(){return o.a.createElement("div",{className:"event-list-empty-container"},o.a.createElement(jt.a,{image:jt.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function on(r){var n=r.description,e=Object(D.useRef)(null);return o.a.createElement("span",{className:Object(It.a)("event-item-content-subtitle",Object(O.U)(e.current)&&"overflowing"),title:n},o.a.createElement("div",{className:"inner",ref:e},n))}function an(){var r=Object(D.useRef)(null),n=Object(W.useValues)(Et),e=n.localFilters,s=n.listEvents,a=n.currentEventsBoxSizeAndPosition,i=n.showPositionFinder,l=n.isRowIndexRendered,u=n.isEventCurrent,c=n.isDirectionUp,p=n.renderedRows,h=Object(W.useValues)(Fe),b=h.sessionEventsDataLoading,R=Object(W.useActions)(Et),U=R.setLocalFilters,F=R.setRenderedRows,H=R.setList,pe=R.scrollTo,De=R.disablePositionFinder,fe=R.handleEventClick;Object(D.useEffect)(function(){r!=null&&r.current&&H(r.current)},[r.current]);var ge=Object(D.useCallback)(function(Ne){var ot=Ne.index,nt=Ne.style,Be=Ne.key,St=s[ot],qt=Object(I.d)(St.event,"event"),en=u(ot);return o.a.createElement(Qe.a,{key:Be,className:Object(It.a)("event-list-item",{"current-event":en}),align:"top",style:hn(hn({},nt),{},{zIndex:s.length-ot}),onClick:function(){fe(St.playerPosition)}},o.a.createElement(lt.a,{className:"event-item-icon"},o.a.createElement("div",{className:"event-item-icon-wrapper"},Cn(St))),o.a.createElement(lt.a,{className:Object(It.a)("event-item-content",{rendering:!l(ot)})},o.a.createElement(Qe.a,{className:"event-item-content-top-row"},o.a.createElement(I.b,{className:"event-item-content-title",value:St.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),o.a.createElement("span",{className:"event-item-content-timestamp"},St.colonTimestamp)),qt&&o.a.createElement(on,{description:Object(O.j)(Object(O.B)(St,!0))}),o.a.createElement(Mt.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[s.length,p.startIndex,p.stopIndex,a.top,a.height]),ee=Object(D.useCallback)(function(Ne){var ot=Object(Rn.c)(Ne);return s.length>0&&ot.push(o.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:a.height,transform:"translateY(".concat(a.top,"px)")}})),ot},[a.top,a.height,b,s.length]);return o.a.createElement(lt.a,{className:"player-events-container"},o.a.createElement(rn.a,{prefix:o.a.createElement(jn.a,null),placeholder:"Search for events",value:e.query,onChange:function(Ne){return U({query:Ne.target.value})}}),o.a.createElement(lt.a,{className:"event-list"},b?o.a.createElement(O.b,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Object(It.a)("current-events-position-finder",{visible:i})},o.a.createElement(Qe.a,{className:"left",align:"middle",wrap:!1,onClick:function(){pe()}},c?o.a.createElement(yn.a,null):o.a.createElement(Tn.a,null),"Jump to current time"),o.a.createElement(Qe.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){De()}},o.a.createElement(Nt.a,null))),o.a.createElement(Ht.a,null,function(Ke){var Ne=Ke.height,ot=Ke.width;return o.a.createElement(sn.b,{ref:r,className:"event-list-virtual",height:Ne,width:ot,onRowsRendered:F,noRowsRenderer:_t,cellRangeRenderer:ee,overscanRowCount:zt,overscanIndicesGetter:bn,rowCount:s.length,rowRenderer:ge,rowHeight:Bt})}))))}var wn=t("./node_modules/antd/es/tabs/index.js"),Fn=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Dn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),In=t.n(Dn),En={};En.insert="head",En.singleton=!1;var Bn=re()(In.a,En),Mn=In.a.locals||{},tt=t("./node_modules/antd/es/space/index.js"),vt=t("./frontend/src/lib/components/ProfilePicture/index.ts"),Qt=t("./frontend/src/scenes/persons/PersonHeader.tsx"),Jt=t("./node_modules/core-js/modules/es.array.filter.js"),er=t("./node_modules/core-js/modules/es.array.some.js"),Vn=function(n,e){return e.some(function(s){var a;return!(!(n==null||(a=n.properties)===null||a===void 0)&&a[s])})?null:e.map(function(s){var a;return n==null||(a=n.properties)===null||a===void 0?void 0:a[s]}).join(", ")},_n=Object(W.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[Fe,["sessionPlayerData"],ye,["currentPlayerPosition","scale"]],actions:[Fe,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(r){return[r.sessionPlayerData]},function(r){return r==null?void 0:r.person}],description:[function(r){return[r.sessionPerson]},function(r){var n=Vn(r,["$geoip_city_name","$geoip_country_code"]),e=Vn(r,["$browser","$os"]);return[e,n].filter(function(s){return s}).join(" \xB7 ")}],resolution:[function(r){return[r.sessionPlayerData,r.currentPlayerPosition]},function(r,n){var e,s;if(!n)return null;var a=(e=r.snapshotsByWindowId[n.windowId])!==null&&e!==void 0?e:[],i=(s=Kt(n,r.metadata.startAndEndTimesByWindowId))!==null&&s!==void 0?s:0,l=Object(O.C)(a,function(c){return c.timestamp<i&&"width"in c.data});if(l===-1)return null;var u=a[l];return{width:u.data.width,height:u.data.height}}],recordingStartTime:[function(r){return[r.sessionPlayerData]},function(r){var n,e;return r==null||(n=r.metadata)===null||n===void 0||(e=n.segments[0])===null||e===void 0?void 0:e.startTimeEpochMs}]}}),kn=t("./frontend/src/scenes/funnels/funnelUtils.ts"),Gn=t("./frontend/src/lib/components/TimezoneAware/index.tsx");function $n(){var r,n=Object(W.useValues)(_n),e=n.sessionPerson,s=n.description,a=n.resolution,i=n.scale,l=n.recordingStartTime,u=n.loading;return o.a.createElement(lt.a,{className:"player-meta-container"},o.a.createElement(Qe.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},o.a.createElement(Qe.a,{className:"player-meta-person-title",align:"middle",wrap:!1},u?o.a.createElement(tt.b,null,o.a.createElement(Mt.a.Avatar,{active:!0,size:"small",shape:"circle"}),o.a.createElement(Mt.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(vt.a,{name:e==null?void 0:e.name,email:e==null||(r=e.properties)===null||r===void 0?void 0:r.$email,size:"md",style:{marginRight:"0.5rem"}}),o.a.createElement("span",{className:"email"},o.a.createElement(Qt.a,{person:e,withIcon:!1})))),o.a.createElement(lt.a,null,u?o.a.createElement(Mt.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):o.a.createElement("span",{className:"time text-muted"},l&&o.a.createElement(Gn.b,{time:Object(G.a)(l)})))),o.a.createElement(Qe.a,{className:"player-meta-other",align:"middle",justify:"start"},o.a.createElement(Qe.a,{className:"player-meta-other-description"},u?o.a.createElement(Mt.a,{title:!1,active:!0,paragraph:{rows:1}}):o.a.createElement("span",null,s)),o.a.createElement(Qe.a,{className:"player-meta-other-resolution mt-05"},u?o.a.createElement(Mt.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):o.a.createElement("span",null,a?o.a.createElement(o.a.Fragment,null,"Resolution: ",a.width," x ",a.height," (",Object(kn.c)(i),"%)"):o.a.createElement(o.a.Fragment,null,"Resolution: ...")))))}var Yn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Un=t.n(Yn),Nn={};Nn.insert="head",Nn.singleton=!1;var tr=re()(Un.a,Nn),nr=Un.a.locals||{},Wn=t("./frontend/src/lib/components/LemonButton/index.ts"),Hn=t("./frontend/src/lib/components/Spinner/Spinner.tsx");function Xn(){var r=Object(W.useValues)(Fe),n=r.orderedConsoleLogs,e=r.areAllSnapshotsLoaded,s=Object(W.useActions)(Q.f),a=s.reportRecordingConsoleFeedback,i=Object(W.useActions)(ye),l=i.seek,u=Object(D.useState)(!1),c=Ee()(u,2),p=c[0],h=c[1],b=function(U,F){return o.a.createElement("div",{className:"log-line level-".concat(U.level),key:F,onClick:function(){l(U.playerPosition)}},o.a.createElement("div",{className:"trace-string"},U.parsedTraceURL?o.a.createElement("a",{className:"text-muted",href:U.parsedTraceURL,target:"_blank"},U.parsedTraceString):o.a.createElement("span",{className:"text-muted"},U.parsedTraceString)),o.a.createElement("p",{className:"log-text"},U.parsedPayload))};return o.a.createElement("div",{className:"console-log-container"},o.a.createElement("div",{className:"console-log"},e?n.length>0?o.a.createElement(Ht.a,null,function(R){var U=R.height,F=R.width;return o.a.createElement("div",{style:{height:U,width:F,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(H,pe){return b(H,pe)}),o.a.createElement("div",null,n.length>150&&o.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):o.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},o.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),o.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",o.a.createElement("code",null,"posthog-js"),"."),o.a.createElement(Wn.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):o.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},o.a.createElement(Hn.a,{size:"lg"}))),o.a.createElement("div",{className:"console-feedback-container"},o.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),p?o.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(R,U){return o.a.createElement(Wn.a,{type:"secondary",key:U,style:{margin:"0 8px"},onClick:function(){h(!0),a(n.length,R[0],"Are you finding the console log feature useful?")}},R[1])}))))}var Zn=t("./frontend/src/lib/components/Tooltip.tsx");function Qn(){var r=Object(W.useActions)(ye),n=r.togglePlayPause,e=r.seekForward,s=r.seekBackward,a=r.setSpeed,i=r.setRootFrame,l=Object(W.useValues)(ye),u=l.isSmallScreen,c=Object(D.useRef)(null);Object(D.useEffect)(function(){c.current&&i(c.current)},[c]);var p=function(b){var R;if(!(!((R=b.target)===null||R===void 0)&&R.matches("input")))if(b.key===" ")n(),b.preventDefault();else if(b.key==="ArrowLeft")s();else if(b.key==="ArrowRight")e();else for(var U=0;U<Xe.length;U++)b.key===(U+1).toString()&&a(Xe[U])};return o.a.createElement(lt.a,{className:"session-player-v2",onKeyDown:p,tabIndex:0,flex:1},o.a.createElement(Qe.a,{className:"session-player-body",wrap:!1},o.a.createElement("div",{className:"player-container ph-no-capture"},o.a.createElement(wt,{ref:c})),!u&&o.a.createElement(Kn,null)),o.a.createElement(Qe.a,{className:"player-controller",align:"middle"},o.a.createElement(pn,null)),u&&o.a.createElement(Kn,null))}var zn=wn.a.TabPane;function Kn(){var r=Object(W.useValues)(N.a),n=r.featureFlags,e=Object(W.useValues)(Fe),s=e.orderedConsoleLogs,a=Object(W.useActions)(Q.f),i=a.reportRecordingConsoleViewed,l=n[Z.n.SESSION_CONSOLE];return o.a.createElement(lt.a,{className:"player-sidebar"},o.a.createElement("div",{className:"player-meta"},o.a.createElement($n,null)),o.a.createElement("div",{className:"player-events"},l?o.a.createElement(wn.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(c){c==="console"&&i(s.length)}},o.a.createElement(zn,{tab:"Events",key:"events"},o.a.createElement(an,null)),o.a.createElement(zn,{tab:o.a.createElement("div",null,"Console (beta)",o.a.createElement(Zn.a,{title:"While console logs are in beta, only 150 logs are displayed."},o.a.createElement(Fn.a,{style:{marginLeft:6}}))),key:"console"},o.a.createElement(Xn,null))):o.a.createElement(an,null)))}var Jn=t("./node_modules/antd/es/button/index.js"),qn=t("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function Ln(r){var n=r.isPersonPage,e=n===void 0?!1:n,s=r.onClose;return o.a.createElement(x.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:s,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},o.a.createElement(lt.a,{style:{height:"100vh"}},o.a.createElement(Qe.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},o.a.createElement(Jn.a,{type:"link",onClick:s},o.a.createElement(qn.a,null)," Back to ",e?"persons":"recordings"),o.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:s},o.a.createElement(Tt.IconClose,null))),o.a.createElement(Qe.a,{className:"session-drawer-body"},o.a.createElement(Qn,null))))}try{Ln.displayName="SessionPlayerDrawer",Ln.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:Ln.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(r){}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(z,S,t){"use strict";t.d(S,"a",function(){return Me});var D=t("./node_modules/core-js/modules/es.array.filter.js"),o=t("./node_modules/react/index.js"),x=t.n(o),Pe=t("./node_modules/kea/lib/index.esm.js"),f=t("./frontend/src/lib/utils.tsx"),ve=t("./node_modules/antd/es/row/index.js"),re=t("./node_modules/antd/es/col/index.js"),xe=t("./node_modules/antd/es/button/index.js"),Le=t("./node_modules/antd/es/typography/index.js"),Ge=t("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),Ie=t("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),ze=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),W=t("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),Ce=t("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),he=t("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),_e=t("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),me=t("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),m=t("./frontend/src/types.ts"),le=t("./node_modules/antd/es/space/index.js"),Je=t("./node_modules/antd/es/input/index.js"),Y=t("./node_modules/antd/es/select/index.js"),Pt=t("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),rt=t("./frontend/src/lib/components/Popup/Popup.tsx"),ne=t("./node_modules/core-js/modules/es.array.iterator.js"),Ae=t("./node_modules/core-js/modules/es.array.slice.js"),Q=t("./node_modules/core-js/modules/es.object.to-string.js"),q=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ce;(function(L){L.SECONDS="seconds",L.MINUTES="minutes",L.HOURS="hours"})(ce||(ce={}));var se={seconds:1,minutes:60,hours:3600},oe=Object(Pe.kea)({path:function(O){return["scenes","session-recordings","DurationFilterLogic",O]},key:function(O){return O.pageKey||"global"},props:{},actions:{setTimeValue:function(O){return{timeValue:O}},setUnit:function(O){return{unit:O}},setIsOpen:function(O){return{isOpen:O}},setOperator:function(O){return{operator:O}}},reducers:function(O){var te,I=O.props;return{unit:[ce.MINUTES,{setUnit:function(k,$){var _=$.unit;return _}}],operator:[I==null||(te=I.initialFilter)===null||te===void 0?void 0:te.operator,{setOperator:function(k,$){var _=$.operator;return _}}],timeValue:[Math.floor(I.initialFilter.value/se[ce.MINUTES]),{setTimeValue:function(k,$){var _=$.timeValue;return _}}],isOpen:[!1,{setIsOpen:function(k,$){var _=$.isOpen;return _}}]}},selectors:{durationString:[function(L){return[L.operator,L.timeValue,L.unit]},function(L,O,te){var I="";return L===m.z.GreaterThan?I+="> ":I+="< ",I+=O,O===1?I+=" "+te.slice(0,-1):I+=" "+te,I}]},listeners:function(O){var te=O.props,I=O.values,G=function($){var _=$.timeValue,je=$.unit,Te=$.operator,we=_||I.timeValue,Re=je||I.unit,ct=we*se[Re];te.onChange({operator:Te||I.operator,value:ct,type:"recording",key:"duration"})};return{setTimeValue:function($){var _=$.timeValue;return G({timeValue:_})},setUnit:function($){var _=$.unit;return G({unit:_})},setOperator:function($){var _=$.operator;return G({operator:_})}}}});function be(L){var O=L.initialFilter,te=L.onChange,I=L.pageKey,G=oe({initialFilter:O,onChange:te,pageKey:I}),k=Object(Pe.useActions)(G),$=k.setTimeValue,_=k.setIsOpen,je=k.setOperator,Te=k.setUnit,we=Object(Pe.useValues)(G),Re=we.durationString,ct=we.unit,ut=we.timeValue,qe=we.operator,st=we.isOpen;return x.a.createElement(rt.a,{visible:st,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return _(!1)},overlay:x.a.createElement(ve.a,null,x.a.createElement(le.b,null,x.a.createElement(Pt.a,{operator:qe,operators:[m.z.GreaterThan,m.z.LessThan],onChange:function(de){je(de)}}),x.a.createElement(Je.a,{type:"number",value:ut,placeholder:"0",min:0,autoFocus:!0,addonAfter:x.a.createElement(Y.a,{showSearch:!1,value:ct,onChange:function(de){Te(de)}},x.a.createElement(Y.a.Option,{value:"seconds"},"Seconds"),x.a.createElement(Y.a.Option,{value:"minutes"},"Minutes"),x.a.createElement(Y.a.Option,{value:"hours"},"Hours")),step:1,onChange:function(de){var Ye=parseFloat(de.target.value);$(Ye)}})))},x.a.createElement(xe.a,{onClick:function(){_(!0)}},Re))}try{be.displayName="DurationFilter",be.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"]={docgenInfo:be.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"})}catch(L){}var $e=t("./frontend/src/scenes/persons/PersonHeader.tsx"),Oe=t("./frontend/src/lib/utils/eventUsageLogic.ts"),Ft=t("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),Ve=t("./frontend/src/lib/components/Tooltip.tsx"),at=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ke=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),yt=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),xt=t.n(yt),gt=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),v=t.n(gt),T={};T.insert="head",T.singleton=!1;var E=xt()(v.a,T),g=v.a.locals||{},X=t("./frontend/src/lib/components/LemonTable/index.ts"),ae=t("./frontend/src/lib/components/TimezoneAware/index.tsx"),ue=t("./frontend/src/lib/components/icons.tsx"),Ue=t("./frontend/src/lib/components/LemonButton/index.ts");function Ee(L){var O=L.filter,te=L.propertyFiltersButton,I=L.deleteButton;return x.a.createElement(ve.a,{className:"entity-filter-row",wrap:!1,align:"middle"},x.a.createElement(re.a,{flex:"1",className:"mr"},x.a.createElement(ve.a,{align:"middle"},O)),x.a.createElement(re.a,{className:"mr"},te),x.a.createElement(re.a,null,I))}function Me(L){var O=L.personUUID,te=L.isPersonPage,I=te===void 0?!1:te,G=Object(Ge.a)({personUUID:O}),k=Object(Pe.useValues)(G),$=k.sessionRecordings,_=k.sessionRecordingsResponseLoading,je=k.sessionRecordingId,Te=k.entityFilters,we=k.propertyFilters,Re=k.hasNext,ct=k.hasPrev,ut=k.fromDate,qe=k.toDate,st=k.durationFilter,mt=k.showFilters,de=Object(Pe.useActions)(G),Ye=de.openSessionPlayer,Dt=de.closeSessionPlayer,Kt=de.setEntityFilters,K=de.setPropertyFilters,P=de.loadNext,y=de.loadPrev,C=de.setDateRange,B=de.setDurationFilter,N=de.enableFilter,Z=de.reportRecordingsListFilterAdded,ie=[{title:"Start time",render:function(d,w){return x.a.createElement(ae.b,{time:w.start_time,formatString:"MMMM DD, YYYY h:mm"})}},{title:"Duration",render:function(d,w){return x.a.createElement("span",null,Object(f.N)(w.recording_duration))}},{title:"Person",key:"person",render:function(d,w){return x.a.createElement($e.a,{withIcon:!0,person:w.person})}},{render:function(d,w){return x.a.createElement("div",{className:"play-button-container"},x.a.createElement(xe.a,{className:w.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:x.a.createElement(Ie.a,null)},"Watch recording"))}}];return x.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},x.a.createElement(ve.a,{className:"filter-row"},x.a.createElement("div",{className:"filter-container",style:{display:mt?void 0:"none"}},x.a.createElement("div",null,x.a.createElement(Le.a.Text,{strong:!0},"Filter by events and actions ",x.a.createElement(Ve.a,{title:"Show recordings where all of the events or actions listed below happen."},x.a.createElement(ze.a,{className:"info-icon"}))),x.a.createElement(he.a,{fullWidth:!0,filters:Te,setFilters:function(d){Z(Oe.e.EventAndAction),Kt(d)},typeKey:I?"person-".concat(O):"session-recordings",hideMathSelector:!0,buttonCopy:"Add another filter",horizontalUI:!0,stripeActionRow:!1,propertyFilterWrapperClassName:"session-recording-action-property-filter",customRowPrefix:"",hideRename:!0,showOr:!0,renderRow:function(d){return x.a.createElement(Ee,d)},showNestedArrow:!1,actionsTaxonomicGroupTypes:[at.a.Actions,at.a.Events],propertiesTaxonomicGroupTypes:[at.a.EventProperties,at.a.Elements]})),!I&&x.a.createElement("div",{className:"mt-2"},x.a.createElement(Le.a.Text,{strong:!0},"Filter by persons and cohorts ",x.a.createElement(Ve.a,{title:"Show recordings by persons who match the set criteria"},x.a.createElement(ze.a,{className:"info-icon"}))),x.a.createElement(ke.a,{popoverPlacement:"bottomRight",pageKey:I?"person-".concat(O):"session-recordings",taxonomicGroupTypes:[at.a.PersonProperties,at.a.Cohorts],propertyFilters:we,onChange:function(d){Z(Oe.e.PersonAndCohort),K(d)}}))),!mt&&x.a.createElement(Ue.a,{type:"secondary",compact:!0,icon:x.a.createElement(ue.IconFilter,null),onClick:function(){if(N(),I){var d=document.querySelectorAll(".entity-filter-row button");d.length>0&&d[0].click()}}},"Filter recordings"),x.a.createElement(ve.a,{className:"time-filter-row"},x.a.createElement(ve.a,{className:"time-filter"},x.a.createElement(Ft.a,{makeLabel:function(d){return x.a.createElement(x.a.Fragment,null,x.a.createElement(W.a,null),x.a.createElement("span",null," ",d))},defaultValue:"Last 7 days",bordered:!0,dateFrom:ut!=null?ut:void 0,dateTo:qe!=null?qe:void 0,onChange:function(d,w){Z(Oe.e.DateRange),C(d,w)},dateOptions:{Custom:{values:[]},"Last 24 hours":{values:["-24h"]},"Last 7 days":{values:["-7d"]},"Last 21 days":{values:["-21d"]}}})),x.a.createElement(ve.a,{className:"time-filter"},x.a.createElement(Le.a.Text,{className:"filter-label"},"Duration"),x.a.createElement(be,{onChange:function(d){Z(Oe.e.Duration),B(d)},initialFilter:st,pageKey:I?"person-".concat(O):"session-recordings"})))),x.a.createElement(X.a,{dataSource:$,columns:ie,loading:_,onRow:function(d){return{onClick:function(j){j.target.closest("a")||Ye(d.id,Oe.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(ct||Re)&&x.a.createElement(ve.a,{className:"pagination-control"},x.a.createElement(xe.a,{type:"link",disabled:!ct,onClick:function(){y(),window.scrollTo(0,0)}},x.a.createElement(_e.a,null)," Previous"),x.a.createElement(xe.a,{type:"link",disabled:!Re,onClick:function(){P(),window.scrollTo(0,0)}},"Next ",x.a.createElement(me.a,null))),x.a.createElement("div",{style:{marginBottom:64}}),!!je&&x.a.createElement(Ce.a,{isPersonPage:I,onClose:Dt}))}try{Me.displayName="SessionRecordingsTable",Me.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:Me.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(L){}},"./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts":function(z,S,t){"use strict";t.d(S,"a",function(){return gt});var D=t("./node_modules/core-js/modules/es.array.concat.js"),o=t.n(D),x=t("./node_modules/core-js/modules/es.array.iterator.js"),Pe=t.n(x),f=t("./node_modules/core-js/modules/es.array.map.js"),ve=t.n(f),re=t("./node_modules/core-js/modules/es.object.to-string.js"),xe=t.n(re),Le=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ge=t.n(Le),Ie=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ze=t.n(Ie),W=t("./node_modules/@babel/runtime/regenerator/index.js"),Ce=t.n(W),he=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),_e=t.n(he),me=t("./node_modules/regenerator-runtime/runtime.js"),m=t.n(me),le=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Je=t.n(le),Y=t("./node_modules/kea/lib/index.esm.js"),Pt=t("./frontend/src/lib/api.ts"),rt=t("./frontend/src/lib/utils.tsx"),ne=t("./frontend/src/types.ts"),Ae=t("./node_modules/kea-router/lib/index.js"),Q=t.n(Ae),q=t("./frontend/src/lib/utils/eventUsageLogic.ts"),ce=t("./node_modules/fast-deep-equal/index.js"),se=t.n(ce),oe=t("./frontend/src/scenes/teamLogic.ts"),be=t("./frontend/src/lib/dayjs.ts"),$e=t("./frontend/src/lib/logic/featureFlagLogic.ts"),Oe=t("./frontend/src/lib/constants.tsx");function Ft(v,T){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(v);T&&(g=g.filter(function(X){return Object.getOwnPropertyDescriptor(v,X).enumerable})),E.push.apply(E,g)}return E}function Ve(v){for(var T=1;T<arguments.length;T++){var E=arguments[T]!=null?arguments[T]:{};T%2?Ft(Object(E),!0).forEach(function(g){_e()(v,g,E[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):Ft(Object(E)).forEach(function(g){Object.defineProperty(v,g,Object.getOwnPropertyDescriptor(E,g))})}return v}var at=50,ke={type:"recording",key:"duration",value:60,operator:ne.z.GreaterThan},yt=[],xt={events:[],actions:[],new_entity:[{id:null,type:ne.g.EVENTS,order:0,name:null}]},gt=Object(Y.kea)({path:function(T){return["scenes","session-recordings","sessionRecordingsTableLogic",T]},key:function(T){return T.personUUID||"global"},props:{},connect:{values:[oe.a,["currentTeamId"]],actions:[q.f,["reportRecordingsListFetched","reportRecordingsListFilterAdded"]]},actions:{getSessionRecordings:!0,openSessionPlayer:function(T,E){return{sessionRecordingId:T,source:E}},closeSessionPlayer:!0,setEntityFilters:function(T){return{filters:T}},setPropertyFilters:function(T){return{filters:T}},loadNext:!0,loadPrev:!0,enableFilter:!0,setOffset:function(T){return{offset:T}},setDateRange:function(T,E){return{incomingFromDate:T,incomingToDate:E}},setDurationFilter:function(T){return{durationFilter:T}}},loaders:function(T){var E=T.props,g=T.values,X=T.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var ae=Je()(Ce.a.mark(function Ue(Ee,Me){var L,O,te,I,G,k;return Ce.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return O=Ve(Ve({},g.filterQueryParams),{},{person_uuid:(L=E.personUUID)!==null&&L!==void 0?L:"",limit:at}),te=Object(rt.Ab)(O),_.next=4,Me(100);case 4:return I=performance.now(),_.next=7,Pt.a.get("api/projects/".concat(g.currentTeamId,"/session_recordings?").concat(te));case 7:return G=_.sent,k=performance.now()-I,X.reportRecordingsListFetched(k),Me(),_.abrupt("return",G);case 12:case"end":return _.stop()}},Ue)}));function ue(Ue,Ee){return ae.apply(this,arguments)}return ue}()}]}},events:function(T){var E=T.actions;return{afterMount:function(){E.getSessionRecordings()}}},reducers:{filterEnabled:[!1,{enableFilter:function(){return!0}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(T,E){var g=E.sessionRecordingsResponse;return ze()(g.results)},openSessionPlayer:function(T,E){var g=E.sessionRecordingId;return ze()(T.map(function(X){return X.id===g?Ve(Ve({},X),{},{viewed:!0}):Ve({},X)}))}}],sessionRecordingId:[null,{openSessionPlayer:function(T,E){var g=E.sessionRecordingId;return g},closeSessionPlayer:function(){return null}}],entityFilters:[xt,{setEntityFilters:function(T,E){var g=E.filters;return Ve({},g)}}],propertyFilters:[yt,{setPropertyFilters:function(T,E){var g=E.filters;return ze()(g)}}],durationFilter:[ke,{setDurationFilter:function(T,E){var g=E.durationFilter;return g}}],offset:[0,{loadNext:function(T){return T+at},loadPrev:function(T){return Math.max(T-at)},setOffset:function(T,E){var g=E.offset;return g}}],fromDate:[Object(be.a)().subtract(7,"days").format("YYYY-MM-DD"),{setDateRange:function(T,E){var g=E.incomingFromDate;return g!=null?g:null}}],toDate:[null,{setDateRange:function(T,E){var g=E.incomingToDate;return g!=null?g:null}}]},listeners:function(T){var E=T.actions;return{setEntityFilters:function(){E.getSessionRecordings()},setPropertyFilters:function(){E.getSessionRecordings()},setDateRange:function(){E.getSessionRecordings()},setDurationFilter:function(){E.getSessionRecordings()},loadNext:function(){E.getSessionRecordings()},loadPrev:function(){E.getSessionRecordings()}}},selectors:{hasPrev:[function(v){return[v.offset]},function(v){return v>0}],hasNext:[function(v){return[v.sessionRecordingsResponse]},function(v){return v.has_next}],showFilters:[function(v){return[v.filterEnabled,v.entityFilters,v.propertyFilters,$e.a.selectors.featureFlags]},function(v,T,E,g){return g[Oe.n.RECORDINGS_FILTER_EXPERIMENT]==="test"||v||T!==xt||E!==yt}],filterQueryParams:[function(v){return[v.entityFilters,v.fromDate,v.toDate,v.offset,v.durationFilter,v.propertyFilters]},function(v,T,E,g,X,ae){return{actions:v.actions,events:v.events,properties:ae,date_from:T,date_to:E,offset:g,session_recording_duration:X}}]},actionToUrl:function(T){var E=T.values,g=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ue=arguments.length>1?arguments[1]:void 0,Ue=Ve({filters:E.filterQueryParams},ae),Ee=Ve({},Ae.router.values.hashParams);return E.sessionRecordingId?Ee.sessionRecordingId=E.sessionRecordingId:delete Ee.sessionRecordingId,[Ae.router.values.location.pathname,Ue,Ee,{replace:ue}]};return{loadSessionRecordings:function(){return g({},!0)},openSessionPlayer:function(ae){var ue=ae.source;return g({source:ue},!1)},closeSessionPlayer:function(){return g({},!1)},setEntityFilters:function(){return g({},!0)},setPropertyFilters:function(){return g({},!0)},setDateRange:function(){return g({},!0)},setDurationFilter:function(){return g({},!0)},loadNext:function(){return g({},!0)},loadPrev:function(){return g({},!0)}}},urlToAction:function(T){var E=T.actions,g=T.values,X=T.props,ae=function(Ee,Me,L){var O,te=(O=L.sessionRecordingId)!==null&&O!==void 0?O:null;te!==g.sessionRecordingId&&E.openSessionPlayer(te,q.d.Direct);var I=Me.filters;if(I){if((!se()(I.actions,g.entityFilters.actions)||!se()(I.events,g.entityFilters.events))&&E.setEntityFilters({events:I.events||[],actions:I.actions||[]}),!se()(I.properties,g.propertyFilters)){var G;E.setPropertyFilters((G=I.properties)!==null&&G!==void 0?G:[])}if(I.date_from!==g.fromDate||I.date_to!==g.toDate){var k,$;E.setDateRange((k=I.date_from)!==null&&k!==void 0?k:void 0,($=I.date_to)!==null&&$!==void 0?$:void 0)}if(I.offset!==g.offset){var _;E.setOffset((_=I.offset)!==null&&_!==void 0?_:0)}if(!se()(I.session_recording_duration,g.durationFilter)){var je;E.setDurationFilter((je=I.session_recording_duration)!==null&&je!==void 0?je:ke)}}},ue=X.personUUID?"/person/*":"/recordings";return _e()({},ue,ae)}})},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(z,S,t){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};S.default=D},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(z,S,t){"use strict";var D=t("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var x=o(t("./node_modules/@babel/runtime/helpers/objectSpread2.js")),Pe=D(t("./node_modules/react/index.js")),f=o(t("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),ve=o(t("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),re=function(Ge,Ie){return Pe.createElement(ve.default,(0,x.default)((0,x.default)({},Ge),{},{ref:Ie,icon:f.default}))};re.displayName="UserOutlined";var xe=Pe.forwardRef(re);S.default=xe},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.merge-split-person .activity-header{background-color:#f2f2f2;border-top:1px solid rgba(0,0,0,.15);border-bottom:1px solid rgba(0,0,0,.15);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:#f2f2f2;color:#35416b;padding:4px 8px;border-radius:4px}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:#5375ff;cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-table .filter-row{width:100%;justify-content:space-between;margin-bottom:1rem;align-items:flex-end}.session-recordings-table .filter-container{max-width:700px;padding:1rem;border:1px solid rgba(0,0,0,.15);flex:1;border-radius:4px}.session-recordings-table .filter-section{padding-bottom:1rem}.session-recordings-table .session-recording-action-property-filter{margin:0 0 0 68px;background-color:#fafafa;border:1px solid rgba(0,0,0,.15);border-top:0 solid rgba(0,0,0,.15);padding:.25rem 1rem}.session-recordings-table .time-filter-row{justify-content:flex-end;align-items:flex-end}.session-recordings-table .time-filter-row .time-filter{align-items:center;margin-left:1rem}.session-recordings-table .time-filter-row .time-filter .filter-label{margin-right:4px}.session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .entity-filter-row{width:100%;padding:1rem;border:1px solid rgba(0,0,0,.15);margin-top:1rem;border-radius:4px}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:#5375ff}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-table .info-icon{color:#5375ff}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),z.exports=S},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(z,S,t){var D=t("./node_modules/css-loader/dist/runtime/api.js");S=D(!1),S.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),z.exports=S}}]);
