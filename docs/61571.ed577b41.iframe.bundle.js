"use strict";(self.webpackChunk_posthog_frontend=self.webpackChunk_posthog_frontend||[]).push([[61571],{"./frontend/src/scenes/error-tracking/AlphaAccessScenePrompt.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>AlphaAccessScenePrompt});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),lib_hooks_useFeatureFlag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/hooks/useFeatureFlag.ts"),posthog_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/posthog-js@1.215.1/node_modules/posthog-js/dist/module.js"),_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let AlphaAccessScenePrompt=_ref=>{let{children}=_ref;return(0,lib_hooks_useFeatureFlag__WEBPACK_IMPORTED_MODULE_2__.y)("ERROR_TRACKING")?children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_1__.C,{productName:"Error tracking",thingName:"issue",titleOverride:"Welcome to Error Tracking",description:"Error tracking is in beta for our JS and Python SDKs. Enable the early access feature to get started.",isEmpty:!0,docsURL:"https://posthog.com/docs/error-tracking",productKey:_types__WEBPACK_IMPORTED_MODULE_4__.Md.ERROR_TRACKING,actionElementOverride:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{type:"primary",onClick:()=>posthog_js__WEBPACK_IMPORTED_MODULE_3__.ZP.updateEarlyAccessFeatureEnrollment("error-tracking",!0),children:"Get started"})})}},"./frontend/src/scenes/error-tracking/AssigneeSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>AssigneeSelect});var posthog_icons_es=__webpack_require__("./node_modules/.pnpm/@posthog+icons@0.10.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),membersLogic=__webpack_require__("./frontend/src/scenes/organization/membersLogic.tsx"),userGroupsLogic=__webpack_require__("./frontend/src/scenes/settings/environment/userGroupsLogic.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let groupDisplay=(group,index)=>({id:group.id,displayName:group.name,icon:(0,jsx_runtime.jsx)(src.BR,{name:group.name,index:index,rounded:!0})}),userDisplay=member=>({id:member.user.id,displayName:(0,utils.v2)(member.user),icon:(0,jsx_runtime.jsx)(src.YY,{size:"md",user:member.user})}),unassignedUser={id:"unassigned",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPerson,{className:"rounded-full border border-dashed border-muted text-muted p-0.5"})},assigneeSelectLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","error-tracking","assigneeSelectLogic"]),(0,index_esm.props)({}),(0,index_esm.connect)(()=>({values:[membersLogic.m,["meFirstMembers","filteredMembers","membersLoading"],userGroupsLogic.d,["userGroups","filteredGroups","userGroupsLoading"]],actions:[membersLogic.m,["setSearch as setMembersSearch","ensureAllMembersLoaded"],userGroupsLogic.d,["setSearch as setGroupsSearch","ensureAllGroupsLoaded"]]})),(0,index_esm.actions)({ensureAssigneeTypesLoaded:!0,setSearch:search=>({search})}),(0,index_esm.reducers)({search:["",{setSearch:(_,_ref)=>{let{search}=_ref;return search}}]}),(0,index_esm.listeners)(_ref2=>{let{values,actions}=_ref2;return{setSearch:()=>{actions.setGroupsSearch(values.search),actions.setMembersSearch(values.search)},ensureAssigneeTypesLoaded:()=>{actions.ensureAllGroupsLoaded(),actions.ensureAllMembersLoaded()}}}),(0,index_esm.selectors)({loading:[s=>[s.membersLoading,s.userGroupsLoading],(membersLoading,userGroupsLoading)=>membersLoading||userGroupsLoading],groupOptions:[s=>[s.filteredGroups],groups=>groups.map(groupDisplay)],memberOptions:[s=>[s.filteredMembers],members=>members.map(userDisplay)],computeAssignee:[s=>[s.userGroups,s.meFirstMembers],(groups,members)=>assignee=>{if(assignee){if("user_group"===assignee.type){let assignedGroup=groups.find(group=>group.id===assignee.id);return assignedGroup?groupDisplay(assignedGroup,0):unassignedUser}let assignedMember=members.find(member=>member.user.id===assignee.id);return assignedMember?userDisplay(assignedMember):unassignedUser}return unassignedUser}]})]),AssigneeSelect=_ref=>{var _displayAssignee$disp;let{assignee,onChange,showName=!1,showIcon=!0,unassignedLabel="Unassigned",...buttonProps}=_ref,logic=assigneeSelectLogic({assignee}),{computeAssignee,search,groupOptions,memberOptions,userGroupsLoading,membersLoading}=(0,index_esm.useValues)(logic),{setSearch,ensureAssigneeTypesLoaded}=(0,index_esm.useActions)(logic),[showPopover,setShowPopover]=(0,react.useState)(!1),_onChange=value=>{setSearch(""),setShowPopover(!1),onChange(value)};(0,react.useEffect)(()=>{showPopover&&ensureAssigneeTypesLoaded()},[showPopover,ensureAssigneeTypesLoaded]);let displayAssignee=(0,react.useMemo)(()=>computeAssignee(assignee),[assignee]);return(0,jsx_runtime.jsx)(src.Qw,{closeOnClickInside:!1,visible:showPopover,matchWidth:!1,onVisibilityChange:visible=>setShowPopover(visible),overlay:(0,jsx_runtime.jsxs)("div",{className:"max-w-100 space-y-2 overflow-hidden",children:[(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search",autoFocus:!0,value:search,onChange:setSearch,fullWidth:!0}),(0,jsx_runtime.jsxs)("ul",{className:"space-y-2",children:[assignee&&(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(src.Jp,{fullWidth:!0,role:"menuitem",size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{}),onClick:()=>_onChange(null),children:"Remove assignee"})}),(0,jsx_runtime.jsx)(Section,{title:"Groups",loading:userGroupsLoading,search:!!search,type:"user_group",items:groupOptions,onSelect:_onChange,activeId:assignee?.id,emptyState:(0,jsx_runtime.jsx)(src.Jp,{fullWidth:!0,size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),to:urls.j.settings("environment-error-tracking","user-groups"),children:(0,jsx_runtime.jsx)("div",{className:"text-muted-alt",children:"Create user group"})})}),(0,jsx_runtime.jsx)(Section,{title:"Users",loading:membersLoading,search:!!search,type:"user",items:memberOptions,onSelect:_onChange,activeId:assignee?.id})]})]}),children:(0,jsx_runtime.jsx)(src.Jp,{tooltip:displayAssignee.displayName,icon:showIcon?displayAssignee.icon:null,...buttonProps,children:showName?(0,jsx_runtime.jsx)("span",{className:"pl-1",children:null!==(_displayAssignee$disp=displayAssignee.displayName)&&void 0!==_displayAssignee$disp?_displayAssignee$disp:unassignedLabel}):null})})},Section=_ref2=>{let{loading,search,type,items,onSelect,activeId,emptyState,title}=_ref2;return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsxs)("section",{className:"space-y-px",children:[(0,jsx_runtime.jsx)("h5",{className:"mx-2 my-0.5",children:title}),items.map(item=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(src.Jp,{fullWidth:!0,role:"menuitem",size:"small",icon:item.icon,onClick:()=>onSelect(activeId===item.id?null:{type,id:item.id}),active:activeId===item.id,children:(0,jsx_runtime.jsx)("span",{className:"flex items-center justify-between gap-2 flex-1",children:(0,jsx_runtime.jsx)("span",{children:item.displayName})})})},item.id)),loading?(0,jsx_runtime.jsx)("div",{className:"p-2 text-muted-alt italic truncate border-t",children:"Loading..."}):0===items.length?search?(0,jsx_runtime.jsx)("div",{className:"p-2 text-muted-alt italic truncate border-t",children:(0,jsx_runtime.jsx)("span",{children:"No matches"})}):(0,jsx_runtime.jsx)("div",{className:"border-t pt-1",children:emptyState}):null]})})}},"./frontend/src/scenes/error-tracking/ErrorTrackingFilters.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{ZP:()=>__WEBPACK_DEFAULT_EXPORT__});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/components/TaxonomicFilter/types.ts"),lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/components/UniversalFilters/UniversalFilters.tsx"),lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/components/UniversalFilters/universalFiltersLogic.ts"),lib_components_UniversalFilters_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/lib/components/UniversalFilters/utils.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/lib/utils.tsx"),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/scenes/insights/filters/TestAccountFilter/index.ts"),_AssigneeSelect__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/scenes/error-tracking/AssigneeSelect.tsx"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingSceneLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let errorTrackingDateOptions=lib_utils__WEBPACK_IMPORTED_MODULE_7__.bE.filter(dm=>"Yesterday"!=dm.key),RecordingsUniversalFilterGroup=()=>{let{filterGroup}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_5__.d),{replaceGroupValue,removeGroupValue}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_5__.d),[allowInitiallyOpen,setAllowInitiallyOpen]=(0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{setAllowInitiallyOpen(!0)},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:filterGroup.values.map((filterOrGroup,index)=>(0,lib_components_UniversalFilters_utils__WEBPACK_IMPORTED_MODULE_6__.pU)(filterOrGroup)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z.Group,{index:index,group:filterOrGroup,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(RecordingsUniversalFilterGroup,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z.AddFilterButton,{size:"small",type:"secondary"})]},index):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z.Value,{index:index,filter:filterOrGroup,onRemove:()=>removeGroupValue(index),onChange:value=>replaceGroupValue(index,value),initiallyOpen:allowInitiallyOpen},index))})},__WEBPACK_DEFAULT_EXPORT__={FilterGroup:_ref=>{let{children}=_ref,{filterGroup,filterTestAccounts}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT),{setFilterGroup,setFilterTestAccounts}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex flex-1 items-center justify-between space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex flex-1 items-center gap-2 mx-2",children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z,{rootKey:"error-tracking",group:filterGroup,taxonomicGroupTypes:[lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__.t.EventProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__.t.PersonProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__.t.Cohorts],onChange:setFilterGroup,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(RecordingsUniversalFilterGroup,{})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_9__.z,{size:"small",filters:{filter_test_accounts:filterTestAccounts},onChange:_ref2=>{let{filter_test_accounts}=_ref2;setFilterTestAccounts(filter_test_accounts||!1)}})})]})},Options:()=>{let{dateRange,assignee}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT),{setDateRange,setAssignee}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT),{orderBy}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_12__.D),{setOrderBy}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_12__.D);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex gap-4 py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{children:"Date range:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_2__.f,{dateFrom:dateRange.date_from,dateTo:dateRange.date_to,dateOptions:errorTrackingDateOptions,onChange:(changedDateFrom,changedDateTo)=>{setDateRange({date_from:changedDateFrom,date_to:changedDateTo})},size:"small"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{children:"Sort by:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Yv,{onSelect:setOrderBy,onChange:setOrderBy,value:orderBy,options:[{value:"last_seen",label:"Last seen"},{value:"first_seen",label:"First seen"},{value:"occurrences",label:"Occurrences"},{value:"users",label:"Users"},{value:"sessions",label:"Sessions"}],size:"small"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"flex items-center gap-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{children:"Assigned to:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_AssigneeSelect__WEBPACK_IMPORTED_MODULE_10__.i,{showName:!0,showIcon:!1,assignee:assignee,onChange:assignee=>setAssignee(assignee),unassignedLabel:"Any user",type:"secondary",size:"small"})]})})]})},UniversalSearch:()=>{let{searchQuery}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT),{setSearchQuery}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.DF,{type:"search",placeholder:"Search...",value:searchQuery,onChange:setSearchQuery,className:"flex-grow max-w-none",size:"small"})}}},"./frontend/src/scenes/error-tracking/errorTrackingIssueSceneLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>errorTrackingIssueSceneLogic,r:()=>IssueTab});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/api.ts"),scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/scenes/sceneTypes.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/urls.ts"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),_queries__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/scenes/error-tracking/queries.ts");let IssueTab=function(IssueTab){return IssueTab.Overview="overview",IssueTab.Events="events",IssueTab.Breakdowns="breakdowns",IssueTab}({}),errorTrackingIssueSceneLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(key=>["scenes","error-tracking","errorTrackingIssueSceneLogic",key]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(props=>props.id),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)({values:[_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_6__.HT,["dateRange","filterTestAccounts","filterGroup"]]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setTab:tab=>({tab}),setActiveEventUUID:uuid=>({uuid}),setIssue:issue=>({issue}),updateIssue:issue=>({issue})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)(()=>({tab:[IssueTab.Overview,{setTab:(_,_ref)=>{let{tab}=_ref;return tab}}],activeEventUUID:[void 0,{setActiveEventUUID:(_,_ref2)=>{let{uuid}=_ref2;return uuid}}]})),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref3=>{let{props,values}=_ref3;return{issue:[null,{loadIssue:async()=>(await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.query((0,_queries__WEBPACK_IMPORTED_MODULE_7__.zx)({issueId:props.id,dateRange:values.dateRange,filterTestAccounts:values.filterTestAccounts,filterGroup:values.filterGroup}),{},void 0,!0)).results[0],updateIssue:async _ref4=>{let{issue}=_ref4,response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.errorTracking.updateIssue(props.id,issue);return{...values.issue,...response}},setIssue:_ref5=>{let{issue}=_ref5;return issue}}]}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({breadcrumbs:[s=>[s.issue],issue=>{let exceptionType=issue?.name||"Unknown Type";return[{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_4__.x.ErrorTracking,name:"Error tracking",path:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.j.errorTracking()},{key:[scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_4__.x.ErrorTrackingIssue,exceptionType],name:exceptionType}]}],eventsQuery:[(s,p)=>[p.id,s.dateRange,s.filterTestAccounts,s.filterGroup],(id,dateRange,filterTestAccounts,filterGroup)=>(0,_queries__WEBPACK_IMPORTED_MODULE_7__.QT)({issueId:id,dateRange:dateRange,filterTestAccounts:filterTestAccounts,filterGroup:filterGroup})],issueProperties:[s=>[s.issue],issue=>issue&&issue.earliest?JSON.parse(issue.earliest):{}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref6=>{let{actions}=_ref6;return{setIssueSuccess:_ref7=>{let{issue}=_ref7;issue&&!issue.earliest&&actions.loadIssue()}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.actionToUrl)(_ref8=>{let{values}=_ref8;return{setTab:()=>{let searchParams=kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams;return values.tab==IssueTab.Overview?delete searchParams.tab:searchParams.tab=values.tab,[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,searchParams]}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.urlToAction)(_ref9=>{let{actions}=_ref9;return{[scenes_urls__WEBPACK_IMPORTED_MODULE_5__.j.errorTrackingIssue("*")]:(_,searchParams)=>{searchParams.tab&&actions.setTab(searchParams.tab)}}})])},"./frontend/src/scenes/error-tracking/errorTrackingLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HT:()=>errorTrackingLogic,Kg:()=>DEFAULT_ERROR_TRACKING_FILTER_GROUP,O3:()=>DEFAULT_ERROR_TRACKING_DATE_RANGE});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_subscriptions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.5_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/types.ts");let lastHour={value:"1h",label:"1h"},lastDay={value:"24h",label:"24h"},lastMonth={value:"mStart",label:"Month"},lastYear={value:"yStart",label:"Year"},customOptions={dStart:[lastDay,lastHour],"-24h":[lastDay,lastHour],mStart:[lastMonth,lastDay],yStart:[lastYear,lastMonth],all:[lastYear,lastMonth]},DEFAULT_ERROR_TRACKING_DATE_RANGE={date_from:"-7d",date_to:null},DEFAULT_ERROR_TRACKING_FILTER_GROUP={type:_types__WEBPACK_IMPORTED_MODULE_3__.J2.And,values:[{type:_types__WEBPACK_IMPORTED_MODULE_3__.J2.And,values:[]}]},SPARKLINE_CONFIGURATIONS={"1h":{value:60,interval:"minute"},"24h":{value:24,interval:"hour"},"7d":{value:168,interval:"hour"},"14d":{value:336,interval:"hour"},"90d":{value:90,interval:"day"},"180d":{value:26,interval:"week"},mStart:{value:31,interval:"day"},yStart:{value:52,interval:"week"}};function constructSparklineConfig(selectedPeriod){if(selectedPeriod in SPARKLINE_CONFIGURATIONS)return SPARKLINE_CONFIGURATIONS[selectedPeriod];let[value,unit]=selectedPeriod.match(/\d+|\D+/g);return{value:Number(value)*("y"===unit?12:1),interval:"h"===unit?"hour":"d"===unit?"day":"w"===unit?"week":"month"}}let errorTrackingLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","error-tracking","errorTrackingLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)({values:[lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_2__.h,["featureFlags"]]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setDateRange:dateRange=>({dateRange}),setAssignee:assignee=>({assignee}),setSearchQuery:searchQuery=>({searchQuery}),setFilterGroup:filterGroup=>({filterGroup}),setFilterTestAccounts:filterTestAccounts=>({filterTestAccounts}),setSparklineSelectedPeriod:period=>({period})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({dateRange:[DEFAULT_ERROR_TRACKING_DATE_RANGE,{persist:!0},{setDateRange:(_,_ref)=>{let{dateRange}=_ref;return dateRange}}],assignee:[null,{setAssignee:(_,_ref2)=>{let{assignee}=_ref2;return assignee}}],filterGroup:[DEFAULT_ERROR_TRACKING_FILTER_GROUP,{persist:!0},{setFilterGroup:(_,_ref3)=>{let{filterGroup}=_ref3;return filterGroup}}],filterTestAccounts:[!1,{persist:!0},{setFilterTestAccounts:(_,_ref4)=>{let{filterTestAccounts}=_ref4;return filterTestAccounts}}],searchQuery:["",{setSearchQuery:(_,_ref5)=>{let{searchQuery}=_ref5;return searchQuery}}],sparklineSelectedPeriod:[lastDay.value,{persist:!0},{setSparklineSelectedPeriod:(_,_ref6)=>{let{period}=_ref6;return period}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({sparklineOptions:[s=>[s.dateRange],_ref7=>{let{date_from}=_ref7;if(!date_from)return[];let isRelative=date_from.match(/-\d+[hdmy]/),options=null;if(date_from in customOptions)options=customOptions[date_from];else{if(!isRelative)return[];let value=date_from?.replace("-","");options=[{value:value,label:value},lastDay]}return options}],customSparklineConfig:[s=>[s.sparklineSelectedPeriod],sparklineSelectedPeriod=>sparklineSelectedPeriod?constructSparklineConfig(sparklineSelectedPeriod):null]}),(0,kea_subscriptions__WEBPACK_IMPORTED_MODULE_1__.Vt)(_ref8=>{let{values,actions}=_ref8;return{sparklineOptions:sparklineOptions=>{let options=sparklineOptions.map(o=>o.value),validOption=values.sparklineSelectedPeriod&&options.includes(values.sparklineSelectedPeriod);0===options.length?actions.setSparklineSelectedPeriod(null):validOption||actions.setSparklineSelectedPeriod(options[0])}}})])},"./frontend/src/scenes/error-tracking/errorTrackingSceneLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>errorTrackingSceneLogic});var fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js"),fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_0__),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),kea_subscriptions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.5_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/utils.tsx"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),_queries__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/error-tracking/queries.ts");let errorTrackingSceneLogic=(0,kea__WEBPACK_IMPORTED_MODULE_1__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_1__.path)(["scenes","error-tracking","errorTrackingSceneLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_1__.connect)({values:[_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_5__.HT,["dateRange","assignee","filterTestAccounts","filterGroup","customSparklineConfig","searchQuery"]],actions:[_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_5__.HT,["setAssignee","setDateRange","setFilterGroup","setSearchQuery","setFilterTestAccounts"]]}),(0,kea__WEBPACK_IMPORTED_MODULE_1__.actions)({setOrderBy:orderBy=>({orderBy}),setSelectedIssueIds:ids=>({ids})}),(0,kea__WEBPACK_IMPORTED_MODULE_1__.reducers)({orderBy:["last_seen",{persist:!0},{setOrderBy:(_,_ref)=>{let{orderBy}=_ref;return orderBy}}],selectedIssueIds:[[],{setSelectedIssueIds:(_,_ref2)=>{let{ids}=_ref2;return ids}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_1__.selectors)(_ref3=>{let{values}=_ref3;return{query:[s=>[s.orderBy,s.dateRange,s.assignee,s.filterTestAccounts,s.filterGroup,s.searchQuery],(orderBy,dateRange,assignee,filterTestAccounts,filterGroup,searchQuery)=>(0,_queries__WEBPACK_IMPORTED_MODULE_6__.mx)({orderBy,dateRange,assignee,filterTestAccounts,filterGroup,customVolume:values.customSparklineConfig,searchQuery,columns:["error","volume","occurrences","sessions","users","assignee"]})]}}),(0,kea_subscriptions__WEBPACK_IMPORTED_MODULE_3__.Vt)(_ref4=>{let{actions}=_ref4;return{query:()=>actions.setSelectedIssueIds([])}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.actionToUrl)(_ref5=>{let{values}=_ref5,buildURL=()=>{let searchParams={orderBy:values.orderBy,filterTestAccounts:values.filterTestAccounts};return(values.searchQuery&&(searchParams.searchQuery=values.searchQuery),(0,lib_utils__WEBPACK_IMPORTED_MODULE_4__.h0)(values.filterGroup,_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_5__.Kg)||(searchParams.filterGroup=values.filterGroup),(0,lib_utils__WEBPACK_IMPORTED_MODULE_4__.h0)(values.dateRange,_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_5__.O3)||(searchParams.dateRange=values.dateRange),(0,lib_utils__WEBPACK_IMPORTED_MODULE_4__.h0)(searchParams,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams))?[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.hashParams,{replace:!1}]:[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,searchParams,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.hashParams,{replace:!0}]};return{setOrderBy:()=>buildURL(),setDateRange:()=>buildURL(),setFilterGroup:()=>buildURL(),setSearchQuery:()=>buildURL(),setFilterTestAccounts:()=>buildURL()}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.urlToAction)(_ref6=>{let{actions,values}=_ref6;return{"*":(_,params)=>{params.orderBy&&!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(params.orderBy,values.orderBy)&&actions.setOrderBy(params.orderBy),params.dateRange&&!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(params.dateRange,values.dateRange)&&actions.setDateRange(params.dateRange),params.filterGroup&&!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(params.filterGroup,values.filterGroup)&&actions.setFilterGroup(params.filterGroup),params.filterTestAccounts&&!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(params.filterTestAccounts,values.filterTestAccounts)&&actions.setFilterTestAccounts(params.filterTestAccounts),params.searchQuery&&!fast_deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(params.searchQuery,values.searchQuery)&&actions.setSearchQuery(params.searchQuery)}}})])}}]);