(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(xe,$,e){"use strict";e.d($,"a",function(){return ke});var se=e("./node_modules/core-js/modules/es.array.includes.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.array.iterator.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/es.object.to-string.js"),qe=e.n(R),Q=e("./node_modules/core-js/modules/es.object.values.js"),ie=e.n(Q),r=e("./node_modules/core-js/modules/es.string.includes.js"),S=e.n(r),it=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),X=e.n(it),L=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),st=e.n(L),Ue=e("./node_modules/kea/lib/index.esm.js"),be=e("./frontend/src/lib/utils.tsx"),ee=e("./frontend/src/types.ts"),F=e("./frontend/src/scenes/insights/sharedUtils.ts"),k=e("./frontend/src/scenes/insights/insightLogic.ts");function We(q,$e){var Ee=Object.keys(q);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(q);$e&&(Ne=Ne.filter(function(Nt){return Object.getOwnPropertyDescriptor(q,Nt).enumerable})),Ee.push.apply(Ee,Ne)}return Ee}function pe(q){for(var $e=1;$e<arguments.length;$e++){var Ee=arguments[$e]!=null?arguments[$e]:{};$e%2?We(Object(Ee),!0).forEach(function(Ne){st()(q,Ne,Ee[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Ee)):We(Object(Ee)).forEach(function(Ne){Object.defineProperty(q,Ne,Object.getOwnPropertyDescriptor(Ee,Ne))})}return q}function Ae(q){return Object.values(ee.o).includes(q)}var ke=Object(Ue.kea)({props:{},key:Object(F.c)("new"),path:function($e){return["lib","components","ChartFilter","chartFilterLogic",$e]},connect:function($e){return{actions:[Object(k.c)($e),["setFilters"]],values:[Object(k.c)($e),["filters"]]}},actions:function(){return{setChartFilter:function(Ee){return{chartFilter:Ee}}}},selectors:{chartFilter:[function(q){return[q.filters]},function(q){var $e=q.display,Ee=q.funnel_viz_type;return($e===ee.d.FunnelViz?Ee:$e)||null}]},listeners:function($e){var Ee=$e.actions,Ne=$e.values;return{setChartFilter:function(De){var Et=De.chartFilter,N=Ne.filters,Ot=N.display,ve=N.funnel_viz_type;Ae(Et)?(ve!==Et||Ot!==ee.d.FunnelViz)&&Ee.setFilters(pe(pe({},Ne.filters),{},{display:ee.d.FunnelViz,funnel_viz_type:Et})):Object(be.mb)(Ot,Et)||Ee.setFilters(pe(pe({},Ne.filters),{},{display:Et}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(xe,$,e){"use strict";e.d($,"a",function(){return be});var se=e("./node_modules/core-js/modules/es.array.iterator.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.object.to-string.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),qe=e.n(R),Q=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ie=e.n(Q),r=e("./node_modules/kea/lib/index.esm.js"),S=e("./frontend/src/lib/utils.tsx"),it=e("./frontend/src/types.ts"),X=e("./frontend/src/scenes/insights/sharedUtils.ts"),L=e("./frontend/src/scenes/insights/insightLogic.ts");function st(ee,F){var k=Object.keys(ee);if(Object.getOwnPropertySymbols){var We=Object.getOwnPropertySymbols(ee);F&&(We=We.filter(function(pe){return Object.getOwnPropertyDescriptor(ee,pe).enumerable})),k.push.apply(k,We)}return k}function Ue(ee){for(var F=1;F<arguments.length;F++){var k=arguments[F]!=null?arguments[F]:{};F%2?st(Object(k),!0).forEach(function(We){ie()(ee,We,k[We])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(k)):st(Object(k)).forEach(function(We){Object.defineProperty(ee,We,Object.getOwnPropertyDescriptor(k,We))})}return ee}var be=Object(r.kea)({props:{},key:Object(X.c)("new"),path:function(F){return["lib","components","CompareFilter","compareFilterLogic",F]},connect:function(F){return{actions:[Object(L.c)(F),["setFilters"]],values:[Object(L.c)(F),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(k){return{compare:k}},toggleCompare:!0}},selectors:{compare:[function(ee){return[ee.filters]},function(ee){return!!(ee!=null&&ee.compare)}],disabled:[function(ee){return[ee.filters,ee.canEditInsight]},function(ee,F){var k=ee.insight,We=ee.date_from;return!F||k===it.s.LIFECYCLE||We==="all"}]},listeners:function(F){var k=F.values,We=F.actions;return{setCompare:function(Ae){var ke=Ae.compare;Object(S.mb)(ke,k.compare)||We.setFilters(Ue(Ue({},k.filters),{},{compare:ke}))},toggleCompare:function(){We.setCompare(!k.compare)}}}})},"./frontend/src/lib/components/CopyToClipboard.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return ke});var se=e("./node_modules/core-js/modules/es.symbol.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.symbol.description.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/es.object.to-string.js"),qe=e.n(R),Q=e("./node_modules/core-js/modules/es.regexp.to-string.js"),ie=e.n(Q),r=e("./node_modules/@babel/runtime/helpers/extends.js"),S=e.n(r),it=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),X=e.n(it),L=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),st=e.n(L),Ue=e("./node_modules/react/index.js"),be=e.n(Ue),ee=e("./frontend/src/lib/utils.tsx"),F=e("./frontend/src/lib/components/Tooltip.tsx"),k=e("./frontend/src/lib/components/icons.tsx"),We=e("./frontend/src/lib/components/LemonButton/index.ts");function pe(q,$e){var Ee=Object.keys(q);if(Object.getOwnPropertySymbols){var Ne=Object.getOwnPropertySymbols(q);$e&&(Ne=Ne.filter(function(Nt){return Object.getOwnPropertyDescriptor(q,Nt).enumerable})),Ee.push.apply(Ee,Ne)}return Ee}function Ae(q){for(var $e=1;$e<arguments.length;$e++){var Ee=arguments[$e]!=null?arguments[$e]:{};$e%2?pe(Object(Ee),!0).forEach(function(Ne){X()(q,Ne,Ee[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Ee)):pe(Object(Ee)).forEach(function(Ne){Object.defineProperty(q,Ne,Object.getOwnPropertyDescriptor(Ee,Ne))})}return q}function ke(q){var $e=q.children,Ee=q.explicitValue,Ne=q.description,Nt=q.selectable,De=Nt===void 0?!1:Nt,Et=q.isValueSensitive,N=Et===void 0?!1:Et,Ot=q.tooltipMessage,ve=Ot===void 0?null:Ot,Kt=q.iconStyle,o=Kt===void 0?{}:Kt,$t=q.iconPosition,It=$t===void 0?"end":$t,Mt=q.style,V=st()(q,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),Wt=function(){return Object(ee.t)(Ee!=null?Ee:$e?$e.toString():"",Ne)},ct=be.a.createElement("span",S()({className:N?"ph-no-capture":"",style:Ae({cursor:De?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:It==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},Mt),onClick:De?void 0:Wt},V),be.a.createElement("span",{style:It==="start"?{flexGrow:1}:{}},$e),be.a.createElement(We.a,{compact:!0,icon:be.a.createElement(k.IconCopy,null),className:"copy-icon",onClick:De?Wt:void 0,style:Ae(X()({},It==="end"?"marginLeft":"marginRight",4),o)}));return!De||ve!==null?be.a.createElement(F.a,{title:ve||"Click to copy"},ct):be.a.createElement(be.a.Fragment,null,ct)}try{ke.displayName="CopyToClipboardInline",ke.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:ke.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(q){}},"./frontend/src/lib/components/Drawer.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return Q});var se=e("./node_modules/@babel/runtime/helpers/extends.js"),m=e.n(se),Ke=e("./node_modules/react/index.js"),He=e.n(Ke),R=e("./node_modules/antd/es/drawer/index.js"),qe=e("./frontend/src/vars.ts");function Q(ie){return He.a.createElement(R.a,m()({},ie,{zIndex:qe.a.zDrawer}))}try{Q.displayName="Drawer",Q.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:Q.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(ie){}},"./frontend/src/lib/components/PropertiesTable.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return Fe});var se=e("./node_modules/core-js/modules/es.array.filter.js"),m=e("./node_modules/core-js/modules/es.array.includes.js"),Ke=e("./node_modules/core-js/modules/es.array.map.js"),He=e("./node_modules/core-js/modules/es.object.entries.js"),R=e("./node_modules/core-js/modules/es.string.includes.js"),qe=e("./node_modules/core-js/modules/es.string.starts-with.js"),Q=e("./node_modules/@babel/runtime/helpers/typeof.js"),ie=e.n(Q),r=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),S=e.n(r),it=e("./node_modules/react/index.js"),X=e.n(it),L=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),st=e("./node_modules/antd/es/input/index.js"),Ue=e("./node_modules/antd/es/dropdown/index.js"),be=e("./node_modules/antd/es/menu/index.js"),ee=e("./node_modules/antd/es/popconfirm/index.js"),F=e("./frontend/src/lib/utils.tsx"),k=e("./frontend/src/lib/components/icons.tsx"),We=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),pe=e.n(We),Ae=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss"),ke=e.n(Ae),q={};q.insert="head",q.singleton=!1;var $e=pe()(ke.a,q),Ee=ke.a.locals||{},Ne=e("./frontend/src/lib/components/LemonTable/index.ts"),Nt=e("./frontend/src/lib/components/CopyToClipboard.tsx"),De=e("./node_modules/kea/lib/index.esm.js"),Et=e("./frontend/src/models/propertyDefinitionsModel.ts"),N=e("./frontend/src/lib/components/LemonButton/index.ts"),Ot=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ve=e.n(Ot),Kt=e("./node_modules/antd/es/button/index.js"),o=e("./node_modules/antd/es/radio/index.js"),$t=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),It=e("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Mt=e("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),V=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Wt=e("./node_modules/@ant-design/icons/es/icons/StopOutlined.js"),ct=e("./node_modules/antd/lib/modal/Modal.js"),Ht=e.n(ct);function Pt(ue,je){var Me=Object.keys(ue);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ue);je&&(te=te.filter(function(xt){return Object.getOwnPropertyDescriptor(ue,xt).enumerable})),Me.push.apply(Me,te)}return Me}function vt(ue){for(var je=1;je<arguments.length;je++){var Me=arguments[je]!=null?arguments[je]:{};je%2?Pt(Object(Me),!0).forEach(function(te){ve()(ue,te,Me[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(Me)):Pt(Object(Me)).forEach(function(te){Object.defineProperty(ue,te,Object.getOwnPropertyDescriptor(Me,te))})}return ue}function Bt(ue){var je=ue.editProperty,Me={creating:!1,propertyType:"string"},te=Object(it.useState)(Me),xt=S()(te,2),re=xt[0],we=xt[1],Pe=function(){re.key&&re.value!==void 0&&(je(re.key,re.value),we(Me))};return X.a.createElement(X.a.Fragment,null,X.a.createElement("div",{className:"mb"},X.a.createElement("div",{className:"text-right"},X.a.createElement(Kt.a,{"data-attr":"add-prop-button",onClick:function(){return we(vt(vt({},re),{},{creating:!0}))},type:"primary",icon:X.a.createElement($t.a,null)},"New property"))),X.a.createElement(Ht.a,{visible:re.creating,destroyOnClose:!0,onCancel:function(){return we(Me)},title:"Adding new property",okText:X.a.createElement(X.a.Fragment,null,X.a.createElement(It.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!re.key||re.value===void 0},onOk:Pe},X.a.createElement("div",{className:"input-set"},X.a.createElement("label",{htmlFor:"propertyKey"},"Key"),X.a.createElement(st.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function(Qe){return we(vt(vt({},re),{},{key:Qe.target.value}))}})),X.a.createElement("div",{className:"input-set"},X.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),X.a.createElement("div",null,X.a.createElement(o.a.Group,{value:re.propertyType,onChange:function(Qe){return we(vt(vt({},re),{},{propertyType:Qe.target.value,value:Qe.target.value==="string"?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},X.a.createElement(o.a.Button,{value:"string"},"Text or Number"),X.a.createElement(o.a.Button,{value:"boolean"},"Boolean or Null")))),X.a.createElement("div",{className:"input-set"},X.a.createElement("label",{htmlFor:"propertyValue"},"Value"),re.propertyType==="boolean"?X.a.createElement("div",null,X.a.createElement(o.a.Group,{value:re.value,onChange:function(Qe){return we(vt(vt({},re),{},{value:Qe.target.value}))},id:"propertyValue",buttonStyle:"solid"},X.a.createElement(o.a.Button,{value:"true",defaultChecked:!0},X.a.createElement(Mt.a,null)," True"),X.a.createElement(o.a.Button,{value:"false"},X.a.createElement(V.a,null)," False"),X.a.createElement(o.a.Button,{value:"null"},X.a.createElement(Wt.a,null)," Null"))):X.a.createElement(st.a,{placeholder:"try email@example.com, gold, 1",onChange:function(Qe){return we(vt(vt({},re),{},{value:Qe.target.value}))},id:"propertyValue",onKeyDown:function(Qe){return Qe.key==="Enter"&&Pe()}}))))}try{Bt.displayName="NewPropertyComponent",Bt.__docgenInfo={description:"",displayName:"NewPropertyComponent",props:{editProperty:{defaultValue:null,description:"",name:"editProperty",required:!0,type:{name:"(key: string, newValue?: string | number | boolean | null | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"]={docgenInfo:Bt.__docgenInfo,name:"NewPropertyComponent",path:"frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"})}catch(ue){}function ne(ue){var je=ue.value,Me=ue.onChange;return X.a.createElement(st.a,{defaultValue:je,autoFocus:!0,onBlur:function(){return Me(null,!1)},onPressEnter:function(xt){return Me(xt.target.value,!0)}})}function Te(ue){var je=ue.value,Me=ue.rootKey,te=ue.onEdit,xt=ue.nestingLevel,re=Object(De.useValues)(Et.a),we=re.describeProperty,Pe=Object(it.useState)(!1),et=S()(Pe,2),Qe=et[0],ae=et[1],Le=Me&&!L.g.includes(Me)&&(!xt||xt<=1)&&te,ht=["string","number","bigint"],pt=["boolean","null"],Ce;Me&&(Ce=we(Me));var Xe=je===null?"null":ie()(je),ft=je===null?"null":String(je),Tt=function(Ge,at){ae(!1),Me!==void 0&&at&&te&&Ge!=je&&te(Me,Ge,je)},Ye=X.a.createElement("span",{className:Le?"editable ph-no-capture":"ph-no-capture",onClick:function(){return Le&&ht.includes(Xe)&&ae(!0)}},Object(F.eb)(je)?X.a.createElement("a",{href:je,target:"_blank",rel:"noopener noreferrer",className:"value-link"},X.a.createElement("span",null,ft),X.a.createElement(k.IconOpenInNew,null)):ft);return X.a.createElement("div",{className:"properties-table-value"},Qe?X.a.createElement(ne,{value:je,onChange:Tt}):X.a.createElement(X.a.Fragment,null,Le&&pt.includes(Xe)?X.a.createElement(Ue.a,{overlay:X.a.createElement(be.a,{onClick:function(Ge){var at=Ge.key,dt=null;at==="t"?dt=!0:at==="f"&&(dt=!1),Tt(dt,!0)}},X.a.createElement(be.a.Item,{key:"t"},"true"),X.a.createElement(be.a.Item,{key:"f"},"false"),X.a.createElement(be.a.Item,{key:"n",danger:!0},"null"))},Ye):X.a.createElement(Nt.a,{description:"property value",explicitValue:ft,selectable:!0,isValueSensitive:!0},Ye),X.a.createElement("div",{className:"property-value-type"},Ce||Xe)))}function Fe(ue){var je=ue.properties,Me=ue.rootKey,te=ue.onEdit,xt=ue.sortProperties,re=xt===void 0?!1:xt,we=ue.searchable,Pe=we===void 0?!1:we,et=ue.embedded,Qe=et===void 0?!0:et,ae=ue.nestingLevel,Le=ae===void 0?0:ae,ht=ue.onDelete,pt=ue.className,Ce=Object(it.useState)(""),Xe=S()(Ce,2),ft=Xe[0],Tt=Xe[1],Ye=Object(it.useMemo)(function(){if(!(je instanceof Object))return[];var Ge=Object.entries(je);if(ft){var at=ft.toLowerCase();Ge=Ge.filter(function(dt){var _e=S()(dt,2),B=_e[0],yt=_e[1];return B.toLowerCase().includes(at)||JSON.stringify(yt).toLowerCase().includes(at)})}return re&&Ge.sort(function(dt,_e){var B=S()(dt,1),yt=B[0],rt=S()(_e,1),Zt=rt[0];return yt[0]==="$"&&Zt[0]!=="$"?1:yt[0]!=="$"&&Zt[0]==="$"||yt.toLowerCase()<Zt.toLowerCase()?-1:1}),Ge},[je,re,ft]);if(Array.isArray(je))return X.a.createElement("div",null,je.length?je.map(function(Ge,at){return X.a.createElement(Fe,{key:at,properties:Ge,nestingLevel:Le+1})}):X.a.createElement("div",{className:"property-value-type"},"ARRAY (EMPTY)"));var jt=[{key:"key",title:"Key",width:"20rem",render:function(at,dt){return X.a.createElement("div",{className:"properties-table-key"},X.a.createElement(L.b,{value:dt[0]}))},sorter:function(at,dt){return String(at[0]).localeCompare(String(dt[0]))}},{key:"value",title:"Value",render:function(at,dt){return X.a.createElement(Fe,{properties:dt[1],rootKey:dt[0],onEdit:te,nestingLevel:Le+1})}}];return ht&&Le===0&&jt.push({key:"delete",title:"",width:0,render:function(at,dt){return!L.g.includes(dt[0])&&!String(dt[0]).startsWith("$initial_")&&X.a.createElement(ee.a,{onConfirm:function(){return ht(dt[0])},okButtonProps:{danger:!0},okText:"Delete",title:X.a.createElement(X.a.Fragment,null,"Are you sure you want to delete property ",X.a.createElement("code",null,dt[0]),"?"," ",X.a.createElement("b",null,"This cannot be undone.")),placement:"left"},X.a.createElement(N.a,{icon:X.a.createElement(k.IconDeleteForever,null),status:"danger",compact:!0}))}}),je instanceof Object?X.a.createElement(X.a.Fragment,null,Pe&&X.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"}},X.a.createElement(st.a.Search,{placeholder:"Search for property keys and values",className:"mb",allowClear:!0,enterButton:!0,style:{maxWidth:400,width:"initial",flexGrow:1},value:ft,onChange:function(at){Tt(at.target.value)}}),te&&X.a.createElement(Bt,{editProperty:te})),X.a.createElement(Ne.a,{columns:jt,showHeader:!Qe,size:"small",rowKey:"0",embedded:Qe,dataSource:Ye,className:pt,emptyState:"This property value is an empty object."})):X.a.createElement(Te,{value:je,rootKey:Me,onEdit:te,nestingLevel:Le})}try{Fe.displayName="PropertiesTable",Fe.__docgenInfo={description:"",displayName:"PropertiesTable",props:{properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"any"}},sortProperties:{defaultValue:{value:"false"},description:"",name:"sortProperties",required:!1,type:{name:"boolean"}},searchable:{defaultValue:{value:"false"},description:"",name:"searchable",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"true"},description:"Whether this table should be style for being embedded. Default: true.",name:"embedded",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((key: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rootKey:{defaultValue:null,description:"",name:"rootKey",required:!1,type:{name:"string"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((key: string, newValue: any, oldValue?: any) => void)"}},nestingLevel:{defaultValue:{value:"0"},description:"",name:"nestingLevel",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"]={docgenInfo:Fe.__docgenInfo,name:"PropertiesTable",path:"frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"})}catch(ue){}},"./frontend/src/lib/components/ResizableTable/TableConfig.tsx":function(xe,$,e){"use strict";e.d($,"b",function(){return Pt}),e.d($,"a",function(){return vt});var se=e("./node_modules/core-js/modules/es.array.includes.js"),m=e("./node_modules/core-js/modules/es.string.includes.js"),Ke=e("./node_modules/antd/es/button/index.js"),He=e("./node_modules/antd/es/row/index.js"),R=e("./node_modules/antd/es/space/index.js"),qe=e("./node_modules/antd/es/col/index.js"),Q=e("./node_modules/react/index.js"),ie=e.n(Q),r=e("./node_modules/@ant-design/icons/es/icons/ControlOutlined.js"),S=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),it=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),X=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=e.n(X),st=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),Ue=e.n(st),be={};be.insert="head",be.singleton=!1;var ee=L()(Ue.a,be),F=Ue.a.locals||{},k=e("./node_modules/kea/lib/index.esm.js"),We=e("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),pe=e("./node_modules/antd/lib/modal/Modal.js"),Ae=e.n(pe),ke=e("./node_modules/react-virtualized/dist/es/List/index.js"),q=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),$e=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ee=e("./node_modules/clsx/dist/clsx.m.js"),Ne=e("./frontend/src/lib/components/Tooltip.tsx"),Nt=e("./node_modules/core-js/modules/es.array.concat.js"),De=e("./node_modules/core-js/modules/es.array.filter.js"),Et=e("./node_modules/core-js/modules/es.array.from.js"),N=e("./node_modules/core-js/modules/es.array.iterator.js"),Ot=e("./node_modules/core-js/modules/es.object.to-string.js"),ve=e("./node_modules/core-js/modules/es.set.js"),Kt=e("./node_modules/core-js/modules/es.string.iterator.js"),o=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),$t=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),It=e.n($t),Mt=Object(k.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},actions:{selectColumn:function(Te){return{column:Te}},unselectColumn:function(Te){return{column:Te}},resetColumns:function(Te){return{columns:Te}},save:!0},reducers:function(Te){var Fe=Te.props;return{selectedColumns:[Fe.selectedColumns,{selectColumn:function(je,Me){var te=Me.column;return Array.from(new Set([].concat(It()(je),[te])))},unselectColumn:function(je,Me){var te=Me.column;return je.filter(function(xt){return xt!==te})},resetColumns:function(je,Me){var te=Me.columns;return te}}]}},listeners:function(Te){var Fe=Te.values;return{save:function(){We.a.actions.setSelectedColumns(Fe.selectedColumns)}}}}),V=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),Wt=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ct=e("./frontend/src/lib/components/LemonButton/index.ts"),Ht=e("./frontend/src/lib/components/icons.tsx");function Pt(ne){var Te=Object(k.useActions)(We.a),Fe=Te.showModal;return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement(Ke.a,{"data-attr":"events-table-column-selector",onClick:Fe,icon:ie.a.createElement(r.a,{rotate:90})},"Customize columns"),ie.a.createElement(Bt,{immutableColumns:ne.immutableColumns,defaultColumns:ne.defaultColumns}))}function vt(ne){var Te=Object(k.useActions)(We.a),Fe=Te.showModal;return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement(ct.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:Fe,icon:ie.a.createElement(Ht.IconTuning,{style:{color:"var(--primary)"}})},"Customize columns"),ie.a.createElement(Bt,{immutableColumns:ne.immutableColumns,defaultColumns:ne.defaultColumns}))}function Bt(ne){var Te=ne.immutableColumns,Fe=ne.defaultColumns,ue=36,je=32,Me=Object(k.useValues)(We.a),te=Me.selectedColumns,xt=Me.modalVisible,re=Object(k.useActions)(We.a),we=re.hideModal,Pe=Mt({selectedColumns:te==="DEFAULT"?Fe:te}),et=Object(k.useActions)(Pe),Qe=et.selectColumn,ae=et.unselectColumn,Le=et.resetColumns,ht=et.save,pt=Object(k.useValues)(Pe),Ce=pt.selectedColumns;function Xe(ft){var Tt=ft.index,Ye=ft.style,jt=ft.key,Ge=Te==null?void 0:Te.includes(Ce[Tt]);return ie.a.createElement("div",{style:Ye,key:jt,onClick:function(){return!Ge&&ae(Ce[Tt])}},ie.a.createElement("div",{className:Object(Ee.a)(["column-display-item",{selected:!Ge,disabled:Ge}]),style:{height:"".concat(je,"px")}},ie.a.createElement($e.b,{value:Ce[Tt]}),ie.a.createElement("div",{className:"text-right",style:{flex:1}},ie.a.createElement(Ne.a,{title:Ge?"Reserved":"Remove"},Ge?ie.a.createElement(S.a,null):ie.a.createElement(it.a,{style:{color:"var(--danger)"}})))))}return ie.a.createElement(Ae.a,{centered:!0,visible:xt,title:"Customize columns",onOk:ht,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:we,footer:ie.a.createElement(He.a,null,ie.a.createElement(R.b,{style:{flexGrow:1},align:"start"},ie.a.createElement(Ke.a,{className:"text-blue",onClick:function(){return Le(Fe)}},"Reset to default")),ie.a.createElement(R.b,null,ie.a.createElement(Ke.a,{className:"text-blue",type:"text",onClick:we},"Cancel"),ie.a.createElement(Ke.a,{type:"primary",onClick:ht},"Save")))},ie.a.createElement(He.a,{gutter:16,className:"mt"},ie.a.createElement(qe.a,{xs:24,sm:12},ie.a.createElement("h3",{className:"l3"},"Available columns"),ie.a.createElement("div",{style:{height:320}},ie.a.createElement(q.a,null,function(ft){var Tt=ft.height,Ye=ft.width;return ie.a.createElement(V.a,{height:Tt,width:Ye,taxonomicGroupTypes:[Wt.a.EventProperties],value:void 0,onChange:function(Ge,at){return at&&Qe(String(at))},popoverEnabled:!1,selectFirstItem:!1})}))),ie.a.createElement(qe.a,{xs:24,sm:12},ie.a.createElement("h3",{className:"l3"},"Visible columns (",Ce.length,")"),ie.a.createElement("div",{style:{height:320}},ie.a.createElement(q.a,null,function(ft){var Tt=ft.height,Ye=ft.width;return ie.a.createElement(ke.b,{height:Tt,rowCount:Ce.length,rowRenderer:Xe,rowHeight:ue,width:Ye})})))))}try{Pt.displayName="TableConfig",Pt.__docgenInfo={description:`A scene that contains a ResizableTable with many possible columns
can use this to let the user choose which columns they see`,displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"]={docgenInfo:Pt.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"})}catch(ne){}try{vt.displayName="LemonTableConfig",vt.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:vt.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(ne){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return V}),e.d($,"b",function(){return Wt});var se=e("./node_modules/core-js/modules/es.array.for-each.js"),m=e("./node_modules/core-js/modules/es.array.from.js"),Ke=e("./node_modules/core-js/modules/es.array.map.js"),He=e("./node_modules/core-js/modules/es.array.reduce.js"),R=e("./node_modules/core-js/modules/es.array.slice.js"),qe=e("./node_modules/core-js/modules/es.number.constructor.js"),Q=e("./node_modules/core-js/modules/es.string.iterator.js"),ie=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r=e("./node_modules/@babel/runtime/helpers/extends.js"),S=e.n(r),it=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),X=e.n(it),L=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),st=e.n(L),Ue=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),be=e.n(Ue),ee=e("./node_modules/react/index.js"),F=e.n(ee),k=e("./node_modules/antd/es/table/index.js"),We=e("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),pe=e("./frontend/src/lib/utils/responsiveUtils.tsx"),Ae=e("./node_modules/react-resizable/index.js");function ke(ct){var Ht=ct.children,Pt=ct.onResize,vt=ct.initialWidth,Bt=ct.height,ne=ct.minConstraints,Te=ct.maxConstraints,Fe=F.a.createElement("div",{className:"inner-wrapper"},F.a.createElement("div",{className:"inner-text"},Ht)),ue=Object(ee.useState)(vt),je=st()(ue,2),Me=je[0],te=je[1],xt=Object(ee.useState)(!1),re=st()(xt,2),we=re[0],Pe=re[1],et=function(ae,Le){te(Le.size.width),Pt(ae,Le)};return F.a.createElement("div",{className:"react-resizable-wrapper"},F.a.createElement(Ae.ResizableBox,{width:Me,height:Bt,minConstraints:ne,maxConstraints:Te,axis:"x",handle:F.a.createElement("span",{className:"resizable-handle","data-drag-active":we}),onResize:et,onResizeStart:function(ae){ae.preventDefault(),Pe(!0)},onResizeStop:function(){Pe(!1)},draggableOpts:{enableUserSelectHack:!0}},Fe))}function q(ct){var Ht=ct.columns,Pt=ct.handleResize,vt=ct.layoutEffect,Bt=ct.minColumnWidth,ne=ct.expandable,Te=60;return Object(ee.useLayoutEffect)(function(){return typeof vt=="function"?vt():void 0}),F.a.createElement("div",{className:"resizable-virtual-table-header"},!!ne&&F.a.createElement("div",{className:"left-spacer",style:{width:(ne==null?void 0:ne.columnWidth)||V}}),Ht.map(function(Fe,ue){var je=Fe.title,Me=Fe.width,te=Fe.widthConstraints,xt=te!=null&&te.length?te[0]:Bt,re=te!=null&&te.length?te[1]:1/0;return F.a.createElement(ke,{key:ue,initialWidth:Me!=null?Me:xt,height:Te,onResize:Pt(ue),minConstraints:[xt,Te],maxConstraints:[re,Te]},je)}))}var $e=F.a.memo(q);try{q.displayName="VirtualTableHeader",q.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:q.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(ct){}var Ee=e("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),Ne=e("./frontend/src/lib/hooks/useWindowSize.js"),Nt=function(){var Ht=Object(Ne.a)(),Pt=Ht.width,vt=Object(ee.useState)(pe.a),Bt=st()(vt,2),ne=Bt[0],Te=Bt[1];return Object(ee.useEffect)(function(){Te(pe.a)},[Pt]),ne},De=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Et=e.n(De),N=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),Ot=e.n(N),ve={};ve.insert="head",ve.singleton=!1;var Kt=Et()(Ot.a,ve),o=Ot.a.locals||{};function $t(ct,Ht){var Pt=Object.keys(ct);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ct);Ht&&(vt=vt.filter(function(Bt){return Object.getOwnPropertyDescriptor(ct,Bt).enumerable})),Pt.push.apply(Pt,vt)}return Pt}function It(ct){for(var Ht=1;Ht<arguments.length;Ht++){var Pt=arguments[Ht]!=null?arguments[Ht]:{};Ht%2?$t(Object(Pt),!0).forEach(function(vt){X()(ct,vt,Pt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ct,Object.getOwnPropertyDescriptors(Pt)):$t(Object(Pt)).forEach(function(vt){Object.defineProperty(ct,vt,Object.getOwnPropertyDescriptor(Pt,vt))})}return ct}var Mt=Ee.b,V=48;function Wt(ct){var Ht=ct.columns,Pt=Ht===void 0?[]:Ht,vt=ct.components,Bt=be()(ct,["columns","components"]),ne=Nt(),Te=Object(pe.d)(ne),Fe=Object(ee.useState)(function(){var _e=Pt.length;return Pt.map(function(B,yt){return It(It({},B),{},{width:yt===_e?void 0:Te})})}),ue=st()(Fe,2),je=ue[0],Me=ue[1],te=Object(ee.useState)(je),xt=st()(te,2),re=xt[0],we=xt[1],Pe=Object(ee.useState)(!1),et=st()(Pe,2),Qe=et[0],ae=et[1],Le=Object(ee.useRef)(null),ht=Object(ee.useRef)(null),pt=Object(ee.useRef)();function Ce(_e){var B;if(_e){var yt;return ht==null||(yt=ht.current)===null||yt===void 0?void 0:yt.classList.add("scrollable-right")}return ht==null||(B=ht.current)===null||B===void 0?void 0:B.classList.remove("scrollable-right")}function Xe(){if(ht.current){var _e=ht.current;_e.offsetWidth+_e.scrollLeft<_e.scrollWidth?Ce(!0):Ce(!1)}}function ft(){var _e,B=(_e=Le.current)===null||_e===void 0?void 0:_e.querySelectorAll(".ant-table-content colgroup col");if(B){var yt=Array.from(B);return yt.map(function(rt){return rt.style.width?Object(pe.e)(rt.style.width):void 0})}return[]}function Tt(_e,B){var yt,rt=(yt=Le.current)===null||yt===void 0?void 0:yt.querySelector(".ant-table-content colgroup col:nth-child(".concat(_e+1+Number(!!Bt.expandable),"):not(:last-child)"));rt==null||rt.setAttribute("style","width: ".concat(B,"px;"))}function Ye(){var _e,B=(_e=Le.current)===null||_e===void 0?void 0:_e.querySelector(".ant-table-content colgroup col:last-child");B==null||B.removeAttribute("style")}function jt(){var _e,B=(_e=Le.current)===null||_e===void 0?void 0:_e.querySelector(".resizable-virtual-table-header");if(B!=null&&B.childNodes){var yt=Array.from(B==null?void 0:B.childNodes),rt=yt.reduce(function(zt,bn){var Ut=bn.offsetWidth;return zt+(Ut!=null?Ut:0)},0);if(rt){var Zt,Yt=(Zt=Le.current)===null||Zt===void 0?void 0:Zt.querySelector(".ant-table table");Yt==null||Yt.setAttribute("style","width: ".concat(rt,"px;"))}}Ye()}var Ge=function(B){return function(yt,rt){var Zt=rt.size.width;pt.current&&cancelAnimationFrame(pt.current),pt.current=requestAnimationFrame(function(){Tt(B,Zt),jt()}),Xe()}};function at(_e){var B,yt=(B=Le.current)===null||B===void 0?void 0:B.querySelector(".ant-table table"),rt=yt==null?void 0:yt.clientWidth;if(!(!rt||rt===_e)){pt.current&&cancelAnimationFrame(pt.current);var Zt=_e/rt,Yt=ft();pt.current=requestAnimationFrame(function(){ae(!1),we(function(zt){var bn=Pt.length-1,Ut=zt.map(function(nn,Be){var un;return Be===bn?nn:It(It({},nn),{},{width:Math.max(((un=Yt[Be+Number(!!Bt.expandable)])!==null&&un!==void 0?un:0)*Zt,Te)})});return Ut.slice(0,bn).forEach(function(nn,Be){var un;Tt(Be,(un=nn.width)!==null&&un!==void 0?un:Te)}),jt(),Ut}),ae(!0)})}}var dt=new We.a(function(_e){_e.forEach(function(B){var yt=B.contentRect.width;return at(yt)})});return Object(ee.useEffect)(function(){Me(function(_e){var B=_e.length;return _e.map(function(yt,rt){return rt===B?yt:It(It({},yt),{},{render:Pt[rt].render})})})},[Pt]),Object(ee.useLayoutEffect)(function(){if(Le.current){dt.observe(Le.current);var _e=Le.current.clientWidth,B=je.reduce(function(rt,Zt){var Yt=Zt.span;return rt+Yt},0),yt=Object(pe.c)(_e,B);Me(function(rt){var Zt=rt.length,Yt=rt.map(function(zt,bn){return bn===Zt?zt:It(It({},zt),{},{width:Math.max(zt.defaultWidth||yt*zt.span,Te)})});return we(Yt),Yt}),Xe(),ae(!0)}},[]),F.a.createElement("div",{ref:Le,className:"resizable-table-scroll-container",onScroll:Xe},F.a.createElement("div",{ref:ht,className:"table-gradient-overlay"},Qe&&F.a.createElement($e,{columns:re,handleResize:Ge,layoutEffect:jt,minColumnWidth:Te,expandable:Bt.expandable}),F.a.createElement(k.a,S()({columns:je,components:It(It({},vt),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},Bt))))}try{Wt.displayName="ResizableTable",Wt.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:Wt.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(ct){}try{Mt.displayName="TableConfig",Mt.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:Mt.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(ct){}},"./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts":function(xe,$,e){"use strict";e.d($,"a",function(){return We});var se=e("./node_modules/core-js/modules/es.array.every.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.array.includes.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/es.array.iterator.js"),qe=e.n(R),Q=e("./node_modules/core-js/modules/es.object.to-string.js"),ie=e.n(Q),r=e("./node_modules/core-js/modules/es.string.includes.js"),S=e.n(r),it=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),X=e.n(it),L=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),st=e.n(L),Ue=e("./node_modules/kea/lib/index.esm.js"),be=e("./node_modules/kea-router/lib/index.js"),ee=e.n(be);function F(pe,Ae){var ke=Object.keys(pe);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(pe);Ae&&(q=q.filter(function($e){return Object.getOwnPropertyDescriptor(pe,$e).enumerable})),ke.push.apply(ke,q)}return ke}function k(pe){for(var Ae=1;Ae<arguments.length;Ae++){var ke=arguments[Ae]!=null?arguments[Ae]:{};Ae%2?F(Object(ke),!0).forEach(function(q){st()(pe,q,ke[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ke)):F(Object(ke)).forEach(function(q){Object.defineProperty(pe,q,Object.getOwnPropertyDescriptor(ke,q))})}return pe}var We=Object(Ue.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],actions:{showModal:!0,hideModal:!1,setSelectedColumns:function(Ae){return{columnConfig:Ae}}},reducers:function(){return{selectedColumns:["DEFAULT",{setSelectedColumns:function(ke,q){var $e=q.columnConfig;return $e}}],modalVisible:[!1,{showModal:function(){return!0},save:function(){return!1},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(pe){return[pe.selectedColumns]},function(pe){return pe==="DEFAULT"?7:pe.length+1}]},urlToAction:function(Ae){var ke=Ae.actions,q=Ae.values;return{"*":function(Ee,Ne){var Nt=Ne.tableColumns;if(!(!Nt||!Array.isArray(Nt)||Nt.length===0)){var De=q.selectedColumns,Et=Nt.length===De.length&&Nt.every(function(N){return De.includes(N)});(De==="DEFAULT"||!Et)&&ke.setSelectedColumns(Nt)}}}},actionToUrl:function(Ae){var ke=Ae.values;return{setSelectedColumns:function(){return[be.router.values.location.pathname,k(k({},be.router.values.searchParams),{},{tableColumns:ke.selectedColumns}),be.router.values.hashParams,{replace:!0}]}}}})},"./frontend/src/lib/hooks/useWindowSize.js":function(xe,$,e){"use strict";e.d($,"a",function(){return Q});var se=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=e.n(se),Ke=e("./node_modules/@babel/runtime/helpers/typeof.js"),He=e.n(Ke),R=e("./node_modules/react/index.js"),qe=e.n(R);function Q(){var ie=(typeof window=="undefined"?"undefined":He()(window))==="object";function r(){return{width:ie?window.innerWidth:void 0,height:ie?window.innerHeight:void 0}}var S=Object(R.useState)(r),it=m()(S,2),X=it[0],L=it[1];return Object(R.useEffect)(function(){if(!ie)return!1;function st(){L(r())}return window.addEventListener("resize",st),function(){return window.removeEventListener("resize",st)}},[]),X}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return X});var se=e("./node_modules/core-js/modules/es.array.includes.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.string.includes.js"),He=e.n(Ke),R=e("./node_modules/react/index.js"),qe=e.n(R),Q=e("./node_modules/kea/lib/index.esm.js"),ie=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),r=e("./node_modules/rc-select/es/index.js"),S=e("./frontend/src/lib/components/Link.tsx"),it=e("./frontend/src/lib/introductions/groupsAccessLogic.ts");function X(L){var st=L.value,Ue=Object(Q.useValues)(it.b),be=Ue.groupsAccessStatus;return[it.a.HasAccess,it.a.HasGroupTypes,it.a.NoAccess].includes(be)?qe.a.createElement(r.default.Option,{key:"groups",value:st,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},qe.a.createElement(ie.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",qe.a.createElement(S.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{X.displayName="GroupsIntroductionOption",X.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:X.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(L){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(xe,$,e){"use strict";e.d($,"d",function(){return q}),e.d($,"c",function(){return $e}),e.d($,"e",function(){return Ee}),e.d($,"a",function(){return Ne}),e.d($,"b",function(){return Nt});var se=e("./node_modules/core-js/modules/es.array.filter.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.array.iterator.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/es.array.map.js"),qe=e.n(R),Q=e("./node_modules/core-js/modules/es.object.entries.js"),ie=e.n(Q),r=e("./node_modules/core-js/modules/es.object.from-entries.js"),S=e.n(r),it=e("./node_modules/core-js/modules/es.object.values.js"),X=e.n(it),L=e("./node_modules/core-js/modules/es.regexp.exec.js"),st=e.n(L),Ue=e("./node_modules/core-js/modules/es.string.replace.js"),be=e.n(Ue),ee=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),F=e.n(ee),k=e("./node_modules/antd/lib/_util/responsiveObserve.js"),We=e.n(k),pe=e("./frontend/src/lib/components/ResizableTable/index.tsx"),Ae=Object.fromEntries(Object.entries(k.responsiveMap).map(function(De){var Et=F()(De,2),N=Et[0],Ot=Et[1];return[N,Ee(Ot)]})),ke=Object.values(Ae).sort(function(De,Et){return De-Et});function q(De){return De<576?150:50}function $e(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,N=De-pe.a;return Math.floor(N/Et)}function Ee(De){return parseFloat(De.replace(/[^\d.]/g,""))}function Ne(){var De=window.innerWidth,Et=ke.filter(function(N){return De>=N}).pop();return Et||ke[0]}function Nt(De){return Ae[De]||-1}try{q.displayName="getMinColumnWidth",q.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:q.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(De){}try{Ee.displayName="parsePixelValue",Ee.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:Ee.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(De){}try{Nt.displayName="getBreakpoint",Nt.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:Nt.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(De){}},"./frontend/src/scenes/experiments/Experiment.tsx":function(xe,$,e){"use strict";e.r($),e.d($,"scene",function(){return ea}),e.d($,"Experiment_",function(){return Xn}),e.d($,"CodeLanguageSelect",function(){return ta});var se=e("./node_modules/core-js/modules/es.symbol.js"),m=e("./node_modules/core-js/modules/es.symbol.description.js"),Ke=e("./node_modules/core-js/modules/es.array.concat.js"),He=e("./node_modules/core-js/modules/es.array.filter.js"),R=e("./node_modules/core-js/modules/es.array.map.js"),qe=e("./node_modules/core-js/modules/es.array.reduce.js"),Q=e("./node_modules/core-js/modules/es.function.name.js"),ie=e("./node_modules/core-js/modules/es.number.constructor.js"),r=e("./node_modules/core-js/modules/es.number.to-fixed.js"),S=e("./node_modules/core-js/modules/es.object.keys.js"),it=e("./node_modules/core-js/modules/es.object.to-string.js"),X=e("./node_modules/core-js/modules/es.regexp.to-string.js"),L=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),st=e.n(L),Ue=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),be=e.n(Ue),ee=e("./node_modules/antd/es/form/index.js"),F=e("./node_modules/antd/es/row/index.js"),k=e("./node_modules/antd/es/col/index.js"),We=e("./node_modules/antd/es/input/index.js"),pe=e("./node_modules/antd/es/tooltip/index.js"),Ae=e("./node_modules/antd/es/button/index.js"),ke=e("./node_modules/antd/es/select/index.js"),q=e("./node_modules/antd/es/card/index.js"),$e=e("./node_modules/antd/es/tag/index.js"),Ee=e("./node_modules/antd/es/collapse/index.js"),Ne=e("./node_modules/antd/es/progress/index.js"),Nt=e("./node_modules/antd/es/skeleton/index.js"),De=e("./node_modules/kea/lib/index.esm.js"),Et=e("./frontend/src/lib/components/PageHeader.tsx"),N=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Ot=e("./frontend/src/lib/components/PropertyFilters/utils.ts"),ve=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Kt=e("./node_modules/react/index.js"),o=e.n(Kt),$t=e("./frontend/src/scenes/funnels/funnelLogic.ts"),It=e("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Mt=e("./frontend/src/scenes/insights/insightLogic.ts"),V=e("./frontend/src/types.ts"),Wt=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ct=e.n(Wt),Ht=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss"),Pt=e.n(Ht),vt={};vt.insert="head",vt.singleton=!1;var Bt=ct()(Pt.a,vt),ne=Pt.a.locals||{},Te=e("./node_modules/core-js/modules/es.array.fill.js"),Fe=e("./node_modules/core-js/modules/es.array.find.js"),ue=e("./node_modules/core-js/modules/es.array.find-index.js"),je=e("./node_modules/core-js/modules/es.array.iterator.js"),Me=e("./node_modules/core-js/modules/es.array.splice.js"),te=e("./node_modules/core-js/modules/es.number.epsilon.js"),xt=e("./node_modules/core-js/modules/es.object.values.js"),re=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),we=e("./node_modules/@babel/runtime/regenerator/index.js"),Pe=e.n(we),et=e("./node_modules/regenerator-runtime/runtime.js"),Qe=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ae=e.n(Qe),Le=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ht=e.n(Le),pt=e("./frontend/src/lib/api.ts"),Ce=e("./frontend/src/lib/dayjs.ts"),Xe=e("./frontend/src/lib/utils.tsx"),ft=["furry","amusing","charming","tame","swift","clever","pleasant","tiny","wild","herbivorous","admirable","adorable","agile","beautiful","bossy","candid","cold","colorful","cuddly","curious","cute","energetic","fast","feisty","fierce","fluffy","friendly","fuzzy","grumpy","hairy","heavy","large","lazy","loud","lovable","loving","enchanted","maternal","sweet","messy","nocturnal","noisy","nosy","picky","playful","quick","sassy","scaly","short","shy","slow","small","smart","soft","strong","tall","tenacious","glorious","warm","cheerful","gracious"],Tt=["aardvark","albatross","alligator","alpaca","ant","anteater","antelope","ape","armadillo","donkey","baboon","badger","barracuda","bat","bear","beaver","bee","bison","boar","buffalo","butterfly","camel","capybara","caribou","cassowary","cat","caterpillar","cattle","chamois","cheetah","chicken","chimpanzee","chinchilla","chough","clam","cobra","cockroach","cod","cormorant","coyote","crab","crane","crocodile","crow","curlew","deer","dinosaur","dog","dogfish","dolphin","dotterel","dove","dragonfly","duck","dugong","dunlin","eagle","echidna","eel","eland","elephant","elk","emu","falcon","ferret","finch","firefox","fish","flamingo","fly","fox","frog","gaur","gazelle","gerbil","giraffe","gnat","gnu","goat","goldfinch","goldfish","goose","gorilla","goshawk","grasshopper","grouse","guanaco","gull","hamster","hare","hawk","hedgehog","heron","herring","hippopotamus","hornet","horse","human","hummingbird","hyena","ibex","ibis","jackal","jaguar","jay","jellyfish","kangaroo","kingfisher","koala","kookabura","kouprey","kudu","lapwing","lark","lemur","leopard","lion","llama","lobster","locust","loris","louse","lyrebird","magpie","mallard","manatee","mandrill","mantis","marten","meerkat","mink","mole","mongoose","monkey","moose","mosquito","mouse","mule","narwhal","newt","nightingale","octopus","okapi","opossum","oryx","ostrich","otter","owl","oyster","panther","parrot","partridge","peafowl","pelican","penguin","pheasant","pig","pigeon","pony","porcupine","porpoise","quail","quelea","quetzal","rabbit","raccoon","rail","ram","rat","raven","reindeer","rhinoceros","rook","salamander","salmon","sandpiper","sardine","scorpion","seahorse","seal","shark","sheep","shrew","skunk","snail","snake","sparrow","spider","spoonbill","squid","squirrel","starling","stingray","stinkbug","stork","swallow","swan","tapir","tarsier","termite","tiger","toad","trout","turkey","turtle","viper","vulture","wallaby","walrus","wasp","weasel","whale","wildcat","wolf","wolverine","wombat","woodcock","woodpecker","worm","wren","yak","zebra"];function Ye(){return"".concat(Object(Xe.j)(Object(Xe.ub)(ft))," ").concat(Object(Xe.j)(Object(Xe.ub)(Tt)))}var jt=e("./frontend/src/scenes/insights/utils/cleanFilters.ts"),Ge=e("./frontend/src/scenes/teamLogic.ts"),at=e("./frontend/src/scenes/urls.ts"),dt=e("./node_modules/kea-router/lib/index.js"),_e=e("./frontend/src/scenes/experiments/experimentsLogic.ts"),B=e("./frontend/src/lib/constants.tsx"),yt=e("./frontend/src/scenes/trends/trendsLogic.ts"),rt=e("./frontend/src/lib/utils/eventUsageLogic.ts"),Zt=e("./frontend/src/scenes/userLogic.ts"),Yt=e("./frontend/src/lib/components/Tooltip.tsx"),zt=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),bn=e("./frontend/src/models/groupsModel.ts"),Ut=e("./frontend/src/lib/components/lemonToast.tsx");function nn(E,O){var I=Object.keys(E);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(E);O&&(A=A.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),I.push.apply(I,A)}return I}function Be(E){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{};O%2?nn(Object(I),!0).forEach(function(A){st()(E,A,I[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(I)):nn(Object(I)).forEach(function(A){Object.defineProperty(E,A,Object.getOwnPropertyDescriptor(I,A))})}return E}var un=14,xn=Object(De.kea)({props:{},key:function(O){return O.experimentId||"new"},path:function(O){return["scenes","experiment","experimentLogic",O]},connect:{values:[Ge.a,["currentTeamId"],Zt.a,["hasAvailableFeature"],bn.a,["groupTypes","groupsTaxonomicTypes","aggregationLabel"]],actions:[_e.a,["updateExperiments","addToExperiments"]]},actions:{setExperiment:function(O){return{experiment:O}},createExperiment:function(O,I,A){return{draft:O,runningTime:I,sampleSize:A}},setExperimentInsightId:function(O){return{shortId:O}},createNewExperimentInsight:function(O){return{filters:O}},setFilters:function(O){return{filters:O}},setNewExperimentData:function(O){return{experimentData:O}},updateExperimentGroup:function(O,I){return{variant:O,idx:I}},removeExperimentGroup:function(O){return{idx:O}},setExperimentInsightType:function(O){return{insightType:O}},setEditExperiment:function(O){return{editing:O}},setSecondaryMetrics:function(O){return{secondaryMetrics:O}},resetNewExperiment:!0,launchExperiment:!0,endExperiment:!0,addExperimentGroup:!0,archiveExperiment:!0},reducers:{newExperimentData:[null,{setNewExperimentData:function(O,I){var A=I.experimentData;if(A.filters){var Y=Be(Be({},O==null?void 0:O.filters),A.filters);return Be(Be(Be({},O),A),{},{filters:Y})}if(A.parameters){var de=Be(Be({},O==null?void 0:O.parameters),A.parameters);return Be(Be(Be({},O),A),{},{parameters:de})}return Be(Be({},O),A)},updateExperimentGroup:function(O,I){var A,Y=I.variant,de=I.idx,oe=ht()((O==null||(A=O.parameters)===null||A===void 0?void 0:A.feature_flag_variants)||[]);return oe[de]=Be(Be({},oe[de]),Y),Be(Be({},O),{},{parameters:Be(Be({},O==null?void 0:O.parameters),{},{feature_flag_variants:oe})})},addExperimentGroup:function(O){var I;if(!(O==null||(I=O.parameters)===null||I===void 0)&&I.feature_flag_variants){var A=Yn(O.parameters.feature_flag_variants.length+1),Y=O.parameters.feature_flag_variants.map(function(de,oe){return Be(Be({},de),{},{rollout_percentage:A[oe]})});return Be(Be({},O),{},{parameters:Be(Be({},O.parameters),{},{feature_flag_variants:[].concat(ht()(Y),[{key:"test_group_".concat(O.parameters.feature_flag_variants.length),rollout_percentage:A[A.length-1]}])})})}return O},removeExperimentGroup:function(O,I){var A,Y,de=I.idx;if(!O)return O;var oe=ht()(((A=O.parameters)===null||A===void 0?void 0:A.feature_flag_variants)||[]);oe.splice(de,1);var K=Yn(((O==null||(Y=O.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)||[]).length-1),he=oe.map(function(W,tt){return Be(Be({},W),{},{rollout_percentage:K[tt]})});return Be(Be({},O),{},{parameters:Be(Be({},O.parameters),{},{feature_flag_variants:he})})},setSecondaryMetrics:function(O,I){var A=I.secondaryMetrics,Y=A.map(function(de){return de});return Be(Be({},O),{},{secondary_metrics:Y})},resetNewExperiment:function(){return{parameters:{feature_flag_variants:[{key:"control",rollout_percentage:50},{key:"test",rollout_percentage:50}]}}}}],experimentInsightType:[V.s.TRENDS,{setExperimentInsightType:function(O,I){var A=I.insightType;return A}}],experimentInsightId:[null,{setExperimentInsightId:function(O,I){var A=I.shortId;return A}}],editingExistingExperiment:[!1,{setEditExperiment:function(O,I){var A=I.editing;return A}}]},listeners:function(O){var I=O.values,A=O.props,Y=O.actions;return{createExperiment:function(){var de=ae()(Pe.a.mark(function K(he){var W,tt,wt,St,lt,mt,Z,Sn,Wn,Qn;return Pe.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(tt=he.draft,wt=he.runningTime,St=he.sampleSize,lt=null,mt=!!A.experimentId&&A.experimentId!=="new",gt.prev=3,!mt){gt.next=14;break}return gt.next=7,pt.a.update("api/projects/".concat(I.currentTeamId,"/experiments/").concat(A.experimentId),Be(Be({},I.newExperimentData),{},{parameters:Be(Be({},(Z=I.newExperimentData)===null||Z===void 0?void 0:Z.parameters),{},{recommended_running_time:wt,recommended_sample_size:St})},!tt&&{start_date:Object(Ce.a)()}));case 7:if(lt=gt.sent,!(!((Sn=lt)===null||Sn===void 0)&&Sn.id)){gt.next=12;break}return Y.updateExperiments(lt),dt.router.actions.push(at.a.experiment(lt.id)),gt.abrupt("return");case 12:gt.next=18;break;case 14:return gt.next=16,pt.a.create("api/projects/".concat(I.currentTeamId,"/experiments"),Be(Be({},I.newExperimentData),{},{parameters:Be(Be({},(Wn=I.newExperimentData)===null||Wn===void 0?void 0:Wn.parameters),{},{recommended_running_time:wt,recommended_sample_size:St})},!tt&&{start_date:Object(Ce.a)()}));case 16:lt=gt.sent,lt&&rt.f.actions.reportExperimentCreated(lt);case 18:gt.next=24;break;case 20:return gt.prev=20,gt.t0=gt.catch(3),Ut.a.error(gt.t0.detail||"Failed to create experiment"),gt.abrupt("return");case 24:!((W=lt)===null||W===void 0)&&W.id&&(Qn=lt.id,dt.router.actions.push(at.a.experiment(Qn)),Y.addToExperiments(lt),Ut.a.success("Experiment ".concat(mt?"updated":"created"),{button:{label:"View it",action:function(){dt.router.actions.push(at.a.experiment(Qn))}}}));case 25:case"end":return gt.stop()}},K,null,[[3,20]])}));function oe(K){return de.apply(this,arguments)}return oe}(),createNewExperimentInsight:function(){var de=ae()(Pe.a.mark(function K(he){var W,tt,wt,St;return Pe.a.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return W=he.filters,I.experimentInsightType===V.s.FUNNELS?tt=Object(jt.a)(Be({insight:V.s.FUNNELS,funnel_viz_type:V.o.Steps,display:V.d.FunnelViz,date_from:Object(Ce.a)().subtract(un,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ce.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:B.p.horizontal},W)):tt=Object(jt.a)(Be({insight:V.s.TRENDS,date_from:Object(Ce.a)().subtract(un,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ce.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},W)),wt={name:Ye(),description:"",tags:[],filters:tt,result:null},mt.next=5,pt.a.create("api/projects/".concat(I.currentTeamId,"/insights"),wt);case 5:St=mt.sent,Y.setExperimentInsightId(St.short_id),Y.setNewExperimentData({filters:Be({},wt.filters)});case 8:case"end":return mt.stop()}},K)}));function oe(K){return de.apply(this,arguments)}return oe}(),setFilters:function(oe){var K=oe.filters;if(I.experimentInsightType===V.s.FUNNELS){var he;(he=$t.a.findMounted({dashboardItemId:I.experimentInsightId}))===null||he===void 0||he.actions.setFilters(K)}else{var W;(W=yt.a.findMounted({dashboardItemId:I.experimentInsightId}))===null||W===void 0||W.actions.setFilters(K)}},loadExperimentSuccess:function(){var de=ae()(Pe.a.mark(function K(he){var W;return Pe.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:W=he.experimentData,W&&rt.f.actions.reportExperimentViewed(W),Y.setExperimentInsightType((W==null?void 0:W.filters.insight)||V.s.FUNNELS),W!=null&&W.start_date?(Y.resetNewExperiment(),Y.loadExperimentResults(),Y.loadSecondaryMetricResults()):(Y.setNewExperimentData(Be({},W)),Y.createNewExperimentInsight(W==null?void 0:W.filters));case 4:case"end":return wt.stop()}},K)}));function oe(K){return de.apply(this,arguments)}return oe}(),launchExperiment:function(){var de=ae()(Pe.a.mark(function K(){var he;return Pe.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:he=Object(Ce.a)(),Y.updateExperiment({start_date:he.format("YYYY-MM-DDTHH:mm")}),I.experimentData&&rt.f.actions.reportExperimentLaunched(I.experimentData,he);case 3:case"end":return tt.stop()}},K)}));function oe(){return de.apply(this,arguments)}return oe}(),endExperiment:function(){var de=ae()(Pe.a.mark(function K(){var he,W,tt;return Pe.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:W=Object(Ce.a)(),Y.updateExperiment({end_date:W.format("YYYY-MM-DDTHH:mm")}),tt=W.diff((he=I.experimentData)===null||he===void 0?void 0:he.start_date,"second"),I.experimentData&&rt.f.actions.reportExperimentCompleted(I.experimentData,W,tt,I.areResultsSignificant);case 4:case"end":return St.stop()}},K)}));function oe(){return de.apply(this,arguments)}return oe}(),archiveExperiment:function(){var de=ae()(Pe.a.mark(function K(){return Pe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:Y.updateExperiment({archived:!0}),I.experimentData&&rt.f.actions.reportExperimentArchived(I.experimentData);case 2:case"end":return W.stop()}},K)}));function oe(){return de.apply(this,arguments)}return oe}(),setExperimentInsightType:function(){if(A.experimentId==="new"||I.editingExistingExperiment)Y.createNewExperimentInsight();else{var oe;Y.createNewExperimentInsight((oe=I.experimentData)===null||oe===void 0?void 0:oe.filters)}},updateExperimentSuccess:function(){var de=ae()(Pe.a.mark(function K(he){var W;return Pe.a.wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:W=he.experimentData,Y.updateExperiments(W);case 2:case"end":return wt.stop()}},K)}));function oe(K){return de.apply(this,arguments)}return oe}()}},loaders:function(O){var I=O.values,A=O.props;return{experimentData:[null,{loadExperiment:function(){var Y=ae()(Pe.a.mark(function oe(){var K;return Pe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!(A.experimentId&&A.experimentId!=="new")){W.next=16;break}return W.prev=1,W.next=4,pt.a.get("api/projects/".concat(I.currentTeamId,"/experiments/").concat(A.experimentId));case 4:return K=W.sent,W.abrupt("return",K);case 8:if(W.prev=8,W.t0=W.catch(1),W.t0.status!==404){W.next=14;break}dt.router.actions.push(at.a.experiments()),W.next=16;break;case 14:throw Ut.a.error("Failed to load experiment ".concat(A.experimentId)),new Error("Failed to load experiment ".concat(A.experimentId));case 16:return W.abrupt("return",null);case 17:case"end":return W.stop()}},oe,null,[[1,8]])}));function de(){return Y.apply(this,arguments)}return de}(),updateExperiment:function(){var Y=ae()(Pe.a.mark(function oe(K){var he;return Pe.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.next=2,pt.a.update("api/projects/".concat(I.currentTeamId,"/experiments/").concat(A.experimentId),K);case 2:return he=tt.sent,tt.abrupt("return",he);case 4:case"end":return tt.stop()}},oe)}));function de(oe){return Y.apply(this,arguments)}return de}()}],experimentResults:[null,{loadExperimentResults:function(){var Y=ae()(Pe.a.mark(function oe(){var K;return Pe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,pt.a.get("api/projects/".concat(I.currentTeamId,"/experiments/").concat(A.experimentId,"/results"));case 3:return K=W.sent,W.abrupt("return",Be(Be({},K),{},{itemID:Math.random().toString(36).substring(2,15)}));case 7:if(W.prev=7,W.t0=W.catch(0),W.t0.code!=="no_data"){W.next=11;break}return W.abrupt("return",null);case 11:return Ut.a.error(W.t0.detail||"Failed to load experiment results"),W.abrupt("return",null);case 13:case"end":return W.stop()}},oe,null,[[0,7]])}));function de(){return Y.apply(this,arguments)}return de}()}],secondaryMetricResults:[null,{loadSecondaryMetricResults:function(){var Y=ae()(Pe.a.mark(function oe(){var K,he,W,tt;return Pe.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:K=[],he=0;case 2:if(!(he<(((W=I.experimentData)===null||W===void 0?void 0:W.secondary_metrics.length)||0))){St.next=10;break}return St.next=5,pt.a.get("api/projects/".concat(I.currentTeamId,"/experiments/").concat(A.experimentId,"/secondary_results?id=").concat(he));case 5:tt=St.sent,K.push(tt.result);case 7:he++,St.next=2;break;case 10:return St.abrupt("return",K);case 11:case"end":return St.stop()}},oe)}));function de(){return Y.apply(this,arguments)}return de}()}]}},selectors:{breadcrumbs:[function(E){return[E.experimentData,function(O,I){return I.experimentId}]},function(E,O){return[{name:"Experiments",path:at.a.experiments()},{name:(E==null?void 0:E.name)||"New Experiment",path:at.a.experiment(O||"new")}]}],variants:[function(E){return[E.newExperimentData,E.experimentData]},function(E,O){var I,A;if(O!=null&&O.start_date){var Y;return(O==null||(Y=O.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)||[]}return(E==null||(I=E.parameters)===null||I===void 0?void 0:I.feature_flag_variants)||(O==null||(A=O.parameters)===null||A===void 0?void 0:A.feature_flag_variants)||[]}],taxonomicGroupTypesForSelection:[function(E){return[E.newExperimentData,E.groupsTaxonomicTypes]},function(E,O){var I;return(E==null||(I=E.filters)===null||I===void 0?void 0:I.aggregation_group_type_index)!=null&&O.length>0?[O[E.filters.aggregation_group_type_index]]:[ve.a.PersonProperties,ve.a.Cohorts]}],parsedSecondaryMetrics:[function(E){return[E.newExperimentData,E.experimentData]},function(E,O){var I=(E==null?void 0:E.secondary_metrics)||(O==null?void 0:O.secondary_metrics)||[];return I}],minimumDetectableChange:[function(E){return[E.newExperimentData]},function(E){var O;return(E==null||(O=E.parameters)===null||O===void 0?void 0:O.minimum_detectable_effect)||5}],minimumSampleSizePerVariant:[function(E){return[E.minimumDetectableChange]},function(E){return function(O){return Math.ceil(1600*O*(1-O/100)/(E*E))}}],areResultsSignificant:[function(E){return[E.experimentResults]},function(E){return(E==null?void 0:E.significant)||!1}],significanceBannerDetails:[function(E){return[E.experimentResults]},function(E){if((E==null?void 0:E.significance_code)===V.E.HighLoss){var O;return o.a.createElement(o.a.Fragment,null,"This is because the expected loss in conversion is greater than 1%",o.a.createElement(Yt.a,{placement:"right",title:o.a.createElement(o.a.Fragment,null,"Current value is ",(O=((E==null?void 0:E.expected_loss)||0)*100)===null||O===void 0?void 0:O.toFixed(2),"%")},o.a.createElement(zt.a,{style:{padding:"4px 2px"}})),".")}if((E==null?void 0:E.significance_code)===V.E.HighPValue){var I;return o.a.createElement(o.a.Fragment,null,"This is because the p value is greater than 0.05",o.a.createElement(Yt.a,{placement:"right",title:o.a.createElement(o.a.Fragment,null,"Current value is ",(E==null||(I=E.p_value)===null||I===void 0?void 0:I.toFixed(3))||1,".")},o.a.createElement(zt.a,{style:{padding:"4px 2px"}})),".")}return(E==null?void 0:E.significance_code)===V.E.LowWinProbability?"This is because the win probability of all test variants combined is less than 90%.":(E==null?void 0:E.significance_code)===V.E.NotEnoughExposure?"This is because we need at least 100 people per variant to declare significance.":""}],recommendedExposureForCountData:[function(E){return[E.minimumDetectableChange]},function(E){return function(O){var I=O*E/100,A=O,Y=I+O;return parseFloat((4/Math.pow(Math.sqrt(A/un)-Math.sqrt(Y/un),2)).toFixed(1))}}],expectedRunningTime:[function(){return[]},function(){return function(E,O){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:un;return parseFloat((O/(E/I)).toFixed(1))}}],conversionRateForVariant:[function(E){return[E.experimentResults]},function(E){return function(O){var I="Can't find variant";if(!E)return I;var A=(E==null?void 0:E.insight).find(function(Y){var de,oe;return((de=Y[0])===null||de===void 0||(oe=de.breakdown_value)===null||oe===void 0?void 0:oe[0])===O});return A?(A[A.length-1].count/A[0].count*100).toFixed(1):I}}],getIndexForVariant:[function(E){return[E.experimentResults]},function(E){return function(O,I){if(!E)return 0;var A=-1;return I===V.s.FUNNELS?A=ht()(E==null?void 0:E.insight).sort(function(Y,de){var oe,K;return((oe=de[0])===null||oe===void 0?void 0:oe.count)-((K=Y[0])===null||K===void 0?void 0:K.count)}).findIndex(function(Y){var de,oe;return((de=Y[0])===null||de===void 0||(oe=de.breakdown_value)===null||oe===void 0?void 0:oe[0])===O}):A=(E==null?void 0:E.insight).findIndex(function(Y){return Y.breakdown_value===O}),A===-1?0:A}}],countDataForVariant:[function(E){return[E.experimentResults]},function(E){return function(O){var I="Can't find variant";if(!E)return I;var A=(E==null?void 0:E.insight).find(function(Y){return Y.breakdown_value===O});return A?A.count.toString():I}}],highestProbabilityVariant:[function(E){return[E.experimentResults]},function(E){if(E){var O=Math.max.apply(Math,ht()(Object.values(E.probability)));return Object.keys(E.probability).find(function(I){return Math.abs(E.probability[I]-O)<Number.EPSILON})}}],areTrendResultsConfusing:[function(E){return[E.experimentResults,E.highestProbabilityVariant]},function(E,O){if(!E)return!1;var I=(E==null?void 0:E.insight).reduce(function(A,Y){return Y.count>A.count?Y:A},{count:0,breakdown_value:""});return I.count?I.breakdown_value!==O:!1}]},urlToAction:function(O){var I=O.actions,A=O.values,Y=O.props;return{"/experiments/:id":function(oe){var K=oe.id;if(!A.hasAvailableFeature(V.c.EXPERIMENTATION)){dt.router.actions.push("/experiments");return}if(K){var he=K==="new"?"new":parseInt(K);he==="new"&&(I.createNewExperimentInsight(),I.resetNewExperiment(),I.setSecondaryMetrics([])),I.setEditExperiment(!1),he!=="new"&&he===Y.experimentId&&I.loadExperiment()}}}}});function Yn(E){var O=Math.round(100/E),I=O*E,A=I-100,Y=new Array(E).fill(O);return Y[E-1]=O-A,Y}var Pn=e("./frontend/src/scenes/insights/InsightContainer.tsx"),En=e("./frontend/src/lib/components/icons.tsx"),Fn=e("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),mn=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),Tn=e("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),wn=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),an=e("./frontend/src/lib/components/CopyToClipboard.tsx"),rn=e("./frontend/src/scenes/funnels/funnelUtils.ts"),Lt=e("./node_modules/antd/es/modal/index.js"),Bn=e("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js");function Un(E,O){var I=Object.keys(E);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(E);O&&(A=A.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),I.push.apply(I,A)}return I}function _t(E){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{};O%2?Un(Object(I),!0).forEach(function(A){st()(E,A,I[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(I)):Un(Object(I)).forEach(function(A){Object.defineProperty(E,A,Object.getOwnPropertyDescriptor(I,A))})}return E}var Cn=14,Vt={name:"",filters:{insight:V.s.TRENDS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}]}},ut={name:"",filters:{insight:V.s.FUNNELS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}],layout:B.p.horizontal}},Rt=Object(De.kea)({props:{},path:["scenes","experiment","secondaryMetricsLogic"],connect:{values:[Ge.a,["currentTeamId"]]},actions:{setSecondaryMetrics:function(O){return{secondaryMetrics:O}},createNewMetric:!0,addNewMetric:function(O){return{metric:O}},updateMetricFilters:function(O){return{filters:O}},setFilters:function(O){return{filters:O}},setPreviewInsightId:function(O){return{shortId:O}},createPreviewInsight:function(O){return{filters:O}},showModal:!0,hideModal:!1,changeInsightType:function(O){return{type:O}},setCurrentMetricName:function(O){return{name:O}},deleteMetric:function(O){return{metricId:O}}},loaders:function(O){var I=O.values;return{experiments:[[],{loadExperiments:function(){var A=ae()(Pe.a.mark(function de(){var oe;return Pe.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,pt.a.get("api/projects/".concat(I.currentTeamId,"/experiments"));case 2:return oe=he.sent,he.abrupt("return",oe.results);case 4:case"end":return he.stop()}},de)}));function Y(){return A.apply(this,arguments)}return Y}()}]}},reducers:function(O){var I=O.props;return{previewInsightId:[null,{setPreviewInsightId:function(Y,de){var oe=de.shortId;return oe}}],metrics:[I.initialMetrics,{addNewMetric:function(Y,de){var oe=de.metric;return[].concat(ht()(Y),[_t({},oe)])},deleteMetric:function(Y,de){var oe=de.metricId;return Y.filter(function(K,he){return he!==oe})}}],modalVisible:[!1,{showModal:function(){return!0},hideModal:function(){return!1}}],currentMetricName:["",{setCurrentMetricName:function(Y,de){var oe=de.name;return oe}}],currentMetric:[Vt,{changeInsightType:function(Y,de){var oe=de.type;return oe===V.s.TRENDS?Vt:Y.filters.insight===V.s.TRENDS?ut:Vt},updateMetricFilters:function(Y,de){var oe=de.filters;return _t(_t({},Y),{},{filters:oe})}}]}},listeners:function(O){var I=O.actions,A=O.values,Y=O.props;return{createPreviewInsight:function(){var de=ae()(Pe.a.mark(function K(he){var W,tt,wt,St;return Pe.a.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return W=he.filters,(W==null?void 0:W.insight)===V.s.FUNNELS?tt=Object(jt.a)(_t({insight:V.s.FUNNELS,funnel_viz_type:V.o.Steps,display:V.d.FunnelViz,date_from:Object(Ce.a)().subtract(Cn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ce.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:B.p.horizontal},W)):tt=Object(jt.a)(_t({insight:V.s.TRENDS,date_from:Object(Ce.a)().subtract(Cn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ce.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},W)),wt={description:"",tags:[],filters:tt,result:null},mt.next=5,pt.a.create("api/projects/".concat(Ge.a.values.currentTeamId,"/insights"),wt);case 5:St=mt.sent,I.setPreviewInsightId(St.short_id);case 7:case"end":return mt.stop()}},K)}));function oe(K){return de.apply(this,arguments)}return oe}(),setFilters:function(oe){var K=oe.filters;if(K.insight===V.s.FUNNELS){var he;(he=$t.a.findMounted({dashboardItemId:A.previewInsightId}))===null||he===void 0||he.actions.setFilters(K)}else{var W;(W=yt.a.findMounted({dashboardItemId:A.previewInsightId}))===null||W===void 0||W.actions.setFilters(K)}},createNewMetric:function(){I.addNewMetric(_t(_t({},A.currentMetric),{},{name:A.currentMetricName})),Y.onMetricsChange(A.metrics),I.changeInsightType(V.s.TRENDS),I.setCurrentMetricName("")},deleteMetric:function(){Y.onMetricsChange(A.metrics)},changeInsightType:function(){return I.createPreviewInsight(A.currentMetric.filters)}}},events:function(O){var I=O.actions;return{afterMount:function(){I.createPreviewInsight()}}}}),qt=e("./frontend/src/lib/components/LemonButton/index.ts"),pn=e("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx");function Jn(E,O){var I=Object.keys(E);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(E);O&&(A=A.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),I.push.apply(I,A)}return I}function fn(E){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{};O%2?Jn(Object(I),!0).forEach(function(A){st()(E,A,I[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(I)):Jn(Object(I)).forEach(function(A){Object.defineProperty(E,A,Object.getOwnPropertyDescriptor(I,A))})}return E}function In(E){var O=E.onMetricsChange,I=E.initialMetrics,A=Rt({onMetricsChange:O,initialMetrics:I}),Y=Object(De.useValues)(A),de=Y.previewInsightId,oe=Y.metrics,K=Y.modalVisible,he=Y.currentMetric,W=Object(De.useActions)(A),tt=W.createNewMetric,wt=W.updateMetricFilters,St=W.setFilters,lt=W.showModal,mt=W.hideModal,Z=W.changeInsightType,Sn=W.setCurrentMetricName,Wn=W.deleteMetric,Qn=Object(De.useValues)(Object(Mt.c)({dashboardItemId:de,syncWithUrl:!1})),na=Qn.insightProps,gt=Object(De.useValues)(Object($t.a)(na)),zn=gt.isStepsEmpty,aa=gt.filterSteps;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Lt.a,{title:"Add secondary metric",visible:K,destroyOnClose:!0,onCancel:mt,footer:null,style:{minWidth:600}},o.a.createElement(ee.a,{layout:"vertical",initialValues:{type:V.s.TRENDS},onValuesChange:function(dn){dn.name&&Sn(dn.name)},onFinish:function(){tt(),mt()},scrollToFirstError:!0,requiredMark:!1},o.a.createElement(ee.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"You have to enter a name."}]},o.a.createElement(We.a,null)),o.a.createElement(ee.a.Item,{name:"type",label:"Type"},o.a.createElement(ke.a,{style:{display:"flex"},value:he.filters.insight,onChange:function(){Z()},suffixIcon:o.a.createElement(Tn.a,null),dropdownMatchSelectWidth:!1},o.a.createElement(ke.a.Option,{value:V.s.TRENDS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Trend")))),o.a.createElement(ke.a.Option,{value:V.s.FUNNELS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Conversion funnel")))))),o.a.createElement(ee.a.Item,{name:"query",label:"Query"},o.a.createElement(q.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},he.filters.insight===V.s.FUNNELS&&o.a.createElement(It.a,{filters:he.filters,setFilters:function(dn){var kt=fn(fn({},he.filters),{},{insight:V.s.FUNNELS},dn);wt(kt),St(kt)},typeKey:"funnel-preview-metric",mathAvailability:pn.b.None,hideDeleteBtn:aa.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!zn,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ve.a.EventProperties,ve.a.PersonProperties,ve.a.Cohorts,ve.a.Elements],rowClassName:"action-filters-bordered"}),he.filters.insight===V.s.TRENDS&&o.a.createElement(It.a,{entitiesLimit:1,horizontalUI:!0,filters:he.filters,setFilters:function(dn){var kt=fn(fn({},he.filters),{},{insight:V.s.TRENDS},dn);wt(kt),St(kt)},typeKey:"trend-preview-metric",buttonCopy:"Add graph series",showSeriesIndicator:!0,propertiesTaxonomicGroupTypes:[ve.a.EventProperties,ve.a.PersonProperties,ve.a.Cohorts,ve.a.Elements]}))),o.a.createElement(ee.a.Item,{name:"metric-preview",label:"Metric preview"},o.a.createElement(De.BindLogic,{logic:Mt.c,props:na},o.a.createElement(Pn.a,{disableHeader:!0,disableTable:!0}))),o.a.createElement(F.a,{justify:"end"},o.a.createElement(qt.a,{type:"secondary",className:"mr-05",onClick:function(){return mt()}},"Cancel"),o.a.createElement(qt.a,{type:"primary",htmlType:"submit"},"Save")))),o.a.createElement(F.a,null,o.a.createElement(k.a,null,oe.map(function(At,dn){return o.a.createElement(F.a,{key:dn,className:"mt"},o.a.createElement(F.a,{align:"middle",className:"full-width border-all",style:{padding:8}},o.a.createElement("div",{style:{fontWeight:500}},"Name")," ",o.a.createElement("div",{className:"metric-name"},At.name),o.a.createElement(Bn.a,{className:"text-danger",style:{padding:8},onClick:function(){return Wn(dn)}})),o.a.createElement(q.a,{className:"full-width",style:{borderTop:"none"},bodyStyle:{padding:0}},At.filters.insight===V.s.FUNNELS&&o.a.createElement(It.a,{filters:At.filters,setFilters:function(en){var jn=fn(fn({},At.filters),{},{insight:V.s.FUNNELS},en);wt(jn),St(jn)},typeKey:"funnel-preview-".concat(dn),mathAvailability:pn.b.None,hideDeleteBtn:aa.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!zn,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ve.a.EventProperties,ve.a.PersonProperties,ve.a.Cohorts,ve.a.Elements],rowClassName:"action-filters-bordered",readOnly:!0}),At.filters.insight===V.s.TRENDS&&o.a.createElement(It.a,{horizontalUI:!0,filters:At.filters,setFilters:function(en){var jn=fn(fn({},At.filters),{},{insight:V.s.TRENDS},en);wt(jn),St(jn)},typeKey:"trend-preview-".concat(dn),buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,propertiesTaxonomicGroupTypes:[ve.a.EventProperties,ve.a.PersonProperties,ve.a.Cohorts,ve.a.Elements],readOnly:!0})))}),oe&&!(oe.length>2)&&o.a.createElement(k.a,null,o.a.createElement("div",{className:"mb-05 mt"},o.a.createElement(Ae.a,{style:{color:"var(--primary)",minWidth:240},onClick:lt},"Add metric"))))))}try{In.displayName="SecondaryMetrics",In.__docgenInfo={description:"",displayName:"SecondaryMetrics",props:{onMetricsChange:{defaultValue:null,description:"",name:"onMetricsChange",required:!0,type:{name:"(metrics: SecondaryExperimentMetric[]) => void"}},initialMetrics:{defaultValue:null,description:"",name:"initialMetrics",required:!0,type:{name:"SecondaryExperimentMetric[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"]={docgenInfo:In.__docgenInfo,name:"SecondaryMetrics",path:"frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"})}catch(E){}var oa=e("./frontend/src/lib/colors.ts"),ca=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),sa=e("./frontend/src/lib/components/EditableField/EditableField.tsx"),Ln=e("./frontend/src/lib/components/Link.tsx"),Rn=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Gn=e("./node_modules/antd/es/slider/index.js"),Nn=e("./node_modules/antd/es/input-number/index.js"),Vn=e("./frontend/src/lib/components/InsightLabel/index.tsx"),Mn=e("./frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.tsx");function Kn(){var E=Object(Kt.useState)(!1),O=be()(E,2),I=O[0],A=O[1],Y=Object(Kt.useState)(!1),de=be()(Y,2),oe=de[0],K=de[1];return o.a.createElement(q.a,{className:"experiment-workflow",title:o.a.createElement("span",{className:"card-secondary"},"Experiment workflow")},o.a.createElement(F.a,null,o.a.createElement(k.a,{className:"exp-workflow-step step-completed full-width"},o.a.createElement(F.a,{align:"middle"},o.a.createElement(En.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}),o.a.createElement("b",{className:"ml-05"},"Create experiment")),o.a.createElement("div",{className:"ml-2"},"Set variants, select participants, and add secondary metrics"))),o.a.createElement(F.a,null,o.a.createElement(k.a,{className:"full-width exp-workflow-step ".concat(I?"step-completed":""),onClick:function(){return A(!I)}},o.a.createElement(F.a,{align:"middle"},I?o.a.createElement(En.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):o.a.createElement(En.IconRadioButtonUnchecked,null),o.a.createElement("b",{className:"ml-05"},"Validate experiment")),o.a.createElement("div",{className:"ml-2"},"Once you've written your code, it's a good idea to test that each variant behaves as you'd expect."))),o.a.createElement(F.a,null,o.a.createElement(k.a,{className:"full-width exp-workflow-step ".concat(oe?"step-completed":""),onClick:function(){return K(!oe)}},o.a.createElement(F.a,{align:"middle"},oe?o.a.createElement(En.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):o.a.createElement(En.IconRadioButtonUnchecked,null),o.a.createElement("b",{className:"ml-05"},"Launch experiment")),o.a.createElement("div",{className:"ml-2"},"Run your experiment, monitor results, and decide when to terminate your experiment."))))}function gn(E){var O,I,A,Y,de,oe,K=E.experiment,he=E.trendCount,W=E.funnelConversionRate,tt=E.trendExposure,wt=E.funnelSampleSize,St=E.funnelEntrants,lt=(K==null?void 0:K.id)||"new",mt=Object(De.useValues)(xn({experimentId:lt})),Z=mt.experimentInsightType,Sn=mt.editingExistingExperiment,Wn=mt.minimumDetectableChange,Qn=mt.expectedRunningTime,na=mt.aggregationLabel,gt=Object(De.useActions)(xn({experimentId:lt})),zn=gt.setNewExperimentData,aa=Z===V.s.FUNNELS&&100-W<50?100-W:50,At=Object(Ce.a)().diff(Object(Ce.a)(K==null?void 0:K.start_date),"hour"),dn=0;K!=null&&K.start_date?dn=Qn(St||1,wt||0,At):dn=Qn(St||1,wt||0);var kt=Object(Ce.a)(K==null?void 0:K.start_date).add(dn,"hour"),en=!(K!=null&&K.end_date)&&At>=24&&St&&wt,jn=Object(Xe.s)(K==null||(O=K.filters)===null||O===void 0?void 0:O.properties);return o.a.createElement(F.a,null,o.a.createElement(k.a,{span:!(K!=null&&K.start_date)&&lt!=="new"&&!Sn?12:24},lt==="new"&&o.a.createElement(F.a,{className:"experiment-preview-row"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("b",null,"Experiment preview")),o.a.createElement("div",{className:"text-muted"},"Here are the baseline metrics for your experiment. Adjust your minimum detectible threshold to adjust for the smallest conversion value you\u2019ll accept, and the experiment duration."," "))),(lt==="new"||Sn)&&o.a.createElement(F.a,{className:"mb"},o.a.createElement(k.a,{span:24},o.a.createElement("div",null,o.a.createElement("b",null,"Minimum acceptable improvement"),o.a.createElement(pe.a,{title:"Minimum acceptable improvement is a calculation that estimates the smallest significant improvement you are willing to accept."},o.a.createElement(zt.a,{style:{marginLeft:4}}))),o.a.createElement(F.a,{className:"mde-slider"},o.a.createElement(k.a,{span:8},o.a.createElement(Gn.a,{defaultValue:5,value:Wn,min:1,max:aa,trackStyle:{background:"var(--primary)"},handleStyle:{background:"var(--primary)"},onChange:function(hn){zn({parameters:{minimum_detectable_effect:hn}})},tipFormatter:function(hn){return"".concat(hn,"%")}})),o.a.createElement(Nn.a,{min:1,max:aa,defaultValue:5,formatter:function(hn){return"".concat(hn,"%")},style:{margin:"0 16px"},value:Wn,onChange:function(hn){zn({parameters:{minimum_detectable_effect:hn}})}})))),o.a.createElement(F.a,{className:"experiment-preview-row ".concat(K!=null&&K.start_date?"mr":"")},Z===V.s.TRENDS?o.a.createElement(o.a.Fragment,null,!(K!=null&&K.start_date)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{span:6},o.a.createElement("div",{className:"card-secondary"},"Baseline Count"),o.a.createElement("div",{className:"l4"},Object(Xe.O)(he||0))),o.a.createElement(k.a,{span:6},o.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Count"),o.a.createElement("div",{className:"l4"},Object(Xe.O)(he+Math.ceil(he*(Wn/100))||0)))),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Recommended running time"),o.a.createElement("div",null,o.a.createElement("span",{className:"l4"},"~",Object(Xe.O)(tt||0))," days"))):o.a.createElement(o.a.Fragment,null,!(K!=null&&K.start_date)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Baseline Conversion Rate"),o.a.createElement("div",{className:"l4"},W.toFixed(1),"%")),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Conversion Rate"),o.a.createElement("div",{className:"l4"},(W+Wn).toFixed(1),"%"))),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Recommended Sample Size"),o.a.createElement("div",{className:"pb"},o.a.createElement("span",{className:"l4"},"~",Object(Xe.O)(wt||0))," persons")),!(K!=null&&K.start_date)&&o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Recommended running time"),o.a.createElement("div",null,o.a.createElement("span",{className:"l4"},"~",Object(Xe.O)(dn||0))," days"))),o.a.createElement(F.a,{className:"full-width mt"},o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Experiment variants"),o.a.createElement("ul",{className:"variants-list"},K==null||(I=K.parameters)===null||I===void 0||(A=I.feature_flag_variants)===null||A===void 0?void 0:A.map(function(vn,hn){return o.a.createElement("li",{key:hn},vn.key)}))),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Participants"),o.a.createElement("div",null,jn!=null&&jn.length?o.a.createElement("div",null,jn==null?void 0:jn.map(function(vn){return o.a.createElement(Mn.c,{key:vn.key,item:vn,style:{margin:2,cursor:"default"}})})):o.a.createElement(o.a.Fragment,null,"100% of"," ",(K==null||(Y=K.filters)===null||Y===void 0?void 0:Y.aggregation_group_type_index)!=null?Object(Xe.j)(na(K.filters.aggregation_group_type_index).plural):"users")))),o.a.createElement(F.a,{className:"full-width"},lt!=="new"&&!Sn&&o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary mt"},"Start date"),K!=null&&K.start_date?o.a.createElement("span",null,Object(Ce.a)(K==null?void 0:K.start_date).format("D MMM YYYY")):o.a.createElement("span",{className:"description"},"Not started yet")),Z===V.s.FUNNELS&&en?o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary mt"},"Expected end date"),o.a.createElement("span",null,kt.isAfter(Object(Ce.a)())?kt.format("D MMM YYYY"):Object(Ce.a)().format("D MMM YYYY"))):null,(K==null?void 0:K.end_date)&&o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary mt"},"Completed date"),o.a.createElement("span",null,Object(Ce.a)(K==null?void 0:K.end_date).format("D MMM YYYY"))))),lt!=="new"&&!Sn&&o.a.createElement(F.a,{className:"experiment-preview-row"},o.a.createElement(k.a,null,o.a.createElement("div",{className:"card-secondary mb-05"},Z===V.s.FUNNELS?"Conversion goal steps":"Trend goal"),[].concat(ht()((K==null||(de=K.filters)===null||de===void 0?void 0:de.events)||[]),ht()((K==null||(oe=K.filters)===null||oe===void 0?void 0:oe.actions)||[])).sort(function(vn,hn){return(vn.order||0)-(hn.order||0)}).map(function(vn,hn){var da;return o.a.createElement(k.a,{key:hn,className:"mb-05"},o.a.createElement(F.a,{style:{marginBottom:4}},o.a.createElement("div",{className:"preview-conversion-goal-num"},Z===V.s.FUNNELS?(vn.order||0)+1:hn+1),o.a.createElement("b",null,o.a.createElement(Vn.b,{action:vn,showCountedByTag:Z===V.s.TRENDS,hideIcon:!0}))),(da=vn.properties)===null||da===void 0?void 0:da.map(function(ma){return o.a.createElement(Mn.c,{key:ma.key,item:ma})}))})))),lt!=="new"&&!Sn&&!(K!=null&&K.start_date)&&o.a.createElement(k.a,{span:12,className:"pl"},o.a.createElement(Kn,null)))}try{gn.displayName="ExperimentPreview",gn.__docgenInfo={description:"",displayName:"ExperimentPreview",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}},trendCount:{defaultValue:null,description:"",name:"trendCount",required:!0,type:{name:"number"}},trendExposure:{defaultValue:null,description:"",name:"trendExposure",required:!1,type:{name:"number"}},funnelSampleSize:{defaultValue:null,description:"",name:"funnelSampleSize",required:!1,type:{name:"number"}},funnelConversionRate:{defaultValue:null,description:"",name:"funnelConversionRate",required:!0,type:{name:"number"}},funnelEntrants:{defaultValue:null,description:"",name:"funnelEntrants",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"]={docgenInfo:gn.__docgenInfo,name:"ExperimentPreview",path:"frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"})}catch(E){}var _n=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx");function Dn(E){var O,I,A,Y=E.experiment,de=Object(Kt.useState)("control"),oe=be()(de,2),K=oe[0],he=oe[1];return o.a.createElement(q.a,{title:o.a.createElement("span",{className:"card-secondary"},"Feature flag usage and implementation"),className:"experiment-implementation-details"},o.a.createElement(F.a,{justify:"space-between",className:"mb-05"},o.a.createElement("div",null,o.a.createElement("span",{className:"mr-05"},"Variant group"),o.a.createElement(ke.a,{onChange:he,defaultValue:"control",suffixIcon:o.a.createElement(Tn.a,null)},Y==null||(O=Y.parameters)===null||O===void 0||(I=O.feature_flag_variants)===null||I===void 0?void 0:I.map(function(W,tt){return o.a.createElement(ke.a.Option,{key:tt,value:W.key},W.key)}))),o.a.createElement("div",null,o.a.createElement(ta,null))),o.a.createElement("b",null,"Implement your experiment in code"),o.a.createElement(_n.a,{language:_n.b.JavaScript,wrap:!0},"if (posthog.getFeatureFlag('".concat((A=Y==null?void 0:Y.feature_flag_key)!==null&&A!==void 0?A:"","') === '").concat(K,`') {
    // where '`).concat(K,`' is the variant, run your code here
}`)),o.a.createElement("b",null,"Test that it works"),o.a.createElement(_n.a,{language:_n.b.JavaScript},"posthog.feature_flags.override({'".concat(Y==null?void 0:Y.feature_flag_key,"': '").concat(K,"'})")),o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://posthog.com/docs/user-guides/feature-flags"},o.a.createElement(F.a,{align:"middle"},"Experiment implementation guide",o.a.createElement(En.IconOpenInNew,{className:"ml-05"}))))}try{Dn.displayName="ExperimentImplementationDetails",Dn.__docgenInfo={description:"",displayName:"ExperimentImplementationDetails",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"]={docgenInfo:Dn.__docgenInfo,name:"ExperimentImplementationDetails",path:"frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"})}catch(E){}function ia(E,O){var I=Object.keys(E);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(E);O&&(A=A.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),I.push.apply(I,A)}return I}function qn(E){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{};O%2?ia(Object(I),!0).forEach(function(A){st()(E,A,I[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(I)):ia(Object(I)).forEach(function(A){Object.defineProperty(E,A,Object.getOwnPropertyDescriptor(I,A))})}return E}var ea={component:Xn,logic:xn,paramsToProps:function(O){var I=O.params.id;return{experimentId:I==="new"?"new":parseInt(I)}}};function Xn(){var E,O,I,A,Y,de,oe,K,he,W,tt,wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},St=wt.id,lt=Object(De.useValues)(xn({experimentId:St})),mt=lt.newExperimentData,Z=lt.experimentData,Sn=lt.experimentInsightId,Wn=lt.minimumSampleSizePerVariant,Qn=lt.recommendedExposureForCountData,na=lt.variants,gt=lt.experimentResults,zn=lt.countDataForVariant,aa=lt.editingExistingExperiment,At=lt.experimentInsightType,dn=lt.experimentResultsLoading,kt=lt.parsedSecondaryMetrics,en=lt.areResultsSignificant,jn=lt.conversionRateForVariant,vn=lt.getIndexForVariant,hn=lt.significanceBannerDetails,da=lt.areTrendResultsConfusing,ma=lt.taxonomicGroupTypesForSelection,la=lt.groupTypes,ya=lt.aggregationLabel,Hn=lt.secondaryMetricResults,ba=lt.experimentDataLoading,yn=Object(De.useActions)(xn({experimentId:St})),pa=yn.setNewExperimentData,xa=yn.createExperiment,fa=yn.launchExperiment,Ca=yn.setFilters,Pa=yn.setEditExperiment,Ea=yn.endExperiment,va=yn.addExperimentGroup,ua=yn.updateExperiment,Sa=yn.updateExperimentGroup,Ta=yn.removeExperimentGroup,Oa=yn.setSecondaryMetrics,ga=yn.setExperimentInsightType,Ia=yn.archiveExperiment,f=Object(De.useValues)(Rn.a),p=f.featureFlags,x=ee.a.useForm(),g=be()(x,1),d=g[0],v=Object(Kt.useState)(!0),i=be()(v,2),l=i[0],c=i[1],y=Object(De.useValues)(Object(Mt.c)({dashboardItemId:Sn})),w=y.insightProps,a=Object(De.useValues)(Object($t.a)(w)),n=a.isStepsEmpty,t=a.filterSteps,s=a.filters,u=a.results,h=a.conversionMetrics,b=Object(De.useValues)(Object(yt.a)(w)),C=b.filters,j=b.results,D=h.totalRate*100,H=Wn(D),z=H*na.length,U=(E=j[0])===null||E===void 0?void 0:E.count,me=u==null||(O=u[0])===null||O===void 0?void 0:O.count,le=Qn(U),ge=Math.floor(24/(na.length+2)),Oe=At===V.s.FUNNELS&&(gt==null?void 0:gt.insight)?gt.insight.reduce(function(P,T){var M;return((M=T[0])===null||M===void 0?void 0:M.count)+P},0):0,ze=At===V.s.FUNNELS?(Oe||0)/((Z==null||(I=Z.parameters)===null||I===void 0?void 0:I.recommended_sample_size)||1)*100:Object(Ce.a)().diff(Z==null?void 0:Z.start_date,"day")/((Z==null||(A=Z.parameters)===null||A===void 0?void 0:A.recommended_running_time)||1)*100,Se={running:"green",draft:"default",complete:"purple"},Ve=function(){if(Z!=null&&Z.start_date){if(!(Z!=null&&Z.end_date))return"running"}else return"draft";return"complete"},ye=[{background:"#35416b",color:"#fff"},{background:"#C278CE66",color:"#35416B"},{background:"#FFE6AE",color:"#35416B"},{background:"#8DA9E74D",color:"#35416B"}];return o.a.createElement(o.a.Fragment,null,St==="new"||aa?o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{align:"middle",justify:"space-between",style:{borderBottom:"1px solid var(--border)",marginBottom:"1rem",paddingBottom:8}},o.a.createElement(Et.a,{title:"New experiment"}),o.a.createElement(F.a,null,o.a.createElement(qt.a,{type:"secondary",className:"mr-05",onClick:function(){return dt.router.actions.push(at.a.experiments())}},"Cancel"),o.a.createElement(qt.a,{type:"primary",htmlType:"submit",form:"new-experiment"},"Save"))),o.a.createElement(ee.a,{name:"new-experiment",layout:"vertical",className:"experiment-form",form:d,onValuesChange:function(T){return pa(T)},initialValues:{name:mt==null?void 0:mt.name,feature_flag_key:mt==null?void 0:mt.feature_flag_key,description:mt==null?void 0:mt.description},onFinish:function(){return xa(!0,le,z)},requiredMark:!1,scrollToFirstError:!0},o.a.createElement("div",null,o.a.createElement(De.BindLogic,{logic:Mt.c,props:w},o.a.createElement(F.a,null,o.a.createElement(k.a,{span:12,style:{paddingRight:24}},o.a.createElement(F.a,{className:"full-width"},o.a.createElement(ee.a.Item,{style:{marginRight:16},label:"Name",name:"name",rules:[{required:!0,message:"You have to enter a name."}]},o.a.createElement(We.a,{"data-attr":"experiment-name",className:"ph-ignore-input"})),o.a.createElement(ee.a.Item,{style:{marginBottom:"1rem"},label:o.a.createElement("div",null,"Feature flag key"," ",o.a.createElement(pe.a,{title:"Enter a unique key. This will create a new feature flag which will be associated with this experiment."},o.a.createElement(zt.a,null))),name:"feature_flag_key",rules:[{required:!0,message:"You have to enter a feature flag key name."}]},o.a.createElement(We.a,{"data-attr":"experiment-feature-flag-key",disabled:aa}))),o.a.createElement(ee.a.Item,{label:o.a.createElement("div",null,"Description ",o.a.createElement("span",{className:"text-muted"},"(optional)")),name:"description"},o.a.createElement(We.a.TextArea,{"data-attr":"experiment-description",className:"ph-ignore-input",placeholder:"Adding a helpful description can ensure others know what this experiment is about."})),(mt==null||(Y=mt.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)&&o.a.createElement(k.a,null,o.a.createElement("label",null,o.a.createElement("b",null,"Experiment variants")),o.a.createElement("div",{className:"text-muted"},"Participants are divided into variant groups evenly. All experiments must consist of a control group and at least one test group. Experiments may have at most 3 test groups. Variant names can only contain letters, numbers, hyphens, and underscores."),o.a.createElement(k.a,{className:"variants"},mt.parameters.feature_flag_variants.map(function(P,T){return o.a.createElement(ee.a,{key:"".concat(P,"-").concat(T),initialValues:{key:P.key},onValuesChange:function(_){Sa(_,T)}},o.a.createElement(F.a,{key:"".concat(P,"-").concat(T),className:"feature-flag-variant ".concat(T===0?"border-top":T>=3?"border-bottom":"")},o.a.createElement("div",{className:"variant-label",style:qn({},ye[T])},T===0?"Control":"Test"),o.a.createElement(ee.a.Item,{name:"key",rules:[{required:!0,message:"Key should not be empty."},{required:!0,pattern:/^([A-z]|[a-z]|[0-9]|-|_)+$/,message:o.a.createElement(o.a.Fragment,null,o.a.createElement(Fn.a,{style:{color:"#F96132"}})," ","Variant names can only contain letters, numbers, hyphens, and underscores.")}],style:{display:"contents"}},o.a.createElement(We.a,{disabled:T===0,"data-attr":"feature-flag-variant-key","data-key-index":T.toString(),className:"ph-ignore-input",placeholder:"example-variant-".concat(T+1),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1})),o.a.createElement("div",{className:"float-right"},!(T===0||T===1)&&o.a.createElement(pe.a,{title:"Delete this variant",placement:"bottomLeft"},o.a.createElement(qt.a,{type:"primary-alt",compact:!0,icon:o.a.createElement(En.IconDelete,null),onClick:function(){return Ta(T)}})))))}),mt.parameters.feature_flag_variants.length<4&&o.a.createElement("div",{className:"feature-flag-variant border-bottom"},o.a.createElement(Ae.a,{style:{color:"var(--primary)",border:"none",boxShadow:"none",paddingLeft:0},icon:o.a.createElement(mn.a,null),onClick:function(){return va()}},"Add test variant")))),o.a.createElement(F.a,{className:"person-selection"},o.a.createElement("div",{className:"mb-05"},o.a.createElement("strong",null,"Select participants")),o.a.createElement(k.a,null,o.a.createElement("div",{className:"text-muted"},"Select the entities who will participate in this experiment. If no filters are set, 100% of participants will be targeted."),o.a.createElement("div",{className:"mt mb-05"},o.a.createElement("strong",null,"Participant type")),o.a.createElement(ke.a,{value:(mt==null||(de=mt.filters)===null||de===void 0?void 0:de.aggregation_group_type_index)!=null?mt.filters.aggregation_group_type_index:-1,onChange:function(T){var M,_=T!==-1?T:void 0;_!=(mt==null||(M=mt.filters)===null||M===void 0?void 0:M.aggregation_group_type_index)&&(Ca({properties:[],aggregation_group_type_index:_}),pa({filters:{aggregation_group_type_index:_,properties:[]}}))},"data-attr":"participant-aggregation-filter",dropdownMatchSelectWidth:!1},o.a.createElement(ke.a.Option,{key:-1,value:-1},"Persons"),la.map(function(P){return o.a.createElement(ke.a.Option,{key:P.group_type_index,value:P.group_type_index},Object(Xe.j)(ya(P.group_type_index).plural))})),o.a.createElement("div",{className:"mt"},o.a.createElement("strong",null,"Filters")),o.a.createElement(N.a,{pageKey:"experiment-participants-property",propertyFilters:At===V.s.FUNNELS?Object(Xe.s)(s.properties):Object(Xe.s)(C.properties),onChange:function(T){pa({filters:{properties:T}}),Ca({properties:T.filter(Ot.b)})},taxonomicGroupTypes:ma})))),o.a.createElement(F.a,{className:"metrics-selection"},o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"mb-05"},o.a.createElement("b",null,"Goal type"),o.a.createElement("div",{className:"text-muted"},At===V.s.TRENDS?"Track counts of a specific event or action":"Track how many persons complete a sequence of actions and or events")),o.a.createElement(ke.a,{style:{display:"flex"},value:At,onChange:ga,suffixIcon:o.a.createElement(Tn.a,null),dropdownMatchSelectWidth:!1},o.a.createElement(ke.a.Option,{value:V.s.TRENDS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Trend")))),o.a.createElement(ke.a.Option,{value:V.s.FUNNELS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Conversion funnel"))))),o.a.createElement("div",{className:"mb mt"},o.a.createElement("b",null,"Experiment goal"),At===V.s.TRENDS&&o.a.createElement("div",{className:"text-muted"},"Trend-based experiments can have at most one graph series. This metric is used to track the progress of your experiment.")),o.a.createElement(F.a,null,o.a.createElement(q.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},At===V.s.FUNNELS&&o.a.createElement(It.a,{filters:s,setFilters:function(T){pa({filters:T}),Ca(T)},typeKey:"EditFunnel-action",mathAvailability:pn.b.None,hideDeleteBtn:t.length===1,buttonCopy:"Add funnel step",buttonType:"link",showSeriesIndicator:!n,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ve.a.EventProperties,ve.a.PersonProperties,ve.a.Cohorts,ve.a.Elements],rowClassName:"action-filters-bordered"}),At===V.s.TRENDS&&o.a.createElement(It.a,{horizontalUI:!0,filters:C,setFilters:function(T){pa({filters:T}),Ca(T)},typeKey:"experiment-trends",buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,propertiesTaxonomicGroupTypes:[ve.a.EventProperties,ve.a.PersonProperties,ve.a.Cohorts,ve.a.Elements],customRowPrefix:C.insight===V.s.LIFECYCLE?o.a.createElement(o.a.Fragment,null,"Showing ",o.a.createElement("b",null,"Unique users")," who did"):void 0}))),p[B.n.EXPERIMENTS_SECONDARY_METRICS]&&o.a.createElement(k.a,{className:"secondary-metrics"},o.a.createElement("div",null,o.a.createElement("b",null,"Secondary metrics"),o.a.createElement("span",{className:"text-muted ml-05"},"(optional)")),o.a.createElement("div",{className:"text-muted",style:{marginTop:4}},"Use secondary metrics to monitor metrics related to your experiment goal. You can add up to three secondary metrics."," "),o.a.createElement(In,{onMetricsChange:function(T){return Oa(T)},initialMetrics:kt}))),o.a.createElement(k.a,{span:12,className:"pl"},o.a.createElement("div",{className:"card-secondary mb"},"Goal preview"),o.a.createElement(Pn.a,{disableHeader:At===V.s.TRENDS,disableTable:!0})))),o.a.createElement(F.a,null,o.a.createElement(q.a,{className:"experiment-preview"},o.a.createElement(gn,{experiment:mt,trendCount:U,trendExposure:le,funnelSampleSize:z,funnelEntrants:me,funnelConversionRate:D}))))),o.a.createElement(qt.a,{className:"float-right",type:"primary",htmlType:"submit"},"Save"))):!ba&&Z?o.a.createElement("div",{className:"view-experiment"},o.a.createElement(F.a,{className:"draft-header"},o.a.createElement(F.a,{justify:"space-between",align:"middle",className:"full-width pb"},o.a.createElement(k.a,null,o.a.createElement(F.a,null,o.a.createElement(Et.a,{style:{paddingRight:8},title:"".concat(Z==null?void 0:Z.name),buttons:o.a.createElement(o.a.Fragment,null,o.a.createElement(an.a,{explicitValue:Z.feature_flag_key,iconStyle:{color:"var(--text-muted-alt)"}},o.a.createElement("span",{className:"text-muted"},Z.feature_flag_key)),o.a.createElement($e.a,{style:{alignSelf:"center"},color:Se[Ve()]},o.a.createElement("b",{className:"uppercase"},Ve())),gt&&Z.end_date&&o.a.createElement($e.a,{style:{alignSelf:"center"},color:en?"green":"geekblue"},o.a.createElement("b",{className:"uppercase"},en?"Significant Results":"Results not significant")))})),o.a.createElement("span",{className:"exp-description"},Z.start_date?o.a.createElement(sa.a,{multiline:!0,name:"description",value:Z.description||"",placeholder:"Description (optional)",onSave:function(T){return ua({description:T})},maxLength:400,"data-attr":"experiment-description",compactButtons:!0}):o.a.createElement(o.a.Fragment,null,Z.description||"There is no description for this experiment."))),Z&&!Z.start_date&&o.a.createElement("div",null,o.a.createElement(Ae.a,{className:"mr-05",onClick:function(){return Pa(!0)}},"Edit"),o.a.createElement(Ae.a,{type:"primary",onClick:function(){return fa()}},"Launch")),Z&&Z.start_date&&!Z.end_date&&o.a.createElement(Ae.a,{className:"stop-experiment",onClick:function(){return Ea()}},"Stop experiment"),(Z==null?void 0:Z.end_date)&&Object(Ce.a)().isSameOrAfter(Object(Ce.a)(Z.end_date),"day")&&!Z.archived&&o.a.createElement(Ae.a,{className:"archive-experiment",onClick:function(){return Ia()}},o.a.createElement("b",null,"Archive experiment")))),o.a.createElement(F.a,null,l&&gt&&en&&!Z.end_date&&o.a.createElement(F.a,{align:"middle",className:"significant-results"},o.a.createElement(k.a,{span:20,style:{fontWeight:500,color:"#497342"}},o.a.createElement("div",null,"Experiment results are significant."," ",Z.end_date?"":"You can end your experiment now or let it run until complete.")),o.a.createElement(k.a,{span:4},Z.end_date?o.a.createElement(wn.a,{className:"close-button",onClick:function(){return c(!1)}}):o.a.createElement(qt.a,{type:"highlighted",className:"end-experiment-btn",onClick:function(){return Ea()}},"End experiment"))),l&&gt&&!en&&!Z.end_date&&o.a.createElement(F.a,{align:"top",className:"not-significant-results"},o.a.createElement(k.a,{span:23,style:{fontWeight:500,color:"#2D2D2D"}},o.a.createElement("strong",null,"Your results are not statistically significant"),"."," ",hn," ",Z!=null&&Z.end_date?"":"We don't recommend ending this experiment yet."," ","See our"," ",o.a.createElement("a",{href:"https://posthog.com/docs/user-guides/experimentation#funnel-experiment-calculations"}," ","experimentation guide"," "),"for more information."," "),o.a.createElement(k.a,{span:1},o.a.createElement(wn.a,{className:"close-button",onClick:function(){return c(!1)}}))),l&&Z.end_date&&o.a.createElement(F.a,{align:"top",className:"feature-flag-mods"},o.a.createElement(k.a,{span:23,style:{fontWeight:500}},o.a.createElement("strong",null,"Your experiment is complete.")," We recommend removing the feature flag from your code completely, instead of relying on this distribution."," ",o.a.createElement(Ln.a,{to:Z.feature_flag?at.a.featureFlag(Z.feature_flag):void 0},o.a.createElement("b",null,"Adjust feature flag distribution"))),o.a.createElement(k.a,{span:1},o.a.createElement(wn.a,{className:"close-button",onClick:function(){return c(!1)}})))),o.a.createElement(F.a,null,o.a.createElement(Ee.a,{className:"full-width",defaultActiveKey:"experiment-details"},o.a.createElement(Ee.a.Panel,{header:o.a.createElement("b",null,"Experiment details"),key:"experiment-details"},o.a.createElement(F.a,null,o.a.createElement(k.a,{span:Z!=null&&Z.start_date?12:24},o.a.createElement(gn,{experiment:Z,trendCount:U,trendExposure:Z==null?void 0:Z.parameters.recommended_running_time,funnelSampleSize:Z==null?void 0:Z.parameters.recommended_sample_size,funnelConversionRate:D,funnelEntrants:Z!=null&&Z.start_date?Oe:me})),!dn&&!gt&&Z.start_date&&o.a.createElement(k.a,{span:12},o.a.createElement(Dn,{experiment:Z})),(gt||((oe=Z.secondary_metrics)===null||oe===void 0?void 0:oe.length)>0)&&o.a.createElement(k.a,{className:"secondary-progress",span:Z!=null&&Z.start_date?12:24},p[B.n.EXPERIMENTS_SECONDARY_METRICS]&&!!(Z!=null&&Z.secondary_metrics.length)&&o.a.createElement(k.a,{className:"border-bottom"},o.a.createElement(F.a,{align:"middle",justify:"space-between",className:"mb-05"},o.a.createElement(k.a,{className:"card-secondary",span:2*ge},"Secondary metrics"),Z==null||(K=Z.parameters)===null||K===void 0||(he=K.feature_flag_variants)===null||he===void 0?void 0:he.map(function(P,T){return o.a.createElement(k.a,{key:T,span:ge,style:{color:"".concat(At===V.s.FUNNELS?Object(rn.k)(vn(P.key,V.s.FUNNELS)+1):Object(oa.c)("white")[vn(P.key,V.s.TRENDS)])}},o.a.createElement("span",{className:"text-default"},Object(Xe.j)(P.key)))})),p[B.n.EXPERIMENTS_SECONDARY_METRICS]&&(Z.start_date?o.a.createElement(o.a.Fragment,null,Z.secondary_metrics.map(function(P,T){var M,_;return o.a.createElement(F.a,{className:"border-top",key:T,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},o.a.createElement(k.a,{span:2*ge},Object(Xe.j)(P.name)),Z==null||(M=Z.parameters)===null||M===void 0||(_=M.feature_flag_variants)===null||_===void 0?void 0:_.map(function(J,G){return o.a.createElement(k.a,{key:G,span:ge},Hn!=null&&Hn[T][J.key]?P.filters.insight===V.s.FUNNELS?o.a.createElement(o.a.Fragment,null,((Hn==null?void 0:Hn[T][J.key])*100).toFixed(1),"%"):o.a.createElement(o.a.Fragment,null,Hn==null?void 0:Hn[T][J.key]):o.a.createElement(o.a.Fragment,null,"--"))}))})):o.a.createElement(o.a.Fragment,null,Z.secondary_metrics.map(function(P,T){var M,_;return o.a.createElement(F.a,{className:"border-top",key:T,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},o.a.createElement(k.a,{span:2*ge},Object(Xe.j)(P.name)),Z==null||(M=Z.parameters)===null||M===void 0||(_=M.feature_flag_variants)===null||_===void 0?void 0:_.map(function(J,G){return o.a.createElement(k.a,{key:G,span:ge},"--")}))})))),gt&&o.a.createElement(k.a,{className:"mt"},o.a.createElement("div",{className:"mb-05"},o.a.createElement("b",null,"Experiment progress")),o.a.createElement(Ne.a,{strokeWidth:20,showInfo:!1,percent:ze,strokeColor:"var(--success)"}),At===V.s.TRENDS&&Z.start_date&&o.a.createElement(F.a,{justify:"space-between",className:"mt-05"},Z.end_date?o.a.createElement("div",null,"Ran for"," ",o.a.createElement("b",null,Object(Ce.a)(Z.end_date).diff(Z.start_date,"day"))," ","days"):o.a.createElement("div",null,o.a.createElement("b",null,Object(Ce.a)().diff(Z.start_date,"day"))," ","days running"),o.a.createElement("div",null,"Goal:"," ",o.a.createElement("b",null,Z==null||(W=Z.parameters)===null||W===void 0?void 0:W.recommended_running_time)," ","days")),At===V.s.FUNNELS&&o.a.createElement(F.a,{justify:"space-between",className:"mt-05"},Z.end_date?o.a.createElement("div",null,"Saw"," ",o.a.createElement("b",null,Object(Xe.O)(Oe))," ","participants"):o.a.createElement("div",null,o.a.createElement("b",null,Object(Xe.O)(Oe))," ","participants seen"),o.a.createElement("div",null,"Goal:"," ",o.a.createElement("b",null,Object(Xe.O)((Z==null||(tt=Z.parameters)===null||tt===void 0?void 0:tt.recommended_sample_size)||0))," ","participants"))))))),!(Z!=null&&Z.start_date)&&o.a.createElement("div",{className:"mt full-width"},o.a.createElement(Dn,{experiment:Z}))),o.a.createElement("div",{className:"experiment-result"},gt?o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{justify:"space-around",style:{flexFlow:"nowrap"}},Object.keys(gt.probability).sort(function(P,T){return gt.probability[T]-gt.probability[P]}).map(function(P,T){return o.a.createElement(k.a,{key:T,className:"pr"},o.a.createElement("div",null,o.a.createElement("b",null,Object(Xe.j)(P))),At===V.s.TRENDS?o.a.createElement(F.a,null,o.a.createElement("b",{style:{paddingRight:4}},o.a.createElement(F.a,null,"action"in gt.insight[0]&&o.a.createElement(ca.a,{filter:gt.insight[0].action}),o.a.createElement("span",{style:{paddingLeft:4}},"count:")))," ",zn(P)," ",da&&T===0&&o.a.createElement(pe.a,{placement:"right",title:"It might seem confusing that the best variant has lower absolute count, but this can happen when fewer people are exposed to this variant, so its relative count is higher."},o.a.createElement(zt.a,{style:{padding:"4px 2px"}}))):o.a.createElement(F.a,null,o.a.createElement("b",{style:{paddingRight:4}},"Conversion rate:")," ",jn(P),"%"),o.a.createElement(Ne.a,{percent:Number((gt.probability[P]*100).toFixed(1)),size:"small",showInfo:!1,strokeColor:At===V.s.FUNNELS?Object(rn.k)(vn(P,V.s.FUNNELS)+1):Object(oa.c)("white")[vn(P,V.s.TRENDS)]}),o.a.createElement("div",null,"Probability that this variant is the best:"," ",o.a.createElement("b",null,(gt.probability[P]*100).toFixed(1),"%")))}))):dn&&o.a.createElement("div",{className:"text-center"},o.a.createElement(Nt.a,{active:!0})),gt?o.a.createElement(De.BindLogic,{logic:Mt.c,props:{dashboardItemId:gt.itemID,cachedInsight:{short_id:gt.itemID,filters:qn(qn(qn({},gt.filters),{},{insight:At,display:Z.filters.display},At===V.s.FUNNELS&&{layout:B.p.vertical,funnel_viz_type:V.o.Steps}),At===V.s.TRENDS&&{display:V.d.ActionsLineGraphCumulative}),result:gt.insight},doNotLoad:!0}},o.a.createElement("div",{className:"mt"},o.a.createElement(Pn.a,{disableHeader:At===V.s.TRENDS,disableTable:At===V.s.FUNNELS}))):Z.start_date&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-experiment-results"},!dn&&o.a.createElement("div",{className:"text-center"},o.a.createElement("b",null,"There are no results for this experiment yet."),o.a.createElement("div",{className:"text-default"},"Double check your feature flag implementation if you're still not seeing results.")))))):o.a.createElement(Nt.a,{active:!0}))}function ta(){return o.a.createElement(ke.a,{defaultValue:"JavaScript",suffixIcon:o.a.createElement(Tn.a,null)},o.a.createElement(ke.a.Option,{value:"JavaScript"},o.a.createElement(F.a,{align:"middle"},o.a.createElement(En.IconJavascript,{style:{marginRight:6}})," JavaScript")))}try{Xn.displayName="Experiment_",Xn.__docgenInfo={description:"",displayName:"Experiment_",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/Experiment.tsx#Experiment_"]={docgenInfo:Xn.__docgenInfo,name:"Experiment_",path:"frontend/src/scenes/experiments/Experiment.tsx#Experiment_"})}catch(E){}},"./frontend/src/scenes/experiments/experimentsLogic.ts":function(xe,$,e){"use strict";e.d($,"a",function(){return Nt});var se=e("./node_modules/core-js/modules/es.array.concat.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.array.filter.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/es.array.iterator.js"),qe=e.n(R),Q=e("./node_modules/core-js/modules/es.array.map.js"),ie=e.n(Q),r=e("./node_modules/core-js/modules/es.object.to-string.js"),S=e.n(r),it=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),X=e.n(it),L=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),st=e.n(L),Ue=e("./node_modules/@babel/runtime/regenerator/index.js"),be=e.n(Ue),ee=e("./node_modules/regenerator-runtime/runtime.js"),F=e.n(ee),k=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),We=e.n(k),pe=e("./node_modules/kea/lib/index.esm.js"),Ae=e("./frontend/src/lib/api.ts"),ke=e("./frontend/src/scenes/teamLogic.ts"),q=e("./frontend/src/types.ts"),$e=e("./frontend/src/lib/utils.tsx"),Ee=e("./frontend/src/scenes/userLogic.ts"),Ne=e("./frontend/src/lib/components/lemonToast.tsx"),Nt=Object(pe.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[ke.a,["currentTeamId"],Ee.a,["hasAvailableFeature"]]},actions:{},loaders:function(Et){var N=Et.values,Ot=Et.actions;return{experiments:[[],{loadExperiments:function(){var ve=We()(be.a.mark(function o($t){var It;return be.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(N.hasAvailableFeature(q.c.EXPERIMENTATION)){V.next=2;break}return V.abrupt("return",[]);case 2:return V.next=4,Ae.a.get("api/projects/".concat(N.currentTeamId,"/experiments?").concat($t||""));case 4:return It=V.sent,V.abrupt("return",It.results);case 6:case"end":return V.stop()}},o)}));function Kt(o){return ve.apply(this,arguments)}return Kt}(),deleteExperiment:function(){var ve=We()(be.a.mark(function o($t){return be.a.wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:return Mt.next=2,Ae.a.delete("api/projects/".concat(N.currentTeamId,"/experiments/").concat($t));case 2:return Ne.a.info("Experiment removed"),Mt.abrupt("return",N.experiments.filter(function(V){return V.id!==$t}));case 4:case"end":return Mt.stop()}},o)}));function Kt(o){return ve.apply(this,arguments)}return Kt}(),addToExperiments:function(Kt){return[].concat(st()(N.experiments),[Kt])},updateExperiments:function(Kt){return N.experiments.map(function(o){return o.id===Kt.id?Kt:o})}}],tab:[q.h.All,{setExperimentsFilters:function(){var ve=We()(be.a.mark(function o($t){var It,Mt;return be.a.wrap(function(Wt){for(;;)switch(Wt.prev=Wt.next){case 0:return It=$t.tab,Mt=It===q.h.Yours?Object($e.Ab)({user:!0}):Object($e.Ab)({archived:!0}),It===q.h.All?Ot.loadExperiments(Object($e.Ab)({all:!0})):Ot.loadExperiments(Mt),Wt.abrupt("return",It);case 4:case"end":return Wt.stop()}},o)}));function Kt(o){return ve.apply(this,arguments)}return Kt}()}]}},events:function(Et){var N=Et.actions;return{afterMount:function(){N.loadExperiments(Object($e.Ab)({all:!0}))}}}})},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return Bt});var se=e("./node_modules/core-js/modules/es.array.concat.js"),m=e("./node_modules/core-js/modules/es.array.map.js"),Ke=e("./node_modules/core-js/modules/es.array.splice.js"),He=e("./node_modules/@babel/runtime/helpers/extends.js"),R=e.n(He),qe=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Q=e.n(qe),ie=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),r=e.n(ie),S=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),it=e.n(S),X=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),L=e.n(X),st={};st.insert="head",st.singleton=!1;var Ue=it()(L.a,st),be=L.a.locals||{},ee=e("./node_modules/react/index.js"),F=e.n(ee),k=e("./node_modules/kea/lib/index.esm.js"),We=e("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),pe=e("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),Ae=e("./node_modules/antd/es/button/index.js"),ke=e("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),q=e("./frontend/src/types.ts"),$e=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ee=e.n($e),Ne=e("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),Nt=e("./frontend/src/lib/components/icons.tsx"),De=Object(Ne.c)(function(){return F.a.createElement("span",{className:"action-filter-drag-handle"},F.a.createElement(Nt.SortableDragIcon,null))}),Et=Object(Ne.b)(function(ne){var Te=ne.filterCount,Fe=ne.filterIndex,ue=Ee()(ne,["filterCount","filterIndex"]),je=Te>1;return F.a.createElement("div",{className:"draggable-action-filter ".concat(je?"drag-handle-visible":"")},je?F.a.createElement(De,null):F.a.createElement("span",{style:{marginLeft:4}}),F.a.createElement(pe.a,R()({},ue,{filterCount:Te,index:Fe,key:Fe})))}),N=Object(Ne.a)(function(ne){var Te=ne.children;return F.a.createElement("div",null,Te)});try{Et.displayName="SortableActionFilterRow",Et.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:Et.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(ne){}try{N.displayName="SortableContainer",N.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:N.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(ne){}var Ot=e("./node_modules/core-js/modules/es.function.name.js"),ve=e("./node_modules/antd/es/modal/index.js"),Kt=e("./node_modules/antd/es/input/index.js"),o=e("./frontend/src/scenes/insights/utils.ts"),$t=e("./node_modules/core-js/modules/es.array.filter.js"),It=Object(k.kea)({props:{},key:function(Te){return Te.typeKey},path:function(Te){return["scenes","insights","ActionFilter","renameModalLogic",Te]},connect:{actions:[We.a,["selectFilter"]]},actions:function(){return{setName:function(Fe){return{name:Fe}}}},reducers:function(Te){var Fe,ue=Te.props;return{name:[(Fe=Object(o.c)(ue.filter))!==null&&Fe!==void 0?Fe:"",{setName:function(Me,te){var xt=te.name;return xt},selectFilter:function(Me,te){var xt,re=te.filter;return(xt=Object(o.c)(re))!==null&&xt!==void 0?xt:""}}]}}});function Mt(ne){var Te,Fe=ne.typeKey,ue=ne.view,je=Object(k.useValues)(We.a),Me=je.selectedFilter,te=je.modalVisible,xt=Object(k.useActions)(We.a),re=xt.renameFilter,we=xt.hideModal,Pe=It({typeKey:Fe,filter:Me}),et=Object(k.useValues)(Pe),Qe=et.name,ae=Object(k.useActions)(Pe),Le=ae.setName,ht=Object(ee.useRef)(null);V(ht,{cursor:"all"},[te]);var pt="Rename ".concat(ue===q.s.FUNNELS?"funnel step":"graph series");return F.a.createElement(ve.a,{"data-attr":"filter-rename-modal",visible:te,title:pt,footer:F.a.createElement(F.a.Fragment,null,F.a.createElement(Ae.a,{type:"link",onClick:we},"Cancel"),F.a.createElement(Ae.a,{type:"primary",onClick:function(){return re(Qe)}},pt)),onCancel:we},"Query series/steps can be renamed to provide a more"," ",F.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",F.a.createElement("br",null),F.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),F.a.createElement(Kt.a,{ref:ht,value:Qe,onPressEnter:function(){return re(Qe)},onChange:function(Xe){return Le(Xe.target.value)},suffix:F.a.createElement("span",{className:"text-muted-alt"},(Te=Object(o.c)(Me,!1))!==null&&Te!==void 0?Te:"")}))}function V(ne,Te){var Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(ee.useEffect)(function(){var ue=setTimeout(function(){if(ne.current){var je;(je=ne.current)===null||je===void 0||je.focus(Te)}},0);return function(){return clearTimeout(ue)}},Fe)}try{Mt.displayName="RenameModal",Mt.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:Mt.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(ne){}var Wt=e("./frontend/src/lib/utils/eventUsageLogic.ts"),ct=e("./frontend/src/scenes/teamLogic.ts"),Ht=e("./node_modules/clsx/dist/clsx.m.js");function Pt(ne,Te){var Fe=Object.keys(ne);if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(ne);Te&&(ue=ue.filter(function(je){return Object.getOwnPropertyDescriptor(ne,je).enumerable})),Fe.push.apply(Fe,ue)}return Fe}function vt(ne){for(var Te=1;Te<arguments.length;Te++){var Fe=arguments[Te]!=null?arguments[Te]:{};Te%2?Pt(Object(Fe),!0).forEach(function(ue){Q()(ne,ue,Fe[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Fe)):Pt(Object(Fe)).forEach(function(ue){Object.defineProperty(ne,ue,Object.getOwnPropertyDescriptor(Fe,ue))})}return ne}var Bt=F.a.forwardRef(function(ne,Te){var Fe=ne.setFilters,ue=ne.filters,je=ne.typeKey,Me=ne.addFilterDefaultOptions,te=Me===void 0?{}:Me,xt=ne.mathAvailability,re=xt===void 0?pe.b.All:xt,we=ne.hidePropertySelector,Pe=we===void 0?!1:we,et=ne.buttonCopy,Qe=et===void 0?"":et,ae=ne.disabled,Le=ae===void 0?!1:ae,ht=ne.sortable,pt=ht===void 0?!1:ht,Ce=ne.showSeriesIndicator,Xe=Ce===void 0?!1:Ce,ft=ne.seriesIndicatorType,Tt=ft===void 0?"alpha":ft,Ye=ne.showOr,jt=Ye===void 0?!1:Ye,Ge=ne.hideFilter,at=Ge===void 0?!1:Ge,dt=ne.hideRename,_e=dt===void 0?!1:dt,B=ne.horizontalUI,yt=B===void 0?!1:B,rt=ne.fullWidth,Zt=rt===void 0?!1:rt,Yt=ne.customRowPrefix,zt=ne.customRowSuffix,bn=ne.rowClassName,Ut=ne.entitiesLimit,nn=ne.propertyFilterWrapperClassName,Be=ne.stripeActionRow,un=Be===void 0?!0:Be,xn=ne.customActions,Yn=ne.showNestedArrow,Pn=Yn===void 0?!1:Yn,En=ne.actionsTaxonomicGroupTypes,Fn=ne.propertiesTaxonomicGroupTypes,mn=ne.hideDeleteBtn,Tn=ne.renderRow,wn=ne.buttonType,an=wn===void 0?"dashed":wn,rn=ne.readOnly,Lt=rn===void 0?!1:rn,Bn=Object(k.useValues)(ct.a),Un=Bn.currentTeamId,_t=Object(We.a)({teamId:Un,setFilters:Fe,filters:ue,typeKey:je,addFilterDefaultOptions:te}),Cn=Object(k.useActions)(Wt.f),Vt=Cn.reportFunnelStepReordered,ut=Object(k.useValues)(_t),Rt=ut.localFilters,qt=Object(k.useActions)(_t),pn=qt.addFilter,Jn=qt.setLocalFilters,fn=qt.showModal;Object(ee.useEffect)(function(){Jn(ue)},[ue]);function In(Ln){var Rn=Ln.oldIndex,Gn=Ln.newIndex;function Nn(Vn,Mn,Kn){var gn=r()(Vn);return Array.prototype.splice.call(gn,Kn,0,Array.prototype.splice.call(gn,Mn,1)[0]),gn.map(function(_n,Dn){return vt(vt({},_n),{},{order:Dn})})}Fe(Object(We.b)(Nn(Rt,Rn,Gn))),Rn!==Gn&&Vt()}var oa=Ut===1,ca={logic:_t,showSeriesIndicator:Xe,seriesIndicatorType:Tt,mathAvailability:re,hidePropertySelector:Pe,customRowPrefix:Yt,customRowSuffix:zt,rowClassName:bn,propertyFilterWrapperClassName:nn,stripeActionRow:un,hasBreakdown:!!ue.breakdown,fullWidth:Zt,actionsTaxonomicGroupTypes:En,propertiesTaxonomicGroupTypes:Fn,hideDeleteBtn:mn,disabled:Le,readOnly:Lt,renderRow:Tn,hideRename:_e,onRenameClick:fn},sa=Boolean(Ut&&Rt.length>=Ut);return F.a.createElement("div",{ref:Te},!_e&&!Lt&&F.a.createElement(k.BindLogic,{logic:We.a,props:{setFilters:Fe,filters:ue,typeKey:je,addFilterDefaultOptions:te}},F.a.createElement(Mt,{view:ue.insight,typeKey:je})),Rt?pt?F.a.createElement(N,{onSortEnd:In,lockAxis:"y",distance:5},Rt.map(function(Ln,Rn){return F.a.createElement(Et,R()({key:Rn,filter:Ln,index:Rn,filterIndex:Rn,filterCount:Rt.length,showNestedArrow:Pn},ca))})):Rt.map(function(Ln,Rn){return F.a.createElement(pe.a,R()({filter:Ln,index:Rn,key:Rn,singleFilter:oa,showOr:jt,hideFilter:at||Lt,horizontalUI:yt,filterCount:Rt.length,showNestedArrow:Pn},ca))}):null,(!oa||xn)&&F.a.createElement("div",{className:Object(Ht.a)(an!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!oa&&F.a.createElement(Ae.a,{type:an,onClick:function(){return pn()},"data-attr":"add-action-event-button",icon:F.a.createElement(ke.a,null),disabled:sa||Le||Lt,className:"add-action-event-button"},sa?"Reached limit of ".concat(Ut," ").concat(ue.insight===q.s.FUNNELS?"steps":"series"):Qe||"Action or event"),xn))});try{Bt.displayName="ActionFilter",Bt.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},mathAvailability:{defaultValue:{value:"MathAvailability.All"},description:"",name:"mathAvailability",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:Bt.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(ne){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx":function(xe,$,e){"use strict";e.d($,"b",function(){return Fe}),e.d($,"a",function(){return ue});var se=e("./node_modules/core-js/modules/es.symbol.js"),m=e("./node_modules/core-js/modules/es.symbol.description.js"),Ke=e("./node_modules/core-js/modules/es.array.concat.js"),He=e("./node_modules/core-js/modules/es.array.filter.js"),R=e("./node_modules/core-js/modules/es.array.map.js"),qe=e("./node_modules/core-js/modules/es.function.name.js"),Q=e("./node_modules/core-js/modules/es.object.keys.js"),ie=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=e.n(ie),S=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),it=e.n(S),X=e("./node_modules/react/index.js"),L=e.n(X),st=e("./node_modules/kea/lib/index.esm.js"),Ue=e("./node_modules/antd/es/button/index.js"),be=e("./node_modules/antd/es/row/index.js"),ee=e("./node_modules/antd/es/col/index.js"),F=e("./node_modules/antd/es/select/index.js"),k=e("./frontend/src/lib/components/Tooltip.tsx"),We=e("./frontend/src/types.ts"),pe=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Ae=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),ke=e("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),q=e("./frontend/src/lib/utils.tsx"),$e=e("./frontend/src/lib/components/SeriesGlyph.tsx"),Ee=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ne=e.n(Ee),Nt=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),De=e.n(Nt),Et={};Et.insert="head",Et.singleton=!1;var N=Ne()(De.a,Et),Ot=De.a.locals||{},ve=e("./frontend/src/lib/components/Popup/Popup.tsx"),Kt=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),o=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),$t=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),It=e("./node_modules/clsx/dist/clsx.m.js"),Mt=e("./frontend/src/scenes/trends/mathsLogic.tsx"),V=e("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),Wt=e("./frontend/src/models/actionsModel.ts"),ct=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ht=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),Pt=e("./frontend/src/lib/components/icons.tsx"),vt;function Bt(re,we){var Pe=Object.keys(re);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(re);we&&(et=et.filter(function(Qe){return Object.getOwnPropertyDescriptor(re,Qe).enumerable})),Pe.push.apply(Pe,et)}return Pe}function ne(re){for(var we=1;we<arguments.length;we++){var Pe=arguments[we]!=null?arguments[we]:{};we%2?Bt(Object(Pe),!0).forEach(function(et){it()(re,et,Pe[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(Pe)):Bt(Object(Pe)).forEach(function(et){Object.defineProperty(re,et,Object.getOwnPropertyDescriptor(Pe,et))})}return re}var Te=function(we,Pe){if(we)return"Hide filters";if(Pe.properties&&Object.keys(Pe.properties).length>0){var et;return Object(q.qb)((et=Pe.properties)===null||et===void 0?void 0:et.length,"filter")}return"Add filters"},Fe;(function(re){re[re.All=0]="All",re[re.ActorsOnly=1]="ActorsOnly",re[re.None=2]="None"})(Fe||(Fe={}));function ue(re){var we,Pe,et,Qe=re.logic,ae=re.filter,Le=re.index,ht=re.mathAvailability,pt=re.hidePropertySelector,Ce=re.singleFilter,Xe=re.showOr,ft=re.hideFilter,Tt=re.hideRename,Ye=re.onRenameClick,jt=Ye===void 0?function(){}:Ye,Ge=re.showSeriesIndicator,at=re.seriesIndicatorType,dt=at===void 0?"alpha":at,_e=re.horizontalUI,B=_e===void 0?!1:_e,yt=re.fullWidth,rt=yt===void 0?!1:yt,Zt=re.filterCount,Yt=re.customRowPrefix,zt=re.customRowSuffix,bn=re.rowClassName,Ut=re.propertyFilterWrapperClassName,nn=re.stripeActionRow,Be=nn===void 0?!0:nn,un=re.hasBreakdown,xn=re.showNestedArrow,Yn=xn===void 0?!1:xn,Pn=re.hideDeleteBtn,En=Pn===void 0?!1:Pn,Fn=re.actionsTaxonomicGroupTypes,mn=Fn===void 0?[o.a.Events,o.a.Actions]:Fn,Tn=re.propertiesTaxonomicGroupTypes,wn=re.disabled,an=wn===void 0?!1:wn,rn=re.readOnly,Lt=rn===void 0?!1:rn,Bn=re.renderRow,Un=Object(st.useValues)(Qe),_t=Un.selectedFilter,Cn=Un.entities,Vt=Un.entityFilterVisible,ut=Object(st.useActions)(Qe),Rt=ut.updateFilter,qt=ut.selectFilter,pn=ut.updateFilterMath,Jn=ut.removeLocalFilter,fn=ut.updateFilterProperty,In=ut.setEntityFilterVisibility,oa=ut.duplicateFilter,ca=Object(st.useValues)(Wt.a),sa=ca.actions,Ln=Object(st.useValues)(Mt.c),Rn=Ln.mathDefinitions,Gn=typeof ae.order=="number"?Vt[ae.order]:!1,Nn,Vn,Mn,Kn=ae.math,gn=ae.math_property,_n=ae.math_group_type_index,Dn=function(){Jn(ne(ne({},ae),{},{index:Le}))},ia=function(tt,wt){var St;pn(ne(ne({},Object(Mt.b)(wt)),{},{math_property:!((St=Rn[wt])===null||St===void 0)&&St.onProperty?gn!=null?gn:"$time":void 0,type:ae.type,index:Le}))},qn=function(tt,wt){pn(ne(ne({},ae),{},{math_property:wt,index:Le}))},ea=Boolean(_t&&(_t==null?void 0:_t.type)===ae.type&&(_t==null?void 0:_t.index)===Le),Xn=function(){qt(ea?null:ne(ne({},ae),{},{index:Le}))};if(ae.type===We.g.NEW_ENTITY)Vn=null,Mn=null;else{var ta;Nn=((ta=Cn[ae.type])===null||ta===void 0?void 0:ta.filter(function(W){return W.id===ae.id})[0])||{},Vn=Nn.name||ae.name,Mn=Nn.id||ae.id}var E=L.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),O=dt==="numeric"?L.a.createElement($e.a,{style:{borderColor:"var(--border)"}},Le+1):L.a.createElement($e.b,{seriesIndex:Le,hasBreakdown:un}),I=typeof Yt=="function"?Yt({filter:ae,index:Le,onClose:Dn}):Yt,A=L.a.createElement(ve.a,{overlay:L.a.createElement(Kt.a,{groupType:ae.type,value:ae.type==="actions"&&typeof Mn=="string"?parseInt(Mn):Mn||void 0,onChange:function(tt,wt,St){Rt({type:xt(tt.type)||void 0,id:"".concat(wt),name:St==null?void 0:St.name,index:Le})},onClose:function(){return qt(null)},taxonomicGroupTypes:mn}),visible:ea,onClickOutside:function(){return qt(null)}},function(W){var tt=W.setRef;return L.a.createElement(Ue.a,{"data-attr":"trend-element-subject-"+Le,onClick:Xn,block:rt,ref:tt,disabled:an||Lt,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},L.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},L.a.createElement($t.a,{filter:ae})),L.a.createElement(Ae.a,{style:{fontSize:10}}))}),Y=typeof zt=="function"?zt({filter:ae,index:Le,onClose:Dn}):zt,de=L.a.createElement(Ue.a,{type:"link",onClick:function(){typeof ae.order=="number"&&In(ae.order,!Gn)},className:"row-action-btn show-filters".concat(Gn?" visible":""),"data-attr":"show-prop-filter-".concat(Le),title:"Show filters",style:{display:"flex",alignItems:"center"}},L.a.createElement(Pt.IconFilter,{fontSize:"1.25em"}),!((we=ae.properties)===null||we===void 0)&&we.length?Object(q.qb)((Pe=ae.properties)===null||Pe===void 0?void 0:Pe.length,"filter"):null),oe=L.a.createElement(Ue.a,{type:"link",onClick:function(){qt(ae),jt()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(Le),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},L.a.createElement(Pt.IconEdit,{fontSize:"1.25em"})),K=L.a.createElement(Ue.a,{type:"link",onClick:function(){oa(ae)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(Le),title:"Duplicate graph series"},L.a.createElement(Pt.IconCopy,{fontSize:"1.25em"})),he=L.a.createElement(Ue.a,{type:"link",onClick:Dn,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(Le),title:"Delete graph series"},L.a.createElement(Pt.IconDelete,{fontSize:"1.25em"}));return L.a.createElement("div",{className:Object(It.a)({"action-row-striped":B&&Be,"action-row":!B||!Be,"full-width":rt})},!B&&Le>0&&Xe&&L.a.createElement(be.a,{align:"middle",style:{marginTop:12}},E),L.a.createElement(be.a,{gutter:8,align:"middle",className:"".concat(B?"":"mt"," ").concat(bn),wrap:!rt},Bn?Bn({seriesIndicator:O,prefix:I,filter:A,suffix:Y,propertyFiltersButton:de,renameRowButton:oe,deleteButton:he,orLabel:E}):L.a.createElement(L.a.Fragment,null,!En&&B&&!Ce&&Zt>1&&L.a.createElement(ee.a,null,L.a.createElement(Ue.a,{type:"link",onClick:Dn,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:L.a.createElement(ke.a,null)})),Ge&&L.a.createElement(ee.a,{className:"action-row-letter"},O),Yt!==void 0?L.a.createElement(ee.a,null,I):L.a.createElement(L.a.Fragment,null,B&&L.a.createElement(ee.a,null,"Showing")),L.a.createElement(ee.a,{className:"column-filter",style:rt?{}:{maxWidth:"calc(".concat(ht===Fe.None?"100":"50","% - 16px)")},flex:rt?"auto":void 0},A),zt!==void 0&&L.a.createElement(ee.a,{className:"column-row-suffix"},Y),ht!==Fe.None&&L.a.createElement(L.a.Fragment,null,B&&L.a.createElement(ee.a,null,"counted by"),L.a.createElement(ee.a,{style:{maxWidth:"calc(50% - 16px".concat(Ge?" - 32px":"",")")}},L.a.createElement(Me,{math:Kn,mathGroupTypeIndex:_n,index:Le,onMathSelect:ia,style:{maxWidth:"100%",width:"initial"},mathAvailability:ht})),((et=Rn[Kn||""])===null||et===void 0?void 0:et.onProperty)&&L.a.createElement(L.a.Fragment,null,B&&L.a.createElement(ee.a,null,"on property"),L.a.createElement(ee.a,{style:{maxWidth:"calc(50% - 16px".concat(Ge?" - 32px":"",")")}},L.a.createElement(Ht.c,{groupType:o.a.NumericalEventProperties,value:gn,onChange:function(tt){return qn(Le,tt)},eventNames:Vn?[Vn]:[],dataAttr:"math-property-select",renderValue:function(tt){return L.a.createElement(k.a,{title:L.a.createElement(L.a.Fragment,null,"Calculate"," ",Rn[Kn!=null?Kn:""].name.toLowerCase()," from property ",L.a.createElement("code",null,tt),". Note that only"," ",Vn," occurences where ",L.a.createElement("code",null,tt)," is set with a numeric value will be taken into account."),placement:"right"},L.a.createElement("div",null,L.a.createElement(ct.b,{value:tt,disablePopover:!0})))}})))),(B||rt)&&!ft&&!Lt&&L.a.createElement(ee.a,null,de),(B||rt)&&!Tt&&!Lt&&L.a.createElement(ee.a,null,oe),(B||rt)&&!ft&&!Ce&&!Lt&&L.a.createElement(ee.a,null,K),!En&&!B&&!Ce&&!Lt&&L.a.createElement(ee.a,{className:"column-delete-btn"},he),B&&Zt>1&&Le<Zt-1&&Xe&&E)),(!pt||ae.properties&&ae.properties.length>0)&&!B&&!rt&&L.a.createElement("div",{style:{paddingTop:6}},L.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),L.a.createElement(Ue.a,{className:"ant-btn-md",onClick:function(){return typeof ae.order=="number"?In(ae.order,!Gn):void 0},"data-attr":"show-prop-filter-"+Le},Te(Gn,ae))),Gn&&L.a.createElement("div",{className:"mr property-filter-wrapper ".concat(Ut)},L.a.createElement(pe.a,{pageKey:"".concat(Le,"-").concat(Mn,"-filter"),propertyFilters:ae.properties,onChange:function(tt){return fn({properties:tt,index:Le})},disablePopover:B,style:{marginBottom:0},showNestedArrow:Yn,taxonomicGroupTypes:Tn,eventNames:ae.type===o.a.Events&&ae.id?[String(ae.id)]:ae.type===o.a.Actions&&ae.id?Object(q.I)(parseInt(String(ae.id)),sa):[]})))}var je="This can only be used on properties that have at least one number type occurence in your events.";function Me(re){var we,Pe=re.math,et=re.mathGroupTypeIndex,Qe=re.mathAvailability,ae=re.index,Le=re.onMathSelect,ht=re.style,pt=Object(st.useValues)(Mt.c),Ce=pt.mathDefinitions,Xe=pt.eventMathEntries,ft=pt.propertyMathEntries,Tt=Xe;Qe===Fe.ActorsOnly&&(Tt=Tt.filter(function(jt){var Ge=r()(jt,2),at=Ge[1];return at.actor}));var Ye=Object(Mt.a)(Pe,et);return Qe===Fe.ActorsOnly&&!(!((we=Ce[Ye])===null||we===void 0)&&we.actor)&&(Ye="dau"),L.a.createElement(F.a,{style:ne({width:150},ht),value:Ye,onChange:function(Ge){return Le(ae,Ge)},"data-attr":"math-selector-".concat(ae),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},L.a.createElement(F.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},Tt.map(function(jt){var Ge=r()(jt,2),at=Ge[0],dt=Ge[1],_e=dt.name,B=dt.description,yt=dt.onProperty;return L.a.createElement(F.a.Option,{key:at,value:at,"data-attr":"math-".concat(at,"-").concat(ae)},L.a.createElement(k.a,{title:yt?L.a.createElement(L.a.Fragment,null,B,L.a.createElement("br",null),je):B,placement:"right"},L.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},_e)))}),Object(V.a)({value:""})),Qe!==Fe.ActorsOnly&&L.a.createElement(F.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},ft.map(function(jt){var Ge=r()(jt,2),at=Ge[0],dt=Ge[1],_e=dt.name,B=dt.description,yt=dt.onProperty;return L.a.createElement(F.a.Option,{key:at,value:at,"data-attr":"math-".concat(at,"-").concat(ae)},L.a.createElement(k.a,{title:yt?L.a.createElement(L.a.Fragment,null,B,L.a.createElement("br",null),je):B,placement:"right"},L.a.createElement("div",{style:{height:"100%",width:"100%"}},_e)))})))}var te=(vt={},it()(vt,o.a.Events,We.g.EVENTS),it()(vt,o.a.Actions,We.g.ACTIONS),vt);function xt(re){return te[re]||null}try{ue.displayName="ActionFilterRow",ue.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:ue.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(re){}try{xt.displayName="taxonomicFilterGroupTypeToEntityType",xt.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:xt.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(re){}},"./frontend/src/scenes/insights/InsightContainer.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return ye});var se=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=e.n(se),Ke=e("./node_modules/antd/es/card/index.js"),He=e("./node_modules/antd/es/row/index.js"),R=e("./node_modules/antd/es/col/index.js"),qe=e("./node_modules/core-js/modules/es.array.includes.js"),Q=e("./node_modules/core-js/modules/es.string.includes.js"),ie=e("./node_modules/react/index.js"),r=e.n(ie),S=e("./node_modules/kea/lib/index.esm.js"),it=e("./node_modules/antd/es/tag/index.js"),X=e("./node_modules/antd/es/select/index.js"),L=e("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),st=e("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),Ue=e("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),be=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},F=ee,k=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),We=function(T,M){return ie.createElement(k.a,Object(be.a)(Object(be.a)({},T),{},{ref:M,icon:F}))};We.displayName="AreaChartOutlined";var pe=ie.forwardRef(We),Ae=e("./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js"),ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},q=ke,$e=function(T,M){return ie.createElement(k.a,Object(be.a)(Object(be.a)({},T),{},{ref:M,icon:q}))};$e.displayName="TableOutlined";var Ee=ie.forwardRef($e),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},Nt=Ne,De=function(T,M){return ie.createElement(k.a,Object(be.a)(Object(be.a)({},T),{},{ref:M,icon:Nt}))};De.displayName="PieChartOutlined";var Et=ie.forwardRef(De),N=e("./frontend/src/types.ts"),Ot=e("./frontend/src/lib/utils.tsx"),ve=e("./frontend/src/scenes/insights/insightLogic.ts");function Kt(P){var T=P.filters,M=P.onChange,_=P.disabled,J=Object(S.useValues)(ve.c),G=J.insightProps,ce=Object(S.useValues)(Object(L.a)(G)),Re=ce.chartFilter,Ze=Object(S.useActions)(Object(L.a)(G)),Je=Ze.setChartFilter,Ie=T.insight===N.s.STICKINESS||T.insight===N.s.RETENTION,fe=!1,ot=T.insight===N.s.RETENTION||T.insight===N.s.STICKINESS,nt=T.insight===N.s.RETENTION,bt=nt||T.insight===N.s.STICKINESS||T.insight===N.s.RETENTION,Dt=T.insight===N.s.RETENTION?N.d.ActionsTable:T.insight===N.s.FUNNELS?N.d.FunnelViz:N.d.ActionsLineGraph;function Ct(Jt){var ln=Jt.icon,Qt=Jt.children,Ft=Qt===void 0?null:Qt;return r.a.createElement(r.a.Fragment,null,ln," ",Ft)}function on(Jt){var ln=Jt.children,Qt=ln===void 0?null:ln;return r.a.createElement(it.a,{color:"orange",style:{marginLeft:8,fontSize:10}},Qt)}var sn=T.insight===N.s.FUNNELS?[{value:N.o.Steps,label:r.a.createElement(Ct,{icon:r.a.createElement(st.a,null)},"Steps")},{value:N.o.Trends,label:r.a.createElement(Ct,{icon:r.a.createElement(Ue.a,null)},"Trends",r.a.createElement(on,null,"BETA"))}]:[{label:"Line Chart",options:[{value:N.d.ActionsLineGraph,label:r.a.createElement(Ct,{icon:r.a.createElement(Ue.a,null)},"Linear")},{value:N.d.ActionsLineGraphCumulative,label:r.a.createElement(Ct,{icon:r.a.createElement(pe,null)},"Cumulative"),disabled:Ie}]},{label:"Bar Chart",options:[{value:N.d.ActionsBar,label:r.a.createElement(Ct,{icon:r.a.createElement(Ae.a,null)},"Time"),disabled:nt},{value:N.d.ActionsBarValue,label:r.a.createElement(Ct,{icon:r.a.createElement(Ae.a,null)},"Value"),disabled:bt}]},{value:N.d.ActionsTable,label:r.a.createElement(Ct,{icon:r.a.createElement(Ee,null)},"Table"),disabled:fe},{value:N.d.ActionsPie,label:r.a.createElement(Ct,{icon:r.a.createElement(Et,null)},"Pie"),disabled:ot}];return r.a.createElement(X.a,{key:"2",defaultValue:T.display||Dt,value:Re||Dt,onChange:function(ln){Je(ln),M==null||M(ln)},bordered:!0,dropdownAlign:Ot.a.bottomRight,dropdownMatchSelectWidth:!1,"data-attr":"chart-filter",disabled:_,options:sn})}try{Kt.displayName="ChartFilter",Kt.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:Kt.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(P){}var o=e("./node_modules/antd/es/checkbox/index.js"),$t=e("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function It(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=Object(S.useValues)(Object($t.a)(T)),_=M.compare,J=M.disabled,G=Object(S.useActions)(Object($t.a)(T)),ce=G.setCompare;return J?null:r.a.createElement(o.a,{onChange:function(Ze){ce(Ze.target.checked)},checked:_,style:{marginLeft:8,marginRight:6},disabled:J},"Compare",r.a.createElement("span",{className:"hide-lte-md"}," to previous"))}var Mt=e("./node_modules/core-js/modules/es.array.map.js"),V=e("./node_modules/core-js/modules/es.object.entries.js"),Wt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ct=e.n(Wt),Ht=e("./node_modules/core-js/modules/es.array.iterator.js"),Pt=e("./node_modules/core-js/modules/es.object.to-string.js"),vt=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Bt=e("./frontend/src/scenes/insights/sharedUtils.ts");function ne(P,T){var M=Object.keys(P);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(P);T&&(_=_.filter(function(J){return Object.getOwnPropertyDescriptor(P,J).enumerable})),M.push.apply(M,_)}return M}function Te(P){for(var T=1;T<arguments.length;T++){var M=arguments[T]!=null?arguments[T]:{};T%2?ne(Object(M),!0).forEach(function(_){m()(P,_,M[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(M)):ne(Object(M)).forEach(function(_){Object.defineProperty(P,_,Object.getOwnPropertyDescriptor(M,_))})}return P}var Fe=Object(S.kea)({props:{},key:Object(Bt.c)("new"),path:function(T){return["lib","components","IntervalFilter","intervalFilterLogic",T]},connect:function(T){return{actions:[Object(ve.c)(T),["setFilters"]],values:[Object(ve.c)(T),["filters"]]}},actions:function(){return{setInterval:function(M){return{interval:M}}}},listeners:function(T){var M=T.values,_=T.actions;return{setInterval:function(G){var ce=G.interval;Object(Ot.mb)(ce,M.filters.interval)||_.setFilters(Te(Te({},M.filters),{},{interval:ce}))}}},selectors:{interval:[function(P){return[P.filters]},function(P){return P==null?void 0:P.interval}]}}),ue=e("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),je={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function Me(P){var T=P.disabled,M=Object(S.useValues)(ve.c),_=M.insightProps,J=Object(S.useValues)(Fe(_)),G=J.interval,ce=Object(S.useActions)(Fe(_)),Re=ce.setInterval,Ze=Object.entries(je).map(function(Je){var Ie=ct()(Je,2),fe=Ie[0],ot=Ie[1].label;return{key:fe,value:fe,label:fe===G?r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null)," ",ot):ot}});return r.a.createElement(X.a,{bordered:!0,disabled:T,defaultValue:G||"day",value:G||void 0,dropdownMatchSelectWidth:!1,onChange:Re,"data-attr":"interval-filter",options:Ze})}try{Me.displayName="IntervalFilter",Me.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:Me.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(P){}var te=e("./frontend/src/lib/constants.tsx"),xt=e("./node_modules/@babel/runtime/helpers/extends.js"),re=e.n(xt),we=e("./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts"),Pe=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function et(P){var T=Object(S.useValues)(ve.c),M=T.insightProps,_=Object(S.useValues)(Object(we.a)(M)),J=_.dates,G=J.dateFrom,ce=J.dateTo,Re=Object(S.useActions)(Object(we.a)(M)),Ze=Re.setDates;return r.a.createElement(Pe.a,re()({},P,{dateFrom:G!=null?G:void 0,dateTo:ce!=null?ce:void 0,onChange:function(Ie,fe){var ot;Ze(Ie,fe),(ot=P.onChange)===null||ot===void 0||ot.call(P,Ie,fe)}}))}try{et.displayName="InsightDateFilter",et.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string"}},showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},bordered:{defaultValue:null,description:"",name:"bordered",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string, toDate: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"((props: any) => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"Record<string, dateMappingOption>"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}},selectProps:{defaultValue:null,description:"",name:"selectProps",required:!1,type:{name:"SelectProps<any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:et.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(P){}var Qe=e("./node_modules/rc-picker/lib/generate/dayjs.js"),ae=e.n(Qe),Le=e("./node_modules/antd/lib/date-picker/generatePicker/index.js"),ht=e.n(Le),pt=e("./frontend/src/scenes/retention/retentionTableLogic.ts"),Ce=e("./frontend/src/lib/components/Tooltip.tsx"),Xe=e("./frontend/src/lib/dayjs.ts"),ft=ht()(ae.a);function Tt(P){var T=P.disabled,M=Object(S.useValues)(ve.c),_=M.insightProps,J=Object(S.useValues)(Object(pt.d)(_)),G=J.filters,ce=Object(S.useActions)(Object(pt.d)(_)),Re=ce.setFilters,Ze=G.date_to&&Object(Xe.a)(G.date_to).year()!==Object(Xe.a)().year()?", YYYY":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{title:"Cohorts up to this end date"},r.a.createElement("span",{style:{maxWidth:100,display:"inline-flex",alignItems:"center"}},r.a.createElement(ue.a,null),r.a.createElement(ft,{showTime:G.period==="Hour",use12Hours:!0,format:G.period==="Hour"?"MMM D".concat(Ze,", h a"):"MMM D".concat(Ze),value:G.date_to?Object(Xe.a)(G.date_to):void 0,onChange:function(Ie){return Re({date_to:Ie&&Object(Xe.a)(Ie).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",suffixIcon:null,disabled:T}))))}try{Tt.displayName="RetentionDatePicker",Tt.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:Tt.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(P){}var Ye=e("./frontend/src/scenes/funnels/funnelLogic.ts"),jt=e("./node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js");function Ge(P){var T=P.disabled,M=Object(S.useValues)(ve.c),_=M.insightProps,J=Object(S.useValues)(Object(Ye.a)(_)),G=J.barGraphLayout,ce=Object(S.useActions)(Object(Ye.a)(_)),Re=ce.setFilters,Ze=[{value:te.p.vertical,icon:r.a.createElement(Ae.a,null),label:"Left to right"},{value:te.p.horizontal,icon:r.a.createElement(jt.a,null),label:"Top to bottom"}];return r.a.createElement(X.a,{defaultValue:te.p.vertical,value:G||te.p.vertical,onChange:function(Ie){return Re({layout:Ie})},bordered:!0,dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",optionLabelProp:"label",disabled:T},r.a.createElement(X.a.OptGroup,{label:"Graph display options"},Ze.map(function(Je){return r.a.createElement(X.a.Option,{key:Je.value,value:Je.value,label:r.a.createElement(r.a.Fragment,null,Je.icon," ",Je.label)},Je.label)})))}try{Ge.displayName="FunnelDisplayLayoutPicker",Ge.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:Ge.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(P){}var at=e("./node_modules/core-js/modules/es.array.concat.js"),dt=e("./node_modules/core-js/modules/es.array.from.js"),_e=e("./node_modules/core-js/modules/es.set.js"),B=e("./node_modules/core-js/modules/es.string.iterator.js"),yt=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),rt=e.n(yt),Zt=e("./node_modules/antd/es/input-number/index.js"),Yt=e("./node_modules/clsx/dist/clsx.m.js"),zt=0,bn=90,Ut=new Set([5,15,25,50,90]),nn=[{label:"Auto bins",value:te.g,display:!0}].concat(rt()(Array.from(Array.from(Array(bn+1).keys()),function(P){return{label:"".concat(P," bins"),value:P,display:Ut.has(P)}})),[{label:"Custom",value:"custom",display:!0}]);function Be(P){var T=P.disabled,M=Object(S.useValues)(ve.c),_=M.insightProps,J=Object(S.useValues)(Object(Ye.a)(_)),G=J.filters,ce=J.numericBinCount,Re=Object(S.useActions)(Object(Ye.a)(_)),Ze=Re.setBinCount;return r.a.createElement(X.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:te.g,value:G.bin_count||te.g,onSelect:function(Ie){return Ze(Ie)},dropdownRender:function(Ie){return r.a.createElement(r.a.Fragment,null,Ie,r.a.createElement("div",null,r.a.createElement(Zt.a,{className:"funnel-bins-custom-picker",size:"middle",min:zt,max:bn,value:ce,onChange:function(ot){var nt=typeof ot=="string"?parseInt(ot):ot;nt&&Ze(nt)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:Ot.a.bottomRight,optionLabelProp:"label",disabled:T},r.a.createElement(X.a.OptGroup,{label:"Bin Count"},nn.map(function(Je){return Je.value==="custom"?null:r.a.createElement(X.a.Option,{className:Object(Yt.a)({"select-option-hidden":!Je.display}),key:Je.value,value:Je.value,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae.a,null)," ",Je.label)},Je.label)})))}try{Be.displayName="FunnelBinsPicker",Be.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:Be.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(P){}var un=e("./node_modules/core-js/modules/es.array.filter.js"),xn=e("./node_modules/core-js/modules/es.array.slice.js"),Yn=e("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),Pn=e("./frontend/src/scenes/paths/pathsLogic.ts"),En=e("./frontend/src/scenes/userLogic.ts");function Fn(P){var T,M=P.disabled,_=Object(S.useValues)(ve.c),J=_.insightProps,G=Object(S.useValues)(Object(Pn.b)(J)),ce=G.filter,Re=Object(S.useActions)(Object(Pn.b)(J)),Ze=Re.setFilter,Je=Object(S.useValues)(En.a),Ie=Je.user,fe=2,ot=!(Ie==null||(T=Ie.organization)===null||T===void 0)&&T.available_features.includes(N.c.PATHS_ADVANCED)?20:5,nt=Array.from(Array.from(Array.from(Array(ot+1).keys()).slice(fe)),function(bt){return{label:"".concat(bt," Steps"),value:bt}});return r.a.createElement(X.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:ce.step_limit||Pn.a,onSelect:function(Dt){return Ze({step_limit:Dt})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:Ot.a.bottomRight,optionLabelProp:"label",disabled:M},nt.map(function(bt){return r.a.createElement(X.a.Option,{key:bt.value,value:bt.value,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(Yn.a,null)," ",bt.label)},bt.label)}))}try{Fn.displayName="PathStepPicker",Fn.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:Fn.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"})}catch(P){}var mn=e("./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js");function Tn(P){var T=P.disabled,M=Object(S.useValues)(ve.c),_=M.insightProps,J=Object(S.useValues)(Object(pt.d)(_)),G=J.retentionReference,ce=Object(S.useActions)(Object(pt.d)(_)),Re=ce.setRetentionReference;return r.a.createElement(X.a,{value:G,onChange:Re,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:T},[{value:"total",icon:r.a.createElement(mn.a,null),label:"Overall cohort"},{value:"previous",icon:r.a.createElement(mn.a,null),label:"Relative to previous period"}].map(function(Ze){return r.a.createElement(X.a.Option,{key:Ze.value,value:Ze.value,label:r.a.createElement(r.a.Fragment,null,Ze.icon," ",Ze.label)},Ze.label)}))}try{Tn.displayName="ReferencePicker",Tn.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:Tn.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"})}catch(P){}var wn=e("./node_modules/antd/es/tooltip/index.js"),an=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),rn,Lt,Bn=function(T,M){switch(T){case N.s.FUNNELS:return M.funnel_viz_type===N.o.Trends;case N.s.RETENTION:case N.s.PATHS:return!1;case N.s.TRENDS:case N.s.STICKINESS:case N.s.LIFECYCLE:default:return![te.e,te.f,te.b].includes(M.display||"")}},Un=function(T){switch(T){case N.s.TRENDS:case N.s.STICKINESS:return!0;case N.s.RETENTION:case N.s.FUNNELS:return!1;case N.s.LIFECYCLE:case N.s.PATHS:return!1;default:return!0}},_t=(rn={},m()(rn,"".concat(N.s.TRENDS),!0),m()(rn,"".concat(N.s.STICKINESS),!0),m()(rn,"".concat(N.s.LIFECYCLE),!0),m()(rn,"".concat(N.s.FUNNELS),!0),m()(rn,"".concat(N.s.RETENTION),!1),m()(rn,"".concat(N.s.PATHS),!0),rn),Cn=(Lt={},m()(Lt,"".concat(N.s.TRENDS),!0),m()(Lt,"".concat(N.s.STICKINESS),!0),m()(Lt,"".concat(N.s.LIFECYCLE),!1),m()(Lt,"".concat(N.s.FUNNELS),!1),m()(Lt,"".concat(N.s.RETENTION),!1),m()(Lt,"".concat(N.s.PATHS),!1),Lt),Vt=function(T){var M,_;return!T.actions&&!T.events||((M=T.actions)===null||M===void 0?void 0:M.length)===0&&((_=T.events)===null||_===void 0?void 0:_.length)===0};function ut(P){var T=P.filters,M=P.activeView,_=P.disableTable,J=P.disabled,G=M===N.s.FUNNELS,ce=M===N.s.PATHS;return r.a.createElement("div",{className:"display-config-inner"},r.a.createElement("div",{className:"display-config-inner-row"},_t[M]&&!_&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},"Date range"),r.a.createElement(et,{defaultValue:"Last 7 days",disabled:J||G&&Vt(T),bordered:!0,makeLabel:function(Ze){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null)," ",Ze,Ze=="All time"&&r.a.createElement(wn.a,{title:"Only events dated after 2015 will be shown"},r.a.createElement(an.a,{className:"info-indicator"})))}})),Bn(M,T)&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},r.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),r.a.createElement(Me,{view:M,disabled:J})),M===N.s.RETENTION&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,{disabled:J}),r.a.createElement(Tn,{disabled:J})),ce&&r.a.createElement("span",{className:"filter"},r.a.createElement(Fn,{disabled:J})),Cn[M]&&r.a.createElement("span",{className:"filter"},r.a.createElement(It,null))),r.a.createElement("div",{className:"display-config-inner-row"},Un(M)&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},"Chart type"),r.a.createElement(Kt,{filters:T,disabled:J||T.insight===N.s.LIFECYCLE})),G&&T.funnel_viz_type===N.o.Steps&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"filter"},r.a.createElement(Ge,{disabled:J}))),G&&T.funnel_viz_type===N.o.TimeToConvert&&r.a.createElement("span",{className:"filter"},r.a.createElement(Be,{disabled:J}))))}try{ut.displayName="InsightDisplayConfig",ut.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:ut.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(P){}var Rt=e("./node_modules/antd/es/button/index.js"),qt=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),pn=e.n(qt),Jn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),fn=e.n(Jn),In={};In.insert="head",In.singleton=!1;var oa=pn()(fn.a,In),ca=fn.a.locals||{},sa=e("./frontend/src/scenes/funnels/funnelUtils.ts"),Ln=e("./node_modules/core-js/modules/es.array.find.js"),Rn=e("./frontend/src/lib/components/EntityFilterInfo.tsx");function Gn(){var P,T=Object(S.useValues)(ve.c),M=T.insightProps,_=Object(S.useValues)(Object(Ye.a)(M)),J=_.filters,G=_.numberOfSeries,ce=_.areFiltersValid,Re=_.filterSteps,Ze=Object(S.useActions)(Object(Ye.a)(M)),Je=Ze.changeStepRange;if(J.funnel_viz_type===N.o.Steps)return null;var Ie=function(Dt,Ct){Je(Dt,Ct)},fe=ce?Array.from(Array(Math.max(G)).keys()).slice(0,-1):[0],ot=ce?Array.from(Array(Math.max(G)).keys()).slice(((P=J.funnel_from_step)!==null&&P!==void 0?P:0)+1):[1],nt=function(Dt){return Dt.map(function(Ct){var on=Re.find(function(sn){return sn.order===Ct});return on?r.a.createElement(X.a.Option,{key:Ct,value:Ct,label:"Step ".concat(Ct+1)},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("span",{style:{marginRight:4}},"Step ",Ct+1,":"),r.a.createElement(Rn.a,{filter:on}))):null})};return r.a.createElement(He.a,{className:"funnel-options-inputs"},r.a.createElement("span",{className:"text-muted-alt"},"from"),r.a.createElement(X.a,{disabled:!ce,dropdownMatchSelectWidth:!1,dropdownAlign:Ot.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:J.funnel_from_step||0,onChange:function(Dt){return Ie(Dt,J.funnel_to_step)},style:{marginLeft:4,marginRight:4}},nt(fe)),r.a.createElement("span",{className:"text-muted-alt"},"to"),r.a.createElement(X.a,{disabled:!ce,dropdownMatchSelectWidth:!1,dropdownAlign:Ot.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:J.funnel_to_step||Math.max(G-1,1),onChange:function(Dt){return Ie(J.funnel_from_step,Dt)},style:{marginLeft:4,marginRight:4}},nt(ot)))}function Nn(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=P.filters,_=P.activeView,J=Object(S.useValues)(Object(Ye.a)(T)),G=J.conversionMetrics,ce=J.aggregationTargetLabel,Re=Object(S.useActions)(Object(L.a)(T)),Ze=Re.setChartFilter;if(_!==N.s.FUNNELS)return null;var Je=[].concat(rt()(M.funnel_viz_type===N.o.Steps?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},r.a.createElement(Ce.a,{title:"Overall conversion rate for all ".concat(ce.plural," on the entire funnel.")},r.a.createElement(an.a,{className:"info-indicator left"})),"Total conversion rate"),r.a.createElement("span",{className:"text-muted-alt mr-025"},":"),r.a.createElement("span",{className:"l4"},Object(sa.c)(G.totalRate),"%"))]:[]),rt()(M.funnel_viz_type!==N.o.Trends?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},r.a.createElement(Ce.a,{title:"Average (arithmetic mean) of the total time each ".concat(ce.singular," spent in the entire funnel.")},r.a.createElement(an.a,{className:"info-indicator left"})),"Average time to convert"," "),M.funnel_viz_type===N.o.TimeToConvert&&r.a.createElement(Gn,null),r.a.createElement("span",{className:"text-muted-alt mr-025"},":"),r.a.createElement(Rt.a,{type:"link",onClick:function(){return Ze(N.o.TimeToConvert)},disabled:M.funnel_viz_type===N.o.TimeToConvert},r.a.createElement("span",{className:"l4"},Object(Ot.N)(G.averageTime))))]:[]),rt()(M.funnel_viz_type===N.o.Trends?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),r.a.createElement(Gn,null))]:[]));return r.a.createElement(He.a,{className:"funnel-canvas-label",align:"middle"},Je.map(function(Ie,fe){return r.a.createElement(r.a.Fragment,{key:fe},fe>0&&r.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),Ie)}))}function Vn(P){var T=Object(ie.useState)(0),M=ct()(T,2),_=M[1];Object(ie.useEffect)(function(){var J=setInterval(function(){return _(function(G){return G+1})},P);return function(){return clearInterval(J)}})}var Mn=3;function Kn(){var P=Object(S.useValues)(ve.c),T=P.lastRefresh,M=Object(S.useActions)(ve.c),_=M.loadResults;return Vn(15e3),r.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",T?Object(Xe.a)(T).fromNow():"a while ago",r.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),r.a.createElement(wn.a,{title:r.a.createElement(r.a.Fragment,null,"Insights can be refreshed",r.a.createElement("br",null),"every ",Mn," minutes.")},r.a.createElement(Rt.a,{size:"small",type:"link",onClick:function(){return _(!0)},disabled:!!T&&Object(Xe.a)().subtract(Mn-.5,"minutes").isBefore(T),style:{padding:0}},r.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var gn=e("./frontend/src/scenes/trends/PersonsModal.tsx"),_n=e("./frontend/src/scenes/trends/viz/index.ts"),Dn=e("./frontend/src/scenes/trends/SaveCohortModal.tsx"),ia=e("./frontend/src/scenes/trends/trendsLogic.ts"),qn=e("./frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},showTotalCount:{defaultValue:{value:"false"},description:"",name:"showTotalCount",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"})}catch(P){}var ea=e("./frontend/src/scenes/trends/personsModalLogic.ts"),Xn=e("./frontend/src/lib/utils/eventUsageLogic.ts"),ta=e("./frontend/src/scenes/insights/insightSceneLogic.tsx");function E(P){var T=P.view,M=Object(S.useValues)(ta.a),_=M.insightMode,J=Object(S.useValues)(ve.c),G=J.insightProps,ce=Object(S.useValues)(ea.b),Re=ce.cohortModalVisible,Ze=Object(S.useActions)(ea.b),Je=Ze.setCohortModalVisible,Ie=Object(S.useValues)(Object(ia.a)(G)),fe=Ie.filters,ot=Ie.loadMoreBreakdownUrl,nt=Ie.breakdownValuesLoading,bt=Ie.showModalActions,Dt=Ie.aggregationTargetLabel,Ct=Object(S.useActions)(Object(ia.a)(G)),on=Ct.loadMoreBreakdownValues,sn=Object(S.useValues)(ea.b),Jt=sn.showingPeople,ln=Object(S.useActions)(ea.b),Qt=ln.saveCohortWithUrl,Ft=Object(S.useActions)(Xn.f),Gt=Ft.reportCohortCreatedFromPersonsModal,tn=function(){if(!fe.display||fe.display===te.d||fe.display===te.c||fe.display===te.a)return r.a.createElement(_n.b,null);if(fe.display===te.f)return r.a.createElement(S.BindLogic,{logic:ia.a,props:{dashboardItemId:null,view:T,filters:null}},r.a.createElement(qn.b,{embedded:!0,showTotalCount:!0,filterKey:"trends_".concat(T),canEditSeriesNameInline:_===N.t.Edit,isMainInsightView:!0}));if(fe.display===te.e)return r.a.createElement(_n.c,null);if(fe.display===te.b)return r.a.createElement(_n.a,null)};return r.a.createElement(r.a.Fragment,null,(fe.actions||fe.events)&&r.a.createElement("div",{className:fe.display!==te.f?"trends-insights-container":void 0},tn()),fe.breakdown&&r.a.createElement("div",{className:"mt text-center"},ot?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-muted mb"},"For readability, ",r.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),r.a.createElement("div",null,r.a.createElement(Rt.a,{style:{textAlign:"center",marginBottom:16},onClick:on,loading:nt},"Load more breakdown values"))):r.a.createElement("span",{className:"text-muted"},"Showing ",r.a.createElement("b",null,"all breakdown values"))),r.a.createElement(gn.a,{visible:Jt&&!Re,view:T,filters:fe,onSaveCohort:function(){Je(!0)},showModalActions:bt,aggregationTargetLabel:Dt}),r.a.createElement(Dn.a,{visible:Re,onOk:function(wa){Qt(wa),Je(!1),Gt(fe)},onCancel:function(){return Je(!1)}}))}try{E.displayName="TrendInsight",E.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:E.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(P){}var O=e("./frontend/src/scenes/funnels/Funnel.tsx");function I(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=Object(S.useValues)(Object(Ye.a)(T)),_=M.isValidFunnel,J=M.insightLoading,G=M.filters,ce=M.areFiltersValid,Re=M.barGraphLayout,Ze=M.aggregationTargetLabel,Je=Object(S.useValues)(ea.b),Ie=Je.showingPeople,fe=Je.cohortModalVisible,ot=Object(S.useActions)(ea.b),nt=ot.setCohortModalVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(gn.a,{visible:Ie&&!fe,view:N.s.FUNNELS,filters:G,onSaveCohort:function(){nt(!0)},showModalActions:G.aggregation_group_type_index==null,aggregationTargetLabel:Ze}),r.a.createElement("div",{className:Object(Yt.a)("funnel-insights-container",{"non-empty-state":_&&ce||J,"no-padding":G.funnel_viz_type==N.o.Steps&&Re===te.p.vertical})},r.a.createElement(O.a,null)))}var A=e("./frontend/src/scenes/retention/RetentionContainer.tsx"),Y=e("./frontend/src/scenes/paths/Paths.tsx"),de=e("./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx"),oe=e("./frontend/src/scenes/insights/EmptyStates/index.ts"),K=e("./frontend/src/lib/logic/featureFlagLogic.ts");function he(){var P=Object(S.useValues)(ve.c),T=P.activeView;return T!==N.s.PATHS?null:r.a.createElement(He.a,{className:"funnel-canvas-label",align:"middle"},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var W=e("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),tt=e("./node_modules/antd/lib/input/TextArea.js"),wt=e.n(tt),St=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss"),lt=e.n(St),mt={};mt.insert="head",mt.singleton=!1;var Z=pn()(lt.a,mt),Sn=lt.a.locals||{},Wn=e("./node_modules/core-js/modules/es.number.constructor.js"),Qn=e("./node_modules/core-js/modules/es.number.is-integer.js"),na=e("./node_modules/core-js/modules/es.number.to-fixed.js"),gt=e("./node_modules/core-js/modules/es.regexp.exec.js"),zn=e("./node_modules/core-js/modules/es.string.split.js"),aa=e("./node_modules/antd/es/spin/index.js"),At=e("./node_modules/antd/es/table/index.js"),dn=e("./node_modules/antd/lib/table/Column.js"),kt=e.n(dn),en=e("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),jn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},vn=jn,hn=function(T,M){return ie.createElement(k.a,Object(be.a)(Object(be.a)({},T),{},{ref:M,icon:vn}))};hn.displayName="FallOutlined";var da=ie.forwardRef(hn),ma=e("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),la=e("./frontend/src/lib/components/icons.tsx"),ya=e("./node_modules/antd/lib/checkbox/Checkbox.js"),Hn=e.n(ya),ba=e("./frontend/src/scenes/funnels/FunnelBarGraph.tsx"),yn=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),pa=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss"),xa=e.n(pa),fa={};fa.insert="head",fa.singleton=!1;var Ca=pn()(xa.a,fa),Pa=xa.a.locals||{},Ea=e("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function va(P){var T=P.id,M=P.offset,_=P.children,J=Object(S.useActions)(Object(Ea.a)({id:T,offset:M})),G=J.scrolling,ce=Object(ie.useRef)(null);return Object(ie.useEffect)(function(){var Re=ce.current;return document.addEventListener("scroll",function(){return G(Re)}),function(){return document.removeEventListener("scroll",function(){return G(Re)})}},[ce.current]),r.a.createElement("div",{ref:ce},_)}try{va.displayName="VisibilitySensor",va.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:va.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(P){}var ua=e("./frontend/src/lib/components/LemonButton/index.ts"),Sa=e("./frontend/src/lib/components/Popup/Popup.tsx"),Ta=e("./node_modules/antd/es/modal/index.js"),Oa=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),ga=e("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),Ia=e("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),f=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss"),p=e.n(f),x={};x.insert="head",x.singleton=!1;var g=pn()(p.a,x),d=p.a.locals||{},v=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),i=e("./frontend/src/lib/components/Link.tsx"),l=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function c(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=Object(Ye.a)(T),_=Object(S.useValues)(M),J=_.correlationsLoading,G=_.funnelCorrelationDetails,ce=_.parseDisplayNameForCorrelation,Re=_.correlationMatrixAndScore,Ze=Object(S.useActions)(M),Je=Ze.setFunnelCorrelationDetails,Ie=Ze.openCorrelationPersonsModal,fe=(G==null?void 0:G.result_type)===N.k.Events?"event":"property",ot=(G==null?void 0:G.result_type)===N.k.Events?"performed event":"have property",nt=r.a.createElement(r.a.Fragment,null);if(G){var bt=ce(G),Dt=bt.first_value,Ct=bt.second_value;nt=r.a.createElement(r.a.Fragment,null,r.a.createElement(yn.b,{value:Dt}),Ct!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(yn.b,{value:Ct,disablePopover:!0})))}var on=Re.correlationScore,sn=Re.truePositive,Jt=Re.falsePositive,ln=Re.trueNegative,Qt=Re.falseNegative,Ft=Re.correlationScoreStrength,Gt=Ft==="strong"?r.a.createElement(Oa.a,{style:{color:"var(--success)"}}):Ft==="moderate"?r.a.createElement(ga.a,{style:{color:"var(--warning)"}}):r.a.createElement(Ia.a,{style:{color:"var(--danger)"}}),tn=function(){return Je(null)};return r.a.createElement(Ta.a,{className:"correlation-matrix",visible:!!G,onCancel:tn,destroyOnClose:!0,footer:r.a.createElement(Rt.a,{onClick:tn},"Dismiss"),width:600,title:"Correlation details"},r.a.createElement("div",{className:"correlation-table-wrapper"},J?r.a.createElement("div",{className:"mt text-center"},r.a.createElement(v.a,{size:"lg"})):G?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-muted-alt mb"},"The table below displays the correlation details for users who ",ot," ",r.a.createElement("b",null,nt),"."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-title"},r.a.createElement("td",{colSpan:3},"Results matrix")),r.a.createElement("tr",null,r.a.createElement("td",null,(G==null?void 0:G.result_type)===N.k.Events?"Performed event":"Has property"),r.a.createElement("td",null,"Success"),r.a.createElement("td",null,"Dropped off"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"},"Yes"),r.a.createElement("td",null,r.a.createElement(Ce.a,{title:"True positive (TP) - Percentage of users who ".concat(ot," and completed the funnel.")},r.a.createElement("div",{className:"percentage"},sn?Object(Ot.ob)(sn/(sn+Jt)):"0.00%")),sn===0?"0 users":r.a.createElement(i.a,{onClick:function(){Ie(G,!0)}},Object(Ot.qb)(sn,"user",void 0,!0,!0))),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(Ce.a,{title:"False negative (FN) - Percentage of users who ".concat(ot," and did not complete the funnel.")},Qt?Object(Ot.ob)(Qt/(Qt+ln)):"0.00%")),Qt===0?"0 users":r.a.createElement(i.a,{onClick:function(){Ie(G,!1)}},Object(Ot.qb)(Qt,"user",void 0,!0,!0)))),r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"},"No"),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(Ce.a,{title:"False positive (FP) - Percentage of users who did not ".concat(ot," and completed the funnel.")},Jt?Object(Ot.ob)(Jt/(sn+Jt)):"0.00%")),Object(Ot.qb)(Jt,"user",void 0,!0,!0)),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(Ce.a,{title:"True negative (TN) - Percentage of users who did not ".concat(ot," and did not complete the funnel.")},ln?Object(Ot.ob)(ln/(Qt+ln)):"0.00%")),Object(Ot.qb)(ln,"user",void 0,!0,!0))),r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"}),r.a.createElement("td",null,r.a.createElement("b",null,"100%")),r.a.createElement("td",null,r.a.createElement("b",null,"100%"))))),r.a.createElement("div",{className:"mt text-center"},Object(Ot.j)((G==null?void 0:G.result_type)||"")," ",r.a.createElement("b",null,nt)," ","has a"," ",(G==null?void 0:G.correlation_type)===N.l.Success?r.a.createElement("b",{className:"text-success"},"positive"," ",r.a.createElement(Ce.a,{title:"Positive correlation means this ".concat(fe," is correlated with a successful conversion.")},r.a.createElement(an.a,{className:"cursor-pointer"}))):r.a.createElement("b",{className:"text-danger"},"negative"," ",r.a.createElement(Ce.a,{title:"Negative correlation means this ".concat(fe," is correlated with an unsuccessful conversion (user dropped off).")},r.a.createElement(an.a,{className:"cursor-pointer"})))," ","correlation score of"," ",r.a.createElement("b",{style:{color:Ft==="strong"?"var(--success)":Ft==="moderate"?"var(--warning)":"var(--danger)"}},r.a.createElement(Ce.a,{title:"This ".concat(fe," has ").concat(Ft," correlation.")},r.a.createElement("span",{style:{cursor:"pointer"}},Gt," ",on.toFixed(3)))))):r.a.createElement("div",null,r.a.createElement(l.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function y(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=Object(Ye.a)(T),_=Object(S.useValues)(M),J=_.stepsWithCount,G=_.correlationValues,ce=_.correlationTypes,Re=_.eventHasPropertyCorrelations,Ze=_.eventWithPropertyCorrelationsValues,Je=_.parseDisplayNameForCorrelation,Ie=_.correlationsLoading,fe=_.eventWithPropertyCorrelationsLoading,ot=_.nestedTableExpandedKeys,nt=_.correlationPropKey,bt=_.filters,Dt=_.aggregationTargetLabel,Ct=Object(S.useActions)(M),on=Ct.setCorrelationTypes,sn=Ct.loadEventWithPropertyCorrelations,Jt=Ct.addNestedTableExpandedKey,ln=Ct.removeNestedTableExpandedKey,Qt=Ct.openCorrelationPersonsModal,Ft=Ct.loadCorrelations,Gt=Object(S.useActions)(Xn.f),tn=Gt.reportCorrelationInteraction;Object(ie.useEffect)(function(){Ft({})},[bt]);var ha=function(Xt){ce?ce.includes(Xt)?on(ce.filter(function(On){return On!==Xt})):on([].concat(rt()(ce),[Xt])):on([Xt])},wa=function(Xt){var On=function(Na){return Na<10&&!Number.isInteger(Na)?Na.toFixed(1):Na.toFixed()},Zn=Xt.correlation_type===N.l.Success,An=Je(Xt),ja=An.first_value,Ra=An.second_value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,Zn?r.a.createElement(en.a,{style:{color:"green"}}):r.a.createElement(da,{style:{color:"red"}})," ",r.a.createElement(yn.b,{value:ja}),Ra!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(yn.b,{value:Ra,disablePopover:!0}))),r.a.createElement("div",null,Object(Ot.j)(Dt.plural)," ",bt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",r.a.createElement("mark",null,r.a.createElement("b",null,On(Xt.odds_ratio),"x ",Zn?"more":"less"," likely"))," ","to"," ",Xt.result_type===N.k.EventWithProperties?"have this event property":"do this event"),r.a.createElement(c,null))},ra=function(Xt){return r.a.createElement(ba.c,{onClick:function(){Qt(Xt,!0)}},Xt.success_count)},cn=function(Xt){return r.a.createElement(ba.c,{onClick:function(){Qt(Xt,!1)}},Xt.failure_count)},$n=function(Xt){return fe?r.a.createElement("div",{className:"nested-properties-loading"},r.a.createElement(aa.a,null),r.a.createElement("h3",null,"Loading correlation results"),r.a.createElement("p",null,"This process can take up to 20 seconds. ")):r.a.createElement("div",null,r.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),r.a.createElement(At.a,{dataSource:Ze[Xt],rowKey:function(Zn){return Zn.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(Zn,An){return tn(N.k.EventWithProperties,"pagination change",{page:Zn,page_size:An})}}},r.a.createElement(kt.a,{title:"Property",key:"eventName",render:function(Zn,An){return wa(An)},align:"left"}),r.a.createElement(kt.a,{title:"Completed",key:"success_count",render:function(Zn,An){return ra(An)},width:90,align:"center"}),r.a.createElement(kt.a,{title:"Dropped off",key:"failure_count",render:function(Zn,An){return cn(An)},width:120,align:"center"}),r.a.createElement(kt.a,{title:"",key:"actions",render:function(Zn,An){return r.a.createElement(w,{record:An})},align:"center",width:30})))};return J.length>1?r.a.createElement(va,{id:nt,offset:152},r.a.createElement("div",{className:"funnel-correlation-table"},r.a.createElement("span",{className:"funnel-correlation-header"},r.a.createElement("span",{className:"table-header"},r.a.createElement(la.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),r.a.createElement("span",{className:"table-options"},r.a.createElement("p",{className:"title"},"CORRELATION"),r.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return ha(N.l.Success)}},r.a.createElement(Hn.a,{checked:ce.includes(N.l.Success),style:{pointerEvents:"none"}},"Success")),r.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return ha(N.l.Failure)}},r.a.createElement(Hn.a,{checked:ce.includes(N.l.Failure),style:{pointerEvents:"none"}},"Dropoff")))),r.a.createElement(At.a,{dataSource:G,loading:Ie,size:"small",scroll:{x:"max-content"},rowKey:function(Xt){return Xt.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return tn(N.k.Events,"load more")}},expandable:{expandedRowRender:function(Xt){return $n(Xt.event.event)},expandedRowKeys:ot,rowExpandable:function(){return bt.aggregation_group_type_index===void 0},expandIcon:function(Xt){var On=Xt.expanded,Zn=Xt.onExpand,An=Xt.record,ja=Xt.expandable;return ja?On?r.a.createElement(Ce.a,{title:"Collapse"},r.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(Aa){ln(An.event.event),Zn(An,Aa)}},r.a.createElement(la.IconUnfoldLess,null))):r.a.createElement(Ce.a,{title:"Expand to see correlated properties for this event"},r.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(Aa){!Re(An.event.event)&&sn(An.event.event),Jt(An.event.event),Zn(An,Aa)}},r.a.createElement(la.IconUnfoldMore,null))):null}}},r.a.createElement(kt.a,{title:"Event",key:"eventName",render:function(Xt,On){return wa(On)},align:"left",ellipsis:!0}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Completed",r.a.createElement(Ce.a,{title:"".concat(Object(Ot.j)(Dt.plural)," ").concat(bt.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},r.a.createElement(an.a,{className:"column-info"}))),key:"success_count",render:function(Xt,On){return ra(On)},width:90,align:"center"}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Dropped off",r.a.createElement(Ce.a,{title:r.a.createElement(r.a.Fragment,null,Object(Ot.j)(Dt.plural)," ",bt.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",r.a.createElement("b",null,"not complete")," the entire funnel.")},r.a.createElement(an.a,{className:"column-info"}))),key:"failure_count",render:function(Xt,On){return cn(On)},width:120,align:"center"}),r.a.createElement(kt.a,{title:"",key:"actions",render:function(Xt,On){return r.a.createElement(w,{record:On})},width:30})))):null}var w=function(T){var M=T.record,_=Object(S.useValues)(ve.c),J=_.insightProps,G=Object(Ye.a)(J),ce=Object(S.useActions)(G),Re=ce.excludeEventPropertyFromProject,Ze=ce.excludeEventFromProject,Je=ce.setFunnelCorrelationDetails,Ie=Object(S.useValues)(G),fe=Ie.isEventPropertyExcluded,ot=Ie.isEventExcluded,nt=M.event.event.split("::"),bt=Object(ie.useState)(!1),Dt=ct()(bt,2),Ct=Dt[0],on=Dt[1];return r.a.createElement(He.a,{style:{justifyContent:"flex-end"}},r.a.createElement(Sa.a,{visible:Ct,actionable:!0,onClickOutside:function(){return on(!1)},overlay:r.a.createElement(r.a.Fragment,null,M.result_type===N.k.Events&&r.a.createElement(ua.a,{onClick:function(){return Je(M)},fullWidth:!0,type:"stealth"},"View correlation details"),r.a.createElement(ua.a,{disabled:M.result_type===N.k.EventWithProperties?fe(nt[1]):ot(nt[0]),onClick:function(){return M.result_type===N.k.EventWithProperties?Re(nt[0],nt[1]):Ze(nt[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",type:"stealth"},"Exclude event from project"))},r.a.createElement(ua.a,{type:"stealth",onClick:function(){return on(!Ct)}},r.a.createElement(ma.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},a=e("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function n(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=Object(Ye.a)(T),_=Object(S.useValues)(M),J=_.stepsWithCount,G=_.propertyCorrelationValues,ce=_.propertyCorrelationTypes,Re=_.excludedPropertyNames,Ze=_.parseDisplayNameForCorrelation,Je=_.propertyCorrelationsLoading,Ie=_.inversePropertyNames,fe=_.propertyNames,ot=_.correlationPropKey,nt=_.allProperties,bt=_.filters,Dt=_.aggregationTargetLabel,Ct=Object(S.useActions)(M),on=Ct.setPropertyCorrelationTypes,sn=Ct.setPropertyNames,Jt=Ct.openCorrelationPersonsModal,ln=Ct.loadPropertyCorrelations,Qt=Object(S.useActions)(Xn.f),Ft=Qt.reportCorrelationInteraction;Object(ie.useEffect)(function(){fe.length===0&&sn(nt),ln({})},[bt]);var Gt=function(cn){ce?ce.includes(cn)?on(ce.filter(function($n){return $n!==cn})):on([].concat(rt()(ce),[cn])):on([cn])},tn=function(cn){return r.a.createElement(ba.c,{onClick:function(){Jt(cn,!0)}},cn.success_count)},ha=function(cn){return r.a.createElement(ba.c,{onClick:function(){Jt(cn,!1)}},cn.failure_count)},wa=function(cn){var $n=function(ja){return ja<10&&!Number.isInteger(ja)?ja.toFixed(1):ja.toFixed()},kn=cn.correlation_type===N.l.Success,Xt=Ze(cn),On=Xt.first_value,Zn=Xt.second_value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,kn?r.a.createElement(en.a,{style:{color:"green"}}):r.a.createElement(da,{style:{color:"red"}})," ",r.a.createElement(yn.b,{value:On}),Zn!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(yn.b,{value:Zn,disablePopover:!0}))),r.a.createElement("div",null,Object(Ot.j)(Dt.plural)," ",bt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",r.a.createElement("mark",null,r.a.createElement("b",null,$n(cn.odds_ratio),"x ",kn?"more":"less"," likely"))," ","to have this property value"))};return J.length>1?r.a.createElement(va,{offset:150,id:"".concat(ot,"-properties")},r.a.createElement("div",{className:"funnel-correlation-table"},r.a.createElement(He.a,{className:"funnel-correlation-header"},r.a.createElement(R.a,{className:"table-header"},r.a.createElement(la.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),r.a.createElement(R.a,{className:"table-options"},r.a.createElement(He.a,{style:{display:"contents"}},nt.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title"},"PROPERTIES "),r.a.createElement(a.a,{value:new Set(fe),onChange:function(cn){return sn(cn)},allProperties:Ie(Re||[])}))),r.a.createElement(He.a,{style:{display:"contents"}},r.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),r.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return Gt(N.l.Success)}},r.a.createElement(Hn.a,{checked:ce.includes(N.l.Success),style:{pointerEvents:"none"}},"Success")),r.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return Gt(N.l.Failure)}},r.a.createElement(Hn.a,{checked:ce.includes(N.l.Failure),style:{pointerEvents:"none"}},"Dropoff"))))),r.a.createElement(At.a,{dataSource:G,loading:Je,scroll:{x:"max-content"},size:"small",rowKey:function(cn){return cn.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(cn,$n){return Ft(N.k.Properties,"pagination change",{page:cn,page_size:$n})}}},r.a.createElement(kt.a,{title:"".concat(Object(Ot.j)(Dt.singular)," property"),key:"propertName",render:function(cn,$n){return wa($n)},align:"left"}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Completed",r.a.createElement(Ce.a,{title:"".concat(Object(Ot.j)(Dt.plural)," ").concat(bt.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},r.a.createElement(an.a,{className:"column-info"}))),key:"success_count",render:function(cn,$n){return tn($n)},width:90,align:"center"}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Dropped off",r.a.createElement(Ce.a,{title:r.a.createElement(r.a.Fragment,null,Object(Ot.j)(Dt.plural)," ",bt.aggregation_group_type_index!=null?"that":"who"," have this property and did ",r.a.createElement("b",null,"not complete")," the entire funnel.")},r.a.createElement(an.a,{className:"column-info"}))),key:"failure_count",render:function(cn,$n){return ha($n)},width:120,align:"center"}),r.a.createElement(kt.a,{title:"",key:"actions",render:function(cn,$n){return r.a.createElement(t,{record:$n})},align:"center",width:30})))):null}var t=function(T){var M=T.record,_=Object(S.useValues)(ve.c),J=_.insightProps,G=Object(Ye.a)(J),ce=Object(S.useActions)(G),Re=ce.excludePropertyFromProject,Ze=ce.setFunnelCorrelationDetails,Je=Object(S.useValues)(G),Ie=Je.isPropertyExcludedFromProject,fe=(M.event.event||"").split("::")[0],ot=Object(ie.useState)(!1),nt=ct()(ot,2),bt=nt[0],Dt=nt[1];return r.a.createElement(He.a,{style:{justifyContent:"flex-end"}},r.a.createElement(Sa.a,{visible:bt,actionable:!0,onClickOutside:function(){return Dt(!1)},overlay:r.a.createElement(r.a.Fragment,null,r.a.createElement(ua.a,{onClick:function(){return Ze(M)},fullWidth:!0,type:"stealth"},"View correlation details"),r.a.createElement(ua.a,{disabled:Ie(fe),onClick:function(){return Re(fe)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",type:"stealth"},"Exclude property from project"))},r.a.createElement(ua.a,{type:"stealth",onClick:function(){return Dt(!bt)}},r.a.createElement(ma.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},s=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),u=e("./frontend/src/lib/components/PayCard/PayCard.tsx"),h=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),b=function(){var T,M=Object(S.useValues)(ve.c),_=M.insightProps,J=Object(S.useValues)(Object(Ye.a)(_)),G=J.isSkewed,ce=J.stepsWithCount,Re=J.correlationFeedbackHidden,Ze=J.correlationDetailedFeedbackVisible,Je=J.correlationFeedbackRating,Ie=J.correlationAnalysisAvailable,fe=J.aggregationTargetLabel,ot=Object(S.useActions)(Object(Ye.a)(_)),nt=ot.sendCorrelationAnalysisFeedback,bt=ot.hideSkewWarning,Dt=ot.hideCorrelationAnalysisFeedback,Ct=ot.setCorrelationFeedbackRating,on=ot.setCorrelationDetailedFeedback,sn=Object(S.useValues)(h.a),Jt=sn.preflight,ln=Object(ie.useRef)(null);return ce.length<=1?null:!Ie&&!(!(Jt==null||(T=Jt.instance_preferences)===null||T===void 0)&&T.disable_paid_fs)?r.a.createElement(u.a,{identifier:N.c.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(fe.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(fe.plural," are converting or dropping off.")}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"funnel-correlation"},G&&r.a.createElement(Ke.a,{className:"skew-warning"},r.a.createElement("h4",null,r.a.createElement(la.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",r.a.createElement(s.a,{className:"close-button",onClick:bt})),r.a.createElement("div",null,r.a.createElement("b",null,"Tips for adjusting your funnel:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),r.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),r.a.createElement(y,null),!Re&&r.a.createElement(Ke.a,{className:"correlation-feedback"},r.a.createElement(He.a,{className:"row-initial"},r.a.createElement(R.a,{span:14},r.a.createElement("h4",null,r.a.createElement(W.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?")),r.a.createElement(R.a,{span:9,style:{alignContent:"right"}},!!Je&&r.a.createElement("i",{style:{color:"var(--success)",marginRight:8}},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(Qt,Ft){return r.a.createElement(Rt.a,{key:Ft,className:"emoji-button",style:Je===Qt[0]?{background:"#5375FF"}:Je?{display:"none"}:{},onClick:function(){Je===Qt[0]?Ct(0):(Ct(Qt[0]),setTimeout(function(){var tn;return(tn=ln.current)===null||tn===void 0?void 0:tn.focus()},100))}},Qt[1])})),r.a.createElement(R.a,{span:1},r.a.createElement(s.a,{className:"close-button",onClick:Dt}))),r.a.createElement("div",{style:{display:Ze?void 0:"none"}},r.a.createElement("form",{onSubmit:nt},r.a.createElement(wt.a,{onBlur:function(Ft){return on(Ft.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",style:{marginTop:16},ref:ln,onKeyDown:function(Ft){if(Ft.key==="Enter"&&Ft.metaKey){var Gt;(Gt=ln.current)===null||Gt===void 0||Gt.blur(),nt()}}}),r.a.createElement("div",{className:"text-right"},r.a.createElement(Rt.a,{className:"feedback-button","data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback"))))),r.a.createElement(n,null)))},C=e("./node_modules/core-js/modules/es.regexp.to-string.js"),j=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss"),D=e.n(j),H={};H.insert="head",H.singleton=!1;var z=pn()(D.a,H),U=D.a.locals||{},me=e("./frontend/src/lib/components/InsightLabel/index.tsx"),le=e("./frontend/src/lib/colors.ts"),ge=e("./frontend/src/lib/components/PHCheckbox.tsx");function Oe(){var P=Object(S.useValues)(ve.c),T=P.filters,M=P.activeView,_=Object(S.useActions)(ve.c),J=_.toggleInsightLegend,G=Object(S.useValues)(K.a),ce=G.featureFlags;return(M===N.s.TRENDS||M===N.s.STICKINESS)&&ce[te.n.INSIGHT_LEGENDS]?r.a.createElement(Rt.a,{className:"insight-legend-button",onClick:J},r.a.createElement(la.IconLegend,null),r.a.createElement("span",{className:"insight-legend-button-title"},T.show_legend?"Hide":"Show"," legend")):null}function ze(){var P=Object(S.useValues)(ve.c),T=P.insightProps,M=P.filters,_=Object(ia.a)(T),J=Object(S.useValues)(_),G=J.indexedResults,ce=J.hiddenLegendKeys,Re=Object(S.useActions)(_),Ze=Re.toggleVisibility,Je=Object(le.c)("white",G.length,!!M.compare);return r.a.createElement("div",{className:"insight-legend-menu"},r.a.createElement("div",{className:"insight-legend-menu-scroll"},G&&G.map(function(Ie){var fe,ot;return r.a.createElement(He.a,{key:Ie.id,className:"insight-legend-menu-item",wrap:!1},r.a.createElement("div",{className:"insight-legend-menu-item-inner",onClick:function(){return Ze(Ie.id)}},r.a.createElement(R.a,null,r.a.createElement(ge.a,{color:Je[Ie.id],checked:!ce[Ie.id],onChange:function(){}})),r.a.createElement(R.a,null,r.a.createElement(me.b,{key:Ie.id,seriesColor:Je[Ie.id],action:Ie.action,fallbackName:Ie.breakdown_value===""?"None":Ie.label,hasMultipleSeries:G.length>1,breakdownValue:Ie.breakdown_value===""?"None":(fe=Ie.breakdown_value)===null||fe===void 0?void 0:fe.toString(),compareValue:M.compare?Object(qn.d)(Ie):void 0,pillMidEllipsis:(Ie==null||(ot=Ie.filter)===null||ot===void 0?void 0:ot.breakdown)==="$current_url",hideIcon:!0}))))})))}var Se,Ve=(Se={},m()(Se,"".concat(N.s.TRENDS),r.a.createElement(E,{view:N.s.TRENDS})),m()(Se,"".concat(N.s.STICKINESS),r.a.createElement(E,{view:N.s.STICKINESS})),m()(Se,"".concat(N.s.LIFECYCLE),r.a.createElement(E,{view:N.s.LIFECYCLE})),m()(Se,"".concat(N.s.FUNNELS),r.a.createElement(I,null)),m()(Se,"".concat(N.s.RETENTION),r.a.createElement(A.a,null)),m()(Se,"".concat(N.s.PATHS),r.a.createElement(Y.a,null)),Se);function ye(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1},T=P.disableHeader,M=P.disableTable,_=Object(S.useValues)(K.a),J=_.featureFlags,G=Object(S.useValues)(ta.a),ce=G.insightMode,Re=Object(S.useValues)(ve.c),Ze=Re.insightProps,Je=Re.canEditInsight,Ie=Re.insightLoading,fe=Re.activeView,ot=Re.loadedView,nt=Re.filters,bt=Re.showTimeoutMessage,Dt=Re.showErrorMessage,Ct=Object(S.useValues)(Object(Ye.a)(Ze)),on=Ct.areFiltersValid,sn=Ct.isValidFunnel,Jt=Ct.areExclusionFiltersValid,ln=Ct.correlationAnalysisAvailable,Qt=function(){if(fe!==ot||Ie&&!bt)return r.a.createElement(r.a.Fragment,null,nt.display!==te.f&&r.a.createElement("div",{className:"trends-insights-container"}),r.a.createElement(Ot.b,null));if(ot===N.s.FUNNELS){if(!on)return r.a.createElement(oe.b,{actionable:ce===N.t.Edit||M});if(!Jt)return r.a.createElement(oe.a,null);if(!sn&&!Ie)return r.a.createElement(oe.c,null)}return Dt?r.a.createElement(oe.d,null):bt?r.a.createElement(oe.e,{isLoading:Ie}):null}();function Ft(){return fe===N.s.FUNNELS&&!Dt&&!bt&&on&&nt.funnel_viz_type===N.o.Steps&&(nt==null?void 0:nt.layout)===te.p.horizontal&&!M?r.a.createElement(de.a,null):(!nt.display||(nt==null?void 0:nt.display)!==te.f&&(nt==null?void 0:nt.display)!==te.b)&&fe===N.s.TRENDS&&!M?r.a.createElement(S.BindLogic,{logic:ia.a,props:Ze},r.a.createElement(qn.b,{isLegend:!0,showTotalCount:!0,filterKey:fe===N.s.TRENDS?"trends_".concat(fe):"",canEditSeriesNameInline:fe===N.s.TRENDS&&ce===N.t.Edit,canCheckUncheckSeries:!Je})):null}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke.a,{title:T?null:r.a.createElement(ut,{activeView:fe,insightMode:ce,filters:nt,disableTable:!!M,disabled:!Je}),"data-attr":"insights-graph",className:"insights-graph-container"},r.a.createElement("div",null,r.a.createElement(He.a,{className:Object(Yt.a)("insights-graph-header",{funnels:fe===N.s.FUNNELS}),align:"middle",justify:"space-between"},r.a.createElement(R.a,null,r.a.createElement(Kn,null)),r.a.createElement(R.a,null,fe===N.s.FUNNELS?r.a.createElement(Nn,null):null,fe===N.s.PATHS?r.a.createElement(he,null):null,r.a.createElement(Oe,null))),Qt||(J[te.n.INSIGHT_LEGENDS]&&(fe===N.s.TRENDS||fe===N.s.STICKINESS)&&nt.show_legend?r.a.createElement(He.a,{className:"insights-graph-container-row",wrap:!1},r.a.createElement(R.a,{className:"insights-graph-container-row-left"},Ve[fe]),r.a.createElement(R.a,{className:"insights-graph-container-row-right"},r.a.createElement(ze,null))):Ve[fe]))),Ft(),!M&&ln&&fe===N.s.FUNNELS&&r.a.createElement(b,null))}try{ye.displayName="InsightContainer",ye.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:ye.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(P){}},"./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts":function(xe,$,e){"use strict";e.d($,"a",function(){return st});var se=e("./node_modules/core-js/modules/es.array.iterator.js"),m=e.n(se),Ke=e("./node_modules/core-js/modules/es.object.to-string.js"),He=e.n(Ke),R=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),qe=e.n(R),Q=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ie=e.n(Q),r=e("./node_modules/kea/lib/index.esm.js"),S=e("./frontend/src/scenes/insights/insightLogic.ts"),it=e("./frontend/src/scenes/insights/sharedUtils.ts");function X(Ue,be){var ee=Object.keys(Ue);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(Ue);be&&(F=F.filter(function(k){return Object.getOwnPropertyDescriptor(Ue,k).enumerable})),ee.push.apply(ee,F)}return ee}function L(Ue){for(var be=1;be<arguments.length;be++){var ee=arguments[be]!=null?arguments[be]:{};be%2?X(Object(ee),!0).forEach(function(F){ie()(Ue,F,ee[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(ee)):X(Object(ee)).forEach(function(F){Object.defineProperty(Ue,F,Object.getOwnPropertyDescriptor(ee,F))})}return Ue}var st=Object(r.kea)({props:{},key:Object(it.c)("new"),path:function(be){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",be]},connect:function(be){return{actions:[Object(S.c)(be),["setFilters"]],values:[Object(S.c)(be),["filters"]]}},actions:function(){return{setDates:function(ee,F){return{dateFrom:ee,dateTo:F}}}},selectors:{dates:[function(Ue){return[Ue.filters]},function(Ue){return{dateFrom:(Ue==null?void 0:Ue.date_from)||null,dateTo:(Ue==null?void 0:Ue.date_to)||null}}]},listeners:function(be){var ee=be.actions,F=be.values;return{setDates:function(We){var pe=We.dateFrom,Ae=We.dateTo;ee.setFilters(L(L({},F.filters),{},{date_from:pe||null,date_to:Ae||null}))}}}})},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return w});var se=e("./node_modules/react/index.js"),m=e.n(se),Ke=e("./frontend/src/lib/components/Drawer.tsx"),He=e("./node_modules/core-js/modules/es.object.to-string.js"),R=e("./node_modules/core-js/modules/es.regexp.to-string.js"),qe=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Q=e.n(qe),ie=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),r=e.n(ie),S={};S.insert="head",S.singleton=!1;var it=Q()(r.a,S),X=r.a.locals||{},L=e("./node_modules/kea/lib/index.esm.js"),st=e("./node_modules/core-js/modules/es.array.index-of.js"),Ue=e("./node_modules/core-js/modules/es.array.iterator.js"),be=e("./node_modules/core-js/modules/es.array.slice.js"),ee=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),F=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),k=e.n(F),We=e("./node_modules/@babel/runtime/regenerator/index.js"),pe=e.n(We),Ae=e("./node_modules/regenerator-runtime/runtime.js"),ke=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),q=e.n(ke),$e=e("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),Ee=e("./frontend/src/lib/utils/eventUsageLogic.ts"),Ne=e("./frontend/src/types.ts"),Nt=e("./frontend/src/lib/utils/responsiveUtils.tsx"),De=e("./node_modules/core-js/modules/es.array.concat.js"),Et=e("./node_modules/core-js/modules/es.array.for-each.js"),N=e("./node_modules/core-js/modules/es.array.includes.js"),Ot=e("./node_modules/core-js/modules/es.array.join.js"),ve=e("./node_modules/core-js/modules/es.array.map.js"),Kt=e("./node_modules/core-js/modules/es.object.entries.js"),o=e("./node_modules/core-js/modules/es.object.values.js"),$t=e("./node_modules/core-js/modules/es.regexp.exec.js"),It=e("./node_modules/core-js/modules/es.string.ends-with.js"),Mt=e("./node_modules/core-js/modules/es.string.includes.js"),V=e("./node_modules/core-js/modules/es.string.iterator.js"),Wt=e("./node_modules/core-js/modules/es.string.replace.js"),ct=e("./node_modules/core-js/modules/es.string.search.js"),Ht=e("./node_modules/core-js/modules/es.string.split.js"),Pt=e("./node_modules/core-js/modules/es.string.starts-with.js"),vt=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Bt=e("./node_modules/core-js/modules/web.url.js"),ne=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Te=e.n(ne),Fe=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ue=e.n(Fe),je=e("./node_modules/fuse.js/dist/fuse.esm.js"),Me=e("./frontend/src/lib/api.ts"),te=e("./frontend/src/lib/utils.tsx"),xt=e("./frontend/src/scenes/teamLogic.ts"),re=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),we=e("./frontend/src/lib/dayjs.ts"),Pe=e("./node_modules/core-js/modules/es.array.from.js"),et=e("./node_modules/core-js/modules/es.function.name.js");function Qe(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=ae(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var s=0,u=function(){};return{s:u,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(D){throw D},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,b=!1,C;return{s:function(){t=a[Symbol.iterator]()},n:function(){var D=t.next();return h=D.done,D},e:function(D){b=!0,C=D},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(b)throw C}}}}function ae(a,n){if(!!a){if(typeof a=="string")return Le(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Le(a,n)}}function Le(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=a[t];return s}var ht=15,pt=ht/2;function Ce(a){return"touches"in a}function Xe(a){return"clientX"in a}var ft=function(n){if(Ce(n)){var t,s,u,h,b;return(t=n==null||(s=n.touches)===null||s===void 0||(u=s[0])===null||u===void 0?void 0:u.pageX)!==null&&t!==void 0?t:n==null||(h=n.changedTouches)===null||h===void 0||(b=h[0])===null||b===void 0?void 0:b.pageX}return Xe(n)?n==null?void 0:n.clientX:0};function Tt(a,n,t){if(a.windowId===n.windowId)return a.time-n.time;var s=Qe(t),u;try{for(s.s();!(u=s.n()).done;){var h=u.value;if(a.windowId===h.windowId&&a.time>=h.startPlayerPosition.time&&a.time<=h.endPlayerPosition.time)return-1;if(n.windowId===h.windowId&&n.time>=h.startPlayerPosition.time&&n.time<=h.endPlayerPosition.time)return 1}}catch(b){s.e(b)}finally{s.f()}throw"Could not find player positions in segments"}function Ye(a,n){var t=Qe(n),s;try{for(t.s();!(s=t.n()).done;){var u=s.value;if(a.windowId===u.windowId&&a.time>=u.startPlayerPosition.time&&a.time<=u.endPlayerPosition.time)return u}}catch(h){t.e(h)}finally{t.f()}return null}function jt(a,n){var t=0,s=Qe(n),u;try{for(s.s();!(u=s.n()).done;){var h=u.value;if(a.windowId===h.windowId&&a.time>=h.startPlayerPosition.time&&a.time<=h.endPlayerPosition.time)return t+a.time-h.startPlayerPosition.time;t+=h.durationMs}}catch(b){s.e(b)}finally{s.f()}return null}function Ge(a,n){var t=0,s=Qe(n),u;try{for(s.s();!(u=s.n()).done;){var h=u.value;if(t+h.durationMs>a)return{windowId:h.windowId,time:a-t+h.startPlayerPosition.time};t+=h.durationMs}}catch(b){s.e(b)}finally{s.f()}return a===t&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function at(a,n,t){if(t&&n in t){var s=t[n].startTimeEpochMs,u=t[n].endTimeEpochMs;return s>a||u<a?null:{windowId:n,time:a-s}}return null}function dt(a,n){if(a.windowId in n){var t=n[a.windowId].startTimeEpochMs;return t+a.time}return null}var _e=function(n,t,s,u){var h=n/t*u;return Ge(h,s)},B=function(n,t,s,u){var h=jt(n,s);return(h!=null?h:0)/u*t},yt=e("./frontend/src/lib/components/lemonToast.tsx"),rt=e("./node_modules/fast-deep-equal/index.js"),Zt=e.n(rt),Yt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),zt=e("./frontend/src/lib/constants.tsx");function bn(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),t.push.apply(t,s)}return t}function Ut(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?bn(Object(t),!0).forEach(function(s){Te()(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):bn(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function nn(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=Be(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var s=0,u=function(){};return{s:u,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(D){throw D},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,b=!1,C;return{s:function(){t=a[Symbol.iterator]()},n:function(){var D=t.next();return h=D.done,D},e:function(D){b=!0,C=D},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(b)throw C}}}}function Be(a,n){if(!!a){if(typeof a=="string")return un(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return un(a,n)}}function un(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=a[t];return s}var xn=!1,Yn="rrweb/console@1",Pn=function(n){var t=n.segments.map(function(u){var h=+Object(we.a)(n.start_and_end_times_by_window_id[u.window_id].start_time),b=+Object(we.a)(u==null?void 0:u.start_time),C=+Object(we.a)(u==null?void 0:u.end_time),j={windowId:u.window_id,time:b-h},D={windowId:u.window_id,time:C-h},H=C-b;return{startPlayerPosition:j,endPlayerPosition:D,durationMs:H,startTimeEpochMs:b,endTimeEpochMs:C,windowId:u.window_id,isActive:u.is_active}}),s={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(u){var h=ue()(u,2),b=h[0],C=h[1];s[b]={startTimeEpochMs:+Object(we.a)(C.start_time),endTimeEpochMs:+Object(we.a)(C.end_time)}}),{segments:t,startAndEndTimesByWindowId:s,recordingDurationMs:Object(te.zb)(t.map(function(u){return u.durationMs}))}},En=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=null;if(n&&t&&s){var h=nn(n),b;try{for(h.s();!(b=h.n()).done;){var C,j=b.value,D=((C=t[j.windowId])!==null&&C!==void 0?C:[]).slice(-1).pop();if(D&&D.timestamp>=j.startTimeEpochMs){var H=s[j.windowId].startTimeEpochMs;u={windowId:j.windowId,time:Math.min(D.timestamp-H,j.endPlayerPosition.time)}}else return u}}catch(z){h.e(z)}finally{h.f()}}return u},Fn=function(n){return n.map(function(t){var s,u,h;return Ut(Ut({},t),{},{queryValue:"".concat((s=(u=(h=Object(re.d)(t.event,"event"))===null||h===void 0?void 0:h.label)!==null&&u!==void 0?u:t.event)!==null&&s!==void 0?s:""," ").concat(Object(te.B)(t)).replace(/['"]+/g,"")})})},mn=Object(L.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[Ee.f],values:[xt.a,["currentTeamId"],Yt.a,["featureFlags"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,t){return{recordingData:n,loadTime:t}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,t){return{sessionRecordingId:n,url:t}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,t){var s=t.filters;return Ut(Ut({},n),s)}}],sessionRecordingId:[null,{loadRecording:function(n,t){var s=t.sessionRecordingId;return s!=null?s:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,t){var s=t.sessionEventsData;return!!(s!=null&&s.next)}}],source:[Ee.d.Unknown,{setSource:function(n,t){var s=t.source;return s}}]},listeners:function(n){var t=n.values,s=n.actions,u=n.sharedListeners,h=n.cache;return{loadRecordingMetaSuccess:function(){h.eventsStartTime=performance.now(),s.loadEvents()},loadRecordingSnapshotsSuccess:function(){var C;!((C=t.sessionPlayerData)===null||C===void 0)&&C.next?s.loadRecordingSnapshots(void 0,t.sessionPlayerData.next):Ee.f.actions.reportRecording(t.sessionPlayerData,t.source,performance.now()-h.startTime,Ne.D.LOADED,0),t.chunkPaginationIndex===1&&s.reportUsage(t.sessionPlayerData,performance.now()-h.startTime)},loadEventsSuccess:function(){var C;if(!((C=t.sessionEventsData)===null||C===void 0)&&C.next)s.loadEvents(t.sessionEventsData.next);else{var j,D,H;Ee.f.actions.reportRecordingEventsFetched((j=(D=t.sessionEventsData)===null||D===void 0||(H=D.events)===null||H===void 0?void 0:H.length)!==null&&j!==void 0?j:0,performance.now()-h.eventsStartTime),h.eventsStartTime=null}},loadRecordingMetaFailure:u.showErrorToast,loadRecordingSnapshotsFailure:u.showErrorToast,loadEventsFailure:u.showErrorToast,reportUsage:function(){var b=q()(pe.a.mark(function j(D,H){var z,U;return pe.a.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return z=D.recordingData,U=D.loadTime,le.next=3,H();case 3:return Ee.f.actions.reportRecording(z,t.source,U,Ne.D.VIEWED,0),le.next=6,H(xn?1:1e4);case 6:Ee.f.actions.reportRecording(z,t.source,U,Ne.D.ANALYZED,10);case 7:case"end":return le.stop()}},j)}));function C(j,D){return b.apply(this,arguments)}return C}()}},sharedListeners:function(){return{showErrorToast:function(t){var s=t.error;yt.a.error(s)}}},loaders:function(n){var t=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var s=q()(pe.a.mark(function h(b,C){var j,D,H,z,U,me,le,ge,Oe,ze,Se;return pe.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return me=b.sessionRecordingId,le=Object(te.Ab)({save_view:!0}),ye.next=4,Me.a.get("api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(me,"?").concat(le));case 4:return ge=ye.sent,Oe=(j=ge.result)===null||j===void 0?void 0:j.session_recording,ze=Pn(Oe),Se=En(ze.segments,(D=t.sessionPlayerData)===null||D===void 0?void 0:D.snapshotsByWindowId,ze.startAndEndTimesByWindowId),C(),ye.abrupt("return",Ut(Ut({},t.sessionPlayerData),{},{person:(H=ge.result)===null||H===void 0?void 0:H.person,metadata:ze,bufferedTo:Se,snapshotsByWindowId:(z=Ut({},(U=t.sessionPlayerData)===null||U===void 0?void 0:U.snapshotsByWindowId))!==null&&z!==void 0?z:{}}));case 10:case"end":return ye.stop()}},h)}));function u(h,b){return s.apply(this,arguments)}return u}(),loadRecordingSnapshots:function(){var s=q()(pe.a.mark(function h(b,C){var j,D,H,z,U,me,le,ge,Oe,ze,Se,Ve,ye,P,T;return pe.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return Oe=b.sessionRecordingId,ze=b.url,Se=ze||"api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(Oe,"/snapshots?").concat(Object(te.Ab)({limit:t.featureFlags[zt.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),_.next=4,Me.a.get(Se);case 4:return Ve=_.sent,C(),ye=Ut({},(j=(D=t.sessionPlayerData)===null||D===void 0?void 0:D.snapshotsByWindowId)!==null&&j!==void 0?j:{}),P=(H=Ve.result)===null||H===void 0?void 0:H.snapshot_data_by_window_id,Object.entries(P).forEach(function(J){var G,ce=ue()(J,2),Re=ce[0],Ze=ce[1];ye[Re]=[].concat(k()((G=ye[Re])!==null&&G!==void 0?G:[]),k()(Ze))}),T=En((z=t.sessionPlayerData)===null||z===void 0||(U=z.metadata)===null||U===void 0?void 0:U.segments,ye,(me=t.sessionPlayerData)===null||me===void 0||(le=me.metadata)===null||le===void 0?void 0:le.startAndEndTimesByWindowId),_.abrupt("return",Ut(Ut({},t.sessionPlayerData),{},{bufferedTo:T,snapshotsByWindowId:ye,next:(ge=Ve.result)===null||ge===void 0?void 0:ge.next}));case 11:case"end":return _.stop()}},h)}));function u(h,b){return s.apply(this,arguments)}return u}()},sessionEventsData:{loadEvents:function(){var s=q()(pe.a.mark(function h(b,C){var j,D,H,z,U,me,le,ge,Oe;return pe.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(z=b.url,t.eventsApiParams){Se.next=3;break}return Se.abrupt("return",t.sessionEventsData);case 3:return U=z||"api/projects/".concat(t.currentTeamId,"/events?").concat(Object(te.Ab)(t.eventsApiParams)),Se.next=6,Me.a.get(U);case 6:return me=Se.sent,C(),le=[],ge=[],Oe=(j=me.results)!==null&&j!==void 0?j:[],Oe.forEach(function(Ve){var ye,P,T,M,_=at(+Object(we.a)(Ve.timestamp)-1e3,(ye=(P=Ve.properties)===null||P===void 0?void 0:P.$window_id)!==null&&ye!==void 0?ye:"",(T=t.sessionPlayerData)===null||T===void 0||(M=T.metadata)===null||M===void 0?void 0:M.startAndEndTimesByWindowId);if(_===null){var J,G,ce,Re;_=at(+Object(we.a)(Ve.timestamp),(J=(G=Ve.properties)===null||G===void 0?void 0:G.$window_id)!==null&&J!==void 0?J:"",(ce=t.sessionPlayerData)===null||ce===void 0||(Re=ce.metadata)===null||Re===void 0?void 0:Re.startAndEndTimesByWindowId)}if(_!==null){var Ze=jt(_,t.sessionPlayerData.metadata.segments);Ze!==null&&ge.push(Ut(Ut({},Ve),{},{playerTime:Ze,playerPosition:_,percentageOfRecordingDuration:100*Ze/t.sessionPlayerData.metadata.recordingDurationMs}))}}),le=[].concat(k()((D=(H=t.sessionEventsData)===null||H===void 0?void 0:H.events)!==null&&D!==void 0?D:[]),ge).sort(function(Ve,ye){return Ve.playerTime-ye.playerTime}),Se.abrupt("return",Ut(Ut({},t.sessionEventsData),{},{next:me==null?void 0:me.next,events:le}));case 14:case"end":return Se.stop()}},h)}));function u(h,b){return s.apply(this,arguments)}return u}()}}},selectors:{eventsToShow:[function(a){return[a.filters,a.sessionEventsData]},function(a,n){var t,s=(t=n==null?void 0:n.events)!==null&&t!==void 0?t:[];return a!=null&&a.query?new je.a(Fn(s),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(h,b){return s[h.idx].timestamp-s[b.idx].timestamp||h.score-b.score}}).search(a.query).map(function(u){return u.item}):s}],eventsApiParams:[function(a){return[a.sessionPlayerData]},function(a){var n,t,s,u=(n=a.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,h=(t=a.metadata.segments.slice(-1).pop())===null||t===void 0?void 0:t.endTimeEpochMs;if(!(!(a==null||(s=a.person)===null||s===void 0)&&s.id)||!u||!h)return null;var b=6e4;return{person_id:a.person.id,after:we.a.utc(u).subtract(b,"ms").format(),before:we.a.utc(h).add(b,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(a){return[a.sessionPlayerData]},function(a){var n,t,s=[];return a==null||(n=a.metadata)===null||n===void 0||(t=n.segments)===null||t===void 0||t.forEach(function(u){var h;a==null||(h=a.snapshotsByWindowId[u.windowId])===null||h===void 0||h.forEach(function(b){if(b.type===6&&b.data.plugin===Yn&&b.timestamp>=u.startTimeEpochMs&&b.timestamp<=u.endTimeEpochMs){var C,j,D=b.data.payload,H=D.level,z=D.payload,U=D.trace,me=z==null||(C=z.map)===null||C===void 0?void 0:C.call(z,function(ye){return ye.startsWith('"')&&ye.endsWith('"')?ye.slice(1,-1):ye}).join(" "),le,ge;if(U&&U.length>0){var Oe=U[0].split("(").slice(-1)[0].replace(")",""),ze=Oe.split(":"),Se=ze.slice(-2).join(":");if(ge=ze.slice(0,-2).join(":"),ze.length>=4)try{var Ve=new URL(ge).pathname.split("/").slice(-1)[0];le="".concat(Ve,":").concat(Se)}catch(ye){le=":".concat(Se)}else le=":".concat(Se)}s.push({playerPosition:at(b.timestamp,u.windowId,a==null||(j=a.metadata)===null||j===void 0?void 0:j.startAndEndTimesByWindowId),parsedTraceURL:ge,parsedTraceString:le,parsedPayload:me,level:H})}})}),s}],areAllSnapshotsLoaded:[function(a){return[a.sessionPlayerData]},function(a){var n,t;return(a==null?void 0:a.bufferedTo)&&(a==null||(n=a.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&Zt()(a==null||(t=a.metadata)===null||t===void 0?void 0:t.segments.slice(-1)[0].endPlayerPosition,a==null?void 0:a.bufferedTo)}]},urlToAction:function(n){var t=n.actions,s=n.values,u=n.cache,h=function(C,j,D){var H=j.source,z=D.sessionRecordingId;H&&Object.values(Ee.d).includes(H)&&t.setSource(H),s&&z&&z!==s.sessionRecordingId&&(u.startTime=performance.now(),t.loadRecordingMeta(z),t.loadRecordingSnapshots(z))};return{"/recordings":h,"/person/*":h,"/insights/*":h}}});function Tn(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=wn(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var s=0,u=function(){};return{s:u,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(D){throw D},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,b=!1,C;return{s:function(){t=a[Symbol.iterator]()},n:function(){var D=t.next();return h=D.done,D},e:function(D){b=!0,C=D},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(b)throw C}}}}function wn(a,n){if(!!a){if(typeof a=="string")return an(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return an(a,n)}}function an(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=a[t];return s}var rn=[.5,1,2,4,8,16],Lt=Object(L.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[Ee.f],values:[mn,["sessionRecordingId","sessionPlayerData"]],actions:[mn,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:t}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(t,s){var u=s.frame;return u}}],player:[null,{setPlayer:function(t,s){var u=s.player;return u}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(t,s){var u=s.playerPosition;return u}}],currentSegment:[null,{setCurrentSegment:function(t,s){var u=s.segment;return u}}],speed:[1,{persist:!0},{setSpeed:function(t,s){var u=s.speed;return u}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(t,s){var u=s.skipInactivitySetting;return u}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(t,s){var u=s.isSkippingInactivity;return u}}],scale:[1,{setScale:function(t,s){var u=s.scale;return u}}],playingState:[Ne.C.PLAY,{setPlay:function(){return Ne.C.PLAY},setPause:function(){return Ne.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(a){return[a.playingState,a.isBuffering,a.isScrubbing,a.isSkippingInactivity]},function(a,n,t,s){return t?a:n?Ne.C.BUFFER:s&&a!==Ne.C.PAUSE?Ne.C.SKIP:a}],currentPlayerTime:[function(a){return[a.currentPlayerPosition,a.sessionPlayerData]},function(a,n){var t;if((n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments)&&a){var s;return jt(a,n==null||(s=n.metadata)===null||s===void 0?void 0:s.segments)}return 0}],jumpTimeMs:[function(a){return[a.speed]},function(a){return 10*1e3*a}]},listeners:function(n){var t=n.values,s=n.actions,u=n.cache;return{setRootFrame:function(){s.tryInitReplayer()},tryInitReplayer:function(){var b,C,j=(b=(C=t.currentPlayerPosition)===null||C===void 0?void 0:C.windowId)!==null&&b!==void 0?b:null;if(s.setPlayer(null),t.rootFrame&&(t.rootFrame.innerHTML=""),!t.rootFrame||j===null||!t.sessionPlayerData.snapshotsByWindowId[j]||t.sessionPlayerData.snapshotsByWindowId[j].length<2){s.setPlayer(null);return}var D=new $e.a(t.sessionPlayerData.snapshotsByWindowId[j],{root:t.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});s.setPlayer({replayer:D,windowId:j})},setPlayer:function(b){var C=b.player;C&&(s.seek(t.currentPlayerPosition),s.syncPlayerSpeed())},setCurrentSegment:function(b){var C=b.segment;if(!C.isActive&&t.skipInactivitySetting?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1),t.player&&t.player.windowId!==C.windowId){var j,D;(j=t.player)===null||j===void 0||(D=j.replayer)===null||D===void 0||D.pause(),s.tryInitReplayer()}s.seek(t.currentPlayerPosition)},setSkipInactivitySetting:function(b){var C,j=b.skipInactivitySetting;Ee.f.actions.reportRecordingPlayerSkipInactivityToggled(j),!(!((C=t.currentSegment)===null||C===void 0)&&C.isActive)&&j?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1)},setSkippingInactivity:function(){s.syncPlayerSpeed()},syncPlayerSpeed:function(){if(t.isSkippingInactivity){var b,C,j,D,H,z,U,me=(((b=(C=t.currentSegment)===null||C===void 0||(j=C.endPlayerPosition)===null||j===void 0?void 0:j.time)!==null&&b!==void 0?b:0)-((D=(H=t.currentPlayerPosition)===null||H===void 0?void 0:H.time)!==null&&D!==void 0?D:0))/1e3,le=Math.max(50,me);(z=t.player)===null||z===void 0||(U=z.replayer)===null||U===void 0||U.setConfig({speed:le})}else{var ge,Oe;(ge=t.player)===null||ge===void 0||(Oe=ge.replayer)===null||Oe===void 0||Oe.setConfig({speed:t.speed})}},checkBufferingCompleted:function(){t.currentPlayerPosition&&t.sessionPlayerData.bufferedTo&&t.currentPlayerState===Ne.C.BUFFER&&Tt(t.currentPlayerPosition,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)<0&&(s.endBuffer(),s.seek(t.currentPlayerPosition))},initializePlayerFromStart:function(){var b,C,j=(b=t.sessionPlayerData)===null||b===void 0||(C=b.metadata)===null||C===void 0?void 0:C.segments[0];j&&(s.setCurrentSegment(j),s.setCurrentPlayerPosition(j.startPlayerPosition),t.player||s.tryInitReplayer())},loadRecordingMetaSuccess:function(){var h=q()(pe.a.mark(function C(j,D){return pe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:s.initializePlayerFromStart(),s.checkBufferingCompleted(),D();case 3:case"end":return z.stop()}},C)}));function b(C,j){return h.apply(this,arguments)}return b}(),loadRecordingSnapshotsSuccess:function(){var h=q()(pe.a.mark(function C(j,D){var H,z,U,me,le,ge,Oe,ze,Se,Ve,ye,P,T,M;return pe.a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(ge=(H=(z=t.player)===null||z===void 0||(U=z.replayer)===null||U===void 0?void 0:U.service.state.context.events)!==null&&H!==void 0?H:[],Oe=[],((me=t.currentSegment)===null||me===void 0?void 0:me.windowId)!==void 0&&Oe.push.apply(Oe,k()(((ze=t.sessionPlayerData.snapshotsByWindowId[(Se=t.currentSegment)===null||Se===void 0?void 0:Se.windowId])!==null&&ze!==void 0?ze:[]).slice(ge.length))),!(!((le=t.player)===null||le===void 0)&&le.replayer)){J.next=23;break}Ve=Tn(Oe),J.prev=5,Ve.s();case 7:if((ye=Ve.n()).done){J.next=13;break}return M=ye.value,J.next=11,(P=t.player)===null||P===void 0||(T=P.replayer)===null||T===void 0?void 0:T.addEvent(M);case 11:J.next=7;break;case 13:J.next=18;break;case 15:J.prev=15,J.t0=J.catch(5),Ve.e(J.t0);case 18:return J.prev=18,Ve.f(),J.finish(18);case 21:J.next=24;break;case 23:s.initializePlayerFromStart();case 24:s.checkBufferingCompleted(),D();case 26:case"end":return J.stop()}},C,null,[[5,15,18,21]])}));function b(C,j){return h.apply(this,arguments)}return b}(),setPlay:function(){var b;s.stopAnimation(),s.syncPlayerSpeed();var C=t.currentPlayerPosition||((b=t.currentSegment)===null||b===void 0?void 0:b.startPlayerPosition);C&&s.seek(C,!0)},setPause:function(){var b,C;s.stopAnimation(),s.syncPlayerSpeed(),(b=t.player)===null||b===void 0||(C=b.replayer)===null||C===void 0||C.pause()},startBuffer:function(){s.stopAnimation()},startScrub:function(){s.stopAnimation()},setSpeed:function(b){var C=b.speed;Ee.f.actions.reportRecordingPlayerSpeedChanged(C),s.syncPlayerSpeed()},seek:function(){var h=q()(pe.a.mark(function C(j,D){var H,z,U,me,le,ge,Oe,ze,Se,Ve,ye,P,T;return pe.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:U=j.playerPosition,me=j.forcePlay,s.stopAnimation(),s.setCurrentPlayerPosition(U),le=null,U&&((H=t.sessionPlayerData)===null||H===void 0?void 0:H.metadata)&&(le=Ye(U,t.sessionPlayerData.metadata.segments),le&&(le.windowId!==((ge=t.currentSegment)===null||ge===void 0?void 0:ge.windowId)||le.startTimeEpochMs!==((Oe=t.currentSegment)===null||Oe===void 0?void 0:Oe.startTimeEpochMs))&&s.setCurrentSegment(le)),!(!((z=t.sessionPlayerData)===null||z===void 0)&&z.bufferedTo)||!U||!t.currentSegment||Tt(U,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0?((ze=t.player)===null||ze===void 0||(Se=ze.replayer)===null||Se===void 0||Se.pause(),s.startBuffer()):!me&&t.currentPlayerState===Ne.C.PAUSE?((Ve=t.player)===null||Ve===void 0||(ye=Ve.replayer)===null||ye===void 0||ye.pause(U.time),s.endBuffer()):((P=t.player)===null||P===void 0||(T=P.replayer)===null||T===void 0||T.play(U.time),s.updateAnimation(),s.endBuffer()),D();case 7:case"end":return _.stop()}},C)}));function b(C,j){return h.apply(this,arguments)}return b}(),seekForward:function(){if(t.currentPlayerPosition){var b=jt(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(b!==null){var C=b+t.jumpTimeMs,j=Ge(C,t.sessionPlayerData.metadata.segments);j||(s.setPause(),j=t.sessionPlayerData.metadata.segments[0].startPlayerPosition),s.seek(j)}}},seekBackward:function(){if(t.currentPlayerPosition){var b=jt(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(b!==null){var C=Math.max(b-t.jumpTimeMs,0),j=Ge(C,t.sessionPlayerData.metadata.segments);s.seek(j)}}},togglePlayPause:function(){t.currentPlayerState!==Ne.C.BUFFER&&(t.currentPlayerState===Ne.C.PAUSE?s.setPlay():s.setPause())},updateAnimation:function(){var b,C,j,D,H=(b=t.player)===null||b===void 0||(C=b.replayer)===null||C===void 0?void 0:C.getCurrentTime(),z=null;if(H!==void 0&&t.currentSegment&&(z={windowId:t.currentSegment.windowId,time:Math.min(H,t.currentSegment.endPlayerPosition.time)}),z&&((j=t.currentSegment)===null||j===void 0?void 0:j.endPlayerPosition)&&Tt(z,(D=t.currentSegment)===null||D===void 0?void 0:D.endPlayerPosition,t.sessionPlayerData.metadata.segments)>=0){var U=t.sessionPlayerData.metadata.segments.indexOf(t.currentSegment)+1;if(U<t.sessionPlayerData.metadata.segments.length){var me=t.sessionPlayerData.metadata.segments[U];s.setCurrentPlayerPosition(me.startPlayerPosition),s.setCurrentSegment(me)}else s.setPause(),s.setCurrentPlayerPosition(t.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!t.sessionPlayerData.bufferedTo||!z||!t.currentSegment||Tt(z,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0){var le,ge;(le=t.player)===null||le===void 0||(ge=le.replayer)===null||ge===void 0||ge.pause(),s.startBuffer()}else s.setCurrentPlayerPosition(z),u.timer=requestAnimationFrame(s.updateAnimation)},stopAnimation:function(){u.timer&&cancelAnimationFrame(u.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(Nt.b)("md")}},events:function(n){var t=n.values,s=n.actions;return{beforeUnmount:function(){var h,b;(h=t.player)===null||h===void 0||(b=h.replayer)===null||b===void 0||b.pause(),s.setPlayer(null)}}}}),Bn=e("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Un=e("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function _t(a){var n=a.children,t=a.onClick,s=t===void 0?function(){}:t,u=a.className,h=u===void 0?"":u;return m.a.createElement("div",{onClick:s,className:"rrweb-controller-icon ".concat(h)},n)}function Cn(a){var n=a.onClick,t=a.time;return m.a.createElement(_t,{onClick:n,className:"rrweb-controller-icon-seek"},m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:"seek-seconds"},t),m.a.createElement(Bn.a,{className:"seek-icon",rotate:90})))}function Vt(a){var n=a.onClick,t=a.time;return m.a.createElement(_t,{onClick:n,className:"rrweb-controller-icon-seek"},m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:"seek-seconds"},t),m.a.createElement(Un.a,{className:"seek-icon",rotate:270})))}function ut(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return m.a.createElement(_t,{onClick:n,className:s},m.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Rt(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return m.a.createElement(_t,{onClick:n,className:s},m.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function qt(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return m.a.createElement(_t,{onClick:n,className:s},m.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function pn(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return m.a.createElement(_t,{onClick:n,className:s},m.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function Jn(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return m.a.createElement(_t,{onClick:n,className:s},m.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Cn.displayName="IconSeekBack",Cn.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Cn.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(a){}try{Vt.displayName="IconSeekForward",Vt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:Vt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(a){}try{ut.displayName="IconPlay",ut.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:ut.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(a){}try{Rt.displayName="IconPause",Rt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Rt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(a){}try{qt.displayName="IconFullscreen",qt.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:qt.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(a){}try{pn.displayName="IconStepForward",pn.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:pn.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(a){}try{Jn.displayName="IconStepBackward",Jn.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:Jn.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(a){}var fn=m.a.forwardRef(function(n,t){var s=Object(se.useRef)(),u=Object(L.useValues)(Lt),h=u.currentPlayerState,b=u.player,C=Object(L.useActions)(Lt),j=C.togglePlayPause,D=C.setScale,H=t;Object(se.useEffect)(function(){if(!!b)return b.replayer.on("resize",U),window.addEventListener("resize",z),function(){return window.removeEventListener("resize",z)}},[b==null?void 0:b.replayer]);var z=function(){U(s.current)},U=function(ge){var Oe;if(!(!ge||!(!(H==null||(Oe=H.current)===null||Oe===void 0)&&Oe.parentElement)||!(b!=null&&b.replayer))){s.current=ge;var ze=H.current.parentElement.getBoundingClientRect(),Se=ze.width,Ve=ze.height,ye=Math.min(Se/ge.width,Ve/ge.height,1);b.replayer.wrapper.style.transform="scale(".concat(ye,")"),H.current.style.paddingLeft="".concat((Se-ge.width*ye)/2,"px"),H.current.style.paddingTop="".concat((Ve-ge.height*ye)/2,"px"),H.current.style.marginBottom="-".concat(Ve-ge.height*ye,"px"),D(ye)}},me=function(){return h===Ne.C.BUFFER?m.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):h===Ne.C.PAUSE?m.a.createElement("div",{className:"rrweb-overlay"},m.a.createElement(ut,{className:"rrweb-overlay-play-icon"})):h===Ne.C.SKIP?m.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return m.a.createElement("div",{className:"rrweb-player",onClick:j},m.a.createElement("div",{ref:t}),m.a.createElement("div",{className:"rrweb-overlay-container"},me()))});try{fn.displayName="PlayerFrame",fn.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:fn.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(a){}var In=e("./node_modules/antd/es/select/index.js"),oa=e("./node_modules/antd/es/switch/index.js"),ca=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),sa=e.n(ca),Ln={};Ln.insert="head",Ln.singleton=!1;var Rn=Q()(sa.a,Ln),Gn=sa.a.locals||{},Nn=e("./node_modules/clsx/dist/clsx.m.js"),Vn=Object(L.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[Lt,["sessionPlayerData","currentPlayerPosition"],mn,["eventsToShow"]],actions:[Lt,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,t){return{thumbLeftPos:n,shouldSeek:t}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:t}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-pt,{setThumbLeftPos:function(n,t){var s=t.thumbLeftPos;return s}}],cursorDiff:[0,{setCursorDiff:function(n,t){var s=t.cursorDiff;return s}}],slider:[null,{setSlider:function(n,t){var s=t.ref;return s.current}}],thumb:[null,{setThumb:function(n,t){var s=t.ref;return s.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(a){return[a.sessionPlayerData]},function(a){var n,t;if((a==null?void 0:a.bufferedTo)&&(a==null||(n=a.metadata)===null||n===void 0?void 0:n.segments)&&(a==null||(t=a.metadata)===null||t===void 0?void 0:t.recordingDurationMs)){var s,u=(s=jt(a.bufferedTo,a.metadata.segments))!==null&&s!==void 0?s:0;return 100*u/a.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(a){return[a.thumbLeftPos,a.slider,a.sessionPlayerData]},function(a,n,t){var s;return a&&n&&(t==null||(s=t.metadata)===null||s===void 0?void 0:s.recordingDurationMs)?(a+pt)/n.offsetWidth*t.metadata.recordingDurationMs:0}]},listeners:function(n){var t=n.values,s=n.actions;return{setCurrentPlayerPosition:function(){var u=q()(pe.a.mark(function b(){var C,j,D,H;return pe.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(t.slider){U.next=2;break}return U.abrupt("return");case 2:(!t.isSeeking||t.currentPlayerPosition===((C=t.sessionPlayerData)===null||C===void 0||(j=C.metadata)===null||j===void 0||(D=j.segments[0])===null||D===void 0?void 0:D.startPlayerPosition))&&(H=t.currentPlayerPosition?B(t.currentPlayerPosition,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs):0,s.setThumbLeftPos(H-pt,!1));case 3:case"end":return U.stop()}},b)}));function h(){return u.apply(this,arguments)}return h}(),setThumbLeftPos:function(h){var b,C=h.thumbLeftPos,j=h.shouldSeek;if(!!t.slider&&j&&((b=t.sessionPlayerData)===null||b===void 0?void 0:b.metadata)){var D=_e(C+pt,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs);s.seek(D)}},handleSeek:function(){var u=q()(pe.a.mark(function b(C){var j,D,H,z,U;return pe.a.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return H=C.newX,z=C.shouldSeek,U=(j=(D=t.slider)===null||D===void 0?void 0:D.offsetWidth)!==null&&j!==void 0?j:0,le.next=4,s.setThumbLeftPos(Object(te.m)(H,0,U)-pt,z);case 4:s.endSeeking();case 5:case"end":return le.stop()}},b)}));function h(b){return u.apply(this,arguments)}return h}(),handleMove:function(){var u=q()(pe.a.mark(function b(C){var j,D;return pe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(j=C.event,t.slider){z.next=3;break}return z.abrupt("return");case 3:s.startScrub(),D=ft(j)-t.cursorDiff-t.slider.getBoundingClientRect().left,s.handleSeek(D,!1);case 6:case"end":return z.stop()}},b)}));function h(b){return u.apply(this,arguments)}return h}(),handleUp:function(h){var b=h.event;if(!!t.slider){var C=ft(b)-t.cursorDiff-t.slider.getBoundingClientRect().left;s.handleSeek(C),s.endScrub(),document.removeEventListener("touchmove",s.handleMove),document.removeEventListener("touchend",s.handleUp),document.removeEventListener("mousemove",s.handleMove),document.removeEventListener("mouseup",s.handleUp)}},handleDown:function(h){var b=h.event;if(!!t.thumb){s.startScrub();var C=ft(b),j=C-t.thumb.getBoundingClientRect().left-pt;Math.abs(j)>ht&&(j=0),s.setCursorDiff(j),document.addEventListener("touchmove",s.handleMove),document.addEventListener("touchend",s.handleUp),document.addEventListener("mousemove",s.handleMove),document.addEventListener("mouseup",s.handleUp)}},handleTickClick:function(h){var b=h.playerPosition;t.isSeeking||s.handleSeek(B(b,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var t=n.actions,s=n.values,u=n.cache;return{afterMount:function(){u.setCurrentPlayerPosition=function(){t.setCurrentPlayerPosition(s.currentPlayerPosition)},window.addEventListener("resize",u.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",u.setCurrentPlayerPosition)}}}});function Mn(a){var n=a.event,t=Object(se.useState)(!1),s=ue()(t,2),u=s[0],h=s[1],b=Object(L.useActions)(Vn),C=b.handleTickClick,j=Object(L.useActions)(Ee.f),D=j.reportRecordingPlayerSeekbarEventHovered;return m.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(z){z.stopPropagation(),C(n.playerPosition)},onMouseEnter:function(z){z.stopPropagation(),h(!0),D()},onMouseLeave:function(z){z.stopPropagation(),h(!1)}},m.a.createElement("div",{className:Object(Nn.a)("tick-info",{show:u})},n.event),m.a.createElement("div",{className:"tick-marker"}),m.a.createElement("div",{className:Object(Nn.a)("tick-thumb",{big:u})}))}function Kn(){var a,n,t=Object(se.useRef)(null),s=Object(se.useRef)(null),u=Object(L.useActions)(Vn),h=u.handleDown,b=u.setSlider,C=u.setThumb,j=Object(L.useValues)(mn),D=j.eventsToShow,H=j.sessionPlayerData,z=Object(L.useValues)(Vn),U=z.thumbLeftPos,me=z.bufferPercent;return Object(se.useEffect)(function(){t.current&&s.current&&(b(t),C(s))},[t.current,s.current]),m.a.createElement("div",{className:"rrweb-controller-slider"},m.a.createElement("div",{className:"slider",ref:t,onMouseDown:h,onTouchStart:h},m.a.createElement("div",{className:"inactivity-bar"},H==null||(a=H.metadata)===null||a===void 0||(n=a.segments)===null||n===void 0?void 0:n.map(function(le){return m.a.createElement("div",{key:"".concat(le.windowId,"-").concat(le.startTimeEpochMs),className:Object(Nn.a)("activity-section",!le.isActive&&"inactive-section"),style:{width:"".concat(100*le.durationMs/H.metadata.recordingDurationMs,"%")}})})),m.a.createElement("div",{className:"slider-bar"}),m.a.createElement("div",{className:"thumb",ref:s,style:{transform:"translateX(".concat(U,"px)")}}),m.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(U,0),"px")}}),m.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(me,"% - 2px)")}})),m.a.createElement("div",{className:"ticks"},D.map(function(le){return m.a.createElement(Mn,{key:le.id,event:le})})))}var gn=e("./node_modules/antd/es/tooltip/index.js");function _n(){var a,n,t,s=Object(L.useActions)(Lt),u=s.seekBackward,h=s.seekForward,b=Object(L.useValues)(Lt),C=b.jumpTimeMs,j=b.currentPlayerTime,D=b.sessionPlayerData,H=Object(L.useValues)(Vn),z=H.isScrubbing,U=H.scrubbingTime;return m.a.createElement(m.a.Fragment,null,m.a.createElement(gn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(C/1e3,"s (\u2190 left arrow)")},m.a.createElement("span",null,m.a.createElement(Cn,{onClick:u,time:C/1e3}))),m.a.createElement(gn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(C/1e3,"s (\u2192 right arrow)")},m.a.createElement("span",null,m.a.createElement(Vt,{onClick:h,time:C/1e3}))),m.a.createElement("div",{className:"rrweb-timestamp"},Object(te.o)(((a=z?U:j)!==null&&a!==void 0?a:0)/1e3)," /"," ",Object(te.o)(Math.floor(((n=D==null||(t=D.metadata)===null||t===void 0?void 0:t.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function Dn(){var a=Object(L.useActions)(Lt),n=a.togglePlayPause,t=a.setSpeed,s=a.setSkipInactivitySetting,u=Object(L.useValues)(Lt),h=u.currentPlayerState,b=u.speed,C=u.isSmallScreen,j=u.skipInactivitySetting;return m.a.createElement("div",{className:"rrweb-controller"},m.a.createElement("span",null,h===Ne.C.PLAY?m.a.createElement(Rt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):m.a.createElement(ut,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!C&&m.a.createElement(_n,null),m.a.createElement("div",{className:"rrweb-progress"},m.a.createElement(Kn,null)),m.a.createElement(In.a,{onChange:function(H){return t(H)},value:b,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},m.a.createElement(In.a.OptGroup,{label:"Speed"},rn.map(function(D){return m.a.createElement(In.a.Option,{key:D,value:D},D,"x")}))),m.a.createElement("div",{onClick:function(){s(!j)},className:"rrweb-inactivity-toggle"},m.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),m.a.createElement(oa.a,{checked:j,size:"small"})))}var ia=e("./node_modules/core-js/modules/es.symbol.js"),qn=e("./node_modules/core-js/modules/es.symbol.description.js"),ea=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),Xn=e.n(ea),ta={};ta.insert="head",ta.singleton=!1;var E=Q()(Xn.a,ta),O=Xn.a.locals||{},I=e("./node_modules/antd/es/empty/index.js"),A=e("./node_modules/antd/es/row/index.js"),Y=e("./node_modules/antd/es/col/index.js"),de=e("./node_modules/antd/es/skeleton/index.js"),oe=e("./node_modules/antd/es/input/index.js"),K=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),he=e("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),W=e("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),tt=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),wt=e("./node_modules/react-virtualized/dist/es/List/index.js"),St=e("./node_modules/react-virtualized/dist/es/Grid/index.js"),lt=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),mt=e("./node_modules/core-js/modules/es.array.find-index.js");function Z(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),t.push.apply(t,s)}return t}function Sn(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Z(Object(t),!0).forEach(function(s){Te()(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}var Wn=65,Qn=50,na=150*5,gt=Object(L.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[Ee.f],actions:[mn,["setFilters","loadEventsSuccess"],Lt,["seek"]],values:[mn,["eventsToShow","sessionEventsDataLoading"],Lt,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,t){var s=t.filters;return Sn(Sn({},n),s)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,t){var s=t.renderMeta;return s}}],list:[null,{setList:function(n,t){var s=t.list;return s}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var t=n.actions,s=n.values;return{setLocalFilters:function(){var u=q()(pe.a.mark(function b(C,j){return pe.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,j(250);case 2:t.setFilters(s.localFilters);case 3:case"end":return H.stop()}},b)}));function h(b,C){return u.apply(this,arguments)}return h}(),scrollTo:function(){var u=q()(pe.a.mark(function b(C,j){var D,H;return pe.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return D=C.rowIndex,H=D!=null?D:s.currentEventsIndices.startIndex,s.list&&(s.list.scrollToPosition(s.list.getOffsetForRow({alignment:"center",index:H})),Ee.f.actions.reportRecordingScrollTo(H)),U.next=5,j(na);case 5:t.enablePositionFinder();case 6:case"end":return U.stop()}},b)}));function h(b,C){return u.apply(this,arguments)}return h}(),handleEventClick:function(h){var b=h.playerPosition;b&&t.seek(b)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(t){var s;return Sn(Sn({},t),{},{colonTimestamp:Object(te.o)(Math.floor(((s=t.playerTime)!==null&&s!==void 0?s:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,t){var s;if(n.length<1)return{start:0,end:0};var u=n.findIndex(function(C){var j;return((j=C.playerTime)!==null&&j!==void 0?j:0)>=Object(te.k)(t!=null?t:0)}),h=Math.max(Object(te.k)(t!=null?t:0),1e3),b=Object(te.E)((s=n[Object(te.m)(u===-1?n.length-1:u-1,0,n.length-1)].playerTime)!==null&&s!==void 0?s:0);return{start:b,end:h}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,t){return function(s){var u,h,b,C;return((u=t==null||(h=t[s])===null||h===void 0?void 0:h.playerTime)!==null&&u!==void 0?u:0)>=n.start&&((b=t==null||(C=t[s])===null||C===void 0?void 0:C.playerTime)!==null&&b!==void 0?b:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,t){return{startIndex:Object(te.m)(n.findIndex(function(s,u){return t(u)}),0,n.length-1),stopIndex:Object(te.m)(Object(te.C)(n,function(s,u){return t(u)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,t){if(!t||!t.Grid||n.startIndex>=t.Grid.props.rowCount||n.stopIndex>t.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var s=t.Grid.state,u=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,h=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:u,height:h.offset+h.size-u}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(t){return t>=n.overscanStartIndex&&t<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,t,s){return!s&&(n.stopIndex<t.startIndex||n.startIndex>t.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,t){return n.startIndex>t.stopIndex}]}}}),zn=e("./frontend/src/lib/components/icons.tsx");function aa(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),t.push.apply(t,s)}return t}function At(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?aa(Object(t),!0).forEach(function(s){Te()(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):aa(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function dn(a){var n=a.cellCount,t=a.overscanCellsCount,s=a.startIndex,u=a.stopIndex,h=Math.floor(t/2),b=t-h;return{overscanStartIndex:Math.max(0,s-h),overscanStopIndex:Math.min(n-1,u+b)}}var kt=function(n){return n.event==="$pageview"?m.a.createElement(zn.PageviewIcon,null):n.event==="$pageleave"?m.a.createElement(zn.PageleaveIcon,null):n.event==="$autocapture"?m.a.createElement(zn.AutocaptureIcon,null):m.a.createElement(zn.EventIcon,null)};function en(){return m.a.createElement("div",{className:"event-list-empty-container"},m.a.createElement(I.a,{image:I.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function jn(a){var n=a.description,t=Object(se.useRef)(null);return m.a.createElement("span",{className:Object(Nn.a)("event-item-content-subtitle",Object(te.U)(t.current)&&"overflowing"),title:n},m.a.createElement("div",{className:"inner",ref:t},n))}function vn(){var a=Object(se.useRef)(null),n=Object(L.useValues)(gt),t=n.localFilters,s=n.listEvents,u=n.currentEventsBoxSizeAndPosition,h=n.showPositionFinder,b=n.isRowIndexRendered,C=n.isEventCurrent,j=n.isDirectionUp,D=n.renderedRows,H=Object(L.useValues)(mn),z=H.sessionEventsDataLoading,U=Object(L.useActions)(gt),me=U.setLocalFilters,le=U.setRenderedRows,ge=U.setList,Oe=U.scrollTo,ze=U.disablePositionFinder,Se=U.handleEventClick;Object(se.useEffect)(function(){a!=null&&a.current&&ge(a.current)},[a.current]);var Ve=Object(se.useCallback)(function(T){var M=T.index,_=T.style,J=T.key,G=s[M],ce=Object(re.d)(G.event,"event"),Re=C(M);return m.a.createElement(A.a,{key:J,className:Object(Nn.a)("event-list-item",{"current-event":Re}),align:"top",style:At(At({},_),{},{zIndex:s.length-M}),onClick:function(){Se(G.playerPosition)}},m.a.createElement(Y.a,{className:"event-item-icon"},m.a.createElement("div",{className:"event-item-icon-wrapper"},kt(G))),m.a.createElement(Y.a,{className:Object(Nn.a)("event-item-content",{rendering:!b(M)})},m.a.createElement(A.a,{className:"event-item-content-top-row"},m.a.createElement(re.b,{className:"event-item-content-title",value:G.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),m.a.createElement("span",{className:"event-item-content-timestamp"},G.colonTimestamp)),ce&&m.a.createElement(jn,{description:Object(te.j)(Object(te.B)(G,!0))}),m.a.createElement(de.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[s.length,D.startIndex,D.stopIndex,u.top,u.height]),ye=Object(se.useCallback)(function(T){var M=Object(St.c)(T);return s.length>0&&M.push(m.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:u.height,transform:"translateY(".concat(u.top,"px)")}})),M},[u.top,u.height,z,s.length]);return m.a.createElement(Y.a,{className:"player-events-container"},m.a.createElement(oe.a,{prefix:m.a.createElement(K.a,null),placeholder:"Search for events",value:t.query,onChange:function(T){return me({query:T.target.value})}}),m.a.createElement(Y.a,{className:"event-list"},z?m.a.createElement(te.b,null):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Object(Nn.a)("current-events-position-finder",{visible:h})},m.a.createElement(A.a,{className:"left",align:"middle",wrap:!1,onClick:function(){Oe()}},j?m.a.createElement(he.a,null):m.a.createElement(W.a,null),"Jump to current time"),m.a.createElement(A.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){ze()}},m.a.createElement(tt.a,null))),m.a.createElement(lt.a,null,function(P){var T=P.height,M=P.width;return m.a.createElement(wt.b,{ref:a,className:"event-list-virtual",height:T,width:M,onRowsRendered:le,noRowsRenderer:en,cellRangeRenderer:ye,overscanRowCount:Qn,overscanIndicesGetter:dn,rowCount:s.length,rowRenderer:Ve,rowHeight:Wn})}))))}var hn=e("./node_modules/antd/es/tabs/index.js"),da=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),ma=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),la=e.n(ma),ya={};ya.insert="head",ya.singleton=!1;var Hn=Q()(la.a,ya),ba=la.a.locals||{},yn=e("./node_modules/antd/es/space/index.js"),pa=e("./frontend/src/lib/components/ProfilePicture/index.ts"),xa=e("./frontend/src/scenes/persons/PersonHeader.tsx"),fa=e("./node_modules/core-js/modules/es.array.filter.js"),Ca=e("./node_modules/core-js/modules/es.array.some.js"),Pa=function(n,t){return t.some(function(s){var u;return!(!(n==null||(u=n.properties)===null||u===void 0)&&u[s])})?null:t.map(function(s){var u;return n==null||(u=n.properties)===null||u===void 0?void 0:u[s]}).join(", ")},Ea=Object(L.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[mn,["sessionPlayerData"],Lt,["currentPlayerPosition","scale"]],actions:[mn,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(a){return[a.sessionPlayerData]},function(a){return a==null?void 0:a.person}],description:[function(a){return[a.sessionPerson]},function(a){var n=Pa(a,["$geoip_city_name","$geoip_country_code"]),t=Pa(a,["$browser","$os"]);return[t,n].filter(function(s){return s}).join(" \xB7 ")}],resolution:[function(a){return[a.sessionPlayerData,a.currentPlayerPosition]},function(a,n){var t,s;if(!n)return null;var u=(t=a.snapshotsByWindowId[n.windowId])!==null&&t!==void 0?t:[],h=(s=dt(n,a.metadata.startAndEndTimesByWindowId))!==null&&s!==void 0?s:0,b=Object(te.C)(u,function(j){return j.timestamp<h&&"width"in j.data});if(b===-1)return null;var C=u[b];return{width:C.data.width,height:C.data.height}}],recordingStartTime:[function(a){return[a.sessionPlayerData]},function(a){var n,t;return a==null||(n=a.metadata)===null||n===void 0||(t=n.segments[0])===null||t===void 0?void 0:t.startTimeEpochMs}]}}),va=e("./frontend/src/scenes/funnels/funnelUtils.ts"),ua=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function Sa(){var a,n=Object(L.useValues)(Ea),t=n.sessionPerson,s=n.description,u=n.resolution,h=n.scale,b=n.recordingStartTime,C=n.loading;return m.a.createElement(Y.a,{className:"player-meta-container"},m.a.createElement(A.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},m.a.createElement(A.a,{className:"player-meta-person-title",align:"middle",wrap:!1},C?m.a.createElement(yn.b,null,m.a.createElement(de.a.Avatar,{active:!0,size:"small",shape:"circle"}),m.a.createElement(de.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):m.a.createElement(m.a.Fragment,null,m.a.createElement(pa.a,{name:t==null?void 0:t.name,email:t==null||(a=t.properties)===null||a===void 0?void 0:a.$email,size:"md",style:{marginRight:"0.5rem"}}),m.a.createElement("span",{className:"email"},m.a.createElement(xa.a,{person:t,withIcon:!1})))),m.a.createElement(Y.a,null,C?m.a.createElement(de.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):m.a.createElement("span",{className:"time text-muted"},b&&m.a.createElement(ua.b,{time:Object(we.a)(b)})))),m.a.createElement(A.a,{className:"player-meta-other",align:"middle",justify:"start"},m.a.createElement(A.a,{className:"player-meta-other-description"},C?m.a.createElement(de.a,{title:!1,active:!0,paragraph:{rows:1}}):m.a.createElement("span",null,s)),m.a.createElement(A.a,{className:"player-meta-other-resolution mt-05"},C?m.a.createElement(de.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):m.a.createElement("span",null,u?m.a.createElement(m.a.Fragment,null,"Resolution: ",u.width," x ",u.height," (",Object(va.c)(h),"%)"):m.a.createElement(m.a.Fragment,null,"Resolution: ...")))))}var Ta=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Oa=e.n(Ta),ga={};ga.insert="head",ga.singleton=!1;var Ia=Q()(Oa.a,ga),f=Oa.a.locals||{},p=e("./frontend/src/lib/components/LemonButton/index.ts"),x=e("./frontend/src/lib/components/Spinner/Spinner.tsx");function g(){var a=Object(L.useValues)(mn),n=a.orderedConsoleLogs,t=a.areAllSnapshotsLoaded,s=Object(L.useActions)(Ee.f),u=s.reportRecordingConsoleFeedback,h=Object(L.useActions)(Lt),b=h.seek,C=Object(se.useState)(!1),j=ue()(C,2),D=j[0],H=j[1],z=function(me,le){return m.a.createElement("div",{className:"log-line level-".concat(me.level),key:le,onClick:function(){b(me.playerPosition)}},m.a.createElement("div",{className:"trace-string"},me.parsedTraceURL?m.a.createElement("a",{className:"text-muted",href:me.parsedTraceURL,target:"_blank"},me.parsedTraceString):m.a.createElement("span",{className:"text-muted"},me.parsedTraceString)),m.a.createElement("p",{className:"log-text"},me.parsedPayload))};return m.a.createElement("div",{className:"console-log-container"},m.a.createElement("div",{className:"console-log"},t?n.length>0?m.a.createElement(lt.a,null,function(U){var me=U.height,le=U.width;return m.a.createElement("div",{style:{height:me,width:le,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(ge,Oe){return z(ge,Oe)}),m.a.createElement("div",null,n.length>150&&m.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):m.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},m.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),m.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",m.a.createElement("code",null,"posthog-js"),"."),m.a.createElement(p.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):m.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},m.a.createElement(x.a,{size:"lg"}))),m.a.createElement("div",{className:"console-feedback-container"},m.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),D?m.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):m.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(U,me){return m.a.createElement(p.a,{type:"secondary",key:me,style:{margin:"0 8px"},onClick:function(){H(!0),u(n.length,U[0],"Are you finding the console log feature useful?")}},U[1])}))))}var d=e("./frontend/src/lib/components/Tooltip.tsx");function v(){var a=Object(L.useActions)(Lt),n=a.togglePlayPause,t=a.seekForward,s=a.seekBackward,u=a.setSpeed,h=a.setRootFrame,b=Object(L.useValues)(Lt),C=b.isSmallScreen,j=Object(se.useRef)(null);Object(se.useEffect)(function(){j.current&&h(j.current)},[j]);var D=function(z){var U;if(!(!((U=z.target)===null||U===void 0)&&U.matches("input")))if(z.key===" ")n(),z.preventDefault();else if(z.key==="ArrowLeft")s();else if(z.key==="ArrowRight")t();else for(var me=0;me<rn.length;me++)z.key===(me+1).toString()&&u(rn[me])};return m.a.createElement(Y.a,{className:"session-player-v2",onKeyDown:D,tabIndex:0,flex:1},m.a.createElement(A.a,{className:"session-player-body",wrap:!1},m.a.createElement("div",{className:"player-container ph-no-capture"},m.a.createElement(fn,{ref:j})),!C&&m.a.createElement(l,null)),m.a.createElement(A.a,{className:"player-controller",align:"middle"},m.a.createElement(Dn,null)),C&&m.a.createElement(l,null))}var i=hn.a.TabPane;function l(){var a=Object(L.useValues)(Yt.a),n=a.featureFlags,t=Object(L.useValues)(mn),s=t.orderedConsoleLogs,u=Object(L.useActions)(Ee.f),h=u.reportRecordingConsoleViewed,b=n[zt.n.SESSION_CONSOLE];return m.a.createElement(Y.a,{className:"player-sidebar"},m.a.createElement("div",{className:"player-meta"},m.a.createElement(Sa,null)),m.a.createElement("div",{className:"player-events"},b?m.a.createElement(hn.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(j){j==="console"&&h(s.length)}},m.a.createElement(i,{tab:"Events",key:"events"},m.a.createElement(vn,null)),m.a.createElement(i,{tab:m.a.createElement("div",null,"Console (beta)",m.a.createElement(d.a,{title:"While console logs are in beta, only 150 logs are displayed."},m.a.createElement(da.a,{style:{marginLeft:6}}))),key:"console"},m.a.createElement(g,null))):m.a.createElement(vn,null)))}var c=e("./node_modules/antd/es/button/index.js"),y=e("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function w(a){var n=a.isPersonPage,t=n===void 0?!1:n,s=a.onClose;return m.a.createElement(Ke.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:s,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},m.a.createElement(Y.a,{style:{height:"100vh"}},m.a.createElement(A.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},m.a.createElement(c.a,{type:"link",onClick:s},m.a.createElement(y.a,null)," Back to ",t?"persons":"recordings"),m.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:s},m.a.createElement(zn.IconClose,null))),m.a.createElement(A.a,{className:"session-drawer-body"},m.a.createElement(v,null))))}try{w.displayName="SessionPlayerDrawer",w.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:w.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(a){}},"./frontend/src/scenes/trends/PersonsModal.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return Pe});var se=e("./node_modules/core-js/modules/es.array.concat.js"),m=e("./node_modules/core-js/modules/es.array.find.js"),Ke=e("./node_modules/core-js/modules/es.array.map.js"),He=e("./node_modules/core-js/modules/es.object.keys.js"),R=e("./node_modules/core-js/modules/es.object.to-string.js"),qe=e("./node_modules/core-js/modules/es.regexp.exec.js"),Q=e("./node_modules/core-js/modules/es.regexp.to-string.js"),ie=e("./node_modules/core-js/modules/es.string.replace.js"),r=e("./node_modules/react/index.js"),S=e.n(r),it=e("./node_modules/kea/lib/index.esm.js"),X=e("./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js"),L=e("./node_modules/@ant-design/icons/es/icons/UsergroupAddOutlined.js"),st=e("./node_modules/antd/es/modal/index.js"),Ue=e("./node_modules/antd/es/button/index.js"),be=e("./node_modules/antd/es/skeleton/index.js"),ee=e("./node_modules/antd/es/input/index.js"),F=e("./node_modules/antd/es/select/index.js"),k=e("./frontend/src/types.ts"),We=e("./frontend/src/scenes/trends/personsModalLogic.ts"),pe=e("./frontend/src/lib/components/CopyToClipboard.tsx"),Ae=e("./frontend/src/lib/utils.tsx"),ke=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),q=e.n(ke),$e=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss"),Ee=e.n($e),Ne={};Ne.insert="head",Ne.singleton=!1;var Nt=q()(Ee.a,Ne),De=Ee.a.locals||{},Et=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),N=e("./frontend/src/lib/components/PropertiesTable.tsx"),Ot=e("./frontend/src/lib/components/DateDisplay/index.tsx"),ve=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Kt=e("./frontend/src/lib/api.ts"),o=e("./frontend/src/lib/components/LemonTable/index.ts"),$t=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),It=e("./frontend/src/lib/components/icons.tsx"),Mt=e("./frontend/src/lib/components/InsightLabel/index.tsx"),V=e("./frontend/src/lib/colors.ts"),Wt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),ct=e("./frontend/src/lib/constants.tsx"),Ht=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),Pt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),vt=e.n(Pt),Bt=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),ne=e("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),Te=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Fe=e("./frontend/src/lib/components/Popup/Popup.tsx"),ue=e("./frontend/src/lib/components/Link.tsx"),je=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss"),Me=e.n(je),te={};te.insert="head",te.singleton=!1;var xt=q()(Me.a,te),re=Me.a.locals||{};function we(Qe){var ae=Qe.sessionRecordings,Le=Qe.onOpenRecording,ht=Object(r.useState)(!1),pt=vt()(ht,2),Ce=pt[0],Xe=pt[1],ft=ae.length===1,Tt=Object(r.useCallback)(function(Ye){var jt=Ye.setRef,Ge=Ye.children;return ft?S.a.createElement("div",{ref:jt},S.a.createElement(ue.a,{onClick:function(dt){dt.stopPropagation(),Le(ae[0])}},Ge)):S.a.createElement("div",{ref:jt,onClick:function(dt){dt.stopPropagation(),Xe(function(_e){return!_e})}},Ge)},[ae,Xe]);return S.a.createElement(Fe.a,{visible:Ce,placement:"bottom-end",fallbackPlacements:["top-end"],className:"session-recordings-popup",overlay:ae.map(function(Ye,jt){return S.a.createElement(ue.a,{key:Ye.session_id,onClick:function(at){at.stopPropagation(),Xe(!1),Le(Ye)}},S.a.createElement("div",{className:"session-recordings-popup-row"},S.a.createElement(Bt.a,null),"Recording ",jt+1))}),onClickOutside:function(){Xe(!1)}},function(Ye){var jt=Ye.setRef;return S.a.createElement(Tt,{setRef:jt},S.a.createElement(Ue.a,{className:"session-recordings-button","data-attr":"session-recordings-button",icon:S.a.createElement(Bt.a,null)},"Watch recording",ft?S.a.createElement(ne.a,null):S.a.createElement(Te.a,null)))})}try{we.displayName="MultiRecordingButton",we.__docgenInfo={description:"",displayName:"MultiRecordingButton",props:{sessionRecordings:{defaultValue:null,description:"",name:"sessionRecordings",required:!0,type:{name:"MatchedRecording[]"}},onOpenRecording:{defaultValue:null,description:"",name:"onOpenRecording",required:!0,type:{name:"(sessionRecording: MatchedRecording) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"]={docgenInfo:we.__docgenInfo,name:"MultiRecordingButton",path:"frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"})}catch(Qe){}function Pe(Qe){var ae,Le,ht,pt,Ce,Xe,ft=Qe.visible,Tt=Qe.view,Ye=Qe.filters,jt=Qe.onSaveCohort,Ge=Qe.showModalActions,at=Ge===void 0?!0:Ge,dt=Qe.aggregationTargetLabel,_e=Object(it.useValues)(We.b),B=_e.people,yt=_e.loadingMorePeople,rt=_e.firstLoadedPeople,Zt=_e.searchTerm,Yt=_e.isInitialLoad,zt=_e.peopleParams,bn=_e.actorLabel,Ut=_e.sessionRecordingId,nn=Object(it.useActions)(We.b),Be=nn.hidePeople,un=nn.loadMorePeople,xn=nn.setFirstLoadedActors,Yn=nn.setPersonsModalFilters,Pn=nn.setSearchTerm,En=nn.switchToDataPoint,Fn=nn.openRecordingModal,mn=nn.closeRecordingModal,Tn=Object(it.useValues)(Wt.a),wn=Tn.featureFlags,an=Object(r.useMemo)(function(){var Vt,ut,Rt;return Yt?"Loading ".concat(dt.plural,"\u2026"):Ye.shown_as==="Stickiness"?S.a.createElement(S.a.Fragment,null,S.a.createElement(Et.b,{value:(B==null?void 0:B.label)||"",disablePopover:!0})," stickiness on day ",B==null?void 0:B.day):Ye.display==="ActionsBarValue"||Ye.display==="ActionsPie"?S.a.createElement(Et.b,{value:(B==null?void 0:B.label)||"",disablePopover:!0}):Ye.insight===k.s.FUNNELS?S.a.createElement(S.a.Fragment,null,((Vt=B==null?void 0:B.funnelStep)!==null&&Vt!==void 0?Vt:0)>=0?"Completed":"Dropped off at"," step"," ",Math.abs((ut=B==null?void 0:B.funnelStep)!==null&&ut!==void 0?ut:0)," \u2022 ",S.a.createElement(Et.b,{value:(B==null?void 0:B.label)||"",disablePopover:!0})," ",B!=null&&B.breakdown_value?"\u2022 ".concat(B.breakdown_value):""):Ye.insight===k.s.PATHS?S.a.createElement(S.a.Fragment,null,B!=null&&B.pathsDropoff?"Dropped off after":"Completed"," step"," ",S.a.createElement(Et.b,{value:(B==null?void 0:B.label.replace(/(^[0-9]+_)/,""))||"",disablePopover:!0})):S.a.createElement(S.a.Fragment,null,Object(Ae.j)(bn)," list on"," ",S.a.createElement(Ot.a,{interval:Ye.interval||"day",date:(B==null||(Rt=B.day)===null||Rt===void 0?void 0:Rt.toString())||""}))},[Ye,B,Yt]),rn=wn[ct.n.NEW_INSIGHT_COHORTS],Lt=!1,Bn=(Tt===k.s.TRENDS||Tt===k.s.STICKINESS||!!rn&&(Tt===k.s.FUNNELS||Tt===k.s.PATHS))&&at,Un=Object(V.c)("white",B==null||(ae=B.crossDataset)===null||ae===void 0?void 0:ae.length),_t=!!(!(B==null||(Le=B.crossDataset)===null||Le===void 0)&&Le.find(function(Vt){var ut=Vt.action;return(ut==null?void 0:ut.math)&&ut.math!=="total"})),Cn=!!(!(B==null||(ht=B.crossDataset)===null||ht===void 0)&&ht.find(function(Vt){var ut=Vt.action;return ut==null?void 0:ut.order}));return S.a.createElement(S.a.Fragment,null,!!Ut&&S.a.createElement(Ht.a,{onClose:mn}),S.a.createElement(st.a,{title:an,visible:ft,onCancel:Be,footer:B&&B.count>0&&(Lt||Bn)&&S.a.createElement(S.a.Fragment,null,Lt&&S.a.createElement(Ue.a,{icon:S.a.createElement(X.a,null),href:Kt.a.actions.determinePeopleCsvUrl({label:B.label,action:B.action,date_from:B.day,date_to:B.day,breakdown_value:B.breakdown_value},Ye),style:{marginRight:8},"data-attr":"person-modal-download-csv"},"Download CSV"),Bn&&S.a.createElement(Ue.a,{onClick:jt,icon:S.a.createElement(L.a,null),"data-attr":"person-modal-save-as-cohort"},"Save as cohort")),width:600,className:"person-modal"},Yt?S.a.createElement("div",{style:{padding:16}},S.a.createElement(be.a,{active:!0})):B&&S.a.createElement(S.a.Fragment,null,S.a.createElement(ee.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for persons by email, name, or ID",onChange:function(ut){Pn(ut.target.value),ut.target.value||xn(rt)},value:Zt,onSearch:function(ut){return ut?Yn(ut,B,Ye):xn(rt)}}),wn[ct.n.MULTI_POINT_PERSON_MODAL]&&!!(!((pt=B.crossDataset)===null||pt===void 0)&&pt.length)&&B.seriesId!==void 0&&S.a.createElement("div",{className:"data-point-selector"},S.a.createElement(F.a,{value:B.seriesId,onChange:function(ut){return En(ut)}},B.crossDataset.map(function(Vt){var ut,Rt;return S.a.createElement(F.a.Option,{value:Vt.id,key:"".concat((ut=Vt.action)===null||ut===void 0?void 0:ut.id).concat(Vt.breakdown_value)},S.a.createElement(Mt.b,{seriesColor:Un[Vt.id],action:Vt.action,breakdownValue:Vt.breakdown_value===""?"None":(Rt=Vt.breakdown_value)===null||Rt===void 0?void 0:Rt.toString(),showCountedByTag:_t,hasMultipleSeries:Cn}))}))),S.a.createElement("div",{className:"user-count-subheader"},S.a.createElement(It.IconPersonFilled,{style:{fontSize:"1.125rem",marginRight:"0.5rem"}}),S.a.createElement("span",null,"This list contains"," ",S.a.createElement("b",null,B.count," unique ",dt.plural),(zt==null?void 0:zt.pointValue)!==void 0&&(!(!((Ce=zt.action)===null||Ce===void 0)&&Ce.math)||((Xe=zt.action)===null||Xe===void 0?void 0:Xe.math)==="total")&&S.a.createElement(S.a.Fragment,null," ","who performed the event"," ",S.a.createElement("b",null,zt.pointValue," total"," ",Object(Ae.qb)(zt.pointValue,"time",void 0,!1))),".")),B.count>0?S.a.createElement(o.a,{columns:[{title:"Person",key:"person",render:function(ut,Rt){return S.a.createElement(et,{actor:Rt})}},{width:0,title:"Recordings",key:"recordings",render:function(ut,Rt){var qt,pn;if(((qt=Rt.matched_recordings)===null||qt===void 0?void 0:qt.length)&&((pn=Rt.matched_recordings)===null||pn===void 0?void 0:pn.length)>0)return S.a.createElement(we,{sessionRecordings:Rt.matched_recordings,onOpenRecording:function(fn){Fn(fn.session_id)}})}}],className:"persons-table",rowKey:"id",expandable:{expandedRowRender:function(ut){var Rt=ut.properties;return Object.keys(Rt).length?S.a.createElement(N.a,{properties:Rt}):"This person has no properties."}},embedded:!0,showHeader:!1,dataSource:B.people,nouns:["person","persons"]}):S.a.createElement("div",{className:"person-row-container person-row"},"We couldn't find any matching ",dt.plural," for this data point."),(B==null?void 0:B.next)&&S.a.createElement("div",{style:{margin:"1rem",textAlign:"center"}},S.a.createElement(Ue.a,{type:"primary",style:{color:"white"},onClick:un,loading:yt},"Load more ",dt.plural)))))}function et(Qe){var ae=Qe.actor;return Object(Ae.W)(ae)?S.a.createElement("div",{key:ae.id,className:"person-row"},S.a.createElement("div",{className:"person-ids"},S.a.createElement("strong",null,S.a.createElement($t.a,{actor:ae})))):S.a.createElement("div",{key:ae.id,className:"person-ids"},S.a.createElement("strong",null,S.a.createElement(ve.a,{person:ae,withIcon:!1})),S.a.createElement(pe.a,{explicitValue:ae.distinct_ids[0],iconStyle:{color:"var(--primary)"},iconPosition:"end",className:"text-small text-muted-alt"},Object(Ae.kb)(ae.distinct_ids[0],32)))}try{Pe.displayName="PersonsModal",Pe.__docgenInfo={description:"",displayName:"PersonsModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onSaveCohort:{defaultValue:null,description:"",name:"onSaveCohort",required:!0,type:{name:"() => void"}},showModalActions:{defaultValue:{value:"true"},description:"",name:"showModalActions",required:!1,type:{name:"boolean"}},aggregationTargetLabel:{defaultValue:null,description:"",name:"aggregationTargetLabel",required:!0,type:{name:"{ singular: string; plural: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"]={docgenInfo:Pe.__docgenInfo,name:"PersonsModal",path:"frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"})}catch(Qe){}try{et.displayName="ActorRow",et.__docgenInfo={description:"",displayName:"ActorRow",props:{actor:{defaultValue:null,description:"",name:"actor",required:!0,type:{name:"ActorType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"]={docgenInfo:et.__docgenInfo,name:"ActorRow",path:"frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"})}catch(Qe){}},"./frontend/src/scenes/trends/SaveCohortModal.tsx":function(xe,$,e){"use strict";e.d($,"a",function(){return Q});var se=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=e.n(se),Ke=e("./node_modules/react/index.js"),He=e.n(Ke),R=e("./node_modules/antd/es/modal/index.js"),qe=e("./node_modules/antd/es/input/index.js");function Q(ie){var r=ie.onOk,S=ie.onCancel,it=ie.visible,X=Object(Ke.useState)(""),L=m()(X,2),st=L[0],Ue=L[1];return He.a.createElement(R.a,{title:"New Cohort",okText:"Save",cancelText:"Cancel",onOk:function(){r(st),Ue("")},onCancel:S,visible:it},He.a.createElement("div",{className:"mb"},He.a.createElement(qe.a,{required:!0,autoFocus:!0,placeholder:"Cohort name...",value:st,"data-attr":"cohort-name",onChange:function(ee){return Ue(ee.target.value)}})))}try{Q.displayName="SaveCohortModal",Q.__docgenInfo={description:"",displayName:"SaveCohortModal",props:{onOk:{defaultValue:null,description:"",name:"onOk",required:!0,type:{name:"(title: string) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"]={docgenInfo:Q.__docgenInfo,name:"SaveCohortModal",path:"frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"})}catch(ie){}},"./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js":function(xe,$,e){"use strict";var se=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),m=e("./node_modules/react/index.js"),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},He=Ke,R=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),qe=function(r,S){return m.createElement(R.a,Object(se.a)(Object(se.a)({},r),{},{ref:S,icon:He}))};qe.displayName="BarChartOutlined";var Q=$.a=m.forwardRef(qe)},"./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js":function(xe,$,e){"use strict";var se=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),m=e("./node_modules/react/index.js"),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},He=Ke,R=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),qe=function(r,S){return m.createElement(R.a,Object(se.a)(Object(se.a)({},r),{},{ref:S,icon:He}))};qe.displayName="DownloadOutlined";var Q=$.a=m.forwardRef(qe)},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(xe,$,e){"use strict";var se=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),m=e("./node_modules/react/index.js"),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},He=Ke,R=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),qe=function(r,S){return m.createElement(R.a,Object(se.a)(Object(se.a)({},r),{},{ref:S,icon:He}))};qe.displayName="OrderedListOutlined";var Q=$.a=m.forwardRef(qe)},"./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js":function(xe,$,e){"use strict";var se=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),m=e("./node_modules/react/index.js"),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},He=Ke,R=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),qe=function(r,S){return m.createElement(R.a,Object(se.a)(Object(se.a)({},r),{},{ref:S,icon:He}))};qe.displayName="PercentageOutlined";var Q=$.a=m.forwardRef(qe)},"./node_modules/antd/es/slider/index.js":function(xe,$,e){"use strict";var se=e("./node_modules/@babel/runtime/helpers/esm/typeof.js"),m=e("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),Ke=e("./node_modules/@babel/runtime/helpers/esm/extends.js"),He=e("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),R=e("./node_modules/react/index.js"),qe=e.n(R),Q=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ie=e("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=e("./node_modules/@babel/runtime/helpers/esm/createClass.js"),S=e("./node_modules/@babel/runtime/helpers/esm/inherits.js"),it=e("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),X={};function L(f,p){}function st(f,p){}function Ue(){X={}}function be(f,p,x){!p&&!X[x]&&(f(!1,x),X[x]=!0)}function ee(f,p){be(L,f,p)}function F(f,p){be(st,f,p)}var k=ee,We=function(p){var x,g,d=p.className,v=p.included,i=p.vertical,l=p.style,c=p.length,y=p.offset,w=p.reverse;c<0&&(w=!w,c=Math.abs(c),y=100-y);var a=i?(x={},Object(m.a)(x,w?"top":"bottom","".concat(y,"%")),Object(m.a)(x,w?"bottom":"top","auto"),Object(m.a)(x,"height","".concat(c,"%")),x):(g={},Object(m.a)(g,w?"right":"left","".concat(y,"%")),Object(m.a)(g,w?"left":"right","auto"),Object(m.a)(g,"width","".concat(c,"%")),g),n=Object(Q.a)(Object(Q.a)({},l),a);return v?qe.a.createElement("div",{className:d,style:n}):null},pe=We,Ae=e("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),ke=e("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),q=e("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");function $e(f,p){for(;!Object.prototype.hasOwnProperty.call(f,p)&&(f=Object(q.a)(f),f!==null););return f}function Ee(f,p,x){return typeof Reflect!="undefined"&&Reflect.get?Ee=Reflect.get:Ee=function(d,v,i){var l=$e(d,v);if(!!l){var c=Object.getOwnPropertyDescriptor(l,v);return c.get?c.get.call(i):c.value}},Ee(f,p,x||f)}var Ne=e("./node_modules/react-dom/index.js"),Nt=e.n(Ne);function De(f,p,x,g){var d=Nt.a.unstable_batchedUpdates?function(i){Nt.a.unstable_batchedUpdates(x,i)}:x;return f.addEventListener&&f.addEventListener(p,d,g),{remove:function(){f.removeEventListener&&f.removeEventListener(p,d)}}}var Et=e("./node_modules/classnames/index.js"),N=e.n(Et),Ot=function(p,x,g,d,v,i){k(g?d>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var l=Object.keys(x).map(parseFloat).sort(function(y,w){return y-w});if(g&&d)for(var c=v;c<=i;c+=d)l.indexOf(c)===-1&&l.push(c);return l},ve=function(p){var x=p.prefixCls,g=p.vertical,d=p.reverse,v=p.marks,i=p.dots,l=p.step,c=p.included,y=p.lowerBound,w=p.upperBound,a=p.max,n=p.min,t=p.dotStyle,s=p.activeDotStyle,u=a-n,h=Ot(g,v,i,l,n,a).map(function(b){var C,j="".concat(Math.abs(b-n)/u*100,"%"),D=!c&&b===w||c&&b<=w&&b>=y,H=g?Object(Q.a)(Object(Q.a)({},t),{},Object(m.a)({},d?"top":"bottom",j)):Object(Q.a)(Object(Q.a)({},t),{},Object(m.a)({},d?"right":"left",j));D&&(H=Object(Q.a)(Object(Q.a)({},H),s));var z=N()((C={},Object(m.a)(C,"".concat(x,"-dot"),!0),Object(m.a)(C,"".concat(x,"-dot-active"),D),Object(m.a)(C,"".concat(x,"-dot-reverse"),d),C));return qe.a.createElement("span",{className:z,style:H,key:b})});return qe.a.createElement("div",{className:"".concat(x,"-step")},h)},Kt=ve,o=function(p){var x=p.className,g=p.vertical,d=p.reverse,v=p.marks,i=p.included,l=p.upperBound,c=p.lowerBound,y=p.max,w=p.min,a=p.onClickLabel,n=Object.keys(v),t=y-w,s=n.map(parseFloat).sort(function(u,h){return u-h}).map(function(u){var h,b=v[u],C=Object(se.a)(b)==="object"&&!qe.a.isValidElement(b),j=C?b.label:b;if(!j&&j!==0)return null;var D=!i&&u===l||i&&u<=l&&u>=c,H=N()((h={},Object(m.a)(h,"".concat(x,"-text"),!0),Object(m.a)(h,"".concat(x,"-text-active"),D),h)),z=Object(m.a)({marginBottom:"-50%"},d?"top":"bottom","".concat((u-w)/t*100,"%")),U=Object(m.a)({transform:"translateX(".concat(d?"50%":"-50%",")"),msTransform:"translateX(".concat(d?"50%":"-50%",")")},d?"right":"left","".concat((u-w)/t*100,"%")),me=g?z:U,le=C?Object(Q.a)(Object(Q.a)({},me),b.style):me;return qe.a.createElement("span",{className:H,style:le,key:u,onMouseDown:function(Oe){return a(Oe,u)},onTouchStart:function(Oe){return a(Oe,u)}},j)});return qe.a.createElement("div",{className:x},s)},$t=o,It=["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"],Mt=function(f){Object(S.a)(x,f);var p=Object(it.a)(x);function x(){var g;Object(ie.a)(this,x);for(var d=arguments.length,v=new Array(d),i=0;i<d;i++)v[i]=arguments[i];return g=p.call.apply(p,[this].concat(v)),g.state={clickFocused:!1},g.onMouseUpListener=void 0,g.handle=void 0,g.setHandleRef=function(l){g.handle=l},g.handleMouseUp=function(){document.activeElement===g.handle&&g.setClickFocus(!0)},g.handleMouseDown=function(l){l.preventDefault(),g.focus()},g.handleBlur=function(){g.setClickFocus(!1)},g.handleKeyDown=function(){g.setClickFocus(!1)},g}return Object(r.a)(x,[{key:"componentDidMount",value:function(){this.onMouseUpListener=De(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(d){this.setState({clickFocused:d})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var d,v,i=this.props,l=i.prefixCls,c=i.vertical,y=i.reverse,w=i.offset,a=i.style,n=i.disabled,t=i.min,s=i.max,u=i.value,h=i.tabIndex,b=i.ariaLabel,C=i.ariaLabelledBy,j=i.ariaValueTextFormatter,D=Object(Ae.a)(i,It),H=N()(this.props.className,Object(m.a)({},"".concat(l,"-handle-click-focused"),this.state.clickFocused)),z=c?(d={},Object(m.a)(d,y?"top":"bottom","".concat(w,"%")),Object(m.a)(d,y?"bottom":"top","auto"),Object(m.a)(d,"transform",y?null:"translateY(+50%)"),d):(v={},Object(m.a)(v,y?"right":"left","".concat(w,"%")),Object(m.a)(v,y?"left":"right","auto"),Object(m.a)(v,"transform","translateX(".concat(y?"+":"-","50%)")),v),U=Object(Q.a)(Object(Q.a)({},a),z),me=h||0;(n||h===null)&&(me=null);var le;return j&&(le=j(u)),qe.a.createElement("div",Object(Ke.a)({ref:this.setHandleRef,tabIndex:me},D,{className:H,style:U,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":u,"aria-disabled":!!n,"aria-label":b,"aria-labelledby":C,"aria-valuetext":le}))}}]),x}(qe.a.Component),V={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(p){var x=p.keyCode;if(p.altKey&&!p.ctrlKey||p.metaKey||x>=V.F1&&x<=V.F12)return!1;switch(x){case V.ALT:case V.CAPS_LOCK:case V.CONTEXT_MENU:case V.CTRL:case V.DOWN:case V.END:case V.ESC:case V.HOME:case V.INSERT:case V.LEFT:case V.MAC_FF_META:case V.META:case V.NUMLOCK:case V.NUM_CENTER:case V.PAGE_DOWN:case V.PAGE_UP:case V.PAUSE:case V.PRINT_SCREEN:case V.RIGHT:case V.SHIFT:case V.UP:case V.WIN_KEY:case V.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(p){if(p>=V.ZERO&&p<=V.NINE||p>=V.NUM_ZERO&&p<=V.NUM_MULTIPLY||p>=V.A&&p<=V.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&p===0)return!0;switch(p){case V.SPACE:case V.QUESTION_MARK:case V.NUM_PLUS:case V.NUM_MINUS:case V.NUM_PERIOD:case V.NUM_DIVISION:case V.SEMICOLON:case V.DASH:case V.EQUALS:case V.COMMA:case V.PERIOD:case V.SLASH:case V.APOSTROPHE:case V.SINGLE_QUOTE:case V.OPEN_SQUARE_BRACKET:case V.BACKSLASH:case V.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Wt=V;function ct(f,p){try{return Object.keys(p).some(function(x){return f.target===Object(Ne.findDOMNode)(p[x])})}catch(x){return!1}}function Ht(f,p){var x=p.min,g=p.max;return f<x||f>g}function Pt(f){return f.touches.length>1||f.type.toLowerCase()==="touchend"&&f.touches.length>0}function vt(f,p){var x=p.marks,g=p.step,d=p.min,v=p.max,i=Object.keys(x).map(parseFloat);if(g!==null){var l=Math.pow(10,Bt(g)),c=Math.floor((v*l-d*l)/(g*l)),y=Math.min((f-d)/g,c),w=Math.round(y)*g+d;i.push(w)}var a=i.map(function(n){return Math.abs(f-n)});return i[a.indexOf(Math.min.apply(Math,Object(ke.a)(a)))]}function Bt(f){var p=f.toString(),x=0;return p.indexOf(".")>=0&&(x=p.length-p.indexOf(".")-1),x}function ne(f,p){return f?p.clientY:p.pageX}function Te(f,p){return f?p.touches[0].clientY:p.touches[0].pageX}function Fe(f,p){var x=p.getBoundingClientRect();return f?x.top+x.height*.5:window.pageXOffset+x.left+x.width*.5}function ue(f,p){var x=p.max,g=p.min;return f<=g?g:f>=x?x:f}function je(f,p){var x=p.step,g=isFinite(vt(f,p))?vt(f,p):0;return x===null?g:parseFloat(g.toFixed(Bt(x)))}function Me(f){f.stopPropagation(),f.preventDefault()}function te(f,p,x){var g={increase:function(l,c){return l+c},decrease:function(l,c){return l-c}},d=g[f](Object.keys(x.marks).indexOf(JSON.stringify(p)),1),v=Object.keys(x.marks)[d];return x.step?g[f](p,x.step):!!Object.keys(x.marks).length&&!!x.marks[v]?x.marks[v]:p}function xt(f,p,x){var g="increase",d="decrease",v=g;switch(f.keyCode){case Wt.UP:v=p&&x?d:g;break;case Wt.RIGHT:v=!p&&x?d:g;break;case Wt.DOWN:v=p&&x?g:d;break;case Wt.LEFT:v=!p&&x?g:d;break;case Wt.END:return function(i,l){return l.max};case Wt.HOME:return function(i,l){return l.min};case Wt.PAGE_UP:return function(i,l){return i+l.step*2};case Wt.PAGE_DOWN:return function(i,l){return i-l.step*2};default:return}return function(i,l){return te(v,i,l)}}var re=["index"];function we(){}function Pe(f){var p,x;return x=p=function(g){Object(S.a)(v,g);var d=Object(it.a)(v);function v(i){var l;Object(ie.a)(this,v),l=d.call(this,i),l.handlesRefs=void 0,l.sliderRef=void 0,l.document=void 0,l.dragOffset=void 0,l.prevMovedHandleIndex=void 0,l.onTouchMoveListener=void 0,l.onTouchUpListener=void 0,l.onMouseMoveListener=void 0,l.onMouseUpListener=void 0,l.dragTrack=void 0,l.startBounds=void 0,l.onDown=function(n,t){var s=t,u=l.props,h=u.draggableTrack,b=u.vertical,C=l.state.bounds,j=h&&l.positionGetValue?l.positionGetValue(s)||[]:[],D=ct(n,l.handlesRefs);if(l.dragTrack=h&&C.length>=2&&!D&&!j.map(function(z,U){var me=U?!0:z>=C[U];return U===j.length-1?z<=C[U]:me}).some(function(z){return!z}),l.dragTrack)l.dragOffset=s,l.startBounds=Object(ke.a)(C);else{if(!D)l.dragOffset=0;else{var H=Fe(b,n.target);l.dragOffset=s-H,s=H}l.onStart(s)}},l.onMouseDown=function(n){if(n.button===0){l.removeDocumentEvents();var t=l.props.vertical,s=ne(t,n);l.onDown(n,s),l.addDocumentMouseEvents()}},l.onTouchStart=function(n){if(!Pt(n)){var t=l.props.vertical,s=Te(t,n);l.onDown(n,s),l.addDocumentTouchEvents(),Me(n)}},l.onFocus=function(n){var t=l.props,s=t.onFocus,u=t.vertical;if(ct(n,l.handlesRefs)&&!l.dragTrack){var h=Fe(u,n.target);l.dragOffset=0,l.onStart(h),Me(n),s&&s(n)}},l.onBlur=function(n){var t=l.props.onBlur;l.dragTrack||l.onEnd(),t&&t(n)},l.onMouseUp=function(){l.handlesRefs[l.prevMovedHandleIndex]&&l.handlesRefs[l.prevMovedHandleIndex].clickFocus()},l.onMouseMove=function(n){if(!l.sliderRef){l.onEnd();return}var t=ne(l.props.vertical,n);l.onMove(n,t-l.dragOffset,l.dragTrack,l.startBounds)},l.onTouchMove=function(n){if(Pt(n)||!l.sliderRef){l.onEnd();return}var t=Te(l.props.vertical,n);l.onMove(n,t-l.dragOffset,l.dragTrack,l.startBounds)},l.onKeyDown=function(n){l.sliderRef&&ct(n,l.handlesRefs)&&l.onKeyboard(n)},l.onClickMarkLabel=function(n,t){n.stopPropagation(),l.onChange({value:t}),l.setState({value:t},function(){return l.onEnd(!0)})},l.saveSlider=function(n){l.sliderRef=n};var c=i.step,y=i.max,w=i.min,a=isFinite(y-w)?(y-w)%c===0:!0;return k(c&&Math.floor(c)===c?a:!0,"Slider[max] - Slider[min] (".concat(y-w,") should be a multiple of Slider[step] (").concat(c,")")),l.handlesRefs={},l}return Object(r.a)(v,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var l=this.props,c=l.autoFocus,y=l.disabled;c&&!y&&this.focus()}},{key:"componentWillUnmount",value:function(){Ee(Object(q.a)(v.prototype),"componentWillUnmount",this)&&Ee(Object(q.a)(v.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var l=this.sliderRef,c=this.props,y=c.vertical,w=c.reverse,a=l.getBoundingClientRect();return y?w?a.bottom:a.top:window.pageXOffset+(w?a.right:a.left)}},{key:"getSliderLength",value:function(){var l=this.sliderRef;if(!l)return 0;var c=l.getBoundingClientRect();return this.props.vertical?c.height:c.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=De(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=De(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=De(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=De(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var l;this.props.disabled||(l=this.handlesRefs[0])===null||l===void 0||l.focus()}},{key:"blur",value:function(){var l=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(c){var y,w;(y=l.handlesRefs[c])===null||y===void 0||(w=y.blur)===null||w===void 0||w.call(y)})}},{key:"calcValue",value:function(l){var c=this.props,y=c.vertical,w=c.min,a=c.max,n=Math.abs(Math.max(l,0)/this.getSliderLength()),t=y?(1-n)*(a-w)+w:n*(a-w)+w;return t}},{key:"calcValueByPos",value:function(l){var c=this.props.reverse?-1:1,y=c*(l-this.getSliderStart()),w=this.trimAlignValue(this.calcValue(y));return w}},{key:"calcOffset",value:function(l){var c=this.props,y=c.min,w=c.max,a=(l-y)/(w-y);return Math.max(0,a*100)}},{key:"saveHandle",value:function(l,c){this.handlesRefs[l]=c}},{key:"render",value:function(){var l,c=this.props,y=c.prefixCls,w=c.className,a=c.marks,n=c.dots,t=c.step,s=c.included,u=c.disabled,h=c.vertical,b=c.reverse,C=c.min,j=c.max,D=c.children,H=c.maximumTrackStyle,z=c.style,U=c.railStyle,me=c.dotStyle,le=c.activeDotStyle,ge=Ee(Object(q.a)(v.prototype),"render",this).call(this),Oe=ge.tracks,ze=ge.handles,Se=N()(y,(l={},Object(m.a)(l,"".concat(y,"-with-marks"),Object.keys(a).length),Object(m.a)(l,"".concat(y,"-disabled"),u),Object(m.a)(l,"".concat(y,"-vertical"),h),Object(m.a)(l,w,w),l));return qe.a.createElement("div",{ref:this.saveSlider,className:Se,onTouchStart:u?we:this.onTouchStart,onMouseDown:u?we:this.onMouseDown,onMouseUp:u?we:this.onMouseUp,onKeyDown:u?we:this.onKeyDown,onFocus:u?we:this.onFocus,onBlur:u?we:this.onBlur,style:z},qe.a.createElement("div",{className:"".concat(y,"-rail"),style:Object(Q.a)(Object(Q.a)({},H),U)}),Oe,qe.a.createElement(Kt,{prefixCls:y,vertical:h,reverse:b,marks:a,dots:n,step:t,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:C,dotStyle:me,activeDotStyle:le}),ze,qe.a.createElement($t,{className:"".concat(y,"-mark"),onClickLabel:u?we:this.onClickMarkLabel,vertical:h,marks:a,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:C,reverse:b}),D)}}]),v}(f),p.displayName="ComponentEnhancer(".concat(f.displayName,")"),p.defaultProps=Object(Q.a)(Object(Q.a)({},f.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(d){var v=d.index,i=Object(Ae.a)(d,re);return delete i.dragging,i.value===null?null:qe.a.createElement(Mt,Object(Ke.a)({},i,{key:v}))},onBeforeChange:we,onChange:we,onAfterChange:we,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),x}var et=function(f){Object(S.a)(x,f);var p=Object(it.a)(x);function x(g){var d;Object(ie.a)(this,x),d=p.call(this,g),d.positionGetValue=function(l){return[]},d.startValue=void 0,d.startPosition=void 0,d.prevMovedHandleIndex=void 0,d.onEnd=function(l){var c=d.state.dragging;d.removeDocumentEvents(),(c||l)&&d.props.onAfterChange(d.getValue()),d.setState({dragging:!1})};var v=g.defaultValue!==void 0?g.defaultValue:g.min,i=g.value!==void 0?g.value:v;return d.state={value:d.trimAlignValue(i),dragging:!1},k(!("minimumTrackStyle"in g),"minimumTrackStyle will be deprecated, please use trackStyle instead."),k(!("maximumTrackStyle"in g),"maximumTrackStyle will be deprecated, please use railStyle instead."),d}return Object(r.a)(x,[{key:"calcValueByPos",value:function(d){return 0}},{key:"calcOffset",value:function(d){return 0}},{key:"saveHandle",value:function(d,v){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(d,v){var i=this.props,l=i.min,c=i.max,y=i.value,w=i.onChange;if("min"in this.props||"max"in this.props){var a=y!==void 0?y:v.value,n=this.trimAlignValue(a,this.props);n!==v.value&&(this.setState({value:n}),!(l===d.min&&c===d.max)&&Ht(a,this.props)&&w(n))}}},{key:"onChange",value:function(d){var v=this.props,i=!("value"in v),l=d.value>this.props.max?Object(Q.a)(Object(Q.a)({},d),{},{value:this.props.max}):d;i&&this.setState(l);var c=l.value;v.onChange(c)}},{key:"onStart",value:function(d){this.setState({dragging:!0});var v=this.props,i=this.getValue();v.onBeforeChange(i);var l=this.calcValueByPos(d);this.startValue=l,this.startPosition=d,l!==i&&(this.prevMovedHandleIndex=0,this.onChange({value:l}))}},{key:"onMove",value:function(d,v){Me(d);var i=this.state.value,l=this.calcValueByPos(v);l!==i&&this.onChange({value:l})}},{key:"onKeyboard",value:function(d){var v=this.props,i=v.reverse,l=v.vertical,c=xt(d,l,i);if(c){Me(d);var y=this.state,w=y.value,a=c(w,this.props),n=this.trimAlignValue(a);if(n===w)return;this.onChange({value:n}),this.props.onAfterChange(n),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var d=this.props.startPoint||this.props.min;return this.state.value>d?d:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d===null)return null;var i=Object(Q.a)(Object(Q.a)({},this.props),v),l=ue(d,i);return je(l,i)}},{key:"render",value:function(){var d=this,v=this.props,i=v.prefixCls,l=v.vertical,c=v.included,y=v.disabled,w=v.minimumTrackStyle,a=v.trackStyle,n=v.handleStyle,t=v.tabIndex,s=v.ariaLabelForHandle,u=v.ariaLabelledByForHandle,h=v.ariaValueTextFormatterForHandle,b=v.min,C=v.max,j=v.startPoint,D=v.reverse,H=v.handle,z=this.state,U=z.value,me=z.dragging,le=this.calcOffset(U),ge=H({className:"".concat(i,"-handle"),prefixCls:i,vertical:l,offset:le,value:U,dragging:me,disabled:y,min:b,max:C,reverse:D,index:0,tabIndex:t,ariaLabel:s,ariaLabelledBy:u,ariaValueTextFormatter:h,style:n[0]||n,ref:function(ye){return d.saveHandle(0,ye)}}),Oe=j!==void 0?this.calcOffset(j):0,ze=a[0]||a,Se=qe.a.createElement(pe,{className:"".concat(i,"-track"),vertical:l,included:c,offset:Oe,reverse:D,length:le-Oe,style:Object(Q.a)(Object(Q.a)({},w),ze)});return{tracks:Se,handles:ge}}}]),x}(qe.a.Component),Qe=Pe(et),ae=function(p){var x=p.value,g=p.handle,d=p.bounds,v=p.props,i=v.allowCross,l=v.pushable,c=Number(l),y=ue(x,v),w=y;return!i&&g!=null&&d!==void 0&&(g>0&&y<=d[g-1]+c&&(w=d[g-1]+c),g<d.length-1&&y>=d[g+1]-c&&(w=d[g+1]-c)),je(w,v)},Le=function(f){Object(S.a)(x,f);var p=Object(it.a)(x);function x(g){var d;Object(ie.a)(this,x),d=p.call(this,g),d.startValue=void 0,d.startPosition=void 0,d.prevMovedHandleIndex=void 0,d.internalPointsCache=void 0,d.handlesRefs=void 0,d.dragTrack=void 0,d.positionGetValue=function(t){var s=d.getValue(),u=d.calcValueByPos(t),h=d.getClosestBound(u),b=d.getBoundNeedMoving(u,h),C=s[b];if(u===C)return null;var j=Object(ke.a)(s);return j[b]=u,j},d.onEnd=function(t){var s=d.state.handle;d.removeDocumentEvents(),s||(d.dragTrack=!1),(s!==null||t)&&d.props.onAfterChange(d.getValue()),d.setState({handle:null})};var v=g.count,i=g.min,l=g.max,c=Array.apply(void 0,Object(ke.a)(Array(v+1))).map(function(){return i}),y="defaultValue"in g?g.defaultValue:c,w=g.value!==void 0?g.value:y,a=w.map(function(t,s){return ae({value:t,handle:s,props:g})}),n=a[0]===l?0:a.length-1;return d.state={handle:null,recent:n,bounds:a},d}return Object(r.a)(x,[{key:"calcValueByPos",value:function(d){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(d){return 0}},{key:"saveHandle",value:function(d,v){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(d,v){var i=this,l=this.props,c=l.onChange,y=l.value,w=l.min,a=l.max;if(("min"in this.props||"max"in this.props)&&!(w===d.min&&a===d.max)){var n=y||v.bounds;if(n.some(function(s){return Ht(s,i.props)})){var t=n.map(function(s){return ue(s,i.props)});c(t)}}}},{key:"onChange",value:function(d){var v=this.props,i=!("value"in v);if(i)this.setState(d);else{var l={};["handle","recent"].forEach(function(w){d[w]!==void 0&&(l[w]=d[w])}),Object.keys(l).length&&this.setState(l)}var c=Object(Q.a)(Object(Q.a)({},this.state),d),y=c.bounds;v.onChange(y)}},{key:"onStart",value:function(d){var v=this.props,i=this.state,l=this.getValue();v.onBeforeChange(l);var c=this.calcValueByPos(d);this.startValue=c,this.startPosition=d;var y=this.getClosestBound(c);this.prevMovedHandleIndex=this.getBoundNeedMoving(c,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var w=l[this.prevMovedHandleIndex];if(c!==w){var a=Object(ke.a)(i.bounds);a[this.prevMovedHandleIndex]=c,this.onChange({bounds:a})}}},{key:"onMove",value:function(d,v,i,l){Me(d);var c=this.state,y=this.props,w=y.max||100,a=y.min||0;if(i){var n=y.vertical?-v:v;n=y.reverse?-n:n;var t=w-Math.max.apply(Math,Object(ke.a)(l)),s=a-Math.min.apply(Math,Object(ke.a)(l)),u=Math.min(Math.max(n/(this.getSliderLength()/(w-a)),s),t),h=l.map(function(j){return Math.floor(Math.max(Math.min(j+u,w),a))});c.bounds.map(function(j,D){return j===h[D]}).some(function(j){return!j})&&this.onChange({bounds:h});return}var b=this.calcValueByPos(v),C=c.bounds[c.handle];b!==C&&this.moveTo(b)}},{key:"onKeyboard",value:function(d){var v=this.props,i=v.reverse,l=v.vertical,c=xt(d,l,i);if(c){Me(d);var y=this.state,w=this.props,a=y.bounds,n=y.handle,t=a[n===null?y.recent:n],s=c(t,w),u=ae({value:s,handle:n,bounds:y.bounds,props:w});if(u===t)return;var h=!0;this.moveTo(u,h)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(d){for(var v=this.state.bounds,i=0,l=1;l<v.length-1;l+=1)d>=v[l]&&(i=l);return Math.abs(v[i+1]-d)<Math.abs(v[i]-d)&&(i+=1),i}},{key:"getBoundNeedMoving",value:function(d,v){var i=this.state,l=i.bounds,c=i.recent,y=v,w=l[v+1]===l[v];return w&&l[c]===l[v]&&(y=c),w&&d!==l[v+1]&&(y=d<l[v+1]?v:v+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var d=this.state.bounds;return d[d.length-1]}},{key:"getPoints",value:function(){var d=this.props,v=d.marks,i=d.step,l=d.min,c=d.max,y=this.internalPointsCache;if(!y||y.marks!==v||y.step!==i){var w=Object(Q.a)({},v);if(i!==null)for(var a=l;a<=c;a+=i)w[a]=a;var n=Object.keys(w).map(parseFloat);n.sort(function(t,s){return t-s}),this.internalPointsCache={marks:v,step:i,points:n}}return this.internalPointsCache.points}},{key:"moveTo",value:function(d,v){var i=this,l=this.state,c=this.props,y=Object(ke.a)(l.bounds),w=l.handle===null?l.recent:l.handle;y[w]=d;var a=w;c.pushable!==!1?this.pushSurroundingHandles(y,a):c.allowCross&&(y.sort(function(n,t){return n-t}),a=y.indexOf(d)),this.onChange({recent:a,handle:a,bounds:y}),v&&(this.props.onAfterChange(y),this.setState({},function(){i.handlesRefs[a].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(d,v){var i=d[v],l=this.props.pushable,c=Number(l),y=0;if(d[v+1]-i<c&&(y=1),i-d[v-1]<c&&(y=-1),y!==0){var w=v+y,a=y*(d[w]-i);this.pushHandle(d,w,y,c-a)||(d[v]=d[w]-y*c)}}},{key:"pushHandle",value:function(d,v,i,l){for(var c=d[v],y=d[v];i*(y-c)<l;){if(!this.pushHandleOnePoint(d,v,i))return d[v]=c,!1;y=d[v]}return!0}},{key:"pushHandleOnePoint",value:function(d,v,i){var l=this.getPoints(),c=l.indexOf(d[v]),y=c+i;if(y>=l.length||y<0)return!1;var w=v+i,a=l[y],n=this.props.pushable,t=Number(n),s=i*(d[w]-a);return this.pushHandle(d,w,i,t-s)?(d[v]=a,!0):!1}},{key:"trimAlignValue",value:function(d){var v=this.state,i=v.handle,l=v.bounds;return ae({value:d,handle:i,bounds:l,props:this.props})}},{key:"render",value:function(){var d=this,v=this.state,i=v.handle,l=v.bounds,c=this.props,y=c.prefixCls,w=c.vertical,a=c.included,n=c.disabled,t=c.min,s=c.max,u=c.reverse,h=c.handle,b=c.trackStyle,C=c.handleStyle,j=c.tabIndex,D=c.ariaLabelGroupForHandles,H=c.ariaLabelledByGroupForHandles,z=c.ariaValueTextFormatterGroupForHandles,U=l.map(function(Oe){return d.calcOffset(Oe)}),me="".concat(y,"-handle"),le=l.map(function(Oe,ze){var Se,Ve=j[ze]||0;(n||j[ze]===null)&&(Ve=null);var ye=i===ze;return h({className:N()((Se={},Object(m.a)(Se,me,!0),Object(m.a)(Se,"".concat(me,"-").concat(ze+1),!0),Object(m.a)(Se,"".concat(me,"-dragging"),ye),Se)),prefixCls:y,vertical:w,dragging:ye,offset:U[ze],value:Oe,index:ze,tabIndex:Ve,min:t,max:s,reverse:u,disabled:n,style:C[ze],ref:function(T){return d.saveHandle(ze,T)},ariaLabel:D[ze],ariaLabelledBy:H[ze],ariaValueTextFormatter:z[ze]})}),ge=l.slice(0,-1).map(function(Oe,ze){var Se,Ve=ze+1,ye=N()((Se={},Object(m.a)(Se,"".concat(y,"-track"),!0),Object(m.a)(Se,"".concat(y,"-track-").concat(Ve),!0),Se));return qe.a.createElement(pe,{className:ye,vertical:w,reverse:u,included:a,offset:U[Ve-1],length:U[Ve]-U[Ve-1],style:b[ze],key:Ve})});return{tracks:ge,handles:le}}}],[{key:"getDerivedStateFromProps",value:function(d,v){if(!("value"in d||"min"in d||"max"in d))return null;var i=d.value||v.bounds,l=i.map(function(c,y){return ae({value:c,handle:y,bounds:v.bounds,props:d})});if(v.bounds.length===l.length){if(l.every(function(c,y){return c===v.bounds[y]}))return null}else l=i.map(function(c,y){return ae({value:c,handle:y,props:d})});return Object(Q.a)(Object(Q.a)({},v),{},{bounds:l})}}]),x}(qe.a.Component);Le.displayName="Range",Le.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var ht=Pe(Le),pt=e("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),Ce=function(p){return+setTimeout(p,16)},Xe=function(p){return clearTimeout(p)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(Ce=function(p){return window.requestAnimationFrame(p)},Xe=function(p){return window.cancelAnimationFrame(p)});function ft(f){return Ce(f)}ft.cancel=Xe;function Tt(f,p){return f?f.contains(p):!1}function Ye(f){return f instanceof HTMLElement?f:Nt.a.findDOMNode(f)}var jt=e("./node_modules/react-is/index.js");function Ge(f,p){typeof f=="function"?f(p):Object(se.a)(f)==="object"&&f&&"current"in f&&(f.current=p)}function at(){for(var f=arguments.length,p=new Array(f),x=0;x<f;x++)p[x]=arguments[x];return function(g){p.forEach(function(d){Ge(d,g)})}}function dt(f){var p,x,g=Object(jt.isMemo)(f)?f.type.type:f.type;return!(typeof g=="function"&&!(!((p=g.prototype)===null||p===void 0)&&p.render)||typeof f=="function"&&!(!((x=f.prototype)===null||x===void 0)&&x.render))}function _e(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var B=Object(R.forwardRef)(function(f,p){var x=f.didUpdate,g=f.getContainer,d=f.children,v=Object(R.useRef)();Object(R.useImperativeHandle)(p,function(){return{}});var i=Object(R.useRef)(!1);return!i.current&&_e()&&(v.current=g(),i.current=!0),Object(R.useEffect)(function(){x==null||x(f)}),Object(R.useEffect)(function(){return function(){var l,c;(l=v.current)===null||l===void 0||(c=l.parentNode)===null||c===void 0||c.removeChild(v.current)}},[]),v.current?Nt.a.createPortal(d,v.current):null}),yt=B;function rt(f,p,x){return x?f[0]===p[0]:f[0]===p[0]&&f[1]===p[1]}function Zt(f,p,x){var g=f[p]||{};return Object(Q.a)(Object(Q.a)({},g),x)}function Yt(f,p,x,g){for(var d=x.points,v=Object.keys(f),i=0;i<v.length;i+=1){var l=v[i];if(rt(f[l].points,d,g))return"".concat(p,"-placement-").concat(l)}return""}var zt=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var f=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(f.substr(0,4)))};function bn(f,p){var x={};return x[f.toLowerCase()]=p.toLowerCase(),x["Webkit".concat(f)]="webkit".concat(p),x["Moz".concat(f)]="moz".concat(p),x["ms".concat(f)]="MS".concat(p),x["O".concat(f)]="o".concat(p.toLowerCase()),x}function Ut(f,p){var x={animationend:bn("Animation","AnimationEnd"),transitionend:bn("Transition","TransitionEnd")};return f&&("AnimationEvent"in p||delete x.animationend.animation,"TransitionEvent"in p||delete x.transitionend.transition),x}var nn=Ut(_e(),typeof window!="undefined"?window:{}),Be={};if(_e()){var un=document.createElement("div");Be=un.style}var xn={};function Yn(f){if(xn[f])return xn[f];var p=nn[f];if(p)for(var x=Object.keys(p),g=x.length,d=0;d<g;d+=1){var v=x[d];if(Object.prototype.hasOwnProperty.call(p,v)&&v in Be)return xn[f]=p[v],xn[f]}return""}var Pn=Yn("animationend"),En=Yn("transitionend"),Fn=!!(Pn&&En),mn=Pn||"animationend",Tn=En||"transitionend";function wn(f,p){if(!f)return null;if(Object(se.a)(f)==="object"){var x=p.replace(/-\w/g,function(g){return g[1].toUpperCase()});return f[x]}return"".concat(f,"-").concat(p)}var an="none",rn="appear",Lt="enter",Bn="leave",Un="none",_t="prepare",Cn="start",Vt="active",ut="end";function Rt(f){var p=Object(R.useRef)(!1),x=Object(R.useState)(f),g=Object(He.a)(x,2),d=g[0],v=g[1];function i(l){p.current||v(l)}return Object(R.useEffect)(function(){return function(){p.current=!0}},[]),[d,i]}var qt=_e()?R.useLayoutEffect:R.useEffect,pn=qt,Jn=function(){var f=R.useRef(null);function p(){ft.cancel(f.current)}function x(g){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;p();var v=ft(function(){d<=1?g({isCanceled:function(){return v!==f.current}}):x(g,d-1)});f.current=v}return R.useEffect(function(){return function(){p()}},[]),[x,p]},fn=[_t,Cn,Vt,ut],In=!1,oa=!0;function ca(f){return f===Vt||f===ut}var sa=function(f,p){var x=R.useState(Un),g=Object(He.a)(x,2),d=g[0],v=g[1],i=Jn(),l=Object(He.a)(i,2),c=l[0],y=l[1];function w(){v(_t)}return pn(function(){if(d!==Un&&d!==ut){var a=fn.indexOf(d),n=fn[a+1],t=p(d);t===In?v(n):c(function(s){function u(){s.isCanceled()||v(n)}t===!0?u():Promise.resolve(t).then(u)})}},[f,d]),R.useEffect(function(){return function(){y()}},[]),[w,d]},Ln=function(f){var p=Object(R.useRef)(),x=Object(R.useRef)(f);x.current=f;var g=R.useCallback(function(i){x.current(i)},[]);function d(i){i&&(i.removeEventListener(Tn,g),i.removeEventListener(mn,g))}function v(i){p.current&&p.current!==i&&d(p.current),i&&i!==p.current&&(i.addEventListener(Tn,g),i.addEventListener(mn,g),p.current=i)}return R.useEffect(function(){return function(){d(p.current)}},[]),[v,d]};function Rn(f,p,x,g){var d=g.motionEnter,v=d===void 0?!0:d,i=g.motionAppear,l=i===void 0?!0:i,c=g.motionLeave,y=c===void 0?!0:c,w=g.motionDeadline,a=g.motionLeaveImmediately,n=g.onAppearPrepare,t=g.onEnterPrepare,s=g.onLeavePrepare,u=g.onAppearStart,h=g.onEnterStart,b=g.onLeaveStart,C=g.onAppearActive,j=g.onEnterActive,D=g.onLeaveActive,H=g.onAppearEnd,z=g.onEnterEnd,U=g.onLeaveEnd,me=g.onVisibleChanged,le=Rt(),ge=Object(He.a)(le,2),Oe=ge[0],ze=ge[1],Se=Rt(an),Ve=Object(He.a)(Se,2),ye=Ve[0],P=Ve[1],T=Rt(null),M=Object(He.a)(T,2),_=M[0],J=M[1],G=Object(R.useRef)(!1),ce=Object(R.useRef)(null),Re=Object(R.useRef)(!1),Ze=Object(R.useRef)(null);function Je(){var Ft=x();return Ft||Ze.current}var Ie=Object(R.useRef)(!1);function fe(Ft){var Gt=Je();if(!(Ft&&!Ft.deadline&&Ft.target!==Gt)){var tn;ye===rn&&Ie.current?tn=H==null?void 0:H(Gt,Ft):ye===Lt&&Ie.current?tn=z==null?void 0:z(Gt,Ft):ye===Bn&&Ie.current&&(tn=U==null?void 0:U(Gt,Ft)),tn!==!1&&!Re.current&&(P(an),J(null))}}var ot=Ln(fe),nt=Object(He.a)(ot,1),bt=nt[0],Dt=R.useMemo(function(){var Ft,Gt,tn;switch(ye){case"appear":return Ft={},Object(m.a)(Ft,_t,n),Object(m.a)(Ft,Cn,u),Object(m.a)(Ft,Vt,C),Ft;case"enter":return Gt={},Object(m.a)(Gt,_t,t),Object(m.a)(Gt,Cn,h),Object(m.a)(Gt,Vt,j),Gt;case"leave":return tn={},Object(m.a)(tn,_t,s),Object(m.a)(tn,Cn,b),Object(m.a)(tn,Vt,D),tn;default:return{}}},[ye]),Ct=sa(ye,function(Ft){if(Ft===_t){var Gt=Dt[_t];return Gt?Gt(Je()):In}if(Jt in Dt){var tn;J(((tn=Dt[Jt])===null||tn===void 0?void 0:tn.call(Dt,Je(),null))||null)}return Jt===Vt&&(bt(Je()),w>0&&(clearTimeout(ce.current),ce.current=setTimeout(function(){fe({deadline:!0})},w))),oa}),on=Object(He.a)(Ct,2),sn=on[0],Jt=on[1],ln=ca(Jt);Ie.current=ln,pn(function(){if(ze(p),!!f){var Ft=G.current;G.current=!0;var Gt;!Ft&&p&&l&&(Gt=rn),Ft&&p&&v&&(Gt=Lt),(Ft&&!p&&y||!Ft&&a&&!p&&y)&&(Gt=Bn),Gt&&(P(Gt),sn())}},[p]),Object(R.useEffect)(function(){(ye===rn&&!l||ye===Lt&&!v||ye===Bn&&!y)&&P(an)},[l,v,y]),Object(R.useEffect)(function(){return function(){clearTimeout(ce.current),Re.current=!0}},[]),Object(R.useEffect)(function(){Oe!==void 0&&ye===an&&(me==null||me(Oe))},[Oe,ye]);var Qt=_;return Dt[_t]&&Jt===Cn&&(Qt=Object(Q.a)({transition:"none"},Qt)),[ye,Jt,Qt,Oe!=null?Oe:p]}var Gn=function(f){Object(S.a)(x,f);var p=Object(it.a)(x);function x(){return Object(ie.a)(this,x),p.apply(this,arguments)}return Object(r.a)(x,[{key:"render",value:function(){return this.props.children}}]),x}(R.Component),Nn=Gn;function Vn(f){var p=f;Object(se.a)(f)==="object"&&(p=f.transitionSupport);function x(d){return!!(d.motionName&&p)}var g=R.forwardRef(function(d,v){var i=d.visible,l=i===void 0?!0:i,c=d.removeOnLeave,y=c===void 0?!0:c,w=d.forceRender,a=d.children,n=d.motionName,t=d.leavedClassName,s=d.eventProps,u=x(d),h=Object(R.useRef)(),b=Object(R.useRef)();function C(){try{return Ye(h.current||b.current)}catch(ye){return null}}var j=Rn(u,l,C,d),D=Object(He.a)(j,4),H=D[0],z=D[1],U=D[2],me=D[3],le=Object(R.useRef)(v);le.current=v;var ge=R.useCallback(function(ye){h.current=ye,Ge(le.current,ye)},[]),Oe,ze=Object(Q.a)(Object(Q.a)({},s),{},{visible:l});if(!a)Oe=null;else if(H===an||!x(d))me?Oe=a(Object(Q.a)({},ze),ge):y?w?Oe=a(Object(Q.a)(Object(Q.a)({},ze),{},{style:{display:"none"}}),ge):Oe=null:Oe=a(Object(Q.a)(Object(Q.a)({},ze),{},{className:t}),ge);else{var Se,Ve;z===_t?Ve="prepare":ca(z)?Ve="active":z===Cn&&(Ve="start"),Oe=a(Object(Q.a)(Object(Q.a)({},ze),{},{className:N()(wn(n,H),(Se={},Object(m.a)(Se,wn(n,"".concat(H,"-").concat(Ve)),Ve),Object(m.a)(Se,n,typeof n=="string"),Se)),style:U}),ge)}return R.createElement(Nn,{ref:b},Oe)});return g.displayName="CSSMotion",g}var Mn=Vn(Fn),Kn="add",gn="keep",_n="remove",Dn="removed";function ia(f){var p;return f&&Object(se.a)(f)==="object"&&"key"in f?p=f:p={key:f},Object(Q.a)(Object(Q.a)({},p),{},{key:String(p.key)})}function qn(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f.map(ia)}function ea(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=[],g=0,d=p.length,v=qn(f),i=qn(p);v.forEach(function(y){for(var w=!1,a=g;a<d;a+=1){var n=i[a];if(n.key===y.key){g<a&&(x=x.concat(i.slice(g,a).map(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{status:Kn})})),g=a),x.push(Object(Q.a)(Object(Q.a)({},n),{},{status:gn})),g+=1,w=!0;break}}w||x.push(Object(Q.a)(Object(Q.a)({},y),{},{status:_n}))}),g<d&&(x=x.concat(i.slice(g).map(function(y){return Object(Q.a)(Object(Q.a)({},y),{},{status:Kn})})));var l={};x.forEach(function(y){var w=y.key;l[w]=(l[w]||0)+1});var c=Object.keys(l).filter(function(y){return l[y]>1});return c.forEach(function(y){x=x.filter(function(w){var a=w.key,n=w.status;return a!==y||n!==_n}),x.forEach(function(w){w.key===y&&(w.status=gn)})}),x}var Xn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function ta(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mn,x=function(g){Object(S.a)(v,g);var d=Object(it.a)(v);function v(){var i;return Object(ie.a)(this,v),i=d.apply(this,arguments),i.state={keyEntities:[]},i.removeKey=function(l){i.setState(function(c){var y=c.keyEntities;return{keyEntities:y.map(function(w){return w.key!==l?w:Object(Q.a)(Object(Q.a)({},w),{},{status:Dn})})}})},i}return Object(r.a)(v,[{key:"render",value:function(){var l=this,c=this.state.keyEntities,y=this.props,w=y.component,a=y.children,n=y.onVisibleChanged,t=Object(Ae.a)(y,["component","children","onVisibleChanged"]),s=w||R.Fragment,u={};return Xn.forEach(function(h){u[h]=t[h],delete t[h]}),delete t.keys,R.createElement(s,Object.assign({},t),c.map(function(h){var b=h.status,C=Object(Ae.a)(h,["status"]),j=b===Kn||b===gn;return R.createElement(p,Object.assign({},u,{key:C.key,visible:j,eventProps:C,onVisibleChanged:function(H){n==null||n(H,{key:C.key}),H||l.removeKey(C.key)}}),a)}))}}],[{key:"getDerivedStateFromProps",value:function(l,c){var y=l.keys,w=c.keyEntities,a=qn(y),n=ea(w,a);return{keyEntities:n.filter(function(t){var s=w.find(function(u){var h=u.key;return t.key===h});return!(s&&s.status===Dn&&t.status===_n)})}}}]),v}(R.Component);return x.defaultProps={component:"div"},x}var E=ta(Fn),O=Mn;function I(f){var p=f.prefixCls,x=f.motion,g=f.animation,d=f.transitionName;return x||(g?{motionName:"".concat(p,"-").concat(g)}:d?{motionName:d}:null)}function A(f){var p=f.prefixCls,x=f.visible,g=f.zIndex,d=f.mask,v=f.maskMotion,i=f.maskAnimation,l=f.maskTransitionName;if(!d)return null;var c={};return(v||l||i)&&(c=Object(Q.a)({motionAppear:!0},I({motion:v,prefixCls:p,transitionName:l,animation:i}))),R.createElement(O,Object(Ke.a)({},c,{visible:x,removeOnLeave:!0}),function(y){var w=y.className;return R.createElement("div",{style:{zIndex:g},className:N()("".concat(p,"-mask"),w)})})}var Y=e("./node_modules/rc-align/es/index.js"),de=e("./node_modules/@babel/runtime/regenerator/index.js"),oe=e.n(de),K=e("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),he=["measure","align",null,"motion"],W=function(f,p){var x=Object(R.useState)(null),g=Object(He.a)(x,2),d=g[0],v=g[1],i=Object(R.useRef)(),l=Object(R.useRef)(!1);function c(a){l.current||v(a)}function y(){ft.cancel(i.current)}function w(a){y(),i.current=ft(function(){c(function(n){switch(d){case"align":return"motion";case"motion":return"stable";default:}return n}),a==null||a()})}return Object(R.useEffect)(function(){c("measure")},[f]),Object(R.useEffect)(function(){switch(d){case"measure":p();break;default:}d&&(i.current=ft(Object(K.a)(oe.a.mark(function a(){var n,t;return oe.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=he.indexOf(d),t=he[n+1],t&&n!==-1&&c(t);case 3:case"end":return u.stop()}},a)}))))},[d]),Object(R.useEffect)(function(){return function(){l.current=!0,y()}},[]),[d,w]},tt=function(f){var p=R.useState({width:0,height:0}),x=Object(He.a)(p,2),g=x[0],d=x[1];function v(l){d({width:l.offsetWidth,height:l.offsetHeight})}var i=R.useMemo(function(){var l={};if(f){var c=g.width,y=g.height;f.indexOf("height")!==-1&&y?l.height=y:f.indexOf("minHeight")!==-1&&y&&(l.minHeight=y),f.indexOf("width")!==-1&&c?l.width=c:f.indexOf("minWidth")!==-1&&c&&(l.minWidth=c)}return l},[f,g]);return[i,v]},wt=R.forwardRef(function(f,p){var x=f.visible,g=f.prefixCls,d=f.className,v=f.style,i=f.children,l=f.zIndex,c=f.stretch,y=f.destroyPopupOnHide,w=f.align,a=f.point,n=f.getRootDomNode,t=f.getClassNameFromAlign,s=f.onAlign,u=f.onMouseEnter,h=f.onMouseLeave,b=f.onMouseDown,C=f.onTouchStart,j=Object(R.useRef)(),D=Object(R.useRef)(),H=Object(R.useState)(),z=Object(He.a)(H,2),U=z[0],me=z[1],le=tt(c),ge=Object(He.a)(le,2),Oe=ge[0],ze=ge[1];function Se(){c&&ze(n())}var Ve=W(x,Se),ye=Object(He.a)(Ve,2),P=ye[0],T=ye[1],M=Object(R.useRef)();function _(){return a||n}function J(){var fe;(fe=j.current)===null||fe===void 0||fe.forceAlign()}function G(fe,ot){if(P==="align"){var nt=t(ot);me(nt),U!==nt?Promise.resolve().then(function(){J()}):T(function(){var bt;(bt=M.current)===null||bt===void 0||bt.call(M)}),s==null||s(fe,ot)}}var ce=Object(Q.a)({},I(f));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(fe){var ot=ce[fe];ce[fe]=function(nt,bt){return T(),ot==null?void 0:ot(nt,bt)}});function Re(){return new Promise(function(fe){M.current=fe})}R.useEffect(function(){!ce.motionName&&P==="motion"&&T()},[ce.motionName,P]),R.useImperativeHandle(p,function(){return{forceAlign:J,getElement:function(){return D.current}}});var Ze=Object(Q.a)(Object(Q.a)(Object(Q.a)({},Oe),{},{zIndex:l},v),{},{opacity:P==="motion"||P==="stable"||!x?void 0:0,pointerEvents:P==="stable"?void 0:"none"}),Je=!0;(w==null?void 0:w.points)&&(P==="align"||P==="stable")&&(Je=!1);var Ie=i;return R.Children.count(i)>1&&(Ie=R.createElement("div",{className:"".concat(g,"-content")},i)),R.createElement(O,Object(Ke.a)({visible:x,ref:D,leavedClassName:"".concat(g,"-hidden")},ce,{onAppearPrepare:Re,onEnterPrepare:Re,removeOnLeave:y}),function(fe,ot){var nt=fe.className,bt=fe.style,Dt=N()(g,d,U,nt);return R.createElement(Y.a,{target:_(),key:"popup",ref:j,monitorWindowResize:!0,disabled:Je,align:w,onAlign:G},R.createElement("div",{ref:ot,className:Dt,onMouseEnter:u,onMouseLeave:h,onMouseDownCapture:b,onTouchStartCapture:C,style:Object(Q.a)(Object(Q.a)({},bt),Ze)},Ie))})});wt.displayName="PopupInner";var St=wt,lt=R.forwardRef(function(f,p){var x=f.prefixCls,g=f.visible,d=f.zIndex,v=f.children,i=f.mobile;i=i===void 0?{}:i;var l=i.popupClassName,c=i.popupStyle,y=i.popupMotion,w=y===void 0?{}:y,a=i.popupRender,n=R.useRef();R.useImperativeHandle(p,function(){return{forceAlign:function(){},getElement:function(){return n.current}}});var t=Object(Q.a)({zIndex:d},c),s=v;return R.Children.count(v)>1&&(s=R.createElement("div",{className:"".concat(x,"-content")},v)),a&&(s=a(s)),R.createElement(O,Object(Ke.a)({visible:g,ref:n,removeOnLeave:!0},w),function(u,h){var b=u.className,C=u.style,j=N()(x,l,b);return R.createElement("div",{ref:h,className:j,style:Object(Q.a)(Object(Q.a)({},C),t)},s)})});lt.displayName="MobilePopupInner";var mt=lt,Z=R.forwardRef(function(f,p){var x=f.visible,g=f.mobile,d=Object(Ae.a)(f,["visible","mobile"]),v=Object(R.useState)(x),i=Object(He.a)(v,2),l=i[0],c=i[1],y=Object(R.useState)(!1),w=Object(He.a)(y,2),a=w[0],n=w[1],t=Object(Q.a)(Object(Q.a)({},d),{},{visible:l});Object(R.useEffect)(function(){c(x),x&&g&&n(zt())},[x,g]);var s=a?R.createElement(mt,Object(Ke.a)({},t,{mobile:g,ref:p})):R.createElement(St,Object(Ke.a)({},t,{ref:p}));return R.createElement("div",null,R.createElement(A,t),s)});Z.displayName="Popup";var Sn=Z,Wn=R.createContext(null),Qn=Wn;function na(){}function gt(){return""}function zn(f){return f?f.ownerDocument:window.document}var aa=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function At(f){var p=function(x){Object(S.a)(d,x);var g=Object(it.a)(d);function d(v){var i;Object(ie.a)(this,d),i=g.call(this,v),i.popupRef=R.createRef(),i.triggerRef=R.createRef(),i.onMouseEnter=function(c){var y=i.props.mouseEnterDelay;i.fireEvents("onMouseEnter",c),i.delaySetPopupVisible(!0,y,y?null:c)},i.onMouseMove=function(c){i.fireEvents("onMouseMove",c),i.setPoint(c)},i.onMouseLeave=function(c){i.fireEvents("onMouseLeave",c),i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.onPopupMouseEnter=function(){i.clearDelayTimer()},i.onPopupMouseLeave=function(c){var y;c.relatedTarget&&!c.relatedTarget.setTimeout&&Tt((y=i.popupRef.current)===null||y===void 0?void 0:y.getElement(),c.relatedTarget)||i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.onFocus=function(c){i.fireEvents("onFocus",c),i.clearDelayTimer(),i.isFocusToShow()&&(i.focusTime=Date.now(),i.delaySetPopupVisible(!0,i.props.focusDelay))},i.onMouseDown=function(c){i.fireEvents("onMouseDown",c),i.preClickTime=Date.now()},i.onTouchStart=function(c){i.fireEvents("onTouchStart",c),i.preTouchTime=Date.now()},i.onBlur=function(c){i.fireEvents("onBlur",c),i.clearDelayTimer(),i.isBlurToHide()&&i.delaySetPopupVisible(!1,i.props.blurDelay)},i.onContextMenu=function(c){c.preventDefault(),i.fireEvents("onContextMenu",c),i.setPopupVisible(!0,c)},i.onContextMenuClose=function(){i.isContextMenuToShow()&&i.close()},i.onClick=function(c){if(i.fireEvents("onClick",c),i.focusTime){var y;if(i.preClickTime&&i.preTouchTime?y=Math.min(i.preClickTime,i.preTouchTime):i.preClickTime?y=i.preClickTime:i.preTouchTime&&(y=i.preTouchTime),Math.abs(y-i.focusTime)<20)return;i.focusTime=0}i.preClickTime=0,i.preTouchTime=0,i.isClickToShow()&&(i.isClickToHide()||i.isBlurToHide())&&c&&c.preventDefault&&c.preventDefault();var w=!i.state.popupVisible;(i.isClickToHide()&&!w||w&&i.isClickToShow())&&i.setPopupVisible(!i.state.popupVisible,c)},i.onPopupMouseDown=function(){if(i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=window.setTimeout(function(){i.hasPopupMouseDown=!1},0),i.context){var c;(c=i.context).onPopupMouseDown.apply(c,arguments)}},i.onDocumentClick=function(c){if(!(i.props.mask&&!i.props.maskClosable)){var y=c.target,w=i.getRootDomNode(),a=i.getPopupDomNode();!Tt(w,y)&&!Tt(a,y)&&!i.hasPopupMouseDown&&i.close()}},i.getRootDomNode=function(){var c=i.props.getTriggerDOMNode;if(c)return c(i.triggerRef.current);try{var y=Ye(i.triggerRef.current);if(y)return y}catch(w){}return Nt.a.findDOMNode(Object(pt.a)(i))},i.getPopupClassNameFromAlign=function(c){var y=[],w=i.props,a=w.popupPlacement,n=w.builtinPlacements,t=w.prefixCls,s=w.alignPoint,u=w.getPopupClassNameFromAlign;return a&&n&&y.push(Yt(n,t,c,s)),u&&y.push(u(c)),y.join(" ")},i.getComponent=function(){var c=i.props,y=c.prefixCls,w=c.destroyPopupOnHide,a=c.popupClassName,n=c.onPopupAlign,t=c.popupMotion,s=c.popupAnimation,u=c.popupTransitionName,h=c.popupStyle,b=c.mask,C=c.maskAnimation,j=c.maskTransitionName,D=c.maskMotion,H=c.zIndex,z=c.popup,U=c.stretch,me=c.alignPoint,le=c.mobile,ge=i.state,Oe=ge.popupVisible,ze=ge.point,Se=i.getPopupAlign(),Ve={};return i.isMouseEnterToShow()&&(Ve.onMouseEnter=i.onPopupMouseEnter),i.isMouseLeaveToHide()&&(Ve.onMouseLeave=i.onPopupMouseLeave),Ve.onMouseDown=i.onPopupMouseDown,Ve.onTouchStart=i.onPopupMouseDown,R.createElement(Sn,Object(Ke.a)({prefixCls:y,destroyPopupOnHide:w,visible:Oe,point:me&&ze,className:a,align:Se,onAlign:n,animation:s,getClassNameFromAlign:i.getPopupClassNameFromAlign},Ve,{stretch:U,getRootDomNode:i.getRootDomNode,style:h,mask:b,zIndex:H,transitionName:u,maskAnimation:C,maskTransitionName:j,maskMotion:D,ref:i.popupRef,motion:t,mobile:le}),typeof z=="function"?z():z)},i.attachParent=function(c){ft.cancel(i.attachId);var y=i.props,w=y.getPopupContainer,a=y.getDocument,n=i.getRootDomNode(),t;w?(n||w.length===0)&&(t=w(n)):t=a(i.getRootDomNode()).body,t?t.appendChild(c):i.attachId=ft(function(){i.attachParent(c)})},i.getContainer=function(){var c=i.props.getDocument,y=c(i.getRootDomNode()).createElement("div");return y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",i.attachParent(y),y},i.setPoint=function(c){var y=i.props.alignPoint;!y||!c||i.setState({point:{pageX:c.pageX,pageY:c.pageY}})},i.handlePortalUpdate=function(){i.state.prevPopupVisible!==i.state.popupVisible&&i.props.afterPopupVisibleChange(i.state.popupVisible)};var l;return"popupVisible"in v?l=!!v.popupVisible:l=!!v.defaultPopupVisible,i.state={prevPopupVisible:l,popupVisible:l},aa.forEach(function(c){i["fire".concat(c)]=function(y){i.fireEvents(c,y)}}),i}return Object(r.a)(d,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var i=this.props,l=this.state;if(l.popupVisible){var c;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(c=i.getDocument(this.getRootDomNode()),this.clickOutsideHandler=De(c,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(c=c||i.getDocument(this.getRootDomNode()),this.touchOutsideHandler=De(c,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(c=c||i.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=De(c,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=De(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ft.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var i;return((i=this.popupRef.current)===null||i===void 0?void 0:i.getElement())||null}},{key:"getPopupAlign",value:function(){var i=this.props,l=i.popupPlacement,c=i.popupAlign,y=i.builtinPlacements;return l&&y?Zt(y,l,c):c}},{key:"setPopupVisible",value:function(i,l){var c=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==i&&("popupVisible"in this.props||this.setState({popupVisible:i,prevPopupVisible:y}),this.props.onPopupVisibleChange(i)),c&&l&&i&&this.setPoint(l)}},{key:"delaySetPopupVisible",value:function(i,l,c){var y=this,w=l*1e3;if(this.clearDelayTimer(),w){var a=c?{pageX:c.pageX,pageY:c.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(i,a),y.clearDelayTimer()},w)}else this.setPopupVisible(i,c)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(i){var l=this.props.children.props,c=this.props;return l[i]&&c[i]?this["fire".concat(i)]:l[i]||c[i]}},{key:"isClickToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("click")!==-1||c.indexOf("click")!==-1}},{key:"isContextMenuToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("contextMenu")!==-1||c.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("click")!==-1||c.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("hover")!==-1||c.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("hover")!==-1||c.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("focus")!==-1||c.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("focus")!==-1||c.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var i;(i=this.popupRef.current)===null||i===void 0||i.forceAlign()}}},{key:"fireEvents",value:function(i,l){var c=this.props.children.props[i];c&&c(l);var y=this.props[i];y&&y(l)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var i=this.state.popupVisible,l=this.props,c=l.children,y=l.forceRender,w=l.alignPoint,a=l.className,n=l.autoDestroy,t=R.Children.only(c),s={key:"trigger"};this.isContextMenuToShow()?s.onContextMenu=this.onContextMenu:s.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(s.onClick=this.onClick,s.onMouseDown=this.onMouseDown,s.onTouchStart=this.onTouchStart):(s.onClick=this.createTwoChains("onClick"),s.onMouseDown=this.createTwoChains("onMouseDown"),s.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(s.onMouseEnter=this.onMouseEnter,w&&(s.onMouseMove=this.onMouseMove)):s.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?s.onMouseLeave=this.onMouseLeave:s.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(s.onFocus=this.onFocus,s.onBlur=this.onBlur):(s.onFocus=this.createTwoChains("onFocus"),s.onBlur=this.createTwoChains("onBlur"));var u=N()(t&&t.props&&t.props.className,a);u&&(s.className=u);var h=Object(Q.a)({},s);dt(t)&&(h.ref=at(this.triggerRef,t.ref));var b=R.cloneElement(t,h),C;return(i||this.popupRef.current||y)&&(C=R.createElement(f,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!i&&n&&(C=null),R.createElement(Qn.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},b,C)}}],[{key:"getDerivedStateFromProps",value:function(i,l){var c=i.popupVisible,y={};return c!==void 0&&l.popupVisible!==c&&(y.popupVisible=c,y.prevPopupVisible=l.popupVisible),y}}]),d}(R.Component);return p.contextType=Qn,p.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:gt,getDocument:zn,onPopupVisibleChange:na,afterPopupVisibleChange:na,onPopupAlign:na,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},p}var dn=At(yt),kt={adjustX:1,adjustY:1},en=[0,0],jn={left:{points:["cr","cl"],overflow:kt,offset:[-4,0],targetOffset:en},right:{points:["cl","cr"],overflow:kt,offset:[4,0],targetOffset:en},top:{points:["bc","tc"],overflow:kt,offset:[0,-4],targetOffset:en},bottom:{points:["tc","bc"],overflow:kt,offset:[0,4],targetOffset:en},topLeft:{points:["bl","tl"],overflow:kt,offset:[0,-4],targetOffset:en},leftTop:{points:["tr","tl"],overflow:kt,offset:[-4,0],targetOffset:en},topRight:{points:["br","tr"],overflow:kt,offset:[0,-4],targetOffset:en},rightTop:{points:["tl","tr"],overflow:kt,offset:[4,0],targetOffset:en},bottomRight:{points:["tr","br"],overflow:kt,offset:[0,4],targetOffset:en},rightBottom:{points:["bl","br"],overflow:kt,offset:[4,0],targetOffset:en},bottomLeft:{points:["tl","bl"],overflow:kt,offset:[0,4],targetOffset:en},leftBottom:{points:["br","bl"],overflow:kt,offset:[-4,0],targetOffset:en}},vn=jn,hn=function(p){var x=p.overlay,g=p.prefixCls,d=p.id,v=p.overlayInnerStyle;return R.createElement("div",{className:"".concat(g,"-inner"),id:d,role:"tooltip",style:v},typeof x=="function"?x():x)},da=hn,ma=function(p,x){var g=p.overlayClassName,d=p.trigger,v=d===void 0?["hover"]:d,i=p.mouseEnterDelay,l=i===void 0?0:i,c=p.mouseLeaveDelay,y=c===void 0?.1:c,w=p.overlayStyle,a=p.prefixCls,n=a===void 0?"rc-tooltip":a,t=p.children,s=p.onVisibleChange,u=p.afterVisibleChange,h=p.transitionName,b=p.animation,C=p.placement,j=C===void 0?"right":C,D=p.align,H=D===void 0?{}:D,z=p.destroyTooltipOnHide,U=z===void 0?!1:z,me=p.defaultVisible,le=p.getTooltipContainer,ge=p.overlayInnerStyle,Oe=Object(Ae.a)(p,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),ze=Object(R.useRef)(null);Object(R.useImperativeHandle)(x,function(){return ze.current});var Se=Object(Q.a)({},Oe);"visible"in p&&(Se.popupVisible=p.visible);var Ve=function(){var _=p.arrowContent,J=_===void 0?null:_,G=p.overlay,ce=p.id;return[R.createElement("div",{className:"".concat(n,"-arrow"),key:"arrow"},J),R.createElement(da,{key:"content",prefixCls:n,id:ce,overlay:G,overlayInnerStyle:ge})]},ye=!1,P=!1;if(typeof U=="boolean")ye=U;else if(U&&Object(se.a)(U)==="object"){var T=U.keepParent;ye=T===!0,P=T===!1}return R.createElement(dn,Object.assign({popupClassName:g,prefixCls:n,popup:Ve,action:v,builtinPlacements:jn,popupPlacement:j,ref:ze,popupAlign:H,getPopupContainer:le,onPopupVisibleChange:s,afterPopupVisibleChange:u,popupTransitionName:h,popupAnimation:b,defaultPopupVisible:me,destroyPopupOnHide:ye,autoDestroy:P,mouseLeaveDelay:y,popupStyle:w,mouseEnterDelay:l},Se),t)},la=Object(R.forwardRef)(ma),ya=la,Hn=R.forwardRef(function(f,p){var x=f.visible,g=f.overlay,d=R.useRef(null),v=at(p,d),i=R.useRef(null);function l(){ft.cancel(i.current)}function c(){i.current=ft(function(){var y;(y=d.current)===null||y===void 0||y.forcePopupAlign()})}return R.useEffect(function(){return x?c():l(),l},[x,g]),R.createElement(ya,Object(Ke.a)({ref:v},f))}),ba=Hn,yn=["value","dragging","index","disabled"],pa=["prefixCls","overlay","placement","visible"];function xa(f){var p,x;return x=p=function(g){Object(S.a)(v,g);var d=Object(it.a)(v);function v(){var i;Object(ie.a)(this,v);for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];return i=d.call.apply(d,[this].concat(c)),i.state={visibles:{}},i.handleTooltipVisibleChange=function(w,a){i.setState(function(n){return{visibles:Object(Q.a)(Object(Q.a)({},n.visibles),{},Object(m.a)({},w,a))}})},i.handleWithTooltip=function(w){var a=w.value,n=w.dragging,t=w.index,s=w.disabled,u=Object(Ae.a)(w,yn),h=i.props,b=h.tipFormatter,C=h.tipProps,j=h.handleStyle,D=h.getTooltipContainer,H=C.prefixCls,z=H===void 0?"rc-slider-tooltip":H,U=C.overlay,me=U===void 0?b(a):U,le=C.placement,ge=le===void 0?"top":le,Oe=C.visible,ze=Oe===void 0?!1:Oe,Se=Object(Ae.a)(C,pa),Ve;return Array.isArray(j)?Ve=j[t]||j[0]:Ve=j,qe.a.createElement(ba,Object(Ke.a)({},Se,{getTooltipContainer:D,prefixCls:z,overlay:me,placement:ge,visible:!s&&(i.state.visibles[t]||n)||ze,key:t}),qe.a.createElement(Mt,Object(Ke.a)({},u,{style:Object(Q.a)({},Ve),value:a,onMouseEnter:function(){return i.handleTooltipVisibleChange(t,!0)},onMouseLeave:function(){return i.handleTooltipVisibleChange(t,!1)}})))},i}return Object(r.a)(v,[{key:"render",value:function(){return qe.a.createElement(f,Object(Ke.a)({},this.props,{handle:this.handleWithTooltip}))}}]),v}(qe.a.Component),p.defaultProps={tipFormatter:function(d){return d},handleStyle:[{}],tipProps:{},getTooltipContainer:function(d){return d.parentNode}},x}var fa=Qe;fa.Range=ht,fa.Handle=Mt,fa.createSliderWithTooltip=xa;var Ca=fa,Pa=e("./node_modules/antd/node_modules/rc-util/es/ref.js"),Ea=e("./node_modules/antd/node_modules/rc-util/es/raf.js"),va=e("./node_modules/antd/es/tooltip/index.js"),ua=R.forwardRef(function(f,p){var x=f.visible,g=Object(R.useRef)(null),d=Object(R.useRef)(null);function v(){Ea.a.cancel(d.current),d.current=null}function i(){d.current=Object(Ea.a)(function(){var l;(l=g.current)===null||l===void 0||l.forcePopupAlign(),d.current=null})}return R.useEffect(function(){return x?i():v(),v},[x,f.title]),R.createElement(va.a,Object(Ke.a)({ref:Object(Pa.a)(g,p)},f))}),Sa=ua,Ta=e("./node_modules/antd/es/config-provider/context.js"),Oa=function(f,p){var x={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&p.indexOf(g)<0&&(x[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,g=Object.getOwnPropertySymbols(f);d<g.length;d++)p.indexOf(g[d])<0&&Object.prototype.propertyIsEnumerable.call(f,g[d])&&(x[g[d]]=f[g[d]]);return x},ga=R.forwardRef(function(f,p){var x=R.useContext(Ta.b),g=x.getPrefixCls,d=x.direction,v=x.getPopupContainer,i=R.useState({}),l=Object(He.a)(i,2),c=l[0],y=l[1],w=function(U,me){y(function(le){return Object(Ke.a)(Object(Ke.a)({},le),Object(m.a)({},U,me))})},a=function(U,me){return U||(me?d==="rtl"?"left":"right":"top")},n=function(U){var me=U.tooltipPrefixCls,le=U.prefixCls,ge=U.info,Oe=ge.value,ze=ge.dragging,Se=ge.index,Ve=Oa(ge,["value","dragging","index"]),ye=f.tipFormatter,P=f.tooltipVisible,T=f.tooltipPlacement,M=f.getTooltipPopupContainer,_=f.vertical,J=ye?c[Se]||ze:!1,G=P||P===void 0&&J,ce=g();return R.createElement(Sa,{prefixCls:me,title:ye?ye(Oe):"",visible:G,placement:a(T,_),transitionName:"".concat(ce,"-zoom-down"),key:Se,overlayClassName:"".concat(le,"-tooltip"),getPopupContainer:M||v},R.createElement(Mt,Object(Ke.a)({},Ve,{value:Oe,onMouseEnter:function(){return w(Se,!0)},onMouseLeave:function(){return w(Se,!1)}})))},t=f.prefixCls,s=f.tooltipPrefixCls,u=f.range,h=f.className,b=Oa(f,["prefixCls","tooltipPrefixCls","range","className"]),C=g("slider",t),j=g("tooltip",s),D=N()(h,Object(m.a)({},"".concat(C,"-rtl"),d==="rtl"));d==="rtl"&&!b.vertical&&(b.reverse=!b.reverse);var H;return Object(se.a)(u)==="object"&&(H=u.draggableTrack),u?R.createElement(ht,Object(Ke.a)({},b,{step:b.step,draggableTrack:H,className:D,ref:p,handle:function(U){return n({tooltipPrefixCls:j,prefixCls:C,info:U})},prefixCls:C})):R.createElement(Ca,Object(Ke.a)({},b,{step:b.step,className:D,ref:p,handle:function(U){return n({tooltipPrefixCls:j,prefixCls:C,info:U})},prefixCls:C}))});ga.displayName="Slider",ga.defaultProps={tipFormatter:function(p){return typeof p=="number"?p.toString():""}};var Ia=$.a=ga},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insight-legend-button{display:flex;align-items:center}.insight-legend-button .insight-legend-button-title{margin-left:.5rem;font-size:14px;font-weight:500}.insight-legend-menu{padding:1rem!important;box-shadow:none!important;border:1px solid rgba(0,0,0,.15);background-color:#fff;border-radius:4px;max-width:300px;width:100%;max-height:100%;overflow-y:auto;overflow-x:auto;display:flex;flex-direction:column}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item{width:100%}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item:not(:last-child){margin-bottom:.5rem}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner{cursor:pointer;display:flex;align-items:center}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner .insights-label{margin-left:.5rem;width:100%;font-size:.75rem}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.properties-table-key{min-width:12rem;display:flex;align-items:center;justify-content:space-between}.property-value-type{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:1.25rem;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;text-transform:uppercase;cursor:default}.property-value-type:not(:first-child){margin-left:.25rem}.properties-table-value{min-width:12rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;align-items:center}.properties-table-value .value-link>*{vertical-align:middle}.properties-table-value .value-link>svg{margin-left:.25rem;font-size:1rem}.properties-table-value .editable{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-color:#5375ff;text-decoration-color:#5375ff;cursor:pointer}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.column-configurator-modal .text-blue{color:#5375ff}.column-configurator-modal .column-display-item{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:4px;margin:2px 0}.column-configurator-modal .column-display-item:hover{background-color:#f2f2f2}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:rgba(0,0,0,.5);background-color:#f2f2f2}.column-configurator-modal .column-display-item.selected{background-color:#839af8}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,'.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.experiment-form .metrics-selection{border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;width:100%}.experiment-form .metrics-selection .action-filters-bordered .draggable-action-filter{border-bottom:1px solid rgba(0,0,0,.15);padding:1rem .25rem;margin-top:0}.experiment-form .metrics-selection .action-filters-bordered .row-action-btn{color:#35416b}.experiment-form .person-selection{width:100%;border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;align-items:center;justify-content:space-between}.experiment-form .insights-graph-container{margin-bottom:1rem;background-color:#fff}.experiment-form .insights-graph-container .ant-card-head{border-bottom:1px solid rgba(0,0,0,.15);min-height:unset;background-color:#fff;padding-left:1rem;padding-right:1rem}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title{padding:.5rem 0}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter{font-size:14px}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter:not(:last-child),.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter span.head-title-item{margin-right:.5rem}.experiment-form .insights-graph-container .display-config-inner{display:flex;align-items:center;justify-content:space-between;overflow-x:auto}.experiment-form .insights-graph-container .ant-card-body{padding:0}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-left{width:100%}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-right{width:100%;height:min(calc(90vh - 16rem),36rem);max-width:300px;padding:0 1rem 1rem 0;display:flex;align-items:center}.experiment-form .insights-graph-container .graph-container{width:calc(100% - 2rem);height:calc(100% - 3rem)}.experiment-form .insights-graph-header{margin-top:0!important;margin-bottom:0!important;padding-left:1rem;padding-right:1rem;min-height:48px}.experiment-form .experiment-preview{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.experiment-form .experiment-preview .mde-slider .ant-slider-handle{border:none}.experiment-form .experiment-preview .mde-slider .ant-slider-rail{background-color:#e5ebff}.experiment-form .variants{margin-top:.5rem;padding-bottom:1rem}.experiment-form .variants .ant-form-horizontal{min-height:32px}.experiment-form .variants .border-top{border-top-left-radius:4px;border-top-right-radius:4px}.experiment-form .variants .border-bottom{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.experiment-form .variants .feature-flag-variant{flex-direction:row;align-items:baseline;padding:12px 8px;background:#fff;border-bottom-width:1px;border-bottom-color:rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);border-left:1px solid rgba(0,0,0,.15);border-right:1px solid rgba(0,0,0,.15)}.experiment-form .variants .feature-flag-variant .ant-form-item-explain-error{margin-top:.5rem;color:#bf411a}.experiment-form .variants .feature-flag-variant .ant-form-item-label{padding:0}.experiment-form .variants .variant-label{display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:4px;color:#fff;min-width:52px;padding:2px 6px;margin-right:8px;font-size:12px;font-weight:500;letter-spacing:.01em}.experiment-form .secondary-metrics{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.15);margin-bottom:1rem}.experiment-form .ant-input-number-disabled,.experiment-form .ant-input[disabled]{color:#000}.view-experiment .draft-header{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.view-experiment .stop-experiment{background-color:#f96132;color:#fff}.view-experiment .archive-experiment{color:#f96132}.view-experiment .exp-description{font-style:italic;color:rgba(0,0,0,.5)}.view-experiment .participants{background-color:#fff}.view-experiment .participants .ant-collapse-header{padding-top:.5rem;padding-bottom:.5rem;padding-left:.75rem}.view-experiment .variants-list{list-style:none;margin:0;padding:0}.view-experiment .variants-list li{display:inline}.view-experiment .variants-list li:after{content:", "}.view-experiment .variants-list li:last-child:after{content:""}.view-experiment .experiment-result{padding-top:1rem}.view-experiment .significant-results{padding:.5rem;width:100%;background:rgba(119,185,108,.1);border-radius:4px;text-align:center;margin-bottom:1rem}.view-experiment .not-significant-results{padding:.5rem;width:100%;background:rgba(83,117,255,.1);border-radius:4px;margin-bottom:1rem}.view-experiment .feature-flag-mods{padding:.5rem;width:100%;background:#f6ebf8;border-radius:4px;margin-bottom:1rem}.view-experiment .ant-collapse-content-box{display:flex;flex-flow:column}.view-experiment .secondary-progress{margin-top:.5rem}.view-experiment .secondary-progress li:before{content:"\u2022";display:inline-block;font-weight:900;margin-right:4px}.view-experiment .secondary-progress .ant-progress-inner,.view-experiment .secondary-progress .ant-progress-inner .ant-progress-bg{border-radius:4px}.view-experiment .no-experiment-results{display:flex;justify-content:center;align-items:center;margin-top:1rem;background-color:#fafaf9;border:1px solid rgba(0,0,0,.15);width:100%;min-height:320px;font-size:24px}.view-experiment .end-experiment-btn{background:#77b96c;color:#fff}.view-experiment .end-experiment-btn:hover{color:#000}.preview-conversion-goal-num{height:24px;width:24px;text-align:center;background-color:#fafaf9;color:#35416b;font-weight:700;margin-right:.5rem}.experiment-preview-row{border-bottom:1px solid rgba(0,0,0,.15);padding-bottom:1rem;margin-bottom:1rem}.experiment-preview-row:last-child{border-bottom:none;padding-bottom:0;margin-bottom:0}.metric-name{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:8px 8px 8px 16px;margin-left:.5rem;flex:1}.experiment-implementation-details,.experiment-workflow{border-color:#d9d9d9}.experiment-implementation-details .ant-card-head,.experiment-workflow .ant-card-head{padding-left:1rem;padding-right:1rem;border:none}.experiment-implementation-details .ant-card-head-title,.experiment-workflow .ant-card-head-title{border-bottom:1px solid rgba(0,0,0,.15)}.experiment-implementation-details .exp-workflow-step,.experiment-workflow .exp-workflow-step{margin-bottom:.5rem;padding:.5rem;border-radius:4px}.experiment-implementation-details .exp-workflow-step:hover,.experiment-workflow .exp-workflow-step:hover{cursor:pointer}.experiment-implementation-details .step-completed,.experiment-workflow .step-completed{background-color:#e5ebff}',""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insights-graph-header.funnels{border-bottom:1px solid rgba(0,0,0,.15)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:#2d2d2d}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid #f7a501}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.15);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:rgba(0,0,0,.5)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:500}.funnel-correlation .correlation-feedback{margin-top:1rem}.funnel-correlation .correlation-feedback .ant-card-body{padding:.5rem 1rem}.funnel-correlation .correlation-feedback h4{padding:0;margin:0;font-weight:700;color:#747ea1}.funnel-correlation .correlation-feedback .emoji-button{margin-right:4px}.funnel-correlation .correlation-feedback .emoji-button:last-of-type{margin-right:0}.funnel-correlation .correlation-feedback .row-initial{display:flex;align-items:center}.funnel-correlation .correlation-feedback .row-initial .ant-col{text-align:right}.funnel-correlation .correlation-feedback .row-initial .ant-col:first-of-type{text-align:left}.funnel-correlation .correlation-feedback .close-button{color:rgba(0,0,0,.5)!important;cursor:pointer;z-index:5}.funnel-correlation .correlation-feedback .feedback-button{margin:1rem 0}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:4px;border:1px solid rgba(0,0,0,.15);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:#747ea1}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:#fafafa;text-transform:uppercase;color:rgba(0,0,0,.5)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation-table{margin-top:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;align-self:stretch;justify-content:space-between;align-content:space-between;border-top-left-radius:4px;border-top-right-radius:4px;padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:#2d2d2d;margin-left:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:#747ea1;cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:#747ea1}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-popup{z-index:1061}.session-recordings-popup .anticon-play-circle{color:#5375ff}.session-recordings-popup .session-recordings-popup-row{display:flex;align-items:center;padding:.5rem;font-weight:500;color:#2d2d2d}.session-recordings-popup .session-recordings-popup-row:hover{color:#5375ff}.session-recordings-popup .session-recordings-popup-row .anticon{font-size:1.25rem;margin-right:.5rem}.session-recordings-button .anticon-play-circle{color:#5375ff}.session-recordings-button .session-recordings-button__indicator{font-size:12px;color:rgba(0,0,0,.5)}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),xe.exports=$},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss":function(xe,$,e){var se=e("./node_modules/css-loader/dist/runtime/api.js");$=se(!1),$.push([xe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.person-modal .ant-modal-header{padding:1rem}.person-modal .ant-modal-title{overflow:hidden;text-overflow:ellipsis}.person-modal .ant-modal-content{overflow:hidden}.person-modal .ant-modal-body{padding:0;max-height:60vh;overflow-y:auto}.person-modal .ant-modal-footer .ant-btn{color:#5375ff}.person-modal .ant-input-search{padding:1rem}.person-modal .persons-table{border-top:1px solid var(--border);border-bottom:1px solid var(--border)}.person-modal .person-ids{display:flex;flex-direction:column}.person-modal .user-count-subheader{padding:.5rem 1rem;color:var(--muted-alt)}.person-modal .user-count-subheader>*{vertical-align:middle}.person-modal .person-row-container{padding:.5rem 1rem}.person-modal .data-point-selector{padding:.5rem 1rem;border-bottom:1px solid var(--border)}.person-modal .data-point-selector .ant-select{display:block;width:100%}",""]),xe.exports=$}}]);
