(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx":function(De,E,e){"use strict";e.r(E),e.d(E,"scene",function(){return vs}),e.d(E,"SessionRecordingsPlaylistScene",function(){return rs}),e.d(E,"SessionRecordingsPlaylist",function(){return $e});var ye=e("./node_modules/core-js/modules/es.function.name.js"),Se=e("./node_modules/core-js/modules/es.regexp.exec.js"),Ce=e("./node_modules/core-js/modules/es.string.replace.js"),Ee=e("./node_modules/core-js/modules/es.symbol.js"),Le=e("./node_modules/core-js/modules/es.symbol.description.js"),ee=e("./node_modules/core-js/modules/es.array.concat.js"),Be=e("./node_modules/core-js/modules/es.array.map.js"),ce=e("./node_modules/react/index.js"),_=e("./node_modules/kea/lib/index.esm.js"),Ne=e("./frontend/src/lib/utils.tsx"),se=e("./frontend/src/types.ts"),ve=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),Te=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Oe=e.n(Te),Me=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.scss"),de=e.n(Me),pe={};pe.insert="head",pe.singleton=!1;var z=Oe()(de.a,pe),te=de.a.locals||{},ue=e("./frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx"),Pe=e("./frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),b=e("./frontend/@posthog/lemon-ui/src/index.ts"),w=e("./frontend/src/lib/components/icons.tsx"),he=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),k=e.n(he),Ie=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),Y=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Ke=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),_e=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),je=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx"),xe=e("./node_modules/fast-deep-equal/index.js"),me=e.n(xe),s=e("./node_modules/react/jsx-runtime.js"),h=function(t){var o,i;return(o=t.actions)!==null&&o!==void 0&&o.length||(i=t.events)!==null&&i!==void 0&&i.length?{actions:t.actions,events:t.events}:{actions:[],events:[],new_entity:[{id:"empty",type:se.o.NEW_ENTITY,order:0,name:"empty"}]}};function W(n){var t=n.filters,o=n.setFilters,i=n.showPropertyFilters,m=Object(ce.useState)(h(t)),v=k()(m,2),d=v[0],f=v[1];return Object(ce.useEffect)(function(){(!me()(t.actions,d.actions)||!me()(t.events,d.events))&&o({actions:d.actions,events:d.events})},[d]),Object(ce.useEffect)(function(){(!me()(t.actions,d.actions)||!me()(t.events,d.events))&&f(h(t))},[t]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"flex-1 border rounded p-4",children:[Object(s.jsxs)("div",{className:"space-y-2",children:[Object(s.jsx)(je.a,{info:"Show recordings where all of the events or actions listed below happen.",children:"Filter by events and actions"}),Object(s.jsx)(Ie.a,{bordered:!0,filters:d,setFilters:function(R){f(R)},typeKey:"session-recordings",mathAvailability:_e.b.None,buttonCopy:"Add filter",hideRename:!0,hideDuplicate:!0,showNestedArrow:!1,actionsTaxonomicGroupTypes:[Y.a.Actions,Y.a.Events],propertiesTaxonomicGroupTypes:[Y.a.EventProperties,Y.a.EventFeatureFlags,Y.a.Elements],propertyFiltersPopover:!0})]}),i&&Object(s.jsxs)("div",{className:"mt-4 space-y-2",children:[Object(s.jsx)(je.a,{info:"Show recordings by persons who match the set criteria",children:"Filter by persons and cohorts"}),Object(s.jsx)(Ke.a,{pageKey:"session-recordings",taxonomicGroupTypes:[Y.a.PersonProperties,Y.a.Cohorts],propertyFilters:t.properties,onChange:function(R){o({properties:R})}})]})]})})}try{W.displayName="SessionRecordingsFilters",W.__docgenInfo={description:"",displayName:"SessionRecordingsFilters",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"RecordingFilters"}},setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: RecordingFilters) => void"}},showPropertyFilters:{defaultValue:null,description:"",name:"showPropertyFilters",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"]={docgenInfo:W.__docgenInfo,name:"SessionRecordingsFilters",path:"frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"})}catch(n){}var C=e("./node_modules/clsx/dist/clsx.m.js"),O=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),G=e("./frontend/src/lib/components/LemonTable/LemonTableLoader.tsx"),ne=e("./node_modules/core-js/modules/es.string.split.js"),re=e("./node_modules/core-js/modules/es.object.keys.js"),j=e("./frontend/src/lib/components/PropertyIcon.tsx"),x=e("./frontend/src/lib/components/Tooltip.tsx"),L=e("./frontend/src/scenes/persons/PersonHeader.tsx"),T=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function D(n){var t,o=n.recording,i=n.isActive,m=n.onClick,v=n.onPropertyClick,d=n.recordingProperties,f=n.recordingPropertiesLoading,y=Object(Ne.n)(o.recording_duration),R=y.split(":"),a=Object(C.a)("SessionRecordingsPlaylist__list-item__property-icon text-base text-muted-alt",!i&&"opacity-75"),ae=["$browser","$device_type","$os","$geoip_country_code"],Q=d&&Object.keys(d).length>0?d:((t=o.person)===null||t===void 0?void 0:t.properties)||{},be=Object(s.jsx)("div",{className:"flex flex-row flex-nowrap shrink-0 gap-1 h-6 ph-no-capture",children:f?Object(s.jsx)(O.a,{className:"w-18 my-1"}):ae.map(function(fe){var Ae=fe==="$device_type"?(Q==null?void 0:Q.$device_type)||(Q==null?void 0:Q.$initial_device_type):Q==null?void 0:Q[fe];return Object(s.jsx)(j.b,{onClick:v,className:a,property:fe,value:Ae,tooltipTitle:function(V,Z){return Object(s.jsxs)("div",{className:"text-center",children:["Click to filter for",Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"font-medium",children:Z!=null?Z:"N/A"})]})}},fe)})});return Object(s.jsxs)("li",{className:Object(C.a)("SessionRecordingsPlaylist__list-item","flex flex-row py-2 pr-4 pl-0 cursor-pointer relative overflow-hidden",i&&"bg-primary-highlight font-semibold"),onClick:function(){return m()},children:[Object(s.jsx)("div",{className:"w-2 h-2 mx-2",children:o.viewed?null:Object(s.jsx)(x.a,{title:"Indicates the recording has not been watched yet",children:Object(s.jsx)("div",{className:"w-2 h-2 mt-2 rounded-full bg-primary-light","aria-label":"unwatched-recording-label"})})}),Object(s.jsxs)("div",{className:"grow",children:[Object(s.jsxs)("div",{className:"flex items-center justify-between",children:[Object(s.jsx)("div",{className:"truncate font-medium text-primary ph-no-capture",children:Object(L.b)(o.person,25)}),Object(s.jsx)("div",{className:"flex-1"}),be]}),Object(s.jsxs)("div",{className:"flex items-center justify-between",children:[Object(s.jsx)(T.b,{className:"overflow-hidden text-ellipsis",time:o.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"}),Object(s.jsxs)("div",{className:"flex items-center flex-1 justify-end font-semibold",children:[Object(s.jsx)(w.IconSchedule,{className:a}),Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{className:Object(C.a)(R[0]==="00"&&"opacity-50 font-normal"),children:[R[0],":"]}),Object(s.jsxs)("span",{className:Object(C.a)({"opacity-50 font-normal":R[0]==="00"&&R[1]==="00"}),children:[R[1],":"]}),R[2]]})]})]})]})]},o.id)}try{D.displayName="SessionRecordingPlaylistItem",D.__docgenInfo={description:"",displayName:"SessionRecordingPlaylistItem",props:{recording:{defaultValue:null,description:"",name:"recording",required:!0,type:{name:"SessionRecordingType"}},recordingProperties:{defaultValue:null,description:"",name:"recordingProperties",required:!1,type:{name:"Record<string, any>"}},recordingPropertiesLoading:{defaultValue:null,description:"",name:"recordingPropertiesLoading",required:!0,type:{name:"boolean"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},onPropertyClick:{defaultValue:null,description:"",name:"onPropertyClick",required:!0,type:{name:"(property: string, value?: string | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistItem.tsx#SessionRecordingPlaylistItem"]={docgenInfo:D.__docgenInfo,name:"SessionRecordingPlaylistItem",path:"frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistItem.tsx#SessionRecordingPlaylistItem"})}catch(n){}var A=e("./frontend/src/lib/components/EditableField/EditableField.tsx"),P=e("./frontend/src/lib/components/PageHeader.tsx"),S=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),oe=e("./frontend/src/lib/utils/eventUsageLogic.ts"),M=e("./node_modules/antd/es/row/index.js"),U=e("./node_modules/antd/es/space/index.js"),Fe=e("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),Ye=e("./frontend/src/lib/components/Popup/Popup.tsx"),es=e("./node_modules/core-js/modules/es.array.slice.js"),ss=e("./node_modules/core-js/modules/es.array.iterator.js"),r=e("./node_modules/core-js/modules/es.object.to-string.js"),l=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),c=e("./frontend/src/lib/components/DurationPicker/DurationPicker.tsx"),u;(function(n){n.SECONDS="seconds",n.MINUTES="minutes",n.HOURS="hours"})(u||(u={}));var p=Object(_.kea)({path:function(t){return["scenes","session-recordings","DurationFilterLogic",t]},key:function(t){return t.pageKey||"global"},props:{},actions:{setValue:function(t){return{value:t}},setIsOpen:function(t){return{isOpen:t}},setOperator:function(t){return{operator:t}}},reducers:function(t){var o,i,m=t.props;return{operator:[m==null||(o=m.initialFilter)===null||o===void 0?void 0:o.operator,{setOperator:function(d,f){var y=f.operator;return y}}],value:[m==null||(i=m.initialFilter)===null||i===void 0?void 0:i.value,{setValue:function(d,f){var y=f.value;return y}}],isOpen:[!1,{setIsOpen:function(d,f){var y=f.isOpen;return y}}]}},selectors:{durationString:[function(n){return[n.operator,n.value]},function(n,t){var o="";n===se.N.GreaterThan?o+="> ":o+="< ";var i=Object(c.b)(t||0);return o+=i.timeValue||0,i.timeValue===1?o+=" "+i.unit.slice(0,-1):o+=" "+i.unit,o}]},listeners:function(t){var o=t.props,i=t.values,m=function(d){var f=d.value,y=d.operator;o.onChange({operator:y||i.operator,value:f||i.value||0,type:"recording",key:"duration"})};return{setValue:function(d){var f=d.value;return m({value:f})},setOperator:function(d){var f=d.operator;return m({operator:f})}}}});function g(n){var t=n.initialFilter,o=n.onChange,i=n.pageKey,m=p({initialFilter:t,onChange:o,pageKey:i}),v=Object(_.useActions)(m),d=v.setValue,f=v.setIsOpen,y=v.setOperator,R=Object(_.useValues)(m),a=R.durationString,ae=R.value,Q=R.operator,be=R.isOpen;return Object(s.jsx)(Ye.a,{visible:be,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return f(!1)},overlay:Object(s.jsx)(M.a,{children:Object(s.jsxs)(U.b,{children:[Object(s.jsx)(Fe.a,{operator:Q,operators:[se.N.GreaterThan,se.N.LessThan],onChange:function(Ae){y(Ae)}}),Object(s.jsx)(c.a,{onChange:d,initialValue:ae||0})]})}),children:Object(s.jsx)(b.LemonButton,{type:"secondary",status:"stealth",size:"small",onClick:function(){f(!0)},children:a})})}try{g.displayName="DurationFilter",g.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/DurationFilter.tsx#DurationFilter"]={docgenInfo:g.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/filters/DurationFilter.tsx#DurationFilter"})}catch(n){}var B=e("./node_modules/core-js/modules/es.array.filter.js"),H=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),ie=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),N=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),I=e("./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js"),$=e.n(I),J=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ge=e.n(J),We=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),F=e.n(We),le=e("./node_modules/@babel/runtime/regenerator/index.js"),X=e.n(le),cs=e("./node_modules/kea-loaders/lib/index.js"),ze=e("./frontend/src/lib/api.ts"),He=e("./frontend/src/scenes/urls.ts"),ts=e("./node_modules/kea-router/lib/index.js"),ds=e("./frontend/src/models/cohortsModel.ts"),Je=e("./frontend/src/scenes/session-recordings/playlist/playlistUtils.ts");function ns(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),o.push.apply(o,i)}return o}function Ge(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?ns(Object(o),!0).forEach(function(i){ge()(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ns(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var Qe=Object(_.kea)([Object(_.path)(function(n){return["scenes","session-recordings","playlist","sessionRecordingsPlaylistLogic",n]}),Object(_.props)({}),Object(_.key)(function(n){return n.shortId}),Object(_.connect)({values:[ds.a,["cohortsById"]]}),Object(_.actions)({loadPlaylist:!0,setFilters:function(t){return{filters:t}},saveChanges:!0,duplicatePlaylist:!0}),Object(cs.loaders)(function(n){var t=n.props,o=n.values;return{playlist:[null,{loadPlaylist:function(){var i=F()(X.a.mark(function v(){return X.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",ze.b.recordings.getPlaylist(t.shortId));case 1:case"end":return f.stop()}},v)}));function m(){return i.apply(this,arguments)}return m}(),updatePlaylist:function(){var i=F()(X.a.mark(function v(d,f){var y;return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f(100);case 2:return a.next=4,ze.b.recordings.updatePlaylist(t.shortId,Ge(Ge({},d),{},{derived_name:o.derivedName}));case 4:return y=a.sent,f(),b.lemonToast.success("Playlist updated successfully"),a.abrupt("return",y);case 8:case"end":return a.stop()}},v)}));function m(v,d){return i.apply(this,arguments)}return m}(),updatePlaylistSilently:function(){var i=F()(X.a.mark(function v(d,f){var y;return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f(100);case 2:return a.next=4,ze.b.recordings.updatePlaylist(t.shortId,Ge(Ge({},d),{},{derived_name:o.derivedName}));case 4:return y=a.sent,f(),a.abrupt("return",y);case 7:case"end":return a.stop()}},v)}));function m(v,d){return i.apply(this,arguments)}return m}(),duplicatePlaylist:function(){var i=F()(X.a.mark(function v(d,f){var y;return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f(100);case 2:if(o.playlist){a.next=4;break}return a.abrupt("return",null);case 4:return a.next=6,Object(Je.c)(o.playlist);case 6:return y=a.sent,a.abrupt("return",y);case 8:case"end":return a.stop()}},v)}));function m(v,d){return i.apply(this,arguments)}return m}()}]}}),Object(_.reducers)(function(n){return $()(n),{filters:[null,{loadPlaylistSuccess:function(o,i){var m=i.playlist;return m.filters||null},setFilters:function(o,i){var m=i.filters;return m}}]}}),Object(_.listeners)(function(n){var t=n.actions,o=n.values;return{saveChanges:function(){var i=F()(X.a.mark(function v(){return X.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:t.updatePlaylist({filters:o.filters||void 0});case 1:case"end":return f.stop()}},v)}));function m(){return i.apply(this,arguments)}return m}(),loadPlaylistSuccess:function(){var i=F()(X.a.mark(function v(){var d;return X.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:((d=o.playlist)===null||d===void 0?void 0:d.derived_name)!==o.derivedName&&t.updatePlaylistSilently({derived_name:o.derivedName});case 1:case"end":return y.stop()}},v)}));function m(){return i.apply(this,arguments)}return m}()}}),Object(ts.beforeUnload)(function(n){var t=n.values,o=n.actions;return{enabled:function(){return t.hasChanges},message:"Leave playlist? Changes you made will be discarded.",onConfirm:function(){var m;o.setFilters(((m=t.playlist)===null||m===void 0?void 0:m.filters)||null)}}}),Object(_.selectors)(function(n){return $()(n),{breadcrumbs:[function(t){return[t.playlist]},function(t){return[{name:"Saved Playlists",path:He.a.sessionRecordings(se.X.Playlists)},{name:(t==null?void 0:t.name)||(t==null?void 0:t.derived_name)||"(Untitled)",path:He.a.sessionRecordingPlaylist((t==null?void 0:t.short_id)||"")}]}],hasChanges:[function(t){return[t.playlist,t.filters]},function(t,o){return!me()(t==null?void 0:t.filters,o)}],derivedName:[function(t){return[t.filters,t.cohortsById]},function(t,o){var i;return((i=Object(Je.d)(t||{},o))===null||i===void 0?void 0:i.slice(0,400))||"(Untitled)"}]}}),Object(_.afterMount)(function(n){var t=n.actions;t.loadPlaylist()})]),us=e("./frontend/src/lib/components/NotFound/index.tsx"),ms=e("./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),fs=e("./frontend/src/lib/components/LemonButton/More.tsx"),vs={component:rs,logic:Qe,paramsToProps:function(t){var o=t.params.id;return{shortId:o}}};function rs(){var n=Object(_.useValues)(Qe),t=n.playlist,o=n.playlistLoading,i=n.hasChanges,m=n.derivedName,v=Object(_.useActions)(Qe),d=v.updatePlaylist,f=v.setFilters,y=v.saveChanges,R=v.duplicatePlaylist;return!t&&o?Object(s.jsxs)("div",{className:"space-y-4 mt-6",children:[Object(s.jsx)(O.a,{className:"h-10 w-1/4"}),Object(s.jsx)(O.a,{className:" w-1/3"}),Object(s.jsx)(O.a,{className:" w-1/4"}),Object(s.jsxs)("div",{className:"flex justify-between mt-4",children:[Object(s.jsx)(O.a.Button,{}),Object(s.jsxs)("div",{className:"flex gap-4",children:[Object(s.jsx)(O.a.Button,{}),Object(s.jsx)(O.a.Button,{})]})]}),Object(s.jsxs)("div",{className:"flex justify-between gap-4 mt-8",children:[Object(s.jsx)("div",{className:"space-y-8 w-1/4",children:Object(s.jsx)(O.a,{className:"h-10",repeat:10})}),Object(s.jsx)("div",{className:"flex-1"})]})]}):t?Object(s.jsxs)("div",{children:[Object(s.jsx)(P.a,{title:Object(s.jsx)(A.a,{name:"name",value:t.name||"",placeholder:m,onSave:function(ae){return d({name:ae})},saveOnBlur:!0,maxLength:400,mode:void 0,"data-attr":"playlist-name"}),buttons:Object(s.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[Object(s.jsx)(fs.a,{overlay:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(b.LemonButton,{status:"stealth",onClick:function(){return R()},fullWidth:!0,"data-attr":"duplicate-playlist",children:"Duplicate"}),Object(s.jsx)(b.LemonButton,{status:"stealth",onClick:function(){return d({pinned:!t.pinned})},fullWidth:!0,children:t.pinned?"Unpin playlist":"Pin playlist"}),Object(s.jsx)(b.LemonDivider,{}),Object(s.jsx)(b.LemonButton,{status:"danger",onClick:function(){return Object(Je.b)(t,function(){ts.router.actions.replace(He.a.sessionRecordings(se.X.Playlists))})},fullWidth:!0,children:"Delete playlist"})]})}),Object(s.jsx)(b.LemonDivider,{vertical:!0}),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(b.LemonButton,{type:"primary",disabled:!i,loading:i&&o,onClick:y,children:"Save changes"})})]}),caption:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(A.a,{multiline:!0,name:"description",value:t.description||"",placeholder:"Description (optional)",onSave:function(ae){return d({description:ae})},saveOnBlur:!0,maxLength:400,"data-attr":"playlist-description",compactButtons:!0}),Object(s.jsx)(ms.a,{at:t.last_modified_at,by:t.last_modified_by,className:"mt-2"})]})}),t.short_id?Object(s.jsx)($e,{logicKey:t.short_id,filters:t.filters,onFiltersChange:f}):null]}):Object(s.jsx)(us.a,{object:"Recording Playlist"})}function $e(n){var t,o,i,m=n.logicKey,v=n.personUUID,d=n.filters,f=n.updateSearchParams,y=n.onFiltersChange,R=Object(ve.d)({key:m,personUUID:v,filters:d,updateSearchParams:f}),a=Object(_.useValues)(R),ae=a.sessionRecordings,Q=a.sessionRecordingIdToProperties,be=a.sessionRecordingsResponseLoading,fe=a.sessionRecordingsPropertiesResponseLoading,Ae=a.hasNext,Ze=a.hasPrev,V=a.activeSessionRecording,Z=a.filters,ps=a.totalFiltersCount,we=a.showFilters,Ue=Object(_.useActions)(R),js=Ue.setSelectedRecordingId,os=Ue.loadNext,is=Ue.loadPrev,Xe=Ue.setFilters,ls=Ue.reportRecordingsListFilterAdded,gs=Ue.setShowFilters,Ve=Object(ce.useRef)(null);Object(ce.useEffect)(function(){Z!==d&&(y==null||y(Z))},[Z]);var ys=function(q){var Re;js(q.id);var as=Ve!=null&&(Re=Ve.current)!==null&&Re!==void 0&&Re.offsetTop?Ve.current.offsetTop-8:0;window.scrollY>as&&window.scrollTo({left:0,top:as,behavior:"smooth"})},Os=function(q,Re){Xe(Object(ve.c)(Z,q,Re))},ke=(t=Z.offset)!==null&&t!==void 0?t:0,qe=ke+(be?ve.b:ae.length),Ps=qe?Object(s.jsxs)("div",{className:"flex items-center gap-1",children:[Object(s.jsx)("span",{children:"".concat(ke+1," - ").concat(qe)}),Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(w.IconChevronLeft,{}),status:"stealth",size:"small",disabled:!Ze,onClick:function(){is(),window.scrollTo(0,0)}}),Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(w.IconChevronRight,{}),status:"stealth",disabled:!Ae,size:"small",onClick:function(){os(),window.scrollTo(0,0)}})]}):null;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-4",children:[Object(s.jsx)(b.LemonButton,{type:"secondary",size:"small",icon:Object(s.jsx)(w.IconWithCount,{count:ps,children:Object(s.jsx)(w.IconFilter,{})}),onClick:function(){if(gs(!we),v){var q=document.querySelectorAll(".entity-filter-row button");q.length>0&&q[0].click()}},children:we?"Hide filters":"Filter recordings"}),Object(s.jsxs)("div",{className:"flex items-center gap-4",children:[Object(s.jsx)(S.a,{dateFrom:(o=Z.date_from)!==null&&o!==void 0?o:"-7d",dateTo:(i=Z.date_to)!==null&&i!==void 0?i:void 0,onChange:function(q,Re){ls(oe.d.DateRange),Xe({date_from:q,date_to:Re})},dateOptions:[{key:"Custom",values:[]},{key:"Last 24 hours",values:["-24h"]},{key:"Last 7 days",values:["-7d"]},{key:"Last 21 days",values:["-21d"]}]}),Object(s.jsxs)("div",{className:"flex gap-2",children:[Object(s.jsx)(je.a,{children:"Duration"}),Object(s.jsx)(g,{onChange:function(q){ls(oe.d.Duration),Xe({session_recording_duration:q})},initialFilter:Z.session_recording_duration,pageKey:v?"person-".concat(v):"session-recordings"})]})]})]}),Object(s.jsxs)("div",{ref:Ve,className:"SessionRecordingsPlaylist","data-attr":"session-recordings-playlist",children:[Object(s.jsxs)("div",{className:"SessionRecordingsPlaylist__left-column space-y-4",children:[we?Object(s.jsx)(W,{filters:Z,setFilters:Xe,showPropertyFilters:!v}):null,Object(s.jsxs)("div",{className:"w-full overflow-hidden border rounded",children:[Object(s.jsxs)("div",{className:"relative flex justify-between items-center bg-mid py-3 px-4 border-b",children:[Object(s.jsx)("span",{className:"font-bold uppercase text-xs my-1 tracking-wide",children:"Recent Recordings"}),Ps,Object(s.jsx)(G.a,{loading:be})]}),ae.length?Object(s.jsx)("ul",{className:Object(C.a)(be?"opacity-50":""),children:ae.map(function(K,q){return Object(s.jsxs)(s.Fragment,{children:[q>0&&Object(s.jsx)("div",{className:"border-t"}),Object(s.jsx)(D,{recording:K,recordingProperties:Q[K.id],recordingPropertiesLoading:fe,onClick:function(){return ys(K)},onPropertyClick:Os,isActive:(V==null?void 0:V.id)===K.id},K.id)]})})}):be?Object(s.jsx)(s.Fragment,{children:Object(Ne.vb)(ve.b).map(function(K){return Object(s.jsxs)("div",{className:"p-4 space-y-2 border-b",children:[Object(s.jsx)(O.a,{className:"w-1/2"}),Object(s.jsx)(O.a,{className:"w-1/3"})]},K)})}):Object(s.jsx)("p",{className:"text-muted-alt m-4",children:"No matching recordings found"})]}),Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(w.IconChevronLeft,{}),type:"secondary",disabled:!Ze,onClick:function(){is(),window.scrollTo(0,0)},children:"Previous"}),Object(s.jsx)("span",{children:"".concat(ke+1," - ").concat(qe)}),Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(w.IconChevronRight,{}),type:"secondary",disabled:!Ae,onClick:function(){os(),window.scrollTo(0,0)},children:"Next"})]})]}),Object(s.jsx)("div",{className:"SessionRecordingsPlaylist__right-column",children:V!=null&&V.id?Object(s.jsx)(ue.a,{playerKey:"playlist",sessionRecordingId:V==null?void 0:V.id,matching:V==null?void 0:V.matching_events,recordingStartTime:V?V.start_time:void 0}):Object(s.jsx)("div",{className:"mt-20",children:Object(s.jsx)(Pe.a,{title:"No recording selected",description:"Please select a recording from the list on the left",buttonText:"Learn more about recordings",buttonTo:"https://posthog.com/docs/user-guides/recordings"})})})]})]})}try{$e.displayName="SessionRecordingsPlaylist",$e.__docgenInfo={description:"",displayName:"SessionRecordingsPlaylist",props:{logicKey:{defaultValue:null,description:"",name:"logicKey",required:!0,type:{name:"string"}},personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},filters:{defaultValue:null,description:"",name:"filters",required:!1,type:{name:"RecordingFilters"}},updateSearchParams:{defaultValue:null,description:"",name:"updateSearchParams",required:!1,type:{name:"boolean"}},onFiltersChange:{defaultValue:null,description:"",name:"onFiltersChange",required:!1,type:{name:"((filters: RecordingFilters) => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"]={docgenInfo:$e.__docgenInfo,name:"SessionRecordingsPlaylist",path:"frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"})}catch(n){}},"./frontend/src/scenes/session-recordings/playlist/playlistUtils.ts":function(De,E,e){"use strict";e.d(E,"d",function(){return h}),e.d(E,"a",function(){return W}),e.d(E,"c",function(){return O}),e.d(E,"b",function(){return ne});var ye=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Se=e.n(ye),Ce=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ee=e.n(Ce),Le=e("./node_modules/@babel/runtime/regenerator/index.js"),ee=e.n(Le),Be=e("./node_modules/core-js/modules/es.array.slice.js"),ce=e("./node_modules/core-js/modules/es.array.join.js"),_=e("./node_modules/core-js/modules/es.array.map.js"),Ne=e("./node_modules/core-js/modules/es.array.filter.js"),se=e("./node_modules/core-js/modules/es.object.to-string.js"),ve=e("./node_modules/core-js/modules/es.array.concat.js"),Te=e("./node_modules/core-js/modules/es.number.constructor.js"),Oe=e("./node_modules/core-js/modules/es.function.name.js"),Me=e("./node_modules/core-js/modules/es.string.trim.js"),de=e("./frontend/src/scenes/insights/filters/ActionFilter/entityFilterLogic.ts"),pe=e("./frontend/src/scenes/insights/utils.tsx"),z=e("./frontend/src/lib/utils.tsx"),te=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),ue=e("./node_modules/core-js/modules/es.symbol.js"),Pe=e("./node_modules/core-js/modules/es.symbol.description.js"),b=e("./frontend/src/lib/components/LemonDialog/index.ts"),w=e("./frontend/src/scenes/billing/v2/Billing.tsx"),he=e("./node_modules/react/jsx-runtime.js");function k(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=j.title,L=x===void 0?"Unlock premium features":x,T=j.description;b.a.open({title:L,description:T,content:Object(he.jsx)(he.Fragment,{children:Object(he.jsx)(w.a,{})}),width:800,primaryButton:{children:"Maybe later...",type:"secondary"}})}try{k.displayName="openBillingPopupModal",k.__docgenInfo={description:"",displayName:"openBillingPopupModal",props:{title:{defaultValue:{value:"Unlock premium features"},description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/billing/v2/BillingPopup.tsx#openBillingPopupModal"]={docgenInfo:k.__docgenInfo,name:"openBillingPopupModal",path:"frontend/src/scenes/billing/v2/BillingPopup.tsx#openBillingPopupModal"})}catch(j){}var Ie=e("./frontend/src/lib/api.ts"),Y=e("./frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts"),Ke=e("./frontend/@posthog/lemon-ui/src/index.ts"),_e=e("./node_modules/kea-router/lib/index.js"),je=e("./frontend/src/scenes/urls.ts"),xe=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),me=["id","short_id"];function s(j){return j?z.I!==null&&z.I!==void 0&&z.I[j]?z.I[j].slice(0,1):String(j):"?"}function h(j,x){var L,T,D=Object(de.c)(j);T=D.map(function(S){return Object(pe.e)(S)}).join(" & ");var A=Object(z.r)(j.properties);if(A&&((L=A.length)!==null&&L!==void 0?L:0)>0){var P=A.map(function(S){if(S.type==="person"){var oe;return"".concat(((oe=Object(te.b)(S.key,"event"))===null||oe===void 0?void 0:oe.label)||S.key," ").concat(s(S.operator)," ").concat(S.value)}if(S.type==="cohort"){var M,U=Number(S.value);return"cohorts: ".concat(S.value==="all"?"all users":U in x?(M=x[U])===null||M===void 0?void 0:M.name:"ID ".concat(U))}}).filter(function(S){return!!S}).join(" & ");T+="".concat(T?", on ":"").concat(P)}return T.trim()||null}function W(j){return C.apply(this,arguments)}function C(){return C=Ee()(ee.a.mark(function j(x){var L,T,D=arguments;return ee.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return L=D.length>1&&D[1]!==void 0?D[1]:!0,P.prev=1,x.filters=x.filters||xe.a,P.next=5,Ie.b.recordings.createPlaylist(x);case 5:return T=P.sent,L&&_e.router.actions.push(je.a.sessionRecordingPlaylist(T.short_id)),P.abrupt("return",T);case 10:if(P.prev=10,P.t0=P.catch(1),P.t0.status!==403){P.next=16;break}k({title:"Upgrade now to unlock unlimited playlists",description:Y.a}),P.next=17;break;case 16:throw P.t0;case 17:return P.abrupt("return",null);case 18:case"end":return P.stop()}},j,null,[[1,10]])})),C.apply(this,arguments)}function O(j){return G.apply(this,arguments)}function G(){return G=Ee()(ee.a.mark(function j(x){var L,T,D,A,P,S=arguments;return ee.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return L=S.length>1&&S[1]!==void 0?S[1]:!0,T=x.id,D=x.short_id,A=Se()(x,me),A.name=A.name?A.name+" (copy)":"",A.derived_name=A.derived_name,M.next=6,W(x,L);case 6:if(P=M.sent,P){M.next=9;break}return M.abrupt("return",null);case 9:return Ke.lemonToast.success("Playlist duplicated successfully"),M.abrupt("return",P);case 11:case"end":return M.stop()}},j)})),G.apply(this,arguments)}function ne(j,x){return re.apply(this,arguments)}function re(){return re=Ee()(ee.a.mark(function j(x,L){return ee.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(z.x)({object:x,idField:"short_id",endpoint:"projects/@current/session_recording_playlists",callback:L}));case 1:case"end":return D.stop()}},j)})),re.apply(this,arguments)}},"./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts":function(De,E,e){"use strict";e.d(E,"b",function(){return Fe}),e.d(E,"a",function(){return Ye}),e.d(E,"c",function(){return es}),e.d(E,"d",function(){return ss});var ye=e("./node_modules/core-js/modules/es.object.keys.js"),Se=e.n(ye),Ce=e("./node_modules/core-js/modules/es.symbol.js"),Ee=e.n(Ce),Le=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),ee=e.n(Le),Be=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),ce=e.n(Be),_=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Ne=e.n(_),se=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ve=e.n(se),Te=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Oe=e.n(Te),Me=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),de=e.n(Me),pe=e("./node_modules/@babel/runtime/regenerator/index.js"),z=e.n(pe),te=e("./node_modules/core-js/modules/es.array.find.js"),ue=e.n(te),Pe=e("./node_modules/core-js/modules/es.object.to-string.js"),b=e.n(Pe),w=e("./node_modules/core-js/modules/es.function.name.js"),he=e.n(w),k=e("./node_modules/core-js/modules/es.array.map.js"),Ie=e.n(k),Y=e("./node_modules/core-js/modules/es.array.concat.js"),Ke=e.n(Y),_e=e("./node_modules/core-js/modules/es.array.filter.js"),je=e.n(_e),xe=e("./node_modules/core-js/modules/es.array.iterator.js"),me=e.n(xe),s=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),h=e.n(s),W=e("./node_modules/core-js/modules/es.object.from-entries.js"),C=e.n(W),O=e("./node_modules/kea/lib/index.esm.js"),G=e("./frontend/src/lib/api.ts"),ne=e("./frontend/src/lib/utils.tsx"),re=e("./frontend/src/types.ts"),j=e("./node_modules/kea-router/lib/index.js"),x=e.n(j),L=e("./frontend/src/lib/utils/eventUsageLogic.ts"),T=e("./node_modules/fast-deep-equal/index.js"),D=e.n(T),A=e("./frontend/src/lib/dayjs.ts"),P=e("./node_modules/kea-loaders/lib/index.js"),S=e.n(P),oe=e("./frontend/src/scenes/urls.ts");function M(r,l){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);l&&(u=u.filter(function(p){return Object.getOwnPropertyDescriptor(r,p).enumerable})),c.push.apply(c,u)}return c}function U(r){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?M(Object(c),!0).forEach(function(u){de()(r,u,c[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):M(Object(c)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(c,u))})}return r}var Fe=20,Ye={session_recording_duration:{type:"recording",key:"duration",value:60,operator:re.N.GreaterThan},properties:[],events:[],actions:[],date_from:Object(A.a)().subtract(21,"days").format("YYYY-MM-DD")},es=function(l,c,u){var p,g,B=(p=l.events)===null||p===void 0?void 0:p.find(function(N){var I=N.name;return I==="$pageview"}),H=(g=l.events)!==null&&g!==void 0?g:[],ie=u?{key:c,value:[u],operator:re.N.Exact,type:"event"}:{key:c,value:re.N.IsNotSet,operator:re.N.IsNotSet,type:"event"};return B?{events:H.map(function(N){var I,$;return N.order===B.order?U(U({},N),{},{properties:[].concat(Oe()((I=($=N.properties)===null||$===void 0?void 0:$.filter(function(J){var ge=J.key;return ge!==c}))!==null&&I!==void 0?I:[]),[ie])}):N})}:{events:[].concat(Oe()(H),[{id:"$pageview",name:"$pageview",type:"events",order:H.length,properties:[ie]}])}},ss=Object(O.kea)([Object(O.path)(function(r){return["scenes","session-recordings","playlist","sessionRecordingsListLogic",r]}),Object(O.props)({}),Object(O.key)(function(r){var l;return"".concat(r.key,"-").concat((l=r.updateSearchParams)!==null&&l!==void 0?l:"-with-search")}),Object(O.connect)({actions:[L.e,["reportRecordingsListFetched","reportRecordingsListPropertiesFetched","reportRecordingsListFilterAdded"]]}),Object(O.actions)({getSessionRecordings:!0,setFilters:function(l){return{filters:l}},replaceFilters:function(l){return{filters:l}},setShowFilters:function(l){return{showFilters:l}},setSelectedRecordingId:function(l){return{id:l}},loadNext:!0,loadPrev:!0}),Object(P.loaders)(function(r){var l=r.props,c=r.values,u=r.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var p=ve()(z.a.mark(function B(H,ie){var N,I,$,J,ge,We;return z.a.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return I=U(U({},c.filters),{},{person_uuid:(N=l.personUUID)!==null&&N!==void 0?N:"",limit:Fe}),$=Object(ne.Gb)(I),le.next=4,ie(100);case 4:return J=performance.now(),le.next=7,G.b.recordings.list($);case 7:return ge=le.sent,We=performance.now()-J,u.reportRecordingsListFetched(We),ie(),le.abrupt("return",ge);case 12:case"end":return le.stop()}},B)}));function g(B,H){return p.apply(this,arguments)}return g}()}],sessionRecordingsPropertiesResponse:[{results:[]},{getSessionRecordingsProperties:function(){var p=ve()(z.a.mark(function B(H,ie){var N,I,$,J,ge;return z.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!(c.sessionRecordingsResponse.results.length<1)){F.next=2;break}return F.abrupt("return",{results:[]});case 2:return N={session_ids:c.sessionRecordingsResponse.results.map(function(le){var X=le.id;return X})},I=Object(ne.Gb)(N),F.next=6,ie(100);case 6:return $=performance.now(),F.next=9,G.b.recordings.listProperties(I);case 9:return J=F.sent,ge=performance.now()-$,u.reportRecordingsListPropertiesFetched(ge),ie(),F.abrupt("return",J);case 14:case"end":return F.stop()}},B)}));function g(B,H){return p.apply(this,arguments)}return g}()}]}}),Object(O.reducers)(function(r){var l=r.props;return{filters:[l.filters||Ye,{replaceFilters:function(u,p){var g=p.filters;return g},setFilters:function(u,p){var g=p.filters;return U(U({},u),g)}}],showFilters:[!1,{setShowFilters:function(u,p){var g=p.showFilters;return g}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(u,p){var g=p.sessionRecordingsResponse;return Oe()(g.results)},setSelectedRecordingId:function(u,p){var g=p.id;return Oe()(u.map(function(B){return B.id===g?U(U({},B),{},{viewed:!0}):U({},B)}))}}],selectedRecordingId:[null,{setSelectedRecordingId:function(u,p){var g=p.id;return g!=null?g:null}}]}}),Object(O.listeners)(function(r){var l=r.actions,c=r.values;return{setFilters:function(){l.getSessionRecordings()},replaceFilters:function(){l.getSessionRecordings()},loadNext:function(){var p;l.setFilters({offset:(((p=c.filters)===null||p===void 0?void 0:p.offset)||0)+Fe})},loadPrev:function(){var p;l.setFilters({offset:Math.max((((p=c.filters)===null||p===void 0?void 0:p.offset)||0)-Fe,0)})},getSessionRecordingsSuccess:function(){l.getSessionRecordingsProperties({})}}}),Object(O.selectors)({sessionRecordingIdToProperties:[function(r){return[r.sessionRecordingsPropertiesResponse]},function(r){var l;return(l=Object.fromEntries(r.results.map(function(c){var u=c.id,p=c.properties;return[u,p]})))!==null&&l!==void 0?l:{}}],activeSessionRecording:[function(r){return[r.selectedRecordingId,r.sessionRecordings]},function(r,l){return r?l.find(function(c){return c.id===r})||{id:r}:l[0]}],hasPrev:[function(r){return[r.filters]},function(r){return(r.offset||0)>0}],hasNext:[function(r){return[r.sessionRecordingsResponse]},function(r){return r.has_next}],totalFiltersCount:[function(r){return[r.filters]},function(r){var l,c,u;return((r==null||(l=r.actions)===null||l===void 0?void 0:l.length)||0)+((r==null||(c=r.events)===null||c===void 0?void 0:c.length)||0)+((r==null||(u=r.properties)===null||u===void 0?void 0:u.length)||0)}]}),Object(O.afterMount)(function(r){var l=r.actions;l.getSessionRecordings()}),Object(j.actionToUrl)(function(r){var l=r.props,c=r.values;if(!l.updateSearchParams)return{};var u=function(g){var B={filters:c.filters},H=U({},j.router.values.hashParams);return c.selectedRecordingId?H.sessionRecordingId=c.selectedRecordingId:delete H.sessionRecordingId,[j.router.values.location.pathname,B,H,{replace:g}]};return{loadSessionRecordings:function(){return u(!0)},setSelectedRecordingId:function(){return u(!1)},setFilters:function(){return u(!0)}}}),Object(j.urlToAction)(function(r){var l,c=r.actions,u=r.values,p=r.props,g=function(H,ie,N){var I;if(!!p.updateSearchParams){var $=(I=N.sessionRecordingId)!==null&&I!==void 0?I:null;$!==u.selectedRecordingId&&c.setSelectedRecordingId($);var J=ie.filters;J&&(D()(J,u.filters)||c.replaceFilters(J))}};return l={},de()(l,oe.a.sessionRecordings(),g),de()(l,oe.a.sessionRecordings(re.X.Recent),g),de()(l,oe.a.person("*"),g),l})])},"./frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts":function(De,E,e){"use strict";e.d(E,"b",function(){return je}),e.d(E,"a",function(){return xe}),e.d(E,"c",function(){return me});var ye=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Se=e.n(ye),Ce=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ee=e.n(Ce),Le=e("./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js"),ee=e.n(Le),Be=e("./node_modules/@babel/runtime/regenerator/index.js"),ce=e.n(Be),_=e("./node_modules/core-js/modules/es.array.iterator.js"),Ne=e.n(_),se=e("./node_modules/core-js/modules/es.object.to-string.js"),ve=e.n(se),Te=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Oe=e.n(Te),Me=e("./node_modules/core-js/modules/es.regexp.exec.js"),de=e.n(Me),pe=e("./node_modules/core-js/modules/es.string.replace.js"),z=e.n(pe),te=e("./node_modules/kea/lib/index.esm.js"),ue=e("./frontend/src/types.ts"),Pe=e("./frontend/src/scenes/urls.ts"),b=e("./node_modules/kea-router/lib/index.js"),w=e.n(b),he=e("./frontend/src/lib/logic/featureFlagLogic.ts"),k=e("./frontend/src/lib/constants.tsx"),Ie=e("./frontend/src/lib/utils.tsx"),Y=e("./node_modules/kea-loaders/lib/index.js"),Ke=e.n(Y),_e=e("./frontend/src/scenes/session-recordings/playlist/playlistUtils.ts"),je=function(h){switch(h){case ue.X.Recent:return"Recent Recordings";case ue.X.Playlists:return"Saved Playlists";default:return Object(Ie.i)(h)}},xe="You have reached the free limit of ".concat(k.w," saved playlists"),me=Object(te.kea)([Object(te.path)(function(){return["scenes","session-recordings","root"]}),Object(te.connect)({values:[he.a,["featureFlags"]]}),Object(te.actions)({setTab:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ue.X.Recent;return{tab:h}},saveNewPlaylist:!0}),Object(te.reducers)(function(s){return ee()(s),{tab:[ue.X.Recent,{setTab:function(W,C){var O=C.tab;return O}}]}}),Object(Y.loaders)(function(s){var h=s.values;return{newPlaylist:[null,{saveNewPlaylist:function(){var W=Ee()(ce.a.mark(function O(){var G,ne;return ce.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return ne=(G=b.router.values.searchParams)===null||G===void 0?void 0:G.filters,j.next=3,Object(_e.a)({filters:h.tab===ue.X.Recent?ne:void 0});case 3:return j.abrupt("return",j.sent);case 4:case"end":return j.stop()}},O)}));function C(){return W.apply(this,arguments)}return C}()}]}}),Object(b.actionToUrl)(function(s){var h=s.values;return{setTab:function(){return[Pe.a.sessionRecordings(h.tab),b.router.values.searchParams]}}}),Object(te.selectors)(function(s){return ee()(s),{breadcrumbs:[function(h){return[h.tab]},function(h){return[{name:je(h)}]}]}}),Object(b.urlToAction)(function(s){var h,W=s.actions,C=s.values;return h={},Se()(h,Pe.a.sessionRecordings(),function(){!C.featureFlags[k.h.RECORDING_PLAYLISTS]||b.router.actions.replace(Pe.a.sessionRecordings(ue.X.Recent))}),Se()(h,"/recordings/:tab",function(G){var ne=G.tab;!C.featureFlags[k.h.RECORDING_PLAYLISTS]||ne!==C.tab&&W.setTab(ne)}),h})])},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.scss":function(De,E,e){var ye=e("./node_modules/css-loader/dist/runtime/api.js");E=ye(!1),E.push([De.i,".SessionRecordingsPlaylist{display:flex;flex-direction:column-reverse;align-items:flex-start;gap:1rem;overflow:hidden}@media screen and (min-width:768px){.SessionRecordingsPlaylist{flex-direction:row;justify-content:flex-start}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{flex-shrink:0}@media screen and (min-width:768px){.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{width:30%;min-width:350px;max-width:400px}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__list-item .SessionRecordingsPlaylist__list-item__property-icon:hover{transition:opacity .2s;opacity:1}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__pagination-control{margin-top:1rem;display:flex;width:100%;justify-content:flex-end;align-items:center}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column{flex:1;overflow:hidden}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column .SessionRecordingsPlaylist__loading{display:flex;align-items:center;justify-content:center;margin-top:10rem}",""]),De.exports=E}}]);
