(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{"./frontend/src/scenes/persons/Persons.scss":function(x,r,e){"use strict";var a=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),s=e.n(a),i=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),S=e.n(i),y={};y.insert="head",y.singleton=!1;var j=s()(S.a,y),C=S.a.locals||{}},"./frontend/src/scenes/persons/Persons.tsx":function(x,r,e){"use strict";e.r(r),e.d(r,"scene",function(){return G}),e.d(r,"Persons",function(){return E});var a=e("./node_modules/react/index.js"),s=e.n(a),i=e("./node_modules/kea/lib/index.esm.js"),S=e("./node_modules/core-js/modules/es.array.concat.js"),y=e("./node_modules/core-js/modules/es.object.keys.js"),j=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),C=e.n(j),I=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),b=e("./frontend/src/lib/components/PropertiesTable.tsx"),_=e("./frontend/src/scenes/persons/Persons.scss"),N=e("./frontend/src/lib/components/CopyToClipboard.tsx"),V=e("./frontend/src/scenes/persons/PersonHeader.tsx"),B=e("./frontend/src/lib/components/LemonTable/index.ts");function T(n){var l=n.people,c=n.loading,h=c===void 0?!1:c,p=n.hasPrevious,g=n.hasNext,m=n.loadPrevious,d=n.loadNext,u=n.compact,f=[{title:"Person",key:"person",render:function(t,o){return s.a.createElement(V.a,{withIcon:!0,person:o})}},{title:"ID",key:"id",render:function(t,o){return s.a.createElement("div",{style:{overflow:"hidden"}},o.distinct_ids.length&&s.a.createElement(N.a,{explicitValue:o.distinct_ids[0],iconStyle:{color:"var(--primary)"},description:"person distinct ID"},o.distinct_ids[0]))}}].concat(C()(u?[]:[{title:"First seen",dataIndex:"created_at",render:function(t){return t?s.a.createElement(I.b,{time:t}):s.a.createElement(s.a.Fragment,null)}}]));return s.a.createElement(B.a,{columns:f,loading:h,rowKey:"id",pagination:{controlled:!0,pageSize:100,onForward:g?function(){d==null||d(),window.scrollTo(0,0)}:void 0,onBackward:p?function(){m==null||m(),window.scrollTo(0,0)}:void 0},expandable:{expandedRowRender:function(t){var o=t.properties;return Object.keys(o).length?s.a.createElement(b.a,{properties:o}):"This person has no properties."}},dataSource:l,emptyState:"No persons",nouns:["person","persons"]})}try{T.displayName="PersonsTable",T.__docgenInfo={description:"",displayName:"PersonsTable",props:{people:{defaultValue:null,description:"",name:"people",required:!0,type:{name:"PersonType[]"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},hasPrevious:{defaultValue:null,description:"",name:"hasPrevious",required:!1,type:{name:"boolean"}},hasNext:{defaultValue:null,description:"",name:"hasNext",required:!1,type:{name:"boolean"}},loadPrevious:{defaultValue:null,description:"",name:"loadPrevious",required:!1,type:{name:"(() => void)"}},loadNext:{defaultValue:null,description:"",name:"loadNext",required:!1,type:{name:"(() => void)"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"]={docgenInfo:T.__docgenInfo,name:"PersonsTable",path:"frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"})}catch(n){}var D=e("./node_modules/antd/es/row/index.js"),K=e("./node_modules/antd/es/popconfirm/index.js"),P=e("./frontend/src/scenes/persons/personsLogic.ts"),J=e("./node_modules/core-js/modules/es.regexp.exec.js"),$=e("./node_modules/core-js/modules/es.string.search.js"),M=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),z=e.n(M),U=e("./node_modules/antd/es/input/index.js"),H=e("./frontend/src/lib/components/LemonRow/index.ts"),L=e("./frontend/src/lib/components/icons.tsx"),O=function(l){var c=l.autoFocus,h=c===void 0?!0:c,p=Object(i.useActions)(P.a),g=p.loadPersons,m=p.setListFilters,d=Object(i.useValues)(P.a),u=d.listFilters,f=Object(a.useState)(""),v=z()(f,2),t=v[0],o=v[1];return Object(a.useEffect)(function(){o(u.search||"")},[]),s.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"min(100%, 24rem)"}},s.a.createElement(U.a.Search,{"data-attr":"persons-search",placeholder:"Search for persons",autoFocus:h,value:t,onChange:function(F){o(F.target.value),F.target.value||(m({search:void 0}),g())},enterButton:!0,allowClear:!0,onSearch:function(){m({search:t||void 0}),g()},style:{width:"100%"}}),s.a.createElement(H.a,{type:"stealth",tooltip:s.a.createElement(s.a.Fragment,null,"Search by email, name, ID, or even contents of properties. You can also search for persons who just ",s.a.createElement("i",null,"have"),' a property like so: "has:your_property".'),icon:s.a.createElement(L.IconInfo,null)}))};try{O.displayName="PersonsSearch",O.__docgenInfo={description:"",displayName:"PersonsSearch",props:{autoFocus:{defaultValue:{value:"true"},description:"",name:"autoFocus",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"]={docgenInfo:O.__docgenInfo,name:"PersonsSearch",path:"frontend/src/scenes/persons/PersonsSearch.tsx#PersonsSearch"})}catch(n){}var Y=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),W=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),R=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),w=e("./frontend/src/lib/components/LemonButton/index.ts"),G={component:E,logic:P.a,paramsToProps:function(){return{syncWithUrl:!0}}};function E(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=n.cohort,c={cohort:l==null?void 0:l.id,syncWithUrl:!l},h=Object(i.useActions)(Object(P.a)(c)),p=h.loadPersons,g=h.setListFilters,m=h.exportCsv,d=Object(i.useValues)(Object(P.a)(c)),u=d.persons,f=d.listFilters,v=d.personsLoading,t=d.exportUrl;return s.a.createElement(i.BindLogic,{logic:P.a,props:c},s.a.createElement("div",{className:"persons-list"},s.a.createElement(Y.a,{hideGroupTabs:!!l}),s.a.createElement(D.a,{align:"middle",justify:"space-between",className:"mb",style:{gap:"0.75rem"}},s.a.createElement(O,{autoFocus:!l}),s.a.createElement("div",null,s.a.createElement(K.a,{placement:"topRight",title:s.a.createElement(s.a.Fragment,null,"Exporting by csv is limited to 10,000 users.",s.a.createElement("br",null),"To return more, please use"," ",s.a.createElement("a",{href:"https://posthog.com/docs/api/persons"},"the API"),". Do you want to export by CSV?"),onConfirm:m},t&&s.a.createElement(w.a,{type:"secondary",icon:s.a.createElement(L.IconExport,{style:{color:"var(--primary)"}})},f.properties&&f.properties.length>0?s.a.createElement("div",{style:{display:"block"}},"Export (",s.a.createElement("strong",null,f.properties.length)," filter)"):"Export")))),s.a.createElement(W.a,{pageKey:"persons-list-page",propertyFilters:f.properties,onChange:function(A){g({properties:A}),p()},endpoint:"person",taxonomicGroupTypes:[R.a.PersonProperties,R.a.Cohorts],showConditionBadge:!0}),s.a.createElement(T,{people:u.results,loading:v,hasPrevious:!!u.previous,hasNext:!!u.next,loadPrevious:function(){return p(u.previous)},loadNext:function(){return p(u.next)}})))}try{E.displayName="Persons",E.__docgenInfo={description:"",displayName:"Persons",props:{cohort:{defaultValue:null,description:"",name:"cohort",required:!1,type:{name:"CohortType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Persons.tsx#Persons"]={docgenInfo:E.__docgenInfo,name:"Persons",path:"frontend/src/scenes/persons/Persons.tsx#Persons"})}catch(n){}},"./node_modules/@ant-design/icons/es/icons/SaveOutlined.js":function(x,r,e){"use strict";var a=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=e("./node_modules/react/index.js"),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},S=i,y=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),j=function(b,_){return s.createElement(y.a,Object(a.a)(Object(a.a)({},b),{},{ref:_,icon:S}))};j.displayName="SaveOutlined";var C=r.a=s.forwardRef(j)},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(x,r,e){var a=e("./node_modules/css-loader/dist/runtime/api.js");r=a(!1),r.push([x.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:#5375ff;cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),x.exports=r}}]);
