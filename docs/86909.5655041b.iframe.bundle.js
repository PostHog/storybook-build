(self.webpackChunk_posthog_frontend=self.webpackChunk_posthog_frontend||[]).push([[86909],{"./src/lib/components/CompactList/CompactList.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>CompactList_CompactList_CompactList});var injectStylesIntoStyleTag=__webpack_require__("../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),CompactList=__webpack_require__("../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.2_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./src/lib/components/CompactList/CompactList.scss"),CompactList_default=__webpack_require__.n(CompactList),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(CompactList_default(),options),CompactList_default().locals;var clsx_m=__webpack_require__("../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),index_esm=__webpack_require__("../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),LemonButton=__webpack_require__("./src/lib/lemon-ui/LemonButton/index.ts"),LemonDivider=__webpack_require__("./src/lib/lemon-ui/LemonDivider/index.ts"),LemonSkeleton=__webpack_require__("./src/lib/lemon-ui/LemonSkeleton/index.ts"),themeLogic=__webpack_require__("./src/layout/navigation-3000/themeLogic.ts"),EmptyMessage=__webpack_require__("./src/lib/components/EmptyMessage/EmptyMessage.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function CompactList_CompactList_CompactList(_ref){let{title,viewAllURL,loading,items,emptyMessage,renderRow,contentHeightBehavior="fixed"}=_ref,{theme}=(0,index_esm.useValues)(themeLogic.b);return(0,jsx_runtime.jsxs)("div",{className:"CompactList",style:theme?.boxStyle,children:[title&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"CompactList__header",children:[(0,jsx_runtime.jsx)("h3",{className:"px-2 truncate",title:"string"==typeof title?title:void 0,children:title}),viewAllURL&&(0,jsx_runtime.jsx)(LemonButton.J,{to:viewAllURL,children:"View all"})]}),(0,jsx_runtime.jsx)("div",{className:"mx-2",children:(0,jsx_runtime.jsx)(LemonDivider.p,{className:"my-0"})})]}),(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("CompactList__content","shrink"===contentHeightBehavior&&"max-h-[16rem] h-auto"),children:loading?(0,jsx_runtime.jsx)("div",{className:"p-2 space-y-6",children:Array.from({length:6},(_,index)=>(0,jsx_runtime.jsx)(LemonSkeleton.y,{},index))}):0===items.length&&emptyMessage?(0,jsx_runtime.jsx)(EmptyMessage.M,{...emptyMessage}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:items.map((item,index)=>renderRow(item,index))})})]})}},"./src/lib/hooks/useWindowSize.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>useWindowSize});var lib_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/constants.tsx"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function useWindowSize(){let isClient="object"==typeof window,getSize=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>({width:isClient?window.innerWidth:void 0,height:isClient?window.innerHeight:void 0}),[isClient]),[windowSize,setWindowSize]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getSize),isWindowLessThan=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(breakpoint=>!!windowSize?.width&&windowSize.width<lib_constants__WEBPACK_IMPORTED_MODULE_0__.zy[breakpoint],[windowSize]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{if(isClient)return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize);function handleResize(){setWindowSize(getSize())}},[]),{windowSize,isWindowLessThan}}},"./src/lib/lemon-ui/LemonSegmentedSelect/LemonSegmentedSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>LemonSegmentedSelect});var lib_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/lib/hooks/useWindowSize.ts");__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");var _LemonSegmentedButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/lemon-ui/LemonSegmentedButton/index.ts"),_LemonSelect__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/lemon-ui/LemonSelect/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function LemonSegmentedSelect(_ref){let{shrinkOn,...props}=_ref,{windowSize:{width=0}}=(0,lib_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_0__.i)();return null!=shrinkOn&&props.options.length>=shrinkOn||width<100*props.options.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_LemonSelect__WEBPACK_IMPORTED_MODULE_3__.Yv,{...props}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_LemonSegmentedButton__WEBPACK_IMPORTED_MODULE_2__.P,{...props})}},"./src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>ProjectHomePageCompactListItem});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./@posthog/lemon-ui/src/index.ts");__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ProjectHomePageCompactListItem(_ref){let{to,onClick,title,subtitle,prefix,suffix}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{fullWidth:!0,to:to,onClick:onClick,className:"h-12",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"flex items-start justify-between overflow-hidden gap-2 flex-1",children:[prefix?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"flex shrink-0 text-secondary text-xl",children:prefix}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"truncate space-y-0.5 flex-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"text-link truncate",children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"truncate text-secondary font-normal text-xs",children:subtitle})]}),suffix?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"shrink-0",children:suffix}):null]})})}},"./src/scenes/project-homepage/WatchNextPanel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZB:()=>RecordingRow,d4:()=>WatchNextList,rt:()=>WatchNextPanel}),__webpack_require__("./src/scenes/project-homepage/ProjectHomepage.scss");var _posthog_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@posthog+icons@0.10.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),clsx__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_CompactList_CompactList__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/components/CompactList/CompactList.tsx"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/lemon-ui/icons/index.ts"),lib_lemon_ui_LemonSnack__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/lib/lemon-ui/LemonSnack/index.ts"),lib_lemon_ui_ProfilePicture__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/lib/lemon-ui/ProfilePicture/index.ts"),lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/lib/lemon-ui/Tooltip/index.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/lib/utils.tsx"),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/lib/utils/eventUsageLogic.ts"),scenes_persons_person_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/scenes/persons/person-utils.ts"),scenes_session_recordings_player_modal_sessionPlayerModalLogic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/scenes/session-recordings/player/modal/sessionPlayerModalLogic.ts"),scenes_session_recordings_playlist_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/scenes/teamLogic.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/scenes/urls.ts"),_ProjectHomePageCompactListItem__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ActivityScoreLabel(_ref){let{score}=_ref,n=null!=score?score:0,backgroundColor="bg-primary-alt-highlight",description="very low";return n>=90?(backgroundColor="bg-success-highlight",description="very high"):n>=75?(backgroundColor="bg-success-highlight",description="high"):n>=50?(backgroundColor="bg-warning-highlight",description="medium"):n>=25&&(backgroundColor="bg-warning-highlight",description="low"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(lib_lemon_ui_LemonSnack__WEBPACK_IMPORTED_MODULE_5__.L,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_17__.default)(backgroundColor,"text-xs"),children:["activity: ",description]})}function RecordingRow(_ref2){let{recording}=_ref2,{openSessionPlayer}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(scenes_session_recordings_player_modal_sessionPlayerModalLogic__WEBPACK_IMPORTED_MODULE_11__.A),{reportRecordingOpenedFromRecentRecordingList}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_9__.vx);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_ProjectHomePageCompactListItem__WEBPACK_IMPORTED_MODULE_15__.x,{title:(0,scenes_persons_person_utils__WEBPACK_IMPORTED_MODULE_10__.y)(recording.person),subtitle:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(ActivityScoreLabel,{score:recording.activity_score}),prefix:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_ProfilePicture__WEBPACK_IMPORTED_MODULE_6__.Y,{name:(0,scenes_persons_person_utils__WEBPACK_IMPORTED_MODULE_10__.y)(recording.person)}),suffix:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"flex items-center justify-end text-text-3000",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:(0,lib_utils__WEBPACK_IMPORTED_MODULE_8__.C7)(recording.recording_duration)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_4__.Ud,{className:"text-2xl ml-2"})]}),onClick:()=>{openSessionPlayer({id:recording.id}),reportRecordingOpenedFromRecentRecordingList()}})}function WatchNextList(_ref3){let{sessionRecordings,loading,recordingsOptIn}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_components_CompactList_CompactList__WEBPACK_IMPORTED_MODULE_3__.a,{title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_7__.u,{title:"A selection of the most interesting recordings. We use multiple signals to calculate an activity score.",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)("span",{children:"Watch next"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconInfo,{className:"text-lg"})]})}),viewAllURL:scenes_urls__WEBPACK_IMPORTED_MODULE_14__.j.replay(),loading:loading,emptyMessage:recordingsOptIn?{title:"There are no recordings for this project",description:"Make sure you have the javascript snippet setup in your website.",buttonText:"Learn more",buttonTo:"https://posthog.com/docs/user-guides/recordings"}:{title:"Recordings are not enabled for this project",description:"Once recordings are enabled, recordings will display here.",buttonText:"Enable recordings",buttonTo:scenes_urls__WEBPACK_IMPORTED_MODULE_14__.j.settings("project-replay")},items:sessionRecordings.slice(0,5),renderRow:(recording,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(RecordingRow,{recording:recording},index)})}function WatchNextPanel(){let{currentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_13__.H),sessionRecordingsListLogicInstance=(0,scenes_session_recordings_playlist_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_12__.YV)({logicKey:"projectHomepage",filters:{...scenes_session_recordings_playlist_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_12__.I4,duration:[{...scenes_session_recordings_playlist_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_12__.dK,value:60}],date_to:"-15M",order:"activity_score"}}),{sessionRecordings,sessionRecordingsResponseLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(sessionRecordingsListLogicInstance);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(WatchNextList,{recordingsOptIn:currentTeam?.session_recording_opt_in,sessionRecordings:sessionRecordings,loading:sessionRecordingsResponseLoading})}},"./src/scenes/web-analytics/WebAnalyticsScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WebAnalyticsScene:()=>WebAnalyticsScene,scene:()=>scene});var PageHeader=__webpack_require__("./src/lib/components/PageHeader.tsx"),posthog_icons_es=__webpack_require__("../node_modules/.pnpm/@posthog+icons@0.10.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("./@posthog/lemon-ui/src/index.ts"),clsx_m=__webpack_require__("../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),index_esm=__webpack_require__("../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),CompareFilter=__webpack_require__("./src/lib/components/CompareFilter/CompareFilter.tsx"),DateFilter=__webpack_require__("./src/lib/components/DateFilter/DateFilter.tsx"),VersionCheckerBanner=__webpack_require__("./src/lib/components/VersionChecker/VersionCheckerBanner.tsx"),constants=__webpack_require__("./src/lib/constants.tsx"),icons=__webpack_require__("./src/lib/lemon-ui/icons/index.ts"),LemonButton=__webpack_require__("./src/lib/lemon-ui/LemonButton/index.ts"),LemonSegmentedSelect=__webpack_require__("./src/lib/lemon-ui/LemonSegmentedSelect/LemonSegmentedSelect.tsx"),LemonTabs=__webpack_require__("./src/lib/lemon-ui/LemonTabs/index.ts"),Link=__webpack_require__("./src/lib/lemon-ui/Link/Link.tsx"),Popover=__webpack_require__("./src/lib/lemon-ui/Popover/index.ts"),featureFlagLogic=__webpack_require__("./src/lib/logic/featureFlagLogic.ts"),utils=__webpack_require__("./src/lib/utils.tsx"),product_intents=__webpack_require__("./src/lib/utils/product-intents.ts"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),urls=__webpack_require__("./src/scenes/urls.ts"),userLogic=__webpack_require__("./src/scenes/userLogic.ts"),TZLabel=__webpack_require__("./src/lib/components/TZLabel/index.tsx"),LemonTableLink=__webpack_require__("./src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),queryFeatures=__webpack_require__("./src/queries/nodes/DataTable/queryFeatures.ts"),Query=__webpack_require__("./src/queries/Query/Query.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let context={extraDataTableQueryFeatures:[queryFeatures.P.hideLoadNextButton],showOpenEditorButton:!1,showQueryEditor:!1,columns:{error:{width:"50%",render:props=>{let record=props.record;return(0,jsx_runtime.jsx)("div",{className:"flex items-start space-x-1.5 group",children:(0,jsx_runtime.jsx)(LemonTableLink.i,{title:record.name||"Unknown Type",description:(0,jsx_runtime.jsxs)("div",{className:"space-y-1",children:[(0,jsx_runtime.jsx)("div",{className:"line-clamp-1",children:record.description}),(0,jsx_runtime.jsx)("div",{className:"space-x-1",children:(0,jsx_runtime.jsx)(TZLabel.w,{time:record.last_seen,className:"border-dotted border-b"})})]}),className:"flex-1",to:urls.j.errorTrackingIssue(record.id)})})}},users:{align:"right"},occurrences:{align:"right"}}},WebAnalyticsErrorTrackingTile=_ref=>{var _layout$colSpanClassN,_layout$rowSpanClassN,_layout$orderWhenLarg;let{tile}=_ref,{layout,query}=tile,to=urls.j.errorTracking();return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("col-span-1 row-span-1 flex flex-col",null!==(_layout$colSpanClassN=layout.colSpanClassName)&&void 0!==_layout$colSpanClassN?_layout$colSpanClassN:"md:col-span-6",null!==(_layout$rowSpanClassN=layout.rowSpanClassName)&&void 0!==_layout$rowSpanClassN?_layout$rowSpanClassN:"md:row-span-1",null!==(_layout$orderWhenLarg=layout.orderWhenLargeClassName)&&void 0!==_layout$orderWhenLarg?_layout$orderWhenLarg:"xxl:order-12",layout.className),children:[(0,jsx_runtime.jsx)("h2",{className:"m-0 mb-3",children:"Error tracking"}),(0,jsx_runtime.jsx)("div",{className:"border rounded bg-surface-primary flex-1 flex flex-col py-2 px-1",children:(0,jsx_runtime.jsx)(Query.A,{query:query,embedded:!0,context:context})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-row-reverse my-2",children:(0,jsx_runtime.jsx)(LemonButton.J,{to:to,icon:(0,jsx_runtime.jsx)(icons.pF,{}),size:"small",type:"secondary",children:"View all"})})]})};var EmptyMessage=__webpack_require__("./src/lib/components/EmptyMessage/EmptyMessage.tsx"),LemonSkeleton=__webpack_require__("./src/lib/lemon-ui/LemonSkeleton/index.ts"),WatchNextPanel=__webpack_require__("./src/scenes/project-homepage/WatchNextPanel.tsx"),sessionRecordingsPlaylistLogic=__webpack_require__("./src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts"),teamLogic=__webpack_require__("./src/scenes/teamLogic.tsx"),webAnalyticsLogic=__webpack_require__("./src/scenes/web-analytics/webAnalyticsLogic.tsx"),types=__webpack_require__("./src/types.ts");function WebAnalyticsRecordingsTile(_ref){var _layout$colSpanClassN,_layout$rowSpanClassN,_layout$orderWhenLarg;let{tile}=_ref,{layout}=tile,{replayFilters,webAnalyticsFilters}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{currentTeam}=(0,index_esm.useValues)(teamLogic.H),sessionRecordingsListLogicInstance=(0,sessionRecordingsPlaylistLogic.YV)({logicKey:"webAnalytics",filters:replayFilters}),{sessionRecordings,sessionRecordingsResponseLoading}=(0,index_esm.useValues)(sessionRecordingsListLogicInstance),items=sessionRecordings.slice(0,5),emptyMessage=currentTeam?.session_recording_opt_in?webAnalyticsFilters.length>0?{title:"There are no recordings matching the current filters",description:"Try changing the filters, or view all recordings.",buttonText:"View all",buttonTo:urls.j.replay()}:{title:"There are no recordings matching this date range",description:"Make sure you have the javascript snippet setup in your website.",buttonText:"Learn more",buttonTo:"https://posthog.com/docs/user-guides/recordings"}:{title:"Recordings are not enabled for this project",description:"Once recordings are enabled, new recordings will display here.",buttonText:"Enable recordings",buttonTo:urls.j.settings("project-replay","replay")},to=items.length>0?urls.j.replay(types.yd.Home,replayFilters):urls.j.replay();return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("col-span-1 row-span-1 flex flex-col",null!==(_layout$colSpanClassN=layout.colSpanClassName)&&void 0!==_layout$colSpanClassN?_layout$colSpanClassN:"md:col-span-6",null!==(_layout$rowSpanClassN=layout.rowSpanClassName)&&void 0!==_layout$rowSpanClassN?_layout$rowSpanClassN:"md:row-span-1",null!==(_layout$orderWhenLarg=layout.orderWhenLargeClassName)&&void 0!==_layout$orderWhenLarg?_layout$orderWhenLarg:"xxl:order-12",layout.className),children:[(0,jsx_runtime.jsx)("h2",{className:"m-0 mb-3",children:"Session replay"}),(0,jsx_runtime.jsx)("div",{className:"border rounded bg-surface-primary flex-1 flex flex-col py-2 px-1",children:sessionRecordingsResponseLoading?(0,jsx_runtime.jsx)("div",{className:"p-2 space-y-6",children:Array.from({length:6},(_,index)=>(0,jsx_runtime.jsx)(LemonSkeleton.y,{},index))}):0===items.length&&emptyMessage?(0,jsx_runtime.jsx)(EmptyMessage.M,{...emptyMessage}):items.map((item,index)=>(0,jsx_runtime.jsx)(WatchNextPanel.ZB,{recording:item},index))}),(0,jsx_runtime.jsx)("div",{className:"flex flex-row-reverse my-2",children:(0,jsx_runtime.jsx)(LemonButton.J,{to:to,icon:(0,jsx_runtime.jsx)(icons.pF,{}),size:"small",type:"secondary",children:"View all"})})]})})}var WebAnalyticsTile=__webpack_require__("./src/scenes/web-analytics/tiles/WebAnalyticsTile.tsx"),LemonBanner=__webpack_require__("./src/lib/lemon-ui/LemonBanner/index.ts"),lemon_ui_Link=__webpack_require__("./src/lib/lemon-ui/Link/index.ts");let WebAnalyticsHealthCheck=()=>{let{statusCheck,conversionGoalWarning,productTab}=(0,index_esm.useValues)(webAnalyticsLogic.WG);if(conversionGoalWarning&&conversionGoalWarning===webAnalyticsLogic.sx.CustomEventWithNoSessionId)return(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",className:"mt-2",children:[(0,jsx_runtime.jsxs)("p",{children:["A custom event has been set as a conversion goal, but it has been seen with no"," ",(0,jsx_runtime.jsx)("code",{children:"$session_id"}),". This means that some queries will not be able to include these events."]}),(0,jsx_runtime.jsxs)("p",{children:["To fix this, please see"," ",(0,jsx_runtime.jsx)(lemon_ui_Link.r,{to:"https://posthog.com/docs/data/sessions#custom-session-ids",children:"documentation for custom session IDs"}),"."]})]});if(!statusCheck)return null;if(productTab===webAnalyticsLogic.lZ.WEB_VITALS){if(!statusCheck.isSendingWebVitals)return(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",className:"mt-2",children:[(0,jsx_runtime.jsxs)("p",{children:["No ",(0,jsx_runtime.jsx)("code",{children:"$web_vitals"})," events have been received. Web Vitals won't work correctly (it'll be a little empty!)"]}),(0,jsx_runtime.jsxs)("p",{children:["Please see"," ",(0,jsx_runtime.jsx)(lemon_ui_Link.r,{to:"https://posthog.com/docs/web-analytics/web-vitals",children:"documentation for how to set up web vitals"}),"."]})]})}else{if(!statusCheck.isSendingPageViews)return(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",className:"mt-2",children:[(0,jsx_runtime.jsxs)("p",{children:["No ",(0,jsx_runtime.jsx)("code",{children:"$pageview"})," ",statusCheck.isSendingPageLeaves?null:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["or ",(0,jsx_runtime.jsx)("code",{children:"$pageleave"})," "]}),"events have been received. Web analytics won't work correctly (it'll be a little empty!)"]}),(0,jsx_runtime.jsxs)("p",{children:["Please see"," ",(0,jsx_runtime.jsx)(lemon_ui_Link.r,{to:"https://posthog.com/docs/libraries/js",children:"documentation for how to set up posthog-js"}),"."]})]});if(!statusCheck.isSendingPageLeaves)return(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",className:"mt-2",children:[(0,jsx_runtime.jsxs)("p",{children:["No ",(0,jsx_runtime.jsx)("code",{children:"$pageleave"})," events have been received, this means that Bounce rate and Session duration might be inaccurate."]}),(0,jsx_runtime.jsxs)("p",{children:["Please see"," ",(0,jsx_runtime.jsx)(lemon_ui_Link.r,{to:"https://posthog.com/docs/libraries/js",children:"documentation for how to set up posthog-js"}),"."]})]})}return null};var LemonModal=__webpack_require__("./src/lib/lemon-ui/LemonModal/index.ts"),PropertyFilters=__webpack_require__("./src/lib/components/PropertyFilters/PropertyFilters.tsx"),PropertyFilters_utils=__webpack_require__("./src/lib/components/PropertyFilters/utils.ts"),TaxonomicFilter_types=__webpack_require__("./src/lib/components/TaxonomicFilter/types.ts");let WebPropertyFilters=_ref=>{let{webAnalyticsFilters,setWebAnalyticsFilters}=_ref;return(0,jsx_runtime.jsx)(PropertyFilters.t,{taxonomicGroupTypes:[TaxonomicFilter_types.t.EventProperties,TaxonomicFilter_types.t.PersonProperties,TaxonomicFilter_types.t.SessionProperties],onChange:filters=>setWebAnalyticsFilters(filters.filter(PropertyFilters_utils.WO)),propertyFilters:webAnalyticsFilters,pageKey:"web-analytics",eventNames:["$pageview"]})},WebAnalyticsModal=()=>{let{modal,dateFilter:{dateFrom,dateTo},webAnalyticsFilters}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{closeModal,setDates,setWebAnalyticsFilters}=(0,index_esm.useActions)(webAnalyticsLogic.WG);return modal?(0,jsx_runtime.jsx)(LemonModal.f,{isOpen:!!modal,onClose:closeModal,simple:!1,title:modal?.title||"",width:1600,fullScreen:!1,closable:!0,children:(0,jsx_runtime.jsxs)("div",{className:"WebAnalyticsModal space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row flex-wrap gap-2",children:[(0,jsx_runtime.jsx)(WebPropertyFilters,{setWebAnalyticsFilters:setWebAnalyticsFilters,webAnalyticsFilters:webAnalyticsFilters}),(0,jsx_runtime.jsx)(DateFilter.f,{dateFrom:dateFrom,dateTo:dateTo,onChange:setDates})]}),(0,jsx_runtime.jsx)(LemonModal.f.Content,{embedded:!0,children:(0,jsx_runtime.jsx)(WebAnalyticsTile.bP,{query:modal.query,insightProps:modal.insightProps,showIntervalSelect:modal.showIntervalSelect,control:modal.control})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-row justify-end",children:modal.canOpenInsight?(0,jsx_runtime.jsx)(LemonButton.J,{to:urls.j.insightNew({query:modal.query}),icon:(0,jsx_runtime.jsx)(icons.pF,{}),size:"small",type:"secondary",onClick:()=>{(0,product_intents.uX)({from:types.Md.WEB_ANALYTICS,to:types.Md.PRODUCT_ANALYTICS,intent_context:product_intents.kp.WEB_ANALYTICS_INSIGHT})},children:"Open as new Insight"}):null})]})}):null};var TaxonomicPopover=__webpack_require__("./src/lib/components/TaxonomicPopover/TaxonomicPopover.tsx"),actionsModel=__webpack_require__("./src/models/actionsModel.ts");let WebConversionGoal=()=>{let{conversionGoal}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{setConversionGoal}=(0,index_esm.useActions)(webAnalyticsLogic.WG),{actions}=(0,index_esm.useValues)(actionsModel.D),[group,setGroup]=(0,react.useState)(TaxonomicFilter_types.t.CustomEvents),value=conversionGoal&&"actionId"in conversionGoal?conversionGoal.actionId:conversionGoal?.customEventName;return(0,jsx_runtime.jsx)(TaxonomicPopover.b,{allowClear:!0,"data-attr":"web-analytics-conversion-filter",groupType:group,value:value,onChange:(changedValue,groupType)=>{groupType===TaxonomicFilter_types.t.Actions&&"number"==typeof changedValue?(setConversionGoal({actionId:changedValue}),setGroup(TaxonomicFilter_types.t.Actions)):groupType===TaxonomicFilter_types.t.CustomEvents&&"string"==typeof changedValue&&changedValue?(setConversionGoal({customEventName:changedValue}),setGroup(TaxonomicFilter_types.t.CustomEvents)):setConversionGoal(null)},renderValue:()=>{if(!conversionGoal)return null;if("actionId"in conversionGoal){var _conversionGoalAction;let conversionGoalAction=actions.find(a=>a.id===conversionGoal.actionId);return(0,jsx_runtime.jsx)("span",{className:"text-overflow max-w-full",children:null!==(_conversionGoalAction=conversionGoalAction?.name)&&void 0!==_conversionGoalAction?_conversionGoalAction:"Conversion goal"})}return(0,jsx_runtime.jsx)("span",{className:"text-overflow max-w-full",children:conversionGoal?.customEventName})},groupTypes:[TaxonomicFilter_types.t.CustomEvents,TaxonomicFilter_types.t.Actions],icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconCursor,{}),placeholder:"Add conversion goal",placeholderClass:"",size:"small"})};var navigationLogic=__webpack_require__("./src/layout/navigation/navigationLogic.ts"),dataNodeCollectionLogic=__webpack_require__("./src/queries/nodes/DataNode/dataNodeCollectionLogic.ts"),Reload=__webpack_require__("./src/queries/nodes/DataNode/Reload.tsx"),Tooltip=__webpack_require__("./src/lib/lemon-ui/Tooltip/index.ts"),apiHost=__webpack_require__("./src/lib/utils/apiHost.ts");let liveEventsTableLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","activity","live-events","liveEventsTableLogic"]),(0,index_esm.connect)({values:[teamLogic.H,["currentTeam"],featureFlagLogic.h,["featureFlags"]]}),(0,index_esm.actions)(()=>({pollStats:!0,setLiveUserCount:_ref=>{let{liveUserCount,now}=_ref;return{liveUserCount,now}},setNow:_ref2=>{let{now}=_ref2;return{now}}})),(0,index_esm.reducers)({liveUserCount:[null,{setLiveUserCount:(_,_ref3)=>{let{liveUserCount}=_ref3;return liveUserCount}}],statsUpdatedTime:[null,{setLiveUserCount:(_,_ref4)=>{let{now}=_ref4;return now}}],now:[null,{setNow:(_,_ref5)=>{let{now}=_ref5;return now},setLiveUserCount:(_,_ref6)=>{let{now}=_ref6;return now}}]}),(0,index_esm.selectors)({liveUserUpdatedSecondsAgo:[s=>[s.statsUpdatedTime,s.now],(statsUpdatedTime,now)=>{if(!statsUpdatedTime||!now)return null;let seconds=Math.ceil((now.getTime()-statsUpdatedTime.getTime())/1e3);return seconds<0||seconds>=300?null:seconds}]}),(0,index_esm.listeners)(_ref7=>{let{actions,values}=_ref7;return{pollStats:async()=>{try{if(!values.currentTeam)return;let response=await fetch(`${(0,apiHost.K)()}/stats`,{headers:{Authorization:`Bearer ${values.currentTeam.live_events_token}`}}),liveUserCount=(await response.json()).users_on_product||0;actions.setLiveUserCount({liveUserCount,now:new Date})}catch(error){console.error("Failed to poll stats:",error)}}}}),(0,index_esm.events)(_ref8=>{let{actions,cache}=_ref8;return{afterMount:()=>{actions.setNow({now:new Date}),actions.pollStats(),cache.statsInterval=setInterval(()=>{actions.pollStats()},3e4),cache.nowInterval=setInterval(()=>{actions.setNow({now:new Date})},500)},beforeUnmount:()=>{cache.statsInterval&&(clearInterval(cache.statsInterval),cache.statsInterval=null)}}})]),WebAnalyticsLiveUserCount=()=>{let{liveUserCount,liveUserUpdatedSecondsAgo}=(0,index_esm.useValues)(liveEventsTableLogic),{currentTeam}=(0,index_esm.useValues)(teamLogic.H);if(null==liveUserCount)return null;let usersOnlineString=`${(0,utils.Lc)(liveUserCount)} ${1===liveUserCount?"user is":"users are"} online`,inTeamString=currentTeam?` in ${currentTeam.name}`:"",updatedAgoString=0===liveUserUpdatedSecondsAgo?" (updated just now)":null==liveUserUpdatedSecondsAgo?"":` (updated ${liveUserUpdatedSecondsAgo} seconds ago)`,tooltip=`${usersOnlineString}${inTeamString}${updatedAgoString}`;return(0,jsx_runtime.jsx)("div",{className:"hidden sm:flex items-center mb-4 border-b",children:(0,jsx_runtime.jsx)(Tooltip.u,{title:tooltip,children:(0,jsx_runtime.jsxs)("span",{className:"whitespace-nowrap","data-attr":"web-analytics-live-user-count",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconLive,{})," ",(0,jsx_runtime.jsx)("strong",{children:(0,utils.d$)(liveUserCount)})," currently online"]})})})},Filters=()=>{let{webAnalyticsFilters,dateFilter:{dateTo,dateFrom},compareFilter,productTab,webVitalsPercentile}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{setWebAnalyticsFilters,setDates,setCompareFilter,setWebVitalsPercentile}=(0,index_esm.useActions)(webAnalyticsLogic.WG),{mobileLayout}=(0,index_esm.useValues)(navigationLogic.f),{hasAvailableFeature}=(0,index_esm.useValues)(userLogic.userLogic),hasAdvancedPaths=hasAvailableFeature(types.P$.PATHS_ADVANCED),webPropertyFilters=(0,jsx_runtime.jsx)(WebPropertyFilters,{setWebAnalyticsFilters:setWebAnalyticsFilters,webAnalyticsFilters:webAnalyticsFilters});return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("sticky z-20 bg-primary border-b py-2",mobileLayout?"top-[var(--breadcrumbs-height-full)]":"top-[var(--breadcrumbs-height-compact)]"),children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row flex-wrap gap-2 md:[&>*]:grow-0 [&>*]:grow",children:[(0,jsx_runtime.jsx)(DateFilter.f,{dateFrom:dateFrom,dateTo:dateTo,onChange:setDates,allowTimePrecision:!0}),productTab===webAnalyticsLogic.lZ.ANALYTICS?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(CompareFilter.m,{compareFilter:compareFilter,updateCompareFilter:setCompareFilter}),(0,jsx_runtime.jsx)(WebConversionGoal,{})]}):(0,jsx_runtime.jsx)(LemonSegmentedSelect.S,{size:"small",value:webVitalsPercentile,onChange:setWebVitalsPercentile,options:[{value:types.O4.P75,label:"P75"},{value:types.O4.P90,label:(0,jsx_runtime.jsx)(src.u,{title:"P90 is recommended by the standard as a good baseline",delayMs:0,children:"P90"})},{value:types.O4.P99,label:"P99"}]}),hasAdvancedPaths&&(0,jsx_runtime.jsx)(PathCleaningToggle,{}),(0,jsx_runtime.jsx)("div",{className:"hidden md:block",children:webPropertyFilters}),(0,jsx_runtime.jsx)("div",{className:"xl:ml-auto",children:(0,jsx_runtime.jsx)(Reload.H,{})})]}),(0,jsx_runtime.jsx)("div",{className:"block md:hidden mt-4",children:webPropertyFilters})]})},PathCleaningToggle=()=>{let{isPathCleaningEnabled}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{setIsPathCleaningEnabled}=(0,index_esm.useActions)(webAnalyticsLogic.WG);return(0,jsx_runtime.jsx)(src.u,{title:(0,jsx_runtime.jsxs)("div",{className:"p-2",children:[(0,jsx_runtime.jsx)("p",{className:"mb-2",children:"Path cleaning helps standardize URLs by removing unnecessary parameters and fragments."}),(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/product-analytics/paths#path-cleaning-rules",children:"Learn more about path cleaning rules"})}),(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconGear,{}),type:"primary",size:"small",to:urls.j.settings("project-product-analytics","path-cleaning"),targetBlank:!0,className:"w-full",children:"Edit path cleaning settings"})]}),placement:"top",interactive:!0,children:(0,jsx_runtime.jsxs)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(icons.$M,{}),onClick:()=>setIsPathCleaningEnabled(!isPathCleaningEnabled),type:"secondary",size:"small",children:["Path cleaning: ",(0,jsx_runtime.jsx)(src.f4,{checked:isPathCleaningEnabled,className:"ml-1",size:"xsmall"})]})})},Tiles=()=>{let{tiles}=(0,index_esm.useValues)(webAnalyticsLogic.WG);return(0,jsx_runtime.jsx)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 xxl:grid-cols-3 gap-x-4 gap-y-12",children:tiles.map((tile,i)=>"query"===tile.kind?(0,jsx_runtime.jsx)(QueryTileItem,{tile:tile},i):"tabs"===tile.kind?(0,jsx_runtime.jsx)(TabsTileItem,{tile:tile},i):"replay"===tile.kind?(0,jsx_runtime.jsx)(WebAnalyticsRecordingsTile,{tile:tile},i):"error_tracking"===tile.kind?(0,jsx_runtime.jsx)(WebAnalyticsErrorTrackingTile,{tile:tile},i):null)})},QueryTileItem=_ref=>{var _layout$colSpanClassN,_layout$rowSpanClassN,_layout$orderWhenLarg;let{tile}=_ref,{query,title,layout,insightProps,control,showIntervalSelect,docs}=tile,{openModal}=(0,index_esm.useActions)(webAnalyticsLogic.WG),{getNewInsightUrl}=(0,index_esm.useValues)(webAnalyticsLogic.WG),buttonsRow=[tile.canOpenInsight?(0,jsx_runtime.jsx)(LemonButton.J,{to:getNewInsightUrl(tile.tileId),icon:(0,jsx_runtime.jsx)(icons.pF,{}),size:"small",type:"secondary",onClick:()=>{(0,product_intents.uX)({from:types.Md.WEB_ANALYTICS,to:types.Md.PRODUCT_ANALYTICS,intent_context:product_intents.kp.WEB_ANALYTICS_INSIGHT})},children:"Open as new Insight"},"open-insight-button"):null,tile.canOpenModal?(0,jsx_runtime.jsx)(LemonButton.J,{onClick:()=>openModal(tile.tileId),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconExpand45,{}),size:"small",type:"secondary",children:"Show more"},"open-modal-button"):null].filter(utils.DX);return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("col-span-1 row-span-1 flex flex-col",null!==(_layout$colSpanClassN=layout.colSpanClassName)&&void 0!==_layout$colSpanClassN?_layout$colSpanClassN:"md:col-span-6",null!==(_layout$rowSpanClassN=layout.rowSpanClassName)&&void 0!==_layout$rowSpanClassN?_layout$rowSpanClassN:"md:row-span-1",null!==(_layout$orderWhenLarg=layout.orderWhenLargeClassName)&&void 0!==_layout$orderWhenLarg?_layout$orderWhenLarg:"xxl:order-12",layout.className),children:[title&&(0,jsx_runtime.jsxs)("h2",{className:"flex-1 m-0 flex flex-row ml-1",children:[title,docs&&(0,jsx_runtime.jsx)(LearnMorePopover,{url:docs.url,title:docs.title,description:docs.description})]}),(0,jsx_runtime.jsx)(WebAnalyticsTile.bP,{query:query,insightProps:insightProps,control:control,showIntervalSelect:showIntervalSelect}),buttonsRow.length>0?(0,jsx_runtime.jsx)("div",{className:"flex justify-end my-2 space-x-2",children:buttonsRow}):null]})},TabsTileItem=_ref2=>{let{tile}=_ref2,{layout}=tile,{openModal}=(0,index_esm.useActions)(webAnalyticsLogic.WG),{getNewInsightUrl}=(0,index_esm.useValues)(webAnalyticsLogic.WG);return(0,jsx_runtime.jsx)(WebTabs,{className:(0,clsx_m.default)("col-span-1 row-span-1",layout.colSpanClassName||"md:col-span-1",layout.rowSpanClassName||"md:row-span-1",layout.orderWhenLargeClassName||"xxl:order-12",layout.className),activeTabId:tile.activeTabId,setActiveTabId:tile.setTabId,tabs:tile.tabs.map(tab=>({id:tab.id,content:(0,jsx_runtime.jsx)(WebAnalyticsTile.bP,{query:tab.query,showIntervalSelect:tab.showIntervalSelect,control:tab.control,insightProps:tab.insightProps},tab.id),linkText:tab.linkText,title:tab.title,canOpenModal:!!tab.canOpenModal,canOpenInsight:!!tab.canOpenInsight,query:tab.query,docs:tab.docs})),tileId:tile.tileId,openModal:openModal,getNewInsightUrl:getNewInsightUrl})},WebTabs=_ref3=>{let{className,activeTabId,tabs,setActiveTabId,openModal,getNewInsightUrl,tileId}=_ref3,activeTab=tabs.find(t=>t.id===activeTabId),newInsightUrl=getNewInsightUrl(tileId,activeTabId),buttonsRow=[activeTab?.canOpenInsight&&newInsightUrl?(0,jsx_runtime.jsx)(LemonButton.J,{to:newInsightUrl,icon:(0,jsx_runtime.jsx)(icons.pF,{}),size:"small",type:"secondary",onClick:()=>{(0,product_intents.uX)({from:types.Md.WEB_ANALYTICS,to:types.Md.PRODUCT_ANALYTICS,intent_context:product_intents.kp.WEB_ANALYTICS_INSIGHT})},children:"Open as new Insight"},"open-insight-button"):null,activeTab?.canOpenModal?(0,jsx_runtime.jsx)(LemonButton.J,{onClick:()=>openModal(tileId,activeTabId),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconExpand45,{}),size:"small",type:"secondary",children:"Show more"},"open-modal-button"):null].filter(utils.DX);return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)(className,"flex flex-col"),children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center self-stretch mb-3",children:[(0,jsx_runtime.jsxs)("h2",{className:"flex-1 m-0 flex flex-row ml-1",children:[activeTab?.title,activeTab?.docs&&(0,jsx_runtime.jsx)(LearnMorePopover,{url:activeTab.docs.url,title:activeTab.docs.title,description:activeTab.docs.description})]}),(0,jsx_runtime.jsx)(LemonSegmentedSelect.S,{shrinkOn:7,size:"small",disabled:!1,value:activeTabId,dropdownMatchSelectWidth:!1,onChange:setActiveTabId,options:tabs.map(_ref4=>{let{id,linkText}=_ref4;return{value:id,label:linkText}})})]}),(0,jsx_runtime.jsx)("div",{className:"flex-1 flex flex-col",children:activeTab?.content}),buttonsRow.length>0?(0,jsx_runtime.jsx)("div",{className:"flex justify-end my-2 space-x-2",children:buttonsRow}):null]})},LearnMorePopover=_ref5=>{let{url,title,description}=_ref5,[isOpen,setIsOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsx)(Popover.J2,{visible:isOpen,onClickOutside:()=>setIsOpen(!1),overlay:(0,jsx_runtime.jsxs)("div",{className:"p-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row w-full",children:[(0,jsx_runtime.jsx)("h2",{className:"flex-1",children:title}),(0,jsx_runtime.jsx)(LemonButton.J,{targetBlank:!0,type:"tertiary",onClick:()=>setIsOpen(!1),size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{})})]}),(0,jsx_runtime.jsx)("div",{className:"text-sm text-gray-700",children:description}),url&&(0,jsx_runtime.jsx)("div",{className:"flex justify-end mt-4",children:(0,jsx_runtime.jsx)(LemonButton.J,{to:url,onClick:()=>setIsOpen(!1),targetBlank:!0,sideIcon:(0,jsx_runtime.jsx)(posthog_icons_es.IconOpenSidebar,{}),children:"Learn more"})})]}),children:(0,jsx_runtime.jsx)(LemonButton.J,{onClick:()=>setIsOpen(!isOpen),size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconInfo,{}),className:"ml-1 mb-1"})})},WebAnalyticsDashboard=()=>{let{productTab}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{setProductTab}=(0,index_esm.useActions)(webAnalyticsLogic.WG),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.h);return(0,jsx_runtime.jsx)(index_esm.BindLogic,{logic:webAnalyticsLogic.WG,props:{},children:(0,jsx_runtime.jsxs)(index_esm.BindLogic,{logic:dataNodeCollectionLogic.y,props:{key:webAnalyticsLogic.p2},children:[(0,jsx_runtime.jsx)(WebAnalyticsModal,{}),(0,jsx_runtime.jsx)(VersionCheckerBanner.o,{}),(0,jsx_runtime.jsxs)("div",{className:"WebAnalyticsDashboard w-full flex flex-col",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row",children:[featureFlags[constants.y8.WEB_VITALS]&&(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:productTab,onChange:setProductTab,tabs:[{key:webAnalyticsLogic.lZ.ANALYTICS,label:"Web analytics"},{key:webAnalyticsLogic.lZ.WEB_VITALS,label:"Web vitals"}]})}),(0,jsx_runtime.jsx)(WebAnalyticsLiveUserCount,{})]}),(0,jsx_runtime.jsx)(Filters,{}),(0,jsx_runtime.jsx)(WebAnalyticsHealthCheck,{}),(0,jsx_runtime.jsx)(Tiles,{})]})]})})};var LemonMenu=__webpack_require__("./src/lib/lemon-ui/LemonMenu/index.ts"),LemonSwitch=__webpack_require__("./src/lib/lemon-ui/LemonSwitch/index.ts");let WebAnalyticsMenu=()=>{let{shouldFilterTestAccounts}=(0,index_esm.useValues)(webAnalyticsLogic.WG),{setShouldFilterTestAccounts}=(0,index_esm.useActions)(webAnalyticsLogic.WG);return(0,jsx_runtime.jsx)(LemonMenu.d,{items:[{label:"Session Attribution Explorer",to:urls.j.sessionAttributionExplorer(),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconSearch,{})},{label:()=>(0,jsx_runtime.jsx)(LemonSwitch.f,{checked:shouldFilterTestAccounts,onChange:()=>{setShouldFilterTestAccounts(!shouldFilterTestAccounts)},fullWidth:!0,label:"Filter test accounts"})}],closeOnClickInside:!1,children:(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconEllipsis,{}),size:"small"})})};function WebAnalyticsScene(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:(0,jsx_runtime.jsx)(WebAnalyticsMenu,{})}),(0,jsx_runtime.jsx)(WebAnalyticsDashboard,{})]})}let scene={component:WebAnalyticsScene,logic:webAnalyticsLogic.WG}},"../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.2_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./src/lib/components/CompactList/CompactList.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".CompactList{background:var(--bg-surface-primary);border:1px solid var(--border-primary);border-radius:var(--radius);box-sizing:initial;display:flex;flex:1;flex-direction:column;overflow:hidden}.CompactList .CompactList__header{align-items:center;display:flex;justify-content:space-between;padding:.5rem}.CompactList .CompactList__header h3{font-size:.9rem;font-weight:600;line-height:1.4;margin-bottom:0}.CompactList .CompactList__content{height:16rem;overflow-y:auto;padding:.5rem}.CompactList .LemonButton{font-family:var(--font-sans)!important}",""]),module.exports=exports},"../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.2_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./src/scenes/project-homepage/ProjectHomepage.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ProjectHomepage{container-type:inline-size}.ProjectHomepage .ProjectHomepage__dashboardheader{align-items:center;display:flex;justify-content:space-between;margin-top:1rem}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title{align-items:center;display:flex;flex-direction:row}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a{color:var(--text-3000)}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a:hover{color:var(--accent-primary)}.ProjectHomepage .ProjectHomepage__lists{display:flex;gap:1rem}@container (max-width: 800px){.ProjectHomepage .ProjectHomepage__lists{flex-direction:column}}.ProjectHomepage .empty-state-container{align-items:center;background-color:var(--bg-primary);display:flex;flex-direction:column;justify-content:center;padding:4rem;width:100%}",""]),module.exports=exports},"./src/scenes/project-homepage/ProjectHomepage.scss":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_2_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.2_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./src/scenes/project-homepage/ProjectHomepage.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_2_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_2_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__),options={};options.insert="head",options.singleton=!1,_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_2_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default(),options),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_2_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default().locals}}]);