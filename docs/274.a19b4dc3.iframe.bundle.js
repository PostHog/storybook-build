(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{"./frontend/src/lib/components/InlineMessage/InlineMessage.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return o});var g=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),t=e.n(g),l=e("./node_modules/react/index.js"),c=e.n(l),s=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=e.n(s),S=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss"),B=e.n(S),f={};f.insert="head",f.singleton=!1;var v=h()(B.a,f),F=B.a.locals||{},x=e("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),W=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),P=e("./node_modules/clsx/dist/clsx.m.js");function o(I){var A=I.children,Z=I.style,_=I.icon,J=_===void 0?c.a.createElement(x.a,null):_,w=I.type,C=w===void 0?"info":w,T=I.closable,j=I.onClose,b=Object(l.useState)(!0),M=t()(b,2),K=M[0],Y=M[1],H=function(){Y(!1),j==null||j()};return c.a.createElement("div",{className:Object(P.a)("inline-message",C,T&&"closable",!K&&"hidden"),style:Z},c.a.createElement("div",{className:"inline-icon"},J),c.a.createElement("div",{className:"inline-main"},A),T&&c.a.createElement("div",{className:"closable",onClick:H},c.a.createElement(W.a,null)))}try{o.displayName="InlineMessage",o.__docgenInfo={description:"",displayName:"InlineMessage",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},icon:{defaultValue:{value:"<ExclamationCircleFilled />"},description:"",name:"icon",required:!1,type:{name:"Element"}},type:{defaultValue:{value:"info"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"danger"'},{value:'"info"'},{value:'"warning"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"]={docgenInfo:o.__docgenInfo,name:"InlineMessage",path:"frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"})}catch(I){}},"./frontend/src/lib/components/Table/utils.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return s});var g=e("./node_modules/react/index.js"),t=e.n(g),l=e("./frontend/src/lib/hooks/useWindowSize.js"),c=e("./frontend/src/lib/utils/responsiveUtils.tsx");function s(S){return t.a.createElement("span",{style:{whiteSpace:"nowrap"}},S)}var h=function(B){var f=Object(l.a)(),v=f.width,F=Object(c.b)(B),x=!!v&&v<=F;return{isTableScrolling:x,tableScrollBreakpoint:F,tableScrollX:x?"max-content":"".concat(F,"px")}};try{s.displayName="normalizeColumnTitle",s.__docgenInfo={description:"",displayName:"normalizeColumnTitle",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"]={docgenInfo:s.__docgenInfo,name:"normalizeColumnTitle",path:"frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"})}catch(S){}try{h.displayName="useIsTableScrolling",h.__docgenInfo={description:"",displayName:"useIsTableScrolling",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"]={docgenInfo:h.__docgenInfo,name:"useIsTableScrolling",path:"frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"})}catch(S){}},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return C});var g=e("./node_modules/react/index.js"),t=e.n(g),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/lib/components/LemonTable/index.ts"),s=e("./frontend/src/models/groupsModel.ts"),h=e("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),S=e.n(h),B=e("./frontend/src/lib/utils.tsx"),f=e("./frontend/src/scenes/persons/PersonHeader.tsx"),v=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),F=e.n(v),x=e("./node_modules/@babel/runtime/regenerator/index.js"),W=e.n(x),P=e("./node_modules/core-js/modules/es.array.concat.js"),o=e("./node_modules/core-js/modules/es.array.iterator.js"),I=e("./node_modules/core-js/modules/es.object.to-string.js"),A=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Z=e("./frontend/src/lib/api.ts"),_=e("./frontend/src/scenes/teamLogic.tsx"),J=Object(l.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[_.a,["currentTeamId"]]},props:{},key:function(j){var b;return"".concat((b=j.groupTypeIndex)!==null&&b!==void 0?b:"person","-").concat(j.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(j){var b=j.values,M=j.props;return{relatedActors:[[],{loadRelatedActors:function(){var K=F()(W.a.mark(function H(){var re;return W.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return re="api/projects/".concat(b.currentTeamId,"/groups/related?").concat(Object(B.Eb)({group_type_index:M.groupTypeIndex,id:M.id})),z.next=3,Z.b.get(re);case 3:return z.abrupt("return",z.sent);case 4:case"end":return z.stop()}},H)}));function Y(){return K.apply(this,arguments)}return Y}(),setGroup:function(){return[]}}]}},events:function(j){var b=j.actions;return{afterMount:b.loadRelatedActors}}}),w=e("./frontend/src/scenes/persons/GroupActorHeader.tsx");function C(T){var j=T.groupTypeIndex,b=T.id,M=Object(l.useValues)(J({groupTypeIndex:j,id:b})),K=M.relatedActors,Y=M.relatedActorsLoading,H=Object(l.useValues)(s.a),re=H.aggregationLabel,D=[{title:"Type",key:"type",render:function(ae,le){return le.type==="group"?t.a.createElement(t.a.Fragment,null,Object(B.i)(re(le.group_type_index).singular)):t.a.createElement(t.a.Fragment,null,t.a.createElement(S.a,null)," Person")}},{title:"id",key:"id",render:function(ae,le){return le.type=="group"?t.a.createElement(w.a,{actor:le}):t.a.createElement(f.a,{person:le,withIcon:!1})}}];return t.a.createElement(c.a,{dataSource:K,columns:D,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:Y,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{C.displayName="RelatedGroups",C.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:C.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(T){}},"./frontend/src/scenes/persons/Person.tsx":function(O,r,e){"use strict";e.r(r),e.d(r,"scene",function(){return ke}),e.d(r,"Person",function(){return Fe});var g=e("./node_modules/core-js/modules/es.array.map.js"),t=e("./node_modules/core-js/modules/es.array.slice.js"),l=e("./node_modules/core-js/modules/es.array.join.js"),c=e("./node_modules/react/index.js"),s=e.n(c),h=e("./node_modules/antd/es/tabs/index.js"),S=e("./node_modules/antd/es/dropdown/index.js"),B=e("./node_modules/antd/es/menu/index.js"),f=e("./node_modules/antd/es/tag/index.js"),v=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),F=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),x=e("./frontend/src/scenes/events/index.ts"),W=e("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),P=e("./node_modules/kea/lib/index.esm.js"),o=e("./frontend/src/scenes/persons/personsLogic.tsx"),I=e("./frontend/src/scenes/persons/PersonHeader.tsx"),A=e("./frontend/src/scenes/persons/Persons.scss"),Z=e("./frontend/src/lib/components/CopyToClipboard.tsx"),_=e("./node_modules/core-js/modules/es.function.name.js"),J=e("./node_modules/core-js/modules/es.object.to-string.js"),w=e("./node_modules/core-js/modules/es.regexp.to-string.js"),C=e("./node_modules/core-js/modules/es.array.filter.js"),T=e("./node_modules/antd/es/modal/index.js"),j=e("./node_modules/antd/es/row/index.js"),b=e("./node_modules/antd/es/radio/index.js"),M=e("./node_modules/antd/es/col/index.js"),K=e("./node_modules/antd/es/select/index.js"),Y=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),H=e.n(Y),re=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss"),D=e.n(re),z={};z.insert="head",z.singleton=!1;var ae=H()(D.a,z),le=D.a.locals||{},pe=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),fe=e.n(pe),de=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ve=e.n(de),ee=e("./node_modules/@babel/runtime/regenerator/index.js"),k=e.n(ee),V=e("./node_modules/core-js/modules/es.array.iterator.js"),ye=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ee=e("./node_modules/core-js/modules/es.object.keys.js"),Ce=e("./node_modules/core-js/modules/es.symbol.js"),Le=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),ge=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),oe=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Pe=e("./node_modules/kea-router/lib/index.js"),Se=e("./frontend/src/lib/api.ts"),i=e("./frontend/src/lib/components/lemonToast.tsx"),p=e("./frontend/src/lib/utils/eventUsageLogic.ts");function u(d,n){var a=Object.keys(d);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(d);n&&(y=y.filter(function(G){return Object.getOwnPropertyDescriptor(d,G).enumerable})),a.push.apply(a,y)}return a}function m(d){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?u(Object(a),!0).forEach(function(y){fe()(d,y,a[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(y){Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(a,y))})}return d}var q;(function(d){d.SPLIT="split",d.MERGE="merge"})(q||(q={}));var ne=Object(P.kea)({props:{},key:function(n){var a;return(a=n.person.id)!==null&&a!==void 0?a:"new"},path:function(n){return["scenes","persons","mergeSplitPersonLogic",n]},connect:function(){return{actions:[Object(o.a)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[Object(o.a)({syncWithUrl:!0}),["persons"]]}},actions:{setActivity:function(n){return{activity:n}},setSelectedPersonsToMerge:function(n){return{persons:n}},setSelectedPersonToAssignSplit:function(n){return{id:n}},cancel:!0},reducers:function(n){var a=n.props;return{activity:[q.MERGE,{setActivity:function(G,N){var $=N.activity;return $}}],person:[a.person,{}],selectedPersonsToMerge:[[],{setSelectedPersonsToMerge:function(G,N){var $=N.persons;return $}}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:function(G,N){var $=N.id;return $}}]}},listeners:function(n){var a=n.actions,y=n.values;return{setListFilters:function(){a.loadPersons()},cancel:function(){y.executedLoading||a.setSplitMergeModalShown(!1)}}},loaders:function(n){var a=n.values,y=n.actions;return{executed:[!1,{execute:function(){var G=ve()(k.a.mark(function $(){var X,R;return k.a.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(a.activity!==q.MERGE){Q.next=12;break}return Q.next=3,Se.b.create("api/person/"+a.person.id+"/merge/",{uuids:a.selectedPersonsToMerge});case 3:if(X=Q.sent,!X.id){Q.next=10;break}return i.d.success("Persons have been merged"),p.e.actions.reportPersonMerged(a.selectedPersonsToMerge.length),y.setSplitMergeModalShown(!1),y.setPerson(X),Q.abrupt("return",!0);case 10:Q.next=21;break;case 12:return Q.next=14,Se.b.create("api/person/"+a.person.id+"/split/",m({},a.selectedPersonsToAssignSplit?{main_distinct_id:a.selectedPersonsToAssignSplit}:{}));case 14:if(R=Q.sent,!R.success){Q.next=21;break}return i.d.success("Person succesfully split. This may take up to a couple of minutes to complete"),p.e.actions.reportPersonSplit(a.person.distinct_ids.length),y.setSplitMergeModalShown(!1),Pe.router.actions.push("/persons"),Q.abrupt("return",!0);case 21:return Q.abrupt("return",!1);case 22:case"end":return Q.stop()}},$)}));function N(){return G.apply(this,arguments)}return N}()}]}},events:function(n){var a=n.actions;return{afterMount:[a.loadPersons]}}}),ce=e("./frontend/src/lib/utils.tsx"),L=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),ie=e("./frontend/src/lib/components/Tooltip.tsx"),be=e("./frontend/src/lib/components/LemonSelectMultiple/LemonSelectMultiple.tsx");function ue(d){var n=d.person,a={person:n},y=Object(P.useValues)(ne(a)),G=y.activity,N=y.executedLoading,$=Object(P.useActions)(ne(a)),X=$.setActivity,R=$.execute,se=$.cancel;return s.a.createElement(T.a,{visible:!0,title:"Merge/split persons",onCancel:se,className:"merge-split-person",okText:"".concat(Object(ce.i)(G)," persons"),onOk:R,okButtonProps:{loading:N},cancelButtonProps:{disabled:N}},s.a.createElement("div",{className:"activity-header"},s.a.createElement(j.a,{align:"middle"},s.a.createElement(b.a.Group,{onChange:function(xe){return X(xe.target.value)},value:G},s.a.createElement(M.a,{className:"tab-btn ant-btn"},s.a.createElement(b.a,{value:"merge"},"Merge")),s.a.createElement(M.a,{className:"tab-btn ant-btn"},s.a.createElement(b.a,{value:"split",disabled:n.distinct_ids.length<2},n.distinct_ids.length<2?s.a.createElement(ie.a,{title:"Only persons with more than two distinct IDs can be split.",delayMs:0},"Split"):s.a.createElement(s.a.Fragment,null,"Split")))))),s.a.createElement(P.BindLogic,{logic:ne,props:a},s.a.createElement(s.a.Fragment,null,G===q.MERGE?s.a.createElement(Te,null):s.a.createElement(me,null))))}function Te(){var d=Object(P.useValues)(ne),n=d.persons,a=d.person,y=d.executedLoading,G=d.selectedPersonsToMerge,N=Object(P.useActions)(ne),$=N.setListFilters,X=N.setSelectedPersonsToMerge;return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"mb-4"},"Merge all properties and events of the selected persons into ",s.a.createElement("strong",null,a.name)," ",s.a.createElement("span",{style:{fontSize:"1.2em"}},"("),s.a.createElement("code",{title:a.distinct_ids[0]},Object(ce.ob)(a.distinct_ids[0],20)),s.a.createElement("span",{style:{fontSize:"1.2em"}},")"),". Properties get merged based on timestamps, see more details on"," ",s.a.createElement("a",{href:"https://posthog.com/docs/integrate/user-properties#how-do-values-get-overridden"},"PostHog Docs"),"."),s.a.createElement(be.a,{placeholder:"Please select persons to merge",onChange:function(se){return X(se)},filterOption:!1,onSearch:function(se){return $({search:se})},mode:"multiple","data-attr":"subscribed-emails",value:G.map(function(R){return R.toString()}),options:(n.results||[]).filter(function(R){return R.uuid&&R.uuid!==a.uuid}).map(function(R){return{key:R.uuid,label:R.name||R.uuid}}),disabled:y}),s.a.createElement(L.a,{style:{marginTop:16},type:"danger"},"This action is not reversible. Please be sure before continuing."))}function me(){var d=Object(P.useValues)(ne),n=d.person,a=d.executedLoading,y=Object(P.useActions)(ne),G=y.setSelectedPersonToAssignSplit;return n?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"This will split all Distinct IDs for this person into unique persons."),s.a.createElement("p",null,"You can select a distinct ID for which all the current properties will be assigned (",s.a.createElement("i",null,"optional"),"). All other new users will start without any properties."),s.a.createElement(K.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:function($){return G($)},filterOption:!1,disabled:a},n==null?void 0:n.distinct_ids.map(function(N){return s.a.createElement(K.a.Option,{value:N,key:N},N)})),s.a.createElement(L.a,{style:{marginTop:16},type:"danger"},s.a.createElement("div",null,"This will create ",s.a.createElement("strong",null,n.distinct_ids.length-1)," new"," ",Object(ce.tb)(n.distinct_ids.length,"person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."))):null}try{ue.displayName="MergeSplitPerson",ue.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:ue.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(d){}var U=e("./frontend/src/lib/components/LemonTable/index.ts"),E=e("./frontend/src/scenes/urls.ts"),te=e("./frontend/src/lib/components/Link.tsx");function Oe(){var d=Object(P.useValues)(o.a),n=d.cohorts,a=d.cohortsLoading,y=d.person,G=Object(P.useActions)(o.a),N=G.loadCohorts;Object(c.useEffect)(function(){N()},[y]);var $=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function(R,se){return s.a.createElement(te.a,{to:E.a.cohort(se.id)},s.a.createElement("strong",null,se.name))},sorter:function(R,se){return(R.name||"").localeCompare(se.name||"")}},{title:"Users in cohort",render:function(R){return R==null?void 0:R.toLocaleString()},dataIndex:"count",sorter:function(R,se){return(R.count||0)-(se.count||0)}}];return s.a.createElement(U.a,{dataSource:n||[],loading:a,columns:$,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var De=e("./frontend/src/lib/components/PropertiesTable.tsx"),Ue=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),he=e("./frontend/src/types.ts"),Ne=e("./frontend/src/lib/components/PageHeader.tsx"),Be=e("./frontend/src/scenes/groups/RelatedGroups.tsx"),Ke=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Ve=e("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),We=e("./frontend/src/scenes/persons/activityDescriptions.tsx"),Ge=e("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),Re=e("./frontend/@posthog/lemon-ui/src/index.ts"),Ye=e("./frontend/src/scenes/teamLogic.tsx"),He=e("./frontend/src/lib/components/AlertMessage/index.ts"),ze=e("./frontend/src/scenes/persons/PersonDeleteModal.tsx"),$e=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),Je=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Xe=e("./frontend/src/lib/constants.tsx"),Qe=e("./frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx"),Ze=e("./frontend/src/lib/components/NotFound/index.tsx"),we=e("./frontend/src/scenes/persons/RelatedFeatureFlags.tsx"),je=h.a.TabPane,ke={component:Fe,logic:o.a,paramsToProps:function(n){var a=n.params._;return{syncWithUrl:!0,urlId:decodeURIComponent(a)}}};function qe(d){var n=d.person;return s.a.createElement("div",{className:"flex flex-wrap items-center gap-2"},s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"IDs:")," ",s.a.createElement(Z.a,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"}},n.distinct_ids[0]),n.distinct_ids.length>1&&s.a.createElement(S.a,{overlay:s.a.createElement(B.a,null,n.distinct_ids.slice(1).map(function(a){return s.a.createElement(B.a.Item,{key:a},s.a.createElement(Z.a,{description:"person distinct ID",iconStyle:{color:"var(--primary)"}},a))})),trigger:["click"]},s.a.createElement(f.a,{className:"extra-ids"},"+",n.distinct_ids.length-1,s.a.createElement(v.a,null)))),s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"First seen:")," ",n.created_at?s.a.createElement(Ue.b,{time:n.created_at}):"unknown"))}function Fe(){var d=Object(P.useValues)(o.a),n=d.person,a=d.personLoading,y=d.deletedPersonLoading,G=d.currentTab,N=d.splitMergeModalShown,$=d.urlId,X=Object(P.useActions)(o.a),R=X.editProperty,se=X.deleteProperty,Q=X.navigateToTab,xe=X.setSplitMergeModalShown,_e=X.showPersonDeleteModal,es=Object(P.useValues)(Ke.b),ss=es.groupsEnabled,ns=Object(P.useValues)(Ye.a),Ie=ns.currentTeam,ts=Object(P.useValues)(Je.a),os=ts.featureFlags;return n?s.a.createElement(s.a.Fragment,null,s.a.createElement(Ne.a,{title:Object(I.b)(n),caption:s.a.createElement(qe,{person:n}),buttons:s.a.createElement("div",{className:"flex gap-2"},s.a.createElement(Re.LemonButton,{onClick:function(){return _e(n)},disabled:y,loading:y,type:"secondary",status:"danger","data-attr":"delete-person"},"Delete person"),s.a.createElement(Re.LemonButton,{onClick:function(){return xe(!0)},"data-attr":"merge-person-button",type:"secondary"},"Split or merge IDs"))}),s.a.createElement(ze.a,null),s.a.createElement(h.a,{activeKey:G,onChange:function(Ae){Q(Ae)},destroyInactiveTabPane:!0,"data-attr":"persons-tabs"},s.a.createElement(je,{tab:s.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:he.H.PROPERTIES},s.a.createElement(De.a,{properties:n.properties||{},searchable:!0,onEdit:R,sortProperties:!0,embedded:!1,onDelete:function(Ae){return se(Ae)}})),s.a.createElement(je,{tab:s.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:he.H.EVENTS},s.a.createElement(x.b,{pageKey:n.distinct_ids.join("__"),fixedFilters:{person_id:n.id},showPersonColumn:!1,sceneUrl:E.a.person($||n.distinct_ids[0]||String(n.id))})),s.a.createElement(je,{tab:s.a.createElement("span",{"data-attr":"person-session-recordings-tab"},"Recordings"),key:he.H.SESSION_RECORDINGS},Ie!=null&&Ie.session_recording_opt_in?null:s.a.createElement("div",{className:"mb-4"},s.a.createElement(He.a,{type:"info"},"Session recordings are currently disabled for this project. To use this feature, please go to your ",s.a.createElement(Re.Link,{to:"".concat(E.a.projectSettings(),"#recordings")},"project settings")," and enable it.")),os[Xe.i.SESSION_RECORDINGS_PLAYLIST]?s.a.createElement(Qe.a,{key:n.uuid,personUUID:n.uuid,isPersonPage:!0}):s.a.createElement(W.a,{key:n.uuid,personUUID:n.uuid,isPersonPage:!0})),s.a.createElement(je,{tab:s.a.createElement("span",{"data-attr":"persons-cohorts-tab"},"Cohorts"),key:he.H.COHORTS},s.a.createElement(Oe,null)),ss&&n.uuid&&s.a.createElement(je,{tab:s.a.createElement("span",{"data-attr":"persons-related-tab"},"Related groups",s.a.createElement(ie.a,{title:"People and groups that have shared events with this person in the last 90 days."},s.a.createElement(F.a,{style:{marginLeft:6,marginRight:0}}))),key:he.H.RELATED},s.a.createElement(Be.a,{id:n.uuid,groupTypeIndex:null})),n.uuid&&s.a.createElement(je,{tab:s.a.createElement("span",{"data-attr":"persons-related-flags-tab"},"Feature flags"),key:he.H.FEATURE_FLAGS},s.a.createElement(we.b,{distinctId:n.distinct_ids[0]})),s.a.createElement(je,{tab:"History",key:"history"},s.a.createElement(Ve.a,{scope:Ge.a.PERSON,id:n.id,describer:We.a,caption:s.a.createElement("div",null,s.a.createElement(F.a,{style:{marginRight:".25rem"}}),s.a.createElement("span",null,"This page only shows changes made by users in the PostHog site. Automatic changes from the API aren't shown here."))}))),N&&n&&s.a.createElement(ue,{person:n})):a?s.a.createElement($e.b,null):s.a.createElement(Ze.a,{object:"Person"})}},"./frontend/src/scenes/persons/PersonDeleteModal.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return S});var g=e("./node_modules/react/index.js"),t=e.n(g),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/scenes/persons/personsLogic.tsx"),s=e("./frontend/src/scenes/persons/PersonHeader.tsx"),h=e("./frontend/@posthog/lemon-ui/src/index.ts");function S(){var B=Object(l.useValues)(c.a),f=B.personDeleteModal,v=Object(l.useActions)(c.a),F=v.deletePerson,x=v.showPersonDeleteModal;return t.a.createElement(h.LemonModal,{isOpen:!!f,onClose:function(){return x(null)},title:'Are you sure you want to delete "'.concat(Object(s.b)(f),'"?'),description:t.a.createElement(t.a.Fragment,null,"This action cannot be undone. If you opt to delete the person and its corresponding events, the events will not be immediately removed. Instead these events will be deleted on a set schedule during non-peak usage times.",t.a.createElement("a",{href:"https://posthog.com/docs/privacy/data-deletion",target:"_blank",rel:"noopener",className:"font-bold"}," ","Learn more")),footer:t.a.createElement(t.a.Fragment,null,t.a.createElement(h.LemonButton,{status:"danger",type:"secondary",onClick:function(){F({person:f,deleteEvents:!0}),x(null)},"data-attr":"delete-person-with-events"},"Delete person and all corresponding events"),t.a.createElement(h.LemonButton,{type:"secondary",onClick:function(){return x(null)},"data-attr":"delete-person-cancel"},"Cancel"),t.a.createElement(h.LemonButton,{type:"primary",status:"danger",onClick:function(){F({person:f,deleteEvents:!1}),x(null)},"data-attr":"delete-person-no-events"},"Delete person"))})}},"./frontend/src/scenes/persons/Persons.scss":function(O,r,e){"use strict";var g=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),t=e.n(g),l=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),c=e.n(l),s={};s.insert="head",s.singleton=!1;var h=t()(c.a,s),S=c.a.locals||{}},"./frontend/src/scenes/persons/RelatedFeatureFlags.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return oe}),e.d(r,"b",function(){return Se});var g=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),t=e.n(g),l=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=e.n(l),s=e("./node_modules/core-js/modules/es.function.name.js"),h=e("./node_modules/core-js/modules/es.object.to-string.js"),S=e("./node_modules/core-js/modules/es.regexp.to-string.js"),B=e("./node_modules/core-js/modules/es.number.constructor.js"),f=e("./frontend/@posthog/lemon-ui/src/index.ts"),v=e("./node_modules/kea/lib/index.esm.js"),F=e("./frontend/src/lib/components/Table/utils.tsx"),x=e("./frontend/src/lib/utils.tsx"),W=e("./frontend/src/lib/utils/stringWithWBR.tsx"),P=e("./node_modules/react/index.js"),o=e.n(P),I=e("./frontend/src/scenes/urls.ts"),A=e("./frontend/src/types.ts"),Z=e("./node_modules/core-js/modules/es.symbol.js"),_=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),J=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),w=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),C=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),T=e.n(C),j=e("./node_modules/@babel/runtime/regenerator/index.js"),b=e.n(j),M=e("./node_modules/core-js/modules/es.array.iterator.js"),K=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Y=e("./node_modules/core-js/modules/es.array.concat.js"),H=e("./node_modules/core-js/modules/es.regexp.exec.js"),re=e("./node_modules/core-js/modules/es.string.replace.js"),D=e("./node_modules/core-js/modules/es.array.map.js"),z=e("./node_modules/core-js/modules/es.object.keys.js"),ae=e("./node_modules/core-js/modules/es.string.search.js"),le=e("./node_modules/core-js/modules/es.array.filter.js"),pe=e("./node_modules/fuse.js/dist/fuse.esm.js"),fe=e("./node_modules/kea-loaders/lib/index.js"),de=e("./frontend/src/lib/api.ts"),ve=e("./frontend/src/scenes/feature-flags/featureFlagsLogic.ts"),ee=e("./frontend/src/scenes/teamLogic.tsx");function k(i,p){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);p&&(m=m.filter(function(q){return Object.getOwnPropertyDescriptor(i,q).enumerable})),u.push.apply(u,m)}return u}function V(i){for(var p=1;p<arguments.length;p++){var u=arguments[p]!=null?arguments[p]:{};p%2?k(Object(u),!0).forEach(function(m){c()(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):k(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}var ye=Object(v.kea)([Object(v.path)(["scenes","persons","relatedFeatureFlagsLogic"]),Object(v.connect)({values:[ee.a,["currentTeamId"],ve.b,["featureFlags"]]}),Object(v.props)({}),Object(v.key)(function(i){return"".concat(i.distinctId)}),Object(v.actions)({setSearchTerm:function(p){return{searchTerm:p}},setFilters:function(p,u){return{filters:p,replace:u}},loadRelatedFeatureFlags:!0}),Object(fe.loaders)(function(i){var p=i.values,u=i.props;return{relatedFeatureFlags:[null,{loadRelatedFeatureFlags:function(){var m=T()(b.a.mark(function ne(){var ce;return b.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,de.b.get("api/projects/".concat(p.currentTeamId,"/feature_flags/evaluation_reasons?").concat(Object(x.Eb)(V({distinct_id:u.distinctId},u.groups?{groups:u.groups}:{}))));case 2:return ce=ie.sent,ie.abrupt("return",ce);case 4:case"end":return ie.stop()}},ne)}));function q(){return m.apply(this,arguments)}return q}()}]}}),Object(v.reducers)({searchTerm:["",{setSearchTerm:function(p,u){var m=u.searchTerm;return m}}],filters:[{},{setFilters:function(p,u){var m=u.filters,q=u.replace;return V(q?{}:V({},p),m)}}]}),Object(v.selectors)(function(){return{mappedRelatedFeatureFlags:[function(i){return[i.relatedFeatureFlags,i.featureFlags]},function(i,p){return i&&p?p.map(function(u){return V(V({},i[u.key]),u)}):[]}],filteredMappedFlags:[function(i){return[i.mappedRelatedFeatureFlags,i.searchTerm,i.filters]},function(i,p,u){if(!p&&Object.keys(u).length===0)return i;var m=i;p&&(m=new pe.a(i,{keys:["key","name"],threshold:.3}).search(p).map(function(L){return L.item}));var q=u.type,ne=u.active,ce=u.reason;return q&&(m=m.filter(function(L){return q===A.r.Variants?L.filters.multivariate:!L.filters.multivariate})),ne&&(m=m.filter(function(L){return ne==="true"?L.active:!L.active})),ce&&(m=m.filter(function(L){return ce==="not matched"?L.evaluation.reason!==oe.ConditionMatch:L.evaluation.reason===oe.ConditionMatch})),m}]}}),Object(v.events)(function(i){var p=i.actions;return{afterMount:p.loadRelatedFeatureFlags}})]),Ee=["type"],Ce=["reason"],Le=["active"],ge,oe;(function(i){i.ConditionMatch="condition_match",i.NoConditionMatch="no_condition_match",i.OutOfRolloutBound="out_of_rollout_bound",i.NoGroupType="no_group_type",i.Disabled="disabled"})(oe||(oe={}));var Pe=(ge={},c()(ge,oe.ConditionMatch,"Matches"),c()(ge,oe.NoConditionMatch,"Doesn't match any conditions"),c()(ge,oe.OutOfRolloutBound,"Out of rollout bound"),c()(ge,oe.NoGroupType,"Missing group type"),c()(ge,oe.Disabled,"Disabled"),ge);function Se(i){var p=i.distinctId,u=i.groups,m=Object(v.useValues)(ye({distinctId:p,groups:u})),q=m.filteredMappedFlags,ne=m.relatedFeatureFlagsLoading,ce=m.searchTerm,L=m.filters,ie=Object(v.useActions)(ye({distinctId:p,groups:u})),be=ie.setSearchTerm,ue=ie.setFilters,Te=[{title:Object(F.a)("Key"),dataIndex:"key",className:"ph-no-capture",sticky:!0,width:"40%",sorter:function(U,E){return(U.key||"").localeCompare(E.key||"")},render:function(U,E){var te=(E.experiment_set||[]).length>0;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.Link,{to:E.id?I.a.featureFlag(E.id):void 0,className:"row-name"},Object(W.a)(E.key,17),o.a.createElement(f.LemonTag,{type:te?"purple":"default",className:"ml-2"},te?"Experiment":"Feature flag")),E.name&&o.a.createElement("span",{className:"row-description"},E.name))}},{title:"Type",width:100,render:function(U,E){return E.filters.multivariate?A.r.Variants:A.r.ReleaseToggle}},{title:"Value",dataIndex:"value",width:150,render:function(U,E){return o.a.createElement("div",{style:{wordBreak:"break-word"}},E.active?Object(x.i)(E.value.toString()):"--")}},{title:"Match evaluation",dataIndex:"evaluation",width:150,render:function(U,E){var te,Oe=E.evaluation.reason===oe.ConditionMatch;return o.a.createElement("div",null,E.active?o.a.createElement(o.a.Fragment,null,Pe[E.evaluation.reason]):"--",Oe&&o.a.createElement("span",{className:"simple-tag ml-2",style:{background:"var(--primary-highlight)"}},"Set ",((te=E.evaluation.condition_index)!==null&&te!==void 0?te:0)+1))}},{title:"Status",dataIndex:"active",sorter:function(U,E){return Number(U.active)-Number(E.active)},width:100,render:function(U,E){return o.a.createElement("span",{className:"font-normal"},E.active?"Enabled":"Disabled")}}];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex justify-between mb-4"},o.a.createElement(f.LemonInput,{type:"search",placeholder:"Search for feature flags",onChange:be,value:ce}),o.a.createElement("div",{className:"flex items-center gap-2"},o.a.createElement("span",null,o.a.createElement("b",null,"Type")),o.a.createElement(f.LemonSelect,{options:[{label:"All types",value:"all"},{label:A.r.ReleaseToggle,value:A.r.ReleaseToggle},{label:A.r.Variants,value:A.r.Variants}],onChange:function(U){if(U)if(U==="all"){if(L){var E=L.type,te=t()(L,Ee);ue(te,!0)}}else ue({type:U})},value:"all",dropdownMaxContentWidth:!0}),o.a.createElement("span",{className:"ml-2"},o.a.createElement("b",null,"Match evaluation")),o.a.createElement(f.LemonSelect,{options:[{label:"All",value:"all"},{label:"Matched",value:oe.ConditionMatch},{label:"Not matched",value:"not matched"}],onChange:function(U){if(U)if(U==="all"){if(L){var E=L.reason,te=t()(L,Ce);ue(te,!0)}}else ue({reason:U})},value:"all",dropdownMaxContentWidth:!0}),o.a.createElement("span",{className:"ml-2"},o.a.createElement("b",null,"Status")),o.a.createElement(f.LemonSelect,{onChange:function(U){if(U)if(U==="all"){if(L){var E=L.active,te=t()(L,Le);ue(te,!0)}}else ue({active:U})},options:[{label:"All",value:"all"},{label:"Enabled",value:"true"},{label:"Disabled",value:"false"}],value:"all",dropdownMaxContentWidth:!0}))),o.a.createElement(f.LemonTable,{columns:Te,loading:ne,dataSource:q}))}try{Se.displayName="RelatedFeatureFlags",Se.__docgenInfo={description:"",displayName:"RelatedFeatureFlags",props:{distinctId:{defaultValue:null,description:"",name:"distinctId",required:!0,type:{name:"string"}},groups:{defaultValue:null,description:"",name:"groups",required:!1,type:{name:"{ [key: string]: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/RelatedFeatureFlags.tsx#RelatedFeatureFlags"]={docgenInfo:Se.__docgenInfo,name:"RelatedFeatureFlags",path:"frontend/src/scenes/persons/RelatedFeatureFlags.tsx#RelatedFeatureFlags"})}catch(i){}},"./frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return C});var g=e("./node_modules/core-js/modules/es.array.concat.js"),t=e("./node_modules/react/index.js"),l=e.n(t),c=e("./node_modules/kea/lib/index.esm.js"),s=e("./frontend/src/lib/utils.tsx"),h=e("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),S=e("./frontend/src/scenes/persons/PersonHeader.tsx"),B=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),f=e.n(B),v=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.scss"),F=e.n(v),x={};x.insert="head",x.singleton=!1;var W=f()(F.a,x),P=F.a.locals||{},o=e("./frontend/src/lib/components/LemonTable/index.ts"),I=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),A=e("./frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx"),Z=e("./frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),_=e("./frontend/@posthog/lemon-ui/src/index.ts"),J=e("./frontend/src/lib/components/icons.tsx"),w=e("./frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx");function C(T){var j=T.personUUID,b=Object(h.c)({personUUID:j,isPlaylist:!0}),M=Object(c.useValues)(b),K=M.sessionRecordings,Y=M.sessionRecordingsResponseLoading,H=M.hasNext,re=M.hasPrev,D=M.activeSessionRecording,z=M.offset,ae=Object(c.useActions)(b),le=ae.openSessionPlayer,pe=ae.loadNext,fe=ae.loadPrev,de=Object(t.useRef)(null),ve=[{title:"Recordings",render:function(k,V){return l.a.createElement("div",null,Object(S.b)(V.person,25),l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement(I.b,{time:V.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"})," \xB7 ",Object(s.n)(V.recording_duration))))}}];return l.a.createElement("div",{ref:de,className:"SessionRecordingsPlaylist","data-attr":"session-recordings-playlist"},l.a.createElement("div",{className:"SessionRecordingsPlaylist__left-column space-y-4"},l.a.createElement(w.a,{personUUID:j}),l.a.createElement(o.a,{dataSource:K,columns:ve,loading:Y,onRow:function(k){return{onClick:function(ye){if(!ye.target.closest("a")){var Ee;le({id:k.id}),window.scrollTo({left:0,top:de!=null&&(Ee=de.current)!==null&&Ee!==void 0&&Ee.offsetTop?de.current.offsetTop-8:0,behavior:"smooth"})}}}},rowStatus:function(k){return(D==null?void 0:D.id)===k.id?"highlighted":null},rowClassName:"cursor-pointer","data-attr":"session-recording-table","data-tooltip":"session-recording-table",emptyState:"No matching recordings found",loadingSkeletonRows:h.a}),l.a.createElement("div",{className:"flex justify-end items-center my-2"},l.a.createElement("span",null,"".concat(z+1," - ").concat(z+(Y?Object(h.b)(!0):K.length))),l.a.createElement(_.LemonButton,{icon:l.a.createElement(J.IconChevronLeft,null),status:"stealth",disabled:!re,onClick:function(){fe(),window.scrollTo(0,0)}}),l.a.createElement(_.LemonButton,{icon:l.a.createElement(J.IconChevronRight,null),status:"stealth",disabled:!H,onClick:function(){pe(),window.scrollTo(0,0)}}))),l.a.createElement("div",{className:"SessionRecordingsPlaylist__right-column"},D!=null&&D.id?l.a.createElement("div",{className:"border rounded h-full"},l.a.createElement(A.b,{playerKey:"playlist",sessionRecordingId:D.id,matching:D==null?void 0:D.matching_events,recordingStartTime:D?D.start_time:void 0})):l.a.createElement(Z.a,{title:"No recording selected",description:"Please select a recording from the list on the left",buttonText:"Learn more about recordings",buttonTo:"https://posthog.com/docs/user-guides/recordings"})))}try{C.displayName="SessionRecordingsPlaylist",C.__docgenInfo={description:"",displayName:"SessionRecordingsPlaylist",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:null,description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"]={docgenInfo:C.__docgenInfo,name:"SessionRecordingsPlaylist",path:"frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"})}catch(T){}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return C});var g=e("./node_modules/react/index.js"),t=e.n(g),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/lib/utils.tsx"),s=e("./node_modules/antd/es/button/index.js"),h=e("./node_modules/antd/es/row/index.js"),S=e("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),B=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),f=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),v=e("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),F=e("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),x=e("./frontend/src/scenes/persons/PersonHeader.tsx"),W=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),P=e.n(W),o=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),I=e.n(o),A={};A.insert="head",A.singleton=!1;var Z=P()(I.a,A),_=I.a.locals||{},J=e("./frontend/src/lib/components/LemonTable/index.ts"),w=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function C(T){var j=T.personUUID,b=T.isPersonPage,M=b===void 0?!1:b,K=Object(S.c)({personUUID:j}),Y=Object(l.useValues)(K),H=Y.sessionRecordings,re=Y.sessionRecordingsResponseLoading,D=Y.hasNext,z=Y.hasPrev,ae=Object(l.useActions)(K),le=ae.openSessionPlayer,pe=ae.closeSessionPlayer,fe=ae.loadNext,de=ae.loadPrev,ve=[{title:"Start time",render:function(k,V){return t.a.createElement(w.b,{time:V.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"})}},{title:"Duration",render:function(k,V){return t.a.createElement("span",null,Object(c.O)(V.recording_duration))}},{title:"Person",key:"person",render:function(k,V){return t.a.createElement(x.a,{withIcon:!0,person:V.person})}},{render:function(k,V){return t.a.createElement("div",{className:"play-button-container"},t.a.createElement(s.a,{className:V.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:t.a.createElement(B.a,null)},"Watch recording"))}}];return t.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},t.a.createElement(J.a,{dataSource:H,columns:ve,loading:re,onRow:function(k){return{onClick:function(ye){ye.target.closest("a")||le(k)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(z||D)&&t.a.createElement(h.a,{className:"pagination-control"},t.a.createElement(s.a,{type:"link",disabled:!z,onClick:function(){de(),window.scrollTo(0,0)}},t.a.createElement(v.a,null)," Previous"),t.a.createElement(s.a,{type:"link",disabled:!D,onClick:function(){fe(),window.scrollTo(0,0)}},"Next ",t.a.createElement(F.a,null))),t.a.createElement("div",{style:{marginBottom:64}}),t.a.createElement(f.a,{isPersonPage:M,onClose:pe}))}try{C.displayName="SessionRecordingsTable",C.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:C.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(T){}},"./frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx":function(O,r,e){"use strict";e.d(r,"a",function(){return W}),e.d(r,"b",function(){return P});var g=e("./node_modules/react/index.js"),t=e.n(g),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),s=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),h=e("./frontend/src/lib/utils/eventUsageLogic.ts"),S=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),B=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),f=e("./frontend/src/lib/components/icons.tsx"),v=e("./frontend/src/lib/components/LemonButton/index.ts"),F=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),x=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx");function W(o){var I=o.personUUID,A=o.isPersonPage,Z=A===void 0?!1:A,_=Object(c.c)({personUUID:I}),J=Object(l.useValues)(_),w=J.entityFilters,C=J.propertyFilters,T=J.filtersEnabled,j=Object(l.useActions)(_),b=j.setEntityFilters,M=j.setPropertyFilters,K=j.reportRecordingsListFilterAdded;return t.a.createElement(t.a.Fragment,null,T?t.a.createElement("div",{className:"flex-1 border rounded p-4"},t.a.createElement("div",{className:"space-y-2"},t.a.createElement(x.a,{info:"Show recordings where all of the events or actions listed below happen."},"Filter by events and actions"),t.a.createElement(s.a,{bordered:!0,filters:w,setFilters:function(H){K(h.d.EventAndAction),b(H)},typeKey:Z?"person-".concat(I):"session-recordings",mathAvailability:F.b.None,buttonCopy:"Add filter",hideRename:!0,hideDuplicate:!0,showNestedArrow:!1,actionsTaxonomicGroupTypes:[S.a.Actions,S.a.Events],propertiesTaxonomicGroupTypes:[S.a.EventProperties,S.a.EventFeatureFlags,S.a.Elements]})),!Z&&t.a.createElement("div",{className:"mt-8 space-y-2"},t.a.createElement(x.a,{info:"Show recordings by persons who match the set criteria"},"Filter by persons and cohorts"),t.a.createElement(B.a,{pageKey:Z?"person-".concat(I):"session-recordings",taxonomicGroupTypes:[S.a.PersonProperties,S.a.Cohorts],propertyFilters:C,onChange:function(H){K(h.d.PersonAndCohort),M(H)}}))):void 0)}function P(o){var I,A,Z=o.personUUID,_=o.isPersonPage,J=Object(c.c)({personUUID:Z}),w=Object(l.useValues)(J),C=w.entityFilters,T=w.propertyFilters,j=w.filtersEnabled,b=Object(l.useActions)(J),M=b.setFiltersEnabled,K=(((I=C.actions)===null||I===void 0?void 0:I.length)||0)+(((A=C.events)===null||A===void 0?void 0:A.length)||0)+((T==null?void 0:T.length)||0);return t.a.createElement(v.a,{type:"secondary",size:"small",icon:t.a.createElement(f.IconWithCount,{count:K},t.a.createElement(f.IconFilter,null)),onClick:function(){if(M(!j),_){var H=document.querySelectorAll(".entity-filter-row button");H.length>0&&H[0].click()}}},j?"Hide filters":"Filter recordings")}try{W.displayName="SessionRecordingsFilters",W.__docgenInfo={description:"",displayName:"SessionRecordingsFilters",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"]={docgenInfo:W.__docgenInfo,name:"SessionRecordingsFilters",path:"frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"})}catch(o){}try{P.displayName="SessionRecordingsFiltersToggle",P.__docgenInfo={description:"",displayName:"SessionRecordingsFiltersToggle",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:null,description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFiltersToggle"]={docgenInfo:P.__docgenInfo,name:"SessionRecordingsFiltersToggle",path:"frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFiltersToggle"})}catch(o){}},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(O,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};r.default=g},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(O,r,e){"use strict";var g=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),t=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=t(e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/objectSpread2.js")),c=g(e("./node_modules/react/index.js")),s=t(e("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),h=t(e("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),S=function(v,F){return c.createElement(h.default,(0,l.default)((0,l.default)({},v),{},{ref:F,icon:s.default}))};S.displayName="UserOutlined";var B=c.forwardRef(S);r.default=B},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss":function(O,r,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");r=g(!1),r.push([O.i,".inline-message{background-color:var(--bg-mid);border-radius:var(--radius);padding:.5rem 1rem;font-weight:var(--font-medium);display:flex;align-items:center;color:var(--primary-alt)}.inline-message.danger{background-color:var(--danger-highlight);color:var(--danger)}.inline-message.closable{padding-right:.5rem}.inline-message.hidden{display:none}.inline-message .inline-icon{margin-right:6px;display:flex;align-items:center}.inline-message .inline-main{flex-grow:1}.inline-message .closable{color:var(--muted);align-self:flex-start;padding-left:1rem;cursor:pointer}",""]),O.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss":function(O,r,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");r=g(!1),r.push([O.i,".merge-split-person .activity-header{background-color:var(--bg-mid);border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:var(--bg-mid);color:var(--primary-alt);padding:4px 8px;border-radius:var(--radius)}",""]),O.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(O,r,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");r=g(!1),r.push([O.i,".extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:var(--primary);cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),O.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(O,r,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");r=g(!1),r.push([O.i,".session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:var(--primary)}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:var(--muted)}.session-recordings-table .info-icon{color:var(--primary)}",""]),O.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.scss":function(O,r,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");r=g(!1),r.push([O.i,".SessionRecordingsPlaylist{display:flex;flex-direction:column;gap:1rem}@media screen and (min-width:768px){.SessionRecordingsPlaylist{flex-direction:row}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{flex-shrink:0}@media screen and (min-width:768px){.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{width:30%;min-width:350px;max-width:500px}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__pagination-control{margin-top:1rem;display:flex;width:100%;justify-content:flex-end;align-items:center}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column{flex:1}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column .SessionRecordingsPlaylist__loading{display:flex;align-items:center;justify-content:center;margin-top:10rem}",""]),O.exports=r}}]);
