(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{5934:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"Licenses",(function(){return Licenses}));__webpack_require__(59);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(430),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(713),antd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(712),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(107),antd__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2634),_logic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1696),kea__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1),lib_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(11),scenes_ingestion_frameworks_CodeSnippet__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(47),lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(323),_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(700),lib_components_Tooltip__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(58),scene={component:Licenses,logic:_logic__WEBPACK_IMPORTED_MODULE_8__.a},columns=[{title:"Active",render:function renderActive(license){return new Date(license.valid_until)>new Date?"active":"expired"}},{title:"Valid until",render:function renderActive(license){return Object(lib_utils__WEBPACK_IMPORTED_MODULE_10__.G)(license.valid_until)}},{title:"Plan",dataIndex:"plan"},{title:function Render(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(lib_components_Tooltip__WEBPACK_IMPORTED_MODULE_14__.a,{placement:"right",title:"Maximum number of team members that you can have across all organizations with your current license."},"Max #Â of team members",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__.a,{className:"info-indicator"}))},render:function renderMaxUsers(license){return null===license.max_users?"Unlimited":license.max_users}},{title:"Key",render:function renderActive(license){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(scenes_ingestion_frameworks_CodeSnippet__WEBPACK_IMPORTED_MODULE_11__.a,null,license.key)}},{title:"License added on",render:function renderActive(license){return Object(lib_utils__WEBPACK_IMPORTED_MODULE_10__.G)(license.created_at)}}];function Licenses(){var _Form$useForm=antd__WEBPACK_IMPORTED_MODULE_3__.a.useForm(),form=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_Form$useForm,1)[0],_useValues=Object(kea__WEBPACK_IMPORTED_MODULE_9__.useValues)(_logic__WEBPACK_IMPORTED_MODULE_8__.a),licenses=_useValues.licenses,licensesLoading=_useValues.licensesLoading,error=_useValues.error,createLicense=Object(kea__WEBPACK_IMPORTED_MODULE_9__.useActions)(_logic__WEBPACK_IMPORTED_MODULE_8__.a).createLicense;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_12__.a,{title:"Licenses",caption:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,"Here you can add and manage your PostHog enterprise licenses. When you activate a license key, enterprise functionality will be enabled immediately. Contact"," ",react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",{href:"mailto:sales@posthog.com"},"sales@posthog.com")," to buy a license or if you have any issues with a license.")}),error&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_4__.a,{message:error.detail||react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,"Could not validate license key. Please try again or contact us."),type:"error",style:{marginBottom:"1em"}}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a,{form:form,name:"horizontal_login",layout:"inline",onFinish:function onFinish(values){return createLicense({key:values.key})},style:{marginBottom:"1rem"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,{name:"key",rules:[{required:!0,message:"Please input a license key!"}]},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_5__.a,{placeholder:"License key",style:{minWidth:400}})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_3__.a.Item,{shouldUpdate:!0},(function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_6__.a,{type:"primary",htmlType:"submit",disabled:!form.isFieldsTouched(!0)||!!form.getFieldsError().filter((function(_ref){return _ref.errors.length})).length},"Activate License Key")}))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_7__.a,{"data-attr":"license-table",size:"small",rowKey:"id",pagination:{pageSize:99999,hideOnSinglePage:!0},rowClassName:"cursor-pointer",dataSource:licenses,columns:columns,loading:licensesLoading}))}}}]);