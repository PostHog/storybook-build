(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{"./frontend/src/lib/components/Drawer.tsx":function(G,j,o){"use strict";o.d(j,"a",function(){return Q});var D=o("./node_modules/@babel/runtime/helpers/extends.js"),a=o.n(D),h=o("./node_modules/react/index.js"),Fe=o.n(h),De=o("./node_modules/antd/es/drawer/index.js"),ie=o("./frontend/src/vars.ts");function Q(Oe){return Fe.a.createElement(De.a,a()({},Oe,{zIndex:ie.a.zDrawer}))}try{Q.displayName="Drawer",Q.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:Q.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(Oe){}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(G,j,o){"use strict";o.d(j,"a",function(){return Ce});var D=o("./node_modules/core-js/modules/es.array.includes.js"),a=o.n(D),h=o("./node_modules/core-js/modules/es.string.includes.js"),Fe=o.n(h),De=o("./node_modules/react/index.js"),ie=o.n(De),Q=o("./node_modules/kea/lib/index.esm.js"),Oe=o("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),Le=o("./node_modules/rc-select/es/index.js"),Ke=o("./frontend/src/lib/components/Link.tsx"),We=o("./frontend/src/lib/introductions/groupsAccessLogic.ts");function Ce(L){var ze=L.value,vt=Object(Q.useValues)(We.b),yt=vt.groupsAccessStatus;return[We.a.HasAccess,We.a.HasGroupTypes,We.a.NoAccess].includes(yt)?ie.a.createElement(Le.default.Option,{key:"groups",value:ze,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},ie.a.createElement(Oe.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",ie.a.createElement(Ke.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{Ce.displayName="GroupsIntroductionOption",Ce.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:Ce.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(L){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(G,j,o){"use strict";o.d(j,"a",function(){return _});var D=o("./node_modules/core-js/modules/es.array.concat.js"),a=o("./node_modules/core-js/modules/es.array.map.js"),h=o("./node_modules/core-js/modules/es.array.splice.js"),Fe=o("./node_modules/@babel/runtime/helpers/extends.js"),De=o.n(Fe),ie=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),Q=o.n(ie),Oe=o("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Le=o.n(Oe),Ke=o("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),We=o.n(Ke),Ce=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),L=o.n(Ce),ze={};ze.insert="head",ze.singleton=!1;var vt=We()(L.a,ze),yt=L.a.locals||{},it=o("./node_modules/react/index.js"),p=o.n(it),J=o("./node_modules/kea/lib/index.esm.js"),Qe=o("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),K=o("./node_modules/core-js/modules/es.symbol.js"),hn=o("./node_modules/core-js/modules/es.symbol.description.js"),en=o("./node_modules/core-js/modules/es.array.filter.js"),Pe=o("./node_modules/core-js/modules/es.function.name.js"),_t=o("./node_modules/core-js/modules/es.object.keys.js"),me=o("./node_modules/@babel/runtime/helpers/slicedToArray.js"),te=o.n(me),pe=o("./node_modules/antd/es/button/index.js"),lt=o("./node_modules/antd/es/row/index.js"),fe=o("./node_modules/antd/es/col/index.js"),Ge=o("./node_modules/antd/es/select/index.js"),Rt=o("./frontend/src/lib/components/Tooltip.tsx"),Me=o("./frontend/src/types.ts"),Kt=o("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Ne=o("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),$e=o("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),xt=o("./frontend/src/lib/utils.tsx"),Tt=o("./frontend/src/lib/components/SeriesGlyph.tsx"),Wt=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),zt=o.n(Wt),E={};E.insert="head",E.singleton=!1;var b=We()(zt.a,E),S=zt.a.locals||{},g=o("./frontend/src/lib/components/Popup/Popup.tsx"),Z=o("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),le=o("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Te=o("./frontend/src/lib/components/EntityFilterInfo.tsx"),Je=o("./node_modules/clsx/dist/clsx.m.js"),ge=o("./frontend/src/scenes/trends/mathsLogic.tsx"),Ye=o("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),F=o("./frontend/src/models/actionsModel.ts"),w=o("./frontend/src/lib/components/PropertyKeyInfo.tsx"),q=o("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),O=o("./frontend/src/lib/components/icons.tsx"),V;function U(u,x){var C=Object.keys(u);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(u);x&&(T=T.filter(function(X){return Object.getOwnPropertyDescriptor(u,X).enumerable})),C.push.apply(C,T)}return C}function k(u){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?U(Object(C),!0).forEach(function(T){Q()(u,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(C)):U(Object(C)).forEach(function(T){Object.defineProperty(u,T,Object.getOwnPropertyDescriptor(C,T))})}return u}var M=function(x,C){if(x)return"Hide filters";if(C.properties&&Object.keys(C.properties).length>0){var T;return Object(xt.qb)((T=C.properties)===null||T===void 0?void 0:T.length,"filter")}return"Add filters"};function Se(u){var x,C,T,X=u.logic,I=u.filter,B=u.index,Ee=u.hideMathSelector,oe=u.hidePropertySelector,tt=u.singleFilter,Ie=u.showOr,we=u.hideFilter,ce=u.hideRename,$=u.onRenameClick,nt=$===void 0?function(){}:$,Re=u.showSeriesIndicator,de=u.seriesIndicatorType,ut=de===void 0?"alpha":de,rt=u.horizontalUI,ae=rt===void 0?!1:rt,bt=u.fullWidth,je=bt===void 0?!1:bt,Pt=u.filterCount,St=u.customRowPrefix,ot=u.customRowSuffix,jt=u.rowClassName,rn=u.propertyFilterWrapperClassName,on=u.stripeActionRow,At=on===void 0?!0:on,Ht=u.hasBreakdown,Sn=u.showNestedArrow,An=Sn===void 0?!1:Sn,at=u.hideDeleteBtn,st=at===void 0?!1:at,an=u.actionsTaxonomicGroupTypes,sn=an===void 0?[le.a.Events,le.a.Actions]:an,ln=u.propertiesTaxonomicGroupTypes,Zt=u.disabled,cn=Zt===void 0?!1:Zt,dn=u.readOnly,Ft=dn===void 0?!1:dn,un=u.renderRow,Dt=Object(J.useValues)(X),He=Dt.selectedFilter,wn=Dt.entities,xn=Dt.entityFilterVisible,Ze=Object(J.useActions)(X),ue=Ze.updateFilter,xe=Ze.selectFilter,mt=Ze.updateFilterMath,Xt=Ze.removeLocalFilter,On=Ze.updateFilterProperty,mn=Ze.setEntityFilterVisibility,Cn=Ze.duplicateFilter,pt=Object(J.useValues)(F.a),Qt=pt.actions,Rn=Object(J.useValues)(ge.c),Lt=Rn.mathDefinitions,Mt=typeof I.order=="number"?xn[I.order]:!1,Nt,ke,ft,wt=I.math,Ve=I.math_property,Ue=I.math_group_type_index,Xe=function(){Xt(k(k({},I),{},{index:B}))},pn=function(Ae,Bt){var kt;mt(k(k({},Object(ge.b)(Bt)),{},{math_property:!((kt=Lt[Bt])===null||kt===void 0)&&kt.onProperty?Ve!=null?Ve:"$time":void 0,type:I.type,index:B}))},fn=function(Ae,Bt){mt(k(k({},I),{},{math_property:Bt,index:B}))},vn=Boolean(He&&(He==null?void 0:He.type)===I.type&&(He==null?void 0:He.index)===B),Tn=function(){xe(vn?null:k(k({},I),{},{index:B}))};if(I.type===Me.g.NEW_ENTITY)ke=null,ft=null;else{var Ct;Nt=((Ct=wn[I.type])===null||Ct===void 0?void 0:Ct.filter(function(ve){return ve.id===I.id})[0])||{},ke=Nt.name||I.name,ft=Nt.id||I.id}var Jt=p.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),qt=ut==="numeric"?p.a.createElement(Tt.a,{style:{borderColor:"var(--border)"}},B+1):p.a.createElement(Tt.b,{seriesIndex:B,hasBreakdown:Ht}),In=typeof St=="function"?St({filter:I,index:B,onClose:Xe}):St,Fn=p.a.createElement(g.a,{overlay:p.a.createElement(Z.a,{groupType:I.type,value:I.type==="actions"&&typeof ft=="string"?parseInt(ft):ft||void 0,onChange:function(Ae,Bt,kt){ue({type:he(Ae.type)||void 0,id:"".concat(Bt),name:kt==null?void 0:kt.name,index:B})},onClose:function(){return xe(null)},taxonomicGroupTypes:sn}),visible:vn,onClickOutside:function(){return xe(null)}},function(ve){var Ae=ve.setRef;return p.a.createElement(pe.a,{"data-attr":"trend-element-subject-"+B,onClick:Tn,block:je,ref:Ae,disabled:cn||Ft,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},p.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},p.a.createElement(Te.a,{filter:I})),p.a.createElement(Ne.a,{style:{fontSize:10}}))}),Dn=typeof ot=="function"?ot({filter:I,index:B,onClose:Xe}):ot,jn=p.a.createElement(pe.a,{type:"link",onClick:function(){typeof I.order=="number"&&mn(I.order,!Mt)},className:"row-action-btn show-filters".concat(Mt?" visible":""),"data-attr":"show-prop-filter-".concat(B),title:"Show filters",style:{display:"flex",alignItems:"center"}},p.a.createElement(O.IconFilter,{fontSize:"1.25em"}),!((x=I.properties)===null||x===void 0)&&x.length?Object(xt.qb)((C=I.properties)===null||C===void 0?void 0:C.length,"filter"):null),yn=p.a.createElement(pe.a,{type:"link",onClick:function(){xe(I),nt()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(B),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},p.a.createElement(O.IconEdit,{fontSize:"1.25em"})),Bn=p.a.createElement(pe.a,{type:"link",onClick:function(){Cn(I)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(B),title:"Duplicate graph series"},p.a.createElement(O.IconCopy,{fontSize:"1.25em"})),Mn=p.a.createElement(pe.a,{type:"link",onClick:Xe,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(B),title:"Delete graph series"},p.a.createElement(O.IconDelete,{fontSize:"1.25em"}));return p.a.createElement("div",{className:Object(Je.a)({"action-row-striped":ae&&At,"action-row":!ae||!At,"full-width":je})},!ae&&B>0&&Ie&&p.a.createElement(lt.a,{align:"middle",style:{marginTop:12}},Jt),p.a.createElement(lt.a,{gutter:8,align:"middle",className:"".concat(ae?"":"mt"," ").concat(jt),wrap:!je},un?un({seriesIndicator:qt,prefix:In,filter:Fn,suffix:Dn,propertyFiltersButton:jn,renameRowButton:yn,deleteButton:Mn,orLabel:Jt}):p.a.createElement(p.a.Fragment,null,!st&&ae&&!tt&&Pt>1&&p.a.createElement(fe.a,null,p.a.createElement(pe.a,{type:"link",onClick:Xe,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:p.a.createElement($e.a,null)})),Re&&p.a.createElement(fe.a,{className:"action-row-letter"},qt),St!==void 0?p.a.createElement(fe.a,null,In):p.a.createElement(p.a.Fragment,null,ae&&p.a.createElement(fe.a,null,"Showing")),p.a.createElement(fe.a,{className:"column-filter",style:je?{}:{maxWidth:"calc(".concat(Ee?"100":"50","% - 16px)")},flex:je?"auto":void 0},Fn),ot!==void 0&&p.a.createElement(fe.a,{className:"column-row-suffix"},Dn),!Ee&&p.a.createElement(p.a.Fragment,null,ae&&p.a.createElement(fe.a,null,"counted by"),p.a.createElement(fe.a,{style:{maxWidth:"calc(50% - 16px".concat(Re?" - 32px":"",")")}},p.a.createElement(gt,{math:wt,mathGroupTypeIndex:Ue,index:B,onMathSelect:pn,style:{maxWidth:"100%",width:"initial"}})),((T=Lt[wt||""])===null||T===void 0?void 0:T.onProperty)&&p.a.createElement(p.a.Fragment,null,ae&&p.a.createElement(fe.a,null,"on property"),p.a.createElement(fe.a,{style:{maxWidth:"calc(50% - 16px".concat(Re?" - 32px":"",")")}},p.a.createElement(q.c,{groupType:le.a.NumericalEventProperties,value:Ve,onChange:function(Ae){return fn(B,Ae)},eventNames:ke?[ke]:[],dataAttr:"math-property-select",renderValue:function(Ae){return p.a.createElement(Rt.a,{title:p.a.createElement(p.a.Fragment,null,"Calculate"," ",Lt[wt!=null?wt:""].name.toLowerCase()," from property ",p.a.createElement("code",null,Ae),". Note that only"," ",ke," occurences where ",p.a.createElement("code",null,Ae)," is set with a numeric value will be taken into account."),placement:"right"},p.a.createElement("div",null,p.a.createElement(w.b,{value:Ae,disablePopover:!0})))}})))),(ae||je)&&!we&&!Ft&&p.a.createElement(fe.a,null,jn),(ae||je)&&!ce&&!Ft&&p.a.createElement(fe.a,null,yn),(ae||je)&&!we&&!tt&&!Ft&&p.a.createElement(fe.a,null,Bn),!st&&!ae&&!tt&&!Ft&&p.a.createElement(fe.a,{className:"column-delete-btn"},Mn),ae&&Pt>1&&B<Pt-1&&Ie&&Jt)),(!oe||I.properties&&I.properties.length>0)&&!ae&&!je&&p.a.createElement("div",{style:{paddingTop:6}},p.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),p.a.createElement(pe.a,{className:"ant-btn-md",onClick:function(){return typeof I.order=="number"?mn(I.order,!Mt):void 0},"data-attr":"show-prop-filter-"+B},M(Mt,I))),Mt&&p.a.createElement("div",{className:"mr property-filter-wrapper ".concat(rn)},p.a.createElement(Kt.a,{pageKey:"".concat(B,"-").concat(ft,"-filter"),propertyFilters:I.properties,onChange:function(Ae){return On({properties:Ae,index:B})},disablePopover:ae,style:{marginBottom:0},showNestedArrow:An,taxonomicGroupTypes:ln,eventNames:I.type===le.a.Events&&I.id?[String(I.id)]:I.type===le.a.Actions&&I.id?Object(xt.I)(parseInt(String(I.id)),Qt):[]})))}function gt(u){var x=u.math,C=u.mathGroupTypeIndex,T=u.index,X=u.onMathSelect,I=u.style,B="This can only be used on properties that have at least one number type occurence in your events.",Ee=Object(J.useValues)(ge.c),oe=Ee.eventMathEntries,tt=Ee.propertyMathEntries;return p.a.createElement(Ge.a,{style:k({width:150},I),value:Object(ge.a)(x,C),onChange:function(we){return X(T,we)},"data-attr":"math-selector-".concat(T),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},p.a.createElement(Ge.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},oe.map(function(Ie){var we=te()(Ie,2),ce=we[0],$=we[1],nt=$.name,Re=$.description,de=$.onProperty;return p.a.createElement(Ge.a.Option,{key:ce,value:ce,"data-attr":"math-".concat(ce,"-").concat(T)},p.a.createElement(Rt.a,{title:de?p.a.createElement(p.a.Fragment,null,Re,p.a.createElement("br",null),B):Re,placement:"right"},p.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},nt)))}),Object(Ye.a)({value:""})),p.a.createElement(Ge.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},tt.map(function(Ie){var we=te()(Ie,2),ce=we[0],$=we[1],nt=$.name,Re=$.description,de=$.onProperty;return p.a.createElement(Ge.a.Option,{key:ce,value:ce,"data-attr":"math-".concat(ce,"-").concat(T)},p.a.createElement(Rt.a,{title:de?p.a.createElement(p.a.Fragment,null,Re,p.a.createElement("br",null),B):Re,placement:"right"},p.a.createElement("div",{style:{height:"100%",width:"100%"}},nt)))})))}var Be=(V={},Q()(V,le.a.Events,Me.g.EVENTS),Q()(V,le.a.Actions,Me.g.ACTIONS),V);function he(u){return Be[u]||null}try{Se.displayName="ActionFilterRow",Se.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:Se.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(u){}try{he.displayName="taxonomicFilterGroupTypeToEntityType",he.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:he.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(u){}var ht=o("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),Ot=o("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),ct=o.n(Ot),qe=o("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),dt=Object(qe.c)(function(){return p.a.createElement("span",{className:"action-filter-drag-handle"},p.a.createElement(O.SortableDragIcon,null))}),H=Object(qe.b)(function(u){var x=u.filterCount,C=u.filterIndex,T=ct()(u,["filterCount","filterIndex"]),X=x>1;return p.a.createElement("div",{className:"draggable-action-filter ".concat(X?"drag-handle-visible":"")},X?p.a.createElement(dt,null):p.a.createElement("span",{style:{marginLeft:4}}),p.a.createElement(Se,De()({},T,{filterCount:x,index:C,key:C})))}),et=Object(qe.a)(function(u){var x=u.children;return p.a.createElement("div",null,x)});try{H.displayName="SortableActionFilterRow",H.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:H.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(u){}try{et.displayName="SortableContainer",et.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:et.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(u){}var Gt=o("./node_modules/antd/es/modal/index.js"),En=o("./node_modules/antd/es/input/index.js"),$t=o("./frontend/src/scenes/insights/utils.ts"),tn=Object(J.kea)({props:{},key:function(x){return x.typeKey},path:function(x){return["scenes","insights","ActionFilter","renameModalLogic",x]},connect:{actions:[Qe.a,["selectFilter"]]},actions:function(){return{setName:function(C){return{name:C}}}},reducers:function(x){var C,T=x.props;return{name:[(C=Object($t.c)(T.filter))!==null&&C!==void 0?C:"",{setName:function(I,B){var Ee=B.name;return Ee},selectFilter:function(I,B){var Ee,oe=B.filter;return(Ee=Object($t.c)(oe))!==null&&Ee!==void 0?Ee:""}}]}}});function It(u){var x,C=u.typeKey,T=u.view,X=Object(J.useValues)(Qe.a),I=X.selectedFilter,B=X.modalVisible,Ee=Object(J.useActions)(Qe.a),oe=Ee.renameFilter,tt=Ee.hideModal,Ie=tn({typeKey:C,filter:I}),we=Object(J.useValues)(Ie),ce=we.name,$=Object(J.useActions)(Ie),nt=$.setName,Re=Object(it.useRef)(null);bn(Re,{cursor:"all"},[B]);var de="Rename ".concat(T===Me.s.FUNNELS?"funnel step":"graph series");return p.a.createElement(Gt.a,{"data-attr":"filter-rename-modal",visible:B,title:de,footer:p.a.createElement(p.a.Fragment,null,p.a.createElement(pe.a,{type:"link",onClick:tt},"Cancel"),p.a.createElement(pe.a,{type:"primary",onClick:function(){return oe(ce)}},de)),onCancel:tt},"Query series/steps can be renamed to provide a more"," ",p.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",p.a.createElement("br",null),p.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),p.a.createElement(En.a,{ref:Re,value:ce,onPressEnter:function(){return oe(ce)},onChange:function(rt){return nt(rt.target.value)},suffix:p.a.createElement("span",{className:"text-muted-alt"},(x=Object($t.c)(I,!1))!==null&&x!==void 0?x:"")}))}function bn(u,x){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(it.useEffect)(function(){var T=setTimeout(function(){if(u.current){var X;(X=u.current)===null||X===void 0||X.focus(x)}},0);return function(){return clearTimeout(T)}},C)}try{It.displayName="RenameModal",It.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:It.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(u){}var Pn=o("./frontend/src/lib/utils/eventUsageLogic.ts"),nn=o("./frontend/src/scenes/teamLogic.ts");function Et(u,x){var C=Object.keys(u);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(u);x&&(T=T.filter(function(X){return Object.getOwnPropertyDescriptor(u,X).enumerable})),C.push.apply(C,T)}return C}function Yt(u){for(var x=1;x<arguments.length;x++){var C=arguments[x]!=null?arguments[x]:{};x%2?Et(Object(C),!0).forEach(function(T){Q()(u,T,C[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(C)):Et(Object(C)).forEach(function(T){Object.defineProperty(u,T,Object.getOwnPropertyDescriptor(C,T))})}return u}var _=p.a.forwardRef(function(u,x){var C=u.setFilters,T=u.filters,X=u.typeKey,I=u.addFilterDefaultOptions,B=I===void 0?{}:I,Ee=u.hideMathSelector,oe=u.hidePropertySelector,tt=oe===void 0?!1:oe,Ie=u.buttonCopy,we=Ie===void 0?"":Ie,ce=u.disabled,$=ce===void 0?!1:ce,nt=u.sortable,Re=nt===void 0?!1:nt,de=u.showSeriesIndicator,ut=de===void 0?!1:de,rt=u.seriesIndicatorType,ae=rt===void 0?"alpha":rt,bt=u.showOr,je=bt===void 0?!1:bt,Pt=u.hideFilter,St=Pt===void 0?!1:Pt,ot=u.hideRename,jt=ot===void 0?!1:ot,rn=u.horizontalUI,on=rn===void 0?!1:rn,At=u.fullWidth,Ht=At===void 0?!1:At,Sn=u.customRowPrefix,An=u.customRowSuffix,at=u.rowClassName,st=u.entitiesLimit,an=u.propertyFilterWrapperClassName,sn=u.stripeActionRow,ln=sn===void 0?!0:sn,Zt=u.customActions,cn=u.showNestedArrow,dn=cn===void 0?!1:cn,Ft=u.actionsTaxonomicGroupTypes,un=u.propertiesTaxonomicGroupTypes,Dt=u.hideDeleteBtn,He=u.renderRow,wn=u.buttonType,xn=wn===void 0?"dashed":wn,Ze=u.readOnly,ue=Ze===void 0?!1:Ze,xe=Object(J.useValues)(nn.a),mt=xe.currentTeamId,Xt=Object(Qe.a)({teamId:mt,setFilters:C,filters:T,typeKey:X,addFilterDefaultOptions:B}),On=Object(J.useActions)(Pn.f),mn=On.reportFunnelStepReordered,Cn=Object(J.useValues)(Xt),pt=Cn.localFilters,Qt=Object(J.useActions)(Xt),Rn=Qt.addFilter,Lt=Qt.setLocalFilters,Mt=Qt.showModal;Object(it.useEffect)(function(){Lt(T)},[T]);function Nt(Ve){var Ue=Ve.oldIndex,Xe=Ve.newIndex;function pn(fn,vn,Tn){var Ct=Le()(fn);return Array.prototype.splice.call(Ct,Tn,0,Array.prototype.splice.call(Ct,vn,1)[0]),Ct.map(function(Jt,qt){return Yt(Yt({},Jt),{},{order:qt})})}C(Object(Qe.b)(pn(pt,Ue,Xe))),Ue!==Xe&&mn()}var ke=st===1,ft={logic:Xt,showSeriesIndicator:ut,seriesIndicatorType:ae,hideMathSelector:Ee,hidePropertySelector:tt,customRowPrefix:Sn,customRowSuffix:An,rowClassName:at,propertyFilterWrapperClassName:an,stripeActionRow:ln,hasBreakdown:!!T.breakdown,fullWidth:Ht,actionsTaxonomicGroupTypes:Ft,propertiesTaxonomicGroupTypes:un,hideDeleteBtn:Dt,disabled:$,readOnly:ue,renderRow:He,hideRename:jt,onRenameClick:Mt},wt=Boolean(st&&pt.length>=st);return p.a.createElement("div",{ref:x},!jt&&!ue&&p.a.createElement(J.BindLogic,{logic:Qe.a,props:{setFilters:C,filters:T,typeKey:X,addFilterDefaultOptions:B}},p.a.createElement(It,{view:T.insight,typeKey:X})),pt?Re?p.a.createElement(et,{onSortEnd:Nt,lockAxis:"y",distance:5},pt.map(function(Ve,Ue){return p.a.createElement(H,De()({key:Ue,filter:Ve,index:Ue,filterIndex:Ue,filterCount:pt.length,showNestedArrow:dn},ft))})):pt.map(function(Ve,Ue){return p.a.createElement(Se,De()({filter:Ve,index:Ue,key:Ue,singleFilter:ke,showOr:je,hideFilter:St||ue,horizontalUI:on,filterCount:pt.length,showNestedArrow:dn},ft))}):null,(!ke||Zt)&&p.a.createElement("div",{className:Object(Je.a)(xn!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!ke&&p.a.createElement(pe.a,{type:xn,onClick:function(){return Rn()},"data-attr":"add-action-event-button",icon:p.a.createElement(ht.a,null),disabled:wt||$||ue,className:"add-action-event-button"},wt?"Reached limit of ".concat(st," ").concat(T.insight===Me.s.FUNNELS?"steps":"series"):we||"Action or event"),Zt))});try{_.displayName="ActionFilter",_.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:_.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(u){}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(G,j,o){"use strict";o.d(j,"a",function(){return Ln});var D=o("./node_modules/react/index.js"),a=o.n(D),h=o("./frontend/src/lib/components/Drawer.tsx"),Fe=o("./node_modules/core-js/modules/es.object.to-string.js"),De=o("./node_modules/core-js/modules/es.regexp.to-string.js"),ie=o("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Q=o.n(ie),Oe=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),Le=o.n(Oe),Ke={};Ke.insert="head",Ke.singleton=!1;var We=Q()(Le.a,Ke),Ce=Le.a.locals||{},L=o("./node_modules/kea/lib/index.esm.js"),ze=o("./node_modules/core-js/modules/es.array.index-of.js"),vt=o("./node_modules/core-js/modules/es.array.iterator.js"),yt=o("./node_modules/core-js/modules/es.array.slice.js"),it=o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),p=o("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),J=o.n(p),Qe=o("./node_modules/@babel/runtime/regenerator/index.js"),K=o.n(Qe),hn=o("./node_modules/regenerator-runtime/runtime.js"),en=o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Pe=o.n(en),_t=o("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),me=o("./frontend/src/lib/utils/eventUsageLogic.ts"),te=o("./frontend/src/types.ts"),pe=o("./frontend/src/lib/utils/responsiveUtils.tsx"),lt=o("./node_modules/core-js/modules/es.array.concat.js"),fe=o("./node_modules/core-js/modules/es.array.for-each.js"),Ge=o("./node_modules/core-js/modules/es.array.includes.js"),Rt=o("./node_modules/core-js/modules/es.array.join.js"),Me=o("./node_modules/core-js/modules/es.array.map.js"),Kt=o("./node_modules/core-js/modules/es.object.entries.js"),Ne=o("./node_modules/core-js/modules/es.object.values.js"),$e=o("./node_modules/core-js/modules/es.regexp.exec.js"),xt=o("./node_modules/core-js/modules/es.string.ends-with.js"),Tt=o("./node_modules/core-js/modules/es.string.includes.js"),Wt=o("./node_modules/core-js/modules/es.string.iterator.js"),zt=o("./node_modules/core-js/modules/es.string.replace.js"),E=o("./node_modules/core-js/modules/es.string.search.js"),b=o("./node_modules/core-js/modules/es.string.split.js"),S=o("./node_modules/core-js/modules/es.string.starts-with.js"),g=o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Z=o("./node_modules/core-js/modules/web.url.js"),le=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),Te=o.n(le),Je=o("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ge=o.n(Je),Ye=o("./node_modules/fuse.js/dist/fuse.esm.js"),F=o("./frontend/src/lib/api.ts"),w=o("./frontend/src/lib/utils.tsx"),q=o("./frontend/src/scenes/teamLogic.ts"),O=o("./frontend/src/lib/components/PropertyKeyInfo.tsx"),V=o("./frontend/src/lib/dayjs.ts"),U=o("./node_modules/core-js/modules/es.array.from.js"),k=o("./node_modules/core-js/modules/es.function.name.js");function M(n,t){var e;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=Se(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(m){throw m},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,d;return{s:function(){e=n[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,d=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw d}}}}function Se(n,t){if(!!n){if(typeof n=="string")return gt(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gt(n,t)}}function gt(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var Be=15,he=Be/2;function ht(n){return"touches"in n}function Ot(n){return"clientX"in n}var ct=function(t){if(ht(t)){var e,r,s,i,l;return(e=t==null||(r=t.touches)===null||r===void 0||(s=r[0])===null||s===void 0?void 0:s.pageX)!==null&&e!==void 0?e:t==null||(i=t.changedTouches)===null||i===void 0||(l=i[0])===null||l===void 0?void 0:l.pageX}return Ot(t)?t==null?void 0:t.clientX:0};function qe(n,t,e){if(n.windowId===t.windowId)return n.time-t.time;var r=M(e),s;try{for(r.s();!(s=r.n()).done;){var i=s.value;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return-1;if(t.windowId===i.windowId&&t.time>=i.startPlayerPosition.time&&t.time<=i.endPlayerPosition.time)return 1}}catch(l){r.e(l)}finally{r.f()}throw"Could not find player positions in segments"}function dt(n,t){var e=M(t),r;try{for(e.s();!(r=e.n()).done;){var s=r.value;if(n.windowId===s.windowId&&n.time>=s.startPlayerPosition.time&&n.time<=s.endPlayerPosition.time)return s}}catch(i){e.e(i)}finally{e.f()}return null}function H(n,t){var e=0,r=M(t),s;try{for(r.s();!(s=r.n()).done;){var i=s.value;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return e+n.time-i.startPlayerPosition.time;e+=i.durationMs}}catch(l){r.e(l)}finally{r.f()}return null}function et(n,t){var e=0,r=M(t),s;try{for(r.s();!(s=r.n()).done;){var i=s.value;if(e+i.durationMs>n)return{windowId:i.windowId,time:n-e+i.startPlayerPosition.time};e+=i.durationMs}}catch(l){r.e(l)}finally{r.f()}return n===e&&t.length>0?t.slice(-1)[0].endPlayerPosition:null}function Gt(n,t,e){if(e&&t in e){var r=e[t].startTimeEpochMs,s=e[t].endTimeEpochMs;return r>n||s<n?null:{windowId:t,time:n-r}}return null}function En(n,t){if(n.windowId in t){var e=t[n.windowId].startTimeEpochMs;return e+n.time}return null}var $t=function(t,e,r,s){var i=t/e*s;return et(i,r)},tn=function(t,e,r,s){var i=H(t,r);return(i!=null?i:0)/s*e},It=o("./frontend/src/lib/components/lemonToast.tsx"),bn=o("./node_modules/fast-deep-equal/index.js"),Pn=o.n(bn),nn=o("./frontend/src/lib/logic/featureFlagLogic.ts"),Et=o("./frontend/src/lib/constants.tsx");function Yt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,r)}return e}function _(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Yt(Object(e),!0).forEach(function(r){Te()(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Yt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function u(n,t){var e;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=x(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(m){throw m},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,d;return{s:function(){e=n[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,d=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw d}}}}function x(n,t){if(!!n){if(typeof n=="string")return C(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C(n,t)}}function C(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var T=!1,X="rrweb/console@1",I=function(t){var e=t.segments.map(function(s){var i=+Object(V.a)(t.start_and_end_times_by_window_id[s.window_id].start_time),l=+Object(V.a)(s==null?void 0:s.start_time),d=+Object(V.a)(s==null?void 0:s.end_time),c={windowId:s.window_id,time:l-i},m={windowId:s.window_id,time:d-i},f=d-l;return{startPlayerPosition:c,endPlayerPosition:m,durationMs:f,startTimeEpochMs:l,endTimeEpochMs:d,windowId:s.window_id,isActive:s.is_active}}),r={};return Object.entries(t.start_and_end_times_by_window_id).forEach(function(s){var i=ge()(s,2),l=i[0],d=i[1];r[l]={startTimeEpochMs:+Object(V.a)(d.start_time),endTimeEpochMs:+Object(V.a)(d.end_time)}}),{segments:e,startAndEndTimesByWindowId:r,recordingDurationMs:Object(w.zb)(e.map(function(s){return s.durationMs}))}},B=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=null;if(t&&e&&r){var i=u(t),l;try{for(i.s();!(l=i.n()).done;){var d,c=l.value,m=((d=e[c.windowId])!==null&&d!==void 0?d:[]).slice(-1).pop();if(m&&m.timestamp>=c.startTimeEpochMs){var f=r[c.windowId].startTimeEpochMs;s={windowId:c.windowId,time:Math.min(m.timestamp-f,c.endPlayerPosition.time)}}else return s}}catch(v){i.e(v)}finally{i.f()}}return s},Ee=function(t){return t.map(function(e){var r,s,i;return _(_({},e),{},{queryValue:"".concat((r=(s=(i=Object(O.d)(e.event,"event"))===null||i===void 0?void 0:i.label)!==null&&s!==void 0?s:e.event)!==null&&r!==void 0?r:""," ").concat(Object(w.B)(e)).replace(/['"]+/g,"")})})},oe=Object(L.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[me.f],values:[q.a,["currentTeamId"],nn.a,["featureFlags"]]},actions:{setFilters:function(t){return{filters:t}},setSource:function(t){return{source:t}},reportUsage:function(t,e){return{recordingData:t,loadTime:e}},loadRecordingMeta:function(t){return{sessionRecordingId:t}},loadRecordingSnapshots:function(t,e){return{sessionRecordingId:t,url:e}},loadEvents:function(t){return{url:t}}},reducers:{filters:[{},{setFilters:function(t,e){var r=e.filters;return _(_({},t),r)}}],sessionRecordingId:[null,{loadRecording:function(t,e){var r=e.sessionRecordingId;return r!=null?r:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(t){return t+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(t,e){var r=e.sessionEventsData;return!!(r!=null&&r.next)}}],source:[me.d.Unknown,{setSource:function(t,e){var r=e.source;return r}}]},listeners:function(t){var e=t.values,r=t.actions,s=t.sharedListeners,i=t.cache;return{loadRecordingMetaSuccess:function(){i.eventsStartTime=performance.now(),r.loadEvents()},loadRecordingSnapshotsSuccess:function(){var d;!((d=e.sessionPlayerData)===null||d===void 0)&&d.next?r.loadRecordingSnapshots(void 0,e.sessionPlayerData.next):me.f.actions.reportRecording(e.sessionPlayerData,e.source,performance.now()-i.startTime,te.D.LOADED,0),e.chunkPaginationIndex===1&&r.reportUsage(e.sessionPlayerData,performance.now()-i.startTime)},loadEventsSuccess:function(){var d;if(!((d=e.sessionEventsData)===null||d===void 0)&&d.next)r.loadEvents(e.sessionEventsData.next);else{var c,m,f;me.f.actions.reportRecordingEventsFetched((c=(m=e.sessionEventsData)===null||m===void 0||(f=m.events)===null||f===void 0?void 0:f.length)!==null&&c!==void 0?c:0,performance.now()-i.eventsStartTime),i.eventsStartTime=null}},loadRecordingMetaFailure:s.showErrorToast,loadRecordingSnapshotsFailure:s.showErrorToast,loadEventsFailure:s.showErrorToast,reportUsage:function(){var l=Pe()(K.a.mark(function c(m,f){var v,y;return K.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return v=m.recordingData,y=m.loadTime,P.next=3,f();case 3:return me.f.actions.reportRecording(v,e.source,y,te.D.VIEWED,0),P.next=6,f(T?1:1e4);case 6:me.f.actions.reportRecording(v,e.source,y,te.D.ANALYZED,10);case 7:case"end":return P.stop()}},c)}));function d(c,m){return l.apply(this,arguments)}return d}()}},sharedListeners:function(){return{showErrorToast:function(e){var r=e.error;It.a.error(r)}}},loaders:function(t){var e=t.values;return{sessionPlayerData:{loadRecordingMeta:function(){var r=Pe()(K.a.mark(function i(l,d){var c,m,f,v,y,R,P,A,W,ee,z;return K.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return R=l.sessionRecordingId,P=Object(w.Ab)({save_view:!0}),N.next=4,F.a.get("api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(R,"?").concat(P));case 4:return A=N.sent,W=(c=A.result)===null||c===void 0?void 0:c.session_recording,ee=I(W),z=B(ee.segments,(m=e.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId,ee.startAndEndTimesByWindowId),d(),N.abrupt("return",_(_({},e.sessionPlayerData),{},{person:(f=A.result)===null||f===void 0?void 0:f.person,metadata:ee,bufferedTo:z,snapshotsByWindowId:(v=_({},(y=e.sessionPlayerData)===null||y===void 0?void 0:y.snapshotsByWindowId))!==null&&v!==void 0?v:{}}));case 10:case"end":return N.stop()}},i)}));function s(i,l){return r.apply(this,arguments)}return s}(),loadRecordingSnapshots:function(){var r=Pe()(K.a.mark(function i(l,d){var c,m,f,v,y,R,P,A,W,ee,z,Y,N,se,ne;return K.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return W=l.sessionRecordingId,ee=l.url,z=ee||"api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(W,"/snapshots?").concat(Object(w.Ab)({limit:e.featureFlags[Et.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),ye.next=4,F.a.get(z);case 4:return Y=ye.sent,d(),N=_({},(c=(m=e.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId)!==null&&c!==void 0?c:{}),se=(f=Y.result)===null||f===void 0?void 0:f.snapshot_data_by_window_id,Object.entries(se).forEach(function(re){var _e,Vt=ge()(re,2),Ut=Vt[0],gn=Vt[1];N[Ut]=[].concat(J()((_e=N[Ut])!==null&&_e!==void 0?_e:[]),J()(gn))}),ne=B((v=e.sessionPlayerData)===null||v===void 0||(y=v.metadata)===null||y===void 0?void 0:y.segments,N,(R=e.sessionPlayerData)===null||R===void 0||(P=R.metadata)===null||P===void 0?void 0:P.startAndEndTimesByWindowId),ye.abrupt("return",_(_({},e.sessionPlayerData),{},{bufferedTo:ne,snapshotsByWindowId:N,next:(A=Y.result)===null||A===void 0?void 0:A.next}));case 11:case"end":return ye.stop()}},i)}));function s(i,l){return r.apply(this,arguments)}return s}()},sessionEventsData:{loadEvents:function(){var r=Pe()(K.a.mark(function i(l,d){var c,m,f,v,y,R,P,A,W;return K.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(v=l.url,e.eventsApiParams){z.next=3;break}return z.abrupt("return",e.sessionEventsData);case 3:return y=v||"api/projects/".concat(e.currentTeamId,"/events?").concat(Object(w.Ab)(e.eventsApiParams)),z.next=6,F.a.get(y);case 6:return R=z.sent,d(),P=[],A=[],W=(c=R.results)!==null&&c!==void 0?c:[],W.forEach(function(Y){var N,se,ne,be,ye=Gt(+Object(V.a)(Y.timestamp)-1e3,(N=(se=Y.properties)===null||se===void 0?void 0:se.$window_id)!==null&&N!==void 0?N:"",(ne=e.sessionPlayerData)===null||ne===void 0||(be=ne.metadata)===null||be===void 0?void 0:be.startAndEndTimesByWindowId);if(ye===null){var re,_e,Vt,Ut;ye=Gt(+Object(V.a)(Y.timestamp),(re=(_e=Y.properties)===null||_e===void 0?void 0:_e.$window_id)!==null&&re!==void 0?re:"",(Vt=e.sessionPlayerData)===null||Vt===void 0||(Ut=Vt.metadata)===null||Ut===void 0?void 0:Ut.startAndEndTimesByWindowId)}if(ye!==null){var gn=H(ye,e.sessionPlayerData.metadata.segments);gn!==null&&A.push(_(_({},Y),{},{playerTime:gn,playerPosition:ye,percentageOfRecordingDuration:100*gn/e.sessionPlayerData.metadata.recordingDurationMs}))}}),P=[].concat(J()((m=(f=e.sessionEventsData)===null||f===void 0?void 0:f.events)!==null&&m!==void 0?m:[]),A).sort(function(Y,N){return Y.playerTime-N.playerTime}),z.abrupt("return",_(_({},e.sessionEventsData),{},{next:R==null?void 0:R.next,events:P}));case 14:case"end":return z.stop()}},i)}));function s(i,l){return r.apply(this,arguments)}return s}()}}},selectors:{eventsToShow:[function(n){return[n.filters,n.sessionEventsData]},function(n,t){var e,r=(e=t==null?void 0:t.events)!==null&&e!==void 0?e:[];return n!=null&&n.query?new Ye.a(Ee(r),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(i,l){return r[i.idx].timestamp-r[l.idx].timestamp||i.score-l.score}}).search(n.query).map(function(s){return s.item}):r}],eventsApiParams:[function(n){return[n.sessionPlayerData]},function(n){var t,e,r,s=(t=n.metadata.segments.slice(0,1).pop())===null||t===void 0?void 0:t.startTimeEpochMs,i=(e=n.metadata.segments.slice(-1).pop())===null||e===void 0?void 0:e.endTimeEpochMs;if(!(!(n==null||(r=n.person)===null||r===void 0)&&r.id)||!s||!i)return null;var l=6e4;return{person_id:n.person.id,after:V.a.utc(s).subtract(l,"ms").format(),before:V.a.utc(i).add(l,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(n){return[n.sessionPlayerData]},function(n){var t,e,r=[];return n==null||(t=n.metadata)===null||t===void 0||(e=t.segments)===null||e===void 0||e.forEach(function(s){var i;n==null||(i=n.snapshotsByWindowId[s.windowId])===null||i===void 0||i.forEach(function(l){if(l.type===6&&l.data.plugin===X&&l.timestamp>=s.startTimeEpochMs&&l.timestamp<=s.endTimeEpochMs){var d,c,m=l.data.payload,f=m.level,v=m.payload,y=m.trace,R=v==null||(d=v.map)===null||d===void 0?void 0:d.call(v,function(N){return N.startsWith('"')&&N.endsWith('"')?N.slice(1,-1):N}).join(" "),P,A;if(y&&y.length>0){var W=y[0].split("(").slice(-1)[0].replace(")",""),ee=W.split(":"),z=ee.slice(-2).join(":");if(A=ee.slice(0,-2).join(":"),ee.length>=4)try{var Y=new URL(A).pathname.split("/").slice(-1)[0];P="".concat(Y,":").concat(z)}catch(N){P=":".concat(z)}else P=":".concat(z)}r.push({playerPosition:Gt(l.timestamp,s.windowId,n==null||(c=n.metadata)===null||c===void 0?void 0:c.startAndEndTimesByWindowId),parsedTraceURL:A,parsedTraceString:P,parsedPayload:R,level:f})}})}),r}],areAllSnapshotsLoaded:[function(n){return[n.sessionPlayerData]},function(n){var t,e;return(n==null?void 0:n.bufferedTo)&&(n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments.slice(-1)[0])&&Pn()(n==null||(e=n.metadata)===null||e===void 0?void 0:e.segments.slice(-1)[0].endPlayerPosition,n==null?void 0:n.bufferedTo)}]},urlToAction:function(t){var e=t.actions,r=t.values,s=t.cache,i=function(d,c,m){var f=c.source,v=m.sessionRecordingId;f&&Object.values(me.d).includes(f)&&e.setSource(f),r&&v&&v!==r.sessionRecordingId&&(s.startTime=performance.now(),e.loadRecordingMeta(v),e.loadRecordingSnapshots(v))};return{"/recordings":i,"/person/*":i,"/insights/*":i}}});function tt(n,t){var e;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=Ie(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,s=function(){};return{s,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(m){throw m},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,d;return{s:function(){e=n[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,d=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw d}}}}function Ie(n,t){if(!!n){if(typeof n=="string")return we(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return we(n,t)}}function we(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var ce=[.5,1,2,4,8,16],$=Object(L.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[me.f],values:[oe,["sessionRecordingId","sessionPlayerData"]],actions:[oe,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(t){return{player:t}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(t){return{skipInactivitySetting:t}},setSkippingInactivity:function(t){return{isSkippingInactivity:t}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(t){return{playerPosition:t}},setSpeed:function(t){return{speed:t}},setScale:function(t){return{scale:t}},togglePlayPause:!0,seek:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:t,forcePlay:e}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(t){return{segment:t}},setRootFrame:function(t){return{frame:t}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(e,r){var s=r.frame;return s}}],player:[null,{setPlayer:function(e,r){var s=r.player;return s}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(e,r){var s=r.playerPosition;return s}}],currentSegment:[null,{setCurrentSegment:function(e,r){var s=r.segment;return s}}],speed:[1,{persist:!0},{setSpeed:function(e,r){var s=r.speed;return s}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(e,r){var s=r.skipInactivitySetting;return s}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(e,r){var s=r.isSkippingInactivity;return s}}],scale:[1,{setScale:function(e,r){var s=r.scale;return s}}],playingState:[te.C.PLAY,{setPlay:function(){return te.C.PLAY},setPause:function(){return te.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(n){return[n.playingState,n.isBuffering,n.isScrubbing,n.isSkippingInactivity]},function(n,t,e,r){return e?n:t?te.C.BUFFER:r&&n!==te.C.PAUSE?te.C.SKIP:n}],currentPlayerTime:[function(n){return[n.currentPlayerPosition,n.sessionPlayerData]},function(n,t){var e;if((t==null||(e=t.metadata)===null||e===void 0?void 0:e.segments)&&n){var r;return H(n,t==null||(r=t.metadata)===null||r===void 0?void 0:r.segments)}return 0}],jumpTimeMs:[function(n){return[n.speed]},function(n){return 10*1e3*n}]},listeners:function(t){var e=t.values,r=t.actions,s=t.cache;return{setRootFrame:function(){r.tryInitReplayer()},tryInitReplayer:function(){var l,d,c=(l=(d=e.currentPlayerPosition)===null||d===void 0?void 0:d.windowId)!==null&&l!==void 0?l:null;if(r.setPlayer(null),e.rootFrame&&(e.rootFrame.innerHTML=""),!e.rootFrame||c===null||!e.sessionPlayerData.snapshotsByWindowId[c]||e.sessionPlayerData.snapshotsByWindowId[c].length<2){r.setPlayer(null);return}var m=new _t.a(e.sessionPlayerData.snapshotsByWindowId[c],{root:e.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});r.setPlayer({replayer:m,windowId:c})},setPlayer:function(l){var d=l.player;d&&(r.seek(e.currentPlayerPosition),r.syncPlayerSpeed())},setCurrentSegment:function(l){var d=l.segment;if(!d.isActive&&e.skipInactivitySetting?r.setSkippingInactivity(!0):r.setSkippingInactivity(!1),e.player&&e.player.windowId!==d.windowId){var c,m;(c=e.player)===null||c===void 0||(m=c.replayer)===null||m===void 0||m.pause(),r.tryInitReplayer()}r.seek(e.currentPlayerPosition)},setSkipInactivitySetting:function(l){var d,c=l.skipInactivitySetting;me.f.actions.reportRecordingPlayerSkipInactivityToggled(c),!(!((d=e.currentSegment)===null||d===void 0)&&d.isActive)&&c?r.setSkippingInactivity(!0):r.setSkippingInactivity(!1)},setSkippingInactivity:function(){r.syncPlayerSpeed()},syncPlayerSpeed:function(){if(e.isSkippingInactivity){var l,d,c,m,f,v,y,R=(((l=(d=e.currentSegment)===null||d===void 0||(c=d.endPlayerPosition)===null||c===void 0?void 0:c.time)!==null&&l!==void 0?l:0)-((m=(f=e.currentPlayerPosition)===null||f===void 0?void 0:f.time)!==null&&m!==void 0?m:0))/1e3,P=Math.max(50,R);(v=e.player)===null||v===void 0||(y=v.replayer)===null||y===void 0||y.setConfig({speed:P})}else{var A,W;(A=e.player)===null||A===void 0||(W=A.replayer)===null||W===void 0||W.setConfig({speed:e.speed})}},checkBufferingCompleted:function(){e.currentPlayerPosition&&e.sessionPlayerData.bufferedTo&&e.currentPlayerState===te.C.BUFFER&&qe(e.currentPlayerPosition,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)<0&&(r.endBuffer(),r.seek(e.currentPlayerPosition))},initializePlayerFromStart:function(){var l,d,c=(l=e.sessionPlayerData)===null||l===void 0||(d=l.metadata)===null||d===void 0?void 0:d.segments[0];c&&(r.setCurrentSegment(c),r.setCurrentPlayerPosition(c.startPlayerPosition),e.player||r.tryInitReplayer())},loadRecordingMetaSuccess:function(){var i=Pe()(K.a.mark(function d(c,m){return K.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:r.initializePlayerFromStart(),r.checkBufferingCompleted(),m();case 3:case"end":return v.stop()}},d)}));function l(d,c){return i.apply(this,arguments)}return l}(),loadRecordingSnapshotsSuccess:function(){var i=Pe()(K.a.mark(function d(c,m){var f,v,y,R,P,A,W,ee,z,Y,N,se,ne,be;return K.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(A=(f=(v=e.player)===null||v===void 0||(y=v.replayer)===null||y===void 0?void 0:y.service.state.context.events)!==null&&f!==void 0?f:[],W=[],((R=e.currentSegment)===null||R===void 0?void 0:R.windowId)!==void 0&&W.push.apply(W,J()(((ee=e.sessionPlayerData.snapshotsByWindowId[(z=e.currentSegment)===null||z===void 0?void 0:z.windowId])!==null&&ee!==void 0?ee:[]).slice(A.length))),!(!((P=e.player)===null||P===void 0)&&P.replayer)){re.next=23;break}Y=tt(W),re.prev=5,Y.s();case 7:if((N=Y.n()).done){re.next=13;break}return be=N.value,re.next=11,(se=e.player)===null||se===void 0||(ne=se.replayer)===null||ne===void 0?void 0:ne.addEvent(be);case 11:re.next=7;break;case 13:re.next=18;break;case 15:re.prev=15,re.t0=re.catch(5),Y.e(re.t0);case 18:return re.prev=18,Y.f(),re.finish(18);case 21:re.next=24;break;case 23:r.initializePlayerFromStart();case 24:r.checkBufferingCompleted(),m();case 26:case"end":return re.stop()}},d,null,[[5,15,18,21]])}));function l(d,c){return i.apply(this,arguments)}return l}(),setPlay:function(){var l;r.stopAnimation(),r.syncPlayerSpeed();var d=e.currentPlayerPosition||((l=e.currentSegment)===null||l===void 0?void 0:l.startPlayerPosition);d&&r.seek(d,!0)},setPause:function(){var l,d;r.stopAnimation(),r.syncPlayerSpeed(),(l=e.player)===null||l===void 0||(d=l.replayer)===null||d===void 0||d.pause()},startBuffer:function(){r.stopAnimation()},startScrub:function(){r.stopAnimation()},setSpeed:function(l){var d=l.speed;me.f.actions.reportRecordingPlayerSpeedChanged(d),r.syncPlayerSpeed()},seek:function(){var i=Pe()(K.a.mark(function d(c,m){var f,v,y,R,P,A,W,ee,z,Y,N,se,ne;return K.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:y=c.playerPosition,R=c.forcePlay,r.stopAnimation(),r.setCurrentPlayerPosition(y),P=null,y&&((f=e.sessionPlayerData)===null||f===void 0?void 0:f.metadata)&&(P=dt(y,e.sessionPlayerData.metadata.segments),P&&(P.windowId!==((A=e.currentSegment)===null||A===void 0?void 0:A.windowId)||P.startTimeEpochMs!==((W=e.currentSegment)===null||W===void 0?void 0:W.startTimeEpochMs))&&r.setCurrentSegment(P)),!(!((v=e.sessionPlayerData)===null||v===void 0)&&v.bufferedTo)||!y||!e.currentSegment||qe(y,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0?((ee=e.player)===null||ee===void 0||(z=ee.replayer)===null||z===void 0||z.pause(),r.startBuffer()):!R&&e.currentPlayerState===te.C.PAUSE?((Y=e.player)===null||Y===void 0||(N=Y.replayer)===null||N===void 0||N.pause(y.time),r.endBuffer()):((se=e.player)===null||se===void 0||(ne=se.replayer)===null||ne===void 0||ne.play(y.time),r.updateAnimation(),r.endBuffer()),m();case 7:case"end":return ye.stop()}},d)}));function l(d,c){return i.apply(this,arguments)}return l}(),seekForward:function(){if(e.currentPlayerPosition){var l=H(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var d=l+e.jumpTimeMs,c=et(d,e.sessionPlayerData.metadata.segments);c||(r.setPause(),c=e.sessionPlayerData.metadata.segments[0].startPlayerPosition),r.seek(c)}}},seekBackward:function(){if(e.currentPlayerPosition){var l=H(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var d=Math.max(l-e.jumpTimeMs,0),c=et(d,e.sessionPlayerData.metadata.segments);r.seek(c)}}},togglePlayPause:function(){e.currentPlayerState!==te.C.BUFFER&&(e.currentPlayerState===te.C.PAUSE?r.setPlay():r.setPause())},updateAnimation:function(){var l,d,c,m,f=(l=e.player)===null||l===void 0||(d=l.replayer)===null||d===void 0?void 0:d.getCurrentTime(),v=null;if(f!==void 0&&e.currentSegment&&(v={windowId:e.currentSegment.windowId,time:Math.min(f,e.currentSegment.endPlayerPosition.time)}),v&&((c=e.currentSegment)===null||c===void 0?void 0:c.endPlayerPosition)&&qe(v,(m=e.currentSegment)===null||m===void 0?void 0:m.endPlayerPosition,e.sessionPlayerData.metadata.segments)>=0){var y=e.sessionPlayerData.metadata.segments.indexOf(e.currentSegment)+1;if(y<e.sessionPlayerData.metadata.segments.length){var R=e.sessionPlayerData.metadata.segments[y];r.setCurrentPlayerPosition(R.startPlayerPosition),r.setCurrentSegment(R)}else r.setPause(),r.setCurrentPlayerPosition(e.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!e.sessionPlayerData.bufferedTo||!v||!e.currentSegment||qe(v,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0){var P,A;(P=e.player)===null||P===void 0||(A=P.replayer)===null||A===void 0||A.pause(),r.startBuffer()}else r.setCurrentPlayerPosition(v),s.timer=requestAnimationFrame(r.updateAnimation)},stopAnimation:function(){s.timer&&cancelAnimationFrame(s.timer)}}},windowValues:{isSmallScreen:function(t){return t.innerWidth<Object(pe.b)("md")}},events:function(t){var e=t.values,r=t.actions;return{beforeUnmount:function(){var i,l;(i=e.player)===null||i===void 0||(l=i.replayer)===null||l===void 0||l.pause(),r.setPlayer(null)}}}}),nt=o("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Re=o("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function de(n){var t=n.children,e=n.onClick,r=e===void 0?function(){}:e,s=n.className,i=s===void 0?"":s;return a.a.createElement("div",{onClick:r,className:"rrweb-controller-icon ".concat(i)},t)}function ut(n){var t=n.onClick,e=n.time;return a.a.createElement(de,{onClick:t,className:"rrweb-controller-icon-seek"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"seek-seconds"},e),a.a.createElement(nt.a,{className:"seek-icon",rotate:90})))}function rt(n){var t=n.onClick,e=n.time;return a.a.createElement(de,{onClick:t,className:"rrweb-controller-icon-seek"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"seek-seconds"},e),a.a.createElement(Re.a,{className:"seek-icon",rotate:270})))}function ae(n){var t=n.onClick,e=n.className,r=e===void 0?"":e;return a.a.createElement(de,{onClick:t,className:r},a.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function bt(n){var t=n.onClick,e=n.className,r=e===void 0?"":e;return a.a.createElement(de,{onClick:t,className:r},a.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function je(n){var t=n.onClick,e=n.className,r=e===void 0?"":e;return a.a.createElement(de,{onClick:t,className:r},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Pt(n){var t=n.onClick,e=n.className,r=e===void 0?"":e;return a.a.createElement(de,{onClick:t,className:r},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function St(n){var t=n.onClick,e=n.className,r=e===void 0?"":e;return a.a.createElement(de,{onClick:t,className:r},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{ut.displayName="IconSeekBack",ut.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:ut.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(n){}try{rt.displayName="IconSeekForward",rt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:rt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(n){}try{ae.displayName="IconPlay",ae.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:ae.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(n){}try{bt.displayName="IconPause",bt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:bt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(n){}try{je.displayName="IconFullscreen",je.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:je.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(n){}try{Pt.displayName="IconStepForward",Pt.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Pt.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(n){}try{St.displayName="IconStepBackward",St.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:St.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(n){}var ot=a.a.forwardRef(function(t,e){var r=Object(D.useRef)(),s=Object(L.useValues)($),i=s.currentPlayerState,l=s.player,d=Object(L.useActions)($),c=d.togglePlayPause,m=d.setScale,f=e;Object(D.useEffect)(function(){if(!!l)return l.replayer.on("resize",y),window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}},[l==null?void 0:l.replayer]);var v=function(){y(r.current)},y=function(A){var W;if(!(!A||!(!(f==null||(W=f.current)===null||W===void 0)&&W.parentElement)||!(l!=null&&l.replayer))){r.current=A;var ee=f.current.parentElement.getBoundingClientRect(),z=ee.width,Y=ee.height,N=Math.min(z/A.width,Y/A.height,1);l.replayer.wrapper.style.transform="scale(".concat(N,")"),f.current.style.paddingLeft="".concat((z-A.width*N)/2,"px"),f.current.style.paddingTop="".concat((Y-A.height*N)/2,"px"),f.current.style.marginBottom="-".concat(Y-A.height*N,"px"),m(N)}},R=function(){return i===te.C.BUFFER?a.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):i===te.C.PAUSE?a.a.createElement("div",{className:"rrweb-overlay"},a.a.createElement(ae,{className:"rrweb-overlay-play-icon"})):i===te.C.SKIP?a.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return a.a.createElement("div",{className:"rrweb-player",onClick:c},a.a.createElement("div",{ref:e}),a.a.createElement("div",{className:"rrweb-overlay-container"},R()))});try{ot.displayName="PlayerFrame",ot.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:ot.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(n){}var jt=o("./node_modules/antd/es/select/index.js"),rn=o("./node_modules/antd/es/switch/index.js"),on=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),At=o.n(on),Ht={};Ht.insert="head",Ht.singleton=!1;var Sn=Q()(At.a,Ht),An=At.a.locals||{},at=o("./node_modules/clsx/dist/clsx.m.js"),st=Object(L.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[$,["sessionPlayerData","currentPlayerPosition"],oe,["eventsToShow"]],actions:[$,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(t,e){return{thumbLeftPos:t,shouldSeek:e}},setCursorDiff:function(t){return{cursorDiff:t}},handleSeek:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:t,shouldSeek:e}},handleMove:function(t){return{event:t}},handleUp:function(t){return{event:t}},handleDown:function(t){return{event:t}},handleClick:function(t){return{event:t}},handleTickClick:function(t){return{playerPosition:t}},setSlider:function(t){return{ref:t}},setThumb:function(t){return{ref:t}},debouncedSetTime:function(t){return{time:t}},endSeeking:!0},reducers:{thumbLeftPos:[-he,{setThumbLeftPos:function(t,e){var r=e.thumbLeftPos;return r}}],cursorDiff:[0,{setCursorDiff:function(t,e){var r=e.cursorDiff;return r}}],slider:[null,{setSlider:function(t,e){var r=e.ref;return r.current}}],thumb:[null,{setThumb:function(t,e){var r=e.ref;return r.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(n){return[n.sessionPlayerData]},function(n){var t,e;if((n==null?void 0:n.bufferedTo)&&(n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments)&&(n==null||(e=n.metadata)===null||e===void 0?void 0:e.recordingDurationMs)){var r,s=(r=H(n.bufferedTo,n.metadata.segments))!==null&&r!==void 0?r:0;return 100*s/n.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(n){return[n.thumbLeftPos,n.slider,n.sessionPlayerData]},function(n,t,e){var r;return n&&t&&(e==null||(r=e.metadata)===null||r===void 0?void 0:r.recordingDurationMs)?(n+he)/t.offsetWidth*e.metadata.recordingDurationMs:0}]},listeners:function(t){var e=t.values,r=t.actions;return{setCurrentPlayerPosition:function(){var s=Pe()(K.a.mark(function l(){var d,c,m,f;return K.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(e.slider){y.next=2;break}return y.abrupt("return");case 2:(!e.isSeeking||e.currentPlayerPosition===((d=e.sessionPlayerData)===null||d===void 0||(c=d.metadata)===null||c===void 0||(m=c.segments[0])===null||m===void 0?void 0:m.startPlayerPosition))&&(f=e.currentPlayerPosition?tn(e.currentPlayerPosition,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs):0,r.setThumbLeftPos(f-he,!1));case 3:case"end":return y.stop()}},l)}));function i(){return s.apply(this,arguments)}return i}(),setThumbLeftPos:function(i){var l,d=i.thumbLeftPos,c=i.shouldSeek;if(!!e.slider&&c&&((l=e.sessionPlayerData)===null||l===void 0?void 0:l.metadata)){var m=$t(d+he,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs);r.seek(m)}},handleSeek:function(){var s=Pe()(K.a.mark(function l(d){var c,m,f,v,y;return K.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return f=d.newX,v=d.shouldSeek,y=(c=(m=e.slider)===null||m===void 0?void 0:m.offsetWidth)!==null&&c!==void 0?c:0,P.next=4,r.setThumbLeftPos(Object(w.m)(f,0,y)-he,v);case 4:r.endSeeking();case 5:case"end":return P.stop()}},l)}));function i(l){return s.apply(this,arguments)}return i}(),handleMove:function(){var s=Pe()(K.a.mark(function l(d){var c,m;return K.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(c=d.event,e.slider){v.next=3;break}return v.abrupt("return");case 3:r.startScrub(),m=ct(c)-e.cursorDiff-e.slider.getBoundingClientRect().left,r.handleSeek(m,!1);case 6:case"end":return v.stop()}},l)}));function i(l){return s.apply(this,arguments)}return i}(),handleUp:function(i){var l=i.event;if(!!e.slider){var d=ct(l)-e.cursorDiff-e.slider.getBoundingClientRect().left;r.handleSeek(d),r.endScrub(),document.removeEventListener("touchmove",r.handleMove),document.removeEventListener("touchend",r.handleUp),document.removeEventListener("mousemove",r.handleMove),document.removeEventListener("mouseup",r.handleUp)}},handleDown:function(i){var l=i.event;if(!!e.thumb){r.startScrub();var d=ct(l),c=d-e.thumb.getBoundingClientRect().left-he;Math.abs(c)>Be&&(c=0),r.setCursorDiff(c),document.addEventListener("touchmove",r.handleMove),document.addEventListener("touchend",r.handleUp),document.addEventListener("mousemove",r.handleMove),document.addEventListener("mouseup",r.handleUp)}},handleTickClick:function(i){var l=i.playerPosition;e.isSeeking||r.handleSeek(tn(l,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(t){var e=t.actions,r=t.values,s=t.cache;return{afterMount:function(){s.setCurrentPlayerPosition=function(){e.setCurrentPlayerPosition(r.currentPlayerPosition)},window.addEventListener("resize",s.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",s.setCurrentPlayerPosition)}}}});function an(n){var t=n.event,e=Object(D.useState)(!1),r=ge()(e,2),s=r[0],i=r[1],l=Object(L.useActions)(st),d=l.handleTickClick,c=Object(L.useActions)(me.f),m=c.reportRecordingPlayerSeekbarEventHovered;return a.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(t.percentageOfRecordingDuration,"% - 2px)")},onClick:function(v){v.stopPropagation(),d(t.playerPosition)},onMouseEnter:function(v){v.stopPropagation(),i(!0),m()},onMouseLeave:function(v){v.stopPropagation(),i(!1)}},a.a.createElement("div",{className:Object(at.a)("tick-info",{show:s})},t.event),a.a.createElement("div",{className:"tick-marker"}),a.a.createElement("div",{className:Object(at.a)("tick-thumb",{big:s})}))}function sn(){var n,t,e=Object(D.useRef)(null),r=Object(D.useRef)(null),s=Object(L.useActions)(st),i=s.handleDown,l=s.setSlider,d=s.setThumb,c=Object(L.useValues)(oe),m=c.eventsToShow,f=c.sessionPlayerData,v=Object(L.useValues)(st),y=v.thumbLeftPos,R=v.bufferPercent;return Object(D.useEffect)(function(){e.current&&r.current&&(l(e),d(r))},[e.current,r.current]),a.a.createElement("div",{className:"rrweb-controller-slider"},a.a.createElement("div",{className:"slider",ref:e,onMouseDown:i,onTouchStart:i},a.a.createElement("div",{className:"inactivity-bar"},f==null||(n=f.metadata)===null||n===void 0||(t=n.segments)===null||t===void 0?void 0:t.map(function(P){return a.a.createElement("div",{key:"".concat(P.windowId,"-").concat(P.startTimeEpochMs),className:Object(at.a)("activity-section",!P.isActive&&"inactive-section"),style:{width:"".concat(100*P.durationMs/f.metadata.recordingDurationMs,"%")}})})),a.a.createElement("div",{className:"slider-bar"}),a.a.createElement("div",{className:"thumb",ref:r,style:{transform:"translateX(".concat(y,"px)")}}),a.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(y,0),"px")}}),a.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(R,"% - 2px)")}})),a.a.createElement("div",{className:"ticks"},m.map(function(P){return a.a.createElement(an,{key:P.id,event:P})})))}var ln=o("./node_modules/antd/es/tooltip/index.js");function Zt(){var n,t,e,r=Object(L.useActions)($),s=r.seekBackward,i=r.seekForward,l=Object(L.useValues)($),d=l.jumpTimeMs,c=l.currentPlayerTime,m=l.sessionPlayerData,f=Object(L.useValues)(st),v=f.isScrubbing,y=f.scrubbingTime;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ln.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(d/1e3,"s (\u2190 left arrow)")},a.a.createElement("span",null,a.a.createElement(ut,{onClick:s,time:d/1e3}))),a.a.createElement(ln.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(d/1e3,"s (\u2192 right arrow)")},a.a.createElement("span",null,a.a.createElement(rt,{onClick:i,time:d/1e3}))),a.a.createElement("div",{className:"rrweb-timestamp"},Object(w.o)(((n=v?y:c)!==null&&n!==void 0?n:0)/1e3)," /"," ",Object(w.o)(Math.floor(((t=m==null||(e=m.metadata)===null||e===void 0?void 0:e.recordingDurationMs)!==null&&t!==void 0?t:0)/1e3))))}function cn(){var n=Object(L.useActions)($),t=n.togglePlayPause,e=n.setSpeed,r=n.setSkipInactivitySetting,s=Object(L.useValues)($),i=s.currentPlayerState,l=s.speed,d=s.isSmallScreen,c=s.skipInactivitySetting;return a.a.createElement("div",{className:"rrweb-controller"},a.a.createElement("span",null,i===te.C.PLAY?a.a.createElement(bt,{onClick:t,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):a.a.createElement(ae,{onClick:t,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!d&&a.a.createElement(Zt,null),a.a.createElement("div",{className:"rrweb-progress"},a.a.createElement(sn,null)),a.a.createElement(jt.a,{onChange:function(f){return e(f)},value:l,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},a.a.createElement(jt.a.OptGroup,{label:"Speed"},ce.map(function(m){return a.a.createElement(jt.a.Option,{key:m,value:m},m,"x")}))),a.a.createElement("div",{onClick:function(){r(!c)},className:"rrweb-inactivity-toggle"},a.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),a.a.createElement(rn.a,{checked:c,size:"small"})))}var dn=o("./node_modules/core-js/modules/es.symbol.js"),Ft=o("./node_modules/core-js/modules/es.symbol.description.js"),un=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),Dt=o.n(un),He={};He.insert="head",He.singleton=!1;var wn=Q()(Dt.a,He),xn=Dt.a.locals||{},Ze=o("./node_modules/antd/es/empty/index.js"),ue=o("./node_modules/antd/es/row/index.js"),xe=o("./node_modules/antd/es/col/index.js"),mt=o("./node_modules/antd/es/skeleton/index.js"),Xt=o("./node_modules/antd/es/input/index.js"),On=o("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),mn=o("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),Cn=o("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),pt=o("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Qt=o("./node_modules/react-virtualized/dist/es/List/index.js"),Rn=o("./node_modules/react-virtualized/dist/es/Grid/index.js"),Lt=o("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Mt=o("./node_modules/core-js/modules/es.array.find-index.js");function Nt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,r)}return e}function ke(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Nt(Object(e),!0).forEach(function(r){Te()(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Nt(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}var ft=65,wt=50,Ve=150*5,Ue=Object(L.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[me.f],actions:[oe,["setFilters","loadEventsSuccess"],$,["seek"]],values:[oe,["eventsToShow","sessionEventsDataLoading"],$,["currentPlayerTime"]]},actions:{setLocalFilters:function(t){return{filters:t}},setRenderedRows:function(t){return{renderMeta:t}},setList:function(t){return{list:t}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(t){return{rowIndex:t}},handleEventClick:function(t){return{playerPosition:t}}},reducers:{localFilters:[{},{setLocalFilters:function(t,e){var r=e.filters;return ke(ke({},t),r)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(t,e){var r=e.renderMeta;return r}}],list:[null,{setList:function(t,e){var r=e.list;return r}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(t){var e=t.actions,r=t.values;return{setLocalFilters:function(){var s=Pe()(K.a.mark(function l(d,c){return K.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,c(250);case 2:e.setFilters(r.localFilters);case 3:case"end":return f.stop()}},l)}));function i(l,d){return s.apply(this,arguments)}return i}(),scrollTo:function(){var s=Pe()(K.a.mark(function l(d,c){var m,f;return K.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return m=d.rowIndex,f=m!=null?m:r.currentEventsIndices.startIndex,r.list&&(r.list.scrollToPosition(r.list.getOffsetForRow({alignment:"center",index:f})),me.f.actions.reportRecordingScrollTo(f)),y.next=5,c(Ve);case 5:e.enablePositionFinder();case 6:case"end":return y.stop()}},l)}));function i(l,d){return s.apply(this,arguments)}return i}(),handleEventClick:function(i){var l=i.playerPosition;l&&e.seek(l)}}},selectors:function(){return{listEvents:[function(t){return[t.eventsToShow]},function(t){return t.map(function(e){var r;return ke(ke({},e),{},{colonTimestamp:Object(w.o)(Math.floor(((r=e.playerTime)!==null&&r!==void 0?r:0)/1e3))})})}],currentEventsTimeRange:[function(t){return[t.listEvents,t.currentPlayerTime]},function(t,e){var r;if(t.length<1)return{start:0,end:0};var s=t.findIndex(function(d){var c;return((c=d.playerTime)!==null&&c!==void 0?c:0)>=Object(w.k)(e!=null?e:0)}),i=Math.max(Object(w.k)(e!=null?e:0),1e3),l=Object(w.E)((r=t[Object(w.m)(s===-1?t.length-1:s-1,0,t.length-1)].playerTime)!==null&&r!==void 0?r:0);return{start:l,end:i}}],isEventCurrent:[function(t){return[t.currentEventsTimeRange,t.listEvents]},function(t,e){return function(r){var s,i,l,d;return((s=e==null||(i=e[r])===null||i===void 0?void 0:i.playerTime)!==null&&s!==void 0?s:0)>=t.start&&((l=e==null||(d=e[r])===null||d===void 0?void 0:d.playerTime)!==null&&l!==void 0?l:0)<t.end}}],currentEventsIndices:[function(t){return[t.listEvents,t.isEventCurrent]},function(t,e){return{startIndex:Object(w.m)(t.findIndex(function(r,s){return e(s)}),0,t.length-1),stopIndex:Object(w.m)(Object(w.C)(t,function(r,s){return e(s)}),0,t.length-1)}}],currentEventsBoxSizeAndPosition:[function(t){return[t.currentEventsIndices,t.list]},function(t,e){if(!e||!e.Grid||t.startIndex>=e.Grid.props.rowCount||t.stopIndex>e.Grid.props.rowCount||t.startIndex<1&&t.stopIndex<1||t.stopIndex<t.startIndex)return{top:0,height:0};var r=e.Grid.state,s=r.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(t.startIndex).offset,i=r.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(t.stopIndex);return{top:s,height:i.offset+i.size-s}}],isRowIndexRendered:[function(t){return[t.renderedRows]},function(t){return function(e){return e>=t.overscanStartIndex&&e<=t.overscanStopIndex}}],showPositionFinder:[function(t){return[t.renderedRows,t.currentEventsIndices,t.shouldHidePositionFinder]},function(t,e,r){return!r&&(t.stopIndex<e.startIndex||t.startIndex>e.stopIndex)}],isDirectionUp:[function(t){return[t.renderedRows,t.currentEventsIndices]},function(t,e){return t.startIndex>e.stopIndex}]}}}),Xe=o("./frontend/src/lib/components/icons.tsx");function pn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),e.push.apply(e,r)}return e}function fn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pn(Object(e),!0).forEach(function(r){Te()(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pn(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function vn(n){var t=n.cellCount,e=n.overscanCellsCount,r=n.startIndex,s=n.stopIndex,i=Math.floor(e/2),l=e-i;return{overscanStartIndex:Math.max(0,r-i),overscanStopIndex:Math.min(t-1,s+l)}}var Tn=function(t){return t.event==="$pageview"?a.a.createElement(Xe.PageviewIcon,null):t.event==="$pageleave"?a.a.createElement(Xe.PageleaveIcon,null):t.event==="$autocapture"?a.a.createElement(Xe.AutocaptureIcon,null):a.a.createElement(Xe.EventIcon,null)};function Ct(){return a.a.createElement("div",{className:"event-list-empty-container"},a.a.createElement(Ze.a,{image:Ze.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function Jt(n){var t=n.description,e=Object(D.useRef)(null);return a.a.createElement("span",{className:Object(at.a)("event-item-content-subtitle",Object(w.U)(e.current)&&"overflowing"),title:t},a.a.createElement("div",{className:"inner",ref:e},t))}function qt(){var n=Object(D.useRef)(null),t=Object(L.useValues)(Ue),e=t.localFilters,r=t.listEvents,s=t.currentEventsBoxSizeAndPosition,i=t.showPositionFinder,l=t.isRowIndexRendered,d=t.isEventCurrent,c=t.isDirectionUp,m=t.renderedRows,f=Object(L.useValues)(oe),v=f.sessionEventsDataLoading,y=Object(L.useActions)(Ue),R=y.setLocalFilters,P=y.setRenderedRows,A=y.setList,W=y.scrollTo,ee=y.disablePositionFinder,z=y.handleEventClick;Object(D.useEffect)(function(){n!=null&&n.current&&A(n.current)},[n.current]);var Y=Object(D.useCallback)(function(ne){var be=ne.index,ye=ne.style,re=ne.key,_e=r[be],Vt=Object(O.d)(_e.event,"event"),Ut=d(be);return a.a.createElement(ue.a,{key:re,className:Object(at.a)("event-list-item",{"current-event":Ut}),align:"top",style:fn(fn({},ye),{},{zIndex:r.length-be}),onClick:function(){z(_e.playerPosition)}},a.a.createElement(xe.a,{className:"event-item-icon"},a.a.createElement("div",{className:"event-item-icon-wrapper"},Tn(_e))),a.a.createElement(xe.a,{className:Object(at.a)("event-item-content",{rendering:!l(be)})},a.a.createElement(ue.a,{className:"event-item-content-top-row"},a.a.createElement(O.b,{className:"event-item-content-title",value:_e.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),a.a.createElement("span",{className:"event-item-content-timestamp"},_e.colonTimestamp)),Vt&&a.a.createElement(Jt,{description:Object(w.j)(Object(w.B)(_e,!0))}),a.a.createElement(mt.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[r.length,m.startIndex,m.stopIndex,s.top,s.height]),N=Object(D.useCallback)(function(ne){var be=Object(Rn.c)(ne);return r.length>0&&be.push(a.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:s.height,transform:"translateY(".concat(s.top,"px)")}})),be},[s.top,s.height,v,r.length]);return a.a.createElement(xe.a,{className:"player-events-container"},a.a.createElement(Xt.a,{prefix:a.a.createElement(On.a,null),placeholder:"Search for events",value:e.query,onChange:function(ne){return R({query:ne.target.value})}}),a.a.createElement(xe.a,{className:"event-list"},v?a.a.createElement(w.b,null):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Object(at.a)("current-events-position-finder",{visible:i})},a.a.createElement(ue.a,{className:"left",align:"middle",wrap:!1,onClick:function(){W()}},c?a.a.createElement(mn.a,null):a.a.createElement(Cn.a,null),"Jump to current time"),a.a.createElement(ue.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){ee()}},a.a.createElement(pt.a,null))),a.a.createElement(Lt.a,null,function(se){var ne=se.height,be=se.width;return a.a.createElement(Qt.b,{ref:n,className:"event-list-virtual",height:ne,width:be,onRowsRendered:P,noRowsRenderer:Ct,cellRangeRenderer:N,overscanRowCount:wt,overscanIndicesGetter:vn,rowCount:r.length,rowRenderer:Y,rowHeight:ft})}))))}var In=o("./node_modules/antd/es/tabs/index.js"),Fn=o("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Dn=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),jn=o.n(Dn),yn={};yn.insert="head",yn.singleton=!1;var Bn=Q()(jn.a,yn),Mn=jn.a.locals||{},ve=o("./node_modules/antd/es/space/index.js"),Ae=o("./frontend/src/lib/components/ProfilePicture/index.ts"),Bt=o("./frontend/src/scenes/persons/PersonHeader.tsx"),kt=o("./node_modules/core-js/modules/es.array.filter.js"),er=o("./node_modules/core-js/modules/es.array.some.js"),kn=function(t,e){return e.some(function(r){var s;return!(!(t==null||(s=t.properties)===null||s===void 0)&&s[r])})?null:e.map(function(r){var s;return t==null||(s=t.properties)===null||s===void 0?void 0:s[r]}).join(", ")},Wn=Object(L.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[oe,["sessionPlayerData"],$,["currentPlayerPosition","scale"]],actions:[oe,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(n){return[n.sessionPlayerData]},function(n){return n==null?void 0:n.person}],description:[function(n){return[n.sessionPerson]},function(n){var t=kn(n,["$geoip_city_name","$geoip_country_code"]),e=kn(n,["$browser","$os"]);return[e,t].filter(function(r){return r}).join(" \xB7 ")}],resolution:[function(n){return[n.sessionPlayerData,n.currentPlayerPosition]},function(n,t){var e,r;if(!t)return null;var s=(e=n.snapshotsByWindowId[t.windowId])!==null&&e!==void 0?e:[],i=(r=En(t,n.metadata.startAndEndTimesByWindowId))!==null&&r!==void 0?r:0,l=Object(w.C)(s,function(c){return c.timestamp<i&&"width"in c.data});if(l===-1)return null;var d=s[l];return{width:d.data.width,height:d.data.height}}],recordingStartTime:[function(n){return[n.sessionPlayerData]},function(n){var t,e;return n==null||(t=n.metadata)===null||t===void 0||(e=t.segments[0])===null||e===void 0?void 0:e.startTimeEpochMs}]}}),zn=o("./frontend/src/scenes/funnels/funnelUtils.ts"),Gn=o("./frontend/src/lib/components/TimezoneAware/index.tsx");function $n(){var n,t=Object(L.useValues)(Wn),e=t.sessionPerson,r=t.description,s=t.resolution,i=t.scale,l=t.recordingStartTime,d=t.loading;return a.a.createElement(xe.a,{className:"player-meta-container"},a.a.createElement(ue.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},a.a.createElement(ue.a,{className:"player-meta-person-title",align:"middle",wrap:!1},d?a.a.createElement(ve.b,null,a.a.createElement(mt.a.Avatar,{active:!0,size:"small",shape:"circle"}),a.a.createElement(mt.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ae.a,{name:e==null?void 0:e.name,email:e==null||(n=e.properties)===null||n===void 0?void 0:n.$email,size:"md",style:{marginRight:"0.5rem"}}),a.a.createElement("span",{className:"email"},a.a.createElement(Bt.a,{person:e,withIcon:!1})))),a.a.createElement(xe.a,null,d?a.a.createElement(mt.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):a.a.createElement("span",{className:"time text-muted"},l&&a.a.createElement(Gn.b,{time:Object(V.a)(l)})))),a.a.createElement(ue.a,{className:"player-meta-other",align:"middle",justify:"start"},a.a.createElement(ue.a,{className:"player-meta-other-description"},d?a.a.createElement(mt.a,{title:!1,active:!0,paragraph:{rows:1}}):a.a.createElement("span",null,r)),a.a.createElement(ue.a,{className:"player-meta-other-resolution mt-05"},d?a.a.createElement(mt.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):a.a.createElement("span",null,s?a.a.createElement(a.a.Fragment,null,"Resolution: ",s.width," x ",s.height," (",Object(zn.c)(i),"%)"):a.a.createElement(a.a.Fragment,null,"Resolution: ...")))))}var Yn=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Vn=o.n(Yn),Nn={};Nn.insert="head",Nn.singleton=!1;var tr=Q()(Vn.a,Nn),nr=Vn.a.locals||{},Un=o("./frontend/src/lib/components/LemonButton/index.ts"),Hn=o("./frontend/src/lib/components/Spinner/Spinner.tsx");function Zn(){var n=Object(L.useValues)(oe),t=n.orderedConsoleLogs,e=n.areAllSnapshotsLoaded,r=Object(L.useActions)(me.f),s=r.reportRecordingConsoleFeedback,i=Object(L.useActions)($),l=i.seek,d=Object(D.useState)(!1),c=ge()(d,2),m=c[0],f=c[1],v=function(R,P){return a.a.createElement("div",{className:"log-line level-".concat(R.level),key:P,onClick:function(){l(R.playerPosition)}},a.a.createElement("div",{className:"trace-string"},R.parsedTraceURL?a.a.createElement("a",{className:"text-muted",href:R.parsedTraceURL,target:"_blank"},R.parsedTraceString):a.a.createElement("span",{className:"text-muted"},R.parsedTraceString)),a.a.createElement("p",{className:"log-text"},R.parsedPayload))};return a.a.createElement("div",{className:"console-log-container"},a.a.createElement("div",{className:"console-log"},e?t.length>0?a.a.createElement(Lt.a,null,function(y){var R=y.height,P=y.width;return a.a.createElement("div",{style:{height:R,width:P,overflowY:"scroll",paddingBottom:5}},t.slice(0,150).map(function(A,W){return v(A,W)}),a.a.createElement("div",null,t.length>150&&a.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},a.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),a.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",a.a.createElement("code",null,"posthog-js"),"."),a.a.createElement(Un.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):a.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},a.a.createElement(Hn.a,{size:"lg"}))),a.a.createElement("div",{className:"console-feedback-container"},a.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),m?a.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):a.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(y,R){return a.a.createElement(Un.a,{type:"secondary",key:R,style:{margin:"0 8px"},onClick:function(){f(!0),s(t.length,y[0],"Are you finding the console log feature useful?")}},y[1])}))))}var Xn=o("./frontend/src/lib/components/Tooltip.tsx");function Qn(){var n=Object(L.useActions)($),t=n.togglePlayPause,e=n.seekForward,r=n.seekBackward,s=n.setSpeed,i=n.setRootFrame,l=Object(L.useValues)($),d=l.isSmallScreen,c=Object(D.useRef)(null);Object(D.useEffect)(function(){c.current&&i(c.current)},[c]);var m=function(v){var y;if(!(!((y=v.target)===null||y===void 0)&&y.matches("input")))if(v.key===" ")t(),v.preventDefault();else if(v.key==="ArrowLeft")r();else if(v.key==="ArrowRight")e();else for(var R=0;R<ce.length;R++)v.key===(R+1).toString()&&s(ce[R])};return a.a.createElement(xe.a,{className:"session-player-v2",onKeyDown:m,tabIndex:0,flex:1},a.a.createElement(ue.a,{className:"session-player-body",wrap:!1},a.a.createElement("div",{className:"player-container ph-no-capture"},a.a.createElement(ot,{ref:c})),!d&&a.a.createElement(Kn,null)),a.a.createElement(ue.a,{className:"player-controller",align:"middle"},a.a.createElement(cn,null)),d&&a.a.createElement(Kn,null))}var _n=In.a.TabPane;function Kn(){var n=Object(L.useValues)(nn.a),t=n.featureFlags,e=Object(L.useValues)(oe),r=e.orderedConsoleLogs,s=Object(L.useActions)(me.f),i=s.reportRecordingConsoleViewed,l=t[Et.n.SESSION_CONSOLE];return a.a.createElement(xe.a,{className:"player-sidebar"},a.a.createElement("div",{className:"player-meta"},a.a.createElement($n,null)),a.a.createElement("div",{className:"player-events"},l?a.a.createElement(In.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(c){c==="console"&&i(r.length)}},a.a.createElement(_n,{tab:"Events",key:"events"},a.a.createElement(qt,null)),a.a.createElement(_n,{tab:a.a.createElement("div",null,"Console (beta)",a.a.createElement(Xn.a,{title:"While console logs are in beta, only 150 logs are displayed."},a.a.createElement(Fn.a,{style:{marginLeft:6}}))),key:"console"},a.a.createElement(Zn,null))):a.a.createElement(qt,null)))}var Jn=o("./node_modules/antd/es/button/index.js"),qn=o("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function Ln(n){var t=n.isPersonPage,e=t===void 0?!1:t,r=n.onClose;return a.a.createElement(h.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:r,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},a.a.createElement(xe.a,{style:{height:"100vh"}},a.a.createElement(ue.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},a.a.createElement(Jn.a,{type:"link",onClick:r},a.a.createElement(qn.a,null)," Back to ",e?"persons":"recordings"),a.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:r},a.a.createElement(Xe.IconClose,null))),a.a.createElement(ue.a,{className:"session-drawer-body"},a.a.createElement(Qn,null))))}try{Ln.displayName="SessionPlayerDrawer",Ln.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:Ln.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(n){}},"./frontend/src/scenes/session-recordings/SessionRecordings.tsx":function(G,j,o){"use strict";o.r(j),o.d(j,"SessionsRecordings",function(){return vt}),o.d(j,"scene",function(){return yt});var D=o("./node_modules/react/index.js"),a=o.n(D),h=o("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),Fe=o("./frontend/src/lib/components/PageHeader.tsx"),De=o("./node_modules/antd/es/row/index.js"),ie=o("./node_modules/antd/es/alert/index.js"),Q=o("./node_modules/antd/es/button/index.js"),Oe=o("./frontend/src/scenes/teamLogic.ts"),Le=o("./node_modules/kea/lib/index.esm.js"),Ke=o("./node_modules/kea-router/lib/index.js"),We=o.n(Ke),Ce=o("./frontend/src/scenes/urls.ts"),L=o("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),ze=o("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts");function vt(){var it=Object(Le.useValues)(Oe.a),p=it.currentTeam;return a.a.createElement("div",null,a.a.createElement(Fe.a,{title:a.a.createElement(De.a,{align:"middle"},"Recordings")}),p&&!(p!=null&&p.session_recording_opt_in)?a.a.createElement(ie.a,{style:{marginBottom:16,display:"flex",alignItems:"center"},message:"Recordings are not yet enabled for this project",description:"To use this feature, please go to your project settings and enable it.",type:"info",showIcon:!0,action:a.a.createElement(Q.a,{type:"primary",onClick:function(){Ke.router.actions.push(Ce.a.projectSettings(),{},"session-recording")}},"Go to settings ",a.a.createElement(L.a,null))}):null,a.a.createElement(h.a,{key:"global"}))}var yt={component:vt,logic:ze.a}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(G,j,o){"use strict";o.d(j,"a",function(){return Ye});var D=o("./node_modules/core-js/modules/es.array.filter.js"),a=o("./node_modules/react/index.js"),h=o.n(a),Fe=o("./node_modules/kea/lib/index.esm.js"),De=o("./frontend/src/lib/utils.tsx"),ie=o("./node_modules/antd/es/row/index.js"),Q=o("./node_modules/antd/es/col/index.js"),Oe=o("./node_modules/antd/es/button/index.js"),Le=o("./node_modules/antd/es/typography/index.js"),Ke=o("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),We=o("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),Ce=o("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),L=o("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),ze=o("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),vt=o("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),yt=o("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),it=o("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),p=o("./frontend/src/types.ts"),J=o("./node_modules/antd/es/space/index.js"),Qe=o("./node_modules/antd/es/input/index.js"),K=o("./node_modules/antd/es/select/index.js"),hn=o("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),en=o("./frontend/src/lib/components/Popup/Popup.tsx"),Pe=o("./node_modules/core-js/modules/es.array.iterator.js"),_t=o("./node_modules/core-js/modules/es.array.slice.js"),me=o("./node_modules/core-js/modules/es.object.to-string.js"),te=o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),pe;(function(F){F.SECONDS="seconds",F.MINUTES="minutes",F.HOURS="hours"})(pe||(pe={}));var lt={seconds:1,minutes:60,hours:3600},fe=Object(Fe.kea)({path:function(w){return["scenes","session-recordings","DurationFilterLogic",w]},key:function(w){return w.pageKey||"global"},props:{},actions:{setTimeValue:function(w){return{timeValue:w}},setUnit:function(w){return{unit:w}},setIsOpen:function(w){return{isOpen:w}},setOperator:function(w){return{operator:w}}},reducers:function(w){var q,O=w.props;return{unit:[pe.MINUTES,{setUnit:function(U,k){var M=k.unit;return M}}],operator:[O==null||(q=O.initialFilter)===null||q===void 0?void 0:q.operator,{setOperator:function(U,k){var M=k.operator;return M}}],timeValue:[Math.floor(O.initialFilter.value/lt[pe.MINUTES]),{setTimeValue:function(U,k){var M=k.timeValue;return M}}],isOpen:[!1,{setIsOpen:function(U,k){var M=k.isOpen;return M}}]}},selectors:{durationString:[function(F){return[F.operator,F.timeValue,F.unit]},function(F,w,q){var O="";return F===p.z.GreaterThan?O+="> ":O+="< ",O+=w,w===1?O+=" "+q.slice(0,-1):O+=" "+q,O}]},listeners:function(w){var q=w.props,O=w.values,V=function(k){var M=k.timeValue,Se=k.unit,gt=k.operator,Be=M||O.timeValue,he=Se||O.unit,ht=Be*lt[he];q.onChange({operator:gt||O.operator,value:ht,type:"recording",key:"duration"})};return{setTimeValue:function(k){var M=k.timeValue;return V({timeValue:M})},setUnit:function(k){var M=k.unit;return V({unit:M})},setOperator:function(k){var M=k.operator;return V({operator:M})}}}});function Ge(F){var w=F.initialFilter,q=F.onChange,O=F.pageKey,V=fe({initialFilter:w,onChange:q,pageKey:O}),U=Object(Fe.useActions)(V),k=U.setTimeValue,M=U.setIsOpen,Se=U.setOperator,gt=U.setUnit,Be=Object(Fe.useValues)(V),he=Be.durationString,ht=Be.unit,Ot=Be.timeValue,ct=Be.operator,qe=Be.isOpen;return h.a.createElement(en.a,{visible:qe,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return M(!1)},overlay:h.a.createElement(ie.a,null,h.a.createElement(J.b,null,h.a.createElement(hn.a,{operator:ct,operators:[p.z.GreaterThan,p.z.LessThan],onChange:function(H){Se(H)}}),h.a.createElement(Qe.a,{type:"number",value:Ot,placeholder:"0",min:0,autoFocus:!0,addonAfter:h.a.createElement(K.a,{showSearch:!1,value:ht,onChange:function(H){gt(H)}},h.a.createElement(K.a.Option,{value:"seconds"},"Seconds"),h.a.createElement(K.a.Option,{value:"minutes"},"Minutes"),h.a.createElement(K.a.Option,{value:"hours"},"Hours")),step:1,onChange:function(H){var et=parseFloat(H.target.value);k(et)}})))},h.a.createElement(Oe.a,{onClick:function(){M(!0)}},he))}try{Ge.displayName="DurationFilter",Ge.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"]={docgenInfo:Ge.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"})}catch(F){}var Rt=o("./frontend/src/scenes/persons/PersonHeader.tsx"),Me=o("./frontend/src/lib/utils/eventUsageLogic.ts"),Kt=o("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),Ne=o("./frontend/src/lib/components/Tooltip.tsx"),$e=o("./frontend/src/lib/components/TaxonomicFilter/types.ts"),xt=o("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Tt=o("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Wt=o.n(Tt),zt=o("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),E=o.n(zt),b={};b.insert="head",b.singleton=!1;var S=Wt()(E.a,b),g=E.a.locals||{},Z=o("./frontend/src/lib/components/LemonTable/index.ts"),le=o("./frontend/src/lib/components/TimezoneAware/index.tsx"),Te=o("./frontend/src/lib/components/icons.tsx"),Je=o("./frontend/src/lib/components/LemonButton/index.ts");function ge(F){var w=F.filter,q=F.propertyFiltersButton,O=F.deleteButton;return h.a.createElement(ie.a,{className:"entity-filter-row",wrap:!1,align:"middle"},h.a.createElement(Q.a,{flex:"1",className:"mr"},h.a.createElement(ie.a,{align:"middle"},w)),h.a.createElement(Q.a,{className:"mr"},q),h.a.createElement(Q.a,null,O))}function Ye(F){var w=F.personUUID,q=F.isPersonPage,O=q===void 0?!1:q,V=Object(Ke.a)({personUUID:w}),U=Object(Fe.useValues)(V),k=U.sessionRecordings,M=U.sessionRecordingsResponseLoading,Se=U.sessionRecordingId,gt=U.entityFilters,Be=U.propertyFilters,he=U.hasNext,ht=U.hasPrev,Ot=U.fromDate,ct=U.toDate,qe=U.durationFilter,dt=U.showFilters,H=Object(Fe.useActions)(V),et=H.openSessionPlayer,Gt=H.closeSessionPlayer,En=H.setEntityFilters,$t=H.setPropertyFilters,tn=H.loadNext,It=H.loadPrev,bn=H.setDateRange,Pn=H.setDurationFilter,nn=H.enableFilter,Et=H.reportRecordingsListFilterAdded,Yt=[{title:"Start time",render:function(u,x){return h.a.createElement(le.b,{time:x.start_time,formatString:"MMMM DD, YYYY h:mm"})}},{title:"Duration",render:function(u,x){return h.a.createElement("span",null,Object(De.N)(x.recording_duration))}},{title:"Person",key:"person",render:function(u,x){return h.a.createElement(Rt.a,{withIcon:!0,person:x.person})}},{render:function(u,x){return h.a.createElement("div",{className:"play-button-container"},h.a.createElement(Oe.a,{className:x.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:h.a.createElement(We.a,null)},"Watch recording"))}}];return h.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},h.a.createElement(ie.a,{className:"filter-row"},h.a.createElement("div",{className:"filter-container",style:{display:dt?void 0:"none"}},h.a.createElement("div",null,h.a.createElement(Le.a.Text,{strong:!0},"Filter by events and actions ",h.a.createElement(Ne.a,{title:"Show recordings where all of the events or actions listed below happen."},h.a.createElement(Ce.a,{className:"info-icon"}))),h.a.createElement(vt.a,{fullWidth:!0,filters:gt,setFilters:function(u){Et(Me.e.EventAndAction),En(u)},typeKey:O?"person-".concat(w):"session-recordings",hideMathSelector:!0,buttonCopy:"Add another filter",horizontalUI:!0,stripeActionRow:!1,propertyFilterWrapperClassName:"session-recording-action-property-filter",customRowPrefix:"",hideRename:!0,showOr:!0,renderRow:function(u){return h.a.createElement(ge,u)},showNestedArrow:!1,actionsTaxonomicGroupTypes:[$e.a.Actions,$e.a.Events],propertiesTaxonomicGroupTypes:[$e.a.EventProperties,$e.a.Elements]})),!O&&h.a.createElement("div",{className:"mt-2"},h.a.createElement(Le.a.Text,{strong:!0},"Filter by persons and cohorts ",h.a.createElement(Ne.a,{title:"Show recordings by persons who match the set criteria"},h.a.createElement(Ce.a,{className:"info-icon"}))),h.a.createElement(xt.a,{popoverPlacement:"bottomRight",pageKey:O?"person-".concat(w):"session-recordings",taxonomicGroupTypes:[$e.a.PersonProperties,$e.a.Cohorts],propertyFilters:Be,onChange:function(u){Et(Me.e.PersonAndCohort),$t(u)}}))),!dt&&h.a.createElement(Je.a,{type:"secondary",compact:!0,icon:h.a.createElement(Te.IconFilter,null),onClick:function(){if(nn(),O){var u=document.querySelectorAll(".entity-filter-row button");u.length>0&&u[0].click()}}},"Filter recordings"),h.a.createElement(ie.a,{className:"time-filter-row"},h.a.createElement(ie.a,{className:"time-filter"},h.a.createElement(Kt.a,{makeLabel:function(u){return h.a.createElement(h.a.Fragment,null,h.a.createElement(L.a,null),h.a.createElement("span",null," ",u))},defaultValue:"Last 7 days",bordered:!0,dateFrom:Ot!=null?Ot:void 0,dateTo:ct!=null?ct:void 0,onChange:function(u,x){Et(Me.e.DateRange),bn(u,x)},dateOptions:{Custom:{values:[]},"Last 24 hours":{values:["-24h"]},"Last 7 days":{values:["-7d"]},"Last 21 days":{values:["-21d"]}}})),h.a.createElement(ie.a,{className:"time-filter"},h.a.createElement(Le.a.Text,{className:"filter-label"},"Duration"),h.a.createElement(Ge,{onChange:function(u){Et(Me.e.Duration),Pn(u)},initialFilter:qe,pageKey:O?"person-".concat(w):"session-recordings"})))),h.a.createElement(Z.a,{dataSource:k,columns:Yt,loading:M,onRow:function(u){return{onClick:function(C){C.target.closest("a")||et(u.id,Me.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(ht||he)&&h.a.createElement(ie.a,{className:"pagination-control"},h.a.createElement(Oe.a,{type:"link",disabled:!ht,onClick:function(){It(),window.scrollTo(0,0)}},h.a.createElement(yt.a,null)," Previous"),h.a.createElement(Oe.a,{type:"link",disabled:!he,onClick:function(){tn(),window.scrollTo(0,0)}},"Next ",h.a.createElement(it.a,null))),h.a.createElement("div",{style:{marginBottom:64}}),!!Se&&h.a.createElement(ze.a,{isPersonPage:O,onClose:Gt}))}try{Ye.displayName="SessionRecordingsTable",Ye.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:Ye.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(F){}},"./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts":function(G,j,o){"use strict";o.d(j,"a",function(){return zt});var D=o("./node_modules/core-js/modules/es.array.concat.js"),a=o.n(D),h=o("./node_modules/core-js/modules/es.array.iterator.js"),Fe=o.n(h),De=o("./node_modules/core-js/modules/es.array.map.js"),ie=o.n(De),Q=o("./node_modules/core-js/modules/es.object.to-string.js"),Oe=o.n(Q),Le=o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ke=o.n(Le),We=o("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ce=o.n(We),L=o("./node_modules/@babel/runtime/regenerator/index.js"),ze=o.n(L),vt=o("./node_modules/@babel/runtime/helpers/defineProperty.js"),yt=o.n(vt),it=o("./node_modules/regenerator-runtime/runtime.js"),p=o.n(it),J=o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Qe=o.n(J),K=o("./node_modules/kea/lib/index.esm.js"),hn=o("./frontend/src/lib/api.ts"),en=o("./frontend/src/lib/utils.tsx"),Pe=o("./frontend/src/types.ts"),_t=o("./node_modules/kea-router/lib/index.js"),me=o.n(_t),te=o("./frontend/src/lib/utils/eventUsageLogic.ts"),pe=o("./node_modules/fast-deep-equal/index.js"),lt=o.n(pe),fe=o("./frontend/src/scenes/teamLogic.ts"),Ge=o("./frontend/src/lib/dayjs.ts"),Rt=o("./frontend/src/lib/logic/featureFlagLogic.ts"),Me=o("./frontend/src/lib/constants.tsx");function Kt(E,b){var S=Object.keys(E);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(E);b&&(g=g.filter(function(Z){return Object.getOwnPropertyDescriptor(E,Z).enumerable})),S.push.apply(S,g)}return S}function Ne(E){for(var b=1;b<arguments.length;b++){var S=arguments[b]!=null?arguments[b]:{};b%2?Kt(Object(S),!0).forEach(function(g){yt()(E,g,S[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(S)):Kt(Object(S)).forEach(function(g){Object.defineProperty(E,g,Object.getOwnPropertyDescriptor(S,g))})}return E}var $e=50,xt={type:"recording",key:"duration",value:60,operator:Pe.z.GreaterThan},Tt=[],Wt={events:[],actions:[],new_entity:[{id:null,type:Pe.g.EVENTS,order:0,name:null}]},zt=Object(K.kea)({path:function(b){return["scenes","session-recordings","sessionRecordingsTableLogic",b]},key:function(b){return b.personUUID||"global"},props:{},connect:{values:[fe.a,["currentTeamId"]],actions:[te.f,["reportRecordingsListFetched","reportRecordingsListFilterAdded"]]},actions:{getSessionRecordings:!0,openSessionPlayer:function(b,S){return{sessionRecordingId:b,source:S}},closeSessionPlayer:!0,setEntityFilters:function(b){return{filters:b}},setPropertyFilters:function(b){return{filters:b}},loadNext:!0,loadPrev:!0,enableFilter:!0,setOffset:function(b){return{offset:b}},setDateRange:function(b,S){return{incomingFromDate:b,incomingToDate:S}},setDurationFilter:function(b){return{durationFilter:b}}},loaders:function(b){var S=b.props,g=b.values,Z=b.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var le=Qe()(ze.a.mark(function Je(ge,Ye){var F,w,q,O,V,U;return ze.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return w=Ne(Ne({},g.filterQueryParams),{},{person_uuid:(F=S.personUUID)!==null&&F!==void 0?F:"",limit:$e}),q=Object(en.Ab)(w),M.next=4,Ye(100);case 4:return O=performance.now(),M.next=7,hn.a.get("api/projects/".concat(g.currentTeamId,"/session_recordings?").concat(q));case 7:return V=M.sent,U=performance.now()-O,Z.reportRecordingsListFetched(U),Ye(),M.abrupt("return",V);case 12:case"end":return M.stop()}},Je)}));function Te(Je,ge){return le.apply(this,arguments)}return Te}()}]}},events:function(b){var S=b.actions;return{afterMount:function(){S.getSessionRecordings()}}},reducers:{filterEnabled:[!1,{enableFilter:function(){return!0}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(b,S){var g=S.sessionRecordingsResponse;return Ce()(g.results)},openSessionPlayer:function(b,S){var g=S.sessionRecordingId;return Ce()(b.map(function(Z){return Z.id===g?Ne(Ne({},Z),{},{viewed:!0}):Ne({},Z)}))}}],sessionRecordingId:[null,{openSessionPlayer:function(b,S){var g=S.sessionRecordingId;return g},closeSessionPlayer:function(){return null}}],entityFilters:[Wt,{setEntityFilters:function(b,S){var g=S.filters;return Ne({},g)}}],propertyFilters:[Tt,{setPropertyFilters:function(b,S){var g=S.filters;return Ce()(g)}}],durationFilter:[xt,{setDurationFilter:function(b,S){var g=S.durationFilter;return g}}],offset:[0,{loadNext:function(b){return b+$e},loadPrev:function(b){return Math.max(b-$e)},setOffset:function(b,S){var g=S.offset;return g}}],fromDate:[Object(Ge.a)().subtract(7,"days").format("YYYY-MM-DD"),{setDateRange:function(b,S){var g=S.incomingFromDate;return g!=null?g:null}}],toDate:[null,{setDateRange:function(b,S){var g=S.incomingToDate;return g!=null?g:null}}]},listeners:function(b){var S=b.actions;return{setEntityFilters:function(){S.getSessionRecordings()},setPropertyFilters:function(){S.getSessionRecordings()},setDateRange:function(){S.getSessionRecordings()},setDurationFilter:function(){S.getSessionRecordings()},loadNext:function(){S.getSessionRecordings()},loadPrev:function(){S.getSessionRecordings()}}},selectors:{hasPrev:[function(E){return[E.offset]},function(E){return E>0}],hasNext:[function(E){return[E.sessionRecordingsResponse]},function(E){return E.has_next}],showFilters:[function(E){return[E.filterEnabled,E.entityFilters,E.propertyFilters,Rt.a.selectors.featureFlags]},function(E,b,S,g){return g[Me.n.RECORDINGS_FILTER_EXPERIMENT]==="test"||E||b!==Wt||S!==Tt}],filterQueryParams:[function(E){return[E.entityFilters,E.fromDate,E.toDate,E.offset,E.durationFilter,E.propertyFilters]},function(E,b,S,g,Z,le){return{actions:E.actions,events:E.events,properties:le,date_from:b,date_to:S,offset:g,session_recording_duration:Z}}]},actionToUrl:function(b){var S=b.values,g=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Te=arguments.length>1?arguments[1]:void 0,Je=Ne({filters:S.filterQueryParams},le),ge=Ne({},_t.router.values.hashParams);return S.sessionRecordingId?ge.sessionRecordingId=S.sessionRecordingId:delete ge.sessionRecordingId,[_t.router.values.location.pathname,Je,ge,{replace:Te}]};return{loadSessionRecordings:function(){return g({},!0)},openSessionPlayer:function(le){var Te=le.source;return g({source:Te},!1)},closeSessionPlayer:function(){return g({},!1)},setEntityFilters:function(){return g({},!0)},setPropertyFilters:function(){return g({},!0)},setDateRange:function(){return g({},!0)},setDurationFilter:function(){return g({},!0)},loadNext:function(){return g({},!0)},loadPrev:function(){return g({},!0)}}},urlToAction:function(b){var S=b.actions,g=b.values,Z=b.props,le=function(ge,Ye,F){var w,q=(w=F.sessionRecordingId)!==null&&w!==void 0?w:null;q!==g.sessionRecordingId&&S.openSessionPlayer(q,te.d.Direct);var O=Ye.filters;if(O){if((!lt()(O.actions,g.entityFilters.actions)||!lt()(O.events,g.entityFilters.events))&&S.setEntityFilters({events:O.events||[],actions:O.actions||[]}),!lt()(O.properties,g.propertyFilters)){var V;S.setPropertyFilters((V=O.properties)!==null&&V!==void 0?V:[])}if(O.date_from!==g.fromDate||O.date_to!==g.toDate){var U,k;S.setDateRange((U=O.date_from)!==null&&U!==void 0?U:void 0,(k=O.date_to)!==null&&k!==void 0?k:void 0)}if(O.offset!==g.offset){var M;S.setOffset((M=O.offset)!==null&&M!==void 0?M:0)}if(!lt()(O.session_recording_duration,g.durationFilter)){var Se;S.setDurationFilter((Se=O.session_recording_duration)!==null&&Se!==void 0?Se:xt)}}},Te=Z.personUUID?"/person/*":"/recordings";return yt()({},Te,le)}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-table .filter-row{width:100%;justify-content:space-between;margin-bottom:1rem;align-items:flex-end}.session-recordings-table .filter-container{max-width:700px;padding:1rem;border:1px solid rgba(0,0,0,.15);flex:1;border-radius:4px}.session-recordings-table .filter-section{padding-bottom:1rem}.session-recordings-table .session-recording-action-property-filter{margin:0 0 0 68px;background-color:#fafafa;border:1px solid rgba(0,0,0,.15);border-top:0 solid rgba(0,0,0,.15);padding:.25rem 1rem}.session-recordings-table .time-filter-row{justify-content:flex-end;align-items:flex-end}.session-recordings-table .time-filter-row .time-filter{align-items:center;margin-left:1rem}.session-recordings-table .time-filter-row .time-filter .filter-label{margin-right:4px}.session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .entity-filter-row{width:100%;padding:1rem;border:1px solid rgba(0,0,0,.15);margin-top:1rem;border-radius:4px}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:#5375ff}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-table .info-icon{color:#5375ff}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),G.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(G,j,o){var D=o("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),G.exports=j}}]);
