"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[14415],{"../../frontend/src/scenes/surveys/SurveyTemplates.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SurveyTemplates:()=>SurveyTemplates,TemplateCard:()=>TemplateCard,scene:()=>scene});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_layout_scenes_components_SceneBreadcrumbs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneBreadcrumbs.tsx"),_SurveyAppearancePreview__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/surveys/SurveyAppearancePreview.tsx"),_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/surveys/constants.tsx"),_surveyLogic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/surveys/surveyLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:SurveyTemplates,settingSectionId:"environment-surveys"};function TemplateCard(_ref){let{template,idx,handleTemplateClick,surveyAppearance,isMostPopular}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("button",{className:"relative flex flex-col bg-bg-light border border-border rounded-lg hover:border-primary-3000-hover focus:border-primary-3000-hover focus:outline-none transition-colors text-left h-full group p-4 cursor-pointer overflow-hidden","data-attr":"survey-template",onClick:()=>handleTemplateClick(template),children:[isMostPopular&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"absolute bottom-0 right-0 z-10",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"bg-primary-3000/85 text-white text-xs font-semibold px-3 py-1 rounded-tl-lg rounded-br-lg shadow-md",children:"Most Popular"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"absolute bottom-full right-0 w-0 h-0 border-r-[8px] border-r-transparent border-b-[6px] border-b-primary-3000 opacity-60"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("h3",{className:"text-sm font-semibold text-default line-clamp-2 flex-1 mb-0",children:template.templateType}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.oe,{type:template.tagType||"default",size:"small",className:"ml-2 flex-shrink-0",children:template.category||"General"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("p",{className:"text-sm text-secondary leading-relaxed line-clamp-3",children:template.description})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"transform scale-75 pointer-events-none",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_SurveyAppearancePreview__WEBPACK_IMPORTED_MODULE_7__.$,{survey:{id:`templateMock-${idx}`,questions:template.questions,appearance:{..._constants__WEBPACK_IMPORTED_MODULE_8__.R3,whiteLabel:!0,...template.appearance,...surveyAppearance,disabledButtonOpacity:"1",maxWidth:"320px"}},previewPageIndex:0},idx)})})]})}function SurveyTemplates(){let{setSurveyTemplateValues}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)((0,_surveyLogic__WEBPACK_IMPORTED_MODULE_9__.TL)({id:"new"})),{reportSurveyTemplateClicked}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_2__.vx),{currentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__.teamLogic),surveyAppearance={...currentTeam?.survey_config?.appearance};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"mb-2 -ml-[var(--button-padding-x-lg)]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_layout_scenes_components_SceneBreadcrumbs__WEBPACK_IMPORTED_MODULE_6__.A,{forceBackTo:{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_3__.x.Surveys,name:"Surveys",path:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.j.surveys()}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("p",{className:"text-center text-base",children:["Choose a template based on your goal, or"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.rU,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.j.survey("new"),className:"text-primary-3000","data-attr":"new-blank-survey",children:"start from scratch with a blank survey"}),"."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4",children:_constants__WEBPACK_IMPORTED_MODULE_8__.nj.map((template,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(TemplateCard,{template:template,idx:idx,setSurveyTemplateValues:setSurveyTemplateValues,reportSurveyTemplateClicked:reportSurveyTemplateClicked,surveyAppearance:surveyAppearance,isMostPopular:template.templateType===_constants__WEBPACK_IMPORTED_MODULE_8__.i8.OpenFeedback,handleTemplateClick:template=>{var _template$questions,_template$conditions;setSurveyTemplateValues({name:template.templateType,questions:null!==(_template$questions=template.questions)&&void 0!==_template$questions?_template$questions:[],appearance:{..._constants__WEBPACK_IMPORTED_MODULE_8__.R3,...template.appearance,...surveyAppearance},conditions:null!==(_template$conditions=template.conditions)&&void 0!==_template$conditions?_template$conditions:null}),reportSurveyTemplateClicked(template.templateType)}},idx))})]})]})}}}]);