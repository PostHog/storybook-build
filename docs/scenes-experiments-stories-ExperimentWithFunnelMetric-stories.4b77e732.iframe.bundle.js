"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[14237],{"../../frontend/src/scenes/experiments/stories/ExperimentWithFunnelMetric.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExperimentWithFunnelMetric:()=>ExperimentWithFunnelMetric,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ExperimentWithFunnelMetric_stories});var utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),App=__webpack_require__("../../frontend/src/scenes/App.tsx"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),browser=__webpack_require__("../../frontend/src/mocks/browser.tsx");let experiment_with_funnel_metric_namespaceObject=JSON.parse('{"id":15,"name":"experiment-funnel-metric","description":null,"start_date":"2025-05-20T14:39:00Z","end_date":null,"feature_flag_key":"experiment-funnel-metric","feature_flag":{"id":140,"team_id":1,"name":"Feature Flag for Experiment experiment-funnel-metric","key":"experiment-funnel-metric","filters":{"groups":[{"properties":[],"rollout_percentage":100}],"multivariate":{"variants":[{"key":"control","rollout_percentage":34},{"key":"test-1","rollout_percentage":33},{"key":"test-2","rollout_percentage":33}]},"holdout_groups":null,"aggregation_group_type_index":null},"deleted":false,"active":true,"ensure_experience_continuity":false,"has_encrypted_payloads":false,"version":1},"holdout":null,"holdout_id":null,"exposure_cohort":null,"parameters":{"feature_flag_variants":[{"key":"control","rollout_percentage":34},{"key":"test-1","rollout_percentage":33},{"key":"test-2","rollout_percentage":33}],"recommended_sample_size":0,"recommended_running_time":0,"minimum_detectable_effect":30},"secondary_metrics":[],"saved_metrics":[],"saved_metrics_ids":null,"filters":{},"archived":false,"deleted":false,"created_by":{"id":1,"uuid":"0196a5e4-1c5d-0000-8b8c-31ae10f6d7d7","distinct_id":"TM2Vy3T9MqY0HHAxgKBj95zZEaZ45MYSpuSxu6MaVNj","first_name":"Juraj","last_name":"","email":"juraj@posthog.com","is_email_verified":false,"hedgehog_config":null,"role_at_organization":"engineering"},"created_at":"2025-06-03T14:35:54.872677Z","updated_at":"2025-06-03T14:39:45.072683Z","type":"product","exposure_criteria":{"filterTestAccounts":true},"metrics":[{"kind":"ExperimentMetric","series":[{"kind":"EventsNode","event":"signup completed"}],"metric_type":"funnel","uuid":"3340a599-f56c-4e91-a31f-3e3f01528031"}],"metrics_secondary":[],"primary_metrics_ordered_uuids":["3340a599-f56c-4e91-a31f-3e3f01528031"],"secondary_metrics_ordered_uuids":[],"conclusion":null,"conclusion_comment":null}');var exposure_query_result=__webpack_require__("../../frontend/src/mocks/fixtures/api/experiments/exposure_query_result.json"),funnel_metric_result=__webpack_require__("../../frontend/src/mocks/fixtures/api/experiments/funnel_metric_result.json"),schema_general=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts");let ExperimentWithFunnelMetric_stories={component:App.g,title:"Scenes-App/Experiments",parameters:{layout:"fullscreen",viewMode:"story",mockDate:"2025-01-27",pageUrl:urls.j.experiment(experiment_with_funnel_metric_namespaceObject.id)},decorators:[(0,browser.x8)({get:{[`/api/projects/:team_id/experiments/${experiment_with_funnel_metric_namespaceObject.id}/`]:experiment_with_funnel_metric_namespaceObject,"/api/projects/:team_id/experiment_holdouts":[],"/api/projects/:team_id/experiment_saved_metrics/":[],[`/api/projects/:team_id/feature_flags/${experiment_with_funnel_metric_namespaceObject.feature_flag.id}/`]:{},[`/api/projects/:team_id/feature_flags/${experiment_with_funnel_metric_namespaceObject.feature_flag.id}/status/`]:{}},post:{"/api/environments/:team_id/query":(req,res,ctx)=>res(req.body.query.kind===schema_general.OH.ExperimentExposureQuery?ctx.json(exposure_query_result):ctx.json(funnel_metric_result))}})]},ExperimentWithFunnelMetric={play:(0,utils.nO)(500)};ExperimentWithFunnelMetric.parameters={...ExperimentWithFunnelMetric.parameters,docs:{...ExperimentWithFunnelMetric.parameters?.docs,source:{originalSource:"{\n  play: makeDelay(500)\n}",...ExperimentWithFunnelMetric.parameters?.docs?.source}}};let __namedExportsOrder=["ExperimentWithFunnelMetric"]},"../../frontend/src/mocks/fixtures/api/experiments/exposure_query_result.json":module=>{module.exports=JSON.parse('{"cache_key":"cache_d38d94a2a1e278ca278e3ff3e6a0976d","cache_target_age":"2025-09-05T16:27:20.614099Z","calculation_trigger":null,"date_range":{"date_from":"2025-05-26T12:26:00+00:00","date_to":"2025-06-03T16:27:00+00:00","explicitDate":true},"is_cached":true,"kind":"ExperimentExposureQuery","last_refresh":"2025-09-04T16:27:20.614099Z","next_allowed_client_refresh":"2025-09-04T16:28:20.614099Z","query_metadata":{"events":[],"updated_at":"2025-09-04T16:27:21.815558Z"},"query_status":null,"timeseries":[{"days":["2025-05-26","2025-05-27","2025-05-28","2025-05-29","2025-05-30","2025-05-31","2025-06-01","2025-06-02","2025-06-03"],"exposure_counts":[0,61,178,325,460,604,755,910,989],"variant":"control"},{"days":["2025-05-26","2025-05-27","2025-05-28","2025-05-29","2025-05-30","2025-05-31","2025-06-01","2025-06-02","2025-06-03"],"exposure_counts":[0,59,201,300,445,572,685,808,874],"variant":"test-1"},{"days":["2025-05-26","2025-05-27","2025-05-28","2025-05-29","2025-05-30","2025-05-31","2025-06-01","2025-06-02","2025-06-03"],"exposure_counts":[0,63,241,399,567,733,894,1056,1137],"variant":"test-2"}],"timezone":"UTC","total_exposures":{"test-1":874,"control":989,"test-2":1137}}')},"../../frontend/src/mocks/fixtures/api/experiments/funnel_metric_result.json":module=>{module.exports=JSON.parse('{"baseline":{"denominator_sum":null,"denominator_sum_squares":null,"key":"control","number_of_samples":989,"numerator_denominator_sum_product":null,"sum":859,"sum_squares":859,"step_counts":[859],"validation_failures":[]},"cache_key":"cache_08a7b94252174a9400b06680a11683bd","cache_target_age":"2025-09-05T16:14:05.250745Z","calculation_trigger":null,"credible_intervals":null,"insight":null,"is_cached":true,"kind":"ExperimentQuery","last_refresh":"2025-09-04T16:14:05.250745Z","metric":null,"next_allowed_client_refresh":"2025-09-04T16:15:05.250745Z","p_value":null,"probability":null,"query_metadata":{"events":[],"updated_at":"2025-09-04T16:14:11.089132Z"},"query_status":null,"significance_code":null,"significant":null,"stats_version":null,"timezone":"UTC","variant_results":[{"chance_to_win":0.00010223913233654233,"credible_interval":[-0.10891502266388127,-0.03366202531112027],"denominator_sum":null,"denominator_sum_squares":null,"key":"test-1","method":"bayesian","number_of_samples":874,"numerator_denominator_sum_product":null,"significant":true,"sum":705,"sum_squares":705,"step_counts":[705],"validation_failures":[]},{"chance_to_win":0.9831535028773773,"credible_interval":[0.002690288824904803,0.06708670125273555],"denominator_sum":null,"denominator_sum_squares":null,"key":"test-2","method":"bayesian","number_of_samples":1137,"numerator_denominator_sum_product":null,"significant":true,"sum":1022,"sum_squares":1022,"step_counts":[1022],"validation_failures":[]}],"variants":null}')}}]);