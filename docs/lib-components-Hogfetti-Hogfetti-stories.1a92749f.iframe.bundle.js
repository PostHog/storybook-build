"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[986],{"./frontend/src/lib/components/Hogfetti/Hogfetti.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Hogfetti:()=>Hogfetti,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Hogfetti_stories});var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),hedgehogs=__webpack_require__("./frontend/src/lib/components/hedgehogs.tsx"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let Hogfetti_images=[hedgehogs.SurprisedHog,hedgehogs.XRayHog,hedgehogs.XRayHog2,hedgehogs.HospitalHog,hedgehogs.BlushingHog,hedgehogs.ExplorerHog,hedgehogs.RunningHog,hedgehogs.SpaceHog,hedgehogs.TronHog,hedgehogs.HeartHog,hedgehogs.StarHog,hedgehogs.PoliceHog,hedgehogs.SleepingHog,hedgehogs.ProfessorHog,hedgehogs.SupportHeroHog,hedgehogs.DetectiveHog,hedgehogs.MailHog,hedgehogs.FeatureFlagHog,hedgehogs.ExperimentsHog,hedgehogs.ListHog,hedgehogs.WavingHog,hedgehogs.ReadingHog,hedgehogs.MicrophoneHog],useHogfetti=function(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[particleSets,setParticleSets]=(0,react.useState)([]),[dimensions,setDimensions]=(0,react.useState)({width:window.innerWidth,height:window.innerHeight});(0,react.useEffect)(()=>{let handleResize=()=>{setDimensions({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[]);let{count=50,power=5,duration=2e3,maxSize=60}=options,createParticle=(centerX,centerY)=>{let angle=Math.random()*Math.PI*2,velocity=Math.random()*power+2;return{x:centerX,y:centerY,vx:Math.cos(angle)*velocity,vy:Math.sin(angle)*velocity,size:Math.random()*(maxSize-20)+20,imageIndex:Math.floor(Math.random()*Hogfetti_images.length),opacity:1}},trigger=(0,react.useCallback)(()=>{let centerX=Math.random()*dimensions.width,centerY=Math.random()*dimensions.height,newParticles=Array.from({length:count},()=>createParticle(centerX,centerY));setParticleSets(prev=>[...prev,newParticles]);let startTime=Date.now(),animationFrame=()=>{let elapsed=Date.now()-startTime;elapsed<duration?(setParticleSets(prevSets=>prevSets.map(set=>set.map(particle=>({...particle,x:particle.x+particle.vx,y:particle.y+particle.vy,vy:particle.vy+.1,vx:.99*particle.vx,opacity:1-elapsed/duration})))),requestAnimationFrame(animationFrame)):setParticleSets(prev=>prev.slice(1))};requestAnimationFrame(animationFrame)},[count,power,duration,maxSize,dimensions]);return{trigger,HogfettiComponent:()=>(0,jsx_runtime.jsx)("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:9999},children:particleSets.flatMap((set,setIndex)=>set.map((particle,particleIndex)=>{let HogComponent=Hogfetti_images[particle.imageIndex];return(0,jsx_runtime.jsx)("div",{className:"absolute",style:{left:`${particle.x}px`,top:`${particle.y}px`,opacity:particle.opacity,transition:"opacity 0.1s linear"},children:(0,jsx_runtime.jsx)(HogComponent,{width:particle.size,height:particle.size})},`${setIndex}-${particleIndex}`)}))})}},Hogfetti_stories={title:"Components/Hogfetti"};function Hogfetti(){let{trigger,HogfettiComponent}=useHogfetti();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HogfettiComponent,{}),(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",onClick:()=>{trigger()},children:"Trigger Hogfetti"}),(0,jsx_runtime.jsx)(src.Vp,{type:"warning",className:"mt-4",children:"The rendering in Storybook is not the same as in the app so it may appear laggy here but it should be working as expected in the app."})]})}Hogfetti.parameters={...Hogfetti.parameters,docs:{...Hogfetti.parameters?.docs,source:{originalSource:'function Hogfetti(): JSX.Element {\n  const {\n    trigger,\n    HogfettiComponent\n  } = useHogfetti();\n  const handleClick = (): void => {\n    trigger();\n  };\n  return <>\n            <HogfettiComponent />\n            <LemonButton type="secondary" onClick={handleClick}>\n                Trigger Hogfetti\n            </LemonButton>\n            <LemonBanner type="warning" className="mt-4">\n                The rendering in Storybook is not the same as in the app so it may appear laggy here but it should be\n                working as expected in the app.\n            </LemonBanner>\n        </>;\n}',...Hogfetti.parameters?.docs?.source}}};let __namedExportsOrder=["Hogfetti"]}}]);