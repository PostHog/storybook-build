(window.webpackJsonp=window.webpackJsonp||[]).push([[247],{"./frontend/src/scenes/plugins/Plugins.tsx":function(ie,Y,u){"use strict";u.r(Y),u.d(Y,"scene",function(){return Sa}),u.d(Y,"Plugins",function(){return Qn});var ne=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),fe=u.n(ne),Ve=u("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss"),te=u.n(Ve),se={};se.insert="head",se.singleton=!1;var Ca=fe()(te.a,se),Ta=te.a.locals||{},G=u("./node_modules/react/index.js"),n=u.n(G),Aa=u("./node_modules/core-js/modules/es.symbol.js"),wa=u("./node_modules/core-js/modules/es.symbol.description.js"),ka=u("./node_modules/core-js/modules/es.array.concat.js"),Ia=u("./node_modules/core-js/modules/es.array.every.js"),_a=u("./node_modules/core-js/modules/es.array.filter.js"),La=u("./node_modules/core-js/modules/es.array.find.js"),Ua=u("./node_modules/core-js/modules/es.array.includes.js"),Ra=u("./node_modules/core-js/modules/es.array.map.js"),Fa=u("./node_modules/core-js/modules/es.function.name.js"),xa=u("./node_modules/core-js/modules/es.object.keys.js"),Na=u("./node_modules/core-js/modules/es.object.values.js"),Va=u("./node_modules/core-js/modules/es.string.includes.js"),Zn=u("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ue=u.n(Zn),qn=u("./node_modules/@babel/runtime/helpers/defineProperty.js"),L=u.n(qn),et=u("./node_modules/@babel/runtime/helpers/slicedToArray.js"),U=u.n(et),E=u("./node_modules/kea/lib/index.esm.js"),nt=u("./node_modules/@babel/runtime/helpers/typeof.js"),Qe=u.n(nt),za=u("./node_modules/core-js/modules/es.array.for-each.js"),Da=u("./node_modules/core-js/modules/es.array.iterator.js"),Ba=u("./node_modules/core-js/modules/es.array.reduce.js"),Ma=u("./node_modules/core-js/modules/es.number.constructor.js"),Ja=u("./node_modules/core-js/modules/es.object.entries.js"),Ka=u("./node_modules/core-js/modules/es.object.to-string.js"),$a=u("./node_modules/core-js/modules/es.regexp.exec.js"),Ya=u("./node_modules/core-js/modules/es.regexp.to-string.js"),Ha=u("./node_modules/core-js/modules/es.string.replace.js"),Wa=u("./node_modules/core-js/modules/es.string.starts-with.js"),Ga=u("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Xa=u("./node_modules/core-js/modules/web.dom-collections.iterator.js"),tt=u("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),mn=u.n(tt),at=u("./node_modules/@babel/runtime/regenerator/index.js"),C=u.n(at),Qa=u("./node_modules/regenerator-runtime/runtime.js"),lt=u("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),z=u.n(lt),D=u("./frontend/src/lib/api.ts"),X;(function(e){e.Local="local",e.Custom="custom",e.Repository="repository",e.Source="source"})(X||(X={}));var Q;(function(e){e.Installed="installed",e.Repository="repository",e.Advanced="advanced"})(Q||(Q={}));var H=u("./frontend/src/scenes/userLogic.ts");function rt(e,t){var a;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=ot(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(i){throw i},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,d=!1,c;return{s:function(){a=e[Symbol.iterator]()},n:function(){var i=a.next();return o=i.done,i},e:function(i){d=!0,c=i},f:function(){try{!o&&a.return!=null&&a.return()}finally{if(d)throw c}}}}function ot(e,t){if(!!e){if(typeof e=="string")return gn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return gn(e,t)}}function gn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,l)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pn(Object(a),!0).forEach(function(l){L()(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pn(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var qe="**************** POSTHOG SECRET FIELD ****************";function be(e){return Array.isArray(e)?e:Object.entries(e).map(function(t){var a=U()(t,2),l=a[0],r=a[1];return Ze({key:l},r)}).sort(function(t,a){return(t.order||999999)-(a.order||999999)})}function en(e){if(Array.isArray(e)){var t={};return e.forEach(function(a,l){a.key&&(t[a.key]=Ze(Ze({},a),{},{order:l}))}),t}else return e}function it(e){var t={},a=rt(be(e.config_schema)),l;try{for(a.s();!(l=a.n()).done;){var r=l.value;r.key&&typeof r.default!="undefined"&&(t[r.key]=r.default)}}catch(o){a.e(o)}finally{a.f()}return t}function st(e,t){var a=t.__enabled,l=mn()(t,["__enabled"]),r=en(e.config_schema),o=new FormData,d={};o.append("enabled",Boolean(a).toString());for(var c=0,s=Object.entries(l);c<s.length;c++){var i,m,g=U()(s[c],2),p=g[0],f=g[1];if(((i=r[p])===null||i===void 0?void 0:i.type)==="attachment"){var b;f&&!f.saved&&o.append("add_attachment[".concat(p,"]"),f),!f&&((b=e.pluginConfig.config)===null||b===void 0?void 0:b[p])&&o.append("remove_attachment[".concat(p,"]"),"true")}else(!(!((m=r[p])===null||m===void 0)&&m.secret)||f!==qe)&&(d[p]=f)}return o.append("config",JSON.stringify(d)),o}var fn=function(t,a,l){var r=t.getFieldValue(a||"")||"",o=typeof l=="undefined",d=!!r;return o&&d||l===r},ut=u("./node_modules/posthog-js/dist/es.js"),K=u("./frontend/src/scenes/plugins/access.ts"),dt=u("./frontend/src/scenes/teamLogic.ts");function ct(e){var t=mt(e,"string");return Qe()(t)==="symbol"?t:String(t)}function mt(e,t){if(Qe()(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var l=a.call(e,t||"default");if(Qe()(l)!=="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Te(e,t){var a;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=gt(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(i){throw i},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,d=!1,c;return{s:function(){a=e[Symbol.iterator]()},n:function(){var i=a.next();return o=i.done,i},e:function(i){d=!0,c=i},f:function(){try{!o&&a.return!=null&&a.return()}finally{if(d)throw c}}}}function gt(e,t){if(!!e){if(typeof e=="string")return vn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vn(e,t)}}function vn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}function yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,l)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yn(Object(a),!0).forEach(function(l){L()(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yn(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var x;(function(e){e.Upgrade="upgrade",e.Installed="installed",e.Enabled="enabled",e.Disabled="disabled"})(x||(x={}));var pt=10;function ve(e,t,a){var l;ut.a.capture(e,P({plugin_name:t.name,plugin_url:!((l=t.url)===null||l===void 0)&&l.startsWith("file:")?"file://masked-local-path":t.url,plugin_tag:t.tag},a&&{plugin_installation_type:a}))}function hn(e){return nn.apply(this,arguments)}function nn(){return nn=z()(C.a.mark(function e(t){var a,l,r,o,d,c,s=arguments;return C.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:a=s.length>1&&s[1]!==void 0?s[1]:pt,l=[],r=0;case 3:if(!(r<=a)){m.next=16;break}if(t){m.next=6;break}return m.abrupt("break",16);case 6:return m.next=8,D.b.get(t);case 8:o=m.sent,d=o.results,c=o.next,l=l.concat(d),t=c;case 13:++r,m.next=3;break;case 16:return m.abrupt("return",l);case 17:case"end":return m.stop()}},e)})),nn.apply(this,arguments)}var S=Object(E.kea)({path:["scenes","plugins","pluginsLogic"],actions:{editPlugin:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{id:t,pluginConfigChanges:a}},savePluginConfig:function(t){return{pluginConfigChanges:t}},installPlugin:function(t,a){return{pluginUrl:t,pluginType:a}},uninstallPlugin:function(t){return{name:t}},setCustomPluginUrl:function(t){return{customPluginUrl:t}},setLocalPluginUrl:function(t){return{localPluginUrl:t}},setSourcePluginName:function(t){return{sourcePluginName:t}},setPluginTab:function(t){return{tab:t}},setEditingSource:function(t){return{editingSource:t}},resetPluginConfigError:function(t){return{id:t}},editPluginSource:function(t){return t},checkForUpdates:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{checkAll:t,initialUpdateStatus:a}},checkedForUpdates:!0,setUpdateStatus:function(t,a,l){return{id:t,tag:a,latestTag:l}},setUpdateError:function(t){return{id:t}},updatePlugin:function(t){return{id:t}},pluginUpdated:function(t){return{id:t}},patchPlugin:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{id:t,pluginChanges:a}},generateApiKeysIfNeeded:function(t){return{form:t}},rearrange:!0,setTemporaryOrder:function(t,a){return{temporaryOrder:t,movedPluginId:a}},makePluginOrderSaveable:!0,savePluginOrders:function(t){return{newOrders:t}},cancelRearranging:!0,showPluginLogs:function(t){return{id:t}},hidePluginLogs:!0,showPluginMetrics:function(t){return{id:t}},hidePluginMetrics:!0,processSearchInput:function(t){return{term:t}},setSearchTerm:function(t){return{term:t}},setPluginConfigPollTimeout:function(t){return{timeout:t}},toggleSectionOpen:function(t){return{section:t}}},loaders:function(t){var a=t.actions,l=t.values;return{plugins:[{},{loadPlugins:function(){var r=z()(C.a.mark(function d(){var c,s,i,m,g;return C.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,hn("api/organizations/@current/plugins");case 2:c=f.sent,s={},i=Te(c);try{for(i.s();!(m=i.n()).done;)g=m.value,s[g.id]=g}catch(b){i.e(b)}finally{i.f()}return f.abrupt("return",s);case 7:case"end":return f.stop()}},d)}));function o(){return r.apply(this,arguments)}return o}(),installPlugin:function(){var r=z()(C.a.mark(function d(c){var s,i,m,g;return C.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=c.pluginUrl,i=c.pluginType,m=i==="local"?"file:".concat(s):s,f.next=4,D.b.create("api/organizations/@current/plugins",i==="source"?{plugin_type:i,name:m,source:""}:{url:m});case 4:return g=f.sent,ve("plugin installed",g,i),f.abrupt("return",P(P({},l.plugins),{},L()({},g.id,g)));case 7:case"end":return f.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}(),uninstallPlugin:function(){var r=z()(C.a.mark(function d(){var c,s,i,m,g;return C.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(c=l.plugins,s=l.editingPlugin,s){f.next=3;break}return f.abrupt("return",c);case 3:return f.next=5,D.b.delete("api/organizations/@current/plugins/".concat(s.id));case 5:return ve("plugin uninstalled",s),i=s.id,m=c[i],g=mn()(c,[i].map(ct)),f.abrupt("return",g);case 8:case"end":return f.stop()}},d)}));function o(){return r.apply(this,arguments)}return o}(),editPluginSource:function(){var r=z()(C.a.mark(function d(c){var s,i,m,g,p,f;return C.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return s=c.id,i=c.name,m=c.source,g=c.configSchema,p=l.plugins,v.next=4,D.b.update("api/organizations/@current/plugins/".concat(s),{name:i,source:m,config_schema:g});case 4:return f=v.sent,ve("plugin source edited",f),v.abrupt("return",P(P({},p),{},L()({},s,f)));case 7:case"end":return v.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}(),updatePlugin:function(){var r=z()(C.a.mark(function d(c){var s,i,m,g;return C.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=c.id,f.next=3,D.b.create("api/organizations/@current/plugins/".concat(s,"/upgrade"));case 3:return i=f.sent,ve("plugin updated",i),a.pluginUpdated(s),m=en(i.config_schema),g=Object.values(l.pluginConfigs).filter(function(b){return b.plugin===s})[0],g!=null&&g.enabled&&Object.entries(m).find(function(b){var v=U()(b,2),O=v[0],y=v[1].required;return y&&!g.config[O]})&&a.editPlugin(s),f.abrupt("return",P(P({},l.plugins),{},L()({},s,i)));case 10:case"end":return f.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}(),patchPlugin:function(){var r=z()(C.a.mark(function d(c){var s,i,m;return C.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=c.id,i=c.pluginChanges,p.next=3,D.b.update("api/organizations/@current/plugins/".concat(s),i);case 3:return m=p.sent,p.abrupt("return",P(P({},l.plugins),{},L()({},s,m)));case 5:case"end":return p.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}()}],pluginConfigs:[{},{loadPluginConfigs:function(){var r=z()(C.a.mark(function d(){var c,s,i,m,g;return C.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c={},f.next=3,hn("api/plugin_config");case 3:s=f.sent,i=Te(s);try{for(i.s();!(m=i.n()).done;)g=m.value,c[g.plugin]=P({},g)}catch(b){i.e(b)}finally{i.f()}return f.abrupt("return",c);case 7:case"end":return f.stop()}},d)}));function o(){return r.apply(this,arguments)}return o}(),savePluginConfig:function(){var r=z()(C.a.mark(function d(c){var s,i,m,g,p,f;return C.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(i=c.pluginConfigChanges,m=l.pluginConfigs,g=l.editingPlugin,g){v.next=4;break}return v.abrupt("return",m);case 4:if(p=st(g,i),!((s=g.pluginConfig)===null||s===void 0)&&s.enabled||p.append("order",l.nextPluginOrder.toString()),!g.pluginConfig.id){v.next=12;break}return v.next=9,D.b.update("api/plugin_config/".concat(g.pluginConfig.id),p);case 9:f=v.sent,v.next=16;break;case 12:return p.append("plugin",g.id.toString()),v.next=15,D.b.create("api/plugin_config/",p);case 15:f=v.sent;case 16:return ve("plugin config updated",g),g.pluginConfig.enabled!==f.enabled&&ve("plugin ".concat(f.enabled?"enabled":"disabled"),g),v.abrupt("return",P(P({},m),{},L()({},f.plugin,f)));case 19:case"end":return v.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}(),toggleEnabled:function(){var r=z()(C.a.mark(function d(c){var s,i,m,g,p,f,b;return C.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=c.id,i=c.enabled,m=l.pluginConfigs,g=l.plugins,p=Object.values(m).find(function(y){return y.id===s}),p&&(f=g[p.plugin],f&&ve("plugin ".concat(i?"enabled":"disabled"),f)),O.next=6,D.b.update("api/plugin_config/".concat(s),{enabled:i,order:l.nextPluginOrder});case 6:return b=O.sent,O.abrupt("return",P(P({},m),{},L()({},b.plugin,b)));case 8:case"end":return O.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}(),resetPluginConfigError:function(){var r=z()(C.a.mark(function d(c){var s,i,m;return C.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=c.id,i=l.pluginConfigs,p.next=4,D.b.update("api/plugin_config/".concat(s),{error:null});case 4:return m=p.sent,p.abrupt("return",P(P({},i),{},L()({},m.plugin,m)));case 6:case"end":return p.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}(),savePluginOrders:function(){var r=z()(C.a.mark(function d(c){var s,i,m,g,p,f,b;return C.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return s=c.newOrders,i=l.pluginConfigs,O.next=4,D.b.update("api/plugin_config/rearrange",{orders:s});case 4:m=O.sent,g=P({},i),p=Te(m);try{for(p.s();!(f=p.n()).done;)b=f.value,g[b.plugin]=b}catch(y){p.e(y)}finally{p.f()}return O.abrupt("return",g);case 9:case"end":return O.stop()}},d)}));function o(d){return r.apply(this,arguments)}return o}()}],repository:[{},{loadRepository:function(){var r=z()(C.a.mark(function d(){var c,s,i,m,g;return C.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,D.b.get("api/organizations/@current/plugins/repository");case 2:c=f.sent,s={},i=Te(c);try{for(i.s();!(m=i.n()).done;)g=m.value,g.url&&(s[g.url.replace(/\/+$/,"")]=g)}catch(b){i.e(b)}finally{i.f()}return f.abrupt("return",s);case 7:case"end":return f.stop()}},d)}));function o(){return r.apply(this,arguments)}return o}()}]}},reducers:{plugins:{setUpdateStatus:function(t,a){var l=a.id,r=a.tag,o=a.latestTag;return P(P({},t),{},L()({},l,P(P({},t[l]),{},{tag:r,latest_tag:o})))}},installingPluginUrl:[null,{installPlugin:function(t,a){var l=a.pluginUrl;return l},installPluginSuccess:function(){return null},installPluginFailure:function(){return null}}],editingPluginId:[null,{editPlugin:function(t,a){var l=a.id;return l},savePluginConfigSuccess:function(){return null},uninstallPluginSuccess:function(){return null},installPluginSuccess:function(t,a){var l,r=a.plugins;return((l=Object.values(r).pop())===null||l===void 0?void 0:l.id)||null}}],editingPluginInitialChanges:[{},{editPlugin:function(t,a){var l=a.pluginConfigChanges;return l},installPluginSuccess:function(){return{__enabled:!0}}}],editingSource:[!1,{setEditingSource:function(t,a){var l=a.editingSource;return l},editPluginSourceSuccess:function(){return!1},editPlugin:function(){return!1}}],customPluginUrl:["",{setCustomPluginUrl:function(t,a){var l=a.customPluginUrl;return l},installPluginSuccess:function(){return""}}],localPluginUrl:["",{setLocalPluginUrl:function(t,a){var l=a.localPluginUrl;return l},installPluginSuccess:function(){return""}}],sourcePluginName:["",{setSourcePluginName:function(t,a){var l=a.sourcePluginName;return l},installPluginSuccess:function(){return""}}],pluginError:[null,{setCustomPluginUrl:function(){return null},installPlugin:function(){return null},installPluginFailure:function(t,a){var l=a.error;return l||""}}],pluginConfigs:{uninstallPluginSuccess:function(t,a){var l=a.plugins,r={};return Object.values(t).forEach(function(o){l[o.plugin]&&(r[o.plugin]=o)}),r}},pluginTab:[Q.Installed,{setPluginTab:function(t,a){var l=a.tab;return l},installPluginSuccess:function(){return Q.Installed}}],updateStatus:[{},{checkForUpdates:function(t,a){var l=a.initialUpdateStatus;return l},setUpdateStatus:function(t,a){var l=a.id,r=a.tag,o=a.latestTag;return P(P({},t),{},L()({},l,{upToDate:r===o}))},setUpdateError:function(t,a){var l=a.id;return P(P({},t),{},L()({},l,{error:!0}))},pluginUpdated:function(t,a){var l=a.id;return P(P({},t),{},L()({},l,{updated:!0}))}}],pluginsUpdating:[[],{updatePlugin:function(t,a){var l=a.id;return[].concat(ue()(t),[l])},pluginUpdated:function(t,a){var l=a.id;return t.filter(function(r){return r!==l})},setUpdateError:function(t,a){var l=a.id;return t.filter(function(r){return r!==l})}}],checkingForUpdates:[!1,{checkForUpdates:function(){return!0},checkedForUpdates:function(){return!1}}],pluginOrderSaveable:[!1,{makePluginOrderSaveable:function(){return!0},cancelRearranging:function(){return!1},savePluginOrdersSuccess:function(){return!1}}],rearranging:[!1,{rearrange:function(){return!0},cancelRearranging:function(){return!1},savePluginOrdersSuccess:function(){return!1}}],temporaryOrder:[{},{rearrange:function(){return{}},setTemporaryOrder:function(t,a){var l=a.temporaryOrder;return l},cancelRearranging:function(){return{}},savePluginOrdersSuccess:function(){return{}}}],movedPlugins:[{},{rearrange:function(){return{}},setTemporaryOrder:function(t,a){var l=a.movedPluginId;return P(P({},t),{},L()({},l,!0))},cancelRearranging:function(){return{}},savePluginOrdersSuccess:function(){return{}}}],showingLogsPluginId:[null,{showPluginLogs:function(t,a){var l=a.id;return l},hidePluginLogs:function(){return null}}],lastShownLogsPluginId:[null,{showPluginLogs:function(t,a){var l=a.id;return l}}],showingMetricsPluginId:[null,{showPluginMetrics:function(t,a){var l=a.id;return l},hidePluginMetrics:function(){return null}}],searchTerm:[null,{setSearchTerm:function(t,a){var l=a.term;return l}}],sectionsOpen:[[x.Enabled,x.Disabled],{toggleSectionOpen:function(t,a){var l=a.section;return t.includes(l)?t.filter(function(r){return l!==r}):[].concat(ue()(t),[l])}}]},selectors:{installedPlugins:[function(e){return[e.plugins,e.pluginConfigs,e.updateStatus]},function(e,t,a){var l=Object.values(e);return l.map(function(r,o){var d=P({},t[r.id]);if(!d){var c={};Object.entries(en(r.config_schema)).forEach(function(i){var m=U()(i,2),g=m[0],p=m[1].default;c[g]=p});var s=dt.a.values.currentTeam;if(!s)throw new Error("Can't list installed plugins with no user or team!");d={id:void 0,team_id:s.id,plugin:r.id,enabled:!1,config:c,order:l.length+o}}return P(P({},r),{},{pluginConfig:d,updateStatus:a[r.id]})}).sort(function(r,o){return r.name.toUpperCase().localeCompare(o.name.toUpperCase())})}],enabledPlugins:[function(e){return[e.installedPlugins,e.movedPlugins,e.temporaryOrder]},function(e,t,a){return ue()(e.filter(function(l){var r=l.pluginConfig;return r==null?void 0:r.enabled})).map(function(l){var r;return P(P({},l),{},{pluginConfig:P(P({},l.pluginConfig),{},{order:(r=a[l.id])!==null&&r!==void 0?r:l.pluginConfig.order})})}).sort(function(l,r){return l.pluginConfig.order-r.pluginConfig.order}).map(function(l,r){return P(P({},l),{},{pluginConfig:P(P({},l.pluginConfig),{},{order:r+1}),hasMoved:t[l.id]})})}],nextPluginOrder:[function(e){return[e.enabledPlugins]},function(e){return e.reduce(function(t,a){var l,r;return Math.max((l=(r=a.pluginConfig)===null||r===void 0?void 0:r.order)!==null&&l!==void 0?l:0,t)},0)+1}],disabledPlugins:[function(e){return[e.installedPlugins]},function(e){return e.filter(function(t){var a=t.pluginConfig;return!(a!=null&&a.enabled)}).sort(function(t,a){return Number(t.is_global)-Number(a.is_global)})}],pluginsNeedingUpdates:[function(e){return[e.installedPlugins,H.a.selectors.user]},function(e,t){return Object(K.c)(t==null?void 0:t.organization)?e.filter(function(a){var l,r=a.plugin_type,o=a.tag,d=a.latest_tag,c=a.updateStatus,s=a.organization_id;return s===(t==null||(l=t.organization)===null||l===void 0?void 0:l.id)&&r!==X.Source&&(d&&o!==d||c&&!c.error&&(c.updated||!c.upToDate))}):[]}],installedPluginUrls:[function(e){return[e.installedPlugins,H.a.selectors.user]},function(e,t){var a={};return e.forEach(function(l){var r;l.url&&l.organization_id===(t==null||(r=t.organization)===null||r===void 0?void 0:r.id)&&(a[l.url.replace(/\/+$/,"")]=!0)}),a}],updatablePlugins:[function(e){return[e.installedPlugins,H.a.selectors.user]},function(e,t){return e.filter(function(a){var l,r;return a.plugin_type!==X.Source&&!(!((l=a.url)===null||l===void 0)&&l.startsWith("file:"))&&(t==null||(r=t.organization)===null||r===void 0?void 0:r.id)===a.organization_id})}],hasUpdatablePlugins:[function(e){return[e.updatablePlugins]},function(e){return e.length>0}],uninstalledPlugins:[function(e){return[e.installedPluginUrls,e.repository]},function(e,t){return Object.keys(t).filter(function(a){return!e[a.replace(/\/+$/,"")]}).map(function(a){return t[a.replace(/\/+$/,"")]}).sort(function(a,l){return a.name.toUpperCase().localeCompare(l.name.toUpperCase())})}],editingPlugin:[function(e){return[e.editingPluginId,e.installedPlugins]},function(e,t){return e?t.find(function(a){return a.id===e}):null}],loading:[function(e){return[e.pluginsLoading,e.repositoryLoading,e.pluginConfigsLoading]},function(e,t,a){return e||t||a}],showingLogsPlugin:[function(e){return[e.showingLogsPluginId,e.installedPlugins]},function(e,t){return e?t.find(function(a){return a.id===e}):null}],lastShownLogsPlugin:[function(e){return[e.lastShownLogsPluginId,e.installedPlugins]},function(e,t){return e?t.find(function(a){return a.id===e}):null}],showingMetricsPlugin:[function(e){return[e.showingMetricsPluginId,e.installedPlugins]},function(e,t){return e?t.find(function(a){return a.id===e}):null}],filteredUninstalledPlugins:[function(e){return[e.searchTerm,e.uninstalledPlugins]},function(e,t){return e?t.filter(function(a){return a.name.toLowerCase().includes(e.toLowerCase())}):t}],filteredDisabledPlugins:[function(e){return[e.searchTerm,e.disabledPlugins]},function(e,t){return e?t.filter(function(a){return a.name.toLowerCase().includes(e.toLowerCase())}):t}],filteredEnabledPlugins:[function(e){return[e.searchTerm,e.enabledPlugins]},function(e,t){return e?t.filter(function(a){return a.name.toLowerCase().includes(e.toLowerCase())}):t}],filteredPluginsNeedingUpdates:[function(e){return[e.searchTerm,e.pluginsNeedingUpdates]},function(e,t){return e?t.filter(function(a){return a.name.toLowerCase().includes(e.toLowerCase())}):t}],sortableEnabledPlugins:[function(e){return[e.filteredEnabledPlugins]},function(e){return e.filter(function(t){return!t.capabilities||t.capabilities.methods&&(t.capabilities.methods.includes("processEvent")||t.capabilities.methods.includes("processEventBatch"))})}],unsortableEnabledPlugins:[function(e){return[e.filteredEnabledPlugins,e.sortableEnabledPlugins]},function(e,t){return e.filter(function(a){return!t.map(function(l){return l.name}).includes(a.name)})}],pluginUrlToMaintainer:[function(e){return[e.repository]},function(e){for(var t={},a=0,l=Object.values(e);a<l.length;a++){var r=l[a];t[r.url]=r.maintainer||""}return t}]},listeners:function(t){var a=t.actions,l=t.values;return{checkForUpdates:function(){var r=z()(C.a.mark(function d(c,s){var i,m,g,p,f,b,v;return C.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:i=c.checkAll,s(),m=l.updatablePlugins,g=i?m:m.filter(function(h){return!h.latest_tag}),p=Te(g),y.prev=5,p.s();case 7:if((f=p.n()).done){y.next=22;break}return b=f.value,y.prev=9,y.next=12,D.b.get("api/organizations/@current/plugins/".concat(b.id,"/check_for_updates"));case 12:v=y.sent,a.setUpdateStatus(b.id,v.plugin.tag,v.plugin.latest_tag),y.next=19;break;case 16:y.prev=16,y.t0=y.catch(9),a.setUpdateError(b.id);case 19:s();case 20:y.next=7;break;case 22:y.next=27;break;case 24:y.prev=24,y.t1=y.catch(5),p.e(y.t1);case 27:return y.prev=27,p.f(),y.finish(27);case 30:a.checkedForUpdates();case 31:case"end":return y.stop()}},d,null,[[5,24,27,30],[9,16]])}));function o(d,c){return r.apply(this,arguments)}return o}(),loadPluginsSuccess:function(){for(var o,d={},c=0,s=Object.entries(l.plugins);c<s.length;c++){var i=U()(s[c],2),m=i[0],g=i[1];g.latest_tag&&(d[m]={upToDate:g.tag===g.latest_tag})}if(Object(K.c)((o=H.a.values.user)===null||o===void 0?void 0:o.organization)){var p;a.checkForUpdates(!1,d),Object.keys(l.plugins).length===0&&Object(K.b)((p=H.a.values.user)===null||p===void 0?void 0:p.organization)&&a.setPluginTab(Q.Repository)}},generateApiKeysIfNeeded:function(){var r=z()(C.a.mark(function d(c,s){var i,m,g,p,f,b,v,O;return C.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(i=c.form,m=l.editingPlugin,m){h.next=4;break}return h.abrupt("return");case 4:if(g=m.pluginConfig.config,p=be((m==null?void 0:m.config_schema)||[]),f=p.find(function(k){var w=k.key;return w==="posthogApiKey"}),!(f&&!(g!=null&&g.posthogApiKey))){h.next=20;break}return h.prev=8,h.next=11,D.b.create("api/personal_api_keys/",{label:"Plugin: ".concat(m.name)});case 11:b=h.sent,v=b.value,s(),i.setFieldsValue({posthogApiKey:v}),h.next=20;break;case 17:h.prev=17,h.t0=h.catch(8),console.error(h.t0);case 20:O=p.find(function(k){var w=k.key;return w==="posthogHost"}),O&&(!(g!=null&&g.posthogHost)||g.posthogHost==="https://app.posthog.com")&&i.setFieldsValue({posthogHost:window.location.origin});case 22:case"end":return h.stop()}},d,null,[[8,17]])}));function o(d,c){return r.apply(this,arguments)}return o}()}},events:function(t){var a=t.actions;return{afterMount:function(){var r;a.loadPlugins(),a.loadPluginConfigs(),Object(K.b)((r=H.a.values.user)===null||r===void 0?void 0:r.organization)&&a.loadRepository()}}}}),bn=u("./node_modules/antd/es/switch/index.js"),W=u("./node_modules/antd/es/form/index.js"),de=u("./node_modules/antd/es/space/index.js"),jn=u("./node_modules/antd/es/popconfirm/index.js"),T=u("./node_modules/antd/es/button/index.js"),B=u("./node_modules/antd/es/tag/index.js"),ft=u("./node_modules/@ant-design/icons/es/icons/LockFilled.js"),vt=u("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"),yt=u("./node_modules/@ant-design/icons/es/icons/RollbackOutlined.js"),En=u("./node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),Pn=u("./node_modules/@ant-design/icons/es/icons/CodeOutlined.js"),ye=u("./frontend/src/lib/utils.tsx"),On=u.p+"images/plugin-default.e3e047768d82d1c3fe24fce102eaef18.svg";function Sn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,l)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Sn(Object(a),!0).forEach(function(l){L()(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sn(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}function Ae(e){var t=e.url,a=e.pluginType,l=e.size,r=l===void 0?"medium":l,o=Object(G.useState)({image:On}),d=U()(o,2),c=d[0],s=d[1],i=r==="large"?100:60;return Object(G.useEffect)(function(){if(t!=null&&t.includes("github.com")){var m=Object(ye.nb)(t),g=m.user,p=m.repo;s(ze(ze({},c),{},{image:"https://raw.githubusercontent.com/".concat(g,"/").concat(p,"/main/logo.png")}))}},[t]),a==="source"?n.a.createElement(Pn.a,{style:{fontSize:i},className:"plugin-image"}):n.a.createElement("div",{className:"plugin-image",style:{width:i,height:i,backgroundImage:"url(".concat(c.image,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat"},onError:function(){return s(ze(ze({},c),{},{image:On}))}})}try{Ae.displayName="PluginImage",Ae.__docgenInfo={description:"",displayName:"PluginImage",props:{url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},pluginType:{defaultValue:null,description:"",name:"pluginType",required:!1,type:{name:"enum",value:[{value:'"local"'},{value:'"custom"'},{value:'"repository"'},{value:'"source"'}]}},size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"large"'},{value:'"medium"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginImage.tsx#PluginImage"]={docgenInfo:Ae.__docgenInfo,name:"PluginImage",path:"frontend/src/scenes/plugins/plugin/PluginImage.tsx#PluginImage"})}catch(e){}var Cn=u("./frontend/src/lib/components/Drawer.tsx"),M=u("./frontend/src/lib/components/Tooltip.tsx");function we(e){var t=e.url,a=e.title,l=e.style;return n.a.createElement(M.a,{title:t.substring(5)},n.a.createElement(B.a,{color:"purple",onClick:function(){return Object(ye.t)(t.substring(5))},style:l},a||"Local Plugin"))}try{we.displayName="LocalPluginTag",we.__docgenInfo={description:"",displayName:"LocalPluginTag",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx#LocalPluginTag"]={docgenInfo:we.__docgenInfo,name:"LocalPluginTag",path:"frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx#LocalPluginTag"})}catch(e){}var ht=u("./node_modules/react-markdown/lib/react-markdown.js"),Tn=u.n(ht);function ke(e){var t=e.title,a=t===void 0?"Source Code":t,l=e.style;return n.a.createElement(B.a,{style:l},a)}try{ke.displayName="SourcePluginTag",ke.__docgenInfo={description:"",displayName:"SourcePluginTag",props:{title:{defaultValue:{value:"Source Code"},description:"",name:"title",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx#SourcePluginTag"]={docgenInfo:ke.__docgenInfo,name:"SourcePluginTag",path:"frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx#SourcePluginTag"})}catch(e){}var he=u("./node_modules/antd/es/input/index.js"),tn=u("./node_modules/@monaco-editor/react/lib/es/index.js");function An(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,l)}return a}function wn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?An(Object(a),!0).forEach(function(l){L()(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):An(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var bt=`// Learn more about plugins at: https://posthog.com/docs/plugins/build/overview

// Processes each event, optionally transforming it
export function processEvent(event, { config }) {
    // Some events (such as $identify) don't have properties
    if (event.properties) {
        event.properties['hello'] = \`Hello \${config.name}\`
    }
    // Return the event to be ingested, or return null to discard
    return event
}

// Runs when the plugin is loaded, allows for preparing it as needed
export function setupPlugin (meta) {
    console.log(\`The date is \${new Date().toDateString()}\`)
}

// Runs every hour on the hour
async function runEveryHour(meta) {
    const response = await fetch('https://palabras-aleatorias-public-api.herokuapp.com/random')
    const data = await response.json()
    const randomSpanishWord = data.body.Word
    console.log(\`\xA1\${randomSpanishWord.toUpperCase()}!\`)
}`,jt=[{markdown:"Specify your config here"},{key:"name",name:"Person to greet",type:"string",hint:"Used to personalise the property `hello`",default:"world",required:!1}];function Et(){var e=Object(E.useValues)(S),t=e.editingPlugin,a=e.editingSource,l=e.loading,r=Object(E.useActions)(S),o=r.setEditingSource,d=r.editPluginSource,c=W.a.useForm(),s=U()(c,1),i=s[0];Object(G.useEffect)(function(){if(t){var p=!t.source&&Object.keys(t.config_schema).length===0;i.setFieldsValue({name:t.name||"Untitled Plugin",source:p?bt:t.source,configSchema:JSON.stringify(p?jt:t.config_schema,null,2)})}else i.resetFields()},[t==null?void 0:t.id,a]);function m(p){t&&d(wn(wn({},p),{},{id:t.id,configSchema:JSON.parse(p.configSchema)}))}var g={required:!0,message:"Please enter a value!"};return n.a.createElement(Cn.a,{forceRender:!0,visible:a,onClose:function(){i.getFieldValue("source")!==(t==null?void 0:t.source)?confirm("You have unsaved changes in your plugin. Are you sure you want to exit?")&&o(!1):o(!1)},width:"min(90vw, 64rem)",title:"Coding Plugin: ".concat(t==null?void 0:t.name),placement:"left",footer:n.a.createElement("div",{style:{textAlign:"right"}},n.a.createElement(T.a,{onClick:function(){return o(!1)},style:{marginRight:16}},"Cancel"),n.a.createElement(T.a,{type:"primary",loading:l,onClick:i.submit},"Save"))},n.a.createElement(W.a,{form:i,layout:"vertical",onFinish:m},a?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Read our"," ",n.a.createElement("a",{href:"https://posthog.com/docs/plugins/build/overview",target:"_blank"},"plugin building overview in PostHog Docs")," ","for a good grasp of possibilities.",n.a.createElement("br",null),"Once satisfied with your plugin, feel free to"," ",n.a.createElement("a",{href:"https://posthog.com/docs/plugins/build/tutorial#submitting-your-plugin",target:"_blank"},"submit it to the official Plugin Library"),"."),n.a.createElement(W.a.Item,{label:"Name",name:"name",required:!0,rules:[g]},n.a.createElement(he.a,null)),n.a.createElement(W.a.Item,{label:"Source Code",name:"source",required:!0,rules:[g]},n.a.createElement(tn.a,{language:"typescript",theme:"vs-dark",height:400,options:{minimap:{enabled:!1}}})),n.a.createElement(W.a.Item,{label:"Config Schema JSON",name:"configSchema",required:!0,rules:[g,{validator:ye.Db}]},n.a.createElement(tn.a,{language:"json",theme:"vs-dark",height:200}))):null))}var Pt=u("./node_modules/antd/es/upload/index.js"),Ot=u("./node_modules/@ant-design/icons/es/icons/UploadOutlined.js");function De(e){var t=e.value,a=e.onChange;return n.a.createElement(Pt.a,{multiple:!1,fileList:t!=null&&t.size?[t]:[],beforeUpload:function(r){return a==null||a(r),!1},onRemove:function(){return a==null||a(null),!1},className:"ph-ignore-input"},n.a.createElement(T.a,{icon:n.a.createElement(Ot.a,null)},"Click to upload"))}try{De.displayName="UploadField",De.__docgenInfo={description:"",displayName:"UploadField",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"UploadFile<any> | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((file?: UploadFile<any> | null) => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/edit/UploadField.tsx#UploadField"]={docgenInfo:De.__docgenInfo,name:"UploadField",path:"frontend/src/scenes/plugins/edit/UploadField.tsx#UploadField"})}catch(e){}var kn=u("./node_modules/antd/es/select/index.js"),St=u("./node_modules/@ant-design/icons/es/icons/EditOutlined.js");function Be(e){var t=e.value,a=e.onChange,l=e.fieldConfig,r=Object(G.useState)(!1),o=U()(r,2),d=o[0],c=o[1];return l.secret&&!d&&t&&(t===qe||t.name===qe)?n.a.createElement(T.a,{icon:n.a.createElement(St.a,null),onClick:function(){a==null||a(l.default||""),c(!0)}},"Reset secret ",l.type==="attachment"?"attachment":"field"):l.type==="attachment"?n.a.createElement(De,{value:t,onChange:a}):l.type==="string"?n.a.createElement(he.a,{value:t,onChange:a,autoFocus:d,className:"ph-no-capture"}):l.type==="choice"?n.a.createElement(kn.a,{dropdownMatchSelectWidth:!1,value:t,className:"ph-no-capture",onChange:a,showSearch:!0},l.choices.map(function(s){return n.a.createElement(kn.a.Option,{value:s,key:s},s)})):n.a.createElement("strong",{style:{color:"var(--danger)"}},'Unknown field type "',n.a.createElement("code",null,l.type),'".',n.a.createElement("br",null),"You may need to upgrade PostHog!")}try{Be.displayName="PluginField",Be.__docgenInfo={description:"",displayName:"PluginField",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"any"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: any) => void)"}},fieldConfig:{defaultValue:null,description:"",name:"fieldConfig",required:!0,type:{name:"PluginConfigSchema"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/edit/PluginField.tsx#PluginField"]={docgenInfo:Be.__docgenInfo,name:"PluginField",path:"frontend/src/scenes/plugins/edit/PluginField.tsx#PluginField"})}catch(e){}var In=u("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),Ct={processEvent:"Read + modify access to events before ingestion",processEventBatch:"Read + modify access to events before ingestion, in batches",onEvent:"Read-only access to events",onSnapshot:"Read-only access to session recording events",exportEvents:"Read-only access to events, optimized for export",runEveryMinute:"Runs a task every minute",runEveryHour:"Runs a task every hour",runEveryDay:"Runs a task every day"},Tt=u("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),_n=u("./node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),an=u("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),Ln=u("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),At=u("./node_modules/antd/es/tooltip/index.js"),wt=u("./node_modules/antd/es/input-number/index.js"),ln=u("./node_modules/antd/es/radio/index.js"),kt=u("./node_modules/antd/es/date-picker/index.js"),It=u("./node_modules/antd/lib/modal/Modal.js"),_t=u.n(It),Un=u("./frontend/src/lib/components/lemonToast.tsx"),Rn=Object(E.kea)({props:{},key:function(t){return"".concat(t.pluginId,"_").concat(t.jobName)},path:function(t){return["scenes","plugins","edit","interface-jobs","interfaceJobsLogic",t]},connect:{actions:[S,["showPluginLogs"]]},actions:{setIsJobModalOpen:function(t){return{isOpen:t}},setRunJobAvailable:function(t){return{isAvailable:t}},runJob:function(t){return{form:t}},playButtonOnClick:function(t,a){return{form:t,jobHasEmptyPayload:a}},setRunJobAvailableTimeout:function(t){return{timeout:t}}},reducers:{isJobModalOpen:[!1,{setIsJobModalOpen:function(t,a){var l=a.isOpen;return l}}],runJobAvailable:[!0,{setRunJobAvailable:function(t,a){var l=a.isAvailable;return l}}],runJobAvailableTimeout:[null,{setRunJobAvailableTimeout:function(t,a){var l=a.timeout;return l}}]},listeners:function(t){var a=t.actions,l=t.props,r=t.values;return{runJob:function(){var o=z()(C.a.mark(function c(s){var i,m,g,p,f,b,v,O;return C.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return i=s.form,h.prev=1,h.next=4,i.validateFields();case 4:h.next=9;break;case 6:return h.prev=6,h.t0=h.catch(1),h.abrupt("return");case 9:for(a.setIsJobModalOpen(!1),m=i.getFieldsValue(),g=0,p=Object.entries(m);g<p.length;g++)b=U()(p[g],2),v=b[0],O=b[1],((f=l.jobSpecPayload)===null||f===void 0?void 0:f[v].type)==="date"&&(m[v]?m[v]=O.toISOString():m[v]=null);return h.prev=12,h.next=15,D.b.create("api/plugin_config/".concat(l.pluginConfigId,"/job"),{job:{type:l.jobName,payload:i.getFieldsValue()}});case 15:h.next=21;break;case 17:return h.prev=17,h.t1=h.catch(12),Un.a.error('Enqueuing job "'.concat(l.jobName,'" failed')),h.abrupt("return");case 21:a.showPluginLogs(l.pluginId),a.setRunJobAvailable(!1),r.runJobAvailableTimeout&&clearTimeout(r.runJobAvailableTimeout),setTimeout(function(){var k=a.setRunJobAvailable(!0);a.setRunJobAvailableTimeout(k)},15e3),Un.a.success("Job has been enqueued");case 26:case"end":return h.stop()}},c,null,[[1,6],[12,17]])}));function d(c){return o.apply(this,arguments)}return d}(),playButtonOnClick:function(d){var c=d.form,s=d.jobHasEmptyPayload;if(!!r.runJobAvailable){if(s){a.runJob(c);return}a.setIsJobModalOpen(!0)}}}},events:function(t){var a=t.values;return{beforeUnmount:function(){a.runJobAvailableTimeout&&clearTimeout(a.runJobAvailableTimeout)}}}}),Lt={required:!0,message:"Please enter a value!"},Ut="Export historical events";function Me(e){var t=e.jobName,a=e.jobSpec,l=e.pluginConfigId,r=e.pluginId;t===Ut&&(a.payload={dateFrom:{type:"date"},dateTo:{type:"date"}});var o={jobName:t,pluginConfigId:l,pluginId:r,jobSpecPayload:a.payload},d=Object(E.useActions)(Rn(o)),c=d.setIsJobModalOpen,s=d.runJob,i=d.playButtonOnClick,m=Object(E.useValues)(Rn(o)),g=m.runJobAvailable,p=m.isJobModalOpen,f=Object.keys(a.payload||{}).length===0,b=W.a.useForm(),v=U()(b,1),O=v[0],y=g?f?"Run job":"Configure and run job":"You already ran this job recently.";return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{style:{marginLeft:10,marginRight:5},onClick:function(){return i(O,f)}},n.a.createElement(At.a,{title:y},f?n.a.createElement(Tt.a,{className:g?"plugin-run-job-button":"plugin-run-job-button-disabled"}):n.a.createElement(_n.a,{className:g?"plugin-run-job-button":"plugin-run-job-button-disabled"}))),n.a.createElement(_t.a,{visible:p,onCancel:function(){return c(!1)},onOk:function(){return s(O)},okText:"Run job now",title:"Configuring job '".concat(t,"'")},a.payload?n.a.createElement(W.a,{form:O,layout:"vertical"},Object.entries(a.payload).map(function(h){var k=U()(h,2),w=k[0],R=k[1];return n.a.createElement("span",{key:w},n.a.createElement(W.a.Item,{style:{marginBottom:15},name:w,required:!!R.required,rules:R.required?[Lt].concat(ue()(R.type==="json"?[{validator:ye.Db}]:[])):[],label:w},R.type==="string"?n.a.createElement(he.a,null):R.type==="number"?n.a.createElement(wt.a,null):R.type==="json"?n.a.createElement(tn.a,{options:{codeLens:!1},className:"plugin-job-json-editor",language:"json",height:200}):R.type==="boolean"?n.a.createElement(ln.a.Group,{id:"propertyValue",buttonStyle:"solid"},n.a.createElement(ln.a.Button,{value:!0,defaultChecked:!0},n.a.createElement(an.a,null)," True"),n.a.createElement(ln.a.Button,{value:!1},n.a.createElement(Ln.a,null)," False")):R.type==="date"?n.a.createElement(kt.a,{popupStyle:{zIndex:1061},allowClear:!0,placeholder:"Today",className:"retention-date-picker",suffixIcon:null,use12Hours:!0,showTime:!0}):null))})):null))}try{Me.displayName="PluginJobConfiguration",Me.__docgenInfo={description:"",displayName:"PluginJobConfiguration",props:{jobName:{defaultValue:null,description:"",name:"jobName",required:!0,type:{name:"string"}},jobSpec:{defaultValue:null,description:"",name:"jobSpec",required:!0,type:{name:"JobSpec"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx#PluginJobConfiguration"]={docgenInfo:Me.__docgenInfo,name:"PluginJobConfiguration",path:"frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx#PluginJobConfiguration"})}catch(e){}function Je(e){var t=e.plugin,a=e.pluginConfigId,l=t.capabilities,r=t.public_jobs;return!l||!l.jobs||!r||r.length===0?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"l3",style:{marginTop:32}},"Jobs (Beta)"),l.jobs.map(function(o){if(o in r)return n.a.createElement("div",{key:o},o==="Export historical events"?n.a.createElement(M.a,{title:"Run this plugin on all historical events ingested until now"},n.a.createElement("i",null,"Export historical events")):n.a.createElement("i",null,o),n.a.createElement(Me,{jobName:o,jobSpec:r[o],pluginConfigId:a,pluginId:t.id}))}))}try{Je.displayName="PluginJobOptions",Je.__docgenInfo={description:"",displayName:"PluginJobOptions",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/edit/interface-jobs/PluginJobOptions.tsx#PluginJobOptions"]={docgenInfo:Je.__docgenInfo,name:"PluginJobOptions",path:"frontend/src/scenes/plugins/edit/interface-jobs/PluginJobOptions.tsx#PluginJobOptions"})}catch(e){}var Rt=u("./frontend/src/lib/constants.tsx");function Fn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,l)}return a}function xn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Fn(Object(a),!0).forEach(function(l){L()(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fn(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}window.process=Rt.r;function Ft(e){var t=e.value,a=e.onChange;return n.a.createElement(n.a.Fragment,null,n.a.createElement(bn.a,{checked:t,onChange:a}),n.a.createElement("strong",{style:{paddingLeft:10}},t?"Enabled":"Disabled"))}var xt=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(M.a,{placement:"topLeft",title:"This is a secret write-only field. Its value is not available after saving."},n.a.createElement(ft.a,{style:{marginRight:5}})))};function Nt(){var e=Object(E.useValues)(H.a),t=e.user,a=Object(E.useValues)(In.a),l=a.preflight,r=Object(E.useValues)(S),o=r.editingPlugin,d=r.loading,c=r.editingSource,s=r.editingPluginInitialChanges,i=Object(E.useActions)(S),m=i.editPlugin,g=i.savePluginConfig,p=i.uninstallPlugin,f=i.setEditingSource,b=i.generateApiKeysIfNeeded,v=i.patchPlugin,O=W.a.useForm(),y=U()(O,1),h=y[0],k=Object(G.useState)([]),w=U()(k,2),R=w[0],Fe=w[1],Oe=Object(G.useState)([]),F=U()(Oe,2),_=F[0],$=F[1];Object(G.useEffect)(function(){o?(h.setFieldsValue(xn(xn({},o.pluginConfig.config||it(o)),{},{__enabled:o.pluginConfig.enabled},s)),b(h)):h.resetFields(),ae()},[o==null?void 0:o.id,o==null?void 0:o.config_schema]);var ae=function(){Se(),xe()},Se=function(){for(var I=[],V=0,ee=Object.values(be((o==null?void 0:o.config_schema)||{}));V<ee.length;V++){var J=ee[V];if(!(!J.visible_if||!J.key)){var me=J.visible_if.every(function(ge){var le=U()(ge,2),re=le[0],oe=le[1];return fn(h,re,oe)});me||I.push(J.key)}}Fe(I)},xe=function(){for(var I=[],V=0,ee=Object.values(be((o==null?void 0:o.config_schema)||{}));V<ee.length;V++){var J=ee[V];if(!(!J.required_if||!Array.isArray(J.required_if)||!J.key)){var me=J.required_if.every(function(ge){var le=U()(ge,2),re=le[0],oe=le[1];return fn(h,re,oe)});me&&I.push(J.key)}}$(I)},Ne=function(I){return Array.isArray(I.choices)&&!!I.choices.length&&!I.choices.find(function(V){return typeof V!="string"})&&!I.secret},Ce=function(I){return I.type!=="choice"||Ne(I)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(Cn.a,{forceRender:!0,visible:!!o,onClose:function(){return m(null)},width:"min(90vw, 500px)",title:o==null?void 0:o.name,"data-attr":"plugin-drawer",footer:n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(de.b,{style:{flexGrow:1}},o&&!o.is_global&&Object(K.c)(t==null?void 0:t.organization,o.organization_id)&&n.a.createElement(jn.a,{placement:"topLeft",title:"Are you sure you wish to uninstall this plugin completely?",onConfirm:function(){return p(o.name)},okText:"Uninstall",cancelText:"Cancel",className:"plugins-popconfirm"},n.a.createElement(T.a,{style:{color:"var(--danger)",padding:4},type:"text",icon:n.a.createElement(vt.a,null),"data-attr":"plugin-uninstall"},"Uninstall")),(l==null?void 0:l.cloud)&&o&&Object(K.b)(t==null?void 0:t.organization)&&(o.is_global?n.a.createElement(M.a,{title:n.a.createElement(n.a.Fragment,null,"This plugin can currently be used by other organizations in this instance of PostHog. This action will ",n.a.createElement("b",null,"disable and hide it")," for all organizations other than yours.")},n.a.createElement(T.a,{type:"text",icon:n.a.createElement(yt.a,null),onClick:function(){return v(o.id,{is_global:!1})},style:{padding:4}},"Make local")):n.a.createElement(M.a,{title:n.a.createElement(n.a.Fragment,null,"This action will mark this plugin as installed for"," ",n.a.createElement("b",null,"all organizations")," in this instance of PostHog.")},n.a.createElement(T.a,{type:"text",icon:n.a.createElement(En.a,null),onClick:function(){return v(o.id,{is_global:!0})},style:{padding:4}},"Make global")))),n.a.createElement(de.b,null,n.a.createElement(T.a,{onClick:function(){return m(null)},"data-attr":"plugin-drawer-cancel"},"Cancel"),n.a.createElement(T.a,{type:"primary",loading:d,onClick:h.submit,"data-attr":"plugin-drawer-save"},"Save")))},n.a.createElement(W.a,{form:h,layout:"vertical",name:"basic",onFinish:g},o?n.a.createElement("div",null,n.a.createElement("div",{style:{display:"flex",marginBottom:16}},n.a.createElement(Ae,{pluginType:o.plugin_type,url:o.url,size:"large"}),n.a.createElement("div",{style:{flexGrow:1,paddingLeft:16}},Object(ye.z)(o.description),n.a.createElement("div",{style:{marginTop:5}},(o==null?void 0:o.plugin_type)==="local"&&o.url?n.a.createElement(we,{url:o.url,title:"Installed Locally"}):o.plugin_type==="source"?n.a.createElement(ke,null):null,o.url&&n.a.createElement("a",{href:o.url},n.a.createElement("i",null,"\u2937 Learn more"))),n.a.createElement("div",{style:{display:"flex",alignItems:"center",marginTop:5}},n.a.createElement(W.a.Item,{fieldKey:"__enabled",name:"__enabled",style:{display:"inline-block",marginBottom:0},"data-attr":"plugin-enabled-switch"},n.a.createElement(Ft,null))))),o.plugin_type==="source"?n.a.createElement("div",null,n.a.createElement(T.a,{type:c?"default":"primary",icon:n.a.createElement(Pn.a,null),onClick:function(){return f(!c)},"data-attr":"plugin-edit-source"},"Edit Source")):null,o.capabilities&&Object.keys(o.capabilities).length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",{className:"l3",style:{marginTop:32}},"Capabilities"),n.a.createElement("div",{style:{marginTop:5}},[].concat(ue()(o.capabilities.methods),ue()(o.capabilities.scheduled_tasks)).filter(function(j){return!["setupPlugin","teardownPlugin"].includes(j)}).map(function(j){return n.a.createElement(M.a,{title:Ct[j]||"",key:j},n.a.createElement(B.a,{className:"plugin-capabilities-tag"},j))}),o.capabilities.jobs.map(function(j){return n.a.createElement(M.a,{title:"Custom job",key:j},n.a.createElement(B.a,{className:"plugin-capabilities-tag"},j))}))):null,o.pluginConfig.id&&n.a.createElement(Je,{plugin:o,pluginConfigId:o.pluginConfig.id}),n.a.createElement("h3",{className:"l3",style:{marginTop:32}},"Configuration"),be(o.config_schema).length===0?n.a.createElement("div",null,"This plugin is not configurable."):null,be(o.config_schema).map(function(j,I){return n.a.createElement(n.a.Fragment,{key:j.key||"__key__".concat(I)},j.markdown&&n.a.createElement(Tn.a,{source:j.markdown,linkTarget:"_blank"}),j.type&&Ce(j)?n.a.createElement(W.a.Item,{hidden:!!j.key&&R.includes(j.key),label:n.a.createElement(n.a.Fragment,null,j.secret&&n.a.createElement(xt,null),j.name||j.key),extra:j.hint&&n.a.createElement("small",null,n.a.createElement("div",{style:{height:2}}),n.a.createElement(Tn.a,{source:j.hint,linkTarget:"_blank"})),name:j.key,required:j.required||!!j.key&&_.includes(j.key),rules:[{required:j.required||!!j.key&&_.includes(j.key),message:"Please enter a value!"}]},n.a.createElement(Be,{fieldConfig:j,onChange:ae})):n.a.createElement(n.a.Fragment,null,j.type?n.a.createElement("p",{style:{color:"var(--danger)"}},"Invalid config field ",n.a.createElement("i",null,j.name||j.key),"."):null))})):null)),(o==null?void 0:o.plugin_type)==="source"?n.a.createElement(Et,null):null)}var N=u("./node_modules/antd/es/row/index.js"),A=u("./node_modules/antd/es/col/index.js"),Ie=u("./node_modules/antd/es/card/index.js"),Vt=u("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Nn=u("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),zt=u("./node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),Vn=u("./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),Dt=u("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),Bt=u("./node_modules/@ant-design/icons/es/icons/UnorderedListOutlined.js"),_e=u("./node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js"),Mt=u("./node_modules/antd/es/popover/index.js"),Jt=u("./node_modules/@ant-design/icons/es/icons/ClearOutlined.js"),Ke=u("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),zn=u("./frontend/src/lib/dayjs.ts");function Le(e){var t=e.error,a=e.reset;return t?n.a.createElement(Mt.a,{title:n.a.createElement("div",{style:{textAlign:"center"}},Object(zn.a)(t.time).format("YYYY-MM-DD - HH:mm:ss")),content:n.a.createElement(n.a.Fragment,null,a?n.a.createElement(T.a,{size:"small",onClick:a,style:{float:"right",marginLeft:10}},n.a.createElement(Jt.a,null)," Delete"):null,n.a.createElement("div",null,t.name?n.a.createElement("strong",null,t.name,": "):"",t.message),t.stack?n.a.createElement(Ke.a,{wrap:!0,style:{fontSize:10},language:Ke.b.JavaScript},t.stack):null,t.event?n.a.createElement(Ke.a,{wrap:!0,style:{fontSize:10},language:Ke.b.JSON},JSON.stringify(t.event,null,2)):null),trigger:"click",placement:"top"},n.a.createElement(B.a,{color:"red",style:{cursor:"pointer"}},"ERROR")):null}try{Le.displayName="PluginError",Le.__docgenInfo={description:"",displayName:"PluginError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"PluginErrorType"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"]={docgenInfo:Le.__docgenInfo,name:"PluginError",path:"frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"})}catch(e){}function $e(e){var t=e.isCommunity;return n.a.createElement(M.a,{title:t?"This plugin was built by a community memeber, not the PostHog team.":"This plugin was built by the PostHog team."},n.a.createElement(B.a,{color:t?"cyan":"geekblue"},t?"Community":"Official"))}try{$e.displayName="CommunityPluginTag",$e.__docgenInfo={description:"",displayName:"CommunityPluginTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"]={docgenInfo:$e.__docgenInfo,name:"CommunityPluginTag",path:"frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"})}catch(e){}var Za=u("./node_modules/core-js/modules/es.string.match.js");function Dn(e){var t=e.tag;return t.match(/^[a-f0-9]{40}$/)?n.a.createElement("code",null,t.substring(0,7)):n.a.createElement("code",null,t)}function Ye(e){var t=e.url,a=e.tag,l=e.latestTag,r="";return t.match(/^https:\/\/(www.|)github.com\//)&&(r="".concat(t,"/compare/").concat(a,"...").concat(l)),t.match(/^https:\/\/(www.|)gitlab.com\//)&&(r="".concat(t,"/-/compare/").concat(a,"...").concat(l)),n.a.createElement(M.a,{title:n.a.createElement("div",null,"Installed: ",n.a.createElement(Dn,{tag:a}),n.a.createElement("br",null),"Latest: ",n.a.createElement(Dn,{tag:l}),r?n.a.createElement("div",{style:{marginTop:10}},"Click to see the diff"):null)},r?n.a.createElement("a",{href:r,target:"_blank",rel:"noreferrer noopener"},n.a.createElement(B.a,{color:"volcano",style:{cursor:"pointer"}},n.a.createElement(_e.a,null)," Update available!")):n.a.createElement(B.a,{color:"volcano"},n.a.createElement(_e.a,null)," Update available!"))}try{Ye.displayName="UpdateAvailable",Ye.__docgenInfo={description:"",displayName:"UpdateAvailable",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string"}},latestTag:{defaultValue:null,description:"",name:"latestTag",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"]={docgenInfo:Ye.__docgenInfo,name:"UpdateAvailable",path:"frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"})}catch(e){}var Kt=u("./frontend/src/lib/components/LinkButton.tsx"),He=function(t){var a=t.updateStatus,l=t.pluginId,r=t.rearranging,o=Object(E.useActions)(S),d=o.editPlugin,c=o.updatePlugin,s=Object(E.useValues)(S),i=s.pluginsUpdating;return n.a.createElement(T.a,{type:a!=null&&a.updated?"default":"primary",className:"padding-under-500",onClick:function(){return a!=null&&a.updated?d(l):c(l)},loading:i.includes(l),icon:a!=null&&a.updated?n.a.createElement(an.a,null):n.a.createElement(_e.a,null),disabled:r,"data-attr":"plugin-update"},n.a.createElement("span",{className:"show-over-500"},a!=null&&a.updated?"Updated":"Update"))};try{He.displayName="PluginUpdateButton",He.__docgenInfo={description:"",displayName:"PluginUpdateButton",props:{updateStatus:{defaultValue:null,description:"",name:"updateStatus",required:!0,type:{name:"PluginUpdateStatusType | undefined"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"]={docgenInfo:He.__docgenInfo,name:"PluginUpdateButton",path:"frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"})}catch(e){}function We(e){var t=e.url,a=e.disabled,l=a===void 0?!1:a;return n.a.createElement(de.b,null,n.a.createElement(M.a,{title:"About"},n.a.createElement(Kt.a,{to:t,target:"_blank",rel:"noopener noreferrer",disabled:l},n.a.createElement(Vt.a,null))))}function je(e){var t,a=e.plugin,l=e.error,r=e.maintainer,o=e.showUpdateButton,d=e.order,c=e.maxOrder,s=e.rearranging,i=e.DragColumn,m=i===void 0?function(pe){var cn=pe.children;return n.a.createElement(A.a,{className:"order-handle"},cn)}:i,g=e.unorderedPlugin,p=g===void 0?!1:g,f=a.name,b=a.description,v=a.url,O=a.plugin_type,y=a.pluginConfig,h=a.tag,k=a.latest_tag,w=a.id,R=a.updateStatus,Fe=a.hasMoved,Oe=a.is_global,F=a.organization_id,_=a.organization_name,$=Object(E.useActions)(S),ae=$.editPlugin,Se=$.toggleEnabled,xe=$.installPlugin,Ne=$.resetPluginConfigError,Ce=$.rearrange,j=$.showPluginLogs,I=$.showPluginMetrics,V=Object(E.useValues)(S),ee=V.loading,J=V.installingPluginUrl,me=V.checkingForUpdates,ge=V.pluginUrlToMaintainer,le=Object(E.useValues)(H.a),re=le.user,oe=r||a.url&&ge[a.url],dn=r||ge[a.url||""];return n.a.createElement(A.a,{style:{width:"100%",marginBottom:20},className:"plugins-scene-plugin-card-col".concat(s?" rearranging":""),"data-attr":"plugin-card-".concat(y?"installed":"available")},n.a.createElement(Ie.a,{className:"plugins-scene-plugin-card"},n.a.createElement(N.a,{align:"middle",className:"plugin-card-row"},typeof d=="number"&&typeof c=="number"?n.a.createElement(m,null,n.a.createElement("div",{className:"arrow".concat(d===1?" hide":"")},n.a.createElement(Nn.a,null)),n.a.createElement("div",null,n.a.createElement(B.a,{color:Fe?"#bd0225":"#555",onClick:Ce},d)),n.a.createElement("div",{className:"arrow".concat(d===c?" hide":"")},n.a.createElement(Nn.a,null))):null,p?n.a.createElement(M.a,{title:"This plugin does not do any processing in order.",placement:"topRight"},n.a.createElement(A.a,null,n.a.createElement(B.a,{color:"#555"},"-"))):null,y&&n.a.createElement(A.a,null,n.a.createElement(jn.a,{placement:"topLeft",title:"Are you sure you wish to ".concat(y.enabled?"disable":"enable"," this plugin?"),onConfirm:function(){return y.id?Se({id:y.id,enabled:!y.enabled}):ae(w||null,{__enabled:!0})},okText:"Yes",cancelText:"No",disabled:s},n.a.createElement(bn.a,{checked:(t=y.enabled)!==null&&t!==void 0?t:!1,disabled:s}))),n.a.createElement(A.a,{className:y?"hide-plugin-image-below-500":""},n.a.createElement(Ae,{pluginType:O,url:v})),n.a.createElement(A.a,{style:{flex:1}},n.a.createElement("div",null,n.a.createElement("strong",{style:{marginRight:8}},f),oe&&n.a.createElement($e,{isCommunity:dn==="community"}),y!=null&&y.error?n.a.createElement(Le,{error:y.error,reset:function(){return Ne((y==null?void 0:y.id)||0)}}):l?n.a.createElement(Le,{error:l}):null,Oe&&n.a.createElement(B.a,{color:"blue"},n.a.createElement(En.a,null)," Managed by ",_),Object(K.c)(re==null?void 0:re.organization,F)&&n.a.createElement(n.a.Fragment,null,v!=null&&v.startsWith("file:")?n.a.createElement(we,{url:v,title:"Local"}):null,R!=null&&R.error?n.a.createElement(B.a,{color:"red"},n.a.createElement(zt.a,null)," Error checking for updates"):me&&!R&&O!==X.Source&&!(v!=null&&v.startsWith("file:"))?n.a.createElement(B.a,{color:"blue"},n.a.createElement(Vn.a,null)," Checking for updates\u2026"):v&&k&&h?h===k?n.a.createElement(B.a,{color:"green"},n.a.createElement(an.a,null)," Up to date"):n.a.createElement(Ye,{url:v,tag:h,latestTag:k}):null,O===X.Source?n.a.createElement(ke,null):null)),n.a.createElement("div",null,Object(ye.z)(b))),n.a.createElement(A.a,null,n.a.createElement(de.b,null,v&&n.a.createElement(We,{url:v,disabled:s}),o&&w?n.a.createElement(He,{updateStatus:R,pluginId:w,rearranging:s}):w?n.a.createElement(n.a.Fragment,null,Object.keys(a.metrics||{}).length>0?n.a.createElement(de.b,null,n.a.createElement(M.a,{title:"Metrics"},n.a.createElement(T.a,{onClick:function(){return I(w)}},n.a.createElement(Dt.a,null)))):null,n.a.createElement(M.a,{title:y!=null&&y.id?"Logs":"Logs \u2013 enable the plugin for the first time to view them"},n.a.createElement(T.a,{className:"padding-under-500",disabled:s||!(y!=null&&y.id),onClick:function(){return j(w)},"data-attr":"plugin-logs"},n.a.createElement(Bt.a,null))),n.a.createElement(M.a,{title:"Configure"},n.a.createElement(T.a,{type:"primary",className:"padding-under-500",disabled:s,onClick:function(){return ae(w)},"data-attr":"plugin-configure"},n.a.createElement(_n.a,null)))):w?null:n.a.createElement(T.a,{type:"primary",className:"padding-under-500",loading:ee&&J===v,disabled:ee&&J!==v,onClick:v?function(){return xe(v,X.Repository)}:void 0,icon:n.a.createElement(_e.a,null),"data-attr":"plugin-install"},n.a.createElement("span",{className:"show-over-500"},"Install")))))))}try{We.displayName="PluginAboutButton",We.__docgenInfo={description:"",displayName:"PluginAboutButton",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"]={docgenInfo:We.__docgenInfo,name:"PluginAboutButton",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"})}catch(e){}try{je.displayName="PluginCard",je.__docgenInfo={description:"",displayName:"PluginCard",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"Partial<PluginTypeWithConfig>"}},pluginConfig:{defaultValue:null,description:"",name:"pluginConfig",required:!1,type:{name:"PluginConfigType"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"PluginErrorType"}},maintainer:{defaultValue:null,description:"",name:"maintainer",required:!1,type:{name:"string"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:{value:'({ children }) => <Col className="order-handle">{children}</Col>'},description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"]={docgenInfo:je.__docgenInfo,name:"PluginCard",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"})}catch(e){}var Z=u("./frontend/src/lib/components/PageHeader.tsx"),Ue=u("./node_modules/antd/es/skeleton/index.js");function Bn(){return n.a.createElement(n.a.Fragment,null,[1,2,3].map(function(e){return n.a.createElement(A.a,{key:e,style:{marginBottom:20,width:"100%"},className:"plugins-scene-plugin-card-col"},n.a.createElement(Ie.a,{className:"plugins-scene-plugin-card"},n.a.createElement(N.a,{align:"middle",className:"plugin-card-row"},n.a.createElement(A.a,{className:"hide-plugin-image-below-500"},n.a.createElement(Ue.a.Avatar,{active:!0,size:"large",shape:"square"})),n.a.createElement(A.a,{style:{flex:1}},n.a.createElement(Ue.a,{title:!1,paragraph:{rows:2},active:!0})),n.a.createElement(A.a,null,n.a.createElement("span",{className:"show-over-500"},n.a.createElement(Ue.a.Button,{style:{width:100}})),n.a.createElement("span",{className:"hide-over-500"},n.a.createElement(Ue.a.Button,{style:{width:32}}))))))}))}function Mn(){var e=Object(E.useValues)(S),t=e.searchTerm,a=e.rearranging,l=Object(E.useActions)(S),r=l.setSearchTerm;return n.a.createElement(he.a.Search,{"data-attr":"plugins-search",placeholder:"Start typing to search for a plugin",autoFocus:!0,value:t||"",onChange:function(d){return r(d.target.value)},enterButton:!0,allowClear:!0,style:{maxWidth:400,marginTop:5,marginBottom:10},disabled:a})}var Re=u("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),Ee=u("./node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js"),q;(function(e){e.Official="official",e.Community="community"})(q||(q={}));function $t(){var e=Object(E.useValues)(S),t=e.repositoryLoading,a=e.filteredUninstalledPlugins,l=Object(G.useState)([q.Official,q.Community]),r=U()(l,2),o=r[0],d=r[1],c=a.filter(function(m){return m.maintainer==="official"}),s=a.filter(function(m){return m.maintainer==="community"}),i=function(g){if(o.includes(g)){d(o.filter(function(p){return g!==p}));return}d([].concat(ue()(o),[g]))};return n.a.createElement("div",null,n.a.createElement(Z.b,{subtitle:"Plugin Repository"}),n.a.createElement(Mn,null),n.a.createElement("div",null,(!t||a.length>0)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{gutter:16,style:{marginTop:16,display:"block"}},n.a.createElement("div",{className:"plugins-repository-tab-section-header",onClick:function(){return i(q.Official)}},n.a.createElement(Z.b,{subtitle:n.a.createElement(n.a.Fragment,null,o.includes(q.Official)?n.a.createElement(Re.a,null):n.a.createElement(Ee.a,null)," Official Plugins (".concat(c.length,")"))})),o.includes(q.Official)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a,{span:24},c.length>0?"Official plugins are built and maintained by the PostHog team.":"You have already installed all official plugins!"),n.a.createElement("br",null),c.map(function(m){return n.a.createElement(je,{key:m.url,plugin:{name:m.name,url:m.url,description:m.description},maintainer:m.maintainer})}))),n.a.createElement(N.a,{gutter:16,style:{marginTop:16,display:"block"}},n.a.createElement("div",{className:"plugins-repository-tab-section-header",onClick:function(){return i(q.Community)}},n.a.createElement(Z.b,{subtitle:n.a.createElement(n.a.Fragment,null,o.includes(q.Community)?n.a.createElement(Re.a,null):n.a.createElement(Ee.a,null)," Community Plugins (".concat(s.length,")"))})),o.includes(q.Community)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a,{span:24},s.length>0?n.a.createElement("span",null,"Community plugins are not built nor maintained by the PostHog team."," ",n.a.createElement("a",{href:"https://posthog.com/docs/plugins/build",target:"_blank",rel:"noopener"},"Anyone, including you, can build a plugin.")):"You have already installed all community plugins!"),n.a.createElement("br",null),s.map(function(m){return n.a.createElement(je,{key:m.url,plugin:{name:m.name,url:m.url,description:m.description},maintainer:m.maintainer})}))))),t&&a.length===0&&n.a.createElement(N.a,{gutter:16},n.a.createElement(Bn,null)))}var Yt=u("./node_modules/antd/es/checkbox/index.js"),Ht=u("./node_modules/antd/lib/input/Search.js"),Wt=u.n(Ht),Gt=u("./frontend/src/lib/components/ResizableTable/index.tsx"),Pe=u("./frontend/src/types.ts"),Jn=u("./frontend/src/scenes/plugins/plugin/pluginLogsLogic.ts");function Xt(e){var t;switch(e){case Pe.y.Debug:t="var(--muted)";break;case Pe.y.Log:t="var(--text-default)";break;case Pe.y.Info:t="var(--blue)";break;case Pe.y.Warn:t="var(--warning)";break;case Pe.y.Error:t="var(--danger)";break;default:break}return n.a.createElement("span",{style:{color:t}},e)}var Qt=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",span:3,render:function(t){return Object(zn.a)(t).format("YYYY-MM-DD HH:mm:ss.SSS UTC")}},{title:"Source",key:"source",dataIndex:"source",span:1},{title:"Type",key:"type",dataIndex:"type",span:1,render:Xt},{title:"Message",key:"message",dataIndex:"message",span:6}];function Ge(e){var t=e.pluginConfigId,a=Object(Jn.b)({pluginConfigId:t}),l=Object(E.useValues)(a),r=l.pluginLogs,o=l.pluginLogsLoading,d=l.pluginLogsBackground,c=l.isThereMoreToLoad,s=l.pluginLogsTypes,i=Object(E.useActions)(a),m=i.revealBackground,g=i.loadPluginLogsMore,p=i.setPluginLogsTypes,f=i.setSearchTerm;return n.a.createElement(de.b,{direction:"vertical",style:{flexGrow:1},className:"ph-no-capture plugin-logs"},n.a.createElement(N.a,null,n.a.createElement(Wt.a,{loading:o,onSearch:f,placeholder:"Search for messages containing\u2026",allowClear:!0})),n.a.createElement(N.a,null,n.a.createElement(de.b,null,n.a.createElement("span",null,"Show logs of type:\xA0"),n.a.createElement(Yt.a.Group,{options:Object.values(Pe.y),value:s,onChange:p,style:{marginLeft:"8px"}}))),n.a.createElement(N.a,null,n.a.createElement(T.a,{onClick:m,loading:o,style:{flexGrow:1},disabled:!d.length,icon:n.a.createElement(Vn.a,null)},d.length?"Load ".concat(Object(ye.qb)(d.length,"newer entry","newer entries")):"No new entries")),n.a.createElement(Gt.b,{dataSource:r,columns:Qt,loading:o,size:"small",className:"ph-no-capture",rowKey:"id",style:{flexGrow:1},pagination:{pageSize:200,hideOnSinglePage:!0}}),!!r.length&&n.a.createElement(N.a,null,n.a.createElement(T.a,{onClick:g,loading:o,style:{flexGrow:1},disabled:!c},c?"Load up to ".concat(Jn.a," older entries"):"No older entries")))}try{Ge.displayName="PluginLogs",Ge.__docgenInfo={description:"",displayName:"PluginLogs",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"]={docgenInfo:Ge.__docgenInfo,name:"PluginLogs",path:"frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"})}catch(e){}var Kn=u("./node_modules/antd/es/drawer/index.js");function Zt(){var e=Object(E.useValues)(S),t=e.showingLogsPlugin,a=e.lastShownLogsPlugin,l=Object(E.useActions)(S),r=l.hidePluginLogs;return n.a.createElement(Kn.a,{visible:!!t,onClose:r,width:"min(90vw, 80rem)",title:"Viewing Plugin Logs: ".concat(a==null?void 0:a.name),placement:"left",destroyOnClose:!0},!!a&&n.a.createElement(Ge,{pluginConfigId:a.pluginConfig.id}))}var qt=u("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/plugin/styles/metrics-drawer.scss"),$n=u.n(qt),rn={};rn.insert="head",rn.singleton=!1;var qa=fe()($n.a,rn),el=$n.a.locals||{},ea=u("./frontend/src/scenes/trends/viz/index.ts"),na=u("./frontend/src/scenes/insights/insightLogic.ts");function Yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,l)}return a}function Hn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Yn(Object(a),!0).forEach(function(l){L()(e,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yn(Object(a)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(a,l))})}return e}var ta={insight:"TRENDS",interval:"day",display:"ActionsLineGraph",filter_test_accounts:!1,actions:[],new_entity:[],date_from:"-30d",refresh:!0};function Xe(e){var t=e.plugin,a=Object.entries(t.metrics||{}).map(function(d){var c=U()(d,2),s=c[0],i=c[1];return{math:i,id:"$$plugin_metrics",name:"$$plugin_metrics",type:"events",order:0,math_property:s}}),l={key:"plugin_name",value:[t.name],operator:"exact",type:"event"},r=t.tag?{key:"plugin_tag",value:[t.tag],operator:"exact",type:"event"}:{},o=Hn(Hn({},ta),{},{events:a,properties:[l,r]});return n.a.createElement("div",{className:"metrics-chart-wrapper"},n.a.createElement(E.BindLogic,{logic:na.c,props:{filters:o,dashboardItemId:"new"}},n.a.createElement(ea.b,{showPersonsModal:!1})))}try{Xe.displayName="MetricsChart",Xe.__docgenInfo={description:"",displayName:"MetricsChart",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/MetricsChart.tsx#MetricsChart"]={docgenInfo:Xe.__docgenInfo,name:"MetricsChart",path:"frontend/src/scenes/plugins/plugin/MetricsChart.tsx#MetricsChart"})}catch(e){}function aa(){var e=Object(E.useValues)(S),t=e.showingMetricsPlugin,a=Object(E.useActions)(S),l=a.hidePluginMetrics;return n.a.createElement(Kn.a,{visible:!!t,onClose:l,width:"min(90vw, 80rem)",title:"Plugin Metrics".concat(t?": ".concat(t.name):""),placement:"left",destroyOnClose:!0,className:"metrics-drawer"},t?n.a.createElement(Xe,{plugin:t}):null)}var la=u("./node_modules/antd/es/empty/index.js");function ra(){var e=Object(E.useActions)(S),t=e.setPluginTab,a=Object(E.useValues)(S),l=a.loading,r=Object(E.useValues)(H.a),o=r.user;return n.a.createElement(n.a.Fragment,null,l?n.a.createElement(n.a.Fragment,null,n.a.createElement(Z.b,{subtitle:n.a.createElement(n.a.Fragment,null," ",n.a.createElement(Ee.a,null)," ","Enabled plugins"," "),buttons:n.a.createElement(Ue.a.Button,{style:{width:150}})}),n.a.createElement(Bn,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(Z.b,{subtitle:"Installed plugins"}),n.a.createElement(N.a,{gutter:16,style:{marginTop:16}},n.a.createElement(A.a,{span:24},n.a.createElement(la.a,{description:n.a.createElement("span",null,"You haven't installed any plugins yet")},Object(K.b)(o==null?void 0:o.organization)&&n.a.createElement(T.a,{type:"default",onClick:function(){return t(Q.Repository)}},"Open the Plugin Repository"))))))}function ce(e){var t=e.plugin,a=e.showUpdateButton,l=e.order,r=e.maxOrder,o=e.rearranging,d=e.DragColumn,c=e.unorderedPlugin,s=c===void 0?!1:c;return n.a.createElement(je,{key:t.id,plugin:t,showUpdateButton:a,order:l,maxOrder:r,rearranging:o,DragColumn:d,unorderedPlugin:s})}try{ce.displayName="InstalledPlugin",ce.__docgenInfo={description:"",displayName:"InstalledPlugin",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:null,description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"]={docgenInfo:ce.__docgenInfo,name:"InstalledPlugin",path:"frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"})}catch(e){}function oa(){var e=Object(E.useValues)(S),t=e.filteredDisabledPlugins,a=e.sectionsOpen,l=e.disabledPlugins,r=Object(E.useActions)(S),o=r.toggleSectionOpen;return l.length===0?n.a.createElement(n.a.Fragment,null):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"plugins-installed-tab-section-header",onClick:function(){return o(x.Disabled)}},n.a.createElement(Z.b,{subtitle:n.a.createElement(n.a.Fragment,null,a.includes(x.Disabled)?n.a.createElement(Re.a,null):n.a.createElement(Ee.a,null)," Installed plugins (".concat(t.length,")"))})),a.includes(x.Disabled)?n.a.createElement(n.a.Fragment,null,t.length>0?n.a.createElement(N.a,{gutter:16,style:{marginTop:16}},t.map(function(d){return n.a.createElement(ce,{key:d.id,plugin:d})})):n.a.createElement("p",{style:{margin:10}},"No plugins match your search.")):null)}var ia=u("./node_modules/@ant-design/icons/es/icons/SyncOutlined.js");function sa(){var e=Object(E.useActions)(S),t=e.checkForUpdates,a=e.toggleSectionOpen,l=Object(E.useValues)(S),r=l.sectionsOpen,o=Object(E.useValues)(H.a),d=o.user,c=Object(E.useValues)(S),s=c.filteredPluginsNeedingUpdates,i=c.pluginsNeedingUpdates,m=c.checkingForUpdates,g=c.installedPluginUrls,p=c.updateStatus,f=c.rearranging,b=c.hasUpdatablePlugins,v=Object(K.c)(d==null?void 0:d.organization)&&b&&n.a.createElement(T.a,{type:"default",icon:i.length>0?n.a.createElement(ia.a,null):n.a.createElement(_e.a,null),onClick:function(y){y.stopPropagation(),t(!0)},loading:m},m?"Checking plugin ".concat(Object.keys(p).length+1," out of ").concat(Object.keys(g).length):i.length>0?"Check again for updates":"Check for updates");return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"plugins-installed-tab-section-header",onClick:function(){return a(x.Upgrade)}},n.a.createElement(Z.b,{subtitle:n.a.createElement(n.a.Fragment,null,r.includes(x.Upgrade)?n.a.createElement(Re.a,null):n.a.createElement(Ee.a,null)," Plugins to update (".concat(s.length,")")),buttons:!f&&r.includes(x.Upgrade)&&v})),r.includes(x.Upgrade)?n.a.createElement(n.a.Fragment,null,i.length>0?n.a.createElement(N.a,{gutter:16,style:{marginTop:16}},s.length>0?n.a.createElement(n.a.Fragment,null,s.map(function(O){return n.a.createElement(ce,{key:O.id,plugin:O,showUpdateButton:!0})})):n.a.createElement("p",{style:{margin:10}},"No plugins match your search.")):n.a.createElement("p",{style:{margin:10}},"All your plugins are up to date. Great work!")):null)}var nl=u("./node_modules/core-js/modules/es.array.splice.js"),ua=u("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),da=u("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),on=u("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js");function ca(e,t){var a;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(a=ma(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(i){throw i},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,d=!1,c;return{s:function(){a=e[Symbol.iterator]()},n:function(){var i=a.next();return o=i.done,i},e:function(i){d=!0,c=i},f:function(){try{!o&&a.return!=null&&a.return()}finally{if(d)throw c}}}}function ma(e,t){if(!!e){if(typeof e=="string")return Wn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Wn(e,t)}}function Wn(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}var ga=Object(on.c)(function(e){var t=e.children;return n.a.createElement(A.a,{className:"order-handle"},t)}),pa=Object(on.b)(function(e){var t=e.plugin,a=e.order,l=e.maxOrder,r=e.rearranging;return n.a.createElement(ce,{plugin:t,order:a,maxOrder:l,rearranging:r,DragColumn:ga})}),fa=Object(on.a)(function(e){var t=e.children;return n.a.createElement(N.a,{gutter:16,style:{marginTop:16}},t)});function va(){var e=Object(E.useValues)(H.a),t=e.user,a=Object(E.useActions)(S),l=a.rearrange,r=a.setTemporaryOrder,o=a.cancelRearranging,d=a.savePluginOrders,c=a.makePluginOrderSaveable,s=a.toggleSectionOpen,i=Object(E.useValues)(S),m=i.enabledPlugins,g=i.filteredEnabledPlugins,p=i.sortableEnabledPlugins,f=i.unsortableEnabledPlugins,b=i.rearranging,v=i.loading,O=i.temporaryOrder,y=i.pluginOrderSaveable,h=i.searchTerm,k=i.sectionsOpen,w=Object(K.a)(t==null?void 0:t.organization)&&p.length>1,R=b?n.a.createElement(n.a.Fragment,null,n.a.createElement(T.a,{type:"primary",icon:n.a.createElement(ua.a,null),loading:v,onClick:function(_){_.stopPropagation(),d(O)},disabled:!y},"Save order"),n.a.createElement(T.a,{type:"default",icon:n.a.createElement(Ln.a,null),onClick:function(_){o(),_.stopPropagation()}},"Cancel")):n.a.createElement(M.a,{title:m.length<=1?"At least two plugins need to be enabled for reordering.":n.a.createElement(n.a.Fragment,null,h?"Editing the order of plugins is disabled when searching.":n.a.createElement(n.a.Fragment,null,"Order matters because event processing with plugins works like a pipe: the event is processed by every enabled plugin ",n.a.createElement("b",null,"in sequence"),".")),placement:"top"},n.a.createElement(T.a,{icon:n.a.createElement(da.a,null),onClick:function(_){_.stopPropagation(),l()},disabled:!!h||p.length<=1},"Edit order")),Fe=function(_){var $,ae=_.oldIndex,Se=_.newIndex;if(ae!==Se){var xe=function(ge,le,re){var oe=ue()(ge);return Array.prototype.splice.call(oe,re,0,Array.prototype.splice.call(oe,le,1)[0]),oe.map(function(dn,pe){var cn=dn.id;return{id:cn,order:pe+1}})},Ne=($=m[ae])===null||$===void 0?void 0:$.id,Ce={},j=ca(xe(m,ae,Se)),I;try{for(j.s();!(I=j.n()).done;){var V=I.value,ee=V.id,J=V.order;Ce[ee]=J}}catch(me){j.e(me)}finally{j.f()}b||l(),r(Ce,Ne)}},Oe=function(){return n.a.createElement("div",{className:"plugins-installed-tab-section-header",onClick:function(){return s(x.Enabled)}},n.a.createElement(Z.b,{subtitle:n.a.createElement(n.a.Fragment,null,k.includes(x.Enabled)?n.a.createElement(Re.a,null):n.a.createElement(Ee.a,null)," Enabled plugins (".concat(g.length,")"),b&&k.includes(x.Enabled)&&n.a.createElement(B.a,{color:"red",style:{fontWeight:"normal",marginLeft:10}},"Reordering in progress")),buttons:n.a.createElement(de.b,null,k.includes(x.Enabled)&&R)}))};return m.length===0?n.a.createElement(n.a.Fragment,null,n.a.createElement(Oe,null),k.includes(x.Enabled)&&n.a.createElement("p",{style:{margin:10}},"No plugins enabled.")):n.a.createElement(n.a.Fragment,null,n.a.createElement(Oe,null),k.includes(x.Enabled)&&n.a.createElement(n.a.Fragment,null,p.length===0&&f.length===0&&n.a.createElement("p",{style:{margin:10}},"No plugins match your search."),w||b?n.a.createElement(n.a.Fragment,null,p.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement(fa,{useDragHandle:!0,onSortEnd:Fe,onSortOver:c},p.map(function(F,_){return n.a.createElement(pa,{key:F.id,plugin:F,index:_,order:_+1,maxOrder:m.length,rearranging:b})})))):n.a.createElement(N.a,{gutter:16,style:{marginTop:16}},p.length>0&&n.a.createElement(n.a.Fragment,null,p.map(function(F,_){return n.a.createElement(ce,{key:F.id,plugin:F,order:_+1,maxOrder:g.length})}))),f.map(function(F){return n.a.createElement(ce,{key:F.id,plugin:F,maxOrder:m.length,rearranging:b,unorderedPlugin:!0})})))}function Gn(){var e=Object(E.useValues)(S),t=e.installedPlugins;return t.length===0?n.a.createElement(ra,null):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(Mn,null),n.a.createElement(sa,null),n.a.createElement(va,null),n.a.createElement(oa,null)),n.a.createElement(Zt,null),n.a.createElement(aa,null))}var Xn=u("./node_modules/antd/es/tabs/index.js"),ya=u("./node_modules/antd/es/alert/index.js"),ha=u("./node_modules/antd/lib/typography/Title.js"),sn=u.n(ha),ba=u("./node_modules/antd/lib/typography/Paragraph.js"),un=u.n(ba);function ja(){var e=Object(E.useValues)(S),t=e.sourcePluginName,a=e.pluginError,l=e.loading,r=Object(E.useActions)(S),o=r.setSourcePluginName,d=r.installPlugin;return n.a.createElement("div",{style:{marginTop:16}},n.a.createElement(Ie.a,null,n.a.createElement(sn.a,{level:5},"Plugin Editor"),n.a.createElement(un.a,null,"Write your plugin directly in PostHog."," ",n.a.createElement("a",{href:"https://posthog.com/docs/plugins/overview",target:"_blank"},"Read the documentation for more information!")),n.a.createElement(N.a,{style:{width:"100%"},gutter:16},n.a.createElement(A.a,{style:{flex:1}},n.a.createElement(he.a,{value:t,disabled:l,onChange:function(s){return o(s.target.value)},placeholder:'For example: "Hourly Weather Sync Plugin"'})),n.a.createElement(A.a,null,n.a.createElement(T.a,{disabled:l||!t,loading:l,type:"default",onClick:function(){return d(t,X.Source)}},"Start Coding"))),a?n.a.createElement("p",{style:{color:"var(--red)",marginTop:10}},a):null))}function Ea(){var e=Object(E.useValues)(S),t=e.customPluginUrl,a=e.pluginError,l=e.loading,r=Object(E.useActions)(S),o=r.setCustomPluginUrl,d=r.installPlugin;return n.a.createElement("div",{style:{marginTop:16}},n.a.createElement(Ie.a,null,n.a.createElement(sn.a,{level:5},"Install from GitHub, GitLab or npm"),n.a.createElement(un.a,null,"To install a third-party or custom plugin, paste its URL below. For"," ",n.a.createElement("a",{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer"},"GitHub"),", ",n.a.createElement("a",{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",rel:"noopener noreferrer"},"GitLab")," and ",n.a.createElement("a",{href:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",rel:"noopener noreferrer"},"npm")," ","private repositories, append ",n.a.createElement("code",null,"?private_token=TOKEN")," to the end of the URL.",n.a.createElement("br",null),n.a.createElement("b",{className:"text-warning"},"Warning: Only install plugins from trusted sources.")),n.a.createElement(N.a,{style:{width:"100%"},gutter:16},n.a.createElement(A.a,{style:{flex:1}},n.a.createElement(he.a,{value:t,disabled:l,onChange:function(s){return o(s.target.value)},placeholder:"https://github.com/user/repo"})),n.a.createElement(A.a,null,n.a.createElement(T.a,{disabled:l||!t,loading:l,type:"default",onClick:function(){return d(t,X.Custom)}},"Fetch and install"))),a?n.a.createElement("p",{style:{color:"var(--red)",marginTop:10}},a):null))}function Pa(){var e=Object(E.useValues)(S),t=e.localPluginUrl,a=e.pluginError,l=e.loading,r=Object(E.useActions)(S),o=r.setLocalPluginUrl,d=r.installPlugin;return n.a.createElement("div",{style:{marginTop:16}},n.a.createElement(Ie.a,null,n.a.createElement(sn.a,{level:5},"Install Local Plugin"),n.a.createElement(un.a,null,"To install a local plugin from this computer/server, give its full path below."),n.a.createElement(N.a,{style:{width:"100%"},gutter:16},n.a.createElement(A.a,{style:{flex:1}},n.a.createElement(he.a,{value:t,disabled:l,onChange:function(s){return o(s.target.value)},placeholder:"/var/posthog/plugins/helloworldplugin"})),n.a.createElement(A.a,null,n.a.createElement(T.a,{disabled:l||!t,loading:l,type:"default",onClick:function(){return d(t,X.Local)}},"Install"))),a?n.a.createElement("p",{style:{color:"var(--red)",marginTop:10}},a):null))}function Oa(){var e=Object(E.useValues)(In.a),t=e.preflight,a=Object(E.useActions)(S),l=a.setPluginTab;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ya.a,{message:"Advanced Features Ahead",description:n.a.createElement(n.a.Fragment,null,"Create and install your ",n.a.createElement("b",null,"own plugins")," or plugins from ",n.a.createElement("b",null,"third-parties"),". If you're looking for officially supported plugins, try the"," ",n.a.createElement("a",{href:"#",onClick:function(o){o.preventDefault(),l(Q.Repository)}},"Plugin Repository"),"."),type:"warning",showIcon:!0}),n.a.createElement(Z.b,{subtitle:"Advanced Options"}),n.a.createElement(ja,null),n.a.createElement(Ea,null),t&&!t.cloud&&n.a.createElement(Pa,null))}var Sa={component:Qn,logic:S};function Qn(){var e=Object(E.useValues)(H.a),t=e.user,a=Object(E.useValues)(S),l=a.pluginTab,r=Object(E.useActions)(S),o=r.setPluginTab,d=Xn.a.TabPane;return Object(G.useEffect)(function(){Object(K.d)(t==null?void 0:t.organization)||(window.location.href="/")},[t]),!t||!Object(K.d)(t==null?void 0:t.organization)?null:n.a.createElement("div",{className:"plugins-scene"},n.a.createElement(Z.a,{title:"Plugins",caption:n.a.createElement(n.a.Fragment,null,"Plugins enable you to extend PostHog's core data processing functionality.",n.a.createElement("br",null),"Make use of verified plugins from the"," ",n.a.createElement("a",{href:"https://posthog.com/plugins",target:"_blank"},"Plugin Library")," ","\u2013 or"," ",n.a.createElement("a",{href:"https://posthog.com/docs/plugins/build",target:"_blank"},"build your own"),".")}),Object(K.c)(t.organization)?n.a.createElement(Xn.a,{activeKey:l,onChange:function(s){return o(s)}},n.a.createElement(d,{tab:"Installed",key:Q.Installed},n.a.createElement(Gn,null)),Object(K.b)(t.organization)&&n.a.createElement(d,{tab:"Repository",key:Q.Repository},n.a.createElement($t,null)),n.a.createElement(d,{tab:"Advanced",key:Q.Advanced},n.a.createElement(Oa,null))):n.a.createElement(Gn,null),n.a.createElement(Nt,null))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss":function(ie,Y,u){var ne=u("./node_modules/css-loader/dist/runtime/api.js");Y=ne(!1),Y.push([ie.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.plugins-scene{padding-bottom:60px}.plugins-installed-tab-section-header:hover,.plugins-repository-tab-section-header:hover{cursor:pointer}.plugins-repository-tab-section-header{margin-left:5px}.plugin-capabilities-tag{cursor:default}.plugins-scene-plugin-card>.ant-card-body{padding:15px}.plugins-scene-plugin-card .plugin-card-row>.ant-col{margin-right:14px}.plugins-scene-plugin-card .plugin-card-row>.ant-col:last-child{margin-right:0}.plugins-scene-plugin-card a.plugin-title-link{color:var(--color-text)}.plugins-scene-plugin-card a.plugin-title-link:hover{text-decoration:underline}.plugins-scene-plugin-card .plugin-image{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;border:none;padding:4px}.plugins-scene-plugin-card .order-handle{cursor:move;text-align:center;height:100%;margin-top:-10px;margin-bottom:-10px}.plugins-scene-plugin-card .order-handle .ant-tag{margin-right:0;cursor:move}.plugins-scene-plugin-card .order-handle .arrow{color:#888;height:19px}.plugins-scene-plugin-card .order-handle .arrow.hide{visibility:hidden}.plugins-scene-plugin-card .hide-over-500{display:none}@media(max-width:500px){.plugins-scene-plugin-card .show-over-500{display:none}.plugins-scene-plugin-card .hide-over-500{display:inline-block}.plugins-scene-plugin-card button.ant-btn.padding-under-500{padding:4px 8px}.plugins-scene-plugin-card .hide-plugin-image-below-500{display:none}}.plugins-popconfirm{z-index:1001}.plugin-job-json-editor{border:1px solid #efefef;padding:10px}.plugin-run-job-button{color:#77b96c;cursor:pointer}.plugin-run-job-button-disabled{color:#9a9a9a;cursor:default}",""]),ie.exports=Y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/plugin/styles/metrics-drawer.scss":function(ie,Y,u){var ne=u("./node_modules/css-loader/dist/runtime/api.js");Y=ne(!1),Y.push([ie.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.metrics-drawer{z-index:950}.metrics-drawer .metrics-chart-wrapper canvas{max-width:90%;max-height:80%}.metrics-drawer .metrics-chart-wrapper canvas:hover{cursor:default!important}",""]),ie.exports=Y},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(ie,Y,u){var ne={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn-bd":"./node_modules/moment/locale/bn-bd.js","./bn-bd.js":"./node_modules/moment/locale/bn-bd.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-in":"./node_modules/moment/locale/en-in.js","./en-in.js":"./node_modules/moment/locale/en-in.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./en-sg":"./node_modules/moment/locale/en-sg.js","./en-sg.js":"./node_modules/moment/locale/en-sg.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-mx":"./node_modules/moment/locale/es-mx.js","./es-mx.js":"./node_modules/moment/locale/es-mx.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fil":"./node_modules/moment/locale/fil.js","./fil.js":"./node_modules/moment/locale/fil.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./ga":"./node_modules/moment/locale/ga.js","./ga.js":"./node_modules/moment/locale/ga.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-deva":"./node_modules/moment/locale/gom-deva.js","./gom-deva.js":"./node_modules/moment/locale/gom-deva.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it-ch":"./node_modules/moment/locale/it-ch.js","./it-ch.js":"./node_modules/moment/locale/it-ch.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ku":"./node_modules/moment/locale/ku.js","./ku.js":"./node_modules/moment/locale/ku.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./oc-lnc":"./node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"./node_modules/moment/locale/oc-lnc.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tk":"./node_modules/moment/locale/tk.js","./tk.js":"./node_modules/moment/locale/tk.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-mo":"./node_modules/moment/locale/zh-mo.js","./zh-mo.js":"./node_modules/moment/locale/zh-mo.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function fe(te){var se=Ve(te);return u(se)}function Ve(te){if(!u.o(ne,te)){var se=new Error("Cannot find module '"+te+"'");throw se.code="MODULE_NOT_FOUND",se}return ne[te]}fe.keys=function(){return Object.keys(ne)},fe.resolve=Ve,ie.exports=fe,fe.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"}}]);
