"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[55458],{"./frontend/src/scenes/error-tracking/ErrorTrackingFilters.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>ErrorTrackingFilters});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/components/TaxonomicFilter/types.ts"),lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/components/UniversalFilters/UniversalFilters.tsx"),lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/components/UniversalFilters/universalFiltersLogic.ts"),scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/insights/filters/TestAccountFilter/index.ts"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingSceneLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let ErrorTrackingFilters=_ref=>{let{showOrder=!0}=_ref,{dateRange,filterGroup,filterTestAccounts}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_7__.H),{setDateRange,setFilterGroup,setFilterTestAccounts}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_7__.H),{order}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_8__.D),{setOrder}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_8__.D);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z,{rootKey:"session-recordings",group:filterGroup,taxonomicGroupTypes:[lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__.t.PersonProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__.t.Cohorts],onChange:filterGroup=>{setFilterGroup(filterGroup)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"divide-y bg-bg-light rounded border",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"flex flex-1 items-center space-x-2 px-2 py-1.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(RecordingsUniversalFilterGroup,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z.AddFilterButton,{type:"secondary",size:"small"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"flex space-x-1 justify-between px-2 py-1.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"flex space-x-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_2__.f,{dateFrom:dateRange.date_from,dateTo:dateRange.date_to,onChange:(changedDateFrom,changedDateTo)=>{setDateRange({date_from:changedDateFrom,date_to:changedDateTo})},size:"small"}),showOrder&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonSelect,{onSelect:setOrder,onChange:setOrder,value:order,options:[{value:"last_seen",label:"Last seen"},{value:"first_seen",label:"First seen"},{value:"unique_occurrences",label:"Occurrences"},{value:"unique_users",label:"Users"},{value:"unique_sessions",label:"Sessions"}],size:"small"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_6__.z,{filters:{filter_test_accounts:filterTestAccounts},onChange:_ref2=>{let{filter_test_accounts}=_ref2;setFilterTestAccounts(filter_test_accounts||!1)},size:"small"})})]})]})})},RecordingsUniversalFilterGroup=()=>{let{filterGroup}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_5__.d),{replaceGroupValue,removeGroupValue}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_5__.d),values=filterGroup.values;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:values.map((filter,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_4__.Z.Value,{index:index,filter:filter,onRemove:()=>removeGroupValue(index),onChange:value=>replaceGroupValue(index,value)},index))})}},"./frontend/src/scenes/error-tracking/ErrorTrackingScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingScene:()=>ErrorTrackingScene,scene:()=>scene});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_urls__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/scenes/urls.ts"),_queries_Query_Query__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/queries/Query/Query.tsx"),_ErrorTrackingFilters__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/error-tracking/ErrorTrackingFilters.tsx"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/scenes/error-tracking/errorTrackingSceneLogic.ts"),_queries__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/scenes/error-tracking/queries.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:ErrorTrackingScene,logic:_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_7__.D};function ErrorTrackingScene(){let{order}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_errorTrackingSceneLogic__WEBPACK_IMPORTED_MODULE_7__.D),{dateRange,filterTestAccounts,filterGroup}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_6__.H),query=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>(0,_queries__WEBPACK_IMPORTED_MODULE_8__.m)({order,dateRange,filterTestAccounts,filterGroup}),[order,dateRange,filterTestAccounts,filterGroup]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_ErrorTrackingFilters__WEBPACK_IMPORTED_MODULE_5__.n,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_queries_Query_Query__WEBPACK_IMPORTED_MODULE_4__.A,{query:query,context:{columns:{"any(properties) -- Error":{width:"50%",render:CustomGroupTitleColumn}},showOpenEditorButton:!1}})]})}let CustomGroupTitleColumn=props=>{let{value}=props,properties=JSON.parse(value);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_1__.i,{title:properties.$exception_type,description:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("div",{className:"line-clamp-1",children:properties.$exception_message}),to:scenes_urls__WEBPACK_IMPORTED_MODULE_3__.j.errorTrackingGroup(properties.$exception_type)})}},"./frontend/src/scenes/error-tracking/errorTrackingLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>errorTrackingLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/types.ts");let errorTrackingLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","error-tracking","errorTrackingLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setDateRange:dateRange=>({dateRange}),setOrder:order=>({order}),setFilterGroup:filterGroup=>({filterGroup}),setFilterTestAccounts:filterTestAccounts=>({filterTestAccounts})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({dateRange:[{date_from:"-7d",date_to:null},{persist:!0},{setDateRange:(_,_ref)=>{let{dateRange}=_ref;return dateRange}}],order:["last_seen",{persist:!0},{setOrder:(_,_ref2)=>{let{order}=_ref2;return order}}],filterGroup:[{type:_types__WEBPACK_IMPORTED_MODULE_1__.J2.And,values:[]},{persist:!0},{setFilterGroup:(_,_ref3)=>{let{filterGroup}=_ref3;return filterGroup}}],filterTestAccounts:[!1,{persist:!0},{setFilterTestAccounts:(_,_ref4)=>{let{filterTestAccounts}=_ref4;return filterTestAccounts}}]})])},"./frontend/src/scenes/error-tracking/errorTrackingSceneLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>errorTrackingSceneLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js");let errorTrackingSceneLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","error-tracking","errorTrackingSceneLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setOrder:order=>({order})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({order:["last_seen",{persist:!0},{setOrder:(_,_ref)=>{let{order}=_ref;return order}}]})])},"./frontend/src/scenes/error-tracking/queries.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>errorTrackingGroupQuery,m:()=>errorTrackingQuery});var _queries_schema__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/queries/schema.ts");let errorTrackingQuery=_ref=>{let{order,dateRange,filterTestAccounts,filterGroup}=_ref;return{kind:_queries_schema__WEBPACK_IMPORTED_MODULE_0__.OH.DataTableNode,source:{kind:_queries_schema__WEBPACK_IMPORTED_MODULE_0__.OH.EventsQuery,select:["any(properties) -- Error","properties.$exception_type","count() as unique_occurrences -- Occurrences","count(distinct $session_id) as unique_sessions -- Sessions","count(distinct distinct_id) as unique_users -- Users","max(timestamp) as last_seen","min(timestamp) as first_seen"],orderBy:[order],...defaultProperties({dateRange,filterTestAccounts,filterGroup})},hiddenColumns:["properties.$exception_type","first_value(properties)","max(timestamp) as last_seen","min(timestamp) as first_seen"],showActions:!1,showTimings:!1}},errorTrackingGroupQuery=_ref2=>{let{group,dateRange,filterTestAccounts,filterGroup}=_ref2;return{kind:_queries_schema__WEBPACK_IMPORTED_MODULE_0__.OH.EventsQuery,select:["properties","timestamp","person"],where:[`properties.$exception_type = '${group}'`],...defaultProperties({dateRange,filterTestAccounts,filterGroup})}},defaultProperties=_ref3=>{let{dateRange,filterTestAccounts,filterGroup}=_ref3,properties=filterGroup.values;return{event:"$exception",after:dateRange.date_from||void 0,before:dateRange.date_to||void 0,filterTestAccounts,properties}}}}]);