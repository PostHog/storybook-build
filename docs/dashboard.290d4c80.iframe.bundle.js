(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{5614:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return dashboardsLogic}));__webpack_require__(55),__webpack_require__(850),__webpack_require__(851),__webpack_require__(59);var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4__),kea__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_models_dashboardsModel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(110),kea_router__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(23),lib_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12),scenes_urls__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(34),dashboardsLogic=Object(kea__WEBPACK_IMPORTED_MODULE_5__.kea)({actions:{addNewDashboard:!0,setNewDashboardDrawer:function setNewDashboardDrawer(shown){return{shown:shown}}},reducers:{newDashboardDrawer:[!1,{setNewDashboardDrawer:function setNewDashboardDrawer(_,_ref){return _ref.shown}}]},selectors:{dashboards:[function(){return[_models_dashboardsModel__WEBPACK_IMPORTED_MODULE_6__.a.selectors.dashboards]},function(dashboards){return dashboards.filter((function(d){return!d.deleted})).sort((function(a,b){var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")}))}],dashboardTags:[function(){return[_models_dashboardsModel__WEBPACK_IMPORTED_MODULE_6__.a.selectors.dashboards]},function(dashboards){return Object(lib_utils__WEBPACK_IMPORTED_MODULE_8__.pb)(dashboards.flatMap((function(_ref2){return _ref2.tags})),(function(item){return item})).sort()}]},listeners:function listeners(){return _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default()({},_models_dashboardsModel__WEBPACK_IMPORTED_MODULE_6__.a.actionTypes.addDashboardSuccess,(function(_ref3){var dashboard=_ref3.dashboard;kea_router__WEBPACK_IMPORTED_MODULE_7__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_9__.a.dashboard(dashboard.id))}))},urlToAction:function urlToAction(_ref5){var actions=_ref5.actions;return{"/dashboard":function dashboard(_,_ref6){void 0!==_ref6.new&&actions.setNewDashboardDrawer(!0)}}},path:function path(){return["scenes","dashboard","dashboardsLogic"]}})},5702:function(module,exports,__webpack_require__){(exports=__webpack_require__(56)(!1)).push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.hotkey-button .ant-btn-primary .hotkey{border:0}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5703:function(module,exports,__webpack_require__){(exports=__webpack_require__(56)(!1)).push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.description{margin-bottom:16px}.description .ant-card-body{padding:0}.description div:hover{cursor:text}.description .edit-box{display:flex;justify-content:space-between;align-items:center;-moz-column-gap:8px;column-gap:8px;padding:8px 16px}.description .add-description{color:#9c9797}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5710:function(module,exports,__webpack_require__){(exports=__webpack_require__(56)(!1)).push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.dashboard .empty-state .fade-out-graphs:after,.mixin-gradient-overlay{content:"";width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.dashboard-header .dashboard-select,.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.dashboard{margin-top:32px}.dashboard .dashboard-items-actions{margin-bottom:16px;display:flex}.dashboard .dashboard-items-actions .left-item{flex-grow:1}.dashboard .dashboard-items-actions .left-item .dashboard-items-action-icon{margin-right:6px}.dashboard .dashboard-items-actions .left-item .dashboard-items-action-refresh-text{visibility:visible}.dashboard .dashboard-items-actions .left-item .dashboard-items-action-refresh-text.hidden{visibility:hidden}.dashboard .dashboard-items-actions .left-item .dashboard-items-action-refresh-text.completed{position:absolute;left:30px}.dashboard .dashboard-items-actions .right-item .ant-btn{padding-left:4px!important}.dashboard .empty-state{position:relative}.dashboard .empty-state .skeleton-actions{text-align:right}.dashboard .empty-state .skeleton-actions .ant-skeleton-avatar{margin-right:8px}.dashboard .empty-state .pie-chart{height:200px;width:200px;max-width:100%;margin-top:16px}@media(max-width:992px){.dashboard .empty-state .pie-chart{height:140px;width:140px}}.dashboard .empty-state .bar-chart{display:flex;margin-top:16px;align-items:flex-end}.dashboard .empty-state .bar-chart .bar-el{background-color:hsla(0,0%,74.5%,.2);border-radius:4px;width:12.5%;margin-left:4px;height:100px}.dashboard .empty-state .ant-col{flex-grow:1}.dashboard .empty-state .ant-col .ant-card{height:100%}.dashboard .empty-state .fade-out-graphs{margin-top:16px;height:150px;overflow:hidden;position:relative}.dashboard .empty-state .fade-out-graphs:after{width:calc(100% - 16px);left:8px;height:150px}.dashboard .empty-state .cta{width:360px;max-width:calc(100% - 32px);position:absolute;top:16px;left:50%;transform:translateX(-50%);z-index:488}.dashboard-header{display:flex;justify-content:space-between;margin-top:-1rem;margin-bottom:16px;width:100%}.dashboard-header.full-screen{margin-top:1rem}.dashboard-header .dashboard-select{flex:1;padding-right:32px}.dashboard-header .dashboard-select .ant-select-single{max-width:100%;line-height:32px}.dashboard-header .dashboard-select .ant-select-single .ant-select-selector{padding-left:0;padding-right:8px;line-height:32px;height:32px}.dashboard-header .dashboard-select .ant-select-single .ant-select-selector .ant-select-selection-item{font-size:32px;line-height:32px;width:100%;height:35px;display:block}.dashboard-header .dashboard-select .ant-select-single .ant-select-selector .ant-select-selection-item .anticon-share-alt{font-size:20.8px;color:#77b96c;margin-left:6px!important;margin-right:4px;margin-top:8px}.dashboard-header .dashboard-select .ant-select-single.ant-select-open .ant-select-arrow{color:rgba(45,45,45,.4)}.dashboard-header .dashboard-select .ant-select-single .ant-select-arrow{color:#2d2d2d;font-size:16px}.dashboard-header .dashboard-meta{white-space:nowrap;display:flex;align-items:center}.dashboard-header .dashboard-meta .ant-btn{margin-left:10px}.dashboard-header .dashboard-meta .ant-btn .anticon{vertical-align:baseline}.dashboard-header .dashboard-meta .ant-btn.button-box{padding:4px 8px}@media(max-width:768px){.dashboard-header{flex-direction:column}.dashboard-header .dashboard-meta{padding-top:16px;justify-content:flex-end}}#auto-refresh-check{padding:5px 12px;cursor:pointer}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5845:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Dashboard",(function(){return Dashboard_Dashboard}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),utils=__webpack_require__(12),index_esm=__webpack_require__(3),objectWithoutProperties=(__webpack_require__(40),__webpack_require__(55),__webpack_require__(161),__webpack_require__(156),__webpack_require__(267),__webpack_require__(92),__webpack_require__(47),__webpack_require__(33),__webpack_require__(465),__webpack_require__(59),__webpack_require__(290),__webpack_require__(1167),__webpack_require__(160),__webpack_require__(111),__webpack_require__(37),__webpack_require__(315),__webpack_require__(134),__webpack_require__(118),__webpack_require__(122),__webpack_require__(157),__webpack_require__(51),__webpack_require__(35)),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),toConsumableArray=__webpack_require__(19),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(17),slicedToArray_default=__webpack_require__.n(slicedToArray),defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),regenerator=__webpack_require__(8),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(70),__webpack_require__(16)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(21),dashboardsModel=__webpack_require__(110),logic_prompt=__webpack_require__(657),lib=__webpack_require__(23),react_toastify=__webpack_require__(62),dashboardItemsModel=__webpack_require__(403),constants=__webpack_require__(20),eventUsageLogic=__webpack_require__(54),types=__webpack_require__(9),insightLogic=__webpack_require__(29);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var dashboardLogic=Object(index_esm.kea)({connect:[dashboardsModel.a,dashboardItemsModel.a,eventUsageLogic.d],props:{},key:function key(props){return props.id||"dashboardLogic"},actions:{addNewDashboard:!0,loadDashboardItems:function loadDashboardItems(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},refresh=_ref.refresh,dive_source_id=_ref.dive_source_id;return{refresh:refresh,dive_source_id:dive_source_id}},triggerDashboardUpdate:function triggerDashboardUpdate(payload){return{payload:payload}},setIsSharedDashboard:function setIsSharedDashboard(id,isShared){return{id:id,isShared:isShared}},setDashboardMode:function setDashboardMode(mode,source){return{mode:mode,source:source}},updateLayouts:function updateLayouts(layouts){return{layouts:layouts}},updateContainerWidth:function updateContainerWidth(containerWidth,columns){return{containerWidth:containerWidth,columns:columns}},saveLayouts:!0,updateItemColor:function updateItemColor(id,color){return{id:id,color:color}},setDiveDashboard:function setDiveDashboard(id,dive_dashboard){return{id:id,dive_dashboard:dive_dashboard}},refreshAllDashboardItems:!0,refreshAllDashboardItemsManual:!0,resetInterval:!0,updateAndRefreshDashboard:!0,setDates:function setDates(dateFrom,dateTo){var reloadDashboard=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{dateFrom:dateFrom,dateTo:dateTo,reloadDashboard:reloadDashboard}},addGraph:!0,deleteTag:function deleteTag(tag){return{tag:tag}},saveNewTag:function saveNewTag(tag){return{tag:tag}},setAutoRefresh:function setAutoRefresh(enabled,interval){return{enabled:enabled,interval:interval}},setRefreshStatus:function setRefreshStatus(id){var loading=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:id,loading:loading}},setRefreshError:function setRefreshError(id){return{id:id}},setPageTitle:function setPageTitle(title){return{title:title}}},loaders:function loaders(_ref2){var _updateDashboard,_loadDashboardItems,actions=_ref2.actions,props=_ref2.props;return{allItems:[null,{loadDashboardItems:(_loadDashboardItems=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var _ref3,refresh,dive_source_id,dashboard,_args=arguments;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_ref3=_args.length>0&&void 0!==_args[0]?_args[0]:{},refresh=_ref3.refresh,dive_source_id=_ref3.dive_source_id,props.id){_context.next=4;break}return console.warn("Called `loadDashboardItems` but ID is not set."),_context.abrupt("return");case 4:return _context.prev=4,_context.next=7,api.a.get("api/dashboard/".concat(props.id,"/?").concat(Object(utils.lb)({share_token:props.shareToken,refresh:refresh,dive_source_id:dive_source_id})));case 7:return dashboard=_context.sent,actions.setDates(dashboard.filters.date_from,dashboard.filters.date_to,!1),actions.setPageTitle(dashboard.name?"".concat(dashboard.name," • Dashboard"):"Dashboard"),eventUsageLogic.d.actions.reportDashboardViewed(dashboard,!!props.shareToken),_context.abrupt("return",dashboard);case 14:if(_context.prev=14,_context.t0=_context.catch(4),404!==_context.t0.status){_context.next=18;break}return _context.abrupt("return",[]);case 18:throw _context.t0;case 19:case"end":return _context.stop()}}),_callee,null,[[4,14]])}))),function loadDashboardItems(){return _loadDashboardItems.apply(this,arguments)}),updateDashboard:(_updateDashboard=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(filters){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api.a.update("api/dashboard/".concat(props.id,"/?").concat(Object(utils.lb)({share_token:props.shareToken})),{filters:filters});case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}),_callee2)}))),function updateDashboard(_x){return _updateDashboard.apply(this,arguments)})}]}},reducers:function reducers(_ref4){var _ref15,props=_ref4.props;return{filters:[{date_from:null,date_to:null},{setDates:function setDates(state,_ref5){var dateFrom=_ref5.dateFrom,dateTo=_ref5.dateTo;return _objectSpread(_objectSpread({},state),{},{date_from:dateFrom||null,date_to:dateTo||null})}}],allItems:[null,(_ref15={},defineProperty_default()(_ref15,dashboardItemsModel.a.actionTypes.renameDashboardItemSuccess,(function(state,_ref6){var item=_ref6.item;return _objectSpread(_objectSpread({},state),{},{items:(null==state?void 0:state.items.map((function(i){return i.id===item.id?item:i})))||[]})})),defineProperty_default()(_ref15,"updateLayouts",(function updateLayouts(state,_ref7){var layouts=_ref7.layouts,itemLayouts={};return null==state||state.items.forEach((function(item){itemLayouts[item.id]={}})),Object.entries(layouts).forEach((function(_ref8){var _ref9=slicedToArray_default()(_ref8,2),col=_ref9[0];_ref9[1].forEach((function(layoutItem){itemLayouts[layoutItem.i]||(itemLayouts[layoutItem.i]={}),itemLayouts[layoutItem.i][col]=layoutItem}))})),_objectSpread(_objectSpread({},state),{},{items:null==state?void 0:state.items.map((function(item){return _objectSpread(_objectSpread({},item),{},{layouts:itemLayouts[item.id]})}))})})),defineProperty_default()(_ref15,dashboardsModel.a.actionTypes.updateDashboardItem,(function(state,_ref10){var item=_ref10.item;return state?_objectSpread(_objectSpread({},state),{},{items:(null==state?void 0:state.items.map((function(i){return i.id===item.id?item:i})))||[]}):null})),defineProperty_default()(_ref15,dashboardsModel.a.actionTypes.updateDashboardRefreshStatus,(function(state,_ref11){var id=_ref11.id,refreshing=_ref11.refreshing,last_refresh=_ref11.last_refresh;return id?_objectSpread(_objectSpread({},state),{},{items:null==state?void 0:state.items.map((function(i){return i.id===id?_objectSpread(_objectSpread(_objectSpread({},i),null!=refreshing?{refreshing:refreshing}:{}),null!=last_refresh?{last_refresh:last_refresh}:{}):i}))}):state})),defineProperty_default()(_ref15,"updateItemColor",(function updateItemColor(state,_ref12){var id=_ref12.id,color=_ref12.color;return _objectSpread(_objectSpread({},state),{},{items:null==state?void 0:state.items.map((function(i){return i.id===id?_objectSpread(_objectSpread({},i),{},{color:color}):i}))})})),defineProperty_default()(_ref15,"setDiveDashboard",(function setDiveDashboard(state,_ref13){var id=_ref13.id,dive_dashboard=_ref13.dive_dashboard;return _objectSpread(_objectSpread({},state),{},{items:null==state?void 0:state.items.map((function(i){return i.id===id?_objectSpread(_objectSpread({},i),{},{dive_dashboard:dive_dashboard}):i}))})})),defineProperty_default()(_ref15,dashboardItemsModel.a.actionTypes.duplicateDashboardItemSuccess,(function(state,_ref14){var item=_ref14.item;return _objectSpread(_objectSpread({},state),{},{items:props.id&&item.dashboard===parseInt(props.id.toString())?[].concat(toConsumableArray_default()((null==state?void 0:state.items)||[]),[item]):null==state?void 0:state.items})})),_ref15)],refreshStatus:[{},{setRefreshStatus:function setRefreshStatus(state,_ref16){var id=_ref16.id,loading=_ref16.loading;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},id,loading?{loading:!0}:{refreshed:!0}))},setRefreshError:function setRefreshError(state,_ref17){var id=_ref17.id;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},id,{error:!0}))},refreshAllDashboardItems:function refreshAllDashboardItems(){return{}}}],columns:[null,{updateContainerWidth:function updateContainerWidth(_,_ref18){return _ref18.columns}}],containerWidth:[null,{updateContainerWidth:function updateContainerWidth(_,_ref19){return _ref19.containerWidth}}],dashboardMode:[null,{setDashboardMode:function setDashboardMode(_,_ref20){return _ref20.mode}}],lastDashboardModeSource:[null,{setDashboardMode:function setDashboardMode(_,_ref21){return _ref21.source}}],autoRefresh:[{interval:300,enabled:!1},{setAutoRefresh:function setAutoRefresh(_,_ref22){return{enabled:_ref22.enabled,interval:_ref22.interval}}}]}},selectors:function selectors(_ref23){var props=_ref23.props,_selectors=_ref23.selectors;return{items:[function(){return[_selectors.allItems]},function(allItems){var _allItems$items;return null==allItems||null===(_allItems$items=allItems.items)||void 0===_allItems$items?void 0:_allItems$items.filter((function(i){return!i.deleted}))}],itemsLoading:[function(){return[_selectors.allItemsLoading,_selectors.refreshStatus]},function(allItemsLoading,refreshStatus){return allItemsLoading||Object.values(refreshStatus).some((function(s){return s.loading}))}],isRefreshing:[function(){return[_selectors.refreshStatus]},function(refreshStatus){return function(id){var _refreshStatus$id;return!!(null===(_refreshStatus$id=refreshStatus[id])||void 0===_refreshStatus$id?void 0:_refreshStatus$id.loading)}}],lastRefreshed:[function(){return[_selectors.items]},function(items){if(!items||!items.length)return null;var _step,lastRefreshed=items[0].last_refresh,_iterator=_createForOfIteratorHelper(items);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;item.last_refresh<lastRefreshed&&(lastRefreshed=item.last_refresh)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return lastRefreshed}],dashboard:[function(){return[dashboardsModel.a.selectors.sharedDashboards,dashboardsModel.a.selectors.dashboards]},function(sharedDashboards,dashboards){var _dashboards$find;return sharedDashboards&&props.id&&sharedDashboards[props.id]?sharedDashboards[props.id]:null!==(_dashboards$find=dashboards.find((function(d){return d.id===props.id})))&&void 0!==_dashboards$find?_dashboards$find:null}],breakpoints:[function(){return[]},function(){return{lg:1600,sm:940,xs:480,xxs:0}}],cols:[function(){return[]},function(){return{lg:24,sm:12,xs:6,xxs:2}}],sizeKey:[function(s){return[s.columns,s.cols]},function(columns,cols){var _ref24=Object.entries(cols).find((function(_ref26){return slicedToArray_default()(_ref26,2)[1]===columns}))||[];return slicedToArray_default()(_ref24,1)[0]}],layouts:[function(){return[_selectors.items,_selectors.cols]},function(items,cols){var allLayouts={};return Object.keys(cols).forEach((function(col){var layouts=null==items?void 0:items.filter((function(i){return!i.deleted})).map((function(item){var isRetention=item.filters.insight===types.t.RETENTION&&item.filters.display===constants.d,defaultWidth=isRetention||item.filters.display===constants.t?8:6,defaultHeight=isRetention?8:item.filters.display===constants.t?12.5:5,_ref28=item.layouts&&item.layouts[col]||{},x=_ref28.x,y=_ref28.y,w=_ref28.w,h=_ref28.h,width=Math.min(w||defaultWidth,cols[col]);return{i:"".concat(item.id),x:Number.isInteger(x)&&x+width-1<cols[col]?x:0,y:Number.isInteger(y)?y:1/0,w:width,h:h||defaultHeight}})),cleanLayouts=null==layouts?void 0:layouts.filter((function(_ref29){return _ref29.y!==1/0})),lowestPoints=Array.from(Array(cols[col])).map((function(){return-1}));null==cleanLayouts||cleanLayouts.forEach((function(_ref30){for(var x=_ref30.x,y=_ref30.y,w=_ref30.w,h=_ref30.h,i=x;i<=x+w-1;i++)lowestPoints[i]=Math.max(lowestPoints[i],y+h-1)})),null==layouts||layouts.filter((function(_ref31){return _ref31.y===1/0})).forEach((function(_ref32){for(var i=_ref32.i,w=_ref32.w,h=_ref32.h,segmentCount=cols[col]-w+1,lowestSegments=Array.from(Array(segmentCount)).map((function(){return-1})),k=0;k<segmentCount;k++)for(var j=k;j<=k+w-1;j++)lowestSegments[k]=Math.max(lowestSegments[k],lowestPoints[j]);var lowestIndex=0,lowestDepth=lowestSegments[0];lowestSegments.forEach((function(depth,index){depth<lowestDepth&&(lowestIndex=index,lowestDepth=depth)})),null==cleanLayouts||cleanLayouts.push({i:i,x:lowestIndex,y:lowestDepth+1,w:w,h:h});for(var _k=lowestIndex;_k<=lowestIndex+w-1;_k++)lowestPoints[_k]=Math.max(lowestPoints[_k],lowestDepth+h)})),allLayouts[col]=cleanLayouts})),allLayouts}],layout:[function(s){return[s.layouts,s.sizeKey]},function(layouts,sizeKey){return sizeKey?layouts[sizeKey]:void 0}],layoutForItem:[function(s){return[s.layout]},function(layout){var layoutForItem={};if(layout){var _step2,_iterator2=_createForOfIteratorHelper(layout);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var obj=_step2.value;layoutForItem[obj.i]=obj}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}return layoutForItem}],refreshMetrics:[function(s){return[s.refreshStatus,s.items]},function(refreshStatus,items){var _items$length,_Object$values$filter,total=null!==(_items$length=null==items?void 0:items.length)&&void 0!==_items$length?_items$length:0;return{completed:total-(null!==(_Object$values$filter=Object.values(refreshStatus).filter((function(s){return s.loading})).length)&&void 0!==_Object$values$filter?_Object$values$filter:0),total:total}}]}},events:function events(_ref33){var actions=_ref33.actions,cache=_ref33.cache,props=_ref33.props;return{afterMount:function afterMount(){var _dashboardsModel$valu;props.id&&actions.loadDashboardItems({refresh:props.internal,dive_source_id:null!==(_dashboardsModel$valu=dashboardsModel.a.values.diveSourceId)&&void 0!==_dashboardsModel$valu?_dashboardsModel$valu:void 0});props.shareToken&&(actions.setDashboardMode(props.internal?types.e.Internal:types.e.Public,eventUsageLogic.a.Browser),dashboardsModel.a.actions.loadSharedDashboard(props.shareToken))},beforeUnmount:function beforeUnmount(){cache.draggingToastId&&(react_toastify.c.dismiss(cache.draggingToastId),cache.draggingToastId=null),cache.autoRefreshInterval&&(window.clearInterval(cache.autoRefreshInterval),cache.autoRefreshInterval=null)}}},listeners:function listeners(_ref34){var _ref48,_deleteTag,_setDashboardMode,_updateAndRefreshDashboard,_refreshAllDashboardItems,_saveLayouts,_addNewDashboard,actions=_ref34.actions,values=_ref34.values,key=_ref34.key,cache=_ref34.cache,props=_ref34.props;return _ref48={addNewDashboard:(_addNewDashboard=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(){return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:Object(logic_prompt.a)({key:"new-dashboard-".concat(key)}).actions.prompt({title:"New dashboard",placeholder:"Please enter a name",value:"",error:"You must enter name",success:function success(name){return dashboardsModel.a.actions.addDashboard({name:name})}});case 1:case"end":return _context3.stop()}}),_callee3)}))),function addNewDashboard(){return _addNewDashboard.apply(this,arguments)})},defineProperty_default()(_ref48,dashboardsModel.a.actionTypes.addDashboardSuccess,(function(_ref35){var dashboard=_ref35.dashboard;lib.router.actions.push("/dashboard/".concat(dashboard.id))})),defineProperty_default()(_ref48,"setIsSharedDashboard",(function setIsSharedDashboard(_ref36){var id=_ref36.id,isShared=_ref36.isShared;dashboardsModel.a.actions.setIsSharedDashboard({id:id,isShared:isShared}),eventUsageLogic.d.actions.reportDashboardShareToggled(isShared)})),defineProperty_default()(_ref48,"triggerDashboardUpdate",(function triggerDashboardUpdate(_ref37){var payload=_ref37.payload;values.dashboard&&dashboardsModel.a.actions.updateDashboard(_objectSpread({id:values.dashboard.id},payload))})),defineProperty_default()(_ref48,"updateLayouts",(function updateLayouts(){actions.saveLayouts()})),defineProperty_default()(_ref48,"saveLayouts",(_saveLayouts=asyncToGenerator_default()(regenerator_default.a.mark((function _callee4(_,breakpoint){var _values$items;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,breakpoint(300);case 2:return _context4.next=4,api.a.update("api/dashboard_item/layouts",{items:(null===(_values$items=values.items)||void 0===_values$items?void 0:_values$items.map((function(item){var layouts={};return Object.entries(item.layouts).forEach((function(_ref38){var _ref39=slicedToArray_default()(_ref38,2),layoutKey=_ref39[0],layout=_ref39[1],rest=(layout.i,objectWithoutProperties_default()(layout,["i"]));layouts[layoutKey]=rest})),{id:item.id,layouts:layouts}})))||[]});case 4:case"end":return _context4.stop()}}),_callee4)}))),function saveLayouts(_x2,_x3){return _saveLayouts.apply(this,arguments)})),defineProperty_default()(_ref48,"updateItemColor",(function updateItemColor(_ref40){var id=_ref40.id,color=_ref40.color;api.a.update("api/insight/".concat(id),{color:color})})),defineProperty_default()(_ref48,"setDiveDashboard",(function setDiveDashboard(_ref41){var id=_ref41.id,dive_dashboard=_ref41.dive_dashboard;api.a.update("api/insight/".concat(id),{dive_dashboard:dive_dashboard})})),defineProperty_default()(_ref48,"refreshAllDashboardItemsManual",(function refreshAllDashboardItemsManual(){actions.resetInterval(),actions.refreshAllDashboardItems()})),defineProperty_default()(_ref48,"refreshAllDashboardItems",(_refreshAllDashboardItems=asyncToGenerator_default()(regenerator_default.a.mark((function _callee6(_,breakpoint){var breakpointTriggered,_iterator3,_step3,dashboardItem,fetchItemFunctions,loadNextPromise,i;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(loadNextPromise=function _loadNextPromise(){var _fetchItemFunctions$s;!breakpointTriggered&&fetchItemFunctions.length>0&&(null===(_fetchItemFunctions$s=fetchItemFunctions.shift())||void 0===_fetchItemFunctions$s||_fetchItemFunctions$s().then(loadNextPromise))},(null==values?void 0:values.items)&&0!==(null==values?void 0:values.items.length)){_context6.next=3;break}return _context6.abrupt("return");case 3:breakpointTriggered=!1,_iterator3=_createForOfIteratorHelper(values.items);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;)dashboardItem=_step3.value,actions.setRefreshStatus(dashboardItem.id,!0)}catch(err){_iterator3.e(err)}finally{_iterator3.f()}for(fetchItemFunctions=values.items.map((function(dashboardItem){return asyncToGenerator_default()(regenerator_default.a.mark((function _callee5(){var refreshedDashboardItem;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.prev=0,breakpoint(),_context5.next=4,api.a.get("api/dashboard_item/".concat(dashboardItem.id,"/?").concat(Object(utils.lb)({share_token:props.shareToken,refresh:!0})));case 4:refreshedDashboardItem=_context5.sent,breakpoint(),dashboardItem.filters.insight&&Object(insightLogic.b)({dashboardItemId:dashboardItem.id,filters:dashboardItem.filters,cachedResults:refreshedDashboardItem.result}).actions.setInsight(_objectSpread(_objectSpread({},dashboardItem),{},{result:refreshedDashboardItem.result})),dashboardsModel.a.actions.updateDashboardItem(refreshedDashboardItem),actions.setRefreshStatus(dashboardItem.id),_context5.next=14;break;case 11:_context5.prev=11,_context5.t0=_context5.catch(0),Object(index_esm.isBreakpoint)(_context5.t0)?breakpointTriggered=!0:actions.setRefreshError(dashboardItem.id);case 14:case"end":return _context5.stop()}}),_callee5,null,[[0,11]])})))})),i=0;i<4;i++)loadNextPromise();eventUsageLogic.d.actions.reportDashboardRefreshed(values.lastRefreshed);case 9:case"end":return _context6.stop()}}),_callee6)}))),function refreshAllDashboardItems(_x4,_x5){return _refreshAllDashboardItems.apply(this,arguments)})),defineProperty_default()(_ref48,"updateAndRefreshDashboard",(_updateAndRefreshDashboard=asyncToGenerator_default()(regenerator_default.a.mark((function _callee7(_,breakpoint){return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,breakpoint(200);case 2:actions.updateDashboard(values.filters),actions.refreshAllDashboardItems();case 4:case"end":return _context7.stop()}}),_callee7)}))),function updateAndRefreshDashboard(_x6,_x7){return _updateAndRefreshDashboard.apply(this,arguments)})),defineProperty_default()(_ref48,"setDates",(function setDates(_ref43){var dateFrom=_ref43.dateFrom,dateTo=_ref43.dateTo;_ref43.reloadDashboard&&actions.updateAndRefreshDashboard(),eventUsageLogic.d.actions.reportDashboardDateRangeChanged(dateFrom,dateTo)})),defineProperty_default()(_ref48,"setDashboardMode",(_setDashboardMode=asyncToGenerator_default()(regenerator_default.a.mark((function _callee8(_ref44){var mode,source;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:mode=_ref44.mode,source=_ref44.source,mode===types.e.Fullscreen?document.body.classList.add("fullscreen-scroll"):document.body.classList.remove("fullscreen-scroll"),mode===types.e.Edit?(Object(utils.j)(),cache.draggingToastId||(cache.draggingToastId=Object(utils.v)("Dashboard",actions.setDashboardMode))):cache.draggingToastId&&(react_toastify.c.dismiss(cache.draggingToastId),cache.draggingToastId=null),mode&&eventUsageLogic.d.actions.reportDashboardModeToggled(mode,source);case 4:case"end":return _context8.stop()}}),_callee8)}))),function setDashboardMode(_x8){return _setDashboardMode.apply(this,arguments)})),defineProperty_default()(_ref48,"addGraph",(function addGraph(){values.dashboard&&lib.router.actions.push("/insights?insight=TRENDS#backTo=".concat(encodeURIComponent(values.dashboard.name),"&backToURL=/dashboard/").concat(values.dashboard.id))})),defineProperty_default()(_ref48,"saveNewTag",(function saveNewTag(_ref45){var _values$dashboard,_values$dashboard2,tag=_ref45.tag;(null===(_values$dashboard=values.dashboard)||void 0===_values$dashboard?void 0:_values$dashboard.tags.includes(tag))?react_toastify.c.error(react_default.a.createElement("div",null,react_default.a.createElement("h1",null,"Oops! Can't add that tag"),react_default.a.createElement("p",null,"Your dashboard already has that tag."))):actions.triggerDashboardUpdate({tags:[].concat(toConsumableArray_default()((null===(_values$dashboard2=values.dashboard)||void 0===_values$dashboard2?void 0:_values$dashboard2.tags)||[]),[tag])})})),defineProperty_default()(_ref48,"deleteTag",(_deleteTag=asyncToGenerator_default()(regenerator_default.a.mark((function _callee9(_ref46,breakpoint){var _values$dashboard3,tag;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return tag=_ref46.tag,_context9.next=3,breakpoint(100);case 3:actions.triggerDashboardUpdate({tags:(null===(_values$dashboard3=values.dashboard)||void 0===_values$dashboard3?void 0:_values$dashboard3.tags.filter((function(_tag){return _tag!==tag})))||[]});case 4:case"end":return _context9.stop()}}),_callee9)}))),function deleteTag(_x9,_x10){return _deleteTag.apply(this,arguments)})),defineProperty_default()(_ref48,"setAutoRefresh",(function setAutoRefresh(){actions.resetInterval()})),defineProperty_default()(_ref48,"resetInterval",(function resetInterval(){cache.autoRefreshInterval&&(window.clearInterval(cache.autoRefreshInterval),cache.autoRefreshInterval=null),values.autoRefresh.enabled&&(cache.autoRefreshInterval=window.setInterval((function(){actions.refreshAllDashboardItems()}),1e3*values.autoRefresh.interval))})),defineProperty_default()(_ref48,"setPageTitle",(function setPageTitle(_ref47){var title=_ref47.title;document.title=title?"".concat(title," • PostHog"):"PostHog"})),_ref48},path:function path(key){return["scenes","dashboard","dashboardLogic",key]}}),dropdown=__webpack_require__(837),menu=__webpack_require__(313),es_button=__webpack_require__(131),input=__webpack_require__(686),es_select=__webpack_require__(207),modal=__webpack_require__(2541),es_switch=__webpack_require__(5456),CopyToClipboard=__webpack_require__(590);function ShareModal(_ref){var visible=_ref.visible,onCancel=_ref.onCancel,dashboard=Object(index_esm.useValues)(dashboardLogic).dashboard,setIsSharedDashboard=Object(index_esm.useActions)(dashboardLogic).setIsSharedDashboard,_useState=Object(react.useState)(null==dashboard?void 0:dashboard.is_shared),_useState2=slicedToArray_default()(_useState,2),isShared=_useState2[0],setIsShared=_useState2[1],url=window.location.origin;return dashboard?react_default.a.createElement(modal.a,{visible:visible,onCancel:onCancel,footer:react_default.a.createElement(es_button.a,{onClick:onCancel},"Close"),title:"Share your dashboard with people outside of PostHog.",destroyOnClose:!0},react_default.a.createElement(es_switch.a,{onClick:function onClick(_,e){return e.stopPropagation()},checked:isShared,"data-attr":"share-dashboard-switch",onChange:function onChange(active){setIsShared(active),setIsSharedDashboard(dashboard.id,active)}})," ","Share your dashboard",react_default.a.createElement("br",null),react_default.a.createElement("br",null),isShared?react_default.a.createElement("span",null,"Your dashboard is visible to everyone with the link.",dashboard.share_token&&react_default.a.createElement(CopyToClipboard.b,{"data-attr":"share-dashboard-link",value:url+"/shared_dashboard/"+dashboard.share_token,description:"link"})):"Your dashboard is private."):react_default.a.createElement("div",null)}try{ShareModal.displayName="ShareModal",ShareModal.__docgenInfo={description:"",displayName:"ShareModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/dashboard/ShareModal.tsx#ShareModal"]={docgenInfo:ShareModal.__docgenInfo,name:"ShareModal",path:"frontend/src/scenes/dashboard/ShareModal.tsx#ShareModal"})}catch(__react_docgen_typescript_loader_error){}var EditOutlined=__webpack_require__(2533),FullscreenOutlined=__webpack_require__(6070),PushpinFilled=__webpack_require__(5500),PushpinOutlined=__webpack_require__(5846),DeleteOutlined=__webpack_require__(5468),EllipsisOutlined=__webpack_require__(1143),PlusOutlined=__webpack_require__(1738),ShareAltOutlined=__webpack_require__(6071),FullscreenExitOutlined=__webpack_require__(6072);function FullScreen(_ref){var onExit=_ref.onExit,selector="aside.ant-layout-sider, .layout-top-content";return Object(react.useEffect)((function(){for(var myClasses=window.document.querySelectorAll(selector),i=0;i<myClasses.length;i++)myClasses[i].style.display="none";var handler=function handler(){null===window.document.fullscreenElement&&(null==onExit||onExit())};try{window.document.body.requestFullscreen().then((function(){window.addEventListener("fullscreenchange",handler,!1)}))}catch(_unused){}try{window.dispatchEvent(new window.Event("scroll")),window.dispatchEvent(new window.Event("resize"))}catch(_unused2){}return function(){for(var elements=window.document.querySelectorAll(selector),_i=0;_i<elements.length;_i++)elements[_i].style.display="block";try{window.removeEventListener("fullscreenchange",handler,!1),null!==window.document.fullscreenElement&&window.document.exitFullscreen()}catch(_unused3){}try{window.dispatchEvent(new window.Event("scroll")),window.dispatchEvent(new window.Event("resize"))}catch(_unused4){}}}),[]),null}try{FullScreen.displayName="FullScreen",FullScreen.__docgenInfo={description:"",displayName:"FullScreen",props:{onExit:{defaultValue:null,description:"",name:"onExit",required:!1,type:{name:"(() => any)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/FullScreen.tsx#FullScreen"]={docgenInfo:FullScreen.__docgenInfo,name:"FullScreen",path:"frontend/src/lib/components/FullScreen.tsx#FullScreen"})}catch(__react_docgen_typescript_loader_error){}var dayjs_min=__webpack_require__(30),dayjs_min_default=__webpack_require__.n(dayjs_min),injectStylesIntoStyleTag=__webpack_require__(26),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),HotkeyButton=__webpack_require__(5702),HotkeyButton_default=__webpack_require__.n(HotkeyButton),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(HotkeyButton_default.a,options),HotkeyButton_default.a.locals;function HotkeyButton_HotkeyButton(_ref){var hotkey=_ref.hotkey,children=_ref.children,props=objectWithoutProperties_default()(_ref,["hotkey","children"]);return react_default.a.createElement("span",{className:"hotkey-button"},react_default.a.createElement(es_button.a,props,children," ",react_default.a.createElement("span",{className:"hotkey"},hotkey)))}try{HotkeyButton_HotkeyButton.displayName="HotkeyButton",HotkeyButton_HotkeyButton.__docgenInfo={description:"",displayName:"HotkeyButton",props:{hotkey:{defaultValue:null,description:"",name:"hotkey",required:!0,type:{name:"enum",value:[{value:'"a"'},{value:'"b"'},{value:'"c"'},{value:'"d"'},{value:'"e"'},{value:'"f"'},{value:'"h"'},{value:'"i"'},{value:'"j"'},{value:'"k"'},{value:'"l"'},{value:'"m"'},{value:'"n"'},{value:'"o"'},{value:'"p"'},{value:'"q"'},{value:'"r"'},{value:'"s"'},{value:'"t"'},{value:'"u"'},{value:'"v"'},{value:'"w"'},{value:'"x"'},{value:'"y"'},{value:'"z"'},{value:'"escape"'}]}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLElement>"}},htmlType:{defaultValue:null,description:"",name:"htmlType",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/HotkeyButton/index.tsx#HotkeyButton"]={docgenInfo:HotkeyButton_HotkeyButton.__docgenInfo,name:"HotkeyButton",path:"frontend/src/lib/components/HotkeyButton/index.tsx#HotkeyButton"})}catch(__react_docgen_typescript_loader_error){}var ObjectTags=__webpack_require__(401),dashboardsLogic=__webpack_require__(5614),urls=__webpack_require__(34),card=(__webpack_require__(217),__webpack_require__(231),__webpack_require__(5491)),Description=__webpack_require__(5703),Description_default=__webpack_require__.n(Description),Description_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Description_default.a,Description_options),Description_default.a.locals;function Description_Description_Description(_ref){var item=_ref.item,itemMode=_ref.itemMode,setItemMode=_ref.setItemMode,triggerItemUpdate=_ref.triggerItemUpdate,descriptionInputRef=_ref.descriptionInputRef,_useState=Object(react.useState)(item.description),_useState2=slicedToArray_default()(_useState,2),newDescription=_useState2[0],setNewDescription=_useState2[1];return react_default.a.createElement(card.a,{className:"description",bordered:!(itemMode===types.l.Edit)},itemMode===types.l.Edit?react_default.a.createElement(input.a.TextArea,{placeholder:"Add a description that helps others understand it better.",value:newDescription,onChange:function onChange(e){setNewDescription(e.target.value),triggerItemUpdate({description:e.target.value})},onKeyDown:function onKeyDown(e){"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&setItemMode(null,eventUsageLogic.a.InputEnter)},ref:descriptionInputRef,tabIndex:5,allowClear:!0}):react_default.a.createElement("div",{className:"edit-box",onClick:function onClick(){return setItemMode(types.l.Edit,eventUsageLogic.a.AddDescription)}},item.description?react_default.a.createElement("span",null,item.description):react_default.a.createElement("span",{className:"add-description"},"Add a description..."),react_default.a.createElement(EditOutlined.a,null)))}try{Description_Description_Description.displayName="Description",Description_Description_Description.__docgenInfo={description:"",displayName:"Description",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Partial<DashboardItemType>"}},itemMode:{defaultValue:null,description:"",name:"itemMode",required:!0,type:{name:"DashboardMode | ItemMode | null"}},setItemMode:{defaultValue:null,description:"",name:"setItemMode",required:!0,type:{name:"((mode: ItemMode | null, eventSource: DashboardEventSource) => void) | ((mode: DashboardMode | null, eventSource: DashboardEventSource) => void)"}},triggerItemUpdate:{defaultValue:null,description:"",name:"triggerItemUpdate",required:!0,type:{name:"(description: Partial<DashboardItemType>) => void"}},descriptionInputRef:{defaultValue:null,description:"",name:"descriptionInputRef",required:!0,type:{name:"Ref<TextAreaRef> | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Description/Description.tsx#Description"]={docgenInfo:Description_Description_Description.__docgenInfo,name:"Description",path:"frontend/src/lib/components/Description/Description.tsx#Description"})}catch(__react_docgen_typescript_loader_error){}var userLogic=__webpack_require__(66),Tooltip=__webpack_require__(52);function DashboardHeader(){var _user$organization,_user$organization$av,_useValues=Object(index_esm.useValues)(dashboardLogic),dashboard=_useValues.dashboard,dashboardMode=_useValues.dashboardMode,lastDashboardModeSource=_useValues.lastDashboardModeSource,_useActions=Object(index_esm.useActions)(dashboardLogic),addNewDashboard=_useActions.addNewDashboard,triggerDashboardUpdate=_useActions.triggerDashboardUpdate,setDashboardMode=_useActions.setDashboardMode,addGraph=_useActions.addGraph,saveNewTag=_useActions.saveNewTag,deleteTag=_useActions.deleteTag,dashboardTags=Object(index_esm.useValues)(dashboardsLogic.a).dashboardTags,_useValues3=Object(index_esm.useValues)(dashboardsModel.a),dashboards=_useValues3.dashboards,dashboardsLoading=_useValues3.dashboardsLoading,dashboardLoading=_useValues3.dashboardLoading,_useActions2=Object(index_esm.useActions)(dashboardsModel.a),pinDashboard=_useActions2.pinDashboard,unpinDashboard=_useActions2.unpinDashboard,deleteDashboard=_useActions2.deleteDashboard,user=Object(index_esm.useValues)(userLogic.a).user,_useState=Object(react.useState)((null==dashboard?void 0:dashboard.name)||null),_useState2=slicedToArray_default()(_useState,2),newName=_useState2[0],setNewName=_useState2[1],nameInputRef=Object(react.useRef)(null),descriptionInputRef=Object(react.useRef)(null);if(!dashboard)return react_default.a.createElement("div",null);var actionsDefault=react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(dropdown.a,{trigger:["click"],overlay:react_default.a.createElement(menu.a,null,dashboard.created_by&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(menu.a.Item,{disabled:!0},"Created by ",dashboard.created_by.first_name||dashboard.created_by.email||"-"," on"," ",dayjs_min_default()(dashboard.created_at).format(dayjs_min_default()(dashboard.created_at).year()===dayjs_min_default()().year()?"MMMM Do":"MMMM Do YYYY")),react_default.a.createElement(menu.a.Divider,null)),react_default.a.createElement(menu.a.Item,{icon:react_default.a.createElement(EditOutlined.a,null),onClick:function onClick(){return setDashboardMode(types.e.Edit,eventUsageLogic.a.MoreDropdown)}},"Edit mode (E)"),react_default.a.createElement(menu.a.Item,{icon:react_default.a.createElement(FullscreenOutlined.a,null),onClick:function onClick(){return setDashboardMode(types.e.Fullscreen,eventUsageLogic.a.MoreDropdown)}},"Full screen mode (F)"),dashboard.pinned?react_default.a.createElement(menu.a.Item,{icon:react_default.a.createElement(PushpinFilled.a,null),onClick:function onClick(){return unpinDashboard(dashboard.id,eventUsageLogic.a.MoreDropdown)}},"Unpin dashboard"):react_default.a.createElement(menu.a.Item,{icon:react_default.a.createElement(PushpinOutlined.a,null),onClick:function onClick(){return pinDashboard(dashboard.id,eventUsageLogic.a.MoreDropdown)}},"Pin dashboard"),react_default.a.createElement(menu.a.Divider,null),react_default.a.createElement(menu.a.Item,{icon:react_default.a.createElement(DeleteOutlined.a,null),onClick:function onClick(){return deleteDashboard({id:dashboard.id,redirect:!0})},danger:!0},"Delete dashboard")),placement:"bottomRight"},react_default.a.createElement(es_button.a,{type:"link",className:"btn-lg-2x","data-attr":"dashboard-more",icon:react_default.a.createElement(EllipsisOutlined.a,null)})),react_default.a.createElement(es_button.a,{type:"link","data-attr":"dashboard-edit-mode",icon:react_default.a.createElement(EditOutlined.a,null),onClick:function onClick(){return setDashboardMode(types.e.Edit,eventUsageLogic.a.DashboardHeader)}}),react_default.a.createElement(HotkeyButton_HotkeyButton,{onClick:function onClick(){return addGraph()},"data-attr":"dashboard-add-graph-header",icon:react_default.a.createElement(PlusOutlined.a,null),hotkey:"n",className:"hide-lte-md"},"Add graph"),react_default.a.createElement(HotkeyButton_HotkeyButton,{type:"primary",onClick:function onClick(){return setDashboardMode(types.e.Sharing,eventUsageLogic.a.DashboardHeader)},"data-attr":"dashboard-share-button",icon:react_default.a.createElement(ShareAltOutlined.a,null),hotkey:"k"},"Send or share")),actionsPresentationMode=react_default.a.createElement(es_button.a,{onClick:function onClick(){return setDashboardMode(null,eventUsageLogic.a.DashboardHeader)},"data-attr":"dashboard-exit-presentation-mode",icon:react_default.a.createElement(FullscreenExitOutlined.a,null)},"Exit full screen mode"),actionsEditMode=react_default.a.createElement(es_button.a,{"data-attr":"dashboard-edit-mode-save",type:"primary",onClick:function onClick(){return setDashboardMode(null,eventUsageLogic.a.DashboardHeader)},tabIndex:10},"Finish editing");return Object(react.useEffect)((function(){dashboardMode===types.e.Edit&&(lastDashboardModeSource===eventUsageLogic.a.AddDescription?setTimeout((function(){var _descriptionInputRef$;return null===(_descriptionInputRef$=descriptionInputRef.current)||void 0===_descriptionInputRef$?void 0:_descriptionInputRef$.focus()}),10):Object(utils.O)()||setTimeout((function(){var _nameInputRef$current;return null===(_nameInputRef$current=nameInputRef.current)||void 0===_nameInputRef$current?void 0:_nameInputRef$current.focus()}),10))}),[dashboardMode]),react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"dashboard-header".concat(dashboardMode===types.e.Fullscreen?" full-screen":"")},dashboardMode===types.e.Fullscreen&&react_default.a.createElement(FullScreen,{onExit:function onExit(){return setDashboardMode(null,eventUsageLogic.a.Browser)}}),react_default.a.createElement(ShareModal,{onCancel:function onCancel(){return setDashboardMode(null,eventUsageLogic.a.Browser)},visible:dashboardMode===types.e.Sharing}),dashboardsLoading?react_default.a.createElement(utils.c,null):react_default.a.createElement(react_default.a.Fragment,null,dashboardMode===types.e.Edit?react_default.a.createElement(input.a,{placeholder:"Dashboard name (e.g. Weekly KPIs)",value:newName||"",size:"large",style:{maxWidth:400},onChange:function onChange(e){setNewName(e.target.value),triggerDashboardUpdate({name:e.target.value})},onKeyDown:function onKeyDown(e){"Enter"===e.key&&setDashboardMode(null,eventUsageLogic.a.InputEnter)},ref:nameInputRef,tabIndex:0}):react_default.a.createElement("div",{className:"dashboard-select"},react_default.a.createElement(es_select.a,{value:(null==dashboard?void 0:dashboard.id)||void 0,onChange:function onChange(id){"new"===id?addNewDashboard():(lib.router.actions.push(urls.a.dashboard(id)),eventUsageLogic.d.actions.reportDashboardDropdownNavigation())},bordered:!1,dropdownMatchSelectWidth:!1},dashboards.map((function(dash){return react_default.a.createElement(es_select.a.Option,{key:dash.id,value:dash.id},dash.name||react_default.a.createElement("span",{style:{color:"var(--muted)"}},"Untitled"),dash.is_shared&&react_default.a.createElement(Tooltip.a,{title:"This dashboard is publicly shared"},react_default.a.createElement(ShareAltOutlined.a,{style:{marginLeft:4,float:"right"}})))})),react_default.a.createElement(es_select.a.Option,{value:"new"},"+ New Dashboard"))),react_default.a.createElement("div",{className:"dashboard-meta"},dashboardMode===types.e.Edit?actionsEditMode:dashboardMode===types.e.Fullscreen?actionsPresentationMode:actionsDefault))),(null==user||null===(_user$organization=user.organization)||void 0===_user$organization||null===(_user$organization$av=_user$organization.available_features)||void 0===_user$organization$av?void 0:_user$organization$av.includes(types.c.DASHBOARD_COLLABORATION))&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"mb","data-attr":"dashboard-tags"},react_default.a.createElement(ObjectTags.a,{tags:dashboard.tags,onTagSave:saveNewTag,onTagDelete:deleteTag,saving:dashboardLoading,tagsAvailable:dashboardTags.filter((function(tag){return!dashboard.tags.includes(tag)}))})),react_default.a.createElement(Description_Description_Description,{item:dashboard,setItemMode:setDashboardMode,itemMode:dashboardMode,triggerItemUpdate:triggerDashboardUpdate,descriptionInputRef:descriptionInputRef})))}__webpack_require__(93),__webpack_require__(376),__webpack_require__(588),__webpack_require__(2574);var react_grid_layout=__webpack_require__(5704),DashboardItem=__webpack_require__(458),ReactGridLayout=Object(react_grid_layout.WidthProvider)(react_grid_layout.Responsive);function DashboardItems_DashboardItems(){var _useValues=Object(index_esm.useValues)(dashboardLogic),dashboard=_useValues.dashboard,items=_useValues.items,layouts=_useValues.layouts,layoutForItem=_useValues.layoutForItem,breakpoints=_useValues.breakpoints,cols=_useValues.cols,dashboardMode=_useValues.dashboardMode,isRefreshing=_useValues.isRefreshing,_useActions=Object(index_esm.useActions)(dashboardLogic),loadDashboardItems=_useActions.loadDashboardItems,updateLayouts=_useActions.updateLayouts,updateContainerWidth=_useActions.updateContainerWidth,updateItemColor=_useActions.updateItemColor,setDashboardMode=_useActions.setDashboardMode,setDiveDashboard=_useActions.setDiveDashboard,duplicateDashboardItem=Object(index_esm.useActions)(dashboardItemsModel.a).duplicateDashboardItem;Object(react.useEffect)((function(){return Object(utils.ob)()}),[]);var _useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),resizingItem=_useState2[0],setResizingItem=_useState2[1],isDragging=Object(react.useRef)(!1),dragEndTimeout=Object(react.useRef)(null),className="layout"+(dashboardMode===types.e.Edit?Object(utils.O)()?" dragging-items wobbly":" dragging-items":"");return react_default.a.createElement(ReactGridLayout,{className:className,isDraggable:dashboardMode===types.e.Edit,isResizable:dashboardMode===types.e.Edit,layouts:layouts,rowHeight:50,margin:[20,20],containerPadding:[0,0],onLayoutChange:function onLayoutChange(_,newLayouts){updateLayouts(newLayouts),Object(utils.nb)()},onWidthChange:function onWidthChange(containerWidth,_,newCols){updateContainerWidth(containerWidth,newCols)},breakpoints:breakpoints,resizeHandles:["s","e","se"],cols:cols,onResize:function onResize(_layout,_oldItem,newItem){resizingItem&&resizingItem.w===newItem.w&&resizingItem.h===newItem.h||setResizingItem(newItem);var item=null==items?void 0:items.find((function(i){return i.id===parseInt(newItem.i)}));"FunnelViz"===(null==item?void 0:item.filters.display)&&Object(utils.nb)()},onResizeStop:function onResizeStop(){setResizingItem(null),Object(utils.ob)()},onDrag:function onDrag(){isDragging.current=!0,dragEndTimeout.current&&window.clearTimeout(dragEndTimeout.current)},onDragStop:function onDragStop(){dragEndTimeout.current&&window.clearTimeout(dragEndTimeout.current),dragEndTimeout.current=window.setTimeout((function(){isDragging.current=!1}),250)},draggableCancel:".anticon,.ant-dropdown,table,.ant-popover-content"},null==items?void 0:items.map((function(item,index){var _resizingItem$i;return react_default.a.createElement("div",{key:item.id,className:"dashboard-item-wrapper"},react_default.a.createElement(DashboardItem.a,{key:item.id,dashboardId:null==dashboard?void 0:dashboard.id,item:item,layout:(null==resizingItem||null===(_resizingItem$i=resizingItem.i)||void 0===_resizingItem$i?void 0:_resizingItem$i.toString())===item.id.toString()?resizingItem:layoutForItem[item.id],isReloading:isRefreshing(item.id),loadDashboardItems:loadDashboardItems,setDiveDashboard:setDiveDashboard,duplicateDashboardItem:duplicateDashboardItem,moveDashboardItem:function moveDashboardItem(it,dashboardId){return duplicateDashboardItem(it,dashboardId,!0)},updateItemColor:updateItemColor,isDraggingRef:isDragging,dashboardMode:dashboardMode,isHighlighted:item.id===parseInt(new URLSearchParams(window.location.search).get("dive_source_id")||"0"),isOnEditMode:dashboardMode===types.e.Edit,setEditMode:function setEditMode(){return setDashboardMode(types.e.Edit,eventUsageLogic.a.LongPress)},index:index}))})))}var DateFilter=__webpack_require__(499),CalendarOutlined=__webpack_require__(1148),Dashboard=__webpack_require__(5710),Dashboard_default=__webpack_require__.n(Dashboard),Dashboard_options={insert:"head",singleton:!1},useKeyboardHotkeys=(injectStylesIntoStyleTag_default()(Dashboard_default.a,Dashboard_options),Dashboard_default.a.locals,__webpack_require__(810)),TimezoneAware=__webpack_require__(402),row=(__webpack_require__(1764),__webpack_require__(421)),es_col=__webpack_require__(265),skeleton=__webpack_require__(2530);function SkeletonOne(){return react_default.a.createElement(card.a,{className:"hide-lte-lg"},react_default.a.createElement(row.a,null,react_default.a.createElement(es_col.a,{span:12},react_default.a.createElement(skeleton.a,{paragraph:{rows:1}}),react_default.a.createElement("div",{className:"mt"},react_default.a.createElement("div",{className:"mt"},react_default.a.createElement(skeleton.a.Button,null),react_default.a.createElement(skeleton.a.Button,{style:{marginLeft:4,width:140}})),react_default.a.createElement("div",{className:"mt"},react_default.a.createElement(skeleton.a.Button,null),react_default.a.createElement(skeleton.a.Button,{style:{marginLeft:4,width:140}})),react_default.a.createElement("div",{className:"mt"},react_default.a.createElement(skeleton.a.Button,null),react_default.a.createElement(skeleton.a.Button,{style:{marginLeft:4,width:140}})))),react_default.a.createElement(es_col.a,{span:12},react_default.a.createElement("div",{className:"skeleton-actions"},react_default.a.createElement(skeleton.a.Avatar,{shape:"circle",size:"small"}),react_default.a.createElement(skeleton.a.Avatar,{shape:"circle",size:"small"})),react_default.a.createElement(skeleton.a.Avatar,{shape:"circle",size:"large",className:"pie-chart"}))))}function SkeletonTwo(){return react_default.a.createElement(card.a,null,react_default.a.createElement(row.a,null,react_default.a.createElement(es_col.a,{span:12},react_default.a.createElement(skeleton.a,{paragraph:{rows:1}})),react_default.a.createElement(es_col.a,{span:12},react_default.a.createElement("div",{className:"skeleton-actions"},react_default.a.createElement(skeleton.a.Avatar,{shape:"circle",size:"small"}),react_default.a.createElement(skeleton.a.Avatar,{shape:"circle",size:"small"})))),react_default.a.createElement("div",{className:"bar-chart"},Array(8).fill(0).map((function(_,index){var height=Math.floor(161*Math.random())+40;return react_default.a.createElement("div",{className:"bar-el",key:index,style:{height:height}})}))))}function EmptyDashboardComponent(){var addGraph=Object(index_esm.useActions)(dashboardLogic).addGraph;return react_default.a.createElement("div",{className:"empty-state"},react_default.a.createElement("div",{className:"cta"},react_default.a.createElement(card.a,{className:"card-elevated"},react_default.a.createElement("h3",{className:"l3"},"Dashboard empty"),react_default.a.createElement("p",null,"This dashboard sure would look better with some graphs!"),react_default.a.createElement("div",{className:"mt text-center"},react_default.a.createElement(HotkeyButton_HotkeyButton,{onClick:function onClick(){return addGraph()},"data-attr":"dashboard-add-graph-header",icon:react_default.a.createElement(PlusOutlined.a,null),hotkey:"n"},"Add graph")))),react_default.a.createElement(row.a,{gutter:16},react_default.a.createElement(es_col.a,{span:24,lg:12},react_default.a.createElement(SkeletonOne,null)),react_default.a.createElement(es_col.a,{span:24,lg:12},react_default.a.createElement(SkeletonTwo,null))),react_default.a.createElement(row.a,{gutter:16,className:"fade-out-graphs"},react_default.a.createElement(es_col.a,{span:24,lg:12},react_default.a.createElement(SkeletonOne,null)),react_default.a.createElement(es_col.a,{span:24,lg:12},react_default.a.createElement(SkeletonTwo,null))))}var NotFound=__webpack_require__(1639),es_checkbox=__webpack_require__(836),es_radio=__webpack_require__(1135),space=__webpack_require__(5495),DownOutlined=__webpack_require__(574),LoadingOutlined=__webpack_require__(365),ReloadOutlined=__webpack_require__(5498),clsx_m=__webpack_require__(90),DashboardReloadAction_LastRefreshText=function LastRefreshText(){var lastRefreshed=Object(index_esm.useValues)(dashboardLogic).lastRefreshed;return react_default.a.createElement(react_default.a.Fragment,null,"Last updated ",react_default.a.createElement("b",null,lastRefreshed?dayjs_min_default()(lastRefreshed).fromNow():"a while ago"))},intervalOptions=toConsumableArray_default()(Array.from([60,120,300,900],(function(v){return{label:Object(utils.I)(v),value:v}})));function DashboardReloadAction(){var _useValues2=Object(index_esm.useValues)(dashboardLogic),itemsLoading=_useValues2.itemsLoading,autoRefresh=_useValues2.autoRefresh,refreshMetrics=_useValues2.refreshMetrics,_useActions=Object(index_esm.useActions)(dashboardLogic),refreshAllDashboardItemsManual=_useActions.refreshAllDashboardItemsManual,setAutoRefresh=_useActions.setAutoRefresh,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),open=_useState2[0],setOpen=_useState2[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(dropdown.a.Button,{overlay:react_default.a.createElement(menu.a,{"data-attr":"auto-refresh-picker",id:"auto-refresh-picker"},react_default.a.createElement("div",{id:"auto-refresh-check",key:"auto-refresh-check",onClick:function onClick(e){e.stopPropagation(),setOpen(!0),setAutoRefresh(!autoRefresh.enabled,autoRefresh.interval)}},react_default.a.createElement(Tooltip.a,{title:"Refresh dashboard automatically",placement:"bottomLeft"},react_default.a.createElement(es_checkbox.a,{onChange:function onChange(e){e.stopPropagation(),e.preventDefault()},checked:autoRefresh.enabled}),react_default.a.createElement("label",{style:{marginLeft:10,cursor:"pointer"}},"Auto refresh"))),react_default.a.createElement(menu.a.Divider,null),react_default.a.createElement(menu.a.ItemGroup,{title:"Refresh interval"},react_default.a.createElement(es_radio.a.Group,{onChange:function onChange(e){setAutoRefresh(!0,parseInt(e.target.value))},value:autoRefresh.interval,style:{width:"100%"}},react_default.a.createElement(space.b,{direction:"vertical",style:{width:"100%"}},intervalOptions.map((function(_ref){var label=_ref.label,value=_ref.value;return react_default.a.createElement(es_radio.a,{key:value,value:value,style:{width:"100%"}},label)})))))),trigger:["click"],onClick:function onClick(){return refreshAllDashboardItemsManual()},icon:react_default.a.createElement(DownOutlined.a,null),disabled:itemsLoading,buttonsRender:function buttonsRender(_ref2){var _ref3=slicedToArray_default()(_ref2,2),leftButton=_ref3[0],rightButton=_ref3[1];return[react_default.a.cloneElement(leftButton,{style:{paddingLeft:10}}),rightButton]},visible:open,onVisibleChange:function onVisibleChange(toOpen){return setOpen(toOpen)}},react_default.a.createElement("span",{className:"dashboard-items-action-icon"},itemsLoading?react_default.a.createElement(LoadingOutlined.a,null):react_default.a.createElement(ReloadOutlined.a,null)),react_default.a.createElement("span",{className:Object(clsx_m.default)("dashboard-items-action-refresh-text",{hidden:itemsLoading})},react_default.a.createElement(DashboardReloadAction_LastRefreshText,null)),react_default.a.createElement("span",{className:Object(clsx_m.default)("dashboard-items-action-refresh-text","completed",{hidden:!itemsLoading})},"Refreshed ",refreshMetrics.completed," out of ",refreshMetrics.total)))}function Dashboard_Dashboard(_ref){var id=_ref.id,shareToken=_ref.shareToken,internal=_ref.internal;return react_default.a.createElement(index_esm.BindLogic,{logic:dashboardLogic,props:{id:id?parseInt(id):void 0,shareToken:shareToken,internal:internal}},react_default.a.createElement(DashboardView,null))}function DashboardView(){var _dashboardFilters$dat,_dashboardFilters$dat2,_useValues=Object(index_esm.useValues)(dashboardLogic),dashboard=_useValues.dashboard,loadingFirstTime=_useValues.allItemsLoading,items=_useValues.items,dashboardFilters=_useValues.filters,dashboardMode=_useValues.dashboardMode,dashboardsLoading=Object(index_esm.useValues)(dashboardsModel.a).dashboardsLoading,_useActions=Object(index_esm.useActions)(dashboardLogic),setDashboardMode=_useActions.setDashboardMode,addGraph=_useActions.addGraph,setDates=_useActions.setDates;return Object(useKeyboardHotkeys.b)(dashboardMode===types.e.Public||dashboardMode===types.e.Internal?{}:{e:{action:function action(){return setDashboardMode(dashboardMode===types.e.Edit?null:types.e.Edit,eventUsageLogic.a.Hotkey)},disabled:null!==dashboardMode&&dashboardMode!==types.e.Edit},f:{action:function action(){return setDashboardMode(dashboardMode===types.e.Fullscreen?null:types.e.Fullscreen,eventUsageLogic.a.Hotkey)},disabled:null!==dashboardMode&&dashboardMode!==types.e.Fullscreen},k:{action:function action(){return setDashboardMode(dashboardMode===types.e.Sharing?null:types.e.Sharing,eventUsageLogic.a.Hotkey)},disabled:null!==dashboardMode&&dashboardMode!==types.e.Sharing},n:{action:function action(){return addGraph()},disabled:null!==dashboardMode&&dashboardMode!==types.e.Edit},escape:{action:function action(){return setDashboardMode(null,eventUsageLogic.a.Hotkey)},disabled:dashboardMode!==types.e.Edit}},[setDashboardMode,dashboardMode]),dashboardsLoading||loadingFirstTime?react_default.a.createElement(utils.d,null):dashboard?react_default.a.createElement("div",{className:"dashboard"},dashboardMode!==types.e.Public&&dashboardMode!==types.e.Internal&&react_default.a.createElement(DashboardHeader,null),items&&items.length?react_default.a.createElement("div",null,react_default.a.createElement("div",{className:"dashboard-items-actions"},react_default.a.createElement("div",{className:"left-item"},dashboardMode===types.e.Public?react_default.a.createElement(DashboardReloadAction_LastRefreshText,null):react_default.a.createElement(DashboardReloadAction,null)),dashboardMode!==types.e.Public&&react_default.a.createElement("div",{className:"right-item",style:{display:"flex",alignItems:"center",justifyContent:"flex-end"}},react_default.a.createElement(TimezoneAware.a,{style:{marginRight:8,fontWeight:"bold"}}),react_default.a.createElement(DateFilter.a,{defaultValue:"Custom",showCustom:!0,dateFrom:null!==(_dashboardFilters$dat=null==dashboardFilters?void 0:dashboardFilters.date_from)&&void 0!==_dashboardFilters$dat?_dashboardFilters$dat:void 0,dateTo:null!==(_dashboardFilters$dat2=null==dashboardFilters?void 0:dashboardFilters.date_to)&&void 0!==_dashboardFilters$dat2?_dashboardFilters$dat2:void 0,onChange:setDates,makeLabel:function makeLabel(key){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(CalendarOutlined.a,null),react_default.a.createElement("span",{className:"hide-when-small"}," ",key))}}))),react_default.a.createElement(DashboardItems_DashboardItems,null)):react_default.a.createElement(EmptyDashboardComponent,null)):react_default.a.createElement(NotFound.a,{object:"dashboard"})}try{Dashboard_Dashboard.displayName="Dashboard",Dashboard_Dashboard.__docgenInfo={description:"",displayName:"Dashboard",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},shareToken:{defaultValue:null,description:"",name:"shareToken",required:!1,type:{name:"string"}},internal:{defaultValue:null,description:"",name:"internal",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/dashboard/Dashboard.tsx#Dashboard"]={docgenInfo:Dashboard_Dashboard.__docgenInfo,name:"Dashboard",path:"frontend/src/scenes/dashboard/Dashboard.tsx#Dashboard"})}catch(__react_docgen_typescript_loader_error){}}}]);