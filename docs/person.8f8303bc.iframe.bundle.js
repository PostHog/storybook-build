(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{5521:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return personsLogic}));__webpack_require__(46),__webpack_require__(61),__webpack_require__(154),__webpack_require__(103),__webpack_require__(307),__webpack_require__(49),__webpack_require__(224),__webpack_require__(281),__webpack_require__(405),__webpack_require__(2504),__webpack_require__(116),__webpack_require__(38),__webpack_require__(163),__webpack_require__(51);var _babel_runtime_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(87),_babel_runtime_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_babel_runtime_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_14__),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(8),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15__),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(83),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_16__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18__=(__webpack_require__(69),__webpack_require__(16)),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(5),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19__),kea__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(4),kea_router__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(22),lib_api__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(23),react_toastify__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(59),_types__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(9),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(63),scenes_sceneLogic__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(47),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(65),lib_constants__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(20),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(129);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var FILTER_ALLOWLIST=["is_identified","search","cohort"],personsLogic=Object(kea__WEBPACK_IMPORTED_MODULE_20__.kea)({connect:{actions:[lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_25__.c,["reportPersonDetailViewed"]],values:[lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_27__.a,["featureFlags"],scenes_teamLogic__WEBPACK_IMPORTED_MODULE_29__.a,["currentTeam"]]},actions:{setListFilters:function setListFilters(payload){return{payload:payload}},editProperty:function editProperty(key,newValue){return{key:key,newValue:newValue}},setHasNewKeys:!0,navigateToCohort:function navigateToCohort(cohort){return{cohort:cohort}},navigateToTab:function navigateToTab(tab){return{tab:tab}}},reducers:{listFilters:[{},{setListFilters:function setListFilters(state,_ref){var payload=_ref.payload;return _objectSpread(_objectSpread({},state),payload)}}],hasNewKeys:[!1,{setHasNewKeys:function setHasNewKeys(){return!0}}],activeTab:[null,{navigateToTab:function navigateToTab(_,_ref2){return _ref2.tab}}]},selectors:{exampleEmail:[function(s){return[s.persons]},function(persons){var _match$properties,match=persons&&persons.results.find((function(person){var _person$properties;return null===(_person$properties=person.properties)||void 0===_person$properties?void 0:_person$properties.email}));return(null==match||null===(_match$properties=match.properties)||void 0===_match$properties?void 0:_match$properties.email)||"example@gmail.com"}],showSessionRecordings:[function(s){return[s.featureFlags,s.currentTeam]},function(featureFlags,currentTeam){return!!featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_28__.q.REMOVE_SESSIONS]&&(null==currentTeam?void 0:currentTeam.session_recording_opt_in)}],showTabs:[function(s){return[s.featureFlags,s.showSessionRecordings]},function(featureFlags,showSessionRecordings){return!featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_28__.q.REMOVE_SESSIONS]||showSessionRecordings}],currentTab:[function(s){return[s.activeTab,s.showSessionRecordings,s.featureFlags]},function(activeTab,showSessionRecordings,featureFlags){return!activeTab||activeTab===_types__WEBPACK_IMPORTED_MODULE_24__.m.SESSIONS&&featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_28__.q.REMOVE_SESSIONS]?showSessionRecordings?_types__WEBPACK_IMPORTED_MODULE_24__.m.SESSION_RECORDINGS:_types__WEBPACK_IMPORTED_MODULE_24__.m.EVENTS:activeTab!==_types__WEBPACK_IMPORTED_MODULE_24__.m.SESSION_RECORDINGS||showSessionRecordings?activeTab:featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_28__.q.REMOVE_SESSIONS]?_types__WEBPACK_IMPORTED_MODULE_24__.m.EVENTS:_types__WEBPACK_IMPORTED_MODULE_24__.m.SESSIONS}]},listeners:function listeners(_ref3){var _editProperty,actions=_ref3.actions,values=_ref3.values;return{deletePersonSuccess:function deletePersonSuccess(){Object(react_toastify__WEBPACK_IMPORTED_MODULE_23__.c)("Person deleted successfully"),actions.loadPersons(),kea_router__WEBPACK_IMPORTED_MODULE_21__.router.actions.push(scenes_sceneLogic__WEBPACK_IMPORTED_MODULE_26__.c.persons())},editProperty:(_editProperty=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.mark((function _callee(_ref4){var key,newValue,person,parsedValue,action,oldPropertyType,newPropertyType,attemptedParsedNumber,lowercaseValue,response;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(key=_ref4.key,newValue=_ref4.newValue,!(person=values.person)){_context.next=17;break}return parsedValue=newValue,oldPropertyType=null===person.properties[key]?"null":_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_16___default()(person.properties[key]),newPropertyType=_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_16___default()(newValue),attemptedParsedNumber=Number(newValue),Number.isNaN(attemptedParsedNumber)||"boolean"==typeof newValue||(parsedValue=attemptedParsedNumber,newPropertyType="number"),"true"!==(lowercaseValue="string"==typeof parsedValue&&parsedValue.toLowerCase())&&"false"!==lowercaseValue&&"null"!==lowercaseValue||(newPropertyType=null!==(parsedValue="true"===lowercaseValue||"null"===lowercaseValue&&null)?"boolean":"null"),Object.keys(person.properties).includes(key)?(person.properties[key]=parsedValue,action=void 0!==parsedValue?"updated":"removed"):(actions.setHasNewKeys(),person.properties=_objectSpread(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_19___default()({},key,parsedValue),person.properties),action="added"),actions.setPerson(person),_context.next=14,lib_api__WEBPACK_IMPORTED_MODULE_22__.a.update("api/person/".concat(person.id),person);case 14:response=_context.sent,actions.setPerson(response),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_25__.c.actions.reportPersonPropertyUpdated(action,Object.keys(person.properties).length,oldPropertyType,newPropertyType);case 17:case"end":return _context.stop()}}),_callee)}))),function editProperty(_x){return _editProperty.apply(this,arguments)}),navigateToCohort:function navigateToCohort(_ref5){var cohort=_ref5.cohort;kea_router__WEBPACK_IMPORTED_MODULE_21__.router.actions.push(scenes_sceneLogic__WEBPACK_IMPORTED_MODULE_26__.c.cohort(cohort.id))}}},loaders:function loaders(_ref6){var _deletePerson,_loadCohorts,_loadPerson,_loadPersons,values=_ref6.values,actions=_ref6.actions;return{persons:[{next:null,previous:null,results:[]},{loadPersons:(_loadPersons=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.mark((function _callee2(){var url,qs,_args2=arguments;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return(url=_args2.length>0&&void 0!==_args2[0]?_args2[0]:"")||(qs=Object.keys(values.listFilters).filter((function(key){var _url;return"is_identified"!==key?FILTER_ALLOWLIST.includes(key):!(null===(_url=url)||void 0===_url?void 0:_url.includes("is_identified"))})).reduce((function(result,key){var value=values.listFilters[key];return null!=value&&result.push("".concat(key,"=").concat(encodeURIComponent(value))),result}),[]),url="api/person/".concat(qs.length?"?"+qs.join("&"):"")),_context2.next=4,lib_api__WEBPACK_IMPORTED_MODULE_22__.a.get(url);case 4:return _context2.abrupt("return",_context2.sent);case 5:case"end":return _context2.stop()}}),_callee2)}))),function loadPersons(){return _loadPersons.apply(this,arguments)})}],person:[null,{loadPerson:(_loadPerson=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.mark((function _callee3(id){var response,person;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,lib_api__WEBPACK_IMPORTED_MODULE_22__.a.get("api/person/?distinct_id=".concat(id));case 2:return(response=_context3.sent).results.length||kea_router__WEBPACK_IMPORTED_MODULE_21__.router.actions.push(scenes_sceneLogic__WEBPACK_IMPORTED_MODULE_26__.c.notFound()),(person=response.results[0])&&actions.reportPersonDetailViewed(person),_context3.abrupt("return",person);case 7:case"end":return _context3.stop()}}),_callee3)}))),function loadPerson(_x2){return _loadPerson.apply(this,arguments)}),setPerson:function setPerson(person){return person}}],cohorts:[null,{loadCohorts:(_loadCohorts=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.mark((function _callee4(){var _values$person,response;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,lib_api__WEBPACK_IMPORTED_MODULE_22__.a.get("api/person/cohorts/?person_id=".concat(null===(_values$person=values.person)||void 0===_values$person?void 0:_values$person.id));case 2:return response=_context4.sent,_context4.abrupt("return",response.results);case 4:case"end":return _context4.stop()}}),_callee4)}))),function loadCohorts(){return _loadCohorts.apply(this,arguments)})}],deletedPerson:[!1,{deletePerson:(_deletePerson=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_18___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.mark((function _callee5(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_15___default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(values.person){_context5.next=2;break}return _context5.abrupt("return",!1);case 2:return _context5.next=4,lib_api__WEBPACK_IMPORTED_MODULE_22__.a.delete("api/person/".concat(values.person.id));case 4:return _context5.abrupt("return",!0);case 5:case"end":return _context5.stop()}}),_callee5)}))),function deletePerson(){return _deletePerson.apply(this,arguments)})}]}},actionToUrl:function actionToUrl(_ref7){var values=_ref7.values,props=_ref7.props;return{setListFilters:function setListFilters(){if(props.updateURL&&kea_router__WEBPACK_IMPORTED_MODULE_21__.router.values.location.pathname.indexOf("/persons")>-1)return["/persons",values.listFilters,void 0,{replace:!0}]},navigateToTab:function navigateToTab(){if(kea_router__WEBPACK_IMPORTED_MODULE_21__.router.values.location.pathname.indexOf("/person")>-1)return[kea_router__WEBPACK_IMPORTED_MODULE_21__.router.values.location.pathname,kea_router__WEBPACK_IMPORTED_MODULE_21__.router.values.searchParams,_objectSpread(_objectSpread({},kea_router__WEBPACK_IMPORTED_MODULE_21__.router.values.hashParams),{},{activeTab:values.activeTab})]}}},urlToAction:function urlToAction(_ref8){var actions=_ref8.actions,values=_ref8.values;return{"/persons":function persons(_ref9,searchParams){_babel_runtime_helpers_objectDestructuringEmpty__WEBPACK_IMPORTED_MODULE_14___default()(_ref9),actions.setListFilters(searchParams),values.persons.results.length||values.personsLoading||actions.loadPersons()},"/person/*":function person(_ref10,_ref11,_ref12){var _person=_ref10._,sessionRecordingId=_ref11.sessionRecordingId,activeTab=_ref12.activeTab;sessionRecordingId?values.showSessionRecordings?actions.navigateToTab(_types__WEBPACK_IMPORTED_MODULE_24__.m.SESSION_RECORDINGS):actions.navigateToTab(_types__WEBPACK_IMPORTED_MODULE_24__.m.SESSIONS):activeTab&&values.activeTab!==activeTab&&actions.navigateToTab(activeTab),_person&&actions.loadPerson(_person)}}},path:function path(){return["scenes","persons","personsLogic"]}})},5530:function(module,__webpack_exports__,__webpack_require__){"use strict";var _EventDetails__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1709);__webpack_require__.d(__webpack_exports__,"a",(function(){return _EventDetails__WEBPACK_IMPORTED_MODULE_0__.a}));__webpack_require__(1707),__webpack_require__(1704);var _EventsTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1708);__webpack_require__.d(__webpack_exports__,"b",(function(){return _EventsTable__WEBPACK_IMPORTED_MODULE_3__.a}));__webpack_require__(1703),__webpack_require__(1710)},5538:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(21)),_defineProperty2=_interopRequireDefault(__webpack_require__(5)),React=_interopRequireWildcard(__webpack_require__(0)),_classnames=_interopRequireDefault(__webpack_require__(10)),_default=function Element(props){var _classNames,_classNames2,prefixCls=props.prefixCls,className=props.className,style=props.style,size=props.size,shape=props.shape,sizeCls=(0,_classnames.default)((_classNames={},(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-lg"),"large"===size),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-sm"),"small"===size),_classNames)),shapeCls=(0,_classnames.default)((_classNames2={},(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-circle"),"circle"===shape),(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-square"),"square"===shape),(0,_defineProperty2.default)(_classNames2,"".concat(prefixCls,"-round"),"round"===shape),_classNames2)),sizeStyle="number"==typeof size?{width:size,height:size,lineHeight:"".concat(size,"px")}:{};return React.createElement("span",{className:(0,_classnames.default)(prefixCls,sizeCls,shapeCls,className),style:(0,_extends2.default)((0,_extends2.default)({},sizeStyle),style)})};exports.default=_default},5564:function(module,exports,__webpack_require__){(exports=__webpack_require__(57)(!1)).push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-popup{padding:0}.session-recordings-popup__link{color:#000}.session-recordings-popup__link .anticon-play-circle{color:#5375ff}.session-recordings-popup__link.session-recordings-popup__link--viewed .anticon-play-circle,.session-recordings-popup__link:visited .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-popup__detail,.session-recordings-popup__label,.session-recordings-popup__row{display:flex;align-items:center;box-sizing:content-box}.session-recordings-popup__row{height:32px;padding:4px 15px}.session-recordings-popup__label{font-weight:500}.session-recordings-popup__label .anticon{font-size:1.25rem;margin-right:.5rem}.session-recordings-popup__detail{margin-left:1rem}.session-recordings-button__wrapper{display:inline-block}.session-recordings-button .anticon-play-circle{color:#5375ff}.session-recordings-button.session-recordings-button--all-viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-button .session-recordings-button__indicator{font-size:12px;color:rgba(0,0,0,.5)}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5572:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MATCHING_EVENT_ICON_SIZE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SessionsView}));__webpack_require__(46),__webpack_require__(32),__webpack_require__(281);var defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(4),lib=__webpack_require__(22),space=__webpack_require__(5439),es_button=__webpack_require__(136),row=__webpack_require__(447),es_switch=__webpack_require__(5401),badge=__webpack_require__(6027),spin=__webpack_require__(561),Link=__webpack_require__(58),sessionsTableLogic=__webpack_require__(5527),utils=__webpack_require__(12),slicedToArray=(__webpack_require__(49),__webpack_require__(38),__webpack_require__(502),__webpack_require__(138),__webpack_require__(51),__webpack_require__(17)),slicedToArray_default=__webpack_require__.n(slicedToArray),table=__webpack_require__(5398),scenes_events=__webpack_require__(5530),Property=__webpack_require__(438),PropertyKeyInfo=__webpack_require__(55),ResizableTable=__webpack_require__(503),ExpandIcon=__webpack_require__(1715),MonitorOutlined=__webpack_require__(6039),Tooltip=__webpack_require__(50);function SessionDetails(_ref){var session=_ref.session,filteredSessionEvents=Object(index_esm.useValues)(sessionsTableLogic.b).filteredSessionEvents,loadSessionEvents=Object(index_esm.useActions)(sessionsTableLogic.b).loadSessionEvents,_useState=Object(react.useState)(1),_useState2=slicedToArray_default()(_useState,2),page=_useState2[0],setPage=_useState2[1],_useState3=Object(react.useState)(50),_useState4=slicedToArray_default()(_useState3,2),pageSize=_useState4[0],setPageSize=_useState4[1],events=filteredSessionEvents[session.global_session_id],matchingEventIds=Object(react.useMemo)((function(){return new Set(session.matching_events||[])}),[session.matching_events]);Object(react.useEffect)((function(){events||loadSessionEvents(session)}),[]);var columns=[{title:"Event",key:"id",render:function RenderEvent(event){return react_default.a.createElement(PropertyKeyInfo.b,{value:Object(utils.z)(event),ellipsis:!1})}},{title:"URL / screen",key:"url",render:function renderURL(event){if(!event)return{props:{colSpan:0}};var param=event.properties.$current_url?"$current_url":"$screen_name";return react_default.a.createElement(Property.a,{value:event.properties[param]})},ellipsis:!0},{title:"Timestamp",render:function RenderTimestamp(_ref2){var timestamp=_ref2.timestamp;return react_default.a.createElement("span",null,Object(utils.H)(timestamp,!0))}},{title:"Time since previous event",render:function RenderElapsed(_ref3,_,index){var timestamp=_ref3.timestamp,realIndex=(page-1)*pageSize+index,lastEvent=realIndex>0?null==events?void 0:events[realIndex-1]:null;return react_default.a.createElement("span",null,lastEvent?Object(utils.I)(lastEvent.timestamp,timestamp):"0s")}}];return react_default.a.createElement(table.a,{columns:columns,rowKey:"id",rowClassName:function rowClassName(event){return matchingEventIds.has(event.id)?"sessions-event-highlighted":""},dataSource:events,loading:!events,pagination:{pageSize:pageSize,hideOnSinglePage:!events||events.length<10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200","500"],onChange:function onChange(changedPage,changedPageSize){setPage(changedPage),setPageSize(changedPageSize||50)}},expandable:{expandedRowRender:function renderExpand(event){return react_default.a.createElement(scenes_events.a,{event:event})},rowExpandable:function rowExpandable(event){return!!event},expandRowByClick:!0,columnWidth:ResizableTable.a+MATCHING_EVENT_ICON_SIZE,expandIcon:function _renderExpandIcon(expandProps){var event=expandProps.record;return react_default.a.createElement(ExpandIcon.a,expandProps,matchingEventIds.has(event.id)?react_default.a.createElement(Tooltip.a,{title:"Matches your event filters"},react_default.a.createElement("div",{className:"sessions-event-matching-events-icon cursor-pointer ml-05"},react_default.a.createElement(MonitorOutlined.a,null))):react_default.a.createElement(react_default.a.Fragment,null))}}})}try{SessionDetails.displayName="SessionDetails",SessionDetails.__docgenInfo={description:"",displayName:"SessionDetails",props:{session:{defaultValue:null,description:"",name:"session",required:!0,type:{name:"SessionType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionDetails.tsx#SessionDetails"]={docgenInfo:SessionDetails.__docgenInfo,name:"SessionDetails",path:"frontend/src/scenes/sessions/SessionDetails.tsx#SessionDetails"})}catch(__react_docgen_typescript_loader_error){}var dayjs_min=__webpack_require__(31),dayjs_min_default=__webpack_require__.n(dayjs_min),QuestionCircleOutlined=__webpack_require__(2496),PoweroffOutlined=__webpack_require__(6041),CaretLeftOutlined=__webpack_require__(6042),CaretRightOutlined=__webpack_require__(5809),PlayCircleOutlined=__webpack_require__(5805),injectStylesIntoStyleTag=(__webpack_require__(501),__webpack_require__(26)),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),SessionRecordingsButton=__webpack_require__(5564),SessionRecordingsButton_default=__webpack_require__.n(SessionRecordingsButton),options={insert:"head",singleton:!1},ArrowRightOutlined=(injectStylesIntoStyleTag_default()(SessionRecordingsButton_default.a,options),SessionRecordingsButton_default.a.locals,__webpack_require__(5403)),DownOutlined=__webpack_require__(556),Popup=__webpack_require__(387),clsx_m=__webpack_require__(89);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var SessionRecordingsButton_sessionPlayerUrl=function sessionPlayerUrl(sessionRecordingId){return"".concat(location.pathname,"?").concat(Object(utils.mb)(_objectSpread(_objectSpread({},Object(utils.C)()),{},{sessionRecordingId:sessionRecordingId})))};function SessionRecordingsButton_SessionRecordingsButton(_ref){var sessionRecordings=_ref.sessionRecordings,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),areRecordingsShown=_useState2[0],setAreRecordingsShown=_useState2[1],wereAllRecordingsViewed=!sessionRecordings.some((function(_ref2){return!_ref2.viewed})),isSingleRecording=1===sessionRecordings.length,ButtonWrapper=Object(react.useCallback)((function(_ref3){var setRef=_ref3.setRef,children=_ref3.children;return isSingleRecording?react_default.a.createElement("div",{className:"session-recordings-button__wrapper",ref:setRef},react_default.a.createElement(Link.a,{to:SessionRecordingsButton_sessionPlayerUrl(sessionRecordings[0].id),onClick:function onClick(event){event.stopPropagation(),setAreRecordingsShown(!1)},onMouseEnter:function onMouseEnter(){return setAreRecordingsShown(!0)},onMouseLeave:function onMouseLeave(){return setAreRecordingsShown(!1)}},children)):react_default.a.createElement("div",{ref:setRef,className:"session-recordings-button__wrapper",onClick:function onClick(event){event.stopPropagation(),setAreRecordingsShown((function(previousValue){return!previousValue}))}},children)}),[sessionRecordings,setAreRecordingsShown]);return react_default.a.createElement(Popup.a,{visible:areRecordingsShown,placement:"bottom-end",fallbackPlacements:["top-end"],className:"session-recordings-popup",overlay:sessionRecordings.map((function(_ref4,index){var id=_ref4.id,viewed=_ref4.viewed,recording_duration=_ref4.recording_duration,start_time=_ref4.start_time;return react_default.a.createElement(Link.a,{key:id,to:SessionRecordingsButton_sessionPlayerUrl(id),className:Object(clsx_m.default)("session-recordings-popup__link",viewed&&"session-recordings-popup__link--viewed"),onClick:function onClick(event){event.stopPropagation(),setAreRecordingsShown(!1)},"data-attr":"sessions-player-button"},react_default.a.createElement("div",{className:"session-recordings-popup__row"},react_default.a.createElement("div",{className:"session-recordings-popup__label"},react_default.a.createElement(Tooltip.a,{title:viewed?"This recording has been watched already.":"This recording has not been watched yet."},react_default.a.createElement(PlayCircleOutlined.a,{className:viewed?"text-muted":void 0})),"Recording ",index+1),react_default.a.createElement("div",{className:"session-recordings-popup__detail text-muted"},Object(utils.H)(start_time)," • ",Object(utils.k)(recording_duration))))})),onClickOutside:function onClickOutside(){setAreRecordingsShown(!1)}},(function(_ref5){var setRef=_ref5.setRef;return react_default.a.createElement(ButtonWrapper,{setRef:setRef},react_default.a.createElement(es_button.a,{className:Object(clsx_m.default)("session-recordings-button",wereAllRecordingsViewed&&"session-recordings-button--all-viewed"),"data-attr":"session-recordings-button",icon:react_default.a.createElement(PlayCircleOutlined.a,null)},"Watch session",isSingleRecording?react_default.a.createElement(ArrowRightOutlined.a,{className:"session-recordings-button__indicator"}):react_default.a.createElement(DownOutlined.a,{className:"session-recordings-button__indicator"})))}))}try{SessionRecordingsButton_SessionRecordingsButton.displayName="SessionRecordingsButton",SessionRecordingsButton_SessionRecordingsButton.__docgenInfo={description:"",displayName:"SessionRecordingsButton",props:{sessionRecordings:{defaultValue:null,description:"",name:"sessionRecordings",required:!0,type:{name:"SessionRecordingType[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionRecordingsButton.tsx#SessionRecordingsButton"]={docgenInfo:SessionRecordingsButton_SessionRecordingsButton.__docgenInfo,name:"SessionRecordingsButton",path:"frontend/src/scenes/sessions/SessionRecordingsButton.tsx#SessionRecordingsButton"})}catch(__react_docgen_typescript_loader_error){}try{SessionRecordingsButton_sessionPlayerUrl.displayName="sessionPlayerUrl",SessionRecordingsButton_sessionPlayerUrl.__docgenInfo={description:"",displayName:"sessionPlayerUrl",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionRecordingsButton.tsx#sessionPlayerUrl"]={docgenInfo:SessionRecordingsButton_sessionPlayerUrl.__docgenInfo,name:"sessionPlayerUrl",path:"frontend/src/scenes/sessions/SessionRecordingsButton.tsx#sessionPlayerUrl"})}catch(__react_docgen_typescript_loader_error){}var LinkButton=__webpack_require__(252),AimOutlined=(__webpack_require__(56),__webpack_require__(97),__webpack_require__(335),__webpack_require__(5461)),ContainerOutlined=__webpack_require__(5460),UsergroupAddOutlined=__webpack_require__(5462),PlaySquareOutlined=__webpack_require__(5806),SelectBox=__webpack_require__(5574),actionsModel=__webpack_require__(297),types=__webpack_require__(9),ActionFilterDropdown=__webpack_require__(5562),sessionsFiltersLogic=__webpack_require__(5520),cohortsModel=__webpack_require__(184),eventDefinitionsModel=__webpack_require__(199),personPropertiesModel=__webpack_require__(1047);function SessionsFilterBox_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SessionsFilterBox(_ref){var selector=_ref.selector,personProperties=Object(index_esm.useValues)(personPropertiesModel.a).personProperties,openFilter=Object(index_esm.useValues)(sessionsFiltersLogic.a).openFilter,_useActions=Object(index_esm.useActions)(sessionsFiltersLogic.a),closeFilterSelect=_useActions.closeFilterSelect,dropdownSelected=_useActions.dropdownSelected,eventDefinitions=Object(index_esm.useValues)(eventDefinitionsModel.a).eventDefinitions,actions=Object(index_esm.useValues)(actionsModel.a).actions,cohorts=Object(index_esm.useValues)(cohortsModel.a).cohorts;if(openFilter!==selector)return null;var groups=[{name:"Actions",header:function actionHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(AimOutlined.a,null)," ",label)},dataSource:actions.map((function(action){return{key:types.f.ACTIONS+action.id,name:action.name,volume:action.count,id:action.id,action:action}})),renderInfo:ActionFilterDropdown.a,type:"action_type",key:"action_type",getValue:function getValue(item){var _item$action;return(null===(_item$action=item.action)||void 0===_item$action?void 0:_item$action.id)||""},getLabel:function getLabel(item){var _item$action2;return(null===(_item$action2=item.action)||void 0===_item$action2?void 0:_item$action2.name)||""}},{name:"Events",header:function eventHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ContainerOutlined.a,null)," ",label)},dataSource:eventDefinitions.map((function(definition){return function SessionsFilterBox_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SessionsFilterBox_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SessionsFilterBox_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({key:types.f.EVENTS+definition.name},definition)}))||[],renderInfo:function events(_ref2){var item=_ref2.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ContainerOutlined.a,null)," Events",react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name),(null==item?void 0:item.volume_30_day)&&react_default.a.createElement(react_default.a.Fragment,null,"Seen ",react_default.a.createElement("strong",null,item.volume_30_day)," times."," "),(null==item?void 0:item.query_usage_30_day)&&react_default.a.createElement(react_default.a.Fragment,null,"Used in ",react_default.a.createElement("strong",null,item.query_usage_30_day)," queries."))},type:"event_type",key:"event_type",getValue:function getValue(item){return item.name},getLabel:function getLabel(item){return item.name}},{name:"Cohorts",header:function cohortHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," ",label)},dataSource:cohorts.map((function(cohort){return{key:"cohorts"+cohort.id,name:cohort.name||"",id:cohort.id,cohort:cohort}})),renderInfo:function renderCohorts(_ref3){var _item$cohort,item=_ref3.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," Cohorts",react_default.a.createElement(Link.a,{to:"/cohorts/".concat(item.id,"#backTo=Insights&backToURL=").concat(encodeURIComponent(window.location.pathname+window.location.search)),style:{float:"right"}},"edit"),react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name),(null==item||null===(_item$cohort=item.cohort)||void 0===_item$cohort?void 0:_item$cohort.count)&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("strong",null,item.cohort.count)," persons in cohort."))},type:"cohort",key:"cohort",getValue:function getValue(item){return item.id||""},getLabel:function getLabel(item){return item.name}}];return personProperties.length>0&&groups.unshift({name:"User properties",header:function userHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," ",label)},dataSource:personProperties.map((function(_ref4){var name=_ref4.name;return{key:"person"+name,name:name,usage_count:_ref4.count}})),renderInfo:function renderPersonProperty(_ref5){var item=_ref5.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," Person property",react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name),(null==item?void 0:item.query_usage_30_day)&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("strong",null,item.query_usage_30_day)," persons have this property."))},key:"person",type:"person",getValue:function getValue(item){return item.name},getLabel:function getLabel(item){return item.name}}),groups.unshift({name:"Recording properties",header:function userPropertiesHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PlaySquareOutlined.a,null)," ",label)},dataSource:[{key:"duration",name:"Recording duration",value:"duration"},{key:"unseen",name:"Unseen recordings",value:"unseen"}],renderInfo:function recordingProperty(_ref6){var item=_ref6.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PlaySquareOutlined.a,null)," Recording properties",react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name))},key:"recording",type:"recording",getValue:function getValue(item){return item.value||""},getLabel:function getLabel(item){return item.name}}),react_default.a.createElement(SelectBox.a,{selectedItemKey:void 0,onDismiss:closeFilterSelect,onSelect:dropdownSelected,items:groups})}try{SessionsFilterBox.displayName="SessionsFilterBox",SessionsFilterBox.__docgenInfo={description:"",displayName:"SessionsFilterBox",props:{selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"FilterSelector"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/SessionsFilterBox.tsx#SessionsFilterBox"]={docgenInfo:SessionsFilterBox.__docgenInfo,name:"SessionsFilterBox",path:"frontend/src/scenes/sessions/filters/SessionsFilterBox.tsx#SessionsFilterBox"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(209),__webpack_require__(223),__webpack_require__(152),__webpack_require__(164),__webpack_require__(153);var card=__webpack_require__(5435),divider=__webpack_require__(5429),SaveOutlined=__webpack_require__(5491),SearchOutlined=__webpack_require__(1118),CloseButton=__webpack_require__(219),fuse_esm=(__webpack_require__(61),__webpack_require__(210),__webpack_require__(351)),es_select=__webpack_require__(179),SelectGradientOverflow=__webpack_require__(632),eventUsageLogic=__webpack_require__(63),fuseCache={};function PropertySelect(_ref){var optionGroups=_ref.optionGroups,propertyOption=_ref.value,_onChange=_ref.onChange,placeholder=_ref.placeholder,autoOpenIfEmpty=_ref.autoOpenIfEmpty,delayBeforeAutoOpen=_ref.delayBeforeAutoOpen,_ref$dropdownMatchSel=_ref.dropdownMatchSelectWidth,dropdownMatchSelectWidth=void 0===_ref$dropdownMatchSel||_ref$dropdownMatchSel,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),search=_useState2[0],setSearch=_useState2[1],reportPropertySelectOpened=Object(index_esm.useActions)(eventUsageLogic.c).reportPropertySelectOpened;return react_default.a.createElement(SelectGradientOverflow.a,{showSearch:!0,autoFocus:autoOpenIfEmpty&&!(null==propertyOption?void 0:propertyOption.value),defaultOpen:autoOpenIfEmpty&&!(null==propertyOption?void 0:propertyOption.value),delayBeforeAutoOpen:delayBeforeAutoOpen,placeholder:placeholder,"data-attr":"property-filter-dropdown",labelInValue:!0,value:propertyOption||void 0,onSearch:function onSearch(value){setSearch(value)},filterOption:function filterOption(){return!0},onChange:function onChange(_,selection){var _ref2=selection,val=_ref2.value,type=_ref2.type;_onChange(type,val.replace(/^(event_|person_|element_)/gi,""))},style:{width:"100%"},dropdownMatchSelectWidth:dropdownMatchSelectWidth,onDropdownVisibleChange:function onDropdownVisibleChange(open){open&&reportPropertySelectOpened()}},optionGroups.map((function(group){var _group$options;return(null===(_group$options=group.options)||void 0===_group$options?void 0:_group$options.length)>0&&react_default.a.createElement(es_select.a.OptGroup,{key:group.type,label:group.label},function searchItems(sources,search,groupType){return search?(fuseCache[groupType]||(fuseCache[groupType]=new fuse_esm.a(sources,{keys:["value"],threshold:.3})),fuseCache[groupType].search(search).map((function(result){return result.item}))):sources}(group.options,search,group.type).map((function(option,index){return react_default.a.createElement(es_select.a.Option,{key:"".concat(group.type,"_").concat(option.value),value:"".concat(group.type,"_").concat(option.value),type:group.type,"data-attr":"prop-filter-".concat(group.type,"-").concat(index)},react_default.a.createElement(PropertyKeyInfo.b,{value:option.value,type:"element"==group.type?group.type:void 0}))})))})))}try{PropertySelect.displayName="PropertySelect",PropertySelect.__docgenInfo={description:"",displayName:"PropertySelect",props:{optionGroups:{defaultValue:null,description:"",name:"optionGroups",required:!0,type:{name:"PropertyOptionGroup[]"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Partial<SelectOption> | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:'(type: "person" | "event" | "element", value: string) => void'}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},autoOpenIfEmpty:{defaultValue:null,description:"",name:"autoOpenIfEmpty",required:!1,type:{name:"boolean"}},delayBeforeAutoOpen:{defaultValue:null,description:"",name:"delayBeforeAutoOpen",required:!1,type:{name:"number"}},dropdownMatchSelectWidth:{defaultValue:{value:"true"},description:"",name:"dropdownMatchSelectWidth",required:!1,type:{name:"number | boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx#PropertySelect"]={docgenInfo:PropertySelect.__docgenInfo,name:"PropertySelect",path:"frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx#PropertySelect"})}catch(__react_docgen_typescript_loader_error){}var OperatorValueSelect=__webpack_require__(1705),propertyDefinitionsModel=__webpack_require__(298);function EventPropertyFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function EventPropertyFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?EventPropertyFilter_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):EventPropertyFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function EventPropertyFilter(_ref){var _keyMapping$event$pro,filter=_ref.filter,selector=_ref.selector,transformedPropertyDefinitions=Object(index_esm.useValues)(propertyDefinitionsModel.a).transformedPropertyDefinitions,updateFilter=Object(index_esm.useActions)(sessionsFiltersLogic.a).updateFilter,property=filter.properties&&filter.properties.length>0?filter.properties[0]:null,value=property?{value:property.key,label:(null===(_keyMapping$event$pro=PropertyKeyInfo.f.event[property.key])||void 0===_keyMapping$event$pro?void 0:_keyMapping$event$pro.label)||property.key}:null;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PropertySelect,{value:value,optionGroups:[{type:"event",label:"Event properties",options:transformedPropertyDefinitions}],onChange:function onChange(_,key){updateFilter(EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({},filter),{},{properties:[EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({operator:types.o.Exact,value:null},property),{},{type:"event",key:key})]}),selector)},placeholder:"Add property filter"}),property&&react_default.a.createElement(OperatorValueSelect.b,{type:"event",propkey:property.key,operator:property.operator,value:property.value,onChange:function onChange(operator,changedValue){updateFilter(EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({},filter),{},{properties:[EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({},property),{},{operator:operator,value:changedValue})]}),selector)}}))}try{EventPropertyFilter.displayName="EventPropertyFilter",EventPropertyFilter.__docgenInfo={description:"",displayName:"EventPropertyFilter",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionTypePropertyFilter | EventTypePropertyFilter"}},selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/EventPropertyFilter.tsx#EventPropertyFilter"]={docgenInfo:EventPropertyFilter.__docgenInfo,name:"EventPropertyFilter",path:"frontend/src/scenes/sessions/filters/EventPropertyFilter.tsx#EventPropertyFilter"})}catch(__react_docgen_typescript_loader_error){}function UserFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function UserFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?UserFilter_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):UserFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function PersonFilter(_ref){var filter=_ref.filter,selector=_ref.selector,updateFilter=Object(index_esm.useActions)(sessionsFiltersLogic.a).updateFilter;return react_default.a.createElement(OperatorValueSelect.b,{type:"person",propkey:filter.key,operator:filter.operator,value:filter.value,onChange:function onChange(operator,value){updateFilter(UserFilter_objectSpread(UserFilter_objectSpread({},filter),{},{operator:operator,value:value}),selector)}})}try{PersonFilter.displayName="PersonFilter",PersonFilter.__docgenInfo={description:"",displayName:"PersonFilter",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"PersonPropertyFilter"}},selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/UserFilter.tsx#PersonFilter"]={docgenInfo:PersonFilter.__docgenInfo,name:"PersonFilter",path:"frontend/src/scenes/sessions/filters/UserFilter.tsx#PersonFilter"})}catch(__react_docgen_typescript_loader_error){}var input=__webpack_require__(664);function DurationFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DurationFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DurationFilter_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DurationFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var multipliers={s:1,m:60,h:3600},durationToSeconds=function durationToSeconds(value,unit){return value*multipliers[unit]};function DurationFilter(_ref){var filter=_ref.filter,selector=_ref.selector,_useState=Object(react.useState)("m"),_useState2=slicedToArray_default()(_useState,2),unit=_useState2[0],setUnit=_useState2[1],_useState3=Object(react.useState)(Math.floor(filter.value/multipliers[unit])),_useState4=slicedToArray_default()(_useState3,2),duration=_useState4[0],setDuration=_useState4[1],updateFilter=Object(index_esm.useActions)(sessionsFiltersLogic.a).updateFilter;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(OperatorValueSelect.a,{operator:filter.operator,operators:[types.o.GreaterThan,types.o.LessThan],onChange:function onChange(operator){updateFilter(DurationFilter_objectSpread(DurationFilter_objectSpread({},filter),{},{operator:operator}),selector)}}),react_default.a.createElement(input.a,{type:"number",value:duration,placeholder:"0",min:0,autoFocus:!0,addonAfter:react_default.a.createElement(es_select.a,{showSearch:!1,value:unit,onChange:function onChange(newUnit){setUnit(newUnit),updateFilter(DurationFilter_objectSpread(DurationFilter_objectSpread({},filter),{},{value:durationToSeconds(duration,newUnit)}),selector)}},react_default.a.createElement(es_select.a.Option,{value:"s"},"seconds"),react_default.a.createElement(es_select.a.Option,{value:"m"},"minutes"),react_default.a.createElement(es_select.a.Option,{value:"h"},"hours")),step:1,onChange:function onChange(event){var value=parseFloat(event.target.value);setDuration(value),updateFilter(DurationFilter_objectSpread(DurationFilter_objectSpread({},filter),{},{value:durationToSeconds(value,unit)}),selector)}}))}try{DurationFilter.displayName="DurationFilter",DurationFilter.__docgenInfo={description:"",displayName:"DurationFilter",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"RecordingDurationFilter"}},selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/DurationFilter.tsx#DurationFilter"]={docgenInfo:DurationFilter.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/sessions/filters/DurationFilter.tsx#DurationFilter"})}catch(__react_docgen_typescript_loader_error){}var PlusOutlined=__webpack_require__(1700);function AddFilterButton(_ref){var selector=_ref.selector,openFilterSelect=Object(index_esm.useActions)(sessionsFiltersLogic.a).openFilterSelect;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(es_button.a,{onClick:function onClick(){return openFilterSelect(selector)},className:"add-session-filter"},react_default.a.createElement("span",null,react_default.a.createElement(PlusOutlined.a,null),react_default.a.createElement("span",{style:{marginLeft:8}},"Add filter")),react_default.a.createElement(DownOutlined.a,{style:{fontSize:12,color:"var(--muted)"}})),react_default.a.createElement(SessionsFilterBox,{selector:selector}))}try{AddFilterButton.displayName="AddFilterButton",AddFilterButton.__docgenInfo={description:"",displayName:"AddFilterButton",props:{selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/AddFilterButton.tsx#AddFilterButton"]={docgenInfo:AddFilterButton.__docgenInfo,name:"AddFilterButton",path:"frontend/src/scenes/sessions/filters/AddFilterButton.tsx#AddFilterButton"})}catch(__react_docgen_typescript_loader_error){}var constants=__webpack_require__(20),SelectDownIcon=__webpack_require__(1711),SECTIONS={recording:{label:"Recording filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions ",react_default.a.createElement("b",null,"with recordings")," matching the following")},person:{label:"User property filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions where user properties match ",react_default.a.createElement("b",null,"all")," of the following")},action_type:{label:"Action filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions where a given ",react_default.a.createElement("b",null,"action")," has been triggered")},event_type:{label:"Event filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions where a given ",react_default.a.createElement("b",null,"event")," has been triggered")},cohort:{label:"Cohort filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions by ",react_default.a.createElement("b",null,"users in")," the following cohorts")}};function EditFiltersPanel(_ref){var onSubmit=_ref.onSubmit,_useValues=Object(index_esm.useValues)(sessionsFiltersLogic.a),activeFilter=_useValues.activeFilter,displayedFilterCount=_useValues.displayedFilterCount,displayedFilters=_useValues.displayedFilters,_useActions=Object(index_esm.useActions)(sessionsFiltersLogic.a),openFilterSelect=_useActions.openFilterSelect,openEditFilter=_useActions.openEditFilter,removeFilter=_useActions.removeFilter,filtersDirty=Object(index_esm.useValues)(sessionsTableLogic.b).filtersDirty;if(0===displayedFilterCount)return null;var andTag=function andTag(visible){return react_default.a.createElement("span",{className:"stateful-badge and",style:{visibility:visible?"initial":"hidden",marginLeft:16}},"AND")},properties=[],events=[],actions=[];Object.entries(displayedFilters).forEach((function(_ref2){var _ref3=slicedToArray_default()(_ref2,2),key=_ref3[0],values=_ref3[1];key===constants.g&&values.forEach((function(filter){!filter.item.label||"string"!=typeof filter.item.value&&"number"!=typeof filter.item.value||actions.push({id:filter.item.value,name:filter.item.label,type:"actions",order:0})})),key===constants.o&&values.forEach((function(filter){!filter.item.label||"string"!=typeof filter.item.value&&"number"!=typeof filter.item.value||events.push({id:filter.item.value,name:filter.item.label,type:"events",order:0})})),"cohort"===key&&values.forEach((function(filter){filter.item.value&&properties.push({key:"id",value:filter.item.value,type:"cohort",operator:types.o.Exact})})),"person"===key&&values.forEach((function(filter){filter.item.value&&properties.push({key:filter.item.key,value:filter.item.value,type:"person",operator:filter.item.operator})}))}));var params={insight:types.r.TRENDS,interval:"day",display:"ActionsLineGraph",events:events,actions:actions,properties:properties},encodedParams=Object(utils.mb)(params),insightLink="/insights?".concat(encodedParams,"#backTo=Sessions&backToURL=").concat(window.location.pathname+window.location.search);return react_default.a.createElement(card.a,null,Object.entries(displayedFilters).map((function(_ref4){var _ref5=slicedToArray_default()(_ref4,2),key=_ref5[0],filters=_ref5[1];return react_default.a.createElement("div",{key:key},react_default.a.createElement("div",{className:"sessions-filter-title"},react_default.a.createElement("h3",null,SECTIONS[key].label),react_default.a.createElement("p",{className:"text-muted"},SECTIONS[key].description)),filters.map((function(_ref6,index){var _item$label,item=_ref6.item,selector=_ref6.selector;return react_default.a.createElement("div",{className:"sessions-filter-row",key:selector},react_default.a.createElement("div",{className:"sessions-filter-row-filters"},react_default.a.createElement("div",null,react_default.a.createElement(es_button.a,{onClick:function onClick(){return openFilterSelect(selector)},className:"full-width",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},"data-attr":"edit-session-filter"},react_default.a.createElement(PropertyKeyInfo.b,{value:null!==(_item$label=item.label)&&void 0!==_item$label?_item$label:""}),react_default.a.createElement(SelectDownIcon.a,{className:"text-muted"})),react_default.a.createElement(SessionsFilterBox,{selector:selector})),("event_type"===item.type||"action_type"===item.type)&&react_default.a.createElement(EventPropertyFilter,{filter:item,selector:selector}),"person"===item.type&&react_default.a.createElement(PersonFilter,{filter:item,selector:selector}),"recording"===item.type&&"duration"===item.key&&react_default.a.createElement(DurationFilter,{filter:item,selector:selector})),filters.length>1&&andTag(index<filters.length-1),react_default.a.createElement(CloseButton.a,{onClick:function onClick(){return removeFilter(selector)},style:{marginLeft:8}}))})),react_default.a.createElement("div",{className:"sessions-filter-row"},react_default.a.createElement("div",{className:"sessions-filter-row-filters"},react_default.a.createElement(AddFilterButton,{selector:"new-".concat(key)})),filters.length>1&&andTag(!1),react_default.a.createElement(CloseButton.a,{style:{marginLeft:8,visibility:"hidden"}})),react_default.a.createElement(divider.a,null))})),react_default.a.createElement(space.b,{style:{display:"flex",justifyContent:"space-between"}},react_default.a.createElement(space.b,null,react_default.a.createElement(LinkButton.a,{to:insightLink},react_default.a.createElement("span",null,"View Insights"))),react_default.a.createElement(space.b,null,filtersDirty&&react_default.a.createElement("div",{className:"text-warning"},"There are unapplied filters."),react_default.a.createElement(es_button.a,{disabled:!!activeFilter,onClick:function onClick(){return openEditFilter({id:null})}},react_default.a.createElement("span",null,react_default.a.createElement(SaveOutlined.a,null)," Save filter")),react_default.a.createElement(es_button.a,{type:"primary",onClick:onSubmit,"data-attr":"sessions-apply-filters"},react_default.a.createElement("span",null,react_default.a.createElement(SearchOutlined.a,null)," Apply filters")))))}try{EditFiltersPanel.displayName="EditFiltersPanel",EditFiltersPanel.__docgenInfo={description:"",displayName:"EditFiltersPanel",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/EditFiltersPanel.tsx#EditFiltersPanel"]={docgenInfo:EditFiltersPanel.__docgenInfo,name:"EditFiltersPanel",path:"frontend/src/scenes/sessions/filters/EditFiltersPanel.tsx#EditFiltersPanel"})}catch(__react_docgen_typescript_loader_error){}function SearchAllBox(){var openFilter=Object(index_esm.useValues)(sessionsFiltersLogic.a).openFilter,_useActions=Object(index_esm.useActions)(sessionsFiltersLogic.a),openFilterSelect=_useActions.openFilterSelect,closeFilterSelect=_useActions.closeFilterSelect;return react_default.a.createElement("div",{className:"mb-05 full-width"},react_default.a.createElement(es_button.a,{style:{textAlign:"left"},"data-attr":"sessions-filter-open",onClick:function onClick(){return openFilter?closeFilterSelect():openFilterSelect("new")}},react_default.a.createElement("span",{className:"text-muted"},"Filter by user, action, or event properties",react_default.a.createElement(SelectDownIcon.a,null))))}var dayjs=__webpack_require__(833),dayjs_default=__webpack_require__.n(dayjs),generatePicker=__webpack_require__(828),teamLogic=__webpack_require__(129),icons=__webpack_require__(91),featureFlagLogic=__webpack_require__(65),sceneLogic=__webpack_require__(47),SessionPlayerDrawer=__webpack_require__(5552);function SessionsView_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SessionsView_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SessionsView_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SessionsView_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var DatePicker=Object(generatePicker.b)(dayjs_default.a);var MATCHING_EVENT_ICON_SIZE=26;function SessionsView(_ref2){var personIds=_ref2.personIds,_ref2$isPersonPage=_ref2.isPersonPage,isPersonPage=void 0!==_ref2$isPersonPage&&_ref2$isPersonPage,logic=Object(sessionsTableLogic.b)({personIds:personIds}),_useValues=Object(index_esm.useValues)(logic),sessions=_useValues.sessions,sessionsLoading=_useValues.sessionsLoading,pagination=_useValues.pagination,isLoadingNext=_useValues.isLoadingNext,selectedDate=_useValues.selectedDate,properties=_useValues.properties,sessionRecordingId=_useValues.sessionRecordingId,firstRecordingId=_useValues.firstRecordingId,expandedRowKeysProps=_useValues.expandedRowKeysProps,showOnlyMatches=_useValues.showOnlyMatches,filters=_useValues.filters,rowExpandState=_useValues.rowExpandState,_useActions=Object(index_esm.useActions)(logic),fetchNextSessions=_useActions.fetchNextSessions,previousDay=_useActions.previousDay,nextDay=_useActions.nextDay,setFilters=_useActions.setFilters,applyFilters=_useActions.applyFilters,toggleExpandSessionRows=_useActions.toggleExpandSessionRows,onExpandedRowsChange=_useActions.onExpandedRowsChange,setShowOnlyMatches=_useActions.setShowOnlyMatches,closeSessionPlayer=_useActions.closeSessionPlayer,currentTeam=Object(index_esm.useValues)(teamLogic.a).currentTeam,featureFlags=Object(index_esm.useValues)(featureFlagLogic.a).featureFlags,sessionsTableRef=Object(react.useRef)(null),columns=[{title:"Person",key:"person",render:function RenderSession(session){return react_default.a.createElement(Link.a,{to:"/person/".concat(encodeURIComponent(session.distinct_id)),className:"ph-no-capture"},(null==session?void 0:session.email)||session.distinct_id)},ellipsis:!0,span:3},{title:"Session duration",render:function RenderDuration(session){if(session.session_recordings.length>0){var seconds=function getSessionRecordingsDurationSum(session){return session.session_recordings.map((function(_ref){return _ref.recording_duration})).reduce((function(a,b){return a+b}),0)}(session);return react_default.a.createElement("span",null,Object(utils.J)(Math.max(seconds,session.length)))}return react_default.a.createElement("span",null,Object(utils.J)(session.length))},span:3},{title:"Start time",render:function RenderStartTime(session){return Object(utils.H)(session.start_time)},span:3},{title:"Start point",render:function RenderStartPoint(session){return session.start_url?Object(utils.kb)(session.start_url):"N/A"},ellipsis:!0,span:4},{title:"End point",render:function RenderEndPoint(session){return session.end_url?Object(utils.kb)(session.end_url):"N/A"},ellipsis:!0,span:4},{title:react_default.a.createElement(Tooltip.a,{title:(null==currentTeam?void 0:currentTeam.session_recording_opt_in)?"Replay sessions as if you were right next to your users.":"Session recording is turned off for this project. Click to go to settings.",delayMs:0},react_default.a.createElement("span",{style:{whiteSpace:"nowrap"}},(null==currentTeam?void 0:currentTeam.session_recording_opt_in)?react_default.a.createElement(react_default.a.Fragment,null,"Recordings",react_default.a.createElement(QuestionCircleOutlined.a,{className:"info-indicator"})):react_default.a.createElement(Link.a,{to:sceneLogic.c.projectSettings()+"#session-recording",style:{color:"inherit"}},"Recordings",react_default.a.createElement(PoweroffOutlined.a,{className:"info-indicator"})))),render:function RenderEndPoint(session){return session.session_recordings.length?react_default.a.createElement(SessionRecordingsButton_SessionRecordingsButton,{sessionRecordings:session.session_recordings}):null},span:4,defaultWidth:184}];return Object(react.useEffect)((function(){var _decodeParams;"Insights"===(null===(_decodeParams=Object(lib.decodeParams)(window.location.hash))||void 0===_decodeParams?void 0:_decodeParams["#backTo"])&&sessionsTableRef.current&&sessionsTableRef.current.scrollIntoView({behavior:"smooth"})}),[]),react_default.a.createElement("div",{className:"events","data-attr":"events-table"},react_default.a.createElement(space.b,{className:"mb-05"},react_default.a.createElement(es_button.a,{onClick:previousDay,icon:react_default.a.createElement(CaretLeftOutlined.a,null),"data-attr":"sessions-prev-date"}),react_default.a.createElement(DatePicker,{value:selectedDate,onChange:function onChange(date){return setFilters(properties,date)},allowClear:!1,"data-attr":"sessions-date-picker"}),react_default.a.createElement(es_button.a,{onClick:nextDay,icon:react_default.a.createElement(CaretRightOutlined.a,null),"data-attr":"sessions-next-date"})),react_default.a.createElement(SearchAllBox,null),react_default.a.createElement(SessionsFilterBox,{selector:"new"}),react_default.a.createElement(index_esm.BindLogic,{logic:sessionsTableLogic.b,props:{personIds:personIds}},react_default.a.createElement(EditFiltersPanel,{onSubmit:applyFilters})),react_default.a.createElement("div",{ref:sessionsTableRef}),react_default.a.createElement("div",{className:"sessions-view-actions"},react_default.a.createElement("div",{className:"sessions-view-actions-left-items"},react_default.a.createElement(row.a,{className:"action"},featureFlags[constants.q.SESSIONS_TABLE]&&react_default.a.createElement(es_button.a,{"data-attr":"sessions-expand-collapse",onClick:toggleExpandSessionRows},rowExpandState===sessionsTableLogic.a.Expanded?"Collapse":"Expand"," all")),filters.length>0&&react_default.a.createElement(row.a,{className:"action ml-05"},react_default.a.createElement(es_switch.a,{id:"show-only-matches",onChange:setShowOnlyMatches,checked:showOnlyMatches}),react_default.a.createElement("label",{className:"ml-025",htmlFor:"show-only-matches"},react_default.a.createElement("b",null,"Show only event matches")))),react_default.a.createElement("div",{className:"sessions-view-actions-right-items"},react_default.a.createElement(Tooltip.a,{title:null===firstRecordingId?"No recordings found for this date.":(null==currentTeam?void 0:currentTeam.session_recording_opt_in)?"Play all recordings found for this date.":"Session recording is turned off for this project. Enable in Project Settings."},react_default.a.createElement(LinkButton.a,{to:firstRecordingId?SessionRecordingsButton_sessionPlayerUrl(firstRecordingId):"#",type:"primary","data-attr":"play-all-recordings",disabled:null===firstRecordingId,icon:react_default.a.createElement(PlayCircleOutlined.a,null)},"Play all")))),react_default.a.createElement(ResizableTable.b,{locale:{emptyText:selectedDate?"No Sessions on ".concat(selectedDate.format(selectedDate.year()==dayjs_min_default()().year()?"MMM D":"MMM D, YYYY")):"No Sessions"},"data-attr":"sessions-table",size:"small",rowKey:"global_session_id",pagination:{pageSize:99999,hideOnSinglePage:!0},rowClassName:"cursor-pointer",dataSource:sessions,columns:columns,loading:sessionsLoading,expandable:SessionsView_objectSpread({expandedRowRender:function renderExpand(session){return react_default.a.createElement(index_esm.BindLogic,{logic:sessionsTableLogic.b,props:{personIds:personIds}},react_default.a.createElement(SessionDetails,{key:session.global_session_id,session:session}))},expandIcon:function _renderExpandIcon(expandProps){var _session$matching_eve,session=expandProps.record;return react_default.a.createElement(ExpandIcon.a,expandProps,(null==session||null===(_session$matching_eve=session.matching_events)||void 0===_session$matching_eve?void 0:_session$matching_eve.length)>0?react_default.a.createElement(Tooltip.a,{title:"".concat(Object(utils.db)(session.matching_events.length,"event")," ").concat(Object(utils.db)(session.matching_events.length,"matches","match",!1)," your event filters.")},react_default.a.createElement(badge.a,{className:"sessions-matching-events-icon cursor-pointer",count:react_default.a.createElement("span",{className:"badge-text"},session.matching_events.length),offset:[0,MATCHING_EVENT_ICON_SIZE],size:"small"},react_default.a.createElement(icons.h,{size:MATCHING_EVENT_ICON_SIZE}))):react_default.a.createElement(react_default.a.Fragment,null))},columnWidth:ResizableTable.a+MATCHING_EVENT_ICON_SIZE,rowExpandable:function rowExpandable(){return!0},onExpandedRowsChange:onExpandedRowsChange,expandRowByClick:!0},expandedRowKeysProps)}),!!sessionRecordingId&&react_default.a.createElement(SessionPlayerDrawer.a,{isPersonPage:isPersonPage,onClose:closeSessionPlayer}),react_default.a.createElement("div",{style:{marginTop:"5rem"}}),react_default.a.createElement("div",{style:{margin:"2rem auto 5rem",textAlign:"center"}},(pagination||isLoadingNext)&&react_default.a.createElement(es_button.a,{type:"primary",onClick:fetchNextSessions,"data-attr":"load-more-sessions"},isLoadingNext?react_default.a.createElement(spin.a,null," "):"Load more sessions")))}try{SessionsView.displayName="SessionsView",SessionsView.__docgenInfo={description:"",displayName:"SessionsView",props:{personIds:{defaultValue:null,description:"",name:"personIds",required:!1,type:{name:"string[]"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionsView.tsx#SessionsView"]={docgenInfo:SessionsView.__docgenInfo,name:"SessionsView",path:"frontend/src/scenes/sessions/SessionsView.tsx#SessionsView"})}catch(__react_docgen_typescript_loader_error){}},5575:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SessionRecordingsTable}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(4),Link=__webpack_require__(58),utils=__webpack_require__(12),card=__webpack_require__(5435),table=__webpack_require__(5398),defineProperty=(__webpack_require__(49),__webpack_require__(38),__webpack_require__(51),__webpack_require__(5)),defineProperty_default=__webpack_require__.n(defineProperty),regenerator=__webpack_require__(8),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(69),__webpack_require__(16)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(23),lib=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var sessionRecordingsTableLogic=Object(index_esm.kea)({key:function key(props){return props.distinctId||"global"},props:{},actions:{getSessionRecordings:!0,openSessionPlayer:function openSessionPlayer(sessionRecordingId){return{sessionRecordingId:sessionRecordingId}},closeSessionPlayer:!0},loaders:function loaders(_ref){var _getSessionRecordings,props=_ref.props;return{sessionRecordings:[[],{getSessionRecordings:(_getSessionRecordings=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var _props$distinctId,params,response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return params=Object(utils.mb)({distinct_id:null!==(_props$distinctId=props.distinctId)&&void 0!==_props$distinctId?_props$distinctId:""}),_context.next=3,api.a.get("api/projects/@current/session_recordings?".concat(params));case 3:return response=_context.sent,_context.abrupt("return",response.results);case 5:case"end":return _context.stop()}}),_callee)}))),function getSessionRecordings(){return _getSessionRecordings.apply(this,arguments)})}]}},events:function events(_ref2){var actions=_ref2.actions;return{afterMount:function afterMount(){actions.getSessionRecordings()}}},reducers:{sessionRecordingId:[null,{openSessionPlayer:function openSessionPlayer(_,_ref3){return _ref3.sessionRecordingId},closeSessionPlayer:function closeSessionPlayer(){return null}}]},actionToUrl:function actionToUrl(_ref4){var values=_ref4.values,buildURL=function buildURL(){var overrides=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},replace=arguments.length>1&&void 0!==arguments[1]&&arguments[1],properties=lib.router.values.searchParams.properties,params=_objectSpread({properties:properties||void 0,sessionRecordingId:values.sessionRecordingId||void 0},overrides);return[lib.router.values.location.pathname,params,lib.router.values.hashParams,{replace:replace}]};return{loadSessionRecordings:function loadSessionRecordings(){return buildURL({},!0)},openSessionPlayer:function openSessionPlayer(){return buildURL()},closeSessionPlayer:function closeSessionPlayer(){return buildURL({sessionRecordingId:void 0})}}},urlToAction:function urlToAction(_ref5){var actions=_ref5.actions,values=_ref5.values,urlToAction=function urlToAction(_,params){var _params$sessionRecord,nulledSessionRecordingId=null!==(_params$sessionRecord=params.sessionRecordingId)&&void 0!==_params$sessionRecord?_params$sessionRecord:null;nulledSessionRecordingId!==values.sessionRecordingId&&actions.openSessionPlayer(nulledSessionRecordingId)};return{"/session_recordings":urlToAction,"/person/*":urlToAction}},path:function path(key){return["scenes","sessionRecordings","sessionRecordingsTableLogic",key]}}),PlayCircleOutlined=__webpack_require__(5805),Table_utils=__webpack_require__(672),SessionPlayerDrawer=__webpack_require__(5552);function SessionRecordingsTable(_ref){var distinctId=_ref.distinctId,_ref$isPersonPage=_ref.isPersonPage,isPersonPage=void 0!==_ref$isPersonPage&&_ref$isPersonPage,sessionRecordingsTableLogicInstance=sessionRecordingsTableLogic({distinctId:distinctId}),_useValues=Object(index_esm.useValues)(sessionRecordingsTableLogicInstance),sessionRecordings=_useValues.sessionRecordings,sessionRecordingsLoading=_useValues.sessionRecordingsLoading,sessionRecordingId=_useValues.sessionRecordingId,_useActions=Object(index_esm.useActions)(sessionRecordingsTableLogicInstance),openSessionPlayer=_useActions.openSessionPlayer,closeSessionPlayer=_useActions.closeSessionPlayer,tableScrollX=Object(Table_utils.b)("lg").tableScrollX,columns=[{key:"play",render:function RenderPlayButton(){return react_default.a.createElement(PlayCircleOutlined.a,{size:16})},width:32},{title:"Session duration",render:function RenderDuration(sessionRecording){return react_default.a.createElement("span",null,Object(utils.J)(sessionRecording.recording_duration))},span:2},{title:"Person",key:"person",render:function RenderPersonLink(sessionRecording){return react_default.a.createElement(Link.a,{to:"/person/".concat(encodeURIComponent(sessionRecording.distinct_id)),className:"ph-no-capture"},(null==sessionRecording?void 0:sessionRecording.email)||sessionRecording.distinct_id)},ellipsis:!0,span:3},{title:"Start time",render:function RenderStartTime(sessionRecording){return Object(utils.H)(sessionRecording.start_time)},span:2},{title:"End time",render:function RenderStartTime(sessionRecording){return Object(utils.H)(sessionRecording.end_time)},span:2}];return react_default.a.createElement("div",{className:"events","data-attr":"events-table"},react_default.a.createElement(card.a,null,react_default.a.createElement(table.a,{rowKey:"id",dataSource:sessionRecordings,columns:columns,loading:0===sessionRecordings.length&&sessionRecordingsLoading,pagination:{pageSize:99999,hideOnSinglePage:!0},onRow:function onRow(sessionRecording){return{onClick:function onClick(){openSessionPlayer(sessionRecording.id)}}},size:"small",rowClassName:"cursor-pointer","data-attr":"session-recording-table",scroll:{x:tableScrollX}})),react_default.a.createElement("div",{style:{marginTop:"5rem"}}),!!sessionRecordingId&&react_default.a.createElement(SessionPlayerDrawer.a,{isPersonPage:isPersonPage,onClose:closeSessionPlayer}))}try{SessionRecordingsTable.displayName="SessionRecordingsTable",SessionRecordingsTable.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{distinctId:{defaultValue:null,description:"",name:"distinctId",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessionRecordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:SessionRecordingsTable.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/sessionRecordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(__react_docgen_typescript_loader_error){}},5687:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=_interopRequireDefault(__webpack_require__(5688)).default;exports.default=_default},5688:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(5)),_extends2=_interopRequireDefault(__webpack_require__(21)),_typeof2=_interopRequireDefault(__webpack_require__(83)),React=_interopRequireWildcard(__webpack_require__(0)),_classnames=_interopRequireDefault(__webpack_require__(10)),_Title=_interopRequireDefault(__webpack_require__(5689)),_Paragraph=_interopRequireDefault(__webpack_require__(5690)),_configProvider=__webpack_require__(128),_Element=_interopRequireDefault(__webpack_require__(5538)),_Avatar=_interopRequireDefault(__webpack_require__(5691)),_Button=_interopRequireDefault(__webpack_require__(5692)),_Input=_interopRequireDefault(__webpack_require__(5693)),_Image=_interopRequireDefault(__webpack_require__(5694));function getComponentProps(prop){return prop&&"object"===(0,_typeof2.default)(prop)?prop:{}}var Skeleton=function Skeleton(props){var renderSkeleton=function renderSkeleton(_ref){var getPrefixCls=_ref.getPrefixCls,direction=_ref.direction,customizePrefixCls=props.prefixCls,loading=props.loading,className=props.className,children=props.children,avatar=props.avatar,title=props.title,paragraph=props.paragraph,active=props.active,round=props.round,prefixCls=getPrefixCls("skeleton",customizePrefixCls);if(loading||!("loading"in props)){var _classNames,avatarNode,contentNode,hasAvatar=!!avatar,hasTitle=!!title,hasParagraph=!!paragraph;if(hasAvatar){var avatarProps=(0,_extends2.default)((0,_extends2.default)({prefixCls:"".concat(prefixCls,"-avatar")},function getAvatarBasicProps(hasTitle,hasParagraph){return hasTitle&&!hasParagraph?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(hasTitle,hasParagraph)),getComponentProps(avatar));avatarNode=React.createElement("div",{className:"".concat(prefixCls,"-header")},React.createElement(_Element.default,avatarProps))}if(hasTitle||hasParagraph){var $title,paragraphNode;if(hasTitle){var titleProps=(0,_extends2.default)((0,_extends2.default)({prefixCls:"".concat(prefixCls,"-title")},function getTitleBasicProps(hasAvatar,hasParagraph){return!hasAvatar&&hasParagraph?{width:"38%"}:hasAvatar&&hasParagraph?{width:"50%"}:{}}(hasAvatar,hasParagraph)),getComponentProps(title));$title=React.createElement(_Title.default,titleProps)}if(hasParagraph){var paragraphProps=(0,_extends2.default)((0,_extends2.default)({prefixCls:"".concat(prefixCls,"-paragraph")},function getParagraphBasicProps(hasAvatar,hasTitle){var basicProps={};return hasAvatar&&hasTitle||(basicProps.width="61%"),basicProps.rows=!hasAvatar&&hasTitle?3:2,basicProps}(hasAvatar,hasTitle)),getComponentProps(paragraph));paragraphNode=React.createElement(_Paragraph.default,paragraphProps)}contentNode=React.createElement("div",{className:"".concat(prefixCls,"-content")},$title,paragraphNode)}var cls=(0,_classnames.default)(prefixCls,(_classNames={},(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-with-avatar"),hasAvatar),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-active"),active),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-round"),round),_classNames),className);return React.createElement("div",{className:cls},avatarNode,contentNode)}return children};return React.createElement(_configProvider.ConfigConsumer,null,renderSkeleton)};Skeleton.defaultProps={avatar:!1,title:!0,paragraph:!0},Skeleton.Button=_Button.default,Skeleton.Avatar=_Avatar.default,Skeleton.Input=_Input.default,Skeleton.Image=_Image.default;var _default=Skeleton;exports.default=_default},5689:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(21)),React=_interopRequireWildcard(__webpack_require__(0)),_classnames=_interopRequireDefault(__webpack_require__(10)),_default=function Title(_ref){var prefixCls=_ref.prefixCls,className=_ref.className,width=_ref.width,style=_ref.style;return React.createElement("h3",{className:(0,_classnames.default)(prefixCls,className),style:(0,_extends2.default)({width:width},style)})};exports.default=_default},5690:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(19)),React=_interopRequireWildcard(__webpack_require__(0)),_classnames=_interopRequireDefault(__webpack_require__(10)),_default=function Paragraph(props){var getWidth=function getWidth(index){var width=props.width,_props$rows=props.rows,rows=void 0===_props$rows?2:_props$rows;return Array.isArray(width)?width[index]:rows-1===index?width:void 0},prefixCls=props.prefixCls,className=props.className,style=props.style,rows=props.rows,rowList=(0,_toConsumableArray2.default)(Array(rows)).map((function(_,index){return React.createElement("li",{key:index,style:{width:getWidth(index)}})}));return React.createElement("ul",{className:(0,_classnames.default)(prefixCls,className),style:style},rowList)};exports.default=_default},5691:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(21)),_defineProperty2=_interopRequireDefault(__webpack_require__(5)),React=_interopRequireWildcard(__webpack_require__(0)),_omit=_interopRequireDefault(__webpack_require__(500)),_classnames=_interopRequireDefault(__webpack_require__(10)),_configProvider=__webpack_require__(128),_Element=_interopRequireDefault(__webpack_require__(5538)),SkeletonAvatar=function SkeletonAvatar(props){var renderSkeletonAvatar=function renderSkeletonAvatar(_ref){var getPrefixCls=_ref.getPrefixCls,customizePrefixCls=props.prefixCls,className=props.className,active=props.active,prefixCls=getPrefixCls("skeleton",customizePrefixCls),otherProps=(0,_omit.default)(props,["prefixCls"]),cls=(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-element"),(0,_defineProperty2.default)({},"".concat(prefixCls,"-active"),active),className);return React.createElement("div",{className:cls},React.createElement(_Element.default,(0,_extends2.default)({prefixCls:"".concat(prefixCls,"-avatar")},otherProps)))};return React.createElement(_configProvider.ConfigConsumer,null,renderSkeletonAvatar)};SkeletonAvatar.defaultProps={size:"default",shape:"circle"};var _default=SkeletonAvatar;exports.default=_default},5692:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(21)),_defineProperty2=_interopRequireDefault(__webpack_require__(5)),React=_interopRequireWildcard(__webpack_require__(0)),_omit=_interopRequireDefault(__webpack_require__(500)),_classnames=_interopRequireDefault(__webpack_require__(10)),_Element=_interopRequireDefault(__webpack_require__(5538)),_configProvider=__webpack_require__(128),SkeletonButton=function SkeletonButton(props){var renderSkeletonButton=function renderSkeletonButton(_ref){var getPrefixCls=_ref.getPrefixCls,customizePrefixCls=props.prefixCls,className=props.className,active=props.active,prefixCls=getPrefixCls("skeleton",customizePrefixCls),otherProps=(0,_omit.default)(props,["prefixCls"]),cls=(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-element"),(0,_defineProperty2.default)({},"".concat(prefixCls,"-active"),active),className);return React.createElement("div",{className:cls},React.createElement(_Element.default,(0,_extends2.default)({prefixCls:"".concat(prefixCls,"-button")},otherProps)))};return React.createElement(_configProvider.ConfigConsumer,null,renderSkeletonButton)};SkeletonButton.defaultProps={size:"default"};var _default=SkeletonButton;exports.default=_default},5693:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(2),_interopRequireDefault=__webpack_require__(1);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(21)),_defineProperty2=_interopRequireDefault(__webpack_require__(5)),React=_interopRequireWildcard(__webpack_require__(0)),_omit=_interopRequireDefault(__webpack_require__(500)),_classnames=_interopRequireDefault(__webpack_require__(10)),_Element=_interopRequireDefault(__webpack_require__(5538)),_configProvider=__webpack_require__(128),SkeletonInput=function SkeletonInput(props){var renderSkeletonInput=function renderSkeletonInput(_ref){var getPrefixCls=_ref.getPrefixCls,customizePrefixCls=props.prefixCls,className=props.className,active=props.active,prefixCls=getPrefixCls("skeleton",customizePrefixCls),otherProps=(0,_omit.default)(props,["prefixCls"]),cls=(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-element"),(0,_defineProperty2.default)({},"".concat(prefixCls,"-active"),active),className);return React.createElement("div",{className:cls},React.createElement(_Element.default,(0,_extends2.default)({prefixCls:"".concat(prefixCls,"-input")},otherProps)))};return React.createElement(_configProvider.ConfigConsumer,null,renderSkeletonInput)};SkeletonInput.defaultProps={size:"default"};var _default=SkeletonInput;exports.default=_default},5694:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1),_interopRequireWildcard=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=_interopRequireWildcard(__webpack_require__(0)),_classnames=_interopRequireDefault(__webpack_require__(10)),_configProvider=__webpack_require__(128),_default=function SkeletonImage(props){var renderSkeletonImage=function renderSkeletonImage(_ref){var getPrefixCls=_ref.getPrefixCls,customizePrefixCls=props.prefixCls,className=props.className,style=props.style,prefixCls=getPrefixCls("skeleton",customizePrefixCls),cls=(0,_classnames.default)(prefixCls,"".concat(prefixCls,"-element"),className);return React.createElement("div",{className:cls},React.createElement("div",{className:(0,_classnames.default)("".concat(prefixCls,"-image"),className),style:style},React.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(prefixCls,"-image-svg")},React.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(prefixCls,"-image-path")}))))};return React.createElement(_configProvider.ConfigConsumer,null,renderSkeletonImage)};exports.default=_default},5810:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),asn_MergeCellsOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482.2 508.4L331.3 389c-3-2.4-7.3-.2-7.3 3.6V478H184V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H144c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H184V546h140v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM880 116H596c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H700v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h140v294H636V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"merge-cells",theme:"outlined"},AntdIcon=__webpack_require__(18),icons_MergeCellsOutlined_MergeCellsOutlined=function MergeCellsOutlined(props,ref){return react.createElement(AntdIcon.a,Object.assign({},props,{ref:ref,icon:asn_MergeCellsOutlined}))};icons_MergeCellsOutlined_MergeCellsOutlined.displayName="MergeCellsOutlined";__webpack_exports__.a=react.forwardRef(icons_MergeCellsOutlined_MergeCellsOutlined)},6019:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Person",(function(){return Person}));__webpack_require__(224),__webpack_require__(32);var slicedToArray=__webpack_require__(17),slicedToArray_default=__webpack_require__.n(slicedToArray),react=__webpack_require__(0),react_default=__webpack_require__.n(react),tabs=__webpack_require__(1696),menu=__webpack_require__(305),row=__webpack_require__(447),col=__webpack_require__(258),card=__webpack_require__(5435),dropdown=__webpack_require__(815),tag=__webpack_require__(1124),popconfirm=__webpack_require__(5396),es_button=__webpack_require__(136),skeleton=__webpack_require__(2488),SessionsView=__webpack_require__(5572),events=__webpack_require__(5530),SessionRecordingsTable=__webpack_require__(5575),index_esm=__webpack_require__(4),personsLogic=__webpack_require__(5521),PersonHeader=__webpack_require__(439),CopyToClipboard=(__webpack_require__(2533),__webpack_require__(822)),utils=__webpack_require__(12),DownOutlined=__webpack_require__(556),MergeCellsOutlined=__webpack_require__(5810),asn_SplitCellsOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M938.2 508.4L787.3 389c-3-2.4-7.3-.2-7.3 3.6V478H636V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H596c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H636V546h144v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM428 116H144c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H244v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h144v294H184V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"}}]},name:"split-cells",theme:"outlined"},AntdIcon=__webpack_require__(18),icons_SplitCellsOutlined_SplitCellsOutlined=function SplitCellsOutlined(props,ref){return react.createElement(AntdIcon.a,Object.assign({},props,{ref:ref,icon:asn_SplitCellsOutlined}))};icons_SplitCellsOutlined_SplitCellsOutlined.displayName="SplitCellsOutlined";var icons_SplitCellsOutlined=react.forwardRef(icons_SplitCellsOutlined_SplitCellsOutlined),LoadingOutlined=__webpack_require__(354),DeleteOutlined=__webpack_require__(5415),dayjs_min=__webpack_require__(31),dayjs_min_default=__webpack_require__.n(dayjs_min),regenerator=(__webpack_require__(61),__webpack_require__(56),__webpack_require__(8)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(69),__webpack_require__(16)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(23),es_select=__webpack_require__(179),Modal=__webpack_require__(328),Modal_default=__webpack_require__.n(Modal),react_toastify=__webpack_require__(59),es=__webpack_require__(42);function MergePerson(_ref){var person=_ref.person,onPersonChange=_ref.onPersonChange,closeModal=_ref.closeModal,_useState=Object(react.useState)([]),_useState2=slicedToArray_default()(_useState,2),selectedPeople=_useState2[0],setSelectedPeople=_useState2[1],_useActions=Object(index_esm.useActions)(personsLogic.a),loadPersons=_useActions.loadPersons,setListFilters=_useActions.setListFilters,persons=Object(index_esm.useValues)(personsLogic.a).persons;return Object(react.useEffect)((function(){loadPersons()}),[person.distinct_ids,person.id]),react_default.a.createElement(Modal_default.a,{visible:!0,title:"Merge "+person.name,onCancel:closeModal,onOk:asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var newPerson;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,api.a.create("api/person/"+person.id+"/merge/",{ids:selectedPeople});case 2:(newPerson=_context.sent).id&&(Object(react_toastify.c)("Persons succesfully merged."),es.a.capture("merge person completed",{merge_count:selectedPeople.length}),closeModal(),onPersonChange(newPerson));case 4:case"end":return _context.stop()}}),_callee)})))},"Merge all properties and events of the selected persons into ",react_default.a.createElement("strong",null,person.name,"."),react_default.a.createElement("br",null),react_default.a.createElement("br",null),"Note: If there is a conflict, the properties of ",react_default.a.createElement("strong",null,person.name)," will take precedence.",react_default.a.createElement("br",null),react_default.a.createElement("br",null),react_default.a.createElement(es_select.a,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Please select persons to merge",onChange:function onChange(value){return setSelectedPeople(value)},filterOption:!1,onSearch:function onSearch(value){setListFilters({search:value}),loadPersons()}},persons.results&&persons.results.filter((function(p){return p.uuid!==person.uuid})).map((function(p){return p.id?react_default.a.createElement(es_select.a.Option,{value:p.id,key:p.id},p.name):void 0}))),react_default.a.createElement("div",{className:"mt text-danger"},"This action is not reversible. Please be sure before continuing."))}try{MergePerson.displayName="MergePerson",MergePerson.__docgenInfo={description:"",displayName:"MergePerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}},onPersonChange:{defaultValue:null,description:"",name:"onPersonChange",required:!0,type:{name:"CallableFunction"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergePerson.tsx#MergePerson"]={docgenInfo:MergePerson.__docgenInfo,name:"MergePerson",path:"frontend/src/scenes/persons/MergePerson.tsx#MergePerson"})}catch(__react_docgen_typescript_loader_error){}var lib_skeleton=__webpack_require__(5687),skeleton_default=__webpack_require__.n(lib_skeleton),table=__webpack_require__(5398);function PersonCohorts(){var _useValues=Object(index_esm.useValues)(personsLogic.a),cohorts=_useValues.cohorts,cohortsLoading=_useValues.cohortsLoading,_useActions=Object(index_esm.useActions)(personsLogic.a),loadCohorts=_useActions.loadCohorts,navigateToCohort=_useActions.navigateToCohort;if(Object(react.useEffect)((function(){null!==cohorts||cohortsLoading||loadCohorts()}),[cohorts,cohortsLoading]),cohortsLoading)return react_default.a.createElement(skeleton_default.a,{paragraph:{rows:2},active:!0});return react_default.a.createElement(table.a,{dataSource:cohorts||[],loading:cohortsLoading,columns:[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",sorter:function sorter(a,b){return(""+a.name).localeCompare(b.name)}},{title:"Users in cohort",render:function RenderCount(_,cohort){var _cohort$count;return null===(_cohort$count=cohort.count)||void 0===_cohort$count?void 0:_cohort$count.toLocaleString()},sorter:function sorter(a,b){return(a.count||0)-(b.count||0)}}],rowClassName:"cursor-pointer",rowKey:"id",pagination:{pageSize:100,hideOnSinglePage:!0},onRow:function onRow(cohort){return{onClick:function onClick(){return navigateToCohort(cohort)},"data-test-cohort-row":cohort.id}},locale:{emptyText:"Person belongs to no cohorts"}})}var PropertiesTable=__webpack_require__(637),defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),input=__webpack_require__(664),es_radio=__webpack_require__(1108),PlusOutlined=__webpack_require__(1700),SaveOutlined=__webpack_require__(5491),BulbOutlined=__webpack_require__(5495),CheckOutlined=__webpack_require__(829),CloseOutlined=__webpack_require__(231),StopOutlined=__webpack_require__(5477),icons=__webpack_require__(91);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var NewPropertyComponent_NewPropertyComponent=function NewPropertyComponent(){var initialState={creating:!1,propertyType:"string"},_useState=Object(react.useState)(initialState),_useState2=slicedToArray_default()(_useState,2),state=_useState2[0],setState=_useState2[1],editProperty=Object(index_esm.useActions)(personsLogic.a).editProperty,saveProperty=function saveProperty(){state.key&&void 0!==state.value&&(editProperty(state.key,state.value),setState(initialState))};return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"mb"},react_default.a.createElement("div",{className:"text-right"},react_default.a.createElement(es_button.a,{"data-attr":"add-prop-button",onClick:function onClick(){return setState(_objectSpread(_objectSpread({},state),{},{creating:!0}))},type:"primary",icon:react_default.a.createElement(PlusOutlined.a,null)},"New property"))),react_default.a.createElement(Modal_default.a,{visible:state.creating,destroyOnClose:!0,onCancel:function onCancel(){return setState(initialState)},title:"Adding new property",okText:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(SaveOutlined.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!state.key||void 0===state.value},onOk:saveProperty},react_default.a.createElement("div",{className:"input-set"},react_default.a.createElement("label",{htmlFor:"propertyKey"},"Key"),react_default.a.createElement(input.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{key:e.target.value}))}})),react_default.a.createElement("div",{className:"input-set"},react_default.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),react_default.a.createElement("div",null,react_default.a.createElement(es_radio.a.Group,{value:state.propertyType,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{propertyType:e.target.value,value:"string"===e.target.value?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},react_default.a.createElement(es_radio.a.Button,{value:"string"},react_default.a.createElement(icons.r,null)," Text or Number"),react_default.a.createElement(es_radio.a.Button,{value:"boolean"},react_default.a.createElement(BulbOutlined.a,null)," Boolean or Null")))),react_default.a.createElement("div",{className:"input-set"},react_default.a.createElement("label",{htmlFor:"propertyValue"},"Value"),"boolean"===state.propertyType?react_default.a.createElement("div",null,react_default.a.createElement(es_radio.a.Group,{value:state.value,onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{value:e.target.value}))},id:"propertyValue",buttonStyle:"solid"},react_default.a.createElement(es_radio.a.Button,{value:"true",defaultChecked:!0},react_default.a.createElement(CheckOutlined.a,null)," True"),react_default.a.createElement(es_radio.a.Button,{value:"false"},react_default.a.createElement(CloseOutlined.a,null)," False"),react_default.a.createElement(es_radio.a.Button,{value:"null"},react_default.a.createElement(StopOutlined.a,null)," Null"))):react_default.a.createElement(input.a,{placeholder:"try email@example.com, gold, 1",onChange:function onChange(e){return setState(_objectSpread(_objectSpread({},state),{},{value:e.target.value}))},id:"propertyValue",onKeyDown:function onKeyDown(e){return"Enter"===e.key&&saveProperty()}}))))},relativeTime=__webpack_require__(232),relativeTime_default=__webpack_require__.n(relativeTime),TimezoneAware=__webpack_require__(388),types=__webpack_require__(9),PageHeader=__webpack_require__(222),lib=__webpack_require__(22);function SplitPerson_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SplitPerson_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SplitPerson_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SplitPerson_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function SplitPerson(_ref){var person=_ref.person,closeModal=_ref.closeModal,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),selectedDistinctId=_useState2[0],setSelectedDistinctId=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];return react_default.a.createElement(Modal_default.a,{visible:!0,title:"Split "+person.name,onCancel:closeModal,okText:"Split person",okButtonProps:{loading:isLoading},onOk:asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var splitAction;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setIsLoading(!0),_context.next=3,api.a.create("api/person/"+person.id+"/split/",SplitPerson_objectSpread({},selectedDistinctId?{main_distinct_id:selectedDistinctId}:{}));case 3:splitAction=_context.sent,setIsLoading(!1),splitAction.success&&(Object(react_toastify.c)("We are in the process of splitting this person. It may take up to a couple of minutes to complete."),es.a.capture("split person started",{merge_count:person.distinct_ids.length}),closeModal(),lib.router.actions.push("/persons"));case 6:case"end":return _context.stop()}}),_callee)})))},"This will split all distinct id's into unique persons.",react_default.a.createElement("br",null),react_default.a.createElement("br",null),"You can select a distinct id that the current properties will be assigned to (optional). All other new users will start without any properties.",react_default.a.createElement("br",null),react_default.a.createElement("br",null),react_default.a.createElement(es_select.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct id to assign all properties to (optional)",onChange:function onChange(value){return setSelectedDistinctId(value)},filterOption:!1},person.distinct_ids.map((function(distinct_id){return react_default.a.createElement(es_select.a.Option,{value:distinct_id,key:distinct_id},distinct_id)}))),react_default.a.createElement("div",{className:"mt text-danger"},"This will create ",react_default.a.createElement("strong",null,person.distinct_ids.length-1)," new person",person.distinct_ids.length-1!=1&&"s",". This might change the numbers in your charts, even historically. Please be sure before continuing."))}try{SplitPerson.displayName="SplitPerson",SplitPerson.__docgenInfo={description:"",displayName:"SplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/SplitPerson.tsx#SplitPerson"]={docgenInfo:SplitPerson.__docgenInfo,name:"SplitPerson",path:"frontend/src/scenes/persons/SplitPerson.tsx#SplitPerson"})}catch(__react_docgen_typescript_loader_error){}var featureFlagLogic=__webpack_require__(65),constants=__webpack_require__(20);dayjs_min_default.a.extend(relativeTime_default.a);var TabPane=tabs.a.TabPane;function Person(){var _useState=Object(react.useState)("properties"),_useState2=slicedToArray_default()(_useState,2),activeCardTab=_useState2[0],setActiveCardTab=_useState2[1],_useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),mergeModalOpen=_useState4[0],setMergeModalOpen=_useState4[1],_useState5=Object(react.useState)(!1),_useState6=slicedToArray_default()(_useState5,2),splitModalOpen=_useState6[0],setSplitModalOpen=_useState6[1],_useValues=Object(index_esm.useValues)(personsLogic.a),person=_useValues.person,personLoading=_useValues.personLoading,deletedPersonLoading=_useValues.deletedPersonLoading,hasNewKeys=_useValues.hasNewKeys,currentTab=_useValues.currentTab,showSessionRecordings=_useValues.showSessionRecordings,showTabs=_useValues.showTabs,_useActions=Object(index_esm.useActions)(personsLogic.a),deletePerson=_useActions.deletePerson,setPerson=_useActions.setPerson,editProperty=_useActions.editProperty,navigateToTab=_useActions.navigateToTab,featureFlags=Object(index_esm.useValues)(featureFlagLogic.a).featureFlags,ids=react_default.a.createElement(menu.a,null,null==person?void 0:person.distinct_ids.map((function(distinct_id){return react_default.a.createElement(menu.a.Item,{key:distinct_id},react_default.a.createElement(CopyToClipboard.a,{explicitValue:distinct_id,iconStyle:{color:"var(--primary)"}},Object(utils.X)(distinct_id,32)))})));return react_default.a.createElement("div",{style:{paddingTop:32}},react_default.a.createElement(row.a,{gutter:16},react_default.a.createElement(col.a,{span:16},showTabs?react_default.a.createElement(tabs.a,{defaultActiveKey:types.m.EVENTS,activeKey:currentTab,onChange:function onChange(tab){navigateToTab(tab)}},showSessionRecordings?react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"person-session-recordings-tab"},"Session recordings"),key:"sessionRecordings"}):null,react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:"events"}),featureFlags[constants.q.REMOVE_SESSIONS]?null:react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"person-sessions-tab"},"Sessions"),key:"sessions"})):null,person&&react_default.a.createElement("div",null,currentTab===types.m.SESSION_RECORDINGS?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PageHeader.a,{title:"Session recordings",caption:"Watch sessions recordings to see how this user interacts with your app.",style:{marginTop:0}}),react_default.a.createElement(SessionRecordingsTable.a,{key:person.distinct_ids.join("__"),distinctId:person.distinct_ids[0],isPersonPage:!0})):currentTab===types.m.SESSIONS?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PageHeader.a,{title:"Sessions",caption:"Explore how events are being processed within sessions.",style:{marginTop:0}}),react_default.a.createElement(SessionsView.b,{key:person.distinct_ids.join("__"),personIds:person.distinct_ids,isPersonPage:!0})):react_default.a.createElement(events.b,{pageKey:person.distinct_ids.join("__"),fixedFilters:{person_id:person.id}}))),react_default.a.createElement(col.a,{span:8},react_default.a.createElement(card.a,{className:"card-elevated person-detail","data-test-person-details":!0},person&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PersonHeader.a,{person:person}),react_default.a.createElement("div",{className:"item-group"},react_default.a.createElement("label",null,"IDs"),react_default.a.createElement("div",{style:{display:"flex"}},react_default.a.createElement(CopyToClipboard.a,{explicitValue:person.distinct_ids[0],tooltipMessage:null,iconStyle:{color:"var(--primary)"},style:{justifyContent:"flex-end"}},Object(utils.X)(person.distinct_ids[0],20)),person.distinct_ids.length>1&&react_default.a.createElement(dropdown.a,{overlay:ids,trigger:["click"]},react_default.a.createElement(tag.a,{className:"extra-ids"},"+",person.distinct_ids.length," ",react_default.a.createElement(DownOutlined.a,null))))),person.created_at&&react_default.a.createElement("div",{className:"item-group"},react_default.a.createElement("label",null,"First seen"),react_default.a.createElement("div",null,react_default.a.createElement(TimezoneAware.b,{time:person.created_at}))),react_default.a.createElement("div",{className:"text-center mt"},react_default.a.createElement("a",{onClick:function onClick(){return setMergeModalOpen(!0)},"data-attr":"merge-person-button"},react_default.a.createElement(MergeCellsOutlined.a,null)," Merge person")),featureFlags[constants.q.SPLIT_PERSON]&&person.distinct_ids.length>1&&react_default.a.createElement("div",{className:"text-center mt"},react_default.a.createElement("a",{onClick:function onClick(){return setSplitModalOpen(!0)},"data-attr":"merge-person-button"},react_default.a.createElement(icons_SplitCellsOutlined,null)," Split IDs into multiple people")),react_default.a.createElement("div",{className:"text-center mt"},react_default.a.createElement(popconfirm.a,{title:"Are you sure to delete this person and all associated data?",onConfirm:deletePerson,okText:"Yes",cancelText:"No"},react_default.a.createElement(es_button.a,{className:"text-danger",disabled:deletedPersonLoading,"data-attr":"delete-person",type:"link"},deletedPersonLoading?react_default.a.createElement(LoadingOutlined.a,{spin:!0}):react_default.a.createElement(DeleteOutlined.a,null)," ","Delete this person")))),!person&&personLoading&&react_default.a.createElement(skeleton.a,{paragraph:{rows:4},active:!0})),react_default.a.createElement(card.a,{className:"card-elevated person-properties",style:{marginTop:16}},react_default.a.createElement(tabs.a,{defaultActiveKey:activeCardTab,onChange:function onChange(tab){setActiveCardTab(tab)}},react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:"properties",disabled:personLoading}),react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"persons-cohorts-tab"},"Cohorts"),key:"cohorts",disabled:personLoading})),person&&("properties"==activeCardTab?react_default.a.createElement("div",{style:{maxWidth:"100%",overflow:"hidden"}},react_default.a.createElement(NewPropertyComponent_NewPropertyComponent,null),react_default.a.createElement("h3",{className:"l3"},"Properties list"),react_default.a.createElement(PropertiesTable.a,{properties:person.properties,onEdit:editProperty,sortProperties:!hasNewKeys,onDelete:function onDelete(key){return editProperty(key,void 0)},className:"persons-page-props-table"})):react_default.a.createElement(PersonCohorts,null)),!person&&personLoading&&react_default.a.createElement(skeleton.a,{paragraph:{rows:6},active:!0})))),mergeModalOpen&&person&&react_default.a.createElement(MergePerson,{person:person,onPersonChange:setPerson,closeModal:function closeModal(){return setMergeModalOpen(!1)}}),splitModalOpen&&person&&react_default.a.createElement(SplitPerson,{person:person,closeModal:function closeModal(){return setSplitModalOpen(!1)}}))}}}]);