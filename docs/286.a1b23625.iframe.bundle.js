(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{"./frontend/src/lib/CommunityTag.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CommunityTag}));var lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip.tsx"),antd__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tag/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function CommunityTag(_ref){let{isCommunity:isCommunity,noun:noun="app"}=_ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_0__.a,{title:isCommunity?`This ${noun} was built by a community member, not the PostHog team.`:`This ${noun} was built by the PostHog team.`,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_1__.a,{color:isCommunity?"cyan":"geekblue",children:isCommunity?"Community":"Official"})})}try{CommunityTag.displayName="CommunityTag",CommunityTag.__docgenInfo={description:"",displayName:"CommunityTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}},noun:{defaultValue:{value:"app"},description:"",name:"noun",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/CommunityTag.tsx#CommunityTag"]={docgenInfo:CommunityTag.__docgenInfo,name:"CommunityTag",path:"frontend/src/lib/CommunityTag.tsx#CommunityTag"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/dashboard/NewDashboardModal.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NewDashboardModal}));var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),lib_forms_Field__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/forms/Field.tsx"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/types.ts"),lib_lemon_ui_LemonSelect__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSelect/index.ts"),lib_components_PayGateMini_PayGateMini__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/components/PayGateMini/PayGateMini.tsx"),scenes_dashboard_newDashboardLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/dashboard/newDashboardLogic.ts"),lib_lemon_ui_LemonInput_LemonInput__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx"),lib_lemon_ui_LemonTextArea_LemonTextArea__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx"),_DashboardCollaborators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/scenes/dashboard/DashboardCollaborators.tsx"),lib_lemon_ui_LemonModal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonModal/index.ts"),kea_forms__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/kea-forms@3.0.3_kea@3.1.0/node_modules/kea-forms/lib/index.js"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./frontend/src/lib/constants.tsx"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./frontend/src/scenes/userLogic.ts"),scenes_dashboard_dashboards_templates_dashboardTemplatesLogic__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./frontend/src/scenes/dashboard/dashboards/templates/dashboardTemplatesLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function NewDashboardModal(){const{hideNewDashboardModal:hideNewDashboardModal,createAndGoToDashboard:createAndGoToDashboard}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_dashboard_newDashboardLogic__WEBPACK_IMPORTED_MODULE_6__.a),{isNewDashboardSubmitting:isNewDashboardSubmitting,newDashboardModalVisible:newDashboardModalVisible}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_dashboard_newDashboardLogic__WEBPACK_IMPORTED_MODULE_6__.a),{hasAvailableFeature:hasAvailableFeature}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_14__.a),{templatesList:templatesList}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_dashboard_dashboards_templates_dashboardTemplatesLogic__WEBPACK_IMPORTED_MODULE_15__.a),{featureFlags:featureFlags}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_12__.a),templates=!!featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_13__.i.DASHBOARD_TEMPLATES]?templatesList:[{value:"DEFAULT_APP",label:"Product analytics","data-attr":"dashboard-select-default-app"}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonModal__WEBPACK_IMPORTED_MODULE_10__.a,{title:"New dashboard",description:"Use dashboards to compose multiple insights into a single view.",onClose:hideNewDashboardModal,isOpen:newDashboardModalVisible,footer:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__.a,{form:"new-dashboard-form",type:"secondary","data-attr":"dashboard-cancel",disabled:isNewDashboardSubmitting,onClick:hideNewDashboardModal,children:"Cancel"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__.a,{form:"new-dashboard-form",type:"secondary","data-attr":"dashboard-submit-and-go",disabled:isNewDashboardSubmitting,onClick:createAndGoToDashboard,children:"Create and go to dashboard"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__.a,{form:"new-dashboard-form",htmlType:"submit",type:"primary","data-attr":"dashboard-submit",loading:isNewDashboardSubmitting,disabled:isNewDashboardSubmitting,children:"Create"})]}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsxs)(kea_forms__WEBPACK_IMPORTED_MODULE_11__.Form,{logic:scenes_dashboard_newDashboardLogic__WEBPACK_IMPORTED_MODULE_6__.a,formKey:"newDashboard",id:"new-dashboard-form",enableFormOnSubmit:!0,className:"space-y-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_forms_Field__WEBPACK_IMPORTED_MODULE_1__.a,{name:"name",label:"Name",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonInput_LemonInput__WEBPACK_IMPORTED_MODULE_7__.a,{autoFocus:!0,"data-attr":"dashboard-name-input",className:"ph-ignore-input"})}),hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_3__.e.DASHBOARD_COLLABORATION)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_forms_Field__WEBPACK_IMPORTED_MODULE_1__.a,{name:"description",label:"Description",showOptional:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonTextArea_LemonTextArea__WEBPACK_IMPORTED_MODULE_8__.a,{"data-attr":"dashboard-description-input",className:"ph-ignore-input"})}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_forms_Field__WEBPACK_IMPORTED_MODULE_1__.a,{name:"useTemplate",label:"Template",showOptional:!0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonSelect__WEBPACK_IMPORTED_MODULE_4__.a,{placeholder:"Optionally start from template",allowClear:!0,options:templates,fullWidth:!0,"data-attr":"copy-from-template"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_forms_Field__WEBPACK_IMPORTED_MODULE_1__.a,{name:"restrictionLevel",label:"Collaboration settings",children:_ref=>{let{value:value,onChange:onChange}=_ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_components_PayGateMini_PayGateMini__WEBPACK_IMPORTED_MODULE_5__.a,{feature:_types__WEBPACK_IMPORTED_MODULE_3__.e.DASHBOARD_PERMISSIONING,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_16__.jsx)(lib_lemon_ui_LemonSelect__WEBPACK_IMPORTED_MODULE_4__.a,{value:value,onChange:onChange,options:_DashboardCollaborators__WEBPACK_IMPORTED_MODULE_9__.a,fullWidth:!0})})}})]})})}},"./frontend/src/scenes/dashboard/dashboards/Dashboards.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"Dashboards",(function(){return Dashboards}));var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),dashboardsModel=__webpack_require__("./frontend/src/models/dashboardsModel.tsx"),fuse_esm=__webpack_require__("./node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.0/node_modules/kea-router/lib/index.js");let DashboardsTab;!function(DashboardsTab){DashboardsTab.All="all",DashboardsTab.Yours="yours",DashboardsTab.Pinned="pinned",DashboardsTab.Shared="shared",DashboardsTab.Templates="templates"}(DashboardsTab||(DashboardsTab={}));const dashboardsLogic=Object(index_esm.kea)({path:["scenes","dashboard","dashboardsLogic"],connect:{values:[userLogic.a,["user"]]},actions:{setSearchTerm:searchTerm=>({searchTerm:searchTerm}),setCurrentTab:tab=>({tab:tab})},reducers:{searchTerm:{setSearchTerm:(_,_ref)=>{let{searchTerm:searchTerm}=_ref;return searchTerm}},currentTab:[DashboardsTab.All,{setCurrentTab:(_,_ref2)=>{let{tab:tab}=_ref2;return tab}}]},actionToUrl:_ref3=>{let{values:values}=_ref3;return{setCurrentTab:()=>{const tab=values.currentTab===DashboardsTab.All?void 0:values.currentTab;lib.router.values.searchParams.tab!==tab&&lib.router.actions.push(lib.router.values.location.pathname,{...lib.router.values.searchParams,tab:tab})}}},urlToAction:_ref4=>{let{actions:actions}=_ref4;return{"/dashboard":(_,searchParams)=>{const tab=searchParams.tab||DashboardsTab.All;actions.setCurrentTab(tab)}}},selectors:{dashboards:[selectors=>[dashboardsModel.a.selectors.nameSortedDashboards,selectors.searchTerm,selectors.currentTab,selectors.user],(dashboards,searchTerm,currentTab,user)=>(dashboards=dashboards.filter((d=>!d.deleted)).sort(((a,b)=>{var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")})),currentTab===DashboardsTab.Pinned?dashboards=dashboards.filter((d=>d.pinned)):currentTab===DashboardsTab.Shared?dashboards=dashboards.filter((d=>d.is_shared)):currentTab===DashboardsTab.Yours&&(dashboards=dashboards.filter((d=>{var _d$created_by;return d.created_by&&user&&(null===(_d$created_by=d.created_by)||void 0===_d$created_by?void 0:_d$created_by.uuid)===user.uuid}))),searchTerm?new fuse_esm.a(dashboards,{keys:["key","name","description","tags"],threshold:.3}).search(searchTerm).map((result=>result.item)):dashboards)]}});var NewDashboardModal=__webpack_require__("./frontend/src/scenes/dashboard/NewDashboardModal.tsx"),PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonDivider=__webpack_require__("./frontend/src/lib/lemon-ui/LemonDivider/index.ts"),newDashboardLogic=__webpack_require__("./frontend/src/scenes/dashboard/newDashboardLogic.ts"),inAppPromptLogic=__webpack_require__("./frontend/src/lib/logic/inAppPrompt/inAppPromptLogic.tsx"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),DeleteDashboardModal=__webpack_require__("./frontend/src/scenes/dashboard/DeleteDashboardModal.tsx"),DuplicateDashboardModal=__webpack_require__("./frontend/src/scenes/dashboard/DuplicateDashboardModal.tsx"),card=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/card/index.js"),objectSpread2=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),asn_AppstoreAddOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"},AntdIcon=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/components/AntdIcon.js"),icons_AppstoreAddOutlined_AppstoreAddOutlined=function AppstoreAddOutlined(props,ref){return react.createElement(AntdIcon.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{ref:ref,icon:asn_AppstoreAddOutlined}))};icons_AppstoreAddOutlined_AppstoreAddOutlined.displayName="AppstoreAddOutlined";var icons_AppstoreAddOutlined=react.forwardRef(icons_AppstoreAddOutlined_AppstoreAddOutlined),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const NoDashboards=()=>{const{addDashboard:addDashboard}=Object(index_esm.useActions)(newDashboardLogic.a);return Object(jsx_runtime.jsxs)("div",{className:"mt-4",children:[Object(jsx_runtime.jsx)("p",{children:"Create your first dashboard:"}),Object(jsx_runtime.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[Object(jsx_runtime.jsx)(card.a,{title:"Empty",size:"small",style:{width:200,cursor:"pointer"},onClick:()=>addDashboard({name:"New Dashboard",useTemplate:""}),children:Object(jsx_runtime.jsx)("div",{style:{textAlign:"center",fontSize:40},children:Object(jsx_runtime.jsx)(icons_AppstoreAddOutlined,{})})}),Object(jsx_runtime.jsx)(card.a,{title:"App Default",size:"small",style:{width:200,cursor:"pointer"},onClick:()=>addDashboard({name:"Web App Dashboard",useTemplate:"DEFAULT_APP"}),children:Object(jsx_runtime.jsx)("div",{style:{textAlign:"center",fontSize:40},children:Object(jsx_runtime.jsx)(icons_AppstoreAddOutlined,{})})})]})]})};var teamLogic=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),duplicateDashboardLogic=__webpack_require__("./frontend/src/scenes/dashboard/duplicateDashboardLogic.ts"),deleteDashboardLogic=__webpack_require__("./frontend/src/scenes/dashboard/deleteDashboardLogic.ts"),LemonTable=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/index.ts"),types=__webpack_require__("./frontend/src/types.ts"),eventUsageLogic=__webpack_require__("./frontend/src/lib/utils/eventUsageLogic.ts"),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link.tsx"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip.tsx"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),ObjectTags=__webpack_require__("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),columnUtils=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),More=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/More.tsx"),dashboardLogic=__webpack_require__("./frontend/src/scenes/dashboard/dashboardLogic.tsx"),LemonRow=__webpack_require__("./frontend/src/lib/lemon-ui/LemonRow/index.ts"),DashboardHeader=__webpack_require__("./frontend/src/scenes/dashboard/DashboardHeader.tsx");function DashboardsTable(){const{dashboardsLoading:dashboardsLoading}=Object(index_esm.useValues)(dashboardsModel.a),{unpinDashboard:unpinDashboard,pinDashboard:pinDashboard}=Object(index_esm.useActions)(dashboardsModel.a),{setCurrentTab:setCurrentTab}=Object(index_esm.useActions)(dashboardsLogic),{dashboards:dashboards,searchTerm:searchTerm,currentTab:currentTab}=Object(index_esm.useValues)(dashboardsLogic),{hasAvailableFeature:hasAvailableFeature}=Object(index_esm.useValues)(userLogic.a),{currentTeam:currentTeam}=Object(index_esm.useValues)(teamLogic.a),{showDuplicateDashboardModal:showDuplicateDashboardModal}=Object(index_esm.useActions)(duplicateDashboardLogic.a),{showDeleteDashboardModal:showDeleteDashboardModal}=Object(index_esm.useActions)(deleteDashboardLogic.a),columns=[{width:0,dataIndex:"pinned",render:function Render(pinned,_ref){let{id:id}=_ref;return Object(jsx_runtime.jsx)(LemonButton.a,{size:"small",status:"stealth",onClick:pinned?()=>unpinDashboard(id,eventUsageLogic.a.DashboardsList):()=>pinDashboard(id,eventUsageLogic.a.DashboardsList),tooltip:pinned?"Unpin dashboard":"Pin dashboard",icon:pinned?Object(jsx_runtime.jsx)(icons.ec,{}):Object(jsx_runtime.jsx)(icons.fc,{})})}},{title:"Name",dataIndex:"name",width:"40%",render:function Render(name,_ref2){let{id:id,description:description,is_shared:is_shared,effective_privilege_level:effective_privilege_level}=_ref2;const isPrimary=id===(null==currentTeam?void 0:currentTeam.primary_dashboard),canEditDashboard=effective_privilege_level>=constants.f.CanEdit;return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("div",{className:"row-name",children:[Object(jsx_runtime.jsx)(Link.a,{"data-attr":"dashboard-name",to:urls.a.dashboard(id),children:name||"Untitled"}),is_shared&&Object(jsx_runtime.jsx)(Tooltip.a,{title:"This dashboard is shared publicly.",children:Object(jsx_runtime.jsx)(icons.Bc,{className:"ml-1 text-base text-primary"})}),!canEditDashboard&&Object(jsx_runtime.jsx)(Tooltip.a,{title:DashboardHeader.a,children:Object(jsx_runtime.jsx)(icons.Eb,{className:"ml-1 text-base text-muted"})}),isPrimary&&Object(jsx_runtime.jsx)(Tooltip.a,{title:"The primary dashboard is shown on the project home page.",children:Object(jsx_runtime.jsx)(icons.L,{className:"ml-1 text-base text-warning"})})]}),hasAvailableFeature(types.e.DASHBOARD_COLLABORATION)&&description&&Object(jsx_runtime.jsx)("span",{className:"row-description",children:description})]})},sorter:(a,b)=>{var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")}},...hasAvailableFeature(types.e.TAGGING)?[{title:"Tags",dataIndex:"tags",render:function Render(tags){return tags?Object(jsx_runtime.jsx)(ObjectTags.a,{tags:tags,staticOnly:!0}):null}}]:[],Object(columnUtils.b)(),Object(columnUtils.a)(),{width:0,render:function RenderActions(_,_ref3){let{id:id,name:name}=_ref3;return Object(jsx_runtime.jsx)(More.a,{overlay:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(LemonButton.a,{status:"stealth",to:urls.a.dashboard(id),onClick:()=>{Object(dashboardLogic.f)({id:id}).mount(),Object(dashboardLogic.f)({id:id}).actions.setDashboardMode(null,eventUsageLogic.a.DashboardsList)},fullWidth:!0,children:"View"}),Object(jsx_runtime.jsx)(LemonButton.a,{status:"stealth",to:urls.a.dashboard(id),onClick:()=>{Object(dashboardLogic.f)({id:id}).mount(),Object(dashboardLogic.f)({id:id}).actions.setDashboardMode(types.m.Edit,eventUsageLogic.a.DashboardsList)},fullWidth:!0,children:"Edit"}),Object(jsx_runtime.jsx)(LemonButton.a,{status:"stealth",onClick:()=>{showDuplicateDashboardModal(id,name)},fullWidth:!0,children:"Duplicate"}),Object(jsx_runtime.jsx)(LemonDivider.a,{}),Object(jsx_runtime.jsx)(LemonRow.a,{icon:Object(jsx_runtime.jsx)(icons.L,{className:"text-warning"}),fullWidth:!0,status:"warning",children:Object(jsx_runtime.jsxs)("span",{className:"text-muted",children:["Change the default dashboard",Object(jsx_runtime.jsx)("br",{}),"from the ",Object(jsx_runtime.jsx)(Link.a,{to:urls.a.projectHomepage(),children:"project home page"}),"."]})}),Object(jsx_runtime.jsx)(LemonDivider.a,{}),Object(jsx_runtime.jsx)(LemonButton.a,{onClick:()=>{showDeleteDashboardModal(id)},fullWidth:!0,status:"danger",children:"Delete dashboard"})]})})}}];return Object(jsx_runtime.jsx)(LemonTable.a,{"data-attr":"dashboards-table",pagination:{pageSize:100},dataSource:dashboards,rowKey:"id",rowClassName:record=>record._highlight?"highlighted":null,columns:columns,loading:dashboardsLoading,defaultSorting:{columnKey:"name",order:1},emptyState:searchTerm?`No ${currentTab===DashboardsTab.Pinned?"pinned ":currentTab===DashboardsTab.Shared?"shared ":""}dashboards matching "${searchTerm}"!`:currentTab===DashboardsTab.Pinned?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["No dashboards have been pinned for quick access yet."," ",Object(jsx_runtime.jsx)(Link.a,{onClick:()=>setCurrentTab(DashboardsTab.All),children:"Go to All Dashboards to pin one."})]}):currentTab===DashboardsTab.Shared?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["No dashboards have been shared yet."," ",Object(jsx_runtime.jsx)(Link.a,{onClick:()=>setCurrentTab(DashboardsTab.All),children:"Go to All Dashboards to share one."})]}):void 0,nouns:["dashboard","dashboards"]})}var featureFlagLogic=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),dashboardTemplatesLogic=__webpack_require__("./frontend/src/scenes/dashboard/dashboards/templates/dashboardTemplatesLogic.tsx"),LemonSnack=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSnack/LemonSnack.tsx"),CommunityTag=__webpack_require__("./frontend/src/lib/CommunityTag.tsx");const DashboardTemplatesTable=()=>{const{searchTerm:searchTerm}=Object(index_esm.useValues)(dashboardsLogic),{repository:repository,repositoryLoading:repositoryLoading,templateLoading:templateLoading,templateBeingSaved:templateBeingSaved}=Object(index_esm.useValues)(dashboardTemplatesLogic.a),{installTemplate:installTemplate}=Object(index_esm.useActions)(dashboardTemplatesLogic.a),{user:user}=Object(index_esm.useValues)(userLogic.a);return Object(jsx_runtime.jsx)(LemonTable.a,{"data-attr":"dashboards-template-table",pagination:{pageSize:10},dataSource:Object.values(repository),rowKey:"name",columns:[{title:"Name",dataIndex:"name",width:"80%",render:function Render(name,record){return Object(jsx_runtime.jsxs)("div",{className:"template-name flex flex-col gap-2",children:[Object(jsx_runtime.jsxs)("div",{className:"flex flex-row align-center gap-2",children:[Object(jsx_runtime.jsx)("span",{children:name}),Object(jsx_runtime.jsx)(CommunityTag.a,{noun:"template",isCommunity:"official"!==record.maintainer})]}),record.description]})},sorter:(a,b)=>{var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")}},{title:"Install",dataIndex:"installed",width:"0",render:function Render(installed,record){const recordUrl=record.url;return Object(jsx_runtime.jsx)("div",{className:"template-installed",children:void 0===recordUrl||installed&&!record.has_new_version?Object(jsx_runtime.jsx)(LemonSnack.a,{children:"INSTALLED"}):Object(jsx_runtime.jsx)(LemonButton.a,{status:"primary",type:"primary",icon:Object(jsx_runtime.jsx)(icons.E,{}),onClick:()=>installTemplate({name:record.name,url:recordUrl}),loading:templateLoading&&templateBeingSaved===record.name,disabledReason:templateLoading?"Installing template...":null!=user&&user.is_staff?void 0:"Only staff users can install templates",children:record.has_new_version?"Update":"Install"})})},sorter:(a,b)=>{var _a$name2,_b$name2;return(null!==(_a$name2=a.name)&&void 0!==_a$name2?_a$name2:"Untitled").localeCompare(null!==(_b$name2=b.name)&&void 0!==_b$name2?_b$name2:"Untitled")}}],loading:repositoryLoading,defaultSorting:{columnKey:"name",order:1},emptyState:searchTerm?`No dashboard templates matching "${searchTerm}"!`:Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"There are no dashboard templates."}),nouns:["template","templates"]})};var LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts");const scene={component:Dashboards,logic:dashboardsLogic};function Dashboards(){const{dashboardsLoading:dashboardsLoading}=Object(index_esm.useValues)(dashboardsModel.a),{setSearchTerm:setSearchTerm,setCurrentTab:setCurrentTab}=Object(index_esm.useActions)(dashboardsLogic),{dashboards:dashboards,searchTerm:searchTerm,currentTab:currentTab}=Object(index_esm.useValues)(dashboardsLogic),{showNewDashboardModal:showNewDashboardModal}=Object(index_esm.useActions)(newDashboardLogic.a),{closePrompts:closePrompts}=Object(index_esm.useActions)(inAppPromptLogic.b),{featureFlags:featureFlags}=Object(index_esm.useValues)(featureFlagLogic.a);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(NewDashboardModal.a,{}),Object(jsx_runtime.jsx)(DuplicateDashboardModal.a,{}),Object(jsx_runtime.jsx)(DeleteDashboardModal.a,{}),Object(jsx_runtime.jsx)(PageHeader.a,{title:"Dashboards",buttons:Object(jsx_runtime.jsx)(LemonButton.a,{"data-attr":"new-dashboard",onClick:()=>{closePrompts(),showNewDashboardModal()},type:"primary",children:"New dashboard"})}),Object(jsx_runtime.jsx)(LemonTabs.a,{activeKey:currentTab,onChange:newKey=>setCurrentTab(newKey),tabs:[{key:DashboardsTab.All,label:"All dashboards"},{key:DashboardsTab.Yours,label:"Your dashboards"},{key:DashboardsTab.Pinned,label:"Pinned"},{key:DashboardsTab.Shared,label:"Shared"},!!featureFlags[constants.i.DASHBOARD_TEMPLATES]&&{key:DashboardsTab.Templates,label:"Templates"}]}),Object(jsx_runtime.jsxs)("div",{className:"flex",children:[Object(jsx_runtime.jsx)(src.LemonInput,{type:"search",placeholder:"Search for dashboards",onChange:setSearchTerm,value:searchTerm}),Object(jsx_runtime.jsx)("div",{})]}),Object(jsx_runtime.jsx)(LemonDivider.a,{className:"my-4"}),currentTab===DashboardsTab.Templates?Object(jsx_runtime.jsx)(DashboardTemplatesTable,{}):dashboardsLoading||dashboards.length>0||searchTerm||currentTab!==DashboardsTab.All?Object(jsx_runtime.jsx)(DashboardsTable,{}):Object(jsx_runtime.jsx)(NoDashboards,{})]})}},"./frontend/src/scenes/dashboard/dashboards/templates/dashboardTemplatesLogic.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return dashboardTemplatesLogic}));var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.0/node_modules/kea-loaders/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/api.ts");const dashboardTemplatesLogic=Object(kea__WEBPACK_IMPORTED_MODULE_0__.kea)([Object(kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","dashboard","dashboards","templates","dashboardTemplatesLogic"]),Object(kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)({repository:[{},{loadRepository:async()=>{const results=await lib_api__WEBPACK_IMPORTED_MODULE_2__.b.get("/api/projects/@current/dashboard_templates/repository"),repository={};for(const template of results)repository[template.name]=template;return repository}}],template:[null,{installTemplate:async payload=>await lib_api__WEBPACK_IMPORTED_MODULE_2__.b.create("api/projects/@current/dashboard_templates/",payload)}]}),Object(kea__WEBPACK_IMPORTED_MODULE_0__.reducers)((()=>({templateBeingSaved:[null,{installTemplateSuccess:()=>null,installTemplate:(_,_ref)=>{let{name:name}=_ref;return name}}],templatesList:[[],{loadRepositorySuccess:(_,_ref2)=>{let{repository:repository}=_ref2;return Object.values(repository).filter((r=>!!r.installed)).map((entry=>({value:entry.name,label:entry.name,"data-attr":`dashboard-select-${entry.name.replace(" ","-")}`})))}}]}))),Object(kea__WEBPACK_IMPORTED_MODULE_0__.listeners)((_ref3=>{let{actions:actions}=_ref3;return{installTemplateSuccess:()=>actions.loadRepository()}})),Object(kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)((_ref4=>{let{actions:actions}=_ref4;actions.loadRepository()}))])}}]);