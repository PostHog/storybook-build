(window.webpackJsonp=window.webpackJsonp||[]).push([[324],{"./frontend/src/scenes/performance/WebPerformance.tsx":function(C,a,n){"use strict";n.r(a),n.d(a,"webPerformancePropertyFilters",function(){return c}),n.d(a,"WebPerformance",function(){return P}),n.d(a,"scene",function(){return T});var B=n("./frontend/src/scenes/performance/WebPerformance.scss"),j=n("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),_=n("./frontend/src/lib/components/PageHeader.tsx"),f=n("./frontend/src/types.ts"),t=n("./frontend/src/scenes/performance/webPerformanceLogic.tsx"),d=n("./frontend/src/scenes/urls.ts"),h=n("./frontend/src/scenes/events/index.ts"),l=n("./node_modules/kea/lib/index.esm.js"),p=n("./frontend/src/scenes/performance/WebPerformanceWaterfallChart.tsx"),u=n("./frontend/src/lib/components/icons.tsx"),m=n("./frontend/@posthog/lemon-ui/src/index.ts"),b=n("./frontend/src/lib/logic/featureFlagLogic.ts"),x=n("./frontend/src/lib/constants.tsx"),D=n("./frontend/src/queries/Query/Query.tsx"),E=n("./frontend/src/queries/schema.ts"),e=n("./node_modules/react/jsx-runtime.js"),y=n.n(e),c=[{key:"$performance_raw",value:"is_set",operator:f.P.IsSet,type:f.N.Event}],g=function(){var i=Object(l.useActions)(t.b),r=i.setEventToDisplay,M=Object(l.useValues)(b.a),L=M.featureFlags,W=L[x.i.DATA_EXPLORATION_LIVE_EVENTS];return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"pt-4 border-t"}),W?Object(e.jsx)(D.a,{query:{kind:E.a.DataTableNode,source:{kind:E.a.EventsNode,fixedProperties:c},columns:["properties.$current_url","properties.$lib","timestamp","context.columns.waterfallButton"],showReload:!0,showColumnConfigurator:!1,showExport:!0,showEventFilter:!1,showPropertyFilter:!0,showActions:!1,expandable:!1},context:{columns:{waterfallButton:{title:"",render:function(v){var s=v.record;return Object(e.jsx)("div",{children:Object(e.jsx)(m.LemonButton,{"data-attr":"view-waterfall-button-".concat(s==null?void 0:s.id),icon:Object(e.jsx)(u.IconPlay,{}),type:"secondary",size:"small",onClick:function(){return r(s)},children:"View waterfall chart"})})}}}}}):Object(e.jsx)(h.b,{fixedFilters:{properties:c},sceneUrl:d.a.webPerformance(),fetchMonths:1,pageKey:"webperformance-".concat(JSON.stringify(c)),showPersonColumn:!1,showCustomizeColumns:!1,showExport:!1,showAutoload:!1,showEventFilter:!1,showPropertyFilter:!0,showRowExpanders:!1,showActionsButton:!1,linkPropertiesToFilters:!1,"data-attr":"waterfall-events-table",startingColumns:["$current_url","$performance_page_loaded"],fixedColumns:[{render:function(v,s){var o=s.event;return o?Object(e.jsx)("div",{children:Object(e.jsx)(m.LemonButton,{"data-attr":"view-waterfall-button-".concat(o==null?void 0:o.id),icon:Object(e.jsx)(u.IconPlay,{}),type:"secondary",size:"small",onClick:function(){r(o)},children:"View waterfall chart"})}):{props:{colSpan:0}}}}]})]})},P=function(){var i=Object(l.useValues)(t.b),r=i.currentPage;return Object(e.jsxs)("div",{className:"web-performance",children:[Object(e.jsx)(_.a,{title:Object(e.jsxs)("div",{className:"flex items-center gap-2",children:["Web Performance",Object(e.jsx)(j.a,{type:"warning",className:"uppercase",children:"Alpha"})]}),caption:r===t.a.TABLE?Object(e.jsxs)("div",{children:[Object(e.jsx)("p",{children:"Shows page view events where performance information has been captured. Not all events have all performance information."}),Object(e.jsxs)("p",{children:["To capture performance information you must be using posthog-js and set"," ",Object(e.jsx)("code",{children:"_capture_performance"})," to true. See the"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrate/client/js#config",target:"_blank",children:"config instructions in our handbook"})]})]}):null}),Object(e.jsx)("div",{children:r===t.a.TABLE?Object(e.jsx)(g,{}):r===t.a.WATERFALL_CHART?Object(e.jsx)(p.b,{}):Object(e.jsx)(e.Fragment,{children:"404?"})})]})},T={component:P,logic:t.b,paramsToProps:function(){return{sceneUrl:d.a.webPerformance()}}}}}]);
