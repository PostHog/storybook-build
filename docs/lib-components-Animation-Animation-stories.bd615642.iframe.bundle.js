(self.webpackChunk_posthog_frontend=self.webpackChunk_posthog_frontend||[]).push([[85566],{"./frontend/src/lib/components/Animation/Animation.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Animations:()=>Animations,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Animation_stories});let musichog_lottie=__webpack_require__.p+"images/musichog.d4258deab99fafa012c2f635c1de4c1b.lottie",sportshog_lottie=__webpack_require__.p+"images/sportshog.2c45fe87d29fd3a5dea9bce15e12c8bd.lottie",AnimationType=function(AnimationType){return AnimationType.MusicHog="musichog",AnimationType.SportsHog="sportshog",AnimationType}({}),animations={musichog:{url:musichog_lottie,width:800,height:800},sportshog:{url:sportshog_lottie,width:800,height:800}},animationCache={},fetchCache={};async function fetchJson(url){let response=await window.fetch(url);return await response.json()}async function getAnimationSource(animation){return animationCache[animation]||(animation in fetchCache||(fetchCache[animation]=fetchJson(animations[animation].url)),animationCache[animation]=await fetchCache[animation]),animationCache[animation]}var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),Animation=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/Animation/Animation.scss"),Animation_default=__webpack_require__.n(Animation),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(Animation_default(),options),Animation_default().locals;var lottie_react_esm=__webpack_require__("./node_modules/.pnpm/@lottiefiles+react-lottie-player@3.4.7_react@18.2.0/node_modules/@lottiefiles/react-lottie-player/dist/lottie-react.esm.js"),clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),Spinner=__webpack_require__("./frontend/src/lib/lemon-ui/Spinner/Spinner.tsx"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function Animation_Animation_Animation(_ref){let{className,style,delay=300,type=AnimationType.MusicHog,size="large"}=_ref,[visible,setVisible]=(0,react.useState)(0===delay),[source,setSource]=(0,react.useState)(null),[showFallbackSpinner,setShowFallbackSpinner]=(0,react.useState)(!1),{width,height}=animations[type];return(0,react.useEffect)(()=>{if(delay){let timeout=window.setTimeout(()=>setVisible(!0),delay);return()=>window.clearTimeout(timeout)}},[delay]),(0,react.useEffect)(()=>{let unmounted=!1;return async function loadAnimation(){try{let source=await getAnimationSource(type);unmounted||setSource(source)}catch(e){unmounted||setShowFallbackSpinner(!0)}}(),()=>{unmounted=!0}},[type]),(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("Animation",{"Animation--hidden":!(visible&&(source||showFallbackSpinner))},`Animation--${size}`,className),style:{aspectRatio:`${width} / ${height}`,...style},children:source?(0,jsx_runtime.jsx)(lottie_react_esm.J5,{className:"Animation__player",autoplay:!(0,utils.es)(),loop:!0,src:source}):showFallbackSpinner?(0,jsx_runtime.jsx)(Spinner.$,{}):null})}let Animation_stories={title:"Layout/Animations",parameters:{docs:{description:{component:"Animations are [LottieFiles.com](https://lottiefiles.com/) animations that we load asynchronously."}}},argTypes:{size:{options:["small","large"],control:{type:"radio"}},type:{options:Object.values(AnimationType),mapping:AnimationType,control:{type:"radio"}}},tags:["autodocs","test-skip"]},Animations=(_ref=>{let{size,type}=_ref;return(0,jsx_runtime.jsx)(Animation_Animation_Animation,{type:type,size:size})}).bind({});Animations.args={size:"large"},Animations.parameters={...Animations.parameters,docs:{...Animations.parameters?.docs,source:{originalSource:"({\n  size,\n  type\n}): JSX.Element => {\n  return <Animation type={type} size={size} />;\n}",...Animations.parameters?.docs?.source}}};let __namedExportsOrder=["Animations"]},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/Animation/Animation.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".Animation{align-items:center;aspect-ratio:1/1;display:inline-flex;justify-content:center;max-width:300px;opacity:1;overflow:hidden;transition:opacity .4s ease}.Animation.Animation--hidden{opacity:0}.Animation .Animation__player{display:block;height:100%;width:100%}.Animation .Animation__player svg{display:block}.Animation.Animation--large{width:100%}.Animation.Animation--small{overflow:visible}.Animation.Animation--small svg{height:45px!important;width:45px!important}",""]),module.exports=exports}}]);