(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(ie,P,t){"use strict";t.d(P,"a",function(){return J});var A=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),N=t.n(A),de=t("./node_modules/core-js/modules/es.array.includes.js"),ae=t.n(de),G=t("./node_modules/core-js/modules/es.string.includes.js"),ye=t.n(G),ue=t("./node_modules/core-js/modules/es.object.values.js"),Te=t.n(ue),he=t("./node_modules/core-js/modules/es.array.iterator.js"),Le=t.n(he),Ce=t("./node_modules/core-js/modules/es.object.to-string.js"),Re=t.n(Ce),_e=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ve=t.n(_e),R=t("./node_modules/core-js/modules/es.object.keys.js"),e=t.n(R),o=t("./node_modules/core-js/modules/es.symbol.js"),Z=t.n(o),E=t("./node_modules/core-js/modules/es.array.filter.js"),j=t.n(E),y=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),M=t.n(y),K=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Y=t.n(K),ce=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Oe=t.n(ce),W=t("./node_modules/kea/lib/index.esm.js"),q=t("./frontend/src/lib/utils.tsx"),p=t("./frontend/src/types.ts"),h=t("./frontend/src/scenes/insights/sharedUtils.ts"),S=t("./frontend/src/scenes/insights/insightLogic.ts");function re(X,$){var ee=Object.keys(X);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(X);$&&(fe=fe.filter(function(We){return Object.getOwnPropertyDescriptor(X,We).enumerable})),ee.push.apply(ee,fe)}return ee}function pe(X){for(var $=1;$<arguments.length;$++){var ee=arguments[$]!=null?arguments[$]:{};$%2?re(Object(ee),!0).forEach(function(fe){N()(X,fe,ee[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(ee)):re(Object(ee)).forEach(function(fe){Object.defineProperty(X,fe,Object.getOwnPropertyDescriptor(ee,fe))})}return X}function xe(X){return Object.values(p.y).includes(X)}var J=Object(W.kea)({props:{},key:Object(h.c)("new"),path:function($){return["lib","components","ChartFilter","chartFilterLogic",$]},connect:function($){return{actions:[Object(S.c)($),["setFilters"]],values:[Object(S.c)($),["filters"]]}},actions:function(){return{setChartFilter:function(ee){return{chartFilter:ee}}}},selectors:{chartFilter:[function(X){return[X.filters]},function(X){var $=X.display,ee=X.funnel_viz_type;return($===p.j.FunnelViz?ee:$)||null}]},listeners:function($){var ee=$.actions,fe=$.values;return{setChartFilter:function(Ye){var De=Ye.chartFilter,Ge=fe.filters,s=Ge.display,k=Ge.funnel_viz_type;xe(De)?(k!==De||s!==p.j.FunnelViz)&&ee.setFilters(pe(pe({},fe.filters),{},{display:p.j.FunnelViz,funnel_viz_type:De})):Object(q.qb)(s,De)||ee.setFilters(pe(pe({},fe.filters),{},{display:De}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(ie,P,t){"use strict";t.d(P,"a",function(){return q});var A=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),N=t.n(A),de=t("./node_modules/core-js/modules/es.array.iterator.js"),ae=t.n(de),G=t("./node_modules/core-js/modules/es.object.to-string.js"),ye=t.n(G),ue=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Te=t.n(ue),he=t("./node_modules/core-js/modules/es.object.keys.js"),Le=t.n(he),Ce=t("./node_modules/core-js/modules/es.symbol.js"),Re=t.n(Ce),_e=t("./node_modules/core-js/modules/es.array.filter.js"),Ve=t.n(_e),R=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),e=t.n(R),o=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Z=t.n(o),E=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),j=t.n(E),y=t("./node_modules/kea/lib/index.esm.js"),M=t("./frontend/src/lib/utils.tsx"),K=t("./frontend/src/types.ts"),Y=t("./frontend/src/scenes/insights/sharedUtils.ts"),ce=t("./frontend/src/scenes/insights/insightLogic.ts");function Oe(p,h){var S=Object.keys(p);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(p);h&&(re=re.filter(function(pe){return Object.getOwnPropertyDescriptor(p,pe).enumerable})),S.push.apply(S,re)}return S}function W(p){for(var h=1;h<arguments.length;h++){var S=arguments[h]!=null?arguments[h]:{};h%2?Oe(Object(S),!0).forEach(function(re){N()(p,re,S[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(S)):Oe(Object(S)).forEach(function(re){Object.defineProperty(p,re,Object.getOwnPropertyDescriptor(S,re))})}return p}var q=Object(y.kea)({props:{},key:Object(Y.c)("new"),path:function(h){return["lib","components","CompareFilter","compareFilterLogic",h]},connect:function(h){return{actions:[Object(ce.c)(h),["setFilters"]],values:[Object(ce.c)(h),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(S){return{compare:S}},toggleCompare:!0}},selectors:{compare:[function(p){return[p.filters]},function(p){return!!(p!=null&&p.compare)}],disabled:[function(p){return[p.filters,p.canEditInsight]},function(p,h){var S=p.insight,re=p.date_from,pe=p.display;return!h||S===K.C.LIFECYCLE||pe===K.j.WorldMap||re==="all"}]},listeners:function(h){var S=h.values,re=h.actions;return{setCompare:function(xe){var J=xe.compare;Object(M.qb)(J,S.compare)||re.setFilters(W(W({},S.filters),{},{compare:J}))},toggleCompare:function(){re.setCompare(!S.compare)}}}})},"./frontend/src/lib/components/InlineMessage/InlineMessage.tsx":function(ie,P,t){"use strict";t.d(P,"a",function(){return R});var A=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),N=t.n(A),de=t("./node_modules/react/index.js"),ae=t.n(de),G=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ye=t.n(G),ue=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss"),Te=t.n(ue),he={};he.insert="head",he.singleton=!1;var Le=ye()(Te.a,he),Ce=Te.a.locals||{},Re=t("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),_e=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Ve=t("./node_modules/clsx/dist/clsx.m.js");function R(e){var o=e.children,Z=e.style,E=e.icon,j=E===void 0?ae.a.createElement(Re.a,null):E,y=e.type,M=y===void 0?"info":y,K=e.closable,Y=e.onClose,ce=Object(de.useState)(!0),Oe=N()(ce,2),W=Oe[0],q=Oe[1],p=function(){q(!1),Y==null||Y()};return ae.a.createElement("div",{className:Object(Ve.a)("inline-message",M,K&&"closable",!W&&"hidden"),style:Z},ae.a.createElement("div",{className:"inline-icon"},j),ae.a.createElement("div",{className:"inline-main"},o),K&&ae.a.createElement("div",{className:"closable",onClick:p},ae.a.createElement(_e.a,null)))}try{R.displayName="InlineMessage",R.__docgenInfo={description:"",displayName:"InlineMessage",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},icon:{defaultValue:{value:"<ExclamationCircleFilled />"},description:"",name:"icon",required:!1,type:{name:"Element"}},type:{defaultValue:{value:"info"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"danger"'},{value:'"info"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"]={docgenInfo:R.__docgenInfo,name:"InlineMessage",path:"frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"})}catch(e){}},"./frontend/src/scenes/insights/InsightContainer.tsx":function(ie,P,t){"use strict";t.d(P,"a",function(){return Et});var A=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),N=t.n(A),de=t("./node_modules/antd/es/card/index.js"),ae=t("./node_modules/antd/es/row/index.js"),G=t("./node_modules/antd/es/col/index.js"),ye=t("./node_modules/core-js/modules/es.array.includes.js"),ue=t("./node_modules/core-js/modules/es.string.includes.js"),Te=t("./node_modules/core-js/modules/es.object.keys.js"),he=t("./node_modules/core-js/modules/es.symbol.js"),Le=t("./node_modules/core-js/modules/es.array.filter.js"),Ce=t("./node_modules/core-js/modules/es.object.to-string.js"),Re=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),_e=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Ve=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),R=t("./node_modules/react/index.js"),e=t.n(R),o=t("./node_modules/kea/lib/index.esm.js"),Z=t("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),E=t("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),j=t("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),y=t("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},K=M,Y=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),ce=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:K}))};ce.displayName="AreaChartOutlined";var Oe=R.forwardRef(ce),W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},q=W,p=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:q}))};p.displayName="BarChartOutlined";var h=R.forwardRef(p),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"},re=S,pe=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:re}))};pe.displayName="NumberOutlined";var xe=R.forwardRef(pe),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},X=J,$=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:X}))};$.displayName="TableOutlined";var ee=R.forwardRef($),fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},We=fe,Ye=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:We}))};Ye.displayName="PieChartOutlined";var De=R.forwardRef(Ye),Ge=t("./node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),s=t("./frontend/src/types.ts"),k=t("./frontend/src/scenes/insights/insightLogic.ts"),nt=t("./frontend/src/scenes/insights/filters/ActionFilter/entityFilterLogic.ts"),me=t("./frontend/src/lib/components/Tooltip.tsx"),jt=t("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),Fe=t("./frontend/@posthog/lemon-ui/src/index.ts");function Je(r){var n=r.filters,a=r.onChange,l=r.disabled,d=Object(o.useValues)(k.c),i=d.insightProps,u=Object(o.useValues)(Object(Z.a)(i)),c=u.chartFilter,f=Object(o.useActions)(Object(Z.a)(i)),m=f.setChartFilter,g=Object(nt.c)(n).length,O=n.insight===s.C.STICKINESS||n.insight===s.C.RETENTION,_=n.insight===s.C.STICKINESS||n.insight===s.C.RETENTION,v=n.insight===s.C.STICKINESS||n.insight===s.C.RETENTION&&!!n.breakdown&&n.breakdown!=="$geoip_country_code"&&n.breakdown!=="$geoip_country_name"||g>1,T=n.insight===s.C.STICKINESS||n.insight===s.C.RETENTION||g>1,C=n.insight===s.C.RETENTION,x=C||n.insight===s.C.STICKINESS||n.insight===s.C.RETENTION,te=n.insight===s.C.RETENTION?s.j.ActionsTable:n.insight===s.C.FUNNELS?s.j.FunnelViz:s.j.ActionsLineGraph;function V(ne){var b=ne.icon,D=ne.tooltip,w=ne.children,Q=w===void 0?null:w;return e.a.createElement(me.a,{title:D,placement:"left"},e.a.createElement("div",{className:"w-full"},b," ",Q))}var oe=n.insight===s.C.FUNNELS?[{value:s.y.Steps,label:e.a.createElement(V,{icon:e.a.createElement(E.a,null)},"Steps")},{value:s.y.Trends,label:e.a.createElement(V,{icon:e.a.createElement(j.a,null)},"Trends",e.a.createElement(jt.a,{type:"warning",className:"uppercase",style:{marginLeft:6,lineHeight:"1.4em"}},"BETA"))}]:[{title:"Line Chart",options:[{value:s.j.ActionsLineGraph,label:e.a.createElement(V,{icon:e.a.createElement(j.a,null)},"Linear")},{value:s.j.ActionsLineGraphCumulative,label:e.a.createElement(V,{icon:e.a.createElement(Oe,null)},"Cumulative"),disabled:O}]},{title:"Bar Chart",options:[{value:s.j.ActionsBar,label:e.a.createElement(V,{icon:e.a.createElement(h,null)},"Time"),disabled:C},{value:s.j.ActionsBarValue,label:e.a.createElement(V,{icon:e.a.createElement(h,null)},"Value"),disabled:x}]},{options:[{value:s.j.BoldNumber,label:e.a.createElement(V,{icon:e.a.createElement(xe,null),tooltip:"Big and bold. Only works with one series at a time."},"Number"),disabled:T},{value:s.j.ActionsTable,label:e.a.createElement(V,{icon:e.a.createElement(ee,null)},"Table")},{value:s.j.ActionsPie,label:e.a.createElement(V,{icon:e.a.createElement(De,null)},"Pie"),disabled:_},{value:s.j.WorldMap,label:e.a.createElement(V,{icon:e.a.createElement(Ge.a,null),tooltip:"Visualize data by country. Only works with one series at a time."},"World Map"),disabled:v}]}];return e.a.createElement(Fe.LemonSelect,{key:"2",value:c||te||n.display,onChange:function(b){m(b),a==null||a(b)},dropdownPlacement:"bottom-end",dropdownMatchSelectWidth:!1,"data-attr":"chart-filter",disabled:l,options:oe,size:"small"})}try{Je.displayName="ChartFilter",Je.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:Je.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(r){}var be=t("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function je(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=Object(o.useValues)(Object(be.a)(n)),l=a.compare,d=a.disabled,i=Object(o.useActions)(Object(be.a)(n)),u=i.setCompare;return d?null:e.a.createElement(Fe.LemonCheckbox,{onChange:u,checked:l,disabled:d,label:e.a.createElement("span",{className:"font-normal"},"Compare to previous time period"),bordered:!0,size:"small"})}var Ue=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ae=t.n(Ue),Ct=t("./node_modules/core-js/modules/es.array.map.js"),at=t("./node_modules/core-js/modules/es.object.entries.js"),Mt=t("./node_modules/core-js/modules/es.array.iterator.js"),Vt=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Bt=t("./node_modules/core-js/modules/es.array.slice.js"),rt=t("./node_modules/core-js/modules/es.function.name.js"),Wa=t("./node_modules/core-js/modules/es.array.from.js"),Ua=t("./node_modules/core-js/modules/es.string.iterator.js"),za=t("./node_modules/core-js/modules/es.regexp.exec.js"),ka=t("./node_modules/core-js/modules/es.symbol.description.js"),Ha=t("./node_modules/core-js/modules/es.symbol.iterator.js"),B=t("./frontend/src/lib/utils.tsx"),On=t("./frontend/src/scenes/insights/sharedUtils.ts"),Pe=t("./frontend/src/lib/dayjs.ts"),_t=t("./frontend/src/lib/logic/featureFlagLogic.ts");function jn(r,n){var a=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!a){if(Array.isArray(r)||(a=Cn(r))||n&&r&&typeof r.length=="number"){a&&(r=a);var l=0,d=function(){};return{s:d,n:function(){return l>=r.length?{done:!0}:{done:!1,value:r[l++]}},e:function(m){throw m},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,c;return{s:function(){a=a.call(r)},n:function(){var m=a.next();return i=m.done,m},e:function(m){u=!0,c=m},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(u)throw c}}}}function Cn(r,n){if(!!r){if(typeof r=="string")return wt(r,n);var a=Object.prototype.toString.call(r).slice(8,-1);if(a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set")return Array.from(r);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wt(r,n)}}function wt(r,n){(n==null||n>r.length)&&(n=r.length);for(var a=0,l=new Array(n);a<n;a++)l[a]=r[a];return l}function Kt(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),a.push.apply(a,l)}return a}function Wt(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Kt(Object(a),!0).forEach(function(l){N()(r,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Kt(Object(a)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(a,l))})}return r}var Ut=Object(o.kea)({props:{},key:Object(On.c)("new"),path:function(n){return["lib","components","IntervalFilter","intervalFilterLogic",n]},connect:function(n){return{actions:[Object(k.c)(n),["setFilters"]],values:[Object(k.c)(n),["filters"],_t.a,["featureFlags"]]}},actions:function(){return{setInterval:function(a){return{interval:a}}}},listeners:function(n){var a=n.values,l=n.actions,d=n.selectors;return{setInterval:function(u){var c=u.interval;Object(B.qb)(c,a.filters.interval)||l.setFilters(Wt(Wt({},a.filters),{},{interval:c}))},setFilters:function(u,c,f,m){var g=u.filters,O=g.date_from,_=g.date_to,v=d.filters(m);if(!(!O||Object(B.qb)(O,v.date_from)&&Object(B.qb)(_,v.date_to))){if(O&&_&&Object(Pe.a)(g.date_from).isValid()&&Object(Pe.a)(g.date_to).isValid()){Object(Pe.a)(_).diff(Object(Pe.a)(O),"day")<=3?l.setInterval("hour"):Object(Pe.a)(_).diff(Object(Pe.a)(O),"month")<=3?l.setInterval("day"):l.setInterval("month");return}var T="day",C=jn(B.u),x;try{for(C.s();!(x=C.n()).done;){var te=x.value,V=te.key,oe=te.values,ne=te.defaultInterval;if(oe[0]===O&&oe[1]===(_||void 0)&&V!=="Custom"&&ne){T=ne;break}}}catch(b){C.e(b)}finally{C.f()}l.setInterval(T)}}}},selectors:{interval:[function(r){return[r.filters]},function(r){return r==null?void 0:r.interval}]}}),_n={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function st(r){var n=r.disabled,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Ut(l)),i=d.interval,u=Object(o.useActions)(Ut(l)),c=u.setInterval;return e.a.createElement(Fe.LemonSelect,{size:"small",disabled:n,value:i||void 0,dropdownMatchSelectWidth:!1,onChange:function(m){m&&c(String(m))},"data-attr":"interval-filter",options:Object.entries(_n).map(function(f){var m=Ae()(f,2),g=m[0],O=m[1].label;return{value:g,label:O}})})}try{st.displayName="IntervalFilter",st.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:st.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(r){}var Ie=t("./node_modules/antd/es/select/index.js"),Pn=t("./node_modules/@ant-design/icons/es/icons/FundOutlined.js"),Sn=t("./frontend/src/lib/components/SmoothingFilter/smoothings.ts");function zt(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),a.push.apply(a,l)}return a}function kt(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?zt(Object(a),!0).forEach(function(l){N()(r,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):zt(Object(a)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(a,l))})}return r}function Tn(){var r=Object(o.useValues)(k.c),n=r.filters,a=Object(o.useActions)(k.c),l=a.setFilters,d=n.interval,i=n.smoothing_intervals;if(!d)return null;var u=Sn.a[d].map(function(c){var f=c.value,m=c.label;return{value:f,label:f===i?e.a.createElement(e.a.Fragment,null,e.a.createElement(Pn.a,null)," ",m):m}});return u.length?e.a.createElement(Ie.a,{key:d,bordered:!0,value:i||1,dropdownMatchSelectWidth:!1,onChange:function(f){l(kt(kt({},n),{},{smoothing_intervals:f}))},"data-attr":"smoothing-filter",options:u}):e.a.createElement(e.a.Fragment,null)}var Be=t("./frontend/src/lib/constants.tsx"),xn=t("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),Fn=t("./node_modules/@babel/runtime/helpers/extends.js"),In=t.n(Fn),Ht=t("./frontend/src/scenes/insights/filters/InsightDateFilter/insightDateFilterLogic.ts"),Ln=t("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function lt(r){var n,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Object(Ht.a)(l)),i=d.dates,u=i.dateFrom,c=i.dateTo,f=Object(o.useActions)(Object(Ht.a)(l)),m=f.setDates;return e.a.createElement(Ln.a,In()({},r,{dateFrom:(n=u!=null?u:"-7d")!==null&&n!==void 0?n:void 0,dateTo:c!=null?c:void 0,onChange:function(O,_){var v;m(O,_),(v=r.onChange)===null||v===void 0||v.call(r,O,_)}}))}try{lt.displayName="InsightDateFilter",lt.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},showRollingRangePicker:{defaultValue:null,description:"",name:"showRollingRangePicker",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string, toDate: string | null) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"(() => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"DateMappingOption[]"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/filters/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:lt.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/filters/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(r){}var ot=t("./frontend/src/scenes/retention/retentionTableLogic.ts"),Rn=t("./frontend/src/lib/components/DatePicker.tsx");function it(r){var n=r.disabled,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Object(ot.e)(l)),i=d.filters,u=Object(o.useActions)(Object(ot.e)(l)),c=u.setFilters,f=i.date_to&&Object(Pe.a)(i.date_to).year()!==Object(Pe.a)().year()?", YYYY":"";return e.a.createElement(e.a.Fragment,null,e.a.createElement(me.a,{title:"Cohorts up to this end date"},e.a.createElement("span",{style:{maxWidth:100},className:"flex inline-flex items-center pl-2"},e.a.createElement(Rn.a,{showTime:i.period==="Hour",use12Hours:!0,format:i.period==="Hour"?"MMM D".concat(f,", h a"):"MMM D".concat(f),value:i.date_to?Object(Pe.a)(i.date_to):void 0,onChange:function(g){return c({date_to:g&&Object(Pe.a)(g).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",disabled:n}))))}try{it.displayName="RetentionDatePicker",it.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:it.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(r){}var ge=t("./frontend/src/scenes/funnels/funnelLogic.ts"),Ne=t("./frontend/src/lib/components/icons.tsx");function ct(r){var n=r.disabled,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Object(ge.a)(l)),i=d.barGraphLayout,u=Object(o.useActions)(Object(ge.a)(l)),c=u.setFilters,f=[{title:"Graph Display Options",options:[{value:Be.k.vertical,icon:e.a.createElement(Ne.IconFunnelVertical,null),label:"Left to right"},{value:Be.k.horizontal,icon:e.a.createElement(Ne.IconFunnelHorizontal,null),label:"Top to bottom"}]}];return e.a.createElement(Fe.LemonSelect,{value:i||Be.k.vertical,onChange:function(g){return g&&c({layout:g})},dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",disabled:n,options:f,size:"small"})}try{ct.displayName="FunnelDisplayLayoutPicker",ct.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Funnels/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:ct.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/views/Funnels/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(r){}var Dn=t("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),Pt=t("./frontend/src/scenes/paths/pathsLogic.ts"),An=t("./frontend/src/scenes/userLogic.ts");function dt(r){var n,a=r.disabled,l=Object(o.useValues)(k.c),d=l.insightProps,i=Object(o.useValues)(Object(Pt.b)(d)),u=i.filter,c=Object(o.useActions)(Object(Pt.b)(d)),f=c.setFilter,m=Object(o.useValues)(An.a),g=m.user,O=2,_=g!=null&&(n=g.organization)!==null&&n!==void 0&&n.available_features.includes(s.d.PATHS_ADVANCED)?20:5,v=Array.from(Array.from(Array.from(Array(_+1).keys()).slice(O)),function(T){return{label:"".concat(T," Steps"),value:T}});return e.a.createElement(Ie.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:u.step_limit||Pt.a,onSelect:function(C){return f({step_limit:C})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:B.a.bottomRight,optionLabelProp:"label",disabled:a},v.map(function(T){return e.a.createElement(Ie.a.Option,{key:T.value,value:T.value,label:e.a.createElement(e.a.Fragment,null,e.a.createElement(Dn.a,null)," ",T.label)},T.label)}))}try{dt.displayName="PathStepPicker",dt.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:dt.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx#PathStepPicker"})}catch(r){}var Nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},Mn=Nn,$t=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:Mn}))};$t.displayName="PercentageOutlined";var Yt=R.forwardRef($t);function ut(r){var n=r.disabled,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Object(ot.e)(l)),i=d.retentionReference,u=Object(o.useActions)(Object(ot.e)(l)),c=u.setRetentionReference;return e.a.createElement(Ie.a,{value:i,onChange:c,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:n},[{value:"total",icon:e.a.createElement(Yt,null),label:"Overall cohort"},{value:"previous",icon:e.a.createElement(Yt,null),label:"Relative to previous period"}].map(function(f){return e.a.createElement(Ie.a.Option,{key:f.value,value:f.value,label:e.a.createElement(e.a.Fragment,null,f.icon," ",f.label)},f.label)}))}try{ut.displayName="ReferencePicker",ut.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/filters/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:ut.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/filters/ReferencePicker.tsx#ReferencePicker"})}catch(r){}var Gt=t("./node_modules/antd/es/tooltip/index.js"),we=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Vn=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ke=t.n(Vn),$a=t("./node_modules/core-js/modules/es.set.js"),Ya=t("./node_modules/core-js/modules/es.array.concat.js"),Bn=t("./node_modules/antd/es/input-number/index.js"),St=t("./node_modules/clsx/dist/clsx.m.js"),wn=0,Jt=90,Kn=new Set([5,15,25,50,90]),Wn=[{label:"Auto bins",value:Be.a,display:!0}].concat(Ke()(Array.from(Array.from(Array(Jt+1).keys()),function(r){return{label:"".concat(r," bins"),value:r,display:Kn.has(r)}})),[{label:"Custom",value:"custom",display:!0}]);function mt(r){var n=r.disabled,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Object(ge.a)(l)),i=d.filters,u=d.numericBinCount,c=Object(o.useActions)(Object(ge.a)(l)),f=c.setBinCount;return e.a.createElement(Ie.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:Be.a,value:i.bin_count||Be.a,onSelect:function(g){return f(g)},dropdownRender:function(g){return e.a.createElement(e.a.Fragment,null,g,e.a.createElement("div",null,e.a.createElement(Bn.a,{className:"funnel-bins-custom-picker",size:"middle",min:wn,max:Jt,value:u,onChange:function(_){var v=typeof _=="string"?parseInt(_):_;v&&f(v)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:B.a.bottomRight,optionLabelProp:"label",disabled:n},e.a.createElement(Ie.a.OptGroup,{label:"Bin Count"},Wn.map(function(m){return m.value==="custom"?null:e.a.createElement(Ie.a.Option,{className:Object(St.a)({"select-option-hidden":!m.display}),key:m.value,value:m.value,label:e.a.createElement(e.a.Fragment,null,e.a.createElement(h,null)," ",m.label)},m.label)})))}try{mt.displayName="FunnelBinsPicker",mt.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:mt.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(r){}var Un=t("./frontend/src/lib/components/LemonSelect.tsx"),Xt=t("./frontend/src/scenes/insights/aggregationAxisFormat.ts"),ze,ke;function Qt(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),a.push.apply(a,l)}return a}function Zt(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Qt(Object(a),!0).forEach(function(l){N()(r,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(a,l))})}return r}var zn=function(n,a){switch(n){case s.C.FUNNELS:return a.funnel_viz_type===s.y.Trends;case s.C.RETENTION:case s.C.PATHS:return!1;case s.C.TRENDS:case s.C.STICKINESS:case s.C.LIFECYCLE:default:return!a.display||!Be.n.includes(a.display)}},kn=function(n){switch(n){case s.C.TRENDS:case s.C.STICKINESS:return!0;case s.C.RETENTION:case s.C.FUNNELS:return!1;case s.C.LIFECYCLE:case s.C.PATHS:return!1;default:return!0}},Hn=(ze={},N()(ze,"".concat(s.C.TRENDS),!0),N()(ze,"".concat(s.C.STICKINESS),!0),N()(ze,"".concat(s.C.LIFECYCLE),!0),N()(ze,"".concat(s.C.FUNNELS),!0),N()(ze,"".concat(s.C.RETENTION),!1),N()(ze,"".concat(s.C.PATHS),!0),ze),$n=(ke={},N()(ke,"".concat(s.C.TRENDS),!0),N()(ke,"".concat(s.C.STICKINESS),!0),N()(ke,"".concat(s.C.LIFECYCLE),!1),N()(ke,"".concat(s.C.FUNNELS),!1),N()(ke,"".concat(s.C.RETENTION),!1),N()(ke,"".concat(s.C.PATHS),!1),ke),Yn=function(n){var a,l;return!n.actions&&!n.events||((a=n.actions)===null||a===void 0?void 0:a.length)===0&&((l=n.events)===null||l===void 0?void 0:l.length)===0};function Me(r){return e.a.createElement("span",{className:"space-x-2 flex items-center text-sm"},r.children)}function ft(r){var n=r.filters,a=r.activeView,l=r.disableTable,d=a===s.C.FUNNELS,i=a===s.C.PATHS,u=Object(o.useValues)(_t.a),c=u.featureFlags,f=Object(o.useActions)(k.c),m=f.setFilters;return e.a.createElement("div",{className:"flex justify-between items-center flex-wrap","data-attr":"insight-filters"},e.a.createElement("div",{className:"flex items-center space-x-2 flex-wrap my-2"},Hn[a]&&!l&&e.a.createElement(Me,null,e.a.createElement("span",null,"Date range"),e.a.createElement(lt,{disabled:d&&Yn(n),makeLabel:function(O){return e.a.createElement(e.a.Fragment,null,e.a.createElement(xn.a,null)," ",O,O=="All time"&&e.a.createElement(Gt.a,{title:"Only events dated after 2015 will be shown"},e.a.createElement(we.a,{className:"info-indicator"})))}})),zn(a,n)&&e.a.createElement(Me,null,e.a.createElement("span",null,e.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),e.a.createElement(st,{view:a})),a===s.C.TRENDS&&!n.breakdown_type&&!n.compare&&(!n.display||n.display===s.j.ActionsLineGraph)&&c[Be.i.SMOOTHING_INTERVAL]?e.a.createElement(Me,null,e.a.createElement(Tn,null)):null,a===s.C.RETENTION&&e.a.createElement(Me,null,e.a.createElement(it,null),e.a.createElement(ut,null)),i&&e.a.createElement(Me,null,e.a.createElement(dt,null)),$n[a]&&e.a.createElement(Me,null,e.a.createElement(je,null))),e.a.createElement("div",{className:"flex items-center space-x-4 flex-wrap my-2"},kn(a)&&e.a.createElement(e.a.Fragment,null,a===s.C.TRENDS&&e.a.createElement(Me,null,e.a.createElement("span",null,Object(Xt.b)(n.display)),e.a.createElement(Un.a,{value:n.aggregation_axis_format||"numeric",onChange:function(O){O&&m(Zt(Zt({},n),{},{aggregation_axis_format:O}))},dropdownPlacement:"bottom-end",dropdownMatchSelectWidth:!1,"data-attr":"chart-aggregation-axis-format",options:Xt.a,size:"small"})),e.a.createElement(Me,null,e.a.createElement("span",null,"Chart type"),e.a.createElement(Je,{filters:n}))),d&&n.funnel_viz_type===s.y.Steps&&e.a.createElement(e.a.Fragment,null,e.a.createElement(Me,null,e.a.createElement(ct,null))),d&&n.funnel_viz_type===s.y.TimeToConvert&&e.a.createElement(Me,null,e.a.createElement(mt,null))))}try{ft.displayName="InsightDisplayConfig",ft.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'},{value:'"subscriptions"'},{value:'"sharing"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:ft.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(r){}var Tt=t("./node_modules/antd/es/button/index.js"),Gn=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),vt=t.n(Gn),Jn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),qt=t.n(Jn),xt={};xt.insert="head",xt.singleton=!1;var Ga=vt()(qt.a,xt),Ja=qt.a.locals||{},Xa=t("./node_modules/core-js/modules/es.array.find.js"),en=t("./frontend/src/lib/components/EntityFilterInfo.tsx");function tn(){var r,n=Object(o.useValues)(k.c),a=n.insightProps,l=Object(o.useValues)(Object(ge.a)(a)),d=l.filters,i=l.numberOfSeries,u=l.areFiltersValid,c=l.filterSteps,f=Object(o.useActions)(Object(ge.a)(a)),m=f.changeStepRange;if(d.funnel_viz_type===s.y.Steps)return null;var g=function(C,x){m(C,x)},O=u?Array.from(Array(Math.max(i)).keys()).slice(0,-1):[0],_=u?Array.from(Array(Math.max(i)).keys()).slice(((r=d.funnel_from_step)!==null&&r!==void 0?r:0)+1):[1],v=function(C){return C.map(function(x){var te=c.find(function(V){return V.order===x});return te?e.a.createElement(Ie.a.Option,{key:x,value:x,label:"Step ".concat(x+1)},e.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.a.createElement("span",{style:{marginRight:4}},"Step ",x+1,":"),e.a.createElement(en.a,{filter:te}))):null})};return e.a.createElement(ae.a,{className:"funnel-options-inputs"},e.a.createElement("span",{className:"text-muted-alt"},"from"),e.a.createElement(Ie.a,{disabled:!u,dropdownMatchSelectWidth:!1,dropdownAlign:B.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:d.funnel_from_step||0,onChange:function(C){return g(C,d.funnel_to_step)},style:{marginLeft:4,marginRight:4}},v(O)),e.a.createElement("span",{className:"text-muted-alt"},"to"),e.a.createElement(Ie.a,{disabled:!u,dropdownMatchSelectWidth:!1,dropdownAlign:B.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:d.funnel_to_step||Math.max(i-1,1),onChange:function(C){return g(d.funnel_from_step,C)},style:{marginLeft:4,marginRight:4}},v(_)))}function Xn(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=r.filters,l=r.activeView,d=Object(o.useValues)(Object(ge.a)(n)),i=d.conversionMetrics,u=d.aggregationTargetLabel,c=Object(o.useActions)(Object(Z.a)(n)),f=c.setChartFilter;if(l!==s.C.FUNNELS)return null;var m=[].concat(Ke()(a.funnel_viz_type===s.y.Steps?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},e.a.createElement(me.a,{title:"Overall conversion rate for all ".concat(u.plural," on the entire funnel.")},e.a.createElement(we.a,{className:"info-indicator left"})),"Total conversion rate"),e.a.createElement("span",{className:"text-muted-alt mr-1"},":"),e.a.createElement("span",{className:"l4"},Object(B.sb)(i.totalRate,2,!0)))]:[]),Ke()(a.funnel_viz_type!==s.y.Trends?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},e.a.createElement(me.a,{title:"Average (arithmetic mean) of the total time each ".concat(u.singular," spent in the entire funnel.")},e.a.createElement(we.a,{className:"info-indicator left"})),"Average time to convert"," "),a.funnel_viz_type===s.y.TimeToConvert&&e.a.createElement(tn,null),e.a.createElement("span",{className:"text-muted-alt mr-1"},":"),e.a.createElement(Tt.a,{type:"link",onClick:function(){return f(s.y.TimeToConvert)},disabled:a.funnel_viz_type===s.y.TimeToConvert},e.a.createElement("span",{className:"l4"},Object(B.O)(i.averageTime))))]:[]),Ke()(a.funnel_viz_type===s.y.Trends?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),e.a.createElement(tn,null))]:[]));return e.a.createElement(ae.a,{className:"funnel-canvas-label",align:"middle"},m.map(function(g,O){return e.a.createElement(e.a.Fragment,{key:O},O>0&&e.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),g)}))}var Qn=t("./frontend/src/lib/hooks/usePeriodicRerender.ts"),nn=3;function Zn(){var r=Object(o.useValues)(k.c),n=r.lastRefresh,a=Object(o.useActions)(k.c),l=a.loadResults;return Object(Qn.a)(15e3),e.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",n?Object(Pe.a)(n).fromNow():"a while ago",e.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),e.a.createElement(Gt.a,{title:e.a.createElement(e.a.Fragment,null,"Insights can be refreshed",e.a.createElement("br",null),"every ",nn," minutes.")},e.a.createElement(Tt.a,{size:"small",type:"link",onClick:function(){return l(!0)},disabled:!!n&&Object(Pe.a)().subtract(nn-.5,"minutes").isBefore(n),style:{padding:0}},e.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var Ft=t("./frontend/src/scenes/trends/viz/index.ts"),pt=t("./frontend/src/scenes/trends/trendsLogic.ts"),an=t("./frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/views/InsightsTable/index.tsx#InsightsTable"})}catch(r){}var rn=t("./frontend/src/scenes/insights/insightSceneLogic.tsx"),qn=t("./frontend/src/scenes/insights/views/WorldMap/index.ts"),ea=t("./frontend/src/scenes/insights/views/BoldNumber/index.ts");function Xe(r){var n=r.view,a=Object(o.useValues)(rn.a),l=a.insightMode,d=Object(o.useValues)(k.c),i=d.insightProps,u=Object(o.useValues)(Object(pt.a)(i)),c=u.filters,f=u.loadMoreBreakdownUrl,m=u.breakdownValuesLoading,g=Object(o.useActions)(Object(pt.a)(i)),O=g.loadMoreBreakdownValues,_=function(){if(!c.display||c.display===s.j.ActionsLineGraph||c.display===s.j.ActionsLineGraphCumulative||c.display===s.j.ActionsBar)return e.a.createElement(Ft.b,null);if(c.display===s.j.BoldNumber)return e.a.createElement(ea.a,null);if(c.display===s.j.ActionsTable)return e.a.createElement(o.BindLogic,{logic:pt.a,props:{dashboardItemId:null,view:n,filters:null}},e.a.createElement(an.b,{embedded:!0,filterKey:"trends_".concat(n),canEditSeriesNameInline:l===s.D.Edit,isMainInsightView:!0}));if(c.display===s.j.ActionsPie)return e.a.createElement(Ft.c,null);if(c.display===s.j.ActionsBarValue)return e.a.createElement(Ft.a,null);if(c.display===s.j.WorldMap)return e.a.createElement(qn.a,null)};return e.a.createElement(e.a.Fragment,null,(c.actions||c.events)&&e.a.createElement("div",{className:c.display!==s.j.ActionsTable&&c.display!==s.j.WorldMap&&c.display!==s.j.BoldNumber?"trends-insights-container":void 0},_()),c.breakdown&&f&&e.a.createElement("div",{className:"my-4 flex flex-col items-center"},e.a.createElement("div",{className:"text-muted mb-2"},"For readability, ",e.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),e.a.createElement(Fe.LemonButton,{onClick:O,loading:m,size:"small",type:"secondary"},"Load more breakdown values")))}try{Xe.displayName="TrendInsight",Xe.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:Xe.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(r){}var ta=t("./frontend/src/scenes/retention/RetentionContainer.tsx"),na=t("./frontend/src/scenes/paths/Paths.tsx"),et=t("./frontend/src/scenes/insights/EmptyStates/index.ts");function aa(){var r=Object(o.useValues)(k.c),n=r.activeView;return n!==s.C.PATHS?null:e.a.createElement(ae.a,{className:"funnel-canvas-label",align:"middle"},e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var sn=t("./frontend/src/lib/components/InsightLegend/InsightLegend.tsx"),Qa=t("./node_modules/core-js/modules/es.object.from-entries.js"),Za=t("./node_modules/core-js/modules/es.array.flat-map.js"),qa=t("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),ra=t("./frontend/src/lib/components/LemonTable/index.ts"),gt=t("./frontend/src/scenes/funnels/funnelUtils.ts"),It=t("./frontend/src/scenes/insights/views/Funnels/funnelStepTableUtils.tsx"),sa=t("./frontend/src/models/cohortsModel.ts"),ln=t("./frontend/src/lib/components/LemonCheckbox/index.ts"),on=t("./frontend/src/lib/components/Lettermark/Lettermark.tsx"),Lt=t("./frontend/src/lib/components/LemonRow/index.ts"),Qe=t("./frontend/src/scenes/funnels/ValueInspectorButton.tsx"),la=t("./frontend/src/lib/colors.ts"),oa=t("./frontend/src/models/propertyDefinitionsModel.ts"),ia=t("./frontend/src/scenes/insights/utils.tsx");function ca(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=Object(ge.a)(n),l=Object(o.useValues)(a),d=l.insightLoading,i=l.filters,u=l.steps,c=l.flattenedBreakdowns,f=l.hiddenLegendKeys,m=l.visibleStepsWithConversionMetrics,g=Object(o.useActions)(a),O=g.setHiddenById,_=g.toggleVisibilityByBreakdown,v=g.openPersonsModalForSeries,T=Object(o.useValues)(sa.a),C=T.cohorts,x=Object(o.useValues)(oa.a),te=x.formatPropertyValueForDisplay,V=c.length===1,oe=c==null?void 0:c.every(function(b){return!f[Object(gt.l)(m==null?void 0:m[0],b.breakdown_value)]}),ne=[{children:[{title:V?"Breakdown":e.a.createElement(ln.a,{checked:oe||(c!=null&&c.some(function(b){return!f[Object(gt.l)(m==null?void 0:m[0],b.breakdown_value)]})?"indeterminate":!1),onChange:function(){O(Object.fromEntries(m.flatMap(function(D){return c.map(function(w){return[Object(gt.l)(D,w.breakdown_value),oe]})})))},label:e.a.createElement("span",{className:"font-bold"},"Breakdown"),size:"small"}),dataIndex:"breakdown_value",render:function(D,w){var Q,U=((Q=w.breakdown_value)===null||Q===void 0?void 0:Q.length)==1?w.breakdown_value[0]:w.breakdown_value,H=Object(ia.d)(C,te,U,w.breakdown,i.breakdown_type);return V?e.a.createElement("span",{className:"font-medium"},H):e.a.createElement(ln.a,{checked:!f[Object(gt.l)(m==null?void 0:m[0],w.breakdown_value)],onChange:function(){return _(w.breakdown_value)},label:H})}},{title:e.a.createElement(e.a.Fragment,null,"Total",e.a.createElement("br",null),"conversion"),render:function(D,w){var Q,U;return Object(B.sb)((Q=w==null||(U=w.conversionRates)===null||U===void 0?void 0:U.total)!==null&&Q!==void 0?Q:0,2,!0)},align:"right"}]}].concat(Ke()(u.map(function(b,D){return{title:e.a.createElement(Lt.a,{icon:e.a.createElement(on.a,{name:D+1,color:on.b.Gray}),style:{font:"inherit",padding:0},size:"small"},e.a.createElement(en.a,{filter:Object(It.a)(b)})),children:[{title:D===0?"Entered":"Converted",render:function(Q,U){var H,L,F=(H=U.steps)===null||H===void 0?void 0:H[D];return F&&e.a.createElement(Qe.a,{onClick:function(){return v({step:b,series:F,converted:!0})},style:{padding:0}},Object(B.P)((L=F.count)!==null&&L!==void 0?L:0))},align:"right"}].concat(Ke()(D===0?[]:[{title:"Dropped\xA0off",render:function(Q,U){var H,L,F=(H=U.steps)===null||H===void 0?void 0:H[D];return F&&e.a.createElement(Qe.a,{onClick:function(){return v({step:b,series:F,converted:!1})},style:{padding:0}},Object(B.P)((L=F.droppedOffFromPrevious)!==null&&L!==void 0?L:0))},align:"right"}]),[{title:e.a.createElement(e.a.Fragment,null,"Conversion",e.a.createElement("br",null),"so\xA0far"),render:function(Q,U){var H,L,F,se,le,I,z=Object(It.b)(U,b.order);return z!=null&&z.total?e.a.createElement(Lt.a,{className:"significance-highlight",tooltip:"Significantly different from other breakdown values",icon:e.a.createElement(Ne.IconFlag,null),size:"small"},Object(B.sb)((H=(L=U.steps)===null||L===void 0||(F=L[b.order])===null||F===void 0?void 0:F.conversionRates.total)!==null&&H!==void 0?H:0,2,!0)):Object(B.sb)((se=(le=U.steps)===null||le===void 0||(I=le[b.order])===null||I===void 0?void 0:I.conversionRates.total)!==null&&se!==void 0?se:0,2,!0)},align:"right"}],Ke()(D===0?[]:[{title:e.a.createElement(e.a.Fragment,null,"Conversion",e.a.createElement("br",null),"from\xA0previous"),render:function(Q,U){var H,L,F,se,le,I,z=Object(It.b)(U,b.order);return!(z!=null&&z.total)&&z!==null&&z!==void 0&&z.fromPrevious?e.a.createElement(Lt.a,{className:"significance-highlight",tooltip:"Significantly different from other breakdown values",icon:e.a.createElement(Ne.IconFlag,null),size:"small"},Object(B.sb)((H=(L=U.steps)===null||L===void 0||(F=L[b.order])===null||F===void 0?void 0:F.conversionRates.fromPrevious)!==null&&H!==void 0?H:0,2,!0)):Object(B.sb)((se=(le=U.steps)===null||le===void 0||(I=le[b.order])===null||I===void 0?void 0:I.conversionRates.fromPrevious)!==null&&se!==void 0?se:0,2,!0)},align:"right"},{title:e.a.createElement(e.a.Fragment,null,"Median",e.a.createElement("br",null),"time"),render:function(Q,U){var H,L;return((H=U.steps)===null||H===void 0||(L=H[b.order])===null||L===void 0?void 0:L.median_conversion_time)!=null?Object(B.O)(U.steps[b.order].median_conversion_time,3):"\u2013"},align:"right",width:0,className:"whitespace-nowrap"},{title:e.a.createElement(e.a.Fragment,null,"Average",e.a.createElement("br",null),"time"),render:function(Q,U){var H,L;return((H=U.steps)===null||H===void 0||(L=H[b.order])===null||L===void 0?void 0:L.average_conversion_time)!=null?Object(B.O)(U.steps[b.order].average_conversion_time,3):"\u2013"},align:"right",width:0,className:"whitespace-nowrap"}]))}})));return e.a.createElement(ra.a,{dataSource:c,columns:ne,loading:d,rowKey:"breakdownIndex",rowStatus:function(D){return D.significant?"highlighted":null},rowRibbonColor:function(D){var w;return Object(la.c)((w=D==null?void 0:D.breakdownIndex)!==null&&w!==void 0?w:0)}})}var da=t("./frontend/src/lib/components/Animation/Animation.tsx"),ua=t("./frontend/src/lib/animations/animations.ts"),ma=t("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),fa=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelation.scss"),cn=t.n(fa),Rt={};Rt.insert="head",Rt.singleton=!1;var er=vt()(cn.a,Rt),tr=cn.a.locals||{},va=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),pa=t("./frontend/src/lib/components/PayCard/PayCard.tsx"),ga=t("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),nr=t("./node_modules/core-js/modules/es.number.is-integer.js"),ar=t("./node_modules/core-js/modules/es.number.constructor.js"),rr=t("./node_modules/core-js/modules/es.number.to-fixed.js"),sr=t("./node_modules/core-js/modules/es.string.split.js"),ha=t("./node_modules/antd/es/spin/index.js"),Dt=t("./node_modules/antd/es/table/index.js"),Ea=t("./node_modules/antd/lib/table/Column.js"),Se=t.n(Ea),dn=t("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},ya=ba,un=function(n,a){return R.createElement(Y.a,Object(y.a)(Object(y.a)({},n),{},{ref:a,icon:ya}))};un.displayName="FallOutlined";var mn=R.forwardRef(un),fn=t("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),Oa=t("./node_modules/antd/lib/checkbox/Checkbox.js"),ht=t.n(Oa),Ze=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),ja=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelationTable.scss"),vn=t.n(ja),At={};At.insert="head",At.singleton=!1;var lr=vt()(vn.a,At),or=vn.a.locals||{},pn=t("./frontend/src/lib/utils/eventUsageLogic.ts"),Ca=t("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function tt(r){var n=r.id,a=r.offset,l=r.children,d=Object(o.useActions)(Object(Ca.a)({id:n,offset:a})),i=d.scrolling,u=Object(R.useRef)(null);return Object(R.useEffect)(function(){var c=u.current;return document.addEventListener("scroll",function(){return c&&i(c)}),function(){return document.removeEventListener("scroll",function(){return c&&i(c)})}},[u.current]),e.a.createElement("div",{ref:u},l)}try{tt.displayName="VisibilitySensor",tt.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:tt.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(r){}var qe=t("./frontend/src/lib/components/LemonButton/index.ts"),gn=t("./frontend/src/lib/components/Popup/Popup.tsx"),_a=t("./node_modules/antd/es/modal/index.js"),Pa=t("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),Sa=t("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),Ta=t("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),xa=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.scss"),hn=t.n(xa),Nt={};Nt.insert="head",Nt.singleton=!1;var ir=vt()(hn.a,Nt),cr=hn.a.locals||{},Fa=t("./frontend/src/lib/components/Spinner/Spinner.tsx"),En=t("./frontend/src/lib/components/Link.tsx"),Ia=t("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function La(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=Object(ge.a)(n),l=Object(o.useValues)(a),d=l.correlationsLoading,i=l.funnelCorrelationDetails,u=l.parseDisplayNameForCorrelation,c=l.correlationMatrixAndScore,f=Object(o.useActions)(a),m=f.setFunnelCorrelationDetails,g=f.openCorrelationPersonsModal,O=(i==null?void 0:i.result_type)===s.u.Events?"event":"property",_=(i==null?void 0:i.result_type)===s.u.Events?"performed event":"have property",v=e.a.createElement(e.a.Fragment,null);if(i){var T=u(i),C=T.first_value,x=T.second_value;v=e.a.createElement(e.a.Fragment,null,e.a.createElement(Ze.a,{value:C}),x!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(Ze.a,{value:x,disablePopover:!0})))}var te=c.correlationScore,V=c.truePositive,oe=c.falsePositive,ne=c.trueNegative,b=c.falseNegative,D=c.correlationScoreStrength,w=D==="strong"?e.a.createElement(Pa.a,{style:{color:"var(--success)"}}):D==="moderate"?e.a.createElement(Sa.a,{style:{color:"var(--warning)"}}):e.a.createElement(Ta.a,{style:{color:"var(--danger)"}}),Q=function(){return m(null)};return e.a.createElement(_a.a,{className:"correlation-matrix",visible:!!i,onCancel:Q,destroyOnClose:!0,footer:e.a.createElement(Tt.a,{onClick:Q},"Dismiss"),width:600,title:"Correlation details"},e.a.createElement("div",{className:"correlation-table-wrapper"},d?e.a.createElement("div",{className:"mt-4 text-center"},e.a.createElement(Fa.a,{className:"text-4xl"})):i?e.a.createElement(e.a.Fragment,null,e.a.createElement("p",{className:"text-muted-alt mb-4"},"The table below displays the correlation details for users who ",_," ",e.a.createElement("b",null,v),"."),e.a.createElement("table",null,e.a.createElement("thead",null,e.a.createElement("tr",{className:"table-title"},e.a.createElement("td",{colSpan:3},"Results matrix")),e.a.createElement("tr",null,e.a.createElement("td",null,(i==null?void 0:i.result_type)===s.u.Events?"Performed event":"Has property"),e.a.createElement("td",null,"Success"),e.a.createElement("td",null,"Dropped off"))),e.a.createElement("tbody",null,e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"},"Yes"),e.a.createElement("td",null,e.a.createElement(me.a,{title:"True positive (TP) - Percentage of users who ".concat(_," and completed the funnel.")},e.a.createElement("div",{className:"percentage"},V?Object(B.sb)(V/(V+oe)):"0.00%")),V===0?"0 users":e.a.createElement(En.a,{onClick:function(){g(i,!0)}},Object(B.tb)(V,"user",void 0,!0))),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(me.a,{title:"False negative (FN) - Percentage of users who ".concat(_," and did not complete the funnel.")},b?Object(B.sb)(b/(b+ne)):"0.00%")),b===0?"0 users":e.a.createElement(En.a,{onClick:function(){g(i,!1)}},Object(B.tb)(b,"user",void 0,!0)))),e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"},"No"),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(me.a,{title:"False positive (FP) - Percentage of users who did not ".concat(_," and completed the funnel.")},oe?Object(B.sb)(oe/(V+oe)):"0.00%")),Object(B.tb)(oe,"user",void 0,!0)),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(me.a,{title:"True negative (TN) - Percentage of users who did not ".concat(_," and did not complete the funnel.")},ne?Object(B.sb)(ne/(b+ne)):"0.00%")),Object(B.tb)(ne,"user",void 0,!0))),e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"}),e.a.createElement("td",null,e.a.createElement("b",null,"100%")),e.a.createElement("td",null,e.a.createElement("b",null,"100%"))))),e.a.createElement("div",{className:"mt-4 text-center"},Object(B.i)((i==null?void 0:i.result_type)||"")," ",e.a.createElement("b",null,v)," ","has a"," ",(i==null?void 0:i.correlation_type)===s.v.Success?e.a.createElement("b",{className:"text-success"},"positive"," ",e.a.createElement(me.a,{title:"Positive correlation means this ".concat(O," is correlated with a successful conversion.")},e.a.createElement(we.a,{className:"cursor-pointer"}))):e.a.createElement("b",{className:"text-danger"},"negative"," ",e.a.createElement(me.a,{title:"Negative correlation means this ".concat(O," is correlated with an unsuccessful conversion (user dropped off).")},e.a.createElement(we.a,{className:"cursor-pointer"})))," ","correlation score of"," ",e.a.createElement("b",{style:{color:D==="strong"?"var(--success)":D==="moderate"?"var(--warning)":"var(--danger)"}},e.a.createElement(me.a,{title:"This ".concat(O," has ").concat(D," correlation.")},e.a.createElement("span",{style:{cursor:"pointer"}},w," ",te.toFixed(3)))))):e.a.createElement("div",null,e.a.createElement(Ia.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function Ra(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=Object(ge.a)(n),l=Object(o.useValues)(a),d=l.stepsWithCount,i=l.correlationValues,u=l.correlationTypes,c=l.eventHasPropertyCorrelations,f=l.eventWithPropertyCorrelationsValues,m=l.parseDisplayNameForCorrelation,g=l.correlationsLoading,O=l.eventWithPropertyCorrelationsLoading,_=l.nestedTableExpandedKeys,v=l.correlationPropKey,T=l.filters,C=l.aggregationTargetLabel,x=Object(o.useActions)(a),te=x.setCorrelationTypes,V=x.loadEventWithPropertyCorrelations,oe=x.addNestedTableExpandedKey,ne=x.removeNestedTableExpandedKey,b=x.openCorrelationPersonsModal,D=x.loadCorrelations,w=Object(o.useActions)(pn.e),Q=w.reportCorrelationInteraction;Object(R.useEffect)(function(){D({})},[T]);var U=function(I){u?u.includes(I)?te(u.filter(function(z){return z!==I})):te([].concat(Ke()(u),[I])):te([I])},H=function(I){var z=function(Ot){return Ot<10&&!Number.isInteger(Ot)?Ot.toFixed(1):Ot.toFixed()},Ee=I.correlation_type===s.v.Success,ve=m(I),$e=ve.first_value,bt=ve.second_value;return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,Ee?e.a.createElement(dn.a,{style:{color:"green"}}):e.a.createElement(mn,{style:{color:"red"}})," ",e.a.createElement(Ze.a,{value:$e}),bt!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(Ze.a,{value:bt,disablePopover:!0}))),e.a.createElement("div",null,Object(B.i)(C.plural)," ",T.aggregation_group_type_index!=null?"that":"who"," converted were"," ",e.a.createElement("mark",null,e.a.createElement("b",null,z(I.odds_ratio),"x ",Ee?"more":"less"," likely"))," ","to"," ",I.result_type===s.u.EventWithProperties?"have this event property":"do this event"),e.a.createElement(La,null))},L=function(I){return e.a.createElement(Qe.a,{onClick:function(){b(I,!0)}},I.success_count)},F=function(I){return e.a.createElement(Qe.a,{onClick:function(){b(I,!1)}},I.failure_count)},se=function(I){return O?e.a.createElement("div",{className:"nested-properties-loading"},e.a.createElement(ha.a,null),e.a.createElement("h3",null,"Loading correlation results"),e.a.createElement("p",null,"This process can take up to 20 seconds. ")):e.a.createElement("div",null,e.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),e.a.createElement(Dt.a,{dataSource:f[I],rowKey:function(Ee){return Ee.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(Ee,ve){return Q(s.u.EventWithProperties,"pagination change",{page:Ee,page_size:ve})}}},e.a.createElement(Se.a,{title:"Property",key:"eventName",render:function(Ee,ve){return H(ve)},align:"left"}),e.a.createElement(Se.a,{title:"Completed",key:"success_count",render:function(Ee,ve){return L(ve)},width:90,align:"center"}),e.a.createElement(Se.a,{title:"Dropped off",key:"failure_count",render:function(Ee,ve){return F(ve)},width:120,align:"center"}),e.a.createElement(Se.a,{title:"",key:"actions",render:function(Ee,ve){return e.a.createElement(bn,{record:ve})},align:"center",width:30})))};return d.length>1?e.a.createElement(tt,{id:v,offset:152},e.a.createElement("div",{className:"funnel-correlation-table"},e.a.createElement("span",{className:"funnel-correlation-header"},e.a.createElement("span",{className:"table-header"},e.a.createElement(Ne.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),e.a.createElement("span",{className:"table-options"},e.a.createElement("p",{className:"title"},"CORRELATION"),e.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return U(s.v.Success)}},e.a.createElement(ht.a,{checked:u.includes(s.v.Success),style:{pointerEvents:"none"}},"Success")),e.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return U(s.v.Failure)}},e.a.createElement(ht.a,{checked:u.includes(s.v.Failure),style:{pointerEvents:"none"}},"Dropoff")))),e.a.createElement(Dt.a,{dataSource:i,loading:g,size:"small",scroll:{x:"max-content"},rowKey:function(I){return I.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return Q(s.u.Events,"load more")}},expandable:{expandedRowRender:function(I){return se(I.event.event)},expandedRowKeys:_,rowExpandable:function(){return T.aggregation_group_type_index===void 0},expandIcon:function(I){var z=I.expanded,Ee=I.onExpand,ve=I.record,$e=I.expandable;return $e?z?e.a.createElement(me.a,{title:"Collapse"},e.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(yt){ne(ve.event.event),Ee(ve,yt)}},e.a.createElement(Ne.IconUnfoldLess,null))):e.a.createElement(me.a,{title:"Expand to see correlated properties for this event"},e.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(yt){!c(ve.event.event)&&V(ve.event.event),oe(ve.event.event),Ee(ve,yt)}},e.a.createElement(Ne.IconUnfoldMore,null))):null}}},e.a.createElement(Se.a,{title:"Event",key:"eventName",render:function(I,z){return H(z)},align:"left",ellipsis:!0}),e.a.createElement(Se.a,{title:e.a.createElement("div",{className:"flex items-center"},"Completed",e.a.createElement(me.a,{title:"".concat(Object(B.i)(C.plural)," ").concat(T.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},e.a.createElement(we.a,{className:"column-info"}))),key:"success_count",render:function(I,z){return L(z)},width:90,align:"center"}),e.a.createElement(Se.a,{title:e.a.createElement("div",{className:"flex items-center"},"Dropped off",e.a.createElement(me.a,{title:e.a.createElement(e.a.Fragment,null,Object(B.i)(C.plural)," ",T.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",e.a.createElement("b",null,"not complete")," the entire funnel.")},e.a.createElement(we.a,{className:"column-info"}))),key:"failure_count",render:function(I,z){return F(z)},width:120,align:"center"}),e.a.createElement(Se.a,{title:"",key:"actions",render:function(I,z){return e.a.createElement(bn,{record:z})},width:30})))):null}var bn=function(n){var a=n.record,l=Object(o.useValues)(k.c),d=l.insightProps,i=Object(ge.a)(d),u=Object(o.useActions)(i),c=u.excludeEventPropertyFromProject,f=u.excludeEventFromProject,m=u.setFunnelCorrelationDetails,g=Object(o.useValues)(i),O=g.isEventPropertyExcluded,_=g.isEventExcluded,v=a.event.event.split("::"),T=Object(R.useState)(!1),C=Ae()(T,2),x=C[0],te=C[1];return e.a.createElement(ae.a,{style:{justifyContent:"flex-end"}},e.a.createElement(gn.a,{visible:x,actionable:!0,onClickOutside:function(){return te(!1)},overlay:e.a.createElement(e.a.Fragment,null,a.result_type===s.u.Events&&e.a.createElement(qe.a,{onClick:function(){return m(a)},fullWidth:!0,status:"stealth"},"View correlation details"),e.a.createElement(qe.a,{disabled:a.result_type===s.u.EventWithProperties?O(v[1]):_(v[0]),onClick:function(){return a.result_type===s.u.EventWithProperties?c(v[0],v[1]):f(v[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",status:"stealth"},"Exclude event from project"))},e.a.createElement(qe.a,{status:"stealth",onClick:function(){return te(!x)}},e.a.createElement(fn.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},Da=t("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function Aa(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=Object(ge.a)(n),l=Object(o.useValues)(a),d=l.stepsWithCount,i=l.propertyCorrelationValues,u=l.propertyCorrelationTypes,c=l.excludedPropertyNames,f=l.parseDisplayNameForCorrelation,m=l.propertyCorrelationsLoading,g=l.inversePropertyNames,O=l.propertyNames,_=l.correlationPropKey,v=l.allProperties,T=l.filters,C=l.aggregationTargetLabel,x=Object(o.useActions)(a),te=x.setPropertyCorrelationTypes,V=x.setPropertyNames,oe=x.openCorrelationPersonsModal,ne=x.loadPropertyCorrelations,b=Object(o.useActions)(pn.e),D=b.reportCorrelationInteraction;Object(R.useEffect)(function(){O.length===0&&V(v),ne({})},[T]);var w=function(F){u?u.includes(F)?te(u.filter(function(se){return se!==F})):te([].concat(Ke()(u),[F])):te([F])},Q=function(F){return e.a.createElement(Qe.a,{onClick:function(){oe(F,!0)}},F.success_count)},U=function(F){return e.a.createElement(Qe.a,{onClick:function(){oe(F,!1)}},F.failure_count)},H=function(F){var se=function($e){return $e<10&&!Number.isInteger($e)?$e.toFixed(1):$e.toFixed()},le=F.correlation_type===s.v.Success,I=f(F),z=I.first_value,Ee=I.second_value;return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,le?e.a.createElement(dn.a,{style:{color:"green"}}):e.a.createElement(mn,{style:{color:"red"}})," ",e.a.createElement(Ze.a,{value:z}),Ee!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(Ze.a,{value:Ee,disablePopover:!0}))),e.a.createElement("div",null,Object(B.i)(C.plural)," ",T.aggregation_group_type_index!=null?"that":"who"," converted were"," ",e.a.createElement("mark",null,e.a.createElement("b",null,se(F.odds_ratio),"x ",le?"more":"less"," likely"))," ","to have this property value"))};return d.length>1?e.a.createElement(tt,{offset:150,id:"".concat(_,"-properties")},e.a.createElement("div",{className:"funnel-correlation-table"},e.a.createElement(ae.a,{className:"funnel-correlation-header"},e.a.createElement(G.a,{className:"table-header"},e.a.createElement(Ne.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),e.a.createElement(G.a,{className:"table-options"},e.a.createElement(ae.a,{style:{display:"contents"}},v.length>0&&e.a.createElement(e.a.Fragment,null,e.a.createElement("p",{className:"title"},"PROPERTIES "),e.a.createElement(Da.a,{value:new Set(O),onChange:function(F){return V(F)},allProperties:g(c||[])}))),e.a.createElement(ae.a,{style:{display:"contents"}},e.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),e.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return w(s.v.Success)}},e.a.createElement(ht.a,{checked:u.includes(s.v.Success),style:{pointerEvents:"none"}},"Success")),e.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return w(s.v.Failure)}},e.a.createElement(ht.a,{checked:u.includes(s.v.Failure),style:{pointerEvents:"none"}},"Dropoff"))))),e.a.createElement(Dt.a,{dataSource:i,loading:m,scroll:{x:"max-content"},size:"small",rowKey:function(F){return F.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(F,se){return D(s.u.Properties,"pagination change",{page:F,page_size:se})}}},e.a.createElement(Se.a,{title:"".concat(Object(B.i)(C.singular)," property"),key:"propertName",render:function(F,se){return H(se)},align:"left"}),e.a.createElement(Se.a,{title:e.a.createElement("div",{className:"flex items-center"},"Completed",e.a.createElement(me.a,{title:"".concat(Object(B.i)(C.plural)," ").concat(T.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},e.a.createElement(we.a,{className:"column-info"}))),key:"success_count",render:function(F,se){return Q(se)},width:90,align:"center"}),e.a.createElement(Se.a,{title:e.a.createElement("div",{className:"flex items-center"},"Dropped off",e.a.createElement(me.a,{title:e.a.createElement(e.a.Fragment,null,Object(B.i)(C.plural)," ",T.aggregation_group_type_index!=null?"that":"who"," have this property and did ",e.a.createElement("b",null,"not complete")," the entire funnel.")},e.a.createElement(we.a,{className:"column-info"}))),key:"failure_count",render:function(F,se){return U(se)},width:120,align:"center"}),e.a.createElement(Se.a,{title:"",key:"actions",render:function(F,se){return e.a.createElement(Na,{record:se})},align:"center",width:30})))):null}var Na=function(n){var a=n.record,l=Object(o.useValues)(k.c),d=l.insightProps,i=Object(ge.a)(d),u=Object(o.useActions)(i),c=u.excludePropertyFromProject,f=u.setFunnelCorrelationDetails,m=Object(o.useValues)(i),g=m.isPropertyExcludedFromProject,O=(a.event.event||"").split("::")[0],_=Object(R.useState)(!1),v=Ae()(_,2),T=v[0],C=v[1];return e.a.createElement(ae.a,{style:{justifyContent:"flex-end"}},e.a.createElement(gn.a,{visible:T,actionable:!0,onClickOutside:function(){return C(!1)},overlay:e.a.createElement(e.a.Fragment,null,e.a.createElement(qe.a,{onClick:function(){return f(a)},fullWidth:!0,status:"stealth"},"View correlation details"),e.a.createElement(qe.a,{disabled:g(O),onClick:function(){return c(O)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",status:"stealth"},"Exclude property from project"))},e.a.createElement(qe.a,{status:"stealth",onClick:function(){return C(!T)}},e.a.createElement(fn.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},Ma=function(){var n,a=Object(o.useValues)(k.c),l=a.insightProps,d=Object(o.useValues)(Object(ge.a)(l)),i=d.isSkewed,u=d.stepsWithCount,c=d.correlationFeedbackHidden,f=d.correlationDetailedFeedbackVisible,m=d.correlationFeedbackRating,g=d.correlationAnalysisAvailable,O=d.aggregationTargetLabel,_=Object(o.useActions)(Object(ge.a)(l)),v=_.sendCorrelationAnalysisFeedback,T=_.hideSkewWarning,C=_.hideCorrelationAnalysisFeedback,x=_.setCorrelationFeedbackRating,te=_.setCorrelationDetailedFeedback,V=Object(o.useValues)(ga.a),oe=V.preflight,ne=Object(R.useRef)(null);return u.length<=1?null:!g&&!(oe!=null&&(n=oe.instance_preferences)!==null&&n!==void 0&&n.disable_paid_fs)?e.a.createElement(pa.a,{identifier:s.d.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(O.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(O.plural," are converting or dropping off.")}):e.a.createElement(e.a.Fragment,null,e.a.createElement("h2",{style:{margin:"1rem 0"}},"Correlation analysis"),e.a.createElement("div",{className:"funnel-correlation"},i&&e.a.createElement(de.a,{className:"skew-warning"},e.a.createElement("h4",null,e.a.createElement(Ne.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",e.a.createElement(va.a,{className:"close-button",onClick:T})),e.a.createElement("div",null,e.a.createElement("b",null,"Tips for adjusting your funnel:"),e.a.createElement("ol",null,e.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),e.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),e.a.createElement(Ra,null),!c&&e.a.createElement("div",{className:"border rounded p-4 space-y-2 mt-4"},e.a.createElement("div",{className:"flex items-center justify-between"},e.a.createElement("h4",{className:"text-muted-alt"},e.a.createElement(ma.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?"),e.a.createElement("div",{className:"flex items-center gap-2"},!!m&&e.a.createElement("i",{className:"text-success mr-2"},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(b,D){return e.a.createElement(Fe.LemonButton,{key:D,active:m===b[0],onClick:function(){m===b[0]?x(0):(x(b[0]),setTimeout(function(){var Q;return(Q=ne.current)===null||Q===void 0?void 0:Q.focus()},100))}},b[1])}),e.a.createElement(Fe.LemonButton,{icon:e.a.createElement(Ne.IconClose,null),onClick:C,status:"stealth"}))),f?e.a.createElement(e.a.Fragment,null,e.a.createElement("form",{onSubmit:v,className:"space-y-2"},e.a.createElement(Fe.LemonTextArea,{onBlur:function(D){return te(D.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",ref:ne,onPressCmdEnter:function(){var D;(D=ne.current)===null||D===void 0||D.blur(),v()}}),e.a.createElement("div",{className:"flex justify-end"},e.a.createElement(Fe.LemonButton,{"data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback")))):null),e.a.createElement(Aa,null)))},Va=t("./frontend/src/scenes/funnels/Funnel.tsx");function Ba(){var r=Object(o.useValues)(k.c),n=r.insightProps,a=Object(o.useValues)(Object(ge.a)(n)),l=a.isValidFunnel,d=a.insightLoading,i=a.areFiltersValid,u=l&&i||d;return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:Object(St.a)("funnel-insights-container",{"non-empty-state":u})},e.a.createElement(Va.a,null)))}var wa=t("./frontend/src/lib/components/ExportButton/ExportButton.tsx"),Ka=t("./frontend/src/lib/components/AlertMessage/index.ts"),He,yn=(He={},N()(He,"".concat(s.C.TRENDS),e.a.createElement(Xe,{view:s.C.TRENDS})),N()(He,"".concat(s.C.STICKINESS),e.a.createElement(Xe,{view:s.C.STICKINESS})),N()(He,"".concat(s.C.LIFECYCLE),e.a.createElement(Xe,{view:s.C.LIFECYCLE})),N()(He,"".concat(s.C.FUNNELS),e.a.createElement(Ba,null)),N()(He,"".concat(s.C.RETENTION),e.a.createElement(ta.a,null)),N()(He,"".concat(s.C.PATHS),e.a.createElement(na.a,null)),He);function Et(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1,disableCorrelationTable:!1,disableLastComputation:!1},n=r.disableHeader,a=r.disableTable,l=r.disableCorrelationTable,d=r.disableLastComputation,i=Object(o.useValues)(_t.a),u=i.featureFlags,c=Object(o.useValues)(rn.a),f=c.insightMode,m=Object(o.useValues)(k.c),g=m.insightProps,O=m.canEditInsight,_=m.insightLoading,v=m.activeView,T=m.loadedView,C=m.filters,x=m.showTimeoutMessage,te=m.showErrorMessage,V=m.exporterResourceParams,oe=m.isUsingSessionAnalysis,ne=Object(o.useValues)(Object(ge.a)(g)),b=ne.areFiltersValid,D=ne.isValidFunnel,w=ne.areExclusionFiltersValid,Q=ne.correlationAnalysisAvailable,U=function(){if(v!==T||_&&!x)return e.a.createElement("div",{className:"text-center"},e.a.createElement(da.a,{type:ua.a.LaptopHog}));if(T===s.C.FUNNELS){if(!b)return e.a.createElement(et.b,{actionable:f===s.D.Edit||a});if(!w)return e.a.createElement(et.a,null);if(!D&&!_)return e.a.createElement(et.c,null)}return te?e.a.createElement(et.d,null):x?e.a.createElement(et.e,{isLoading:_}):null}();function H(){return v===s.C.FUNNELS&&!te&&!x&&b&&D&&C.funnel_viz_type===s.y.Steps&&!a?e.a.createElement(e.a.Fragment,null,e.a.createElement("h2",{className:"my-4 mx-0"},"Detailed results"),e.a.createElement(ca,null)):(!C.display||(C==null?void 0:C.display)!==s.j.ActionsTable&&(C==null?void 0:C.display)!==s.j.ActionsBarValue)&&v===s.C.TRENDS&&!a?e.a.createElement(e.a.Fragment,null,V&&e.a.createElement("div",{className:"flex items-center justify-between my-4 mx-0"},e.a.createElement("h2",null,"Detailed results"),e.a.createElement(me.a,{title:"Export this table in CSV format",placement:"left"},e.a.createElement(wa.a,{type:"secondary",status:"primary",items:[{export_format:s.q.CSV,export_context:V}]}))),e.a.createElement(o.BindLogic,{logic:pt.a,props:g},e.a.createElement(an.b,{isLegend:!0,filterKey:v===s.C.TRENDS?"trends_".concat(v):"",canEditSeriesNameInline:v===s.C.TRENDS&&f===s.D.Edit,canCheckUncheckSeries:O}))):null}return e.a.createElement(e.a.Fragment,null,oe?e.a.createElement("div",{className:"mb-4"},e.a.createElement(Ka.a,{type:"info"},"When using sessions and session properties, events without session IDs will be excluded from the set of results."," ",e.a.createElement("a",{href:"https://posthog.com/docs/user-guides/sessions"},"Learn more about sessions."))):null,e.a.createElement(de.a,{title:n?null:e.a.createElement(ft,{activeView:v,insightMode:f,filters:C,disableTable:!!a}),"data-attr":"insights-graph",className:"insights-graph-container"},e.a.createElement("div",null,e.a.createElement(ae.a,{className:Object(St.a)("insights-graph-header",{funnels:v===s.C.FUNNELS}),align:"middle",justify:"space-between"},!d&&e.a.createElement(G.a,null,e.a.createElement(Zn,null)),e.a.createElement(G.a,null,v===s.C.FUNNELS?e.a.createElement(Xn,null):null,v===s.C.PATHS?e.a.createElement(aa,null):null,e.a.createElement(sn.b,null))),U||(u[Be.i.INSIGHT_LEGENDS]&&(v===s.C.TRENDS||v===s.C.STICKINESS)&&C.show_legend?e.a.createElement(ae.a,{className:"insights-graph-container-row",wrap:!1},e.a.createElement(G.a,{className:"insights-graph-container-row-left"},yn[v]),e.a.createElement(G.a,{className:"insights-graph-container-row-right"},e.a.createElement(sn.a,null))):yn[v]))),H(),!l&&Q&&v===s.C.FUNNELS&&e.a.createElement(Ma,null))}try{Et.displayName="InsightContainer",Et.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}},disableCorrelationTable:{defaultValue:null,description:"",name:"disableCorrelationTable",required:!1,type:{name:"boolean"}},disableLastComputation:{defaultValue:null,description:"",name:"disableLastComputation",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:Et.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(r){}},"./frontend/src/scenes/insights/filters/InsightDateFilter/insightDateFilterLogic.ts":function(ie,P,t){"use strict";t.d(P,"a",function(){return Oe});var A=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),N=t.n(A),de=t("./node_modules/core-js/modules/es.array.iterator.js"),ae=t.n(de),G=t("./node_modules/core-js/modules/es.object.to-string.js"),ye=t.n(G),ue=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Te=t.n(ue),he=t("./node_modules/core-js/modules/es.object.keys.js"),Le=t.n(he),Ce=t("./node_modules/core-js/modules/es.symbol.js"),Re=t.n(Ce),_e=t("./node_modules/core-js/modules/es.array.filter.js"),Ve=t.n(_e),R=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),e=t.n(R),o=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Z=t.n(o),E=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),j=t.n(E),y=t("./node_modules/kea/lib/index.esm.js"),M=t("./frontend/src/scenes/insights/insightLogic.ts"),K=t("./frontend/src/scenes/insights/sharedUtils.ts");function Y(W,q){var p=Object.keys(W);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(W);q&&(h=h.filter(function(S){return Object.getOwnPropertyDescriptor(W,S).enumerable})),p.push.apply(p,h)}return p}function ce(W){for(var q=1;q<arguments.length;q++){var p=arguments[q]!=null?arguments[q]:{};q%2?Y(Object(p),!0).forEach(function(h){N()(W,h,p[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(p)):Y(Object(p)).forEach(function(h){Object.defineProperty(W,h,Object.getOwnPropertyDescriptor(p,h))})}return W}var Oe=Object(y.kea)({props:{},key:Object(K.c)("new"),path:function(q){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",q]},connect:function(q){return{actions:[Object(M.c)(q),["setFilters"]],values:[Object(M.c)(q),["filters"]]}},actions:function(){return{setDates:function(p,h){return{dateFrom:p,dateTo:h}}}},selectors:{dates:[function(W){return[W.filters]},function(W){return{dateFrom:(W==null?void 0:W.date_from)||null,dateTo:(W==null?void 0:W.date_to)||null}}]},listeners:function(q){var p=q.actions,h=q.values;return{setDates:function(re){var pe=re.dateFrom,xe=re.dateTo;p.setFilters(ce(ce({},h.filters),{},{date_from:pe||null,date_to:xe||null}))}}}})},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(ie,P,t){"use strict";var A=t("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),N=t("./node_modules/react/index.js"),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},ae=de,G=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),ye=function(he,Le){return N.createElement(G.a,Object(A.a)(Object(A.a)({},he),{},{ref:Le,icon:ae}))};ye.displayName="OrderedListOutlined";var ue=P.a=N.forwardRef(ye)},"./node_modules/antd/lib/checkbox/Checkbox.js":function(ie,P,t){"use strict";var A=t("./node_modules/antd/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),N=t("./node_modules/antd/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;var de=A(t("./node_modules/antd/node_modules/@babel/runtime/helpers/defineProperty.js")),ae=A(t("./node_modules/antd/node_modules/@babel/runtime/helpers/extends.js")),G=Re(t("./node_modules/react/index.js")),ye=A(t("./node_modules/classnames/index.js")),ue=A(t("./node_modules/rc-checkbox/es/index.js")),Te=t("./node_modules/antd/lib/checkbox/Group.js"),he=t("./node_modules/antd/lib/config-provider/index.js"),Le=A(t("./node_modules/antd/lib/_util/devWarning.js"));function Ce(o){if(typeof WeakMap!="function")return null;var Z=new WeakMap,E=new WeakMap;return(Ce=function(y){return y?E:Z})(o)}function Re(o,Z){if(!Z&&o&&o.__esModule)return o;if(o===null||N(o)!=="object"&&typeof o!="function")return{default:o};var E=Ce(Z);if(E&&E.has(o))return E.get(o);var j={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in o)if(M!=="default"&&Object.prototype.hasOwnProperty.call(o,M)){var K=y?Object.getOwnPropertyDescriptor(o,M):null;K&&(K.get||K.set)?Object.defineProperty(j,M,K):j[M]=o[M]}return j.default=o,E&&E.set(o,j),j}var _e=function(o,Z){var E={};for(var j in o)Object.prototype.hasOwnProperty.call(o,j)&&Z.indexOf(j)<0&&(E[j]=o[j]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,j=Object.getOwnPropertySymbols(o);y<j.length;y++)Z.indexOf(j[y])<0&&Object.prototype.propertyIsEnumerable.call(o,j[y])&&(E[j[y]]=o[j[y]]);return E},Ve=function(Z,E){var j,y=Z.prefixCls,M=Z.className,K=Z.children,Y=Z.indeterminate,ce=Y===void 0?!1:Y,Oe=Z.style,W=Z.onMouseEnter,q=Z.onMouseLeave,p=Z.skipGroup,h=p===void 0?!1:p,S=_e(Z,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),re=G.useContext(he.ConfigContext),pe=re.getPrefixCls,xe=re.direction,J=G.useContext(Te.GroupContext),X=G.useRef(S.value);G.useEffect(function(){J==null||J.registerValue(S.value),(0,Le.default)("checked"in S||!!J||!("value"in S),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),G.useEffect(function(){if(!h)return S.value!==X.current&&(J==null||J.cancelValue(X.current),J==null||J.registerValue(S.value)),function(){return J==null?void 0:J.cancelValue(S.value)}},[S.value]);var $=pe("checkbox",y),ee=(0,ae.default)({},S);J&&!h&&(ee.onChange=function(){S.onChange&&S.onChange.apply(S,arguments),J.toggleOption&&J.toggleOption({label:K,value:S.value})},ee.name=J.name,ee.checked=J.value.indexOf(S.value)!==-1,ee.disabled=S.disabled||J.disabled);var fe=(0,ye.default)((j={},(0,de.default)(j,"".concat($,"-wrapper"),!0),(0,de.default)(j,"".concat($,"-rtl"),xe==="rtl"),(0,de.default)(j,"".concat($,"-wrapper-checked"),ee.checked),(0,de.default)(j,"".concat($,"-wrapper-disabled"),ee.disabled),j),M),We=(0,ye.default)((0,de.default)({},"".concat($,"-indeterminate"),ce));return G.createElement("label",{className:fe,style:Oe,onMouseEnter:W,onMouseLeave:q},G.createElement(ue.default,(0,ae.default)({},ee,{prefixCls:$,className:We,ref:E})),K!==void 0&&G.createElement("span",null,K))},R=G.forwardRef(Ve);R.displayName="Checkbox";var e=R;P.default=e},"./node_modules/antd/lib/checkbox/Group.js":function(ie,P,t){"use strict";var A=t("./node_modules/antd/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),N=t("./node_modules/antd/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(P,"__esModule",{value:!0}),P.default=P.GroupContext=void 0;var de=A(t("./node_modules/antd/node_modules/@babel/runtime/helpers/extends.js")),ae=A(t("./node_modules/antd/node_modules/@babel/runtime/helpers/defineProperty.js")),G=A(t("./node_modules/antd/node_modules/@babel/runtime/helpers/toConsumableArray.js")),ye=A(t("./node_modules/antd/node_modules/@babel/runtime/helpers/slicedToArray.js")),ue=_e(t("./node_modules/react/index.js")),Te=A(t("./node_modules/classnames/index.js")),he=A(t("./node_modules/antd/node_modules/rc-util/lib/omit.js")),Le=A(t("./node_modules/antd/lib/checkbox/Checkbox.js")),Ce=t("./node_modules/antd/lib/config-provider/index.js");function Re(E){if(typeof WeakMap!="function")return null;var j=new WeakMap,y=new WeakMap;return(Re=function(K){return K?y:j})(E)}function _e(E,j){if(!j&&E&&E.__esModule)return E;if(E===null||N(E)!=="object"&&typeof E!="function")return{default:E};var y=Re(j);if(y&&y.has(E))return y.get(E);var M={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in E)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(E,Y)){var ce=K?Object.getOwnPropertyDescriptor(E,Y):null;ce&&(ce.get||ce.set)?Object.defineProperty(M,Y,ce):M[Y]=E[Y]}return M.default=E,y&&y.set(E,M),M}var Ve=function(E,j){var y={};for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&j.indexOf(M)<0&&(y[M]=E[M]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,M=Object.getOwnPropertySymbols(E);K<M.length;K++)j.indexOf(M[K])<0&&Object.prototype.propertyIsEnumerable.call(E,M[K])&&(y[M[K]]=E[M[K]]);return y},R=ue.createContext(null);P.GroupContext=R;var e=function(j,y){var M=j.defaultValue,K=j.children,Y=j.options,ce=Y===void 0?[]:Y,Oe=j.prefixCls,W=j.className,q=j.style,p=j.onChange,h=Ve(j,["defaultValue","children","options","prefixCls","className","style","onChange"]),S=ue.useContext(Ce.ConfigContext),re=S.getPrefixCls,pe=S.direction,xe=ue.useState(h.value||M||[]),J=(0,ye.default)(xe,2),X=J[0],$=J[1],ee=ue.useState([]),fe=(0,ye.default)(ee,2),We=fe[0],Ye=fe[1];ue.useEffect(function(){"value"in h&&$(h.value||[])},[h.value]);var De=function(){return ce.map(function(je){return typeof je=="string"?{label:je,value:je}:je})},Ge=function(je){Ye(function(Ue){return Ue.filter(function(Ae){return Ae!==je})})},s=function(je){Ye(function(Ue){return[].concat((0,G.default)(Ue),[je])})},k=function(je){var Ue=X.indexOf(je.value),Ae=(0,G.default)(X);Ue===-1?Ae.push(je.value):Ae.splice(Ue,1),"value"in h||$(Ae);var Ct=De();p==null||p(Ae.filter(function(at){return We.indexOf(at)!==-1}).sort(function(at,Mt){var Vt=Ct.findIndex(function(rt){return rt.value===at}),Bt=Ct.findIndex(function(rt){return rt.value===Mt});return Vt-Bt}))},nt=re("checkbox",Oe),me="".concat(nt,"-group"),jt=(0,he.default)(h,["value","disabled"]);ce&&ce.length>0&&(K=De().map(function(be){return ue.createElement(Le.default,{prefixCls:nt,key:be.value.toString(),disabled:"disabled"in be?be.disabled:h.disabled,value:be.value,checked:X.indexOf(be.value)!==-1,onChange:be.onChange,className:"".concat(me,"-item"),style:be.style},be.label)}));var Fe={toggleOption:k,value:X,disabled:h.disabled,name:h.name,registerValue:s,cancelValue:Ge},Je=(0,Te.default)(me,(0,ae.default)({},"".concat(me,"-rtl"),pe==="rtl"),W);return ue.createElement("div",(0,de.default)({className:Je,style:q},jt,{ref:y}),ue.createElement(R.Provider,{value:Fe},K))},o=ue.forwardRef(e),Z=ue.memo(o);P.default=Z},"./node_modules/antd/lib/table/Column.js":function(ie,P,t){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.default=void 0;function A(de){return null}var N=A;P.default=N},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss":function(ie,P,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");P=A(!1),P.push([ie.i,".inline-message{background-color:var(--bg-mid);border-radius:var(--radius);padding:.5rem 1rem;font-weight:var(--font-medium);display:flex;align-items:center;color:var(--primary-alt)}.inline-message.danger{background-color:var(--danger-highlight);color:var(--danger)}.inline-message.closable{padding-right:.5rem}.inline-message.hidden{display:none}.inline-message .inline-icon{margin-right:6px;display:flex;align-items:center}.inline-message .inline-main{flex-grow:1}.inline-message .closable{color:var(--muted);align-self:flex-start;padding-left:1rem;cursor:pointer}",""]),ie.exports=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(ie,P,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");P=A(!1),P.push([ie.i,".insights-graph-header.funnels{border-bottom:1px solid var(--border)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:var(--default)}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),ie.exports=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.scss":function(ie,P,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");P=A(!1),P.push([ie.i,".correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:var(--radius);border:1px solid var(--border);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid var(--border);border-top:1px solid var(--border);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:var(--muted-alt)}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:var(--antd-table-background-dark);text-transform:uppercase;color:var(--muted)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),ie.exports=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelation.scss":function(ie,P,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");P=A(!1),P.push([ie.i,".funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid var(--warning)}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid var(--border);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:var(--muted)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:var(--font-medium)}",""]),ie.exports=P},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelationTable.scss":function(ie,P,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");P=A(!1),P.push([ie.i,".funnel-correlation-table{margin-top:1rem;border:1px solid var(--border);border-radius:var(--radius)}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid var(--border)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;align-self:stretch;justify-content:space-between;align-content:space-between;border-top-left-radius:var(--radius);border-top-right-radius:var(--radius);padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:var(--default);margin-left:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:var(--muted-alt);cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid var(--border);border-radius:var(--radius)}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid var(--border)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:var(--muted-alt)}",""]),ie.exports=P}}]);
