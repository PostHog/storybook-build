"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[722],{"./frontend/src/lib/components/Sharing/SharingModal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DashboardSharing:()=>DashboardSharing,DashboardSharingLicensed:()=>DashboardSharingLicensed,InsightSharing:()=>InsightSharing,InsightSharingLicensed:()=>InsightSharingLicensed,RecordingSharingLicensed:()=>RecordingSharingLicensed,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_mocks_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/mocks/browser.tsx"),_mocks_features__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/mocks/features.ts"),_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/types.ts"),_SharingModal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/components/Sharing/SharingModal.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const fakeInsight={id:123,short_id:"insight123",filters:{insight:_types__WEBPACK_IMPORTED_MODULE_3__.dw.TRENDS}},__WEBPACK_DEFAULT_EXPORT__={title:"Components/Sharing",component:_SharingModal__WEBPACK_IMPORTED_MODULE_4__.PA,parameters:{layout:"fullscreen",viewMode:"story"}},Template=args=>{const{licensed=!1,...props}=args,[modalOpen,setModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,_mocks_features__WEBPACK_IMPORTED_MODULE_6__.y)(licensed?[_types__WEBPACK_IMPORTED_MODULE_3__.P$.WHITE_LABELLING]:[]),(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_2__.ok)({get:{...["/api/projects/:id/insights/:insight_id/sharing/","/api/projects/:id/dashboards/:dashboard_id/sharing/","/api/projects/:id/session_recordings/:recording_id/sharing/"].reduce(((acc,url)=>({...acc,[url]:{created_at:"2022-06-28T12:30:51.459746Z",enabled:!0,access_token:"1AEQjQ2xNLGoiyI0UnNlLzOiBZWWMQ"}})),{}),"/api/projects/:id/insights/":{results:[fakeInsight]}},patch:{...["/api/projects/:id/insights/:insight_id/sharing/","/api/projects/:id/dashboards/:dashboard_id/sharing/","/api/projects/:id/session_recordings/:recording_id/sharing/"].reduce(((acc,url)=>({...acc,[url]:req=>[200,{created_at:"2022-06-28T12:30:51.459746Z",enabled:!0,access_token:"1AEQjQ2xNLGoiyI0UnNlLzOiBZWWMQ",...req.body}]})),{})}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"bg-default p-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SharingModal__WEBPACK_IMPORTED_MODULE_4__.PA,{...props,closeModal:()=>{console.log("close")},isOpen:!0,inline:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"flex justify-center mt-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_0__.J,{onClick:()=>setModalOpen(!0),type:"primary",children:"Open as Modal"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_SharingModal__WEBPACK_IMPORTED_MODULE_4__.PA,{...props,closeModal:()=>setModalOpen(!1),isOpen:modalOpen})]})},DashboardSharing=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Template,{title:"Dashboard permissions",dashboardId:123}),DashboardSharingLicensed=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Template,{title:"Dashboard permissions",licensed:!0,dashboardId:123}),InsightSharing=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Template,{title:"Insight permissions",insightShortId:fakeInsight.short_id,insight:fakeInsight,previewIframe:!0}),InsightSharingLicensed=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Template,{title:"Insight permissions",insightShortId:fakeInsight.short_id,insight:fakeInsight,licensed:!0,previewIframe:!0}),RecordingSharingLicensed=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Template,{title:"Share Recording",recordingId:"fake-id",licensed:!0,previewIframe:!0});DashboardSharing.parameters={...DashboardSharing.parameters,docs:{...DashboardSharing.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Dashboard permissions" dashboardId={123} />;\n}',...DashboardSharing.parameters?.docs?.source}}},DashboardSharingLicensed.parameters={...DashboardSharingLicensed.parameters,docs:{...DashboardSharingLicensed.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Dashboard permissions" licensed dashboardId={123} />;\n}',...DashboardSharingLicensed.parameters?.docs?.source}}},InsightSharing.parameters={...InsightSharing.parameters,docs:{...InsightSharing.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Insight permissions" insightShortId={fakeInsight.short_id} insight={fakeInsight} previewIframe />;\n}',...InsightSharing.parameters?.docs?.source}}},InsightSharingLicensed.parameters={...InsightSharingLicensed.parameters,docs:{...InsightSharingLicensed.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Insight permissions" insightShortId={fakeInsight.short_id} insight={fakeInsight} licensed previewIframe />;\n}',...InsightSharingLicensed.parameters?.docs?.source}}},RecordingSharingLicensed.parameters={...RecordingSharingLicensed.parameters,docs:{...RecordingSharingLicensed.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Share Recording" recordingId="fake-id" licensed previewIframe />;\n}',...RecordingSharingLicensed.parameters?.docs?.source}}};const __namedExportsOrder=["DashboardSharing","DashboardSharingLicensed","InsightSharing","InsightSharingLicensed","RecordingSharingLicensed"]}}]);