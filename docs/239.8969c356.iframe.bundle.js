(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{4515:function(module,exports,__webpack_require__){(exports=__webpack_require__(48)(!1)).push([module.i,'.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.project-homepage .dashboard-header{justify-content:"space-between";align-items:center}.project-homepage .dashboard-header .dashboard-title-container{display:flex;flex-direction:row;align-items:center}.project-homepage .dashboard-header .dashboard-title-container .dashboard-name{margin:0}.project-homepage .empty-state-container{background-color:#fafaf9;width:100%;justify-content:center;align-items:center;padding:4rem;display:flex;flex-direction:column}',""]),module.exports=exports},4516:function(module,exports,__webpack_require__){(exports=__webpack_require__(48)(!1)).push([module.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.primary-dashboard-modal .loading-skeleton-container{padding:1rem}.primary-dashboard-modal .dashboard-list{max-height:350px;overflow-y:scroll;padding:.5rem 1rem .25rem}.primary-dashboard-modal .dashboard-list .dashboard-row{display:flex;flex:1;height:60px;padding:.5rem;margin-bottom:.25rem}.primary-dashboard-modal .dashboard-list .dashboard-row.primary-dashboard-row{background-color:#fafaf9}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-label-container{color:#2d2d2d;flex:1}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-description{margin:0}.primary-dashboard-modal .dashboard-list .dashboard-row .set-default-text{color:#5375ff}.primary-dashboard-modal .dashboard-list .dashboard-row .default-indicator{color:#2d2d2d;display:flex;align-items:center}",""]),module.exports=exports},4751:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ProjectHomepage",(function(){return ProjectHomepage_ProjectHomepage})),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene}));__webpack_require__(61),__webpack_require__(39),__webpack_require__(113);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),injectStylesIntoStyleTag=__webpack_require__(20),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),ProjectHomepage=__webpack_require__(4515),ProjectHomepage_default=__webpack_require__.n(ProjectHomepage),options={insert:"head",singleton:!1},PageHeader=(injectStylesIntoStyleTag_default()(ProjectHomepage_default.a,options),ProjectHomepage_default.a.locals,__webpack_require__(211)),Dashboard=__webpack_require__(1153),index_esm=__webpack_require__(1),teamLogic=__webpack_require__(27),types=__webpack_require__(4),es_button=__webpack_require__(143),row=__webpack_require__(265),typography=__webpack_require__(2568),inviteLogic=__webpack_require__(326),lib=__webpack_require__(26),urls=__webpack_require__(19),LemonRow=__webpack_require__(99),dashboardLogic=__webpack_require__(129),PrimaryDashboardModal=(__webpack_require__(185),__webpack_require__(196),__webpack_require__(32),__webpack_require__(4516)),PrimaryDashboardModal_default=__webpack_require__.n(PrimaryDashboardModal),PrimaryDashboardModal_options={insert:"head",singleton:!1},dashboardsModel=(injectStylesIntoStyleTag_default()(PrimaryDashboardModal_default.a,PrimaryDashboardModal_options),PrimaryDashboardModal_default.a.locals,__webpack_require__(74)),LemonModal=__webpack_require__(1772),LemonButton=__webpack_require__(54),skeleton=__webpack_require__(1248),regenerator=__webpack_require__(7),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(67),__webpack_require__(12)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),primaryDashboardModalLogic=Object(index_esm.kea)({path:["scenes","project-homepage","primaryDashboardModalLogic"],connect:{actions:[teamLogic.a,["updateCurrentTeam"]],values:[teamLogic.a,["currentTeam"]]},actions:{showPrimaryDashboardModal:function showPrimaryDashboardModal(){return!0},closePrimaryDashboardModal:function closePrimaryDashboardModal(){return!0},setPrimaryDashboard:function setPrimaryDashboard(dashboardId){return{dashboardId:dashboardId}}},selectors:{primaryDashboardId:[function(s){return[s.currentTeam]},function(currentTeam){return null==currentTeam?void 0:currentTeam.primary_dashboard}]},reducers:{visible:[!1,{showPrimaryDashboardModal:function showPrimaryDashboardModal(){return!0},closePrimaryDashboardModal:function closePrimaryDashboardModal(){return!1}}]},listeners:function listeners(_ref){var _setPrimaryDashboard,actions=_ref.actions;return{setPrimaryDashboard:(_setPrimaryDashboard=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(_ref2){var dashboardId;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:dashboardId=_ref2.dashboardId,actions.updateCurrentTeam({primary_dashboard:dashboardId});case 2:case"end":return _context.stop()}}),_callee)}))),function setPrimaryDashboard(_x){return _setPrimaryDashboard.apply(this,arguments)})}}}),icons=__webpack_require__(24);function PrimaryDashboardModal_PrimaryDashboardModal(){var _useValues=Object(index_esm.useValues)(primaryDashboardModalLogic),visible=_useValues.visible,primaryDashboardId=_useValues.primaryDashboardId,_useActions=Object(index_esm.useActions)(primaryDashboardModalLogic),closePrimaryDashboardModal=_useActions.closePrimaryDashboardModal,setPrimaryDashboard=_useActions.setPrimaryDashboard,_useValues2=Object(index_esm.useValues)(dashboardsModel.a),nameSortedDashboards=_useValues2.nameSortedDashboards,dashboardsLoading=_useValues2.dashboardsLoading;return react_default.a.createElement(LemonModal.a,{className:"primary-dashboard-modal",visible:visible,onCancel:function onCancel(){closePrimaryDashboardModal()},title:"Select a default dashboard for the project",destroyOnClose:!0,bodyStyle:{padding:0},footer:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(LemonButton.a,{type:"secondary","data-attr":"close-primary-dashboard-modal",style:{marginRight:"0.5rem"},onClick:closePrimaryDashboardModal},"Close"))},dashboardsLoading?react_default.a.createElement("div",{className:"loading-skeleton-container"},react_default.a.createElement(skeleton.a,{active:!0})):react_default.a.createElement("div",{className:"dashboard-list"},nameSortedDashboards.map((function(dashboard){var isPrimary=dashboard.id===primaryDashboardId,rowContents=[react_default.a.createElement("div",{key:1,className:"dashboard-label-container"},react_default.a.createElement("strong",null,dashboard.name),dashboard.description&&react_default.a.createElement("p",{className:"text-small text-muted-alt dashboard-description"},dashboard.description)),react_default.a.createElement("div",{key:2},isPrimary?react_default.a.createElement("div",{className:"default-indicator"},react_default.a.createElement(icons.HomeIcon,{className:"mr-05",style:{width:18}}),react_default.a.createElement("span",null,"Default")):react_default.a.createElement("strong",{className:"set-default-text"},"Set as default"))];return isPrimary?react_default.a.createElement(LemonRow.a,{key:dashboard.id,fullWidth:!0,className:"dashboard-row primary-dashboard-row"},rowContents):react_default.a.createElement(LemonButton.a,{key:dashboard.id,fullWidth:!0,className:"dashboard-row",onClick:function onClick(){setPrimaryDashboard(dashboard.id),closePrimaryDashboardModal()}},rowContents)}))))}function ProjectHomepage_ProjectHomepage(){var _currentTeam$primary_,currentTeam=Object(index_esm.useValues)(teamLogic.a).currentTeam,dashboardLogicInstance=Object(dashboardLogic.c)({id:null!==(_currentTeam$primary_=null==currentTeam?void 0:currentTeam.primary_dashboard)&&void 0!==_currentTeam$primary_?_currentTeam$primary_:void 0}),dashboard=Object(index_esm.useValues)(dashboardLogicInstance).dashboard,showInviteModal=Object(index_esm.useActions)(inviteLogic.a).showInviteModal,showPrimaryDashboardModal=Object(index_esm.useActions)(primaryDashboardModalLogic).showPrimaryDashboardModal,headerButtons=react_default.a.createElement("div",{style:{display:"flex"}},react_default.a.createElement(es_button.a,{"data-attr":"project-home-invite-team-members",onClick:function onClick(){showInviteModal()},className:"mr-05"},"Invite members"),react_default.a.createElement(es_button.a,{"data-attr":"project-home-new-insight",onClick:function onClick(){lib.router.actions.push(urls.a.insightNew({insight:types.s.TRENDS}))}},"New insight"));return react_default.a.createElement("div",{className:"project-homepage"},react_default.a.createElement(PageHeader.a,{title:(null==currentTeam?void 0:currentTeam.name)||"",delimited:!0,buttons:headerButtons}),(null==currentTeam?void 0:currentTeam.primary_dashboard)?react_default.a.createElement("div",null,react_default.a.createElement("div",null,react_default.a.createElement(row.a,{className:"dashboard-header"},react_default.a.createElement("div",{className:"dashboard-title-container"},react_default.a.createElement(icons.HomeIcon,{className:"mr-05",style:{width:18}}),react_default.a.createElement(typography.a.Title,{className:"dashboard-name",level:4},null==dashboard?void 0:dashboard.name)),react_default.a.createElement(es_button.a,{"data-attr":"project-home-new-insight",onClick:showPrimaryDashboardModal},"Change dashboard")),react_default.a.createElement(LemonRow.b,null)),react_default.a.createElement(Dashboard.Dashboard,{id:currentTeam.primary_dashboard.toString(),placement:types.f.ProjectHomepage})):react_default.a.createElement("div",{className:"empty-state-container"},react_default.a.createElement(icons.HomeIcon,{className:"mb"}),react_default.a.createElement("h1",null,"There isnâ€™t a default dashboard set for this project"),react_default.a.createElement("p",{className:"mb"},"Default dashboards are shown to everyone in the project. When you set a default, itâ€™ll show up here."),react_default.a.createElement(es_button.a,{type:"primary","data-attr":"project-home-new-insight",onClick:function onClick(){showPrimaryDashboardModal()}},"Select a default dashboard")),react_default.a.createElement(PrimaryDashboardModal_PrimaryDashboardModal,null))}var scene={component:ProjectHomepage_ProjectHomepage}}}]);