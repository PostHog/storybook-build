(window.webpackJsonp=window.webpackJsonp||[]).push([[279],{"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PersonPageHeader}));var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),groupsAccessLogic=__webpack_require__("./frontend/src/lib/introductions/groupsAccessLogic.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),groupsModel=__webpack_require__("./frontend/src/models/groupsModel.ts"),LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function GroupsTabs(_ref){let{activeGroupTypeIndex:activeGroupTypeIndex}=_ref;const{groupTypes:groupTypes,aggregationLabel:aggregationLabel}=Object(index_esm.useValues)(groupsModel.a),{groupsAccessStatus:groupsAccessStatus}=Object(index_esm.useValues)(groupsAccessLogic.b),showGroupsIntroductionPage=[groupsAccessLogic.a.HasAccess,groupsAccessLogic.a.HasGroupTypes,groupsAccessLogic.a.NoAccess].includes(groupsAccessStatus);return Object(jsx_runtime.jsx)(LemonTabs.a,{activeKey:activeGroupTypeIndex,tabs:[{key:-1,label:"Persons",link:urls.a.persons()},...showGroupsIntroductionPage?[{key:0,label:"Groups",link:urls.a.groups(0)}]:groupTypes.map((groupType=>({label:Object(utils.i)(aggregationLabel(groupType.group_type_index).plural),key:groupType.group_type_index,link:urls.a.groups(groupType.group_type_index)})))]})}try{GroupsTabs.displayName="GroupsTabs",GroupsTabs.__docgenInfo={description:"",displayName:"GroupsTabs",props:{activeGroupTypeIndex:{defaultValue:null,description:"",name:"activeGroupTypeIndex",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/GroupsTabs.tsx#GroupsTabs"]={docgenInfo:GroupsTabs.__docgenInfo,name:"GroupsTabs",path:"frontend/src/scenes/groups/GroupsTabs.tsx#GroupsTabs"})}catch(__react_docgen_typescript_loader_error){}function PersonPageHeader(_ref){let{activeGroupTypeIndex:activeGroupTypeIndex}=_ref;const{showGroupsOptions:showGroupsOptions}=Object(index_esm.useValues)(groupsModel.a);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(PageHeader.a,{title:"Persons"+(showGroupsOptions?" & Groups":""),caption:`A catalog of your product's end users${showGroupsOptions?" and groups":""}.`}),showGroupsOptions&&Object(jsx_runtime.jsx)(GroupsTabs,{activeGroupTypeIndex:activeGroupTypeIndex})]})}try{PersonPageHeader.displayName="PersonPageHeader",PersonPageHeader.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{activeGroupTypeIndex:{defaultValue:null,description:"",name:"activeGroupTypeIndex",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:PersonPageHeader.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/persons/Persons.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_Persons_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_Persons_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_Persons_scss__WEBPACK_IMPORTED_MODULE_1__),options={insert:"head",singleton:!1};_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_Persons_scss__WEBPACK_IMPORTED_MODULE_1___default.a,options),_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_Persons_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals},"./frontend/src/scenes/persons/Persons.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Persons}));var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),_PersonsTable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/scenes/persons/PersonsTable.tsx"),antd__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/col/index.js"),antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/popconfirm/index.js"),_personsLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/scenes/persons/personsLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/types.ts"),_PersonsSearch__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/persons/PersonsSearch.tsx"),lib_components_PropertyFilters_PropertyFilters__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/lib/components/TaxonomicFilter/types.ts"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),lib_components_ExportButton_exporter__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./frontend/src/lib/components/ExportButton/exporter.tsx"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),kea_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),scenes_urls__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./frontend/src/scenes/urls.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function Persons(){let{cohort:cohort}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(kea__WEBPACK_IMPORTED_MODULE_0__.BindLogic,{logic:_personsLogic__WEBPACK_IMPORTED_MODULE_4__.a,props:{cohort:cohort,syncWithUrl:!cohort,fixedProperties:void 0},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(PersonsScene,{})})}function PersonsScene(_ref){let{extraSceneActions:extraSceneActions,compact:compact,extraColumns:extraColumns,emptyState:emptyState,showFilters:showFilters=!0,showExportAction:showExportAction=!0,showSearch:showSearch=!0}=_ref;const{loadPersons:loadPersons,setListFilters:setListFilters}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(_personsLogic__WEBPACK_IMPORTED_MODULE_4__.a),{persons:persons,listFilters:listFilters,personsLoading:personsLoading,exporterProps:exporterProps,apiDocsURL:apiDocsURL}=Object(kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_personsLogic__WEBPACK_IMPORTED_MODULE_4__.a),shouldShowEmptyState=!personsLoading&&0===persons.results.length&&!listFilters.search;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:shouldShowEmptyState?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_12__.a,{productName:"Persons",thingName:"person",productKey:_types__WEBPACK_IMPORTED_MODULE_5__.P.PERSONS,description:"PostHog tracks user behaviour, whether or not the user is logged in or anonymous. Once you've sent some data, the associated persons will show up here.",docsURL:"https://posthog.com/docs/getting-started/install",actionElementOverride:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_9__.a,{type:"primary",onClick:()=>kea_router__WEBPACK_IMPORTED_MODULE_13__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_14__.a.ingestion()+"/platform"),children:"Start sending data"}),isEmpty:!0}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"persons-list",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{className:"space-y-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[showSearch&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(antd__WEBPACK_IMPORTED_MODULE_2__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_PersonsSearch__WEBPACK_IMPORTED_MODULE_6__.a,{})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_2__.a,{className:"flex flex-row gap-2",children:[showExportAction&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(antd__WEBPACK_IMPORTED_MODULE_3__.a,{placement:"topRight",title:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:["Exporting by CSV is limited to 10,000 users.",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("br",{}),"To export more, please use ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("a",{href:apiDocsURL,children:"the API"}),". Do you want to export by CSV?"]}),onConfirm:()=>Object(lib_components_ExportButton_exporter__WEBPACK_IMPORTED_MODULE_11__.a)(exporterProps[0]),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_9__.a,{type:"secondary",icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_10__.eb,{style:{color:"var(--primary)"}}),children:listFilters.properties&&listFilters.properties.length>0?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsxs)("div",{style:{display:"block"},children:["Export (",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("strong",{children:listFilters.properties.length})," filter)"]}):"Export"})}),extraSceneActions||null]})]}),showFilters&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_PropertyFilters_PropertyFilters__WEBPACK_IMPORTED_MODULE_7__.a,{pageKey:"persons-list-page",propertyFilters:listFilters.properties,onChange:properties=>{setListFilters({properties:properties}),loadPersons()},endpoint:"person",taxonomicGroupTypes:[lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_8__.a.PersonProperties],showConditionBadge:!0}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_PersonsTable__WEBPACK_IMPORTED_MODULE_1__.a,{people:persons.results,loading:personsLoading,hasPrevious:!!persons.previous,hasNext:!!persons.next,loadPrevious:()=>loadPersons(persons.previous),loadNext:()=>loadPersons(persons.next),compact:compact,extraColumns:extraColumns,emptyState:emptyState})]})})})}try{Persons.displayName="Persons",Persons.__docgenInfo={description:"",displayName:"Persons",props:{cohort:{defaultValue:null,description:"",name:"cohort",required:!1,type:{name:'number | "new"'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Persons.tsx#Persons"]={docgenInfo:Persons.__docgenInfo,name:"Persons",path:"frontend/src/scenes/persons/Persons.tsx#Persons"})}catch(__react_docgen_typescript_loader_error){}try{PersonsScene.displayName="PersonsScene",PersonsScene.__docgenInfo={description:"",displayName:"PersonsScene",props:{extraSceneActions:{defaultValue:null,description:"",name:"extraSceneActions",required:!1,type:{name:"Element[]"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}},showFilters:{defaultValue:{value:"true"},description:"",name:"showFilters",required:!1,type:{name:"boolean"}},showExportAction:{defaultValue:{value:"true"},description:"",name:"showExportAction",required:!1,type:{name:"boolean"}},extraColumns:{defaultValue:null,description:"",name:"extraColumns",required:!1,type:{name:"LemonTableColumn<PersonType, keyof PersonType>[]"}},showSearch:{defaultValue:{value:"true"},description:"",name:"showSearch",required:!1,type:{name:"boolean"}},emptyState:{defaultValue:null,description:"",name:"emptyState",required:!1,type:{name:"Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Persons.tsx#PersonsScene"]={docgenInfo:PersonsScene.__docgenInfo,name:"PersonsScene",path:"frontend/src/scenes/persons/Persons.tsx#PersonsScene"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/persons/PersonsScene.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"PersonsScene",(function(){return PersonsScene}));var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),featureFlagLogic=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),Query=__webpack_require__("./frontend/src/queries/Query/Query.tsx"),Persons=__webpack_require__("./frontend/src/scenes/persons/Persons.tsx"),PersonPageHeader=__webpack_require__("./frontend/src/scenes/persons/PersonPageHeader.tsx"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),fast_deep_equal=__webpack_require__("./node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js"),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal),schema=__webpack_require__("./frontend/src/queries/schema.ts"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),lemonToast=__webpack_require__("./frontend/src/lib/lemon-ui/lemonToast.tsx");const getDefaultQuery=()=>({kind:schema.a.DataTableNode,source:{kind:schema.a.PersonsNode},full:!0,propertiesViaUrl:!0}),personsSceneLogic=Object(index_esm.kea)([Object(index_esm.path)(["scenes","persons","personsSceneLogic"]),Object(index_esm.actions)({setQuery:query=>({query:query})}),Object(index_esm.reducers)({query:[getDefaultQuery(),{setQuery:(_,_ref)=>{let{query:query}=_ref;return query}}]}),Object(lib.actionToUrl)((_ref2=>{let{values:values}=_ref2;return{setQuery:()=>[urls.a.persons(),{},Object(utils.ub)(values.query,getDefaultQuery())?{}:{q:values.query},{replace:!0}]}})),Object(lib.urlToAction)((_ref3=>{let{actions:actions,values:values}=_ref3;return{[urls.a.persons()]:(_,__,_ref4)=>{let{q:queryParam}=_ref4;fast_deep_equal_default()(queryParam,values.query)||(queryParam?"object"==typeof queryParam?actions.setQuery(queryParam):(lemonToast.d.error("Invalid query in URL"),console.error({queryParam:queryParam})):Object(utils.ub)(values.query,getDefaultQuery())||actions.setQuery(getDefaultQuery()))}}}))]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const scene={component:PersonsScene};function PersonsScene(){const{featureFlags:featureFlags}=Object(index_esm.useValues)(featureFlagLogic.a),featureDataExploration=featureFlags[constants.i.HOGQL],{query:query}=Object(index_esm.useValues)(personsSceneLogic),{setQuery:setQuery}=Object(index_esm.useActions)(personsSceneLogic);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(PersonPageHeader.a,{activeGroupTypeIndex:-1}),featureDataExploration?Object(jsx_runtime.jsx)(Query.a,{query:query,setQuery:setQuery}):Object(jsx_runtime.jsx)(Persons.a,{})]})}},"./frontend/src/scenes/persons/PersonsSearch.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PersonsSearch}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),_personsLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/scenes/persons/personsLogic.tsx"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip.tsx"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),use_debounce__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/use-debounce@9.0.3_react@16.14.0/node_modules/use-debounce/dist/index.module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const PersonsSearch=()=>{const{loadPersons:loadPersons,setListFilters:setListFilters}=Object(kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_personsLogic__WEBPACK_IMPORTED_MODULE_2__.a),{listFilters:listFilters}=Object(kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_personsLogic__WEBPACK_IMPORTED_MODULE_2__.a),[searchTerm,setSearchTerm]=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),loadPersonsDebounced=Object(use_debounce__WEBPACK_IMPORTED_MODULE_6__.b)(loadPersons,800);return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setSearchTerm(listFilters.search||"")}),[]),Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setListFilters({search:searchTerm||void 0}),loadPersonsDebounced()}),[searchTerm]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"flex items-center gap-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_5__.LemonInput,{type:"search",placeholder:"Search for persons",onChange:setSearchTerm,value:searchTerm,"data-attr":"persons-search"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_4__.a,{title:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:'Search by email or Distinct ID. Email will match partially, for example: "@gmail.com". Distinct ID needs to match exactly.'}),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_3__.Ab,{className:"text-2xl text-muted-alt shrink-0"})})]})}},"./frontend/src/scenes/persons/PersonsTable.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PersonsTable}));var lib_components_TZLabel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/lib/components/TZLabel/index.tsx"),lib_components_PropertiesTable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/components/PropertiesTable/index.ts"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/types.ts"),lib_components_CopyToClipboard__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./frontend/src/scenes/persons/Persons.scss"),__webpack_require__("./frontend/src/lib/components/CopyToClipboard.tsx")),_PersonHeader__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/persons/PersonHeader.tsx"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/index.ts"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),kea__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),scenes_persons_PersonDeleteModal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/scenes/persons/PersonDeleteModal.tsx"),scenes_persons_personDeleteModalLogic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./frontend/src/scenes/persons/personDeleteModalLogic.tsx"),scenes_persons_personsLogic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/scenes/persons/personsLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function PersonsTable(_ref){let{people:people,loading:loading=!1,hasPrevious:hasPrevious,hasNext:hasNext,loadPrevious:loadPrevious,loadNext:loadNext,compact:compact,extraColumns:extraColumns,emptyState:emptyState}=_ref;const{showPersonDeleteModal:showPersonDeleteModal}=Object(kea__WEBPACK_IMPORTED_MODULE_9__.useActions)(scenes_persons_personDeleteModalLogic__WEBPACK_IMPORTED_MODULE_11__.a),{loadPersons:loadPersons}=Object(kea__WEBPACK_IMPORTED_MODULE_9__.useActions)(scenes_persons_personsLogic__WEBPACK_IMPORTED_MODULE_12__.a),columns=[{title:"Person",key:"person",render:function Render(_,person){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_PersonHeader__WEBPACK_IMPORTED_MODULE_5__.a,{withIcon:!0,person:person})}},...compact?[]:[{title:"ID",key:"id",render:function Render(_,person){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"overflow-hidden",children:person.distinct_ids.length&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_CopyToClipboard__WEBPACK_IMPORTED_MODULE_4__.a,{explicitValue:person.distinct_ids[0],iconStyle:{color:"var(--primary)"},description:"person distinct ID",children:person.distinct_ids[0]})})}},{title:"First seen",dataIndex:"created_at",render:function Render(created_at){return created_at?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_TZLabel__WEBPACK_IMPORTED_MODULE_0__.a,{time:created_at}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{})}},{render:function Render(_,person){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_7__.LemonButton,{onClick:()=>showPersonDeleteModal(person,(()=>loadPersons())),icon:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_8__.Q,{}),status:"danger",size:"small"})}}],...extraColumns||[]];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_6__.a,{"data-attr":"persons-table",columns:columns,loading:loading,rowKey:"id",pagination:{controlled:!0,pageSize:100,onForward:hasNext?()=>{null==loadNext||loadNext(),window.scrollTo(0,0)}:void 0,onBackward:hasPrevious?()=>{null==loadPrevious||loadPrevious(),window.scrollTo(0,0)}:void 0},expandable:{expandedRowRender:function RenderPropertiesTable(_ref2){let{properties:properties}=_ref2;return Object.keys(properties).length?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_PropertiesTable__WEBPACK_IMPORTED_MODULE_1__.a,{type:_types__WEBPACK_IMPORTED_MODULE_2__.S.Person,properties:properties}):"This person has no properties."}},dataSource:people,emptyState:emptyState||"No persons",nouns:["person","persons"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(scenes_persons_PersonDeleteModal__WEBPACK_IMPORTED_MODULE_10__.a,{})]})}try{PersonsTable.displayName="PersonsTable",PersonsTable.__docgenInfo={description:"",displayName:"PersonsTable",props:{people:{defaultValue:null,description:"",name:"people",required:!0,type:{name:"PersonType[]"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},hasPrevious:{defaultValue:null,description:"",name:"hasPrevious",required:!1,type:{name:"boolean"}},hasNext:{defaultValue:null,description:"",name:"hasNext",required:!1,type:{name:"boolean"}},loadPrevious:{defaultValue:null,description:"",name:"loadPrevious",required:!1,type:{name:"(() => void)"}},loadNext:{defaultValue:null,description:"",name:"loadNext",required:!1,type:{name:"(() => void)"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}},extraColumns:{defaultValue:null,description:"",name:"extraColumns",required:!1,type:{name:"LemonTableColumns<PersonType>"}},emptyState:{defaultValue:null,description:"",name:"emptyState",required:!1,type:{name:"Element"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"]={docgenInfo:PersonsTable.__docgenInfo,name:"PersonsTable",path:"frontend/src/scenes/persons/PersonsTable.tsx#PersonsTable"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:var(--primary);cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),module.exports=exports}}]);