(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{5513:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return sessionsFiltersLogic}));__webpack_require__(48),__webpack_require__(65),__webpack_require__(156),__webpack_require__(49),__webpack_require__(32),__webpack_require__(657),__webpack_require__(60),__webpack_require__(438),__webpack_require__(40),__webpack_require__(132),__webpack_require__(157),__webpack_require__(50);var regenerator=__webpack_require__(8),regenerator_default=__webpack_require__.n(regenerator),defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),asyncToGenerator=(__webpack_require__(70),__webpack_require__(16)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),toConsumableArray=__webpack_require__(19),toConsumableArray_default=__webpack_require__.n(toConsumableArray),index_esm=__webpack_require__(4),fast_deep_equal=__webpack_require__(474),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal),api=__webpack_require__(22),react_toastify=__webpack_require__(56),types=__webpack_require__(9),SESSIONS_WITH_RECORDINGS_FILTER={type:"recording",key:"duration",value:0,operator:types.n.GreaterThan,label:"Recording duration"},SESSIONS_WITH_UNSEEN_RECORDINGS={type:"recording",key:"unseen",value:1,label:"Unseen recordings"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var sessionsFiltersLogic=Object(index_esm.kea)({actions:function actions(){return{openFilterSelect:function openFilterSelect(selector){return{selector:selector}},closeFilterSelect:!0,setAllFilters:function setAllFilters(filters){return{filters:filters}},updateFilter:function updateFilter(property,selector){return{property:property,selector:selector}},removeFilter:function removeFilter(selector){return{selector:selector}},dropdownSelected:function dropdownSelected(type,id,label){return{type:type,id:id,label:label}},upsertSessionsFilter:function upsertSessionsFilter(id,name){return{id:id,name:name}},deleteSessionsFilter:function deleteSessionsFilter(id){return{id:id}},openEditFilter:function openEditFilter(filter){return{filter:filter}},closeEditFilter:!0}},reducers:{filters:[[],{setAllFilters:function setAllFilters(_,_ref){return _ref.filters},updateFilter:function updateFilter(state,_ref2){var property=_ref2.property,selector=_ref2.selector;if("string"==typeof selector)return[].concat(toConsumableArray_default()(state),[property]);var newState=toConsumableArray_default()(state);return newState[selector]=property,newState},removeFilter:function removeFilter(state,_ref3){var selector=_ref3.selector,newState=toConsumableArray_default()(state);return newState.splice(selector,1),newState}}],openFilter:[null,{openFilterSelect:function openFilterSelect(_,_ref4){return _ref4.selector},updateFilter:function updateFilter(){return null},closeFilterSelect:function closeFilterSelect(){return null}}],editedFilter:[null,{openEditFilter:function openEditFilter(_,_ref5){return _ref5.filter},closeEditFilter:function closeEditFilter(){return null}}]},selectors:{displayedFilterCount:[function(s){return[s.filters]},function(filters){return filters.length}],displayedFilters:[function(s){return[s.filters]},function(filters){var groups={};return filters.forEach((function(item,selector){groups[item.type]=groups[item.type]||[],groups[item.type].push({item:item,selector:selector})})),groups}],savedFilters:[function(s){return[s.customFilters]},function(customFilters){return[{id:"all",name:"All sessions",filters:{properties:[]},type:"global"},{id:"withrecordings",name:"Sessions with recordings",filters:{properties:[SESSIONS_WITH_RECORDINGS_FILTER]},type:"global"},{id:"unseen",name:"Unseen recordings",filters:{properties:[SESSIONS_WITH_UNSEEN_RECORDINGS]},type:"global"}].concat(toConsumableArray_default()(customFilters))}],activeFilter:[function(s){return[s.filters,s.savedFilters]},function(filters,savedFilters){return savedFilters.filter((function(savedFilter){return fast_deep_equal_default()(savedFilter.filters.properties,filters)}))[0]}]},loaders:function loaders(){return{customFilters:[[],{loadCustomFilters:(_loadCustomFilters=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(toastMessage){var _yield$api$get,results;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,api.a.get("api/sessions_filter");case 2:return _yield$api$get=_context.sent,results=_yield$api$get.results,toastMessage&&Object(react_toastify.c)(toastMessage),_context.abrupt("return",results.map((function(entry){return _objectSpread(_objectSpread({},entry),{},{type:"custom"})})));case 6:case"end":return _context.stop()}}),_callee)}))),function loadCustomFilters(_x){return _loadCustomFilters.apply(this,arguments)})}]};var _loadCustomFilters},listeners:function listeners(_ref6){var _deleteSessionsFilter,_upsertSessionsFilter,actions=_ref6.actions,values=_ref6.values;return{dropdownSelected:function dropdownSelected(_ref7){var type=_ref7.type,id=_ref7.id,label=_ref7.label;null!==values.openFilter&&("action_type"===type||"event_type"===type?actions.updateFilter({type:type,key:"id",value:id,label:label},values.openFilter):"cohort"===type?actions.updateFilter({type:type,key:"id",value:Number(id),label:label},values.openFilter):"person"===type?actions.updateFilter({type:type,key:id.toString(),value:null,label:label,operator:types.n.Exact},values.openFilter):"recording"===type&&"duration"===id?actions.updateFilter(SESSIONS_WITH_RECORDINGS_FILTER,values.openFilter):"recording"===type&&actions.updateFilter(SESSIONS_WITH_UNSEEN_RECORDINGS,values.openFilter))},upsertSessionsFilter:(_upsertSessionsFilter=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(_ref8){var id,name;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(id=_ref8.id,name=_ref8.name,actions.closeEditFilter(),null!==id){_context2.next=7;break}return _context2.next=5,api.a.create("api/sessions_filter",{name:name,filters:{properties:values.filters}});case 5:_context2.next=9;break;case 7:return _context2.next=9,api.a.update("api/sessions_filter/".concat(id),{name:name});case 9:actions.loadCustomFilters("Filter saved");case 10:case"end":return _context2.stop()}}),_callee2)}))),function upsertSessionsFilter(_x2){return _upsertSessionsFilter.apply(this,arguments)}),deleteSessionsFilter:(_deleteSessionsFilter=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(_ref9){var id;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return id=_ref9.id,actions.closeEditFilter(),_context3.next=4,api.a.delete("api/sessions_filter/".concat(id));case 4:actions.loadCustomFilters("Filter deleted");case 5:case"end":return _context3.stop()}}),_callee3)}))),function deleteSessionsFilter(_x3){return _deleteSessionsFilter.apply(this,arguments)})}},events:function events(_ref10){var actions=_ref10.actions;return{afterMount:function afterMount(){actions.loadCustomFilters()}}},path:function path(){return["scenes","sessions","filters","sessionsFiltersLogic"]}})},5527:function(module,__webpack_exports__,__webpack_require__){"use strict";var _EventDetails__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1694);__webpack_require__.d(__webpack_exports__,"a",(function(){return _EventDetails__WEBPACK_IMPORTED_MODULE_0__.a}));__webpack_require__(1692),__webpack_require__(1691);var _EventsTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1693);__webpack_require__.d(__webpack_exports__,"b",(function(){return _EventsTable__WEBPACK_IMPORTED_MODULE_3__.a}));__webpack_require__(1687),__webpack_require__(1695)},5601:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MATCHING_EVENT_ICON_SIZE})),__webpack_require__.d(__webpack_exports__,"b",(function(){return SessionsView}));__webpack_require__(48),__webpack_require__(32),__webpack_require__(328);var ExpandState,defineProperty=__webpack_require__(5),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(4),lib=__webpack_require__(26),space=__webpack_require__(5429),es_button=__webpack_require__(131),row=__webpack_require__(437),es_switch=__webpack_require__(5389),badge=__webpack_require__(6016),spin=__webpack_require__(552),Link=__webpack_require__(54),toConsumableArray=(__webpack_require__(65),__webpack_require__(1114),__webpack_require__(355),__webpack_require__(49),__webpack_require__(1115),__webpack_require__(825),__webpack_require__(40),__webpack_require__(561),__webpack_require__(144),__webpack_require__(50),__webpack_require__(19)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),regenerator=__webpack_require__(8),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(70),__webpack_require__(16)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(22),dayjs_min=__webpack_require__(31),dayjs_min_default=__webpack_require__.n(dayjs_min),fast_deep_equal=__webpack_require__(474),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal),utils=__webpack_require__(12),sessionsFiltersLogic=__webpack_require__(5513);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}!function(ExpandState){ExpandState[ExpandState.Expanded=0]="Expanded",ExpandState[ExpandState.Collapsed=1]="Collapsed"}(ExpandState||(ExpandState={}));var sessionsTableLogic=Object(index_esm.kea)({key:function key(props){return props.personIds||"global"},props:{},connect:{values:[sessionsFiltersLogic.a,["filters"]],actions:[sessionsFiltersLogic.a,["setAllFilters","removeFilter"]]},loaders:function loaders(_ref){var _loadSessions,actions=_ref.actions,values=_ref.values,props=_ref.props;return{sessions:{__default:[],loadSessions:(_loadSessions=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(_,breakpoint){var selectedDateURLparam,params,response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return selectedDateURLparam=values.selectedDateURLparam,params=Object(utils.lb)({date_from:selectedDateURLparam,date_to:selectedDateURLparam,offset:0,distinct_id:props.personIds?props.personIds[0]:"",filters:values.filters,properties:values.properties}),_context.next=4,breakpoint(10);case 4:return _context.next=6,api.a.get("api/event/sessions/?".concat(params));case 6:return response=_context.sent,breakpoint(),actions.setPagination(response.pagination),_context.abrupt("return",response.result);case 10:case"end":return _context.stop()}}),_callee)}))),function loadSessions(_x,_x2){return _loadSessions.apply(this,arguments)})}}},actions:function actions(){return{setPagination:function setPagination(pagination){return{pagination:pagination}},fetchNextSessions:!0,appendNewSessions:function appendNewSessions(sessions){return{sessions:sessions}},previousDay:!0,nextDay:!0,applyFilters:!0,setFilters:function setFilters(properties,selectedDate){return{properties:properties,selectedDate:selectedDate}},setSessionRecordingId:function setSessionRecordingId(sessionRecordingId){return{sessionRecordingId:sessionRecordingId}},closeSessionPlayer:!0,loadSessionEvents:function loadSessionEvents(session){return{session:session}},addSessionEvents:function addSessionEvents(session,events){return{session:session,events:events}},setLastAppliedFilters:function setLastAppliedFilters(filters){return{filters:filters}},toggleExpandSessionRows:!0,onExpandedRowsChange:!0,setShowOnlyMatches:function setShowOnlyMatches(showOnlyMatches){return{showOnlyMatches:showOnlyMatches}}}},reducers:{sessions:{appendNewSessions:function appendNewSessions(state,_ref2){var sessions=_ref2.sessions;return[].concat(toConsumableArray_default()(state),toConsumableArray_default()(sessions))},loadSessionsFailure:function loadSessionsFailure(){return[]}},isLoadingNext:[!1,{fetchNextSessions:function fetchNextSessions(){return!0},appendNewSessions:function appendNewSessions(){return!1}}],pagination:[null,{setPagination:function setPagination(_,_ref3){return _ref3.pagination},loadSessionsFailure:function loadSessionsFailure(){return null}}],selectedDate:[null,{setFilters:function setFilters(_,_ref4){return _ref4.selectedDate}}],properties:[[],{setFilters:function setFilters(_,_ref5){return _ref5.properties}}],sessionRecordingId:[null,{setSessionRecordingId:function setSessionRecordingId(_,_ref6){return _ref6.sessionRecordingId},closeSessionPlayer:function closeSessionPlayer(){return null}}],loadedSessionEvents:[{},{addSessionEvents:function addSessionEvents(state,_ref7){var session=_ref7.session,events=_ref7.events;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},session.global_session_id,events))}}],lastAppliedFilters:[[],{setLastAppliedFilters:function setLastAppliedFilters(_,_ref8){return _ref8.filters}}],rowExpandState:[ExpandState.Collapsed,{toggleExpandSessionRows:function toggleExpandSessionRows(state){return state===ExpandState.Expanded?ExpandState.Collapsed:ExpandState.Expanded}}],manualRowExpansion:[!0,{onExpandedRowsChange:function onExpandedRowsChange(){return!0},toggleExpandSessionRows:function toggleExpandSessionRows(){return!1}}],showOnlyMatches:[!1,{setShowOnlyMatches:function setShowOnlyMatches(_,_ref9){return _ref9.showOnlyMatches}}]},selectors:{selectedDateURLparam:[function(s){return[s.selectedDate]},function(selectedDate){return null==selectedDate?void 0:selectedDate.format("YYYY-MM-DD")}],orderedSessionRecordingIds:[function(selectors){return[selectors.sessions]},function(sessions){return Array.from(new Set(sessions.flatMap((function(session){return session.session_recordings.map((function(_ref10){return _ref10.id}))}))))}],firstRecordingId:[function(selectors){return[selectors.orderedSessionRecordingIds]},function(ids){return ids[0]||null}],filtersDirty:[function(selectors){return[selectors.filters,selectors.lastAppliedFilters]},function(filters,lastFilters){return!fast_deep_equal_default()(filters,lastFilters)}],filteredSessionEvents:[function(selectors){return[selectors.loadedSessionEvents,selectors.sessions,selectors.showOnlyMatches]},function(loadedSessionEvents,sessions,showOnlyMatches){return showOnlyMatches?Object.fromEntries(sessions.map((function(session){var events=loadedSessionEvents[session.global_session_id],matchingEvents=new Set(session.matching_events);return[session.global_session_id,null==events?void 0:events.filter((function(e){return matchingEvents.has(e.id)}))]}))):loadedSessionEvents}],expandedRowKeysProps:[function(selectors){return[selectors.sessions,selectors.rowExpandState,selectors.manualRowExpansion]},function(sessions,rowExpandState,manualRowExpansion){return manualRowExpansion?{}:rowExpandState===ExpandState.Collapsed?{expandedRowKeys:[]}:{expandedRowKeys:sessions.map((function(s){return s.global_session_id}))||[]}}]},listeners:function listeners(_ref11){var _loadSessionEvents,_fetchNextSessions,values=_ref11.values,actions=_ref11.actions,props=_ref11.props;return{fetchNextSessions:(_fetchNextSessions=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(_,breakpoint){var params,response;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return params=Object(utils.lb)({date_from:values.selectedDateURLparam,date_to:values.selectedDateURLparam,pagination:values.pagination,distinct_id:props.personIds?props.personIds[0]:"",filters:values.filters,properties:values.properties}),_context2.next=3,api.a.get("api/event/sessions/?".concat(params));case 3:response=_context2.sent,breakpoint(),actions.setPagination(response.pagination),actions.appendNewSessions(response.result);case 7:case"end":return _context2.stop()}}),_callee2)}))),function fetchNextSessions(_x3,_x4){return _fetchNextSessions.apply(this,arguments)}),applyFilters:function applyFilters(){actions.setPagination(null),actions.loadSessions(!0),actions.setLastAppliedFilters(values.filters)},setFilters:function setFilters(){actions.setPagination(null),actions.loadSessions(!0)},previousDay:function previousDay(){actions.setFilters(values.properties,dayjs_min_default()(values.selectedDate||void 0).add(-1,"day"))},nextDay:function nextDay(){actions.setFilters(values.properties,dayjs_min_default()(values.selectedDate||void 0).add(1,"day"))},loadSessionEvents:(_loadSessionEvents=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(_ref12,breakpoint){var session,params,response;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(session=_ref12.session,values.loadedSessionEvents[session.global_session_id]){_context3.next=9;break}return params={distinct_id:session.distinct_id,date_from:session.start_time,date_to:session.end_time},_context3.next=5,breakpoint(200);case 5:return _context3.next=7,api.a.get("api/event/session_events?".concat(Object(utils.lb)(params)));case 7:response=_context3.sent,actions.addSessionEvents(session,response.result);case 9:case"end":return _context3.stop()}}),_callee3)}))),function loadSessionEvents(_x5,_x6){return _loadSessionEvents.apply(this,arguments)}),removeFilter:function removeFilter(){0===values.filters.length&&actions.applyFilters()}}},actionToUrl:function actionToUrl(_ref13){var values=_ref13.values,buildURL=function buildURL(){var overrides=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},replace=arguments.length>1&&void 0!==arguments[1]&&arguments[1],today=dayjs_min_default()().startOf("day").format("YYYY-MM-DD"),properties=lib.router.values.searchParams.properties,params=_objectSpread({date:values.selectedDateURLparam!==today?values.selectedDateURLparam:void 0,properties:properties||void 0,sessionRecordingId:values.sessionRecordingId||void 0,filters:values.filters},overrides);return[lib.router.values.location.pathname,params,lib.router.values.hashParams,{replace:replace}]};return{setFilters:function setFilters(){return buildURL({},!0)},loadSessions:function loadSessions(){return buildURL({},!0)},setSessionRecordingId:function setSessionRecordingId(){return buildURL()},closeSessionPlayer:function closeSessionPlayer(){return buildURL({sessionRecordingId:void 0})}}},urlToAction:function urlToAction(_ref14){var actions=_ref14.actions,values=_ref14.values,urlToAction=function urlToAction(_,params){var _params$sessionRecord,newDate=params.date?dayjs_min_default()(params.date).startOf("day"):dayjs_min_default()().startOf("day");(JSON.stringify(params.properties||[])===JSON.stringify(values.properties)&&values.selectedDate&&values.selectedDate.format("YYYY-MM-DD")===newDate.format("YYYY-MM-DD")?0!==values.sessions.length||values.sessionsLoading||actions.loadSessions(!0):actions.setFilters(params.properties||[],newDate),params.sessionRecordingId!==values.sessionRecordingId)&&actions.setSessionRecordingId(null!==(_params$sessionRecord=params.sessionRecordingId)&&void 0!==_params$sessionRecord?_params$sessionRecord:null);JSON.stringify(params.filters||{})!==JSON.stringify(values.filters)&&(actions.setAllFilters(params.filters||[]),actions.applyFilters())};return{"/sessions":urlToAction,"/person/*":urlToAction}},path:function path(key){return["scenes","sessions","sessionsTableLogic",key]}}),slicedToArray=__webpack_require__(17),slicedToArray_default=__webpack_require__.n(slicedToArray),table=__webpack_require__(5387),scenes_events=__webpack_require__(5527),Property=__webpack_require__(428),PropertyKeyInfo=__webpack_require__(57),ResizableTable=__webpack_require__(542),ExpandIcon=__webpack_require__(1720),MonitorOutlined=__webpack_require__(6028),Tooltip=__webpack_require__(51);function SessionDetails(_ref){var session=_ref.session,filteredSessionEvents=Object(index_esm.useValues)(sessionsTableLogic).filteredSessionEvents,loadSessionEvents=Object(index_esm.useActions)(sessionsTableLogic).loadSessionEvents,_useState=Object(react.useState)(1),_useState2=slicedToArray_default()(_useState,2),page=_useState2[0],setPage=_useState2[1],_useState3=Object(react.useState)(50),_useState4=slicedToArray_default()(_useState3,2),pageSize=_useState4[0],setPageSize=_useState4[1],events=filteredSessionEvents[session.global_session_id],matchingEventIds=Object(react.useMemo)((function(){return new Set(session.matching_events||[])}),[session.matching_events]);Object(react.useEffect)((function(){events||loadSessionEvents(session)}),[]);var columns=[{title:"Event",key:"id",render:function RenderEvent(event){return react_default.a.createElement(PropertyKeyInfo.b,{value:Object(utils.y)(event),ellipsis:!1})}},{title:"URL / screen",key:"url",render:function renderURL(event){if(!event)return{props:{colSpan:0}};var param=event.properties.$current_url?"$current_url":"$screen_name";return react_default.a.createElement(Property.a,{value:event.properties[param]})},ellipsis:!0},{title:"Timestamp",render:function RenderTimestamp(_ref2){var timestamp=_ref2.timestamp;return react_default.a.createElement("span",null,Object(utils.G)(timestamp,!0))}},{title:"Time since previous event",render:function RenderElapsed(_ref3,_,index){var timestamp=_ref3.timestamp,realIndex=(page-1)*pageSize+index,lastEvent=realIndex>0?null==events?void 0:events[realIndex-1]:null;return react_default.a.createElement("span",null,lastEvent?Object(utils.H)(lastEvent.timestamp,timestamp):"0s")}}];return react_default.a.createElement(table.a,{columns:columns,rowKey:"id",rowClassName:function rowClassName(event){return matchingEventIds.has(event.id)?"sessions-event-highlighted":""},dataSource:events,loading:!events,pagination:{pageSize:pageSize,hideOnSinglePage:!events||events.length<10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100","200","500"],onChange:function onChange(changedPage,changedPageSize){setPage(changedPage),setPageSize(changedPageSize||50)}},expandable:{expandedRowRender:function renderExpand(event){return react_default.a.createElement(scenes_events.a,{event:event})},rowExpandable:function rowExpandable(event){return!!event},expandRowByClick:!0,columnWidth:ResizableTable.a+MATCHING_EVENT_ICON_SIZE,expandIcon:function _renderExpandIcon(expandProps){var event=expandProps.record;return react_default.a.createElement(ExpandIcon.a,expandProps,matchingEventIds.has(event.id)?react_default.a.createElement(Tooltip.a,{title:"Matches your event filters"},react_default.a.createElement("div",{className:"sessions-event-matching-events-icon cursor-pointer ml-05"},react_default.a.createElement(MonitorOutlined.a,null))):react_default.a.createElement(react_default.a.Fragment,null))}}})}try{SessionDetails.displayName="SessionDetails",SessionDetails.__docgenInfo={description:"",displayName:"SessionDetails",props:{session:{defaultValue:null,description:"",name:"session",required:!0,type:{name:"SessionType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionDetails.tsx#SessionDetails"]={docgenInfo:SessionDetails.__docgenInfo,name:"SessionDetails",path:"frontend/src/scenes/sessions/SessionDetails.tsx#SessionDetails"})}catch(__react_docgen_typescript_loader_error){}var ArrowLeftOutlined=__webpack_require__(5392),QuestionCircleOutlined=__webpack_require__(2480),PoweroffOutlined=__webpack_require__(6030),CaretLeftOutlined=__webpack_require__(6031),CaretRightOutlined=__webpack_require__(5798),PlayCircleOutlined=__webpack_require__(5794),injectStylesIntoStyleTag=(__webpack_require__(493),__webpack_require__(28)),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),SessionRecordingsButton=__webpack_require__(5662),SessionRecordingsButton_default=__webpack_require__.n(SessionRecordingsButton),options={insert:"head",singleton:!1},ArrowRightOutlined=(injectStylesIntoStyleTag_default()(SessionRecordingsButton_default.a,options),SessionRecordingsButton_default.a.locals,__webpack_require__(5394)),DownOutlined=__webpack_require__(548),Popup=__webpack_require__(473),clsx_m=__webpack_require__(91);function SessionRecordingsButton_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SessionRecordingsButton_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SessionRecordingsButton_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SessionRecordingsButton_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var SessionRecordingsButton_sessionPlayerUrl=function sessionPlayerUrl(sessionRecordingId){return"".concat(location.pathname,"?").concat(Object(utils.lb)(SessionRecordingsButton_objectSpread(SessionRecordingsButton_objectSpread({},Object(utils.B)()),{},{sessionRecordingId:sessionRecordingId})))};function SessionRecordingsButton_SessionRecordingsButton(_ref){var sessionRecordings=_ref.sessionRecordings,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),areRecordingsShown=_useState2[0],setAreRecordingsShown=_useState2[1],wereAllRecordingsViewed=!sessionRecordings.some((function(_ref2){return!_ref2.viewed})),isSingleRecording=1===sessionRecordings.length,ButtonWrapper=Object(react.useCallback)((function(_ref3){var setRef=_ref3.setRef,children=_ref3.children;return isSingleRecording?react_default.a.createElement("div",{className:"session-recordings-button__wrapper",ref:setRef},react_default.a.createElement(Link.a,{to:SessionRecordingsButton_sessionPlayerUrl(sessionRecordings[0].id),onClick:function onClick(event){event.stopPropagation(),setAreRecordingsShown(!1)},onMouseEnter:function onMouseEnter(){return setAreRecordingsShown(!0)},onMouseLeave:function onMouseLeave(){return setAreRecordingsShown(!1)}},children)):react_default.a.createElement("div",{ref:setRef,className:"session-recordings-button__wrapper",onClick:function onClick(event){event.stopPropagation(),setAreRecordingsShown((function(previousValue){return!previousValue}))}},children)}),[sessionRecordings,setAreRecordingsShown]);return react_default.a.createElement(Popup.a,{visible:areRecordingsShown,placement:"bottom-end",fallbackPlacements:["top-end"],className:"session-recordings-popup",overlay:sessionRecordings.map((function(_ref4,index){var id=_ref4.id,viewed=_ref4.viewed,recording_duration=_ref4.recording_duration,start_time=_ref4.start_time;return react_default.a.createElement(Link.a,{key:id,to:SessionRecordingsButton_sessionPlayerUrl(id),className:Object(clsx_m.default)("session-recordings-popup__link",viewed&&"session-recordings-popup__link--viewed"),onClick:function onClick(event){event.stopPropagation(),setAreRecordingsShown(!1)},"data-attr":"sessions-player-button"},react_default.a.createElement("div",{className:"session-recordings-popup__row"},react_default.a.createElement("div",{className:"session-recordings-popup__label"},react_default.a.createElement(Tooltip.a,{title:viewed?"This recording has been watched already.":"This recording has not been watched yet."},react_default.a.createElement(PlayCircleOutlined.a,{className:viewed?"text-muted":void 0})),"Recording ",index+1),react_default.a.createElement("div",{className:"session-recordings-popup__detail text-muted"},Object(utils.G)(start_time)," • ",Object(utils.k)(recording_duration))))})),onClickOutside:function onClickOutside(){setAreRecordingsShown(!1)}},(function(_ref5){var setRef=_ref5.setRef;return react_default.a.createElement(ButtonWrapper,{setRef:setRef},react_default.a.createElement(es_button.a,{className:Object(clsx_m.default)("session-recordings-button",wereAllRecordingsViewed&&"session-recordings-button--all-viewed"),"data-attr":"session-recordings-button",icon:react_default.a.createElement(PlayCircleOutlined.a,null)},"Watch session",isSingleRecording?react_default.a.createElement(ArrowRightOutlined.a,{className:"session-recordings-button__indicator"}):react_default.a.createElement(DownOutlined.a,{className:"session-recordings-button__indicator"})))}))}try{SessionRecordingsButton_SessionRecordingsButton.displayName="SessionRecordingsButton",SessionRecordingsButton_SessionRecordingsButton.__docgenInfo={description:"",displayName:"SessionRecordingsButton",props:{sessionRecordings:{defaultValue:null,description:"",name:"sessionRecordings",required:!0,type:{name:"SessionRecordingType[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionRecordingsButton.tsx#SessionRecordingsButton"]={docgenInfo:SessionRecordingsButton_SessionRecordingsButton.__docgenInfo,name:"SessionRecordingsButton",path:"frontend/src/scenes/sessions/SessionRecordingsButton.tsx#SessionRecordingsButton"})}catch(__react_docgen_typescript_loader_error){}try{SessionRecordingsButton_sessionPlayerUrl.displayName="sessionPlayerUrl",SessionRecordingsButton_sessionPlayerUrl.__docgenInfo={description:"",displayName:"sessionPlayerUrl",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionRecordingsButton.tsx#sessionPlayerUrl"]={docgenInfo:SessionRecordingsButton_sessionPlayerUrl.__docgenInfo,name:"sessionPlayerUrl",path:"frontend/src/scenes/sessions/SessionRecordingsButton.tsx#sessionPlayerUrl"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(60);var index_modern=__webpack_require__(5600),col=__webpack_require__(251),skeleton=__webpack_require__(2472),card=__webpack_require__(5425),es_tag=__webpack_require__(1113),input=__webpack_require__(656),MobileOutlined=__webpack_require__(5795),TabletOutlined=__webpack_require__(6029),LaptopOutlined=__webpack_require__(5479),FieldTimeOutlined=__webpack_require__(5796),UserOutlined=__webpack_require__(5440),PlusOutlined=__webpack_require__(1683),SyncOutlined=__webpack_require__(5393),react_toastify=(__webpack_require__(104),__webpack_require__(297),__webpack_require__(329),__webpack_require__(182),__webpack_require__(56)),sessionsPlayLogic=Object(index_esm.kea)({connect:{values:[sessionsTableLogic,["sessions","pagination","orderedSessionRecordingIds","loadedSessionEvents"]],actions:[sessionsTableLogic,["fetchNextSessions","appendNewSessions","closeSessionPlayer","loadSessionEvents"]]},actions:{toggleAddingTagShown:function toggleAddingTagShown(){},setAddingTag:function setAddingTag(payload){return{payload:payload}},goToNext:!0,goToPrevious:!0,openNextRecordingOnLoad:!0},reducers:{sessionRecordingId:[null,{loadRecording:function loadRecording(_,sessionRecordingId){return sessionRecordingId}}],sessionPlayerData:[null,{loadRecording:function loadRecording(){return null}}],addingTagShown:[!1,{toggleAddingTagShown:function toggleAddingTagShown(state){return!state}}],addingTag:["",{setAddingTag:function setAddingTag(_,_ref){return _ref.payload}}],loadingNextRecording:[!1,{openNextRecordingOnLoad:function openNextRecordingOnLoad(){return!0},loadRecording:function loadRecording(){return!1},closeSessionPlayer:function closeSessionPlayer(){return!1}}]},listeners:function listeners(_ref2){var values=_ref2.values,actions=_ref2.actions;return{toggleAddingTagShown:function toggleAddingTagShown(){values.addingTagShown||actions.setAddingTag("")},goToNext:function goToNext(){if(values.recordingIndex<values.orderedSessionRecordingIds.length-1){var id=values.orderedSessionRecordingIds[values.recordingIndex+1];actions.loadRecording(id)}else values.pagination?(actions.openNextRecordingOnLoad(),actions.fetchNextSessions()):Object(react_toastify.c)("Found no more recordings.",{type:"info"})},goToPrevious:function goToPrevious(){var id=values.orderedSessionRecordingIds[values.recordingIndex-1];actions.loadRecording(id)},appendNewSessions:function appendNewSessions(){values.sessionRecordingId&&values.loadingNextRecording&&actions.goToNext()}}},loaders:function loaders(_ref3){var _loadRecording,_createTag,values=_ref3.values,actions=_ref3.actions;return{tags:[["activating","watched","deleted"],{createTag:(_createTag=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var newTag,promise;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return newTag=[values.addingTag],promise=function promise(){return new Promise((function(resolve){return setTimeout(resolve,3e3)}))},_context.next=4,promise();case 4:return actions.toggleAddingTagShown(),_context.abrupt("return",values.tags.concat(newTag));case 6:case"end":return _context.stop()}}),_callee)}))),function createTag(){return _createTag.apply(this,arguments)})}],sessionPlayerData:{loadRecording:(_loadRecording=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(sessionRecordingId){var params,response;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return params=Object(utils.lb)({session_recording_id:sessionRecordingId,save_view:!0}),_context2.next=3,api.a.get("api/event/session_recording?".concat(params));case 3:return response=_context2.sent,_context2.abrupt("return",response.result);case 5:case"end":return _context2.stop()}}),_callee2)}))),function loadRecording(_x){return _loadRecording.apply(this,arguments)})}}},selectors:{sessionDate:[function(selectors){return[selectors.sessionPlayerData]},function(sessionPlayerData){return(null==sessionPlayerData?void 0:sessionPlayerData.start_time)?dayjs_min_default()(sessionPlayerData.start_time).format("MMM Do"):null}],eventIndex:[function(selectors){return[selectors.sessionPlayerData]},function(sessionPlayerData){return new index_modern.a((null==sessionPlayerData?void 0:sessionPlayerData.snapshots)||[])}],recordingIndex:[function(selectors){return[selectors.orderedSessionRecordingIds,selectors.sessionRecordingId]},function(recordingIds,id){return recordingIds.indexOf(id)}],showPrev:[function(selectors){return[selectors.recordingIndex]},function(index){return index>0}],showNext:[function(selectors){return[selectors.recordingIndex,selectors.orderedSessionRecordingIds,selectors.pagination]},function(index,ids,pagination){return index>-1&&(index<ids.length-1||null!==pagination)}],session:[function(selectors){return[selectors.sessionRecordingId,selectors.sessions]},function(id,sessions){var _sessions$filter=sessions.filter((function(s){return s.session_recordings.filter((function(recording){return id===recording.id})).length>0}));return slicedToArray_default()(_sessions$filter,1)[0]}],shouldLoadSessionEvents:[function(selectors){return[selectors.session,selectors.loadedSessionEvents]},function(session,sessionEvents){return session&&!sessionEvents[session.global_session_id]}],highlightedSessionEvents:[function(selectors){return[selectors.session,selectors.loadedSessionEvents]},function(session,sessionEvents){return session?(sessionEvents[session.global_session_id]||[]).filter((function(e){return(session.matching_events||[]).includes(e.id)})):[]}],shownPlayerEvents:[function(selectors){return[selectors.sessionPlayerData,selectors.eventIndex,selectors.highlightedSessionEvents]},function(sessionPlayerData,eventIndex,events){if(!sessionPlayerData)return[];var startTime=+dayjs_min_default()(sessionPlayerData.start_time),pageChangeEvents=eventIndex.pageChangeEvents().map((function(_ref4){return{playerTime:_ref4.playerTime,text:_ref4.href,color:"blue"}})),highlightedEvents=events.map((function(event){return{playerTime:+dayjs_min_default()(event.timestamp)-startTime,text:Object(utils.y)(event),color:"orange"}}));return pageChangeEvents.concat(highlightedEvents).sort((function(a,b){return a.playerTime-b.playerTime}))}]},urlToAction:function urlToAction(_ref5){var actions=_ref5.actions,values=_ref5.values,urlToAction=function urlToAction(_,params){var sessionRecordingId=params.sessionRecordingId;values&&sessionRecordingId!==values.sessionRecordingId&&sessionRecordingId&&actions.loadRecording(sessionRecordingId)};return{"/sessions":urlToAction,"/person/*":urlToAction}},path:function path(){return["scenes","sessions","sessionsPlayLogic"]}}),icons=__webpack_require__(90),CopyToClipboard=__webpack_require__(818),Sessions=__webpack_require__(5674),Sessions_default=__webpack_require__.n(Sessions),Sessions_options={insert:"head",singleton:!1},SessionsPlayer=(injectStylesIntoStyleTag_default()(Sessions_default.a,Sessions_options),Sessions_default.a.locals,__webpack_require__(5675)),SessionsPlayer_default=__webpack_require__.n(SessionsPlayer),SessionsPlayer_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(SessionsPlayer_default.a,SessionsPlayer_options),SessionsPlayer_default.a.locals;function DeviceIcon(_ref){var width=_ref.width;return width<=475?react_default.a.createElement(MobileOutlined.a,null):width>475&&width<860?react_default.a.createElement(TabletOutlined.a,null):react_default.a.createElement(LaptopOutlined.a,null)}function SessionsPlay(){var _sessionPlayerData$pe,_sessionPlayerData$pe2,_useValues=Object(index_esm.useValues)(sessionsPlayLogic),session=_useValues.session,sessionPlayerData=_useValues.sessionPlayerData,sessionPlayerDataLoading=_useValues.sessionPlayerDataLoading,loadingNextRecording=_useValues.loadingNextRecording,sessionDate=_useValues.sessionDate,addingTagShown=_useValues.addingTagShown,addingTag=_useValues.addingTag,tags=_useValues.tags,tagsLoading=_useValues.tagsLoading,eventIndex=_useValues.eventIndex,showNext=_useValues.showNext,showPrev=_useValues.showPrev,shownPlayerEvents=_useValues.shownPlayerEvents,shouldLoadSessionEvents=_useValues.shouldLoadSessionEvents,_useActions=Object(index_esm.useActions)(sessionsPlayLogic),toggleAddingTagShown=_useActions.toggleAddingTagShown,setAddingTag=_useActions.setAddingTag,createTag=_useActions.createTag,goToNext=_useActions.goToNext,goToPrevious=_useActions.goToPrevious,loadSessionEvents=_useActions.loadSessionEvents,addTagInput=Object(react.useRef)(null),_useState=Object(react.useState)(0),_useState2=slicedToArray_default()(_useState,2),playerTime=_useState2[0],setCurrentPlayerTime=_useState2[1],playerRef=Object(react.useRef)(null),_useMemo=Object(react.useMemo)((function(){return eventIndex.getPageMetadata(playerTime)}),[eventIndex,playerTime]),pageEvent=slicedToArray_default()(_useMemo,1)[0],_useMemo3=Object(react.useMemo)((function(){return eventIndex.getRecordingMetadata(playerTime)}),[eventIndex,playerTime]),recordingMetadata=slicedToArray_default()(_useMemo3,1)[0],activeIndex=Object(react.useMemo)((function(){return Object(index_modern.c)(playerTime,shownPlayerEvents)}),[shownPlayerEvents,playerTime])[1],isLoadingSession=sessionPlayerDataLoading||loadingNextRecording,isLoadingEvents=isLoadingSession||shouldLoadSessionEvents;Object(react.useEffect)((function(){addingTagShown&&addTagInput.current&&addTagInput.current.focus()}),[addingTagShown]),Object(react.useEffect)((function(){shouldLoadSessionEvents&&session&&loadSessionEvents(session)}),[session]);return react_default.a.createElement("div",{className:"session-player"},react_default.a.createElement(row.a,{gutter:16,style:{height:"100%"}},react_default.a.createElement(col.a,{span:18,style:{paddingRight:0}},react_default.a.createElement("div",{className:"mb-05",style:{display:"flex"}},isLoadingSession?react_default.a.createElement(skeleton.a,{paragraph:{rows:0},active:!0}):react_default.a.createElement(react_default.a.Fragment,null,pageEvent?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("b",null,"Current URL:"),react_default.a.createElement("span",{className:"url-info ml-05"},pageEvent.href),react_default.a.createElement(CopyToClipboard.a,{explicitValue:pageEvent.href,isValueSensitive:!0}," ")):null,recordingMetadata&&react_default.a.createElement("span",{style:{marginLeft:"auto"}},react_default.a.createElement("b",null,"Resolution: "),react_default.a.createElement(DeviceIcon,{width:recordingMetadata.width})," ",recordingMetadata.resolution))),react_default.a.createElement("div",{className:"player-container"},isLoadingSession?react_default.a.createElement(utils.c,null):react_default.a.createElement("span",{className:"ph-no-capture"},react_default.a.createElement(index_modern.b,{ref:playerRef,events:(null==sessionPlayerData?void 0:sessionPlayerData.snapshots)||[],onPlayerTimeChange:setCurrentPlayerTime,onNext:showNext?goToNext:void 0,onPrevious:showPrev?goToPrevious:void 0})))),react_default.a.createElement(col.a,{span:6,className:"sidebar",style:{paddingLeft:16}},react_default.a.createElement(card.a,{className:"card-elevated"},react_default.a.createElement("h3",{className:"l3"},"Session Information"),isLoadingSession?react_default.a.createElement("div",null,react_default.a.createElement(skeleton.a,{paragraph:{rows:3},active:!0})):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"mb-05"},react_default.a.createElement(FieldTimeOutlined.a,null)," ",function formatDuration(milliseconds){for(var _i=0,_multipliers=[[864e5,"day"],[36e5,"hour"],[6e4,"minute"]];_i<_multipliers.length;_i++){var _multipliers$_i=slicedToArray_default()(_multipliers[_i],2),multiplier=_multipliers$_i[0],identifier=_multipliers$_i[1];if(milliseconds>multiplier)return"".concat(Math.round(milliseconds/multiplier)," ").concat(identifier)}return"".concat(Math.round(milliseconds/1e3)," second")}(eventIndex.getDuration())," session on"," ",sessionDate),react_default.a.createElement("div",null,react_default.a.createElement(UserOutlined.a,{style:{marginRight:4}}),react_default.a.createElement(Link.a,{to:"/person/".concat(encodeURIComponent((null==sessionPlayerData||null===(_sessionPlayerData$pe=sessionPlayerData.person)||void 0===_sessionPlayerData$pe?void 0:_sessionPlayerData$pe.distinct_ids[0])||"")),className:"ph-no-capture",target:"_blank",style:{display:"inline-flex",alignItems:"center"}},react_default.a.createElement("span",{style:{marginRight:4}},null==sessionPlayerData||null===(_sessionPlayerData$pe2=sessionPlayerData.person)||void 0===_sessionPlayerData$pe2?void 0:_sessionPlayerData$pe2.name),react_default.a.createElement(icons.i,null))),react_default.a.createElement("div",{className:"mt",style:{display:"none"}},react_default.a.createElement("div",null,react_default.a.createElement("b",null,"Tags")),tags.map((function(tag,index){return react_default.a.createElement(es_tag.a,{key:index,color:Object(utils.l)(tag),closable:!0,className:"tag-wrapper"},tag)})),react_default.a.createElement("span",{className:"tag-wrapper",style:{display:"inline-flex"}},react_default.a.createElement(es_tag.a,{onClick:toggleAddingTagShown,"data-attr":"button-add-tag",style:{cursor:"pointer",borderStyle:"dashed",backgroundColor:"#ffffff",display:addingTagShown?"none":"initial"}},react_default.a.createElement(PlusOutlined.a,null)," New Tag"),react_default.a.createElement(input.a,{type:"text",size:"small",onBlur:toggleAddingTagShown,ref:addTagInput,style:{width:78,display:addingTagShown?"flex":"none"},value:addingTag,onChange:function onChange(e){return setAddingTag(e.target.value)},onPressEnter:createTag,disabled:tagsLoading,prefix:tagsLoading?react_default.a.createElement(SyncOutlined.a,{spin:!0}):null}))))),react_default.a.createElement("div",{className:"mt"}),react_default.a.createElement(card.a,{className:"card-elevated"},react_default.a.createElement("h3",{className:"l3"},"Event timeline"),react_default.a.createElement("p",{className:"text-muted text-small"},"Click on an item to jump to that point in the recording."),isLoadingEvents?react_default.a.createElement("div",null,react_default.a.createElement(skeleton.a,{paragraph:{rows:6},active:!0})):react_default.a.createElement("div",{className:"timeline"},react_default.a.createElement("div",{className:"line"}),react_default.a.createElement("div",{className:"timeline-items"},shownPlayerEvents.map((function(_ref2,index){var time=_ref2.playerTime,color=_ref2.color,text=_ref2.text;return react_default.a.createElement("div",{className:index==activeIndex?"current":void 0,key:index},react_default.a.createElement(es_tag.a,{onClick:function onClick(){return function seekEvent(time){var _playerRef$current;setCurrentPlayerTime(time),null===(_playerRef$current=playerRef.current)||void 0===_playerRef$current||_playerRef$current.seek(time)}(time)},color:color},text))}))))))))}var LinkButton=__webpack_require__(245),AimOutlined=(__webpack_require__(106),__webpack_require__(353),__webpack_require__(5448)),ContainerOutlined=__webpack_require__(5447),UsergroupAddOutlined=__webpack_require__(5449),PlaySquareOutlined=__webpack_require__(5797),SelectBox=__webpack_require__(5602),actionsModel=__webpack_require__(289),types=__webpack_require__(9),ActionFilterDropdown=__webpack_require__(5576),cohortsModel=__webpack_require__(180),eventDefinitionsModel=__webpack_require__(213),personPropertiesModel=__webpack_require__(1063);function SessionsFilterBox_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SessionsFilterBox(_ref){var selector=_ref.selector,personProperties=Object(index_esm.useValues)(personPropertiesModel.a).personProperties,openFilter=Object(index_esm.useValues)(sessionsFiltersLogic.a).openFilter,_useActions=Object(index_esm.useActions)(sessionsFiltersLogic.a),closeFilterSelect=_useActions.closeFilterSelect,dropdownSelected=_useActions.dropdownSelected,eventDefinitions=Object(index_esm.useValues)(eventDefinitionsModel.a).eventDefinitions,actions=Object(index_esm.useValues)(actionsModel.a).actions,cohorts=Object(index_esm.useValues)(cohortsModel.a).cohorts;if(openFilter!==selector)return null;var groups=[{name:"Actions",header:function actionHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(AimOutlined.a,null)," ",label)},dataSource:actions.map((function(action){return{key:types.f.ACTIONS+action.id,name:action.name,volume:action.count,id:action.id,action:action}})),renderInfo:ActionFilterDropdown.a,type:"action_type",key:"action_type",getValue:function getValue(item){var _item$action;return(null===(_item$action=item.action)||void 0===_item$action?void 0:_item$action.id)||""},getLabel:function getLabel(item){var _item$action2;return(null===(_item$action2=item.action)||void 0===_item$action2?void 0:_item$action2.name)||""}},{name:"Events",header:function eventHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ContainerOutlined.a,null)," ",label)},dataSource:eventDefinitions.map((function(definition){return function SessionsFilterBox_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SessionsFilterBox_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SessionsFilterBox_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({key:types.f.EVENTS+definition.name},definition)}))||[],renderInfo:function events(_ref2){var item=_ref2.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ContainerOutlined.a,null)," Events",react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name),(null==item?void 0:item.volume_30_day)&&react_default.a.createElement(react_default.a.Fragment,null,"Seen ",react_default.a.createElement("strong",null,item.volume_30_day)," times."," "),(null==item?void 0:item.query_usage_30_day)&&react_default.a.createElement(react_default.a.Fragment,null,"Used in ",react_default.a.createElement("strong",null,item.query_usage_30_day)," queries."))},type:"event_type",key:"event_type",getValue:function getValue(item){return item.name},getLabel:function getLabel(item){return item.name}},{name:"Cohorts",header:function cohortHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," ",label)},dataSource:cohorts.map((function(cohort){return{key:"cohorts"+cohort.id,name:cohort.name||"",id:cohort.id,cohort:cohort}})),renderInfo:function renderCohorts(_ref3){var _item$cohort,item=_ref3.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," Cohorts",react_default.a.createElement(Link.a,{to:"/cohorts/".concat(item.id,"#backTo=Insights&backToURL=").concat(encodeURIComponent(window.location.pathname+window.location.search)),style:{float:"right"}},"edit"),react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name),(null==item||null===(_item$cohort=item.cohort)||void 0===_item$cohort?void 0:_item$cohort.count)&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("strong",null,item.cohort.count)," persons in cohort."))},type:"cohort",key:"cohort",getValue:function getValue(item){return item.id||""},getLabel:function getLabel(item){return item.name}}];return personProperties.length>0&&groups.unshift({name:"User properties",header:function userHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," ",label)},dataSource:personProperties.map((function(_ref4){var name=_ref4.name;return{key:"person"+name,name:name,usage_count:_ref4.count}})),renderInfo:function renderPersonProperty(_ref5){var item=_ref5.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UsergroupAddOutlined.a,null)," Person property",react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name),(null==item?void 0:item.query_usage_30_day)&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("strong",null,item.query_usage_30_day)," persons have this property."))},key:"person",type:"person",getValue:function getValue(item){return item.name},getLabel:function getLabel(item){return item.name}}),groups.unshift({name:"Recording properties",header:function userPropertiesHeader(label){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PlaySquareOutlined.a,null)," ",label)},dataSource:[{key:"duration",name:"Recording duration",value:"duration"},{key:"unseen",name:"Unseen recordings",value:"unseen"}],renderInfo:function recordingProperty(_ref6){var item=_ref6.item;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PlaySquareOutlined.a,null)," Recording properties",react_default.a.createElement("br",null),react_default.a.createElement("h3",null,item.name))},key:"recording",type:"recording",getValue:function getValue(item){return item.value||""},getLabel:function getLabel(item){return item.name}}),react_default.a.createElement(SelectBox.a,{selectedItemKey:void 0,onDismiss:closeFilterSelect,onSelect:dropdownSelected,items:groups})}try{SessionsFilterBox.displayName="SessionsFilterBox",SessionsFilterBox.__docgenInfo={description:"",displayName:"SessionsFilterBox",props:{selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"FilterSelector"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/SessionsFilterBox.tsx#SessionsFilterBox"]={docgenInfo:SessionsFilterBox.__docgenInfo,name:"SessionsFilterBox",path:"frontend/src/scenes/sessions/filters/SessionsFilterBox.tsx#SessionsFilterBox"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(215),__webpack_require__(227),__webpack_require__(156),__webpack_require__(155),__webpack_require__(157);var divider=__webpack_require__(5418),SaveOutlined=__webpack_require__(5481),SearchOutlined=__webpack_require__(1105),CloseButton=__webpack_require__(324),fuse_esm=(__webpack_require__(253),__webpack_require__(342)),es_select=__webpack_require__(174),SelectGradientOverflow=__webpack_require__(629),eventUsageLogic=__webpack_require__(61),fuseCache={};function PropertySelect(_ref){var optionGroups=_ref.optionGroups,propertyOption=_ref.value,_onChange=_ref.onChange,placeholder=_ref.placeholder,autoOpenIfEmpty=_ref.autoOpenIfEmpty,delayBeforeAutoOpen=_ref.delayBeforeAutoOpen,_ref$dropdownMatchSel=_ref.dropdownMatchSelectWidth,dropdownMatchSelectWidth=void 0===_ref$dropdownMatchSel||_ref$dropdownMatchSel,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),search=_useState2[0],setSearch=_useState2[1],reportPropertySelectOpened=Object(index_esm.useActions)(eventUsageLogic.c).reportPropertySelectOpened;return react_default.a.createElement(SelectGradientOverflow.a,{showSearch:!0,autoFocus:autoOpenIfEmpty&&!(null==propertyOption?void 0:propertyOption.value),defaultOpen:autoOpenIfEmpty&&!(null==propertyOption?void 0:propertyOption.value),delayBeforeAutoOpen:delayBeforeAutoOpen,placeholder:placeholder,"data-attr":"property-filter-dropdown",labelInValue:!0,value:propertyOption||void 0,onSearch:function onSearch(value){setSearch(value)},filterOption:function filterOption(){return!0},onChange:function onChange(_,selection){var _ref2=selection,val=_ref2.value,type=_ref2.type;_onChange(type,val.replace(/^(event_|person_|element_)/gi,""))},style:{width:"100%"},dropdownMatchSelectWidth:dropdownMatchSelectWidth,onDropdownVisibleChange:function onDropdownVisibleChange(open){open&&reportPropertySelectOpened()}},optionGroups.map((function(group){var _group$options;return(null===(_group$options=group.options)||void 0===_group$options?void 0:_group$options.length)>0&&react_default.a.createElement(es_select.a.OptGroup,{key:group.type,label:group.label},function searchItems(sources,search,groupType){return search?(fuseCache[groupType]||(fuseCache[groupType]=new fuse_esm.a(sources,{keys:["value"],threshold:.3})),fuseCache[groupType].search(search).map((function(result){return result.item}))):sources}(group.options,search,group.type).map((function(option,index){return react_default.a.createElement(es_select.a.Option,{key:"".concat(group.type,"_").concat(option.value),value:"".concat(group.type,"_").concat(option.value),type:group.type,"data-attr":"prop-filter-".concat(group.type,"-").concat(index)},react_default.a.createElement(PropertyKeyInfo.b,{value:option.value,type:"element"==group.type?group.type:void 0}))})))})))}try{PropertySelect.displayName="PropertySelect",PropertySelect.__docgenInfo={description:"",displayName:"PropertySelect",props:{optionGroups:{defaultValue:null,description:"",name:"optionGroups",required:!0,type:{name:"PropertyOptionGroup[]"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Partial<SelectOption> | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:'(type: "event" | "person" | "element", value: string) => void'}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},autoOpenIfEmpty:{defaultValue:null,description:"",name:"autoOpenIfEmpty",required:!1,type:{name:"boolean"}},delayBeforeAutoOpen:{defaultValue:null,description:"",name:"delayBeforeAutoOpen",required:!1,type:{name:"number"}},dropdownMatchSelectWidth:{defaultValue:{value:"true"},description:"",name:"dropdownMatchSelectWidth",required:!1,type:{name:"number | boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx#PropertySelect"]={docgenInfo:PropertySelect.__docgenInfo,name:"PropertySelect",path:"frontend/src/lib/components/PropertyFilters/components/PropertySelect.tsx#PropertySelect"})}catch(__react_docgen_typescript_loader_error){}var OperatorValueSelect=__webpack_require__(1702),propertyDefinitionsModel=__webpack_require__(290);function EventPropertyFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function EventPropertyFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?EventPropertyFilter_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):EventPropertyFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function EventPropertyFilter(_ref){var _keyMapping$event$pro,filter=_ref.filter,selector=_ref.selector,transformedPropertyDefinitions=Object(index_esm.useValues)(propertyDefinitionsModel.a).transformedPropertyDefinitions,updateFilter=Object(index_esm.useActions)(sessionsFiltersLogic.a).updateFilter,property=filter.properties&&filter.properties.length>0?filter.properties[0]:null,value=property?{value:property.key,label:(null===(_keyMapping$event$pro=PropertyKeyInfo.f.event[property.key])||void 0===_keyMapping$event$pro?void 0:_keyMapping$event$pro.label)||property.key}:null;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PropertySelect,{value:value,optionGroups:[{type:"event",label:"Event properties",options:transformedPropertyDefinitions}],onChange:function onChange(_,key){updateFilter(EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({},filter),{},{properties:[EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({operator:types.n.Exact,value:null},property),{},{type:"event",key:key})]}),selector)},placeholder:"Add property filter"}),property&&react_default.a.createElement(OperatorValueSelect.b,{type:"event",propkey:property.key,operator:property.operator,value:property.value,onChange:function onChange(operator,changedValue){updateFilter(EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({},filter),{},{properties:[EventPropertyFilter_objectSpread(EventPropertyFilter_objectSpread({},property),{},{operator:operator,value:changedValue})]}),selector)}}))}try{EventPropertyFilter.displayName="EventPropertyFilter",EventPropertyFilter.__docgenInfo={description:"",displayName:"EventPropertyFilter",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionTypePropertyFilter | EventTypePropertyFilter"}},selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/EventPropertyFilter.tsx#EventPropertyFilter"]={docgenInfo:EventPropertyFilter.__docgenInfo,name:"EventPropertyFilter",path:"frontend/src/scenes/sessions/filters/EventPropertyFilter.tsx#EventPropertyFilter"})}catch(__react_docgen_typescript_loader_error){}function UserFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function UserFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?UserFilter_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):UserFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function PersonFilter(_ref){var filter=_ref.filter,selector=_ref.selector,updateFilter=Object(index_esm.useActions)(sessionsFiltersLogic.a).updateFilter;return react_default.a.createElement(OperatorValueSelect.b,{type:"person",propkey:filter.key,operator:filter.operator,value:filter.value,onChange:function onChange(operator,value){updateFilter(UserFilter_objectSpread(UserFilter_objectSpread({},filter),{},{operator:operator,value:value}),selector)}})}try{PersonFilter.displayName="PersonFilter",PersonFilter.__docgenInfo={description:"",displayName:"PersonFilter",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"PersonPropertyFilter"}},selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/UserFilter.tsx#PersonFilter"]={docgenInfo:PersonFilter.__docgenInfo,name:"PersonFilter",path:"frontend/src/scenes/sessions/filters/UserFilter.tsx#PersonFilter"})}catch(__react_docgen_typescript_loader_error){}function DurationFilter_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DurationFilter_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DurationFilter_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DurationFilter_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var DurationFilter_multipliers={s:1,m:60,h:3600},durationToSeconds=function durationToSeconds(value,unit){return value*DurationFilter_multipliers[unit]};function DurationFilter(_ref){var filter=_ref.filter,selector=_ref.selector,_useState=Object(react.useState)("m"),_useState2=slicedToArray_default()(_useState,2),unit=_useState2[0],setUnit=_useState2[1],_useState3=Object(react.useState)(Math.floor(filter.value/DurationFilter_multipliers[unit])),_useState4=slicedToArray_default()(_useState3,2),duration=_useState4[0],setDuration=_useState4[1],updateFilter=Object(index_esm.useActions)(sessionsFiltersLogic.a).updateFilter;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(OperatorValueSelect.a,{operator:filter.operator,operators:[types.n.GreaterThan,types.n.LessThan],onChange:function onChange(operator){updateFilter(DurationFilter_objectSpread(DurationFilter_objectSpread({},filter),{},{operator:operator}),selector)}}),react_default.a.createElement(input.a,{type:"number",value:duration,placeholder:"0",min:0,autoFocus:!0,addonAfter:react_default.a.createElement(es_select.a,{showSearch:!1,value:unit,onChange:function onChange(newUnit){setUnit(newUnit),updateFilter(DurationFilter_objectSpread(DurationFilter_objectSpread({},filter),{},{value:durationToSeconds(duration,newUnit)}),selector)}},react_default.a.createElement(es_select.a.Option,{value:"s"},"seconds"),react_default.a.createElement(es_select.a.Option,{value:"m"},"minutes"),react_default.a.createElement(es_select.a.Option,{value:"h"},"hours")),step:1,onChange:function onChange(event){var value=parseFloat(event.target.value);setDuration(value),updateFilter(DurationFilter_objectSpread(DurationFilter_objectSpread({},filter),{},{value:durationToSeconds(value,unit)}),selector)}}))}try{DurationFilter.displayName="DurationFilter",DurationFilter.__docgenInfo={description:"",displayName:"DurationFilter",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"RecordingDurationFilter"}},selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/DurationFilter.tsx#DurationFilter"]={docgenInfo:DurationFilter.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/sessions/filters/DurationFilter.tsx#DurationFilter"})}catch(__react_docgen_typescript_loader_error){}function AddFilterButton(_ref){var selector=_ref.selector,openFilterSelect=Object(index_esm.useActions)(sessionsFiltersLogic.a).openFilterSelect;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(es_button.a,{onClick:function onClick(){return openFilterSelect(selector)},className:"add-session-filter"},react_default.a.createElement("span",null,react_default.a.createElement(PlusOutlined.a,null),react_default.a.createElement("span",{style:{marginLeft:8}},"Add filter")),react_default.a.createElement(DownOutlined.a,{style:{fontSize:12,color:"var(--muted)"}})),react_default.a.createElement(SessionsFilterBox,{selector:selector}))}try{AddFilterButton.displayName="AddFilterButton",AddFilterButton.__docgenInfo={description:"",displayName:"AddFilterButton",props:{selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/AddFilterButton.tsx#AddFilterButton"]={docgenInfo:AddFilterButton.__docgenInfo,name:"AddFilterButton",path:"frontend/src/scenes/sessions/filters/AddFilterButton.tsx#AddFilterButton"})}catch(__react_docgen_typescript_loader_error){}var constants=__webpack_require__(20),SelectDownIcon=__webpack_require__(1701),SECTIONS={recording:{label:"Recording filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions ",react_default.a.createElement("b",null,"with recordings")," matching the following")},person:{label:"User property filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions where user properties match ",react_default.a.createElement("b",null,"all")," of the following")},action_type:{label:"Action filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions where a given ",react_default.a.createElement("b",null,"action")," has been triggered")},event_type:{label:"Event filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions where a given ",react_default.a.createElement("b",null,"event")," has been triggered")},cohort:{label:"Cohort filters",description:react_default.a.createElement(react_default.a.Fragment,null,"Find sessions by ",react_default.a.createElement("b",null,"users in")," the following cohorts")}};function EditFiltersPanel(_ref){var onSubmit=_ref.onSubmit,_useValues=Object(index_esm.useValues)(sessionsFiltersLogic.a),activeFilter=_useValues.activeFilter,displayedFilterCount=_useValues.displayedFilterCount,displayedFilters=_useValues.displayedFilters,_useActions=Object(index_esm.useActions)(sessionsFiltersLogic.a),openFilterSelect=_useActions.openFilterSelect,openEditFilter=_useActions.openEditFilter,removeFilter=_useActions.removeFilter,filtersDirty=Object(index_esm.useValues)(sessionsTableLogic).filtersDirty;if(0===displayedFilterCount)return null;var andTag=function andTag(visible){return react_default.a.createElement("span",{className:"stateful-badge and",style:{visibility:visible?"initial":"hidden",marginLeft:16}},"AND")},properties=[],events=[],actions=[];Object.entries(displayedFilters).forEach((function(_ref2){var _ref3=slicedToArray_default()(_ref2,2),key=_ref3[0],values=_ref3[1];key===constants.g&&values.forEach((function(filter){!filter.item.label||"string"!=typeof filter.item.value&&"number"!=typeof filter.item.value||actions.push({id:filter.item.value,name:filter.item.label,type:"actions",order:0})})),key===constants.o&&values.forEach((function(filter){!filter.item.label||"string"!=typeof filter.item.value&&"number"!=typeof filter.item.value||events.push({id:filter.item.value,name:filter.item.label,type:"events",order:0})})),"cohort"===key&&values.forEach((function(filter){filter.item.value&&properties.push({key:"id",value:filter.item.value,type:"cohort",operator:types.n.Exact})})),"person"===key&&values.forEach((function(filter){filter.item.value&&properties.push({key:filter.item.key,value:filter.item.value,type:"person",operator:filter.item.operator})}))}));var params={insight:types.q.TRENDS,interval:"day",display:"ActionsLineGraph",events:events,actions:actions,properties:properties},encodedParams=Object(utils.lb)(params),insightLink="/insights?".concat(encodedParams,"#backTo=Sessions&backToURL=").concat(window.location.pathname+window.location.search);return react_default.a.createElement(card.a,null,Object.entries(displayedFilters).map((function(_ref4){var _ref5=slicedToArray_default()(_ref4,2),key=_ref5[0],filters=_ref5[1];return react_default.a.createElement("div",{key:key},react_default.a.createElement("div",{className:"sessions-filter-title"},react_default.a.createElement("h3",null,SECTIONS[key].label),react_default.a.createElement("p",{className:"text-muted"},SECTIONS[key].description)),filters.map((function(_ref6,index){var _item$label,item=_ref6.item,selector=_ref6.selector;return react_default.a.createElement("div",{className:"sessions-filter-row",key:selector},react_default.a.createElement("div",{className:"sessions-filter-row-filters"},react_default.a.createElement("div",null,react_default.a.createElement(es_button.a,{onClick:function onClick(){return openFilterSelect(selector)},className:"full-width",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},"data-attr":"edit-session-filter"},react_default.a.createElement(PropertyKeyInfo.b,{value:null!==(_item$label=item.label)&&void 0!==_item$label?_item$label:""}),react_default.a.createElement(SelectDownIcon.a,{className:"text-muted"})),react_default.a.createElement(SessionsFilterBox,{selector:selector})),("event_type"===item.type||"action_type"===item.type)&&react_default.a.createElement(EventPropertyFilter,{filter:item,selector:selector}),"person"===item.type&&react_default.a.createElement(PersonFilter,{filter:item,selector:selector}),"recording"===item.type&&"duration"===item.key&&react_default.a.createElement(DurationFilter,{filter:item,selector:selector})),filters.length>1&&andTag(index<filters.length-1),react_default.a.createElement(CloseButton.a,{onClick:function onClick(){return removeFilter(selector)},style:{marginLeft:8}}))})),react_default.a.createElement("div",{className:"sessions-filter-row"},react_default.a.createElement("div",{className:"sessions-filter-row-filters"},react_default.a.createElement(AddFilterButton,{selector:"new-".concat(key)})),filters.length>1&&andTag(!1),react_default.a.createElement(CloseButton.a,{style:{marginLeft:8,visibility:"hidden"}})),react_default.a.createElement(divider.a,null))})),react_default.a.createElement(space.b,{style:{display:"flex",justifyContent:"space-between"}},react_default.a.createElement(space.b,null,react_default.a.createElement(LinkButton.a,{to:insightLink},react_default.a.createElement("span",null,"View Insights"))),react_default.a.createElement(space.b,null,filtersDirty&&react_default.a.createElement("div",{className:"text-warning"},"There are unapplied filters."),react_default.a.createElement(es_button.a,{disabled:!!activeFilter,onClick:function onClick(){return openEditFilter({id:null})}},react_default.a.createElement("span",null,react_default.a.createElement(SaveOutlined.a,null)," Save filter")),react_default.a.createElement(es_button.a,{type:"primary",onClick:onSubmit,"data-attr":"sessions-apply-filters"},react_default.a.createElement("span",null,react_default.a.createElement(SearchOutlined.a,null)," Apply filters")))))}try{EditFiltersPanel.displayName="EditFiltersPanel",EditFiltersPanel.__docgenInfo={description:"",displayName:"EditFiltersPanel",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/filters/EditFiltersPanel.tsx#EditFiltersPanel"]={docgenInfo:EditFiltersPanel.__docgenInfo,name:"EditFiltersPanel",path:"frontend/src/scenes/sessions/filters/EditFiltersPanel.tsx#EditFiltersPanel"})}catch(__react_docgen_typescript_loader_error){}function SearchAllBox(){var openFilter=Object(index_esm.useValues)(sessionsFiltersLogic.a).openFilter,_useActions=Object(index_esm.useActions)(sessionsFiltersLogic.a),openFilterSelect=_useActions.openFilterSelect,closeFilterSelect=_useActions.closeFilterSelect;return react_default.a.createElement("div",{className:"mb-05 full-width"},react_default.a.createElement(es_button.a,{style:{textAlign:"left"},"data-attr":"sessions-filter-open",onClick:function onClick(){return openFilter?closeFilterSelect():openFilterSelect("new")}},react_default.a.createElement("span",{className:"text-muted"},"Filter by user, action, or event properties",react_default.a.createElement(SelectDownIcon.a,null))))}var Drawer=__webpack_require__(1688),dayjs=__webpack_require__(1047),dayjs_default=__webpack_require__.n(dayjs),generatePicker=__webpack_require__(828),teamLogic=__webpack_require__(183),featureFlagLogic=__webpack_require__(84),sceneLogic=__webpack_require__(47);function SessionsView_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SessionsView_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SessionsView_ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SessionsView_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var DatePicker=Object(generatePicker.b)(dayjs_default.a);function SessionPlayerDrawer(_ref){var _ref$isPersonPage=_ref.isPersonPage,isPersonPage=void 0!==_ref$isPersonPage&&_ref$isPersonPage,closeSessionPlayer=Object(index_esm.useActions)(sessionsTableLogic).closeSessionPlayer;return react_default.a.createElement(Drawer.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:closeSessionPlayer},react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("a",{onClick:closeSessionPlayer},react_default.a.createElement(ArrowLeftOutlined.a,null)," Back to ",isPersonPage?"persons":"sessions"),react_default.a.createElement(SessionsPlay,null)))}var MATCHING_EVENT_ICON_SIZE=26;function SessionsView(_ref3){var personIds=_ref3.personIds,_ref3$isPersonPage=_ref3.isPersonPage,isPersonPage=void 0!==_ref3$isPersonPage&&_ref3$isPersonPage,logic=sessionsTableLogic({personIds:personIds}),_useValues=Object(index_esm.useValues)(logic),sessions=_useValues.sessions,sessionsLoading=_useValues.sessionsLoading,pagination=_useValues.pagination,isLoadingNext=_useValues.isLoadingNext,selectedDate=_useValues.selectedDate,properties=_useValues.properties,sessionRecordingId=_useValues.sessionRecordingId,firstRecordingId=_useValues.firstRecordingId,expandedRowKeysProps=_useValues.expandedRowKeysProps,showOnlyMatches=_useValues.showOnlyMatches,filters=_useValues.filters,rowExpandState=_useValues.rowExpandState,_useActions2=Object(index_esm.useActions)(logic),fetchNextSessions=_useActions2.fetchNextSessions,previousDay=_useActions2.previousDay,nextDay=_useActions2.nextDay,setFilters=_useActions2.setFilters,applyFilters=_useActions2.applyFilters,toggleExpandSessionRows=_useActions2.toggleExpandSessionRows,onExpandedRowsChange=_useActions2.onExpandedRowsChange,setShowOnlyMatches=_useActions2.setShowOnlyMatches,currentTeam=Object(index_esm.useValues)(teamLogic.a).currentTeam,featureFlags=Object(index_esm.useValues)(featureFlagLogic.a).featureFlags,sessionsTableRef=Object(react.useRef)(null),columns=[{title:"Person",key:"person",render:function RenderSession(session){return react_default.a.createElement(Link.a,{to:"/person/".concat(encodeURIComponent(session.distinct_id)),className:"ph-no-capture"},(null==session?void 0:session.email)||session.distinct_id)},ellipsis:!0,span:3},{title:"Session duration",render:function RenderDuration(session){if(session.session_recordings.length>0){var seconds=function getSessionRecordingsDurationSum(session){return session.session_recordings.map((function(_ref2){return _ref2.recording_duration})).reduce((function(a,b){return a+b}),0)}(session);return react_default.a.createElement("span",null,Object(utils.I)(Math.max(seconds,session.length)))}return react_default.a.createElement("span",null,Object(utils.I)(session.length))},span:3},{title:"Start time",render:function RenderStartTime(session){return Object(utils.G)(session.start_time)},span:3},{title:"Start point",render:function RenderStartPoint(session){return session.start_url?Object(utils.jb)(session.start_url):"N/A"},ellipsis:!0,span:4},{title:"End point",render:function RenderEndPoint(session){return session.end_url?Object(utils.jb)(session.end_url):"N/A"},ellipsis:!0,span:4},{title:react_default.a.createElement(Tooltip.a,{title:(null==currentTeam?void 0:currentTeam.session_recording_opt_in)?"Replay sessions as if you were right next to your users.":"Session recording is turned off for this project. Click to go to settings.",delayMs:0},react_default.a.createElement("span",{style:{whiteSpace:"nowrap"}},(null==currentTeam?void 0:currentTeam.session_recording_opt_in)?react_default.a.createElement(react_default.a.Fragment,null,"Recordings",react_default.a.createElement(QuestionCircleOutlined.a,{className:"info-indicator"})):react_default.a.createElement(Link.a,{to:sceneLogic.c.projectSettings()+"#session-recording",style:{color:"inherit"}},"Recordings",react_default.a.createElement(PoweroffOutlined.a,{className:"info-indicator"})))),render:function RenderEndPoint(session){return session.session_recordings.length?react_default.a.createElement(SessionRecordingsButton_SessionRecordingsButton,{sessionRecordings:session.session_recordings}):null},span:4,defaultWidth:184}];return Object(react.useEffect)((function(){var _decodeParams;"Insights"===(null===(_decodeParams=Object(lib.decodeParams)(window.location.hash))||void 0===_decodeParams?void 0:_decodeParams["#backTo"])&&sessionsTableRef.current&&sessionsTableRef.current.scrollIntoView({behavior:"smooth"})}),[]),react_default.a.createElement("div",{className:"events","data-attr":"events-table"},react_default.a.createElement(space.b,{className:"mb-05"},react_default.a.createElement(es_button.a,{onClick:previousDay,icon:react_default.a.createElement(CaretLeftOutlined.a,null),"data-attr":"sessions-prev-date"}),react_default.a.createElement(DatePicker,{value:selectedDate,onChange:function onChange(date){return setFilters(properties,date)},allowClear:!1,"data-attr":"sessions-date-picker"}),react_default.a.createElement(es_button.a,{onClick:nextDay,icon:react_default.a.createElement(CaretRightOutlined.a,null),"data-attr":"sessions-next-date"})),react_default.a.createElement(SearchAllBox,null),react_default.a.createElement(SessionsFilterBox,{selector:"new"}),react_default.a.createElement(index_esm.BindLogic,{logic:sessionsTableLogic,props:{personIds:personIds}},react_default.a.createElement(EditFiltersPanel,{onSubmit:applyFilters})),react_default.a.createElement("div",{ref:sessionsTableRef}),react_default.a.createElement("div",{className:"sessions-view-actions"},react_default.a.createElement("div",{className:"sessions-view-actions-left-items"},react_default.a.createElement(row.a,{className:"action"},featureFlags[constants.q.SESSIONS_TABLE]&&react_default.a.createElement(es_button.a,{"data-attr":"sessions-expand-collapse",onClick:toggleExpandSessionRows},rowExpandState===ExpandState.Expanded?"Collapse":"Expand"," all")),filters.length>0&&react_default.a.createElement(row.a,{className:"action ml-05"},react_default.a.createElement(es_switch.a,{id:"show-only-matches",onChange:setShowOnlyMatches,checked:showOnlyMatches}),react_default.a.createElement("label",{className:"ml-025",htmlFor:"show-only-matches"},react_default.a.createElement("b",null,"Show only event matches")))),react_default.a.createElement("div",{className:"sessions-view-actions-right-items"},react_default.a.createElement(Tooltip.a,{title:null===firstRecordingId?"No recordings found for this date.":(null==currentTeam?void 0:currentTeam.session_recording_opt_in)?"Play all recordings found for this date.":"Session recording is turned off for this project. Enable in Project Settings."},react_default.a.createElement(LinkButton.a,{to:firstRecordingId?SessionRecordingsButton_sessionPlayerUrl(firstRecordingId):"#",type:"primary","data-attr":"play-all-recordings",disabled:null===firstRecordingId,icon:react_default.a.createElement(PlayCircleOutlined.a,null)},"Play all")))),react_default.a.createElement(ResizableTable.b,{locale:{emptyText:selectedDate?"No Sessions on ".concat(selectedDate.format(selectedDate.year()==dayjs_min_default()().year()?"MMM D":"MMM D, YYYY")):"No Sessions"},"data-attr":"sessions-table",size:"small",rowKey:"global_session_id",pagination:{pageSize:99999,hideOnSinglePage:!0},rowClassName:"cursor-pointer",dataSource:sessions,columns:columns,loading:sessionsLoading,expandable:SessionsView_objectSpread({expandedRowRender:function renderExpand(session){return react_default.a.createElement(index_esm.BindLogic,{logic:sessionsTableLogic,props:{personIds:personIds}},react_default.a.createElement(SessionDetails,{key:session.global_session_id,session:session}))},expandIcon:function _renderExpandIcon(expandProps){var _session$matching_eve,session=expandProps.record;return react_default.a.createElement(ExpandIcon.a,expandProps,(null==session||null===(_session$matching_eve=session.matching_events)||void 0===_session$matching_eve?void 0:_session$matching_eve.length)>0?react_default.a.createElement(Tooltip.a,{title:"".concat(Object(utils.cb)(session.matching_events.length,"event")," ").concat(Object(utils.cb)(session.matching_events.length,"matches","match",!1)," your event filters.")},react_default.a.createElement(badge.a,{className:"sessions-matching-events-icon cursor-pointer",count:react_default.a.createElement("span",{className:"badge-text"},session.matching_events.length),offset:[0,MATCHING_EVENT_ICON_SIZE],size:"small"},react_default.a.createElement(icons.g,{size:MATCHING_EVENT_ICON_SIZE}))):react_default.a.createElement(react_default.a.Fragment,null))},columnWidth:ResizableTable.a+MATCHING_EVENT_ICON_SIZE,rowExpandable:function rowExpandable(){return!0},onExpandedRowsChange:onExpandedRowsChange,expandRowByClick:!0},expandedRowKeysProps)}),!!sessionRecordingId&&react_default.a.createElement(SessionPlayerDrawer,{isPersonPage:isPersonPage}),react_default.a.createElement("div",{style:{marginTop:"5rem"}}),react_default.a.createElement("div",{style:{margin:"2rem auto 5rem",textAlign:"center"}},(pagination||isLoadingNext)&&react_default.a.createElement(es_button.a,{type:"primary",onClick:fetchNextSessions,"data-attr":"load-more-sessions"},isLoadingNext?react_default.a.createElement(spin.a,null," "):"Load more sessions")))}try{SessionsView.displayName="SessionsView",SessionsView.__docgenInfo={description:"",displayName:"SessionsView",props:{personIds:{defaultValue:null,description:"",name:"personIds",required:!1,type:{name:"string[]"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/sessions/SessionsView.tsx#SessionsView"]={docgenInfo:SessionsView.__docgenInfo,name:"SessionsView",path:"frontend/src/scenes/sessions/SessionsView.tsx#SessionsView"})}catch(__react_docgen_typescript_loader_error){}},5662:function(module,exports,__webpack_require__){(exports=__webpack_require__(58)(!1)).push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-popup{padding:0}.session-recordings-popup__link{color:#000}.session-recordings-popup__link .anticon-play-circle{color:#5375ff}.session-recordings-popup__link.session-recordings-popup__link--viewed .anticon-play-circle,.session-recordings-popup__link:visited .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-popup__detail,.session-recordings-popup__label,.session-recordings-popup__row{display:flex;align-items:center;box-sizing:content-box}.session-recordings-popup__row{height:32px;padding:4px 15px}.session-recordings-popup__label{font-weight:medium}.session-recordings-popup__label .anticon{font-size:1.25rem;margin-right:.5rem}.session-recordings-popup__detail{margin-left:1rem}.session-recordings-button__wrapper{display:inline-block}.session-recordings-button .anticon-play-circle{color:#5375ff}.session-recordings-button.session-recordings-button--all-viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-button .session-recordings-button__indicator{font-size:12px;color:rgba(0,0,0,.5)}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5674:function(module,exports,__webpack_require__){(exports=__webpack_require__(58)(!1)).push([module.i,'.bg-mid{background-color:#f2f2f2!important}.mixin-base-bordered-card{border-radius:4px;box-shadow:0 4px 10px rgba(0,0,0,.04)}.mixin-gradient-overlay{width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent)}.mixin-gradient-overlay,.mixin-gradient-overlay-right{content:"";position:absolute;pointer-events:none;bottom:0}.mixin-gradient-overlay-right{width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.sessions-sidebar,.sessions-wrapper{display:flex;flex-direction:row}.sessions-sidebar{position:sticky;top:50px;overflow:auto;min-width:260px;height:100%}.sessions-with-filters{flex-grow:1;margin-top:30px;min-width:0;overflow:hidden}.sessions-divider{margin-top:48px;margin-left:19px;margin-right:19px;height:calc(100vh - 146px)}.sessions-filters-menu{border-right:unset}.sessions-filters-menu .ant-menu-item-group-title{text-transform:uppercase;color:rgba(0,0,0,.5);font-weight:700}.sessions-filters-menu .ant-menu-item{padding:0}.sessions-filters-menu .ant-menu-item a{padding-left:16px;padding-right:16px;display:flex;justify-content:space-between;align-items:center}.sessions-filters-menu .ant-menu-item a>span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sessions-filters-menu .edit-filter-button{flex-shrink:0}.sessions-filters-menu .edit-filter-button>.anticon{font-size:16px;margin-right:0}.add-session-filter{color:rgba(0,0,0,.5);width:100%;display:flex;justify-content:space-between;align-items:center;border:1px dashed rgba(0,0,0,.5)}.session-player{padding:32px 16px 16px;height:calc(100vh - 80px)}.session-player .player-container{height:calc(100% - 30px);position:relative}.session-player .ant-row>.ant-col{height:calc(100% - 16px)}.session-player .url-info{max-width:50%;text-overflow:ellipsis;overflow:hidden;display:inline-block;white-space:nowrap}.session-player .sidebar{overflow:auto}.session-player .timeline{display:flex;align-items:stretch;position:relative}.session-player .timeline .line{background-color:#d9d9d9;width:2px;margin-right:8px;border-radius:4px}.session-player .timeline .timeline-items{width:calc(100% - 10px)}.session-player .timeline .timeline-items>div{margin-bottom:8px;max-width:100%}.session-player .timeline .timeline-items>div:before{height:12px;width:12px;border-radius:50%;background-color:#d9d9d9;content:"";display:inline-block;position:absolute;left:-5px;margin-top:6px;cursor:pointer}.session-player .timeline .timeline-items>div.current:before{background-color:#8da9e7!important}.session-player .timeline .timeline-items>div.current .ant-tag{font-weight:700}.session-player .timeline .timeline-items>div .ant-tag{max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.sessions-filter-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.sessions-filter-row .sessions-filter-row-filters{display:flex;width:100%}.sessions-filter-row .sessions-filter-row-filters>*{flex:1}.sessions-filter-row .sessions-filter-row-filters>:not(:last-child){margin-right:16px}.sessions-event-highlighted{background-color:#fdedc9;font-weight:700}.ant-table-tbody>tr.ant-table-row:hover.sessions-event-highlighted>td{background-color:#fbdd99}.sessions-matching-events-icon{color:#35416b;display:flex;align-items:center}.sessions-matching-events-icon .badge-text{background-color:#fdedc9;height:1.1rem;min-width:1.1rem;line-height:1.1rem;font-weight:700;white-space:nowrap;text-align:center;border-radius:10px;box-shadow:0 0 0 1px #fff;padding:0 4px;font-size:9px}.sessions-event-matching-events-icon{color:#f7a501;font-size:1.4em}.sessions-view-actions{margin-top:16px;margin-bottom:16px;display:flex}.sessions-view-actions .sessions-view-actions-left-items{display:flex;flex-direction:row;align-items:center;flex-grow:1}.sessions-view-actions .sessions-view-actions-left-items .action{display:flex;align-items:center;flex-wrap:nowrap}.sessions-view-actions .sessions-view-actions-right-items{display:flex;flex-direction:column;align-items:flex-end}@media(max-width:768px){.sessions-wrapper{display:block}.sessions-sidebar{display:block;position:unset;height:unset}.sessions-divider{display:none}}',""]),exports.locals={zDrawer:"950",zPopup:"1060",zGraphAnnotationPrompt:"99"},module.exports=exports},5675:function(module,exports,__webpack_require__){(exports=__webpack_require__(58)(!1)).push([module.i,'.replayer-wrapper{position:relative}.replayer-mouse{position:absolute;width:20px;height:20px;transition:.05s linear;background-size:contain;background-position:50%;background-repeat:no-repeat;background-image:url("data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwMCIgd2lkdGg9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBkYXRhLW5hbWU9IkxheWVyIDEiIHZpZXdCb3g9IjAgMCA1MCA1MCI+PHBhdGggZD0iTTQ4LjcxIDQyLjkxTDM0LjA4IDI4LjI5IDQ0LjMzIDE4YTEgMSAwIDAwLS4zMy0xLjYxTDIuMzUgMS4wNmExIDEgMCAwMC0xLjI5IDEuMjlMMTYuMzkgNDRhMSAxIDAgMDAxLjY1LjM2bDEwLjI1LTEwLjI4IDE0LjYyIDE0LjYzYTEgMSAwIDAwMS40MSAwbDQuMzgtNC4zOGExIDEgMCAwMC4wMS0xLjQyem0tNS4wOSAzLjY3TDI5IDMyYTEgMSAwIDAwLTEuNDEgMGwtOS44NSA5Ljg1TDMuNjkgMy42OWwzOC4xMiAxNEwzMiAyNy41OEExIDEgMCAwMDMyIDI5bDE0LjU5IDE0LjYyeiIvPjwvc3ZnPg==")}.replayer-mouse:after{content:"";display:inline-block;width:20px;height:20px;border-radius:10px;background:#4950f6;transform:translate(-10px,-10px);opacity:.3}.replayer-mouse.active:after{-webkit-animation:click .2s ease-in-out 1;animation:click .2s ease-in-out 1}.replayer-mouse-tail{position:absolute;pointer-events:none}@-webkit-keyframes click{0%{opacity:.3;width:20px;height:20px;border-radius:10px;transform:translate(-10px,-10px)}50%{opacity:.5;width:10px;height:10px;border-radius:5px;transform:translate(-5px,-5px)}}@keyframes click{0%{opacity:.3;width:20px;height:20px;border-radius:10px;transform:translate(-10px,-10px)}50%{opacity:.5;width:10px;height:10px;border-radius:5px;transform:translate(-5px,-5px)}}.rc-tooltip.rc-tooltip-zoom-appear,.rc-tooltip.rc-tooltip-zoom-enter{opacity:0}.rc-tooltip.rc-tooltip-zoom-enter,.rc-tooltip.rc-tooltip-zoom-leave{display:block}.rc-tooltip-zoom-appear,.rc-tooltip-zoom-enter{opacity:0;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.18,.89,.32,1.28);animation-timing-function:cubic-bezier(.18,.89,.32,1.28);-webkit-animation-play-state:paused;animation-play-state:paused}.rc-tooltip-zoom-leave{-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:cubic-bezier(.6,-.3,.74,.05);animation-timing-function:cubic-bezier(.6,-.3,.74,.05);-webkit-animation-play-state:paused;animation-play-state:paused}.rc-tooltip-zoom-appear.rc-tooltip-zoom-appear-active,.rc-tooltip-zoom-enter.rc-tooltip-zoom-enter-active{-webkit-animation-name:rcToolTipZoomIn;animation-name:rcToolTipZoomIn;-webkit-animation-play-state:running;animation-play-state:running}.rc-tooltip-zoom-leave.rc-tooltip-zoom-leave-active{-webkit-animation-name:rcToolTipZoomOut;animation-name:rcToolTipZoomOut;-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes rcToolTipZoomIn{0%{opacity:0;transform-origin:50% 50%;transform:scale(0)}to{opacity:1;transform-origin:50% 50%;transform:scale(1)}}@keyframes rcToolTipZoomIn{0%{opacity:0;transform-origin:50% 50%;transform:scale(0)}to{opacity:1;transform-origin:50% 50%;transform:scale(1)}}@-webkit-keyframes rcToolTipZoomOut{0%{opacity:1;transform-origin:50% 50%;transform:scale(1)}to{opacity:0;transform-origin:50% 50%;transform:scale(0)}}@keyframes rcToolTipZoomOut{0%{opacity:1;transform-origin:50% 50%;transform:scale(1)}to{opacity:0;transform-origin:50% 50%;transform:scale(0)}}.rc-tooltip{position:absolute;z-index:1070;display:block;visibility:visible;font-size:12px;line-height:1.5;opacity:.9}.rc-tooltip-hidden{display:none}.rc-tooltip-placement-top,.rc-tooltip-placement-topLeft,.rc-tooltip-placement-topRight{padding:5px 0 9px}.rc-tooltip-placement-right,.rc-tooltip-placement-rightBottom,.rc-tooltip-placement-rightTop{padding:0 5px 0 9px}.rc-tooltip-placement-bottom,.rc-tooltip-placement-bottomLeft,.rc-tooltip-placement-bottomRight{padding:9px 0 5px}.rc-tooltip-placement-left,.rc-tooltip-placement-leftBottom,.rc-tooltip-placement-leftTop{padding:0 9px 0 5px}.rc-tooltip-inner{padding:8px 10px;color:#fff;text-align:left;text-decoration:none;background-color:#373737;border-radius:6px;box-shadow:0 0 4px rgba(0,0,0,.17);min-height:34px}.rc-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.rc-tooltip-placement-top .rc-tooltip-arrow,.rc-tooltip-placement-topLeft .rc-tooltip-arrow,.rc-tooltip-placement-topRight .rc-tooltip-arrow{bottom:4px;margin-left:-5px;border-width:5px 5px 0;border-top-color:#373737}.rc-tooltip-placement-top .rc-tooltip-arrow{left:50%}.rc-tooltip-placement-topLeft .rc-tooltip-arrow{left:15%}.rc-tooltip-placement-topRight .rc-tooltip-arrow{right:15%}.rc-tooltip-placement-right .rc-tooltip-arrow,.rc-tooltip-placement-rightBottom .rc-tooltip-arrow,.rc-tooltip-placement-rightTop .rc-tooltip-arrow{left:4px;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#373737}.rc-tooltip-placement-right .rc-tooltip-arrow{top:50%}.rc-tooltip-placement-rightTop .rc-tooltip-arrow{top:15%;margin-top:0}.rc-tooltip-placement-rightBottom .rc-tooltip-arrow{bottom:15%}.rc-tooltip-placement-left .rc-tooltip-arrow,.rc-tooltip-placement-leftBottom .rc-tooltip-arrow,.rc-tooltip-placement-leftTop .rc-tooltip-arrow{right:4px;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#373737}.rc-tooltip-placement-left .rc-tooltip-arrow{top:50%}.rc-tooltip-placement-leftTop .rc-tooltip-arrow{top:15%;margin-top:0}.rc-tooltip-placement-leftBottom .rc-tooltip-arrow{bottom:15%}.rc-tooltip-placement-bottom .rc-tooltip-arrow,.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow,.rc-tooltip-placement-bottomRight .rc-tooltip-arrow{top:4px;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#373737}.rc-tooltip-placement-bottom .rc-tooltip-arrow{left:50%}.rc-tooltip-placement-bottomLeft .rc-tooltip-arrow{left:15%}.rc-tooltip-placement-bottomRight .rc-tooltip-arrow{right:15%}.ph-rrweb-wrapper{height:100%;width:100%;background-color:#ccc;display:flex;flex-direction:column}.ph-rrweb-player{height:100%;width:100%;overflow:hidden;position:relative}.ph-rrweb-player .replayer-wrapper{transform-origin:top left}.ph-rrweb-player iframe{border:0;background-color:#fff}.ph-rrweb-bottom{box-sizing:border-box;width:100%;background-color:#333;color:#fff;padding:6px 6px 12px;align-self:flex-end}.ph-rrweb-progress{width:100%;margin-bottom:8px;cursor:pointer}.ph-rrweb-controller{display:flex}.ph-rrweb-controller>*{flex:1 0 0;display:flex;align-items:center}.ph-rrweb-controller-icon{margin-right:8px;font-size:24px;cursor:pointer;display:flex}.ph-rrweb-controller-icon-play-pause{margin-right:0}.ph-rrweb-speed-toggle{cursor:pointer;margin-right:5px}.ph-rrweb-overlay{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.ph-rrweb-skipping{position:absolute;height:100%;width:100%;opacity:.7;font-size:40px}.ph-rrweb-play-pause-overlay,.ph-rrweb-skipping{display:flex;justify-content:center;align-items:center;background-color:#333;color:#fff}.ph-rrweb-play-pause-overlay{border-radius:50%;opacity:0;height:60px;width:60px;font-size:24px}.ph-rrweb-play-pause-overlay-enter-active{height:100px;width:100px;font-size:40px;opacity:.6;transition:.4s ease-in-out}.ph-rrweb-play-pause-overlay-icon svg{height:48px;width:48px;display:flex}.rc-tooltip-placement-top{padding:14px 0 0}.rc-tooltip-arrow{display:none}',""]),module.exports=exports}}]);