(window.webpackJsonp=window.webpackJsonp||[]).push([[308],{"./frontend/src/scenes/plugins/Plugins.tsx":function(ve,F,s){"use strict";s.r(F),s.d(F,"scene",function(){return _n}),s.d(F,"Plugins",function(){return Ze});var ye=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),qe=s.n(ye),_e=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss"),Re=s.n(_e),Pe={};Pe.insert="head",Pe.singleton=!1;var at=qe()(Re.a,Pe),rt=Re.a.locals||{},Ue=s("./node_modules/react/index.js"),en=s("./frontend/src/scenes/plugins/edit/PluginDrawer.tsx"),nn=s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ne=s.n(nn),tn=s("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Be=s.n(tn),lt=s("./node_modules/core-js/modules/es.array.filter.js"),it=s("./node_modules/core-js/modules/es.object.to-string.js"),ot=s("./node_modules/core-js/modules/es.array.includes.js"),dt=s("./node_modules/core-js/modules/es.string.includes.js"),ct=s("./node_modules/core-js/modules/es.array.concat.js"),ut=s("./node_modules/core-js/modules/es.array.map.js"),gt=s("./node_modules/core-js/modules/es.function.name.js"),jt=s("./node_modules/core-js/modules/es.symbol.js"),pt=s("./node_modules/core-js/modules/es.symbol.description.js"),f=s("./node_modules/antd/es/row/index.js"),h=s("./node_modules/antd/es/col/index.js"),c=s("./node_modules/kea/lib/index.esm.js"),o=s("./frontend/src/scenes/plugins/pluginsLogic.ts"),bt=s("./node_modules/core-js/modules/es.string.starts-with.js"),W=s("./node_modules/antd/es/space/index.js"),O=s("./node_modules/antd/es/button/index.js"),J=s("./node_modules/antd/es/card/index.js"),T=s("./node_modules/antd/es/tag/index.js"),sn=s("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Fe=s("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),an=s("./node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),rn=s("./node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),De=s("./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),we=s("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),ln=s("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),on=s("./node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),dn=s("./node_modules/@ant-design/icons/es/icons/UnorderedListOutlined.js"),cn=s("./node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),$=s("./node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js"),un=s("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),gn=s("./node_modules/antd/es/popover/index.js"),jn=s("./node_modules/@ant-design/icons/es/icons/ClearOutlined.js"),re=s("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),He=s("./frontend/src/lib/dayjs.ts"),e=s("./node_modules/react/jsx-runtime.js");function Q(n){var t=n.error,a=n.reset;return t?Object(e.jsx)(gn.a,{title:Object(e.jsx)("div",{style:{textAlign:"center"},children:Object(He.a)(t.time).format("YYYY-MM-DD - HH:mm:ss")}),content:Object(e.jsxs)(e.Fragment,{children:[a?Object(e.jsxs)(O.a,{size:"small",onClick:a,style:{float:"right",marginLeft:10},children:[Object(e.jsx)(jn.a,{})," Delete"]}):null,Object(e.jsxs)("div",{children:[t.name?Object(e.jsxs)("strong",{children:[t.name,": "]}):"",t.message]}),t.stack?Object(e.jsx)(re.a,{wrap:!0,style:{fontSize:10},language:re.b.JavaScript,children:t.stack}):null,t.event?Object(e.jsx)(re.a,{wrap:!0,style:{fontSize:10},language:re.b.JSON,children:JSON.stringify(t.event,null,2)}):null]}),trigger:"click",placement:"top",children:Object(e.jsx)(T.a,{color:"red",style:{cursor:"pointer"},children:"ERROR"})}):null}try{Q.displayName="PluginError",Q.__docgenInfo={description:"",displayName:"PluginError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"PluginErrorType"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"]={docgenInfo:Q.__docgenInfo,name:"PluginError",path:"frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"})}catch(n){}var pn=s("./frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx"),P=s("./frontend/src/scenes/plugins/types.ts"),bn=s("./frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx"),C=s("./frontend/src/lib/components/Tooltip.tsx");function le(n){var t=n.isCommunity;return Object(e.jsx)(C.a,{title:t?"This app was built by a community memeber, not the PostHog team.":"This app was built by the PostHog team.",children:Object(e.jsx)(T.a,{color:t?"cyan":"geekblue",children:t?"Community":"Official"})})}try{le.displayName="CommunityPluginTag",le.__docgenInfo={description:"",displayName:"CommunityPluginTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"]={docgenInfo:le.__docgenInfo,name:"CommunityPluginTag",path:"frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"})}catch(n){}var mt=s("./node_modules/core-js/modules/es.regexp.exec.js"),ht=s("./node_modules/core-js/modules/es.string.match.js");function ze(n){var t=n.tag;return t.match(/^[a-f0-9]{40}$/)?Object(e.jsx)("code",{children:t.substring(0,7)}):Object(e.jsx)("code",{children:t})}function ie(n){var t=n.url,a=n.tag,r=n.latestTag,l="";return t.match(/^https:\/\/(www.|)github.com\//)&&(l="".concat(t,"/compare/").concat(a,"...").concat(r)),t.match(/^https:\/\/(www.|)gitlab.com\//)&&(l="".concat(t,"/-/compare/").concat(a,"...").concat(r)),Object(e.jsx)(C.a,{title:Object(e.jsxs)("div",{children:["Installed: ",Object(e.jsx)(ze,{tag:a}),Object(e.jsx)("br",{}),"Latest: ",Object(e.jsx)(ze,{tag:r}),l?Object(e.jsx)("div",{style:{marginTop:10},children:"Click to see the diff"}):null]}),children:l?Object(e.jsx)("a",{href:l,target:"_blank",rel:"noreferrer noopener",children:Object(e.jsxs)(T.a,{color:"volcano",style:{cursor:"pointer"},children:[Object(e.jsx)($.a,{})," Update available!"]})}):Object(e.jsxs)(T.a,{color:"volcano",children:[Object(e.jsx)($.a,{})," Update available!"]})})}try{ie.displayName="UpdateAvailable",ie.__docgenInfo={description:"",displayName:"UpdateAvailable",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string"}},latestTag:{defaultValue:null,description:"",name:"latestTag",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"]={docgenInfo:ie.__docgenInfo,name:"UpdateAvailable",path:"frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"})}catch(n){}var X=s("./frontend/src/scenes/userLogic.ts"),Ye=s("./frontend/src/lib/utils.tsx"),U=s("./frontend/src/scenes/plugins/access.ts"),oe=function(t){var a=t.updateStatus,r=t.pluginId,l=t.rearranging,i=Object(c.useActions)(o.b),u=i.editPlugin,g=i.updatePlugin,p=Object(c.useValues)(o.b),d=p.pluginsUpdating;return Object(e.jsx)(O.a,{type:a!=null&&a.updated?"default":"primary",className:"padding-under-500",onClick:function(){return a!=null&&a.updated?u(r):g(r)},loading:d.includes(r),icon:a!=null&&a.updated?Object(e.jsx)(we.a,{}):Object(e.jsx)($.a,{}),disabled:l,"data-attr":"plugin-update",children:Object(e.jsx)("span",{className:"show-over-500",children:a!=null&&a.updated?"Updated":"Update"})})};try{oe.displayName="PluginUpdateButton",oe.__docgenInfo={description:"",displayName:"PluginUpdateButton",props:{updateStatus:{defaultValue:null,description:"",name:"updateStatus",required:!0,type:{name:"PluginUpdateStatusType | undefined"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"]={docgenInfo:oe.__docgenInfo,name:"PluginUpdateButton",path:"frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"})}catch(n){}var z=s("./frontend/@posthog/lemon-ui/src/index.ts"),mn=s("./frontend/src/scenes/organizationLogic.tsx"),hn=s("./frontend/src/lib/constants.tsx"),Me=s("./frontend/src/scenes/urls.ts"),On=s("./node_modules/antd/es/badge/index.js"),fn=s("./frontend/src/lib/components/Link.tsx");function de(n){var t=n.deliveryRate,a=n.pluginConfigId,r=xn(t),l=Be()(r,2),i=l[0],u=l[1];return Object(e.jsx)(C.a,{title:u,children:Object(e.jsx)(fn.a,{to:Me.a.appMetrics(a),children:Object(e.jsx)(On.a,{color:i})})})}function xn(n){if(n===null)return["grey","No events processed by this app in the past 24 hours"];var t="red";return n>=.99?t="green":n>=.75&&(t="yellow"),[t,"Delivery rate for past 24 hours: ".concat(Math.floor(n*1e3)/10,"%")]}try{de.displayName="DeliveryRateBadge",de.__docgenInfo={description:"",displayName:"DeliveryRateBadge",props:{deliveryRate:{defaultValue:null,description:"",name:"deliveryRate",required:!0,type:{name:"number | null"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/DeliveryRateBadge.tsx#DeliveryRateBadge"]={docgenInfo:de.__docgenInfo,name:"DeliveryRateBadge",path:"frontend/src/scenes/plugins/plugin/DeliveryRateBadge.tsx#DeliveryRateBadge"})}catch(n){}function ce(n){var t=n.url,a=n.disabled,r=a===void 0?!1:a;return Object(e.jsx)(W.b,{children:Object(e.jsx)(C.a,{title:"About",children:Object(e.jsx)(z.Link,{to:t,target:"_blank",children:Object(e.jsx)(O.a,{disabled:r,children:Object(e.jsx)(sn.a,{})})})})})}function Y(n){var t,a,r=n.plugin,l=n.error,i=n.maintainer,u=n.showUpdateButton,g=n.order,p=n.maxOrder,d=n.rearranging,j=n.DragColumn,S=j===void 0?function(G){var st=G.children;return Object(e.jsx)(h.a,{className:"order-handle",children:st})}:j,x=n.unorderedPlugin,B=x===void 0?!1:x,E=r.name,_=r.description,m=r.url,D=r.plugin_type,b=r.pluginConfig,V=r.tag,ee=r.latest_tag,R=r.id,w=r.updateStatus,ge=r.hasMoved,y=r.is_global,v=r.organization_id,ne=r.organization_name,A=Object(c.useActions)(o.b),je=A.editPlugin,Le=A.toggleEnabled,Ie=A.installPlugin,pe=A.resetPluginConfigError,k=A.rearrange,be=A.showPluginLogs,me=A.showPluginHistory,H=Object(c.useValues)(o.b),he=H.loading,te=H.installingPluginUrl,Ee=H.checkingForUpdates,Oe=H.pluginUrlToMaintainer,fe=H.showAppMetricsForPlugin,se=Object(c.useValues)(mn.a),xe=se.currentOrganization,Ve=Object(c.useValues)(X.a),ae=Ve.user,nt=i||r.url&&Oe[r.url],tt=i||Oe[r.url||""];return Object(e.jsx)(h.a,{style:{width:"100%",marginBottom:20},className:"plugins-scene-plugin-card-col".concat(d?" rearranging":""),"data-attr":"plugin-card-".concat(b?"installed":"available"),children:Object(e.jsx)(J.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(f.a,{align:"middle",className:"plugin-card-row",children:[typeof g=="number"&&typeof p=="number"?Object(e.jsxs)(S,{children:[Object(e.jsx)("div",{className:"arrow".concat(g===1?" hide":""),children:Object(e.jsx)(Fe.a,{})}),Object(e.jsx)("div",{children:Object(e.jsx)(T.a,{color:ge?"#bd0225":"#555",onClick:k,children:g})}),Object(e.jsx)("div",{className:"arrow".concat(g===p?" hide":""),children:Object(e.jsx)(Fe.a,{})})]}):null,B?Object(e.jsx)(C.a,{title:"This app does not do any processing in order.",placement:"topRight",children:Object(e.jsx)(h.a,{children:Object(e.jsx)(T.a,{color:"#555",children:"-"})})}):null,b&&Object(e.jsx)(h.a,{children:b.id?Object(e.jsx)(z.LemonSwitch,{checked:(t=b.enabled)!==null&&t!==void 0?t:!1,disabled:d,onChange:function(){return Le({id:b.id,enabled:!b.enabled})}}):Object(e.jsx)(C.a,{title:"Please configure this plugin before enabling it",children:Object(e.jsx)(z.LemonSwitch,{checked:!1,disabled:!0})})}),Object(e.jsx)(h.a,{className:b?"hide-plugin-image-below-500":"",children:Object(e.jsx)(un.a,{pluginType:D,url:m})}),Object(e.jsxs)(h.a,{style:{flex:1},children:[Object(e.jsxs)("div",{children:[Object(e.jsxs)("strong",{style:{marginRight:8},children:[fe(r)&&(b==null?void 0:b.id)&&Object(e.jsx)(de,{deliveryRate:(a=b.delivery_rate_24h)!==null&&a!==void 0?a:null,pluginConfigId:b.id}),E]}),nt&&Object(e.jsx)(le,{isCommunity:tt==="community"}),b!=null&&b.error?Object(e.jsx)(Q,{error:b.error,reset:function(){return pe((b==null?void 0:b.id)||0)}}):l?Object(e.jsx)(Q,{error:l}):null,y&&!!xe&&xe.plugins_access_level>=hn.v.Install&&Object(e.jsx)(C.a,{title:"This plugin is managed by the ".concat(ne," organization"),children:Object(e.jsx)(T.a,{color:"blue",icon:Object(e.jsx)(an.a,{}),children:"Global"})}),Object(U.c)(ae==null?void 0:ae.organization,v)&&Object(e.jsxs)(e.Fragment,{children:[m!=null&&m.startsWith("file:")?Object(e.jsx)(pn.a,{url:m,title:"Local"}):null,w!=null&&w.error?Object(e.jsxs)(T.a,{color:"red",children:[Object(e.jsx)(rn.a,{})," Error checking for updates"]}):Ee&&!w&&D!==P.a.Source&&!(m!=null&&m.startsWith("file:"))?Object(e.jsxs)(T.a,{color:"blue",children:[Object(e.jsx)(De.a,{})," Checking for updates\u2026"]}):m&&ee&&V?V===ee?Object(e.jsxs)(T.a,{color:"green",children:[Object(e.jsx)(we.a,{})," Up to date"]}):Object(e.jsx)(ie,{url:m,tag:V,latestTag:ee}):null,D===P.a.Source?Object(e.jsx)(bn.a,{}):null]})]}),Object(e.jsx)("div",{children:Object(Ye.y)(_)})]}),Object(e.jsx)(h.a,{children:Object(e.jsxs)(W.b,{children:[m&&Object(e.jsx)(ce,{url:m,disabled:d}),u&&R?Object(e.jsx)(oe,{updateStatus:w,pluginId:R,rearranging:d}):R?Object(e.jsxs)(e.Fragment,{children:[fe(r)&&b!==null&&b!==void 0&&b.id?Object(e.jsx)(C.a,{title:"App metrics",children:Object(e.jsx)(O.a,{className:"padding-under-500",disabled:d,"data-attr":"app-metrics",children:Object(e.jsx)(z.Link,{to:Me.a.appMetrics(b.id),children:Object(e.jsx)(ln.a,{})})})}):null,Object(e.jsx)(C.a,{title:"Activity history",children:Object(e.jsx)(O.a,{className:"padding-under-500",disabled:d,onClick:function(){return me(R)},"data-attr":"plugin-history",children:Object(e.jsx)(on.a,{})})}),Object(e.jsx)(C.a,{title:b!=null&&b.id?"Logs":"Logs \u2013 enable the app for the first time to view them",children:Object(e.jsx)(O.a,{className:"padding-under-500",disabled:d||!(b!=null&&b.id),onClick:function(){return be(R)},"data-attr":"plugin-logs",children:Object(e.jsx)(dn.a,{})})}),Object(e.jsx)(C.a,{title:"Configure",children:Object(e.jsx)(O.a,{type:"primary",className:"padding-under-500",disabled:d,onClick:function(){return je(R)},"data-attr":"plugin-configure",children:Object(e.jsx)(cn.a,{})})})]}):R?null:Object(e.jsx)(O.a,{type:"primary",className:"padding-under-500",loading:he&&te===m,disabled:he&&te!==m,onClick:m?function(){return Ie(m,P.a.Repository)}:void 0,icon:Object(e.jsx)($.a,{}),"data-attr":"plugin-install",children:Object(e.jsx)("span",{className:"show-over-500",children:"Install"})})]})})]})})})}try{ce.displayName="PluginAboutButton",ce.__docgenInfo={description:"",displayName:"PluginAboutButton",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"]={docgenInfo:ce.__docgenInfo,name:"PluginAboutButton",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"})}catch(n){}try{Y.displayName="PluginCard",Y.__docgenInfo={description:"",displayName:"PluginCard",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"Partial<PluginTypeWithConfig>"}},pluginConfig:{defaultValue:null,description:"",name:"pluginConfig",required:!1,type:{name:"PluginConfigType"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"PluginErrorType"}},maintainer:{defaultValue:null,description:"",name:"maintainer",required:!1,type:{name:"string"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:{value:'({ children }) => <Col className="order-handle">{children}</Col>'},description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"]={docgenInfo:Y.__docgenInfo,name:"PluginCard",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"})}catch(n){}var L=s("./frontend/src/lib/components/PageHeader.tsx"),Z=s("./node_modules/antd/es/skeleton/index.js");function Ke(){return Object(e.jsx)(e.Fragment,{children:[1,2,3].map(function(n){return Object(e.jsx)(h.a,{style:{marginBottom:20,width:"100%"},className:"plugins-scene-plugin-card-col",children:Object(e.jsx)(J.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(f.a,{align:"middle",className:"plugin-card-row",children:[Object(e.jsx)(h.a,{className:"hide-plugin-image-below-500",children:Object(e.jsx)(Z.a.Avatar,{active:!0,size:"large",shape:"square"})}),Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Z.a,{title:!1,paragraph:{rows:2},active:!0})}),Object(e.jsxs)(h.a,{children:[Object(e.jsx)("span",{className:"show-over-500",children:Object(e.jsx)(Z.a.Button,{style:{width:100}})}),Object(e.jsx)("span",{className:"hide-over-500",children:Object(e.jsx)(Z.a.Button,{style:{width:32}})})]})]})})},n)})})}function ke(){var n=Object(c.useValues)(o.b),t=n.searchTerm,a=n.rearranging,r=Object(c.useActions)(o.b),l=r.setSearchTerm;return Object(e.jsx)(z.LemonInput,{type:"search","data-attr":"plugins-search",placeholder:"Start typing to search for an app",autoFocus:!0,value:t||"",onChange:l,disabled:a})}var q=s("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),M=s("./node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js"),I;(function(n){n.Official="official",n.Community="community"})(I||(I={}));function vn(){var n=Object(c.useValues)(o.b),t=n.repositoryLoading,a=n.filteredUninstalledPlugins,r=Object(Ue.useState)([I.Official,I.Community]),l=Be()(r,2),i=l[0],u=l[1],g=a.filter(function(j){return j.maintainer==="official"}),p=a.filter(function(j){return j.maintainer==="community"}),d=function(S){if(i.includes(S)){u(i.filter(function(x){return S!==x}));return}u([].concat(Ne()(i),[S]))};return Object(e.jsxs)("div",{children:[Object(e.jsx)(L.b,{subtitle:"App Repository"}),Object(e.jsx)(ke,{}),Object(e.jsx)("div",{children:(!t||a.length>0)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)(f.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:function(){return d(I.Official)},children:Object(e.jsx)(L.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[i.includes(I.Official)?Object(e.jsx)(q.a,{}):Object(e.jsx)(M.a,{})," Official apps (".concat(g.length,")")]})})}),i.includes(I.Official)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(h.a,{span:24,children:g.length>0?"Official apps are built and maintained by the PostHog team.":"You have already installed all official apps!"}),Object(e.jsx)("br",{}),g.map(function(j){return Object(e.jsx)(Y,{plugin:{name:j.name,url:j.url,description:j.description},maintainer:j.maintainer},j.url)})]})]}),Object(e.jsxs)(f.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:function(){return d(I.Community)},children:Object(e.jsx)(L.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[i.includes(I.Community)?Object(e.jsx)(q.a,{}):Object(e.jsx)(M.a,{})," Community apps (".concat(p.length,")")]})})}),i.includes(I.Community)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(h.a,{span:24,children:p.length>0?Object(e.jsxs)("span",{children:["Community apps are not built nor maintained by the PostHog team."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",rel:"noopener",children:"Anyone, including you, can build an app."})]}):"You have already installed all community apps!"}),Object(e.jsx)("br",{}),p.map(function(j){return Object(e.jsx)(Y,{plugin:{name:j.name,url:j.url,description:j.description},maintainer:j.maintainer},j.url)})]})]})]})}),t&&a.length===0&&Object(e.jsx)(f.a,{gutter:16,children:Object(e.jsx)(Ke,{})})]})}var Ot=s("./node_modules/core-js/modules/es.object.values.js"),yn=s("./node_modules/antd/es/checkbox/index.js"),Pn=s("./node_modules/antd/lib/input/Search.js"),Cn=s.n(Pn),Sn=s("./frontend/src/lib/components/ResizableTable/index.tsx"),K=s("./frontend/src/types.ts"),Ge=s("./frontend/src/scenes/plugins/plugin/pluginLogsLogic.ts");function Tn(n){var t;switch(n){case K.J.Debug:t="var(--muted)";break;case K.J.Log:t="var(--default)";break;case K.J.Info:t="var(--blue)";break;case K.J.Warn:t="var(--warning)";break;case K.J.Error:t="var(--danger)";break;default:break}return Object(e.jsx)("span",{style:{color:t},children:n})}var An=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",span:3,render:function(t){return Object(He.a)(t).format("YYYY-MM-DD HH:mm:ss.SSS UTC")}},{title:"Source",key:"source",dataIndex:"source",span:1},{title:"Type",key:"type",dataIndex:"type",span:1,render:Tn},{title:"Message",key:"message",dataIndex:"message",span:6}];function ue(n){var t=n.pluginConfigId,a=Object(Ge.b)({pluginConfigId:t}),r=Object(c.useValues)(a),l=r.pluginLogs,i=r.pluginLogsLoading,u=r.pluginLogsBackground,g=r.isThereMoreToLoad,p=r.pluginLogsTypes,d=Object(c.useActions)(a),j=d.revealBackground,S=d.loadPluginLogsMore,x=d.setPluginLogsTypes,B=d.setSearchTerm;return Object(e.jsxs)(W.b,{direction:"vertical",style:{flexGrow:1},className:"ph-no-capture plugin-logs",children:[Object(e.jsx)(f.a,{children:Object(e.jsx)(Cn.a,{loading:i,onSearch:B,placeholder:"Search for messages containing\u2026",allowClear:!0})}),Object(e.jsx)(f.a,{children:Object(e.jsxs)(W.b,{children:[Object(e.jsx)("span",{children:"Show logs of type:\xA0"}),Object(e.jsx)(yn.a.Group,{options:Object.values(K.J),value:p,onChange:x,style:{marginLeft:"8px"}})]})}),Object(e.jsx)(f.a,{children:Object(e.jsx)(O.a,{onClick:j,loading:i,style:{flexGrow:1},disabled:!u.length,icon:Object(e.jsx)(De.a,{}),children:u.length?"Load ".concat(Object(Ye.sb)(u.length,"newer entry","newer entries")):"No new entries"})}),Object(e.jsx)(Sn.b,{dataSource:l,columns:An,loading:i,size:"small",className:"ph-no-capture",rowKey:"id",style:{flexGrow:1,whiteSpace:"pre-wrap",overflowWrap:"anywhere"},pagination:{pageSize:200,hideOnSinglePage:!0}}),!!l.length&&Object(e.jsx)(f.a,{children:Object(e.jsx)(O.a,{onClick:S,loading:i,style:{flexGrow:1},disabled:!g,children:g?"Load up to ".concat(Ge.a," older entries"):"No older entries"})})]})}try{ue.displayName="PluginLogs",ue.__docgenInfo={description:"",displayName:"PluginLogs",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"]={docgenInfo:ue.__docgenInfo,name:"PluginLogs",path:"frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"})}catch(n){}var We=s("./node_modules/antd/es/drawer/index.js");function Ln(){var n=Object(c.useValues)(o.b),t=n.showingLogsPlugin,a=n.lastShownLogsPlugin,r=Object(c.useActions)(o.b),l=r.hidePluginLogs;return Object(e.jsx)(We.a,{visible:!!t,onClose:l,width:"min(90vw, 80rem)",title:"Viewing App Logs: ".concat(a==null?void 0:a.name),placement:"left",destroyOnClose:!0,children:!!(a!=null&&a.pluginConfig.id)&&Object(e.jsx)(ue,{pluginConfigId:a.pluginConfig.id})})}var In=s("./node_modules/antd/es/empty/index.js");function En(){var n=Object(c.useActions)(o.b),t=n.setPluginTab,a=Object(c.useValues)(o.b),r=a.loading,l=Object(c.useValues)(X.a),i=l.user;return Object(e.jsx)(e.Fragment,{children:r?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(L.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[" ",Object(e.jsx)(M.a,{})," ","Enabled apps"," "]}),buttons:Object(e.jsx)(Z.a.Button,{style:{width:150}})}),Object(e.jsx)(Ke,{})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(L.b,{subtitle:"Installed apps"}),Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:Object(e.jsx)(h.a,{span:24,children:Object(e.jsx)(In.a,{description:Object(e.jsx)("span",{children:"You haven't installed any apps yet"}),children:Object(U.b)(i==null?void 0:i.organization)&&Object(e.jsx)(O.a,{type:"default",onClick:function(){return t(P.c.Repository)},children:"Open the App Repository"})})})})]})})}function N(n){var t=n.plugin,a=n.showUpdateButton,r=n.order,l=n.maxOrder,i=n.rearranging,u=n.DragColumn,g=n.unorderedPlugin,p=g===void 0?!1:g;return Object(e.jsx)(Y,{plugin:t,showUpdateButton:a,order:r,maxOrder:l,rearranging:i,DragColumn:u,unorderedPlugin:p},t.id)}try{N.displayName="InstalledPlugin",N.__docgenInfo={description:"",displayName:"InstalledPlugin",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:null,description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"]={docgenInfo:N.__docgenInfo,name:"InstalledPlugin",path:"frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"})}catch(n){}function Vn(){var n=Object(c.useValues)(o.b),t=n.filteredDisabledPlugins,a=n.sectionsOpen,r=n.disabledPlugins,l=Object(c.useActions)(o.b),i=l.toggleSectionOpen;return r.length===0?Object(e.jsx)(e.Fragment,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:function(){return i(o.a.Disabled)},children:Object(e.jsx)(L.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[a.includes(o.a.Disabled)?Object(e.jsx)(q.a,{}):Object(e.jsx)(M.a,{})," Installed apps (".concat(t.length,")")]})})}),a.includes(o.a.Disabled)?Object(e.jsx)(e.Fragment,{children:t.length>0?Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:t.map(function(u){return Object(e.jsx)(N,{plugin:u},u.id)})}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):null]})}var ft=s("./node_modules/core-js/modules/es.object.keys.js"),Rn=s("./node_modules/@ant-design/icons/es/icons/SyncOutlined.js");function Un(){var n=Object(c.useActions)(o.b),t=n.checkForUpdates,a=n.toggleSectionOpen,r=Object(c.useValues)(o.b),l=r.sectionsOpen,i=Object(c.useValues)(X.a),u=i.user,g=Object(c.useValues)(o.b),p=g.filteredPluginsNeedingUpdates,d=g.pluginsNeedingUpdates,j=g.checkingForUpdates,S=g.installedPluginUrls,x=g.updateStatus,B=g.rearranging,E=g.hasUpdatablePlugins,_=Object(U.c)(u==null?void 0:u.organization)&&E&&Object(e.jsx)(O.a,{type:"default",icon:d.length>0?Object(e.jsx)(Rn.a,{}):Object(e.jsx)($.a,{}),onClick:function(D){D.stopPropagation(),t(!0)},loading:j,children:j?"Checking app ".concat(Object.keys(x).length+1," out of ").concat(Object.keys(S).length):d.length>0?"Check again for updates":"Check for updates"});return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:function(){return a(o.a.Upgrade)},children:Object(e.jsx)(L.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[l.includes(o.a.Upgrade)?Object(e.jsx)(q.a,{}):Object(e.jsx)(M.a,{})," Apps to update (".concat(p.length,")")]}),buttons:!B&&_})}),l.includes(o.a.Upgrade)?Object(e.jsx)(e.Fragment,{children:d.length>0?Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:p.length>0?Object(e.jsx)(e.Fragment,{children:p.map(function(m){return Object(e.jsx)(N,{plugin:m,showUpdateButton:!0},m.id)})}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):Object(e.jsx)("p",{style:{margin:10},children:"All your apps are up to date. Great work!"})}):null]})}var xt=s("./node_modules/core-js/modules/es.array.slice.js"),vt=s("./node_modules/core-js/modules/es.array.from.js"),yt=s("./node_modules/core-js/modules/es.string.iterator.js"),Pt=s("./node_modules/core-js/modules/es.symbol.iterator.js"),Ct=s("./node_modules/core-js/modules/es.array.iterator.js"),St=s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Tt=s("./node_modules/core-js/modules/es.array.splice.js"),Nn=s("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Bn=s("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Fn=s("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),Ce=s("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js");function Dn(n,t){var a=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=wn(n))||t&&n&&typeof n.length=="number"){a&&(n=a);var r=0,l=function(){};return{s:l,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(d){throw d},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,u=!1,g;return{s:function(){a=a.call(n)},n:function(){var d=a.next();return i=d.done,d},e:function(d){u=!0,g=d},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(u)throw g}}}}function wn(n,t){if(!!n){if(typeof n=="string")return Je(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Je(n,t)}}function Je(n,t){(t==null||t>n.length)&&(t=n.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=n[a];return r}var Hn=Object(Ce.c)(function(n){var t=n.children;return Object(e.jsx)(h.a,{className:"order-handle",children:t})}),zn=Object(Ce.b)(function(n){var t=n.plugin,a=n.order,r=n.maxOrder,l=n.rearranging;return Object(e.jsx)(N,{plugin:t,order:a,maxOrder:r,rearranging:l,DragColumn:Hn})}),Yn=Object(Ce.a)(function(n){var t=n.children;return Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:t})});function Mn(){var n=Object(c.useValues)(X.a),t=n.user,a=Object(c.useActions)(o.b),r=a.rearrange,l=a.setTemporaryOrder,i=a.cancelRearranging,u=a.savePluginOrders,g=a.makePluginOrderSaveable,p=a.toggleSectionOpen,d=Object(c.useValues)(o.b),j=d.enabledPlugins,S=d.filteredEnabledPlugins,x=d.sortableEnabledPlugins,B=d.unsortableEnabledPlugins,E=d.rearranging,_=d.loading,m=d.temporaryOrder,D=d.pluginOrderSaveable,b=d.searchTerm,V=d.sectionsOpen,ee=Object(U.a)(t==null?void 0:t.organization)&&x.length>1,R=E?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(O.a,{type:"primary",icon:Object(e.jsx)(Nn.a,{}),loading:_,onClick:function(v){v.stopPropagation(),u(m)},disabled:!D,children:"Save order"}),Object(e.jsx)(O.a,{type:"default",icon:Object(e.jsx)(Bn.a,{}),onClick:function(v){i(),v.stopPropagation()},children:"Cancel"})]}):Object(e.jsx)(C.a,{title:j.length<=1?"At least two apps need to be enabled for reordering.":Object(e.jsx)(e.Fragment,{children:b?"Editing the order of apps is disabled when searching.":Object(e.jsxs)(e.Fragment,{children:["Order matters because event processing with apps works like a pipe: the event is processed by every enabled app ",Object(e.jsx)("b",{children:"in sequence"}),"."]})}),placement:"top",children:Object(e.jsx)(O.a,{icon:Object(e.jsx)(Fn.a,{}),onClick:function(v){v.stopPropagation(),r()},disabled:!!b||x.length<=1,children:"Edit order"})}),w=function(v){var ne,A=v.oldIndex,je=v.newIndex;if(A!==je){var Le=function(Ee,Oe,fe){var se=Ne()(Ee);return Array.prototype.splice.call(se,fe,0,Array.prototype.splice.call(se,Oe,1)[0]),se.map(function(xe,Ve){var ae=xe.id;return{id:ae,order:Ve+1}})},Ie=(ne=j[A])===null||ne===void 0?void 0:ne.id,pe={},k=Dn(Le(j,A,je)),be;try{for(k.s();!(be=k.n()).done;){var me=be.value,H=me.id,he=me.order;pe[H]=he}}catch(te){k.e(te)}finally{k.f()}E||r(),l(pe,Ie)}},ge=function(){return Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:function(){return p(o.a.Enabled)},children:Object(e.jsx)(L.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[V.includes(o.a.Enabled)?Object(e.jsx)(q.a,{}):Object(e.jsx)(M.a,{})," Enabled apps (".concat(S.length,")"),E&&V.includes(o.a.Enabled)&&Object(e.jsx)(T.a,{color:"red",style:{fontWeight:"normal",marginLeft:10},children:"Reordering in progress"})]}),buttons:Object(e.jsx)(W.b,{children:V.includes(o.a.Enabled)&&R})})})};return j.length===0?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ge,{}),V.includes(o.a.Enabled)&&Object(e.jsx)("p",{style:{margin:10},children:"No apps enabled."})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ge,{}),V.includes(o.a.Enabled)&&Object(e.jsxs)(e.Fragment,{children:[x.length===0&&B.length===0&&Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."}),ee||E?Object(e.jsx)(e.Fragment,{children:x.length>0&&Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(Yn,{useDragHandle:!0,onSortEnd:w,onSortOver:g,children:x.map(function(y,v){return Object(e.jsx)(zn,{plugin:y,index:v,order:v+1,maxOrder:j.length,rearranging:E},y.id)})})})}):Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:x.length>0&&Object(e.jsx)(e.Fragment,{children:x.map(function(y,v){return Object(e.jsx)(N,{plugin:y,order:v+1,maxOrder:S.length},y.id)})})}),B.map(function(y){return Object(e.jsx)(N,{plugin:y,maxOrder:j.length,rearranging:E,unorderedPlugin:!0},y.id)})]})]})}var $e=s("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),Qe=s("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx");function Kn(){var n=Object(c.useValues)(o.b),t=n.showingHistoryPlugin,a=Object(c.useActions)(o.b),r=a.hidePluginHistory;return Object(e.jsx)(We.a,{visible:!!t,onClose:r,width:"min(90vw, 80rem)",title:"Activity History",placement:"left",destroyOnClose:!0,children:Object(e.jsx)($e.a,{scope:Qe.a.PLUGIN,id:t==null?void 0:t.pluginConfig.id})})}function kn(){var n=Object(c.useValues)(o.b),t=n.installedPlugins;return t.length===0?Object(e.jsx)(En,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{children:[Object(e.jsx)(ke,{}),Object(e.jsx)(Un,{}),Object(e.jsx)(Mn,{}),Object(e.jsx)(Vn,{})]}),Object(e.jsx)(Ln,{}),Object(e.jsx)(Kn,{})]})}var Xe=s("./node_modules/antd/es/tabs/index.js"),Gn=s("./node_modules/antd/es/alert/index.js"),Se=s("./node_modules/antd/es/input/index.js"),Wn=s("./node_modules/antd/lib/typography/Title.js"),Te=s.n(Wn),Jn=s("./node_modules/antd/lib/typography/Paragraph.js"),Ae=s.n(Jn);function $n(){var n=Object(c.useValues)(o.b),t=n.sourcePluginName,a=n.pluginError,r=n.loading,l=Object(c.useActions)(o.b),i=l.setSourcePluginName,u=l.installPlugin;return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(J.a,{children:[Object(e.jsx)(Te.a,{level:5,children:"App editor"}),Object(e.jsxs)(Ae.a,{children:["Write your app directly in PostHog."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps",target:"_blank",children:"Read the documentation for more information!"})]}),Object(e.jsxs)(f.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Se.a,{value:t,disabled:r,onChange:function(p){return i(p.target.value)},placeholder:'For example: "Hourly Weather Sync App"'})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(O.a,{disabled:r||!t,loading:r,type:"default",onClick:function(){return u(t,P.a.Source)},children:"Start coding"})})]}),a?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:a}):null]})})}function Qn(){var n=Object(c.useValues)(o.b),t=n.customPluginUrl,a=n.pluginError,r=n.loading,l=Object(c.useActions)(o.b),i=l.setCustomPluginUrl,u=l.installPlugin;return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(J.a,{children:[Object(e.jsx)(Te.a,{level:5,children:"Install from GitHub, GitLab or npm"}),Object(e.jsxs)(Ae.a,{children:["To install a third-party or custom app, paste its URL below. For"," ",Object(e.jsx)("a",{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", ",Object(e.jsx)("a",{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",rel:"noopener noreferrer",children:"GitLab"})," and ",Object(e.jsx)("a",{href:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",rel:"noopener noreferrer",children:"npm"})," ","private repositories, append ",Object(e.jsx)("code",{children:"?private_token=TOKEN"})," to the end of the URL.",Object(e.jsx)("br",{}),Object(e.jsx)("b",{className:"text-warning",children:"Warning: Only install apps from trusted sources."})]}),Object(e.jsxs)(f.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Se.a,{value:t,disabled:r,onChange:function(p){return i(p.target.value)},placeholder:"https://github.com/user/repo"})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(O.a,{disabled:r||!t,loading:r,type:"default",onClick:function(){return u(t,P.a.Custom)},children:"Fetch and install"})})]}),a?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:a}):null]})})}function Xn(){var n=Object(c.useValues)(o.b),t=n.localPluginUrl,a=n.pluginError,r=n.loading,l=Object(c.useActions)(o.b),i=l.setLocalPluginUrl,u=l.installPlugin;return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(J.a,{children:[Object(e.jsx)(Te.a,{level:5,children:"Install Local App"}),Object(e.jsx)(Ae.a,{children:"To install a local app from this computer/server, give its full path below."}),Object(e.jsxs)(f.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Se.a,{value:t,disabled:r,onChange:function(p){return i(p.target.value)},placeholder:"/var/posthog/plugins/helloworldplugin"})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(O.a,{disabled:r||!t,loading:r,type:"default",onClick:function(){return u(t,P.a.Local)},children:"Install"})})]}),a?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:a}):null]})})}var Zn=s("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function qn(){var n=Object(c.useValues)(Zn.a),t=n.preflight,a=Object(c.useActions)(o.b),r=a.setPluginTab;return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Gn.a,{message:"Advanced features ahead",description:Object(e.jsxs)(e.Fragment,{children:["Create and install your ",Object(e.jsx)("b",{children:"own apps"})," or apps from ",Object(e.jsx)("b",{children:"third-parties"}),". If you're looking for officially supported apps, try the"," ",Object(e.jsx)("a",{href:"#",onClick:function(i){i.preventDefault(),r(P.c.Repository)},children:"App Repository"}),"."]}),type:"warning",showIcon:!0}),Object(e.jsx)(L.b,{subtitle:"Advanced Options"}),Object(e.jsx)($n,{}),Object(e.jsx)(Qn,{}),t&&!t.cloud&&Object(e.jsx)(Xn,{})]})}var _n={component:Ze,logic:o.b},et=function(){return Object(e.jsx)(z.LemonTag,{type:"warning",className:"uppercase",style:{verticalAlign:"0.125em",marginLeft:6},children:"BETA"})};function Ze(){var n=Object(c.useValues)(X.a),t=n.user,a=Object(c.useValues)(o.b),r=a.pluginTab,l=Object(c.useActions)(o.b),i=l.setPluginTab,u=Xe.a.TabPane;return Object(Ue.useEffect)(function(){Object(U.d)(t==null?void 0:t.organization)||(window.location.href="/")},[t]),!t||!Object(U.d)(t==null?void 0:t.organization)?null:Object(e.jsxs)("div",{className:"plugins-scene",children:[Object(e.jsx)(L.a,{title:"Apps",caption:Object(e.jsxs)(e.Fragment,{children:["Apps enable you to extend PostHog's core data processing functionality.",Object(e.jsx)("br",{}),"Make use of verified apps from the"," ",Object(e.jsx)("a",{href:"https://posthog.com/apps",target:"_blank",children:"App Library"})," ","\u2013 or"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",children:"build your own"}),"."]})}),Object(e.jsxs)(Xe.a,{"data-attr":"apps-tabs",activeKey:r,onChange:function(p){return i(p)},children:[Object(e.jsx)(u,{tab:"Installed",children:Object(e.jsx)(kn,{})},P.c.Installed),Object(U.b)(t.organization)?Object(e.jsx)(u,{tab:"Repository",children:Object(e.jsx)(vn,{})},P.c.Repository):null,Object(e.jsx)(u,{tab:Object(e.jsxs)(e.Fragment,{children:["History ",Object(e.jsx)(et,{})," "]}),children:Object(e.jsx)($e.a,{scope:Qe.a.PLUGIN})},P.c.History),Object(U.c)(t.organization)?Object(e.jsx)(u,{tab:"Advanced",children:Object(e.jsx)(qn,{})},P.c.Advanced):null]}),Object(e.jsx)(en.a,{})]})}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss":function(ve,F,s){var ye=s("./node_modules/css-loader/dist/runtime/api.js");F=ye(!1),F.push([ve.i,".plugins-scene{padding-bottom:60px}.plugins-installed-tab-section-header:hover,.plugins-repository-tab-section-header:hover{cursor:pointer}.plugins-repository-tab-section-header{margin-left:5px}.plugin-capabilities-tag{cursor:default}.plugins-scene-plugin-card>.ant-card-body{padding:15px}.plugins-scene-plugin-card .plugin-card-row>.ant-col{margin-right:14px}.plugins-scene-plugin-card .plugin-card-row>.ant-col:last-child{margin-right:0}.plugins-scene-plugin-card a.plugin-title-link{color:var(--color-text)}.plugins-scene-plugin-card a.plugin-title-link:hover{text-decoration:underline}.plugins-scene-plugin-card .plugin-image{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;border:none;padding:4px}.plugins-scene-plugin-card .order-handle{cursor:move;text-align:center;height:100%;margin-top:-10px;margin-bottom:-10px}.plugins-scene-plugin-card .order-handle .ant-tag{margin-right:0;cursor:move}.plugins-scene-plugin-card .order-handle .arrow{color:#888;height:19px}.plugins-scene-plugin-card .order-handle .arrow.hide{visibility:hidden}.plugins-scene-plugin-card .hide-over-500{display:none}@media(max-width:500px){.plugins-scene-plugin-card .show-over-500{display:none}.plugins-scene-plugin-card .hide-over-500{display:inline-block}.plugins-scene-plugin-card button.ant-btn.padding-under-500{padding:4px 8px}.plugins-scene-plugin-card .hide-plugin-image-below-500{display:none}}.plugins-popconfirm{z-index:var(--z-plugins-popconfirm)}.plugin-job-json-editor{border:1px solid #efefef}.plugin-run-job-button{color:var(--success);cursor:pointer}.plugin-run-job-button-disabled{color:#9a9a9a;cursor:default}",""]),ve.exports=F}}]);
