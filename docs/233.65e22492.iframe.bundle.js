(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{"./frontend/src/lib/components/CopyToClipboard.tsx":function(k,S,n){"use strict";n.d(S,"a",function(){return A});var C=n("./node_modules/core-js/modules/es.symbol.js"),B=n.n(C),L=n("./node_modules/core-js/modules/es.symbol.description.js"),y=n.n(L),e=n("./node_modules/core-js/modules/es.object.to-string.js"),h=n.n(e),R=n("./node_modules/core-js/modules/es.regexp.to-string.js"),$=n.n(R),N=n("./node_modules/@babel/runtime/helpers/extends.js"),p=n.n(N),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),j=n.n(g),M=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),T=n.n(M),P=n("./node_modules/react/index.js"),x=n.n(P),K=n("./frontend/src/lib/utils.tsx"),f=n("./frontend/src/lib/components/Tooltip.tsx"),W=n("./frontend/src/lib/components/icons.tsx"),Z=n("./frontend/src/lib/components/LemonButton/index.ts");function I(O,V){var _=Object.keys(O);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(O);V&&(Y=Y.filter(function(H){return Object.getOwnPropertyDescriptor(O,H).enumerable})),_.push.apply(_,Y)}return _}function G(O){for(var V=1;V<arguments.length;V++){var _=arguments[V]!=null?arguments[V]:{};V%2?I(Object(_),!0).forEach(function(Y){j()(O,Y,_[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(_)):I(Object(_)).forEach(function(Y){Object.defineProperty(O,Y,Object.getOwnPropertyDescriptor(_,Y))})}return O}function A(O){var V=O.children,_=O.explicitValue,Y=O.description,H=O.selectable,U=H===void 0?!1:H,me=O.isValueSensitive,je=me===void 0?!1:me,fe=O.tooltipMessage,Me=fe===void 0?null:fe,Ce=O.iconStyle,Re=Ce===void 0?{}:Ce,ve=O.iconPosition,oe=ve===void 0?"end":ve,Le=O.style,ce=T()(O,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),ue=function(){return Object(K.t)(_!=null?_:V?V.toString():"",Y)},ge=x.a.createElement("span",p()({className:je?"ph-no-capture":"",style:G({cursor:U?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:oe==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},Le),onClick:U?void 0:ue},ce),x.a.createElement("span",{style:oe==="start"?{flexGrow:1}:{}},V),x.a.createElement(Z.a,{compact:!0,icon:x.a.createElement(W.IconCopy,null),className:"copy-icon",onClick:U?ue:void 0,style:G(j()({},oe==="end"?"marginLeft":"marginRight",4),Re)}));return!U||Me!==null?x.a.createElement(f.a,{title:Me||"Click to copy"},ge):x.a.createElement(x.a.Fragment,null,ge)}try{A.displayName="CopyToClipboardInline",A.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:A.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(O){}},"./frontend/src/lib/components/LemonModal/LemonModal.tsx":function(k,S,n){"use strict";n.d(S,"a",function(){return f});var C=n("./node_modules/@babel/runtime/helpers/extends.js"),B=n.n(C),L=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),y=n.n(L),e=n("./node_modules/react/index.js"),h=n.n(e),R=n("./node_modules/antd/es/modal/index.js"),$=n("./frontend/src/lib/components/icons.tsx"),N=n("./frontend/src/lib/components/LemonButton/index.ts"),p=n("./node_modules/clsx/dist/clsx.m.js"),g=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),j=n.n(g),M=n("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/LemonModal/LemonModal.scss"),T=n.n(M),P={};P.insert="head",P.singleton=!1;var x=j()(T.a,P),K=T.a.locals||{};function f(W){var Z=W.className,I=W.footer,G=I===void 0?null:I,A=W.width,O=A===void 0?480:A,V=y()(W,["className","footer","width"]);return h.a.createElement(R.a,B()({},V,{footer:G,width:O,closeIcon:h.a.createElement(N.a,{icon:h.a.createElement($.IconClose,null),type:"stealth"}),className:Object(p.a)("LemonModal",Z)}))}try{f.displayName="LemonModal",f.__docgenInfo={description:"A lightweight wrapper over Ant's Modal for matching Lemon style.",displayName:"LemonModal",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/LemonModal/LemonModal.tsx#LemonModal"]={docgenInfo:f.__docgenInfo,name:"LemonModal",path:"frontend/src/lib/components/LemonModal/LemonModal.tsx#LemonModal"})}catch(W){}},"./frontend/src/lib/components/RestrictedArea.tsx":function(k,S,n){"use strict";n.d(S,"b",function(){return g}),n.d(S,"a",function(){return j});var C=n("./node_modules/core-js/modules/es.array.concat.js"),B=n.n(C),L=n("./node_modules/kea/lib/index.esm.js"),y=n("./node_modules/react/index.js"),e=n.n(y),h=n("./frontend/src/scenes/organizationLogic.tsx"),R=n("./frontend/src/lib/constants.tsx"),$=n("./frontend/src/lib/components/Tooltip.tsx"),N=n("./frontend/src/lib/utils/permissioning.ts"),p=n("./frontend/src/scenes/teamLogic.ts"),g;(function(M){M.Organization="organization",M.Project="project"})(g||(g={}));function j(M){var T=M.Component,P=M.minimumAccessLevel,x=M.scope,K=x===void 0?g.Organization:x,f=Object(L.useValues)(h.a),W=f.currentOrganization,Z=Object(L.useValues)(p.a),I=Z.currentTeam,G=Object(y.useMemo)(function(){var A;if(K===g.Project){if(!I)return"Loading current project\u2026";A=I.effective_membership_level}else{if(!W)return"Loading current organization\u2026";A=W.membership_level}return A===null?"You don't have access to the current ".concat(K,"."):A<P?P===R.s.Owner?"This area is restricted to the ".concat(K," owner."):"This area is restricted to ".concat(K," ").concat(N.b.get(P),"s and up. Your level is ").concat(N.b.get(A),"."):null},[W]);return G?e.a.createElement($.a,{title:G,placement:"topLeft",delayMs:0},e.a.createElement("span",null,e.a.createElement(T,{isRestricted:!0,restrictionReason:G}))):e.a.createElement(T,{isRestricted:!1,restrictionReason:null})}try{j.displayName="RestrictedArea",j.__docgenInfo={description:"",displayName:"RestrictedArea",props:{Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"(props: RestrictedComponentProps) => Element"}},minimumAccessLevel:{defaultValue:null,description:"",name:"minimumAccessLevel",required:!0,type:{name:"enum",value:[{value:"1"},{value:"8"},{value:"15"},{value:"1"},{value:"8"}]}},scope:{defaultValue:{value:"RestrictionScope.Organization"},description:"",name:"scope",required:!1,type:{name:"enum",value:[{value:'"organization"'},{value:'"project"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/RestrictedArea.tsx#RestrictedArea"]={docgenInfo:j.__docgenInfo,name:"RestrictedArea",path:"frontend/src/lib/components/RestrictedArea.tsx#RestrictedArea"})}catch(M){}try{g.Organization.displayName="RestrictionScope.Organization",g.Organization.__docgenInfo={description:"Current organization-wide membership level will be used.",displayName:"RestrictionScope.Organization",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/RestrictedArea.tsx#RestrictionScope.Organization"]={docgenInfo:g.Organization.__docgenInfo,name:"RestrictionScope.Organization",path:"frontend/src/lib/components/RestrictedArea.tsx#RestrictionScope.Organization"})}catch(M){}try{g.Project.displayName="RestrictionScope.Project",g.Project.__docgenInfo={description:"Effective level for the current project will be used.",displayName:"RestrictionScope.Project",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/RestrictedArea.tsx#RestrictionScope.Project"]={docgenInfo:g.Project.__docgenInfo,name:"RestrictionScope.Project",path:"frontend/src/lib/components/RestrictedArea.tsx#RestrictionScope.Project"})}catch(M){}},"./frontend/src/lib/forms/Field.tsx":function(k,S,n){"use strict";n.d(S,"a",function(){return j});var C=n("./node_modules/core-js/modules/es.function.name.js"),B=n.n(C),L=n("./node_modules/@babel/runtime/helpers/extends.js"),y=n.n(L),e=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),h=n.n(e),R=n("./node_modules/clsx/dist/clsx.m.js"),$=n("./node_modules/kea-forms/lib/components.js"),N=n.n($),p=n("./node_modules/react/index.js"),g=n.n(p),j=function(T){var P=T.showOptional,x=T.name,K=h()(T,["showOptional","name"]),f=function(Z){var I=Z.label,G=Z.kids,A=Z.hint,O=Z.error;return g.a.createElement("div",{className:Object(R.a)("ant-row","ant-form-item",A||O?"ant-form-item-with-help":"",O?"ant-form-item-has-error":"")},I?g.a.createElement("div",{className:"ant-col ant-form-item-label"},g.a.createElement("label",{htmlFor:String(x),title:typeof I=="string"?I:void 0},P?g.a.createElement(g.a.Fragment,null,I,P?g.a.createElement("span",{className:"ant-form-item-optional",title:""},"(optional)"):null):I)):null,g.a.createElement("div",{className:"ant-col ant-form-item-control"},g.a.createElement("div",{className:"ant-form-item-control-input"},g.a.createElement("div",{className:"ant-form-item-control-input-content"},G)),A||O?g.a.createElement("div",{className:"ant-form-item-explain ant-form-item-explain-connected"},O?g.a.createElement("div",{role:"alert",className:"ant-form-item-explain-error"},"Error: ",O):null,A?g.a.createElement("div",{role:"alert",className:"ant-form-item-explain-warning"},"Hint: ",A):null):null))};return g.a.createElement($.Field,y()({},K,{name:x,template:f}))};try{j.displayName="Field",j.__docgenInfo={description:"Compatible replacement for Form.Item",displayName:"Field",props:{showOptional:{defaultValue:null,description:"",name:"showOptional",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/forms/Field.tsx#Field"]={docgenInfo:j.__docgenInfo,name:"Field",path:"frontend/src/lib/forms/Field.tsx#Field"})}catch(M){}},"./frontend/src/lib/hooks/useAnchor.ts":function(k,S,n){"use strict";n.d(S,"a",function(){return L});var C=n("./node_modules/react/index.js"),B=n.n(C);function L(y){Object(C.useEffect)(function(){if(y&&document.getElementById(y.substr(1))){var e=document.getElementById(y.substr(1));if(!e)return;e.classList.add("highlighted");var h=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:h-50-32,behavior:"smooth"})}},[y])}},"./frontend/src/scenes/organization/Settings/index.tsx":function(k,S,n){"use strict";n.r(S),n.d(S,"scene",function(){return On}),n.d(S,"OrganizationSettings",function(){return Ue});var C=n("./node_modules/core-js/modules/es.function.name.js"),B=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),L=n.n(B),y=n("./node_modules/react/index.js"),e=n.n(y),h=n("./node_modules/antd/es/input/index.js"),R=n("./node_modules/antd/es/button/index.js"),$=n("./node_modules/antd/es/switch/index.js"),N=n("./node_modules/antd/es/card/index.js"),p=n("./node_modules/antd/es/divider/index.js"),g=n("./frontend/src/lib/components/PageHeader.tsx"),j=n("./node_modules/core-js/modules/es.array.iterator.js"),M=n("./node_modules/core-js/modules/es.object.to-string.js"),T=n("./node_modules/core-js/modules/es.string.iterator.js"),P=n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),x=n("./node_modules/core-js/modules/web.url.js"),K=n("./node_modules/antd/es/modal/index.js"),f=n("./node_modules/kea/lib/index.esm.js"),W=n("./node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js"),Z=n("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),I=n("./frontend/src/lib/components/CopyToClipboard.tsx"),G=n("./frontend/src/lib/components/ProfilePicture/index.ts"),A=n("./frontend/src/scenes/organization/Settings/inviteLogic.ts"),O=n("./frontend/src/scenes/organization/Settings/InviteModal.tsx"),V=n("./frontend/src/lib/components/LemonTable/index.ts"),_=n("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),Y=n("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),H=n("./frontend/src/lib/components/LemonButton/index.ts"),U=n("./frontend/src/lib/components/icons.tsx");function me(t,a){var i=new URL("/signup/".concat(t),document.baseURI).href;return a.is_expired?e.a.createElement("b",null,"Expired! Delete and recreate"):e.a.createElement(I.a,{"data-attr":"invite-link",description:"invite link"},i)}function je(t){return function(i,o){return e.a.createElement(H.a,{title:"Cancel the invite","data-attr":"invite-delete",icon:e.a.createElement(U.IconClose,null),status:"danger",onClick:function(){o.is_expired?t(o):K.a.confirm({title:"Do you want to cancel the invite for ".concat(o.target_email,"?"),icon:e.a.createElement(W.a,null),okText:"Yes, cancel invite",okType:"danger",onOk:function(){t(o)},cancelText:"No, keep invite"})}})}}function fe(){var t=Object(f.useValues)(A.a),a=t.invites,i=t.invitesLoading,o=Object(f.useActions)(A.a),d=o.deleteInvite,c=o.showInviteModal,s=Object(f.useValues)(Y.a),l=s.preflight,r=[{title:"Invitee",dataIndex:"target_email",key:"target_email",render:function(v,u){return u.target_email?e.a.createElement("div",{className:"flex-center"},e.a.createElement(G.a,{name:u.first_name,email:u.target_email,size:"md",style:{marginRight:8}}),u.target_email,u.first_name?" (".concat(u.first_name,")"):""):e.a.createElement("i",null,"no one")},width:"20%"},Object(_.b)(),Object(_.a)(),{title:"Invite Link",dataIndex:"id",key:"link",render:function(v,u){return me(u.id,u)}},{title:"",key:"actions",render:je(d)}];return e.a.createElement("div",null,e.a.createElement("h2",{id:"invites",className:"subtitle",style:{justifyContent:"space-between"}},"Pending Invites",e.a.createElement(R.a,{type:"primary",icon:e.a.createElement(Z.a,null),onClick:c,"data-attr":"invite-teammate-button"},"Invite team member")),!(l!=null&&l.email_service_available)&&e.a.createElement(O.a,null),e.a.createElement(V.a,{dataSource:a,columns:r,rowKey:"id",loading:i,style:{marginTop:"1rem"},"data-attr":"invites-table",emptyState:"There are no outstanding invitations. You can invite another team member above."}))}var Me=n("./node_modules/core-js/modules/es.array.concat.js"),Ce=n("./node_modules/core-js/modules/es.array.filter.js"),Re=n("./node_modules/core-js/modules/es.array.map.js"),ve=n("./node_modules/antd/es/dropdown/index.js"),oe=n("./node_modules/antd/es/menu/index.js"),Le=n("./node_modules/antd/es/table/index.js"),ce=n("./frontend/src/scenes/organization/Settings/membersLogic.tsx"),ue=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},Te=ge,we=n("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Ve=function(a,i){return y.createElement(we.a,Object(ue.a)(Object(ue.a)({},a),{},{ref:i,icon:Te}))};Ve.displayName="SwapOutlined";var Ye=y.forwardRef(Ve),_e=n("./node_modules/@ant-design/icons/es/icons/CrownFilled.js"),$e=n("./node_modules/@ant-design/icons/es/icons/UpOutlined.js"),Ze=n("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),ze=n("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"),Ge=n("./node_modules/@ant-design/icons/es/icons/LogoutOutlined.js"),He=n("./frontend/src/lib/utils.tsx"),F=n("./frontend/src/lib/constants.tsx"),q=n("./frontend/src/scenes/organizationLogic.tsx"),Ae=n("./frontend/src/scenes/userLogic.ts"),pe=n("./frontend/src/lib/components/Tooltip.tsx"),re=n("./frontend/src/lib/utils/permissioning.ts");function Qe(t){var a,i=Object(f.useValues)(Ae.a),o=i.user,d=Object(f.useValues)(q.a),c=d.currentOrganization,s=Object(f.useActions)(ce.a),l=s.changeMemberAccessLevel,r=c?c.membership_level:null;if(!o)return null;function m(E){return function(X){if(X.preventDefault(),!o)throw Error;if(E===F.s.Owner){var ne;K.a.confirm({centered:!0,title:"Transfer organization ownership to ".concat(t.user.first_name,"?"),content:"You will no longer be the owner of ".concat((ne=o.organization)===null||ne===void 0?void 0:ne.name,". After the transfer you will become an administrator."),icon:e.a.createElement(Ye,null),okType:"danger",okText:"Transfer Ownership",onOk:function(){l(t,E)}})}else l(t,E)}}var v=e.a.createElement(R.a,{"data-attr":"change-membership-level",icon:t.level===F.s.Owner?e.a.createElement(_e.a,null):void 0},(a=re.b.get(t.level))!==null&&a!==void 0?a:"unknown (".concat(t.level,")")),u=re.c.filter(function(E){return!Object(re.a)(r,o,t,E)}),D=Object(re.a)(r,o,t,u);return D?e.a.createElement(pe.a,{title:D},v):e.a.createElement(ve.a,{overlay:e.a.createElement(oe.a,null,u.map(function(E){return e.a.createElement(oe.a.Item,{key:"".concat(t.user.uuid,"-level-").concat(E)},e.a.createElement("a",{href:"#",onClick:m(E),"data-test-level":E},E===F.s.Owner?e.a.createElement(e.a.Fragment,null,e.a.createElement(_e.a,{style:{marginRight:"0.5rem"}}),"Transfer organization ownership"):E>t.level?e.a.createElement(e.a.Fragment,null,e.a.createElement($e.a,{style:{marginRight:"0.5rem"}}),"Upgrade to ",re.b.get(E)):e.a.createElement(e.a.Fragment,null,e.a.createElement(Ze.a,{style:{marginRight:"0.5rem"}}),"Downgrade to ",re.b.get(E))))}))},v)}function Je(t){var a,i=Object(f.useValues)(Ae.a),o=i.user,d=Object(f.useValues)(q.a),c=d.currentOrganization,s=Object(f.useActions)(ce.a),l=s.removeMember;if(!o)return null;var r=(a=c==null?void 0:c.membership_level)!==null&&a!==void 0?a:-1;function m(){var u;if(!o)throw Error;K.a.confirm({title:"".concat(t.user.uuid==o.uuid?"Leave":"Remove ".concat(t.user.first_name," from")," organization ").concat((u=o.organization)===null||u===void 0?void 0:u.name,"?"),icon:e.a.createElement(W.a,null),okText:t.user.uuid==o.uuid?"Leave":"Remove",okType:"danger",cancelText:"Cancel",onOk:function(){l(t)}})}var v=(r>=F.s.Admin&&t.level<=r||t.user.uuid===o.uuid)&&t.level!==F.s.Owner;return e.a.createElement("div",null,v&&e.a.createElement("a",{className:"text-danger",onClick:m,"data-attr":"delete-org-membership"},t.user.uuid!==o.uuid?e.a.createElement(ze.a,{title:"Remove from organization"}):e.a.createElement(Ge.a,{title:"Leave organization"})))}function Ee(t){var a=t.user,i=Object(f.useValues)(ce.a),o=i.members,d=i.membersLoading,c=[{key:"user_profile_picture",render:function(l,r){return e.a.createElement(G.a,{name:r.user.first_name,email:r.user.email})},width:32},{title:"Name",key:"user_first_name",render:function(l,r){return r.user.uuid==a.uuid?"".concat(r.user.first_name," (me)"):r.user.first_name},sorter:function(l,r){return l.user.first_name.localeCompare(r.user.first_name)}},{title:"Email",key:"user_email",render:function(l,r){return r.user.email},sorter:function(l,r){return l.user.email.localeCompare(r.user.email)}},{title:"Level",dataIndex:"level",key:"level",render:function(l,r){return Qe(r)},sorter:function(l,r){return l.level-r.level},defaultSortOrder:"descend"},{title:"Joined\xA0At",dataIndex:"joined_at",key:"joined_at",render:function(l){return Object(He.M)(l)},sorter:function(l,r){return l.joined_at.localeCompare(r.joined_at)},defaultSortOrder:"ascend"},{dataIndex:"actions",key:"actions",align:"center",render:function(l,r){return Je(r)}}];return e.a.createElement(e.a.Fragment,null,e.a.createElement("h2",{className:"subtitle"},"Members"),e.a.createElement(Le.a,{dataSource:o,columns:c,rowKey:"id",pagination:!1,style:{marginTop:"1rem"},loading:d,"data-attr":"org-members-table"}))}try{Ee.displayName="Members",Ee.__docgenInfo={description:"",displayName:"Members",props:{user:{defaultValue:null,description:"Currently logged-in user.",name:"user",required:!0,type:{name:"UserType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/organization/Settings/Members.tsx#Members"]={docgenInfo:Ee.__docgenInfo,name:"Members",path:"frontend/src/scenes/organization/Settings/Members.tsx#Members"})}catch(t){}var Xe=n("./node_modules/antd/lib/typography/Paragraph.js"),ke=n.n(Xe);function Oe(t){var a=t.isVisible,i=t.setIsVisible,o=Object(f.useValues)(q.a),d=o.currentOrganization,c=o.organizationBeingDeleted,s=Object(f.useActions)(q.a),l=s.deleteOrganization,r=Object(y.useState)(!1),m=L()(r,2),v=m[0],u=m[1],D=!!d&&(c==null?void 0:c.id)===d.id;return e.a.createElement(K.a,{title:"Delete the entire organization?",okText:"Delete ".concat(d?d.name:"the current organization"),onOk:d?function(){return l(d)}:void 0,okType:"primary",okButtonProps:{"data-attr":"delete-organization-ok",loading:D,disabled:!v,className:"btn-danger"},onCancel:function(){return i(!1)},cancelButtonProps:{disabled:D},visible:a},e.a.createElement("p",null,"Organization deletion ",e.a.createElement("b",null,"cannot be undone"),". You will lose all data, ",e.a.createElement("b",null,"including all events"),", related to all projects within this organization."),e.a.createElement("p",null,"Please type"," ",e.a.createElement("strong",null,d?d.name:"this organization's name")," to confirm."),e.a.createElement(h.a,{type:"text",onChange:function(z){if(d){var X=z.target.value;u(X.toLowerCase()===d.name.toLowerCase())}}}))}function he(t){var a=t.isRestricted,i=Object(f.useValues)(q.a),o=i.currentOrganization,d=Object(y.useState)(!1),c=L()(d,2),s=c[0],l=c[1];return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{style:{color:"var(--danger)"}},e.a.createElement("h2",{style:{color:"var(--danger)"},className:"subtitle"},"Danger Zone"),e.a.createElement("div",{className:"mt"},!a&&e.a.createElement(ke.a,{type:"danger"},"This is ",e.a.createElement("b",null,"irreversible"),". Please be certain."),e.a.createElement(R.a,{type:"primary",onClick:function(){return l(!0)},className:"mr-05 btn-danger","data-attr":"delete-project-button",icon:e.a.createElement(ze.a,null),disabled:a},"Delete ",(o==null?void 0:o.name)||"the current organization"))),e.a.createElement(Oe,{isVisible:s,setIsVisible:l}))}try{Oe.displayName="DeleteOrganizationModal",Oe.__docgenInfo={description:"",displayName:"DeleteOrganizationModal",props:{isVisible:{defaultValue:null,description:"",name:"isVisible",required:!0,type:{name:"boolean"}},setIsVisible:{defaultValue:null,description:"",name:"setIsVisible",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/organization/Settings/DangerZone.tsx#DeleteOrganizationModal"]={docgenInfo:Oe.__docgenInfo,name:"DeleteOrganizationModal",path:"frontend/src/scenes/organization/Settings/DangerZone.tsx#DeleteOrganizationModal"})}catch(t){}try{he.displayName="DangerZone",he.__docgenInfo={description:"",displayName:"DangerZone",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/organization/Settings/DangerZone.tsx#DangerZone"]={docgenInfo:he.__docgenInfo,name:"DangerZone",path:"frontend/src/scenes/organization/Settings/DangerZone.tsx#DangerZone"})}catch(t){}var ye=n("./frontend/src/lib/components/RestrictedArea.tsx"),qe=n("./frontend/src/lib/hooks/useAnchor.ts"),en=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),be=n.n(en),Be=n("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),Sn=n("./node_modules/core-js/modules/es.array.find.js"),jn=n("./node_modules/core-js/modules/es.array.includes.js"),Mn=n("./node_modules/core-js/modules/es.regexp.exec.js"),Cn=n("./node_modules/core-js/modules/es.string.includes.js"),Ln=n("./node_modules/core-js/modules/es.string.match.js"),nn=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),tn=n.n(nn),an=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),on=n.n(an),rn=n("./node_modules/@babel/runtime/regenerator/index.js"),J=n.n(rn),An=n("./node_modules/regenerator-runtime/runtime.js"),ln=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ie=n.n(ln),le=n("./frontend/src/lib/api.ts"),Se=n("./frontend/src/lib/components/lemonToast.tsx"),Ne=n("./frontend/src/types.ts");function Ke(t,a){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);a&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),i.push.apply(i,o)}return i}function De(t){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?Ke(Object(i),!0).forEach(function(o){on()(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ke(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}var ee=Object(f.kea)({path:["scenes","organization","verifiedDomainsLogic"],connect:{values:[q.a,["currentOrganization"]]},actions:{replaceDomain:function(a){return{domain:a}},setAddModalShown:function(a){return{shown:a}},setConfigureSAMLModalId:function(a){return{id:a}},setVerifyModal:function(a){return{id:a}}},reducers:{verifiedDomains:[[],{replaceDomain:function(a,i){var o=i.domain,d=[].concat(be()(a.filter(function(c){var s=c.id;return s!==o.id})),[o]);return d.sort(function(c,s){return c.domain.localeCompare(s.domain)}),d}}],addModalShown:[!1,{setAddModalShown:function(a,i){var o=i.shown;return o},addVerifiedDomainSuccess:function(){return!1}}],configureSAMLModalId:[null,{setConfigureSAMLModalId:function(a,i){var o=i.id;return o}}],verifyModal:[null,{setVerifyModal:function(a,i){var o=i.id;return o}}]},loaders:function(a){var i=a.values,o=a.actions;return{verifiedDomains:[[],{loadVerifiedDomains:function(){var d=ie()(J.a.mark(function s(){var l;return J.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,le.b.get("api/organizations/".concat((l=i.currentOrganization)===null||l===void 0?void 0:l.id,"/domains"));case 2:return m.abrupt("return",m.sent.results);case 3:case"end":return m.stop()}},s)}));function c(){return d.apply(this,arguments)}return c}(),addVerifiedDomain:function(){var d=ie()(J.a.mark(function s(l){var r,m;return J.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,le.b.create("api/organizations/".concat((r=i.currentOrganization)===null||r===void 0?void 0:r.id,"/domains"),{domain:l});case 2:return m=u.sent,u.abrupt("return",[m].concat(be()(i.verifiedDomains)));case 4:case"end":return u.stop()}},s)}));function c(s){return d.apply(this,arguments)}return c}(),deleteVerifiedDomain:function(){var d=ie()(J.a.mark(function s(l){var r;return J.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,le.b.delete("api/organizations/".concat((r=i.currentOrganization)===null||r===void 0?void 0:r.id,"/domains/").concat(l));case 2:return v.abrupt("return",be()(i.verifiedDomains.filter(function(u){return u.id!==l})));case 3:case"end":return v.stop()}},s)}));function c(s){return d.apply(this,arguments)}return c}()}],updatingDomain:[!1,{updateDomain:function(){var d=ie()(J.a.mark(function s(l){var r,m;return J.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,le.b.update("api/organizations/".concat((r=i.currentOrganization)===null||r===void 0?void 0:r.id,"/domains/").concat(l.id),De(De({},l),{},{id:void 0}));case 2:return m=u.sent,Se.a.success("Domain updated successfully! Changes will take immediately."),o.replaceDomain(m),u.abrupt("return",!1);case 6:case"end":return u.stop()}},s)}));function c(s){return d.apply(this,arguments)}return c}(),verifyDomain:function(){var d=ie()(J.a.mark(function s(){var l,r;return J.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,le.b.create("api/organizations/".concat((l=i.currentOrganization)===null||l===void 0?void 0:l.id,"/domains/").concat(i.verifyModal,"/verify"));case 2:return r=v.sent,r.is_verified?Se.a.success("Domain verified successfully."):Se.a.warning("We could not verify your domain yet. DNS propagation may take up to 72 hours. Please try again later."),o.replaceDomain(r),o.setVerifyModal(null),v.abrupt("return",!1);case 7:case"end":return v.stop()}},s)}));function c(){return d.apply(this,arguments)}return c}()}]}},listeners:function(a){var i=a.actions,o=a.values;return{setConfigureSAMLModalId:function(c){var s=c.id,l=o.verifiedDomains.find(function(u){var D=u.id;return D===s});if(s&&l){var r=l.saml_acs_url,m=l.saml_entity_id,v=l.saml_x509_cert;i.setSamlConfigValues({saml_acs_url:r,saml_entity_id:m,saml_x509_cert:v,id:s})}}}},selectors:{domainBeingVerified:[function(t){return[t.verifiedDomains,t.verifyModal]},function(t,a){return a&&t.find(function(i){var o=i.id;return o===a})||null}],isSSOEnforcementAvailable:[function(t){return[t.currentOrganization]},function(t){var a;return(a=t==null?void 0:t.available_features.includes(Ne.c.SSO_ENFORCEMENT))!==null&&a!==void 0?a:!1}],isSAMLAvailable:[function(t){return[t.currentOrganization]},function(t){var a;return(a=t==null?void 0:t.available_features.includes(Ne.c.SAML))!==null&&a!==void 0?a:!1}]},events:function(a){var i=a.actions;return{afterMount:[i.loadVerifiedDomains]}},forms:function(a){var i=a.actions,o=a.values;return{samlConfig:{defaults:{},validator:function(c){return{saml_acs_url:c.saml_acs_url&&!c.saml_acs_url.match(F.A)?"Please enter a valid URL, including https://":void 0}},submit:function(){var d=ie()(J.a.mark(function s(l,r){var m,v,u,D;return J.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(v=l.id,u=tn()(l,["id"]),v){z.next=3;break}return z.abrupt("return");case 3:return z.next=5,le.b.update("api/organizations/".concat((m=o.currentOrganization)===null||m===void 0?void 0:m.id,"/domains/").concat(l.id),De({},u));case 5:D=z.sent,r(),i.replaceDomain(D),i.setConfigureSAMLModalId(null),i.setSamlConfigValues({}),Se.a.success("SAML configuration for ".concat(D.domain," updated successfully."));case 11:case"end":return z.stop()}},s)}));function c(s,l){return d.apply(this,arguments)}return c}()}}}}),Pe=n("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),sn=n("./frontend/src/lib/components/LemonButton/More.tsx"),xe=n("./frontend/src/lib/components/LemonModal/LemonModal.tsx");function dn(){var t=Object(f.useValues)(ee),a=t.addModalShown,i=t.verifiedDomainsLoading,o=Object(f.useActions)(ee),d=o.setAddModalShown,c=o.addVerifiedDomain,s=Object(y.useState)(""),l=L()(s,2),r=l[0],m=l[1],v=Object(y.useState)(!1),u=L()(v,2),D=u[0],E=u[1],z=!r||!r.match(F.j),X=function(){m(""),E(!1)},ne=function(){d(!1),X()},b=function(){E(!0),z||(c(r),X())};return e.a.createElement(xe.a,{onCancel:ne,visible:a,destroyOnClose:!0},e.a.createElement("section",null,e.a.createElement("h5",null,"Add authentication domain"),e.a.createElement(h.a,{placeholder:"posthog.com",autoFocus:!0,value:r,onChange:function(Q){return m(Q.target.value)},onPressEnter:b}),D&&z&&e.a.createElement("span",{className:"text-danger text-small"},"Please enter a valid domain or subdomain name (e.g. my.posthog.com)"),e.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},e.a.createElement(H.a,{type:"primary",disabled:r===""||D&&z||i,onClick:b},"Add domain"))))}var cn=n("./frontend/src/scenes/organization/Settings/VerifiedDomains/SSOSelect.tsx");function un(){var t=Object(f.useValues)(ee),a=t.domainBeingVerified,i=t.updatingDomainLoading,o=Object(f.useActions)(ee),d=o.setVerifyModal,c=o.verifyDomain,s="_posthog-challenge.".concat(a==null?void 0:a.domain,".");return e.a.createElement(xe.a,{visible:!!a,onCancel:function(){return d(null)}},e.a.createElement("section",null,e.a.createElement("h5",null,"Verify your domain"),e.a.createElement(Be.a,null,(a==null?void 0:a.domain)||""),e.a.createElement("p",{className:"text-muted-alt"},"To verify your domain, you need to add a record to your DNS zone."),e.a.createElement("div",null,e.a.createElement("ol",null,e.a.createElement("li",null,"Sign in to your DNS provider."),e.a.createElement("li",null,"Add the following ",e.a.createElement("b",null,"TXT")," record.",e.a.createElement("div",{className:"mt mb"},e.a.createElement("div",{className:"input-set"},e.a.createElement("label",{htmlFor:"record-name"},"Name"),e.a.createElement("div",{className:"flex-center"},e.a.createElement(h.a,{disabled:!0,value:s,name:"record-name"}),e.a.createElement(I.a,{explicitValue:s,style:{marginLeft:4}}))),e.a.createElement("div",{className:"input-set"},e.a.createElement("label",{htmlFor:"record-value"},"Value or content"),e.a.createElement("div",{className:"flex-center"},e.a.createElement(h.a,{disabled:!0,value:a==null?void 0:a.verification_challenge,name:"record-value"}),e.a.createElement(I.a,{explicitValue:a==null?void 0:a.verification_challenge,style:{marginLeft:4}}))),e.a.createElement("div",{className:"input-set"},e.a.createElement("label",{htmlFor:"record-value"},"TTL"),e.a.createElement("div",{className:"flex-center"},e.a.createElement(h.a,{disabled:!0,value:"Default or 3600",name:"record-value"}),e.a.createElement(I.a,{explicitValue:"3600",style:{marginLeft:4}}))))),e.a.createElement("li",null,"Press verify below."))),e.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},e.a.createElement(H.a,{onClick:function(){return d(null)},style:{marginRight:8}},"Verify later"),e.a.createElement(H.a,{type:"primary",disabled:i,onClick:c},"Verify"))))}var We=n("./frontend/src/lib/components/Link.tsx"),mn=n("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),fn=n("./node_modules/kea-forms/lib/index.js"),Ie=n("./frontend/src/lib/forms/Field.tsx"),vn=n("./frontend/src/lib/components/InfoMessage/InfoMessage.tsx");function gn(){var t=Object(f.useValues)(ee),a=t.configureSAMLModalId,i=t.isSamlConfigSubmitting,o=t.samlConfig,d=Object(f.useActions)(ee),c=d.setConfigureSAMLModalId,s=o.saml_acs_url&&o.saml_entity_id&&o.saml_x509_cert,l=function(){c(null)};return e.a.createElement(xe.a,{onCancel:l,visible:!!a,destroyOnClose:!0},e.a.createElement("section",null,e.a.createElement("h5",null,"Configure SAML authentication and provisioning"),e.a.createElement(fn.Form,{logic:ee,formKey:"samlConfig",className:"ant-form-vertical ant-form-hide-required-mark"},e.a.createElement(Ie.a,{name:"saml_acs_url",label:"SAML ACS URL"},function(r){var m=r.value,v=r.onChange;return e.a.createElement(h.a,{value:m,onChange:v,className:"ph-ignore-input",placeholder:"Your IdP's ACS or single sign-on URL."})}),e.a.createElement(Ie.a,{name:"saml_entity_id",label:"SAML Entity ID"},function(r){var m=r.value,v=r.onChange;return e.a.createElement(h.a,{value:m,onChange:v,className:"ph-ignore-input",placeholder:"Entity ID provided by your IdP."})}),e.a.createElement(Ie.a,{name:"saml_x509_cert",label:"SAML X.509 Certificate"},function(r){var m=r.value,v=r.onChange;return e.a.createElement(h.a.TextArea,{value:m,onChange:v,className:"ph-ignore-input",style:{minHeight:150},placeholder:`Enter the public certificate of your IdP. Keep all line breaks.
-----BEGIN CERTIFICATE-----
MIICVjCCAb+gAwIBAgIBADANBgkqhkiG9w0BAQ0FADBIMQswCQYDVQQGEwJ1czEL
-----END CERTIFICATE-----`})}),!s&&e.a.createElement(vn.a,{style:{marginBottom:16}},"SAML will not be enabled unless you enter all attributes above. However you can still settings as draft."),e.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},e.a.createElement(H.a,{loading:i,type:"primary",htmlType:"submit"},"Save settings")))))}var se={marginRight:4,fontSize:"1.15em",paddingTop:2};function pn(){var t=Object(f.useValues)(ee),a=t.verifiedDomainsLoading,i=t.updatingDomainLoading,o=Object(f.useActions)(ee),d=o.setAddModalShown;return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"flex-center"},e.a.createElement("div",{style:{flexGrow:1}},e.a.createElement("div",{id:"domain-whitelist"})," ",e.a.createElement("h2",{id:"authentication-domains",className:"subtitle"},"Authentication domains"),e.a.createElement("p",{className:"text-muted-alt"},"Enable users to sign up automatically with an email address on verified domains and enforce SSO for accounts under your domains.")),e.a.createElement("div",null,e.a.createElement(R.a,{type:"primary",icon:e.a.createElement(Z.a,null),onClick:function(){return d(!0)},disabled:a||i},"Add domain"))),e.a.createElement(En,null))}function En(){var t=Object(f.useValues)(ee),a=t.verifiedDomains,i=t.verifiedDomainsLoading,o=t.currentOrganization,d=t.updatingDomainLoading,c=t.isSSOEnforcementAvailable,s=t.isSAMLAvailable,l=Object(f.useActions)(ee),r=l.updateDomain,m=l.deleteVerifiedDomain,v=l.setVerifyModal,u=l.setConfigureSAMLModalId,D=Object(f.useValues)(Y.a),E=D.preflight,z=[{key:"domain",title:"Domain name",dataIndex:"domain",render:function(ne,b){var w=b.domain;return e.a.createElement(Be.a,{style:{textTransform:"lowercase"}},w)}}].concat(be()(E!=null&&E.cloud?[{key:"is_verified",title:e.a.createElement(e.a.Fragment,null,"Verification",e.a.createElement(pe.a,{title:"Verification (through DNS) is required to use domains for authentication (e.g. SAML or enforce SSO)."},e.a.createElement(Pe.a,{style:{marginLeft:4}}))),render:function(ne,b){var w=b.is_verified,Q=b.verified_at;return w?e.a.createElement("div",{className:"flex-center text-success"},e.a.createElement(U.IconCheckmark,{style:se})," Verified"):Q?e.a.createElement("div",{className:"flex-center text-danger"},e.a.createElement(U.IconExclamation,{style:se})," Verification expired"):e.a.createElement("div",{className:"flex-center text-warning"},e.a.createElement(U.IconWarningAmber,{style:se})," Pending verification")}}]:[]),[{key:"jit_provisioning_enabled",title:e.a.createElement(e.a.Fragment,null,"Automatic provisioning"," ",e.a.createElement(pe.a,{title:"Enables just-in-time provisioning. If a user logs in with SSO with an email address on this domain an account will be created in ".concat((o==null?void 0:o.name)||"this organization"," if it does not exist.")},e.a.createElement(Pe.a,null))),render:function(ne,b){var w=b.jit_provisioning_enabled,Q=b.id,te=b.is_verified;return te?e.a.createElement("div",{className:"flex-center"},"Enable automatic provisioning",e.a.createElement(mn.a,{style:{marginLeft:8},checked:w,disabled:d||!te,onChange:function(de){return r({id:Q,jit_provisioning_enabled:de})}})):e.a.createElement("i",{className:"text-muted-alt"},"Verify domain to enable automatic provisioning")}},{key:"sso_enforcement",title:e.a.createElement(e.a.Fragment,null,"Enforce SSO"," ",e.a.createElement(pe.a,{title:"Require users with email addresses on this domain to always log in using a specific SSO provider."},e.a.createElement(Pe.a,null))),render:function(ne,b,w){var Q=b.sso_enforcement,te=b.is_verified,ae=b.id,de=b.has_saml;return c?te?e.a.createElement(cn.a,{value:Q,loading:d,onChange:function(bn){return r({id:ae,sso_enforcement:bn})},samlAvailable:de}):e.a.createElement("i",{className:"text-muted-alt"},"Verify domain to enable"):w===0?e.a.createElement(We.a,{to:Object(F.F)(E==null?void 0:E.cloud).url,target:Object(F.F)(E==null?void 0:E.cloud).target,className:"flex-center"},e.a.createElement(U.IconLock,{style:{color:"var(--warning)",marginLeft:4}})," Upgrade to enable SSO enforcement"):e.a.createElement(e.a.Fragment,null)}},{key:"saml",title:"SAML",render:function(ne,b,w){var Q=b.is_verified,te=b.saml_acs_url,ae=b.saml_entity_id,de=b.saml_x509_cert,Fe=b.has_saml;return s?Q?e.a.createElement(e.a.Fragment,null,Fe?e.a.createElement("div",{className:"flex-center text-success"},e.a.createElement(U.IconCheckmark,{style:se})," SAML enabled"):te||ae||de?e.a.createElement("div",{className:"flex-center text-warning"},e.a.createElement(U.IconWarningAmber,{style:se})," SAML partially configured"):e.a.createElement("div",{className:"flex-center"},e.a.createElement(U.IconOffline,{style:se})," SAML not set up")):e.a.createElement("i",{className:"text-muted-alt"},"Verify domain to enable"):w===0?e.a.createElement(We.a,{to:Object(F.F)(E==null?void 0:E.cloud).url,target:Object(F.F)(E==null?void 0:E.cloud).target,className:"flex-center"},e.a.createElement(U.IconLock,{style:{color:"var(--warning)",marginLeft:4}})," Upgrade to enable SAML"):e.a.createElement(e.a.Fragment,null)}},{key:"actions",width:32,align:"center",render:function(ne,b){var w=b.is_verified,Q=b.id,te=b.domain;return w?e.a.createElement(sn.a,{overlay:e.a.createElement(e.a.Fragment,null,e.a.createElement(H.a,{type:"stealth",onClick:function(){return u(Q)},fullWidth:!0,disabled:!s,title:s?void 0:"Upgrade to enable SAML"},"Configure SAML"),e.a.createElement(H.a,{type:"stealth",style:{color:"var(--danger)"},onClick:function(){return K.a.confirm({title:"Remove ".concat(te,"?"),icon:null,okText:"Remove domain",okType:"primary",okButtonProps:{className:"btn-danger"},content:e.a.createElement("div",null,"This cannot be undone. If you have SAML configured or SSO enforced, it will be immediately disabled."),onOk:function(){m(Q)},cancelText:"Cancel"})},fullWidth:!0},e.a.createElement(U.IconDelete,null)," Remove domain")),style:{display:"inline-block"}}):e.a.createElement(H.a,{type:"primary",onClick:function(){return v(Q)}},"Verify")}}]);return e.a.createElement("div",null,e.a.createElement(V.a,{dataSource:a,columns:z,loading:i,rowKey:"id",emptyState:"You haven't registered any authentication domains yet."}),e.a.createElement(dn,null),e.a.createElement(gn,null),e.a.createElement(un,null))}var On={component:Ue,logic:q.a};function hn(t){var a=t.isRestricted,i=Object(f.useValues)(q.a),o=i.currentOrganization,d=i.currentOrganizationLoading,c=Object(f.useActions)(q.a),s=c.updateOrganization,l=Object(y.useState)((o==null?void 0:o.name)||""),r=L()(l,2),m=r[0],v=r[1];return e.a.createElement("div",null,e.a.createElement("h2",{id:"name",className:"subtitle"},"Display Name"),e.a.createElement(h.a,{value:m,onChange:function(D){v(D.target.value)},style:{maxWidth:"40rem",marginBottom:"1rem",display:"block"},disabled:a}),e.a.createElement(R.a,{type:"primary",onClick:function(D){D.preventDefault(),s({name:m})},disabled:a||!m||!o||m===o.name,loading:d},"Rename Organization"))}function yn(t){var a=t.isRestricted,i=Object(f.useValues)(q.a),o=i.currentOrganization,d=i.currentOrganizationLoading,c=Object(f.useActions)(q.a),s=c.updateOrganization;return e.a.createElement("div",null,e.a.createElement("h2",{id:"notification-preferences",className:"subtitle"},"Notification Preferences"),e.a.createElement("div",null,e.a.createElement($.a,{id:"is-member-join-email-enabled-switch","data-attr":"is-member-join-email-enabled-switch",onChange:function(r){s({is_member_join_email_enabled:r})},checked:o==null?void 0:o.is_member_join_email_enabled,loading:d,disabled:a||!o}),e.a.createElement("label",{style:{marginLeft:"10px"},htmlFor:"is-member-join-email-enabled-switch"},"Email all current members when a new member joins")))}function Ue(){var t=Object(f.useValues)(Ae.a),a=t.user;return Object(qe.a)(location.hash),e.a.createElement(e.a.Fragment,null,e.a.createElement(g.a,{title:"Organization Settings",caption:"View and manage your organization here. Build an even better product together."}),e.a.createElement(N.a,null,e.a.createElement(ye.a,{Component:hn,minimumAccessLevel:F.s.Admin}),e.a.createElement(p.a,null),e.a.createElement(fe,null),e.a.createElement(p.a,null),a&&e.a.createElement(Ee,{user:a}),e.a.createElement(p.a,null),e.a.createElement(ye.a,{Component:pn,minimumAccessLevel:F.s.Admin}),e.a.createElement(p.a,null),e.a.createElement(ye.a,{Component:yn,minimumAccessLevel:F.s.Admin}),e.a.createElement(p.a,null),e.a.createElement(ye.a,{Component:he,minimumAccessLevel:F.s.Owner})))}},"./node_modules/@ant-design/icons/es/icons/CrownFilled.js":function(k,S,n){"use strict";var C=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),B=n("./node_modules/react/index.js"),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"}}]},name:"crown",theme:"filled"},y=L,e=n("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),h=function(N,p){return B.createElement(e.a,Object(C.a)(Object(C.a)({},N),{},{ref:p,icon:y}))};h.displayName="CrownFilled";var R=S.a=B.forwardRef(h)},"./node_modules/@ant-design/icons/es/icons/UpOutlined.js":function(k,S,n){"use strict";var C=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),B=n("./node_modules/react/index.js"),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},y=L,e=n("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),h=function(N,p){return B.createElement(e.a,Object(C.a)(Object(C.a)({},N),{},{ref:p,icon:y}))};h.displayName="UpOutlined";var R=S.a=B.forwardRef(h)},"./node_modules/antd/lib/typography/Paragraph.js":function(k,S,n){"use strict";var C=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),B=n("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var L=C(n("./node_modules/@babel/runtime/helpers/extends.js")),y=R(n("./node_modules/react/index.js")),e=C(n("./node_modules/antd/lib/typography/Base.js"));function h(p){if(typeof WeakMap!="function")return null;var g=new WeakMap,j=new WeakMap;return(h=function(T){return T?j:g})(p)}function R(p,g){if(!g&&p&&p.__esModule)return p;if(p===null||B(p)!=="object"&&typeof p!="function")return{default:p};var j=h(g);if(j&&j.has(p))return j.get(p);var M={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in p)if(P!=="default"&&Object.prototype.hasOwnProperty.call(p,P)){var x=T?Object.getOwnPropertyDescriptor(p,P):null;x&&(x.get||x.set)?Object.defineProperty(M,P,x):M[P]=p[P]}return M.default=p,j&&j.set(p,M),M}var $=function(g){return y.createElement(e.default,(0,L.default)({},g,{component:"div"}))},N=$;S.default=N},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/LemonModal/LemonModal.scss":function(k,S,n){var C=n("./node_modules/css-loader/dist/runtime/api.js");S=C(!1),S.push([k.i,".LemonModal .ant-modal-close-x{position:absolute;top:1rem;right:1rem;height:1.5rem;width:1.5rem}.LemonModal .ant-modal-body,.LemonModal .ant-modal-footer,.LemonModal .ant-modal-header{padding:1rem}.LemonModal .ant-modal-footer,.LemonModal .ant-modal-header{display:flex;align-items:center;line-height:1.5rem;border-color:var(--border)}.LemonModal .ant-modal-title{font-weight:600}.LemonModal .ant-modal-footer{justify-content:flex-end}.LemonModal section{width:100%}.LemonModal section:not(:first-child){padding-top:.75rem}.LemonModal section:not(:last-child){padding-bottom:.75rem;border-bottom:1px solid var(--border)}.LemonModal section>:not(:first-child){margin-top:.5rem}.LemonModal h5{line-height:1.5rem;margin:0;color:var(--muted)}",""]),k.exports=S}}]);
