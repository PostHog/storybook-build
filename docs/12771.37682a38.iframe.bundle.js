(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[12771],{"../../node_modules/.pnpm/react-insta-stories@2.8.0_react@18.2.0/node_modules/react-insta-stories/dist/index.js":function(module,__unused_webpack_exports,__webpack_require__){let __WEBPACK_EXTERNAL_MODULE__639__;__WEBPACK_EXTERNAL_MODULE__639__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),module.exports=(()=>{"use strict";var __webpack_modules__={931:(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_624__)=>{__nested_webpack_require_624__.r(__nested_webpack_exports__),__nested_webpack_require_624__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_624__(639),react__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_624__.n(react__WEBPACK_IMPORTED_MODULE_0__),_excluded=["styles"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=_objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}let __WEBPACK_DEFAULT_EXPORT__=function(_ref){_ref.styles;var props=_objectWithoutProperties(_ref,_excluded);return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg",_extends({width:"44",height:"44",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff"},props),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("circle",{cx:"22",cy:"22",r:"1"},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("animate",{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("circle",{cx:"22",cy:"22",r:"1"},react__WEBPACK_IMPORTED_MODULE_0___default().createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),react__WEBPACK_IMPORTED_MODULE_0___default().createElement("animate",{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}},120:function(__unused_webpack_module,exports,__nested_webpack_require_4346__){function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_4346__(639)),Global_1=__importDefault(__nested_webpack_require_4346__(267)),Stories_1=__importDefault(__nested_webpack_require_4346__(486)),Progress_1=__importDefault(__nested_webpack_require_4346__(552)),Story_1=__importDefault(__nested_webpack_require_4346__(832)),ProgressArray_1=__importDefault(__nested_webpack_require_4346__(913)),use_is_mounted_1=__importDefault(__nested_webpack_require_4346__(342)),usePreLoader_1=__nested_webpack_require_4346__(402);exports.default=function default_1(){var _ref2=_slicedToArray((0,react_1.useState)(0),2),currentId=_ref2[0],setCurrentId=_ref2[1],_ref4=_slicedToArray((0,react_1.useState)(!0),2),pause=_ref4[0],setPause=_ref4[1],_ref6=_slicedToArray((0,react_1.useState)(!0),2),bufferAction=_ref6[0],setBufferAction=_ref6[1],_ref8=_slicedToArray((0,react_1.useState)(0),2),videoDuration=_ref8[0],setVideoDuration=_ref8[1],isMounted=(0,use_is_mounted_1.default)(),mousedownId=(0,react_1.useRef)(),_ref9=(0,react_1.useContext)(Global_1.default),width=_ref9.width,height=_ref9.height,loop=_ref9.loop,currentIndex=_ref9.currentIndex,isPaused=_ref9.isPaused,keyboardNavigation=_ref9.keyboardNavigation,preventDefault=_ref9.preventDefault,_ref9$storyContainerS=_ref9.storyContainerStyles,onAllStoriesEnd=_ref9.onAllStoriesEnd,onPrevious=_ref9.onPrevious,onNext=_ref9.onNext,preloadCount=_ref9.preloadCount,stories=(0,react_1.useContext)(Stories_1.default).stories;(0,usePreLoader_1.usePreLoader)(stories,currentId,preloadCount),(0,react_1.useEffect)(function(){"number"==typeof currentIndex&&(currentIndex>=0&&currentIndex<stories.length?setCurrentIdWrapper(function(){return currentIndex}):console.error("Index out of bounds. Current index was set to value more than the length of stories array.",currentIndex))},[currentIndex]),(0,react_1.useEffect)(function(){"boolean"==typeof isPaused&&setPause(isPaused)},[isPaused]),(0,react_1.useEffect)(function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof keyboardNavigation&&keyboardNavigation)return document.addEventListener("keydown",handleKeyDown),function(){document.removeEventListener("keydown",handleKeyDown)}},[keyboardNavigation]);var handleKeyDown=function handleKeyDown(e){"ArrowLeft"===e.key?previous():"ArrowRight"===e.key&&next({isSkippedByUser:!0})},toggleState=function toggleState(action,bufferAction){setPause("pause"===action),setBufferAction(!!bufferAction)},setCurrentIdWrapper=function setCurrentIdWrapper(callback){setCurrentId(callback),toggleState("pause",!0)},previous=function previous(){void 0!=onPrevious&&onPrevious(),setCurrentIdWrapper(function(prev){return prev>0?prev-1:prev})},next=function next(options){void 0!=onNext&&(null==options?void 0:options.isSkippedByUser)&&onNext(),isMounted()&&(loop?updateNextStoryIdForLoop():updateNextStoryId())},updateNextStoryIdForLoop=function updateNextStoryIdForLoop(){setCurrentIdWrapper(function(prev){return prev>=stories.length-1&&onAllStoriesEnd&&onAllStoriesEnd(currentId,stories),(prev+1)%stories.length})},updateNextStoryId=function updateNextStoryId(){setCurrentIdWrapper(function(prev){return prev<stories.length-1?prev+1:(onAllStoriesEnd&&onAllStoriesEnd(currentId,stories),prev)})},debouncePause=function debouncePause(e){e.preventDefault(),mousedownId.current=setTimeout(function(){toggleState("pause")},200)},mouseUp=function mouseUp(type){return function(e){e.preventDefault(),mousedownId.current&&clearTimeout(mousedownId.current),pause?toggleState("play"):"next"===type?next({isSkippedByUser:!0}):previous()}};return react_1.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},styles.container),void 0===_ref9$storyContainerS?{}:_ref9$storyContainerS),{width:width,height:height})},react_1.default.createElement(Progress_1.default.Provider,{value:{bufferAction:bufferAction,videoDuration:videoDuration,currentId:currentId,pause:pause,next:next}},react_1.default.createElement(ProgressArray_1.default,null)),react_1.default.createElement(Story_1.default,{action:toggleState,bufferAction:bufferAction,playState:pause,story:stories[currentId],getVideoDuration:function getVideoDuration(duration){setVideoDuration(1e3*duration)}}),!preventDefault&&react_1.default.createElement("div",{style:styles.overlay},react_1.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:debouncePause,onTouchEnd:mouseUp("previous"),onMouseDown:debouncePause,onMouseUp:mouseUp("previous")}),react_1.default.createElement("div",{style:{width:"50%",zIndex:999},onTouchStart:debouncePause,onTouchEnd:mouseUp("next"),onMouseDown:debouncePause,onMouseUp:mouseUp("next")})))};var styles={container:{display:"flex",flexDirection:"column",background:"#111",position:"relative",WebkitUserSelect:"none"},overlay:{position:"absolute",height:"inherit",width:"inherit",display:"flex"}}},463:function(__unused_webpack_module,exports,__nested_webpack_require_13938__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__nested_webpack_require_13938__(639)),styles={main:{display:"flex",alignItems:"center"},img:{width:40,height:40,borderRadius:40,marginRight:10,filter:"drop-shadow(0 0px 2px rgba(0, 0, 0, 0.5))",border:"2px solid rgba(255, 255, 255, 0.8)"},text:{display:"flex",flexDirection:"column",filter:"drop-shadow(0 0px 3px rgba(0, 0, 0, 0.9))"},heading:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",margin:0,marginBottom:2},subheading:{fontSize:"0.6rem",color:"rgba(255, 255, 255, 0.8)",margin:0}};exports.default=function Header(_ref){var profileImage=_ref.profileImage,heading=_ref.heading,subheading=_ref.subheading;return react_1.default.createElement("div",{style:styles.main},profileImage&&react_1.default.createElement("img",{style:styles.img,src:profileImage}),react_1.default.createElement("span",{style:styles.text},react_1.default.createElement("p",{style:styles.heading},heading),react_1.default.createElement("p",{style:styles.subheading},subheading)))}},911:function(__unused_webpack_module,exports,__nested_webpack_require_15505__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_15505__(639)),ProgressWrapper_1=__importDefault(__nested_webpack_require_15505__(424)),Global_1=__importDefault(__nested_webpack_require_15505__(267)),Progress_1=__importDefault(__nested_webpack_require_15505__(552));exports.default=function(props){var progressStyles=(0,react_1.useContext)(Global_1.default).progressStyles,_ref2=(0,react_1.useContext)(Progress_1.default),bufferAction=_ref2.bufferAction,pause=_ref2.pause,width=props.width,active=props.active;return react_1.default.createElement(ProgressWrapper_1.default,{width:width,pause:pause,bufferAction:bufferAction},react_1.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},styles.inner),progressStyles),function getProgressStyle(_ref3){switch(_ref3.active){case 2:return{width:"100%"};case 1:return{transform:"scaleX(".concat(props.count/100,")")};default:return{width:0}}}({active:active}))}))};var styles={inner:{background:"#fff",height:"100%",maxWidth:"100%",borderRadius:2,transformOrigin:"center left",WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden",WebkitPerspective:1e3,MozPerspective:1e3,msPerspective:1e3,perspective:1e3}}},913:function(__unused_webpack_module,exports,__nested_webpack_require_18560__){function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_18560__(639)),Progress_1=__importDefault(__nested_webpack_require_18560__(911)),Progress_2=__importDefault(__nested_webpack_require_18560__(552)),Global_1=__importDefault(__nested_webpack_require_18560__(267)),Stories_1=__importDefault(__nested_webpack_require_18560__(486)),time_1=__nested_webpack_require_18560__(335);exports.default=function(){var _ref2=_slicedToArray((0,react_1.useState)(0),2),count=_ref2[0],setCount=_ref2[1],lastTime=(0,react_1.useRef)(),_ref3=(0,react_1.useContext)(Progress_2.default),currentId=_ref3.currentId,next=_ref3.next,videoDuration=_ref3.videoDuration,pause=_ref3.pause,bufferAction=_ref3.bufferAction,_ref4=(0,react_1.useContext)(Global_1.default),defaultInterval=_ref4.defaultInterval,onStoryEnd=_ref4.onStoryEnd,onStoryStart=_ref4.onStoryStart,progressContainerStyles=_ref4.progressContainerStyles,stories=(0,react_1.useContext)(Stories_1.default).stories;(0,react_1.useEffect)(function(){setCount(0)},[currentId,stories]),(0,react_1.useEffect)(function(){return pause||(animationFrameId.current=requestAnimationFrame(incrementCount),lastTime.current=(0,time_1.timestamp)()),function(){cancelAnimationFrame(animationFrameId.current)}},[currentId,pause]);var animationFrameId=(0,react_1.useRef)(),countCopy=count,incrementCount=function incrementCount(){0===countCopy&&storyStartCallback(),void 0==lastTime.current&&(lastTime.current=(0,time_1.timestamp)());var t=(0,time_1.timestamp)(),dt=t-lastTime.current;lastTime.current=t,setCount(function(count){return countCopy=count+100*dt/getCurrentInterval()}),countCopy<100?animationFrameId.current=requestAnimationFrame(incrementCount):(storyEndCallback(),cancelAnimationFrame(animationFrameId.current),next())},storyStartCallback=function storyStartCallback(){onStoryStart&&onStoryStart(currentId,stories[currentId])},storyEndCallback=function storyEndCallback(){onStoryEnd&&onStoryEnd(currentId,stories[currentId])},getCurrentInterval=function getCurrentInterval(){return"video"===stories[currentId].type?videoDuration:"number"==typeof stories[currentId].duration?stories[currentId].duration:defaultInterval};return react_1.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},styles.progressArr),progressContainerStyles),{opacity:pause&&!bufferAction?0:1})},stories.map(function(_,i){return react_1.default.createElement(Progress_1.default,{key:i,count:count,width:1/stories.length,active:i===currentId?1:2*(i<currentId)})}))};var styles={progressArr:{display:"flex",justifyContent:"center",maxWidth:"100%",flexWrap:"nowrap",position:"absolute",width:"98%",padding:5,paddingTop:7,alignSelf:"center",zIndex:1001,filter:"drop-shadow(0 1px 8px #222)",transition:"opacity 400ms ease-in-out"}}},424:function(__unused_webpack_module,exports,__nested_webpack_require_25035__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_25035__(639)),Global_1=__importDefault(__nested_webpack_require_25035__(267)),getProgressWrapperStyle=function getProgressWrapperStyle(_ref2){var width=_ref2.width;return{width:"".concat(100*width,"%")}},styles_progress={height:2,maxWidth:"100%",background:"#555",margin:2,borderRadius:2,WebkitBackfaceVisibility:"hidden",MozBackfaceVisibility:"hidden",msBackfaceVisibility:"hidden",backfaceVisibility:"hidden"};exports.default=function ProgressWrapper(props){var progressWrapperStyles=(0,react_1.useContext)(Global_1.default).progressWrapperStyles;return react_1.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},styles_progress),progressWrapperStyles),getProgressWrapperStyle(props))},props.children)}},771:function(__unused_webpack_module,exports,__nested_webpack_require_27337__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_27337__(639)),Global_1=__importDefault(__nested_webpack_require_27337__(267));exports.default=function seeMore(props){var SeeMoreContent=props.seeMoreContent,CustomCollapsed=props.customCollapsed,keyboardNavigation=(0,react_1.useContext)(Global_1.default).keyboardNavigation;(0,react_1.useEffect)(function(){if("undefined"!=typeof window&&window.document&&"boolean"==typeof keyboardNavigation&&keyboardNavigation)return document.addEventListener("keydown",handleKeyDown),function(){document.removeEventListener("keydown",handleKeyDown)}},[keyboardNavigation]);var handleKeyDown=function handleKeyDown(e){"ArrowUp"===e.key?(e.preventDefault(),props.toggleMore(!0)):("ArrowDown"===e.key||"Escape"===e.key)&&(e.preventDefault(),props.toggleMore(!1))};return props.showContent?react_1.default.createElement("div",{style:styles.seeMoreExpanded},react_1.default.createElement(SeeMoreContent,{close:function close(){return props.toggleMore(!1)}})):CustomCollapsed?react_1.default.createElement(CustomCollapsed,{action:props.action,toggleMore:props.toggleMore}):react_1.default.createElement("div",{style:styles.seeMore,onClick:function onClick(e){e.preventDefault(),e.stopPropagation(),props.toggleMore(!0)}},react_1.default.createElement("span",{style:styles.seeMoreIcon},"âŒƒ"),react_1.default.createElement("span",{style:styles.seeMoreText},"See more"))};var styles={seeMore:{height:"10vh",background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2))",display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"flex-end",bottom:0},seeMoreExpanded:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxSizing:"border-box",zIndex:99999},seeMoreText:{color:"white",textAlign:"center",letterSpacing:"0.1em",marginBottom:"2.2vh",textTransform:"capitalize",opacity:"1",fontSize:"0.8em",transition:"opacity 300ms ease-in-out"},seeMoreIcon:{color:"white",textAlign:"center",letterSpacing:"0.2em",marginBottom:"0.4vh",opacity:"1",filter:"drop-shadow(0 0 5px black)",textTransform:"capitalize",transition:"opacity 300ms ease-in-out"}}},353:function(__unused_webpack_module,exports,__nested_webpack_require_31584__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__nested_webpack_require_31584__(639)),puff_svg_1=__importDefault(__nested_webpack_require_31584__(931));exports.default=function Spinner(){return react_1.default.createElement(puff_svg_1.default,null)}},832:function(__unused_webpack_module,exports,__nested_webpack_require_32146__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_32146__(639)),Global_1=__importDefault(__nested_webpack_require_32146__(267)),styles_story={display:"flex",position:"relative",overflow:"hidden",alignItems:"center"};exports.default=function Story(props){var InnerContent,globalContext=(0,react_1.useContext)(Global_1.default),width=globalContext.width,height=globalContext.height,loader=globalContext.loader,header=globalContext.header,storyStyles=globalContext.storyStyles,_globalContext$storyI=globalContext.storyInnerContainerStyles;return react_1.default.createElement("div",{style:Object.assign(Object.assign(Object.assign({},styles_story),void 0===_globalContext$storyI?{}:_globalContext$storyI),{width:width,height:height})},(InnerContent=props.story.content,react_1.default.createElement(InnerContent,{action:props.action,isPaused:props.playState,story:props.story,config:{width:width,height:height,loader:loader,header:header,storyStyles:storyStyles},messageHandler:function rendererMessageHandler(type,data){if("UPDATE_VIDEO_DURATION"===type)return props.getVideoDuration(data.duration),{ack:"OK"}}})))}},267:function(__unused_webpack_module,exports,__nested_webpack_require_35247__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialContext=void 0;var react_1=__importDefault(__nested_webpack_require_35247__(639));exports.initialContext={defaultInterval:4e3,width:360,height:640},exports.default=react_1.default.createContext(exports.initialContext)},552:function(__unused_webpack_module,exports,__nested_webpack_require_35839__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=__importDefault(__nested_webpack_require_35839__(639)).default.createContext({currentId:0,videoDuration:0,bufferAction:!1,pause:!1,next:function next(){}})},486:function(__unused_webpack_module,exports,__nested_webpack_require_36363__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialContext=void 0;var react_1=__importDefault(__nested_webpack_require_36363__(639));exports.initialContext={stories:[]},exports.default=react_1.default.createContext(exports.initialContext)},370:function(__unused_webpack_module,exports,__nested_webpack_require_36918__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WithSeeMore=exports.WithHeader=void 0;var react_1=__importStar(__nested_webpack_require_36918__(639)),Container_1=__importDefault(__nested_webpack_require_36918__(120)),Global_1=__importDefault(__nested_webpack_require_36918__(267)),Stories_1=__importDefault(__nested_webpack_require_36918__(486)),renderers_1=__nested_webpack_require_36918__(371),index_1=__nested_webpack_require_36918__(942),withHeader_1=__importDefault(__nested_webpack_require_36918__(803)),withSeeMore_1=__importDefault(__nested_webpack_require_36918__(763)),generateStories=function generateStories(stories,renderers){return stories.map(function(s){var story={};"string"==typeof s?(story.url=s,story.type="image"):"object"===_typeof(s)&&(story=Object.assign(story,s));var renderer=(0,renderers_1.getRenderer)(story,renderers);return story.originalContent=story.content,story.content=renderer,story})};exports.WithHeader=withHeader_1.default,exports.WithSeeMore=withSeeMore_1.default,exports.default=function ReactInstaStories(_a){var _a$width=_a.width,_a$height=_a.height,_a$defaultInterval=_a.defaultInterval,_a$preloadCount=_a.preloadCount,restProps=__rest(_a,["width","height","defaultInterval","preloadCount"]),renderers=restProps.renderers?restProps.renderers.concat(index_1.renderers):index_1.renderers,context={width:void 0===_a$width?360:_a$width,height:void 0===_a$height?640:_a$height,loader:restProps.loader,header:restProps.header,storyContainerStyles:restProps.storyContainerStyles,storyInnerContainerStyles:restProps.storyInnerContainerStyles,storyStyles:restProps.storyStyles,progressContainerStyles:restProps.progressContainerStyles,progressWrapperStyles:restProps.progressWrapperStyles,progressStyles:restProps.progressStyles,loop:restProps.loop,defaultInterval:void 0===_a$defaultInterval?4e3:_a$defaultInterval,isPaused:restProps.isPaused,currentIndex:restProps.currentIndex,onStoryStart:restProps.onStoryStart,onStoryEnd:restProps.onStoryEnd,onAllStoriesEnd:restProps.onAllStoriesEnd,onNext:restProps.onNext,onPrevious:restProps.onPrevious,keyboardNavigation:restProps.keyboardNavigation,preventDefault:restProps.preventDefault,preloadCount:void 0===_a$preloadCount?1:_a$preloadCount},_ref2=_slicedToArray((0,react_1.useState)({stories:generateStories(restProps.stories,renderers)}),2),stories=_ref2[0],setStories=_ref2[1];return(0,react_1.useEffect)(function(){setStories({stories:generateStories(restProps.stories,renderers)})},[restProps.stories,restProps.renderers]),react_1.default.createElement(Global_1.default.Provider,{value:context},react_1.default.createElement(Stories_1.default.Provider,{value:stories},react_1.default.createElement(Container_1.default,null)))}},350:function(__unused_webpack_module,exports,__nested_webpack_require_43917__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.tester=exports.renderer=void 0;var React=__importStar(__nested_webpack_require_43917__(639));exports.renderer=function renderer(props){React.useEffect(function(){props.action("play")},[props.story]);var Content=props.story.originalContent;return React.createElement(Content,Object.assign({},props))},exports.tester=function tester(story){return{condition:!!story.content,priority:2}},exports.default={renderer:exports.renderer,tester:exports.tester}},248:function(__unused_webpack_module,exports,__nested_webpack_require_45686__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result};Object.defineProperty(exports,"__esModule",{value:!0}),exports.tester=exports.renderer=void 0;var React=__importStar(__nested_webpack_require_45686__(639));exports.renderer=function renderer(_ref){var story=_ref.story,action=_ref.action;return React.useEffect(function(){action("play")},[story]),React.createElement("div",{style:styles.storyContent},React.createElement("p",{style:styles.text},"This story could not be loaded."))};var styles={storyContent:{width:"100%",maxHeight:"100%",margin:"auto"},text:{textAlign:"center",color:"white",width:"90%",margin:"auto"}};exports.tester=function tester(){return{condition:!0,priority:1}},exports.default={renderer:exports.renderer,tester:exports.tester}},209:function(__unused_webpack_module,exports,__nested_webpack_require_47732__){function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.tester=exports.renderer=void 0;var React=__importStar(__nested_webpack_require_47732__(639)),Spinner_1=__importDefault(__nested_webpack_require_47732__(353)),withHeader_1=__importDefault(__nested_webpack_require_47732__(803)),withSeeMore_1=__importDefault(__nested_webpack_require_47732__(763));exports.renderer=function renderer(_ref){var story=_ref.story,action=_ref.action,config=(_ref.isPaused,_ref.config),_React$useState2=_slicedToArray(React.useState(!1),2),loaded=_React$useState2[0],setLoaded=_React$useState2[1],width=config.width,height=config.height,loader=config.loader,storyStyles=config.storyStyles,computedStyles=Object.assign(Object.assign({},styles.storyContent),storyStyles||{});return React.createElement(withHeader_1.default,Object.assign({},{story:story,globalHeader:config.header}),React.createElement(withSeeMore_1.default,Object.assign({},{story:story,action:action}),React.createElement("div",null,React.createElement("img",{style:computedStyles,src:story.url,onLoad:function imageLoaded(){setLoaded(!0),action("play")}}),!loaded&&React.createElement("div",{style:{width:width,height:height,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},loader||React.createElement(Spinner_1.default,null)))))};var styles={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"}};exports.tester=function tester(story){return{condition:!story.content&&(!story.type||"image"===story.type),priority:2}},exports.default={renderer:exports.renderer,tester:exports.tester}},544:function(__unused_webpack_module,exports,__nested_webpack_require_52859__){function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.tester=exports.renderer=void 0;var React=__importStar(__nested_webpack_require_52859__(639)),Spinner_1=__importDefault(__nested_webpack_require_52859__(353)),withHeader_1=__importDefault(__nested_webpack_require_52859__(803)),withSeeMore_1=__importDefault(__nested_webpack_require_52859__(763));exports.renderer=function renderer(_ref){var story=_ref.story,action=_ref.action,isPaused=_ref.isPaused,config=_ref.config,messageHandler=_ref.messageHandler,_React$useState2=_slicedToArray(React.useState(!1),2),loaded=_React$useState2[0],setLoaded=_React$useState2[1],_React$useState4=_slicedToArray(React.useState(story.muted||!1),2),muted=_React$useState4[0],setMuted=_React$useState4[1],width=config.width,height=config.height,loader=config.loader,storyStyles=config.storyStyles,computedStyles=Object.assign(Object.assign({},styles.storyContent),storyStyles||{}),vid=React.useRef(null);return React.useEffect(function(){vid.current&&(isPaused?vid.current.pause():vid.current.play().catch(function(){}))},[isPaused]),React.createElement(withHeader_1.default,Object.assign({},{story:story,globalHeader:config.header}),React.createElement(withSeeMore_1.default,Object.assign({},{story:story,action:action}),React.createElement("div",{style:styles.videoContainer},React.createElement("video",{ref:vid,style:computedStyles,src:story.url,controls:!1,onLoadedData:function videoLoaded(){messageHandler("UPDATE_VIDEO_DURATION",{duration:vid.current.duration}),setLoaded(!0),vid.current.play().then(function(){action("play")}).catch(function(){setMuted(!0),vid.current.play().finally(function(){action("play")})})},playsInline:!0,onWaiting:function onWaiting(){action("pause",!0)},onPlaying:function onPlaying(){action("play",!0)},muted:muted,autoPlay:!0,"webkit-playsinline":"true"}),!loaded&&React.createElement("div",{style:{width:width,height:height,position:"absolute",left:0,top:0,background:"rgba(0, 0, 0, 0.9)",zIndex:9,display:"flex",justifyContent:"center",alignItems:"center",color:"#ccc"}},loader||React.createElement(Spinner_1.default,null)))))};var styles={storyContent:{width:"auto",maxWidth:"100%",maxHeight:"100%",margin:"auto"},videoContainer:{display:"flex",alignItems:"center",justifyContent:"center"}};exports.tester=function tester(story){return{condition:"video"===story.type,priority:2}},exports.default={renderer:exports.renderer,tester:exports.tester}},942:function(__unused_webpack_module,exports,__nested_webpack_require_59086__){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderers=void 0;var Image_1=__importDefault(__nested_webpack_require_59086__(209)),Video_1=__importDefault(__nested_webpack_require_59086__(544)),Default_1=__importDefault(__nested_webpack_require_59086__(248)),AutoPlayContent_1=__importDefault(__nested_webpack_require_59086__(350));exports.renderers=[Image_1.default,Video_1.default,AutoPlayContent_1.default,Default_1.default]},803:function(__unused_webpack_module,exports,__nested_webpack_require_59773__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(__nested_webpack_require_59773__(639)),Header_1=__importDefault(__nested_webpack_require_59773__(463));exports.default=function withHeader(_ref){var story=_ref.story,globalHeader=_ref.globalHeader,children=_ref.children;return react_1.default.createElement(react_1.default.Fragment,null,children,story.header&&react_1.default.createElement("div",{style:{position:"absolute",left:12,top:20,zIndex:19}},"object"===_typeof(story)?globalHeader?globalHeader(story.header):react_1.default.createElement(Header_1.default,{heading:story.header.heading,subheading:story.header.subheading,profileImage:story.header.profileImage}):null))}},763:function(__unused_webpack_module,exports,__nested_webpack_require_61215__){function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function get(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__nested_webpack_require_61215__(639)),SeeMore_1=__importDefault(__nested_webpack_require_61215__(771));exports.default=function withSeeMore(_ref){var story=_ref.story,action=_ref.action,customCollapsed=_ref.customCollapsed,children=_ref.children,_ref3=_slicedToArray((0,react_1.useState)(!1),2),showMore=_ref3[0],setShowMore=_ref3[1],CollapsedComponent=SeeMore_1.default;return react_1.default.createElement(react_1.default.Fragment,null,children,story.seeMore&&react_1.default.createElement("div",{style:{position:"absolute",margin:"auto",bottom:showMore?"unset":0,zIndex:9999,width:"100%",height:showMore?"100%":"auto"}},react_1.default.createElement(CollapsedComponent,{action:action,toggleMore:function toggleMore(show){action(show?"pause":"play"),setShowMore(show)},showContent:showMore,seeMoreContent:story.seeMore,customCollapsed:customCollapsed||story.seeMoreCollapsed})))}},371:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRenderer=void 0,exports.getRenderer=function getRenderer(story,renderers){var probable=renderers.map(function(r){return Object.assign(Object.assign({},r),{testerResult:r.tester(story)})}).filter(function(r){return r.testerResult.condition});return probable.sort(function(a,b){return b.testerResult.priority-a.testerResult.priority}),probable[0].renderer}},335:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.timestamp=void 0,exports.timestamp=function timestamp(){return window.performance&&window.performance.now?window.performance.now():new Date().getTime()}},342:(__unused_webpack_module,exports,__nested_webpack_require_66293__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__nested_webpack_require_66293__(639);exports.default=function useIsMounted(){var isMounted=(0,react_1.useRef)(!1);return(0,react_1.useEffect)(function(){return isMounted.current=!0,function(){isMounted.current=!1}},[]),(0,react_1.useCallback)(function(){return isMounted.current},[])}},402:function(__unused_webpack_module,exports,__nested_webpack_require_66843__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self1,tryLocsList){var generator=Object.create((outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator).prototype);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self1,new Context(tryLocsList||[]))}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this});var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){var previousPromise;function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self1,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self1,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this}),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self1,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self1,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,function(){return this}),define(Gp,"toString",function(){return"[object Generator]"}),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.usePreLoader=void 0;var react_1=__nested_webpack_require_66843__(639),urlsLoaded=new Set,markUrlsLoaded=function markUrlsLoaded(contents){contents.forEach(function(content){urlsLoaded.add(content.url)})},shouldPreload=function shouldPreload(content){return!(!content.url||urlsLoaded.has(content.url))&&(void 0!==content.preloadResource?content.preloadResource:"video"!==content.type)};exports.usePreLoader=function usePreLoader(contents,cursor,preloadCount){(0,react_1.useEffect)(function(){var toPreload=contents.slice(cursor+1,cursor+preloadCount+1).filter(shouldPreload);markUrlsLoaded(toPreload),__awaiter(void 0,void 0,void 0,_regeneratorRuntime().mark(function _callee(){var promises;return _regeneratorRuntime().wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return promises=toPreload.map(function(content){return new Promise(function(resolve,reject){if(content.url){if("video"===content.type){var video=document.createElement("video");video.src=content.url,video.onloadeddata=resolve,video.onerror=reject;return}var img=new Image;img.src=content.url,img.onload=resolve,img.onerror=reject}})}),_context.next=3,Promise.all(promises);case 3:case"end":return _context.stop()}},_callee)}))},[cursor,preloadCount,contents])}},639:module=>{module.exports=__WEBPACK_EXTERNAL_MODULE__639__}},__webpack_module_cache__={};function __nested_webpack_require_82865__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_82865__),module.exports}return __nested_webpack_require_82865__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __nested_webpack_require_82865__.d(getter,{a:getter}),getter},__nested_webpack_require_82865__.d=(exports,definition)=>{for(var key in definition)__nested_webpack_require_82865__.o(definition,key)&&!__nested_webpack_require_82865__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__nested_webpack_require_82865__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__nested_webpack_require_82865__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__nested_webpack_require_82865__(370)})()}}]);