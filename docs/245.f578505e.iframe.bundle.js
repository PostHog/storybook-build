(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{"./frontend/src/scenes/events/PropertiesVolumeTable.tsx":function(p,r,e){"use strict";e.r(r),e.d(r,"scene",function(){return Y}),e.d(r,"PropertiesVolumeTable",function(){return A});var g=e("./node_modules/react/index.js"),n=e.n(g),l=e("./node_modules/kea/lib/index.esm.js"),h=e("./node_modules/antd/es/alert/index.js"),F=e("./node_modules/antd/es/skeleton/index.js"),C=e("./frontend/src/scenes/PreflightCheck/logic.tsx"),D=e("./frontend/src/models/propertyDefinitionsModel.ts"),E=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),M=e("./frontend/src/scenes/events/VolumeTable.tsx"),N=e("./frontend/src/scenes/events/definitions/DefinitionDrawer.tsx"),R=e("./frontend/src/scenes/data-management/DataManagementPageHeader.tsx"),W=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),P=e("./frontend/src/lib/constants.tsx"),B=e("./frontend/src/lib/logic/featureFlagLogic.ts"),u=e("./frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts"),ee=e("./node_modules/core-js/modules/es.array.concat.js"),ne=e("./node_modules/core-js/modules/es.function.name.js"),z=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),j=e.n(z),H=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),U=e.n(H),$=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss"),L=e.n($),y={};y.insert="head",y.singleton=!1;var te=U()(L.a,y),oe=L.a.locals||{},G=e("./frontend/src/lib/components/LemonTable/index.ts"),J=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),K=e("./frontend/src/scenes/organizationLogic.tsx"),V=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),Q=e("./frontend/src/lib/utils.tsx"),X=e("./node_modules/antd/es/input/index.js"),ae={component:S,logic:u.b,paramsToProps:function(){return{syncWithUrl:!0}}};function S(){var m,i,d=Object(l.useValues)(u.b),t=d.eventPropertyDefinitions,b=d.eventPropertyDefinitionsLoading,x=d.openedDefinitionId,v=d.filters,T=Object(l.useActions)(u.b),I=T.loadEventPropertyDefinitions,Z=T.setLocalEventPropertyDefinition,w=T.setFilters,O=Object(l.useValues)(K.a),k=O.hasDashboardCollaboration,q=O.hasIngestionTaxonomy,_=[{key:"icon",className:"definition-column-icon",render:function(a,o){return n.a.createElement(V.b,{definition:o,hideView:!0,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(a,o){return n.a.createElement(V.b,{definition:o,hideIcon:!0,hideView:!0,openDetailInNewTab:!1,updateRemoteItem:function(f){Z(f)}})},sorter:function(a,o){return a.name.localeCompare(o.name)}}].concat(j()(k?[{title:"Tags",key:"tags",render:function(a,o){var s;return n.a.createElement(J.a,{tags:(s=o.tags)!==null&&s!==void 0?s:[],staticOnly:!0})}}]:[]),j()(q?[{title:"30 day queries",key:"query_usage_30_day",align:"right",render:function(a,o){return o.query_usage_30_day?Object(Q.O)(o.query_usage_30_day):n.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(a,o){var s,f;return((s=a==null?void 0:a.query_usage_30_day)!==null&&s!==void 0?s:0)-((f=o==null?void 0:o.query_usage_30_day)!==null&&f!==void 0?f:0)}}]:[]));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flexDirection:"row",alignItems:"center",width:"100%",marginBottom:"1rem"}},n.a.createElement(X.a.Search,{placeholder:"Search for properties",allowClear:!0,enterButton:!0,value:v.property,style:{maxWidth:600,width:"initial"},onChange:function(a){w({property:a.target.value||""})}})),n.a.createElement(G.a,{columns:_,className:"event-properties-definition-table","data-attr":"event-properties-definition-table",loading:b,rowKey:"id",rowStatus:function(a){return a.id===x?"highlighted":void 0},pagination:{controlled:!0,currentPage:(m=t==null?void 0:t.page)!==null&&m!==void 0?m:1,entryCount:(i=t==null?void 0:t.count)!==null&&i!==void 0?i:0,pageSize:u.a,onForward:t.next?function(){I(t.next)}:void 0,onBackward:t.previous?function(){I(t.previous)}:void 0},dataSource:t.results,emptyState:"No event property definitions",nouns:["property","properties"]}))}var Y={component:A,logic:D.a};function A(){var m=Object(l.useValues)(C.a),i=m.preflight,d=Object(l.useValues)(D.a),t=d.propertyDefinitions,b=d.loaded,x=Object(l.useValues)(B.a),v=x.featureFlags;return n.a.createElement("div",{"data-attr":"manage-events-table"},n.a.createElement(R.a,{activeTab:W.b.EventPropertyDefinitions}),v[P.o.DATA_MANAGEMENT]?n.a.createElement(n.a.Fragment,null,i&&!(i!=null&&i.is_event_property_usage_enabled)?n.a.createElement(E.a,{tab:"Event Property Definitions"}):t.length===0||t[0].query_usage_30_day===null&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{type:"warning",message:"We haven't been able to get usage and volume data yet. Please check back later.",style:{marginBottom:"1rem"}})),n.a.createElement(l.BindLogic,{logic:u.b,props:{}},n.a.createElement(S,null))):n.a.createElement(n.a.Fragment,null,b?n.a.createElement(n.a.Fragment,null,i&&!(i!=null&&i.is_event_property_usage_enabled)?n.a.createElement(E.a,{tab:"Properties Stats"}):t.length===0||t[0].query_usage_30_day===null&&n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{type:"warning",message:"We haven't been able to get usage and volume data yet. Please check back later.",style:{marginBottom:"1rem"}})),n.a.createElement(M.a,{data:t,type:"property"})):n.a.createElement(F.a,{active:!0,paragraph:{rows:5}})),!v[P.o.DATA_MANAGEMENT]&&n.a.createElement(N.a,null))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss":function(p,r,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");r=g(!1),r.push([p.i,'.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:flex-start}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted path{fill:var(--taxonomy-icon-muted)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{height:28px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified path{fill:var(--success)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified:not(.taxonomy-icon-ph){margin-bottom:-4px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name{display:flex;flex-direction:row;align-items:center}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;left:-10px;right:-50px;height:22px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--text-muted);text-overflow:ellipsis}',""]),p.exports=r}}]);
