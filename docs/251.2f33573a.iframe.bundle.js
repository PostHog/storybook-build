(window.webpackJsonp=window.webpackJsonp||[]).push([[251],{4738:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"AsyncMigrations",(function(){return AsyncMigrations}));__webpack_require__(190),__webpack_require__(206),__webpack_require__(34),__webpack_require__(64);var AsyncMigrationStatus,AsyncMigrationsTab,react=__webpack_require__(0),react_default=__webpack_require__.n(react),PageHeader=__webpack_require__(205),tabs=__webpack_require__(569),es_progress=__webpack_require__(2568),space=__webpack_require__(4278),index_esm=__webpack_require__(1),regenerator=(__webpack_require__(62),__webpack_require__(88),__webpack_require__(48),__webpack_require__(41),__webpack_require__(104),__webpack_require__(53),__webpack_require__(8)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(69),__webpack_require__(13)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),defineProperty=__webpack_require__(3),defineProperty_default=__webpack_require__.n(defineProperty),utils=__webpack_require__(10),api=__webpack_require__(22),userLogic=__webpack_require__(68);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}!function(AsyncMigrationStatus){AsyncMigrationStatus[AsyncMigrationStatus.NotStarted=0]="NotStarted",AsyncMigrationStatus[AsyncMigrationStatus.Running=1]="Running",AsyncMigrationStatus[AsyncMigrationStatus.CompletedSuccessfully=2]="CompletedSuccessfully",AsyncMigrationStatus[AsyncMigrationStatus.Errored=3]="Errored",AsyncMigrationStatus[AsyncMigrationStatus.RolledBack=4]="RolledBack",AsyncMigrationStatus[AsyncMigrationStatus.Starting=5]="Starting"}(AsyncMigrationStatus||(AsyncMigrationStatus={})),function(AsyncMigrationsTab){AsyncMigrationsTab.Management="management",AsyncMigrationsTab.Settings="settings"}(AsyncMigrationsTab||(AsyncMigrationsTab={}));var migrationStatusNumberToMessage={0:"Not started",1:"Running",2:"Complete",3:"Error",4:"Rolled back",5:"Starting"},asyncMigrationsLogic=Object(index_esm.kea)({path:["scenes","instance","AsyncMigrations","asyncMigrationsLogic"],actions:{triggerMigration:function triggerMigration(migrationId){return{migrationId:migrationId}},resumeMigration:function resumeMigration(migrationId){return{migrationId:migrationId}},rollbackMigration:function rollbackMigration(migrationId){return{migrationId:migrationId}},forceStopMigration:function forceStopMigration(migrationId){return{migrationId:migrationId}},forceStopMigrationWithoutRollback:function forceStopMigrationWithoutRollback(migrationId){return{migrationId:migrationId}},setActiveTab:function setActiveTab(tab){return{tab:tab}},updateSetting:function updateSetting(settingKey,newValue){return{settingKey:settingKey,newValue:newValue}},loadAsyncMigrationErrors:function loadAsyncMigrationErrors(migrationId){return{migrationId:migrationId}},loadAsyncMigrationErrorsSuccess:function loadAsyncMigrationErrorsSuccess(migrationId,errors){return{migrationId:migrationId,errors:errors}},loadAsyncMigrationErrorsFailure:function loadAsyncMigrationErrorsFailure(migrationId,error){return{migrationId:migrationId,error:error}}},reducers:{activeTab:[AsyncMigrationsTab.Management,{setActiveTab:function setActiveTab(_,_ref){return _ref.tab}}],asyncMigrationErrors:[{},{loadAsyncMigrationErrorsSuccess:function loadAsyncMigrationErrorsSuccess(state,_ref2){var migrationId=_ref2.migrationId,errors=_ref2.errors;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},migrationId,errors))}}],asyncMigrationErrorsLoading:[{},{loadAsyncMigrationErrors:function loadAsyncMigrationErrors(state,_ref3){var migrationId=_ref3.migrationId;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},migrationId,!0))},loadAsyncMigrationErrorsSuccess:function loadAsyncMigrationErrorsSuccess(state,_ref4){var migrationId=_ref4.migrationId;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},migrationId,!1))},loadAsyncMigrationErrorsFailure:function loadAsyncMigrationErrorsFailure(state,_ref5){var migrationId=_ref5.migrationId;return _objectSpread(_objectSpread({},state),{},defineProperty_default()({},migrationId,!1))}}]},loaders:function loaders(){return{asyncMigrations:[[],{loadAsyncMigrations:(_loadAsyncMigrations=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var _userLogic$values$use;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(null===(_userLogic$values$use=userLogic.a.values.user)||void 0===_userLogic$values$use?void 0:_userLogic$values$use.is_staff){_context.next=2;break}return _context.abrupt("return",[]);case 2:return _context.next=4,api.a.get("api/async_migrations");case 4:return _context.abrupt("return",_context.sent.results);case 5:case"end":return _context.stop()}}),_callee)}))),function loadAsyncMigrations(){return _loadAsyncMigrations.apply(this,arguments)})}],asyncMigrationSettings:[[],{loadAsyncMigrationSettings:(_loadAsyncMigrationSettings=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(){var _userLogic$values$use2,settings;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null===(_userLogic$values$use2=userLogic.a.values.user)||void 0===_userLogic$values$use2?void 0:_userLogic$values$use2.is_staff){_context2.next=2;break}return _context2.abrupt("return",[]);case 2:return _context2.next=4,api.a.get("api/instance_settings");case 4:return settings=_context2.sent.results,_context2.abrupt("return",settings.filter((function(setting){return setting.key.includes("ASYNC_MIGRATIONS")})));case 6:case"end":return _context2.stop()}}),_callee2)}))),function loadAsyncMigrationSettings(){return _loadAsyncMigrationSettings.apply(this,arguments)})}]};var _loadAsyncMigrationSettings,_loadAsyncMigrations},listeners:function listeners(_ref6){var _loadAsyncMigrationErrors,_updateSetting,_forceStopMigrationWithoutRollback,_forceStopMigration,_rollbackMigration,_resumeMigration,_triggerMigration,actions=_ref6.actions;return{triggerMigration:(_triggerMigration=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(_ref7){var migrationId,res;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return migrationId=_ref7.migrationId,_context3.next=3,api.a.create("/api/async_migrations/".concat(migrationId,"/trigger"));case 3:(res=_context3.sent).success?(Object(utils.wb)("Migration triggered successfully"),actions.loadAsyncMigrations()):Object(utils.A)("Failed to trigger migration",res.error);case 5:case"end":return _context3.stop()}}),_callee3)}))),function triggerMigration(_x){return _triggerMigration.apply(this,arguments)}),resumeMigration:(_resumeMigration=asyncToGenerator_default()(regenerator_default.a.mark((function _callee4(_ref8){var migrationId,res;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return migrationId=_ref8.migrationId,_context4.next=3,api.a.create("/api/async_migrations/".concat(migrationId,"/resume"));case 3:(res=_context4.sent).success?(Object(utils.wb)("Migration resume triggered successfully"),actions.loadAsyncMigrations()):Object(utils.A)("Failed to resume migration",res.error);case 5:case"end":return _context4.stop()}}),_callee4)}))),function resumeMigration(_x2){return _resumeMigration.apply(this,arguments)}),rollbackMigration:(_rollbackMigration=asyncToGenerator_default()(regenerator_default.a.mark((function _callee5(_ref9){var migrationId,res;return regenerator_default.a.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return migrationId=_ref9.migrationId,_context5.next=3,api.a.create("/api/async_migrations/".concat(migrationId,"/rollback"));case 3:(res=_context5.sent).success?(Object(utils.wb)("Migration rolledback triggered successfully"),actions.loadAsyncMigrations()):Object(utils.A)("Failed to rollback migration",res.error);case 5:case"end":return _context5.stop()}}),_callee5)}))),function rollbackMigration(_x3){return _rollbackMigration.apply(this,arguments)}),forceStopMigration:(_forceStopMigration=asyncToGenerator_default()(regenerator_default.a.mark((function _callee6(_ref10){var migrationId,res;return regenerator_default.a.wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return migrationId=_ref10.migrationId,_context6.next=3,api.a.create("/api/async_migrations/".concat(migrationId,"/force_stop"));case 3:(res=_context6.sent).success?(Object(utils.wb)("Force stop triggered successfully"),actions.loadAsyncMigrations()):Object(utils.A)("Failed to trigger force stop",res.error);case 5:case"end":return _context6.stop()}}),_callee6)}))),function forceStopMigration(_x4){return _forceStopMigration.apply(this,arguments)}),forceStopMigrationWithoutRollback:(_forceStopMigrationWithoutRollback=asyncToGenerator_default()(regenerator_default.a.mark((function _callee7(_ref11){var migrationId,res;return regenerator_default.a.wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return migrationId=_ref11.migrationId,_context7.next=3,api.a.create("/api/async_migrations/".concat(migrationId,"/force_stop_without_rollback"));case 3:(res=_context7.sent).success?(Object(utils.wb)("Force stop without rollback triggered successfully"),actions.loadAsyncMigrations()):Object(utils.A)("Failed to trigger force stop without rollback",res.error);case 5:case"end":return _context7.stop()}}),_callee7)}))),function forceStopMigrationWithoutRollback(_x5){return _forceStopMigrationWithoutRollback.apply(this,arguments)}),updateSetting:(_updateSetting=asyncToGenerator_default()(regenerator_default.a.mark((function _callee8(_ref12){var settingKey,newValue;return regenerator_default.a.wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return settingKey=_ref12.settingKey,newValue=_ref12.newValue,_context8.prev=1,_context8.next=4,api.a.update("/api/instance_settings/".concat(settingKey),{value:newValue});case 4:Object(utils.wb)("Setting updated successfully!","Instance setting ".concat(settingKey," has been updated.")),actions.loadAsyncMigrationSettings(),_context8.next=11;break;case 8:_context8.prev=8,_context8.t0=_context8.catch(1),Object(utils.A)("Failed to trigger migration.","Please try again or contact support.");case 11:case"end":return _context8.stop()}}),_callee8,null,[[1,8]])}))),function updateSetting(_x6){return _updateSetting.apply(this,arguments)}),loadAsyncMigrationErrors:(_loadAsyncMigrationErrors=asyncToGenerator_default()(regenerator_default.a.mark((function _callee9(_ref13){var migrationId,errorsForMigration;return regenerator_default.a.wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return migrationId=_ref13.migrationId,_context9.prev=1,_context9.next=4,api.a.get("api/async_migrations/".concat(migrationId,"/errors"));case 4:errorsForMigration=_context9.sent,actions.loadAsyncMigrationErrorsSuccess(migrationId,errorsForMigration),_context9.next=11;break;case 8:_context9.prev=8,_context9.t0=_context9.catch(1),actions.loadAsyncMigrationErrorsFailure(migrationId,_context9.t0);case 11:case"end":return _context9.stop()}}),_callee9,null,[[1,8]])}))),function loadAsyncMigrationErrors(_x7){return _loadAsyncMigrationErrors.apply(this,arguments)})}},events:function events(_ref14){var actions=_ref14.actions;return{afterMount:function afterMount(){actions.loadAsyncMigrations(),actions.loadAsyncMigrationSettings()}}}}),Tooltip=__webpack_require__(47),Spinner=__webpack_require__(211),slicedToArray=__webpack_require__(12),slicedToArray_default=__webpack_require__.n(slicedToArray),row=__webpack_require__(411),col=__webpack_require__(353),input=__webpack_require__(510),es_button=__webpack_require__(141),divider=__webpack_require__(4228);function SettingUpdateField(_ref){var setting=_ref.setting,updateSetting=Object(index_esm.useActions)(asyncMigrationsLogic).updateSetting,_useState=Object(react.useState)(String(setting.value)),_useState2=slicedToArray_default()(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];return react_default.a.createElement("div",{key:setting.key},react_default.a.createElement("h4",null,setting.key),react_default.a.createElement("p",null,setting.description),react_default.a.createElement(row.a,{gutter:[8,8]},react_default.a.createElement(col.a,{span:8},react_default.a.createElement(input.a,{value:inputValue,onChange:function onChange(e){return setInputValue(e.target.value)}})),react_default.a.createElement(col.a,{span:16},react_default.a.createElement(es_button.a,{disabled:String(setting.value)===inputValue,type:"primary",onClick:function onClick(){return updateSetting(setting.key,inputValue)}},"Update"))),react_default.a.createElement(divider.a,null))}try{SettingUpdateField.displayName="SettingUpdateField",SettingUpdateField.__docgenInfo={description:"",displayName:"SettingUpdateField",props:{setting:{defaultValue:null,description:"",name:"setting",required:!0,type:{name:"InstanceSetting"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/instance/AsyncMigrations/SettingUpdateField.tsx#SettingUpdateField"]={docgenInfo:SettingUpdateField.__docgenInfo,name:"SettingUpdateField",path:"frontend/src/scenes/instance/AsyncMigrations/SettingUpdateField.tsx#SettingUpdateField"})}catch(__react_docgen_typescript_loader_error){}var LemonTable=__webpack_require__(244),LemonButton=__webpack_require__(65),icons=__webpack_require__(36);function AsyncMigrationDetails(_ref){var asyncMigration=_ref.asyncMigration,_useValues=Object(index_esm.useValues)(asyncMigrationsLogic),asyncMigrationErrorsLoading=_useValues.asyncMigrationErrorsLoading,asyncMigrationErrors=_useValues.asyncMigrationErrors,loadAsyncMigrationErrors=Object(index_esm.useActions)(asyncMigrationsLogic).loadAsyncMigrationErrors,columns=[{title:"Error",dataIndex:"description"},{title:"Timestamp",render:function Render(_,asyncMigrationError){return react_default.a.createElement("div",null,Object(utils.L)(asyncMigrationError.created_at))}}];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(LemonTable.a,{columns:columns,dataSource:asyncMigrationErrors[asyncMigration.id],loading:asyncMigrationErrorsLoading[asyncMigration.id],embedded:!0}),react_default.a.createElement(LemonButton.a,{icon:asyncMigrationErrorsLoading[asyncMigration.id]?react_default.a.createElement(Spinner.a,{size:"sm"}):react_default.a.createElement(icons.IconRefresh,null),onClick:function onClick(){return loadAsyncMigrationErrors(asyncMigration.id)},type:"secondary",compact:!0,style:{position:"absolute",top:"0.5rem",right:"1.5rem"}},"Refresh errors"))}try{AsyncMigrationDetails.displayName="AsyncMigrationDetails",AsyncMigrationDetails.__docgenInfo={description:"",displayName:"AsyncMigrationDetails",props:{asyncMigration:{defaultValue:null,description:"",name:"asyncMigration",required:!0,type:{name:"AsyncMigration"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/instance/AsyncMigrations/AsyncMigrationDetails.tsx#AsyncMigrationDetails"]={docgenInfo:AsyncMigrationDetails.__docgenInfo,name:"AsyncMigrationDetails",path:"frontend/src/scenes/instance/AsyncMigrations/AsyncMigrationDetails.tsx#AsyncMigrationDetails"})}catch(__react_docgen_typescript_loader_error){}var More=__webpack_require__(511),LemonTag=__webpack_require__(571),scene={component:AsyncMigrations,logic:asyncMigrationsLogic},TabPane=tabs.a.TabPane;function AsyncMigrations(){var user=Object(index_esm.useValues)(userLogic.a).user,_useValues2=Object(index_esm.useValues)(asyncMigrationsLogic),asyncMigrations=_useValues2.asyncMigrations,asyncMigrationsLoading=_useValues2.asyncMigrationsLoading,activeTab=_useValues2.activeTab,asyncMigrationSettings=_useValues2.asyncMigrationSettings,_useActions=Object(index_esm.useActions)(asyncMigrationsLogic),triggerMigration=_useActions.triggerMigration,resumeMigration=_useActions.resumeMigration,rollbackMigration=_useActions.rollbackMigration,forceStopMigration=_useActions.forceStopMigration,forceStopMigrationWithoutRollback=_useActions.forceStopMigrationWithoutRollback,loadAsyncMigrations=_useActions.loadAsyncMigrations,loadAsyncMigrationErrors=_useActions.loadAsyncMigrationErrors,setActiveTab=_useActions.setActiveTab,columns=[{title:"Migration",render:function Render(_,asyncMigration){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"row-name"},asyncMigration.name),react_default.a.createElement("div",{className:"row-description"},asyncMigration.description))}},{title:"Progress",render:function Render(_,asyncMigration){var progress=asyncMigration.progress;return react_default.a.createElement("div",null,react_default.a.createElement(es_progress.a,{percent:progress}))}},{title:"Status",render:function Render(_,asyncMigration){var status=asyncMigration.status,type=status===AsyncMigrationStatus.Running?"success":status===AsyncMigrationStatus.Errored?"danger":status===AsyncMigrationStatus.Starting||status===AsyncMigrationStatus.RolledBack?"warning":"default";return react_default.a.createElement(LemonTag.a,{type:type},migrationStatusNumberToMessage[status])}},{title:"Last operation index",dataIndex:"current_operation_index"},{title:"Last query ID",render:function Render(_,asyncMigration){return react_default.a.createElement("div",null,react_default.a.createElement("small",null,asyncMigration.current_query_id))}},{title:"Started at",render:function Render(_,asyncMigration){var startedAt=asyncMigration.started_at;return react_default.a.createElement("div",null,Object(utils.L)(startedAt))}},{title:"Finished at",render:function Render(_,asyncMigration){var finishedAt=asyncMigration.finished_at;return react_default.a.createElement("div",null,Object(utils.L)(finishedAt))}},{title:"",render:function Render(_,asyncMigration){var status=asyncMigration.status;return react_default.a.createElement("div",null,status===AsyncMigrationStatus.NotStarted?react_default.a.createElement(Tooltip.a,{title:"Start"},react_default.a.createElement(LemonButton.a,{type:"stealth",icon:react_default.a.createElement(icons.IconPlay,null),onClick:function onClick(){return triggerMigration(asyncMigration.id)},fullWidth:!0})):status===AsyncMigrationStatus.Running?react_default.a.createElement(More.a,{overlay:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(LemonButton.a,{type:"stealth",onClick:function onClick(){return forceStopMigration(asyncMigration.id)},fullWidth:!0},"Stop and rollback"),react_default.a.createElement(LemonButton.a,{type:"stealth",onClick:function onClick(){return forceStopMigrationWithoutRollback(asyncMigration.id)},fullWidth:!0},"Stop"))}):status===AsyncMigrationStatus.CompletedSuccessfully?react_default.a.createElement(react_default.a.Fragment,null):status===AsyncMigrationStatus.Errored?react_default.a.createElement(More.a,{overlay:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(LemonButton.a,{type:"stealth",onClick:function onClick(){return resumeMigration(asyncMigration.id)},fullWidth:!0},"Resume"),react_default.a.createElement(LemonButton.a,{type:"stealth",onClick:function onClick(){return triggerMigration(asyncMigration.id)},fullWidth:!0},"Restart without rollback"),react_default.a.createElement(LemonButton.a,{type:"stealth",onClick:function onClick(){return rollbackMigration(asyncMigration.id)},fullWidth:!0},"Rollback"))}):status===AsyncMigrationStatus.RolledBack?react_default.a.createElement(Tooltip.a,{title:"Restart"},react_default.a.createElement(LemonButton.a,{type:"stealth",icon:react_default.a.createElement(icons.IconReplay,null),onClick:function onClick(){return triggerMigration(asyncMigration.id)},fullWidth:!0})):status===AsyncMigrationStatus.Starting?react_default.a.createElement(Spinner.a,{size:"sm"}):null)}}],rowExpansion={expandedRowRender:function renderExpand(asyncMigration){return asyncMigration&&react_default.a.createElement(AsyncMigrationDetails,{asyncMigration:asyncMigration})},rowExpandable:function rowExpandable(asyncMigration){return asyncMigration.error_count>0},onRowExpand:function getErrors(asyncMigration){loadAsyncMigrationErrors(asyncMigration.id)}};return react_default.a.createElement("div",null,(null==user?void 0:user.is_staff)?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(PageHeader.a,{title:"Async Migrations",caption:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"Manage async migrations in your instance."),react_default.a.createElement("p",null,"Read about async migrations on our"," ",react_default.a.createElement("a",{href:"https://posthog.com/docs/self-host/configure/async-migrations"},"dedicated docs page"),"."))}),react_default.a.createElement(tabs.a,{activeKey:activeTab,onChange:function onChange(t){return setActiveTab(t)}},react_default.a.createElement(TabPane,{tab:"Management",key:AsyncMigrationsTab.Management}),react_default.a.createElement(TabPane,{tab:"Settings",key:AsyncMigrationsTab.Settings})),activeTab===AsyncMigrationsTab.Management?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"mb float-right"},react_default.a.createElement(LemonButton.a,{icon:asyncMigrationsLoading?react_default.a.createElement(Spinner.a,{size:"sm"}):react_default.a.createElement(icons.IconRefresh,null),onClick:loadAsyncMigrations,type:"secondary",compact:!0},"Refresh")),react_default.a.createElement(space.b,null),react_default.a.createElement(LemonTable.a,{pagination:{pageSize:10},loading:asyncMigrationsLoading,columns:columns,dataSource:asyncMigrations,expandable:rowExpansion})):activeTab===AsyncMigrationsTab.Settings?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("br",null),asyncMigrationSettings.map((function(setting){return react_default.a.createElement("div",{key:setting.key},react_default.a.createElement(SettingUpdateField,{setting:setting}))}))):null):react_default.a.createElement(PageHeader.a,{title:"Async Migrations",caption:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"Only users with staff access can manage async migrations. Please contact your instance admin."),react_default.a.createElement("p",null,"If you're an admin and don't have access, set ",react_default.a.createElement("code",null,"is_staff=true")," for your user on the PostgreSQL ",react_default.a.createElement("code",null,"posthog_user")," table."))}))}}}]);