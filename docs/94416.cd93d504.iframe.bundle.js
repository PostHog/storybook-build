"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[94416],{"../../frontend/src/lib/components/Scenes/ScenePin.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>ScenePin});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.33.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ScenePin(_ref){let{dataAttrKey,onClick,isPinned}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_1__.hL,{menuItem:!0,onClick:onClick,"data-attr":`${dataAttrKey}-pin-button`,tooltip:isPinned?"Unpin":"Pin",children:[isPinned?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconPinFilled,{className:"text-warning"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconPin,{}),"Pin"]})}},"../../frontend/src/lib/components/Scenes/SceneUpdateActivityInfo.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>SceneActivityIndicator});var lib_lemon_ui_ProfilePicture__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/src/lib/lemon-ui/ProfilePicture/index.ts"),_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/layout/scenes/SceneLayout.tsx"),_TZLabel__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/components/TZLabel/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SceneActivityIndicator(_ref){let{at,by,prefix="Last modified"}=_ref;return at||by?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_1__.ZV,{title:prefix,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("span",{className:"flex items-center gap-1 whitespace-normal flex-wrap",children:[at&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_TZLabel__WEBPACK_IMPORTED_MODULE_2__.w,{time:at,className:"w-fit"}),by&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("span",{className:"text-secondary",children:"by"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(lib_lemon_ui_ProfilePicture__WEBPACK_IMPORTED_MODULE_0__.Y,{user:by,showName:!0,size:"md"})]})]})}):null}},"../../frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SessionRecordingsPlaylistScene:()=>SessionRecordingsPlaylistScene,scene:()=>scene});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),posthog_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.281.0/node_modules/posthog-js/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_NotFound__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/NotFound/index.tsx"),lib_components_Scenes_SceneDuplicate__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneDuplicate.tsx"),lib_components_Scenes_SceneFile__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneFile.tsx"),lib_components_Scenes_SceneMetalyticsSummaryButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneMetalyticsSummaryButton.tsx"),lib_components_Scenes_ScenePin__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/components/Scenes/ScenePin.tsx"),lib_components_Scenes_SceneUpdateActivityInfo__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneUpdateActivityInfo.tsx"),lib_dayjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/lib/dayjs.ts"),lib_hooks_useFileSystemLogView__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/lib/hooks/useFileSystemLogView.ts"),lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSkeleton/index.ts"),lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),scenes_session_recordings_player_playerSettingsLogic__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../frontend/src/scenes/session-recordings/player/playerSettingsLogic.ts"),_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../frontend/src/layout/scenes/SceneLayout.tsx"),_layout_scenes_components_SceneContent__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneContent.tsx"),_layout_scenes_components_SceneDivider__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneDivider.tsx"),_layout_scenes_components_SceneTitleSection__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneTitleSection.tsx"),_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../frontend/src/scenes/session-recordings/utils.ts"),_SessionRecordingsPlaylist__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx"),_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts"),_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistSceneLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let RESOURCE_TYPE="replay-collection",scene={component:SessionRecordingsPlaylistScene,logic:_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_22__.p,paramsToProps:_ref=>{let{params:{id}}=_ref;return{shortId:id}},settingSectionId:"environment-replay"};function PlaylistSceneLoadingSkeleton(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{className:"gap-y-4 mt-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y,{className:"h-10 w-1/4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y,{className:"h-4 w-1/3"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y,{className:"h-4 w-1/4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y.Button,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{className:"flex gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y.Button,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y.Button,{})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{className:"flex justify-between gap-4 mt-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("div",{className:"gap-y-8 w-1/4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_12__.y,{className:"h-10",repeat:10})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)("div",{className:"flex-1"})]})]})}function SessionRecordingsPlaylistScene(){var _playlist$pinned;let{playlist,playlistLoading,pinnedRecordings,hasChanges}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_22__.p),{setFilters,updatePlaylist,duplicatePlaylist,deletePlaylist,onPinnedChange}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_22__.p),{showFilters}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_session_recordings_player_playerSettingsLogic__WEBPACK_IMPORTED_MODULE_14__.N),{setShowFilters}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_session_recordings_player_playerSettingsLogic__WEBPACK_IMPORTED_MODULE_14__.N),isNewPlaylist=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>!!playlist&&!playlistLoading&&!playlist.name,[playlist,playlistLoading]);return((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{playlist&&playlist.name&&!playlistLoading&&posthog_js__WEBPACK_IMPORTED_MODULE_1__.ZP.capture("viewed playlist",{playlist_id:playlist.id,playlist_name:playlist.name,is_synthetic:playlist.is_synthetic})},[playlist,playlistLoading]),(0,lib_hooks_useFileSystemLogView__WEBPACK_IMPORTED_MODULE_11__.W)({type:"session_recording_playlist",ref:playlist?.short_id,enabled:!!(playlist?.short_id&&!playlistLoading&&!playlist?.is_synthetic),deps:[playlist?.short_id,playlistLoading,playlist?.is_synthetic]}),playlistLoading)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(PlaylistSceneLoadingSkeleton,{}):playlist?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__.kI,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__.Ol,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_components_Scenes_SceneFile__WEBPACK_IMPORTED_MODULE_6__.z,{dataAttrKey:RESOURCE_TYPE}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_components_Scenes_SceneUpdateActivityInfo__WEBPACK_IMPORTED_MODULE_9__.T,{at:playlist.last_modified_at,by:playlist.last_modified_by,prefix:"Last modified"})]}),!playlist.is_synthetic&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__.bI,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__.EJ,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_components_Scenes_SceneDuplicate__WEBPACK_IMPORTED_MODULE_5__._,{dataAttrKey:RESOURCE_TYPE,onClick:()=>duplicatePlaylist()}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_components_Scenes_ScenePin__WEBPACK_IMPORTED_MODULE_8__.K,{dataAttrKey:RESOURCE_TYPE,onClick:()=>updatePlaylist({pinned:!playlist.pinned}),isPinned:null!==(_playlist$pinned=playlist.pinned)&&void 0!==_playlist$pinned&&_playlist$pinned}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_components_Scenes_SceneMetalyticsSummaryButton__WEBPACK_IMPORTED_MODULE_7__.B,{dataAttrKey:RESOURCE_TYPE})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__.bI,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_15__.EJ,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_13__.hL,{variant:"danger",onClick:()=>deletePlaylist(),menuItem:!0,children:"Delete collection"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsxs)(_layout_scenes_components_SceneContent__WEBPACK_IMPORTED_MODULE_16__._,{className:"SessionRecordingPlaylistHeightWrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_layout_scenes_components_SceneTitleSection__WEBPACK_IMPORTED_MODULE_18__.s,{name:playlist.name||"",description:playlist.description||"",resourceType:{type:"session_replay"},onNameChange:name=>{updatePlaylist({name})},onDescriptionChange:description=>{updatePlaylist({description})},canEdit:!playlist.is_synthetic,forceEdit:isNewPlaylist,renameDebounceMs:1e3,actions:playlist.is_synthetic?void 0:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Jp,{type:"primary",disabledReason:showFilters&&!hasChanges?"No changes to save":void 0,loading:hasChanges&&playlistLoading,onClick:()=>{showFilters?updatePlaylist():setShowFilters(!showFilters)},size:"small",children:showFilters?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:"Save changes"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.Fragment,{children:"Edit"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_layout_scenes_components_SceneDivider__WEBPACK_IMPORTED_MODULE_17__.V,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(_SessionRecordingsPlaylist__WEBPACK_IMPORTED_MODULE_20__.m,{logicKey:playlist.short_id,filters:playlist.filters&&(0,_utils__WEBPACK_IMPORTED_MODULE_19__.$U)(playlist.filters)?playlist.filters:(0,_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_21__.pr)({},playlist.filters),onFiltersChange:setFilters,onPinnedChange:onPinnedChange,pinnedRecordings:null!=pinnedRecordings?pinnedRecordings:[],canMixFiltersAndPinned:!!playlist.created_at&&(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_10__.Bv)(playlist.created_at).isBefore("2025-03-11"),updateSearchParams:!0,type:"collection",isSynthetic:playlist.is_synthetic,description:playlist.description})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_23__.jsx)(lib_components_NotFound__WEBPACK_IMPORTED_MODULE_4__.T,{object:"Recording Playlist"})}}}]);