(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{"./frontend/src/scenes/plugins/Plugins.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"Plugins",(function(){return Plugins_Plugins}));var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),Plugins=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss"),Plugins_default=__webpack_require__.n(Plugins),options={insert:"head",singleton:!1},react=(injectStylesIntoStyleTag_default()(Plugins_default.a,options),Plugins_default.a.locals,__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js")),PluginDrawer=__webpack_require__("./frontend/src/scenes/plugins/edit/PluginDrawer.tsx"),row=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/row/index.js"),col=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/col/index.js"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),pluginsLogic=__webpack_require__("./frontend/src/scenes/plugins/pluginsLogic.ts"),space=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/space/index.js"),es_button=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/button/index.js"),card=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/card/index.js"),es_tag=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tag/index.js"),InfoCircleOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),DownOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/DownOutlined.js"),GlobalOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),WarningOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),LoadingOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),CheckOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),LineChartOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),ClockCircleOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),objectSpread2=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),asn_UnorderedListOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},AntdIcon=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/components/AntdIcon.js"),icons_UnorderedListOutlined_UnorderedListOutlined=function UnorderedListOutlined(props,ref){return react.createElement(AntdIcon.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{ref:ref,icon:asn_UnorderedListOutlined}))};icons_UnorderedListOutlined_UnorderedListOutlined.displayName="UnorderedListOutlined";var icons_UnorderedListOutlined=react.forwardRef(icons_UnorderedListOutlined_UnorderedListOutlined),SettingOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),asn_CloudDownloadOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},icons_CloudDownloadOutlined_CloudDownloadOutlined=function CloudDownloadOutlined(props,ref){return react.createElement(AntdIcon.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{ref:ref,icon:asn_CloudDownloadOutlined}))};icons_CloudDownloadOutlined_CloudDownloadOutlined.displayName="CloudDownloadOutlined";var icons_CloudDownloadOutlined=react.forwardRef(icons_CloudDownloadOutlined_CloudDownloadOutlined),PluginImage=__webpack_require__("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),popover=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/popover/index.js"),asn_ClearOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},icons_ClearOutlined_ClearOutlined=function ClearOutlined(props,ref){return react.createElement(AntdIcon.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{ref:ref,icon:asn_ClearOutlined}))};icons_ClearOutlined_ClearOutlined.displayName="ClearOutlined";var icons_ClearOutlined=react.forwardRef(icons_ClearOutlined_ClearOutlined),CodeSnippet=__webpack_require__("./frontend/src/lib/components/CodeSnippet/index.tsx"),dayjs=__webpack_require__("./frontend/src/lib/dayjs.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function PluginError(_ref){let{error:error,reset:reset}=_ref;return error?Object(jsx_runtime.jsx)(popover.a,{title:Object(jsx_runtime.jsx)("div",{style:{textAlign:"center"},children:Object(dayjs.a)(error.time).format("YYYY-MM-DD - HH:mm:ss")}),content:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[reset?Object(jsx_runtime.jsxs)(es_button.a,{size:"small",onClick:reset,style:{float:"right",marginLeft:10},children:[Object(jsx_runtime.jsx)(icons_ClearOutlined,{})," Delete"]}):null,Object(jsx_runtime.jsxs)("div",{children:[error.name?Object(jsx_runtime.jsxs)("strong",{children:[error.name,": "]}):"",error.message]}),error.stack?Object(jsx_runtime.jsx)(CodeSnippet.a,{wrap:!0,style:{fontSize:10},language:CodeSnippet.b.JavaScript,children:error.stack}):null,error.event?Object(jsx_runtime.jsx)(CodeSnippet.a,{wrap:!0,style:{fontSize:10},language:CodeSnippet.b.JSON,children:JSON.stringify(error.event,null,2)}):null]}),trigger:"click",placement:"top",children:Object(jsx_runtime.jsx)(es_tag.a,{color:"red",style:{cursor:"pointer"},children:"ERROR"})}):null}try{PluginError.displayName="PluginError",PluginError.__docgenInfo={description:"",displayName:"PluginError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"PluginErrorType"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"]={docgenInfo:PluginError.__docgenInfo,name:"PluginError",path:"frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"})}catch(__react_docgen_typescript_loader_error){}var LocalPluginTag=__webpack_require__("./frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx"),types=__webpack_require__("./frontend/src/scenes/plugins/types.ts"),SourcePluginTag=__webpack_require__("./frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip.tsx");function SHATag(_ref){let{tag:tag}=_ref;return tag.match(/^[a-f0-9]{40}$/)?Object(jsx_runtime.jsx)("code",{children:tag.substring(0,7)}):Object(jsx_runtime.jsx)("code",{children:tag})}function UpdateAvailable(_ref2){let{url:url,tag:tag,latestTag:latestTag}=_ref2,compareUrl="";return url.match(/^https:\/\/(www.|)github.com\//)&&(compareUrl=`${url}/compare/${tag}...${latestTag}`),url.match(/^https:\/\/(www.|)gitlab.com\//)&&(compareUrl=`${url}/-/compare/${tag}...${latestTag}`),Object(jsx_runtime.jsx)(Tooltip.a,{title:Object(jsx_runtime.jsxs)("div",{children:["Installed: ",Object(jsx_runtime.jsx)(SHATag,{tag:tag}),Object(jsx_runtime.jsx)("br",{}),"Latest: ",Object(jsx_runtime.jsx)(SHATag,{tag:latestTag}),compareUrl?Object(jsx_runtime.jsx)("div",{style:{marginTop:10},children:"Click to see the diff"}):null]}),children:compareUrl?Object(jsx_runtime.jsx)("a",{href:compareUrl,target:"_blank",rel:"noreferrer noopener",children:Object(jsx_runtime.jsxs)(es_tag.a,{color:"volcano",style:{cursor:"pointer"},children:[Object(jsx_runtime.jsx)(icons_CloudDownloadOutlined,{})," Update available!"]})}):Object(jsx_runtime.jsxs)(es_tag.a,{color:"volcano",children:[Object(jsx_runtime.jsx)(icons_CloudDownloadOutlined,{})," Update available!"]})})}try{UpdateAvailable.displayName="UpdateAvailable",UpdateAvailable.__docgenInfo={description:"",displayName:"UpdateAvailable",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string"}},latestTag:{defaultValue:null,description:"",name:"latestTag",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"]={docgenInfo:UpdateAvailable.__docgenInfo,name:"UpdateAvailable",path:"frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"})}catch(__react_docgen_typescript_loader_error){}var userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),access=__webpack_require__("./frontend/src/scenes/plugins/access.ts");const PluginUpdateButton=_ref=>{let{updateStatus:updateStatus,pluginId:pluginId,rearranging:rearranging}=_ref;const{editPlugin:editPlugin,updatePlugin:updatePlugin}=Object(index_esm.useActions)(pluginsLogic.b),{pluginsUpdating:pluginsUpdating}=Object(index_esm.useValues)(pluginsLogic.b);return Object(jsx_runtime.jsx)(es_button.a,{type:null!=updateStatus&&updateStatus.updated?"default":"primary",className:"padding-under-500",onClick:()=>null!=updateStatus&&updateStatus.updated?editPlugin(pluginId):updatePlugin(pluginId),loading:pluginsUpdating.includes(pluginId),icon:null!=updateStatus&&updateStatus.updated?Object(jsx_runtime.jsx)(CheckOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CloudDownloadOutlined,{}),disabled:rearranging,"data-attr":"plugin-update",children:Object(jsx_runtime.jsx)("span",{className:"show-over-500",children:null!=updateStatus&&updateStatus.updated?"Updated":"Update"})})};try{PluginUpdateButton.displayName="PluginUpdateButton",PluginUpdateButton.__docgenInfo={description:"",displayName:"PluginUpdateButton",props:{updateStatus:{defaultValue:null,description:"",name:"updateStatus",required:!0,type:{name:"PluginUpdateStatusType | undefined"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!0,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"]={docgenInfo:PluginUpdateButton.__docgenInfo,name:"PluginUpdateButton",path:"frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"})}catch(__react_docgen_typescript_loader_error){}var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),organizationLogic=__webpack_require__("./frontend/src/scenes/organizationLogic.tsx"),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link.tsx");function SuccessRateBadge(_ref){let{deliveryRate:deliveryRate,pluginConfigId:pluginConfigId}=_ref;const[status,tooltip]=function successRateSummary(deliveryRate){if(null===deliveryRate)return["muted","No events processed by this app in the past 24 hours"];{let color;return color=deliveryRate>=.99?"success":deliveryRate>=.75?"warning":"danger",[color,`Success rate for past 24 hours: ${Math.floor(1e3*deliveryRate)/10}%`]}}(deliveryRate);return Object(jsx_runtime.jsx)(Tooltip.a,{title:tooltip,children:Object(jsx_runtime.jsx)(Link.a,{to:urls.a.appMetrics(pluginConfigId),children:Object(jsx_runtime.jsx)(src.LemonBadge,{status:status})})})}try{SuccessRateBadge.displayName="SuccessRateBadge",SuccessRateBadge.__docgenInfo={description:"",displayName:"SuccessRateBadge",props:{deliveryRate:{defaultValue:null,description:"",name:"deliveryRate",required:!0,type:{name:"number | null"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"]={docgenInfo:SuccessRateBadge.__docgenInfo,name:"SuccessRateBadge",path:"frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"})}catch(__react_docgen_typescript_loader_error){}var clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js");function CommunityTag(_ref){let{isCommunity:isCommunity,noun:noun="app"}=_ref;return Object(jsx_runtime.jsx)(Tooltip.a,{title:isCommunity?`This ${noun} was built by a community member, not the PostHog team.`:`This ${noun} was built by the PostHog team.`,children:Object(jsx_runtime.jsx)(es_tag.a,{color:isCommunity?"cyan":"geekblue",children:isCommunity?"Community":"Official"})})}try{CommunityTag.displayName="CommunityTag",CommunityTag.__docgenInfo={description:"",displayName:"CommunityTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}},noun:{defaultValue:{value:"app"},description:"",name:"noun",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/CommunityTag.tsx#CommunityTag"]={docgenInfo:CommunityTag.__docgenInfo,name:"CommunityTag",path:"frontend/src/lib/CommunityTag.tsx#CommunityTag"})}catch(__react_docgen_typescript_loader_error){}function PluginAboutButton(_ref){let{url:url,disabled:disabled=!1}=_ref;return Object(jsx_runtime.jsx)(space.b,{children:Object(jsx_runtime.jsx)(Tooltip.a,{title:"About",children:Object(jsx_runtime.jsx)(src.Link,{to:url,target:"_blank",children:Object(jsx_runtime.jsx)(es_button.a,{disabled:disabled,children:Object(jsx_runtime.jsx)(InfoCircleOutlined.a,{})})})})})}function PluginCard(_ref2){var _pluginConfig$enabled,_pluginConfig$deliver;let{plugin:plugin,error:error,maintainer:maintainer,showUpdateButton:showUpdateButton,order:order,maxOrder:maxOrder,rearranging:rearranging,DragColumn:DragColumn=(_ref3=>{let{children:children}=_ref3;return Object(jsx_runtime.jsx)(col.a,{className:"order-handle",children:children})}),unorderedPlugin:unorderedPlugin=!1}=_ref2;const{name:name,description:description,url:url,icon:icon,plugin_type:pluginType,pluginConfig:pluginConfig,tag:tag,latest_tag:latestTag,id:pluginId,updateStatus:updateStatus,hasMoved:hasMoved,is_global:is_global,organization_id:organization_id,organization_name:organization_name}=plugin,{editPlugin:editPlugin,toggleEnabled:toggleEnabled,installPlugin:installPlugin,resetPluginConfigError:resetPluginConfigError,rearrange:rearrange,showPluginLogs:showPluginLogs}=Object(index_esm.useActions)(pluginsLogic.b),{loading:loading,installingPluginUrl:installingPluginUrl,checkingForUpdates:checkingForUpdates,pluginUrlToMaintainer:pluginUrlToMaintainer,showAppMetricsForPlugin:showAppMetricsForPlugin}=Object(index_esm.useValues)(pluginsLogic.b),{currentOrganization:currentOrganization}=Object(index_esm.useValues)(organizationLogic.a),{user:user}=Object(index_esm.useValues)(userLogic.a),hasSpecifiedMaintainer=maintainer||plugin.url&&pluginUrlToMaintainer[plugin.url],pluginMaintainer=maintainer||pluginUrlToMaintainer[plugin.url||""];return Object(jsx_runtime.jsx)(col.a,{style:{width:"100%",marginBottom:20},className:"plugins-scene-plugin-card-col"+(rearranging?" rearranging":""),"data-attr":"plugin-card-"+(pluginConfig?"installed":"available"),children:Object(jsx_runtime.jsx)(card.a,{className:"plugins-scene-plugin-card",children:Object(jsx_runtime.jsxs)(row.a,{align:"middle",className:"plugin-card-row",children:["number"==typeof order&&"number"==typeof maxOrder?Object(jsx_runtime.jsxs)(DragColumn,{children:[Object(jsx_runtime.jsx)("div",{className:Object(clsx_m.default)("arrow",1===order&&"invisible"),children:Object(jsx_runtime.jsx)(DownOutlined.a,{})}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(es_tag.a,{color:hasMoved?"#bd0225":"#555",onClick:rearrange,children:order})}),Object(jsx_runtime.jsx)("div",{className:Object(clsx_m.default)("arrow",order===maxOrder&&"invisible"),children:Object(jsx_runtime.jsx)(DownOutlined.a,{})})]}):null,unorderedPlugin?Object(jsx_runtime.jsx)(Tooltip.a,{title:"This app does not do any processing in order.",placement:"topRight",children:Object(jsx_runtime.jsx)(col.a,{children:Object(jsx_runtime.jsx)(es_tag.a,{color:"#555",children:"-"})})}):null,pluginConfig&&Object(jsx_runtime.jsx)(col.a,{children:pluginConfig.id?Object(jsx_runtime.jsx)(src.LemonSwitch,{checked:null!==(_pluginConfig$enabled=pluginConfig.enabled)&&void 0!==_pluginConfig$enabled&&_pluginConfig$enabled,disabled:rearranging,onChange:()=>toggleEnabled({id:pluginConfig.id,enabled:!pluginConfig.enabled})}):Object(jsx_runtime.jsx)(Tooltip.a,{title:"Please configure this plugin before enabling it",children:Object(jsx_runtime.jsx)(src.LemonSwitch,{checked:!1,disabled:!0})})}),Object(jsx_runtime.jsx)(col.a,{className:pluginConfig?"hide-plugin-image-below-500":"",children:Object(jsx_runtime.jsx)(PluginImage.a,{pluginType:pluginType,icon:icon,url:url})}),Object(jsx_runtime.jsxs)(col.a,{style:{flex:1},children:[Object(jsx_runtime.jsxs)("div",{className:"flex items-center",children:[Object(jsx_runtime.jsxs)("strong",{className:"flex items-center mr-2 gap-1",children:[showAppMetricsForPlugin(plugin)&&(null==pluginConfig?void 0:pluginConfig.id)&&Object(jsx_runtime.jsx)(SuccessRateBadge,{deliveryRate:null!==(_pluginConfig$deliver=pluginConfig.delivery_rate_24h)&&void 0!==_pluginConfig$deliver?_pluginConfig$deliver:null,pluginConfigId:pluginConfig.id}),name]}),hasSpecifiedMaintainer&&Object(jsx_runtime.jsx)(CommunityTag,{isCommunity:"community"===pluginMaintainer}),null!=pluginConfig&&pluginConfig.error?Object(jsx_runtime.jsx)(PluginError,{error:pluginConfig.error,reset:()=>resetPluginConfigError((null==pluginConfig?void 0:pluginConfig.id)||0)}):error?Object(jsx_runtime.jsx)(PluginError,{error:error}):null,is_global&&!!currentOrganization&&currentOrganization.plugins_access_level>=constants.u.Install&&Object(jsx_runtime.jsx)(Tooltip.a,{title:`This plugin is managed by the ${organization_name} organization`,children:Object(jsx_runtime.jsx)(es_tag.a,{color:"blue",icon:Object(jsx_runtime.jsx)(GlobalOutlined.a,{}),children:"Global"})}),Object(access.c)(null==user?void 0:user.organization,organization_id)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[null!=url&&url.startsWith("file:")?Object(jsx_runtime.jsx)(LocalPluginTag.a,{url:url,title:"Local"}):null,null!=updateStatus&&updateStatus.error?Object(jsx_runtime.jsxs)(es_tag.a,{color:"red",children:[Object(jsx_runtime.jsx)(WarningOutlined.a,{})," Error checking for updates"]}):!checkingForUpdates||updateStatus||pluginType===types.a.Source||null!=url&&url.startsWith("file:")?url&&latestTag&&tag?tag===latestTag?Object(jsx_runtime.jsxs)(es_tag.a,{color:"green",children:[Object(jsx_runtime.jsx)(CheckOutlined.a,{})," Up to date"]}):Object(jsx_runtime.jsx)(UpdateAvailable,{url:url,tag:tag,latestTag:latestTag}):null:Object(jsx_runtime.jsxs)(es_tag.a,{color:"blue",children:[Object(jsx_runtime.jsx)(LoadingOutlined.a,{})," Checking for updates…"]}),pluginType===types.a.Source?Object(jsx_runtime.jsx)(SourcePluginTag.a,{}):null]})]}),Object(jsx_runtime.jsx)("div",{children:Object(utils.z)(description)})]}),Object(jsx_runtime.jsx)(col.a,{children:Object(jsx_runtime.jsxs)(space.b,{children:[url&&Object(jsx_runtime.jsx)(PluginAboutButton,{url:url,disabled:rearranging}),showUpdateButton&&pluginId?Object(jsx_runtime.jsx)(PluginUpdateButton,{updateStatus:updateStatus,pluginId:pluginId,rearranging:rearranging}):pluginId?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[showAppMetricsForPlugin(plugin)&&null!=pluginConfig&&pluginConfig.id?Object(jsx_runtime.jsx)(Tooltip.a,{title:"App metrics",children:Object(jsx_runtime.jsx)(es_button.a,{className:"padding-under-500",disabled:rearranging,"data-attr":"app-metrics",children:Object(jsx_runtime.jsx)(src.Link,{to:urls.a.appMetrics(pluginConfig.id),children:Object(jsx_runtime.jsx)(LineChartOutlined.a,{})})})}):null,null!=pluginConfig&&pluginConfig.id?Object(jsx_runtime.jsx)(Tooltip.a,{title:"Activity history",children:Object(jsx_runtime.jsx)(es_button.a,{className:"padding-under-500",disabled:rearranging,"data-attr":"plugin-history",children:Object(jsx_runtime.jsx)(src.Link,{to:urls.a.appHistory(pluginConfig.id),children:Object(jsx_runtime.jsx)(ClockCircleOutlined.a,{})})})}):null,Object(jsx_runtime.jsx)(Tooltip.a,{title:null!=pluginConfig&&pluginConfig.id?"Logs":"Logs – enable the app for the first time to view them",children:Object(jsx_runtime.jsx)(es_button.a,{className:"padding-under-500",disabled:rearranging||!(null!=pluginConfig&&pluginConfig.id),onClick:()=>showPluginLogs(pluginId),"data-attr":"plugin-logs",children:Object(jsx_runtime.jsx)(icons_UnorderedListOutlined,{})})}),Object(jsx_runtime.jsx)(Tooltip.a,{title:"Configure",children:Object(jsx_runtime.jsx)(es_button.a,{type:"primary",className:"padding-under-500",disabled:rearranging,onClick:()=>editPlugin(pluginId),"data-attr":"plugin-configure",children:Object(jsx_runtime.jsx)(SettingOutlined.a,{})})})]}):pluginId?null:Object(jsx_runtime.jsx)(es_button.a,{type:"primary",className:"padding-under-500",loading:loading&&installingPluginUrl===url,disabled:loading&&installingPluginUrl!==url,onClick:url?()=>installPlugin(url,types.a.Repository):void 0,icon:Object(jsx_runtime.jsx)(icons_CloudDownloadOutlined,{}),"data-attr":"plugin-install",children:Object(jsx_runtime.jsx)("span",{className:"show-over-500",children:"Install"})})]})})]})})})}try{PluginAboutButton.displayName="PluginAboutButton",PluginAboutButton.__docgenInfo={description:"",displayName:"PluginAboutButton",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"]={docgenInfo:PluginAboutButton.__docgenInfo,name:"PluginAboutButton",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"})}catch(__react_docgen_typescript_loader_error){}try{PluginCard.displayName="PluginCard",PluginCard.__docgenInfo={description:"",displayName:"PluginCard",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"Partial<PluginTypeWithConfig>"}},pluginConfig:{defaultValue:null,description:"",name:"pluginConfig",required:!1,type:{name:"PluginConfigType"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"PluginErrorType"}},maintainer:{defaultValue:null,description:"",name:"maintainer",required:!1,type:{name:"string"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:{value:'({ children }) => <Col className="order-handle">{children}</Col>'},description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"]={docgenInfo:PluginCard.__docgenInfo,name:"PluginCard",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"})}catch(__react_docgen_typescript_loader_error){}var PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),skeleton=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/skeleton/index.js");function PluginLoading(){return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:[1,2,3].map((i=>Object(jsx_runtime.jsx)(col.a,{style:{marginBottom:20,width:"100%"},className:"plugins-scene-plugin-card-col",children:Object(jsx_runtime.jsx)(card.a,{className:"plugins-scene-plugin-card",children:Object(jsx_runtime.jsxs)(row.a,{align:"middle",className:"plugin-card-row",children:[Object(jsx_runtime.jsx)(col.a,{className:"hide-plugin-image-below-500",children:Object(jsx_runtime.jsx)(skeleton.a.Avatar,{active:!0,size:"large",shape:"square"})}),Object(jsx_runtime.jsx)(col.a,{style:{flex:1},children:Object(jsx_runtime.jsx)(skeleton.a,{title:!1,paragraph:{rows:2},active:!0})}),Object(jsx_runtime.jsxs)(col.a,{children:[Object(jsx_runtime.jsx)("span",{className:"show-over-500",children:Object(jsx_runtime.jsx)(skeleton.a.Button,{style:{width:100}})}),Object(jsx_runtime.jsx)("span",{className:"hide-over-500",children:Object(jsx_runtime.jsx)(skeleton.a.Button,{style:{width:32}})})]})]})})},i)))})}function PluginsSearch(){const{searchTerm:searchTerm,rearranging:rearranging}=Object(index_esm.useValues)(pluginsLogic.b),{setSearchTerm:setSearchTerm}=Object(index_esm.useActions)(pluginsLogic.b);return Object(jsx_runtime.jsx)(src.LemonInput,{type:"search","data-attr":"plugins-search",placeholder:"Start typing to search for an app",autoFocus:!0,value:searchTerm||"",onChange:setSearchTerm,disabled:rearranging})}var CaretDownOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),asn_CaretRightOutlined={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},icons_CaretRightOutlined_CaretRightOutlined=function CaretRightOutlined(props,ref){return react.createElement(AntdIcon.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{ref:ref,icon:asn_CaretRightOutlined}))};icons_CaretRightOutlined_CaretRightOutlined.displayName="CaretRightOutlined";var icons_CaretRightOutlined=react.forwardRef(icons_CaretRightOutlined_CaretRightOutlined);let RepositorySection=function(RepositorySection){return RepositorySection.Official="official",RepositorySection.Community="community",RepositorySection}({});function RepositoryTab(){const{repositoryLoading:repositoryLoading,filteredUninstalledPlugins:filteredUninstalledPlugins}=Object(index_esm.useValues)(pluginsLogic.b),[repositorySectionsOpen,setRepositorySectionsOpen]=Object(react.useState)([RepositorySection.Official,RepositorySection.Community]),officialPlugins=filteredUninstalledPlugins.filter((plugin=>"official"===plugin.maintainer)),communityPlugins=filteredUninstalledPlugins.filter((plugin=>"community"===plugin.maintainer)),toggleRepositorySectionOpen=section=>{repositorySectionsOpen.includes(section)?setRepositorySectionsOpen(repositorySectionsOpen.filter((s=>section!==s))):setRepositorySectionsOpen([...repositorySectionsOpen,section])};return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:"App Repository"}),Object(jsx_runtime.jsx)(PluginsSearch,{}),Object(jsx_runtime.jsx)("div",{children:(!repositoryLoading||filteredUninstalledPlugins.length>0)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)(row.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(jsx_runtime.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:()=>toggleRepositorySectionOpen(RepositorySection.Official),children:Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[repositorySectionsOpen.includes(RepositorySection.Official)?Object(jsx_runtime.jsx)(CaretDownOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CaretRightOutlined,{}),` Official apps (${officialPlugins.length})`]})})}),repositorySectionsOpen.includes(RepositorySection.Official)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(col.a,{span:24,children:officialPlugins.length>0?"Official apps are built and maintained by the PostHog team.":"You have already installed all official apps!"}),Object(jsx_runtime.jsx)("br",{}),officialPlugins.map((plugin=>Object(jsx_runtime.jsx)(PluginCard,{plugin:{name:plugin.name,url:plugin.url,icon:plugin.icon,description:plugin.description},maintainer:plugin.maintainer},plugin.url)))]})]}),Object(jsx_runtime.jsxs)(row.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(jsx_runtime.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:()=>toggleRepositorySectionOpen(RepositorySection.Community),children:Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[repositorySectionsOpen.includes(RepositorySection.Community)?Object(jsx_runtime.jsx)(CaretDownOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CaretRightOutlined,{}),` Community apps (${communityPlugins.length})`]})})}),repositorySectionsOpen.includes(RepositorySection.Community)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(col.a,{span:24,children:communityPlugins.length>0?Object(jsx_runtime.jsxs)("span",{children:["Community apps are not built nor maintained by the PostHog team."," ",Object(jsx_runtime.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",rel:"noopener",children:"Anyone, including you, can build an app."})]}):"You have already installed all community apps!"}),Object(jsx_runtime.jsx)("br",{}),communityPlugins.map((plugin=>Object(jsx_runtime.jsx)(PluginCard,{plugin:{name:plugin.name,url:plugin.url,icon:plugin.icon,description:plugin.description},maintainer:plugin.maintainer},plugin.url)))]})]})]})}),repositoryLoading&&0===filteredUninstalledPlugins.length&&Object(jsx_runtime.jsx)(row.a,{gutter:16,children:Object(jsx_runtime.jsx)(PluginLoading,{})})]})}var es_checkbox=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/checkbox/index.js"),Search=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/input/Search.js"),Search_default=__webpack_require__.n(Search),ResizableTable=__webpack_require__("./frontend/src/lib/components/ResizableTable/index.tsx"),src_types=__webpack_require__("./frontend/src/types.ts"),pluginLogsLogic=__webpack_require__("./frontend/src/scenes/plugins/plugin/pluginLogsLogic.ts");const columns=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",span:3,render:timestamp=>Object(dayjs.a)(timestamp).format("YYYY-MM-DD HH:mm:ss.SSS UTC")},{title:"Source",key:"source",dataIndex:"source",span:1},{title:"Type",key:"type",dataIndex:"type",span:1,render:function PluginLogEntryTypeDisplay(type){let color;switch(type){case src_types.L.Debug:color="var(--muted)";break;case src_types.L.Log:color="var(--default)";break;case src_types.L.Info:color="var(--blue)";break;case src_types.L.Warn:color="var(--warning)";break;case src_types.L.Error:color="var(--danger)"}return Object(jsx_runtime.jsx)("span",{style:{color:color},children:type})}},{title:"Message",key:"message",dataIndex:"message",span:6}];function PluginLogs(_ref){let{pluginConfigId:pluginConfigId}=_ref;const logic=Object(pluginLogsLogic.b)({pluginConfigId:pluginConfigId}),{pluginLogs:pluginLogs,pluginLogsLoading:pluginLogsLoading,pluginLogsBackground:pluginLogsBackground,isThereMoreToLoad:isThereMoreToLoad,pluginLogsTypes:pluginLogsTypes}=Object(index_esm.useValues)(logic),{revealBackground:revealBackground,loadPluginLogsMore:loadPluginLogsMore,setPluginLogsTypes:setPluginLogsTypes,setSearchTerm:setSearchTerm}=Object(index_esm.useActions)(logic);return Object(jsx_runtime.jsxs)(space.b,{direction:"vertical",style:{flexGrow:1},className:"ph-no-capture plugin-logs",children:[Object(jsx_runtime.jsx)(row.a,{children:Object(jsx_runtime.jsx)(Search_default.a,{loading:pluginLogsLoading,onSearch:setSearchTerm,placeholder:"Search for messages containing…",allowClear:!0})}),Object(jsx_runtime.jsx)(row.a,{children:Object(jsx_runtime.jsxs)(space.b,{children:[Object(jsx_runtime.jsx)("span",{children:"Show logs of type: "}),Object(jsx_runtime.jsx)(es_checkbox.a.Group,{options:Object.values(src_types.L),value:pluginLogsTypes,onChange:setPluginLogsTypes,style:{marginLeft:"8px"}})]})}),Object(jsx_runtime.jsx)(row.a,{children:Object(jsx_runtime.jsx)(es_button.a,{onClick:revealBackground,loading:pluginLogsLoading,style:{flexGrow:1},disabled:!pluginLogsBackground.length,icon:Object(jsx_runtime.jsx)(LoadingOutlined.a,{}),children:pluginLogsBackground.length?`Load ${Object(utils.xb)(pluginLogsBackground.length,"newer entry","newer entries")}`:"No new entries"})}),Object(jsx_runtime.jsx)(ResizableTable.b,{dataSource:pluginLogs,columns:columns,loading:pluginLogsLoading,size:"small",className:"ph-no-capture",rowKey:"id",style:{flexGrow:1,whiteSpace:"pre-wrap",overflowWrap:"anywhere"},pagination:{pageSize:200,hideOnSinglePage:!0}}),!!pluginLogs.length&&Object(jsx_runtime.jsx)(row.a,{children:Object(jsx_runtime.jsx)(es_button.a,{onClick:loadPluginLogsMore,loading:pluginLogsLoading,style:{flexGrow:1},disabled:!isThereMoreToLoad,children:isThereMoreToLoad?`Load up to ${pluginLogsLogic.a} older entries`:"No older entries"})})]})}try{PluginLogs.displayName="PluginLogs",PluginLogs.__docgenInfo={description:"",displayName:"PluginLogs",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"]={docgenInfo:PluginLogs.__docgenInfo,name:"PluginLogs",path:"frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"})}catch(__react_docgen_typescript_loader_error){}var drawer=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/drawer/index.js");function LogsDrawer(){const{showingLogsPlugin:showingLogsPlugin,lastShownLogsPlugin:lastShownLogsPlugin}=Object(index_esm.useValues)(pluginsLogic.b),{hidePluginLogs:hidePluginLogs}=Object(index_esm.useActions)(pluginsLogic.b);return Object(jsx_runtime.jsx)(drawer.a,{visible:!!showingLogsPlugin,onClose:hidePluginLogs,width:"min(90vw, 80rem)",title:`Viewing App Logs: ${null==lastShownLogsPlugin?void 0:lastShownLogsPlugin.name}`,placement:"left",destroyOnClose:!0,children:!(null==lastShownLogsPlugin||!lastShownLogsPlugin.pluginConfig.id)&&Object(jsx_runtime.jsx)(PluginLogs,{pluginConfigId:lastShownLogsPlugin.pluginConfig.id})})}var empty=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/empty/index.js");function PluginsEmptyState(){const{setPluginTab:setPluginTab}=Object(index_esm.useActions)(pluginsLogic.b),{loading:loading}=Object(index_esm.useValues)(pluginsLogic.b),{user:user}=Object(index_esm.useValues)(userLogic.a);return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:loading?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ",Object(jsx_runtime.jsx)(icons_CaretRightOutlined,{})," ","Enabled apps"," "]}),buttons:Object(jsx_runtime.jsx)(skeleton.a.Button,{style:{width:150}})}),Object(jsx_runtime.jsx)(PluginLoading,{})]}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:"Installed apps"}),Object(jsx_runtime.jsx)(row.a,{gutter:16,style:{marginTop:16},children:Object(jsx_runtime.jsx)(col.a,{span:24,children:Object(jsx_runtime.jsx)(empty.a,{description:Object(jsx_runtime.jsx)("span",{children:"You haven't installed any apps yet"}),children:Object(access.b)(null==user?void 0:user.organization)&&Object(jsx_runtime.jsx)(es_button.a,{type:"default",onClick:()=>setPluginTab(types.c.Repository),children:"Open the App Repository"})})})})]})})}function InstalledPlugin(_ref){let{plugin:plugin,showUpdateButton:showUpdateButton,order:order,maxOrder:maxOrder,rearranging:rearranging,DragColumn:DragColumn,unorderedPlugin:unorderedPlugin=!1}=_ref;return Object(jsx_runtime.jsx)(PluginCard,{plugin:plugin,showUpdateButton:showUpdateButton,order:order,maxOrder:maxOrder,rearranging:rearranging,DragColumn:DragColumn,unorderedPlugin:unorderedPlugin},plugin.id)}try{InstalledPlugin.displayName="InstalledPlugin",InstalledPlugin.__docgenInfo={description:"",displayName:"InstalledPlugin",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:null,description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"]={docgenInfo:InstalledPlugin.__docgenInfo,name:"InstalledPlugin",path:"frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"})}catch(__react_docgen_typescript_loader_error){}function DisabledPluginSection(){const{filteredDisabledPlugins:filteredDisabledPlugins,sectionsOpen:sectionsOpen,disabledPlugins:disabledPlugins}=Object(index_esm.useValues)(pluginsLogic.b),{toggleSectionOpen:toggleSectionOpen}=Object(index_esm.useActions)(pluginsLogic.b);return 0===disabledPlugins.length?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>toggleSectionOpen(pluginsLogic.a.Disabled),children:Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sectionsOpen.includes(pluginsLogic.a.Disabled)?Object(jsx_runtime.jsx)(CaretDownOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CaretRightOutlined,{}),` Installed apps (${filteredDisabledPlugins.length})`]})})}),sectionsOpen.includes(pluginsLogic.a.Disabled)?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:filteredDisabledPlugins.length>0?Object(jsx_runtime.jsx)(row.a,{gutter:16,style:{marginTop:16},children:filteredDisabledPlugins.map((plugin=>Object(jsx_runtime.jsx)(InstalledPlugin,{plugin:plugin},plugin.id)))}):Object(jsx_runtime.jsx)("p",{className:"m-2.5",children:"No apps match your search."})}):null]})}var SyncOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SyncOutlined.js");function UpgradeSection(){const{checkForUpdates:checkForUpdates,toggleSectionOpen:toggleSectionOpen}=Object(index_esm.useActions)(pluginsLogic.b),{sectionsOpen:sectionsOpen}=Object(index_esm.useValues)(pluginsLogic.b),{user:user}=Object(index_esm.useValues)(userLogic.a),{filteredPluginsNeedingUpdates:filteredPluginsNeedingUpdates,pluginsNeedingUpdates:pluginsNeedingUpdates,checkingForUpdates:checkingForUpdates,installedPluginUrls:installedPluginUrls,updateStatus:updateStatus,rearranging:rearranging,hasUpdatablePlugins:hasUpdatablePlugins}=Object(index_esm.useValues)(pluginsLogic.b),upgradeButton=Object(access.c)(null==user?void 0:user.organization)&&hasUpdatablePlugins&&Object(jsx_runtime.jsx)(es_button.a,{type:"default",icon:pluginsNeedingUpdates.length>0?Object(jsx_runtime.jsx)(SyncOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CloudDownloadOutlined,{}),onClick:e=>{e.stopPropagation(),checkForUpdates(!0)},loading:checkingForUpdates,children:checkingForUpdates?`Checking app ${Object.keys(updateStatus).length+1} out of ${Object.keys(installedPluginUrls).length}`:pluginsNeedingUpdates.length>0?"Check again for updates":"Check for updates"});return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>toggleSectionOpen(pluginsLogic.a.Upgrade),children:Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sectionsOpen.includes(pluginsLogic.a.Upgrade)?Object(jsx_runtime.jsx)(CaretDownOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CaretRightOutlined,{}),` Apps to update (${filteredPluginsNeedingUpdates.length})`]}),buttons:!rearranging&&upgradeButton})}),sectionsOpen.includes(pluginsLogic.a.Upgrade)?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:pluginsNeedingUpdates.length>0?Object(jsx_runtime.jsx)(row.a,{gutter:16,style:{marginTop:16},children:filteredPluginsNeedingUpdates.length>0?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:filteredPluginsNeedingUpdates.map((plugin=>Object(jsx_runtime.jsx)(InstalledPlugin,{plugin:plugin,showUpdateButton:!0},plugin.id)))}):Object(jsx_runtime.jsx)("p",{className:"m-2.5",children:"No apps match your search."})}):Object(jsx_runtime.jsx)("p",{className:"m-2.5",children:"All your apps are up to date. Great work!"})}):null]})}var SaveOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),CloseOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),asn_OrderedListOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},icons_OrderedListOutlined_OrderedListOutlined=function OrderedListOutlined(props,ref){return react.createElement(AntdIcon.a,Object(objectSpread2.a)(Object(objectSpread2.a)({},props),{},{ref:ref,icon:asn_OrderedListOutlined}))};icons_OrderedListOutlined_OrderedListOutlined.displayName="OrderedListOutlined";var icons_OrderedListOutlined=react.forwardRef(icons_OrderedListOutlined_OrderedListOutlined),react_sortable_hoc_esm=__webpack_require__("./node_modules/.pnpm/react-sortable-hoc@1.11.0_ccrd4luiijsxnlhe6bgkvyy2z4/node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js");const EnabledPluginsSection_DragColumn=Object(react_sortable_hoc_esm.c)((_ref=>{let{children:children}=_ref;return Object(jsx_runtime.jsx)(col.a,{className:"order-handle",children:children})})),SortablePlugin=Object(react_sortable_hoc_esm.b)((_ref2=>{let{plugin:plugin,order:order,maxOrder:maxOrder,rearranging:rearranging}=_ref2;return Object(jsx_runtime.jsx)(InstalledPlugin,{plugin:plugin,order:order,maxOrder:maxOrder,rearranging:rearranging,DragColumn:EnabledPluginsSection_DragColumn})})),SortablePlugins=Object(react_sortable_hoc_esm.a)((_ref3=>{let{children:children}=_ref3;return Object(jsx_runtime.jsx)(row.a,{gutter:16,style:{marginTop:16},children:children})}));function EnabledPluginSection(){const{user:user}=Object(index_esm.useValues)(userLogic.a),{rearrange:rearrange,setTemporaryOrder:setTemporaryOrder,cancelRearranging:cancelRearranging,savePluginOrders:savePluginOrders,makePluginOrderSaveable:makePluginOrderSaveable,toggleSectionOpen:toggleSectionOpen}=Object(index_esm.useActions)(pluginsLogic.b),{enabledPlugins:enabledPlugins,filteredEnabledPlugins:filteredEnabledPlugins,sortableEnabledPlugins:sortableEnabledPlugins,unsortableEnabledPlugins:unsortableEnabledPlugins,rearranging:rearranging,loading:loading,temporaryOrder:temporaryOrder,pluginOrderSaveable:pluginOrderSaveable,searchTerm:searchTerm,sectionsOpen:sectionsOpen}=Object(index_esm.useValues)(pluginsLogic.b),canRearrange=Object(access.a)(null==user?void 0:user.organization)&&sortableEnabledPlugins.length>1,rearrangingButtons=rearranging?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(es_button.a,{type:"primary",icon:Object(jsx_runtime.jsx)(SaveOutlined.a,{}),loading:loading,onClick:e=>{e.stopPropagation(),savePluginOrders(temporaryOrder)},disabled:!pluginOrderSaveable,children:"Save order"}),Object(jsx_runtime.jsx)(es_button.a,{type:"default",icon:Object(jsx_runtime.jsx)(CloseOutlined.a,{}),onClick:e=>{cancelRearranging(),e.stopPropagation()},children:"Cancel"})]}):Object(jsx_runtime.jsx)(Tooltip.a,{title:enabledPlugins.length<=1?"At least two apps need to be enabled for reordering.":Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:searchTerm?"Editing the order of apps is disabled when searching.":Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Order matters because event processing with apps works like a pipe: the event is processed by every enabled app ",Object(jsx_runtime.jsx)("b",{children:"in sequence"}),"."]})}),placement:"top",children:Object(jsx_runtime.jsx)(es_button.a,{icon:Object(jsx_runtime.jsx)(icons_OrderedListOutlined,{}),onClick:e=>{e.stopPropagation(),rearrange()},disabled:!!searchTerm||sortableEnabledPlugins.length<=1,children:"Edit order"})}),EnabledPluginsHeader=()=>Object(jsx_runtime.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>toggleSectionOpen(pluginsLogic.a.Enabled),children:Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sectionsOpen.includes(pluginsLogic.a.Enabled)?Object(jsx_runtime.jsx)(CaretDownOutlined.a,{}):Object(jsx_runtime.jsx)(icons_CaretRightOutlined,{}),` Enabled apps (${filteredEnabledPlugins.length})`,rearranging&&sectionsOpen.includes(pluginsLogic.a.Enabled)&&Object(jsx_runtime.jsx)(es_tag.a,{color:"red",style:{fontWeight:"normal",marginLeft:10},children:"Reordering in progress"})]}),buttons:Object(jsx_runtime.jsx)(space.b,{children:sectionsOpen.includes(pluginsLogic.a.Enabled)&&rearrangingButtons})})});return 0===enabledPlugins.length?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(EnabledPluginsHeader,{}),sectionsOpen.includes(pluginsLogic.a.Enabled)&&Object(jsx_runtime.jsx)("p",{className:"m-2.5",children:"No apps enabled."})]}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(EnabledPluginsHeader,{}),sectionsOpen.includes(pluginsLogic.a.Enabled)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[0===sortableEnabledPlugins.length&&0===unsortableEnabledPlugins.length&&Object(jsx_runtime.jsx)("p",{className:"m-2.5",children:"No apps match your search."}),canRearrange||rearranging?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:sortableEnabledPlugins.length>0&&Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(SortablePlugins,{useDragHandle:!0,onSortEnd:_ref4=>{var _enabledPlugins$oldIn;let{oldIndex:oldIndex,newIndex:newIndex}=_ref4;if(oldIndex===newIndex)return;const movedPluginId=null===(_enabledPlugins$oldIn=enabledPlugins[oldIndex])||void 0===_enabledPlugins$oldIn?void 0:_enabledPlugins$oldIn.id,newTemporaryOrder={};for(const{id:id,order:order}of((arr,from,to)=>{const clone=[...arr];return Array.prototype.splice.call(clone,to,0,Array.prototype.splice.call(clone,from,1)[0]),clone.map(((_ref5,order)=>{let{id:id}=_ref5;return{id:id,order:order+1}}))})(enabledPlugins,oldIndex,newIndex))newTemporaryOrder[id]=order;rearranging||rearrange(),setTemporaryOrder(newTemporaryOrder,movedPluginId)},onSortOver:makePluginOrderSaveable,children:sortableEnabledPlugins.map(((plugin,index)=>Object(jsx_runtime.jsx)(SortablePlugin,{plugin:plugin,index:index,order:index+1,maxOrder:enabledPlugins.length,rearranging:rearranging},plugin.id)))})})}):Object(jsx_runtime.jsx)(row.a,{gutter:16,style:{marginTop:16},children:sortableEnabledPlugins.length>0&&Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:sortableEnabledPlugins.map(((plugin,index)=>Object(jsx_runtime.jsx)(InstalledPlugin,{plugin:plugin,order:index+1,maxOrder:filteredEnabledPlugins.length},plugin.id)))})}),unsortableEnabledPlugins.map((plugin=>Object(jsx_runtime.jsx)(InstalledPlugin,{plugin:plugin,maxOrder:enabledPlugins.length,rearranging:rearranging,unorderedPlugin:!0},plugin.id)))]})]})}function InstalledTab(){const{installedPlugins:installedPlugins}=Object(index_esm.useValues)(pluginsLogic.b);return 0===installedPlugins.length?Object(jsx_runtime.jsx)(PluginsEmptyState,{}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(PluginsSearch,{}),Object(jsx_runtime.jsx)(UpgradeSection,{}),Object(jsx_runtime.jsx)(EnabledPluginSection,{}),Object(jsx_runtime.jsx)(DisabledPluginSection,{})]}),Object(jsx_runtime.jsx)(LogsDrawer,{})]})}var es_alert=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/alert/index.js"),input=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/input/index.js"),Title=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/typography/Title.js"),Title_default=__webpack_require__.n(Title),Paragraph=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/typography/Paragraph.js"),Paragraph_default=__webpack_require__.n(Paragraph);function SourcePlugin(){const{sourcePluginName:sourcePluginName,pluginError:pluginError,loading:loading}=Object(index_esm.useValues)(pluginsLogic.b),{setSourcePluginName:setSourcePluginName,installPlugin:installPlugin}=Object(index_esm.useActions)(pluginsLogic.b);return Object(jsx_runtime.jsx)("div",{className:"mt-4",children:Object(jsx_runtime.jsxs)(card.a,{children:[Object(jsx_runtime.jsx)(Title_default.a,{level:5,children:"App editor"}),Object(jsx_runtime.jsxs)(Paragraph_default.a,{children:["Write your app directly in PostHog."," ",Object(jsx_runtime.jsx)("a",{href:"https://posthog.com/docs/apps",target:"_blank",children:"Read the documentation for more information!"})]}),Object(jsx_runtime.jsxs)(row.a,{style:{width:"100%"},gutter:16,children:[Object(jsx_runtime.jsx)(col.a,{style:{flex:1},children:Object(jsx_runtime.jsx)(input.a,{value:sourcePluginName,disabled:loading,onChange:e=>setSourcePluginName(e.target.value),placeholder:'For example: "Hourly Weather Sync App"'})}),Object(jsx_runtime.jsx)(col.a,{children:Object(jsx_runtime.jsx)(es_button.a,{disabled:loading||!sourcePluginName,loading:loading,type:"default",onClick:()=>installPlugin(sourcePluginName,types.a.Source),children:"Start coding"})})]}),pluginError?Object(jsx_runtime.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:pluginError}):null]})})}function CustomPlugin(){const{customPluginUrl:customPluginUrl,pluginError:pluginError,loading:loading}=Object(index_esm.useValues)(pluginsLogic.b),{setCustomPluginUrl:setCustomPluginUrl,installPlugin:installPlugin}=Object(index_esm.useActions)(pluginsLogic.b);return Object(jsx_runtime.jsx)("div",{style:{marginTop:16},children:Object(jsx_runtime.jsxs)(card.a,{children:[Object(jsx_runtime.jsx)(Title_default.a,{level:5,children:"Install from GitHub, GitLab or npm"}),Object(jsx_runtime.jsxs)(Paragraph_default.a,{children:["To install a third-party or custom app, paste its URL below. For"," ",Object(jsx_runtime.jsx)("a",{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", ",Object(jsx_runtime.jsx)("a",{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",rel:"noopener noreferrer",children:"GitLab"})," and ",Object(jsx_runtime.jsx)("a",{href:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",rel:"noopener noreferrer",children:"npm"})," ","private repositories, append ",Object(jsx_runtime.jsx)("code",{children:"?private_token=TOKEN"})," to the end of the URL.",Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("b",{className:"text-warning",children:"Warning: Only install apps from trusted sources."})]}),Object(jsx_runtime.jsxs)(row.a,{style:{width:"100%"},gutter:16,children:[Object(jsx_runtime.jsx)(col.a,{style:{flex:1},children:Object(jsx_runtime.jsx)(input.a,{value:customPluginUrl,disabled:loading,onChange:e=>setCustomPluginUrl(e.target.value),placeholder:"https://github.com/user/repo"})}),Object(jsx_runtime.jsx)(col.a,{children:Object(jsx_runtime.jsx)(es_button.a,{disabled:loading||!customPluginUrl,loading:loading,type:"default",onClick:()=>installPlugin(customPluginUrl,types.a.Custom),children:"Fetch and install"})})]}),pluginError?Object(jsx_runtime.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:pluginError}):null]})})}function LocalPlugin(){const{localPluginUrl:localPluginUrl,pluginError:pluginError,loading:loading}=Object(index_esm.useValues)(pluginsLogic.b),{setLocalPluginUrl:setLocalPluginUrl,installPlugin:installPlugin}=Object(index_esm.useActions)(pluginsLogic.b);return Object(jsx_runtime.jsx)("div",{className:"mt-4",children:Object(jsx_runtime.jsxs)(card.a,{children:[Object(jsx_runtime.jsx)(Title_default.a,{level:5,children:"Install Local App"}),Object(jsx_runtime.jsx)(Paragraph_default.a,{children:"To install a local app from this computer/server, give its full path below."}),Object(jsx_runtime.jsxs)(row.a,{style:{width:"100%"},gutter:16,children:[Object(jsx_runtime.jsx)(col.a,{style:{flex:1},children:Object(jsx_runtime.jsx)(input.a,{value:localPluginUrl,disabled:loading,onChange:e=>setLocalPluginUrl(e.target.value),placeholder:"/var/posthog/plugins/helloworldplugin"})}),Object(jsx_runtime.jsx)(col.a,{children:Object(jsx_runtime.jsx)(es_button.a,{disabled:loading||!localPluginUrl,loading:loading,type:"default",onClick:()=>installPlugin(localPluginUrl,types.a.Local),children:"Install"})})]}),pluginError?Object(jsx_runtime.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:pluginError}):null]})})}var preflightLogic=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function AdvancedTab(){const{preflight:preflight}=Object(index_esm.useValues)(preflightLogic.a),{setPluginTab:setPluginTab}=Object(index_esm.useActions)(pluginsLogic.b);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(es_alert.a,{message:"Advanced features ahead",description:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Create and install your ",Object(jsx_runtime.jsx)("b",{children:"own apps"})," or apps from ",Object(jsx_runtime.jsx)("b",{children:"third-parties"}),". If you're looking for officially supported apps, try the"," ",Object(jsx_runtime.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),setPluginTab(types.c.Repository)},children:"App Repository"}),"."]}),type:"warning",showIcon:!0}),Object(jsx_runtime.jsx)(PageHeader.b,{subtitle:"Advanced Options"}),Object(jsx_runtime.jsx)(SourcePlugin,{}),Object(jsx_runtime.jsx)(CustomPlugin,{}),preflight&&!preflight.cloud&&Object(jsx_runtime.jsx)(LocalPlugin,{})]})}var ActivityLog=__webpack_require__("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),humanizeActivity=__webpack_require__("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts");const scene={component:Plugins_Plugins,logic:pluginsLogic.b},BetaTag=()=>Object(jsx_runtime.jsx)(src.LemonTag,{type:"warning",className:"uppercase",style:{verticalAlign:"0.125em",marginLeft:6},children:"BETA"});function Plugins_Plugins(){const{user:user}=Object(index_esm.useValues)(userLogic.a),{pluginTab:pluginTab}=Object(index_esm.useValues)(pluginsLogic.b),{setPluginTab:setPluginTab}=Object(index_esm.useActions)(pluginsLogic.b);return Object(react.useEffect)((()=>{Object(access.d)(null==user?void 0:user.organization)||(window.location.href="/")}),[user]),user&&Object(access.d)(null==user?void 0:user.organization)?Object(jsx_runtime.jsxs)("div",{className:"plugins-scene",children:[Object(jsx_runtime.jsx)(PageHeader.a,{title:"Apps",caption:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Apps enable you to extend PostHog's core data processing functionality.",Object(jsx_runtime.jsx)("br",{}),"Make use of verified apps from the"," ",Object(jsx_runtime.jsx)("a",{href:"https://posthog.com/apps",target:"_blank",children:"App Library"})," ","– or"," ",Object(jsx_runtime.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",children:"build your own"}),"."]}),tabbedPage:!0}),Object(jsx_runtime.jsx)(LemonTabs.a,{"data-attr":"apps-tabs",activeKey:pluginTab,onChange:newKey=>setPluginTab(newKey),tabs:[{key:types.c.Installed,label:"Installed",content:Object(jsx_runtime.jsx)(InstalledTab,{})},Object(access.b)(user.organization)&&{key:types.c.Repository,label:"Repository",content:Object(jsx_runtime.jsx)(RepositoryTab,{})},{key:types.c.History,label:Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("span",{children:"History"}),Object(jsx_runtime.jsx)(BetaTag,{})]}),content:Object(jsx_runtime.jsx)(ActivityLog.a,{scope:humanizeActivity.a.PLUGIN})},Object(access.c)(user.organization)&&{key:types.c.Advanced,label:"Advanced",content:Object(jsx_runtime.jsx)(AdvancedTab,{})}]}),Object(jsx_runtime.jsx)(PluginDrawer.a,{})]}):null}},"./node_modules/.pnpm/@ant-design+icons-svg@4.2.1/node_modules/@ant-design/icons-svg/lib/asn/SearchOutlined.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"}},"./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/SearchOutlined.js":function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/lib/icons/SearchOutlined.js"));exports.default=_default,module.exports=_default},"./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/lib/icons/SearchOutlined.js":function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),_interopRequireDefault=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/objectSpread2.js")),React=_interopRequireWildcard(__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js")),_SearchOutlined=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/@ant-design+icons-svg@4.2.1/node_modules/@ant-design/icons-svg/lib/asn/SearchOutlined.js")),_AntdIcon=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/lib/components/AntdIcon.js")),SearchOutlined=function SearchOutlined(props,ref){return React.createElement(_AntdIcon.default,(0,_objectSpread2.default)((0,_objectSpread2.default)({},props),{},{ref:ref,icon:_SearchOutlined.default}))};SearchOutlined.displayName="SearchOutlined";var _default=React.forwardRef(SearchOutlined);exports.default=_default},"./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/input/Search.js":function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),_typeof=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/defineProperty.js")),_extends2=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/extends.js")),React=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js")),_classnames=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js")),_ref=__webpack_require__("./node_modules/.pnpm/rc-util@5.24.4_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-util/lib/ref.js"),_SearchOutlined=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/SearchOutlined.js")),_Input=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/input/Input.js")),_button=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/button/index.js")),_SizeContext=_interopRequireDefault(__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/config-provider/SizeContext.js")),_configProvider=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/config-provider/index.js"),_reactNode=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/_util/reactNode.js");function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}var __rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},Search=React.forwardRef((function(props,ref){var _classNames,button,customizePrefixCls=props.prefixCls,customizeInputPrefixCls=props.inputPrefixCls,className=props.className,customizeSize=props.size,suffix=props.suffix,_props$enterButton=props.enterButton,enterButton=void 0!==_props$enterButton&&_props$enterButton,addonAfter=props.addonAfter,loading=props.loading,disabled=props.disabled,customOnSearch=props.onSearch,customOnChange=props.onChange,restProps=__rest(props,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),_React$useContext=React.useContext(_configProvider.ConfigContext),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,contextSize=React.useContext(_SizeContext.default),size=customizeSize||contextSize,inputRef=React.useRef(null),onMouseDown=function onMouseDown(e){var _a;document.activeElement===(null===(_a=inputRef.current)||void 0===_a?void 0:_a.input)&&e.preventDefault()},onSearch=function onSearch(e){var _a;customOnSearch&&customOnSearch(null===(_a=inputRef.current)||void 0===_a?void 0:_a.input.value,e)},prefixCls=getPrefixCls("input-search",customizePrefixCls),inputPrefixCls=getPrefixCls("input",customizeInputPrefixCls),searchIcon="boolean"==typeof enterButton?React.createElement(_SearchOutlined.default,null):null,btnClassName="".concat(prefixCls,"-button"),enterButtonAsElement=enterButton||{},isAntdButton=enterButtonAsElement.type&&!0===enterButtonAsElement.type.__ANT_BUTTON;button=isAntdButton||"button"===enterButtonAsElement.type?(0,_reactNode.cloneElement)(enterButtonAsElement,(0,_extends2.default)({onMouseDown:onMouseDown,onClick:onSearch,key:"enterButton"},isAntdButton?{className:btnClassName,size:size}:{})):React.createElement(_button.default,{className:btnClassName,type:enterButton?"primary":void 0,size:size,disabled:disabled,key:"enterButton",onMouseDown:onMouseDown,onClick:onSearch,loading:loading,icon:searchIcon},enterButton),addonAfter&&(button=[button,(0,_reactNode.cloneElement)(addonAfter,{key:"addonAfter"})]);var cls=(0,_classnames.default)(prefixCls,(_classNames={},(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-").concat(size),!!size),(0,_defineProperty2.default)(_classNames,"".concat(prefixCls,"-with-button"),!!enterButton),_classNames),className);return React.createElement(_Input.default,(0,_extends2.default)({ref:(0,_ref.composeRef)(inputRef,ref),onPressEnter:onSearch},restProps,{size:size,prefixCls:inputPrefixCls,addonAfter:button,suffix:suffix,onChange:function onChange(e){e&&e.target&&"click"===e.type&&customOnSearch&&customOnSearch(e.target.value,e),customOnChange&&customOnChange(e)},className:cls,disabled:disabled}))}));Search.displayName="Search";var _default=Search;exports.default=_default},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".plugins-scene{padding-bottom:60px}.plugins-installed-tab-section-header:hover,.plugins-repository-tab-section-header:hover{cursor:pointer}.plugins-repository-tab-section-header{margin-left:5px}.plugin-capabilities-tag{cursor:default}.plugins-scene-plugin-card>.ant-card-body{padding:15px}.plugins-scene-plugin-card .plugin-card-row>.ant-col{margin-right:14px}.plugins-scene-plugin-card .plugin-card-row>.ant-col:last-child{margin-right:0}.plugins-scene-plugin-card a.plugin-title-link{color:var(--color-text)}.plugins-scene-plugin-card a.plugin-title-link:hover{text-decoration:underline}.plugins-scene-plugin-card .plugin-image{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;border:none;padding:4px}.plugins-scene-plugin-card .order-handle{cursor:move;text-align:center;height:100%;margin-top:-10px;margin-bottom:-10px}.plugins-scene-plugin-card .order-handle .ant-tag{margin-right:0;cursor:move}.plugins-scene-plugin-card .order-handle .arrow{color:#888;height:19px}.plugins-scene-plugin-card .hide-over-500{display:none}@media(max-width:500px){.plugins-scene-plugin-card .show-over-500{display:none}.plugins-scene-plugin-card .hide-over-500{display:inline-block}.plugins-scene-plugin-card button.ant-btn.padding-under-500{padding:4px 8px}.plugins-scene-plugin-card .hide-plugin-image-below-500{display:none}}.plugins-popconfirm{z-index:var(--z-plugins-popconfirm)}.plugin-job-json-editor{border:1px solid #efefef}.plugin-run-job-button{color:var(--success);cursor:pointer}.plugin-run-job-button-disabled{color:#9a9a9a;cursor:default}",""]),module.exports=exports}}]);