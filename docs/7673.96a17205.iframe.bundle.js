(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[7673],{"./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{F:function(){return UserActivityIndicator_UserActivityIndicator_UserActivityIndicator}});var clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),ProfilePicture=__webpack_require__("./frontend/src/lib/lemon-ui/ProfilePicture/index.ts"),TZLabel=__webpack_require__("./frontend/src/lib/components/TZLabel/index.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),UserActivityIndicator=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.scss"),UserActivityIndicator_default=__webpack_require__.n(UserActivityIndicator),options={insert:"head",singleton:!1},jsx_runtime=(injectStylesIntoStyleTag_default()(UserActivityIndicator_default(),options),UserActivityIndicator_default().locals,__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"));function UserActivityIndicator_UserActivityIndicator_UserActivityIndicator(_ref){let{at:at,by:by,prefix:prefix="Last modified",className:className}=_ref;return at||by?(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("UserActivityIndicator",className),children:[(0,jsx_runtime.jsxs)("div",{children:[prefix,at&&" ",at&&(0,jsx_runtime.jsx)(TZLabel.w,{time:at}),by&&" by"]}),by&&(0,jsx_runtime.jsx)(ProfilePicture.Y,{name:by.first_name,email:by.email,showName:!0,size:"md"})]}):null}try{UserActivityIndicator_UserActivityIndicator_UserActivityIndicator.displayName="UserActivityIndicator",UserActivityIndicator_UserActivityIndicator_UserActivityIndicator.__docgenInfo={description:"",displayName:"UserActivityIndicator",props:{prefix:{defaultValue:{value:"Last modified"},description:"",name:"prefix",required:!1,type:{name:"string"}},at:{defaultValue:null,description:"",name:"at",required:!0,type:{name:"string | null | undefined"}},by:{defaultValue:null,description:"",name:"by",required:!1,type:{name:"UserBasicType | null"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx#UserActivityIndicator"]={docgenInfo:UserActivityIndicator_UserActivityIndicator_UserActivityIndicator.__docgenInfo,name:"UserActivityIndicator",path:"frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx#UserActivityIndicator"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/notebooks/NotebookScene.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{NotebookScene:function(){return NotebookScene_NotebookScene},scene:function(){return scene}});var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),notebookLogic=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/notebookLogic.ts"),Notebook=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/Notebook.tsx"),NotFound=__webpack_require__("./frontend/src/lib/components/NotFound/index.tsx"),types=__webpack_require__("./frontend/src/types.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts");const notebookSceneLogic=(0,index_esm.kea)([(0,index_esm.path)((key=>["scenes","notebooks","notebookSceneLogic",key])),(0,index_esm.props)({}),(0,index_esm.key)((_ref=>{let{shortId:shortId}=_ref;return shortId})),(0,index_esm.connect)((props=>({values:[(0,notebookLogic.T)(props),["notebook","notebookLoading"]],actions:[(0,notebookLogic.T)(props),["loadNotebook"]]}))),(0,index_esm.actions)({setNotebookMode:mode=>({mode:mode})}),(0,index_esm.reducers)({mode:[types.tK.View,{setNotebookMode:(_,_ref2)=>{let{mode:mode}=_ref2;return mode}}]}),(0,index_esm.selectors)((()=>({notebookId:[()=>[(_,props)=>props],props=>props.shortId],breadcrumbs:[s=>[s.notebook,s.notebookLoading],(notebook,notebookLoading)=>[{name:"Notebooks",path:urls.j.dashboards()+"?tab=notebooks"},{name:notebook?notebook?.title||"Unnamed":notebookLoading?"Loading...":"Notebook not found"}]]}))),(0,lib.urlToAction)((_ref3=>{let{props:props,actions:actions,values:values}=_ref3;return{[`/notebooks/${props.shortId}(/:mode)`]:_ref4=>{let{mode:mode}=_ref4;const newMode="edit"===mode?types.tK.Edit:types.tK.View;newMode!==values.mode&&actions.setNotebookMode(newMode)}}})),(0,lib.actionToUrl)((_ref5=>{let{values:values,props:props}=_ref5;return{setNotebookMode:()=>values.mode===types.tK.View?urls.j.notebook(props.shortId):urls.j.notebookEdit(props.shortId)}})),(0,index_esm.afterMount)((_ref6=>{let{actions:actions}=_ref6;actions.loadNotebook()}))]);var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),notebookPopoverLogic=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/notebookPopoverLogic.ts"),NotebookMeta=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/NotebookMeta.tsx"),UserActivityIndicator=__webpack_require__("./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),LemonMenu=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMenu/index.ts"),notebooksModel=__webpack_require__("./frontend/src/models/notebooksModel.ts"),notebookTemplates=__webpack_require__("./frontend/src/scenes/notebooks/NotebookTemplates/notebookTemplates.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),NotebookScene=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/notebooks/NotebookScene.scss"),NotebookScene_default=__webpack_require__.n(NotebookScene),options={insert:"head",singleton:!1},featureFlagLogic=(injectStylesIntoStyleTag_default()(NotebookScene_default(),options),NotebookScene_default().locals,__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts")),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const scene={component:NotebookScene_NotebookScene,logic:notebookSceneLogic,paramsToProps:_ref=>{let{params:{shortId:shortId}}=_ref;return{shortId:shortId||"missing"}}};function NotebookScene_NotebookScene(){const{notebookId:notebookId,mode:mode}=(0,index_esm.useValues)(notebookSceneLogic),{setNotebookMode:setNotebookMode}=(0,index_esm.useActions)(notebookSceneLogic),{notebook:notebook,notebookLoading:notebookLoading,conflictWarningVisible:conflictWarningVisible}=(0,index_esm.useValues)((0,notebookLogic.T)({shortId:notebookId})),{exportJSON:exportJSON}=(0,index_esm.useActions)((0,notebookLogic.T)({shortId:notebookId})),{selectNotebook:selectNotebook,setVisibility:setVisibility}=(0,index_esm.useActions)(notebookPopoverLogic.L),{selectedNotebook:selectedNotebook,visibility:visibility}=(0,index_esm.useValues)(notebookPopoverLogic.L),{featureFlags:featureFlags}=(0,index_esm.useValues)(featureFlagLogic.h),buttonSize=featureFlags[constants.y8.POSTHOG_3000]?"small":"medium";if(!notebook&&!notebookLoading&&!conflictWarningVisible)return(0,jsx_runtime.jsx)(NotFound.T,{object:"notebook"});if("visible"===visibility&&selectedNotebook===notebookId)return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col justify-center items-center h-full text-muted-alt mx-10",children:[(0,jsx_runtime.jsxs)("h2",{className:"text-muted-alt",children:["This Notebook is open in the sidebar ",(0,jsx_runtime.jsx)(icons.Ec8,{})]}),(0,jsx_runtime.jsxs)("p",{children:["You can navigate around PostHog and ",(0,jsx_runtime.jsx)("b",{children:"drag and drop"})," thing into it. Or you can close the sidebar and it will be full screen here instead."]}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:()=>setVisibility("hidden"),children:"Open it here instead"})]});const editEnabled=!notebook?.is_template;return(0,jsx_runtime.jsxs)("div",{className:"NotebookScene",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between border-b py-2 mb-2 sticky top-0 bg-bg-3000 z-10",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[notebook?.is_template&&(0,jsx_runtime.jsx)(src.LemonTag,{type:"highlight",children:"TEMPLATE"}),(0,jsx_runtime.jsx)(UserActivityIndicator.F,{at:notebook?.last_modified_at,by:notebook?.last_modified_by})]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,jsx_runtime.jsx)(NotebookMeta.B,{shortId:notebookId}),(0,jsx_runtime.jsx)(LemonMenu.d,{items:[{items:[{label:"Export JSON",icon:(0,jsx_runtime.jsx)(icons.b8X,{}),onClick:()=>{exportJSON()}},editEnabled&&{label:"Delete",icon:(0,jsx_runtime.jsx)(icons.Fzz,{}),status:"danger",onClick:()=>{notebooksModel.L.actions.deleteNotebook(notebookId,notebook?.title),lib.router.actions.push(urls.j.notebooks())}}]}],actionable:!0,children:(0,jsx_runtime.jsx)(src.LemonButton,{"aria-label":"more",icon:(0,jsx_runtime.jsx)(icons.YRX,{}),status:"stealth",size:"small"})}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",icon:(0,jsx_runtime.jsx)(icons.Hnp,{}),size:buttonSize,onClick:()=>{selectNotebook(notebookTemplates.D[0].short_id),setVisibility("visible")},children:"Guide"}),(0,jsx_runtime.jsx)(NotebookMeta.t,{type:"secondary",size:buttonSize}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:buttonSize,onClick:()=>{selectNotebook(notebookId),setVisibility("visible")},tooltip:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Pins the notebook to the right, allowing you to view it while navigating the rest of PostHog. This is great for dragging and dropping elements like Insights, Recordings or even Feature Flags into your active Notebook."}),children:"Pin to side"}),editEnabled?mode===types.tK.Edit?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.LemonButton,{size:buttonSize,type:"primary",onClick:()=>setNotebookMode(types.tK.View),children:"Done"})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.LemonButton,{size:buttonSize,type:"primary",onClick:()=>setNotebookMode(types.tK.Edit),children:"Edit"})}):null]})]}),(0,jsx_runtime.jsx)(Notebook.a,{shortId:notebookId,editable:editEnabled&&mode===types.tK.Edit},notebookId)]})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".UserActivityIndicator{display:flex;align-items:center;font-size:.8125rem;white-space:nowrap;overflow-x:auto}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/notebooks/NotebookScene.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".Navigation3000 .NotebookScene{position:absolute;left:0;top:0;bottom:0;right:0;overflow-y:auto;padding:0 1rem}.NotebookScene .ProseMirror>.react-renderer{scroll-margin-top:65px}",""]),module.exports=exports}}]);