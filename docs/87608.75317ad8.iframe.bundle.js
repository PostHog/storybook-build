"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[87608],{"./frontend/src/scenes/error-tracking/ErrorTrackingScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingScene:()=>ErrorTrackingScene,scene:()=>scene});var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),ErrorDisplay=__webpack_require__("./frontend/src/lib/components/Errors/ErrorDisplay.tsx"),lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("./frontend/src/lib/api.ts"),schema=__webpack_require__("./frontend/src/queries/schema.ts"),utils=__webpack_require__("./frontend/src/queries/utils.ts");let errorTrackingSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","error-tracking","errorTrackingSceneLogic"]),(0,lib.loaders)(()=>({errorGroups:[[],{loadErrorGroups:async()=>{let query={kind:schema.OH.HogQLQuery,query:(0,utils.zP)`SELECT first_value(properties), count(), count(distinct properties.$session_id)
                                FROM events e
                                WHERE event = '$exception'
                                -- grouping by message for now, will eventually be predefined $exception_group_id
                                GROUP BY properties.$exception_message`},res=await api.ZP.query(query);return res.results.map(r=>{let eventProperties=JSON.parse(r[0]);return{title:eventProperties.$exception_message||"No message",sampleEventProperties:eventProperties,occurrences:r[2],uniqueSessions:r[3]}})}}]})),(0,index_esm.afterMount)(_ref=>{let{actions}=_ref;actions.loadErrorGroups()})]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:ErrorTrackingScene,logic:errorTrackingSceneLogic};function ErrorTrackingScene(){let{errorGroups,errorGroupsLoading}=(0,index_esm.useValues)(errorTrackingSceneLogic);return(0,jsx_runtime.jsx)(src.LemonTable,{columns:[{dataIndex:"title",width:"50%"},{title:"Occurrences",dataIndex:"occurrences",sorter:(a,b)=>a.occurrences-b.occurrences},{title:"Sessions",dataIndex:"uniqueSessions",sorter:(a,b)=>a.uniqueSessions-b.uniqueSessions}],loading:errorGroupsLoading,dataSource:errorGroups,expandable:{expandedRowRender:function renderExpand(group){return(0,jsx_runtime.jsx)(ErrorDisplay.X,{eventProperties:group.sampleEventProperties})},noIndent:!0}})}}}]);
//# sourceMappingURL=87608.75317ad8.iframe.bundle.js.map