(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./frontend/src/scenes/actions/NewActionButton.tsx":function(K,_,e){"use strict";e.d(_,"a",function(){return z});var P=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),D=e.n(P),p=e("./node_modules/react/index.js"),l=e.n(p),y=e("./node_modules/antd/es/modal/index.js"),o=e("./node_modules/antd/es/button/index.js"),H=e("./node_modules/antd/es/row/index.js"),Y=e("./node_modules/antd/es/col/index.js"),C=e("./node_modules/antd/es/card/index.js"),k=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),E=e("./node_modules/kea-router/lib/index.js"),ae=e.n(E),n=e("./frontend/src/scenes/urls.ts"),R=e("./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx"),X=e("./frontend/src/lib/components/icons.tsx"),d=e("./frontend/src/lib/components/LemonButton/index.ts"),q=e("./node_modules/kea/lib/index.esm.js"),$=e("./frontend/src/lib/logic/featureFlagLogic.ts"),T=e("./frontend/src/lib/constants.tsx");function z(){var G=Object(p.useState)(!1),B=D()(G,2),N=B[0],F=B[1],L=Object(p.useState)(!1),S=D()(L,2),I=S[0],f=S[1],J=Object(q.useValues)($.a),u=J.featureFlags;return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{type:"primary",onClick:function(){return F(!0)},"data-attr":"create-action"},"New ",u[T.h.SIMPLIFY_ACTIONS]?"Event":"Action"),l.a.createElement(y.a,{visible:N,style:{cursor:"pointer"},onCancel:function(){F(!1),f(!1)},title:"Create new action",footer:[I&&l.a.createElement(o.a,{key:"back-button",onClick:function(){return f(!1)}},"Back"),l.a.createElement(o.a,{key:"cancel-button",onClick:function(){F(!1),f(!1)}},"Cancel")]},!I&&l.a.createElement(H.a,{gutter:2,justify:"space-between"},l.a.createElement(Y.a,{xs:11},l.a.createElement(C.a,{title:"Inspect element on your site",onClick:function(){return f(!0)},size:"small"},l.a.createElement("div",{style:{textAlign:"center",fontSize:40}},l.a.createElement(k.a,null)))),l.a.createElement(Y.a,{xs:11},l.a.createElement(C.a,{title:"From event or pageview",onClick:function(){E.router.actions.push(n.a.createAction())},size:"small"},l.a.createElement("div",{style:{textAlign:"center",fontSize:40},"data-attr":"new-action-pageview"},l.a.createElement(X.IconEdit,null))))),I&&l.a.createElement(R.a,null)))}},"./frontend/src/scenes/data-management/DataManagementPageHeader.tsx":function(K,_,e){"use strict";e.d(_,"a",function(){return y});var P=e("./frontend/src/lib/components/PageHeader.tsx"),D=e("./node_modules/react/index.js"),p=e.n(D),l=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx");function y(o){var H=o.activeTab,Y=o.hideTabs;return p.a.createElement(p.a.Fragment,null,p.a.createElement(P.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),!Y&&p.a.createElement(l.a,{tab:H}))}try{y.displayName="DataManagementPageHeader",y.__docgenInfo={description:"",displayName:"DataManagementPageHeader",props:{activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}},hideTabs:{defaultValue:null,description:"",name:"hideTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageHeader.tsx#DataManagementPageHeader"]={docgenInfo:y.__docgenInfo,name:"DataManagementPageHeader",path:"frontend/src/scenes/data-management/DataManagementPageHeader.tsx#DataManagementPageHeader"})}catch(o){}},"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(K,_,e){"use strict";e.d(_,"b",function(){return b}),e.d(_,"a",function(){return oe});var P=e("./node_modules/core-js/modules/es.object.keys.js"),D=e.n(P),p=e("./node_modules/core-js/modules/es.symbol.js"),l=e.n(p),y=e("./node_modules/core-js/modules/es.array.filter.js"),o=e.n(y),H=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),Y=e.n(H),C=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),k=e.n(C),E=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ae=e.n(E),n=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),R=e.n(n),X=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=e.n(X),q=e("./node_modules/core-js/modules/es.array.iterator.js"),$=e.n(q),T=e("./node_modules/core-js/modules/es.object.to-string.js"),z=e.n(T),G=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),B=e.n(G),N=e("./node_modules/core-js/modules/es.object.from-entries.js"),F=e.n(N),L=e("./node_modules/core-js/modules/es.array.map.js"),S=e.n(L),I=e("./node_modules/core-js/modules/es.object.entries.js"),f=e.n(I),J=e("./node_modules/react/index.js"),u=e.n(J),j=e("./node_modules/kea/lib/index.esm.js"),m=e("./node_modules/antd/es/tabs/index.js"),Z=e("./frontend/src/scenes/urls.ts"),ee=e("./frontend/src/lib/components/Tooltip.tsx"),w=e("./frontend/src/lib/components/icons.tsx"),te=e("./frontend/src/lib/components/TitleWithIcon.tsx"),h=e("./frontend/src/lib/logic/featureFlagLogic.ts"),W=e("./frontend/src/lib/constants.tsx");function V(v,c){var r=Object.keys(v);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(v);c&&(a=a.filter(function(U){return Object.getOwnPropertyDescriptor(v,U).enumerable})),r.push.apply(r,a)}return r}function g(v){for(var c=1;c<arguments.length;c++){var r=arguments[c]!=null?arguments[c]:{};c%2?V(Object(r),!0).forEach(function(a){d()(v,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(a){Object.defineProperty(v,a,Object.getOwnPropertyDescriptor(r,a))})}return v}var b;(function(v){v.Actions="actions",v.EventDefinitions="events",v.EventPropertyDefinitions="properties"})(b||(b={}));var M=Object(j.kea)({path:["scenes","events","eventsTabsLogic"],actions:{setTab:function(c){return{tab:c}}},reducers:{tab:[b.EventDefinitions,{setTab:function(c,r){var a=r.tab;return a}}]},selectors:function(){return{tabUrls:[function(){return[h.a.selectors.featureFlags]},function(c){var r;return g((r={},d()(r,b.EventPropertyDefinitions,Z.a.eventPropertyDefinitions()),d()(r,b.EventDefinitions,Z.a.eventDefinitions()),r),c[W.h.SIMPLIFY_ACTIONS]?{}:d()({},b.Actions,Z.a.actions()))}]}},actionToUrl:function(c){var r=c.values;return{setTab:function(U){var x=U.tab;return r.tabUrls[x]||Z.a.events()}}},urlToAction:function(c){var r=c.actions,a=c.values;return Object.fromEntries(Object.entries(a.tabUrls).map(function(U){var x=R()(U,2),A=x[0],ne=x[1];return[ne,function(){a.tab!==A&&r.setTab(A)}]}))}});function oe(v){var c=v.tab,r=Object(j.useActions)(M),a=r.setTab,U=Object(j.useValues)(h.a),x=U.featureFlags;return u.a.createElement(m.a,{tabPosition:"top",animated:!1,activeKey:c,onTabClick:function(ne){return a(ne)}},u.a.createElement(m.a.TabPane,{tab:u.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:b.EventDefinitions}),!x[W.h.SIMPLIFY_ACTIONS]&&u.a.createElement(m.a.TabPane,{tab:u.a.createElement(te.a,{icon:u.a.createElement(ee.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},u.a.createElement(w.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:b.Actions}),u.a.createElement(m.a.TabPane,{tab:u.a.createElement(te.a,{icon:u.a.createElement(ee.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},u.a.createElement(w.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Properties"),key:b.EventPropertyDefinitions}))}try{oe.displayName="DataManagementPageTabs",oe.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:oe.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(v){}},"./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx":function(K,_,e){"use strict";e.d(_,"a",function(){return $});var P=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),D=e.n(P),p=e("./node_modules/core-js/modules/es.array.concat.js"),l=e.n(p),y=e("./node_modules/core-js/modules/es.array.includes.js"),o=e.n(y),H=e("./node_modules/core-js/modules/es.string.includes.js"),Y=e.n(H),C=e("./node_modules/kea/lib/index.esm.js"),k=e("./node_modules/react/index.js"),E=e.n(k),ae=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),n=e("./frontend/src/lib/components/LemonTable/index.ts"),R=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),X=e("./frontend/src/scenes/organizationLogic.tsx"),d=e("./frontend/src/lib/utils.tsx"),q=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx");function $(T){var z,G,B,N,F,L,S,I,f=T.definition,J=Object(C.useActions)(ae.c),u=J.loadPropertiesForEvent,j=Object(C.useValues)(ae.c),m=j.eventPropertiesCacheMap,Z=j.eventDefinitionPropertiesLoading,ee=Object(C.useValues)(X.a),w=ee.hasDashboardCollaboration,te=ee.hasIngestionTaxonomy;Object(k.useEffect)(function(){u(f)},[]);var h=[{title:"Property",key:"property",className:"definition-column-name",render:function(V,g){return E.a.createElement(q.c,{definition:g,event:f,hideIcon:!0,asLink:!0})}},{title:"Type",key:"type",className:"definition-column-type",render:function(V,g){return g.property_type?E.a.createElement("div",{className:"definition-pill-value",style:{textTransform:"uppercase"}},g.property_type):E.a.createElement("span",{className:"text-muted"},"\u2014")}}].concat(D()(w?[{title:"Tags",key:"tags",render:function(V,g){var b;return E.a.createElement(R.a,{tags:(b=g.tags)!==null&&b!==void 0?b:[],staticOnly:!0})}}]:[]),D()(te?[{title:"30 day queries",key:"query_usage_30_day",align:"right",render:function(V,g){return g.query_usage_30_day?Object(d.P)(g.query_usage_30_day):E.a.createElement("span",{className:"text-muted"},"\u2014")}}]:[]),[{title:"Example",key:"example",align:"right",className:"definition-example-type",render:function(V,g){return g.example?E.a.createElement("div",{className:"definition-pill-value",style:{fontFamily:"monospace"}},g.example):E.a.createElement("span",{className:"text-muted"},"\u2014")}}]);return E.a.createElement("div",{className:"event-properties-wrapper"},E.a.createElement("span",{className:"event-properties-header"},"Top properties"),E.a.createElement("p",{className:"event-properties-subtext"},"Please note that description and tags are shared across events. Posthog properties are excluded from this list."),E.a.createElement(n.a,{id:"event-properties-definition-table-".concat(f.id),"data-attr":"event-properties-definition-nested-table",columns:h,className:"event-properties-definition-table-".concat(f.id),dataSource:(z=m==null||(G=m[f.id])===null||G===void 0?void 0:G.results)!==null&&z!==void 0?z:[],emptyState:"This event has no properties",nouns:["property definition","property definitions"],pagination:{controlled:!0,pageSize:ae.b,currentPage:(B=m==null||(N=m[f.id])===null||N===void 0?void 0:N.page)!==null&&B!==void 0?B:1,entryCount:(F=m==null||(L=m[f.id])===null||L===void 0?void 0:L.count)!==null&&F!==void 0?F:0,onForward:m!=null&&(S=m[f.id])!==null&&S!==void 0&&S.next?function(){u(f,m[f.id].next)}:void 0,onBackward:m!=null&&(I=m[f.id])!==null&&I!==void 0&&I.previous?function(){u(f,m[f.id].previous)}:void 0},loading:Z.includes(f.id)}))}try{$.displayName="EventDefinitionProperties",$.__docgenInfo={description:"",displayName:"EventDefinitionProperties",props:{definition:{defaultValue:null,description:"",name:"definition",required:!0,type:{name:"EventDefinition"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"]={docgenInfo:$.__docgenInfo,name:"EventDefinitionProperties",path:"frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"})}catch(T){}},"./frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx":function(K,_,e){"use strict";e.r(_),e.d(_,"scene",function(){return w}),e.d(_,"EventDefinitionsTable",function(){return te});var P=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),D=e.n(P),p=e("./node_modules/core-js/modules/es.array.concat.js"),l=e("./node_modules/core-js/modules/es.function.name.js"),y=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=e.n(y),H=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss"),Y=e.n(H),C={};C.insert="head",C.singleton=!1;var k=o()(Y.a,C),E=Y.a.locals||{},ae=e("./node_modules/react/index.js"),n=e.n(ae),R=e("./node_modules/kea/lib/index.esm.js"),X=e("./frontend/src/lib/components/LemonTable/index.ts"),d=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),q=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),$=e("./frontend/src/scenes/organizationLogic.tsx"),T=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),z=e("./frontend/src/lib/utils.tsx"),G=e("./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx"),B=e("./node_modules/antd/es/row/index.js"),N=e("./node_modules/antd/es/alert/index.js"),F=e("./node_modules/antd/es/input/index.js"),L=e("./frontend/src/scenes/data-management/DataManagementPageHeader.tsx"),S=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),I=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),f=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),J=e("./frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx"),u=e("./frontend/src/lib/components/ProfilePicture/index.ts"),j=e("./frontend/src/scenes/teamLogic.tsx"),m=e("./frontend/src/lib/components/icons.tsx"),Z=e("./frontend/src/scenes/actions/NewActionButton.tsx"),ee=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),w={component:te,logic:d.c,paramsToProps:function(){return{syncWithUrl:!0}}};function te(){var h,W,V=Object(R.useValues)(f.a),g=V.preflight,b=Object(R.useValues)(d.c),M=b.eventDefinitions,oe=b.eventDefinitionsLoading,v=b.filters,c=b.shouldSimplifyActions,r=Object(R.useValues)(j.a),a=r.currentTeam,U=Object(R.useActions)(d.c),x=U.loadEventDefinitions,A=U.setFilters,ne=Object(R.useValues)($.a),ie=ne.hasDashboardCollaboration,se=ne.hasIngestionTaxonomy,re=[{key:"icon",className:"definition-column-icon",render:function(s,t){return Object(d.d)(t)?n.a.createElement(T.a,{definition:t,hideText:!0}):n.a.createElement(T.b,{definition:t,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(s,t){return Object(d.d)(t)?n.a.createElement(T.a,{definition:t,hideIcon:!0,asLink:!0}):n.a.createElement(T.b,{definition:t,hideIcon:!0,asLink:!0,shouldSimplifyActions:!0})},sorter:function(s,t){var i,Q,le;return(i=(Q=s.name)===null||Q===void 0?void 0:Q.localeCompare((le=t.name)!==null&&le!==void 0?le:""))!==null&&i!==void 0?i:0}}].concat(D()(ie?[{title:"Tags",key:"tags",render:function(s,t){var i;return n.a.createElement(q.a,{tags:(i=t.tags)!==null&&i!==void 0?i:[],staticOnly:!0})}}]:[]),D()(c?[{title:"Created by",key:"created_by",align:"left",render:function(s,t){var i=Object(d.d)(t)?t.created_by:t.owner;return n.a.createElement(B.a,{align:"middle",wrap:!1},i&&n.a.createElement(u.b,{name:i.first_name,email:i.email,size:"md"}),n.a.createElement("div",{style:{maxWidth:250,width:"auto",verticalAlign:"middle",marginLeft:i?8:0,color:i?void 0:"var(--muted)"}},i?i.first_name||i.email:"\u2014"))}},{title:"Last updated",key:"last_updated",align:"left",render:function(s,t){var i=t.last_updated_at;return i?n.a.createElement("div",{style:{whiteSpace:"nowrap"}},n.a.createElement(ee.b,{time:i})):n.a.createElement("span",{style:{color:"var(--muted)"}},"\u2014")},sorter:function(s,t){return new Date(s.last_updated_at||0)>new Date(t.last_updated_at||0)?1:-1}},{title:"Webhook",key:"webhook",align:"center",render:function(s,t){return Object(d.d)(t)&&!!(a!=null&&a.slack_incoming_webhook)&&!!t.post_to_slack?n.a.createElement(m.IconWebhook,null):n.a.createElement(n.a.Fragment,null)}}]:[]),D()(!c&&se?[{title:n.a.createElement(J.c,{tooltipPlacement:"bottom"}),key:"volume_30_day",align:"right",render:function(s,t){return Object(d.d)(t)?n.a.createElement("span",{className:"text-muted"},"\u2014"):t.volume_30_day?Object(z.P)(t.volume_30_day):n.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(s,t){var i,Q;return!Object(d.d)(s)&&!Object(d.d)(t)?((i=s==null?void 0:s.volume_30_day)!==null&&i!==void 0?i:0)-((Q=t==null?void 0:t.volume_30_day)!==null&&Q!==void 0?Q:0):0}},{title:n.a.createElement(J.b,{tooltipPlacement:"bottom"}),key:"query_usage_30_day",align:"right",render:function(s,t){return Object(d.d)(t)?n.a.createElement("span",{className:"text-muted"},"\u2014"):t.query_usage_30_day?Object(z.P)(t.query_usage_30_day):n.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(s,t){var i,Q;return!Object(d.d)(s)&&!Object(d.d)(t)?((i=s==null?void 0:s.query_usage_30_day)!==null&&i!==void 0?i:0)-((Q=t==null?void 0:t.query_usage_30_day)!==null&&Q!==void 0?Q:0):0}}]:[]));return n.a.createElement("div",{"data-attr":"manage-events-table"},n.a.createElement(L.a,{activeTab:S.b.EventDefinitions}),c&&n.a.createElement(N.a,{style:{marginBottom:16,display:"flex",alignItems:"center"},message:"Actions have moved to the Events tab",description:n.a.createElement(n.a.Fragment,null,'Actions have been renamed to events and events to raw events. To create a new "Action", click "New Event" to get started.'),type:"info",showIcon:!0,closable:!0}),g&&!(g!=null&&g.is_event_property_usage_enabled)&&n.a.createElement(I.a,{tab:"Event Definitions"}),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flexDirection:"row",alignItems:"center",width:"100%",marginBottom:"1rem"}},n.a.createElement(F.a.Search,{placeholder:"Search for events",allowClear:!0,enterButton:!0,value:v.event,style:{maxWidth:600,width:"initial"},onChange:function(s){A({event:s.target.value||""})}}),c&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{flex:1}}),n.a.createElement(Z.a,null))),n.a.createElement(X.a,{columns:re,className:"events-definition-table","data-attr":"events-definition-table",loading:oe,rowKey:"id",pagination:{controlled:!0,currentPage:(h=M==null?void 0:M.page)!==null&&h!==void 0?h:1,entryCount:(W=M==null?void 0:M.count)!==null&&W!==void 0?W:0,pageSize:d.a,onForward:M.next?function(){x(M.next)}:void 0,onBackward:M.previous?function(){x(M.previous)}:void 0},expandable:{expandedRowRender:function(s){return Object(d.d)(s)?null:n.a.createElement(G.a,{definition:s})},rowExpandable:function(s){return!Object(d.d)(s)},noIndent:!0},dataSource:M.results,emptyState:"No event definitions",nouns:["event","events"]}))}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(K,_,e){"use strict";e.d(_,"a",function(){return l});var P=e("./node_modules/antd/es/alert/index.js"),D=e("./node_modules/react/index.js"),p=e.n(D);function l(y){var o=y.tab;return p.a.createElement(P.a,{type:"info",showIcon:!0,message:"".concat(o," are not enabled for your instance."),description:p.a.createElement(p.a.Fragment,null,"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",p.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",p.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events.")})}try{l.displayName="UsageDisabledWarning",l.__docgenInfo={description:"",displayName:"UsageDisabledWarning",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"]={docgenInfo:l.__docgenInfo,name:"UsageDisabledWarning",path:"frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"})}catch(y){}},"./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx":function(K,_,e){"use strict";e.d(_,"a",function(){return L});var P=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),D=e.n(P),p=e("./node_modules/core-js/modules/es.regexp.exec.js"),l=e("./node_modules/core-js/modules/es.string.match.js"),y=e("./node_modules/react/index.js"),o=e.n(y),H=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Y=e.n(H),C=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.scss"),k=e.n(C),E={};E.insert="head",E.singleton=!1;var ae=Y()(k.a,E),n=k.a.locals||{},R=e("./node_modules/clsx/dist/clsx.m.js"),X=e("./node_modules/kea/lib/index.esm.js"),d=e("./frontend/src/lib/components/LemonTable/index.ts"),q=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),$=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),T=e("./frontend/src/lib/components/LemonButton/index.ts"),z=e("./node_modules/antd/es/input/index.js"),G=e("./node_modules/antd/es/button/index.js"),B=e("./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts"),N=e("./frontend/src/lib/utils.tsx"),F=e("./frontend/src/lib/components/LemonButton/More.tsx");function L(S){var I=S.pageKey,f=S.actionId,J=Object(B.c)({actionId:f}),u=Object(X.useValues)(J),j=u.appUrlsKeyed,m=u.suggestionsLoading,Z=u.searchTerm,ee=u.launchUrl,w=u.appUrls,te=u.editUrlIndex,h=Object(X.useActions)(J),W=h.addUrl,V=h.removeUrl,g=h.setSearchTerm,b=h.updateUrl,M=h.newUrl,oe=h.setEditUrlIndex,v=[{title:"URLs",dataIndex:"url",key:"url",render:function(r,a){var U=Object(y.useState)(a.url),x=D()(U,2),A=x[0],ne=x[1],ie=Object(y.useState)(""),se=D()(ie,2),re=se[0],O=se[1];Object(y.useEffect)(function(){return ne(a.url)},[a]);var s=function(){if(O(""),A===B.a&&V(a.originalIndex),A.indexOf("*")>-1&&!A.match(/^(.*)\*[^\*]*\.[^\*]+\.[^\*]+$/)){O("You can only wildcard subdomains. If you wildcard the domain or TLD, people might be able to gain access to your PostHog data.");return}if(!Object(N.hb)(A)){O("Please type a valid URL or domain.");return}if(w.indexOf(A)>-1&&w.indexOf(A,a.originalIndex)!==a.originalIndex&&w.indexOf(A,a.originalIndex+1)!==a.originalIndex){O("This URL is already registered.");return}b(a.originalIndex,A)};return a.type==="suggestion"||r!==B.a&&te!==a.originalIndex?o.a.createElement("div",{className:Object(R.a)("authorized-url-col",a.type)},a.type==="authorized"&&o.a.createElement($.a,{style:{marginRight:4}}),r,a.type==="suggestion"&&o.a.createElement(q.a,null,"Suggestion")):o.a.createElement("div",null,o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(z.a,{value:A,onChange:function(i){return ne(i.target.value)},onPressEnter:s,autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)"}),o.a.createElement(G.a,{type:"primary",onClick:s},"Save")),re&&o.a.createElement("span",{className:"text-small text-danger"},re))}},{title:"",key:"actions",render:function(r,a,U){return o.a.createElement("div",{className:"actions-col"},a.type==="suggestion"?o.a.createElement(T.a,{type:"secondary",onClick:function(){return W(a.url)}},"Apply suggestion"):o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{type:"highlighted",href:ee(a.url),className:"mr"},"Open with Toolbar"),o.a.createElement(F.a,{overlay:o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{fullWidth:!0,type:"stealth",onClick:function(){return oe(a.originalIndex)}},"Edit authorized URL"),o.a.createElement(T.a,{fullWidth:!0,style:{color:"var(--danger)"},type:"stealth",onClick:function(){return V(U)}},"Remove authorized URL"))})))}}];return o.a.createElement("div",null,o.a.createElement("div",{className:"flex-center mb"},o.a.createElement("div",{style:{flexGrow:1}},o.a.createElement(z.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for authorized URLs",style:{maxWidth:480},value:Z,onChange:function(r){g(r.target.value)},autoFocus:I==="toolbar-launch"&&!Object(N.Z)()})),o.a.createElement(T.a,{type:"primary",onClick:M},"Add",I==="toolbar-launch"&&" authorized domain")),o.a.createElement(d.a,{className:"authorized-urls-table",columns:v,dataSource:j,emptyState:Z?"There are no authorized URLs that match your search.":"There are no authorized URLs or domains. Add one to get started.",loading:m}))}try{L.displayName="AuthorizedUrlsTable",L.__docgenInfo={description:"",displayName:"AuthorizedUrlsTable",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx#AuthorizedUrlsTable"]={docgenInfo:L.__docgenInfo,name:"AuthorizedUrlsTable",path:"frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx#AuthorizedUrlsTable"})}catch(S){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss":function(K,_,e){var P=e("./node_modules/css-loader/dist/runtime/api.js");_=P(!1),_.push([K.i,'.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:flex-start}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted path{fill:var(--taxonomy-icon-muted)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{height:28px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified path{fill:var(--success)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified:not(.taxonomy-icon-ph){margin-bottom:-4px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name{display:flex;flex-direction:row;align-items:center}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer;position:relative;overflow:visible}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;bottom:-5px;left:-10px;right:-50px;height:22px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--text-muted);text-overflow:ellipsis}.events-definition-table .LemonTable__content>table>tbody td.definition-example-type .definition-pill-value{float:right}.events-definition-table .LemonTable__content>table>tbody .definition-pill-value{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;word-break:break-all;max-width:300px;cursor:text}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper{padding:1rem 0 1rem 1rem}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper .event-properties-header{font-weight:600}',""]),K.exports=_},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.scss":function(K,_,e){var P=e("./node_modules/css-loader/dist/runtime/api.js");_=P(!1),_.push([K.i,".authorized-urls-table .authorized-url-col{display:flex;align-items:center}.authorized-urls-table .authorized-url-col .LemonTag{margin-left:6px}.authorized-urls-table .authorized-url-col.suggestion{color:var(--text-muted-alt)}.authorized-urls-table .authorized-url-col.authorized{color:var(--success)}.authorized-urls-table .actions-col{display:flex;align-items:center;justify-content:flex-end}",""]),K.exports=_}}]);
