(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(V,_,e){"use strict";e.d(_,"b",function(){return t}),e.d(_,"a",function(){return r});var M=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=e.n(M),g=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=e.n(g),I=e("./node_modules/core-js/modules/es.array.iterator.js"),y=e.n(I),W=e("./node_modules/core-js/modules/es.object.to-string.js"),K=e.n(W),A=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),R=e.n(A),B=e("./node_modules/core-js/modules/es.object.from-entries.js"),G=e.n(B),S=e("./node_modules/core-js/modules/es.array.map.js"),x=e.n(S),L=e("./node_modules/core-js/modules/es.object.entries.js"),N=e.n(L),P=e("./node_modules/react/index.js"),s=e.n(P),b=e("./node_modules/kea/lib/index.esm.js"),E=e("./node_modules/antd/es/tabs/index.js"),f=e("./frontend/src/scenes/urls.ts"),T=e("./frontend/src/lib/components/Tooltip.tsx"),j=e("./frontend/src/lib/components/icons.tsx"),D=e("./frontend/src/lib/components/TitleWithIcon.tsx"),h=e("./frontend/src/lib/constants.tsx"),c=e("./frontend/src/lib/logic/featureFlagLogic.ts"),o,t;(function(n){n.Actions="actions",n.EventDefinitions="events",n.EventPropertyDefinitions="properties",n.IngestionWarnings="warnings"})(t||(t={}));var i=(o={},m()(o,t.EventPropertyDefinitions,f.a.eventPropertyDefinitions()),m()(o,t.EventDefinitions,f.a.eventDefinitions()),m()(o,t.Actions,f.a.actions()),m()(o,t.IngestionWarnings,f.a.ingestionWarnings()),o),d=Object(b.kea)({path:["scenes","events","eventsTabsLogic"],connect:{values:[c.a,["featureFlags"]]},actions:{setTab:function(u){return{tab:u}}},reducers:{tab:[t.EventDefinitions,{setTab:function(u,l){var v=l.tab;return v}}]},selectors:{showWarningsTab:[function(n){return[n.featureFlags]},function(n){return!!n[h.i.INGESTION_WARNINGS_ENABLED]}]},actionToUrl:function(){return{setTab:function(l){var v=l.tab;return i[v]||f.a.events()}}},urlToAction:function(u){var l=u.actions,v=u.values;return Object.fromEntries(Object.entries(i).map(function(p){var O=a()(p,2),C=O[0],U=O[1];return[U,function(){v.tab!==C&&l.setTab(C)}]}))}});function r(n){var u=n.tab,l=Object(b.useValues)(d),v=l.showWarningsTab,p=Object(b.useActions)(d),O=p.setTab;return s.a.createElement(E.a,{tabPosition:"top",animated:!1,activeKey:u,onTabClick:function(U){return O(U)}},s.a.createElement(E.a.TabPane,{tab:s.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:t.EventDefinitions}),s.a.createElement(E.a.TabPane,{tab:s.a.createElement(D.a,{icon:s.a.createElement(T.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},s.a.createElement(j.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:t.Actions}),s.a.createElement(E.a.TabPane,{tab:s.a.createElement(D.a,{icon:s.a.createElement(T.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},s.a.createElement(j.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Event Properties"),key:t.EventPropertyDefinitions}),v&&s.a.createElement(E.a.TabPane,{tab:s.a.createElement("span",{"data-attr":"data-management-warnings-tab"},"Ingestion Warnings"),key:t.IngestionWarnings}))}try{r.displayName="DataManagementPageTabs",r.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'},{value:'"warnings"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:r.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(n){}},"./frontend/src/scenes/data-management/ingestion-warnings/IngestionWarningsView.tsx":function(V,_,e){"use strict";e.r(_),e.d(_,"scene",function(){return f}),e.d(_,"IngestionWarningsView",function(){return D});var M=e("./node_modules/react/index.js"),a=e.n(M),g=e("./node_modules/kea/lib/index.esm.js"),m=e("./frontend/src/scenes/urls.ts"),I=e("./frontend/src/lib/components/PageHeader.tsx"),y=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),W=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),K=e.n(W),A=e("./node_modules/@babel/runtime/regenerator/index.js"),R=e.n(A),B=e("./node_modules/core-js/modules/es.array.iterator.js"),G=e("./node_modules/core-js/modules/es.object.to-string.js"),S=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),x=e("./node_modules/kea-loaders/lib/index.js"),L=e("./frontend/src/lib/api.ts"),N=e("./frontend/src/scenes/teamLogic.tsx"),P=Object(g.kea)([Object(g.path)(["scenes","data-management","ingestion-warnings","ingestionWarningsLogic"]),Object(g.connect)({values:[N.a,["currentTeamId"]]}),Object(x.loaders)(function(c){var o=c.values;return{data:[[],{loadData:function(){var t=K()(R.a.mark(function d(){var r,n;return R.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,L.b.get("api/projects/".concat(o.currentTeamId,"/ingestion_warnings"));case 2:return r=l.sent,n=r.results,l.abrupt("return",n);case 5:case"end":return l.stop()}},d)}));function i(){return t.apply(this,arguments)}return i}()}]}}),Object(g.selectors)({breadcrumbs:[function(){return[]},function(){return[{name:"Data Management",path:m.a.eventDefinitions()},{name:"Ingestion Warnings",path:m.a.ingestionWarnings()}]}]}),Object(g.events)(function(c){var o=c.actions;return{afterMount:function(){o.loadData()}}})]),s=e("./frontend/src/lib/components/LemonTable/index.ts"),b=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),E=e("./frontend/src/lib/components/Link.tsx"),f={component:D,logic:P},T={cannot_merge_already_identified:"Refused to merge an already identified user via $identify or $create_alias call"},j={cannot_merge_already_identified:function(o){var t=o.details;return a.a.createElement(a.a.Fragment,null,"Refused to merge already identified person"," ",a.a.createElement(E.a,{to:m.a.person(t.sourcePersonDistinctId)},t.sourcePersonDistinctId)," into"," ",a.a.createElement(E.a,{to:m.a.person(t.targetPersonDistinctId)},t.targetPersonDistinctId)," via an $identify or $create_alias call")}};function D(){var c=Object(g.useValues)(P),o=c.data,t=c.dataLoading;return a.a.createElement("div",{"data-attr":"manage-events-table"},a.a.createElement(I.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),a.a.createElement(y.a,{tab:y.b.IngestionWarnings}),a.a.createElement("div",{className:"mb-4"},"Data ingestion related warnings from past 30 days."),a.a.createElement(s.a,{dataSource:o,loading:t,columns:[{title:"Warning",dataIndex:"type",render:function(d,r){return a.a.createElement(a.a.Fragment,null,T[r.type]||r.type)}},{title:"Events",dataIndex:"count",align:"right",sorter:function(d,r){return d.count-r.count}},{title:"Last Seen",dataIndex:"lastSeen",render:function(d,r){return a.a.createElement(b.b,{time:r.lastSeen,showSeconds:!0})},align:"right",sorter:function(d,r){return new Date(d.lastSeen)>new Date(r.lastSeen)?1:-1}}],expandable:{expandedRowRender:h},defaultSorting:{columnKey:"lastSeen",order:-1},noSortingCancellation:!0}))}function h(c){return a.a.createElement(s.a,{dataSource:c.warnings,columns:[{title:"Description",key:"description",render:function(t,i){var d=j[i.type];return d?d(i):a.a.createElement("pre",null,JSON.stringify(i.details,null,2))}},{title:"Time",dataIndex:"timestamp",render:function(t,i){return a.a.createElement(b.b,{time:i.timestamp,showSeconds:!0})},align:"right"}],embedded:!0,size:"small",showHeader:!1})}}}]);
