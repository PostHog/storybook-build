"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[74211],{"../../frontend/src/scenes/data-pipelines/DataPipelinesScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DataPipelinesScene:()=>DataPipelinesScene,dataPipelinesSceneLogic:()=>dataPipelinesSceneLogic,scene:()=>scene});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),ActivityLog=__webpack_require__("../../frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),LemonTabs=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),types=__webpack_require__("../../frontend/src/types.ts"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.26.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),PageHeader=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),ProductIntroduction=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),hog_function_utils=__webpack_require__("../../frontend/src/scenes/hog-functions/hog-function-utils.ts"),HogFunctionsList=__webpack_require__("../../frontend/src/scenes/hog-functions/list/HogFunctionsList.tsx"),hogFunctionsListLogic=__webpack_require__("../../frontend/src/scenes/hog-functions/list/hogFunctionsListLogic.tsx"),HogFunctionTemplateList=__webpack_require__("../../frontend/src/scenes/hog-functions/list/HogFunctionTemplateList.tsx"),kea_loaders_lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("../../frontend/src/lib/api.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),sourceWizardLogic=__webpack_require__("../../frontend/src/scenes/data-warehouse/new/sourceWizardLogic.tsx"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),BatchExportIcon=__webpack_require__("../../frontend/src/scenes/data-pipelines/batch-exports/BatchExportIcon.tsx");let nonHogFunctionsLogic=(0,index_esm.kea)([(0,index_esm.path)(key=>["scenes","data-pipelines","utils","nonHogFunctionsLogic",key]),(0,index_esm.connect)(()=>({values:[sourceWizardLogic.So,["connectors"],featureFlagLogic.featureFlagLogic,["featureFlags"],userLogic.userLogic,["user"]]})),(0,kea_loaders_lib.loaders)(()=>({hogFunctionPluginsDestinations:[null,{loadHogFunctionPluginsDestinations:async()=>{let[pluginConfigs,plugins]=await Promise.all([api.ZP.loadPaginatedResults("api/projects/@current/pipeline_destination_configs"),api.ZP.loadPaginatedResults("api/organizations/@current/pipeline_destinations")]),pluginsById=Object.fromEntries(plugins.map(plugin=>[plugin.id,plugin])),hogfunctions=[];for(let pluginConfig of pluginConfigs){var _plugin$icon;let plugin=pluginsById[pluginConfig.plugin],iconUrl=null!==(_plugin$icon=plugin.icon)&&void 0!==_plugin$icon?_plugin$icon:"static/images/plugin-default.png";try{let{user,repo,path}=(0,utils.iw)(plugin.url||"");iconUrl=`https://raw.githubusercontent.com/${user}/${repo}/${path||"main"}/logo.png`}catch{}hogfunctions.push({id:`plugin-${pluginConfig.id}`,name:pluginConfig.name||plugin?.name||"Unknown app",description:pluginConfig.description||plugin?.description||"",type:"destination",created_by:null,created_at:"",updated_at:pluginConfig.updated_at,enabled:pluginConfig.enabled,execution_order:void 0,hog:"",icon_url:iconUrl})}return hogfunctions}}],hogFunctionPluginsSiteApps:[null,{loadHogFunctionPluginsSiteApps:async()=>{let[pluginConfigs,plugins]=await Promise.all([api.ZP.loadPaginatedResults("api/projects/@current/pipeline_frontend_apps_configs"),api.ZP.loadPaginatedResults("api/organizations/@current/pipeline_frontend_apps")]),pluginsById=Object.fromEntries(plugins.map(plugin=>[plugin.id,plugin])),hogfunctions=[];for(let pluginConfig of pluginConfigs){var _plugin$icon2;let plugin=pluginsById[pluginConfig.plugin],iconUrl=null!==(_plugin$icon2=plugin.icon)&&void 0!==_plugin$icon2?_plugin$icon2:"static/images/plugin-default.png";try{let{user,repo,path}=(0,utils.iw)(plugin.url||"");iconUrl=`https://raw.githubusercontent.com/${user}/${repo}/${path||"main"}/logo.png`}catch{}hogfunctions.push({id:`plugin-${pluginConfig.id}`,name:pluginConfig.name||plugin?.name||"Unknown app",description:pluginConfig.description||plugin?.description||"",type:"destination",created_by:null,created_at:"",updated_at:pluginConfig.updated_at,enabled:pluginConfig.enabled,execution_order:void 0,hog:"",icon_url:iconUrl})}return hogfunctions}}],hogFunctionBatchExports:[null,{loadHogFunctionBatchExports:async()=>{let results=(await api.ZP.batchExports.list()).results,hogFunctions=[];for(let batchExport of results)hogFunctions.push({id:`batch-export-${batchExport.id}`,name:batchExport.name,description:`${batchExport.destination.type} batch export`,type:"destination",created_by:null,created_at:batchExport.created_at,updated_at:batchExport.created_at,enabled:!batchExport.paused,hog:"",icon_url:BatchExportIcon.EL[batchExport.destination.type],execution_order:void 0});return hogFunctions}}]}))]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let MAPPING={destination:{key:types.Md.PIPELINE_DESTINATIONS,description:"Destinations allow you to send your data to external systems."},transformation:{key:types.Md.PIPELINE_TRANSFORMATIONS,description:"Transformations let you modify, filter, and enrich event data to improve data quality, privacy, and consistency."},site_app:{key:types.Md.SITE_APPS,description:"Site apps allow you to add custom functionality to your website using PostHog."}};function DataPipelinesHogFunctions(_ref){let{kind,additionalKinds}=_ref,humanizedKind=(0,hog_function_utils.S)(kind),logicKey=`data-pipelines-hog-functions-${kind}`,{hogFunctions,loading}=(0,index_esm.useValues)((0,hogFunctionsListLogic.Se)({logicKey,type:kind,additionalTypes:additionalKinds})),{hogFunctionPluginsDestinations,hogFunctionBatchExports,hogFunctionPluginsSiteApps}=(0,index_esm.useValues)(nonHogFunctionsLogic),{loadHogFunctionPluginsDestinations,loadHogFunctionBatchExports,loadHogFunctionPluginsSiteApps}=(0,index_esm.useActions)(nonHogFunctionsLogic);(0,react.useEffect)(()=>{"destination"===kind&&(loadHogFunctionPluginsDestinations(),loadHogFunctionBatchExports()),"site_app"===kind&&loadHogFunctionPluginsSiteApps()},[kind]);let newButton=(0,jsx_runtime.jsxs)(src.Jp,{to:urls.j.dataPipelinesNew(kind),type:"primary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),size:"small",children:["New ",humanizedKind]}),productInfoMapping=MAPPING[kind];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:newButton}),productInfoMapping?(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:`Pipeline ${humanizedKind}s`,thingName:humanizedKind,productKey:productInfoMapping.key,description:productInfoMapping.description,docsURL:"https://posthog.com/docs/cdp",actionElementOverride:newButton,isEmpty:0===hogFunctions.length&&!loading}):null,(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(HogFunctionsList.k,{logicKey:logicKey,type:kind,additionalTypes:additionalKinds,manualFunctions:"destination"===kind?[...null!=hogFunctionPluginsDestinations?hogFunctionPluginsDestinations:[],...null!=hogFunctionBatchExports?hogFunctionBatchExports:[]]:"site_app"===kind?[...null!=hogFunctionPluginsSiteApps?hogFunctionPluginsSiteApps:[]]:void 0}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("h2",{className:"mt-4",children:["Create a new ",humanizedKind]}),(0,jsx_runtime.jsx)(HogFunctionTemplateList.a,{type:kind,additionalTypes:additionalKinds})]})]})]})}var FlaggedFeature=__webpack_require__("../../frontend/src/lib/components/FlaggedFeature.tsx"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonMenu=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonMenu/index.ts"),DataWarehouseManagedSourcesTable=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/DataWarehouseManagedSourcesTable.tsx"),DataWarehouseSelfManagedSourcesTable=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/DataWarehouseSelfManagedSourcesTable.tsx");function Section(_ref){let{title,to,children}=_ref;return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(src.rU,{to:to,children:(0,jsx_runtime.jsx)("h2",{children:title})}),(0,jsx_runtime.jsx)("div",{className:"deprecated-space-y-2",children:children})]})}function DataPipelinesOverview(){let menuItems=[{label:"Source",to:urls.j.dataPipelinesNew("source"),"data-attr":"data-warehouse-data-pipelines-overview-new-source"},{label:"Transformation",to:urls.j.dataPipelinesNew("transformation")},{label:"Destination",to:urls.j.dataPipelinesNew("destination")}],{hogFunctionPluginsDestinations,hogFunctionBatchExports}=(0,index_esm.useValues)(nonHogFunctionsLogic),{loadHogFunctionPluginsDestinations,loadHogFunctionBatchExports}=(0,index_esm.useActions)(nonHogFunctionsLogic);return(0,react.useEffect)(()=>{loadHogFunctionPluginsDestinations(),loadHogFunctionBatchExports()},[]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:(0,jsx_runtime.jsx)("div",{className:"flex items-center m-2 shrink-0",children:(0,jsx_runtime.jsx)(LemonMenu.d,{items:menuItems,children:(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"new-pipeline-button",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),size:"small",type:"primary",children:"New"})})})}),(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-4",children:[(0,jsx_runtime.jsx)(FlaggedFeature.P,{flag:"cdp-hog-sources",children:(0,jsx_runtime.jsx)(Section,{title:"Event sources",to:urls.j.pipeline(types.J9.Sources),children:(0,jsx_runtime.jsx)(HogFunctionsList.k,{logicKey:"overview-data-sources",type:"source_webhook"})})}),(0,jsx_runtime.jsx)(Section,{title:"Managed data warehouse sources",to:urls.j.pipeline(types.J9.Sources),children:(0,jsx_runtime.jsx)(DataWarehouseManagedSourcesTable.lL,{})}),(0,jsx_runtime.jsx)(Section,{title:"Self-managed data warehouse sources",to:urls.j.pipeline(types.J9.Sources),children:(0,jsx_runtime.jsx)(DataWarehouseSelfManagedSourcesTable.T,{})}),(0,jsx_runtime.jsxs)(Section,{title:"Transformations",to:urls.j.pipeline(types.J9.Transformations),children:[(0,jsx_runtime.jsx)("p",{children:"Modify and enrich your incoming data. Only active transformations are shown here."}),(0,jsx_runtime.jsx)(HogFunctionsList.k,{logicKey:"transformation",type:"transformation",hideFeedback:!0})]}),(0,jsx_runtime.jsxs)(Section,{title:"Destinations",to:urls.j.pipeline(types.J9.Destinations),children:[(0,jsx_runtime.jsx)("p",{children:"Send your data to destinations in real time or with batch exports. Only active Destinations are shown here."}),(0,jsx_runtime.jsx)(HogFunctionsList.k,{logicKey:"destination",type:"destination",hideFeedback:!0,manualFunctions:[...null!=hogFunctionPluginsDestinations?hogFunctionPluginsDestinations:[],...null!=hogFunctionBatchExports?hogFunctionBatchExports:[]]})]})]})]})}var DataPipelinesSources=__webpack_require__("../../frontend/src/scenes/data-pipelines/DataPipelinesSources.tsx");let DATA_PIPELINES_SCENE_TABS=["overview","sources","transformations","destinations","site_apps","history"],dataPipelinesSceneLogic=(0,index_esm.kea)([(0,index_esm.props)({}),(0,index_esm.path)(()=>["scenes","data-pipelines","dataPipelinesSceneLogic"]),(0,index_esm.actions)({setCurrentTab:tab=>({tab})}),(0,index_esm.reducers)(()=>({currentTab:["overview",{setCurrentTab:(_,_ref)=>{let{tab}=_ref;return tab}}]})),(0,index_esm.selectors)({logicProps:[()=>[(_,props)=>props],props=>props],breadcrumbs:[()=>[(_,props)=>props],_ref2=>{let{kind}=_ref2;return[{key:sceneTypes.x.DataPipelines,name:"Data pipelines"},{key:[sceneTypes.x.DataPipelines,kind],name:(0,utils.fm)(kind.replaceAll("_"," "))}]}]}),(0,index_esm.listeners)({setCurrentTab:_ref3=>{let{tab}=_ref3;lib.router.actions.push(urls.j.dataPipelines(tab))}}),(0,lib.urlToAction)(_ref4=>{let{actions,values}=_ref4;return{[urls.j.dataPipelines(":kind")]:_ref5=>{let{kind}=_ref5,possibleTab=null!=kind?kind:"overview",tab=DATA_PIPELINES_SCENE_TABS.includes(possibleTab)?possibleTab:"overview";tab!==values.currentTab&&actions.setCurrentTab(tab)}}})]),scene={component:DataPipelinesScene,logic:dataPipelinesSceneLogic,paramsToProps:_ref7=>{let{params:{kind}}=_ref7;return{kind}}};function DataPipelinesScene(){let{currentTab}=(0,index_esm.useValues)(dataPipelinesSceneLogic),{setCurrentTab}=(0,index_esm.useActions)(dataPipelinesSceneLogic),tabs=[{label:"Overview",key:"overview",content:(0,jsx_runtime.jsx)(DataPipelinesOverview,{})},{label:"Sources",key:"sources",content:(0,jsx_runtime.jsx)(DataPipelinesSources.J,{})},{label:"Transformations",key:"transformations",content:(0,jsx_runtime.jsx)(DataPipelinesHogFunctions,{kind:"transformation"})},{label:"Destinations",key:"destinations",content:(0,jsx_runtime.jsx)(DataPipelinesHogFunctions,{kind:"destination",additionalKinds:["site_destination"]})},{label:"Apps",key:"site_apps",content:(0,jsx_runtime.jsx)(DataPipelinesHogFunctions,{kind:"site_app"})},{label:"History",key:"history",content:(0,jsx_runtime.jsx)(ActivityLog.DA,{scope:[types.jc.HOG_FUNCTION]})}];return(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:currentTab,tabs:tabs,onChange:setCurrentTab})}},"../../frontend/src/scenes/data-pipelines/DataPipelinesSources.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>DataPipelinesSources});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.26.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_FlaggedFeature__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/FlaggedFeature.tsx"),lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),scenes_data_warehouse_settings_DataWarehouseManagedSourcesTable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/DataWarehouseManagedSourcesTable.tsx"),scenes_data_warehouse_settings_DataWarehouseSelfManagedSourcesTable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/DataWarehouseSelfManagedSourcesTable.tsx"),scenes_data_warehouse_settings_dataWarehouseSettingsLogic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/dataWarehouseSettingsLogic.ts"),scenes_hog_functions_list_HogFunctionsList__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/hog-functions/list/HogFunctionsList.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function DataPipelinesSources(_ref){let{newUrl}=_ref,{dataWarehouseSources,dataWarehouseSourcesLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_data_warehouse_settings_dataWarehouseSettingsLogic__WEBPACK_IMPORTED_MODULE_8__.T),newButton=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{to:null!=newUrl?newUrl:scenes_urls__WEBPACK_IMPORTED_MODULE_10__.j.dataPipelinesNew("source"),type:"primary",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconPlusSmall,{}),size:"small",children:"New source"});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_4__.m,{buttons:newButton}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"space-y-4",children:[dataWarehouseSourcesLoading||dataWarehouseSources?.results.length!==0?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_5__.C,{productName:"Data Warehouse Source",productKey:_types__WEBPACK_IMPORTED_MODULE_11__.Md.DATA_WAREHOUSE,thingName:"data source",description:"Use data warehouse sources to import data from your external data into PostHog.",isEmpty:0===dataWarehouseSources.results.length&&!dataWarehouseSourcesLoading,docsURL:"https://posthog.com/docs/data-warehouse",actionElementOverride:newButton}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_components_FlaggedFeature__WEBPACK_IMPORTED_MODULE_3__.P,{flag:"cdp-hog-sources",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("h2",{children:"Event sources"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("p",{children:"PostHog can expose a webhook that you can configure however you need to receive data from a 3rd party with no in-between service necessary"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(scenes_hog_functions_list_HogFunctionsList__WEBPACK_IMPORTED_MODULE_9__.k,{logicKey:"data-pipelines-hog-functions-source-webhook",type:"source_webhook"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("h2",{children:"Managed data warehouse sources"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("p",{children:"PostHog can connect to external sources and automatically import data from them into the PostHog data warehouse"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(scenes_data_warehouse_settings_DataWarehouseManagedSourcesTable__WEBPACK_IMPORTED_MODULE_6__.lL,{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("h2",{children:"Self-managed data warehouse sources"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("p",{children:"Connect to your own data sources, making them queryable in PostHog"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(scenes_data_warehouse_settings_DataWarehouseSelfManagedSourcesTable__WEBPACK_IMPORTED_MODULE_7__.T,{})]})]})]})}},"../../frontend/src/scenes/data-pipelines/batch-exports/BatchExportIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EL:()=>BATCH_EXPORT_ICON_MAP,oe:()=>RenderBatchExportIcon});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),public_hedgehog_running_hog_png__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/public/hedgehog/running-hog.png"),public_services_aws_s3_png__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/public/services/aws-s3.png"),public_services_bigquery_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/public/services/bigquery.png"),public_services_postgres_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/public/services/postgres.png"),public_services_redshift_png__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/public/services/redshift.png"),public_services_snowflake_png__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/public/services/snowflake.png"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function getBatchExportUrl(service){return`https://posthog.com/docs/cdp/batch-exports/${service.toLowerCase()}`}let BATCH_EXPORT_ICON_MAP={BigQuery:public_services_bigquery_png__WEBPACK_IMPORTED_MODULE_3__.Z,Postgres:public_services_postgres_png__WEBPACK_IMPORTED_MODULE_4__.Z,Redshift:public_services_redshift_png__WEBPACK_IMPORTED_MODULE_5__.Z,S3:public_services_aws_s3_png__WEBPACK_IMPORTED_MODULE_2__.Z,Snowflake:public_services_snowflake_png__WEBPACK_IMPORTED_MODULE_6__.Z,HTTP:public_hedgehog_running_hog_png__WEBPACK_IMPORTED_MODULE_1__.Z};function RenderBatchExportIcon(_ref){let{type,size="small"}=_ref,icon=BATCH_EXPORT_ICON_MAP[type],sizePx="small"===size?30:60;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"flex gap-4 items-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.u,{title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[type,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("br",{}),"Click to view docs"]}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.rU,{to:getBatchExportUrl(type),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("img",{src:icon,alt:type,height:sizePx,width:sizePx})})})})}},"../../frontend/src/scenes/data-warehouse/settings/DataWarehouseSelfManagedSourcesTable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>DataWarehouseSelfManagedSourcesTable});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),scenes_data_warehouse_settings_DataWarehouseSourceIcon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/DataWarehouseSourceIcon.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_dataWarehouseSettingsLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/dataWarehouseSettingsLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function DataWarehouseSelfManagedSourcesTable(){let{filteredSelfManagedTables,searchTerm}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_dataWarehouseSettingsLogic__WEBPACK_IMPORTED_MODULE_5__.T),{deleteSelfManagedTable,refreshSelfManagedTableSchema,setSearchTerm}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_dataWarehouseSettingsLogic__WEBPACK_IMPORTED_MODULE_5__.T);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"flex gap-2 justify-between items-center mb-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.DF,{type:"search",placeholder:"Search...",onChange:setSearchTerm,value:searchTerm})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.g3,{id:"self-managed-sources",dataSource:filteredSelfManagedTables,pagination:{pageSize:10},columns:[{width:0,render:(_,item)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(scenes_data_warehouse_settings_DataWarehouseSourceIcon__WEBPACK_IMPORTED_MODULE_3__.Ug,{type:(0,scenes_data_warehouse_settings_DataWarehouseSourceIcon__WEBPACK_IMPORTED_MODULE_3__.Zi)(item.url_pattern)})},{title:"Source",dataIndex:"name",key:"name",render:(_,item)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_2__.i,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.dataWarehouseSource(`self-managed-${item.id}`),title:item.name})},{key:"actions",render:(_,item)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"flex flex-row justify-end",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{"data-attr":`refresh-data-warehouse-${item.name}`,onClick:()=>refreshSelfManagedTableSchema(item.id),children:"Update schema from source"},`refresh-data-warehouse-${item.name}`),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{status:"danger","data-attr":`delete-data-warehouse-${item.name}`,onClick:()=>{_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.dn.open({title:"Delete table?",description:"Table deletion cannot be undone. All views and joins related to this table will be deleted.",primaryButton:{children:"Delete",status:"danger",onClick:()=>{deleteSelfManagedTable(item.id)}},secondaryButton:{children:"Cancel"}})},children:"Delete"},`delete-data-warehouse-${item.name}`)]})}]})]})}}}]);