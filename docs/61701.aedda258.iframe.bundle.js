"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[61701],{"../../products/messaging/frontend/Library.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Library:()=>Library});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.11.6_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),lib_lemon_ui_LemonMenu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonMenu/index.ts"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_MessagingTabs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../products/messaging/frontend/MessagingTabs.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function Library(){let menuItems=[{label:"New Template",to:scenes_urls__WEBPACK_IMPORTED_MODULE_6__.j.messagingLibraryNew()},{label:"New Message",to:scenes_urls__WEBPACK_IMPORTED_MODULE_6__.j.messagingLibraryMessageNew()}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"messaging-library",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_MessagingTabs__WEBPACK_IMPORTED_MODULE_7__.J,{},"tabs"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_1__.m,{caption:"Create and manage messages",buttons:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonMenu__WEBPACK_IMPORTED_MODULE_4__.d,{items:menuItems,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__.J,{"data-attr":"new-message-button",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.iU,{}),size:"small",type:"primary",children:"New"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"templates-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("h2",{children:"Templates"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_5__.g,{dataSource:[],loading:!1,columns:[{title:"Name",dataIndex:"name",render:(name,template)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__.J,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_6__.j.messagingLibraryTemplate(template.id),children:name})},{title:"Description",dataIndex:"description"},{title:"Last Modified",dataIndex:"last_modified",render:date=>date?new Date(date).toLocaleString():""}]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_3__.p,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"messages-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("h2",{children:"Messages"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_5__.g,{dataSource:[],loading:!1,columns:[{title:"Subject",dataIndex:"subject",render:(subject,message)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_2__.J,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_6__.j.messagingLibraryMessage(message.id),children:subject})},{title:"Status",dataIndex:"status"},{title:"Recipients",dataIndex:"recipients_count"},{title:"Created",dataIndex:"created_at",render:date=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("p",{children:date?new Date(date).toLocaleString():""})},{title:"Sent",dataIndex:"sent_at",render:date=>date?new Date(date).toLocaleString():"Not sent"}]})]})]})}},"../../products/messaging/frontend/MessagingTabs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>MessagingTabs});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),LemonTabs=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts");let messagingTabsLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","messagingTabsLogic"]),(0,index_esm.actions)({setTab:function(tab){let fromUrl=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{tab,fromUrl}}}),(0,index_esm.reducers)({currentTab:["broadcasts",{setTab:(_,_ref)=>{let{tab}=_ref;return tab}}]}),(0,lib.actionToUrl)(_ref2=>{let{values}=_ref2;return{setTab:_ref3=>{let{fromUrl}=_ref3;if(!fromUrl){var _automations$broadcas;return null!==(_automations$broadcas=({automations:urls.j.messagingAutomations(),broadcasts:urls.j.messagingBroadcasts(),providers:urls.j.messagingProviders(),library:urls.j.messagingLibrary()})[values.currentTab])&&void 0!==_automations$broadcas?_automations$broadcas:urls.j.messagingBroadcasts()}}}}),(0,lib.urlToAction)(_ref4=>{let{actions,values}=_ref4;return{"/messaging/:tab":_ref5=>{let{tab}=_ref5;tab!==values.currentTab&&actions.setTab(tab,!0)},"/messaging/:tab/*":_ref6=>{let{tab}=_ref6;tab!==values.currentTab&&actions.setTab(tab,!0)}}})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function MessagingTabs(){let{currentTab}=(0,index_esm.useValues)(messagingTabsLogic),{setTab}=(0,index_esm.useActions)(messagingTabsLogic),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),isLibraryEnabled=featureFlags[constants.y8.MESSAGING_LIBRARY],isAutomationEnabled=featureFlags[constants.y8.MESSAGING_AUTOMATION],tabs=[{key:"broadcasts",label:"Broadcasts"},{key:"providers",label:"Providers"}];return isLibraryEnabled&&tabs.push({key:"library",label:"Library"}),isAutomationEnabled&&tabs.push({key:"automations",label:"Automations"}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:currentTab,onChange:tab=>setTab(tab),tabs:tabs})}}}]);