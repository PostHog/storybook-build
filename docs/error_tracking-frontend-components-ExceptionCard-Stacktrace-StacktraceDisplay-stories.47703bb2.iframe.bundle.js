"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[52954],{"../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceDisplay.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GenericDisplayEmpty:()=>GenericDisplayEmpty,GenericDisplayPropertiesLoading:()=>GenericDisplayPropertiesLoading,GenericDisplayWithJavascriptScriptError:()=>GenericDisplayWithJavascriptScriptError,GenericDisplayWithMinifiedReactError:()=>GenericDisplayWithMinifiedReactError,GenericDisplayWithNonErrorPromiseRejection:()=>GenericDisplayWithNonErrorPromiseRejection,GenericDisplayWithStacktrace:()=>GenericDisplayWithStacktrace,TextDisplayEmpty:()=>TextDisplayEmpty,TextDisplayPropertiesLoading:()=>TextDisplayPropertiesLoading,TextDisplayWithStacktrace:()=>TextDisplayWithStacktrace,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),scenes_sceneLogic__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/scenes/sceneLogic.tsx"),_mocks_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/mocks/browser.tsx"),_mocks_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../products/error_tracking/frontend/__mocks__/events/index.tsx"),_StacktraceBase__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceBase.tsx"),_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceGenericDisplay.tsx"),_StacktraceTextDisplay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceTextDisplay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let __WEBPACK_DEFAULT_EXPORT__={title:"ErrorTracking/StacktraceDisplay",parameters:{layout:"centered",viewMode:"story"},decorators:[Story=>(scenes_sceneLogic__WEBPACK_IMPORTED_MODULE_1__.k.mount(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Mi,{hoverEffect:!1,className:"p-2 px-3 w-[900px]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Story,{})})),(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_2__.x8)({post:{"api/environments/:team_id/error_tracking/stack_frames/batch_get/":__webpack_require__("../../products/error_tracking/frontend/__mocks__/stack_frames/batch_get.ts")}})]};function GenericDisplayPropertiesLoading(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"python_resolved",loading:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__.l,{...DEFAULT_PROPS})})}function GenericDisplayEmpty(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"javascript_empty",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__.l,{...DEFAULT_PROPS})})}function GenericDisplayWithStacktrace(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(StacktraceWrapperAllEvents,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__.l,{...DEFAULT_PROPS})})}function GenericDisplayWithJavascriptScriptError(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"javascript_script_error",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__.l,{...DEFAULT_PROPS})})}function GenericDisplayWithMinifiedReactError(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"javascript_minified_react_error",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__.l,{...DEFAULT_PROPS})})}function GenericDisplayWithNonErrorPromiseRejection(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"javascript_non_error_promise_rejection",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceGenericDisplay__WEBPACK_IMPORTED_MODULE_5__.l,{...DEFAULT_PROPS})})}function TextDisplayEmpty(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"javascript_empty",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceTextDisplay__WEBPACK_IMPORTED_MODULE_6__.L,{...DEFAULT_PROPS})})}function TextDisplayPropertiesLoading(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:"javascript_resolved",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceTextDisplay__WEBPACK_IMPORTED_MODULE_6__.L,{...DEFAULT_PROPS})})}function TextDisplayWithStacktrace(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(StacktraceWrapperAllEvents,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceTextDisplay__WEBPACK_IMPORTED_MODULE_6__.L,{...DEFAULT_PROPS})})}GenericDisplayPropertiesLoading.parameters={testOptions:{waitForLoadersToDisappear:!1}};let DEFAULT_PROPS={truncateMessage:!0,renderEmpty:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_StacktraceBase__WEBPACK_IMPORTED_MODULE_4__.G,{})};function StacktraceWrapperAllEvents(_ref){let{children}=_ref,eventNames=Object.keys(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.J7);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"space-y-4",children:eventNames.map(name=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_mocks_events__WEBPACK_IMPORTED_MODULE_3__.iN,{eventName:name,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Mi,{hoverEffect:!1,className:"px-3 py-2",children:children})},name))})}GenericDisplayPropertiesLoading.parameters={...GenericDisplayPropertiesLoading.parameters,docs:{...GenericDisplayPropertiesLoading.parameters?.docs,source:{originalSource:'function GenericDisplayPropertiesLoading(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="python_resolved" loading={true}>\n            <StacktraceGenericDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...GenericDisplayPropertiesLoading.parameters?.docs?.source}}},GenericDisplayEmpty.parameters={...GenericDisplayEmpty.parameters,docs:{...GenericDisplayEmpty.parameters?.docs,source:{originalSource:'function GenericDisplayEmpty(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="javascript_empty">\n            <StacktraceGenericDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...GenericDisplayEmpty.parameters?.docs?.source}}},GenericDisplayWithStacktrace.parameters={...GenericDisplayWithStacktrace.parameters,docs:{...GenericDisplayWithStacktrace.parameters?.docs,source:{originalSource:"function GenericDisplayWithStacktrace(): JSX.Element {\n  return <StacktraceWrapperAllEvents>\n            <StacktraceGenericDisplay {...DEFAULT_PROPS} />\n        </StacktraceWrapperAllEvents>;\n}",...GenericDisplayWithStacktrace.parameters?.docs?.source}}},GenericDisplayWithJavascriptScriptError.parameters={...GenericDisplayWithJavascriptScriptError.parameters,docs:{...GenericDisplayWithJavascriptScriptError.parameters?.docs,source:{originalSource:'function GenericDisplayWithJavascriptScriptError(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="javascript_script_error">\n            <StacktraceGenericDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...GenericDisplayWithJavascriptScriptError.parameters?.docs?.source}}},GenericDisplayWithMinifiedReactError.parameters={...GenericDisplayWithMinifiedReactError.parameters,docs:{...GenericDisplayWithMinifiedReactError.parameters?.docs,source:{originalSource:'function GenericDisplayWithMinifiedReactError(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="javascript_minified_react_error">\n            <StacktraceGenericDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...GenericDisplayWithMinifiedReactError.parameters?.docs?.source}}},GenericDisplayWithNonErrorPromiseRejection.parameters={...GenericDisplayWithNonErrorPromiseRejection.parameters,docs:{...GenericDisplayWithNonErrorPromiseRejection.parameters?.docs,source:{originalSource:'function GenericDisplayWithNonErrorPromiseRejection(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="javascript_non_error_promise_rejection">\n            <StacktraceGenericDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...GenericDisplayWithNonErrorPromiseRejection.parameters?.docs?.source}}},TextDisplayEmpty.parameters={...TextDisplayEmpty.parameters,docs:{...TextDisplayEmpty.parameters?.docs,source:{originalSource:'function TextDisplayEmpty(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="javascript_empty">\n            <StacktraceTextDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...TextDisplayEmpty.parameters?.docs?.source}}},TextDisplayPropertiesLoading.parameters={...TextDisplayPropertiesLoading.parameters,docs:{...TextDisplayPropertiesLoading.parameters?.docs,source:{originalSource:'function TextDisplayPropertiesLoading(): JSX.Element {\n  return <ExceptionLogicWrapper eventName="javascript_resolved">\n            <StacktraceTextDisplay {...DEFAULT_PROPS} />\n        </ExceptionLogicWrapper>;\n}',...TextDisplayPropertiesLoading.parameters?.docs?.source}}},TextDisplayWithStacktrace.parameters={...TextDisplayWithStacktrace.parameters,docs:{...TextDisplayWithStacktrace.parameters?.docs,source:{originalSource:"function TextDisplayWithStacktrace(): JSX.Element {\n  return <StacktraceWrapperAllEvents>\n            <StacktraceTextDisplay {...DEFAULT_PROPS} />\n        </StacktraceWrapperAllEvents>;\n}",...TextDisplayWithStacktrace.parameters?.docs?.source}}};let __namedExportsOrder=["GenericDisplayPropertiesLoading","GenericDisplayEmpty","GenericDisplayWithStacktrace","GenericDisplayWithJavascriptScriptError","GenericDisplayWithMinifiedReactError","GenericDisplayWithNonErrorPromiseRejection","TextDisplayEmpty","TextDisplayPropertiesLoading","TextDisplayWithStacktrace"]},"../../products/error_tracking/frontend/__mocks__/stack_frames/batch_get.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{results:()=>results});var lib_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/src/lib/utils.tsx");function collectFrameRawIdsFromException(exc){return exc.stacktrace?.frames.flatMap(frame=>frame)||[]}function collectFrameRawIdsFromEvent(event){return(event.properties.$exception_list||[]).flatMap(collectFrameRawIdsFromException)}function generateFrameContext(frame){return{id:(0,lib_utils__WEBPACK_IMPORTED_MODULE_0__.Vj)(),raw_id:frame.raw_id,created_at:"2025-04-21T22:02:15.122000Z",resolved:!0,context:{before:[{line:"const frameIds = Object.values(EVENTS).flatMap((event) => collectFrameRawIdsFromEvent(event as unknown as EventType))",number:9}],line:{line:"function generateFrameContext(frameId: string): ErrorTrackingStackFrameRecord",number:10},after:[{line:"export const results: ErrorTrackingStackFrameRecord[] = frameIds.map()",number:11}]},contents:frame,symbol_set_ref:"123123",release:null}}let results=Object.values(__webpack_require__("../../products/error_tracking/frontend/__mocks__/events/index.tsx").J7).flatMap(event=>collectFrameRawIdsFromEvent(event)).flat().map(generateFrameContext)},"../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceBase.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>StacktraceEmptyDisplay});var lib_components_EmptyMessage_EmptyMessage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function StacktraceEmptyDisplay(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(lib_components_EmptyMessage_EmptyMessage__WEBPACK_IMPORTED_MODULE_0__.M,{title:"No stacktrace available",description:"Make sure the SDK is set up correctly or contact support if problem persists",buttonText:"Check documentation",buttonTo:"https://posthog.com/docs/error-tracking/installation",size:"small"})}},"../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceGenericDisplay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>StacktraceGenericDisplay});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),posthog_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.292.0/node_modules/posthog-js/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_Errors_FingerprintRecordPartDisplay__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/Errors/FingerprintRecordPartDisplay.tsx"),lib_components_Errors_StackTraces__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/Errors/StackTraces.tsx"),lib_components_Errors_errorPropertiesLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/Errors/errorPropertiesLogic.ts"),lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/components/Errors/utils.ts"),lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/lemon-ui/Tooltip/index.ts"),lib_utils_css_classes__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/lib/utils/css-classes.ts"),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../products/error_tracking/frontend/utils.ts"),_RuntimeIcon__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../products/error_tracking/frontend/components/RuntimeIcon.tsx"),_exceptionCardLogic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../products/error_tracking/frontend/components/ExceptionCard/exceptionCardLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function StacktraceGenericDisplay(_ref){let{className,truncateMessage,renderEmpty}=_ref,{exceptionAttributes,hasStacktrace}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(lib_components_Errors_errorPropertiesLogic__WEBPACK_IMPORTED_MODULE_6__.J),{issueId,loading,showAllFrames}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_exceptionCardLogic__WEBPACK_IMPORTED_MODULE_11__.S),{runtime}=exceptionAttributes||{},renderExceptionHeader=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(_ref2=>{let{exception,loading,part}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(StacktraceGenericExceptionHeader,{exception:exception,part:part,runtime:runtime,loading:loading,truncate:truncateMessage})},[runtime,truncateMessage]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:className,children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.yW,{className:"h-6 w-1/2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.yW,{className:"h-4 w-full"})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_components_Errors_StackTraces__WEBPACK_IMPORTED_MODULE_5__.v,{showAllFrames:showAllFrames,renderExceptionHeader:renderExceptionHeader,onFrameContextClick:(_,e)=>(0,_utils__WEBPACK_IMPORTED_MODULE_9__.de)(e),onFirstFrameExpanded:()=>{posthog_js__WEBPACK_IMPORTED_MODULE_1__.ZP.capture("error_tracking_stacktrace_explored",{issue_id:issueId})}}),!hasStacktrace&&renderEmpty()]})})}function StacktraceGenericExceptionHeader(_ref3){let{exception,runtime,part,loading,truncate}=_ref3,{type,value}=exception,isScriptError="Error"===type&&"web"===runtime&&"Script error"===value;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"pb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"flex gap-2 items-center h-6",children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.yW,{className:"w-[25%] h-2"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[runtime&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_RuntimeIcon__WEBPACK_IMPORTED_MODULE_10__.Z,{runtime:runtime,fontSize:"0.9rem",className:"ml-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"font-semibold text-[1rem]",children:(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_7__.yj)(exception)}),part&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_components_Errors_FingerprintRecordPartDisplay__WEBPACK_IMPORTED_MODULE_4__.t,{part:part})]})}),(loading||value)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:(0,lib_utils_css_classes__WEBPACK_IMPORTED_MODULE_13__.cn)("font-medium text-[var(--gray-8)] leading-6",{"line-clamp-1":truncate}),children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.yW,{className:"w-[50%] h-2"}):isScriptError?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_8__.u,{title:"This error occurs when JavaScript errors are caught by the browser but details are hidden due to cross-origin restrictions.",docLink:"https://posthog.com/docs/error-tracking/common-questions#what-is-a-script-error-with-no-stack-traces",placement:"right-end",delayMs:50,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("span",{children:value})}):value})]})}},"../../products/error_tracking/frontend/components/ExceptionCard/Stacktrace/StacktraceTextDisplay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>StacktraceTextDisplay});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_Errors_errorPropertiesLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/components/Errors/errorPropertiesLogic.ts"),lib_components_Errors_stackFrameLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/Errors/stackFrameLogic.ts"),lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/Errors/utils.ts"),_exceptionCardLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../products/error_tracking/frontend/components/ExceptionCard/exceptionCardLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function StacktraceTextDisplay(_ref){let{className,renderEmpty}=_ref,{exceptionList,hasStacktrace}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(lib_components_Errors_errorPropertiesLogic__WEBPACK_IMPORTED_MODULE_2__.J),{loading}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_exceptionCardLogic__WEBPACK_IMPORTED_MODULE_5__.S);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:className,children:[loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.yW,{className:"h-2 w-1/2"}):exceptionList.map(exception=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(ExceptionTextDisplay,{exception:exception},exception.id)),!loading&&!hasStacktrace&&renderEmpty()]})}function ExceptionTextDisplay(_ref2){let{exception}=_ref2,{showAllFrames}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_exceptionCardLogic__WEBPACK_IMPORTED_MODULE_5__.S);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p",{className:"font-mono mb-0 font-bold line-clamp-1",children:(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_4__.JR)(exception)}),(exception.stacktrace?.frames||[]).filter(frame=>!!showAllFrames||frame.in_app).map((frame,idx)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(StackframeTextDisplay,{frame:frame},idx))]})}function StackframeTextDisplay(_ref3){let{frame}=_ref3,{stackFrameRecords}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(lib_components_Errors_stackFrameLogic__WEBPACK_IMPORTED_MODULE_3__.e),resolvedName=(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_4__.p1)(frame);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("p",{className:"font-mono indent-[1rem] whitespace-no-wrap mb-0 line-clamp-1",children:['File "',frame.source||"Unknown Source",'"',frame.line?`, line: ${frame.line}`:"",resolvedName?`, in: ${resolvedName}`:""]}),stackFrameRecords[frame.raw_id]&&stackFrameRecords[frame.raw_id].context?.line.line&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("p",{className:"font-mono indent-[2rem] whitespace-no-wrap mb-0 text-tertiary line-clamp-1",children:stackFrameRecords[frame.raw_id].context?.line.line})]})}}}]);