(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[75110],{"../../frontend/src/lib/components/CommandBar/CommandBar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Actions:()=>Actions,Search:()=>Search,Shortcuts:()=>CommandBar_stories_Shortcuts,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CommandBar_stories});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),commandBarLogic=__webpack_require__("../../frontend/src/lib/components/CommandBar/commandBarLogic.ts"),types=__webpack_require__("../../frontend/src/lib/components/CommandBar/types.ts"),useOnMountEffect=__webpack_require__("../../frontend/src/lib/hooks/useOnMountEffect.ts"),browser=__webpack_require__("../../frontend/src/mocks/browser.tsx"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),CommandBar=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/lib/components/CommandBar/index.scss"),CommandBar_default=__webpack_require__.n(CommandBar),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(CommandBar_default(),options),CommandBar_default().locals;var react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),useOutsideClickHandler=__webpack_require__("../../frontend/src/lib/hooks/useOutsideClickHandler.ts"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.2_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),KeyboardShortcut=__webpack_require__("../../frontend/src/layout/navigation-3000/components/KeyboardShortcut.tsx"),lib=__webpack_require__("../../node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.7_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),eventUsageLogic=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),commandPaletteLogic=__webpack_require__("../../frontend/src/lib/components/CommandPalette/commandPaletteLogic.tsx");let actionBarLogic=(0,index_esm.kea)([(0,index_esm.path)(["lib","components","CommandBar","actionBarLogic"]),(0,index_esm.connect)(()=>({actions:[commandBarLogic.e,["hideCommandBar","setCommandBar","clearInitialQuery"],commandPaletteLogic.M,["showPalette","hidePalette","setInput","executeResult","backFlow","onArrowUp","onArrowDown"],eventUsageLogic.vx,["reportCommandBarActionSearch","reportCommandBarActionResultExecuted"]],values:[commandBarLogic.e,["initialQuery","barStatus"],commandPaletteLogic.M,["input","activeResultIndex","commandRegistrations","commandSearchResults","commandSearchResultsGrouped","activeFlow"]]})),(0,index_esm.listeners)(_ref=>{let{actions}=_ref;return{hidePalette:()=>{actions.hideCommandBar()},setInput:_ref2=>{let{input}=_ref2;actions.reportCommandBarActionSearch(input)},executeResult:_ref3=>{let{result}=_ref3;actions.reportCommandBarActionResultExecuted(result.display)}}}),(0,lib.Vt)(_ref4=>{let{values,actions}=_ref4;return{barStatus:(value,oldvalue)=>{value===types.j.SHOW_ACTIONS&&oldvalue!==types.j.SHOW_ACTIONS&&null!==values.initialQuery&&(actions.setInput(values.initialQuery),actions.clearInitialQuery())}}}),(0,index_esm.afterMount)(_ref5=>{let{actions,values,cache}=_ref5;actions.showPalette(),cache.disposables.add(()=>{let onKeyDown=event=>{if("Enter"===event.key&&values.commandSearchResults.length){let result=values.commandSearchResults[values.activeResultIndex];result.executor&&actions.executeResult(result)}else"ArrowDown"===event.key?(event.preventDefault(),actions.onArrowDown(values.commandSearchResults.length-1)):"ArrowUp"===event.key?(event.preventDefault(),actions.onArrowUp()):"Escape"===event.key&&!1===event.repeat?(event.preventDefault(),values.activeFlow?actions.backFlow():values.input?actions.setInput(""):actions.hidePalette()):"Backspace"===event.key&&0===values.input.length&&!1===event.repeat&&actions.setCommandBar(types.j.SHOW_SEARCH)};return window.addEventListener("keydown",onKeyDown),()=>window.removeEventListener("keydown",onKeyDown)},"keydownListener")}),(0,index_esm.beforeUnmount)(_ref6=>{let{actions}=_ref6;actions.hidePalette()})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let PrefixIcon=_ref=>{let{activeFlow}=_ref;return activeFlow?activeFlow.icon?(0,jsx_runtime.jsx)(activeFlow.icon,{className:"palette__icon"}):(0,jsx_runtime.jsx)(posthog_icons_es.IconPencil,{className:"palette__icon"}):(0,jsx_runtime.jsx)(posthog_icons_es.IconChevronRight,{className:"palette__icon"})},ActionInput=()=>{var _activeFlow$instructi;let{input,activeFlow}=(0,index_esm.useValues)(actionBarLogic),{setInput}=(0,index_esm.useActions)(actionBarLogic);return(0,jsx_runtime.jsx)("div",{className:"border-b",children:(0,jsx_runtime.jsx)(src.DF,{"data-attr":"action-bar-input",className:"CommandBar__input",fullWidth:!0,prefix:(0,jsx_runtime.jsx)(PrefixIcon,{activeFlow:activeFlow}),suffix:(0,jsx_runtime.jsx)(KeyboardShortcut.e,{escape:!0}),placeholder:null!==(_activeFlow$instructi=activeFlow?.instruction)&&void 0!==_activeFlow$instructi?_activeFlow$instructi:`Run a commandâ€¦ or press ${(0,utils.V5)()?"Delete":"Backspace"} for search`,autoFocus:!0,value:input,onChange:setInput})})},actionScopeToName={global:"Global",insights:"Insights"},TabGroup=function(TabGroup){return TabGroup.All="all",TabGroup.EventData="event_data",TabGroup.PostHog="posthog",TabGroup.Products="products",TabGroup}({}),groupToName={[TabGroup.All]:"All",[TabGroup.EventData]:"Event data",[TabGroup.PostHog]:"PostHog",[TabGroup.Products]:"Products"},Tab=function(Tab){return Tab.All="all",Tab.Action="action",Tab.Cohort="cohort",Tab.Dashboard="dashboard",Tab.EventDefinition="event_definition",Tab.Experiment="experiment",Tab.FeatureFlag="feature_flag",Tab.Insight="insight",Tab.Notebook="notebook",Tab.Person="person",Tab.Group0="group_0",Tab.Group1="group_1",Tab.Group2="group_2",Tab.Group3="group_3",Tab.Group4="group_4",Tab.Survey="survey",Tab.Products="products",Tab}({}),clickhouseTabs=[Tab.Person,Tab.Group0,Tab.Group1,Tab.Group2,Tab.Group3,Tab.Group4],tabToName={[Tab.All]:"All",[Tab.Action]:"Actions",[Tab.Cohort]:"Cohorts",[Tab.Dashboard]:"Dashboards",[Tab.EventDefinition]:"Events",[Tab.Experiment]:"Experiments",[Tab.FeatureFlag]:"Feature flags",[Tab.Insight]:"Insights",[Tab.Notebook]:"Notebooks",[Tab.Person]:"Persons",[Tab.Group0]:null,[Tab.Group1]:null,[Tab.Group2]:null,[Tab.Group3]:null,[Tab.Group4]:null,[Tab.Survey]:"Surveys",[Tab.Products]:"Products"},getNameFromActionScope=scope=>scope in actionScopeToName?actionScopeToName[scope]:scope;var clsx_m=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js");let ActionResult=_ref=>{let{result,focused}=_ref,{executeResult}=(0,index_esm.useActions)(actionBarLogic),ref=(0,react.useRef)(null),isExecutable=!!result.executor;return(0,react.useEffect)(()=>{focused&&ref.current?.scrollIntoView()},[focused]),(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("border-l-4",focused?"border-accent":isExecutable?null:"border-transparent"),children:(0,jsx_runtime.jsxs)("div",{className:`flex items-center w-full px-2 hover:bg-surface-secondary ${focused?"bg-surface-secondary":"bg-surface-primary"} border-b cursor-pointer`,onClick:()=>{isExecutable&&executeResult(result)},ref:ref,children:[(0,jsx_runtime.jsxs)("div",{className:"px-2 py-3 w-full gap-y-0.5 flex items-center",children:[(0,jsx_runtime.jsx)(result.icon,{className:"text-muted-3000"}),(0,jsx_runtime.jsx)("span",{className:"ml-2 text-text-3000 font-bold",children:result.display})]}),focused&&(0,jsx_runtime.jsx)("div",{className:"shrink-0 text-primary-3000",children:"Run command"})]})})},ResultsGroup=_ref=>{let{scope,results,activeResultIndex}=_ref;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"border-b px-5 pt-1 pb-1 bg-primary text-xs font-bold text-secondary uppercase",children:getNameFromActionScope(scope)}),results.map(result=>(0,jsx_runtime.jsx)(ActionResult,{result:result,focused:result.index===activeResultIndex},`command_result_${result.index}`))]})},ActionResults=()=>{let{commandSearchResultsGrouped,activeResultIndex}=(0,index_esm.useValues)(actionBarLogic);return(0,jsx_runtime.jsx)("div",{className:"grow overscroll-none overflow-y-auto",children:commandSearchResultsGrouped.map(_ref2=>{let[scope,results]=_ref2;return(0,jsx_runtime.jsx)(ResultsGroup,{scope:scope,results:results,activeResultIndex:activeResultIndex},scope)})})},ActionBar=()=>{let{activeFlow}=(0,index_esm.useValues)(actionBarLogic);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col h-full",children:[(!activeFlow||activeFlow.instruction)&&(0,jsx_runtime.jsx)(ActionInput,{}),(0,jsx_runtime.jsx)(ActionResults,{})]})};var teamLogic=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),kea_loaders_lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_router_lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),api=__webpack_require__("../../frontend/src/lib/api.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),defaultTree=__webpack_require__("../../frontend/src/layout/panel-layout/ProjectTree/defaultTree.tsx"),groupsModel=__webpack_require__("../../frontend/src/models/groupsModel.ts");function calculateRank(query){return query.length/(query.length+2)}function rankPersons(persons,query){let rank=calculateRank(query);return persons.map(person=>({type:"person",result_id:person.distinct_ids[0],extra_fields:{...person},rank}))}function rankGroups(groups,query){let rank=calculateRank(query);return groups.map(group=>({type:"group",result_id:group.group_key,extra_fields:{...group},rank}))}function rankProductTreeItems(treeItems,query){let rank=calculateRank(query);return treeItems.filter(item=>item.path.toLowerCase().includes(query.toLowerCase())).map(item=>({type:"tree_item",result_id:item.href||item.path,extra_fields:{...item,icon:item.iconType?(0,defaultTree.PO)(item.iconType):(0,defaultTree.PO)(item.type),description:`Category: ${item.category}`},rank}))}let searchBarLogic=(0,index_esm.kea)([(0,index_esm.path)(["lib","components","CommandBar","searchBarLogic"]),(0,index_esm.connect)(()=>({values:[commandBarLogic.e,["initialQuery","barStatus"],groupsModel.$,["groupTypes","aggregationLabel"],featureFlagLogic.featureFlagLogic,["featureFlags"]],actions:[commandBarLogic.e,["hideCommandBar","setCommandBar","clearInitialQuery"],eventUsageLogic.vx,["reportCommandBarSearch","reportCommandBarSearchResultOpened"]]})),(0,index_esm.actions)({search:!0,setSearchQuery:query=>({query}),setActiveTab:tab=>({tab}),onArrowUp:(activeIndex,maxIndex)=>({activeIndex,maxIndex}),onArrowDown:(activeIndex,maxIndex)=>({activeIndex,maxIndex}),openResult:index=>({index}),setActiveResultIndex:index=>({index})}),(0,kea_loaders_lib.loaders)(_ref=>{let{values,actions}=_ref;return{rawSearchResponse:[null,{loadSearchResponse:async(_,breakpoint)=>{let response;if(await breakpoint(300),actions.reportCommandBarSearch(values.searchQuery.length),values.activeTab!==Tab.All&&clickhouseTabs.includes(values.activeTab))return null;if(clickhouseTabs.includes(values.activeTab))response=values.rawSearchResponse;else if(values.activeTab===Tab.All)response=await api.ZP.search.list({q:values.searchQuery});else{if(values.activeTab===Tab.Products)return null;response=await api.ZP.search.list({q:values.searchQuery,entities:[values.activeTab.toLowerCase()]})}return breakpoint(),response}}],rawPersonsResponse:[null,{loadPersonsResponse:async(_,breakpoint)=>{if(await breakpoint(300),values.activeTab!==Tab.All&&values.activeTab!==Tab.Person)return null;let response=await api.ZP.persons.list({search:values.searchQuery});return breakpoint(),response}}],rawGroup0Response:[null,{loadGroup0Response:async(_,breakpoint)=>{if(await breakpoint(300),values.activeTab!==Tab.All&&values.activeTab!==Tab.Group0)return null;let response=await api.ZP.groups.list({group_type_index:0,search:values.searchQuery});return breakpoint(),response}}],rawGroup1Response:[null,{loadGroup1Response:async(_,breakpoint)=>{if(await breakpoint(300),values.activeTab!==Tab.All&&values.activeTab!==Tab.Group1)return null;let response=await api.ZP.groups.list({group_type_index:1,search:values.searchQuery});return breakpoint(),response}}],rawGroup2Response:[null,{loadGroup2Response:async(_,breakpoint)=>{if(await breakpoint(300),values.activeTab!==Tab.All&&values.activeTab!==Tab.Group2)return null;let response=await api.ZP.groups.list({group_type_index:2,search:values.searchQuery});return breakpoint(),response}}],rawGroup3Response:[null,{loadGroup3Response:async(_,breakpoint)=>{if(await breakpoint(300),values.activeTab!==Tab.All&&values.activeTab!==Tab.Group3)return null;let response=await api.ZP.groups.list({group_type_index:3,search:values.searchQuery});return breakpoint(),response}}],rawGroup4Response:[null,{loadGroup4Response:async(_,breakpoint)=>{if(await breakpoint(300),values.activeTab!==Tab.All&&values.activeTab!==Tab.Group4)return null;let response=await api.ZP.groups.list({group_type_index:4,search:values.searchQuery});return breakpoint(),response}}]}}),(0,index_esm.reducers)({searchQuery:["",{setSearchQuery:(_,_ref2)=>{let{query}=_ref2;return query}}],rawSearchResponse:[null,{search:()=>null}],rawPersonsResponse:[null,{search:()=>null}],rawGroup0Response:[null,{search:()=>null}],rawGroup1Response:[null,{search:()=>null}],rawGroup2Response:[null,{search:()=>null}],rawGroup3Response:[null,{search:()=>null}],rawGroup4Response:[null,{search:()=>null}],activeResultIndex:[0,{setSearchQuery:()=>0,setActiveTab:()=>0,openResult:()=>0,onArrowUp:(_,_ref3)=>{let{activeIndex,maxIndex}=_ref3;return activeIndex>0?activeIndex-1:maxIndex},onArrowDown:(_,_ref4)=>{let{activeIndex,maxIndex}=_ref4;return activeIndex<maxIndex?activeIndex+1:0},setActiveResultIndex:(_,_ref5)=>{let{index}=_ref5;return index}}],activeTab:[Tab.All,{setActiveTab:(_,_ref6)=>{let{tab}=_ref6;return tab}}]}),(0,index_esm.selectors)({combinedSearchResults:[s=>[s.rawSearchResponse,s.rawPersonsResponse,s.rawGroup0Response,s.rawGroup1Response,s.rawGroup2Response,s.rawGroup3Response,s.rawGroup4Response,s.searchQuery,s.activeTab,s.featureFlags],(searchResponse,personsResponse,group0Response,group1Response,group2Response,group3Response,group4Response,query,activeTab,featureFlags)=>{let results=[];if(activeTab!==Tab.Products&&searchResponse&&results.push(...searchResponse.results),personsResponse&&results.push(...rankPersons(personsResponse.results,query)),group0Response&&results.push(...rankGroups(group0Response.results,query)),group1Response&&results.push(...rankGroups(group1Response.results,query)),group2Response&&results.push(...rankGroups(group2Response.results,query)),group3Response&&results.push(...rankGroups(group3Response.results,query)),group4Response&&results.push(...rankGroups(group4Response.results,query)),activeTab===Tab.All||activeTab===Tab.Products){let filteredTreeItems=(0,defaultTree.UC)().filter(item=>!item.flag||!!featureFlags[item.flag]),treeResults=query?rankProductTreeItems(filteredTreeItems,query):rankProductTreeItems(filteredTreeItems,"");results.push(...treeResults)}return results.sort((a,b)=>a.rank&&b.rank?a.rank-b.rank:1)}],combinedSearchLoading:[s=>[s.rawSearchResponseLoading,s.rawPersonsResponseLoading,s.rawGroup0ResponseLoading,s.rawGroup1ResponseLoading,s.rawGroup2ResponseLoading,s.rawGroup3ResponseLoading,s.rawGroup4ResponseLoading,s.activeTab],(searchLoading,personsLoading,group0Loading,group1Loading,group2Loading,group3Loading,group4Loading,activeTab)=>activeTab===Tab.Person?personsLoading:activeTab===Tab.Group0?group0Loading:activeTab===Tab.Group1?group1Loading:activeTab===Tab.Group2?group2Loading:activeTab===Tab.Group3?group3Loading:activeTab===Tab.Group4?group4Loading:(activeTab!==Tab.All&&Tab.Products,searchLoading)],anySearchLoading:[s=>[s.rawSearchResponseLoading,s.rawPersonsResponseLoading,s.rawGroup0ResponseLoading,s.rawGroup1ResponseLoading,s.rawGroup2ResponseLoading,s.rawGroup3ResponseLoading,s.rawGroup4ResponseLoading],(searchLoading,personsLoading,group0Loading,group1Loading,group2Loading,group3Loading,group4Loading)=>searchLoading||personsLoading||group0Loading||group1Loading||group2Loading||group3Loading||group4Loading],tabsForGroups:[s=>[s.groupTypes],groupTypes=>Array.from(groupTypes.values()).map(_ref7=>{let{group_type_index}=_ref7;return`group_${group_type_index}`})],tabsGrouped:[s=>[s.tabsForGroups],tabsForGroups=>({all:[Tab.All],event_data:[Tab.EventDefinition,Tab.Action,Tab.Person,Tab.Cohort,...tabsForGroups],products:[Tab.Products],posthog:[Tab.Insight,Tab.Dashboard,Tab.Notebook,Tab.Experiment,Tab.FeatureFlag,Tab.Survey]})],tabs:[s=>[s.tabsGrouped],tabsGrouped=>Object.values(tabsGrouped).reduce((acc,val)=>acc.concat(val),[])],tabsCount:[s=>[s.tabsCountMemoized],tabsCountMemoized=>tabsCountMemoized[0]],tabsCountMemoized:[s=>[s.rawSearchResponse,s.rawPersonsResponse,s.rawGroup0Response,s.rawGroup1Response,s.rawGroup2Response,s.rawGroup3Response,s.rawGroup4Response,s.searchQuery,s.activeTab,s.featureFlags],(searchResponse,personsResponse,group0Response,group1Response,group2Response,group3Response,group4Response,searchQuery,activeTab,featureFlags)=>{let counts={};if(Object.values(Tab).forEach(tab=>{counts[tab]=searchResponse?.counts[tab]?.toString()||null}),activeTab===Tab.Products||activeTab===Tab.All){let flagFilteredItems=(0,defaultTree.UC)().filter(item=>!item.flag||!!featureFlags[item.flag]),filteredItems=searchQuery?flagFilteredItems.filter(item=>item.path.toLowerCase().includes(searchQuery.toLowerCase())):flagFilteredItems;counts[Tab.Products]=filteredItems.length.toString()}return[[Tab.Person,personsResponse?.results],[Tab.Group0,group0Response?.results],[Tab.Group1,group1Response?.results],[Tab.Group2,group2Response?.results],[Tab.Group3,group3Response?.results],[Tab.Group4,group4Response?.results]].forEach(_ref8=>{let[tab,results]=_ref8;void 0!==results&&(counts[tab]=100===results.length?"100+":results.length.toString())}),[counts,searchQuery]},{resultEqualityCheck:(prev,next)=>{let[prevCounts,prevQuery]=prev,[nextCounts,nextQuery]=next;if(prevQuery!==nextQuery)return!1;let prevNulls=Object.values(prevCounts).filter(v=>null===v).length;return Object.values(nextCounts).filter(v=>null===v).length===prevNulls}}],tabsLoading:[s=>[s.rawSearchResponseLoading,s.rawPersonsResponseLoading,s.activeTab],(searchLoading,personsLoading,activeTab)=>{let tabs=[];return searchLoading&&(activeTab===Tab.All?tabs.push(...Object.values(Tab).filter(tab=>![Tab.All,Tab.Person].includes(tab))):tabs.push(activeTab)),personsLoading&&tabs.push(Tab.Person),tabs}],maxIndex:[s=>[s.combinedSearchResults],combinedResults=>combinedResults?combinedResults.length-1:0]}),(0,index_esm.listeners)(_ref9=>{let{values,actions}=_ref9;return{setSearchQuery:actions.search,setActiveTab:actions.search,search:_=>{actions.loadSearchResponse(_),actions.loadPersonsResponse(_),actions.loadGroup0Response(_),actions.loadGroup1Response(_),actions.loadGroup2Response(_),actions.loadGroup3Response(_),actions.loadGroup4Response(_)},openResult:_ref10=>{let{index}=_ref10,results=values.combinedSearchResults;if(!results||!results[index])return;let result=results[index];kea_router_lib.router.actions.push(urlForResult(result)),actions.hideCommandBar(),actions.reportCommandBarSearchResultOpened(result.type)}}}),(0,lib.Vt)(_ref11=>{let{values,actions}=_ref11;return{barStatus:(value,oldvalue)=>{value===types.j.SHOW_SEARCH&&oldvalue!==types.j.SHOW_SEARCH&&(null!==values.initialQuery?actions.setSearchQuery(values.initialQuery):actions.setSearchQuery(""),actions.clearInitialQuery())}}}),(0,index_esm.afterMount)(_ref12=>{let{actions,values,cache}=_ref12;cache.disposables.add(()=>{let onKeyDown=event=>{if("Enter"===event.key)event.preventDefault(),actions.openResult(values.activeResultIndex);else if("ArrowDown"===event.key)event.preventDefault(),actions.onArrowDown(values.activeResultIndex,values.maxIndex);else if("ArrowUp"===event.key)event.preventDefault(),actions.onArrowUp(values.activeResultIndex,values.maxIndex);else if("Escape"===event.key&&!1===event.repeat)actions.hideCommandBar();else if(">"===event.key){let{value,selectionStart,selectionEnd}=event.target;(0===values.searchQuery.length||null!==selectionStart&&null!==selectionEnd&&0===(value.substring(0,selectionStart)+value.substring(selectionEnd)).length)&&(event.preventDefault(),actions.setCommandBar(types.j.SHOW_ACTIONS))}else if("Tab"===event.key){event.preventDefault();let currentIndex=values.tabs.findIndex(tab=>tab===values.activeTab);if(event.shiftKey){let prevIndex=0===currentIndex?values.tabs.length-1:currentIndex-1;actions.setActiveTab(values.tabs[prevIndex])}else{let nextIndex=currentIndex===values.tabs.length-1?0:currentIndex+1;actions.setActiveTab(values.tabs[nextIndex])}}};return window.addEventListener("keydown",onKeyDown),()=>window.removeEventListener("keydown",onKeyDown)},"searchNavigationKeys")})]),urlForResult=result=>{switch(result.type){case"action":return urls.j.action(result.result_id);case"cohort":return urls.j.cohort(result.result_id);case"dashboard":return urls.j.dashboard(result.result_id);case"event_definition":return urls.j.eventDefinition(result.result_id);case"experiment":return urls.j.experiment(result.result_id);case"feature_flag":return urls.j.featureFlag(result.result_id);case"group":return urls.j.group(result.extra_fields.group_type_index,result.result_id);case"insight":return urls.j.insightView(result.result_id);case"notebook":return urls.j.notebook(result.result_id);case"person":return urls.j.personByDistinctId(result.result_id);case"survey":return urls.j.survey(result.result_id);case"tree_item":return result.extra_fields.href||result.result_id;default:throw Error(`No action for type '${result?.type}' defined.`)}},SearchInput=(0,react.forwardRef)(function SearchInput(_,ref){let{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{searchQuery}=(0,index_esm.useValues)(searchBarLogic),{setSearchQuery}=(0,index_esm.useActions)(searchBarLogic),placeholder=`Search ${currentTeam?"the "+currentTeam.name:"this"} projectâ€¦ or enter > for commands`;return(0,jsx_runtime.jsx)("div",{className:"border-b",children:(0,jsx_runtime.jsx)(src.DF,{"data-attr":"search-bar-input",inputRef:ref,type:"search",className:"CommandBar__input",fullWidth:!0,suffix:(0,jsx_runtime.jsx)(KeyboardShortcut.e,{escape:!0}),placeholder:placeholder,autoFocus:!0,value:searchQuery,onChange:setSearchQuery})})});var hedgehogs=__webpack_require__("../../frontend/src/lib/components/hedgehogs.tsx"),insights_summarizeInsight=__webpack_require__("../../frontend/src/scenes/insights/summarizeInsight.ts"),Notebook=__webpack_require__("../../frontend/src/scenes/notebooks/Notebook/Notebook.tsx"),GroupActorDisplay=__webpack_require__("../../frontend/src/scenes/persons/GroupActorDisplay.tsx"),navigationLogic=__webpack_require__("../../frontend/src/layout/navigation-3000/navigationLogic.tsx"),InsightViz_utils=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/utils.ts");let SearchResult=_ref=>{let{result,resultIndex,focused}=_ref,{aggregationLabel}=(0,index_esm.useValues)(searchBarLogic),{setActiveResultIndex,openResult}=(0,index_esm.useActions)(searchBarLogic),{mobileLayout}=(0,index_esm.useValues)(navigationLogic.f),{hideNavOnMobile}=(0,index_esm.useActions)(navigationLogic.f),ref=(0,react.useRef)(null);return(0,react.useLayoutEffect)(()=>{focused&&(ref.current?.scrollIntoViewIfNeeded?ref.current.scrollIntoViewIfNeeded(!1):ref.current?.scrollIntoView({block:"nearest"}))},[focused]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("w-full px-2 hover:bg-primary border-l-4 border-b cursor-pointer",focused?"bg-surface-secondary border-l-accent":"bg-surface-primary"),onClick:()=>{mobileLayout&&hideNavOnMobile(),openResult(resultIndex)},onMouseOver:()=>{setActiveResultIndex(resultIndex)},ref:ref,children:(0,jsx_runtime.jsxs)("div",{className:"px-2 py-3 w-full gap-y-0.5 flex flex-col items-start",children:[(0,jsx_runtime.jsx)("span",{className:"text-tertiary text-xs",children:"tree_item"===result.type?"Product":"group"!==result.type?tabToName[result.type]:`${(0,utils.fm)(aggregationLabel(result.extra_fields.group_type_index).plural)}`}),(0,jsx_runtime.jsx)("span",{className:"text-primary font-bold",children:(0,jsx_runtime.jsx)(ResultName,{result:result})})]})})})},SearchResultSkeleton=()=>(0,jsx_runtime.jsxs)("div",{className:"px-5 py-4 w-full gap-y-1.5 flex flex-col items-start bg-surface-primary border-b",children:[(0,jsx_runtime.jsx)(src.yW,{className:"w-16 opacity-75 h-3"}),(0,jsx_runtime.jsx)(src.yW,{className:"w-40 h-3.5"})]}),ResultName=_ref2=>{let{result}=_ref2,summarizeInsight=(0,insights_summarizeInsight.DF)(),{type,extra_fields}=result;if("insight"===type){let query=(0,InsightViz_utils.a2)(extra_fields);return extra_fields.name?(0,jsx_runtime.jsx)("span",{children:extra_fields.name}):(0,jsx_runtime.jsx)("i",{children:summarizeInsight(query)})}if("feature_flag"===type)return(0,jsx_runtime.jsx)("span",{children:extra_fields.key});if("notebook"===type)return(0,jsx_runtime.jsx)("span",{children:extra_fields.title});if("group"===type)return(0,jsx_runtime.jsx)("span",{children:(0,GroupActorDisplay.O)(extra_fields.group_key,extra_fields.group_properties)});if("tree_item"===type)return(0,jsx_runtime.jsxs)("span",{className:"flex gap-x-1",children:[extra_fields.icon," ",extra_fields.path]});return(0,jsx_runtime.jsx)("span",{children:extra_fields.name})},ResultDescription=_ref3=>{let{result}=_ref3,{result_id,type,extra_fields}=result;return"feature_flag"===type?extra_fields.name&&extra_fields.name!==extra_fields.key?(0,jsx_runtime.jsx)("span",{children:extra_fields.name}):(0,jsx_runtime.jsx)("i",{children:"No description."}):"notebook"===type?(0,jsx_runtime.jsx)(Notebook.a,{shortId:result_id,mode:"notebook",editable:!1,initialContent:extra_fields.content}):"description"in extra_fields?(0,jsx_runtime.jsx)("span",{children:extra_fields.description}):(0,jsx_runtime.jsx)("i",{children:"No description."})};var LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonSkeleton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSkeleton/index.ts");let SearchResultPreview=()=>{let{activeResultIndex,combinedSearchResults,combinedSearchLoading}=(0,index_esm.useValues)(searchBarLogic),{openResult}=(0,index_esm.useActions)(searchBarLogic);if(combinedSearchLoading)return(0,jsx_runtime.jsxs)("div",{className:"border bg-surface-primary rounded p-4 md:p-6 min-h-[245px] flex flex-col gap-y-2",children:[(0,jsx_runtime.jsx)(LemonSkeleton.y,{className:"w-[45px] h-4"}),(0,jsx_runtime.jsx)(LemonSkeleton.y,{className:"w-[150px] h-4"}),(0,jsx_runtime.jsx)(LemonSkeleton.y,{className:"w-[300px] h-4"})]});if(!combinedSearchResults||0===combinedSearchResults.length)return null;let result=combinedSearchResults[activeResultIndex];return result?(0,jsx_runtime.jsx)("div",{className:"border bg-surface-primary rounded p-4 md:p-6",children:(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{children:tabToName[result.type]}),(0,jsx_runtime.jsx)("div",{className:"text-text-3000 font-bold text-lg",children:(0,jsx_runtime.jsx)(ResultName,{result:result})}),(0,jsx_runtime.jsxs)("span",{className:"text-[var(--trace-3000)] text-xs break-all",children:[location.host,(0,jsx_runtime.jsx)("span",{className:"text-muted-3000",children:urlForResult(result)})]}),(0,jsx_runtime.jsx)("div",{className:"mt-2 text-secondary",children:(0,jsx_runtime.jsx)(ResultDescription,{result:result})})]}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-[auto_1fr] items-center gap-2",children:(0,jsx_runtime.jsxs)(LemonButton.J,{type:"secondary",size:"small",onClick:()=>{openResult(activeResultIndex)},"aria-label":"Open search result",children:[(0,jsx_runtime.jsx)("span",{className:"mr-1",children:"Open"})," ",(0,jsx_runtime.jsx)(KeyboardShortcut.e,{enter:!0})]})})]})}):null},SearchResults=()=>{let{combinedSearchResults,combinedSearchLoading,anySearchLoading,activeResultIndex}=(0,index_esm.useValues)(searchBarLogic);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:combinedSearchLoading||anySearchLoading||combinedSearchResults?.length!==0?(0,jsx_runtime.jsxs)("div",{className:"md:grid md:grid-cols-[320px_1fr] overflow-y-auto overflow-x-hidden",children:[(0,jsx_runtime.jsxs)("div",{className:"border-r border-b md:border-b-0 bg-primary overscroll-contain overflow-y-auto overflow-x-hidden",children:[combinedSearchLoading&&!combinedSearchResults?.length&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SearchResultSkeleton,{}),(0,jsx_runtime.jsx)(SearchResultSkeleton,{}),(0,jsx_runtime.jsx)(SearchResultSkeleton,{})]}),combinedSearchResults?.map((result,index)=>jsx_runtime.jsx(SearchResult,{result:result,resultIndex:index,focused:index===activeResultIndex},`${result.type}_${result.result_id}`)),!combinedSearchLoading&&anySearchLoading&&(0,jsx_runtime.jsx)("div",{className:"px-3 py-2 text-xs text-muted opacity-75 border-t",children:"Loading more results..."})]}),(0,jsx_runtime.jsx)("div",{className:"p-2 grow hidden md:block overflow-auto",children:(0,jsx_runtime.jsx)(SearchResultPreview,{})})]}):(0,jsx_runtime.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center p-3 text-center",children:[(0,jsx_runtime.jsx)("h3",{className:"mb-0 text-xl",children:"No results"}),(0,jsx_runtime.jsx)("p",{className:"opacity-75 mb-0",children:"This doesn't happen often, but we're stumped!"}),(0,jsx_runtime.jsx)(hedgehogs.DetectiveHog,{height:150,width:150})]})})};var Spinner=__webpack_require__("../../frontend/src/lib/lemon-ui/Spinner/index.ts");let SearchBarTab=_ref=>{let{tab,inputRef}=_ref,{activeTab,aggregationLabel}=(0,index_esm.useValues)(searchBarLogic),{setActiveTab}=(0,index_esm.useActions)(searchBarLogic),isActive=tab===activeTab;return(0,jsx_runtime.jsxs)("div",{className:`SearchBarTab flex items-center px-4 py-2 cursor-pointer text-xs whitespace-nowrap border-l-2 ${isActive?"SearchBarTab__active font-bold border-accent":"border-transparent"} ${tab===Tab.All?"h-9":""}`,onClick:()=>{setActiveTab(tab),inputRef.current?.focus()},children:[(0,jsx_runtime.jsx)("span",{className:"truncate",children:tabToName[tab]||`${(0,utils.fm)(aggregationLabel(Number(tab.split("_")[1])).plural)}`}),(0,jsx_runtime.jsx)(Count,{tab:tab})]})},Count=_ref2=>{let{tab}=_ref2,{activeTab,tabsCount,tabsLoading}=(0,index_esm.useValues)(searchBarLogic),isLoading=tabsLoading.length>0;return isLoading&&tab===Tab.All&&activeTab===Tab.All||tabsLoading.includes(tab)&&activeTab!==Tab.All?(0,jsx_runtime.jsx)(Spinner.$,{className:"ml-0.5"}):isLoading||null==tabsCount[tab]?null:(0,jsx_runtime.jsx)("span",{className:"ml-1 text-xxs text-tertiary",children:tabsCount[tab]})},SearchTabs=_ref=>{let{inputRef}=_ref,{tabsGrouped}=(0,index_esm.useValues)(searchBarLogic);return(0,jsx_runtime.jsx)("div",{className:"flex flex-col border-r bg-surface-primary overflow-y-auto",children:Object.entries(tabsGrouped).map(_ref2=>{let[group,tabs]=_ref2;return(0,jsx_runtime.jsxs)("div",{className:"all"!==group?"pt-1.5":"",children:["all"!==group&&(0,jsx_runtime.jsx)("span",{className:"ml-4 text-xxs text-secondary uppercase",children:groupToName[group]}),tabs.map(tab=>(0,jsx_runtime.jsx)(SearchBarTab,{tab:tab,inputRef:inputRef},tab))]},group)})})},SearchBar=()=>{(0,index_esm.useMountedLogic)(searchBarLogic);let inputRef=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-[8.5rem_1fr] lg:grid-cols-[12.5rem_1fr] h-full",children:[(0,jsx_runtime.jsx)(SearchTabs,{inputRef:inputRef}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-rows-[49px_calc(40rem-49px)] overflow-hidden overscroll-contain",children:[(0,jsx_runtime.jsx)(SearchInput,{ref:inputRef}),(0,jsx_runtime.jsx)(SearchResults,{})]})]})},shortcutsLogic=(0,index_esm.kea)([(0,index_esm.path)(["lib","components","CommandBar","shortcutsLogic"]),(0,index_esm.connect)(()=>({actions:[commandBarLogic.e,["hideCommandBar"]]})),(0,index_esm.afterMount)(_ref=>{let{actions,cache}=_ref;cache.disposables.add(()=>{let onKeyDown=event=>{"Escape"===event.key&&actions.hideCommandBar()};return window.addEventListener("keydown",onKeyDown),()=>window.removeEventListener("keydown",onKeyDown)},"escapeKeyListener")})]),Shortcuts=()=>((0,index_esm.useMountedLogic)(shortcutsLogic),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col h-full p-5",children:[(0,jsx_runtime.jsx)("h3",{children:"Keyboard shortcuts"}),(0,jsx_runtime.jsx)("h4",{children:"Site-wide shortcuts"}),(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-1",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(KeyboardShortcut.e,{command:!0,k:!0})," Open search"]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(KeyboardShortcut.e,{command:!0,shift:!0,k:!0})," Open command palette"]})]})]})),CommandBarOverlay=(0,react.forwardRef)(function CommandBarOverlayInternal(_ref,ref){let{barStatus,children}=_ref;return(0,jsx_runtime.jsx)("div",{className:"CommandBar__overlay fixed group/colorful-product-icons colorful-product-icons-true",children:(0,jsx_runtime.jsx)("div",{className:"CommandBar__overlay-content",children:(0,jsx_runtime.jsx)("div",{"data-attr":"command-bar",className:`w-full ${barStatus===types.j.SHOW_SEARCH&&"h-full"} w-full bg-primary rounded overflow-hidden border border-primary`,ref:ref,children:children})})})});function CommandBar_CommandBar(){let containerRef=(0,react.useRef)(null),{barStatus}=(0,index_esm.useValues)(commandBarLogic.e),{hideCommandBar}=(0,index_esm.useActions)(commandBarLogic.e);return((0,useOutsideClickHandler.e)([containerRef],()=>{barStatus!==types.j.HIDDEN&&hideCommandBar()},[barStatus]),barStatus===types.j.HIDDEN)?null:(0,jsx_runtime.jsxs)(CommandBarOverlay,{barStatus:barStatus,ref:containerRef,children:[barStatus===types.j.SHOW_SEARCH&&(0,jsx_runtime.jsx)(SearchBar,{}),barStatus===types.j.SHOW_ACTIONS&&(0,jsx_runtime.jsx)(ActionBar,{}),barStatus===types.j.SHOW_SHORTCUTS&&(0,jsx_runtime.jsx)(Shortcuts,{})]})}let SEARCH_RESULT={results:[{type:"insight",result_id:"NmLsyopa",extra_fields:{name:"",query:{kind:"InsightVizNode",source:{kind:"TrendsQuery",series:[{kind:"EventsNode",event:"$pageview",math:"total",orderIndex:0}],trendsFilter:{display:"ActionsLineGraph",interval:"day"},filterTestAccounts:!0},full:!0},description:""}},{type:"insight",result_id:"QcCPEk7d",extra_fields:{name:"Daily unique visitors over time",query:{kind:"InsightVizNode",source:{kind:"TrendsQuery",series:[{kind:"EventsNode",event:"$pageview",math:"dau",orderIndex:0},{kind:"EventsNode",math:"total",orderIndex:1}],trendsFilter:{display:"ActionsLineGraph",interval:"day"},dateRange:{date_from:"-6m"}},full:!0},description:null}},{type:"insight",result_id:"38EAleI9",extra_fields:{name:"",query:{full:!0,kind:"DataTableNode",source:{kind:"HogQLQuery",query:"   select event,\n          person.properties.email,\n          properties.$browser,\n          count()\n     from events\n    where {filters} -- replaced with global date and property filters\n      and person.properties.email is not null\n group by event,\n          properties.$browser,\n          person.properties.email\n order by count() desc\n    limit 100",filters:{dateRange:{date_from:"-24h"}}}},description:""}},{type:"insight",result_id:"zi5MCnjs",extra_fields:{name:"Feature Flag Called Total Volume",query:{kind:"InsightVizNode",source:{kind:"TrendsQuery",series:[{kind:"EventsNode",event:"$feature_flag_called",name:"$feature_flag_called"}],trendsFilter:{display:"ActionsLineGraph",interval:"day",breakdown:"$feature_flag_response",breakdownType:"event"},dateRange:{date_from:"-30d"},properties:{type:"AND",values:[{type:"AND",values:[{key:"$feature_flag",type:"event",value:"notebooks"}]}]},filterTestAccounts:!1},full:!0},description:"Shows the number of total calls made on feature flag with key: notebooks"}},{type:"feature_flag",result_id:"120",extra_fields:{key:"person-on-events-enabled",name:"person-on-events-enabled"}},{type:"feature_flag",result_id:"150",extra_fields:{key:"cs-dashboards",name:"cs-dashboards"}},{type:"notebook",result_id:"b1ZyFO6K",extra_fields:{title:"Notes 27/09",text_content:"Notes 27/09\nasd\nas\nda\ns\nd\nlalala"}},{type:"feature_flag",result_id:"143",extra_fields:{key:"high-frequency-batch-exports",name:"high-frequency-batch-exports"}},{type:"feature_flag",result_id:"126",extra_fields:{key:"onboarding-v2-demo",name:"onboarding-v2-demo"}},{type:"insight",result_id:"miwdcAAu",extra_fields:{name:"",query:{full:!0,kind:"DataTableNode",source:{kind:"HogQLQuery",query:"   select event,\n          person.properties.email,\n          properties.$browser,\n          count()\n     from events\n    where {filters} -- replaced with global date and property filters\n      and person.properties.email is not null\n group by event,\n          properties.$browser,\n          person.properties.email\n order by count() desc\n    limit 100",filters:{dateRange:{date_from:"-24h"}}}},description:""}},{type:"feature_flag",result_id:"142",extra_fields:{key:"web-analytics",name:"web-analytics"}},{type:"notebook",result_id:"eq4n8PQY",extra_fields:{title:"asd",text_content:"asd"}},{type:"dashboard",result_id:"1",extra_fields:{name:"ðŸ”‘ Key metrics",description:"Company overview."}},{type:"insight",result_id:"YZjAFWBU",extra_fields:{name:"Homepage view to signup conversion",query:{kind:"InsightVizNode",source:{kind:"FunnelsQuery",series:[{kind:"EventsNode",event:"$pageview",name:"Viewed homepage",properties:[{key:"$current_url",value:"https://hedgebox.net/",operator:"exact"}]},{id:"$pageview",name:"$pageview",type:"events",order:1,properties:[{key:"$current_url",type:"event",value:"https://hedgebox.net/signup/",operator:"regex"}],custom_name:"Viewed signup page"},{id:"signed_up",name:"signed_up",type:"events",order:2,custom_name:"Signed up"}],funnelsFilter:{display:"FunnelViz",funnelVizType:"steps",filterTestAccounts:!0},dateRange:{date_from:"-1m"},interval:"day"},full:!0},description:null}},{type:"feature_flag",result_id:"133",extra_fields:{key:"feedback-scene",name:"feedback-scene"}},{type:"insight",result_id:"xK9vs4D2",extra_fields:{name:"",query:{kind:"InsightVizNode",source:{kind:"FunnelsQuery",series:[{kind:"EventsNode",event:"$pageview",math:"total",name:"$pageview",orderIndex:0},{kind:"EventsNode",math:"total",orderIndex:1},{kind:"EventsNode",math:"total",orderIndex:2}],funnelsFilter:{interval:"day",funnelVizType:"steps"},dateRange:{date_from:"-7d"},exclusions:[{id:"$pageview",name:"$pageview",type:"events",uuid:"40e0f8a9-1297-41e4-b7ca-54d00a9c1d82",funnel_to_step:1,funnel_from_step:0}]},full:!0},description:""}},{type:"feature_flag",result_id:"134",extra_fields:{key:"early-access-feature",name:"early-access-feature"}},{type:"insight",result_id:"vLbs5bhA",extra_fields:{name:"",query:{kind:"InsightVizNode",source:{kind:"LifecycleQuery",series:[{kind:"EventsNode",event:"$pageview",math:"total",name:"$pageview",orderIndex:0}],lifecycleFilter:{shown_as:"Lifecycle"},filterTestAccounts:!1},full:!0},description:""}},{type:"feature_flag",result_id:"159",extra_fields:{key:"surveys-multiple-questions",name:"surveys-multiple-questions"}},{type:"action",result_id:"3",extra_fields:{name:"typed into search",description:""}},{type:"insight",result_id:"QYrl34sX",extra_fields:{name:"Feature Flag calls made by unique users per variant",query:{kind:"InsightVizNode",source:{kind:"TrendsQuery",series:[{kind:"EventsNode",event:"$feature_flag_called",math:"dau",name:"$feature_flag_called"}],trendsFilter:{display:"ActionsTable",interval:"day",breakdown:"$feature_flag_response",breakdownType:"event"},dateRange:{date_from:"-30d"},properties:{type:"AND",values:[{type:"AND",values:[{key:"$feature_flag",type:"event",value:"cmd-k-search"}]}]},filterTestAccounts:!1},full:!0},description:"Shows the number of unique user calls made on feature flag per variant with key: cmd-k-search"}},{type:"insight",result_id:"4Xaltnro",extra_fields:{name:"",query:{kind:"InsightVizNode",source:{kind:"PathsQuery",stepLimit:5,includeEventTypes:["$pageview","custom_event"],pathsFilter:{funnelPaths:"funnel_path_before_step",funnelFilter:{series:[{kind:"EventsNode",event:"$pageview",math:"total",name:"$pageview",orderIndex:0},{kind:"EventsNode",math:"total",orderIndex:1}],funnelVizType:"steps",filterTestAccounts:!0,funnelStep:2}}},full:!0},description:""}},{type:"feature_flag",result_id:"148",extra_fields:{key:"show-product-intro-existing-products",name:"show-product-intro-existing-products"}},{type:"feature_flag",result_id:"4",extra_fields:{key:"notebooks",name:""}}],counts:{insight:89,dashboard:14,experiment:1,feature_flag:66,notebook:5,action:4,cohort:3}},CommandBar_stories={title:"Components/Command Bar",component:CommandBar_CommandBar,decorators:[(0,browser.x8)({get:{"/api/projects/:team_id/search":SEARCH_RESULT,"/api/environments/:team_id/search":SEARCH_RESULT}})],parameters:{layout:"fullscreen",testOptions:{snapshotTargetSelector:'[data-attr="command-bar"]'},viewMode:"story"}};function Search(){let{setCommandBar}=(0,index_esm.useActions)(commandBarLogic.e);return(0,useOnMountEffect.f)(()=>setCommandBar(types.j.SHOW_SEARCH)),(0,jsx_runtime.jsx)(CommandBar_CommandBar,{})}function Actions(){let{setCommandBar}=(0,index_esm.useActions)(commandBarLogic.e);return(0,useOnMountEffect.f)(()=>setCommandBar(types.j.SHOW_ACTIONS)),(0,jsx_runtime.jsx)(CommandBar_CommandBar,{})}function CommandBar_stories_Shortcuts(){let{setCommandBar}=(0,index_esm.useActions)(commandBarLogic.e);return(0,useOnMountEffect.f)(()=>setCommandBar(types.j.SHOW_SHORTCUTS)),(0,jsx_runtime.jsx)(CommandBar_CommandBar,{})}Search.parameters={...Search.parameters,docs:{...Search.parameters?.docs,source:{originalSource:"function Search(): JSX.Element {\n  const {\n    setCommandBar\n  } = useActions(commandBarLogic);\n  useDelayedOnMountEffect(() => setCommandBar(BarStatus.SHOW_SEARCH));\n  return <CommandBar />;\n}",...Search.parameters?.docs?.source}}},Actions.parameters={...Actions.parameters,docs:{...Actions.parameters?.docs,source:{originalSource:"function Actions(): JSX.Element {\n  const {\n    setCommandBar\n  } = useActions(commandBarLogic);\n  useDelayedOnMountEffect(() => setCommandBar(BarStatus.SHOW_ACTIONS));\n  return <CommandBar />;\n}",...Actions.parameters?.docs?.source}}},CommandBar_stories_Shortcuts.parameters={...CommandBar_stories_Shortcuts.parameters,docs:{...CommandBar_stories_Shortcuts.parameters?.docs,source:{originalSource:"function Shortcuts(): JSX.Element {\n  const {\n    setCommandBar\n  } = useActions(commandBarLogic);\n  useDelayedOnMountEffect(() => setCommandBar(BarStatus.SHOW_SHORTCUTS));\n  return <CommandBar />;\n}",...CommandBar_stories_Shortcuts.parameters?.docs?.source}}};let __namedExportsOrder=["Search","Actions","Shortcuts"]},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/lib/components/CommandBar/index.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".LemonInput.CommandBar__input{border-color:transparent!important;border-radius:0;height:3rem;padding-left:1rem;padding-right:.5rem}.SearchBarTab:hover{border-left:2px solid var(--color-border-primary)}.SearchBarTab.SearchBarTab__active{border-color:var(--color-accent)}.CommandBar__overlay{align-items:center;-webkit-backdrop-filter:blur(var(--modal-backdrop-blur));backdrop-filter:blur(var(--modal-backdrop-blur));background-color:var(--modal-backdrop-color);display:flex;flex-direction:column;height:100%;justify-content:center;left:0;padding:.75rem;position:fixed;top:0;width:100%;z-index:var(--z-shortcut-menu)}.CommandBar__overlay-content{height:100%;max-height:40rem;max-width:62rem;overflow:hidden;width:100%}",""]),module.exports=exports}}]);