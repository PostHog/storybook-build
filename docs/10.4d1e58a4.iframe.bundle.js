(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./frontend/src/scenes/data-management/DataManagementPageHeader.tsx":function(K,d,e){"use strict";e.d(d,"a",function(){return f});var p=e("./frontend/src/lib/components/PageHeader.tsx"),D=e("./node_modules/react/index.js"),_=e.n(D),E=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx");function f(j){var S=j.activeTab,Y=j.hideTabs;return _.a.createElement(_.a.Fragment,null,_.a.createElement(p.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),!Y&&_.a.createElement(E.a,{tab:S}))}try{f.displayName="DataManagementPageHeader",f.__docgenInfo={description:"",displayName:"DataManagementPageHeader",props:{activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}},hideTabs:{defaultValue:null,description:"",name:"hideTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageHeader.tsx#DataManagementPageHeader"]={docgenInfo:f.__docgenInfo,name:"DataManagementPageHeader",path:"frontend/src/scenes/data-management/DataManagementPageHeader.tsx#DataManagementPageHeader"})}catch(j){}},"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(K,d,e){"use strict";e.d(d,"b",function(){return c}),e.d(d,"a",function(){return U});var p=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),D=e.n(p),_=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),E=e.n(_),f=e("./node_modules/core-js/modules/es.array.iterator.js"),j=e.n(f),S=e("./node_modules/core-js/modules/es.object.to-string.js"),Y=e.n(S),M=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Q=e.n(M),v=e("./node_modules/core-js/modules/es.object.from-entries.js"),z=e.n(v),o=e("./node_modules/core-js/modules/es.array.map.js"),N=e.n(o),F=e("./node_modules/core-js/modules/es.object.entries.js"),H=e.n(F),J=e("./node_modules/react/index.js"),i=e.n(J),C=e("./node_modules/kea/lib/index.esm.js"),y=e("./node_modules/antd/es/tabs/index.js"),O=e("./frontend/src/scenes/urls.ts"),L=e("./frontend/src/lib/components/Tooltip.tsx"),A=e("./frontend/src/lib/components/icons.tsx"),R=e("./frontend/src/lib/components/TitleWithIcon.tsx"),P,c;(function(r){r.Actions="actions",r.EventDefinitions="events",r.EventPropertyDefinitions="properties"})(c||(c={}));var I=(P={},E()(P,c.EventPropertyDefinitions,O.a.eventPropertyDefinitions()),E()(P,c.EventDefinitions,O.a.eventDefinitions()),E()(P,c.Actions,O.a.actions()),P),s=Object(C.kea)({path:["scenes","events","eventsTabsLogic"],actions:{setTab:function(m){return{tab:m}}},reducers:{tab:[c.EventDefinitions,{setTab:function(m,n){var g=n.tab;return g}}]},actionToUrl:function(){return{setTab:function(n){var g=n.tab;return I[g]||O.a.events()}}},urlToAction:function(m){var n=m.actions,g=m.values;return Object.fromEntries(Object.entries(I).map(function(h){var W=D()(h,2),x=W[0],B=W[1];return[B,function(){g.tab!==x&&n.setTab(x)}]}))}});function U(r){var m=r.tab,n=Object(C.useActions)(s),g=n.setTab;return i.a.createElement(y.a,{tabPosition:"top",animated:!1,activeKey:m,onTabClick:function(W){return g(W)}},i.a.createElement(y.a.TabPane,{tab:i.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:c.EventDefinitions}),i.a.createElement(y.a.TabPane,{tab:i.a.createElement(R.a,{icon:i.a.createElement(L.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},i.a.createElement(A.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:c.Actions}),i.a.createElement(y.a.TabPane,{tab:i.a.createElement(R.a,{icon:i.a.createElement(L.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},i.a.createElement(A.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Properties"),key:c.EventPropertyDefinitions}))}try{U.displayName="DataManagementPageTabs",U.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:U.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(r){}},"./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx":function(K,d,e){"use strict";e.d(d,"a",function(){return i});var p=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),D=e.n(p),_=e("./node_modules/core-js/modules/es.array.concat.js"),E=e.n(_),f=e("./node_modules/core-js/modules/es.array.includes.js"),j=e.n(f),S=e("./node_modules/core-js/modules/es.string.includes.js"),Y=e.n(S),M=e("./node_modules/kea/lib/index.esm.js"),Q=e("./node_modules/react/index.js"),v=e.n(Q),z=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),o=e("./frontend/src/lib/components/LemonTable/index.ts"),N=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),F=e("./frontend/src/scenes/organizationLogic.tsx"),H=e("./frontend/src/lib/utils.tsx"),J=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx");function i(C){var y,O,L,A,R,P,c,I,s=C.definition,U=Object(M.useActions)(z.c),r=U.loadPropertiesForEvent,m=Object(M.useValues)(z.c),n=m.eventPropertiesCacheMap,g=m.eventDefinitionPropertiesLoading,h=Object(M.useValues)(F.a),W=h.hasDashboardCollaboration,x=h.hasIngestionTaxonomy;Object(Q.useEffect)(function(){r(s)},[]);var B=[{title:"Property",key:"property",className:"definition-column-name",render:function($,u){return v.a.createElement(J.b,{definition:u,event:s,hideIcon:!0,asLink:!0})}},{title:"Type",key:"type",className:"definition-column-type",render:function($,u){return u.property_type?v.a.createElement("div",{className:"definition-pill-value",style:{textTransform:"uppercase"}},u.property_type):v.a.createElement("span",{className:"text-muted"},"\u2014")}}].concat(D()(W?[{title:"Tags",key:"tags",render:function($,u){var G;return v.a.createElement(N.a,{tags:(G=u.tags)!==null&&G!==void 0?G:[],staticOnly:!0})}}]:[]),D()(x?[{title:"30 day queries",key:"query_usage_30_day",align:"right",render:function($,u){return u.query_usage_30_day?Object(H.O)(u.query_usage_30_day):v.a.createElement("span",{className:"text-muted"},"\u2014")}}]:[]),[{title:"Example",key:"example",align:"right",className:"definition-example-type",render:function($,u){return u.example?v.a.createElement("div",{className:"definition-pill-value",style:{fontFamily:"monospace"}},u.example):v.a.createElement("span",{className:"text-muted"},"\u2014")}}]);return v.a.createElement("div",{className:"event-properties-wrapper"},v.a.createElement("span",{className:"event-properties-header"},"Top properties"),v.a.createElement("p",{className:"event-properties-subtext"},"Please note that description and tags are shared across events. Posthog properties are excluded from this list."),v.a.createElement(o.a,{id:"event-properties-definition-table-".concat(s.id),"data-attr":"event-properties-definition-nested-table",columns:B,className:"event-properties-definition-table-".concat(s.id),dataSource:(y=n==null||(O=n[s.id])===null||O===void 0?void 0:O.results)!==null&&y!==void 0?y:[],emptyState:"This event has no properties",nouns:["property definition","property definitions"],pagination:{controlled:!0,pageSize:z.b,currentPage:(L=n==null||(A=n[s.id])===null||A===void 0?void 0:A.page)!==null&&L!==void 0?L:1,entryCount:(R=n==null||(P=n[s.id])===null||P===void 0?void 0:P.count)!==null&&R!==void 0?R:0,onForward:n!=null&&(c=n[s.id])!==null&&c!==void 0&&c.next?function(){r(s,n[s.id].next)}:void 0,onBackward:n!=null&&(I=n[s.id])!==null&&I!==void 0&&I.previous?function(){r(s,n[s.id].previous)}:void 0},loading:g.includes(s.id)}))}try{i.displayName="EventDefinitionProperties",i.__docgenInfo={description:"",displayName:"EventDefinitionProperties",props:{definition:{defaultValue:null,description:"",name:"definition",required:!0,type:{name:"EventDefinition"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"]={docgenInfo:i.__docgenInfo,name:"EventDefinitionProperties",path:"frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"})}catch(C){}},"./frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx":function(K,d,e){"use strict";e.r(d),e.d(d,"scene",function(){return U}),e.d(d,"EventDefinitionsTable",function(){return r});var p=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),D=e.n(p),_=e("./node_modules/core-js/modules/es.array.concat.js"),E=e("./node_modules/core-js/modules/es.function.name.js"),f=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),j=e.n(f),S=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss"),Y=e.n(S),M={};M.insert="head",M.singleton=!1;var Q=j()(Y.a,M),v=Y.a.locals||{},z=e("./node_modules/react/index.js"),o=e.n(z),N=e("./node_modules/kea/lib/index.esm.js"),F=e("./frontend/src/lib/components/LemonTable/index.ts"),H=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),J=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),i=e("./frontend/src/scenes/organizationLogic.tsx"),C=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),y=e("./frontend/src/lib/utils.tsx"),O=e("./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx"),L=e("./node_modules/antd/es/alert/index.js"),A=e("./node_modules/antd/es/input/index.js"),R=e("./frontend/src/scenes/data-management/DataManagementPageHeader.tsx"),P=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),c=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),I=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),s=e("./frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx"),U={component:r,logic:H.c,paramsToProps:function(){return{syncWithUrl:!0}}};function r(){var m,n,g,h,W=Object(N.useValues)(I.a),x=W.preflight,B=Object(N.useValues)(H.c),l=B.eventDefinitions,$=B.eventDefinitionsLoading,u=B.openedDefinitionId,G=B.filters,X=Object(N.useActions)(H.c),Z=X.loadEventDefinitions,k=X.setOpenedDefinition,q=X.setFilters,w=Object(N.useValues)(i.a),ee=w.hasDashboardCollaboration,ne=w.hasIngestionTaxonomy,te=[{key:"icon",className:"definition-column-icon",render:function(t,a){return o.a.createElement(C.a,{definition:a,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(t,a){return o.a.createElement(C.a,{definition:a,hideIcon:!0,asLink:!0})},sorter:function(t,a){return t.name.localeCompare(a.name)}}].concat(D()(ee?[{title:"Tags",key:"tags",render:function(t,a){var T;return o.a.createElement(J.a,{tags:(T=a.tags)!==null&&T!==void 0?T:[],staticOnly:!0})}}]:[]),D()(ne?[{title:o.a.createElement(s.c,{tooltipPlacement:"bottom"}),key:"volume_30_day",align:"right",render:function(t,a){return a.volume_30_day?Object(y.O)(a.volume_30_day):o.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(t,a){var T,V;return((T=t==null?void 0:t.volume_30_day)!==null&&T!==void 0?T:0)-((V=a==null?void 0:a.volume_30_day)!==null&&V!==void 0?V:0)}},{title:o.a.createElement(s.b,{tooltipPlacement:"bottom"}),key:"query_usage_30_day",align:"right",render:function(t,a){return a.query_usage_30_day?Object(y.O)(a.query_usage_30_day):o.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(t,a){var T,V;return((T=t==null?void 0:t.query_usage_30_day)!==null&&T!==void 0?T:0)-((V=a==null?void 0:a.query_usage_30_day)!==null&&V!==void 0?V:0)}}]:[]));return o.a.createElement("div",{"data-attr":"manage-events-table"},o.a.createElement(R.a,{activeTab:P.b.EventDefinitions}),x&&!(x!=null&&x.is_event_property_usage_enabled)?o.a.createElement(c.a,{tab:"Event Definitions"}):((m=l.results)===null||m===void 0||(n=m[0])===null||n===void 0?void 0:n.volume_30_day)===null&&o.a.createElement(L.a,{type:"warning",message:"We haven't been able to get usage and volume data yet. Please check later.",style:{marginBottom:"1rem"}}),o.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flexDirection:"row",alignItems:"center",width:"100%",marginBottom:"1rem"}},o.a.createElement(A.a.Search,{placeholder:"Search for events",allowClear:!0,enterButton:!0,value:G.event,style:{maxWidth:600,width:"initial"},onChange:function(t){q({event:t.target.value||""})}})),o.a.createElement(F.a,{columns:te,className:"events-definition-table","data-attr":"events-definition-table",loading:$,rowKey:"id",rowStatus:function(t){return t.id===u?"highlighted":null},pagination:{controlled:!0,currentPage:(g=l==null?void 0:l.page)!==null&&g!==void 0?g:1,entryCount:(h=l==null?void 0:l.count)!==null&&h!==void 0?h:0,pageSize:H.a,onForward:l.next?function(){Z(l.next)}:void 0,onBackward:l.previous?function(){Z(l.previous)}:void 0},expandable:{expandedRowRender:function(t){return o.a.createElement(O.a,{definition:t})},noIndent:!0,isRowExpanded:function(t){return t.id===u?!0:-1},onRowCollapse:function(t){return t.id===u&&k(null)}},dataSource:l.results,emptyState:"No event definitions",nouns:["event","events"]}))}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(K,d,e){"use strict";e.d(d,"a",function(){return E});var p=e("./node_modules/antd/es/alert/index.js"),D=e("./node_modules/react/index.js"),_=e.n(D);function E(f){var j=f.tab;return _.a.createElement(p.a,{type:"info",showIcon:!0,message:"".concat(j," are not enabled for your instance."),description:_.a.createElement(_.a.Fragment,null,"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",_.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",_.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events.")})}try{E.displayName="UsageDisabledWarning",E.__docgenInfo={description:"",displayName:"UsageDisabledWarning",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"]={docgenInfo:E.__docgenInfo,name:"UsageDisabledWarning",path:"frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"})}catch(f){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss":function(K,d,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");d=p(!1),d.push([K.i,'.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:flex-start}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted path{fill:var(--taxonomy-icon-muted)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{height:28px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified path{fill:var(--success)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified:not(.taxonomy-icon-ph){margin-bottom:-4px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name{display:flex;flex-direction:row;align-items:center}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer;position:relative;overflow:visible}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;bottom:-5px;left:-10px;right:-50px;height:22px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--text-muted);text-overflow:ellipsis}.events-definition-table .LemonTable__content>table>tbody td.definition-example-type .definition-pill-value{float:right}.events-definition-table .LemonTable__content>table>tbody .definition-pill-value{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;word-break:break-all;max-width:300px;cursor:text}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper{padding:1rem 0 1rem 1rem}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper .event-properties-header{font-weight:600}',""]),K.exports=d}}]);
