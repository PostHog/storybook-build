(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{"./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.tsx":function(d,l,e){"use strict";e.r(l),e.d(l,"scene",function(){return G}),e.d(l,"ConfirmOrganization",function(){return z});var g=e("./node_modules/react/index.js"),n=e.n(g),b=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),E=e.n(b),C=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.scss"),O=e.n(C),u={};u.insert="head",u.singleton=!1;var J=E()(O.a,u),K=O.a.locals||{},x=e("./frontend/src/scenes/organizationLogic.tsx"),h=e("./frontend/src/lib/components/LemonButton/index.ts"),f=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),S=e("./frontend/src/scenes/authentication/WelcomeLogo.tsx"),w=e("./frontend/src/lib/components/LemonDivider/index.ts"),m=e("./node_modules/kea/lib/index.esm.js"),M=e("./node_modules/core-js/modules/es.object.keys.js"),U=e("./node_modules/core-js/modules/es.symbol.js"),$=e("./node_modules/core-js/modules/es.array.filter.js"),Q=e("./node_modules/core-js/modules/es.object.to-string.js"),X=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),Z=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),k=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),N=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),L=e.n(N),P=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),T=e.n(P),W=e("./node_modules/@babel/runtime/regenerator/index.js"),j=e.n(W),I=e("./frontend/src/lib/api.ts"),A=e("./node_modules/kea-router/lib/index.js"),D=e("./node_modules/kea-forms/lib/index.js"),B=e("./frontend/src/lib/components/lemonToast.tsx");function y(o,t){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),r.push.apply(r,a)}return r}function F(o){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(a){L()(o,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(r,a))})}return o}var p=Object(m.kea)([Object(m.path)(["scenes","organization","confirmOrganizationLogic"]),Object(m.actions)({setEmail:function(t){return{email:t}},setShowNewOrgWarning:function(t){return{show:t}}}),Object(m.reducers)({showNewOrgWarning:[!1,{setShowNewOrgWarning:function(t,r){var a=r.show;return a}}],email:["",{setEmail:function(t,r){var a=r.email;return a}}]}),Object(D.forms)(function(){return{confirmOrganization:{defaults:{},errors:function(t){var r=t.organization_name,a=t.first_name;return{first_name:a?void 0:"Please enter your name",organization_name:r?void 0:"Please enter your organization name"}},submit:function(){var o=T()(j.a.mark(function r(a){var s;return j.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,I.b.create("api/social_signup/",F({},a));case 3:s=i.sent,location.href=s.success_url||"/",i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),B.d.error(i.t0.detail||"Failed to create organization");case 10:case"end":return i.stop()}},r,null,[[0,7]])}));function t(r){return o.apply(this,arguments)}return t}()}}}),Object(A.urlToAction)(function(o){var t=o.actions;return{"/organization/confirm-creation":function(a,s){var c=s.email,i=s.organization_name,H=s.first_name;t.setConfirmOrganizationValues({organization_name:i,first_name:H}),t.setEmail(c)}}})]),v=e("./frontend/src/lib/forms/Field.tsx"),R=e("./frontend/src/lib/forms/VerticalForm.tsx"),V=e("./frontend/src/lib/components/AnimatedCollapsible.tsx"),Y=e("./frontend/src/scenes/urls.ts"),G={component:z,logic:x.a};function z(){var o=Object(m.useValues)(p),t=o.isConfirmOrganizationSubmitting,r=o.email,a=o.showNewOrgWarning,s=Object(m.useActions)(p),c=s.setShowNewOrgWarning;return console.log(a),n.a.createElement("div",{className:"bridge-page ConfirmOrganization"},n.a.createElement(S.a,{view:"org-creation-confirmation"}),n.a.createElement("div",{className:"ConfirmOrganization__container-box"},n.a.createElement("p",{className:"ConfirmOrganization__title text-center"},"Create a new organization"),n.a.createElement("div",{className:"ConfirmOrganization__help-box"},n.a.createElement("div",{style:{flex:1}},n.a.createElement("p",null,n.a.createElement("strong",null,"Trying to join an existing organization?"," ",!a&&n.a.createElement("a",{onClick:function(){c(!0)}},"Read more"))),n.a.createElement(V.a,{collapsed:!a},n.a.createElement("div",null,n.a.createElement("div",{style:{height:"0.5rem"}}),n.a.createElement("p",null,"If you're trying to join an existing organization, you should not create a new one. Some reasons that you may accidentally end up here are:",n.a.createElement("ul",{style:{paddingInlineStart:"1rem",marginBottom:0,marginBlockEnd:0}},n.a.createElement("li",null,"You're logging in with the wrong email address"),n.a.createElement("li",null,"Your PostHog account is at a different URL"),n.a.createElement("li",null,"You need an invitation from a colleague"))))))),n.a.createElement(R.a,{logic:p,formKey:"confirmOrganization",enableFormOnSubmit:!0},n.a.createElement(v.a,{name:"email",label:"Email"},n.a.createElement(f.a,{className:"ph-ignore-input",value:r,disabled:!0})),n.a.createElement(v.a,{name:"first_name",label:"Your name"},n.a.createElement(f.a,{className:"ph-ignore-input",placeholder:"Jane Doe"})),n.a.createElement(v.a,{name:"organization_name",label:"Organization name",help:"You can always rename your organization later"},n.a.createElement(f.a,{className:"ph-ignore-input",placeholder:"Hogflix Movies"})),n.a.createElement(h.a,{htmlType:"submit",fullWidth:!0,center:!0,size:"large",type:"primary",loading:t},"Create organization"),n.a.createElement(h.a,{className:"mt",fullWidth:!0,center:!0,size:"large",type:"secondary",loading:t,to:Y.a.signup()},"Cancel")),n.a.createElement("div",{className:"text-center terms-and-conditions-text mt text-muted"},"By creating an account, you agree to our"," ",n.a.createElement("a",{href:"https://posthog.com/terms",target:"_blank",rel:"noopener"},"Terms\xA0of\xA0Service")," ","and"," ",n.a.createElement("a",{href:"https://posthog.com/privacy",target:"_blank",rel:"noopener"},"Privacy\xA0Policy"),"."),n.a.createElement(w.a,{thick:!0,dashed:!0,style:{marginTop:24,marginBottom:24}}),n.a.createElement("div",{className:"text-center terms-and-conditions-text mt text-muted"},"Have questions?"," ",n.a.createElement("a",{href:"https://posthog.com/support",target:"_blank",rel:"noopener"},"Visit support")," ","or"," ",n.a.createElement("a",{href:"https://posthog.com/docs",target:"_blank",rel:"noopener"},"read our documentation"),".")))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.scss":function(d,l,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");l=g(!1),l.push([d.i,".ConfirmOrganization{min-height:100vh;align-items:center;justify-content:center;display:flex;flex-direction:column;padding:2.5rem 1rem}.ConfirmOrganization .LemonRow--disabled{background-color:var(--bg-side);color:var(--text-default);opacity:1}.ConfirmOrganization .LemonRow--disabled .LemonInput__input:disabled{opacity:1}.ConfirmOrganization .ConfirmOrganization__title{font-size:28px;font-weight:800;line-height:34px;letter-spacing:-.02em;margin-bottom:.5rem}.ConfirmOrganization .ConfirmOrganization__container-box{box-shadow:var(--shadow-elevation);max-width:480px;background-color:var(--bg-light);border-radius:var(--radius);padding:2.5rem}.ConfirmOrganization .ConfirmOrganization__help-box{display:flex;flex-direction:row;background-color:var(--bg-side);border-radius:var(--radius);padding:1rem;margin-bottom:1rem}.ConfirmOrganization .ConfirmOrganization__help-box p{margin-bottom:0}",""]),d.exports=l}}]);
