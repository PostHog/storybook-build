(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{"./frontend/src/scenes/instance/Licenses/index.tsx":function(x,o,e){"use strict";e.r(o),e.d(o,"scene",function(){return C}),e.d(o,"Licenses",function(){return u});var O=e("./node_modules/core-js/modules/es.array.filter.js"),R=e.n(O),P=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),f=e.n(P),M=e("./node_modules/react/index.js"),n=e.n(M),a=e("./node_modules/antd/es/form/index.js"),v=e("./node_modules/antd/es/alert/index.js"),y=e("./node_modules/antd/es/input/index.js"),D=e("./node_modules/antd/es/button/index.js"),L=e("./node_modules/antd/es/table/index.js"),r=e("./frontend/src/scenes/instance/Licenses/licenseLogic.ts"),c=e("./node_modules/kea/lib/index.esm.js"),m=e("./frontend/src/lib/utils.tsx"),A=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),g=e("./frontend/src/lib/components/PageHeader.tsx"),T=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),h=e("./frontend/src/lib/components/Tooltip.tsx"),C={component:u,logic:r.b},I=[{title:"Active",render:function(t){return Object(r.a)(t)?"expired":"active"}},{title:"Valid until",render:function(t){return Object(m.L)(t.valid_until)}},{title:"Plan",dataIndex:"plan"},{title:function(){return n.a.createElement(h.a,{placement:"right",title:"Maximum number of team members that you can have across all organizations with your current license."},"Max #\xA0of team members",n.a.createElement(T.a,{className:"info-indicator"}))},render:function(t){return t.max_users===null?"Unlimited":t.max_users}},{title:"Key",render:function(t){return n.a.createElement(A.a,null,t.key)}},{title:"License added on",render:function(t){return Object(m.L)(t.created_at)}}];function u(){var s=a.a.useForm(),t=f()(s,1),i=t[0],l=Object(c.useValues)(r.b),K=l.licenses,U=l.licensesLoading,E=l.error,B=Object(c.useActions)(r.b),W=B.createLicense;return n.a.createElement("div",null,n.a.createElement(g.a,{title:"Licenses",caption:n.a.createElement(n.a.Fragment,null,"Here you can add and manage your PostHog enterprise licenses. When you activate a license key, enterprise functionality will be enabled immediately. Contact"," ",n.a.createElement("a",{href:"mailto:sales@posthog.com"},"sales@posthog.com")," to buy a license or if you have any issues with a license.")}),E&&n.a.createElement(v.a,{message:E.detail||n.a.createElement("span",null,"Could not validate license key. Please try again or contact us."),type:"error",style:{marginBottom:"1em"}}),n.a.createElement(a.a,{form:i,name:"horizontal_login",layout:"inline",onFinish:function(d){return W({key:d.key})},style:{marginBottom:"1rem"}},n.a.createElement(a.a.Item,{name:"key",rules:[{required:!0,message:"Please input a license key!"}]},n.a.createElement(y.a,{placeholder:"License key",style:{minWidth:400}})),n.a.createElement(a.a.Item,{shouldUpdate:!0},function(){return n.a.createElement(D.a,{type:"primary",htmlType:"submit",disabled:!i.isFieldsTouched(!0)||!!i.getFieldsError().filter(function(_){var d=_.errors;return d.length}).length},"Activate License Key")})),n.a.createElement(L.a,{"data-attr":"license-table",size:"small",rowKey:"id",pagination:!1,rowClassName:"cursor-pointer",dataSource:K,columns:I,loading:U}))}}}]);
