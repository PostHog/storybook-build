(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{"./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx":function(B,i,e){"use strict";e.d(i,"a",function(){return b});var f=e("./frontend/@posthog/lemon-ui/src/index.ts"),M=e("./node_modules/react/index.js"),I=e.n(M),n=e("./node_modules/react/jsx-runtime.js"),E=e.n(n);function b(g){var x=g.to,C=g.onClick,c=g.title,d=g.subtitle,y=g.prefix,L=g.suffix;return Object(n.jsx)(f.LemonButton,{fullWidth:!0,to:x,onClick:C,children:Object(n.jsxs)("div",{className:"flex items-center justify-between h-10 overflow-hidden gap-2 flex-1",children:[y?Object(n.jsx)("span",{className:"shrink-0",children:y}):null,Object(n.jsxs)("div",{className:"truncate space-y-1 flex-1",children:[Object(n.jsx)("div",{className:"text-primary font-semibold truncate",children:c}),Object(n.jsx)("div",{className:"truncate text-default font-normal",children:d})]}),L?Object(n.jsx)("span",{className:"shrink-0",children:L}):null]})})}try{b.displayName="ProjectHomePageCompactListItem",b.__docgenInfo={description:"",displayName:"ProjectHomePageCompactListItem",props:{to:{defaultValue:null,description:"URL to link to.",name:"to",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!0,type:{name:"string"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"ReactNode"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!1,type:{name:"ReactNode"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx#ProjectHomePageCompactListItem"]={docgenInfo:b.__docgenInfo,name:"ProjectHomePageCompactListItem",path:"frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx#ProjectHomePageCompactListItem"})}catch(g){}},"./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(B,i,e){"use strict";var f=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),M=e.n(f),I=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),n=e.n(I),E={};E.insert="head",E.singleton=!1;var b=M()(n.a,E),g=n.a.locals||{}},"./frontend/src/scenes/project-homepage/ProjectHomepage.tsx":function(B,i,e){"use strict";e.r(i),e.d(i,"ProjectHomepage",function(){return Q}),e.d(i,"scene",function(){return le});var f=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),M=e.n(f),I=e("./node_modules/core-js/modules/es.function.name.js"),n=e("./node_modules/core-js/modules/es.object.to-string.js"),E=e("./node_modules/core-js/modules/es.regexp.to-string.js"),b=e("./node_modules/react/index.js"),g=e("./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),x=e("./frontend/src/lib/components/PageHeader.tsx"),C=e("./frontend/src/scenes/dashboard/Dashboard.tsx"),c=e("./node_modules/kea/lib/index.esm.js"),d=e("./frontend/src/scenes/teamLogic.tsx"),y=e("./frontend/src/types.ts"),L=e("./frontend/src/scenes/organization/Settings/inviteLogic.ts"),U=e("./frontend/src/lib/components/LemonDivider/index.ts"),K=e("./node_modules/core-js/modules/es.array.map.js"),D=e("./node_modules/core-js/modules/es.symbol.js"),N=e("./node_modules/core-js/modules/es.symbol.description.js"),t=e("./frontend/src/models/dashboardsModel.tsx"),_=e("./frontend/src/lib/components/LemonButton/index.ts"),l=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),u=e.n(l),h=e("./node_modules/@babel/runtime/regenerator/index.js"),o=e.n(h),O=e("./frontend/src/lib/utils/eventUsageLogic.ts"),r=Object(c.kea)({path:["scenes","project-homepage","primaryDashboardModalLogic"],connect:{logic:[O.e],actions:[d.a,["updateCurrentTeam"]],values:[d.a,["currentTeam"]]},actions:{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!0},setPrimaryDashboard:function(p){return{dashboardId:p}}},selectors:{primaryDashboardId:[function(a){return[a.currentTeam]},function(a){return a==null?void 0:a.primary_dashboard}]},reducers:{isOpen:[!1,{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!1}}]},listeners:function(p){var A=p.actions;return{setPrimaryDashboard:function(){var m=u()(o.a.mark(function j(S){var R;return o.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:R=S.dashboardId,A.updateCurrentTeam({primary_dashboard:R}),O.e.actions.reportPrimaryDashboardChanged();case 3:case"end":return v.stop()}},j)}));function P(j){return m.apply(this,arguments)}return P}(),showPrimaryDashboardModal:function(){var m=u()(o.a.mark(function j(){return o.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:O.e.actions.reportPrimaryDashboardModalOpened();case 1:case"end":return R.stop()}},j)}));function P(){return m.apply(this,arguments)}return P}()}}}),T=e("./frontend/src/lib/components/icons.tsx"),W=e("./frontend/src/lib/components/LemonRow/index.ts"),Y=e("./frontend/src/lib/components/LemonModal/index.ts"),V=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),s=e("./node_modules/react/jsx-runtime.js");function w(){var a=Object(c.useValues)(r),p=a.isOpen,A=a.primaryDashboardId,m=Object(c.useActions)(r),P=m.closePrimaryDashboardModal,j=m.setPrimaryDashboard,S=Object(c.useValues)(t.a),R=S.nameSortedDashboards,F=S.dashboardsLoading;return Object(s.jsx)(Y.a,{isOpen:p,onClose:P,title:"Select a default dashboard for the project",footer:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(_.a,{type:"secondary","data-attr":"close-primary-dashboard-modal",onClick:P,children:"Close"})}),children:F?Object(s.jsx)("div",{className:"space-y-2",children:Object(s.jsx)(V.a.Row,{repeat:4})}):Object(s.jsx)("div",{className:"space-y-2",children:R.map(function(v){var H=v.id===A,z=Object(s.jsxs)("div",{className:"flex flex-1 items-center justify-between overflow-hidden",children:[Object(s.jsxs)("div",{className:"flex-1 flex flex-col justify-center overflow-hidden",children:[Object(s.jsx)("strong",{children:v.name}),Object(s.jsx)("span",{className:"text-default font-normal text-ellipsis",children:v.description})]}),H?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(T.IconCottage,{className:"mr-2 text-warning text-lg"}),Object(s.jsx)("span",{children:"Default"})]}):Object(s.jsx)("strong",{className:"set-default-text",children:"Set as default"})]});return H?Object(s.jsx)(W.a,{fullWidth:!0,status:"muted",className:"dashboard-row",children:z},v.id):Object(s.jsx)(_.a,{fullWidth:!0,className:"dashboard-row",onClick:function(){j(v.id),P()},children:z},v.id)})})})}var G=e("./frontend/src/scenes/project-homepage/projectHomepageLogic.tsx"),k=e("./frontend/src/scenes/project-homepage/RecentRecordings.tsx"),q=e("./frontend/src/scenes/project-homepage/RecentInsights.tsx"),ue=e("./node_modules/core-js/modules/es.array.slice.js"),ee=e("./frontend/src/lib/dayjs.ts"),se=e("./frontend/src/lib/components/CompactList/CompactList.tsx"),$=e("./frontend/src/scenes/urls.ts"),te=e("./frontend/src/lib/components/ProfilePicture/index.ts"),J=e("./frontend/src/scenes/persons/PersonHeader.tsx"),oe=e("./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx");function ne(a){var p=a.person,A=Object(c.useActions)(O.e),m=A.reportPersonOpenedFromNewlySeenPersonsList;return Object(s.jsx)(oe.a,{to:$.a.person(p.distinct_ids[0]),title:Object(J.b)(p),subtitle:"First seen ".concat(Object(ee.a)(p.created_at).fromNow()),prefix:Object(s.jsx)(te.b,{name:Object(J.b)(p)}),onClick:function(){m()}})}function re(){var a=Object(c.useValues)(G.a),p=a.persons,A=a.personsLoading;return Object(s.jsx)(se.a,{title:"Newly seen persons",viewAllURL:$.a.persons(),loading:A,emptyMessage:{title:"There are no newly seen persons",description:"Learn more about identifying persons and ingesting data in the documentation.",buttonText:"Documentation",buttonTo:"https://posthog.com/docs/integrate/identifying-users"},items:p.slice(0,5),renderRow:function(P,j){return Object(s.jsx)(ne,{person:P},j)}})}var ae=e("./node_modules/@react-hook/size/dist/module/index.js"),ce=e("./frontend/src/scenes/saved-insights/SavedInsights.tsx"),ie=e("./frontend/@posthog/lemon-ui/src/index.ts"),de=e("./frontend/src/scenes/dashboard/dashboardLogic.tsx");function Q(){var a=Object(c.useValues)(G.a),p=a.dashboardLogicProps,A=Object(c.useValues)(d.a),m=A.currentTeam,P=Object(c.useValues)(Object(de.c)(p)),j=P.allItems,S=Object(c.useActions)(L.a),R=S.showInviteModal,F=Object(c.useActions)(r),v=F.showPrimaryDashboardModal,H=Object(b.useRef)(null),z=Object(ae.a)(H),X=M()(z,1),Z=X[0],me=Object(s.jsxs)("div",{className:"flex",children:[Object(s.jsx)(_.a,{"data-attr":"project-home-invite-team-members",onClick:function(){R()},className:"mr-2",type:"secondary",children:"Invite members"}),Object(s.jsx)(ce.NewInsightButton,{dataAttr:"project-home-new-insight"})]});return Object(s.jsxs)("div",{className:"project-homepage",children:[Object(s.jsx)(x.a,{title:(m==null?void 0:m.name)||"",delimited:!0,buttons:me}),Object(s.jsxs)("div",{ref:H,className:Z&&Z<600?"top-list-container-vertical":"top-list-container-horizontal",children:[Object(s.jsx)("div",{className:"top-list",children:Object(s.jsx)(q.b,{})}),Object(s.jsx)("div",{className:"spacer"}),Object(s.jsx)("div",{className:"top-list",children:Object(s.jsx)(re,{})}),Object(s.jsx)("div",{className:"spacer"}),Object(s.jsx)("div",{className:"top-list",children:Object(s.jsx)(k.a,{})})]}),m!=null&&m.primary_dashboard?Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"homepage-dashboard-header",children:[Object(s.jsxs)("div",{className:"dashboard-title-container",children:[!j&&Object(s.jsx)(V.a,{className:"w-20"}),(j==null?void 0:j.name)&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(T.IconCottage,{className:"mr-2 text-warning text-2xl"}),Object(s.jsx)(ie.Link,{className:"font-semibold text-xl text-default",to:$.a.dashboard(j.id),children:j==null?void 0:j.name})]})]}),Object(s.jsx)(_.a,{type:"secondary","data-attr":"project-home-new-insight",onClick:v,children:"Change dashboard"})]}),Object(s.jsx)(U.a,{className:"my-6"}),Object(s.jsx)(C.Dashboard,{id:m.primary_dashboard.toString(),placement:y.n.ProjectHomepage})]}):Object(s.jsxs)("div",{className:"empty-state-container",children:[Object(s.jsx)(T.IconCottage,{className:"mb-2 text-warning",style:{fontSize:"2rem"}}),Object(s.jsx)("h1",{children:"There isn\u2019t a default dashboard set for this project"}),Object(s.jsx)("p",{className:"mb-4",children:"Default dashboards are shown to everyone in the project. When you set a default, it\u2019ll show up here."}),Object(s.jsx)(_.a,{type:"primary","data-attr":"project-home-new-insight",onClick:function(){v()},children:"Select a default dashboard"})]}),Object(s.jsx)(w,{})]})}var le={component:Q,logic:G.a}},"./frontend/src/scenes/project-homepage/RecentInsights.tsx":function(B,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return _});var f=e("./node_modules/core-js/modules/es.function.name.js"),M=e.n(f),I=e("./node_modules/core-js/modules/es.array.slice.js"),n=e.n(I),E=e("./node_modules/react/index.js"),b=e.n(E),g=e("./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),x=e("./node_modules/kea/lib/index.esm.js"),C=e("./frontend/src/lib/dayjs.ts"),c=e("./frontend/src/lib/components/CompactList/CompactList.tsx"),d=e("./frontend/src/scenes/urls.ts"),y=e("./frontend/src/scenes/saved-insights/SavedInsights.tsx"),L=e("./frontend/src/scenes/project-homepage/projectHomepageLogic.tsx"),U=e("./frontend/src/lib/utils/eventUsageLogic.ts"),K=e("./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx"),D=e("./node_modules/react/jsx-runtime.js"),N=e.n(D);function t(l){var u=l.insight,h=Object(x.useActions)(U.e),o=h.reportInsightOpenedFromRecentInsightList;return Object(D.jsx)(K.a,{title:u.name||u.derived_name||"Insight",subtitle:"Last modified ".concat(Object(C.a)(u.last_modified_at).fromNow()),prefix:Object(D.jsx)(y.InsightIcon,{insight:u}),to:d.a.insightView(u.short_id),onClick:function(){o()}})}function _(){var l=Object(x.useValues)(L.a),u=l.recentInsights,h=l.recentInsightsLoading,o=Object(x.useActions)(L.a),O=o.loadRecentInsights;return Object(E.useEffect)(function(){O()},[]),Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(c.a,{title:"Your recently viewed insights",viewAllURL:d.a.savedInsights(),loading:h,emptyMessage:{title:"You have no recently viewed insights",description:"Explore this project's insights by clicking below.",buttonText:"View insights",buttonTo:d.a.savedInsights()},items:u.slice(0,5),renderRow:function(T,W){return Object(D.jsx)(t,{insight:T},W)}})})}try{t.displayName="InsightRow",t.__docgenInfo={description:"",displayName:"InsightRow",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"InsightModel"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project-homepage/RecentInsights.tsx#InsightRow"]={docgenInfo:t.__docgenInfo,name:"InsightRow",path:"frontend/src/scenes/project-homepage/RecentInsights.tsx#InsightRow"})}catch(l){}},"./frontend/src/scenes/project-homepage/RecentRecordings.tsx":function(B,i,e){"use strict";e.d(i,"b",function(){return l}),e.d(i,"a",function(){return u});var f=e("./node_modules/core-js/modules/es.array.slice.js"),M=e.n(f),I=e("./frontend/src/lib/dayjs.ts"),n=e("./node_modules/kea/lib/index.esm.js"),E=e("./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),b=e("./frontend/src/lib/components/CompactList/CompactList.tsx"),g=e("./frontend/src/lib/components/ProfilePicture/index.ts"),x=e("./frontend/src/scenes/persons/PersonHeader.tsx"),C=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),c=e("./frontend/src/scenes/urls.ts"),d=e("./frontend/src/lib/utils/eventUsageLogic.ts"),y=e("./frontend/src/lib/utils.tsx"),L=e("./frontend/src/lib/components/icons.tsx"),U=e("./frontend/src/scenes/session-recordings/player/modal/SessionPlayerModal.tsx"),K=e("./frontend/src/scenes/teamLogic.tsx"),D=e("./frontend/src/scenes/session-recordings/player/modal/sessionPlayerModalLogic.ts"),N=e("./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx"),t=e("./node_modules/react/jsx-runtime.js"),_=e.n(t);function l(h){var o=h.recording,O=Object(n.useActions)(D.a),r=O.openSessionPlayer,T=Object(n.useActions)(d.e),W=T.reportRecordingOpenedFromRecentRecordingList;return Object(t.jsx)(N.a,{title:Object(x.b)(o.person),subtitle:"Recorded ".concat(Object(I.a)(o.start_time).fromNow()),prefix:Object(t.jsx)(g.b,{name:Object(x.b)(o.person)}),suffix:Object(t.jsxs)("div",{className:"flex items-center justify-end text-default",children:[Object(t.jsx)("span",{children:Object(y.P)(o.recording_duration)}),Object(t.jsx)(L.IconPlayCircle,{className:"text-2xl ml-2"})]}),onClick:function(){r({id:o.id,matching_events:o.matching_events}),W()}})}function u(){var h=Object(n.useValues)(K.a),o=h.currentTeam,O=Object(C.d)({key:"projectHomepage"}),r=Object(n.useValues)(O),T=r.sessionRecordings,W=r.sessionRecordingsResponseLoading;return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(U.a,{}),Object(t.jsx)(b.a,{title:"Recent recordings",viewAllURL:c.a.sessionRecordings(),loading:W,emptyMessage:o!=null&&o.session_recording_opt_in?{title:"There are no recordings for this project",description:"Make sure you have the javascript snippet setup in your website.",buttonText:"Learn more",buttonTo:"https://posthog.com/docs/user-guides/recordings"}:{title:"Recordings are not enabled for this project",description:"Once recordings are enabled, new recordings will display here.",buttonText:"Enable recordings",buttonTo:c.a.projectSettings()+"#recordings"},items:T.slice(0,5),renderRow:function(V,s){return Object(t.jsx)(l,{recording:V},s)}})]})}try{l.displayName="RecordingRow",l.__docgenInfo={description:"",displayName:"RecordingRow",props:{recording:{defaultValue:null,description:"",name:"recording",required:!0,type:{name:"SessionRecordingType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project-homepage/RecentRecordings.tsx#RecordingRow"]={docgenInfo:l.__docgenInfo,name:"RecordingRow",path:"frontend/src/scenes/project-homepage/RecentRecordings.tsx#RecordingRow"})}catch(h){}},"./frontend/src/scenes/project-homepage/projectHomepageLogic.tsx":function(B,i,e){"use strict";e.d(i,"a",function(){return N});var f=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),M=e.n(f),I=e("./node_modules/@babel/runtime/regenerator/index.js"),n=e.n(I),E=e("./node_modules/core-js/modules/es.array.iterator.js"),b=e.n(E),g=e("./node_modules/core-js/modules/es.object.to-string.js"),x=e.n(g),C=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),c=e.n(C),d=e("./node_modules/kea/lib/index.esm.js"),y=e("./frontend/src/scenes/teamLogic.tsx"),L=e("./frontend/src/types.ts"),U=e("./frontend/src/lib/api.ts"),K=e("./node_modules/kea-loaders/lib/index.js"),D=e.n(K),N=Object(d.kea)([Object(d.path)(["scenes","project-homepage","projectHomepageLogic"]),Object(d.connect)({values:[y.a,["currentTeamId","currentTeam"]]}),Object(d.selectors)({primaryDashboardId:[function(){return[y.a.selectors.currentTeam]},function(t){return t==null?void 0:t.primary_dashboard}],dashboardLogicProps:[function(t){return[t.primaryDashboardId]},function(t){return{id:t!=null?t:void 0,placement:L.n.ProjectHomepage}}]}),Object(K.loaders)(function(t){var _=t.values;return{recentInsights:[[],{loadRecentInsights:function(){var l=M()(n.a.mark(function h(){var o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,U.b.get("api/projects/".concat(_.currentTeamId,"/insights/?my_last_viewed=true&order=-my_last_viewed_at"));case 2:return o=r.sent,r.abrupt("return",o.results);case 4:case"end":return r.stop()}},h)}));function u(){return l.apply(this,arguments)}return u}()}],persons:[[],{loadPersons:function(){var l=M()(n.a.mark(function h(){var o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,U.b.persons.list();case 2:return o=r.sent,r.abrupt("return",o.results);case 4:case"end":return r.stop()}},h)}));function u(){return l.apply(this,arguments)}return u}()}]}}),Object(d.afterMount)(function(t){var _=t.actions;_.loadRecentInsights(),_.loadPersons()})])},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(B,i,e){var f=e("./node_modules/css-loader/dist/runtime/api.js");i=f(!1),i.push([B.i,".project-homepage .homepage-dashboard-header{display:flex;justify-content:space-between;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container{display:flex;flex-direction:row;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container .ant-skeleton{width:300px}.project-homepage .homepage-dashboard-header .dashboard-title-container .ant-skeleton h3{margin:0}.project-homepage .top-list-container-horizontal{display:flex}.project-homepage .top-list-container-horizontal .top-list{margin-bottom:1.5rem;width:33%}.project-homepage .top-list-container-horizontal .spacer{width:1rem}.project-homepage .top-list-container-vertical{margin-bottom:1.5rem}.project-homepage .top-list-container-vertical .spacer{height:1rem}.project-homepage .empty-state-container{background-color:var(--side);width:100%;justify-content:center;align-items:center;padding:4rem;display:flex;flex-direction:column}",""]),B.exports=i}}]);
