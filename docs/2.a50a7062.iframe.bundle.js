(window.webpackJsonp=window.webpackJsonp||[]).push([[2,9],{"./frontend/src/scenes/apps/AppMetricsScene.tsx":function(U,d,e){"use strict";e.r(d),e.d(d,"scene",function(){return g}),e.d(d,"AppMetrics",function(){return u});var f=e("./node_modules/core-js/modules/es.function.name.js"),h=e.n(f),E=e("./node_modules/antd/es/tabs/index.js"),r=e("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),x=e("./frontend/src/lib/components/PageHeader.tsx"),L=e("./node_modules/kea/lib/index.esm.js"),M=e("./frontend/src/scenes/apps/MetricsTab.tsx"),A=e("./frontend/src/scenes/apps/HistoricalExportsTab.tsx"),P=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),b=e("./frontend/src/scenes/apps/ErrorDetailsDrawer.tsx"),s=e("./node_modules/react/jsx-runtime.js"),K=e.n(s),g={component:u,logic:r.appMetricsSceneLogic,paramsToProps:function(O){var i,m=O.params.pluginConfigId;return{pluginConfigId:(i=parseInt(m))!==null&&i!==void 0?i:0}}};function u(){var j=Object(L.useValues)(r.appMetricsSceneLogic),O=j.activeTab,i=j.pluginConfig,m=j.pluginConfigLoading,l=j.showTab,v=Object(L.useActions)(r.appMetricsSceneLogic),p=v.setActiveTab;return Object(s.jsxs)("div",{children:[Object(s.jsx)(x.a,{title:i?i.plugin_info.name:Object(s.jsx)(P.a,{}),caption:"An overview of metrics and export for this app."}),m||!O?Object(s.jsx)(P.a,{}):Object(s.jsxs)(E.a,{tabPosition:"top",animated:!1,activeKey:O,onTabClick:function(T){return p(T)},children:[l(r.AppMetricsTab.ProcessEvent)&&Object(s.jsx)(E.a.TabPane,{tab:"processEvent metrics",children:Object(s.jsx)(M.MetricsTab,{tab:r.AppMetricsTab.ProcessEvent})},r.AppMetricsTab.ProcessEvent),l(r.AppMetricsTab.OnEvent)&&Object(s.jsx)(E.a.TabPane,{tab:"onEvent metrics",children:Object(s.jsx)(M.MetricsTab,{tab:r.AppMetricsTab.OnEvent})},r.AppMetricsTab.OnEvent),l(r.AppMetricsTab.ExportEvents)&&Object(s.jsx)(E.a.TabPane,{tab:"exportEvents metrics",children:Object(s.jsx)(M.MetricsTab,{tab:r.AppMetricsTab.ExportEvents})},r.AppMetricsTab.ExportEvents),l(r.AppMetricsTab.HistoricalExports)&&Object(s.jsx)(E.a.TabPane,{tab:"Historical Exports",children:Object(s.jsx)(A.HistoricalExportsTab,{})},r.AppMetricsTab.HistoricalExports)]}),Object(s.jsx)(b.ErrorDetailsDrawer,{})]})}},"./frontend/src/scenes/apps/ErrorDetailsDrawer.tsx":function(U,d,e){"use strict";e.r(d),e.d(d,"ErrorDetailsDrawer",function(){return V});var f=e("./node_modules/core-js/modules/es.object.keys.js"),h=e.n(f),E=e("./node_modules/core-js/modules/es.symbol.js"),r=e.n(E),x=e("./node_modules/core-js/modules/es.array.filter.js"),L=e.n(x),M=e("./node_modules/core-js/modules/es.object.to-string.js"),A=e.n(M),P=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),b=e.n(P),s=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),K=e.n(s),g=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),u=e.n(g),j=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),O=e.n(j),i=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=e.n(i),l=e("./node_modules/react/index.js"),v=e.n(l),p=e("./node_modules/kea/lib/index.esm.js"),D=e("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),T=e("./frontend/src/lib/components/Drawer.tsx"),S=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),H=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),W=e("./frontend/src/lib/components/PaginationControl/index.tsx"),C=e("./node_modules/antd/es/tabs/index.js"),R=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx"),I=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),t=e("./node_modules/react/jsx-runtime.js"),J=e.n(t);function B(a,_){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);_&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,c)}return n}function y(a){for(var _=1;_<arguments.length;_++){var n=arguments[_]!=null?arguments[_]:{};_%2?B(Object(n),!0).forEach(function(c){O()(a,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(n,c))})}return a}function V(){var a=Object(p.useValues)(D.appMetricsSceneLogic),_=a.errorDetailsDrawerError,n=a.errorDetailsLoading,c=Object(p.useActions)(D.appMetricsSceneLogic),o=c.closeErrorDetailsDrawer;return Object(t.jsx)(T.a,{visible:!!_,onClose:o,title:"Viewing error details: ".concat(_),width:"min(50vw, 80rem)",destroyOnClose:!0,children:n?Object(t.jsx)(S.a,{className:"h-10"}):Object(t.jsx)(N,{})})}function N(){var a=Object(p.useValues)(D.appMetricsSceneLogic),_=a.errorDetails,n=Object(W.c)(_,{pageSize:1}),c=m()(n.dataSourcePage,1),o=c[0];return Object(t.jsxs)("div",{children:[Object(t.jsx)(W.a,y(y({},n),{},{nouns:["sample error","sample errors"]})),Object(t.jsxs)(C.a,{children:[Object(t.jsxs)(C.a.TabPane,{tab:"Overview",children:[Object(t.jsxs)("div",{children:[Object(t.jsx)(R.a,{children:"Error:"})," ",o.error_type]}),o.error_details.error.message&&Object(t.jsxs)("div",{children:[Object(t.jsx)(R.a,{children:"Error message:"})," ",o.error_details.error.message]}),Object(t.jsxs)("div",{children:[Object(t.jsx)(R.a,{children:"When:"})," ",Object(t.jsx)(H.b,{time:o.timestamp,showSeconds:!0})]}),o.error_details.eventCount&&Object(t.jsxs)("div",{children:[Object(t.jsx)(R.a,{children:"Event count:"})," ",o.error_details.eventCount]})]},"overview"),o.error_details.event&&Object(t.jsx)(C.a.TabPane,{tab:"Event",children:Object(t.jsx)(I.a,{language:I.b.JSON,children:JSON.stringify(o.error_details.event,null,2)})},"event"),o.error_details.error.stack&&Object(t.jsx)(C.a.TabPane,{tab:"Stack trace",children:Object(t.jsx)(I.a,{wrap:!0,language:I.b.JavaScript,children:o.error_details.error.stack})},"stacktrace")]})]})}},"./frontend/src/scenes/apps/HistoricalExportsTab.tsx":function(U,d,e){"use strict";e.r(d),e.d(d,"HistoricalExportsTab",function(){return g});var f=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),h=e.n(f),E=e("./node_modules/core-js/modules/es.array.concat.js"),r=e.n(E),x=e("./node_modules/kea/lib/index.esm.js"),L=e("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),M=e("./frontend/src/lib/components/LemonTable/index.ts"),A=e("./frontend/src/scenes/apps/HistoricalExport.tsx"),P=e("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),b=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),s=e("./node_modules/react/jsx-runtime.js"),K=e.n(s);function g(){var u=Object(x.useValues)(L.appMetricsSceneLogic),j=u.historicalExports,O=u.historicalExportsLoading,i=u.pluginConfig;return Object(s.jsx)(M.a,{dataSource:j,loading:O,columns:[{title:"Dates exported",render:function(l,v){var p=h()(v.payload.dateRange,2),D=p[0],T=p[1];return D===T?D:"".concat(D," - ").concat(T)}},{title:"Status",width:100,render:function(l,v){switch(v.status){case"success":return Object(s.jsx)(b.a,{type:"success",className:"uppercase",children:"Success"});case"fail":return Object(s.jsx)(b.a,{type:"danger",className:"uppercase",children:"Failed"});case"not_finished":return Object(s.jsx)(b.a,{type:"default",className:"uppercase",children:"Running"})}},align:"right"},Object(P.b)(),Object(P.a)()],expandable:{expandedRowRender:function(l){if(!!i)return Object(s.jsx)(A.HistoricalExport,{pluginConfigId:i.id,jobId:l.job_id})}},useURLForSorting:!1,noSortingCancellation:!0})}}}]);
