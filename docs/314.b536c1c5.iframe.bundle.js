(window.webpackJsonp=window.webpackJsonp||[]).push([[314],{"./frontend/src/scenes/notebooks/NotebookScene.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"NotebookScene",(function(){return NotebookScene}));var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),notebookLogic=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/notebookLogic.ts"),Notebook=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/Notebook.tsx"),NotFound=__webpack_require__("./frontend/src/lib/components/NotFound/index.tsx"),types=__webpack_require__("./frontend/src/types.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts");const notebookSceneLogic=Object(index_esm.kea)([Object(index_esm.path)(["scenes","notebooks","notebookSceneLogic"]),Object(index_esm.path)((key=>["scenes","notebooks","notebookSceneLogic",key])),Object(index_esm.props)({}),Object(index_esm.key)((_ref=>{let{id:id}=_ref;return id})),Object(index_esm.connect)((props=>({values:[Object(notebookLogic.a)(props),["notebook","notebookLoading"]]}))),Object(index_esm.actions)({setNotebookMode:mode=>({mode:mode})}),Object(index_esm.reducers)({mode:[types.J.View,{setNotebookMode:(_,_ref2)=>{let{mode:mode}=_ref2;return mode}}]}),Object(index_esm.selectors)((()=>({notebookId:[()=>[(_,props)=>props],props=>props.id],breadcrumbs:[s=>[s.notebook,s.notebookLoading],(notebook,notebookLoading)=>[{name:"Notebooks",path:urls.a.dashboards()+"?tab=notebooks"},{name:notebook?(null==notebook?void 0:notebook.title)||"Unnamed":notebookLoading?"Loading...":"Notebook not found"}]]}))),Object(lib.urlToAction)((_ref3=>{let{props:props,actions:actions,values:values}=_ref3;return{[`/notebooks/${props.id}(/:mode)`]:_ref4=>{let{mode:mode}=_ref4;const newMode="edit"===mode?types.J.Edit:types.J.View;newMode!==values.mode&&actions.setNotebookMode(newMode)}}})),Object(lib.actionToUrl)((_ref5=>{let{values:values,props:props}=_ref5;return{setNotebookMode:()=>values.mode===types.J.View?urls.a.notebook(props.id):urls.a.notebookEdit(props.id)}}))]);var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),notebookSidebarLogic=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/notebookSidebarLogic.ts"),NotebookMeta=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/NotebookMeta.tsx"),UserActivityIndicator=__webpack_require__("./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const scene={component:NotebookScene,logic:notebookSceneLogic,paramsToProps:_ref=>{let{params:{id:id}}=_ref;return{id:id||"missing"}}};function NotebookScene(){const{notebookId:notebookId,mode:mode}=Object(index_esm.useValues)(notebookSceneLogic),{setNotebookMode:setNotebookMode}=Object(index_esm.useActions)(notebookSceneLogic),{notebook:notebook,notebookLoading:notebookLoading}=Object(index_esm.useValues)(Object(notebookLogic.a)({id:notebookId})),{selectNotebook:selectNotebook,setNotebookSideBarShown:setNotebookSideBarShown}=Object(index_esm.useActions)(notebookSidebarLogic.a);return notebook||notebookLoading?Object(jsx_runtime.jsxs)("div",{className:"NotebookScene mt-4",children:[Object(jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[Object(jsx_runtime.jsx)("div",{className:"flex gap-2 items-center",children:Object(jsx_runtime.jsx)(UserActivityIndicator.a,{at:null==notebook?void 0:notebook.last_modified_at,by:null==notebook?void 0:notebook.last_modified_by})}),Object(jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[Object(jsx_runtime.jsx)(NotebookMeta.a,{id:notebookId}),Object(jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:()=>{selectNotebook(notebookId),setNotebookSideBarShown(!0),lib.router.actions.push(urls.a.notebooks())},tooltip:Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Pins the notebook to the right, allowing you to view it while navigating the rest of PostHog. This is great for dragging and dropping elements like Insights, Recordings or even Feature Flags into your active Notebook."}),children:"Pin to side"}),mode===types.J.Edit?Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(src.LemonButton,{type:"primary",onClick:()=>setNotebookMode(types.J.View),children:"Done"})}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(src.LemonButton,{type:"primary",onClick:()=>setNotebookMode(types.J.Edit),children:"Edit"})})]})]}),Object(jsx_runtime.jsx)(src.LemonDivider,{}),Object(jsx_runtime.jsx)(Notebook.a,{id:notebookId,editable:mode===types.J.Edit},notebookId)]}):Object(jsx_runtime.jsx)(NotFound.a,{object:"notebook"})}}}]);