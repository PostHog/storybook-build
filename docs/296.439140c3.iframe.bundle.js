(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{"./frontend/src/scenes/session-recordings/SessionRecordings.tsx":function(D,y,s){"use strict";s.r(y),s.d(y,"SessionsRecordings",function(){return Y}),s.d(y,"scene",function(){return le});var g=s("./node_modules/core-js/modules/es.array.map.js"),v=s("./node_modules/core-js/modules/es.object.values.js"),h=s("./frontend/src/lib/components/PageHeader.tsx"),O=s("./frontend/src/scenes/teamLogic.tsx"),c=s("./node_modules/kea/lib/index.esm.js"),p=s("./frontend/src/scenes/urls.ts"),T=s("./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx"),E=s("./frontend/src/lib/components/AlertMessage/index.ts"),o=s("./frontend/@posthog/lemon-ui/src/index.ts"),b=s("./node_modules/antd/es/tabs/index.js"),x=s("./frontend/src/types.ts"),pe=s("./node_modules/core-js/modules/es.object.keys.js"),ye=s("./node_modules/core-js/modules/es.array.filter.js"),ge=s("./node_modules/core-js/modules/es.object.to-string.js"),ve=s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),be=s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),fe=s("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Z=s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),w=s.n(Z),G=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),Q=s.n(G),he=s("./node_modules/core-js/modules/es.symbol.js"),Oe=s("./node_modules/core-js/modules/es.symbol.description.js"),xe=s("./node_modules/core-js/modules/es.regexp.exec.js"),Se=s("./node_modules/core-js/modules/es.string.search.js"),Pe=s("./node_modules/core-js/modules/es.array.concat.js"),X=s("./node_modules/react/index.js"),R=s("./frontend/src/scenes/session-recordings/saved-playlists/savedSessionRecordingPlaylistsLogic.ts"),V=s("./node_modules/@ant-design/icons/es/icons/PushpinFilled.js"),K=s("./node_modules/@ant-design/icons/es/icons/PushpinOutlined.js"),$=s("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),k=s("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),q=s("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),_=s("./frontend/src/scenes/organization/Settings/membersLogic.tsx"),ee=s("./frontend/@posthog/apps-common/src/index.ts"),se=s("./frontend/src/lib/components/LemonButton/index.ts"),I=s("./frontend/src/lib/components/icons.tsx"),e=s("./node_modules/react/jsx-runtime.js");function L(l){var a=l.tab,i=Object(c.useValues)(Object(R.b)({tab:a})),n=i.newPlaylistLoading,j=Object(c.useActions)(Object(R.b)({tab:a})),f=j.createSavedPlaylist;return Object(e.jsx)("div",{className:"flex items-center justify-center",children:Object(e.jsxs)("div",{className:"max-w-lg mt-12 flex flex-col items-center",children:[Object(e.jsx)("h2",{className:"text-xl",children:"There are no playlists that match these filters"}),Object(e.jsx)("p",{className:"text-muted",children:"Once you create a playlist, it will show up here."}),Object(e.jsx)(se.a,{size:"large",type:"primary","data-attr":"add-session-playlist-button-empty-state",icon:Object(e.jsx)(I.IconPlus,{}),loading:n,onClick:function(){f({},!0)},children:"New Playlist"})]})})}try{L.displayName="SavedSessionRecordingPlaylistsEmptyState",L.__docgenInfo={description:"",displayName:"SavedSessionRecordingPlaylistsEmptyState",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"recent"'},{value:'"playlists"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylistsEmptyState.tsx#SavedSessionRecordingPlaylistsEmptyState"]={docgenInfo:L.__docgenInfo,name:"SavedSessionRecordingPlaylistsEmptyState",path:"frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylistsEmptyState.tsx#SavedSessionRecordingPlaylistsEmptyState"})}catch(l){}var ne=s("./node_modules/clsx/dist/clsx.m.js"),te=s("./frontend/src/lib/components/LemonButton/More.tsx");function M(l,a){var i=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);a&&(n=n.filter(function(j){return Object.getOwnPropertyDescriptor(l,j).enumerable})),i.push.apply(i,n)}return i}function z(l){for(var a=1;a<arguments.length;a++){var i=arguments[a]!=null?arguments[a]:{};a%2?M(Object(i),!0).forEach(function(n){Q()(l,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(i,n))})}return l}function C(l){var a=l.tab,i=Object(R.b)({tab:a}),n=Object(c.useValues)(i),j=n.playlists,f=n.playlistsLoading,u=n.filters,A=n.sorting,m=n.pagination,B=n.newPlaylistLoading,F=Object(c.useActions)(i),S=F.setSavedPlaylistsFilters,re=F.updateSavedPlaylist,ce=F.duplicateSavedPlaylist,de=F.deleteSavedPlaylistWithUndo,ue=Object(c.useValues)(_.a),me=ue.meFirstMembers,je=[{width:0,dataIndex:"pinned",render:function(t,d){var P=d.short_id;return Object(e.jsx)(o.LemonButton,{size:"small",status:"primary-alt",onClick:function(){return re({short_id:P,pinned:!t})},children:t?Object(e.jsx)(V.a,{}):Object(e.jsx)(K.a,{})})}},{title:"Name",dataIndex:"name",render:function(t,d){var P=d.short_id,H=d.derived_name,J=d.description;return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(o.Link,{className:Object(ne.a)("font-semibold",!t&&"italic"),to:p.a.sessionRecordingPlaylist(P),children:t||H||"(Untitled)"}),J?Object(e.jsx)("div",{className:"truncate",children:J}):null]})}},{title:"Type",dataIndex:"is_static",width:0,sorter:!0,render:function(t){return Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(o.LemonTag,{type:"success",className:"uppercase",children:t?"static":"dynamic"})})}},z(z({},Object(k.b)()),{},{width:0}),{title:"Last modified",sorter:!0,dataIndex:"last_modified_at",width:0,render:function(t){return Object(e.jsx)("div",{children:t&&typeof t=="string"&&Object(e.jsx)(ee.TZLabel,{time:t})})}},{width:0,render:function(t,d){return Object(e.jsx)(te.a,{overlay:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(o.LemonButton,{status:"stealth",onClick:function(){return ce(d,!0)},fullWidth:!0,loading:B,"data-attr":"duplicate-playlist",children:"Duplicate"}),Object(e.jsx)(o.LemonDivider,{}),Object(e.jsx)(o.LemonButton,{status:"danger",onClick:function(){return de(d)},fullWidth:!0,children:"Delete playlist"})]})})}}];return Object(e.jsxs)("div",{className:"space-y-4",children:[Object(e.jsxs)("div",{className:"flex justify-between gap-2 mb-2 items-center flex-wrap",children:[Object(e.jsx)(o.LemonInput,{type:"search",placeholder:"Search for playlists",onChange:function(t){return S({search:t||void 0})},value:u.search||""}),Object(e.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[Object(e.jsx)("div",{className:"flex items-center gap-2",children:Object(e.jsx)(o.LemonButton,{"data-attr":"session-recording-playlist-pinned-filter",active:u.pinned,size:"small",type:"secondary",status:"stealth",center:!0,onClick:function(){return S({pinned:!u.pinned})},icon:Object(X.cloneElement)(u.pinned?Object(e.jsx)(V.a,{}):Object(e.jsx)(K.a,{}),{className:"text-base flex items-center"}),children:"Pinned"})}),Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)("span",{children:"Last modified:"}),Object(e.jsx)(q.a,{disabled:!1,dateFrom:u.dateFrom,dateTo:u.dateTo,onChange:function(t,d){return S({dateFrom:t,dateTo:d!=null?d:void 0})},makeLabel:function(t){return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)($.a,{}),Object(e.jsxs)("span",{className:"hide-when-small",children:[" ",t]})]})}})]}),Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)("span",{children:"Created by:"}),Object(e.jsx)(o.LemonSelect,{size:"small",options:[{value:"All users",label:"All Users"}].concat(w()(me.map(function(r){return{value:r.user.id,label:r.user.first_name}}))),value:u.createdBy,onChange:function(t){S({createdBy:t})},dropdownMatchSelectWidth:!1})]})]})]}),!f&&j.count<1?Object(e.jsx)(L,{tab:a}):Object(e.jsx)(o.LemonTable,{loading:f,columns:je,dataSource:j.results,pagination:m,noSortingCancellation:!0,sorting:A,onSort:function(t){return S({order:t?"".concat(t.order===-1?"-":"").concat(t.columnKey):void 0})},rowKey:"id",loadingSkeletonRows:R.a,nouns:["playlist","playlists"]})]})}try{C.displayName="SavedSessionRecordingPlaylists",C.__docgenInfo={description:"",displayName:"SavedSessionRecordingPlaylists",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"SessionRecordingsTabs.Playlists"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylists.tsx#SavedSessionRecordingPlaylists"]={docgenInfo:C.__docgenInfo,name:"SavedSessionRecordingPlaylists",path:"frontend/src/scenes/session-recordings/saved-playlists/SavedSessionRecordingPlaylists.tsx#SavedSessionRecordingPlaylists"})}catch(l){}var oe=s("./frontend/src/lib/components/Tooltip.tsx"),N=s("./frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts"),ae=s("./frontend/src/lib/components/Spinner/Spinner.tsx"),ie=s("./node_modules/kea-router/lib/index.js"),W=s("./frontend/src/scenes/session-recordings/settings/SessionRecordingSettings.tsx"),U=s("./frontend/src/scenes/session-recordings/player/new-playlist/PlayerNewPlaylist.tsx");function Y(){var l=Object(c.useValues)(O.a),a=l.currentTeam,i=Object(c.useValues)(N.c),n=i.tab,j=i.newPlaylistLoading,f=Object(c.useActions)(N.c),u=f.saveNewPlaylist,A=a&&!(a!=null&&a.session_recording_opt_in);return Object(e.jsxs)("div",{children:[Object(e.jsx)(h.a,{title:Object(e.jsx)("div",{children:"Session Recordings"}),buttons:Object(e.jsxs)(e.Fragment,{children:[!A&&Object(e.jsx)(o.LemonButton,{type:"secondary",icon:Object(e.jsx)(I.IconSettings,{}),onClick:function(){return Object(W.b)()},children:"Configure"}),Object(e.jsx)(oe.a,{placement:"topRight",title:n===x.ab.Recent?"Save the currently filters as a dynamic playlist":"Create a new playlist",children:n===x.ab.Recent?Object(e.jsx)(o.LemonButtonWithSideAction,{type:"primary",onClick:function(){u()},loading:j,"data-attr":"save-recordings-playlist-button",sideAction:{popup:{placement:"bottom-end",className:"save-recordings-playlist-overlay",actionable:!0,overlay:Object(e.jsx)(o.LemonButton,{status:"stealth",onClick:function(){Object(U.a)({sessionRecordingId:"global",playerKey:"recents",defaultStatic:!0})},"data-attr":"create-new-playlist-button",fullWidth:!0,children:"Create new static playlist"})},"data-attr":"saved-recordings-playlists-new-playlist-dropdown"},children:"Save as dynamic playlist"}):Object(e.jsx)(o.LemonButton,{type:"primary",onClick:function(){Object(U.a)({sessionRecordingId:"global",playerKey:"recents"})},loading:j,"data-attr":"save-recordings-playlist-button",children:"New playlist"})})]})}),Object(e.jsx)(b.a,{activeKey:n,animated:!1,style:{borderColor:"#D9D9D9"},onChange:function(B){return ie.router.actions.push(p.a.sessionRecordings(B))},children:Object.values(x.ab).map(function(m){return Object(e.jsx)(b.a.TabPane,{tab:Object(N.b)(m)},m)})}),A?Object(e.jsx)("div",{className:"mb-4",children:Object(e.jsx)(E.a,{type:"info",action:{type:"secondary",icon:Object(e.jsx)(I.IconSettings,{}),onClick:function(){return Object(W.b)()},children:"Configure"},children:"Session recordings are currently disabled for this project."})}):null,n?n===x.ab.Recent?Object(e.jsx)(T.SessionRecordingsPlaylist,{logicKey:"recents",updateSearchParams:!0}):Object(e.jsx)(C,{tab:x.ab.Playlists}):Object(e.jsx)(ae.a,{})]})}var le={component:Y,logic:N.c}},"./node_modules/@ant-design/icons/es/icons/PushpinFilled.js":function(D,y,s){"use strict";var g=s("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),v=s("./node_modules/react/index.js"),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3-15.4 12.3-16.6 35.4-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8z"}}]},name:"pushpin",theme:"filled"},O=h,c=s("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),p=function(o,b){return v.createElement(c.a,Object(g.a)(Object(g.a)({},o),{},{ref:b,icon:O}))};p.displayName="PushpinFilled";var T=y.a=v.forwardRef(p)},"./node_modules/@ant-design/icons/es/icons/PushpinOutlined.js":function(D,y,s){"use strict";var g=s("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),v=s("./node_modules/react/index.js"),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"},O=h,c=s("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),p=function(o,b){return v.createElement(c.a,Object(g.a)(Object(g.a)({},o),{},{ref:b,icon:O}))};p.displayName="PushpinOutlined";var T=y.a=v.forwardRef(p)}}]);
