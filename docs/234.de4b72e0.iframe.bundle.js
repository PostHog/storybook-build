(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{"./frontend/src/lib/components/Drawer.tsx":function(X,T,t){"use strict";t.d(T,"a",function(){return le});var _=t("./node_modules/@babel/runtime/helpers/extends.js"),a=t.n(_),O=t("./node_modules/react/index.js"),_e=t.n(O),Se=t("./node_modules/antd/es/drawer/index.js"),ge=t("./frontend/src/vars.ts");function le(L){return _e.a.createElement(Se.a,a()({},L,{zIndex:ge.a.zDrawer}))}try{le.displayName="Drawer",le.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:le.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(L){}},"./frontend/src/lib/components/ResizableTable/TableConfig.tsx":function(X,T,t){"use strict";t.d(T,"b",function(){return g}),t.d(T,"a",function(){return y});var _=t("./node_modules/core-js/modules/es.array.includes.js"),a=t("./node_modules/core-js/modules/es.string.includes.js"),O=t("./node_modules/antd/es/button/index.js"),_e=t("./node_modules/antd/es/row/index.js"),Se=t("./node_modules/antd/es/space/index.js"),ge=t("./node_modules/antd/es/col/index.js"),le=t("./node_modules/react/index.js"),L=t.n(le),he=t("./node_modules/@ant-design/icons/es/icons/ControlOutlined.js"),Ve=t("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),Oe=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Re=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),u=t.n(Re),ae=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),Ce=t.n(ae),Ie={};Ie.insert="head",Ie.singleton=!1;var $=u()(Ce.a,Ie),R=Ce.a.locals||{},Q=t("./node_modules/kea/lib/index.esm.js"),xe=t("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),w=t("./node_modules/antd/lib/modal/Modal.js"),te=t.n(w),ue=t("./node_modules/react-virtualized/dist/es/List/index.js"),W=t("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),ze=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),de=t("./node_modules/clsx/dist/clsx.m.js"),oe=t("./frontend/src/lib/components/Tooltip.tsx"),je=t("./node_modules/core-js/modules/es.array.concat.js"),ne=t("./node_modules/core-js/modules/es.array.filter.js"),Te=t("./node_modules/core-js/modules/es.array.from.js"),Me=t("./node_modules/core-js/modules/es.array.iterator.js"),vt=t("./node_modules/core-js/modules/es.object.to-string.js"),nt=t("./node_modules/core-js/modules/es.set.js"),ht=t("./node_modules/core-js/modules/es.string.iterator.js"),we=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Xe=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ke=t.n(Xe),$e=Object(Q.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},actions:{selectColumn:function(j){return{column:j}},unselectColumn:function(j){return{column:j}},resetColumns:function(j){return{columns:j}},save:!0},reducers:function(j){var D=j.props;return{selectedColumns:[D.selectedColumns,{selectColumn:function(Y,Z){var h=Z.column;return Array.from(new Set([].concat(Ke()(Y),[h])))},unselectColumn:function(Y,Z){var h=Z.column;return Y.filter(function(I){return I!==h})},resetColumns:function(Y,Z){var h=Z.columns;return h}}]}},listeners:function(j){var D=j.values;return{save:function(){xe.a.actions.setSelectedColumns(D.selectedColumns)}}}}),lt=t("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),ot=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),v=t("./frontend/src/lib/components/LemonButton/index.ts"),S=t("./frontend/src/lib/components/icons.tsx");function g(p){var j=Object(Q.useActions)(xe.a),D=j.showModal;return L.a.createElement(L.a.Fragment,null,L.a.createElement(O.a,{"data-attr":"events-table-column-selector",onClick:D,icon:L.a.createElement(he.a,{rotate:90})},"Customize columns"),L.a.createElement(K,{immutableColumns:p.immutableColumns,defaultColumns:p.defaultColumns}))}function y(p){var j=Object(Q.useActions)(xe.a),D=j.showModal;return L.a.createElement(L.a.Fragment,null,L.a.createElement(v.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:D,icon:L.a.createElement(S.IconTuning,{style:{color:"var(--primary)"}})},"Customize columns"),L.a.createElement(K,{immutableColumns:p.immutableColumns,defaultColumns:p.defaultColumns}))}function K(p){var j=p.immutableColumns,D=p.defaultColumns,B=36,Y=32,Z=Object(Q.useValues)(xe.a),h=Z.selectedColumns,I=Z.modalVisible,f=Object(Q.useActions)(xe.a),x=f.hideModal,V=$e({selectedColumns:h==="DEFAULT"?D:h}),A=Object(Q.useActions)(V),N=A.selectColumn,P=A.unselectColumn,U=A.resetColumns,se=A.save,re=Object(Q.useValues)(V),be=re.selectedColumns;function Ue(pe){var Ee=pe.index,We=pe.style,ce=pe.key,G=j==null?void 0:j.includes(be[Ee]);return L.a.createElement("div",{style:We,key:ce,onClick:function(){return!G&&P(be[Ee])}},L.a.createElement("div",{className:Object(de.a)(["column-display-item",{selected:!G,disabled:G}]),style:{height:"".concat(Y,"px")}},L.a.createElement(ze.b,{value:be[Ee]}),L.a.createElement("div",{className:"text-right",style:{flex:1}},L.a.createElement(oe.a,{title:G?"Reserved":"Remove"},G?L.a.createElement(Ve.a,null):L.a.createElement(Oe.a,{style:{color:"var(--danger)"}})))))}return L.a.createElement(te.a,{centered:!0,visible:I,title:"Customize columns",onOk:se,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:x,footer:L.a.createElement(_e.a,null,L.a.createElement(Se.b,{style:{flexGrow:1},align:"start"},L.a.createElement(O.a,{className:"text-blue",onClick:function(){return U(D)}},"Reset to default")),L.a.createElement(Se.b,null,L.a.createElement(O.a,{className:"text-blue",type:"text",onClick:x},"Cancel"),L.a.createElement(O.a,{type:"primary",onClick:se},"Save")))},L.a.createElement(_e.a,{gutter:16,className:"mt"},L.a.createElement(ge.a,{xs:24,sm:12},L.a.createElement("h3",{className:"l3"},"Available columns"),L.a.createElement("div",{style:{height:320}},L.a.createElement(W.a,null,function(pe){var Ee=pe.height,We=pe.width;return L.a.createElement(lt.a,{height:Ee,width:We,taxonomicGroupTypes:[ot.a.EventProperties],value:void 0,onChange:function(G,Pe){return Pe&&N(String(Pe))},popoverEnabled:!1,selectFirstItem:!1})}))),L.a.createElement(ge.a,{xs:24,sm:12},L.a.createElement("h3",{className:"l3"},"Visible columns (",be.length,")"),L.a.createElement("div",{style:{height:320}},L.a.createElement(W.a,null,function(pe){var Ee=pe.height,We=pe.width;return L.a.createElement(ue.b,{height:Ee,rowCount:be.length,rowRenderer:Ue,rowHeight:B,width:We})})))))}try{g.displayName="TableConfig",g.__docgenInfo={description:`A scene that contains a ResizableTable with many possible columns
can use this to let the user choose which columns they see`,displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"]={docgenInfo:g.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"})}catch(p){}try{y.displayName="LemonTableConfig",y.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:y.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(p){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(X,T,t){"use strict";t.d(T,"a",function(){return lt}),t.d(T,"b",function(){return ot});var _=t("./node_modules/core-js/modules/es.array.for-each.js"),a=t("./node_modules/core-js/modules/es.array.from.js"),O=t("./node_modules/core-js/modules/es.array.map.js"),_e=t("./node_modules/core-js/modules/es.array.reduce.js"),Se=t("./node_modules/core-js/modules/es.array.slice.js"),ge=t("./node_modules/core-js/modules/es.number.constructor.js"),le=t("./node_modules/core-js/modules/es.string.iterator.js"),L=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),he=t("./node_modules/@babel/runtime/helpers/extends.js"),Ve=t.n(he),Oe=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),Re=t.n(Oe),u=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ae=t.n(u),Ce=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ie=t.n(Ce),$=t("./node_modules/react/index.js"),R=t.n($),Q=t("./node_modules/antd/es/table/index.js"),xe=t("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),w=t("./frontend/src/lib/utils/responsiveUtils.tsx"),te=t("./node_modules/react-resizable/index.js");function ue(v){var S=v.children,g=v.onResize,y=v.initialWidth,K=v.height,p=v.minConstraints,j=v.maxConstraints,D=R.a.createElement("div",{className:"inner-wrapper"},R.a.createElement("div",{className:"inner-text"},S)),B=Object($.useState)(y),Y=ae()(B,2),Z=Y[0],h=Y[1],I=Object($.useState)(!1),f=ae()(I,2),x=f[0],V=f[1],A=function(P,U){h(U.size.width),g(P,U)};return R.a.createElement("div",{className:"react-resizable-wrapper"},R.a.createElement(te.ResizableBox,{width:Z,height:K,minConstraints:p,maxConstraints:j,axis:"x",handle:R.a.createElement("span",{className:"resizable-handle","data-drag-active":x}),onResize:A,onResizeStart:function(P){P.preventDefault(),V(!0)},onResizeStop:function(){V(!1)},draggableOpts:{enableUserSelectHack:!0}},D))}function W(v){var S=v.columns,g=v.handleResize,y=v.layoutEffect,K=v.minColumnWidth,p=v.expandable,j=60;return Object($.useLayoutEffect)(function(){return typeof y=="function"?y():void 0}),R.a.createElement("div",{className:"resizable-virtual-table-header"},!!p&&R.a.createElement("div",{className:"left-spacer",style:{width:(p==null?void 0:p.columnWidth)||lt}}),S.map(function(D,B){var Y=D.title,Z=D.width,h=D.widthConstraints,I=h!=null&&h.length?h[0]:K,f=h!=null&&h.length?h[1]:1/0;return R.a.createElement(ue,{key:B,initialWidth:Z!=null?Z:I,height:j,onResize:g(B),minConstraints:[I,j],maxConstraints:[f,j]},Y)}))}var ze=R.a.memo(W);try{W.displayName="VirtualTableHeader",W.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:W.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(v){}var de=t("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),oe=t("./frontend/src/lib/hooks/useWindowSize.js"),je=function(){var S=Object(oe.a)(),g=S.width,y=Object($.useState)(w.a),K=ae()(y,2),p=K[0],j=K[1];return Object($.useEffect)(function(){j(w.a)},[g]),p},ne=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Te=t.n(ne),Me=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),vt=t.n(Me),nt={};nt.insert="head",nt.singleton=!1;var ht=Te()(vt.a,nt),we=vt.a.locals||{};function Xe(v,S){var g=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);S&&(y=y.filter(function(K){return Object.getOwnPropertyDescriptor(v,K).enumerable})),g.push.apply(g,y)}return g}function Ke(v){for(var S=1;S<arguments.length;S++){var g=arguments[S]!=null?arguments[S]:{};S%2?Xe(Object(g),!0).forEach(function(y){Re()(v,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(g)):Xe(Object(g)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(g,y))})}return v}var $e=de.b,lt=48;function ot(v){var S=v.columns,g=S===void 0?[]:S,y=v.components,K=Ie()(v,["columns","components"]),p=je(),j=Object(w.d)(p),D=Object($.useState)(function(){var k=g.length;return g.map(function(F,ee){return Ke(Ke({},F),{},{width:ee===k?void 0:j})})}),B=ae()(D,2),Y=B[0],Z=B[1],h=Object($.useState)(Y),I=ae()(h,2),f=I[0],x=I[1],V=Object($.useState)(!1),A=ae()(V,2),N=A[0],P=A[1],U=Object($.useRef)(null),se=Object($.useRef)(null),re=Object($.useRef)();function be(k){var F;if(k){var ee;return se==null||(ee=se.current)===null||ee===void 0?void 0:ee.classList.add("scrollable-right")}return se==null||(F=se.current)===null||F===void 0?void 0:F.classList.remove("scrollable-right")}function Ue(){if(se.current){var k=se.current;k.offsetWidth+k.scrollLeft<k.scrollWidth?be(!0):be(!1)}}function pe(){var k,F=(k=U.current)===null||k===void 0?void 0:k.querySelectorAll(".ant-table-content colgroup col");if(F){var ee=Array.from(F);return ee.map(function(J){return J.style.width?Object(w.e)(J.style.width):void 0})}return[]}function Ee(k,F){var ee,J=(ee=U.current)===null||ee===void 0?void 0:ee.querySelector(".ant-table-content colgroup col:nth-child(".concat(k+1+Number(!!K.expandable),"):not(:last-child)"));J==null||J.setAttribute("style","width: ".concat(F,"px;"))}function We(){var k,F=(k=U.current)===null||k===void 0?void 0:k.querySelector(".ant-table-content colgroup col:last-child");F==null||F.removeAttribute("style")}function ce(){var k,F=(k=U.current)===null||k===void 0?void 0:k.querySelector(".resizable-virtual-table-header");if(F!=null&&F.childNodes){var ee=Array.from(F==null?void 0:F.childNodes),J=ee.reduce(function(He,et){var ve=et.offsetWidth;return He+(ve!=null?ve:0)},0);if(J){var Ye,ke=(Ye=U.current)===null||Ye===void 0?void 0:Ye.querySelector(".ant-table table");ke==null||ke.setAttribute("style","width: ".concat(J,"px;"))}}We()}var G=function(F){return function(ee,J){var Ye=J.size.width;re.current&&cancelAnimationFrame(re.current),re.current=requestAnimationFrame(function(){Ee(F,Ye),ce()}),Ue()}};function Pe(k){var F,ee=(F=U.current)===null||F===void 0?void 0:F.querySelector(".ant-table table"),J=ee==null?void 0:ee.clientWidth;if(!(!J||J===k)){re.current&&cancelAnimationFrame(re.current);var Ye=k/J,ke=pe();re.current=requestAnimationFrame(function(){P(!1),x(function(He){var et=g.length-1,ve=He.map(function(Ae,ie){var De;return ie===et?Ae:Ke(Ke({},Ae),{},{width:Math.max(((De=ke[ie+Number(!!K.expandable)])!==null&&De!==void 0?De:0)*Ye,j)})});return ve.slice(0,et).forEach(function(Ae,ie){var De;Ee(ie,(De=Ae.width)!==null&&De!==void 0?De:j)}),ce(),ve}),P(!0)})}}var qe=new xe.a(function(k){k.forEach(function(F){var ee=F.contentRect.width;return Pe(ee)})});return Object($.useEffect)(function(){Z(function(k){var F=k.length;return k.map(function(ee,J){return J===F?ee:Ke(Ke({},ee),{},{render:g[J].render})})})},[g]),Object($.useLayoutEffect)(function(){if(U.current){qe.observe(U.current);var k=U.current.clientWidth,F=Y.reduce(function(J,Ye){var ke=Ye.span;return J+ke},0),ee=Object(w.c)(k,F);Z(function(J){var Ye=J.length,ke=J.map(function(He,et){return et===Ye?He:Ke(Ke({},He),{},{width:Math.max(He.defaultWidth||ee*He.span,j)})});return x(ke),ke}),Ue(),P(!0)}},[]),R.a.createElement("div",{ref:U,className:"resizable-table-scroll-container",onScroll:Ue},R.a.createElement("div",{ref:se,className:"table-gradient-overlay"},N&&R.a.createElement(ze,{columns:f,handleResize:G,layoutEffect:ce,minColumnWidth:j,expandable:K.expandable}),R.a.createElement(Q.a,Ve()({columns:Y,components:Ke(Ke({},y),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},K))))}try{ot.displayName="ResizableTable",ot.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:ot.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(v){}try{$e.displayName="TableConfig",$e.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:$e.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(v){}},"./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts":function(X,T,t){"use strict";t.d(T,"a",function(){return xe});var _=t("./node_modules/core-js/modules/es.array.every.js"),a=t.n(_),O=t("./node_modules/core-js/modules/es.array.includes.js"),_e=t.n(O),Se=t("./node_modules/core-js/modules/es.array.iterator.js"),ge=t.n(Se),le=t("./node_modules/core-js/modules/es.object.to-string.js"),L=t.n(le),he=t("./node_modules/core-js/modules/es.string.includes.js"),Ve=t.n(he),Oe=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Re=t.n(Oe),u=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),ae=t.n(u),Ce=t("./node_modules/kea/lib/index.esm.js"),Ie=t("./node_modules/kea-router/lib/index.js"),$=t.n(Ie);function R(w,te){var ue=Object.keys(w);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(w);te&&(W=W.filter(function(ze){return Object.getOwnPropertyDescriptor(w,ze).enumerable})),ue.push.apply(ue,W)}return ue}function Q(w){for(var te=1;te<arguments.length;te++){var ue=arguments[te]!=null?arguments[te]:{};te%2?R(Object(ue),!0).forEach(function(W){ae()(w,W,ue[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(ue)):R(Object(ue)).forEach(function(W){Object.defineProperty(w,W,Object.getOwnPropertyDescriptor(ue,W))})}return w}var xe=Object(Ce.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],actions:{showModal:!0,hideModal:!1,setSelectedColumns:function(te){return{columnConfig:te}}},reducers:function(){return{selectedColumns:["DEFAULT",{setSelectedColumns:function(ue,W){var ze=W.columnConfig;return ze}}],modalVisible:[!1,{showModal:function(){return!0},save:function(){return!1},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(w){return[w.selectedColumns]},function(w){return w==="DEFAULT"?7:w.length+1}]},urlToAction:function(te){var ue=te.actions,W=te.values;return{"*":function(de,oe){var je=oe.tableColumns;if(!(!je||!Array.isArray(je)||je.length===0)){var ne=W.selectedColumns,Te=je.length===ne.length&&je.every(function(Me){return ne.includes(Me)});(ne==="DEFAULT"||!Te)&&ue.setSelectedColumns(je)}}}},actionToUrl:function(te){var ue=te.values;return{setSelectedColumns:function(){return[Ie.router.values.location.pathname,Q(Q({},Ie.router.values.searchParams),{},{tableColumns:ue.selectedColumns}),Ie.router.values.hashParams,{replace:!0}]}}}})},"./frontend/src/lib/hooks/useWindowSize.js":function(X,T,t){"use strict";t.d(T,"a",function(){return le});var _=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=t.n(_),O=t("./node_modules/@babel/runtime/helpers/typeof.js"),_e=t.n(O),Se=t("./node_modules/react/index.js"),ge=t.n(Se);function le(){var L=(typeof window=="undefined"?"undefined":_e()(window))==="object";function he(){return{width:L?window.innerWidth:void 0,height:L?window.innerHeight:void 0}}var Ve=Object(Se.useState)(he),Oe=a()(Ve,2),Re=Oe[0],u=Oe[1];return Object(Se.useEffect)(function(){if(!L)return!1;function ae(){u(he())}return window.addEventListener("resize",ae),function(){return window.removeEventListener("resize",ae)}},[]),Re}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(X,T,t){"use strict";t.d(T,"a",function(){return Re});var _=t("./node_modules/core-js/modules/es.array.includes.js"),a=t.n(_),O=t("./node_modules/core-js/modules/es.string.includes.js"),_e=t.n(O),Se=t("./node_modules/react/index.js"),ge=t.n(Se),le=t("./node_modules/kea/lib/index.esm.js"),L=t("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),he=t("./node_modules/rc-select/es/index.js"),Ve=t("./frontend/src/lib/components/Link.tsx"),Oe=t("./frontend/src/lib/introductions/groupsAccessLogic.ts");function Re(u){var ae=u.value,Ce=Object(le.useValues)(Oe.b),Ie=Ce.groupsAccessStatus;return[Oe.a.HasAccess,Oe.a.HasGroupTypes,Oe.a.NoAccess].includes(Ie)?ge.a.createElement(he.default.Option,{key:"groups",value:ae,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},ge.a.createElement(L.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",ge.a.createElement(Ve.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{Re.displayName="GroupsIntroductionOption",Re.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:Re.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(u){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(X,T,t){"use strict";t.d(T,"d",function(){return W}),t.d(T,"c",function(){return ze}),t.d(T,"e",function(){return de}),t.d(T,"a",function(){return oe}),t.d(T,"b",function(){return je});var _=t("./node_modules/core-js/modules/es.array.filter.js"),a=t.n(_),O=t("./node_modules/core-js/modules/es.array.iterator.js"),_e=t.n(O),Se=t("./node_modules/core-js/modules/es.array.map.js"),ge=t.n(Se),le=t("./node_modules/core-js/modules/es.object.entries.js"),L=t.n(le),he=t("./node_modules/core-js/modules/es.object.from-entries.js"),Ve=t.n(he),Oe=t("./node_modules/core-js/modules/es.object.values.js"),Re=t.n(Oe),u=t("./node_modules/core-js/modules/es.regexp.exec.js"),ae=t.n(u),Ce=t("./node_modules/core-js/modules/es.string.replace.js"),Ie=t.n(Ce),$=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),R=t.n($),Q=t("./node_modules/antd/lib/_util/responsiveObserve.js"),xe=t.n(Q),w=t("./frontend/src/lib/components/ResizableTable/index.tsx"),te=Object.fromEntries(Object.entries(Q.responsiveMap).map(function(ne){var Te=R()(ne,2),Me=Te[0],vt=Te[1];return[Me,de(vt)]})),ue=Object.values(te).sort(function(ne,Te){return ne-Te});function W(ne){return ne<576?150:50}function ze(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,Me=ne-w.a;return Math.floor(Me/Te)}function de(ne){return parseFloat(ne.replace(/[^\d.]/g,""))}function oe(){var ne=window.innerWidth,Te=ue.filter(function(Me){return ne>=Me}).pop();return Te||ue[0]}function je(ne){return te[ne]||-1}try{W.displayName="getMinColumnWidth",W.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:W.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(ne){}try{de.displayName="parsePixelValue",de.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:de.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(ne){}try{je.displayName="getBreakpoint",je.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:je.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(ne){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(X,T,t){"use strict";t.d(T,"a",function(){return K});var _=t("./node_modules/core-js/modules/es.array.concat.js"),a=t("./node_modules/core-js/modules/es.array.map.js"),O=t("./node_modules/core-js/modules/es.array.splice.js"),_e=t("./node_modules/@babel/runtime/helpers/extends.js"),Se=t.n(_e),ge=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),le=t.n(ge),L=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),he=t.n(L),Ve=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Oe=t.n(Ve),Re=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),u=t.n(Re),ae={};ae.insert="head",ae.singleton=!1;var Ce=Oe()(u.a,ae),Ie=u.a.locals||{},$=t("./node_modules/react/index.js"),R=t.n($),Q=t("./node_modules/kea/lib/index.esm.js"),xe=t("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),w=t("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),te=t("./node_modules/antd/es/button/index.js"),ue=t("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),W=t("./frontend/src/types.ts"),ze=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),de=t.n(ze),oe=t("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),je=t("./frontend/src/lib/components/icons.tsx"),ne=Object(oe.c)(function(){return R.a.createElement("span",{className:"action-filter-drag-handle"},R.a.createElement(je.SortableDragIcon,null))}),Te=Object(oe.b)(function(p){var j=p.filterCount,D=p.filterIndex,B=de()(p,["filterCount","filterIndex"]),Y=j>1;return R.a.createElement("div",{className:"draggable-action-filter ".concat(Y?"drag-handle-visible":"")},Y?R.a.createElement(ne,null):R.a.createElement("span",{style:{marginLeft:4}}),R.a.createElement(w.a,Se()({},B,{filterCount:j,index:D,key:D})))}),Me=Object(oe.a)(function(p){var j=p.children;return R.a.createElement("div",null,j)});try{Te.displayName="SortableActionFilterRow",Te.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:Te.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(p){}try{Me.displayName="SortableContainer",Me.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:Me.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(p){}var vt=t("./node_modules/core-js/modules/es.function.name.js"),nt=t("./node_modules/antd/es/modal/index.js"),ht=t("./node_modules/antd/es/input/index.js"),we=t("./frontend/src/scenes/insights/utils.ts"),Xe=t("./node_modules/core-js/modules/es.array.filter.js"),Ke=Object(Q.kea)({props:{},key:function(j){return j.typeKey},path:function(j){return["scenes","insights","ActionFilter","renameModalLogic",j]},connect:{actions:[xe.a,["selectFilter"]]},actions:function(){return{setName:function(D){return{name:D}}}},reducers:function(j){var D,B=j.props;return{name:[(D=Object(we.c)(B.filter))!==null&&D!==void 0?D:"",{setName:function(Z,h){var I=h.name;return I},selectFilter:function(Z,h){var I,f=h.filter;return(I=Object(we.c)(f))!==null&&I!==void 0?I:""}}]}}});function $e(p){var j,D=p.typeKey,B=p.view,Y=Object(Q.useValues)(xe.a),Z=Y.selectedFilter,h=Y.modalVisible,I=Object(Q.useActions)(xe.a),f=I.renameFilter,x=I.hideModal,V=Ke({typeKey:D,filter:Z}),A=Object(Q.useValues)(V),N=A.name,P=Object(Q.useActions)(V),U=P.setName,se=Object($.useRef)(null);lt(se,{cursor:"all"},[h]);var re="Rename ".concat(B===W.s.FUNNELS?"funnel step":"graph series");return R.a.createElement(nt.a,{"data-attr":"filter-rename-modal",visible:h,title:re,footer:R.a.createElement(R.a.Fragment,null,R.a.createElement(te.a,{type:"link",onClick:x},"Cancel"),R.a.createElement(te.a,{type:"primary",onClick:function(){return f(N)}},re)),onCancel:x},"Query series/steps can be renamed to provide a more"," ",R.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",R.a.createElement("br",null),R.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),R.a.createElement(ht.a,{ref:se,value:N,onPressEnter:function(){return f(N)},onChange:function(Ue){return U(Ue.target.value)},suffix:R.a.createElement("span",{className:"text-muted-alt"},(j=Object(we.c)(Z,!1))!==null&&j!==void 0?j:"")}))}function lt(p,j){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object($.useEffect)(function(){var B=setTimeout(function(){if(p.current){var Y;(Y=p.current)===null||Y===void 0||Y.focus(j)}},0);return function(){return clearTimeout(B)}},D)}try{$e.displayName="RenameModal",$e.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:$e.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(p){}var ot=t("./frontend/src/lib/utils/eventUsageLogic.ts"),v=t("./frontend/src/scenes/teamLogic.ts"),S=t("./node_modules/clsx/dist/clsx.m.js");function g(p,j){var D=Object.keys(p);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(p);j&&(B=B.filter(function(Y){return Object.getOwnPropertyDescriptor(p,Y).enumerable})),D.push.apply(D,B)}return D}function y(p){for(var j=1;j<arguments.length;j++){var D=arguments[j]!=null?arguments[j]:{};j%2?g(Object(D),!0).forEach(function(B){le()(p,B,D[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(D)):g(Object(D)).forEach(function(B){Object.defineProperty(p,B,Object.getOwnPropertyDescriptor(D,B))})}return p}var K=R.a.forwardRef(function(p,j){var D=p.setFilters,B=p.filters,Y=p.typeKey,Z=p.addFilterDefaultOptions,h=Z===void 0?{}:Z,I=p.mathAvailability,f=I===void 0?w.b.All:I,x=p.hidePropertySelector,V=x===void 0?!1:x,A=p.buttonCopy,N=A===void 0?"":A,P=p.disabled,U=P===void 0?!1:P,se=p.sortable,re=se===void 0?!1:se,be=p.showSeriesIndicator,Ue=be===void 0?!1:be,pe=p.seriesIndicatorType,Ee=pe===void 0?"alpha":pe,We=p.showOr,ce=We===void 0?!1:We,G=p.hideFilter,Pe=G===void 0?!1:G,qe=p.hideRename,k=qe===void 0?!1:qe,F=p.horizontalUI,ee=F===void 0?!1:F,J=p.fullWidth,Ye=J===void 0?!1:J,ke=p.customRowPrefix,He=p.customRowSuffix,et=p.rowClassName,ve=p.entitiesLimit,Ae=p.propertyFilterWrapperClassName,ie=p.stripeActionRow,De=ie===void 0?!0:ie,Pt=p.customActions,Gt=p.showNestedArrow,Nt=Gt===void 0?!1:Gt,Bt=p.actionsTaxonomicGroupTypes,$t=p.propertiesTaxonomicGroupTypes,at=p.hideDeleteBtn,Zt=p.renderRow,_t=p.buttonType,Vt=_t===void 0?"dashed":_t,St=p.readOnly,Fe=St===void 0?!1:St,Yt=Object(Q.useValues)(v.a),Ut=Yt.currentTeamId,Ze=Object(xe.a)({teamId:Ut,setFilters:D,filters:B,typeKey:Y,addFilterDefaultOptions:h}),Tt=Object(Q.useActions)(ot.f),Rt=Tt.reportFunnelStepReordered,st=Object(Q.useValues)(Ze),dt=st.localFilters,mt=Object(Q.useActions)(Ze),wt=mt.addFilter,Wt=mt.setLocalFilters,It=mt.showModal;Object($.useEffect)(function(){Wt(B)},[B]);function At(ft){var ct=ft.oldIndex,Ot=ft.newIndex;function pt(yt,Et,Ct){var bt=he()(yt);return Array.prototype.splice.call(bt,Ct,0,Array.prototype.splice.call(bt,Et,1)[0]),bt.map(function(Qt,Dt){return y(y({},Qt),{},{order:Dt})})}D(Object(xe.b)(pt(dt,ct,Ot))),ct!==Ot&&Rt()}var zt=ve===1,Ht={logic:Ze,showSeriesIndicator:Ue,seriesIndicatorType:Ee,mathAvailability:f,hidePropertySelector:V,customRowPrefix:ke,customRowSuffix:He,rowClassName:et,propertyFilterWrapperClassName:Ae,stripeActionRow:De,hasBreakdown:!!B.breakdown,fullWidth:Ye,actionsTaxonomicGroupTypes:Bt,propertiesTaxonomicGroupTypes:$t,hideDeleteBtn:at,disabled:U,readOnly:Fe,renderRow:Zt,hideRename:k,onRenameClick:It},Kt=Boolean(ve&&dt.length>=ve);return R.a.createElement("div",{ref:j},!k&&!Fe&&R.a.createElement(Q.BindLogic,{logic:xe.a,props:{setFilters:D,filters:B,typeKey:Y,addFilterDefaultOptions:h}},R.a.createElement($e,{view:B.insight,typeKey:Y})),dt?re?R.a.createElement(Me,{onSortEnd:At,lockAxis:"y",distance:5},dt.map(function(ft,ct){return R.a.createElement(Te,Se()({key:ct,filter:ft,index:ct,filterIndex:ct,filterCount:dt.length,showNestedArrow:Nt},Ht))})):dt.map(function(ft,ct){return R.a.createElement(w.a,Se()({filter:ft,index:ct,key:ct,singleFilter:zt,showOr:ce,hideFilter:Pe||Fe,horizontalUI:ee,filterCount:dt.length,showNestedArrow:Nt},Ht))}):null,(!zt||Pt)&&R.a.createElement("div",{className:Object(S.a)(Vt!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!zt&&R.a.createElement(te.a,{type:Vt,onClick:function(){return wt()},"data-attr":"add-action-event-button",icon:R.a.createElement(ue.a,null),disabled:Kt||U||Fe,className:"add-action-event-button"},Kt?"Reached limit of ".concat(ve," ").concat(B.insight===W.s.FUNNELS?"steps":"series"):N||"Action or event"),Pt))});try{K.displayName="ActionFilter",K.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},mathAvailability:{defaultValue:{value:"MathAvailability.All"},description:"",name:"mathAvailability",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:K.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(p){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx":function(X,T,t){"use strict";t.d(T,"b",function(){return D}),t.d(T,"a",function(){return B});var _=t("./node_modules/core-js/modules/es.symbol.js"),a=t("./node_modules/core-js/modules/es.symbol.description.js"),O=t("./node_modules/core-js/modules/es.array.concat.js"),_e=t("./node_modules/core-js/modules/es.array.filter.js"),Se=t("./node_modules/core-js/modules/es.array.map.js"),ge=t("./node_modules/core-js/modules/es.function.name.js"),le=t("./node_modules/core-js/modules/es.object.keys.js"),L=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),he=t.n(L),Ve=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),Oe=t.n(Ve),Re=t("./node_modules/react/index.js"),u=t.n(Re),ae=t("./node_modules/kea/lib/index.esm.js"),Ce=t("./node_modules/antd/es/button/index.js"),Ie=t("./node_modules/antd/es/row/index.js"),$=t("./node_modules/antd/es/col/index.js"),R=t("./node_modules/antd/es/select/index.js"),Q=t("./frontend/src/lib/components/Tooltip.tsx"),xe=t("./frontend/src/types.ts"),w=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),te=t("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),ue=t("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),W=t("./frontend/src/lib/utils.tsx"),ze=t("./frontend/src/lib/components/SeriesGlyph.tsx"),de=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),oe=t.n(de),je=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),ne=t.n(je),Te={};Te.insert="head",Te.singleton=!1;var Me=oe()(ne.a,Te),vt=ne.a.locals||{},nt=t("./frontend/src/lib/components/Popup/Popup.tsx"),ht=t("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),we=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Xe=t("./frontend/src/lib/components/EntityFilterInfo.tsx"),Ke=t("./node_modules/clsx/dist/clsx.m.js"),$e=t("./frontend/src/scenes/trends/mathsLogic.tsx"),lt=t("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),ot=t("./frontend/src/models/actionsModel.ts"),v=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),S=t("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),g=t("./frontend/src/lib/components/icons.tsx"),y;function K(f,x){var V=Object.keys(f);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(f);x&&(A=A.filter(function(N){return Object.getOwnPropertyDescriptor(f,N).enumerable})),V.push.apply(V,A)}return V}function p(f){for(var x=1;x<arguments.length;x++){var V=arguments[x]!=null?arguments[x]:{};x%2?K(Object(V),!0).forEach(function(A){Oe()(f,A,V[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(V)):K(Object(V)).forEach(function(A){Object.defineProperty(f,A,Object.getOwnPropertyDescriptor(V,A))})}return f}var j=function(x,V){if(x)return"Hide filters";if(V.properties&&Object.keys(V.properties).length>0){var A;return Object(W.qb)((A=V.properties)===null||A===void 0?void 0:A.length,"filter")}return"Add filters"},D;(function(f){f[f.All=0]="All",f[f.ActorsOnly=1]="ActorsOnly",f[f.None=2]="None"})(D||(D={}));function B(f){var x,V,A,N=f.logic,P=f.filter,U=f.index,se=f.mathAvailability,re=f.hidePropertySelector,be=f.singleFilter,Ue=f.showOr,pe=f.hideFilter,Ee=f.hideRename,We=f.onRenameClick,ce=We===void 0?function(){}:We,G=f.showSeriesIndicator,Pe=f.seriesIndicatorType,qe=Pe===void 0?"alpha":Pe,k=f.horizontalUI,F=k===void 0?!1:k,ee=f.fullWidth,J=ee===void 0?!1:ee,Ye=f.filterCount,ke=f.customRowPrefix,He=f.customRowSuffix,et=f.rowClassName,ve=f.propertyFilterWrapperClassName,Ae=f.stripeActionRow,ie=Ae===void 0?!0:Ae,De=f.hasBreakdown,Pt=f.showNestedArrow,Gt=Pt===void 0?!1:Pt,Nt=f.hideDeleteBtn,Bt=Nt===void 0?!1:Nt,$t=f.actionsTaxonomicGroupTypes,at=$t===void 0?[we.a.Events,we.a.Actions]:$t,Zt=f.propertiesTaxonomicGroupTypes,_t=f.disabled,Vt=_t===void 0?!1:_t,St=f.readOnly,Fe=St===void 0?!1:St,Yt=f.renderRow,Ut=Object(ae.useValues)(N),Ze=Ut.selectedFilter,Tt=Ut.entities,Rt=Ut.entityFilterVisible,st=Object(ae.useActions)(N),dt=st.updateFilter,mt=st.selectFilter,wt=st.updateFilterMath,Wt=st.removeLocalFilter,It=st.updateFilterProperty,At=st.setEntityFilterVisibility,zt=st.duplicateFilter,Ht=Object(ae.useValues)(ot.a),Kt=Ht.actions,ft=Object(ae.useValues)($e.c),ct=ft.mathDefinitions,Ot=typeof P.order=="number"?Rt[P.order]:!1,pt,yt,Et,Ct=P.math,bt=P.math_property,Qt=P.math_group_type_index,Dt=function(){Wt(p(p({},P),{},{index:U}))},mn=function(it,Ft){var jt;wt(p(p({},Object($e.b)(Ft)),{},{math_property:!((jt=ct[Ft])===null||jt===void 0)&&jt.onProperty?bt!=null?bt:"$time":void 0,type:P.type,index:U}))},fn=function(it,Ft){wt(p(p({},P),{},{math_property:Ft,index:U}))},en=Boolean(Ze&&(Ze==null?void 0:Ze.type)===P.type&&(Ze==null?void 0:Ze.index)===U),tn=function(){mt(en?null:p(p({},P),{},{index:U}))};if(P.type===xe.g.NEW_ENTITY)yt=null,Et=null;else{var kt;pt=((kt=Tt[P.type])===null||kt===void 0?void 0:kt.filter(function(Qe){return Qe.id===P.id})[0])||{},yt=pt.name||P.name,Et=pt.id||P.id}var nn=u.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),ln=qe==="numeric"?u.a.createElement(ze.a,{style:{borderColor:"var(--border)"}},U+1):u.a.createElement(ze.b,{seriesIndex:U,hasBreakdown:De}),Jt=typeof ke=="function"?ke({filter:P,index:U,onClose:Dt}):ke,rt=u.a.createElement(nt.a,{overlay:u.a.createElement(ht.a,{groupType:P.type,value:P.type==="actions"&&typeof Et=="string"?parseInt(Et):Et||void 0,onChange:function(it,Ft,jt){dt({type:I(it.type)||void 0,id:"".concat(Ft),name:jt==null?void 0:jt.name,index:U})},onClose:function(){return mt(null)},taxonomicGroupTypes:at}),visible:en,onClickOutside:function(){return mt(null)}},function(Qe){var it=Qe.setRef;return u.a.createElement(Ce.a,{"data-attr":"trend-element-subject-"+U,onClick:tn,block:J,ref:it,disabled:Vt||Fe,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},u.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},u.a.createElement(Xe.a,{filter:P})),u.a.createElement(te.a,{style:{fontSize:10}}))}),gt=typeof He=="function"?He({filter:P,index:U,onClose:Dt}):He,xt=u.a.createElement(Ce.a,{type:"link",onClick:function(){typeof P.order=="number"&&At(P.order,!Ot)},className:"row-action-btn show-filters".concat(Ot?" visible":""),"data-attr":"show-prop-filter-".concat(U),title:"Show filters",style:{display:"flex",alignItems:"center"}},u.a.createElement(g.IconFilter,{fontSize:"1.25em"}),!((x=P.properties)===null||x===void 0)&&x.length?Object(W.qb)((V=P.properties)===null||V===void 0?void 0:V.length,"filter"):null),rn=u.a.createElement(Ce.a,{type:"link",onClick:function(){mt(P),ce()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(U),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},u.a.createElement(g.IconEdit,{fontSize:"1.25em"})),dn=u.a.createElement(Ce.a,{type:"link",onClick:function(){zt(P)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(U),title:"Duplicate graph series"},u.a.createElement(g.IconCopy,{fontSize:"1.25em"})),on=u.a.createElement(Ce.a,{type:"link",onClick:Dt,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(U),title:"Delete graph series"},u.a.createElement(g.IconDelete,{fontSize:"1.25em"}));return u.a.createElement("div",{className:Object(Ke.a)({"action-row-striped":F&&ie,"action-row":!F||!ie,"full-width":J})},!F&&U>0&&Ue&&u.a.createElement(Ie.a,{align:"middle",style:{marginTop:12}},nn),u.a.createElement(Ie.a,{gutter:8,align:"middle",className:"".concat(F?"":"mt"," ").concat(et),wrap:!J},Yt?Yt({seriesIndicator:ln,prefix:Jt,filter:rt,suffix:gt,propertyFiltersButton:xt,renameRowButton:rn,deleteButton:on,orLabel:nn}):u.a.createElement(u.a.Fragment,null,!Bt&&F&&!be&&Ye>1&&u.a.createElement($.a,null,u.a.createElement(Ce.a,{type:"link",onClick:Dt,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:u.a.createElement(ue.a,null)})),G&&u.a.createElement($.a,{className:"action-row-letter"},ln),ke!==void 0?u.a.createElement($.a,null,Jt):u.a.createElement(u.a.Fragment,null,F&&u.a.createElement($.a,null,"Showing")),u.a.createElement($.a,{className:"column-filter",style:J?{}:{maxWidth:"calc(".concat(se===D.None?"100":"50","% - 16px)")},flex:J?"auto":void 0},rt),He!==void 0&&u.a.createElement($.a,{className:"column-row-suffix"},gt),se!==D.None&&u.a.createElement(u.a.Fragment,null,F&&u.a.createElement($.a,null,"counted by"),u.a.createElement($.a,{style:{maxWidth:"calc(50% - 16px".concat(G?" - 32px":"",")")}},u.a.createElement(Z,{math:Ct,mathGroupTypeIndex:Qt,index:U,onMathSelect:mn,style:{maxWidth:"100%",width:"initial"},mathAvailability:se})),((A=ct[Ct||""])===null||A===void 0?void 0:A.onProperty)&&u.a.createElement(u.a.Fragment,null,F&&u.a.createElement($.a,null,"on property"),u.a.createElement($.a,{style:{maxWidth:"calc(50% - 16px".concat(G?" - 32px":"",")")}},u.a.createElement(S.c,{groupType:we.a.NumericalEventProperties,value:bt,onChange:function(it){return fn(U,it)},eventNames:yt?[yt]:[],dataAttr:"math-property-select",renderValue:function(it){return u.a.createElement(Q.a,{title:u.a.createElement(u.a.Fragment,null,"Calculate"," ",ct[Ct!=null?Ct:""].name.toLowerCase()," from property ",u.a.createElement("code",null,it),". Note that only"," ",yt," occurences where ",u.a.createElement("code",null,it)," is set with a numeric value will be taken into account."),placement:"right"},u.a.createElement("div",null,u.a.createElement(v.b,{value:it,disablePopover:!0})))}})))),(F||J)&&!pe&&!Fe&&u.a.createElement($.a,null,xt),(F||J)&&!Ee&&!Fe&&u.a.createElement($.a,null,rn),(F||J)&&!pe&&!be&&!Fe&&u.a.createElement($.a,null,dn),!Bt&&!F&&!be&&!Fe&&u.a.createElement($.a,{className:"column-delete-btn"},on),F&&Ye>1&&U<Ye-1&&Ue&&nn)),(!re||P.properties&&P.properties.length>0)&&!F&&!J&&u.a.createElement("div",{style:{paddingTop:6}},u.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),u.a.createElement(Ce.a,{className:"ant-btn-md",onClick:function(){return typeof P.order=="number"?At(P.order,!Ot):void 0},"data-attr":"show-prop-filter-"+U},j(Ot,P))),Ot&&u.a.createElement("div",{className:"mr property-filter-wrapper ".concat(ve)},u.a.createElement(w.a,{pageKey:"".concat(U,"-").concat(Et,"-filter"),propertyFilters:P.properties,onChange:function(it){return It({properties:it,index:U})},disablePopover:F,style:{marginBottom:0},showNestedArrow:Gt,taxonomicGroupTypes:Zt,eventNames:P.type===we.a.Events&&P.id?[String(P.id)]:P.type===we.a.Actions&&P.id?Object(W.I)(parseInt(String(P.id)),Kt):[]})))}var Y="This can only be used on properties that have at least one number type occurence in your events.";function Z(f){var x,V=f.math,A=f.mathGroupTypeIndex,N=f.mathAvailability,P=f.index,U=f.onMathSelect,se=f.style,re=Object(ae.useValues)($e.c),be=re.mathDefinitions,Ue=re.eventMathEntries,pe=re.propertyMathEntries,Ee=Ue;N===D.ActorsOnly&&(Ee=Ee.filter(function(ce){var G=he()(ce,2),Pe=G[1];return Pe.actor}));var We=Object($e.a)(V,A);return N===D.ActorsOnly&&!(!((x=be[We])===null||x===void 0)&&x.actor)&&(We="dau"),u.a.createElement(R.a,{style:p({width:150},se),value:We,onChange:function(G){return U(P,G)},"data-attr":"math-selector-".concat(P),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},u.a.createElement(R.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},Ee.map(function(ce){var G=he()(ce,2),Pe=G[0],qe=G[1],k=qe.name,F=qe.description,ee=qe.onProperty;return u.a.createElement(R.a.Option,{key:Pe,value:Pe,"data-attr":"math-".concat(Pe,"-").concat(P)},u.a.createElement(Q.a,{title:ee?u.a.createElement(u.a.Fragment,null,F,u.a.createElement("br",null),Y):F,placement:"right"},u.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},k)))}),Object(lt.a)({value:""})),N!==D.ActorsOnly&&u.a.createElement(R.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},pe.map(function(ce){var G=he()(ce,2),Pe=G[0],qe=G[1],k=qe.name,F=qe.description,ee=qe.onProperty;return u.a.createElement(R.a.Option,{key:Pe,value:Pe,"data-attr":"math-".concat(Pe,"-").concat(P)},u.a.createElement(Q.a,{title:ee?u.a.createElement(u.a.Fragment,null,F,u.a.createElement("br",null),Y):F,placement:"right"},u.a.createElement("div",{style:{height:"100%",width:"100%"}},k)))})))}var h=(y={},Oe()(y,we.a.Events,xe.g.EVENTS),Oe()(y,we.a.Actions,xe.g.ACTIONS),y);function I(f){return h[f]||null}try{B.displayName="ActionFilterRow",B.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:B.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(f){}try{I.displayName="taxonomicFilterGroupTypeToEntityType",I.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:I.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(f){}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(X,T,t){"use strict";t.d(T,"a",function(){return sn});var _=t("./node_modules/react/index.js"),a=t.n(_),O=t("./frontend/src/lib/components/Drawer.tsx"),_e=t("./node_modules/core-js/modules/es.object.to-string.js"),Se=t("./node_modules/core-js/modules/es.regexp.to-string.js"),ge=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),le=t.n(ge),L=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),he=t.n(L),Ve={};Ve.insert="head",Ve.singleton=!1;var Oe=le()(he.a,Ve),Re=he.a.locals||{},u=t("./node_modules/kea/lib/index.esm.js"),ae=t("./node_modules/core-js/modules/es.array.index-of.js"),Ce=t("./node_modules/core-js/modules/es.array.iterator.js"),Ie=t("./node_modules/core-js/modules/es.array.slice.js"),$=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),R=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Q=t.n(R),xe=t("./node_modules/@babel/runtime/regenerator/index.js"),w=t.n(xe),te=t("./node_modules/regenerator-runtime/runtime.js"),ue=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),W=t.n(ue),ze=t("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),de=t("./frontend/src/lib/utils/eventUsageLogic.ts"),oe=t("./frontend/src/types.ts"),je=t("./frontend/src/lib/utils/responsiveUtils.tsx"),ne=t("./node_modules/core-js/modules/es.array.concat.js"),Te=t("./node_modules/core-js/modules/es.array.for-each.js"),Me=t("./node_modules/core-js/modules/es.array.includes.js"),vt=t("./node_modules/core-js/modules/es.array.join.js"),nt=t("./node_modules/core-js/modules/es.array.map.js"),ht=t("./node_modules/core-js/modules/es.object.entries.js"),we=t("./node_modules/core-js/modules/es.object.values.js"),Xe=t("./node_modules/core-js/modules/es.regexp.exec.js"),Ke=t("./node_modules/core-js/modules/es.string.ends-with.js"),$e=t("./node_modules/core-js/modules/es.string.includes.js"),lt=t("./node_modules/core-js/modules/es.string.iterator.js"),ot=t("./node_modules/core-js/modules/es.string.replace.js"),v=t("./node_modules/core-js/modules/es.string.search.js"),S=t("./node_modules/core-js/modules/es.string.split.js"),g=t("./node_modules/core-js/modules/es.string.starts-with.js"),y=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),K=t("./node_modules/core-js/modules/web.url.js"),p=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),j=t.n(p),D=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),B=t.n(D),Y=t("./node_modules/fuse.js/dist/fuse.esm.js"),Z=t("./frontend/src/lib/api.ts"),h=t("./frontend/src/lib/utils.tsx"),I=t("./frontend/src/scenes/teamLogic.ts"),f=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),x=t("./frontend/src/lib/dayjs.ts"),V=t("./node_modules/core-js/modules/es.array.from.js"),A=t("./node_modules/core-js/modules/es.function.name.js");function N(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=P(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var o=0,s=function(){};return{s,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(m){throw m},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){e=r[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,c=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw c}}}}function P(r,n){if(!!r){if(typeof r=="string")return U(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return U(r,n)}}function U(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}var se=15,re=se/2;function be(r){return"touches"in r}function Ue(r){return"clientX"in r}var pe=function(n){if(be(n)){var e,o,s,i,l;return(e=n==null||(o=n.touches)===null||o===void 0||(s=o[0])===null||s===void 0?void 0:s.pageX)!==null&&e!==void 0?e:n==null||(i=n.changedTouches)===null||i===void 0||(l=i[0])===null||l===void 0?void 0:l.pageX}return Ue(n)?n==null?void 0:n.clientX:0};function Ee(r,n,e){if(r.windowId===n.windowId)return r.time-n.time;var o=N(e),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return-1;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return 1}}catch(l){o.e(l)}finally{o.f()}throw"Could not find player positions in segments"}function We(r,n){var e=N(n),o;try{for(e.s();!(o=e.n()).done;){var s=o.value;if(r.windowId===s.windowId&&r.time>=s.startPlayerPosition.time&&r.time<=s.endPlayerPosition.time)return s}}catch(i){e.e(i)}finally{e.f()}return null}function ce(r,n){var e=0,o=N(n),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return e+r.time-i.startPlayerPosition.time;e+=i.durationMs}}catch(l){o.e(l)}finally{o.f()}return null}function G(r,n){var e=0,o=N(n),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(e+i.durationMs>r)return{windowId:i.windowId,time:r-e+i.startPlayerPosition.time};e+=i.durationMs}}catch(l){o.e(l)}finally{o.f()}return r===e&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function Pe(r,n,e){if(e&&n in e){var o=e[n].startTimeEpochMs,s=e[n].endTimeEpochMs;return o>r||s<r?null:{windowId:n,time:r-o}}return null}function qe(r,n){if(r.windowId in n){var e=n[r.windowId].startTimeEpochMs;return e+r.time}return null}var k=function(n,e,o,s){var i=n/e*s;return G(i,o)},F=function(n,e,o,s){var i=ce(n,o);return(i!=null?i:0)/s*e},ee=t("./frontend/src/lib/components/lemonToast.tsx"),J=t("./node_modules/fast-deep-equal/index.js"),Ye=t.n(J),ke=t("./frontend/src/lib/logic/featureFlagLogic.ts"),He=t("./frontend/src/lib/constants.tsx");function et(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,o)}return e}function ve(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?et(Object(e),!0).forEach(function(o){j()(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):et(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function Ae(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=ie(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var o=0,s=function(){};return{s,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(m){throw m},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){e=r[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,c=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw c}}}}function ie(r,n){if(!!r){if(typeof r=="string")return De(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return De(r,n)}}function De(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}var Pt=!1,Gt="rrweb/console@1",Nt=function(n){var e=n.segments.map(function(s){var i=+Object(x.a)(n.start_and_end_times_by_window_id[s.window_id].start_time),l=+Object(x.a)(s==null?void 0:s.start_time),c=+Object(x.a)(s==null?void 0:s.end_time),d={windowId:s.window_id,time:l-i},m={windowId:s.window_id,time:c-i},b=c-l;return{startPlayerPosition:d,endPlayerPosition:m,durationMs:b,startTimeEpochMs:l,endTimeEpochMs:c,windowId:s.window_id,isActive:s.is_active}}),o={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(s){var i=B()(s,2),l=i[0],c=i[1];o[l]={startTimeEpochMs:+Object(x.a)(c.start_time),endTimeEpochMs:+Object(x.a)(c.end_time)}}),{segments:e,startAndEndTimesByWindowId:o,recordingDurationMs:Object(h.zb)(e.map(function(s){return s.durationMs}))}},Bt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=null;if(n&&e&&o){var i=Ae(n),l;try{for(i.s();!(l=i.n()).done;){var c,d=l.value,m=((c=e[d.windowId])!==null&&c!==void 0?c:[]).slice(-1).pop();if(m&&m.timestamp>=d.startTimeEpochMs){var b=o[d.windowId].startTimeEpochMs;s={windowId:d.windowId,time:Math.min(m.timestamp-b,d.endPlayerPosition.time)}}else return s}}catch(E){i.e(E)}finally{i.f()}}return s},$t=function(n){return n.map(function(e){var o,s,i;return ve(ve({},e),{},{queryValue:"".concat((o=(s=(i=Object(f.d)(e.event,"event"))===null||i===void 0?void 0:i.label)!==null&&s!==void 0?s:e.event)!==null&&o!==void 0?o:""," ").concat(Object(h.B)(e)).replace(/['"]+/g,"")})})},at=Object(u.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[de.f],values:[I.a,["currentTeamId"],ke.a,["featureFlags"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,e){return{recordingData:n,loadTime:e}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,e){return{sessionRecordingId:n,url:e}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,e){var o=e.filters;return ve(ve({},n),o)}}],sessionRecordingId:[null,{loadRecording:function(n,e){var o=e.sessionRecordingId;return o!=null?o:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,e){var o=e.sessionEventsData;return!!(o!=null&&o.next)}}],source:[de.d.Unknown,{setSource:function(n,e){var o=e.source;return o}}]},listeners:function(n){var e=n.values,o=n.actions,s=n.sharedListeners,i=n.cache;return{loadRecordingMetaSuccess:function(){i.eventsStartTime=performance.now(),o.loadEvents()},loadRecordingSnapshotsSuccess:function(){var c;!((c=e.sessionPlayerData)===null||c===void 0)&&c.next?o.loadRecordingSnapshots(void 0,e.sessionPlayerData.next):de.f.actions.reportRecording(e.sessionPlayerData,e.source,performance.now()-i.startTime,oe.D.LOADED,0),e.chunkPaginationIndex===1&&o.reportUsage(e.sessionPlayerData,performance.now()-i.startTime)},loadEventsSuccess:function(){var c;if(!((c=e.sessionEventsData)===null||c===void 0)&&c.next)o.loadEvents(e.sessionEventsData.next);else{var d,m,b;de.f.actions.reportRecordingEventsFetched((d=(m=e.sessionEventsData)===null||m===void 0||(b=m.events)===null||b===void 0?void 0:b.length)!==null&&d!==void 0?d:0,performance.now()-i.eventsStartTime),i.eventsStartTime=null}},loadRecordingMetaFailure:s.showErrorToast,loadRecordingSnapshotsFailure:s.showErrorToast,loadEventsFailure:s.showErrorToast,reportUsage:function(){var l=W()(w.a.mark(function d(m,b){var E,C;return w.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return E=m.recordingData,C=m.loadTime,M.next=3,b();case 3:return de.f.actions.reportRecording(E,e.source,C,oe.D.VIEWED,0),M.next=6,b(Pt?1:1e4);case 6:de.f.actions.reportRecording(E,e.source,C,oe.D.ANALYZED,10);case 7:case"end":return M.stop()}},d)}));function c(d,m){return l.apply(this,arguments)}return c}()}},sharedListeners:function(){return{showErrorToast:function(e){var o=e.error;ee.a.error(o)}}},loaders:function(n){var e=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var o=W()(w.a.mark(function i(l,c){var d,m,b,E,C,z,M,H,me,Le,fe;return w.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return z=l.sessionRecordingId,M=Object(h.Ab)({save_view:!0}),q.next=4,Z.a.get("api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(z,"?").concat(M));case 4:return H=q.sent,me=(d=H.result)===null||d===void 0?void 0:d.session_recording,Le=Nt(me),fe=Bt(Le.segments,(m=e.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId,Le.startAndEndTimesByWindowId),c(),q.abrupt("return",ve(ve({},e.sessionPlayerData),{},{person:(b=H.result)===null||b===void 0?void 0:b.person,metadata:Le,bufferedTo:fe,snapshotsByWindowId:(E=ve({},(C=e.sessionPlayerData)===null||C===void 0?void 0:C.snapshotsByWindowId))!==null&&E!==void 0?E:{}}));case 10:case"end":return q.stop()}},i)}));function s(i,l){return o.apply(this,arguments)}return s}(),loadRecordingSnapshots:function(){var o=W()(w.a.mark(function i(l,c){var d,m,b,E,C,z,M,H,me,Le,fe,ye,q,Ge,Ne;return w.a.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return me=l.sessionRecordingId,Le=l.url,fe=Le||"api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(me,"/snapshots?").concat(Object(h.Ab)({limit:e.featureFlags[He.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),Je.next=4,Z.a.get(fe);case 4:return ye=Je.sent,c(),q=ve({},(d=(m=e.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId)!==null&&d!==void 0?d:{}),Ge=(b=ye.result)===null||b===void 0?void 0:b.snapshot_data_by_window_id,Object.entries(Ge).forEach(function(Be){var ut,Lt=B()(Be,2),Mt=Lt[0],Xt=Lt[1];q[Mt]=[].concat(Q()((ut=q[Mt])!==null&&ut!==void 0?ut:[]),Q()(Xt))}),Ne=Bt((E=e.sessionPlayerData)===null||E===void 0||(C=E.metadata)===null||C===void 0?void 0:C.segments,q,(z=e.sessionPlayerData)===null||z===void 0||(M=z.metadata)===null||M===void 0?void 0:M.startAndEndTimesByWindowId),Je.abrupt("return",ve(ve({},e.sessionPlayerData),{},{bufferedTo:Ne,snapshotsByWindowId:q,next:(H=ye.result)===null||H===void 0?void 0:H.next}));case 11:case"end":return Je.stop()}},i)}));function s(i,l){return o.apply(this,arguments)}return s}()},sessionEventsData:{loadEvents:function(){var o=W()(w.a.mark(function i(l,c){var d,m,b,E,C,z,M,H,me;return w.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(E=l.url,e.eventsApiParams){fe.next=3;break}return fe.abrupt("return",e.sessionEventsData);case 3:return C=E||"api/projects/".concat(e.currentTeamId,"/events?").concat(Object(h.Ab)(e.eventsApiParams)),fe.next=6,Z.a.get(C);case 6:return z=fe.sent,c(),M=[],H=[],me=(d=z.results)!==null&&d!==void 0?d:[],me.forEach(function(ye){var q,Ge,Ne,tt,Je=Pe(+Object(x.a)(ye.timestamp)-1e3,(q=(Ge=ye.properties)===null||Ge===void 0?void 0:Ge.$window_id)!==null&&q!==void 0?q:"",(Ne=e.sessionPlayerData)===null||Ne===void 0||(tt=Ne.metadata)===null||tt===void 0?void 0:tt.startAndEndTimesByWindowId);if(Je===null){var Be,ut,Lt,Mt;Je=Pe(+Object(x.a)(ye.timestamp),(Be=(ut=ye.properties)===null||ut===void 0?void 0:ut.$window_id)!==null&&Be!==void 0?Be:"",(Lt=e.sessionPlayerData)===null||Lt===void 0||(Mt=Lt.metadata)===null||Mt===void 0?void 0:Mt.startAndEndTimesByWindowId)}if(Je!==null){var Xt=ce(Je,e.sessionPlayerData.metadata.segments);Xt!==null&&H.push(ve(ve({},ye),{},{playerTime:Xt,playerPosition:Je,percentageOfRecordingDuration:100*Xt/e.sessionPlayerData.metadata.recordingDurationMs}))}}),M=[].concat(Q()((m=(b=e.sessionEventsData)===null||b===void 0?void 0:b.events)!==null&&m!==void 0?m:[]),H).sort(function(ye,q){return ye.playerTime-q.playerTime}),fe.abrupt("return",ve(ve({},e.sessionEventsData),{},{next:z==null?void 0:z.next,events:M}));case 14:case"end":return fe.stop()}},i)}));function s(i,l){return o.apply(this,arguments)}return s}()}}},selectors:{eventsToShow:[function(r){return[r.filters,r.sessionEventsData]},function(r,n){var e,o=(e=n==null?void 0:n.events)!==null&&e!==void 0?e:[];return r!=null&&r.query?new Y.a($t(o),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(i,l){return o[i.idx].timestamp-o[l.idx].timestamp||i.score-l.score}}).search(r.query).map(function(s){return s.item}):o}],eventsApiParams:[function(r){return[r.sessionPlayerData]},function(r){var n,e,o,s=(n=r.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,i=(e=r.metadata.segments.slice(-1).pop())===null||e===void 0?void 0:e.endTimeEpochMs;if(!(!(r==null||(o=r.person)===null||o===void 0)&&o.id)||!s||!i)return null;var l=6e4;return{person_id:r.person.id,after:x.a.utc(s).subtract(l,"ms").format(),before:x.a.utc(i).add(l,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(r){return[r.sessionPlayerData]},function(r){var n,e,o=[];return r==null||(n=r.metadata)===null||n===void 0||(e=n.segments)===null||e===void 0||e.forEach(function(s){var i;r==null||(i=r.snapshotsByWindowId[s.windowId])===null||i===void 0||i.forEach(function(l){if(l.type===6&&l.data.plugin===Gt&&l.timestamp>=s.startTimeEpochMs&&l.timestamp<=s.endTimeEpochMs){var c,d,m=l.data.payload,b=m.level,E=m.payload,C=m.trace,z=E==null||(c=E.map)===null||c===void 0?void 0:c.call(E,function(q){return q.startsWith('"')&&q.endsWith('"')?q.slice(1,-1):q}).join(" "),M,H;if(C&&C.length>0){var me=C[0].split("(").slice(-1)[0].replace(")",""),Le=me.split(":"),fe=Le.slice(-2).join(":");if(H=Le.slice(0,-2).join(":"),Le.length>=4)try{var ye=new URL(H).pathname.split("/").slice(-1)[0];M="".concat(ye,":").concat(fe)}catch(q){M=":".concat(fe)}else M=":".concat(fe)}o.push({playerPosition:Pe(l.timestamp,s.windowId,r==null||(d=r.metadata)===null||d===void 0?void 0:d.startAndEndTimesByWindowId),parsedTraceURL:H,parsedTraceString:M,parsedPayload:z,level:b})}})}),o}],areAllSnapshotsLoaded:[function(r){return[r.sessionPlayerData]},function(r){var n,e;return(r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&Ye()(r==null||(e=r.metadata)===null||e===void 0?void 0:e.segments.slice(-1)[0].endPlayerPosition,r==null?void 0:r.bufferedTo)}]},urlToAction:function(n){var e=n.actions,o=n.values,s=n.cache,i=function(c,d,m){var b=d.source,E=m.sessionRecordingId;b&&Object.values(de.d).includes(b)&&e.setSource(b),o&&E&&E!==o.sessionRecordingId&&(s.startTime=performance.now(),e.loadRecordingMeta(E),e.loadRecordingSnapshots(E))};return{"/recordings":i,"/person/*":i,"/insights/*":i}}});function Zt(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=_t(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var o=0,s=function(){};return{s,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(m){throw m},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){e=r[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,c=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw c}}}}function _t(r,n){if(!!r){if(typeof r=="string")return Vt(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Vt(r,n)}}function Vt(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}var St=[.5,1,2,4,8,16],Fe=Object(u.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[de.f],values:[at,["sessionRecordingId","sessionPlayerData"]],actions:[at,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:e}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(e,o){var s=o.frame;return s}}],player:[null,{setPlayer:function(e,o){var s=o.player;return s}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(e,o){var s=o.playerPosition;return s}}],currentSegment:[null,{setCurrentSegment:function(e,o){var s=o.segment;return s}}],speed:[1,{persist:!0},{setSpeed:function(e,o){var s=o.speed;return s}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(e,o){var s=o.skipInactivitySetting;return s}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(e,o){var s=o.isSkippingInactivity;return s}}],scale:[1,{setScale:function(e,o){var s=o.scale;return s}}],playingState:[oe.C.PLAY,{setPlay:function(){return oe.C.PLAY},setPause:function(){return oe.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(r){return[r.playingState,r.isBuffering,r.isScrubbing,r.isSkippingInactivity]},function(r,n,e,o){return e?r:n?oe.C.BUFFER:o&&r!==oe.C.PAUSE?oe.C.SKIP:r}],currentPlayerTime:[function(r){return[r.currentPlayerPosition,r.sessionPlayerData]},function(r,n){var e;if((n==null||(e=n.metadata)===null||e===void 0?void 0:e.segments)&&r){var o;return ce(r,n==null||(o=n.metadata)===null||o===void 0?void 0:o.segments)}return 0}],jumpTimeMs:[function(r){return[r.speed]},function(r){return 10*1e3*r}]},listeners:function(n){var e=n.values,o=n.actions,s=n.cache;return{setRootFrame:function(){o.tryInitReplayer()},tryInitReplayer:function(){var l,c,d=(l=(c=e.currentPlayerPosition)===null||c===void 0?void 0:c.windowId)!==null&&l!==void 0?l:null;if(o.setPlayer(null),e.rootFrame&&(e.rootFrame.innerHTML=""),!e.rootFrame||d===null||!e.sessionPlayerData.snapshotsByWindowId[d]||e.sessionPlayerData.snapshotsByWindowId[d].length<2){o.setPlayer(null);return}var m=new ze.a(e.sessionPlayerData.snapshotsByWindowId[d],{root:e.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});o.setPlayer({replayer:m,windowId:d})},setPlayer:function(l){var c=l.player;c&&(o.seek(e.currentPlayerPosition),o.syncPlayerSpeed())},setCurrentSegment:function(l){var c=l.segment;if(!c.isActive&&e.skipInactivitySetting?o.setSkippingInactivity(!0):o.setSkippingInactivity(!1),e.player&&e.player.windowId!==c.windowId){var d,m;(d=e.player)===null||d===void 0||(m=d.replayer)===null||m===void 0||m.pause(),o.tryInitReplayer()}o.seek(e.currentPlayerPosition)},setSkipInactivitySetting:function(l){var c,d=l.skipInactivitySetting;de.f.actions.reportRecordingPlayerSkipInactivityToggled(d),!(!((c=e.currentSegment)===null||c===void 0)&&c.isActive)&&d?o.setSkippingInactivity(!0):o.setSkippingInactivity(!1)},setSkippingInactivity:function(){o.syncPlayerSpeed()},syncPlayerSpeed:function(){if(e.isSkippingInactivity){var l,c,d,m,b,E,C,z=(((l=(c=e.currentSegment)===null||c===void 0||(d=c.endPlayerPosition)===null||d===void 0?void 0:d.time)!==null&&l!==void 0?l:0)-((m=(b=e.currentPlayerPosition)===null||b===void 0?void 0:b.time)!==null&&m!==void 0?m:0))/1e3,M=Math.max(50,z);(E=e.player)===null||E===void 0||(C=E.replayer)===null||C===void 0||C.setConfig({speed:M})}else{var H,me;(H=e.player)===null||H===void 0||(me=H.replayer)===null||me===void 0||me.setConfig({speed:e.speed})}},checkBufferingCompleted:function(){e.currentPlayerPosition&&e.sessionPlayerData.bufferedTo&&e.currentPlayerState===oe.C.BUFFER&&Ee(e.currentPlayerPosition,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)<0&&(o.endBuffer(),o.seek(e.currentPlayerPosition))},initializePlayerFromStart:function(){var l,c,d=(l=e.sessionPlayerData)===null||l===void 0||(c=l.metadata)===null||c===void 0?void 0:c.segments[0];d&&(o.setCurrentSegment(d),o.setCurrentPlayerPosition(d.startPlayerPosition),e.player||o.tryInitReplayer())},loadRecordingMetaSuccess:function(){var i=W()(w.a.mark(function c(d,m){return w.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:o.initializePlayerFromStart(),o.checkBufferingCompleted(),m();case 3:case"end":return E.stop()}},c)}));function l(c,d){return i.apply(this,arguments)}return l}(),loadRecordingSnapshotsSuccess:function(){var i=W()(w.a.mark(function c(d,m){var b,E,C,z,M,H,me,Le,fe,ye,q,Ge,Ne,tt;return w.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(H=(b=(E=e.player)===null||E===void 0||(C=E.replayer)===null||C===void 0?void 0:C.service.state.context.events)!==null&&b!==void 0?b:[],me=[],((z=e.currentSegment)===null||z===void 0?void 0:z.windowId)!==void 0&&me.push.apply(me,Q()(((Le=e.sessionPlayerData.snapshotsByWindowId[(fe=e.currentSegment)===null||fe===void 0?void 0:fe.windowId])!==null&&Le!==void 0?Le:[]).slice(H.length))),!(!((M=e.player)===null||M===void 0)&&M.replayer)){Be.next=23;break}ye=Zt(me),Be.prev=5,ye.s();case 7:if((q=ye.n()).done){Be.next=13;break}return tt=q.value,Be.next=11,(Ge=e.player)===null||Ge===void 0||(Ne=Ge.replayer)===null||Ne===void 0?void 0:Ne.addEvent(tt);case 11:Be.next=7;break;case 13:Be.next=18;break;case 15:Be.prev=15,Be.t0=Be.catch(5),ye.e(Be.t0);case 18:return Be.prev=18,ye.f(),Be.finish(18);case 21:Be.next=24;break;case 23:o.initializePlayerFromStart();case 24:o.checkBufferingCompleted(),m();case 26:case"end":return Be.stop()}},c,null,[[5,15,18,21]])}));function l(c,d){return i.apply(this,arguments)}return l}(),setPlay:function(){var l;o.stopAnimation(),o.syncPlayerSpeed();var c=e.currentPlayerPosition||((l=e.currentSegment)===null||l===void 0?void 0:l.startPlayerPosition);c&&o.seek(c,!0)},setPause:function(){var l,c;o.stopAnimation(),o.syncPlayerSpeed(),(l=e.player)===null||l===void 0||(c=l.replayer)===null||c===void 0||c.pause()},startBuffer:function(){o.stopAnimation()},startScrub:function(){o.stopAnimation()},setSpeed:function(l){var c=l.speed;de.f.actions.reportRecordingPlayerSpeedChanged(c),o.syncPlayerSpeed()},seek:function(){var i=W()(w.a.mark(function c(d,m){var b,E,C,z,M,H,me,Le,fe,ye,q,Ge,Ne;return w.a.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:C=d.playerPosition,z=d.forcePlay,o.stopAnimation(),o.setCurrentPlayerPosition(C),M=null,C&&((b=e.sessionPlayerData)===null||b===void 0?void 0:b.metadata)&&(M=We(C,e.sessionPlayerData.metadata.segments),M&&(M.windowId!==((H=e.currentSegment)===null||H===void 0?void 0:H.windowId)||M.startTimeEpochMs!==((me=e.currentSegment)===null||me===void 0?void 0:me.startTimeEpochMs))&&o.setCurrentSegment(M)),!(!((E=e.sessionPlayerData)===null||E===void 0)&&E.bufferedTo)||!C||!e.currentSegment||Ee(C,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0?((Le=e.player)===null||Le===void 0||(fe=Le.replayer)===null||fe===void 0||fe.pause(),o.startBuffer()):!z&&e.currentPlayerState===oe.C.PAUSE?((ye=e.player)===null||ye===void 0||(q=ye.replayer)===null||q===void 0||q.pause(C.time),o.endBuffer()):((Ge=e.player)===null||Ge===void 0||(Ne=Ge.replayer)===null||Ne===void 0||Ne.play(C.time),o.updateAnimation(),o.endBuffer()),m();case 7:case"end":return Je.stop()}},c)}));function l(c,d){return i.apply(this,arguments)}return l}(),seekForward:function(){if(e.currentPlayerPosition){var l=ce(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var c=l+e.jumpTimeMs,d=G(c,e.sessionPlayerData.metadata.segments);d||(o.setPause(),d=e.sessionPlayerData.metadata.segments[0].startPlayerPosition),o.seek(d)}}},seekBackward:function(){if(e.currentPlayerPosition){var l=ce(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var c=Math.max(l-e.jumpTimeMs,0),d=G(c,e.sessionPlayerData.metadata.segments);o.seek(d)}}},togglePlayPause:function(){e.currentPlayerState!==oe.C.BUFFER&&(e.currentPlayerState===oe.C.PAUSE?o.setPlay():o.setPause())},updateAnimation:function(){var l,c,d,m,b=(l=e.player)===null||l===void 0||(c=l.replayer)===null||c===void 0?void 0:c.getCurrentTime(),E=null;if(b!==void 0&&e.currentSegment&&(E={windowId:e.currentSegment.windowId,time:Math.min(b,e.currentSegment.endPlayerPosition.time)}),E&&((d=e.currentSegment)===null||d===void 0?void 0:d.endPlayerPosition)&&Ee(E,(m=e.currentSegment)===null||m===void 0?void 0:m.endPlayerPosition,e.sessionPlayerData.metadata.segments)>=0){var C=e.sessionPlayerData.metadata.segments.indexOf(e.currentSegment)+1;if(C<e.sessionPlayerData.metadata.segments.length){var z=e.sessionPlayerData.metadata.segments[C];o.setCurrentPlayerPosition(z.startPlayerPosition),o.setCurrentSegment(z)}else o.setPause(),o.setCurrentPlayerPosition(e.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!e.sessionPlayerData.bufferedTo||!E||!e.currentSegment||Ee(E,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0){var M,H;(M=e.player)===null||M===void 0||(H=M.replayer)===null||H===void 0||H.pause(),o.startBuffer()}else o.setCurrentPlayerPosition(E),s.timer=requestAnimationFrame(o.updateAnimation)},stopAnimation:function(){s.timer&&cancelAnimationFrame(s.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(je.b)("md")}},events:function(n){var e=n.values,o=n.actions;return{beforeUnmount:function(){var i,l;(i=e.player)===null||i===void 0||(l=i.replayer)===null||l===void 0||l.pause(),o.setPlayer(null)}}}}),Yt=t("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Ut=t("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function Ze(r){var n=r.children,e=r.onClick,o=e===void 0?function(){}:e,s=r.className,i=s===void 0?"":s;return a.a.createElement("div",{onClick:o,className:"rrweb-controller-icon ".concat(i)},n)}function Tt(r){var n=r.onClick,e=r.time;return a.a.createElement(Ze,{onClick:n,className:"rrweb-controller-icon-seek"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"seek-seconds"},e),a.a.createElement(Yt.a,{className:"seek-icon",rotate:90})))}function Rt(r){var n=r.onClick,e=r.time;return a.a.createElement(Ze,{onClick:n,className:"rrweb-controller-icon-seek"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"seek-seconds"},e),a.a.createElement(Ut.a,{className:"seek-icon",rotate:270})))}function st(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ze,{onClick:n,className:o},a.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function dt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ze,{onClick:n,className:o},a.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function mt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ze,{onClick:n,className:o},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function wt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ze,{onClick:n,className:o},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function Wt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ze,{onClick:n,className:o},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Tt.displayName="IconSeekBack",Tt.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Tt.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(r){}try{Rt.displayName="IconSeekForward",Rt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:Rt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(r){}try{st.displayName="IconPlay",st.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:st.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(r){}try{dt.displayName="IconPause",dt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:dt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(r){}try{mt.displayName="IconFullscreen",mt.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:mt.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(r){}try{wt.displayName="IconStepForward",wt.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:wt.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(r){}try{Wt.displayName="IconStepBackward",Wt.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:Wt.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(r){}var It=a.a.forwardRef(function(n,e){var o=Object(_.useRef)(),s=Object(u.useValues)(Fe),i=s.currentPlayerState,l=s.player,c=Object(u.useActions)(Fe),d=c.togglePlayPause,m=c.setScale,b=e;Object(_.useEffect)(function(){if(!!l)return l.replayer.on("resize",C),window.addEventListener("resize",E),function(){return window.removeEventListener("resize",E)}},[l==null?void 0:l.replayer]);var E=function(){C(o.current)},C=function(H){var me;if(!(!H||!(!(b==null||(me=b.current)===null||me===void 0)&&me.parentElement)||!(l!=null&&l.replayer))){o.current=H;var Le=b.current.parentElement.getBoundingClientRect(),fe=Le.width,ye=Le.height,q=Math.min(fe/H.width,ye/H.height,1);l.replayer.wrapper.style.transform="scale(".concat(q,")"),b.current.style.paddingLeft="".concat((fe-H.width*q)/2,"px"),b.current.style.paddingTop="".concat((ye-H.height*q)/2,"px"),b.current.style.marginBottom="-".concat(ye-H.height*q,"px"),m(q)}},z=function(){return i===oe.C.BUFFER?a.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):i===oe.C.PAUSE?a.a.createElement("div",{className:"rrweb-overlay"},a.a.createElement(st,{className:"rrweb-overlay-play-icon"})):i===oe.C.SKIP?a.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return a.a.createElement("div",{className:"rrweb-player",onClick:d},a.a.createElement("div",{ref:e}),a.a.createElement("div",{className:"rrweb-overlay-container"},z()))});try{It.displayName="PlayerFrame",It.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:It.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(r){}var At=t("./node_modules/antd/es/select/index.js"),zt=t("./node_modules/antd/es/switch/index.js"),Ht=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),Kt=t.n(Ht),ft={};ft.insert="head",ft.singleton=!1;var ct=le()(Kt.a,ft),Ot=Kt.a.locals||{},pt=t("./node_modules/clsx/dist/clsx.m.js"),yt=Object(u.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[Fe,["sessionPlayerData","currentPlayerPosition"],at,["eventsToShow"]],actions:[Fe,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,e){return{thumbLeftPos:n,shouldSeek:e}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:e}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-re,{setThumbLeftPos:function(n,e){var o=e.thumbLeftPos;return o}}],cursorDiff:[0,{setCursorDiff:function(n,e){var o=e.cursorDiff;return o}}],slider:[null,{setSlider:function(n,e){var o=e.ref;return o.current}}],thumb:[null,{setThumb:function(n,e){var o=e.ref;return o.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(r){return[r.sessionPlayerData]},function(r){var n,e;if((r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments)&&(r==null||(e=r.metadata)===null||e===void 0?void 0:e.recordingDurationMs)){var o,s=(o=ce(r.bufferedTo,r.metadata.segments))!==null&&o!==void 0?o:0;return 100*s/r.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(r){return[r.thumbLeftPos,r.slider,r.sessionPlayerData]},function(r,n,e){var o;return r&&n&&(e==null||(o=e.metadata)===null||o===void 0?void 0:o.recordingDurationMs)?(r+re)/n.offsetWidth*e.metadata.recordingDurationMs:0}]},listeners:function(n){var e=n.values,o=n.actions;return{setCurrentPlayerPosition:function(){var s=W()(w.a.mark(function l(){var c,d,m,b;return w.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(e.slider){C.next=2;break}return C.abrupt("return");case 2:(!e.isSeeking||e.currentPlayerPosition===((c=e.sessionPlayerData)===null||c===void 0||(d=c.metadata)===null||d===void 0||(m=d.segments[0])===null||m===void 0?void 0:m.startPlayerPosition))&&(b=e.currentPlayerPosition?F(e.currentPlayerPosition,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs):0,o.setThumbLeftPos(b-re,!1));case 3:case"end":return C.stop()}},l)}));function i(){return s.apply(this,arguments)}return i}(),setThumbLeftPos:function(i){var l,c=i.thumbLeftPos,d=i.shouldSeek;if(!!e.slider&&d&&((l=e.sessionPlayerData)===null||l===void 0?void 0:l.metadata)){var m=k(c+re,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs);o.seek(m)}},handleSeek:function(){var s=W()(w.a.mark(function l(c){var d,m,b,E,C;return w.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return b=c.newX,E=c.shouldSeek,C=(d=(m=e.slider)===null||m===void 0?void 0:m.offsetWidth)!==null&&d!==void 0?d:0,M.next=4,o.setThumbLeftPos(Object(h.m)(b,0,C)-re,E);case 4:o.endSeeking();case 5:case"end":return M.stop()}},l)}));function i(l){return s.apply(this,arguments)}return i}(),handleMove:function(){var s=W()(w.a.mark(function l(c){var d,m;return w.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(d=c.event,e.slider){E.next=3;break}return E.abrupt("return");case 3:o.startScrub(),m=pe(d)-e.cursorDiff-e.slider.getBoundingClientRect().left,o.handleSeek(m,!1);case 6:case"end":return E.stop()}},l)}));function i(l){return s.apply(this,arguments)}return i}(),handleUp:function(i){var l=i.event;if(!!e.slider){var c=pe(l)-e.cursorDiff-e.slider.getBoundingClientRect().left;o.handleSeek(c),o.endScrub(),document.removeEventListener("touchmove",o.handleMove),document.removeEventListener("touchend",o.handleUp),document.removeEventListener("mousemove",o.handleMove),document.removeEventListener("mouseup",o.handleUp)}},handleDown:function(i){var l=i.event;if(!!e.thumb){o.startScrub();var c=pe(l),d=c-e.thumb.getBoundingClientRect().left-re;Math.abs(d)>se&&(d=0),o.setCursorDiff(d),document.addEventListener("touchmove",o.handleMove),document.addEventListener("touchend",o.handleUp),document.addEventListener("mousemove",o.handleMove),document.addEventListener("mouseup",o.handleUp)}},handleTickClick:function(i){var l=i.playerPosition;e.isSeeking||o.handleSeek(F(l,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var e=n.actions,o=n.values,s=n.cache;return{afterMount:function(){s.setCurrentPlayerPosition=function(){e.setCurrentPlayerPosition(o.currentPlayerPosition)},window.addEventListener("resize",s.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",s.setCurrentPlayerPosition)}}}});function Et(r){var n=r.event,e=Object(_.useState)(!1),o=B()(e,2),s=o[0],i=o[1],l=Object(u.useActions)(yt),c=l.handleTickClick,d=Object(u.useActions)(de.f),m=d.reportRecordingPlayerSeekbarEventHovered;return a.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(E){E.stopPropagation(),c(n.playerPosition)},onMouseEnter:function(E){E.stopPropagation(),i(!0),m()},onMouseLeave:function(E){E.stopPropagation(),i(!1)}},a.a.createElement("div",{className:Object(pt.a)("tick-info",{show:s})},n.event),a.a.createElement("div",{className:"tick-marker"}),a.a.createElement("div",{className:Object(pt.a)("tick-thumb",{big:s})}))}function Ct(){var r,n,e=Object(_.useRef)(null),o=Object(_.useRef)(null),s=Object(u.useActions)(yt),i=s.handleDown,l=s.setSlider,c=s.setThumb,d=Object(u.useValues)(at),m=d.eventsToShow,b=d.sessionPlayerData,E=Object(u.useValues)(yt),C=E.thumbLeftPos,z=E.bufferPercent;return Object(_.useEffect)(function(){e.current&&o.current&&(l(e),c(o))},[e.current,o.current]),a.a.createElement("div",{className:"rrweb-controller-slider"},a.a.createElement("div",{className:"slider",ref:e,onMouseDown:i,onTouchStart:i},a.a.createElement("div",{className:"inactivity-bar"},b==null||(r=b.metadata)===null||r===void 0||(n=r.segments)===null||n===void 0?void 0:n.map(function(M){return a.a.createElement("div",{key:"".concat(M.windowId,"-").concat(M.startTimeEpochMs),className:Object(pt.a)("activity-section",!M.isActive&&"inactive-section"),style:{width:"".concat(100*M.durationMs/b.metadata.recordingDurationMs,"%")}})})),a.a.createElement("div",{className:"slider-bar"}),a.a.createElement("div",{className:"thumb",ref:o,style:{transform:"translateX(".concat(C,"px)")}}),a.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(C,0),"px")}}),a.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(z,"% - 2px)")}})),a.a.createElement("div",{className:"ticks"},m.map(function(M){return a.a.createElement(Et,{key:M.id,event:M})})))}var bt=t("./node_modules/antd/es/tooltip/index.js");function Qt(){var r,n,e,o=Object(u.useActions)(Fe),s=o.seekBackward,i=o.seekForward,l=Object(u.useValues)(Fe),c=l.jumpTimeMs,d=l.currentPlayerTime,m=l.sessionPlayerData,b=Object(u.useValues)(yt),E=b.isScrubbing,C=b.scrubbingTime;return a.a.createElement(a.a.Fragment,null,a.a.createElement(bt.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(c/1e3,"s (\u2190 left arrow)")},a.a.createElement("span",null,a.a.createElement(Tt,{onClick:s,time:c/1e3}))),a.a.createElement(bt.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(c/1e3,"s (\u2192 right arrow)")},a.a.createElement("span",null,a.a.createElement(Rt,{onClick:i,time:c/1e3}))),a.a.createElement("div",{className:"rrweb-timestamp"},Object(h.o)(((r=E?C:d)!==null&&r!==void 0?r:0)/1e3)," /"," ",Object(h.o)(Math.floor(((n=m==null||(e=m.metadata)===null||e===void 0?void 0:e.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function Dt(){var r=Object(u.useActions)(Fe),n=r.togglePlayPause,e=r.setSpeed,o=r.setSkipInactivitySetting,s=Object(u.useValues)(Fe),i=s.currentPlayerState,l=s.speed,c=s.isSmallScreen,d=s.skipInactivitySetting;return a.a.createElement("div",{className:"rrweb-controller"},a.a.createElement("span",null,i===oe.C.PLAY?a.a.createElement(dt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):a.a.createElement(st,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!c&&a.a.createElement(Qt,null),a.a.createElement("div",{className:"rrweb-progress"},a.a.createElement(Ct,null)),a.a.createElement(At.a,{onChange:function(b){return e(b)},value:l,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},a.a.createElement(At.a.OptGroup,{label:"Speed"},St.map(function(m){return a.a.createElement(At.a.Option,{key:m,value:m},m,"x")}))),a.a.createElement("div",{onClick:function(){o(!d)},className:"rrweb-inactivity-toggle"},a.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),a.a.createElement(zt.a,{checked:d,size:"small"})))}var mn=t("./node_modules/core-js/modules/es.symbol.js"),fn=t("./node_modules/core-js/modules/es.symbol.description.js"),en=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),tn=t.n(en),kt={};kt.insert="head",kt.singleton=!1;var nn=le()(tn.a,kt),ln=tn.a.locals||{},Jt=t("./node_modules/antd/es/empty/index.js"),rt=t("./node_modules/antd/es/row/index.js"),gt=t("./node_modules/antd/es/col/index.js"),xt=t("./node_modules/antd/es/skeleton/index.js"),rn=t("./node_modules/antd/es/input/index.js"),dn=t("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),on=t("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),Qe=t("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),it=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Ft=t("./node_modules/react-virtualized/dist/es/List/index.js"),jt=t("./node_modules/react-virtualized/dist/es/Grid/index.js"),pn=t("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Zn=t("./node_modules/core-js/modules/es.array.find-index.js");function vn(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,o)}return e}function an(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?vn(Object(e),!0).forEach(function(o){j()(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):vn(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}var Tn=65,Rn=50,wn=150*5,yn=Object(u.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[de.f],actions:[at,["setFilters","loadEventsSuccess"],Fe,["seek"]],values:[at,["eventsToShow","sessionEventsDataLoading"],Fe,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,e){var o=e.filters;return an(an({},n),o)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,e){var o=e.renderMeta;return o}}],list:[null,{setList:function(n,e){var o=e.list;return o}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var e=n.actions,o=n.values;return{setLocalFilters:function(){var s=W()(w.a.mark(function l(c,d){return w.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,d(250);case 2:e.setFilters(o.localFilters);case 3:case"end":return b.stop()}},l)}));function i(l,c){return s.apply(this,arguments)}return i}(),scrollTo:function(){var s=W()(w.a.mark(function l(c,d){var m,b;return w.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return m=c.rowIndex,b=m!=null?m:o.currentEventsIndices.startIndex,o.list&&(o.list.scrollToPosition(o.list.getOffsetForRow({alignment:"center",index:b})),de.f.actions.reportRecordingScrollTo(b)),C.next=5,d(wn);case 5:e.enablePositionFinder();case 6:case"end":return C.stop()}},l)}));function i(l,c){return s.apply(this,arguments)}return i}(),handleEventClick:function(i){var l=i.playerPosition;l&&e.seek(l)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(e){var o;return an(an({},e),{},{colonTimestamp:Object(h.o)(Math.floor(((o=e.playerTime)!==null&&o!==void 0?o:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,e){var o;if(n.length<1)return{start:0,end:0};var s=n.findIndex(function(c){var d;return((d=c.playerTime)!==null&&d!==void 0?d:0)>=Object(h.k)(e!=null?e:0)}),i=Math.max(Object(h.k)(e!=null?e:0),1e3),l=Object(h.E)((o=n[Object(h.m)(s===-1?n.length-1:s-1,0,n.length-1)].playerTime)!==null&&o!==void 0?o:0);return{start:l,end:i}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,e){return function(o){var s,i,l,c;return((s=e==null||(i=e[o])===null||i===void 0?void 0:i.playerTime)!==null&&s!==void 0?s:0)>=n.start&&((l=e==null||(c=e[o])===null||c===void 0?void 0:c.playerTime)!==null&&l!==void 0?l:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,e){return{startIndex:Object(h.m)(n.findIndex(function(o,s){return e(s)}),0,n.length-1),stopIndex:Object(h.m)(Object(h.C)(n,function(o,s){return e(s)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,e){if(!e||!e.Grid||n.startIndex>=e.Grid.props.rowCount||n.stopIndex>e.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var o=e.Grid.state,s=o.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,i=o.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:s,height:i.offset+i.size-s}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(e){return e>=n.overscanStartIndex&&e<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,e,o){return!o&&(n.stopIndex<e.startIndex||n.startIndex>e.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,e){return n.startIndex>e.stopIndex}]}}}),qt=t("./frontend/src/lib/components/icons.tsx");function gn(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,o)}return e}function hn(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?gn(Object(e),!0).forEach(function(o){j()(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gn(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function In(r){var n=r.cellCount,e=r.overscanCellsCount,o=r.startIndex,s=r.stopIndex,i=Math.floor(e/2),l=e-i;return{overscanStartIndex:Math.max(0,o-i),overscanStopIndex:Math.min(n-1,s+l)}}var An=function(n){return n.event==="$pageview"?a.a.createElement(qt.PageviewIcon,null):n.event==="$pageleave"?a.a.createElement(qt.PageleaveIcon,null):n.event==="$autocapture"?a.a.createElement(qt.AutocaptureIcon,null):a.a.createElement(qt.EventIcon,null)};function Dn(){return a.a.createElement("div",{className:"event-list-empty-container"},a.a.createElement(Jt.a,{image:Jt.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function Fn(r){var n=r.description,e=Object(_.useRef)(null);return a.a.createElement("span",{className:Object(pt.a)("event-item-content-subtitle",Object(h.U)(e.current)&&"overflowing"),title:n},a.a.createElement("div",{className:"inner",ref:e},n))}function bn(){var r=Object(_.useRef)(null),n=Object(u.useValues)(yn),e=n.localFilters,o=n.listEvents,s=n.currentEventsBoxSizeAndPosition,i=n.showPositionFinder,l=n.isRowIndexRendered,c=n.isEventCurrent,d=n.isDirectionUp,m=n.renderedRows,b=Object(u.useValues)(at),E=b.sessionEventsDataLoading,C=Object(u.useActions)(yn),z=C.setLocalFilters,M=C.setRenderedRows,H=C.setList,me=C.scrollTo,Le=C.disablePositionFinder,fe=C.handleEventClick;Object(_.useEffect)(function(){r!=null&&r.current&&H(r.current)},[r.current]);var ye=Object(_.useCallback)(function(Ne){var tt=Ne.index,Je=Ne.style,Be=Ne.key,ut=o[tt],Lt=Object(f.d)(ut.event,"event"),Mt=c(tt);return a.a.createElement(rt.a,{key:Be,className:Object(pt.a)("event-list-item",{"current-event":Mt}),align:"top",style:hn(hn({},Je),{},{zIndex:o.length-tt}),onClick:function(){fe(ut.playerPosition)}},a.a.createElement(gt.a,{className:"event-item-icon"},a.a.createElement("div",{className:"event-item-icon-wrapper"},An(ut))),a.a.createElement(gt.a,{className:Object(pt.a)("event-item-content",{rendering:!l(tt)})},a.a.createElement(rt.a,{className:"event-item-content-top-row"},a.a.createElement(f.b,{className:"event-item-content-title",value:ut.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),a.a.createElement("span",{className:"event-item-content-timestamp"},ut.colonTimestamp)),Lt&&a.a.createElement(Fn,{description:Object(h.j)(Object(h.B)(ut,!0))}),a.a.createElement(xt.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[o.length,m.startIndex,m.stopIndex,s.top,s.height]),q=Object(_.useCallback)(function(Ne){var tt=Object(jt.c)(Ne);return o.length>0&&tt.push(a.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:s.height,transform:"translateY(".concat(s.top,"px)")}})),tt},[s.top,s.height,E,o.length]);return a.a.createElement(gt.a,{className:"player-events-container"},a.a.createElement(rn.a,{prefix:a.a.createElement(dn.a,null),placeholder:"Search for events",value:e.query,onChange:function(Ne){return z({query:Ne.target.value})}}),a.a.createElement(gt.a,{className:"event-list"},E?a.a.createElement(h.b,null):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Object(pt.a)("current-events-position-finder",{visible:i})},a.a.createElement(rt.a,{className:"left",align:"middle",wrap:!1,onClick:function(){me()}},d?a.a.createElement(on.a,null):a.a.createElement(Qe.a,null),"Jump to current time"),a.a.createElement(rt.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){Le()}},a.a.createElement(it.a,null))),a.a.createElement(pn.a,null,function(Ge){var Ne=Ge.height,tt=Ge.width;return a.a.createElement(Ft.b,{ref:r,className:"event-list-virtual",height:Ne,width:tt,onRowsRendered:M,noRowsRenderer:Dn,cellRangeRenderer:q,overscanRowCount:Rn,overscanIndicesGetter:In,rowCount:o.length,rowRenderer:ye,rowHeight:Tn})}))))}var En=t("./node_modules/antd/es/tabs/index.js"),Ln=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Mn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),Pn=t.n(Mn),cn={};cn.insert="head",cn.singleton=!1;var Qn=le()(Pn.a,cn),Jn=Pn.a.locals||{},Nn=t("./node_modules/antd/es/space/index.js"),Bn=t("./frontend/src/lib/components/ProfilePicture/index.ts"),_n=t("./frontend/src/scenes/persons/PersonHeader.tsx"),qn=t("./node_modules/core-js/modules/es.array.filter.js"),er=t("./node_modules/core-js/modules/es.array.some.js"),Sn=function(n,e){return e.some(function(o){var s;return!(!(n==null||(s=n.properties)===null||s===void 0)&&s[o])})?null:e.map(function(o){var s;return n==null||(s=n.properties)===null||s===void 0?void 0:s[o]}).join(", ")},Vn=Object(u.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[at,["sessionPlayerData"],Fe,["currentPlayerPosition","scale"]],actions:[at,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(r){return[r.sessionPlayerData]},function(r){return r==null?void 0:r.person}],description:[function(r){return[r.sessionPerson]},function(r){var n=Sn(r,["$geoip_city_name","$geoip_country_code"]),e=Sn(r,["$browser","$os"]);return[e,n].filter(function(o){return o}).join(" \xB7 ")}],resolution:[function(r){return[r.sessionPlayerData,r.currentPlayerPosition]},function(r,n){var e,o;if(!n)return null;var s=(e=r.snapshotsByWindowId[n.windowId])!==null&&e!==void 0?e:[],i=(o=qe(n,r.metadata.startAndEndTimesByWindowId))!==null&&o!==void 0?o:0,l=Object(h.C)(s,function(d){return d.timestamp<i&&"width"in d.data});if(l===-1)return null;var c=s[l];return{width:c.data.width,height:c.data.height}}],recordingStartTime:[function(r){return[r.sessionPlayerData]},function(r){var n,e;return r==null||(n=r.metadata)===null||n===void 0||(e=n.segments[0])===null||e===void 0?void 0:e.startTimeEpochMs}]}}),Un=t("./frontend/src/scenes/funnels/funnelUtils.ts"),Wn=t("./frontend/src/lib/components/TimezoneAware/index.tsx");function zn(){var r,n=Object(u.useValues)(Vn),e=n.sessionPerson,o=n.description,s=n.resolution,i=n.scale,l=n.recordingStartTime,c=n.loading;return a.a.createElement(gt.a,{className:"player-meta-container"},a.a.createElement(rt.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},a.a.createElement(rt.a,{className:"player-meta-person-title",align:"middle",wrap:!1},c?a.a.createElement(Nn.b,null,a.a.createElement(xt.a.Avatar,{active:!0,size:"small",shape:"circle"}),a.a.createElement(xt.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(Bn.a,{name:e==null?void 0:e.name,email:e==null||(r=e.properties)===null||r===void 0?void 0:r.$email,size:"md",style:{marginRight:"0.5rem"}}),a.a.createElement("span",{className:"email"},a.a.createElement(_n.a,{person:e,withIcon:!1})))),a.a.createElement(gt.a,null,c?a.a.createElement(xt.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):a.a.createElement("span",{className:"time text-muted"},l&&a.a.createElement(Wn.b,{time:Object(x.a)(l)})))),a.a.createElement(rt.a,{className:"player-meta-other",align:"middle",justify:"start"},a.a.createElement(rt.a,{className:"player-meta-other-description"},c?a.a.createElement(xt.a,{title:!1,active:!0,paragraph:{rows:1}}):a.a.createElement("span",null,o)),a.a.createElement(rt.a,{className:"player-meta-other-resolution mt-05"},c?a.a.createElement(xt.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):a.a.createElement("span",null,s?a.a.createElement(a.a.Fragment,null,"Resolution: ",s.width," x ",s.height," (",Object(Un.c)(i),"%)"):a.a.createElement(a.a.Fragment,null,"Resolution: ...")))))}var Kn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),On=t.n(Kn),un={};un.insert="head",un.singleton=!1;var tr=le()(On.a,un),nr=On.a.locals||{},Cn=t("./frontend/src/lib/components/LemonButton/index.ts"),kn=t("./frontend/src/lib/components/Spinner/Spinner.tsx");function Gn(){var r=Object(u.useValues)(at),n=r.orderedConsoleLogs,e=r.areAllSnapshotsLoaded,o=Object(u.useActions)(de.f),s=o.reportRecordingConsoleFeedback,i=Object(u.useActions)(Fe),l=i.seek,c=Object(_.useState)(!1),d=B()(c,2),m=d[0],b=d[1],E=function(z,M){return a.a.createElement("div",{className:"log-line level-".concat(z.level),key:M,onClick:function(){l(z.playerPosition)}},a.a.createElement("div",{className:"trace-string"},z.parsedTraceURL?a.a.createElement("a",{className:"text-muted",href:z.parsedTraceURL,target:"_blank"},z.parsedTraceString):a.a.createElement("span",{className:"text-muted"},z.parsedTraceString)),a.a.createElement("p",{className:"log-text"},z.parsedPayload))};return a.a.createElement("div",{className:"console-log-container"},a.a.createElement("div",{className:"console-log"},e?n.length>0?a.a.createElement(pn.a,null,function(C){var z=C.height,M=C.width;return a.a.createElement("div",{style:{height:z,width:M,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(H,me){return E(H,me)}),a.a.createElement("div",null,n.length>150&&a.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},a.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),a.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",a.a.createElement("code",null,"posthog-js"),"."),a.a.createElement(Cn.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):a.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},a.a.createElement(kn.a,{size:"lg"}))),a.a.createElement("div",{className:"console-feedback-container"},a.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),m?a.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):a.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(C,z){return a.a.createElement(Cn.a,{type:"secondary",key:z,style:{margin:"0 8px"},onClick:function(){b(!0),s(n.length,C[0],"Are you finding the console log feature useful?")}},C[1])}))))}var $n=t("./frontend/src/lib/components/Tooltip.tsx");function Yn(){var r=Object(u.useActions)(Fe),n=r.togglePlayPause,e=r.seekForward,o=r.seekBackward,s=r.setSpeed,i=r.setRootFrame,l=Object(u.useValues)(Fe),c=l.isSmallScreen,d=Object(_.useRef)(null);Object(_.useEffect)(function(){d.current&&i(d.current)},[d]);var m=function(E){var C;if(!(!((C=E.target)===null||C===void 0)&&C.matches("input")))if(E.key===" ")n(),E.preventDefault();else if(E.key==="ArrowLeft")o();else if(E.key==="ArrowRight")e();else for(var z=0;z<St.length;z++)E.key===(z+1).toString()&&s(St[z])};return a.a.createElement(gt.a,{className:"session-player-v2",onKeyDown:m,tabIndex:0,flex:1},a.a.createElement(rt.a,{className:"session-player-body",wrap:!1},a.a.createElement("div",{className:"player-container ph-no-capture"},a.a.createElement(It,{ref:d})),!c&&a.a.createElement(jn,null)),a.a.createElement(rt.a,{className:"player-controller",align:"middle"},a.a.createElement(Dt,null)),c&&a.a.createElement(jn,null))}var xn=En.a.TabPane;function jn(){var r=Object(u.useValues)(ke.a),n=r.featureFlags,e=Object(u.useValues)(at),o=e.orderedConsoleLogs,s=Object(u.useActions)(de.f),i=s.reportRecordingConsoleViewed,l=n[He.n.SESSION_CONSOLE];return a.a.createElement(gt.a,{className:"player-sidebar"},a.a.createElement("div",{className:"player-meta"},a.a.createElement(zn,null)),a.a.createElement("div",{className:"player-events"},l?a.a.createElement(En.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(d){d==="console"&&i(o.length)}},a.a.createElement(xn,{tab:"Events",key:"events"},a.a.createElement(bn,null)),a.a.createElement(xn,{tab:a.a.createElement("div",null,"Console (beta)",a.a.createElement($n.a,{title:"While console logs are in beta, only 150 logs are displayed."},a.a.createElement(Ln.a,{style:{marginLeft:6}}))),key:"console"},a.a.createElement(Gn,null))):a.a.createElement(bn,null)))}var Hn=t("./node_modules/antd/es/button/index.js"),Xn=t("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function sn(r){var n=r.isPersonPage,e=n===void 0?!1:n,o=r.onClose;return a.a.createElement(O.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:o,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},a.a.createElement(gt.a,{style:{height:"100vh"}},a.a.createElement(rt.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},a.a.createElement(Hn.a,{type:"link",onClick:o},a.a.createElement(Xn.a,null)," Back to ",e?"persons":"recordings"),a.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:o},a.a.createElement(qt.IconClose,null))),a.a.createElement(rt.a,{className:"session-drawer-body"},a.a.createElement(Yn,null))))}try{sn.displayName="SessionPlayerDrawer",sn.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:sn.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(r){}},"./frontend/src/scenes/session-recordings/SessionRecordings.tsx":function(X,T,t){"use strict";t.r(T),t.d(T,"SessionsRecordings",function(){return Ce}),t.d(T,"scene",function(){return Ie});var _=t("./node_modules/react/index.js"),a=t.n(_),O=t("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),_e=t("./frontend/src/lib/components/PageHeader.tsx"),Se=t("./node_modules/antd/es/row/index.js"),ge=t("./node_modules/antd/es/alert/index.js"),le=t("./node_modules/antd/es/button/index.js"),L=t("./frontend/src/scenes/teamLogic.ts"),he=t("./node_modules/kea/lib/index.esm.js"),Ve=t("./node_modules/kea-router/lib/index.js"),Oe=t.n(Ve),Re=t("./frontend/src/scenes/urls.ts"),u=t("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),ae=t("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts");function Ce(){var $=Object(he.useValues)(L.a),R=$.currentTeam;return a.a.createElement("div",null,a.a.createElement(_e.a,{title:a.a.createElement(Se.a,{align:"middle"},"Recordings")}),R&&!(R!=null&&R.session_recording_opt_in)?a.a.createElement(ge.a,{style:{marginBottom:16,display:"flex",alignItems:"center"},message:"Recordings are not yet enabled for this project",description:"To use this feature, please go to your project settings and enable it.",type:"info",showIcon:!0,action:a.a.createElement(le.a,{type:"primary",onClick:function(){Ve.router.actions.push(Re.a.projectSettings(),{},"session-recording")}},"Go to settings ",a.a.createElement(u.a,null))}):null,a.a.createElement(O.a,{key:"global"}))}var Ie={component:Ce,logic:ae.a}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(X,T,t){"use strict";t.d(T,"a",function(){return Z});var _=t("./node_modules/core-js/modules/es.array.filter.js"),a=t("./node_modules/react/index.js"),O=t.n(a),_e=t("./node_modules/kea/lib/index.esm.js"),Se=t("./frontend/src/lib/utils.tsx"),ge=t("./node_modules/antd/es/row/index.js"),le=t("./node_modules/antd/es/col/index.js"),L=t("./node_modules/antd/es/button/index.js"),he=t("./node_modules/antd/es/typography/index.js"),Ve=t("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),Oe=t("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),Re=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),u=t("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),ae=t("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),Ce=t("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Ie=t("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),$=t("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),R=t("./frontend/src/types.ts"),Q=t("./node_modules/antd/es/space/index.js"),xe=t("./node_modules/antd/es/input/index.js"),w=t("./node_modules/antd/es/select/index.js"),te=t("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),ue=t("./frontend/src/lib/components/Popup/Popup.tsx"),W=t("./node_modules/core-js/modules/es.array.iterator.js"),ze=t("./node_modules/core-js/modules/es.array.slice.js"),de=t("./node_modules/core-js/modules/es.object.to-string.js"),oe=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),je;(function(h){h.SECONDS="seconds",h.MINUTES="minutes",h.HOURS="hours"})(je||(je={}));var ne={seconds:1,minutes:60,hours:3600},Te=Object(_e.kea)({path:function(I){return["scenes","session-recordings","DurationFilterLogic",I]},key:function(I){return I.pageKey||"global"},props:{},actions:{setTimeValue:function(I){return{timeValue:I}},setUnit:function(I){return{unit:I}},setIsOpen:function(I){return{isOpen:I}},setOperator:function(I){return{operator:I}}},reducers:function(I){var f,x=I.props;return{unit:[je.MINUTES,{setUnit:function(A,N){var P=N.unit;return P}}],operator:[x==null||(f=x.initialFilter)===null||f===void 0?void 0:f.operator,{setOperator:function(A,N){var P=N.operator;return P}}],timeValue:[Math.floor(x.initialFilter.value/ne[je.MINUTES]),{setTimeValue:function(A,N){var P=N.timeValue;return P}}],isOpen:[!1,{setIsOpen:function(A,N){var P=N.isOpen;return P}}]}},selectors:{durationString:[function(h){return[h.operator,h.timeValue,h.unit]},function(h,I,f){var x="";return h===R.z.GreaterThan?x+="> ":x+="< ",x+=I,I===1?x+=" "+f.slice(0,-1):x+=" "+f,x}]},listeners:function(I){var f=I.props,x=I.values,V=function(N){var P=N.timeValue,U=N.unit,se=N.operator,re=P||x.timeValue,be=U||x.unit,Ue=re*ne[be];f.onChange({operator:se||x.operator,value:Ue,type:"recording",key:"duration"})};return{setTimeValue:function(N){var P=N.timeValue;return V({timeValue:P})},setUnit:function(N){var P=N.unit;return V({unit:P})},setOperator:function(N){var P=N.operator;return V({operator:P})}}}});function Me(h){var I=h.initialFilter,f=h.onChange,x=h.pageKey,V=Te({initialFilter:I,onChange:f,pageKey:x}),A=Object(_e.useActions)(V),N=A.setTimeValue,P=A.setIsOpen,U=A.setOperator,se=A.setUnit,re=Object(_e.useValues)(V),be=re.durationString,Ue=re.unit,pe=re.timeValue,Ee=re.operator,We=re.isOpen;return O.a.createElement(ue.a,{visible:We,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return P(!1)},overlay:O.a.createElement(ge.a,null,O.a.createElement(Q.b,null,O.a.createElement(te.a,{operator:Ee,operators:[R.z.GreaterThan,R.z.LessThan],onChange:function(G){U(G)}}),O.a.createElement(xe.a,{type:"number",value:pe,placeholder:"0",min:0,autoFocus:!0,addonAfter:O.a.createElement(w.a,{showSearch:!1,value:Ue,onChange:function(G){se(G)}},O.a.createElement(w.a.Option,{value:"seconds"},"Seconds"),O.a.createElement(w.a.Option,{value:"minutes"},"Minutes"),O.a.createElement(w.a.Option,{value:"hours"},"Hours")),step:1,onChange:function(G){var Pe=parseFloat(G.target.value);N(Pe)}})))},O.a.createElement(L.a,{onClick:function(){P(!0)}},be))}try{Me.displayName="DurationFilter",Me.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"]={docgenInfo:Me.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"})}catch(h){}var vt=t("./frontend/src/scenes/persons/PersonHeader.tsx"),nt=t("./frontend/src/lib/utils/eventUsageLogic.ts"),ht=t("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),we=t("./frontend/src/lib/components/Tooltip.tsx"),Xe=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Ke=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),$e=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),lt=t.n($e),ot=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),v=t.n(ot),S={};S.insert="head",S.singleton=!1;var g=lt()(v.a,S),y=v.a.locals||{},K=t("./frontend/src/lib/components/LemonTable/index.ts"),p=t("./frontend/src/lib/components/TimezoneAware/index.tsx"),j=t("./frontend/src/lib/components/icons.tsx"),D=t("./frontend/src/lib/components/LemonButton/index.ts"),B=t("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx");function Y(h){var I=h.filter,f=h.propertyFiltersButton,x=h.deleteButton;return O.a.createElement(ge.a,{className:"entity-filter-row",wrap:!1,align:"middle"},O.a.createElement(le.a,{flex:"1",className:"mr"},O.a.createElement(ge.a,{align:"middle"},I)),O.a.createElement(le.a,{className:"mr"},f),O.a.createElement(le.a,null,x))}function Z(h){var I=h.personUUID,f=h.isPersonPage,x=f===void 0?!1:f,V=Object(Ve.a)({personUUID:I}),A=Object(_e.useValues)(V),N=A.sessionRecordings,P=A.sessionRecordingsResponseLoading,U=A.sessionRecordingId,se=A.entityFilters,re=A.propertyFilters,be=A.hasNext,Ue=A.hasPrev,pe=A.fromDate,Ee=A.toDate,We=A.durationFilter,ce=A.showFilters,G=Object(_e.useActions)(V),Pe=G.openSessionPlayer,qe=G.closeSessionPlayer,k=G.setEntityFilters,F=G.setPropertyFilters,ee=G.loadNext,J=G.loadPrev,Ye=G.setDateRange,ke=G.setDurationFilter,He=G.enableFilter,et=G.reportRecordingsListFilterAdded,ve=[{title:"Start time",render:function(ie,De){return O.a.createElement(p.b,{time:De.start_time,formatString:"MMMM DD, YYYY h:mm"})}},{title:"Duration",render:function(ie,De){return O.a.createElement("span",null,Object(Se.N)(De.recording_duration))}},{title:"Person",key:"person",render:function(ie,De){return O.a.createElement(vt.a,{withIcon:!0,person:De.person})}},{render:function(ie,De){return O.a.createElement("div",{className:"play-button-container"},O.a.createElement(L.a,{className:De.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:O.a.createElement(Oe.a,null)},"Watch recording"))}}];return O.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},O.a.createElement(ge.a,{className:"filter-row"},O.a.createElement("div",{className:"filter-container",style:{display:ce?void 0:"none"}},O.a.createElement("div",null,O.a.createElement(he.a.Text,{strong:!0},"Filter by events and actions ",O.a.createElement(we.a,{title:"Show recordings where all of the events or actions listed below happen."},O.a.createElement(Re.a,{className:"info-icon"}))),O.a.createElement(Ce.a,{fullWidth:!0,filters:se,setFilters:function(ie){et(nt.e.EventAndAction),k(ie)},typeKey:x?"person-".concat(I):"session-recordings",mathAvailability:B.b.None,buttonCopy:"Add another filter",horizontalUI:!0,stripeActionRow:!1,propertyFilterWrapperClassName:"session-recording-action-property-filter",customRowPrefix:"",hideRename:!0,showOr:!0,renderRow:function(ie){return O.a.createElement(Y,ie)},showNestedArrow:!1,actionsTaxonomicGroupTypes:[Xe.a.Actions,Xe.a.Events],propertiesTaxonomicGroupTypes:[Xe.a.EventProperties,Xe.a.Elements]})),!x&&O.a.createElement("div",{className:"mt-2"},O.a.createElement(he.a.Text,{strong:!0},"Filter by persons and cohorts ",O.a.createElement(we.a,{title:"Show recordings by persons who match the set criteria"},O.a.createElement(Re.a,{className:"info-icon"}))),O.a.createElement(Ke.a,{popoverPlacement:"bottomRight",pageKey:x?"person-".concat(I):"session-recordings",taxonomicGroupTypes:[Xe.a.PersonProperties,Xe.a.Cohorts],propertyFilters:re,onChange:function(ie){et(nt.e.PersonAndCohort),F(ie)}}))),!ce&&O.a.createElement(D.a,{type:"secondary",compact:!0,icon:O.a.createElement(j.IconFilter,null),onClick:function(){if(He(),x){var ie=document.querySelectorAll(".entity-filter-row button");ie.length>0&&ie[0].click()}}},"Filter recordings"),O.a.createElement(ge.a,{className:"time-filter-row"},O.a.createElement(ge.a,{className:"time-filter"},O.a.createElement(ht.a,{makeLabel:function(ie){return O.a.createElement(O.a.Fragment,null,O.a.createElement(u.a,null),O.a.createElement("span",null," ",ie))},defaultValue:"Last 7 days",bordered:!0,dateFrom:pe!=null?pe:void 0,dateTo:Ee!=null?Ee:void 0,onChange:function(ie,De){et(nt.e.DateRange),Ye(ie,De)},dateOptions:{Custom:{values:[]},"Last 24 hours":{values:["-24h"]},"Last 7 days":{values:["-7d"]},"Last 21 days":{values:["-21d"]}}})),O.a.createElement(ge.a,{className:"time-filter"},O.a.createElement(he.a.Text,{className:"filter-label"},"Duration"),O.a.createElement(Me,{onChange:function(ie){et(nt.e.Duration),ke(ie)},initialFilter:We,pageKey:x?"person-".concat(I):"session-recordings"})))),O.a.createElement(K.a,{dataSource:N,columns:ve,loading:P,onRow:function(ie){return{onClick:function(Pt){Pt.target.closest("a")||Pe(ie.id,nt.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(Ue||be)&&O.a.createElement(ge.a,{className:"pagination-control"},O.a.createElement(L.a,{type:"link",disabled:!Ue,onClick:function(){J(),window.scrollTo(0,0)}},O.a.createElement(Ie.a,null)," Previous"),O.a.createElement(L.a,{type:"link",disabled:!be,onClick:function(){ee(),window.scrollTo(0,0)}},"Next ",O.a.createElement($.a,null))),O.a.createElement("div",{style:{marginBottom:64}}),!!U&&O.a.createElement(ae.a,{isPersonPage:x,onClose:qe}))}try{Z.displayName="SessionRecordingsTable",Z.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:Z.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(h){}},"./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts":function(X,T,t){"use strict";t.d(T,"a",function(){return ot});var _=t("./node_modules/core-js/modules/es.array.concat.js"),a=t.n(_),O=t("./node_modules/core-js/modules/es.array.iterator.js"),_e=t.n(O),Se=t("./node_modules/core-js/modules/es.array.map.js"),ge=t.n(Se),le=t("./node_modules/core-js/modules/es.object.to-string.js"),L=t.n(le),he=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ve=t.n(he),Oe=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Re=t.n(Oe),u=t("./node_modules/@babel/runtime/regenerator/index.js"),ae=t.n(u),Ce=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ie=t.n(Ce),$=t("./node_modules/regenerator-runtime/runtime.js"),R=t.n($),Q=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),xe=t.n(Q),w=t("./node_modules/kea/lib/index.esm.js"),te=t("./frontend/src/lib/api.ts"),ue=t("./frontend/src/lib/utils.tsx"),W=t("./frontend/src/types.ts"),ze=t("./node_modules/kea-router/lib/index.js"),de=t.n(ze),oe=t("./frontend/src/lib/utils/eventUsageLogic.ts"),je=t("./node_modules/fast-deep-equal/index.js"),ne=t.n(je),Te=t("./frontend/src/scenes/teamLogic.ts"),Me=t("./frontend/src/lib/dayjs.ts"),vt=t("./frontend/src/lib/logic/featureFlagLogic.ts"),nt=t("./frontend/src/lib/constants.tsx");function ht(v,S){var g=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);S&&(y=y.filter(function(K){return Object.getOwnPropertyDescriptor(v,K).enumerable})),g.push.apply(g,y)}return g}function we(v){for(var S=1;S<arguments.length;S++){var g=arguments[S]!=null?arguments[S]:{};S%2?ht(Object(g),!0).forEach(function(y){Ie()(v,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(g)):ht(Object(g)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(g,y))})}return v}var Xe=50,Ke={type:"recording",key:"duration",value:60,operator:W.z.GreaterThan},$e=[],lt={events:[],actions:[],new_entity:[{id:null,type:W.g.EVENTS,order:0,name:null}]},ot=Object(w.kea)({path:function(S){return["scenes","session-recordings","sessionRecordingsTableLogic",S]},key:function(S){return S.personUUID||"global"},props:{},connect:{values:[Te.a,["currentTeamId"]],actions:[oe.f,["reportRecordingsListFetched","reportRecordingsListFilterAdded"]]},actions:{getSessionRecordings:!0,openSessionPlayer:function(S,g){return{sessionRecordingId:S,source:g}},closeSessionPlayer:!0,setEntityFilters:function(S){return{filters:S}},setPropertyFilters:function(S){return{filters:S}},loadNext:!0,loadPrev:!0,enableFilter:!0,setOffset:function(S){return{offset:S}},setDateRange:function(S,g){return{incomingFromDate:S,incomingToDate:g}},setDurationFilter:function(S){return{durationFilter:S}}},loaders:function(S){var g=S.props,y=S.values,K=S.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var p=xe()(ae.a.mark(function D(B,Y){var Z,h,I,f,x,V;return ae.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return h=we(we({},y.filterQueryParams),{},{person_uuid:(Z=g.personUUID)!==null&&Z!==void 0?Z:"",limit:Xe}),I=Object(ue.Ab)(h),N.next=4,Y(100);case 4:return f=performance.now(),N.next=7,te.a.get("api/projects/".concat(y.currentTeamId,"/session_recordings?").concat(I));case 7:return x=N.sent,V=performance.now()-f,K.reportRecordingsListFetched(V),Y(),N.abrupt("return",x);case 12:case"end":return N.stop()}},D)}));function j(D,B){return p.apply(this,arguments)}return j}()}]}},events:function(S){var g=S.actions;return{afterMount:function(){g.getSessionRecordings()}}},reducers:{filterEnabled:[!1,{enableFilter:function(){return!0}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(S,g){var y=g.sessionRecordingsResponse;return Re()(y.results)},openSessionPlayer:function(S,g){var y=g.sessionRecordingId;return Re()(S.map(function(K){return K.id===y?we(we({},K),{},{viewed:!0}):we({},K)}))}}],sessionRecordingId:[null,{openSessionPlayer:function(S,g){var y=g.sessionRecordingId;return y},closeSessionPlayer:function(){return null}}],entityFilters:[lt,{setEntityFilters:function(S,g){var y=g.filters;return we({},y)}}],propertyFilters:[$e,{setPropertyFilters:function(S,g){var y=g.filters;return Re()(y)}}],durationFilter:[Ke,{setDurationFilter:function(S,g){var y=g.durationFilter;return y}}],offset:[0,{loadNext:function(S){return S+Xe},loadPrev:function(S){return Math.max(S-Xe)},setOffset:function(S,g){var y=g.offset;return y}}],fromDate:[Object(Me.a)().subtract(7,"days").format("YYYY-MM-DD"),{setDateRange:function(S,g){var y=g.incomingFromDate;return y!=null?y:null}}],toDate:[null,{setDateRange:function(S,g){var y=g.incomingToDate;return y!=null?y:null}}]},listeners:function(S){var g=S.actions;return{setEntityFilters:function(){g.getSessionRecordings()},setPropertyFilters:function(){g.getSessionRecordings()},setDateRange:function(){g.getSessionRecordings()},setDurationFilter:function(){g.getSessionRecordings()},loadNext:function(){g.getSessionRecordings()},loadPrev:function(){g.getSessionRecordings()}}},selectors:{hasPrev:[function(v){return[v.offset]},function(v){return v>0}],hasNext:[function(v){return[v.sessionRecordingsResponse]},function(v){return v.has_next}],showFilters:[function(v){return[v.filterEnabled,v.entityFilters,v.propertyFilters,vt.a.selectors.featureFlags]},function(v,S,g,y){return y[nt.n.RECORDINGS_FILTER_EXPERIMENT]==="test"||v||S!==lt||g!==$e}],filterQueryParams:[function(v){return[v.entityFilters,v.fromDate,v.toDate,v.offset,v.durationFilter,v.propertyFilters]},function(v,S,g,y,K,p){return{actions:v.actions,events:v.events,properties:p,date_from:S,date_to:g,offset:y,session_recording_duration:K}}]},actionToUrl:function(S){var g=S.values,y=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=arguments.length>1?arguments[1]:void 0,D=we({filters:g.filterQueryParams},p),B=we({},ze.router.values.hashParams);return g.sessionRecordingId?B.sessionRecordingId=g.sessionRecordingId:delete B.sessionRecordingId,[ze.router.values.location.pathname,D,B,{replace:j}]};return{loadSessionRecordings:function(){return y({},!0)},openSessionPlayer:function(p){var j=p.source;return y({source:j},!1)},closeSessionPlayer:function(){return y({},!1)},setEntityFilters:function(){return y({},!0)},setPropertyFilters:function(){return y({},!0)},setDateRange:function(){return y({},!0)},setDurationFilter:function(){return y({},!0)},loadNext:function(){return y({},!0)},loadPrev:function(){return y({},!0)}}},urlToAction:function(S){var g=S.actions,y=S.values,K=S.props,p=function(B,Y,Z){var h,I=(h=Z.sessionRecordingId)!==null&&h!==void 0?h:null;I!==y.sessionRecordingId&&g.openSessionPlayer(I,oe.d.Direct);var f=Y.filters;if(f){if((!ne()(f.actions,y.entityFilters.actions)||!ne()(f.events,y.entityFilters.events))&&g.setEntityFilters({events:f.events||[],actions:f.actions||[]}),!ne()(f.properties,y.propertyFilters)){var x;g.setPropertyFilters((x=f.properties)!==null&&x!==void 0?x:[])}if(f.date_from!==y.fromDate||f.date_to!==y.toDate){var V,A;g.setDateRange((V=f.date_from)!==null&&V!==void 0?V:void 0,(A=f.date_to)!==null&&A!==void 0?A:void 0)}if(f.offset!==y.offset){var N;g.setOffset((N=f.offset)!==null&&N!==void 0?N:0)}if(!ne()(f.session_recording_duration,y.durationFilter)){var P;g.setDurationFilter((P=f.session_recording_duration)!==null&&P!==void 0?P:Ke)}}},j=K.personUUID?"/person/*":"/recordings";return Ie()({},j,p)}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.column-configurator-modal .text-blue{color:#5375ff}.column-configurator-modal .column-display-item{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:4px;margin:2px 0}.column-configurator-modal .column-display-item:hover{background-color:#f2f2f2}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:rgba(0,0,0,.5);background-color:#f2f2f2}.column-configurator-modal .column-display-item.selected{background-color:#839af8}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-table .filter-row{width:100%;justify-content:space-between;margin-bottom:1rem;align-items:flex-end}.session-recordings-table .filter-container{max-width:700px;padding:1rem;border:1px solid rgba(0,0,0,.15);flex:1;border-radius:4px}.session-recordings-table .filter-section{padding-bottom:1rem}.session-recordings-table .session-recording-action-property-filter{margin:0 0 0 68px;background-color:#fafafa;border:1px solid rgba(0,0,0,.15);border-top:0 solid rgba(0,0,0,.15);padding:.25rem 1rem}.session-recordings-table .time-filter-row{justify-content:flex-end;align-items:flex-end}.session-recordings-table .time-filter-row .time-filter{align-items:center;margin-left:1rem}.session-recordings-table .time-filter-row .time-filter .filter-label{margin-right:4px}.session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .entity-filter-row{width:100%;padding:1rem;border:1px solid rgba(0,0,0,.15);margin-top:1rem;border-radius:4px}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:#5375ff}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-table .info-icon{color:#5375ff}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),X.exports=T},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(X,T,t){var _=t("./node_modules/css-loader/dist/runtime/api.js");T=_(!1),T.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),X.exports=T}}]);
