"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[94678],{"./frontend/src/scenes/settings/SettingsScene.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SettingsOrganization:()=>SettingsOrganization,SettingsProject:()=>SettingsProject,SettingsProjectWithReplayFeatures:()=>SettingsProjectWithReplayFeatures,SettingsSessionTimeoutAllOptions:()=>SettingsSessionTimeoutAllOptions,SettingsSessionTimeoutPasswordOnly:()=>SettingsSessionTimeoutPasswordOnly,SettingsSessionTimeoutSsoEnforcedGithub:()=>SettingsSessionTimeoutSsoEnforcedGithub,SettingsSessionTimeoutSsoEnforcedGoogle:()=>SettingsSessionTimeoutSsoEnforcedGoogle,SettingsSessionTimeoutSsoEnforcedSaml:()=>SettingsSessionTimeoutSsoEnforcedSaml,SettingsSessionTimeoutSsoOnly:()=>SettingsSessionTimeoutSsoOnly,SettingsUser:()=>SettingsUser,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var kea_router__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.4_kea@3.1.5/node_modules/kea-router/lib/index.js"),lib_api_mock__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/api.mock.ts"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_App__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/scenes/App.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/scenes/urls.ts"),_mocks_browser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/mocks/browser.tsx"),_mocks_features__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/mocks/features.ts"),_mocks_fixtures_preflight_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/mocks/fixtures/_preflight.json"),_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let meta={title:"Scenes-Other/Settings",parameters:{layout:"fullscreen",viewMode:"story",mockDate:"2023-05-25"},decorators:[(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_5__.x8)({get:{"/_preflight":{..._mocks_fixtures_preflight_json__WEBPACK_IMPORTED_MODULE_6__,cloud:!0,realm:"cloud"},"/api/projects/:id/integrations":{results:[]}}})]},__WEBPACK_DEFAULT_EXPORT__=meta,SettingsProject=()=>((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{kea_router__WEBPACK_IMPORTED_MODULE_0__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.settings("project"))},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(scenes_App__WEBPACK_IMPORTED_MODULE_3__.g,{}));SettingsProject.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsProjectWithReplayFeatures=()=>((0,_mocks_features__WEBPACK_IMPORTED_MODULE_9__.y)([_types__WEBPACK_IMPORTED_MODULE_7__.P$.SESSION_REPLAY_SAMPLING,_types__WEBPACK_IMPORTED_MODULE_7__.P$.REPLAY_RECORDING_DURATION_MINIMUM,_types__WEBPACK_IMPORTED_MODULE_7__.P$.REPLAY_FEATURE_FLAG_BASED_RECORDING]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{kea_router__WEBPACK_IMPORTED_MODULE_0__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.settings("project"))},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(scenes_App__WEBPACK_IMPORTED_MODULE_3__.g,{}));SettingsProjectWithReplayFeatures.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsUser=()=>((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{kea_router__WEBPACK_IMPORTED_MODULE_0__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.settings("user"))},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(scenes_App__WEBPACK_IMPORTED_MODULE_3__.g,{}));SettingsUser.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsOrganization=()=>((0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{kea_router__WEBPACK_IMPORTED_MODULE_0__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.settings("organization"))},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(scenes_App__WEBPACK_IMPORTED_MODULE_3__.g,{}));function TimeSensitiveSettings(props){var _props$has_password;let timedOutSessionUser={...lib_api_mock__WEBPACK_IMPORTED_MODULE_1__.T6,sensitive_session_expires_at:"2023-05-25T00:00:00Z",has_password:null!==(_props$has_password=props.has_password)&&void 0!==_props$has_password&&_props$has_password};return(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_5__.ok)({get:{"/_preflight":{..._mocks_fixtures_preflight_json__WEBPACK_IMPORTED_MODULE_6__,cloud:!0,realm:"cloud",available_social_auth_providers:{github:!0,gitlab:!0,"google-oauth2":!0,saml:!1}},"/api/users/@me":timedOutSessionUser},post:{"/api/login/precheck":{sso_enforcement:props.sso_enforcement,saml_available:props.saml_available}}}),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{kea_router__WEBPACK_IMPORTED_MODULE_0__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.settings("project"))},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(scenes_App__WEBPACK_IMPORTED_MODULE_3__.g,{})}SettingsOrganization.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsSessionTimeoutAllOptions=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TimeSensitiveSettings,{has_password:!0,saml_available:!0});SettingsSessionTimeoutAllOptions.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsSessionTimeoutPasswordOnly=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TimeSensitiveSettings,{has_password:!0});SettingsSessionTimeoutPasswordOnly.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsSessionTimeoutSsoOnly=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TimeSensitiveSettings,{});SettingsSessionTimeoutSsoOnly.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsSessionTimeoutSsoEnforcedGithub=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TimeSensitiveSettings,{sso_enforcement:"github"});SettingsSessionTimeoutSsoEnforcedGithub.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsSessionTimeoutSsoEnforcedGoogle=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TimeSensitiveSettings,{sso_enforcement:"google-oauth2"});SettingsSessionTimeoutSsoEnforcedGoogle.parameters={testOptions:{waitForSelector:".Settings__sections button"}};let SettingsSessionTimeoutSsoEnforcedSaml=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(TimeSensitiveSettings,{sso_enforcement:"saml"});SettingsSessionTimeoutSsoEnforcedSaml.parameters={testOptions:{waitForSelector:".Settings__sections button"}},SettingsProject.parameters={...SettingsProject.parameters,docs:{...SettingsProject.parameters?.docs,source:{originalSource:"() => {\n  useEffect(() => {\n    router.actions.push(urls.settings('project'));\n  }, []);\n  return <App />;\n}",...SettingsProject.parameters?.docs?.source}}},SettingsProjectWithReplayFeatures.parameters={...SettingsProjectWithReplayFeatures.parameters,docs:{...SettingsProjectWithReplayFeatures.parameters?.docs,source:{originalSource:"() => {\n  useAvailableFeatures([AvailableFeature.SESSION_REPLAY_SAMPLING, AvailableFeature.REPLAY_RECORDING_DURATION_MINIMUM, AvailableFeature.REPLAY_FEATURE_FLAG_BASED_RECORDING]);\n  useEffect(() => {\n    router.actions.push(urls.settings('project'));\n  }, []);\n  return <App />;\n}",...SettingsProjectWithReplayFeatures.parameters?.docs?.source}}},SettingsUser.parameters={...SettingsUser.parameters,docs:{...SettingsUser.parameters?.docs,source:{originalSource:"() => {\n  useEffect(() => {\n    router.actions.push(urls.settings('user'));\n  }, []);\n  return <App />;\n}",...SettingsUser.parameters?.docs?.source}}},SettingsOrganization.parameters={...SettingsOrganization.parameters,docs:{...SettingsOrganization.parameters?.docs,source:{originalSource:"() => {\n  useEffect(() => {\n    router.actions.push(urls.settings('organization'));\n  }, []);\n  return <App />;\n}",...SettingsOrganization.parameters?.docs?.source}}},SettingsSessionTimeoutAllOptions.parameters={...SettingsSessionTimeoutAllOptions.parameters,docs:{...SettingsSessionTimeoutAllOptions.parameters?.docs,source:{originalSource:"() => {\n  return <TimeSensitiveSettings has_password saml_available />;\n}",...SettingsSessionTimeoutAllOptions.parameters?.docs?.source}}},SettingsSessionTimeoutPasswordOnly.parameters={...SettingsSessionTimeoutPasswordOnly.parameters,docs:{...SettingsSessionTimeoutPasswordOnly.parameters?.docs,source:{originalSource:"() => {\n  return <TimeSensitiveSettings has_password />;\n}",...SettingsSessionTimeoutPasswordOnly.parameters?.docs?.source}}},SettingsSessionTimeoutSsoOnly.parameters={...SettingsSessionTimeoutSsoOnly.parameters,docs:{...SettingsSessionTimeoutSsoOnly.parameters?.docs,source:{originalSource:"() => {\n  return <TimeSensitiveSettings />;\n}",...SettingsSessionTimeoutSsoOnly.parameters?.docs?.source}}},SettingsSessionTimeoutSsoEnforcedGithub.parameters={...SettingsSessionTimeoutSsoEnforcedGithub.parameters,docs:{...SettingsSessionTimeoutSsoEnforcedGithub.parameters?.docs,source:{originalSource:'() => {\n  return <TimeSensitiveSettings sso_enforcement="github" />;\n}',...SettingsSessionTimeoutSsoEnforcedGithub.parameters?.docs?.source}}},SettingsSessionTimeoutSsoEnforcedGoogle.parameters={...SettingsSessionTimeoutSsoEnforcedGoogle.parameters,docs:{...SettingsSessionTimeoutSsoEnforcedGoogle.parameters?.docs,source:{originalSource:'() => {\n  return <TimeSensitiveSettings sso_enforcement="google-oauth2" />;\n}',...SettingsSessionTimeoutSsoEnforcedGoogle.parameters?.docs?.source}}},SettingsSessionTimeoutSsoEnforcedSaml.parameters={...SettingsSessionTimeoutSsoEnforcedSaml.parameters,docs:{...SettingsSessionTimeoutSsoEnforcedSaml.parameters?.docs,source:{originalSource:'() => {\n  return <TimeSensitiveSettings sso_enforcement="saml" />;\n}',...SettingsSessionTimeoutSsoEnforcedSaml.parameters?.docs?.source}}};let __namedExportsOrder=["SettingsProject","SettingsProjectWithReplayFeatures","SettingsUser","SettingsOrganization","SettingsSessionTimeoutAllOptions","SettingsSessionTimeoutPasswordOnly","SettingsSessionTimeoutSsoOnly","SettingsSessionTimeoutSsoEnforcedGithub","SettingsSessionTimeoutSsoEnforcedGoogle","SettingsSessionTimeoutSsoEnforcedSaml"]}}]);