"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[9360],{"./frontend/src/scenes/products/Products.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Products:()=>Products,scene:()=>scene});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/lib/constants.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/scenes/urls.ts"),scenes_billing_billingLogic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/scenes/billing/billingLogic.ts"),lib_lemon_ui_Spinner__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/lib/lemon-ui/Spinner/index.ts"),lib_lemon_ui_LemonCard_LemonCard__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonCard/LemonCard.tsx"),kea_router__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const scene={component:Products};function OnboardingCompletedButton(_ref){let{productUrl,onboardingUrl}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonButton,{type:"secondary",status:"muted",to:productUrl,children:"Go to product"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonButton,{type:"tertiary",status:"muted",to:onboardingUrl,children:"Set up again"})]})}function OnboardingNotCompletedButton(_ref2){let{url}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonButton,{type:"primary",to:url,children:"Get started"})}function ProductCard(_ref3){let{product}=_ref3;const{currentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_3__.teamLogic),onboardingCompleted=currentTeam?.has_completed_onboarding_for?.[product.type];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(lib_lemon_ui_LemonCard_LemonCard__WEBPACK_IMPORTED_MODULE_10__.M,{className:"max-w-80 flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"flex mb-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"bg-mid rounded p-2 flex",children:product.image_url?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("img",{className:"w-6 h-6",alt:`Logo for PostHog ${product.name}`,src:product.image_url}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_1__.NZQ,{className:"w-6 h-6"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"mb-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("h3",{className:"bold mb-0",children:product.name})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("p",{className:"grow",children:product.description}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"flex gap-x-2",children:onboardingCompleted?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(OnboardingCompletedButton,{productUrl:"",onboardingUrl:scenes_urls__WEBPACK_IMPORTED_MODULE_7__.j.onboarding(product.type)}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(OnboardingNotCompletedButton,{url:scenes_urls__WEBPACK_IMPORTED_MODULE_7__.j.onboarding(product.type)})})]},product.type)}function Products(){const{featureFlags}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_5__.h),{billing}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_billing_billingLogic__WEBPACK_IMPORTED_MODULE_8__.kr),{currentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_3__.teamLogic),{updateCurrentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_3__.teamLogic),isFirstProduct=0===Object.keys(currentTeam?.has_completed_onboarding_for||{}).length,products=billing?.products||[];return(0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((()=>{"test"!==featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_6__.y8.PRODUCT_SPECIFIC_ONBOARDING]&&(location.href=scenes_urls__WEBPACK_IMPORTED_MODULE_7__.j.ingestion())}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"flex flex-col w-full h-full p-6 items-center justify-center bg-mid",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("div",{className:"mb-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("h1",{className:"text-center text-4xl",children:["Pick your ",isFirstProduct?"first":"next"," product."]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)("p",{className:"text-center",children:["Pick your ",isFirstProduct?"first":"next"," product to get started with. You can set up any others you'd like later."]})]}),products.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"flex w-full max-w-xl justify-center gap-6 flex-wrap",children:products.filter((product=>!product.contact_support&&!product.inclusion_only)).map((product=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(ProductCard,{product},product.type)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)("div",{className:"mt-20",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonButton,{status:"muted",onClick:()=>{updateCurrentTeam({has_completed_onboarding_for:{...currentTeam?.has_completed_onboarding_for,skipped_onboarding:!0}}),kea_router__WEBPACK_IMPORTED_MODULE_11__.router.actions.replace(scenes_urls__WEBPACK_IMPORTED_MODULE_7__.j.default())},size:"small",children:"None of these"})})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_lemon_ui_Spinner__WEBPACK_IMPORTED_MODULE_9__.$,{className:"text-3xl"})]})}}}]);