(window.webpackJsonp=window.webpackJsonp||[]).push([[294],{"./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx":function(U,j,e){"use strict";e.d(j,"a",function(){return x});var I=e("./node_modules/core-js/modules/es.array.map.js"),G=e.n(I),K=e("./node_modules/clsx/dist/clsx.m.js"),y=e("./node_modules/kea/lib/index.esm.js"),_=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),h=e("./frontend/src/lib/components/LemonButton/index.ts"),W=e("./node_modules/antd/es/popconfirm/index.js"),p=e("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),g=e("./frontend/src/lib/components/LemonRow/index.ts"),f=e("./frontend/src/lib/components/icons.tsx"),M=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),T=e("./node_modules/kea-forms/lib/index.js"),F=e.n(T),P=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),D=e("./frontend/src/lib/forms/Field.tsx"),t=e("./node_modules/react/jsx-runtime.js"),J=e.n(t);function V(l){var i=l.numberOfResults,c=l.isSearching,m=l.isAddingEntry,b=l.type;return i>0?null:c?Object(t.jsxs)(g.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow",children:["There are no authorized ",b===p.a.RECORDING_DOMAINS?"domains":"URLs"," that match your search."]}):m?null:Object(t.jsx)(g.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow",children:b===p.a.RECORDING_DOMAINS?"No domains are specified, so recordings will be authorized on all domains.":"There are no authorized urls. Add one to get started."})}function R(l){var i=l.actionId,c=l.type,m=Object(p.c)({actionId:i,type:c}),b=Object(y.useValues)(m),v=b.isProposedUrlSubmitting,d=Object(y.useActions)(m),O=d.cancelProposingUrl;return Object(t.jsxs)(T.Form,{logic:p.c,props:{actionId:i,type:c},formKey:"proposedUrl",enableFormOnSubmit:!0,className:"w-full space-y-2",children:[Object(t.jsx)(D.a,{name:"url",children:Object(t.jsx)(P.a,{autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)","data-attr":"url-input"})}),Object(t.jsxs)("div",{className:"flex justify-end gap-2",children:[Object(t.jsx)(h.a,{type:"secondary",onClick:O,children:"Cancel"}),Object(t.jsx)(h.a,{htmlType:"submit",type:"primary",disabled:v,"data-attr":"url-save",children:"Save"})]})]})}function x(l){var i=l.actionId,c=l.type,m=l.addText,b=m===void 0?"Add":m,v=Object(p.c)({actionId:i,type:c}),d=Object(y.useValues)(v),O=d.urlsKeyed,o=d.suggestionsLoading,L=d.searchTerm,C=d.launchUrl,z=d.editUrlIndex,S=d.isAddUrlFormVisible,A=d.onlyAllowDomains,s=Object(y.useActions)(v),n=s.addUrl,r=s.removeUrl,a=s.setSearchTerm,E=s.newUrl,N=s.setEditUrlIndex;return Object(t.jsxs)("div",{children:[Object(t.jsxs)("div",{className:"flex items-center mb-4 gap-2 justify-between",children:[Object(t.jsx)(P.a,{type:"search",placeholder:"Search for authorized ".concat(A?"domains":"URLs"),onChange:a,value:L}),Object(t.jsx)(h.a,{onClick:E,type:"secondary",icon:Object(t.jsx)(f.IconPlus,{}),"data-attr":"toolbar-add-url",children:b})]}),o?Object(t.jsx)(g.a,{outlined:!0,fullWidth:!0,size:"large",children:Object(t.jsx)(M.a,{className:"text-xl"})},-1):Object(t.jsxs)("div",{className:"space-y-2",children:[S&&Object(t.jsx)(g.a,{outlined:!0,fullWidth:!0,size:"large",children:Object(t.jsx)(R,{type:c,actionId:i})}),Object(t.jsx)(V,{numberOfResults:O.length,isSearching:L.length>0,isAddingEntry:S,type:c}),O.map(function(u,B){return Object(t.jsx)("div",{className:Object(K.a)("border rounded flex items-center py-2 px-4 min-h-14"),children:z===B?Object(t.jsx)(R,{type:c,actionId:i}):Object(t.jsxs)(t.Fragment,{children:[u.type==="suggestion"&&Object(t.jsx)(_.a,{type:"highlight",className:"mr-4 uppercase",children:"Suggestion"}),Object(t.jsx)("span",{title:u.url,className:"flex-1 truncate",children:u.url}),Object(t.jsx)("div",{className:"Actions flex space-x-2 shrink-0",children:u.type==="suggestion"?Object(t.jsx)(h.a,{onClick:function(){return n(u.url)},icon:Object(t.jsx)(f.IconPlus,{}),"data-attr":"toolbar-apply-suggestion",children:"Apply suggestion"}):Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(h.a,{icon:Object(t.jsx)(f.IconOpenInApp,{}),to:C(u.url),targetBlank:!0,tooltip:c===p.a.TOOLBAR_URLS?"Launch toolbar":"Launch url",center:!0,className:"ActionButton","data-attr":"toolbar-open",children:"Launch"}),Object(t.jsx)(h.a,{icon:Object(t.jsx)(f.IconEdit,{}),onClick:function(){return N(u.originalIndex)},tooltip:"Edit",center:!0,className:"ActionButton"}),Object(t.jsx)(W.a,{placement:"topRight",title:Object(t.jsxs)(t.Fragment,{children:["Are you sure you want to remove this authorized"," ",A?"domain":"URL","?"]}),onConfirm:function(){return r(B)},children:Object(t.jsx)(h.a,{icon:Object(t.jsx)(f.IconDelete,{}),tooltip:"Remove ".concat(A?"domain":"URL"),center:!0,className:"ActionButton"})})]})})]})},B)})]})]})}try{x.displayName="AuthorizedUrlList",x.__docgenInfo={description:"",displayName:"AuthorizedUrlList",props:{actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"TOOLBAR_URLS"'},{value:'"RECORDING_DOMAINS"'}]}},addText:{defaultValue:{value:"Add"},description:"",name:"addText",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx#AuthorizedUrlList"]={docgenInfo:x.__docgenInfo,name:"AuthorizedUrlList",path:"frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx#AuthorizedUrlList"})}catch(l){}},"./frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx":function(U,j,e){"use strict";e.r(j),e.d(j,"scene",function(){return z});var I=e("./node_modules/core-js/modules/es.object.keys.js"),G=e("./node_modules/core-js/modules/es.symbol.js"),K=e("./node_modules/core-js/modules/es.array.filter.js"),y=e("./node_modules/core-js/modules/es.object.to-string.js"),_=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),h=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),W=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),p=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),g=e.n(p),f=e("./node_modules/core-js/modules/es.array.map.js"),M=e("./frontend/src/lib/components/PageHeader.tsx"),T=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),F=e.n(T),P=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss"),D=e.n(P),t={};t.insert="head",t.singleton=!1;var J=F()(D.a,t),V=D.a.locals||{},R=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),x=e("./frontend/src/lib/components/Link.tsx"),l=e("./frontend/src/scenes/urls.ts"),i=e("./frontend/src/lib/components/icons.tsx"),c=e("./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"),m=e("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),b=e("./frontend/src/lib/components/LemonDivider/index.ts"),v=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),d=e("./node_modules/kea/lib/index.esm.js"),O=e("./frontend/src/scenes/userLogic.ts"),o=e("./node_modules/react/jsx-runtime.js");function L(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);n&&(a=a.filter(function(E){return Object.getOwnPropertyDescriptor(s,E).enumerable})),r.push.apply(r,a)}return r}function C(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?L(Object(r),!0).forEach(function(a){g()(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}var z={component:S};function S(){var s=Object(d.useValues)(O.a),n=s.user,r=s.userLoading,a=Object(d.useActions)(O.a),E=a.updateUser,N=[{title:"Heatmaps",caption:"Understand where your users interact the most.",icon:Object(o.jsx)(i.IconHeatmap,{})},{title:"Actions",caption:"Create actions visually from elements in your website.",icon:Object(o.jsx)(i.IconGroupedEvents,{})},{title:"Feature Flags",caption:"Toggle feature flags on/off right on your app.",icon:Object(o.jsx)(i.IconFlag,{})},{title:"Inspect",caption:"Inspect clickable elements on your website.",icon:Object(o.jsx)(R.a,{})}];return Object(o.jsxs)("div",{className:"toolbar-launch-page",children:[Object(o.jsx)(M.a,{title:"Toolbar",caption:"The toolbar launches PostHog right in your app or website."}),Object(o.jsx)(b.a,{}),Object(o.jsx)("div",{className:"my-4",children:Object(o.jsx)(v.a,{"data-attr":"toolbar-authorized-toggle",label:"Enable the PostHog toolbar",onChange:function(){return E({toolbar_mode:(n==null?void 0:n.toolbar_mode)==="disabled"?"toolbar":"disabled"})},checked:(n==null?void 0:n.toolbar_mode)!=="disabled",disabled:r,bordered:!0})}),Object(o.jsx)("h2",{className:"subtitle",id:"urls",children:"Authorized URLs for Toolbar"}),Object(o.jsxs)("p",{children:["Click on the URL to launch the toolbar."," ",window.location.host==="app.posthog.com"&&"Remember to disable your adblocker."]}),Object(o.jsx)(c.a,{type:m.a.TOOLBAR_URLS,addText:"Add authorized URL"}),Object(o.jsxs)("div",{className:"footer-caption text-muted mt-4 text-center",children:["Make sure you're using the ",Object(o.jsx)(x.a,{to:"".concat(l.a.projectSettings(),"#snippet"),children:"HTML snippet"})," or the latest ",Object(o.jsx)("code",{children:"posthog-js"})," version."]}),Object(o.jsx)("div",{className:"feature-highlight-list mt-8 mx-auto mb-0 flex flex-wrap items-center justify-center",children:N.map(function(u){return Object(o.jsx)(A,C({},u),u.title)})})]})}function A(s){var n=s.title,r=s.caption,a=s.icon;return Object(o.jsxs)("div",{className:"fh-item flex items-center mt-4",children:[Object(o.jsx)("div",{className:"fh-icon mr-4 text-muted-alt",children:a}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{className:"mb-0 text-muted-alt",children:n}),Object(o.jsx)("div",{className:"caption",children:r})]})]})}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss":function(U,j,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");j=I(!1),j.push([U.i,".toolbar-launch-page{margin-bottom:48px}.toolbar-launch-page .feature-highlight-list{max-width:800px}.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(50% - 8px)}@media(max-width:599px){.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(100% - 8px)}}.toolbar-launch-page .feature-highlight-list .fh-item .fh-icon{font-size:1.6em}.toolbar-launch-page .feature-highlight-list .fh-item h4{font-size:1.2em}",""]),U.exports=j}}]);
