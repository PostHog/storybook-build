(window.webpackJsonp=window.webpackJsonp||[]).push([[229],{"./frontend/src/scenes/actions/ActionsTable.tsx":function(X,f,e){"use strict";e.r(f),e.d(f,"scene",function(){return re}),e.d(f,"ActionsTable",function(){return P});var z=e("./node_modules/core-js/modules/es.array.concat.js"),Te=e("./node_modules/core-js/modules/es.array.filter.js"),b=e("./node_modules/core-js/modules/es.array.map.js"),ie=e("./node_modules/core-js/modules/es.array.slice.js"),_=e("./node_modules/core-js/modules/es.function.name.js"),A=e("./node_modules/core-js/modules/es.number.constructor.js"),l=e("./node_modules/core-js/modules/es.regexp.exec.js"),ue=e("./node_modules/core-js/modules/es.string.search.js"),ce=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),me=e.n(ce),Q=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),C=e.n(Q),R=e("./node_modules/react/index.js"),t=e.n(R),Pe=e("./frontend/src/scenes/actions/Actions.scss"),ve=e("./frontend/src/lib/components/Link.tsx"),Ee=e("./node_modules/antd/es/input/index.js"),Z=e("./node_modules/antd/es/radio/index.js"),fe=e("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),w=e("./frontend/src/lib/utils.tsx"),S=e("./node_modules/kea/lib/index.esm.js"),ge=e("./frontend/src/models/actionsModel.ts"),x=e("./node_modules/antd/es/button/index.js"),he=e("./node_modules/antd/es/modal/index.js"),k=e("./node_modules/antd/es/row/index.js"),N=e("./node_modules/antd/es/col/index.js"),F=e("./node_modules/antd/es/card/index.js"),_e=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),B=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),q=e("./node_modules/@ant-design/icons/es/icons/EditOutlined.js"),V=e("./node_modules/kea-router/lib/index.js"),H=e("./frontend/src/scenes/urls.ts"),ee=e("./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx");function L(){var v=Object(R.useState)(!1),g=C()(v,2),p=g[0],U=g[1],o=Object(R.useState)(!1),s=C()(o,2),n=s[0],a=s[1];return t.a.createElement(t.a.Fragment,null,t.a.createElement(x.a,{type:"primary",icon:t.a.createElement(_e.a,null),onClick:function(){return U(!0)},"data-attr":"create-action"},"New Action"),t.a.createElement(he.a,{visible:p,style:{cursor:"pointer"},onCancel:function(){U(!1),a(!1)},title:"Create new action",footer:[n&&t.a.createElement(x.a,{key:"back-button",onClick:function(){return a(!1)}},"Back"),t.a.createElement(x.a,{key:"cancel-button",onClick:function(){U(!1),a(!1)}},"Cancel")]},!n&&t.a.createElement(k.a,{gutter:2,justify:"space-between"},t.a.createElement(N.a,{xs:11},t.a.createElement(F.a,{title:"Inspect element on your site",onClick:function(){return a(!0)},size:"small"},t.a.createElement("div",{style:{textAlign:"center",fontSize:40}},t.a.createElement(B.a,null)))),t.a.createElement(N.a,{xs:11},t.a.createElement(F.a,{title:"From event or pageview",onClick:function(){V.router.actions.push(H.a.createAction())},size:"small"},t.a.createElement("div",{style:{textAlign:"center",fontSize:40},"data-attr":"new-action-pageview"},t.a.createElement(q.a,null))))),n&&t.a.createElement(ee.a,null)))}var je=e.p+"images/actions-tutorial-grouping.c9c565ed9cae79997aa714fdf8196aca.svg",$=e.p+"images/actions-tutorial-standardized.3935760a1606361ee014ad5615d6e22a.svg",te=e.p+"images/actions-tutorial-retroactive.8bcf9190e81ba5d434572271b9f632be.svg",y=e("./frontend/src/types.ts"),G=e("./node_modules/fuse.js/dist/fuse.esm.js"),Ae=e("./frontend/src/scenes/userLogic.ts"),M=e("./frontend/src/scenes/teamLogic.ts"),Y=e("./frontend/src/scenes/events/index.ts"),ne=e("./frontend/src/lib/api.ts"),K=e("./frontend/src/scenes/events/EventPageHeader.tsx"),ae=e("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),Oe=e("./frontend/src/lib/components/LemonTable/index.ts"),J=e("./frontend/src/lib/components/LemonButton/index.ts"),W=e("./frontend/src/lib/components/LemonRow/index.ts"),se=e("./frontend/src/lib/components/LemonButton/More.tsx"),I=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),d=function(g,p){return new G.a(g,{keys:["name","url"],threshold:.3}).search(p).map(function(U){return U.item})},re={component:P};function P(){var v=Object(S.useValues)(M.a),g=v.currentTeam,p=Object(S.useValues)(Object(ge.a)({params:"include_count=1"})),U=p.actions,o=p.actionsLoading,s=Object(S.useActions)(ge.a),n=s.loadActions,a=Object(R.useState)(""),r=C()(a,2),i=r[0],h=r[1],c=Object(R.useState)(!1),m=C()(c,2),j=m[0],le=m[1],E=Object(S.useValues)(Ae.a),T=E.user,ye=E.hasAvailableFeature,xe=[{title:"Name",dataIndex:"name",width:"25%",sorter:function(u,O){return(u.name||"").localeCompare(O.name||"")},render:function(u,O,oe){return t.a.createElement(ve.a,{"data-attr":"action-link-"+oe,to:H.a.action(O.id),className:"row-name"},u||t.a.createElement("i",null,"Unnnamed action"))}}].concat(me()(ye(y.c.TAGGING)?[{title:"Tags",dataIndex:"tags",width:250,key:"tags",render:function(u){return t.a.createElement(I.a,{tags:u,staticOnly:!0})}}]:[]),[{title:"Type",key:"type",render:function(u,O){var oe;return t.a.createElement("span",null,!((oe=O.steps)===null||oe===void 0)&&oe.length?O.steps.map(function(Ue){return t.a.createElement("div",{key:Ue.id},function(){var de=Object(w.zb)(Ue.url||"");switch(de=de.slice(0,40)+(de.length>40?"...":""),Ue.event){case"$autocapture":return"Autocapture";case"$pageview":switch(Ue.url_matching){case"regex":return t.a.createElement(t.a.Fragment,null,"Page view URL matches regex ",t.a.createElement("strong",null,de));case"exact":return t.a.createElement(t.a.Fragment,null,"Page view URL matches exactly ",t.a.createElement("strong",null,de));default:return t.a.createElement(t.a.Fragment,null,"Page view URL contains ",t.a.createElement("strong",null,de))}default:return t.a.createElement(t.a.Fragment,null,"Event: ",t.a.createElement("strong",null,Ue.event))}}())}):t.a.createElement("i",null,"Empty \u2013 set this action up"))}},Object(ae.b)(),Object(ae.a)()],me()(g!=null&&g.slack_incoming_webhook?[{title:"Webhook",dataIndex:"post_to_slack",sorter:function(u,O){return Number(u.post_to_slack)-Number(O.post_to_slack)},render:function(u){return u?t.a.createElement(fe.a,null):null}}]:[]),[{width:0,render:function(u,O){return t.a.createElement(se.a,{overlay:t.a.createElement(t.a.Fragment,null,t.a.createElement(J.a,{type:"stealth",to:H.a.action(O.id),fullWidth:!0},"Edit"),t.a.createElement(J.a,{type:"stealth",to:Object(V.combineUrl)(H.a.insightNew({insight:y.s.TRENDS,interval:"day",display:y.d.ActionsLineGraph,actions:[{id:O.id,name:O.name,type:"actions",order:0}]})).url,fullWidth:!0},"Try out in Insights"),t.a.createElement(W.b,null),t.a.createElement(J.a,{type:"stealth",style:{color:"var(--danger)"},onClick:function(){return Object(w.x)({endpoint:ne.a.actions.determineDeleteEndpoint(),object:O,callback:n})},fullWidth:!0},"Delete action"))})}}]),pe=U;return i&&i!==""&&(pe=d(pe,i)),j&&(pe=pe.filter(function(D){var u;return((u=D.created_by)===null||u===void 0?void 0:u.uuid)===(T==null?void 0:T.uuid)})),t.a.createElement("div",{"data-attr":"manage-events-table"},t.a.createElement(K.a,{activeTab:Y.a.Actions}),t.a.createElement("div",null,t.a.createElement("div",null),t.a.createElement("div",{className:"tutorial-container"},t.a.createElement("div",{className:"t-element"},t.a.createElement("div",null,t.a.createElement("img",{src:je,alt:""})),t.a.createElement("div",null,t.a.createElement("div",{className:"title"},"Multiple grouping"),t.a.createElement("div",{className:"description"},"Group multiple sets of events into a single action."))),t.a.createElement("div",{className:"t-element"},t.a.createElement("div",null,t.a.createElement("img",{src:$,alt:""})),t.a.createElement("div",null,t.a.createElement("div",{className:"title"},"Clean & standardized data"),t.a.createElement("div",{className:"description"},"Keep your actions the same, even if your product or data changes."))),t.a.createElement("div",{className:"t-element"},t.a.createElement("div",null,t.a.createElement("img",{src:te,alt:""})),t.a.createElement("div",null,t.a.createElement("div",{className:"title"},"Retroactive"),t.a.createElement("div",{className:"description"},"We'll retroactively update your actions to match any past events."))))),t.a.createElement(Ee.a.Search,{placeholder:"Search for actions",allowClear:!0,enterButton:!0,style:{maxWidth:600,width:"initial",flexGrow:1,marginRight:12},onChange:function(u){h(u.target.value)}}),t.a.createElement(Z.a.Group,{buttonStyle:"solid",value:j,onChange:function(u){return le(u.target.value)}},t.a.createElement(Z.a.Button,{value:!1},"All actions"),t.a.createElement(Z.a.Button,{value:!0},"My actions")),t.a.createElement("div",{className:"mb float-right"},t.a.createElement(L,null)),t.a.createElement(Oe.a,{columns:xe,loading:o,rowKey:"id",pagination:{pageSize:100},"data-attr":"actions-table",dataSource:pe,defaultSorting:{columnKey:"created_by",order:-1},emptyState:"The first step to standardized analytics is creating your first action."}))}},"./frontend/src/scenes/events/EventPageHeader.tsx":function(X,f,e){"use strict";e.d(f,"a",function(){return _});var z=e("./frontend/src/lib/components/PageHeader.tsx"),Te=e("./node_modules/react/index.js"),b=e.n(Te),ie=e("./frontend/src/scenes/events/index.ts");function _(A){var l=A.activeTab,ue=A.hideTabs;return b.a.createElement(b.a.Fragment,null,b.a.createElement(z.a,{title:"Events & Actions",caption:"See events being sent to this project and manage custom actions. Event history is limited to the last twelve months.",tabbedPage:!0}),!ue&&b.a.createElement(ie.c,{tab:l}))}try{_.displayName="EventPageHeader",_.__docgenInfo={description:"",displayName:"EventPageHeader",props:{activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"enum",value:[{value:'"events"'},{value:'"actions"'},{value:'"stats"'},{value:'"properties"'}]}},hideTabs:{defaultValue:null,description:"",name:"hideTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventPageHeader.tsx#EventPageHeader"]={docgenInfo:_.__docgenInfo,name:"EventPageHeader",path:"frontend/src/scenes/events/EventPageHeader.tsx#EventPageHeader"})}catch(A){}},"./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx":function(X,f,e){"use strict";e.d(f,"a",function(){return B});var z=e("./node_modules/core-js/modules/es.array.index-of.js"),Te=e("./node_modules/core-js/modules/es.regexp.exec.js"),b=e("./node_modules/core-js/modules/es.string.match.js"),ie=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_=e.n(ie),A=e("./node_modules/react/index.js"),l=e.n(A),ue=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ce=e.n(ue),me=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.scss"),Q=e.n(me),C={};C.insert="head",C.singleton=!1;var R=ce()(Q.a,C),t=Q.a.locals||{},Pe=e("./node_modules/clsx/dist/clsx.m.js"),ve=e("./node_modules/kea/lib/index.esm.js"),Ee=e("./frontend/src/lib/components/LemonTable/index.ts"),Z=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),fe=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),w=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),S=e("./node_modules/@ant-design/icons/es/icons/EditOutlined.js"),ge=e("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"),x=e("./frontend/src/lib/components/LemonButton/index.ts"),he=e("./node_modules/antd/es/input/index.js"),k=e("./node_modules/antd/es/button/index.js"),N=e("./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts"),F=e("./frontend/src/lib/utils.tsx"),_e=e("./frontend/src/lib/components/LemonButton/More.tsx");function B(q){var V=q.pageKey,H=q.actionId,ee=Object(N.c)({actionId:H}),L=Object(ve.useValues)(ee),je=L.appUrlsKeyed,$=L.suggestionsLoading,te=L.searchTerm,y=L.launchUrl,G=L.appUrls,Ae=L.editUrlIndex,M=Object(ve.useActions)(ee),Y=M.addUrl,ne=M.removeUrl,K=M.setSearchTerm,ae=M.updateUrl,Oe=M.newUrl,J=M.setEditUrlIndex,W=[{title:"URLs",dataIndex:"url",key:"url",render:function(I,d){var re=Object(A.useState)(d.url),P=_()(re,2),v=P[0],g=P[1],p=Object(A.useState)(""),U=_()(p,2),o=U[0],s=U[1];Object(A.useEffect)(function(){return g(d.url)},[d]);var n=function(){if(s(""),v===N.a&&ne(d.originalIndex),v.indexOf("*")>-1&&!v.match(/^(.*)\*[^\*]*\.[^\*]+\.[^\*]+$/)){s("You can only wildcard subdomains. If you wildcard the domain or TLD, people might be able to gain access to your PostHog data.");return}if(!Object(F.eb)(v)){s("Please type a valid URL or domain.");return}if(G.indexOf(v)>-1&&G.indexOf(v,d.originalIndex)!==d.originalIndex&&G.indexOf(v,d.originalIndex+1)!==d.originalIndex){s("This URL is already registered.");return}ae(d.originalIndex,v)};return d.type==="suggestion"||I!==N.a&&Ae!==d.originalIndex?l.a.createElement("div",{className:Object(Pe.a)("authorized-url-col",d.type)},d.type==="authorized"&&l.a.createElement(fe.a,{style:{marginRight:4}}),I,d.type==="suggestion"&&l.a.createElement(Z.a,null,"Suggestion")):l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement(he.a,{value:v,onChange:function(r){return g(r.target.value)},onPressEnter:n,autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)"}),l.a.createElement(k.a,{type:"primary",onClick:n},"Save")),o&&l.a.createElement("span",{className:"text-small text-danger"},o))}},{title:"",key:"actions",render:function(I,d,re){return l.a.createElement("div",{className:"actions-col"},d.type==="suggestion"?l.a.createElement(x.a,{type:"default",onClick:function(){return Y(d.url)}},l.a.createElement(w.a,null)," Add as authorized"):l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:y(d.url),style:{marginRight:4}},l.a.createElement(x.a,{type:"highlighted"},"Launch toolbar")),l.a.createElement(_e.a,{overlay:l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{fullWidth:!0,type:"stealth",onClick:function(){return J(d.originalIndex)}},l.a.createElement(S.a,{style:{marginRight:4}}),"Edit authorized URL"),l.a.createElement(x.a,{fullWidth:!0,style:{color:"var(--danger)"},type:"stealth",onClick:function(){return ne(re)}},l.a.createElement(ge.a,{style:{marginRight:4}}),"Remove authorized URL"))})))}}];return l.a.createElement("div",null,l.a.createElement("div",{className:"flex-center mb"},l.a.createElement("div",{style:{flexGrow:1}},l.a.createElement(he.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for authorized URLs",style:{maxWidth:480},value:te,onChange:function(I){K(I.target.value)},autoFocus:V==="toolbar-launch"&&!Object(F.X)()})),l.a.createElement(k.a,{type:"primary",icon:l.a.createElement(w.a,null),onClick:Oe},"Add",V==="toolbar-launch"&&" authorized domain")),l.a.createElement(Ee.a,{className:"authorized-urls-table",columns:W,dataSource:je,emptyState:te?"There are no authorized URLs that match your search.":"There are no authorized URLs or domains. Add one to get started.",loading:$}))}try{B.displayName="AuthorizedUrlsTable",B.__docgenInfo={description:"",displayName:"AuthorizedUrlsTable",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx#AuthorizedUrlsTable"]={docgenInfo:B.__docgenInfo,name:"AuthorizedUrlsTable",path:"frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx#AuthorizedUrlsTable"})}catch(q){}},"./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts":function(X,f,e){"use strict";e.d(f,"b",function(){return g}),e.d(f,"a",function(){return p}),e.d(f,"c",function(){return U});var z=e("./node_modules/core-js/modules/es.array.concat.js"),Te=e.n(z),b=e("./node_modules/core-js/modules/es.array.filter.js"),ie=e.n(b),_=e("./node_modules/core-js/modules/es.array.includes.js"),A=e.n(_),l=e("./node_modules/core-js/modules/es.array.index-of.js"),ue=e.n(l),ce=e("./node_modules/core-js/modules/es.array.iterator.js"),me=e.n(ce),Q=e("./node_modules/core-js/modules/es.array.map.js"),C=e.n(Q),R=e("./node_modules/core-js/modules/es.array.slice.js"),t=e.n(R),Pe=e("./node_modules/core-js/modules/es.array.splice.js"),ve=e.n(Pe),Ee=e("./node_modules/core-js/modules/es.object.assign.js"),Z=e.n(Ee),fe=e("./node_modules/core-js/modules/es.object.to-string.js"),w=e.n(fe),S=e("./node_modules/core-js/modules/es.regexp.exec.js"),ge=e.n(S),x=e("./node_modules/core-js/modules/es.regexp.to-string.js"),he=e.n(x),k=e("./node_modules/core-js/modules/es.string.includes.js"),N=e.n(k),F=e("./node_modules/core-js/modules/es.string.iterator.js"),_e=e.n(F),B=e("./node_modules/core-js/modules/es.string.search.js"),q=e.n(B),V=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),H=e.n(V),ee=e("./node_modules/core-js/modules/web.url.js"),L=e.n(ee),je=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),$=e.n(je),te=e("./node_modules/@babel/runtime/regenerator/index.js"),y=e.n(te),G=e("./node_modules/regenerator-runtime/runtime.js"),Ae=e.n(G),M=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Y=e.n(M),ne=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),K=e.n(ne),ae=e("./node_modules/kea/lib/index.esm.js"),Oe=e("./frontend/src/lib/api.ts"),J=e("./frontend/src/lib/utils.tsx"),W=e("./frontend/src/scenes/teamLogic.ts"),se=e("./frontend/src/lib/dayjs.ts"),I=e("./node_modules/fuse.js/dist/fuse.esm.js"),d=e("./node_modules/kea-router/lib/index.js"),re=e.n(d);function P(o,s){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),n.push.apply(n,a)}return n}function v(o){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?P(Object(n),!0).forEach(function(a){K()(o,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(n,a))})}return o}function g(o,s,n){var a=v(v({userIntent:n?void 0:s?"edit-action":"add-action"},s?{actionId:s}:{}),o?{appUrl:o}:{});return"/api/user/redirect_to_site/"+Object(d.encodeParams)(a,"?")}var p="https://",U=Object(ae.kea)({path:function(s){return["lib","components","AppEditorLink","appUrlsLogic",s]},key:function(s){return"".concat(s.pageKey).concat(s.actionId)||"global"},props:{},connect:{values:[W.a,["currentTeam","currentTeamId"]],actions:[W.a,["updateCurrentTeam"]]},actions:function(){return{setAppUrls:function(n){return{appUrls:n}},addUrl:function(n,a){return{url:n,launch:a}},newUrl:!0,removeUrl:function(n){return{index:n}},updateUrl:function(n,a){return{index:n,url:a}},launchAtUrl:function(n){return{url:n}},setSearchTerm:function(n){return{term:n}},setEditUrlIndex:function(n){return{originalIndex:n}}}},loaders:function(s){var n=s.values;return{suggestions:{__default:[],loadSuggestions:function(){var a=Y()(y.a.mark(function i(){var h,c,m,j;return y.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return c={events:[{id:"$pageview",name:"$pageview",type:"events"}],breakdown:"$current_url",date_from:Object(se.a)().subtract(3,"days").toISOString()},E.next=3,Oe.a.get("api/projects/".concat(n.currentTeamId,"/insights/trend/?").concat(Object(J.Bb)(c)));case 3:if(m=E.sent.result,!(m&&((h=m[0])===null||h===void 0?void 0:h.count)===0)){E.next=6;break}return E.abrupt("return",[]);case 6:return j=[],E.abrupt("return",(m||[]).filter(function(T){if(!T.breakdown_value)return!1;try{var ye=new URL(T.breakdown_value.toString()).hostname;return j.indexOf(ye)>-1||n.appUrls.filter(function(xe){return xe.indexOf(ye)>-1}).length>0?void 0:(j.push(ye),!0)}catch(xe){return!1}}).map(function(T){return T.breakdown_value}).slice(0,20));case 8:case"end":return E.stop()}},i)}));function r(){return a.apply(this,arguments)}return r}()}}},events:function(s){var n=s.actions,a=s.values;return{afterMount:function(){n.loadSuggestions(),a.currentTeam&&n.setAppUrls(a.currentTeam.app_urls)}}},reducers:function(){return{appUrls:[[],{setAppUrls:function(n,a){var r=a.appUrls;return r},addUrl:function(n,a){var r=a.url;return n.concat([r])},newUrl:function(n){return n.includes(p)?n:[p].concat(n)},updateUrl:function(n,a){var r=a.index,i=a.url;return Object.assign($()(n),K()({},r,i))},removeUrl:function(n,a){var r=a.index,i=$()(n);return i.splice(r,1),i}}],suggestions:[[],{addUrl:function(n,a){var r=a.url;return $()(n).filter(function(i){return r!==i})}}],searchTerm:["",{setSearchTerm:function(n,a){var r=a.term;return r}}],editUrlIndex:[null,{setEditUrlIndex:function(n,a){var r=a.originalIndex;return r},removeUrl:function(n,a){var r=a.index;return n&&r<n?n-1:r===n?null:n}}]}},listeners:function(s){var n,a=s.sharedListeners,r=s.values,i=s.actions;return n={addUrl:[a.saveAppUrls,function(){var h=Y()(y.a.mark(function c(m){var j,le;return y.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:j=m.url,le=m.launch,le&&i.launchAtUrl(j);case 2:case"end":return T.stop()}},c)}));return function(c){return h.apply(this,arguments)}}()],removeUrl:a.saveAppUrls,updateUrl:[a.saveAppUrls,function(){return i.setEditUrlIndex(null)}]},K()(n,W.a.actionTypes.loadCurrentTeamSuccess,function(){var h=Y()(y.a.mark(function c(m){var j;return y.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:j=m.currentTeam,j&&i.setAppUrls(j.app_urls);case 2:case"end":return E.stop()}},c)}));return function(c){return h.apply(this,arguments)}}()),K()(n,"launchAtUrl",function(c){var m=c.url;window.location.href=r.launchUrl(m)}),n},sharedListeners:function(s){var n=s.values;return{saveAppUrls:function(){W.a.actions.updateCurrentTeam({app_urls:n.appUrls})}}},selectors:function(s){var n=s.props;return{appUrlsKeyed:[function(a){return[a.appUrls,a.suggestions,a.searchTerm]},function(a,r,i){var h=a.map(function(c,m){return{url:c,type:"authorized",originalIndex:m}}).concat(r.map(function(c,m){return{url:c,type:"suggestion",originalIndex:m}}));return i?new I.a(h,{keys:["url"],threshold:.3}).search(i).map(function(c){return c.item}):h}],launchUrl:[function(){return[]},function(){return function(a){return g(a,n.actionId,!n.actionId)}}]}}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.scss":function(X,f,e){var z=e("./node_modules/css-loader/dist/runtime/api.js");f=z(!1),f.push([X.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.authorized-urls-table .authorized-url-col{display:flex;align-items:center}.authorized-urls-table .authorized-url-col .lemon-tag{margin-left:4px}.authorized-urls-table .authorized-url-col.suggestion{color:#747ea1}.authorized-urls-table .authorized-url-col.authorized{color:var(--success)}.authorized-urls-table .actions-col{display:flex;align-items:center;justify-content:flex-end}",""]),X.exports=f}}]);
