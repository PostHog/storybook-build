(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{"./frontend/src/lib/components/PayGatePage/PayGatePage.tsx":function(x,l,e){"use strict";e.d(l,"a",function(){return u});var f=e("./node_modules/core-js/modules/es.array.concat.js"),I=e("./node_modules/kea/lib/index.esm.js"),M=e("./node_modules/react/index.js"),o=e.n(M),t=e("./frontend/src/lib/components/LinkButton.tsx"),h=e("./frontend/src/scenes/userLogic.ts"),L=e("./frontend/src/lib/utils.tsx"),v=e("./frontend/src/lib/components/icons.tsx"),y=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),D=e.n(y),O=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss"),A=e.n(O),E={};E.insert="head",E.singleton=!1;var r=D()(A.a,E),j=A.a.locals||{};function u(c){var i=c.header,T=c.caption,g=c.hideUpgradeButton,s=c.docsLink,a=c.featureKey,n=Object(I.useValues)(h.a),d=n.upgradeLink,p=Object(L.S)(a,"title");return o.a.createElement("div",{className:"pay-gate-page"},o.a.createElement("h2",null,i),o.a.createElement("div",{className:"pay-caption"},T),o.a.createElement("div",{className:"pay-buttons"},!g&&o.a.createElement(t.a,{to:d,type:"primary","data-attr":"".concat(a,"-upgrade"),className:"LemonLinkButton"},"Upgrade now to get ",p),s&&o.a.createElement(t.a,{type:g?"primary":void 0,to:"".concat(s,"?utm_medium=in-product&utm_campaign=").concat(a,"-upgrade-learn-more"),target:"_blank","data-attr":"".concat(a,"-learn-more"),className:"LemonLinkButton"},"Learn more about ",p," ",o.a.createElement(v.IconOpenInNew,{style:{marginLeft:8}}))))}try{u.displayName="PayGatePage",u.__docgenInfo={description:"",displayName:"PayGatePage",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string | Element"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string | Element"}},hideUpgradeButton:{defaultValue:null,description:"",name:"hideUpgradeButton",required:!1,type:{name:"boolean"}},docsLink:{defaultValue:null,description:"",name:"docsLink",required:!1,type:{name:"string"}},featureKey:{defaultValue:null,description:"",name:"featureKey",required:!0,type:{name:"enum",value:[{value:'"experimentation"'},{value:'"group-analytics"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"]={docgenInfo:u.__docgenInfo,name:"PayGatePage",path:"frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"})}catch(c){}},"./frontend/src/scenes/groups/Groups.tsx":function(x,l,e){"use strict";e.r(l),e.d(l,"scene",function(){return i}),e.d(l,"Groups",function(){return T});var f=e("./node_modules/core-js/modules/es.object.to-string.js"),I=e("./node_modules/core-js/modules/es.regexp.to-string.js"),M=e("./node_modules/core-js/modules/es.object.keys.js"),o=e("./node_modules/react/index.js"),t=e.n(o),h=e("./node_modules/kea/lib/index.esm.js"),L=e("./frontend/src/scenes/groups/groupsListLogic.ts"),v=e("./frontend/src/lib/components/PropertiesTable.tsx"),y=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),D=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),O=e("./frontend/src/lib/components/LemonTable/index.ts"),A=e("./frontend/src/lib/components/Link.tsx"),E=e("./frontend/src/scenes/urls.ts"),r=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),j=e("./frontend/src/lib/components/PayGatePage/PayGatePage.tsx");function u(g){var s=g.access,a,n;return s===r.a.NoAccess?(a=t.a.createElement(t.a.Fragment,null,"Introducing ",t.a.createElement("span",{className:"highlight"},"Group Analytics"),"!"),n=t.a.createElement(t.a.Fragment,null,"Analyze how groups interact with your product as a whole instead of individual users (e.g. retention by companies instead of by users)")):s===r.a.HasAccess?(a=t.a.createElement(t.a.Fragment,null,"You're almost done!"),n=t.a.createElement(t.a.Fragment,null,"Learn how to track groups in your code")):(a=t.a.createElement(t.a.Fragment,null,"Looks like you're tracking groups!"),n=t.a.createElement(t.a.Fragment,null,"Upgrade today to use groups in Insights.")),t.a.createElement(j.a,{header:a,featureKey:"group-analytics",caption:n,docsLink:"https://posthog.com/docs/user-guides/group-analytics",hideUpgradeButton:s===r.a.HasAccess})}try{u.displayName="GroupsIntroduction",u.__docgenInfo={description:"",displayName:"GroupsIntroduction",props:{access:{defaultValue:null,description:"",name:"access",required:!0,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/GroupsIntroduction.tsx#GroupsIntroduction"]={docgenInfo:u.__docgenInfo,name:"GroupsIntroduction",path:"frontend/src/scenes/groups/GroupsIntroduction.tsx#GroupsIntroduction"})}catch(g){}var c=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),i={component:T,logic:L.a};function T(){var g=Object(h.useValues)(L.a),s=g.currentTabName,a=g.groups,n=g.groupsLoading,d=Object(h.useActions)(L.a),p=d.loadGroups,G=Object(h.useValues)(r.b),b=G.groupsAccessStatus;if(b==r.a.HasAccess||b==r.a.HasGroupTypes||b==r.a.NoAccess)return t.a.createElement(t.a.Fragment,null,t.a.createElement(y.a,null),t.a.createElement(u,{access:b}));var S=[{title:s,key:"group_key",render:function(m,P){return t.a.createElement(A.a,{to:E.a.group(P.group_type_index.toString(),P.group_key)},Object(c.b)(P.group_key,P.group_properties))}},{title:"First seen",key:"created_at",render:function(m,P){return t.a.createElement(D.b,{time:P.created_at})}}];return t.a.createElement(t.a.Fragment,null,t.a.createElement(y.a,null),t.a.createElement(O.a,{columns:S,rowKey:"group_key",loading:n,dataSource:a.results,expandable:{expandedRowRender:function(m){var P=m.group_properties;return t.a.createElement(v.a,{properties:P})},rowExpandable:function(m){var P=m.group_properties;return!!P&&Object.keys(P).length>0}},pagination:{controlled:!0,onBackward:a.previous?function(){p(a.previous),window.scrollTo(0,0)}:void 0,onForward:a.next?function(){p(a.next),window.scrollTo(0,0)}:void 0}}))}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(x,l,e){"use strict";e.d(l,"a",function(){return g});var f=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),I=e.n(f),M=e("./node_modules/@babel/runtime/regenerator/index.js"),o=e.n(M),t=e("./node_modules/core-js/modules/es.array.iterator.js"),h=e.n(t),L=e("./node_modules/core-js/modules/es.object.to-string.js"),v=e.n(L),y=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),D=e.n(y),O=e("./node_modules/core-js/modules/es.array.concat.js"),A=e.n(O),E=e("./node_modules/kea/lib/index.esm.js"),r=e("./frontend/src/lib/api.ts"),j=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),u=e("./frontend/src/lib/utils.tsx"),c=e("./frontend/src/scenes/teamLogic.tsx"),i=e("./frontend/src/scenes/urls.ts"),T=e("./frontend/src/models/groupsModel.ts"),g=Object(E.kea)({path:["groups","groupsListLogic"],connect:{values:[c.a,["currentTeamId"],T.a,["groupTypes","aggregationLabel"],j.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(n){return{url:n}},setTab:function(n){return{tab:n}}}},loaders:function(a){var n=a.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var d=I()(o.a.mark(function G(b){var S;return o.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(S=b.url,!n.groupsEnabled){m.next=6;break}return S=S||"api/projects/".concat(n.currentTeamId,"/groups/?group_type_index=").concat(n.currentTab),m.next=5,r.b.get(S);case 5:return m.abrupt("return",m.sent);case 6:case"end":return m.stop()}},G)}));function p(G){return d.apply(this,arguments)}return p}()}]}},reducers:{currentTab:["-1",{setTab:function(a,n){var d=n.tab;return d}}]},selectors:{currentTabName:[function(s){return[s.currentTab,s.groupTypes,s.aggregationLabel]},function(s,a,n){return s==="-1"?"Persons":a!=null&&a.length?Object(u.j)(n(parseInt(s)).singular):""}],breadcrumbs:[function(s){return[s.currentTabName,s.currentTab]},function(s,a){return[{name:s,path:i.a.groups(a)}]}]},actionToUrl:function(){return{setTab:function(n){var d=n.tab;return d!=="-1"?i.a.groups(d):i.a.persons()}}},urlToAction:function(a){var n=a.actions,d=a.values;return{"/groups/:id":function(G){var b=G.id;b&&(n.setTab(b),n.loadGroups())},"/persons":function(){d.currentTab!=="-1"&&n.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(x,l,e){"use strict";e.d(l,"a",function(){return r});var f=e("./node_modules/kea/lib/index.esm.js"),I=e("./frontend/src/lib/components/PageHeader.tsx"),M=e("./node_modules/react/index.js"),o=e.n(M),t=e("./node_modules/core-js/modules/es.array.includes.js"),h=e("./node_modules/core-js/modules/es.string.includes.js"),L=e("./node_modules/core-js/modules/es.array.map.js"),v=e("./node_modules/antd/es/tabs/index.js"),y=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),D=e("./frontend/src/lib/utils.tsx"),O=e("./frontend/src/models/groupsModel.ts"),A=e("./frontend/src/scenes/groups/groupsListLogic.ts");function E(){var j=Object(f.useActions)(A.a),u=j.setTab,c=Object(f.useValues)(A.a),i=c.currentTab,T=Object(f.useValues)(O.a),g=T.groupTypes,s=T.aggregationLabel,a=Object(f.useValues)(y.b),n=a.groupsAccessStatus,d=[y.a.HasAccess,y.a.HasGroupTypes,y.a.NoAccess].includes(n);return o.a.createElement(v.a,{activeKey:i,onChange:function(G){return u(G)}},o.a.createElement(v.a.TabPane,{tab:"Persons",key:"-1"}),d?o.a.createElement(v.a.TabPane,{tab:"Introducing Group Analytics",key:"0"}):g.map(function(p){return o.a.createElement(v.a.TabPane,{tab:Object(D.j)(s(p.group_type_index).plural),key:p.group_type_index})}))}function r(j){var u=j.hideGroupTabs,c=Object(f.useValues)(O.a),i=c.showGroupsOptions;return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{title:"Persons".concat(i?" & Groups":""),caption:"A catalog of your product's end users".concat(i?" and groups":"",".")}),!u&&i&&o.a.createElement(E,null))}try{r.displayName="PersonPageHeader",r.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:r.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(j){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss":function(x,l,e){var f=e("./node_modules/css-loader/dist/runtime/api.js");l=f(!1),l.push([x.i,".pay-gate-page{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:1rem}.pay-gate-page h2{font-size:32px;font-weight:600;margin-bottom:8px}.pay-gate-page h2 .highlight{font-weight:700;color:var(--danger)}.pay-gate-page .pay-caption{max-width:500px}.pay-gate-page .pay-buttons{margin-top:1rem;width:320px;max-width:90%}.pay-gate-page .pay-buttons .ant-btn{margin-bottom:1rem}",""]),x.exports=l}}]);
