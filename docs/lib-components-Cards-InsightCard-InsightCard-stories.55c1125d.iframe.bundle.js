"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[23407],{"./frontend/src/lib/components/Cards/InsightCard/InsightCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InsightCard:()=>InsightCard,QueryInsightCard:()=>QueryInsightCard,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_queries_nodes_InsightQuery_utils_filtersToQueryNode__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/queries/nodes/InsightQuery/utils/filtersToQueryNode.ts"),_queries_schema__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/queries/schema.ts"),_mocks_fixtures_api_projects_team_id_insights_dataTableEvents_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/dataTableEvents.json"),_mocks_fixtures_api_projects_team_id_insights_dataTableHogQL_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/dataTableHogQL.json"),_mocks_fixtures_api_projects_team_id_insights_funnelLeftToRight_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/funnelLeftToRight.json"),_mocks_fixtures_api_projects_team_id_insights_lifecycle_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/lifecycle.json"),_mocks_fixtures_api_projects_team_id_insights_retention_json__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/retention.json"),_mocks_fixtures_api_projects_team_id_insights_stickiness_json__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/stickiness.json"),_mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/trendsLine.json"),_mocks_fixtures_api_projects_team_id_insights_trendsLineMulti_json__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/trendsLineMulti.json"),_mocks_fixtures_api_projects_team_id_insights_trendsPie_json__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/trendsPie.json"),_mocks_fixtures_api_projects_team_id_insights_trendsTable_json__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/trendsTable.json"),_mocks_fixtures_api_projects_team_id_insights_trendsValue_json__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/trendsValue.json"),_mocks_fixtures_api_projects_team_id_insights_trendsWorldMap_json__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/trendsWorldMap.json"),_mocks_fixtures_api_projects_team_id_insights_userPaths_json__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./frontend/src/mocks/fixtures/api/projects/team_id/insights/userPaths.json"),_index__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./frontend/src/lib/components/Cards/InsightCard/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let examples=[_mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__,_mocks_fixtures_api_projects_team_id_insights_trendsLineMulti_json__WEBPACK_IMPORTED_MODULE_10__,_mocks_fixtures_api_projects_team_id_insights_trendsValue_json__WEBPACK_IMPORTED_MODULE_13__,_mocks_fixtures_api_projects_team_id_insights_trendsTable_json__WEBPACK_IMPORTED_MODULE_12__,_mocks_fixtures_api_projects_team_id_insights_trendsPie_json__WEBPACK_IMPORTED_MODULE_11__,_mocks_fixtures_api_projects_team_id_insights_trendsWorldMap_json__WEBPACK_IMPORTED_MODULE_14__,_mocks_fixtures_api_projects_team_id_insights_funnelLeftToRight_json__WEBPACK_IMPORTED_MODULE_5__,_mocks_fixtures_api_projects_team_id_insights_retention_json__WEBPACK_IMPORTED_MODULE_7__,_mocks_fixtures_api_projects_team_id_insights_userPaths_json__WEBPACK_IMPORTED_MODULE_15__,_mocks_fixtures_api_projects_team_id_insights_stickiness_json__WEBPACK_IMPORTED_MODULE_8__,_mocks_fixtures_api_projects_team_id_insights_lifecycle_json__WEBPACK_IMPORTED_MODULE_6__,_mocks_fixtures_api_projects_team_id_insights_dataTableHogQL_json__WEBPACK_IMPORTED_MODULE_4__,_mocks_fixtures_api_projects_team_id_insights_dataTableEvents_json__WEBPACK_IMPORTED_MODULE_3__],meta={title:"Components/Cards/Insight Card",component:_index__WEBPACK_IMPORTED_MODULE_16__.L,parameters:{mockDate:"2023-07-01",featureFlags:["hogql"]},argTypes:{insightName:{control:{type:"text"}},insightDescription:{control:{type:"text"}},loading:{control:{type:"boolean"}},apiErrored:{control:{type:"boolean"}},timedOut:{control:{type:"boolean"}},highlighted:{control:{type:"boolean"}}}},__WEBPACK_DEFAULT_EXPORT__=meta,InsightCard=args=>{let[insightColor,setInsightColor]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[wasItemRemoved,setWasItemRemoved]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(2, 1fr)",minWidth:"50rem"},children:[!wasItemRemoved&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{..._mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__,name:args.insightName,description:args.insightDescription},ribbonColor:insightColor,loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable,updateColor:setInsightColor,removeFromDashboard:()=>setWasItemRemoved(!0),rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{..._mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__,name:"Wow, this name is really super duper ginormously off the charts long! How do we even manage to fit it in an insight card without it breaking?!",description:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.",tags:["every","green","bus","drives","fast","face"]},rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{..._mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__,name:"",description:"",last_modified_by:null},rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{..._mocks_fixtures_api_projects_team_id_insights_funnelLeftToRight_json__WEBPACK_IMPORTED_MODULE_5__,short_id:"funnel_empty",filters:{..._mocks_fixtures_api_projects_team_id_insights_funnelLeftToRight_json__WEBPACK_IMPORTED_MODULE_5__.filters,events:_mocks_fixtures_api_projects_team_id_insights_funnelLeftToRight_json__WEBPACK_IMPORTED_MODULE_5__.filters.events?.slice(0,1)},name:"What a pitiful funnel"},rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{..._mocks_fixtures_api_projects_team_id_insights_funnelLeftToRight_json__WEBPACK_IMPORTED_MODULE_5__,name:"What a plentiful funnel"},rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{..._mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__,filters:{..._mocks_fixtures_api_projects_team_id_insights_trendsLine_json__WEBPACK_IMPORTED_MODULE_9__.filters,display:"totally_wrong_display_type"}},rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable}),examples.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:e,rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable},e.id))]})},QueryInsightCard=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(2, 1fr)",minWidth:"50rem"},children:examples.map(insight=>{if(!insight.filters.insight||insight.query)return null;let query={kind:_queries_schema__WEBPACK_IMPORTED_MODULE_2__.OH.InsightVizNode,source:(0,_queries_nodes_InsightQuery_utils_filtersToQueryNode__WEBPACK_IMPORTED_MODULE_1__.wK)(insight.filters)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_index__WEBPACK_IMPORTED_MODULE_16__.L,{insight:{...insight,filters:{},query},rename:()=>{},duplicate:()=>{},placement:"SavedInsightGrid",loading:args.loading,apiErrored:args.apiErrored,highlighted:args.highlighted,timedOut:args.timedOut,showResizeHandles:args.resizable,doNotLoad:!0},insight.id)})});InsightCard.parameters={...InsightCard.parameters,docs:{...InsightCard.parameters?.docs,source:{originalSource:"args => {\n  const [insightColor, setInsightColor] = useState<InsightColor | null>(null);\n  const [wasItemRemoved, setWasItemRemoved] = useState(false);\n  return (\n    // eslint-disable-next-line react/forbid-dom-props\n    <div style={{\n      display: 'grid',\n      gap: '1rem',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      minWidth: '50rem'\n    }}>\n            {!wasItemRemoved && <InsightCardComponent insight={(({\n        ...EXAMPLE_TRENDS,\n        name: args.insightName,\n        description: args.insightDescription\n      } as unknown) as InsightModel)} ribbonColor={insightColor} loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} updateColor={setInsightColor} removeFromDashboard={() => setWasItemRemoved(true)} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" />}\n            <InsightCardComponent insight={(({\n        ...EXAMPLE_TRENDS,\n        name: 'Wow, this name is really super duper ginormously off the charts long! How do we even manage to fit it in an insight card without it breaking?!',\n        description: 'Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt.',\n        tags: ['every', 'green', 'bus', 'drives', 'fast', 'face']\n      } as unknown) as InsightModel)} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} />\n            <InsightCardComponent insight={(({\n        ...EXAMPLE_TRENDS,\n        name: '',\n        description: '',\n        last_modified_by: null\n      } as unknown) as InsightModel)} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} />\n            <InsightCardComponent insight={(({\n        ...EXAMPLE_FUNNEL,\n        short_id: ('funnel_empty' as InsightShortId),\n        filters: {\n          ...EXAMPLE_FUNNEL.filters,\n          events: EXAMPLE_FUNNEL.filters.events?.slice(0, 1)\n        },\n        name: 'What a pitiful funnel'\n      } as unknown) as InsightModel)} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} />\n            <InsightCardComponent insight={(({\n        ...EXAMPLE_FUNNEL,\n        name: 'What a plentiful funnel'\n      } as unknown) as InsightModel)} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} />\n            <InsightCardComponent insight={(({\n        ...EXAMPLE_TRENDS,\n        filters: ({\n          ...EXAMPLE_TRENDS.filters,\n          display: ('totally_wrong_display_type' as ChartDisplayType)\n        } as TrendsFilterType)\n      } as unknown) as InsightModel)} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} />\n            {examples.map(e => <InsightCardComponent key={e.id} insight={e} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} />)}\n        </div>\n  );\n}",...InsightCard.parameters?.docs?.source}}},QueryInsightCard.parameters={...QueryInsightCard.parameters,docs:{...QueryInsightCard.parameters?.docs,source:{originalSource:"args => {\n  return (\n    // eslint-disable-next-line react/forbid-dom-props\n    <div style={{\n      display: 'grid',\n      gap: '1rem',\n      gridTemplateColumns: 'repeat(2, 1fr)',\n      minWidth: '50rem'\n    }}>\n            {examples.map(insight => {\n        // turn into HogQL based insight\n        if (!insight.filters.insight || insight.query) {\n          return null;\n        }\n        const query = {\n          kind: NodeKind.InsightVizNode,\n          source: filtersToQueryNode(insight.filters)\n        };\n        return <InsightCardComponent key={insight.id} insight={{\n          ...insight,\n          filters: {},\n          query\n        }} rename={() => {}} duplicate={() => {}} placement=\"SavedInsightGrid\" loading={args.loading} apiErrored={args.apiErrored} highlighted={args.highlighted} timedOut={args.timedOut} showResizeHandles={args.resizable} doNotLoad />;\n      })}\n        </div>\n  );\n}",...QueryInsightCard.parameters?.docs?.source}}};let __namedExportsOrder=["InsightCard","QueryInsightCard"]}}]);