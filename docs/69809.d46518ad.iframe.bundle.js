(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[69809],{"../../frontend/src/lib/components/BridgePage/BridgePage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>BridgePage_BridgePage_BridgePage});var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),BridgePage=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/lib/components/BridgePage/BridgePage.scss"),BridgePage_default=__webpack_require__.n(BridgePage),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(BridgePage_default(),options),BridgePage_default().locals;var clsx_m=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),CSSTransition=__webpack_require__("../../node_modules/.pnpm/react-transition-group@4.4.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/react-transition-group/esm/CSSTransition.js"),useOnMountEffect=__webpack_require__("../../frontend/src/lib/hooks/useOnMountEffect.ts"),preflightLogic=__webpack_require__("../../frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts");let posthog_logo_cloud=__webpack_require__.p+"images/posthog-logo-cloud.ff39f38d10e1d8769248bd773fc42a24.svg",posthog_logo_demo=__webpack_require__.p+"images/posthog-logo-demo.a5b7691e421e187226625869bf85673a.svg",posthog_logo=__webpack_require__.p+"images/posthog-logo.1e8f704e9f5c893139d4ad8dcb7e2954.svg";var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function WelcomeLogo(_ref){let{view}=_ref,UTM_TAGS=`utm_campaign=in-product&utm_tag=${view||"welcome"}-header`,{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic);return(0,jsx_runtime.jsx)(src.rU,{to:`https://posthog.com?${UTM_TAGS}`,className:"flex flex-col items-center mb-8",children:(0,jsx_runtime.jsx)("img",{src:preflight?.demo?posthog_logo_demo:preflight?.cloud?posthog_logo_cloud:posthog_logo,alt:`PostHog${preflight?.cloud?" Cloud":""}`,className:"h-6"})})}var types=__webpack_require__("../../frontend/src/types.ts"),hedgehogs=__webpack_require__("../../frontend/src/lib/components/hedgehogs.tsx");function BridgePage_BridgePage_BridgePage(_ref){let{children,header,footer,view,message,noLogo=!1,sideLogo=!1,fixedWidth=!0,leftContainerContent,hedgehog=!1}=_ref,[messageShowing,setMessageShowing]=(0,react.useState)(!1),{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic);return(0,useOnMountEffect.x)(()=>{let t=setTimeout(()=>{setMessageShowing(!0)},200);return()=>clearTimeout(t)}),(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("BridgePage",fixedWidth&&"BridgePage--fixed-width"),children:[(0,jsx_runtime.jsxs)("div",{className:"BridgePage__main",children:[leftContainerContent||hedgehog?(0,jsx_runtime.jsx)("div",{className:"BridgePage__left-wrapper",children:(0,jsx_runtime.jsxs)("div",{className:"BridgePage__left",children:[!noLogo&&sideLogo&&(0,jsx_runtime.jsx)("div",{className:"BridgePage__header-logo mb-16",children:(0,jsx_runtime.jsx)(WelcomeLogo,{view:view})}),leftContainerContent,hedgehog&&(0,jsx_runtime.jsxs)("div",{className:"BridgePage__left__art",children:[preflight?.region===types.yp.EU?(0,jsx_runtime.jsx)(hedgehogs.LaptopHogEU,{alt:"",draggable:"false"}):(0,jsx_runtime.jsx)(hedgehogs.LaptopHog4,{alt:"",draggable:"false"}),message?(0,jsx_runtime.jsx)(CSSTransition.Z,{in:messageShowing,timeout:200,classNames:"BridgePage__left__message-",children:(0,jsx_runtime.jsx)("div",{className:"BridgePage__left__message",children:message})}):null]})]})}):null,(0,jsx_runtime.jsxs)("div",{className:"BridgePage__content-wrapper",children:[!noLogo&&(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("BridgePage__header-logo",{mobile:sideLogo}),children:(0,jsx_runtime.jsx)(WelcomeLogo,{view:view})}),(0,jsx_runtime.jsx)("div",{className:"BridgePage__header",children:header}),(0,jsx_runtime.jsx)("div",{className:"BridgePage__content",children:children})]})]}),footer&&(0,jsx_runtime.jsx)("div",{className:"BridgePage__footer",children:footer})]})}},"../../frontend/src/lib/components/SignupReferralSource.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>SignupReferralSource});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SignupReferralSource(_ref){let{disabled}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_1__.D,{name:"referral_source",label:"Where did you hear about us?",showOptional:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.DF,{className:"ph-ignore-input","data-attr":"signup-referral-source",placeholder:"",disabled:disabled})})}},"../../frontend/src/lib/components/SignupRoleSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>SignupRoleSelect});var lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),lib_lemon_ui_LemonSelect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSelect/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SignupRoleSelect(_ref){let{className}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_0__.D,{name:"role_at_organization",label:"What is your role?",className:className,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(lib_lemon_ui_LemonSelect__WEBPACK_IMPORTED_MODULE_1__.Yv,{fullWidth:!0,"data-attr":"signup-role-at-organization",options:[{label:"Engineering",value:"engineering"},{label:"Data",value:"data"},{label:"Product Management",value:"product"},{label:"Founder",value:"founder"},{label:"Leadership",value:"leadership"},{label:"Marketing",value:"marketing"},{label:"Sales / Success",value:"sales"},{label:"Other",value:"other"}]})})}},"../../frontend/src/scenes/authentication/RegionSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/constants.tsx"),lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let sections=[{title:"US hosting",features:["Faster if you and your users are based in the US","Easier to comply with some US regulations","Hosted in Virginia, USA"]},{title:"EU hosting",features:["Faster if you and your users are based in Europe","Keeps data in the EU to comply with GDPR requirements","Hosted in Frankfurt, Germany"]}];function WhyCloudModal(_ref){let{setOpen,open}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_4__.fQ,{title:"Which region would you like to choose?",description:"It's possible to migrate to another region later.",isOpen:open,onClose:()=>setOpen(!1),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("ul",{className:"list-none",children:sections.map(section=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("li",{className:"border-t first:border-t-0 border-dashed border-gray-accent mt-2 first:mt-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("h4",{className:"text-lg m-0 mt-2",children:section.title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("ul",{className:"list-none p-0 my-2 deprecated-space-y-1",children:section.features.map(feature=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("li",{className:"flex items-center deprecated-space-x-2 text-gray-accent-light align-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_3__.IconCheckCircle,{className:"w-[20px] flex-shrink-0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span",{className:"text-black font-medium",children:feature})]},feature))})]},section.title))})})}let __WEBPACK_DEFAULT_EXPORT__=()=>{let{preflight}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_7__.preflightLogic),[regionModalOpen,setRegionModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);return preflight?.cloud&&preflight?.region?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_6__.D.Pure,{label:"Data region",onExplanationClick:()=>setRegionModalOpen(!0),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_4__.Yv,{onChange:region=>{if(!region)return;let{pathname,search,hash}=kea_router__WEBPACK_IMPORTED_MODULE_1__.router.values.currentLocation,newUrl=`https://${lib_constants__WEBPACK_IMPORTED_MODULE_5__.Yr[region]}${pathname}${search}${hash}`;window.location.href=newUrl},value:preflight?.region,options:[{label:"United States",value:_types__WEBPACK_IMPORTED_MODULE_8__.yp.US},{label:"European Union",value:_types__WEBPACK_IMPORTED_MODULE_8__.yp.EU}],fullWidth:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(WhyCloudModal,{open:regionModalOpen,setOpen:setRegionModalOpen})]}):null}},"../../frontend/src/scenes/authentication/signup/SignupContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SignupContainer:()=>SignupContainer,SignupLeftContainer:()=>SignupLeftContainer,scene:()=>SignupContainer_scene});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),BridgePage=__webpack_require__("../../frontend/src/lib/components/BridgePage/BridgePage.tsx"),constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),Link=__webpack_require__("../../frontend/src/lib/lemon-ui/Link/index.ts"),preflightLogic=__webpack_require__("../../frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),types=__webpack_require__("../../frontend/src/types.ts"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),LemonBanner=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonBanner/index.ts"),Spinner=__webpack_require__("../../frontend/src/lib/lemon-ui/Spinner/Spinner.tsx"),kea_forms_lib=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.7_react@18.2.0_/node_modules/kea-forms/lib/index.js"),PasswordStrength=__webpack_require__("../../frontend/src/lib/components/PasswordStrength.tsx"),SocialLoginButton=__webpack_require__("../../frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx"),LemonField=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),RegionSelect=__webpack_require__("../../frontend/src/scenes/authentication/RegionSelect.tsx"),dist=__webpack_require__("../../node_modules/.pnpm/@tiptap+core@3.0.9_@tiptap+pm@3.0.9/node_modules/@tiptap/core/dist/index.js"),dist_module=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.268.1_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),api=__webpack_require__("../../frontend/src/lib/api.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts");let emailRegex=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,signupLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","authentication","signupLogic"]),(0,index_esm.connect)(()=>({values:[preflightLogic.preflightLogic,["preflight"],featureFlagLogic.featureFlagLogic,["featureFlags"]]})),(0,index_esm.actions)(()=>({setPanel:panel=>({panel}),normalizeEmailWithDelay:email=>({email}),setEmailNormalized:wasNormalized=>({wasNormalized})})),(0,index_esm.reducers)(()=>({panel:[0,{setPanel:(_,_ref)=>{let{panel}=_ref;return panel}}],emailWasNormalized:[!1,{setEmailNormalized:(_,_ref2)=>{let{wasNormalized}=_ref2;return wasNormalized}}]})),(0,kea_forms_lib.forms)(_ref3=>{let{actions,values}=_ref3;return{signupPanel1:{alwaysShowErrors:!0,showErrorsOnTouch:!0,defaults:{email:"",password:""},errors:_ref4=>{let{email,password}=_ref4;return{email:email?emailRegex.test(email)?void 0:"Please use a valid email address":"Please enter your email to continue",password:values.preflight?.demo?void 0:password?values.validatedPassword.feedback||void 0:"Please enter your password to continue"}},submit:async()=>{actions.setPanel(1)}},signupPanel2:{alwaysShowErrors:!0,showErrorsOnTouch:!0,defaults:{name:"",organization_name:"",role_at_organization:"",referral_source:""},errors:_ref5=>{let{name,role_at_organization}=_ref5;return{name:name?void 0:"Please enter your name",role_at_organization:role_at_organization?void 0:"Please select your role in the organization"}},submit:async(payload,breakpoint)=>{breakpoint();try{let nextUrl=(0,utils.qF)(new URLSearchParams(location.search).get("next"),location),res=await api.ZP.create("api/signup/",{...values.signupPanel1,...payload,first_name:payload.name.split(" ")[0],last_name:payload.name.split(" ")[1]||void 0,organization_name:payload.organization_name||void 0,next_url:null!=nextUrl?nextUrl:void 0});payload.organization_name||dist_module.ZP.capture("sign up organization name not provided"),location.href=res.redirect_url||"/"}catch(e){throw"throttled"===e.code?actions.setSignupPanel2ManualErrors({generic:{code:e.code,detail:"Too many signup attempts. Please try again later."}}):actions.setSignupPanel2ManualErrors({generic:{code:e.code,detail:e.detail}}),e}}}}}),(0,index_esm.selectors)({validatedPassword:[s=>[s.signupPanel1],_ref6=>{let{password}=_ref6;return(0,PasswordStrength.u)(password)}],emailCaseNotice:[s=>[s.emailWasNormalized],emailWasNormalized=>emailWasNormalized?"⚠ Your email was automatically converted to lowercase":void 0],loginUrl:[()=>[lib.router.selectors.searchParams],searchParams=>{let nextParam=(0,utils.qF)(searchParams.next,location);return nextParam?`/login?next=${encodeURIComponent(nextParam)}`:"/login"}]}),(0,index_esm.listeners)(_ref7=>{let{actions}=_ref7;return{normalizeEmailWithDelay:async(_ref8,breakpoint)=>{let{email}=_ref8;if(await breakpoint(500),/[A-Z]/.test(email)){let normalizedEmail=email.toLowerCase();actions.setSignupPanel1Value("email",normalizedEmail),actions.setEmailNormalized(!0)}},setSignupPanel1Value:_ref9=>{let{name,value}=_ref9;"email"===name.toString()&&"string"==typeof value&&(actions.setEmailNormalized(!1),actions.normalizeEmailWithDelay(value))}}}),(0,lib.urlToAction)(_ref10=>{let{actions,values}=_ref10;return{"/signup":(_,_ref11)=>{let{email,maintenanceRedirect}=_ref11;if(values.preflight?.cloud){let regionOverrideFlag=values.featureFlags[constants.y8.REDIRECT_SIGNUPS_TO_INSTANCE],regionsAllowList=["eu","us"],isRegionOverrideValid=(0,dist.HD)(regionOverrideFlag)&&regionsAllowList.includes(regionOverrideFlag),isPreflightRegionValid=values.preflight?.region&&regionsAllowList.includes(values.preflight?.region);isRegionOverrideValid&&isPreflightRegionValid&&regionOverrideFlag!==values.preflight?.region?.toLowerCase()&&(window.location.href=`https://${constants.Yr[regionOverrideFlag.toUpperCase()]}${urls.j.signup()}?maintenanceRedirect=true`),maintenanceRedirect&&isRegionOverrideValid&&src.UJ.info(`You've been redirected to signup on our ${regionOverrideFlag.toUpperCase()} instance while we perform maintenance on our other instance.`)}email&&(values.preflight?.demo?(actions.setSignupPanel1Values({email}),actions.setSignupPanel2Values({name:"X",organization_name:"Y"}),actions.submitSignupPanel2()):actions.setSignupPanel1Value("email",email))}}})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SignupPanel1(){let{preflight,socialAuthAvailable}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{isSignupPanel1Submitting,validatedPassword,loginUrl,emailCaseNotice}=(0,index_esm.useValues)(signupLogic),emailInputRef=(0,react.useRef)(null);return(0,react.useEffect)(()=>{emailInputRef?.current?.focus()},[preflight?.demo]),(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-4 Signup__panel__1",children:[(0,jsx_runtime.jsx)(RegionSelect.Z,{}),!preflight?.demo&&socialAuthAvailable&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SocialLoginButton.NN,{caption:"Sign up with",bottomDivider:!0,className:"mt-6"}),(0,jsx_runtime.jsx)("p",{className:"text-secondary text-center mb-0",children:"Or use email & password"})]}),(0,jsx_runtime.jsxs)(kea_forms_lib.Form,{logic:signupLogic,formKey:"signupPanel1",className:"deprecated-space-y-4",enableFormOnSubmit:!0,children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"email",label:"Email",help:emailCaseNotice&&(0,jsx_runtime.jsx)("span",{className:"text-warning",children:emailCaseNotice}),children:(0,jsx_runtime.jsx)(src.DF,{className:"ph-ignore-input",autoFocus:!0,"data-attr":"signup-email",placeholder:"email@yourcompany.com",type:"email",inputRef:emailInputRef,disabled:isSignupPanel1Submitting})}),!preflight?.demo&&(0,jsx_runtime.jsx)(LemonField.D,{name:"password",label:(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,jsx_runtime.jsx)("span",{children:"Password"}),(0,jsx_runtime.jsx)(PasswordStrength.Z,{validatedPassword:validatedPassword})]}),children:(0,jsx_runtime.jsx)(src.DF,{type:"password",autoComplete:"new-password",className:"ph-ignore-input","data-attr":"password",placeholder:"••••••••••",disabled:isSignupPanel1Submitting})}),(0,jsx_runtime.jsx)(src.Jp,{fullWidth:!0,type:"primary",status:"alt",center:!0,htmlType:"submit","data-attr":"signup-start",loading:isSignupPanel1Submitting,disabled:isSignupPanel1Submitting,size:"large",children:"Continue"})]}),!preflight?.demo&&(preflight?.cloud||preflight?.initiated)&&(0,jsx_runtime.jsxs)("div",{className:"text-center mt-4",children:["Already have an account?"," ",(0,jsx_runtime.jsx)(Link.r,{to:loginUrl,"data-attr":"signup-login-link",className:"font-bold",children:"Log in"})]})]})}var SignupReferralSource=__webpack_require__("../../frontend/src/lib/components/SignupReferralSource.tsx"),SignupRoleSelect=__webpack_require__("../../frontend/src/lib/components/SignupRoleSelect.tsx");let UTM_TAGS="utm_campaign=in-product&utm_tag=signup-header";function SignupPanel2(){let{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{setSignupPanel2ManualErrors}=(0,index_esm.useActions)(signupLogic),{isSignupPanel2Submitting}=(0,index_esm.useValues)(signupLogic);return(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-4 Signup__panel__2",children:[(0,jsx_runtime.jsxs)(kea_forms_lib.Form,{logic:signupLogic,formKey:"signupPanel2",className:"deprecated-space-y-4",enableFormOnSubmit:!0,children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"name",label:"Your name",children:(0,jsx_runtime.jsx)(src.DF,{className:"ph-ignore-input","data-attr":"signup-name",placeholder:"Jane Doe",disabled:isSignupPanel2Submitting})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"organization_name",label:"Organization name",children:(0,jsx_runtime.jsx)(src.DF,{className:"ph-ignore-input","data-attr":"signup-organization-name",placeholder:"Hogflix Movies",disabled:isSignupPanel2Submitting})}),(0,jsx_runtime.jsx)(SignupRoleSelect.Z,{}),(0,jsx_runtime.jsx)(SignupReferralSource.Z,{disabled:isSignupPanel2Submitting}),(0,jsx_runtime.jsx)("div",{className:"divider"}),(0,jsx_runtime.jsx)(src.Jp,{fullWidth:!0,type:"primary",center:!0,htmlType:"submit","data-attr":"signup-submit",onClick:()=>setSignupPanel2ManualErrors({}),loading:isSignupPanel2Submitting,disabled:isSignupPanel2Submitting,status:"alt",size:"large",children:preflight?.demo?isSignupPanel2Submitting?"Preparing demo data…":"Enter the demo environment":"Create account"})]}),(0,jsx_runtime.jsxs)("div",{className:"text-center text-secondary",children:["By ",preflight?.demo?"entering the demo environment":"creating an account",", you agree to our"," ",(0,jsx_runtime.jsx)(src.rU,{to:`https://posthog.com/terms?${UTM_TAGS}`,target:"_blank",children:"Terms of Service"})," ","and"," ",(0,jsx_runtime.jsx)(src.rU,{to:`https://posthog.com/privacy?${UTM_TAGS}`,target:"_blank",children:"Privacy Policy"}),"."]})]})}function SignupForm(){let{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{user}=(0,index_esm.useValues)(userLogic.userLogic),{isSignupPanel2Submitting,signupPanel2ManualErrors,panel}=(0,index_esm.useValues)(signupLogic),{setPanel}=(0,index_esm.useActions)(signupLogic),[showSpinner,setShowSpinner]=(0,react.useState)(!0);return(0,react.useEffect)(()=>{setShowSpinner(!0);let t=setTimeout(()=>{setShowSpinner(!1)},500);return()=>clearTimeout(t)},[panel]),user?null:(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-2",children:[(0,jsx_runtime.jsx)("h2",{children:preflight?.demo?"Explore PostHog yourself":0===panel?"Get started":"Tell us a bit about yourself"}),!isSignupPanel2Submitting&&signupPanel2ManualErrors?.generic&&(0,jsx_runtime.jsx)(LemonBanner.V,{type:"error",children:signupPanel2ManualErrors.generic?.detail||"Could not complete your signup. Please try again."}),0===panel?(0,jsx_runtime.jsx)(SignupPanel1,{}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SignupPanel2,{}),(0,jsx_runtime.jsx)("div",{className:"flex justify-center",children:(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconArrowLeft,{}),onClick:()=>setPanel(panel-1),size:"small",center:!0,"data-attr":"signup-go-back",children:"or go back"})})]}),showSpinner?(0,jsx_runtime.jsx)(Spinner.t,{sceneLevel:!0}):null]})}let SignupContainer_scene={component:SignupContainer};function SignupContainer(){let{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{user}=(0,index_esm.useValues)(userLogic.userLogic);return user?null:(0,jsx_runtime.jsx)(BridgePage.N,{view:"signup",footer:(0,jsx_runtime.jsx)("div",{className:"sm:flex sm:justify-center w-full gap-[10%]",children:({cloud:["Hosted & managed by PostHog","Pay per event, cancel anytime","Fast and reliable support"],selfHosted:["Fully featured product, unlimited events","Data in your own infrastructure","Community forum"]})[preflight?.cloud?"cloud":"selfHosted"].map((val,idx)=>(0,jsx_runtime.jsx)("p",{className:"text-center mb-2",children:val},idx))}),sideLogo:!0,leftContainerContent:(0,jsx_runtime.jsx)(SignupLeftContainer,{}),children:(0,jsx_runtime.jsx)(SignupForm,{})})}let productBenefits=[{benefit:"Free usage every month - even on paid plans",description:"1M free events, 5K free session recordings, and more. Every month. Forever."},{benefit:"Start collecting data immediately",description:"Integrate with developer-friendly APIs or a low-code web snippet."},{benefit:"Join industry leaders that run on PostHog",description:"Airbus, Hasura, Y Combinator, Staples, and thousands more trust PostHog as their Product OS."}];function SignupLeftContainer(){let{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),getRegionUrl=region=>{let{pathname,search,hash}=lib.router.values.currentLocation;return`https://${constants.Yr[region]}${pathname}${search}${hash}`};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"mb-16 max-w-100",children:productBenefits.map((benefit,i)=>(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-3 mb-4",children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(posthog_icons_es.IconCheckCircle,{className:"mt-0.5 w-5 h-5 text-link"})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"mb-1 font-bold leading-6",children:benefit.benefit}),(0,jsx_runtime.jsx)("p",{className:"m-0 text-sm",children:benefit.description})]})]},i))}),(0,jsx_runtime.jsxs)("div",{className:"BridgePage__cta border rounded p-4 mt-8 text-center",children:["Did you know?",preflight?.cloud?(0,jsx_runtime.jsxs)("span",{children:[" ","You can use our"," ",(0,jsx_runtime.jsx)(Link.r,{to:getRegionUrl(preflight?.region===types.yp.EU?types.yp.US:types.yp.EU),children:(0,jsx_runtime.jsxs)("strong",{children:["PostHog Cloud ",preflight?.region===types.yp.EU?"US":"EU"]})}),preflight?.region===types.yp.EU?", too":" for a GDPR-ready deployment","."]}):(0,jsx_runtime.jsxs)("span",{children:[" ","You can use our"," ",(0,jsx_runtime.jsx)(Link.r,{to:getRegionUrl(types.yp.EU),children:(0,jsx_runtime.jsxs)("strong",{children:[types.yp.EU," cloud"]})})," ","or"," ",(0,jsx_runtime.jsx)(Link.r,{to:getRegionUrl(types.yp.US),children:(0,jsx_runtime.jsxs)("strong",{children:[types.yp.US," cloud"]})})," ","and we'll take care of the hosting for you."]})]})]})}},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/lib/components/BridgePage/BridgePage.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'.BridgePage{background-color:var(--color-bg-bridge);display:flex;flex:1;flex-direction:column;height:100vh;overflow:scroll;position:relative;-ms-overflow-style:none}.BridgePage::-webkit-scrollbar{width:0!important}.BridgePage .BridgePage__main{align-items:center;display:flex;flex:1;justify-content:center;padding:1rem}.BridgePage .BridgePage__content-wrapper{max-width:390px;width:100%}@media screen and (min-width:768px){.BridgePage .BridgePage__content-wrapper{max-width:100%;width:auto}}.BridgePage .BridgePage__left-wrapper{display:none;margin-right:60px}@media screen and (min-width:768px){.BridgePage .BridgePage__left-wrapper{display:block;visibility:visible}}.BridgePage .BridgePage__content{background-color:#fff;border-radius:var(--radius);box-shadow:var(--shadow-elevation-3000);padding:2rem;position:relative;width:100%}.BridgePage .BridgePage__content h2{font-weight:700;text-align:center}.BridgePage .BridgePage__footer{color:var(--color-text-secondary);display:flex;font-weight:500;gap:10%;justify-content:center;margin:1rem 0;width:100%}.BridgePage .BridgePage__left{display:none;position:relative;visibility:none}.BridgePage .BridgePage__left img{height:300px}.BridgePage .BridgePage__left .BridgePage__left__art{margin-top:50px}.BridgePage .BridgePage__left .BridgePage__left__message{background-color:var(--text-3000);border-radius:.75rem;bottom:220px;color:#fff;font-size:.8em;font-weight:600;left:265px;max-width:150px;opacity:0;padding:.5rem .75rem;position:absolute;transition-timing-function:cubic-bezier(.455,.03,.31,1.585)}.BridgePage .BridgePage__left .BridgePage__left__message:after{border:10px solid transparent;border-left:10px solid var(--text-3000);content:" ";left:20px;margin-top:-10px;position:absolute;top:100%}.BridgePage .BridgePage__left .BridgePage__left__message.BridgePage__left__message--enter{opacity:0;transform:translateY(50px) rotate(0deg) scale(.5)}.BridgePage .BridgePage__left .BridgePage__left__message.BridgePage__left__message--enter-active,.BridgePage .BridgePage__left .BridgePage__left__message.BridgePage__left__message--enter-done{opacity:1;transform:translateY(0) rotate(5deg) scale(1);transition:opacity .2s,transform .2s}@media(prefers-reduced-motion){.BridgePage .BridgePage__left .BridgePage__left__message{transition:none}}@media screen and (min-width:768px){.BridgePage .BridgePage__left{display:block;visibility:visible}}.BridgePage .BridgePage__cta{max-width:400px}.BridgePage .BridgePage__header-logo.mobile{display:block}@media screen and (min-width:768px){.BridgePage .BridgePage__header-logo.mobile{display:none}.BridgePage.BridgePage--fixed-width .BridgePage__content{max-width:400px;width:400px}}',""]),module.exports=exports}}]);