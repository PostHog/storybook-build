"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[4685],{"./frontend/src/scenes/query/QueryScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{QueryScene:()=>QueryScene,scene:()=>scene});var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),examples=__webpack_require__("./frontend/src/queries/examples.ts");const DEFAULT_QUERY=examples.Os.Events,querySceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","query","querySceneLogic"]),(0,index_esm.actions)({setQuery:query=>({query})}),(0,index_esm.reducers)({query:[DEFAULT_QUERY,{setQuery:(_,_ref)=>{let{query}=_ref;return query}}]}),(0,lib.actionToUrl)({setQuery:_ref2=>{let{query}=_ref2;return[urls.j.debugQuery(),{},{q:query},{replace:!0}]}}),(0,lib.urlToAction)((_ref3=>{let{actions,values}=_ref3;return{[urls.j.debugQuery()]:(_,__,_ref4)=>{let{q}=_ref4;q&&q!==values.query&&actions.setQuery(q)}}}))]);var PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),Query=__webpack_require__("./frontend/src/queries/Query/Query.tsx"),LemonSelect=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSelect/index.ts"),LemonLabel=__webpack_require__("./frontend/src/lib/lemon-ui/LemonLabel/LemonLabel.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function QueryScene(){const{query}=(0,index_esm.useValues)(querySceneLogic),{setQuery}=(0,index_esm.useActions)(querySceneLogic);let showEditor=!0;try{const parsed=JSON.parse(query);parsed&&"DataTableNode"==parsed.kind&&"HogQLQuery"==parsed.source.kind&&(parsed.full||parsed.showHogQLEditor)&&(showEditor=!1)}catch(e){}return(0,jsx_runtime.jsxs)("div",{className:"QueryScene",children:[(0,jsx_runtime.jsx)(PageHeader.m,{title:"Query Debugger",buttons:(0,jsx_runtime.jsxs)(LemonLabel.H,{children:["Example queries:"," ",(0,jsx_runtime.jsx)(LemonSelect.Yv,{placeholder:"Select an example query",options:Object.entries(examples.Os).map((_ref=>{let[k,v]=_ref;return{label:k,value:v}})),onChange:v=>{v&&setQuery(v)}})]})}),(0,jsx_runtime.jsx)(Query.A,{query,setQuery:query=>setQuery(JSON.stringify(query,null,2)),context:{showQueryEditor:showEditor}})]})}const scene={component:QueryScene,logic:querySceneLogic}}}]);