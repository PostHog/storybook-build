(window.webpackJsonp=window.webpackJsonp||[]).push([[281],{"./frontend/src/scenes/groups/Group.tsx":function(H,d,e){"use strict";e.r(d),e.d(d,"scene",function(){return z}),e.d(d,"Group",function(){return B});var x=e("./node_modules/core-js/modules/es.array.concat.js"),s=e("./node_modules/core-js/modules/es.object.to-string.js"),f=e("./node_modules/core-js/modules/es.regexp.to-string.js"),E=e("./node_modules/react/index.js"),t=e.n(E),G=e("./node_modules/antd/es/tabs/index.js"),b=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),y=e("./node_modules/kea/lib/index.esm.js"),C=e("./frontend/src/lib/components/PropertiesTable.tsx"),O=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),R=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),D=e.n(R),K=e("./node_modules/@babel/runtime/regenerator/index.js"),M=e.n(K),J=e("./node_modules/core-js/modules/es.array.iterator.js"),Y=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),$=e("./frontend/src/lib/api.ts"),P=e("./frontend/src/lib/utils.tsx"),V=e("./frontend/src/scenes/teamLogic.tsx"),F=e("./frontend/src/models/groupsModel.ts"),A=e("./frontend/src/scenes/urls.ts"),T=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),i=Object(y.kea)({path:["groups","groupLogic"],connect:{values:[V.a,["currentTeamId"],F.a,["groupTypes","aggregationLabel"]]},actions:function(){return{setGroup:function(o,a){return{groupTypeIndex:o,groupKey:a}}}},loaders:function(r){var o=r.values;return{groupData:[null,{loadGroup:function(){var a=D()(M.a.mark(function g(){var N,W;return M.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return N={group_type_index:o.groupTypeIndex,group_key:o.groupKey},W="api/projects/".concat(o.currentTeamId,"/groups/find?").concat(Object(P.Eb)(N)),h.next=4,$.b.get(W);case 4:return h.abrupt("return",h.sent);case 5:case"end":return h.stop()}},g)}));function p(){return a.apply(this,arguments)}return p}()}]}},reducers:{groupTypeIndex:[0,{setGroup:function(r,o){var a=o.groupTypeIndex;return a}}],groupKey:["",{setGroup:function(r,o){var a=o.groupKey;return a}}]},selectors:{groupTypeName:[function(n){return[n.aggregationLabel,n.groupTypeIndex]},function(n,r){return n(r).singular}],breadcrumbs:[function(n){return[n.groupTypeName,n.groupTypeIndex,n.groupKey,n.groupData]},function(n,r,o,a){return[{name:Object(P.i)(n),path:A.a.groups(String(r))},{name:Object(T.b)(o,(a==null?void 0:a.group_properties)||{}),path:A.a.group(String(r),o)}]}]},urlToAction:function(r){var o=r.actions;return{"/groups/:groupTypeIndex/:groupKey":function(p){var g=p.groupTypeIndex,N=p.groupKey;g&&N&&(o.setGroup(+g,decodeURIComponent(N)),o.loadGroup())}}}}),u=e("./frontend/src/scenes/events/EventsTable.tsx"),c=e("./frontend/src/scenes/groups/RelatedGroups.tsx"),j=e("./frontend/src/lib/components/Tooltip.tsx"),m=e("./frontend/src/types.ts"),S=e("./frontend/src/lib/components/PageHeader.tsx"),L=e("./frontend/src/lib/components/CopyToClipboard.tsx"),I=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),U=e("./frontend/src/lib/components/NotFound/index.tsx"),l=G.a.TabPane,z={component:B,logic:i};function v(n){var r=n.groupData,o=n.groupTypeName;return t.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},t.a.createElement("div",{className:"mr-4"},t.a.createElement("span",{className:"text-muted"},"Type:")," ",o),t.a.createElement("div",{className:"mr-4"},t.a.createElement("span",{className:"text-muted"},"Key:")," ",t.a.createElement(L.a,{tooltipMessage:null,description:"group key",style:{display:"inline-flex",justifyContent:"flex-end"}},r.group_key)),t.a.createElement("div",null,t.a.createElement("span",{className:"text-muted"},"First seen:")," ",r.created_at?t.a.createElement(O.b,{time:r.created_at}):"unknown"))}function B(){var n=Object(y.useValues)(i),r=n.groupData,o=n.groupDataLoading,a=n.groupTypeName,p=n.groupKey,g=n.groupTypeIndex;return r?t.a.createElement(t.a.Fragment,null,t.a.createElement(S.a,{title:Object(T.b)(r.group_key,r.group_properties),caption:t.a.createElement(v,{groupData:r,groupTypeName:a})}),t.a.createElement(G.a,null,t.a.createElement(l,{tab:t.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:m.H.PROPERTIES},t.a.createElement(C.a,{properties:r.group_properties||{},embedded:!1,searchable:!0})),t.a.createElement(l,{tab:t.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:m.H.EVENTS},t.a.createElement(u.a,{pageKey:"".concat(g,"::").concat(p),fixedFilters:{properties:[{key:"$group_".concat(g),value:p}]},sceneUrl:A.a.group(g.toString(),p),showCustomizeColumns:!1})),t.a.createElement(l,{tab:t.a.createElement("span",{"data-attr":"group-related-tab"},"Related people & groups",t.a.createElement(j.a,{title:"People and groups that have shared events with this ".concat(a," in the last 90 days.")},t.a.createElement(b.a,{style:{marginLeft:6,marginRight:0}}))),key:m.H.RELATED},t.a.createElement(c.a,{id:p,groupTypeIndex:g})))):o?t.a.createElement(I.b,null):t.a.createElement(U.a,{object:"group"})}},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(H,d,e){"use strict";e.d(d,"a",function(){return T});var x=e("./node_modules/react/index.js"),s=e.n(x),f=e("./node_modules/kea/lib/index.esm.js"),E=e("./frontend/src/lib/components/LemonTable/index.ts"),t=e("./frontend/src/models/groupsModel.ts"),G=e("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),b=e.n(G),y=e("./frontend/src/lib/utils.tsx"),C=e("./frontend/src/scenes/persons/PersonHeader.tsx"),O=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),R=e.n(O),D=e("./node_modules/@babel/runtime/regenerator/index.js"),K=e.n(D),M=e("./node_modules/core-js/modules/es.array.concat.js"),J=e("./node_modules/core-js/modules/es.array.iterator.js"),Y=e("./node_modules/core-js/modules/es.object.to-string.js"),$=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),P=e("./frontend/src/lib/api.ts"),V=e("./frontend/src/scenes/teamLogic.tsx"),F=Object(f.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[V.a,["currentTeamId"]]},props:{},key:function(u){var c;return"".concat((c=u.groupTypeIndex)!==null&&c!==void 0?c:"person","-").concat(u.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(u){var c=u.values,j=u.props;return{relatedActors:[[],{loadRelatedActors:function(){var m=R()(K.a.mark(function L(){var I;return K.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return I="api/projects/".concat(c.currentTeamId,"/groups/related?").concat(Object(y.Eb)({group_type_index:j.groupTypeIndex,id:j.id})),l.next=3,P.b.get(I);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},L)}));function S(){return m.apply(this,arguments)}return S}(),setGroup:function(){return[]}}]}},events:function(u){var c=u.actions;return{afterMount:c.loadRelatedActors}}}),A=e("./frontend/src/scenes/persons/GroupActorHeader.tsx");function T(i){var u=i.groupTypeIndex,c=i.id,j=Object(f.useValues)(F({groupTypeIndex:u,id:c})),m=j.relatedActors,S=j.relatedActorsLoading,L=Object(f.useValues)(t.a),I=L.aggregationLabel,U=[{title:"Type",key:"type",render:function(z,v){return v.type==="group"?s.a.createElement(s.a.Fragment,null,Object(y.i)(I(v.group_type_index).singular)):s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,null)," Person")}},{title:"id",key:"id",render:function(z,v){return v.type=="group"?s.a.createElement(A.a,{actor:v}):s.a.createElement(C.a,{person:v,withIcon:!1})}}];return s.a.createElement(E.a,{dataSource:m,columns:U,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:S,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{T.displayName="RelatedGroups",T.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:T.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(i){}},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(H,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};d.default=x},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(H,d,e){"use strict";var x=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),s=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var f=s(e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/objectSpread2.js")),E=x(e("./node_modules/react/index.js")),t=s(e("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),G=s(e("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),b=function(O,R){return E.createElement(G.default,(0,f.default)((0,f.default)({},O),{},{ref:R,icon:t.default}))};b.displayName="UserOutlined";var y=E.forwardRef(b);d.default=y}}]);
