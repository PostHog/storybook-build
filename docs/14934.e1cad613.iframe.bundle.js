(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[14934],{"../../frontend/src/lib/components/CompactList/CompactList.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>CompactList_CompactList_CompactList});var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),CompactList=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/lib/components/CompactList/CompactList.scss"),CompactList_default=__webpack_require__.n(CompactList),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(CompactList_default(),options),CompactList_default().locals;var clsx_m=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonDivider=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),LemonSkeleton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSkeleton/index.ts"),themeLogic=__webpack_require__("../../frontend/src/layout/navigation-3000/themeLogic.ts"),EmptyMessage=__webpack_require__("../../frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function CompactList_CompactList_CompactList(_ref){let{title,viewAllURL,loading,items,emptyMessage,renderRow,contentHeightBehavior="fixed"}=_ref,{theme}=(0,index_esm.useValues)(themeLogic.b);return(0,jsx_runtime.jsxs)("div",{className:"CompactList",style:theme?.boxStyle,children:[title&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"CompactList__header",children:[(0,jsx_runtime.jsx)("h3",{className:"px-2 truncate",title:"string"==typeof title?title:void 0,children:title}),viewAllURL&&(0,jsx_runtime.jsx)(LemonButton.J,{to:viewAllURL,children:"View all"})]}),(0,jsx_runtime.jsx)("div",{className:"mx-2",children:(0,jsx_runtime.jsx)(LemonDivider.p,{className:"my-0"})})]}),(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("CompactList__content","shrink"===contentHeightBehavior&&"max-h-[16rem] h-auto"),children:loading?(0,jsx_runtime.jsx)("div",{className:"p-2 deprecated-space-y-6",children:Array.from({length:6},(_,index)=>(0,jsx_runtime.jsx)(LemonSkeleton.y,{},index))}):0===items.length&&emptyMessage?(0,jsx_runtime.jsx)(EmptyMessage.M,{...emptyMessage}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:items.map((item,index)=>renderRow(item,index))})})]})}},"../../frontend/src/lib/components/Scenes/InsightOrDashboard/SceneAddToNotebookDropdownMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>SceneAddToNotebookDropdownMenu});var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),ButtonPrimitives=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),DropdownMenu=__webpack_require__("../../frontend/src/lib/ui/DropdownMenu/DropdownMenu.tsx"),types=__webpack_require__("../../frontend/src/scenes/notebooks/types.ts"),schema_general=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),dayjs=__webpack_require__("../../frontend/src/lib/dayjs.ts"),Combobox=__webpack_require__("../../frontend/src/lib/ui/Combobox/Combobox.tsx"),Label=__webpack_require__("../../frontend/src/lib/ui/Label/Label.tsx"),NotebookNodeContext=__webpack_require__("../../frontend/src/scenes/notebooks/Nodes/NotebookNodeContext.ts"),notebookSelectButtonLogic=__webpack_require__("../../frontend/src/scenes/notebooks/NotebookSelectButton/notebookSelectButtonLogic.ts"),notebooksModel=__webpack_require__("../../frontend/src/models/notebooksModel.ts"),src_types=__webpack_require__("../../frontend/src/types.ts"),AccessControlAction=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SceneNotebookMenuItems(_ref){let{notebookSelectButtonProps,newNotebookTitle,onNotebookOpened,dataAttrKey}=_ref,logic=(0,notebookSelectButtonLogic.l)({...notebookSelectButtonProps}),{loadNotebooksContainingResource,loadAllNotebooks}=(0,index_esm.useActions)(logic),nodeLogic=(0,NotebookNodeContext.A)(),{notebooksLoading,notebooksContainingResource,notebooksNotContainingResource,searchQuery}=(0,index_esm.useValues)(logic),{resource}=notebookSelectButtonProps||{},{createNotebook}=(0,index_esm.useActions)(notebooksModel.L),notebookResource=resource&&"boolean"!=typeof resource?resource:null,openAndAddToNotebook=(notebookShortId,exists)=>{let position=notebookSelectButtonProps?.resource?"end":"start";(0,notebooksModel.fL)(notebookShortId,types.b.Popover,position,theNotebookLogic=>{!exists&&notebookSelectButtonProps?.resource&&theNotebookLogic.actions.insertAfterLastNode([notebookSelectButtonProps.resource])})},openNewNotebook=()=>{let title=null!=newNotebookTitle?newNotebookTitle:`Notes ${(0,dayjs.Bv)().format("DD/MM")}`;createNotebook(types.b.Popover,title,notebookResource?[notebookResource]:void 0,theNotebookLogic=>{onNotebookOpened?.(theNotebookLogic),loadNotebooksContainingResource()})};return(0,react.useEffect)(()=>{nodeLogic||(resource&&loadNotebooksContainingResource(),loadAllNotebooks())},[nodeLogic,resource]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(DropdownMenu.Qk,{children:(0,jsx_runtime.jsxs)(Combobox.h,{insideMenu:!0,children:[(0,jsx_runtime.jsx)(Combobox.h.Search,{placeholder:"Search notebooks...",autoFocus:!0}),(0,jsx_runtime.jsxs)(Combobox.h.Content,{className:"max-w-none min-w-none",children:[(0,jsx_runtime.jsx)(Combobox.h.Empty,{children:"No notebooks found"}),(0,jsx_runtime.jsx)(AccessControlAction.bW,{resourceType:src_types.qR.Notebook,minAccessLevel:src_types.W$.Editor,children:_ref2=>{let{disabledReason}=_ref2;return(0,jsx_runtime.jsx)(Combobox.h.Group,{children:(0,jsx_runtime.jsx)(Combobox.h.Item,{asChild:!0,children:(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,onClick:openNewNotebook,"data-attr":`${dataAttrKey}-new-notebook-button`,disabled:!!disabledReason,...disabledReason&&{tooltip:disabledReason},children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),"New notebook"]})})})}}),(0,jsx_runtime.jsx)(Combobox.h.Group,{value:["My scratchpad"],children:(0,jsx_runtime.jsx)(Combobox.h.Item,{asChild:!0,children:(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,onClick:()=>{openAndAddToNotebook("scratchpad",!1)},"data-attr":`${dataAttrKey}-my-scratchpad-dropdown-menu-item`,children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconNotebook,{}),"My scratchpad"]})})}),!notebooksLoading||notebooksNotContainingResource.length||notebooksContainingResource.length?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[resource?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Label._,{intent:"menu",className:"px-2 mt-2",children:"Continue in"}),(0,jsx_runtime.jsx)(DropdownMenu.VD,{}),notebooksContainingResource.length>0?notebooksContainingResource.map(notebook=>{var _notebook$title;return notebook&&(0,jsx_runtime.jsx)(Combobox.h.Group,{value:[null!==(_notebook$title=notebook.title)&&void 0!==_notebook$title?_notebook$title:""],children:(0,jsx_runtime.jsx)(Combobox.h.Item,{asChild:!0,children:(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,onClick:()=>{openAndAddToNotebook(notebook.short_id,!0)},"data-attr":`${dataAttrKey}-continue-in-notebook-dropdown-menu-item`,children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconNotebook,{}),notebook.title||`Untitled (${notebook.short_id})`]})},notebook.short_id)})}):(0,jsx_runtime.jsx)(ButtonPrimitives.hL,{menuItem:!0,inert:!0,className:"text-tertiary",children:"No notebooks found"})]}):null,resource?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Label._,{intent:"menu",className:"px-2 mt-2",children:"Add to"}),(0,jsx_runtime.jsx)(DropdownMenu.VD,{}),notebooksNotContainingResource.length>0?notebooksNotContainingResource.map(notebook=>{var _notebook$title2;return notebook&&(0,jsx_runtime.jsx)(Combobox.h.Group,{value:[null!==(_notebook$title2=notebook.title)&&void 0!==_notebook$title2?_notebook$title2:""],children:(0,jsx_runtime.jsx)(Combobox.h.Item,{asChild:!0,children:(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,onClick:()=>{openAndAddToNotebook(notebook.short_id,!1)},"data-attr":`${dataAttrKey}-add-to-notebook-dropdown-menu-item`,children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconNotebook,{}),notebook.title||`Untitled (${notebook.short_id})`]})},notebook.short_id)})}):(0,jsx_runtime.jsx)(ButtonPrimitives.hL,{menuItem:!0,inert:!0,className:"text-tertiary",children:"No notebooks found"})]}):null]}):(0,jsx_runtime.jsx)(Combobox.h.Group,{children:(0,jsx_runtime.jsx)(Combobox.h.Item,{asChild:!0,children:(0,jsx_runtime.jsx)("div",{className:"px-2 py-1 flex flex-row items-center gap-x-1",children:notebooksLoading?"Loading...":searchQuery.length?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"No matching notebooks"}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"You have no notebooks"})})})})]})]})})})}function SceneAddToNotebookDropdownMenu(_ref){let{shortId,dataAttrKey,disabledReasons}=_ref;return(0,jsx_runtime.jsxs)(DropdownMenu.h_,{children:[(0,jsx_runtime.jsx)(DropdownMenu.$F,{asChild:!0,children:(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,"data-attr":`${dataAttrKey}-add-to-dropdown-menu`,disabledReasons:disabledReasons,children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),"Add to notebook",(0,jsx_runtime.jsx)(DropdownMenu.Ac,{})]})}),(0,jsx_runtime.jsx)(DropdownMenu.AW,{align:"end",matchTriggerWidth:!0,className:"min-w-none max-w-none",children:(0,jsx_runtime.jsx)(SceneNotebookMenuItems,{notebookSelectButtonProps:{resource:{type:types.C.Query,attrs:{query:{kind:schema_general.OH.SavedInsightNode,shortId:shortId}}}},dataAttrKey:dataAttrKey})})]})}},"../../frontend/src/scenes/feature-flags/FeatureFlag.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FeatureFlag:()=>FeatureFlag_FeatureFlag,createMaxToolSurveyConfig:()=>createMaxToolSurveyConfig,scene:()=>scene}),__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlag.scss");var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.7_react@18.2.0_/node_modules/kea-forms/lib/index.js"),kea_router_lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),dist_module=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.272.0_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),esm=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.272.0_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/react/dist/esm/index.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),AccessControlAction=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),AccessDenied=__webpack_require__("../../frontend/src/lib/components/AccessDenied/index.tsx"),ActivityLog=__webpack_require__("../../frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),NotFound=__webpack_require__("../../frontend/src/lib/components/NotFound/index.tsx"),ObjectTags=__webpack_require__("../../frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),SceneAddToNotebookDropdownMenu=__webpack_require__("../../frontend/src/lib/components/Scenes/InsightOrDashboard/SceneAddToNotebookDropdownMenu.tsx"),SceneFile=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneFile.tsx"),SceneTags=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneTags.tsx"),constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),LemonBanner=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonBanner/index.ts"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonCheckbox=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonCheckbox/index.ts"),LemonDivider=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),LemonField=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),LemonInput=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx"),LemonTabs=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),LemonTag=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTag/LemonTag.tsx"),LemonTextArea=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx"),Lettermark=__webpack_require__("../../frontend/src/lib/lemon-ui/Lettermark/index.ts"),Link=__webpack_require__("../../frontend/src/lib/lemon-ui/Link/index.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),ButtonPrimitives=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),product_intents=__webpack_require__("../../frontend/src/lib/utils/product-intents.ts"),AccessControlPopoutCTA=__webpack_require__("../../frontend/src/layout/navigation-3000/sidepanel/panels/access_control/AccessControlPopoutCTA.tsx"),types=__webpack_require__("../../frontend/src/types.ts"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function FeatureFlagPermissions(_ref){let{featureFlag}=_ref;return featureFlag.id?(0,jsx_runtime.jsx)(AccessControlPopoutCTA._,{resourceType:types.qR.FeatureFlag}):(0,jsx_runtime.jsx)("p",{children:"Please save the feature flag before changing the access controls."})}var Dashboard=__webpack_require__("../../frontend/src/scenes/dashboard/Dashboard.tsx"),EmptyDashboardComponent=__webpack_require__("../../frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx"),dashboardLogic=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardLogic.tsx"),FeatureFlagSnippets=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlagSnippets.tsx"),JSONEditorInput=__webpack_require__("../../frontend/src/scenes/feature-flags/JSONEditorInput.tsx"),useMaxTool=__webpack_require__("../../frontend/src/scenes/max/useMaxTool.ts"),surveys_constants=__webpack_require__("../../frontend/src/scenes/surveys/constants.tsx"),surveys_utils=__webpack_require__("../../frontend/src/scenes/surveys/utils.ts"),teamLogic=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),scenes_urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),SceneLayout=__webpack_require__("../../frontend/src/layout/scenes/SceneLayout.tsx"),SceneContent=__webpack_require__("../../frontend/src/layout/scenes/components/SceneContent.tsx"),SceneDivider=__webpack_require__("../../frontend/src/layout/scenes/components/SceneDivider.tsx"),SceneSection=__webpack_require__("../../frontend/src/layout/scenes/components/SceneSection.tsx"),SceneTitleSection=__webpack_require__("../../frontend/src/layout/scenes/components/SceneTitleSection.tsx"),tagsModel=__webpack_require__("../../frontend/src/models/tagsModel.ts"),Query=__webpack_require__("../../frontend/src/queries/Query/Query.tsx"),DataTable_utils=__webpack_require__("../../frontend/src/queries/nodes/DataTable/utils.ts"),schema_general=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),DashboardTemplateChooser=__webpack_require__("../../frontend/src/scenes/dashboard/DashboardTemplateChooser.tsx"),NewDashboardModal=__webpack_require__("../../frontend/src/scenes/dashboard/NewDashboardModal.tsx"),DashboardsTable=__webpack_require__("../../frontend/src/scenes/dashboard/dashboards/DashboardsTable.tsx"),dashboardsLogic=__webpack_require__("../../frontend/src/scenes/dashboard/dashboards/dashboardsLogic.ts"),newDashboardLogic=__webpack_require__("../../frontend/src/scenes/dashboard/newDashboardLogic.ts"),dashboardsModel=__webpack_require__("../../frontend/src/models/dashboardsModel.tsx"),feature_flags_featureFlagLogic=__webpack_require__("../../frontend/src/scenes/feature-flags/featureFlagLogic.ts");function AnalysisTab(_ref){let{featureFlag}=_ref;return(0,jsx_runtime.jsx)("div",{className:"NewDashboardModal",children:(0,jsx_runtime.jsx)(index_esm.BindLogic,{logic:newDashboardLogic.Z,props:{featureFlagId:featureFlag.id},children:featureFlag.analytics_dashboards&&featureFlag.analytics_dashboards.length>0?(0,jsx_runtime.jsx)(FeatureFlagDashboardsTableContainer,{}):featureFlag.id&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DashboardTemplateChooser.g,{scope:"feature_flag"}),(0,jsx_runtime.jsx)(NewDashboardModal.O,{})]})})})}function FeatureFlagDashboardsTableContainer(){let{filteredDashboards}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{showNewDashboardModal}=(0,index_esm.useActions)(newDashboardLogic.Z),{dashboardsLoading}=(0,index_esm.useValues)(dashboardsModel.h),{filters}=(0,index_esm.useValues)(dashboardsLogic.dJ);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DashboardsTable.q,{extraActions:(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:(0,jsx_runtime.jsx)(src.Jp,{type:"primary",onClick:showNewDashboardModal,children:"New dashboard"})}),hideActions:!0,dashboards:filteredDashboards,dashboardsLoading:dashboardsLoading,filters:filters}),(0,jsx_runtime.jsx)(NewDashboardModal.O,{})]})}var TaxonomicFilter_types=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/types.ts"),Spinner=__webpack_require__("../../frontend/src/lib/lemon-ui/Spinner/Spinner.tsx"),ActionFilter=__webpack_require__("../../frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),ActionFilterRow=__webpack_require__("../../frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx");function FeatureFlagAutoRollback(_ref){let{readOnly}=_ref,{featureFlag,sentryIntegrationEnabled,sentryErrorCount,insightRollingAverages}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{addRollbackCondition,removeRollbackCondition,loadInsightAtIndex}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{user}=(0,index_esm.useValues)(userLogic.userLogic);return featureFlag.rollback_conditions&&0!==featureFlag.rollback_conditions.length?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(SceneSection.S,{title:(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-2",children:["Auto rollback",(0,jsx_runtime.jsx)(src.oe,{type:"warning",className:"uppercase",children:"Beta"})]}),description:!readOnly&&"Specify the conditions in which this feature flag will automatically roll back.",children:[readOnly&&featureFlag.rollback_conditions&&featureFlag.rollback_conditions.map((rollback_condition,index)=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[index>0&&(0,jsx_runtime.jsx)("div",{className:"condition-set-separator",children:"OR"}),"insight"===rollback_condition.threshold_type&&rollback_condition.threshold_metric?.events?.[0]?.name?(0,jsx_runtime.jsxs)("div",{className:"mb-4 border rounded p-4 bg-surface-primary",children:[(0,jsx_runtime.jsx)("b",{children:`${(0,utils.fm)(rollback_condition.threshold_type)} based rollback`}),(0,jsx_runtime.jsx)(src.p2,{className:"my-3"}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[insightRollingAverages[index]&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("b",{children:rollback_condition.threshold_metric.events[0].name}),"  trailing average is ",insightRollingAverages[index],"."]})," Trigger when trailing average of  ",(0,jsx_runtime.jsx)("b",{children:rollback_condition.threshold_metric.events[0].name}),"  is ",rollback_condition.operator&&utils.mG[rollback_condition.operator]," ",rollback_condition.threshold]})]}):(0,jsx_runtime.jsxs)("div",{className:"mb-4 border rounded p-4 bg-surface-primary",children:[(0,jsx_runtime.jsx)("b",{children:`${(0,utils.fm)(rollback_condition.threshold_type)} based rollback`}),(0,jsx_runtime.jsx)(src.p2,{className:"my-3"}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:["Trigger when there is a ",(0,jsx_runtime.jsxs)("b",{children:[rollback_condition.threshold,"%"]})," increase in errors"]})]})]})),!readOnly&&featureFlag.rollback_conditions&&featureFlag.rollback_conditions.map((_,index)=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[index>0&&(0,jsx_runtime.jsx)("div",{className:"condition-set-separator",children:"OR"}),(0,jsx_runtime.jsx)("div",{className:"mb-4 border rounded p-4 bg-surface-primary",children:(0,jsx_runtime.jsxs)(lib.Group,{name:["rollback_conditions",index],children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsxs)("div",{className:"flex",children:[(0,jsx_runtime.jsx)("div",{className:"mt-3 mr-3",children:(0,jsx_runtime.jsx)("b",{children:"Rollback Condition Type"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"threshold_type",children:_ref2=>{let{value,onChange}=_ref2;return(0,jsx_runtime.jsx)(src.Yv,{value:value,onChange:onChange,options:[{value:types.SR.Sentry,label:"Error Based"},{value:types.SR.Insight,label:"Metric Based"}]})}})]}),(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),noPadding:!0,onClick:()=>{removeRollbackCondition(index)}})]}),(0,jsx_runtime.jsx)(src.p2,{className:"my-3"}),"insight"==featureFlag.rollback_conditions[index].threshold_type?(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center mt-4",children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"threshold_metric",children:_ref3=>{let{value,onChange}=_ref3;return(0,jsx_runtime.jsx)(ActionFilter.T,{filters:value,setFilters:payload=>{onChange({...payload}),loadInsightAtIndex(index,payload)},typeKey:"feature-flag-rollback-trends-"+index,buttonCopy:"Add graph series",showSeriesIndicator:!1,showNestedArrow:!0,hideRename:!0,entitiesLimit:1,mathAvailability:ActionFilterRow.Qq.None,propertiesTaxonomicGroupTypes:[TaxonomicFilter_types.t.EventProperties,TaxonomicFilter_types.t.PersonProperties,TaxonomicFilter_types.t.EventFeatureFlags,TaxonomicFilter_types.t.Cohorts,TaxonomicFilter_types.t.Elements]})}}),(0,jsx_runtime.jsxs)("span",{children:["trailing 7 day average is ",void 0!==insightRollingAverages[index]?(0,jsx_runtime.jsx)("b",{children:insightRollingAverages[index]}):(0,jsx_runtime.jsx)(Spinner.$,{}),". Trigger when trailing average is"]}),(0,jsx_runtime.jsx)(LemonField.D,{name:"operator",children:_ref4=>{let{value,onChange}=_ref4;return(0,jsx_runtime.jsx)(src.Yv,{value:value,onChange:onChange,options:[{label:"greater than",value:"gt"},{label:"less than",value:"lt"}]})}}),(0,jsx_runtime.jsx)(LemonField.D,{name:"threshold",children:(0,jsx_runtime.jsx)(src.DF,{min:0,type:"number"})})]}):sentryIntegrationEnabled?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[sentryErrorCount?(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsxs)("b",{children:[(0,utils.Lc)(sentryErrorCount)," "]})," Sentry errors in the past 24 hours."," "]}):(0,jsx_runtime.jsx)(Spinner.$,{}),(0,jsx_runtime.jsx)("span",{children:" Trigger when there is a"}),(0,jsx_runtime.jsx)(LemonField.D,{name:"threshold",className:"ml-3 mr-3",children:_ref5=>{let{value,onChange}=_ref5;return(0,jsx_runtime.jsx)(src.DF,{value:value,suffix:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"%"}),type:"number",min:0,onChange:onChange})}}),(0,jsx_runtime.jsx)(LemonField.D,{name:"operator",className:"mr-3",children:_ref6=>{let{value,onChange}=_ref6;return(0,jsx_runtime.jsx)(src.Yv,{options:[{label:"increase",value:"gt"},{label:"decrease",value:"lt"}],value:value,onChange:onChange})}}),(0,jsx_runtime.jsxs)("span",{children:["to"," ",sentryErrorCount?(0,jsx_runtime.jsx)("b",{children:(0,utils.Lc)(Math.round(sentryErrorCount*(1+(featureFlag.rollback_conditions[index].threshold||0)/100)))}):(0,jsx_runtime.jsx)(Spinner.$,{})," ","errors."]}),(0,jsx_runtime.jsx)("div",{})]})}):user?.is_staff?(0,jsx_runtime.jsxs)("div",{className:"mt-4",children:[(0,jsx_runtime.jsx)("b",{children:"This feature requires an active Sentry integration."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(src.rU,{to:scenes_urls.j.instanceSettings(),children:"Go to Instance Settings"})," and update the ",(0,jsx_runtime.jsx)("code",{children:'"SENTRY_"'})," properties from your Sentry account to enable."]}):(0,jsx_runtime.jsx)("p",{className:"text-secondary",children:"This PostHog instance is not configured for Sentry. Please contact the instance owner to configure it."})]})})]})),!readOnly&&featureFlag.rollback_conditions&&featureFlag.rollback_conditions.length>0&&(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",onClick:addRollbackCondition,children:"Add condition"})]})}):null}var FeatureFlagCodeExample=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlagCodeExample.tsx"),FeatureFlagEvaluationTags=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlagEvaluationTags.tsx"),hooks_useOnMountEffect=__webpack_require__("../../frontend/src/lib/hooks/useOnMountEffect.ts"),LemonTable=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),LemonTableLink=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),columnUtils=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),icons=__webpack_require__("../../frontend/src/lib/lemon-ui/icons/index.ts"),cohortsModel=__webpack_require__("../../frontend/src/models/cohortsModel.ts"),groupsModel=__webpack_require__("../../frontend/src/models/groupsModel.ts"),organizationLogic=__webpack_require__("../../frontend/src/scenes/organizationLogic.tsx"),FeatureFlags=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlags.tsx");function checkHasStaticCohort(featureFlag,cohorts){let staticCohorts=new Set;for(let group of(cohorts.forEach(cohort=>{cohort.is_static&&staticCohorts.add(cohort.id)}),featureFlag.filters.groups))for(let prop of group.properties||[])if("cohort"===prop.type&&staticCohorts.has(prop.value))return!0;return!1}let getColumns=_ref=>{let{aggregationLabel,currentTeamId,currentOrganization}=_ref;return[{title:"Project",dataIndex:"team_id",width:"45%",render:(dataValue,record)=>{let team=currentOrganization?.teams?.find(t=>t.id===Number(dataValue));if(!team)return"(project does not exist)";let isCurrentTeam=team.id===currentTeamId,linkText=isCurrentTeam?`${team.name} (current)`:team.name;return(0,jsx_runtime.jsx)(LemonTableLink.i,{to:isCurrentTeam?void 0:scenes_urls.j.project(team.id,record.flag_id?scenes_urls.j.featureFlag(record.flag_id):""),title:linkText})}},(0,columnUtils.JB)(),(0,columnUtils.rw)(),{title:"Release conditions",width:200,render:function Render(_,record){let releaseText=(0,FeatureFlags.groupFilters)(record.filters,void 0,aggregationLabel);return"string"==typeof releaseText&&releaseText.startsWith("100% of")?(0,jsx_runtime.jsx)(src.oe,{type:"highlight",children:releaseText}):releaseText}},{title:"Status",dataIndex:"active",render:dataValue=>dataValue?(0,jsx_runtime.jsx)(src.oe,{type:"success",className:"uppercase",children:"Enabled"}):(0,jsx_runtime.jsx)(src.oe,{type:"default",className:"uppercase",children:"Disabled"})}]};function InfoBanner(){var _currentOrganization$;let text;let{currentOrganization}=(0,index_esm.useValues)(organizationLogic.organizationLogic),{featureFlag}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),hasMultipleProjects=(null!==(_currentOrganization$=currentOrganization?.teams?.length)&&void 0!==_currentOrganization$?_currentOrganization$:0)>1;if(currentOrganization?.membership_level&&!(currentOrganization.membership_level<constants.Dk.Admin)||hasMultipleProjects){if(hasMultipleProjects){if(featureFlag.can_edit)return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});text="You don't have the necessary permissions to copy this flag to another project. Contact your administrator to request editing rights."}else text="This feature enables the copying of a feature flag across different projects. Once additional projects are added within your organization, you'll be able to replicate this flag to them."}else text="You currently have access to only one project. If your organization manages multiple projects and you wish to copy this feature flag across them, request project access from your administrator.";return(0,jsx_runtime.jsx)(src.Vp,{type:"info",className:"mb-4",children:text})}function FeatureFlagCopySection(){var _currentOrganization$2;let{featureFlag,copyDestinationProject,projectsWithCurrentFlag,featureFlagCopyLoading}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{setCopyDestinationProject,copyFlag}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{currentOrganization}=(0,index_esm.useValues)(organizationLogic.organizationLogic),{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{allCohorts}=(0,index_esm.useValues)(cohortsModel.Qo),hasStaticCohort=checkHasStaticCohort(featureFlag,allCohorts.results);return(null!==(_currentOrganization$2=currentOrganization?.teams?.length)&&void 0!==_currentOrganization$2?_currentOrganization$2:0)>1&&featureFlag.can_edit?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h3",{className:"l3",children:"Feature flag copy"}),(0,jsx_runtime.jsx)("div",{children:"Copy your flag and its configuration to another project."}),hasStaticCohort&&(0,jsx_runtime.jsx)(src.Vp,{type:"info",className:"mt-4",children:"The flag you are about to copy references a static cohort. If the cohort with identical name does not exist in the target project, it will be copied as an empty cohort. This is because the associated persons might not exist in the target project."}),(0,jsx_runtime.jsxs)("div",{className:"inline-flex gap-4 my-6",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"font-semibold leading-6 h-6",children:"Key"}),(0,jsx_runtime.jsx)("div",{className:"border px-3 rounded h-10 text-center flex items-center justify-center max-w-200",children:(0,jsx_runtime.jsx)("span",{className:"font-semibold truncate",children:featureFlag.key})})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"h-6"}),(0,jsx_runtime.jsx)(posthog_icons_es.IconArrowRight,{className:"h-10",fontSize:"30"})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"font-semibold leading-6 h-6",children:"Destination project"}),(0,jsx_runtime.jsx)(src.Yv,{dropdownMatchSelectWidth:!1,value:copyDestinationProject,onChange:id=>setCopyDestinationProject(id),options:currentOrganization?.teams?.map(team=>({value:team.id,label:team.name})).sort((a,b)=>a.label.localeCompare(b.label)).filter(option=>option.value!==currentTeam?.id)||[],className:"min-w-[10rem]"})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"h-6"}),(0,jsx_runtime.jsx)(src.Jp,{disabledReason:!copyDestinationProject&&"Select destination project",loading:featureFlagCopyLoading,type:"primary",icon:(0,jsx_runtime.jsx)(icons.JK,{}),onClick:()=>copyFlag(),className:"w-28 max-w-28",children:projectsWithCurrentFlag.find(p=>Number(p.team_id)===copyDestinationProject)?"Update":"Copy"})]})]})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}function FeatureFlagProjects(){let{projectsWithCurrentFlag}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{loadProjectsWithCurrentFlag}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{currentTeamId}=(0,index_esm.useValues)(teamLogic.teamLogic),{currentOrganization}=(0,index_esm.useValues)(organizationLogic.organizationLogic),{aggregationLabel}=(0,index_esm.useValues)(groupsModel.$);return(0,hooks_useOnMountEffect.x)(loadProjectsWithCurrentFlag),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(InfoBanner,{}),(0,jsx_runtime.jsx)(FeatureFlagCopySection,{}),(0,jsx_runtime.jsx)(LemonTable.g,{loading:!1,dataSource:projectsWithCurrentFlag,columns:getColumns({currentTeamId,currentOrganization,aggregationLabel}),emptyState:"This feature flag is not being used in any other project."})]})}var FeatureFlagReleaseConditions=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlagReleaseConditions.tsx"),dayjs=__webpack_require__("../../frontend/src/lib/dayjs.ts"),More=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/More.tsx"),Tooltip=__webpack_require__("../../frontend/src/lib/lemon-ui/Tooltip/index.ts"),CopyToClipboard=__webpack_require__("../../frontend/src/lib/components/CopyToClipboard.tsx");function focusVariantKeyField(index){setTimeout(()=>document.querySelector(`.VariantFormList input[data-key-index="${index}"]`)?.focus(),50)}function FeatureFlagVariantsForm(_ref){let{variants,payloads={},filterGroups=[],onAddVariant,onRemoveVariant,onDistributeEqually,canEditVariant=()=>!0,hasExperiment=!1,isDraftExperiment=!1,readOnly=!1,onViewRecordings,onVariantChange,onPayloadChange}=_ref,variantRolloutSum=variants.reduce((sum,variant)=>sum+(variant.rollout_percentage||0),0),areVariantRolloutsValid=100===variantRolloutSum;function variantConcatWithPunctuation(phrases){return null===phrases||phrases.length<3?phrases.join(" and "):`${phrases[0]} and ${phrases.length-1} more sets`}return readOnly?(0,jsx_runtime.jsxs)("div",{className:"border rounded p-4 bg-surface-primary",children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-10 gap-4 font-semibold",children:[(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:"Key"}),(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:"Description"}),(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:"Payload"}),(0,jsx_runtime.jsx)("div",{children:"Rollout"}),onViewRecordings&&(0,jsx_runtime.jsx)("div",{className:"col-span-2"})]}),(0,jsx_runtime.jsx)(src.p2,{className:"my-3"}),variants.map((variant,index)=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-10 gap-4",children:[(0,jsx_runtime.jsxs)("div",{className:"col-span-2",children:[(0,jsx_runtime.jsx)(Lettermark.B,{name:utils.bH[index],color:Lettermark.w.Gray}),(0,jsx_runtime.jsx)(CopyToClipboard.D,{tooltipMessage:null,description:"key",style:{marginLeft:"0.5rem"},iconStyle:{color:"var(--color-text-secondary)"},children:variant.key})]}),(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:(0,jsx_runtime.jsx)("span",{className:variant.name?"":"text-muted",children:variant.name||"There is no description for this variant key"})}),(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:payloads[index]?(0,jsx_runtime.jsx)(JSONEditorInput.f,{readOnly:!0,value:payloads[index]}):(0,jsx_runtime.jsx)("span",{className:"text-secondary",children:"No payload associated with this variant"})}),(0,jsx_runtime.jsxs)("div",{children:[variant.rollout_percentage,"%"]}),onViewRecordings&&(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:(0,jsx_runtime.jsx)(src.Jp,{size:"xsmall",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconRewindPlay,{}),type:"secondary",onClick:()=>onViewRecordings(variant.key),children:"View recordings"})})]}),index!==variants.length-1&&(0,jsx_runtime.jsx)(src.p2,{className:"my-3"})]},index))]}):(0,jsx_runtime.jsxs)("div",{className:"VariantFormList deprecated-space-y-2 mt-0",children:[(0,jsx_runtime.jsxs)("div",{className:"VariantFormList__row grid label-row gap-2 items-center",children:[(0,jsx_runtime.jsx)("div",{}),(0,jsx_runtime.jsx)("div",{className:"col-span-4",children:"Variant key"}),(0,jsx_runtime.jsx)("div",{className:"col-span-6",children:"Description"}),(0,jsx_runtime.jsx)("div",{className:"col-span-8",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("b",{children:"Payload"}),(0,jsx_runtime.jsx)("span",{className:"text-secondary font-normal",children:"Specify return payload when the variant key matches"})]})}),(0,jsx_runtime.jsxs)("div",{className:"col-span-3 flex justify-between items-center gap-1",children:[(0,jsx_runtime.jsx)("span",{children:"Rollout"}),onDistributeEqually&&(0,jsx_runtime.jsx)(src.Jp,{onClick:onDistributeEqually,tooltip:"Normalize variant rollout percentages",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconBalance,{})})]})]}),variants.map((variant,index)=>(0,jsx_runtime.jsxs)("div",{className:"VariantFormList__row grid gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center",children:(0,jsx_runtime.jsx)(Lettermark.B,{name:utils.bH[index],color:Lettermark.w.Gray})}),(0,jsx_runtime.jsx)("div",{className:"col-span-4",children:(0,jsx_runtime.jsx)(src.DF,{"data-attr":"feature-flag-variant-key","data-key-index":index.toString(),className:"ph-ignore-input",placeholder:`example-variant-${index+1}`,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1,disabled:!canEditVariant(index),value:variant.key,onChange:value=>onVariantChange?.(index,"key",value)})}),(0,jsx_runtime.jsx)("div",{className:"col-span-6",children:(0,jsx_runtime.jsx)(src.DF,{"data-attr":"feature-flag-variant-name",className:"ph-ignore-input",placeholder:"Description",value:variant.name||"",onChange:value=>onVariantChange?.(index,"name",value)})}),(0,jsx_runtime.jsx)("div",{className:"col-span-8",children:(0,jsx_runtime.jsx)(JSONEditorInput.f,{onChange:newValue=>{onPayloadChange?.(index,""===newValue?void 0:newValue)},value:payloads[index],placeholder:'{"key": "value"}'})}),(0,jsx_runtime.jsx)("div",{className:"col-span-3",children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(src.DF,{type:"number",min:0,max:100,value:variant.rollout_percentage||0,onChange:changedValue=>{let valueInt=void 0===changedValue||isNaN(Number(changedValue))?0:parseInt(changedValue.toString());onVariantChange?.(index,"rollout_percentage",valueInt)},suffix:(0,jsx_runtime.jsx)("span",{children:"%"}),"data-attr":"feature-flag-variant-rollout-percentage-input"}),filterGroups.filter(group=>group.variant===variant.key).length>0&&(0,jsx_runtime.jsxs)("span",{className:"text-secondary text-xs",children:["Overridden by"," ",(0,jsx_runtime.jsx)("strong",{children:variantConcatWithPunctuation(filterGroups.filter(group=>null!=group.variant&&group.variant===variant.key).map(variant=>"Set "+(filterGroups.findIndex(group=>group===variant)+1)))})]})]})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center",children:variants.length>1&&onRemoveVariant&&(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),"data-attr":`delete-prop-filter-${index}`,noPadding:!0,onClick:()=>onRemoveVariant(index),disabledReason:canEditVariant(index)?void 0:isDraftExperiment?"Cannot delete the control variant from an experiment.":"Cannot delete variants from a feature flag that is part of a launched experiment.",tooltipPlacement:"top-end"})})]},index)),variants.length>0&&!areVariantRolloutsValid&&(0,jsx_runtime.jsxs)("p",{className:"text-danger",children:["Percentage rollouts for variants must sum to 100 (currently ",variantRolloutSum,")."]}),onAddVariant&&(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",onClick:()=>{let newIndex=variants.length;onAddVariant(),focusVariantKeyField(newIndex)},icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),disabledReason:hasExperiment&&!isDraftExperiment?"Cannot add variants to a feature flag that is part of a launched experiment. To update variants, reset the experiment to draft.":void 0,tooltipPlacement:"top-start",center:!0,children:"Add variant"})]})}function getScheduledVariantsPayloads(featureFlag,schedulePayload){let currentVariants=featureFlag.filters.multivariate?.variants||[],currentPayloads=featureFlag.filters.payloads||{};return schedulePayload.variants&&schedulePayload.variants.length>0?{variants:schedulePayload.variants,payloads:schedulePayload.payloads||{}}:schedulePayload.payloads&&Object.keys(schedulePayload.payloads).length>0?{variants:currentVariants,payloads:schedulePayload.payloads}:{variants:currentVariants,payloads:(0,feature_flags_featureFlagLogic.ck)({...featureFlag,filters:{...featureFlag.filters,payloads:currentPayloads}}).filters.payloads||{}}}function FeatureFlagSchedule(){let{featureFlag,scheduledChanges,scheduledChangeOperation,scheduleDateMarker,schedulePayload,schedulePayloadErrors}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{deleteScheduledChange,setScheduleDateMarker,setSchedulePayload,setScheduledChangeOperation,createScheduledChange}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{aggregationLabel}=(0,index_esm.useValues)(groupsModel.$),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),aggregationGroupTypeIndex=featureFlag.filters.aggregation_group_type_index,scheduleFilters={...schedulePayload.filters,aggregation_group_type_index:aggregationGroupTypeIndex},columns=[{title:"Change",dataIndex:"payload",render:function Render(_,scheduledChange){let{payload}=scheduledChange;if(payload.operation===types.fL.UpdateStatus){let isEnabled=payload.value;return(0,jsx_runtime.jsx)(src.oe,{type:isEnabled?"success":"default",className:"uppercase",children:isEnabled?"Enable":"Disable"})}if(payload.operation===types.fL.AddReleaseCondition){let releaseText=(0,FeatureFlags.groupFilters)(payload.value,void 0,aggregationLabel);return(0,jsx_runtime.jsxs)("div",{className:"inline-flex leading-8",children:[(0,jsx_runtime.jsx)("span",{className:"mr-2",children:(0,jsx_runtime.jsx)("b",{children:"Add release condition:"})}),"string"==typeof releaseText&&releaseText.startsWith("100% of")?(0,jsx_runtime.jsx)(src.oe,{type:"highlight",children:releaseText}):releaseText]})}if(payload.operation===types.fL.UpdateVariants){let variantCount=payload.value?.variants?.length||0;return(0,jsx_runtime.jsxs)("div",{className:"inline-flex leading-8",children:[(0,jsx_runtime.jsx)("span",{className:"mr-2",children:(0,jsx_runtime.jsx)("b",{children:"Update variants:"})}),(0,jsx_runtime.jsxs)(src.oe,{type:"highlight",children:[variantCount," variant",1!==variantCount?"s":""]})]})}return JSON.stringify(payload)}},(0,columnUtils.pD)("scheduled_at","Scheduled at"),(0,columnUtils.rw)(),(0,columnUtils.JB)(),{title:"Status",dataIndex:"executed_at",render:function Render(_,scheduledChange){let{executed_at,failure_reason}=scheduledChange,{type,text}=failure_reason?{type:"danger",text:"Error"}:executed_at?{type:"completion",text:"Complete"}:{type:"default",text:"Scheduled"};return(0,jsx_runtime.jsx)(Tooltip.u,{title:failure_reason?`Failed: ${failure_reason}`:executed_at&&`Completed: ${(0,dayjs.Bv)(executed_at).format("MMMM D, YYYY h:mm A")}`,children:(0,jsx_runtime.jsx)(src.oe,{type:type,children:(0,jsx_runtime.jsx)("b",{className:"uppercase",children:text})})})}},{width:0,render:function Render(_,scheduledChange){return!scheduledChange.executed_at&&featureFlag.can_edit&&(0,jsx_runtime.jsx)(More.T,{overlay:(0,jsx_runtime.jsx)(src.Jp,{status:"danger",onClick:()=>deleteScheduledChange(scheduledChange.id),fullWidth:!0,children:"Delete scheduled change"})})}}];return(0,jsx_runtime.jsxs)("div",{children:[featureFlag.can_edit?(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"l3",children:"Add a scheduled change"}),(0,jsx_runtime.jsx)("div",{className:"mb-6",children:"Automatically change flag properties at a future point in time."}),(0,jsx_runtime.jsxs)("div",{className:"inline-flex gap-10 mb-8",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:"font-semibold leading-6 h-6 mb-1",children:"Change type"}),(0,jsx_runtime.jsx)(src.Yv,{className:"w-50",placeholder:"Select variant",value:scheduledChangeOperation,onChange:value=>value&&setScheduledChangeOperation(value),options:[{label:"Change status",value:types.fL.UpdateStatus},{label:"Add a condition",value:types.fL.AddReleaseCondition},...featureFlags[constants.y8.SCHEDULE_FEATURE_FLAG_VARIANTS_UPDATE]&&featureFlag.filters.multivariate?[{label:"Update variants",value:types.fL.UpdateVariants}]:[]]})]}),(0,jsx_runtime.jsxs)("div",{className:"w-50",children:[(0,jsx_runtime.jsx)("div",{className:"font-semibold leading-6 h-6 mb-1",children:"Date and time"}),(0,jsx_runtime.jsx)(src.he,{value:scheduleDateMarker,onChange:value=>setScheduleDateMarker(value),placeholder:"Select date",selectionPeriod:"upcoming",granularity:"minute"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-4",children:[scheduledChangeOperation===types.fL.UpdateStatus&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"border rounded p-4",children:(0,jsx_runtime.jsx)(src.Hw,{id:"flag-enabled-checkbox",label:"Enable feature flag",onChange:value=>{setSchedulePayload(null,value)},checked:schedulePayload.active})})}),scheduledChangeOperation===types.fL.AddReleaseCondition&&(0,jsx_runtime.jsx)(FeatureFlagReleaseConditions.I,{id:`schedule-release-conditions-${featureFlag.id}`,filters:scheduleFilters,onChange:(value,errors)=>setSchedulePayload(value,null,errors,null,null),hideMatchOptions:!0}),scheduledChangeOperation===types.fL.UpdateVariants&&featureFlags[constants.y8.SCHEDULE_FEATURE_FLAG_VARIANTS_UPDATE]&&(()=>{let{variants:displayVariants,payloads:displayPayloads}=getScheduledVariantsPayloads(featureFlag,schedulePayload);return(0,jsx_runtime.jsx)("div",{className:"border rounded p-4",children:(0,jsx_runtime.jsx)(FeatureFlagVariantsForm,{variants:displayVariants,payloads:displayPayloads,onAddVariant:()=>{let{variants:currentVariants,payloads:currentPayloads}=getScheduledVariantsPayloads(featureFlag,schedulePayload);setSchedulePayload(null,null,null,[...currentVariants,{key:"",name:"",rollout_percentage:0}],currentPayloads)},onRemoveVariant:index=>{let{variants:currentVariants,payloads:currentPayloads}=getScheduledVariantsPayloads(featureFlag,schedulePayload),newVariants=currentVariants.filter((_,i)=>i!==index),newPayloads={...currentPayloads};delete newPayloads[index],setSchedulePayload(null,null,null,newVariants,newPayloads)},onDistributeEqually:()=>{let{variants:currentVariants,payloads:currentPayloads}=getScheduledVariantsPayloads(featureFlag,schedulePayload),equalPercentage=Math.floor(100/currentVariants.length),remainder=100-equalPercentage*currentVariants.length;setSchedulePayload(null,null,null,currentVariants.map((variant,index)=>({...variant,rollout_percentage:equalPercentage+(0===index?remainder:0)})),currentPayloads)},onVariantChange:(index,field,value)=>{let{variants:currentVariants,payloads:currentPayloads}=getScheduledVariantsPayloads(featureFlag,schedulePayload),newVariants=[...currentVariants];newVariants[index]={...newVariants[index],[field]:value},setSchedulePayload(null,null,null,newVariants,currentPayloads)},onPayloadChange:(index,value)=>{let{variants:currentVariants,payloads:currentPayloads}=getScheduledVariantsPayloads(featureFlag,schedulePayload),newPayloads={...currentPayloads};void 0===value?delete newPayloads[index]:newPayloads[index]=value,setSchedulePayload(null,null,null,currentVariants,newPayloads)}})})})(),(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-end",children:(0,jsx_runtime.jsx)(src.Jp,{type:"primary",onClick:createScheduledChange,disabledReason:scheduleDateMarker?(0,utils.bv)(schedulePayloadErrors)?"Fix release condition errors":void 0:"Select the scheduled date and time",children:"Schedule"})}),(0,jsx_runtime.jsx)(src.p2,{className:""})]})]}):(0,jsx_runtime.jsx)(src.Vp,{type:"info",className:"mb-2",children:"You don't have the necessary permissions to schedule changes to this flag. Contact your administrator to request editing rights."}),(0,jsx_runtime.jsx)(src.g3,{rowClassName:record=>record.executed_at?"opacity-75":"",className:"mt-4",loading:!1,dataSource:scheduledChanges,columns:columns,defaultSorting:{columnKey:"scheduled_at",order:1},emptyState:"You do not have any scheduled changes"})]})}var lemon_ui_LemonTag=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTag/index.ts");function FeatureFlagStatusIndicator(_ref){let{flagStatus}=_ref;return!flagStatus||[types.Bs.ACTIVE,types.Bs.INACTIVE,types.Bs.DELETED,types.Bs.UNKNOWN].includes(flagStatus.status)?null:(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"text-sm",children:flagStatus.reason}),(0,jsx_runtime.jsxs)("div",{className:"text-xs",children:[flagStatus.status===types.Bs.STALE&&"Make sure to remove any references to this flag in your code before deleting it.",flagStatus.status===types.Bs.INACTIVE&&"It is probably not being used in your code, but be sure to remove any references to this flag before deleting it."]})]}),placement:"right",children:(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(lemon_ui_LemonTag.o,{type:"warning",className:"uppercase cursor-default",children:flagStatus.status})})})}var CompactList_CompactList=__webpack_require__("../../frontend/src/lib/components/CompactList/CompactList.tsx");__webpack_require__("../../frontend/src/scenes/project-homepage/ProjectHomepage.scss");var eventUsageLogic=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),SavedInsights=__webpack_require__("../../frontend/src/scenes/saved-insights/SavedInsights.tsx"),ProjectHomePageCompactListItem=__webpack_require__("../../frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx");function InsightRow(_ref){let{insight}=_ref,{reportInsightOpenedFromRecentInsightList}=(0,index_esm.useActions)(eventUsageLogic.vx);return(0,jsx_runtime.jsx)(ProjectHomePageCompactListItem.x,{title:insight.name||insight.derived_name||"Insight",subtitle:`Last modified ${(0,dayjs.Bv)(insight.last_modified_at).fromNow()}`,prefix:(0,jsx_runtime.jsx)(SavedInsights.InsightIcon,{insight:insight}),to:scenes_urls.j.insightView(insight.short_id),onClick:()=>{reportInsightOpenedFromRecentInsightList()}})}function RecentFeatureFlagInsights(){let{relatedInsights,relatedInsightsLoading,featureFlag}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{addProductIntentForCrossSell}=(0,index_esm.useActions)(teamLogic.teamLogic),query={kind:schema_general.OH.InsightVizNode,source:{kind:schema_general.OH.TrendsQuery,series:[{event:"$pageview",name:"$pageview",kind:schema_general.OH.EventsNode,math:types.vN.UniqueUsers}],breakdownFilter:{breakdown_type:"event",breakdown:`$feature/${featureFlag.key}`}}};return(0,jsx_runtime.jsx)("div",{className:"max-w-prose",children:(0,jsx_runtime.jsx)(CompactList_CompactList.a,{loading:relatedInsightsLoading,emptyMessage:{title:"You have no insights that use this feature flag",description:"Explore this feature flag's insights by creating one below.",buttonText:"Create insight",buttonTo:scenes_urls.j.insightNew({query}),buttonOnClick:()=>{addProductIntentForCrossSell({from:types.Md.FEATURE_FLAGS,to:types.Md.PRODUCT_ANALYTICS,intent_context:product_intents.kp.FEATURE_FLAG_CREATE_INSIGHT})}},items:relatedInsights.slice(0,5),renderRow:(insight,index)=>(0,jsx_runtime.jsx)(InsightRow,{insight:insight},index),contentHeightBehavior:"shrink"})})}__webpack_require__("../../frontend/src/scenes/project-homepage/projectHomepageLogic.tsx");var featureFlagsLogic=__webpack_require__("../../frontend/src/scenes/feature-flags/featureFlagsLogic.ts");let RESOURCE_TYPE="feature_flag";function createMaxToolSurveyConfig(featureFlag,user,multivariateEnabled,variants){return{identifier:"create_survey",active:!!user?.uuid,initialMaxPrompt:`Create a survey to collect feedback about the "${featureFlag.key}" feature flag${featureFlag.name?` (${featureFlag.name})`:""}${multivariateEnabled&&variants?.length>0?` which has variants: ${variants.map(v=>`"${v.key}"`).join(", ")}`:""}`,suggestions:multivariateEnabled&&variants?.length>0?[`Create a feedback survey comparing variants of the "${featureFlag.key}" feature flag`,`Create a survey for users who saw the "${variants[0]?.key}" variant of the "${featureFlag.key}" feature flag`,`Create an A/B test survey asking users to compare the "${featureFlag.key}" feature flag variants`,`Create a survey to understand which variant of the "${featureFlag.key}" feature flag performs better`,`Create a survey targeting all variants of the "${featureFlag.key}" feature flag to gather overall feedback`]:[`Create a feedback survey for users who see the "${featureFlag.key}" feature flag`,`Create an NPS survey for users exposed to the "${featureFlag.key}" feature flag`,`Create a satisfaction survey asking about the "${featureFlag.key}" feature flag experience`,`Create a survey to understand user reactions to the "${featureFlag.key}" feature flag`],context:{user_id:user?.uuid,feature_flag_key:featureFlag.key,feature_flag_id:featureFlag.id,feature_flag_name:featureFlag.name,target_feature_flag:featureFlag.key,survey_purpose:"collect_feedback_for_feature_flag",is_multivariate:multivariateEnabled,variants:multivariateEnabled&&variants?.length>0?variants.map(v=>({key:v.key,name:v.name||"",rollout_percentage:v.rollout_percentage})):[],variant_count:variants?.length||0},callback:toolOutput=>{if((0,product_intents.q)({product_type:types.Md.SURVEYS,intent_context:product_intents.kp.SURVEY_CREATED,metadata:{survey_id:toolOutput.survey_id,source:surveys_constants.o.FEATURE_FLAGS,created_successfully:!toolOutput?.error}}),toolOutput?.error||!toolOutput?.survey_id)return(0,surveys_utils.zY)(toolOutput.error,surveys_constants.o.FEATURE_FLAGS);kea_router_lib.router.actions.push(scenes_urls.j.survey(toolOutput.survey_id))}}}let scene={component:FeatureFlag_FeatureFlag,logic:feature_flags_featureFlagLogic.hk,paramsToProps:_ref=>{let{params:{id}}=_ref;return{id:id&&"new"!==id?parseInt(id):"new"}},settingSectionId:"environment-feature-flags"};function FeatureFlag_FeatureFlag(_ref2){let{id}=_ref2,{props,featureFlag,featureFlagLoading,featureFlagMissing,isEditingFlag,activeTab,accessDeniedToFeatureFlag,multivariateEnabled,variants}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),{deleteFeatureFlag,restoreFeatureFlag,editFeatureFlag,loadFeatureFlag,createStaticCohort,setFeatureFlagFilters,setActiveTab,updateFlag,saveFeatureFlag}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{earlyAccessFeaturesList}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{tags}=(0,index_esm.useValues)(tagsModel.x),{hasAvailableFeature,user}=(0,index_esm.useValues)(userLogic.userLogic),[hasKeyChanged,setHasKeyChanged]=(0,react.useState)(!1),{openMax}=(0,useMaxTool.$)(createMaxToolSurveyConfig(featureFlag,user,multivariateEnabled,variants)),[advancedSettingsExpanded,setAdvancedSettingsExpanded]=(0,react.useState)(!1),isNewFeatureFlag="new"===id||void 0===id;if(featureFlagMissing)return(0,jsx_runtime.jsx)(NotFound.T,{object:"feature flag"});if(featureFlagLoading)return(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-2",children:[(0,jsx_runtime.jsx)(src.yW,{active:!0,className:"h-4 w-2/5"}),(0,jsx_runtime.jsx)(src.yW,{active:!0,className:"h-4 w-full"}),(0,jsx_runtime.jsx)(src.yW,{active:!0,className:"h-4 w-full"}),(0,jsx_runtime.jsx)(src.yW,{active:!0,className:"h-4 w-3/5"})]});if(accessDeniedToFeatureFlag)return(0,jsx_runtime.jsx)(AccessDenied.J,{object:"feature flag"});let earlyAccessFeature=earlyAccessFeaturesList?.find(f=>f.flagKey===featureFlag.key),tabs=[{label:"Overview",key:featureFlagsLogic.id.OVERVIEW,content:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,jsx_runtime.jsx)(FeatureFlagRollout,{readOnly:!0}),!featureFlag.is_remote_configuration&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SceneDivider.V,{}),featureFlag.filters.super_groups&&featureFlag.filters.super_groups.length>0&&(0,jsx_runtime.jsx)(FeatureFlagReleaseConditions.I,{readOnly:!0,isSuper:!0,filters:featureFlag.filters}),(0,jsx_runtime.jsx)(FeatureFlagReleaseConditions.I,{readOnly:!0,filters:featureFlag.filters}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(SceneSection.S,{title:"Insights that use this feature flag",children:(0,jsx_runtime.jsx)(RecentFeatureFlagInsights,{})}),featureFlags[constants.y8.AUTO_ROLLBACK_FEATURE_FLAGS]&&(0,jsx_runtime.jsx)(FeatureFlagAutoRollback,{readOnly:!0})]}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(FeatureFlagCodeExample.H,{featureFlag:featureFlag})]})})}];return featureFlag.key&&id&&(tabs.push({label:"Usage",key:featureFlagsLogic.id.USAGE,content:(0,jsx_runtime.jsx)(UsageTab,{featureFlag:featureFlag})}),tabs.push({label:"Projects",key:featureFlagsLogic.id.PROJECTS,content:(0,jsx_runtime.jsx)(FeatureFlagProjects,{})}),tabs.push({label:"Schedule",key:featureFlagsLogic.id.SCHEDULE,content:(0,jsx_runtime.jsx)(FeatureFlagSchedule,{})})),featureFlags[constants.y8.FF_DASHBOARD_TEMPLATES]&&featureFlag.key&&id&&tabs.push({label:(0,jsx_runtime.jsxs)("div",{className:"flex flex-row",children:[(0,jsx_runtime.jsx)("div",{children:"Analysis"}),(0,jsx_runtime.jsxs)(LemonTag.o,{className:"ml-1 float-right uppercase",type:"warning",children:[" ","Beta"]})]}),key:featureFlagsLogic.id.Analysis,content:(0,jsx_runtime.jsx)(esm.EO,{flag:constants.y8.FF_DASHBOARD_TEMPLATES,match:!0,children:(0,jsx_runtime.jsx)(AnalysisTab,{featureFlag:featureFlag})})}),featureFlag.id&&tabs.push({label:"History",key:featureFlagsLogic.id.HISTORY,content:(0,jsx_runtime.jsx)(ActivityLog.DA,{scope:types.jc.FEATURE_FLAG,id:featureFlag.id})}),featureFlag.can_edit&&tabs.push({label:"Permissions",key:featureFlagsLogic.id.PERMISSIONS,content:(0,jsx_runtime.jsx)(FeatureFlagPermissions,{featureFlag:featureFlag})}),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)("div",{className:"feature-flag",children:isNewFeatureFlag||isEditingFlag?(0,jsx_runtime.jsxs)(lib.Form,{id:"feature-flag",logic:feature_flags_featureFlagLogic.hk,props:props,formKey:"featureFlag",enableFormOnSubmit:!0,className:"deprecated-space-y-4",children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:featureFlag.key,resourceType:{type:"feature_flag"},actions:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"cancel-feature-flag",type:"secondary",size:"small",onClick:()=>{isEditingFlag?(editFeatureFlag(!1),loadFeatureFlag()):kea_router_lib.router.actions.push(scenes_urls.j.featureFlags())},children:"Cancel"}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary","data-attr":"save-feature-flag",htmlType:"submit",form:"feature-flag",size:"small",children:"Save"})]})}),(0,jsx_runtime.jsxs)(SceneContent._,{children:[featureFlag.experiment_set&&featureFlag.experiment_set.length>0&&(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",children:["This feature flag is linked to an experiment. Edit settings here only for advanced functionality. If unsure, go back to"," ",(0,jsx_runtime.jsx)(Link.r,{to:scenes_urls.j.experiment(featureFlag.experiment_set[0]),children:"the experiment creation screen."})]}),(0,jsx_runtime.jsxs)("div",{className:"max-w-1/2 deprecated-space-y-4",children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"key",label:"Key",help:hasKeyChanged&&"new"!==id?(0,jsx_runtime.jsxs)("span",{className:"text-warning",children:[(0,jsx_runtime.jsx)("b",{children:"Warning! "}),"Changing this key will",(0,jsx_runtime.jsxs)(Link.r,{to:`https://posthog.com/docs/feature-flags${FeatureFlagSnippets.X_}#feature-flag-persistence`,target:"_blank",targetBlankIcon:!0,children:[" ","affect the persistence of your flag"]})]}):void 0,children:_ref3=>{let{value,onChange}=_ref3;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonInput.D,{value:value,onChange:v=>{v!==value&&setHasKeyChanged(!0),onChange(v)},"data-attr":"feature-flag-key",className:"ph-ignore-input",autoFocus:!0,placeholder:"examples: new-landing-page, betaFeature, ab_test_1",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1}),(0,jsx_runtime.jsx)("span",{className:"text-secondary text-sm",children:"Feature flag keys must be unique"})]})}}),(0,jsx_runtime.jsx)(LemonField.D,{name:"name",label:"Description",children:(0,jsx_runtime.jsx)(LemonTextArea._,{className:"ph-ignore-input","data-attr":"feature-flag-description",defaultValue:featureFlag.name||""})}),hasAvailableFeature(types.P$.TAGGING)&&(0,jsx_runtime.jsx)(LemonField.D,{name:"tags",label:"Tags",children:_ref4=>{let{value:formTags,onChange:onChangeTags}=_ref4;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:featureFlags[constants.y8.FLAG_EVALUATION_TAGS]?(0,jsx_runtime.jsx)(LemonField.D,{name:"evaluation_tags",children:_ref5=>{let{value:formEvalTags,onChange:onChangeEvalTags}=_ref5;return(0,jsx_runtime.jsx)(FeatureFlagEvaluationTags.J,{tags:formTags,evaluationTags:formEvalTags||[],onChange:(updatedTags,updatedEvaluationTags)=>{onChangeTags(updatedTags),onChangeEvalTags(updatedEvaluationTags)},tagsAvailable:tags.filter(tag=>!formTags?.includes(tag)),className:"mt-2",flagId:featureFlag.id})}}):(0,jsx_runtime.jsx)(ObjectTags.D,{tags:formTags,onChange:onChangeTags,saving:featureFlagLoading,tagsAvailable:tags.filter(tag=>!formTags?.includes(tag)),className:"mt-2"})})}}),(0,jsx_runtime.jsx)(LemonField.D,{name:"active",children:_ref6=>{let{value,onChange}=_ref6;return(0,jsx_runtime.jsxs)("div",{className:"border rounded p-4",children:[(0,jsx_runtime.jsx)(LemonCheckbox.H,{id:"flag-enabled-checkbox",label:"Enable feature flag",onChange:()=>onChange(!value),checked:value,"data-attr":"feature-flag-enabled-checkbox"}),(0,jsx_runtime.jsxs)("div",{className:"text-secondary text-sm pl-7",children:["When enabled, this flag evaluates according to your release conditions. When disabled, all evaluations return ",(0,jsx_runtime.jsx)("code",{children:"false"})," regardless of conditions."]})]})}}),isNewFeatureFlag&&(0,jsx_runtime.jsx)(LemonField.D,{name:"_should_create_usage_dashboard",children:_ref7=>{let{value,onChange}=_ref7;return(0,jsx_runtime.jsxs)("div",{className:"border rounded p-4",children:[(0,jsx_runtime.jsx)(LemonCheckbox.H,{id:"create-usage-dashboard-checkbox",label:"Create usage dashboard",onChange:()=>onChange(!value),checked:value,"data-attr":"create-usage-dashboard-checkbox"}),(0,jsx_runtime.jsx)("div",{className:"text-secondary text-sm pl-7",children:"Automatically track how often this flag is called and what values are returned. Creates a dashboard with call volume trends and variant distribution insights."})]})}}),!featureFlag.is_remote_configuration&&(0,jsx_runtime.jsx)(LemonField.D,{name:"ensure_experience_continuity",children:_ref8=>{let{value,onChange}=_ref8;return(0,jsx_runtime.jsxs)("div",{className:"border rounded p-4",children:[(0,jsx_runtime.jsx)(LemonCheckbox.H,{id:"continuity-checkbox",label:"Persist flag across authentication steps",onChange:()=>onChange(!value),fullWidth:!0,checked:value}),(0,jsx_runtime.jsxs)("div",{className:"text-secondary text-sm pl-7",children:["If your feature flag is applied before identifying the user, use this to ensure that the flag value remains consistent for the same user. Depending on your setup, this option might not always be suitable. This feature requires creating profiles for anonymous users."," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/feature-flags/creating-feature-flags#persisting-feature-flags-across-authentication-steps",target:"_blank",children:"Learn more"})]})]})}})]}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(FeatureFlagRollout,{}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),!featureFlag.is_remote_configuration&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(FeatureFlagReleaseConditions.I,{id:`${featureFlag.id}`,filters:featureFlag.filters,onChange:setFeatureFlagFilters}),(0,jsx_runtime.jsx)(SceneDivider.V,{})]}),(0,jsx_runtime.jsx)(FeatureFlagCodeExample.H,{featureFlag:featureFlag}),(0,jsx_runtime.jsx)(LemonDivider.p,{}),isNewFeatureFlag&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(LemonButton.J,{fullWidth:!0,onClick:()=>setAdvancedSettingsExpanded(!advancedSettingsExpanded),sideIcon:advancedSettingsExpanded?(0,jsx_runtime.jsx)(posthog_icons_es.IconCollapse,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconExpand,{}),children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"l4 mt-2",children:"Advanced settings"}),(0,jsx_runtime.jsx)("div",{className:"text-secondary mb-2 font-medium",children:"Define who can modify this flag."})]})})}),advancedSettingsExpanded&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[featureFlags[constants.y8.AUTO_ROLLBACK_FEATURE_FLAGS]&&(0,jsx_runtime.jsx)(FeatureFlagAutoRollback,{}),(0,jsx_runtime.jsxs)("div",{className:"border rounded bg-surface-primary",children:[(0,jsx_runtime.jsx)("h3",{className:"p-2 mb-0",children:"Permissions"}),(0,jsx_runtime.jsx)(LemonDivider.p,{className:"my-0"}),(0,jsx_runtime.jsx)("div",{className:"p-3",children:(0,jsx_runtime.jsx)(FeatureFlagPermissions,{featureFlag:featureFlag})})]})]}),(0,jsx_runtime.jsx)(LemonDivider.p,{})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"cancel-feature-flag",type:"secondary",onClick:()=>{isEditingFlag?(editFeatureFlag(!1),loadFeatureFlag()):kea_router_lib.router.actions.push(scenes_urls.j.featureFlags())},children:"Cancel"}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary","data-attr":"save-feature-flag",htmlType:"submit",form:"feature-flag",children:"Save"})]})]})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(SceneLayout.kI,{children:[(0,jsx_runtime.jsxs)(SceneLayout.Ol,{children:[hasAvailableFeature(types.P$.TAGGING)&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:featureFlags[constants.y8.FLAG_EVALUATION_TAGS]?(0,jsx_runtime.jsx)(FeatureFlagEvaluationTags.J,{tags:featureFlag.tags,evaluationTags:featureFlag.evaluation_tags||[],onChange:(updatedTags,updatedEvaluationTags)=>{let updatedFlag={...featureFlag,tags:updatedTags,evaluation_tags:updatedEvaluationTags};updateFlag(updatedFlag),saveFeatureFlag(updatedFlag)},tagsAvailable:tags.filter(tag=>!featureFlag.tags?.includes(tag)),flagId:featureFlag.id}):(0,jsx_runtime.jsx)(SceneTags.y,{onSave:tags=>{let updatedFlag={...featureFlag,tags};updateFlag(updatedFlag),saveFeatureFlag(updatedFlag)},canEdit:!0,tags:featureFlag.tags,tagsAvailable:tags.filter(tag=>!featureFlag.tags?.includes(tag)),dataAttrKey:RESOURCE_TYPE})}),(0,jsx_runtime.jsx)(SceneFile.z,{dataAttrKey:RESOURCE_TYPE})]}),(0,jsx_runtime.jsx)(SceneLayout.bI,{}),(0,jsx_runtime.jsxs)(SceneLayout.EJ,{children:[(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{onClick:()=>{kea_router_lib.router.actions.push(scenes_urls.j.featureFlagDuplicate(featureFlag.id))},menuItem:!0,"data-attr":`${RESOURCE_TYPE}-duplicate`,children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCopy,{}),"Duplicate"]}),(0,jsx_runtime.jsx)(SceneAddToNotebookDropdownMenu.G,{dataAttrKey:RESOURCE_TYPE}),featureFlags[constants.y8.FEATURE_FLAG_COHORT_CREATION]&&(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,"data-attr":`${RESOURCE_TYPE}-create-cohort`,onClick:()=>createStaticCohort(),children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),"Create cohort"]}),openMax&&(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,"data-attr":`${RESOURCE_TYPE}-create-survey`,onClick:()=>openMax(),children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconPlusSmall,{}),"Create survey"]})]}),(0,jsx_runtime.jsx)(SceneLayout.bI,{}),(0,jsx_runtime.jsx)(SceneLayout.EJ,{children:(0,jsx_runtime.jsx)(AccessControlAction.bW,{resourceType:types.qR.FeatureFlag,minAccessLevel:types.W$.Editor,children:_ref9=>{let{disabledReason}=_ref9;return(0,jsx_runtime.jsxs)(ButtonPrimitives.hL,{menuItem:!0,variant:"danger",disabled:!!disabledReason,...disabledReason&&{tooltip:disabledReason},"data-attr":featureFlag.deleted?"restore-feature-flag":"delete-feature-flag",onClick:()=>{featureFlag.deleted?restoreFeatureFlag(featureFlag):deleteFeatureFlag(featureFlag)},disabledReasons:{"You have only 'View' access for this feature flag. To make changes, please contact the flag's creator.":!featureFlag.can_edit,"This feature flag is in use with an early access feature. Delete the early access feature to delete this flag":(featureFlag.features?.length||0)>0,"This feature flag is linked to an experiment. Delete the experiment to delete this flag":(featureFlag.experiment_set?.length||0)>0,"This feature flag is linked to a survey. Delete the survey to delete this flag":(featureFlag.surveys?.length||0)>0},children:[featureFlag.deleted?(0,jsx_runtime.jsx)(posthog_icons_es.IconRewind,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),featureFlag.deleted?"Restore":"Delete"," feature flag"]})}})})]}),(0,jsx_runtime.jsxs)(SceneContent._,{children:[earlyAccessFeature&&earlyAccessFeature.stage===types.nE.Concept&&(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"info",children:["This feature flag is assigned to an early access feature in the"," ",(0,jsx_runtime.jsx)(LemonTag.o,{type:"default",className:"uppercase",children:"Concept"})," ","stage. All users who register interest will be assigned this feature flag. Gate your code behind a different feature flag if you'd like to keep it hidden, and then switch your code to this feature flag when you're ready to release to your early access users."]}),(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:featureFlag.key,description:featureFlag.name,resourceType:{type:"feature_flag"},actions:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",size:"small",onClick:()=>editFeatureFlag(!0),children:"Edit"})})}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:activeTab,onChange:tab=>tab!==activeTab&&setActiveTab(tab),tabs:tabs,sceneInset:!0})]})]})})})}function UsageTab(_ref10){let{featureFlag}=_ref10,{key:featureFlagKey,usage_dashboard:dashboardId,has_enriched_analytics:hasEnrichedAnalytics}=featureFlag,{generateUsageDashboard,enrichUsageDashboard}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{featureFlagLoading}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),dashboard=null;dashboardId&&(dashboard=(0,index_esm.useValues)((0,dashboardLogic.BM)({id:dashboardId,placement:types.F4.FeatureFlag})).dashboard);let{closeEnrichAnalyticsNotice}=(0,index_esm.useActions)(featureFlagsLogic.bP),{enrichAnalyticsNoticeAcknowledged}=(0,index_esm.useValues)(featureFlagsLogic.bP);(0,react.useEffect)(()=>{dashboard&&hasEnrichedAnalytics&&dashboard.tiles?.find(tile=>{var _tile$insight$name$in;return(null!==(_tile$insight$name$in=tile.insight?.name?.indexOf("Feature Viewed"))&&void 0!==_tile$insight$name$in?_tile$insight$name$in:-1)>-1})===void 0&&enrichUsageDashboard()},[dashboard,hasEnrichedAnalytics,enrichUsageDashboard]);let propertyFilter=[{key:"$feature_flag",type:types.FT.Event,value:featureFlagKey,operator:types.WV.Exact}];return featureFlag.deleted?(0,jsx_runtime.jsx)("div",{"data-attr":"feature-flag-usage-deleted-banner",children:(0,jsx_runtime.jsx)(LemonBanner.V,{type:"error",children:"This feature flag has been deleted."})}):(0,jsx_runtime.jsxs)("div",{"data-attr":"feature-flag-usage-container",children:[dashboard?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!hasEnrichedAnalytics&&!enrichAnalyticsNoticeAcknowledged&&(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"info",className:"mb-3",onClose:()=>closeEnrichAnalyticsNotice(),children:["Get richer insights automatically by"," ",(0,jsx_runtime.jsxs)(Link.r,{to:"https://posthog.com/docs/libraries/js/features#enriched-flag-analytics",target:"_blank",children:["enabling enriched analytics for flags"," "]})]}),(0,jsx_runtime.jsx)(Dashboard.Dashboard,{id:dashboardId.toString(),placement:types.F4.FeatureFlag})]}):(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("b",{children:"Dashboard"}),(0,jsx_runtime.jsx)("div",{className:"text-secondary mb-2",children:"There is currently no connected dashboard to this feature flag. If there was previously a connected dashboard, it may have been deleted."}),featureFlagLoading?(0,jsx_runtime.jsx)(EmptyDashboardComponent.l,{loading:!0,canEdit:!1}):(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",onClick:()=>generateUsageDashboard(),children:"Generate Usage Dashboard"})]}),(0,jsx_runtime.jsxs)("div",{className:"mt-4 mb-4",children:[(0,jsx_runtime.jsx)("b",{children:"Log"}),(0,jsx_runtime.jsx)("div",{className:"text-secondary",children:`Feature flag calls for "${featureFlagKey}" will appear here`})]}),(0,jsx_runtime.jsx)(Query.A,{query:{kind:schema_general.OH.DataTableNode,source:{kind:schema_general.OH.EventsQuery,select:[...(0,DataTable_utils.Qi)(schema_general.OH.EventsQuery),"properties.$feature_flag_response"],event:"$feature_flag_called",properties:propertyFilter,after:"-30d"},full:!1,showDateRange:!0}})]})}function FeatureFlagRollout(_ref11){let{readOnly}=_ref11,{multivariateEnabled,variants,nonEmptyVariants,aggregationTargetName,featureFlag,recordingFilterForFlag,flagStatus,flagType,flagTypeString,hasEncryptedPayloadBeenSaved,hasExperiment,isDraftExperiment}=(0,index_esm.useValues)(feature_flags_featureFlagLogic.hk),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),{hasAvailableFeature}=(0,index_esm.useValues)(userLogic.userLogic),{distributeVariantsEqually,addVariant,removeVariant,setMultivariateEnabled,setFeatureFlag,saveFeatureFlag,setRemoteConfigEnabled,resetEncryptedPayload}=(0,index_esm.useActions)(feature_flags_featureFlagLogic.hk),{addProductIntentForCrossSell}=(0,index_esm.useActions)(teamLogic.teamLogic),filterGroups=featureFlag.filters.groups||[],confirmRevertMultivariateEnabled=()=>{src.dn.open({title:"Change value type?",description:"The existing variants will be lost",primaryButton:{children:"Confirm",type:"primary",onClick:()=>setMultivariateEnabled(!1),size:"small"},secondaryButton:{children:"Cancel",type:"tertiary",size:"small"}})},confirmEncryptedPayloadReset=()=>{src.dn.open({title:"Reset payload?",description:"The existing payload will not be reset until the feature flag is saved.",primaryButton:{children:"Reset",onClick:resetEncryptedPayload,size:"small",status:"danger"},secondaryButton:{children:"Cancel",type:"tertiary",size:"small"}})},reportViewRecordingsClicked=variantKey=>{let properties={multivariate:multivariateEnabled.toString()};variantKey&&(properties.variant_key=variantKey),dist_module.ZP.capture("viewed recordings from feature flag",properties)};return(0,jsx_runtime.jsxs)(SceneContent._,{children:[readOnly?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-8",children:[(0,jsx_runtime.jsx)("div",{className:"col-span-2 card-secondary",children:"Status"}),(0,jsx_runtime.jsx)("div",{className:"col-span-6 card-secondary",children:"Type"}),(0,jsx_runtime.jsx)("div",{className:"col-span-2",children:featureFlag.deleted?(0,jsx_runtime.jsx)(LemonTag.o,{size:"medium",type:"danger",className:"uppercase",children:"Deleted"}):(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)(AccessControlAction.bW,{resourceType:types.qR.FeatureFlag,minAccessLevel:types.W$.Editor,userAccessLevel:featureFlag.user_access_level,children:(0,jsx_runtime.jsx)(src.f4,{onChange:newValue=>{src.dn.open({title:`${!0===newValue?"Enable":"Disable"} this flag?`,description:`This flag will be immediately ${!0===newValue?"rolled out to":"rolled back from"} the users matching the release conditions.`,primaryButton:{children:"Confirm",type:"primary",onClick:()=>{let updatedFlag={...featureFlag,active:newValue};setFeatureFlag(updatedFlag),saveFeatureFlag(updatedFlag)},size:"small"},secondaryButton:{children:"Cancel",type:"tertiary",size:"small"}})},label:featureFlag.active?"Enabled":"Disabled",disabledReason:featureFlag.can_edit?null:"You only have view access to this feature flag. To make changes, contact the flag's creator.",checked:featureFlag.active})}),!featureFlag.is_remote_configuration&&(0,jsx_runtime.jsx)(FeatureFlagStatusIndicator,{flagStatus:flagStatus})]})}),(0,jsx_runtime.jsx)("div",{className:"col-span-6",children:(0,jsx_runtime.jsx)("span",{className:"mt-1",children:flagTypeString})})]}),hasAvailableFeature(types.P$.TAGGING)&&featureFlag.tags&&featureFlag.tags.length>0&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("span",{className:"card-secondary mt-4",children:"Tags"}),(0,jsx_runtime.jsx)("div",{className:"mt-2",children:featureFlags[constants.y8.FLAG_EVALUATION_TAGS]?(0,jsx_runtime.jsx)(FeatureFlagEvaluationTags.J,{tags:featureFlag.tags,evaluationTags:featureFlag.evaluation_tags||[],staticOnly:!0,flagId:featureFlag.id}):(0,jsx_runtime.jsx)(ObjectTags.D,{tags:featureFlag.tags,staticOnly:!0})})]}),(0,jsx_runtime.jsx)("span",{className:"card-secondary mt-4",children:"Flag persistence"}),(0,jsx_runtime.jsxs)("span",{children:["This flag"," ",(0,jsx_runtime.jsxs)("b",{children:[featureFlag.ensure_experience_continuity?"persists":"does not persist"," "]}),"across authentication events."]}),featureFlags[constants.y8.FLAG_EVALUATION_RUNTIMES]&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("span",{className:"card-secondary mt-4",children:"Evaluation runtime"}),(0,jsx_runtime.jsx)("div",{className:"mt-2",children:(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:featureFlag.evaluation_runtime===types.GM.ALL?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconGlobe,{className:"text-lg text-muted"}),(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"Both client and server"}),(0,jsx_runtime.jsx)(LemonTag.o,{type:"primary",size:"small",children:"Single + multi-user"})]}):featureFlag.evaluation_runtime===types.GM.CLIENT?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconLaptop,{className:"text-lg text-muted"}),(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"Client-side only"}),(0,jsx_runtime.jsx)(LemonTag.o,{type:"completion",size:"small",children:"Single-user apps"})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconServer,{className:"text-lg text-muted"}),(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"Server-side only"}),(0,jsx_runtime.jsx)(LemonTag.o,{type:"caution",size:"small",children:"Multi-user systems"})]})})})]})]}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),featureFlag.filters.multivariate&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(SceneSection.S,{title:"Variant keys",children:(0,jsx_runtime.jsx)(FeatureFlagVariantsForm,{variants:variants,payloads:featureFlag.filters?.payloads,readOnly:!0,onViewRecordings:variantKey=>{reportViewRecordingsClicked(variantKey),kea_router_lib.router.actions.push(scenes_urls.j.replay(types.yd.Home,(0,feature_flags_featureFlagLogic.qG)(featureFlag.key,variantKey,featureFlag.has_enriched_analytics))),addProductIntentForCrossSell({from:types.Md.FEATURE_FLAGS,to:types.Md.SESSION_REPLAY,intent_context:product_intents.kp.FEATURE_FLAG_VIEW_RECORDINGS})}})})})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[featureFlags[constants.y8.FLAG_EVALUATION_RUNTIMES]&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SceneSection.S,{title:(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-2",children:["Evaluation runtime",(0,jsx_runtime.jsx)(src.u,{title:"This setting controls where your feature flag can be evaluated. If you try to use a flag in a runtime where it's not allowed (e.g., using a server-only flag in client-side code), it won't evaluate.",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconInfo,{className:"text-secondary text-lg"})})]}),children:(0,jsx_runtime.jsx)(LemonField.D,{name:"evaluation_runtime",children:_ref12=>{let{value,onChange}=_ref12;return(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[{value:types.GM.ALL,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconGlobe,{}),title:"Both client and server",description:"Single-user apps + multi-user systems"},{value:types.GM.CLIENT,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconLaptop,{}),title:"Client-side only",description:"Single-user apps (mobile, desktop, embedded)"},{value:types.GM.SERVER,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconServer,{}),title:"Server-side only",description:"Multi-user systems in trusted environments"}].map(option=>(0,jsx_runtime.jsx)("div",{className:`border rounded-lg p-4 cursor-pointer transition-all hover:border-primary-light ${value===option.value?"border-primary bg-primary-highlight":"border-border"}`,onClick:()=>onChange(option.value),children:(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-3",children:[(0,jsx_runtime.jsx)("div",{className:"text-lg text-muted",children:option.icon}),(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[(0,jsx_runtime.jsx)("div",{className:"font-medium text-sm",children:option.title}),(0,jsx_runtime.jsx)("div",{className:"text-xs text-muted mt-1",children:option.description})]}),(0,jsx_runtime.jsx)("input",{type:"radio",name:"evaluation-environment",checked:value===option.value,onChange:()=>onChange(option.value),className:"cursor-pointer"})]})},option.value))})}})}),(0,jsx_runtime.jsx)(SceneDivider.V,{})]}),(0,jsx_runtime.jsxs)(SceneSection.S,{title:"Served value",children:[(0,jsx_runtime.jsx)("div",{"data-attr":"feature-flag-served-value-segmented-button",children:(0,jsx_runtime.jsx)(src.P4,{size:"small",options:[{label:"Release toggle (boolean)",value:"boolean",disabledReason:hasExperiment?"This feature flag is associated with an experiment.":void 0},{label:(0,jsx_runtime.jsx)("span",{children:"Multiple variants with rollout percentages (A/B/n test)"}),value:"multivariate"},{label:(0,jsx_runtime.jsx)("span",{children:"Remote config (single payload)"}),value:"remote_config",disabledReason:hasExperiment?"This feature flag is associated with an experiment.":void 0}],onChange:value=>{["boolean","remote_config"].includes(value)&&nonEmptyVariants.length?confirmRevertMultivariateEnabled():(setMultivariateEnabled("multivariate"===value),setRemoteConfigEnabled("remote_config"===value),focusVariantKeyField(0))},value:flagType})}),(0,jsx_runtime.jsx)("div",{className:"text-secondary",children:featureFlag.is_remote_configuration?(0,jsx_runtime.jsxs)("span",{children:["Remote config flags provide runtime configuration values in your app. Read more in the"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/feature-flags/remote-config",children:"remote config flags documentation"}),"."]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,utils.fm)(aggregationTargetName)," will be served"," ",multivariateEnabled?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("strong",{children:"a variant key"})," according to the below distribution"]}):(0,jsx_runtime.jsx)("strong",{children:(0,jsx_runtime.jsx)("code",{children:"true"})})," ",(0,jsx_runtime.jsx)("span",{children:"if they match one or more release condition groups."})]})})]}),!multivariateEnabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(SceneSection.S,{title:"Payload",children:readOnly?featureFlag.filters.payloads?.true?(0,jsx_runtime.jsx)(JSONEditorInput.f,{readOnly:readOnly,value:featureFlag.filters.payloads?.true}):(0,jsx_runtime.jsx)("span",{className:"text-secondary",children:"No payload associated with this flag"}):(0,jsx_runtime.jsxs)("div",{className:"w-1/2",children:[(0,jsx_runtime.jsx)("div",{className:"text-secondary mb-4",children:featureFlag.is_remote_configuration?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Specify a valid JSON payload to be returned for the config flag. Read more in the"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/feature-flags/creating-feature-flags#payloads",children:"payload documentation"}),"."]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Optionally specify a valid JSON payload to be returned when the served value is"," ",(0,jsx_runtime.jsx)("strong",{children:(0,jsx_runtime.jsx)("code",{children:"true"})}),". Read more in the"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/feature-flags/creating-feature-flags#payloads",children:"payload documentation"}),"."]})}),featureFlag.is_remote_configuration&&(0,jsx_runtime.jsx)(LemonField.D,{name:"has_encrypted_payloads",children:_ref13=>{let{value,onChange}=_ref13;return(0,jsx_runtime.jsx)("div",{className:"border rounded mb-4 p-4",children:(0,jsx_runtime.jsx)(LemonCheckbox.H,{id:"flag-payload-encrypted-checkbox",label:"Encrypt remote configuration payload",onChange:()=>onChange(!value),checked:value,"data-attr":"feature-flag-payload-encrypted-checkbox",disabledReason:hasEncryptedPayloadBeenSaved&&"An encrypted payload has already been saved for this flag. Reset the payload or create a new flag to create an unencrypted configuration payload."})})}}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)(lib.Group,{name:["filters","payloads"],children:(0,jsx_runtime.jsx)(LemonField.D,{name:"true",className:"grow",children:(0,jsx_runtime.jsx)(JSONEditorInput.f,{readOnly:readOnly||featureFlag.has_encrypted_payloads&&!!featureFlag.filters?.payloads?.true,placeholder:'Examples: "A string", 2500, {"key": "value"}'})})}),featureFlag.has_encrypted_payloads&&(0,jsx_runtime.jsx)(LemonButton.J,{className:"grow-0",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),type:"secondary",size:"small",status:"danger",onClick:confirmEncryptedPayloadReset,children:"Reset"})]}),featureFlag.is_remote_configuration&&(0,jsx_runtime.jsxs)("div",{className:"text-sm text-secondary mt-4",children:["Note: remote config flags must be accessed through payloads, e.g."," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:featureFlag.has_encrypted_payloads?"getRemoteConfigPayload":"getFeatureFlagPayload"}),". Using standard SDK methods such as"," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:"getFeatureFlag"})," or"," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:"isFeatureEnabled"})," will always return ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:"true"})]})]})}),readOnly&&!featureFlag.is_remote_configuration&&(0,jsx_runtime.jsx)(SceneSection.S,{title:"Recordings",description:"Watch recordings of people who have been exposed to the feature flag.",children:(0,jsx_runtime.jsx)("div",{className:"inline-block",children:(0,jsx_runtime.jsx)(LemonButton.J,{onClick:()=>{reportViewRecordingsClicked(),kea_router_lib.router.actions.push(scenes_urls.j.replay(types.yd.Home,recordingFilterForFlag)),addProductIntentForCrossSell({from:types.Md.FEATURE_FLAGS,to:types.Md.SESSION_REPLAY,intent_context:product_intents.kp.FEATURE_FLAG_VIEW_RECORDINGS})},icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconRewindPlay,{}),type:"secondary",size:"small",children:"View recordings"})})})]}),!readOnly&&multivariateEnabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonDivider.p,{className:"my-0"}),(0,jsx_runtime.jsx)(SceneSection.S,{title:"Variant keys",description:"The rollout percentage of feature flag variants must add up to 100%",children:(0,jsx_runtime.jsx)(FeatureFlagVariantsForm,{variants:variants,payloads:featureFlag.filters?.payloads,filterGroups:filterGroups,onAddVariant:addVariant,onRemoveVariant:removeVariant,onDistributeEqually:distributeVariantsEqually,canEditVariant:index=>(!hasExperiment||!!isDraftExperiment)&&(!hasExperiment||!isDraftExperiment||0!==index),isDraftExperiment:isDraftExperiment,onVariantChange:(index,field,value)=>{let currentVariants=[...variants];currentVariants[index]={...currentVariants[index],[field]:value},setFeatureFlag({...featureFlag,filters:{...featureFlag.filters,multivariate:{...featureFlag.filters.multivariate,variants:currentVariants}}})},onPayloadChange:(index,value)=>{let currentPayloads={...featureFlag.filters.payloads};void 0===value?delete currentPayloads[index]:currentPayloads[index]=value,setFeatureFlag({...featureFlag,filters:{...featureFlag.filters,payloads:currentPayloads}})}})})]})]}),readOnly&&!multivariateEnabled&&(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,jsx_runtime.jsx)(SceneSection.S,{title:"Payload",children:readOnly?featureFlag.filters.payloads?.true?(0,jsx_runtime.jsx)(JSONEditorInput.f,{readOnly:readOnly,value:featureFlag.filters.payloads?.true}):(0,jsx_runtime.jsx)("span",{className:"text-secondary",children:"No payload associated with this flag"}):(0,jsx_runtime.jsxs)("div",{className:"w-1/2",children:[(0,jsx_runtime.jsx)("div",{className:"text-secondary mb-4",children:featureFlag.is_remote_configuration?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Specify a valid JSON payload to be returned for the config flag. Read more in the"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/feature-flags/creating-feature-flags#payloads",children:"payload documentation"}),"."]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Optionally specify a valid JSON payload to be returned when the served value is"," ",(0,jsx_runtime.jsx)("strong",{children:(0,jsx_runtime.jsx)("code",{children:"true"})}),". Read more in the"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/docs/feature-flags/creating-feature-flags#payloads",children:"payload documentation"}),"."]})}),featureFlag.is_remote_configuration&&(0,jsx_runtime.jsx)(LemonField.D,{name:"has_encrypted_payloads",children:_ref14=>{let{value,onChange}=_ref14;return(0,jsx_runtime.jsx)("div",{className:"border rounded mb-4 p-4",children:(0,jsx_runtime.jsx)(LemonCheckbox.H,{id:"flag-payload-encrypted-checkbox",label:"Encrypt remote configuration payload",onChange:()=>onChange(!value),checked:value,"data-attr":"feature-flag-payload-encrypted-checkbox",disabledReason:hasEncryptedPayloadBeenSaved&&"An encrypted payload has already been saved for this flag. Reset the payload or create a new flag to create an unencrypted configuration payload."})})}}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)(lib.Group,{name:["filters","payloads"],children:(0,jsx_runtime.jsx)(LemonField.D,{name:"true",className:"grow",children:(0,jsx_runtime.jsx)(JSONEditorInput.f,{readOnly:readOnly||featureFlag.has_encrypted_payloads&&!!featureFlag.filters?.payloads?.true,placeholder:'Examples: "A string", 2500, {"key": "value"}'})})}),featureFlag.has_encrypted_payloads&&(0,jsx_runtime.jsx)(LemonButton.J,{className:"grow-0",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),type:"secondary",size:"small",status:"danger",onClick:confirmEncryptedPayloadReset,children:"Reset"})]}),featureFlag.is_remote_configuration&&(0,jsx_runtime.jsxs)("div",{className:"text-sm text-secondary mt-4",children:["Note: remote config flags must be accessed through payloads, e.g."," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:featureFlag.has_encrypted_payloads?"getRemoteConfigPayload":"getFeatureFlagPayload"}),". Using standard SDK methods such as"," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:"getFeatureFlag"})," or"," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:"isFeatureEnabled"})," will always return"," ",(0,jsx_runtime.jsx)("span",{className:"font-mono font-bold",children:"true"})]})]})}),readOnly&&!featureFlag.is_remote_configuration&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(SceneSection.S,{title:"Recordings",description:"Watch recordings of people who have been exposed to the feature flag.",children:(0,jsx_runtime.jsx)(LemonButton.J,{onClick:()=>{reportViewRecordingsClicked(),kea_router_lib.router.actions.push(scenes_urls.j.replay(types.yd.Home,recordingFilterForFlag)),addProductIntentForCrossSell({from:types.Md.FEATURE_FLAGS,to:types.Md.SESSION_REPLAY,intent_context:product_intents.kp.FEATURE_FLAG_VIEW_RECORDINGS})},icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconRewindPlay,{}),type:"secondary",size:"small",className:"w-fit",children:"View recordings"})})]})]})]})}},"../../frontend/src/scenes/feature-flags/FeatureFlagEvaluationTags.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>FeatureFlagEvaluationTags});var clsx_m=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonCheckbox=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonCheckbox/index.ts"),LemonInputSelect=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonInputSelect/index.ts"),LemonTag=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTag/index.ts"),Tooltip=__webpack_require__("../../frontend/src/lib/lemon-ui/Tooltip/index.ts"),ButtonPrimitives=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx");let featureFlagEvaluationTagsLogic=(0,index_esm.kea)([(0,index_esm.path)(key=>["scenes","feature-flags","featureFlagEvaluationTagsLogic",key]),(0,index_esm.props)({}),(0,index_esm.key)(props=>props.flagId||"new"),(0,index_esm.actions)({setEditingTags:editing=>({editing}),setShowEvaluationOptions:show=>({show}),setDraftTags:tags=>({tags}),setDraftEvaluationTags:evaluationTags=>({evaluationTags})}),(0,index_esm.reducers)(()=>({editingTags:[!1,{setEditingTags:(_,_ref)=>{let{editing}=_ref;return editing}}],showEvaluationOptions:[!1,{setShowEvaluationOptions:(_,_ref2)=>{let{show}=_ref2;return show}}],draftTags:[null,{setDraftTags:(_,_ref3)=>{let{tags}=_ref3;return tags},setEditingTags:(state,_ref4)=>{let{editing}=_ref4;return editing?state:null}}],draftEvaluationTags:[null,{setDraftEvaluationTags:(_,_ref5)=>{let{evaluationTags}=_ref5;return evaluationTags},setEditingTags:(state,_ref6)=>{let{editing}=_ref6;return editing?state:null}}]})),(0,index_esm.selectors)({selectedTags:[s=>[s.editingTags,s.draftTags,(_,props)=>props.tags],(editingTags,draftTags,propsTags)=>editingTags&&null!==draftTags?draftTags:propsTags||[]],selectedEvaluationTags:[s=>[s.editingTags,s.draftEvaluationTags,(_,props)=>props.evaluationTags],(editingTags,draftEvaluationTags,propsEvaluationTags)=>editingTags&&null!==draftEvaluationTags?draftEvaluationTags:propsEvaluationTags||[]]}),(0,index_esm.listeners)(_ref7=>{let{actions,values,props}=_ref7;return{setDraftTags:()=>{values.draftTags&&0===values.draftTags.length&&values.showEvaluationOptions&&actions.setShowEvaluationOptions(!1)},setEditingTags:_ref8=>{let{editing}=_ref8;editing?(actions.setDraftTags(props.tags||[]),actions.setDraftEvaluationTags(props.evaluationTags||[])):(actions.setDraftTags(null),actions.setDraftEvaluationTags(null))}}}),(0,index_esm.events)(_ref9=>{let{actions}=_ref9;return{beforeUnmount:()=>{actions.setEditingTags(!1),actions.setShowEvaluationOptions(!1)}}})]);var featureFlagLogic=__webpack_require__("../../frontend/src/scenes/feature-flags/featureFlagLogic.ts"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function FeatureFlagEvaluationTags(_ref){let{tags,evaluationTags,onChange,tagsAvailable,staticOnly=!1,className,flagId}=_ref,logic=featureFlagEvaluationTagsLogic({tags,evaluationTags,flagId}),{editingTags,showEvaluationOptions,selectedTags,selectedEvaluationTags}=(0,index_esm.useValues)(logic),{setEditingTags,setShowEvaluationOptions,setDraftTags,setDraftEvaluationTags}=(0,index_esm.useActions)(logic),{saveFeatureFlag}=(0,index_esm.useActions)(featureFlagLogic.hk),{featureFlagLoading}=(0,index_esm.useValues)(featureFlagLogic.hk),toggleEvaluationTag=tag=>{selectedEvaluationTags.includes(tag)?setDraftEvaluationTags(selectedEvaluationTags.filter(t=>t!==tag)):setDraftEvaluationTags([...selectedEvaluationTags,tag])};return editingTags?(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)(className,"flex flex-col gap-2"),children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(LemonInputSelect.n,{mode:"multiple",allowCustomValues:!0,value:selectedTags,options:tagsAvailable?.map(t=>({key:t,label:t})),onChange:setDraftTags,loading:featureFlagLoading,"data-attr":"feature-flag-tags-input",placeholder:'Add tags like "production", "app", "docs-page"',autoFocus:!0}),selectedTags.length>0&&(0,jsx_runtime.jsx)(LemonButton.J,{size:"small",onClick:()=>setShowEvaluationOptions(!showEvaluationOptions),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconBolt,{}),tooltip:"Configure evaluation environments"})]}),showEvaluationOptions&&selectedTags.length>0&&(0,jsx_runtime.jsxs)("div",{className:"bg-border-light rounded p-2",children:[(0,jsx_runtime.jsx)("div",{className:"text-xs text-muted mb-2",children:"Select which tags should also act as evaluation constraints. Flags with evaluation tags will only evaluate when the SDK provides matching environment tags."}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-1",children:selectedTags.map(tag=>(0,jsx_runtime.jsx)(LemonCheckbox.H,{checked:selectedEvaluationTags.includes(tag),onChange:()=>toggleEvaluationTag(tag),label:(0,jsx_runtime.jsxs)("span",{className:"text-sm",children:['Use "',tag,'" as evaluation tag']})},tag))})]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-1",children:[(0,jsx_runtime.jsx)(ButtonPrimitives.hL,{type:"button",variant:"outline",onClick:()=>{onChange?onChange(selectedTags,selectedEvaluationTags):saveFeatureFlag({tags:selectedTags,evaluation_tags:selectedEvaluationTags}),setEditingTags(!1),setShowEvaluationOptions(!1)},disabled:featureFlagLoading,tooltip:"Save tags","aria-label":"Save tags",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{})}),(0,jsx_runtime.jsx)(ButtonPrimitives.hL,{type:"button",variant:"outline",onClick:()=>{setEditingTags(!1),setShowEvaluationOptions(!1)},tooltip:"Cancel editing","aria-label":"Cancel editing",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{})})]})]}):(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)(className,"inline-flex flex-wrap gap-1 items-center"),children:[tags.length>0&&tags.map(tag=>{let isEvaluationTag=evaluationTags.includes(tag);return(0,jsx_runtime.jsx)(Tooltip.u,{title:isEvaluationTag?"This tag acts as an evaluation tag":void 0,children:(0,jsx_runtime.jsx)(LemonTag.o,{type:isEvaluationTag?"success":(0,utils.eu)(tag),icon:isEvaluationTag?(0,jsx_runtime.jsx)(posthog_icons_es.IconBolt,{}):void 0,children:tag})},tag)}),!staticOnly&&(0,jsx_runtime.jsx)(LemonTag.o,{type:"none",onClick:()=>setEditingTags(!0),"data-attr":"button-edit-tags",icon:tags.length>0?(0,jsx_runtime.jsx)(posthog_icons_es.IconPencil,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),className:"border border-dashed cursor-pointer",size:"medium",children:tags.length>0?"Edit":"Add tags"})]})}},"../../frontend/src/scenes/feature-flags/FeatureFlags.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FeatureFlags:()=>FeatureFlags,OverViewTab:()=>OverViewTab,groupFilters:()=>groupFilters,scene:()=>scene});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),lib_components_ActivityLog_ActivityLog__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),lib_components_PropertyFilters_components_PropertyFiltersDisplay__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/components/PropertyFilters/components/PropertyFiltersDisplay.tsx"),lib_components_hedgehogs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/lib/components/hedgehogs.tsx"),lib_constants__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/lib/constants.tsx"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/More.tsx"),lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),lib_lemon_ui_LemonTabs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../frontend/src/lib/lemon-ui/Tooltip/index.ts"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),lib_ui_WrappingLoadingSkeleton_WrappingLoadingSkeleton__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../frontend/src/lib/ui/WrappingLoadingSkeleton/WrappingLoadingSkeleton.tsx"),lib_utils_copyToClipboard__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../frontend/src/lib/utils/copyToClipboard.tsx"),lib_utils_css_classes__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("../../frontend/src/lib/utils/css-classes.ts"),lib_utils_deleteWithUndo__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../frontend/src/lib/utils/deleteWithUndo.tsx"),lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../frontend/src/lib/utils/stringWithWBR.tsx"),scenes_max_useMaxTool__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../frontend/src/scenes/max/useMaxTool.ts"),scenes_projectLogic__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../frontend/src/scenes/projectLogic.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../../frontend/src/scenes/urls.ts"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),_layout_scenes_components_SceneContent__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneContent.tsx"),_layout_scenes_components_SceneDivider__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneDivider.tsx"),_layout_scenes_components_SceneTitleSection__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneTitleSection.tsx"),_models_groupsModel__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("../../frontend/src/models/groupsModel.ts"),_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),_types__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("../../frontend/src/types.ts"),_FeatureFlag__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlag.tsx"),_FeatureFlagEvaluationTags__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlagEvaluationTags.tsx"),_FeatureFlagFilters__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("../../frontend/src/scenes/feature-flags/FeatureFlagFilters.tsx"),_featureFlagLogic__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("../../frontend/src/scenes/feature-flags/featureFlagLogic.ts"),_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("../../frontend/src/scenes/feature-flags/featureFlagsLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function FeatureFlagRowActions(_ref){let{featureFlag}=_ref,{currentProjectId}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_projectLogic__WEBPACK_IMPORTED_MODULE_25__.K),{user}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_27__.userLogic),flagLogic=(0,_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.bP)({}),{updateFeatureFlag,loadFeatureFlags}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(flagLogic),multivariateEnabled=!!featureFlag.filters?.multivariate,variants=featureFlag.filters?.multivariate?.variants||[],{openMax}=(0,scenes_max_useMaxTool__WEBPACK_IMPORTED_MODULE_24__.$)((0,_FeatureFlag__WEBPACK_IMPORTED_MODULE_34__.createMaxToolSurveyConfig)(featureFlag,user,multivariateEnabled,variants));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_12__.T,{overlay:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{onClick:()=>{(0,lib_utils_copyToClipboard__WEBPACK_IMPORTED_MODULE_21__.v)(featureFlag.key,"feature flag key")},fullWidth:!0,children:"Copy feature flag key"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.bW,{resourceType:_types__WEBPACK_IMPORTED_MODULE_33__.qR.FeatureFlag,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_33__.W$.Editor,userAccessLevel:featureFlag.user_access_level,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{"data-attr":`feature-flag-${featureFlag.key}-switch`,onClick:()=>{let newValue=!featureFlag.active;_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.dn.open({title:`${!0===newValue?"Enable":"Disable"} this flag?`,description:`This flag will be immediately ${!0===newValue?"rolled out to":"rolled back from"} the users matching the release conditions.`,primaryButton:{children:"Confirm",type:"primary",onClick:()=>{featureFlag.id&&updateFeatureFlag({id:featureFlag.id,payload:{active:newValue}})},size:"small"},secondaryButton:{children:"Cancel",type:"tertiary",size:"small"}})},id:`feature-flag-${featureFlag.id}-switch`,fullWidth:!0,children:[featureFlag.active?"Disable":"Enable"," feature flag"]})}),featureFlag.id&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.bW,{resourceType:_types__WEBPACK_IMPORTED_MODULE_33__.qR.FeatureFlag,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_33__.W$.Editor,userAccessLevel:featureFlag.user_access_level,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{fullWidth:!0,disabledReason:featureFlag.can_edit?null:"You don't have permission to edit this feature flag.",onClick:()=>{featureFlag.id&&((0,_featureFlagLogic__WEBPACK_IMPORTED_MODULE_37__.hk)({id:featureFlag.id}).mount(),(0,_featureFlagLogic__WEBPACK_IMPORTED_MODULE_37__.hk)({id:featureFlag.id}).actions.editFeatureFlag(!0),kea_router__WEBPACK_IMPORTED_MODULE_1__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_26__.j.featureFlag(featureFlag.id)))},children:"Edit"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_26__.j.featureFlagDuplicate(featureFlag.id),"data-attr":"feature-flag-duplicate",fullWidth:!0,children:"Duplicate feature flag"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{to:(featureFlag=>{let query={kind:_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_32__.OH.InsightVizNode,source:{kind:_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_32__.OH.TrendsQuery,series:[{event:"$pageview",name:"$pageview",kind:_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_32__.OH.EventsNode,math:_types__WEBPACK_IMPORTED_MODULE_33__.vN.UniqueUsers}],breakdownFilter:{breakdown_type:"event",breakdown:`$feature/${featureFlag.key}`}}};return scenes_urls__WEBPACK_IMPORTED_MODULE_26__.j.insightNew({query})})(featureFlag),"data-attr":"usage",fullWidth:!0,targetBlank:!0,children:"Try out in Insights"}),openMax&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{onClick:openMax,"data-attr":"create-survey",fullWidth:!0,targetBlank:!0,children:"Create survey"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_13__.p,{}),featureFlag.id&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.bW,{resourceType:_types__WEBPACK_IMPORTED_MODULE_33__.qR.FeatureFlag,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_33__.W$.Editor,userAccessLevel:featureFlag.user_access_level,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{status:"danger",onClick:()=>{(0,lib_utils_deleteWithUndo__WEBPACK_IMPORTED_MODULE_22__.S)({endpoint:`projects/${currentProjectId}/feature_flags`,object:{name:featureFlag.key,id:featureFlag.id},callback:loadFeatureFlags}).catch(e=>{_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.UJ.error(`Failed to delete feature flag: ${e.detail}`)})},disabledReason:featureFlag.can_edit?(featureFlag.features?.length||0)>0?"This feature flag is in use with an early access feature. Delete the early access feature to delete this flag":(featureFlag.experiment_set?.length||0)>0?"This feature flag is linked to an experiment. Delete the experiment to delete this flag":(featureFlag.surveys?.length||0)>0?"This feature flag is linked to a survey. Delete the survey to delete this flag":null:"You have only 'View' access for this feature flag. To make changes, please contact the flag's creator.",fullWidth:!0,children:"Delete feature flag"})})]})})}let scene={component:FeatureFlags,logic:_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.bP,settingSectionId:"environment-feature-flags"};function OverViewTab(_ref2){let{flagPrefix="",searchPlaceholder="Search for feature flags",nouns=["feature flag","feature flags"]}=_ref2,{aggregationLabel}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_models_groupsModel__WEBPACK_IMPORTED_MODULE_31__.$),flagLogic=(0,_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.bP)({flagPrefix}),{featureFlagsLoading,featureFlags,count,pagination,filters,shouldShowEmptyState}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(flagLogic),{setFeatureFlagsFilters}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(flagLogic),{hasAvailableFeature}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_27__.userLogic),{featureFlags:enabledFeatureFlags}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_19__.featureFlagLogic),page=filters.page||1,startCount=(page-1)*_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.ac+1,endCount=page*_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.ac<count?page*_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.ac:count,columns=[{title:"Key",dataIndex:"key",className:"ph-no-capture",sticky:!0,width:"40%",sorter:(a,b)=>(a.key||"").localeCompare(b.key||""),render:function Render(_,featureFlag){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_15__.i,{to:featureFlag.id?scenes_urls__WEBPACK_IMPORTED_MODULE_26__.j.featureFlag(featureFlag.id):void 0,title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("span",{children:(0,lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_23__.Z)(featureFlag.key,17)}),!featureFlag.can_edit&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_18__.u,{title:"You don't have edit permissions for this feature flag.",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconLock,{style:{marginLeft:6,verticalAlign:"-0.125em",display:"inline"}})})]}),description:featureFlag.name})}},...hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_33__.P$.TAGGING)?[{title:"Tags",dataIndex:"tags",render:function Render(_,featureFlag){let tags=featureFlag.tags;return tags&&0!==tags.length?enabledFeatureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_10__.y8.FLAG_EVALUATION_TAGS]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_FeatureFlagEvaluationTags__WEBPACK_IMPORTED_MODULE_35__.J,{tags:tags,evaluationTags:featureFlag.evaluation_tags||[],staticOnly:!0,flagId:featureFlag.id}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_6__.D,{tags:tags,staticOnly:!0}):null}}]:[],(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_16__.JB)(),(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_16__.rw)(),(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_16__.yI)(),{title:"Release conditions",width:100,render:function Render(_,featureFlag){let releaseText=groupFilters(featureFlag.filters,void 0,aggregationLabel);return"string"==typeof releaseText&&releaseText.startsWith("100% of")?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.oe,{type:"highlight",children:releaseText}):releaseText}},{title:"Status",dataIndex:"active",sorter:(a,b)=>Number(a.active)-Number(b.active),width:100,render:function RenderActive(_,featureFlag){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)("div",{className:"flex justify-start gap-1",children:[featureFlag.performed_rollback?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.oe,{type:"warning",className:"uppercase",children:"Rolled Back"}):featureFlag.active?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.oe,{type:"success",className:"uppercase",children:"Enabled"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.oe,{type:"default",className:"uppercase",children:"Disabled"}),"STALE"===featureFlag.status&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_18__.u,{title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("div",{className:"text-sm",children:"Flag at least 30 days old and fully rolled out"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("div",{className:"text-xs",children:"Make sure to remove any references to this flag in your code before deleting it."})]}),placement:"left",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.oe,{type:"warning",className:"uppercase cursor-default",children:"Stale"})})})]})}},...lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_19__.featureFlagLogic.values.featureFlags?.[lib_constants__WEBPACK_IMPORTED_MODULE_10__.y8.FLAG_EVALUATION_RUNTIMES]?[{title:"Runtime",dataIndex:"evaluation_runtime",width:120,render:function RenderFlagRuntime(_,featureFlag){let runtime=featureFlag.evaluation_runtime||_types__WEBPACK_IMPORTED_MODULE_33__.GM.ALL;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.oe,{type:"default",className:"uppercase",children:runtime===_types__WEBPACK_IMPORTED_MODULE_33__.GM.ALL?"All":runtime===_types__WEBPACK_IMPORTED_MODULE_33__.GM.CLIENT?"Client":runtime===_types__WEBPACK_IMPORTED_MODULE_33__.GM.SERVER?"Server":"All"})}}]:[],{width:0,render:function Render(_,featureFlag){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(FeatureFlagRowActions,{featureFlag:featureFlag})}}],filtersSection=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_FeatureFlagFilters__WEBPACK_IMPORTED_MODULE_36__.a,{filters:filters,setFeatureFlagsFilters:setFeatureFlagsFilters,searchPlaceholder:searchPlaceholder||"",filtersConfig:{search:!0,type:!0,status:!0,createdBy:!0,tags:!0,runtime:!0}});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_layout_scenes_components_SceneContent__WEBPACK_IMPORTED_MODULE_28__._,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_7__.C,{productName:"Feature flags",productKey:_types__WEBPACK_IMPORTED_MODULE_33__.Md.FEATURE_FLAGS,thingName:"feature flag",description:"Use feature flags to safely deploy and roll back new features in an easy-to-manage way. Roll variants out to certain groups, a percentage of users, or everyone all at once.",docsURL:"https://posthog.com/docs/feature-flags/manual",action:()=>kea_router__WEBPACK_IMPORTED_MODULE_1__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_26__.j.featureFlag("new")),isEmpty:shouldShowEmptyState,customHog:lib_components_hedgehogs__WEBPACK_IMPORTED_MODULE_9__.FeatureFlagHog,className:(0,lib_utils_css_classes__WEBPACK_IMPORTED_MODULE_40__.cn)("my-0")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("div",{children:filtersSection}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_13__.p,{className:"my-0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)("span",{className:"text-secondary",children:featureFlagsLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_ui_WrappingLoadingSkeleton_WrappingLoadingSkeleton__WEBPACK_IMPORTED_MODULE_20__.x,{children:"1-100 of 150 flags"}):count?`${startCount}${endCount-startCount>1?"-"+endCount:""} of ${count} flag${1===count?"":"s"}`:null})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_14__.g,{dataSource:featureFlags.results,columns:columns,rowKey:"key",defaultSorting:{columnKey:"created_at",order:-1},noSortingCancellation:!0,loading:featureFlagsLoading,pagination:pagination,nouns:nouns,"data-attr":"feature-flag-table",emptyState:"No results for this filter, change filter or create a new flag.",onSort:newSorting=>setFeatureFlagsFilters({order:newSorting?`${-1===newSorting.order?"-":""}${newSorting.columnKey}`:void 0,page:1})})]})}function FeatureFlags(){let{activeTab}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.bP),{setActiveTab}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.bP);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)(_layout_scenes_components_SceneContent__WEBPACK_IMPORTED_MODULE_28__._,{className:"feature_flags",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_layout_scenes_components_SceneTitleSection__WEBPACK_IMPORTED_MODULE_30__.s,{name:"Feature flags",description:"Use feature flags to safely deploy and roll back new features in an easy-to-manage way. Roll variants out to certain groups, a percentage of users, or everyone all at once.",resourceType:{type:"feature_flag"},actions:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.bW,{resourceType:_types__WEBPACK_IMPORTED_MODULE_33__.qR.FeatureFlag,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_33__.W$.Editor,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_11__.J,{type:"primary",to:scenes_urls__WEBPACK_IMPORTED_MODULE_26__.j.featureFlag("new"),"data-attr":"new-feature-flag",size:"small",children:"New feature flag"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(_layout_scenes_components_SceneDivider__WEBPACK_IMPORTED_MODULE_29__.V,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_lemon_ui_LemonTabs__WEBPACK_IMPORTED_MODULE_17__.T,{activeKey:activeTab,onChange:newKey=>setActiveTab(newKey),sceneInset:!0,tabs:[{key:_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.id.OVERVIEW,label:"Overview",content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(OverViewTab,{})},{key:_featureFlagsLogic__WEBPACK_IMPORTED_MODULE_38__.id.HISTORY,label:"History",content:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_ActivityLog_ActivityLog__WEBPACK_IMPORTED_MODULE_5__.DA,{scope:_types__WEBPACK_IMPORTED_MODULE_33__.jc.FEATURE_FLAG})}],"data-attr":"feature-flags-tab-navigation"})]})}function groupFilters(filters,stringOnly,aggregationLabel){let aggregationTargetName=aggregationLabel&&null!=filters.aggregation_group_type_index?aggregationLabel(filters.aggregation_group_type_index).plural:"users",groups=filters.groups||[];if(0===groups.length||!groups.some(group=>0!==group.rollout_percentage))return`No ${aggregationTargetName}`;if(groups.some(group=>!group.properties?.length&&[null,void 0,100].includes(group.rollout_percentage)))return`100% of all ${aggregationTargetName}`;if(1===groups.length){let{properties,rollout_percentage=null}=groups[0];return(properties?.length||0)>0?stringOnly?`${null!=rollout_percentage?rollout_percentage:100}% of one group`:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsxs)("span",{className:"shrink-0 mr-2",children:[null!=rollout_percentage?rollout_percentage:100,"% of"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_39__.jsx)(lib_components_PropertyFilters_components_PropertyFiltersDisplay__WEBPACK_IMPORTED_MODULE_8__.Z,{filters:properties})]}):null!==rollout_percentage?`${rollout_percentage}% of all ${aggregationTargetName}`:(console.error("A group with full rollout was not detected early"),`100% of all ${aggregationTargetName}`)}return"Multiple groups"}},"../../frontend/src/scenes/feature-flags/JSONEditorInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>JSONEditorInput_JSONEditorInput});var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),JSONEditorInput=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/feature-flags/JSONEditorInput.scss"),JSONEditorInput_default=__webpack_require__.n(JSONEditorInput),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(JSONEditorInput_default(),options),JSONEditorInput_default().locals;var react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),CodeEditor=__webpack_require__("../../frontend/src/lib/monaco/CodeEditor.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function JSONEditorInput_JSONEditorInput(_ref){let{onChange,placeholder,lineHeight=20,defaultNumberOfLines=1,value="",readOnly=!1}=_ref,defaultHeight=lineHeight*(Math.max(defaultNumberOfLines,(value?.toString()||"").split(/\r\n|\r|\n/).length)+1),[height,setHeight]=(0,react.useState)(defaultHeight),[focused,setFocused]=(0,react.useState)(!1),updateHeight=val=>{val?setHeight(lineHeight*(Math.max(val.split(/\r\n|\r|\n/).length,defaultNumberOfLines)+1)):setHeight(lineHeight*(defaultNumberOfLines+1))};return(0,jsx_runtime.jsxs)("div",{className:"JsonEditorInput",onFocus:()=>setFocused(!0),onBlur:()=>setFocused(!1),children:[(0,jsx_runtime.jsx)(CodeEditor.p,{className:"border",language:"json",height:height,value:value?.toString(),options:{readOnly:readOnly,lineHeight:lineHeight,minimap:{enabled:!1},scrollbar:{alwaysConsumeMouseWheel:!1},padding:{bottom:0,top:10},overviewRulerLanes:0,hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,glyphMargin:!0,folding:!1,lineNumbers:"off",lineDecorationsWidth:0,lineNumbersMinChars:0,renderLineHighlight:"none",cursorStyle:"line",scrollBeyondLastLine:!1,quickSuggestions:!1,contextmenu:!1},onChange:val=>{updateHeight(val),onChange?.(val)}}),!focused&&!value?.toString()&&placeholder&&(0,jsx_runtime.jsx)("div",{className:"placeholder",children:(0,jsx_runtime.jsx)("div",{className:"placeholderLabelContainer",children:placeholder})})]})}},"../../frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>ProjectHomePageCompactListItem}),__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ProjectHomePageCompactListItem(_ref){let{to,onClick,title,subtitle,prefix,suffix}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{fullWidth:!0,to:to,onClick:onClick,className:"h-12",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"flex items-start justify-between overflow-hidden gap-2 flex-1",children:[prefix?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"flex shrink-0 text-secondary text-xl",children:prefix}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"truncate flex flex-col gap-y-0.5 flex-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"text-link truncate",children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"truncate text-secondary font-normal text-xs",children:subtitle})]}),suffix?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"shrink-0",children:suffix}):null]})})}},"../../frontend/src/scenes/project-homepage/projectHomepageLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>projectHomepageLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_subscriptions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.7_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardLogic.tsx"),scenes_max_maxTypes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/max/maxTypes.ts"),scenes_projectLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/projectLogic.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/utils.ts"),_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/types.ts");let projectHomepageLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","project-homepage","projectHomepageLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__.teamLogic,["currentTeam"],scenes_projectLogic__WEBPACK_IMPORTED_MODULE_6__.K,["currentProjectId"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({primaryDashboardId:[()=>[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__.teamLogic.selectors.currentTeam],currentTeam=>currentTeam?.primary_dashboard],dashboardLogicProps:[s=>[s.primaryDashboardId],primaryDashboardId=>primaryDashboardId?{id:primaryDashboardId,placement:_types__WEBPACK_IMPORTED_MODULE_9__.F4.ProjectHomepage}:null],maxContext:[s=>[state=>{let dashboardLogicProps=s.dashboardLogicProps(state);if(!dashboardLogicProps)return null;let logic=scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_4__.BM.findMounted(dashboardLogicProps);return logic?logic.selectors.dashboard(state):null}],dashboard=>dashboard?[scenes_max_maxTypes__WEBPACK_IMPORTED_MODULE_5__.s.dashboard(dashboard)]:[]],breadcrumbs:[()=>[],()=>[{key:"home",name:"Home",iconType:"home"}]]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref=>{let{values}=_ref;return{recentInsights:[[],{loadRecentInsights:async()=>(await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get(`api/environments/${values.currentProjectId}/insights/my_last_viewed`)).map(legacyInsight=>(0,_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_8__.Q0)(legacyInsight))}]}}),(0,kea_subscriptions__WEBPACK_IMPORTED_MODULE_2__.Vt)(_ref2=>{let{cache}=_ref2;return{dashboardLogicProps:dashboardLogicProps=>{if(dashboardLogicProps){let unmount=(0,scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_4__.BM)(dashboardLogicProps).mount();cache.unmountDashboardLogic?.(),cache.unmountDashboardLogic=unmount}else cache.unmountDashboardLogic&&(cache.unmountDashboardLogic?.(),cache.unmountDashboardLogic=null)}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.beforeUnmount)(_ref3=>{let{cache}=_ref3;cache.unmountDashboardLogic?.(),cache.unmountDashboardLogic=null})])},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/lib/components/CompactList/CompactList.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".CompactList{background:var(--color-bg-surface-primary);border:1px solid var(--color-border-primary);border-radius:var(--radius);box-sizing:initial;display:flex;flex:1;flex-direction:column;overflow:hidden}.CompactList .CompactList__header{align-items:center;display:flex;justify-content:space-between;padding:.5rem}.CompactList .CompactList__header h3{font-size:.9rem;font-weight:600;line-height:1.4;margin-bottom:0}.CompactList .CompactList__content{height:16rem;overflow-y:auto;padding:.5rem}.CompactList .LemonButton{font-family:var(--font-sans)!important}",""]),module.exports=exports},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/feature-flags/JSONEditorInput.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".JsonEditorInput{position:relative}.JsonEditorInput .border{border-radius:var(--radius)}.JsonEditorInput .border .monaco-diff-editor,.JsonEditorInput .border .monaco-diff-editor .overflow-guard,.JsonEditorInput .border .monaco-editor,.JsonEditorInput .border .monaco-editor .overflow-guard{border-radius:inherit}.JsonEditorInput .placeholder{bottom:0;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.JsonEditorInput .placeholder .placeholderLabelContainer{align-items:center;color:gray;display:flex;height:100%;padding-left:18px;pointer-events:none}",""]),module.exports=exports},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/project-homepage/ProjectHomepage.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ProjectHomepage{container-type:inline-size}.ProjectHomepage .ProjectHomepage__dashboardheader{align-items:center;display:flex;justify-content:space-between;margin-top:1rem}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title{align-items:center;display:flex;flex-direction:row}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a{color:var(--text-3000)}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a:hover{color:var(--color-accent)}.ProjectHomepage .ProjectHomepage__lists{display:flex;gap:1rem}@container (max-width: 800px){.ProjectHomepage .ProjectHomepage__lists{flex-direction:column}}.ProjectHomepage .empty-state-container{align-items:center;background-color:var(--color-bg-primary);display:flex;flex-direction:column;justify-content:center;padding:4rem;width:100%}",""]),module.exports=exports},"../../frontend/src/scenes/project-homepage/ProjectHomepage.scss":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/project-homepage/ProjectHomepage.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__),options={};options.insert="head",options.singleton=!1,_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default(),options),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default().locals}}]);