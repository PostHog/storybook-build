(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"./frontend/src/lib/components/CopyToClipboard.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return G});var F=e("./node_modules/core-js/modules/es.symbol.js"),ne=e.n(F),X=e("./node_modules/core-js/modules/es.symbol.description.js"),ve=e.n(X),k=e("./node_modules/core-js/modules/es.object.to-string.js"),q=e.n(k),D=e("./node_modules/core-js/modules/es.regexp.to-string.js"),N=e.n(D),V=e("./node_modules/@babel/runtime/helpers/extends.js"),I=e.n(V),R=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),t=e.n(R),K=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),re=e.n(K),U=e("./node_modules/react/index.js"),z=e.n(U),Ee=e("./frontend/src/lib/utils.tsx"),fe=e("./frontend/src/lib/components/Tooltip.tsx"),se=e("./frontend/src/lib/components/icons.tsx"),ye=e("./frontend/src/lib/components/LemonButton/index.ts");function ue(u,m){var l=Object.keys(u);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(u);m&&(d=d.filter(function(c){return Object.getOwnPropertyDescriptor(u,c).enumerable})),l.push.apply(l,d)}return l}function $(u){for(var m=1;m<arguments.length;m++){var l=arguments[m]!=null?arguments[m]:{};m%2?ue(Object(l),!0).forEach(function(d){t()(u,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(l)):ue(Object(l)).forEach(function(d){Object.defineProperty(u,d,Object.getOwnPropertyDescriptor(l,d))})}return u}function G(u){var m=u.children,l=u.explicitValue,d=u.description,c=u.selectable,h=c===void 0?!1:c,oe=u.isValueSensitive,ee=oe===void 0?!1:oe,j=u.tooltipMessage,ae=j===void 0?null:j,te=u.iconStyle,x=te===void 0?{}:te,Y=u.iconPosition,_e=Y===void 0?"end":Y,Oe=u.style,me=re()(u,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),Te=function(){return Object(Ee.t)(l!=null?l:m?m.toString():"",d)},Pe=z.a.createElement("span",I()({className:ee?"ph-no-capture":"",style:$({cursor:h?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:_e==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},Oe),onClick:h?void 0:Te},me),z.a.createElement("span",{style:_e==="start"?{flexGrow:1}:{}},m),z.a.createElement(ye.a,{compact:!0,icon:z.a.createElement(se.IconCopy,null),className:"copy-icon",onClick:h?Te:void 0,style:$(t()({},_e==="end"?"marginLeft":"marginRight",4),x)}));return!h||ae!==null?z.a.createElement(fe.a,{title:ae||"Click to copy"},Pe):z.a.createElement(z.a.Fragment,null,Pe)}try{G.displayName="CopyToClipboardInline",G.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:G.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(u){}},"./frontend/src/lib/components/PropertiesTable.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return le});var F=e("./node_modules/core-js/modules/es.array.filter.js"),ne=e("./node_modules/core-js/modules/es.array.includes.js"),X=e("./node_modules/core-js/modules/es.array.map.js"),ve=e("./node_modules/core-js/modules/es.object.entries.js"),k=e("./node_modules/core-js/modules/es.string.includes.js"),q=e("./node_modules/core-js/modules/es.string.starts-with.js"),D=e("./node_modules/@babel/runtime/helpers/typeof.js"),N=e.n(D),V=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),I=e.n(V),R=e("./node_modules/react/index.js"),t=e.n(R),K=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),re=e("./node_modules/antd/es/input/index.js"),U=e("./node_modules/antd/es/dropdown/index.js"),z=e("./node_modules/antd/es/menu/index.js"),Ee=e("./node_modules/antd/es/popconfirm/index.js"),fe=e("./frontend/src/lib/utils.tsx"),se=e("./frontend/src/lib/components/icons.tsx"),ye=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ue=e.n(ye),$=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss"),G=e.n($),u={};u.insert="head",u.singleton=!1;var m=ue()(G.a,u),l=G.a.locals||{},d=e("./frontend/src/lib/components/LemonTable/index.ts"),c=e("./frontend/src/lib/components/CopyToClipboard.tsx"),h=e("./node_modules/kea/lib/index.esm.js"),oe=e("./frontend/src/models/propertyDefinitionsModel.ts"),ee=e("./frontend/src/lib/components/LemonButton/index.ts"),j=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ae=e.n(j),te=e("./node_modules/antd/es/button/index.js"),x=e("./node_modules/antd/es/radio/index.js"),Y=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),_e=e("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Oe=e("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),me=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Te=e("./node_modules/@ant-design/icons/es/icons/StopOutlined.js"),Pe=e("./node_modules/antd/lib/modal/Modal.js"),Se=e.n(Pe);function H(_,s){var n=Object.keys(_);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(_);s&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(_,o).enumerable})),n.push.apply(n,r)}return n}function ce(_){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?H(Object(n),!0).forEach(function(r){ae()(_,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(r){Object.defineProperty(_,r,Object.getOwnPropertyDescriptor(n,r))})}return _}function ge(_){var s=_.editProperty,n={creating:!1,propertyType:"string"},r=Object(R.useState)(n),o=I()(r,2),a=o[0],f=o[1],S=function(){a.key&&a.value!==void 0&&(s(a.key,a.value),f(n))};return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"mb"},t.a.createElement("div",{className:"text-right"},t.a.createElement(te.a,{"data-attr":"add-prop-button",onClick:function(){return f(ce(ce({},a),{},{creating:!0}))},type:"primary",icon:t.a.createElement(Y.a,null)},"New property"))),t.a.createElement(Se.a,{visible:a.creating,destroyOnClose:!0,onCancel:function(){return f(n)},title:"Adding new property",okText:t.a.createElement(t.a.Fragment,null,t.a.createElement(_e.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!a.key||a.value===void 0},onOk:S},t.a.createElement("div",{className:"input-set"},t.a.createElement("label",{htmlFor:"propertyKey"},"Key"),t.a.createElement(re.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function(i){return f(ce(ce({},a),{},{key:i.target.value}))}})),t.a.createElement("div",{className:"input-set"},t.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),t.a.createElement("div",null,t.a.createElement(x.a.Group,{value:a.propertyType,onChange:function(i){return f(ce(ce({},a),{},{propertyType:i.target.value,value:i.target.value==="string"?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},t.a.createElement(x.a.Button,{value:"string"},"Text or Number"),t.a.createElement(x.a.Button,{value:"boolean"},"Boolean or Null")))),t.a.createElement("div",{className:"input-set"},t.a.createElement("label",{htmlFor:"propertyValue"},"Value"),a.propertyType==="boolean"?t.a.createElement("div",null,t.a.createElement(x.a.Group,{value:a.value,onChange:function(i){return f(ce(ce({},a),{},{value:i.target.value}))},id:"propertyValue",buttonStyle:"solid"},t.a.createElement(x.a.Button,{value:"true",defaultChecked:!0},t.a.createElement(Oe.a,null)," True"),t.a.createElement(x.a.Button,{value:"false"},t.a.createElement(me.a,null)," False"),t.a.createElement(x.a.Button,{value:"null"},t.a.createElement(Te.a,null)," Null"))):t.a.createElement(re.a,{placeholder:"try email@example.com, gold, 1",onChange:function(i){return f(ce(ce({},a),{},{value:i.target.value}))},id:"propertyValue",onKeyDown:function(i){return i.key==="Enter"&&S()}}))))}try{ge.displayName="NewPropertyComponent",ge.__docgenInfo={description:"",displayName:"NewPropertyComponent",props:{editProperty:{defaultValue:null,description:"",name:"editProperty",required:!0,type:{name:"(key: string, newValue?: string | number | boolean | null | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"]={docgenInfo:ge.__docgenInfo,name:"NewPropertyComponent",path:"frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"})}catch(_){}function xe(_){var s=_.value,n=_.onChange;return t.a.createElement(re.a,{defaultValue:s,autoFocus:!0,onBlur:function(){return n(null,!1)},onPressEnter:function(o){return n(o.target.value,!0)}})}function Me(_){var s=_.value,n=_.rootKey,r=_.onEdit,o=_.nestingLevel,a=Object(h.useValues)(oe.a),f=a.describeProperty,S=Object(R.useState)(!1),g=I()(S,2),i=g[0],E=g[1],p=n&&!K.g.includes(n)&&(!o||o<=1)&&r,b=["string","number","bigint"],w=["boolean","null"],ie;n&&(ie=f(n));var L=s===null?"null":N()(s),M=s===null?"null":String(s),pe=function(v,T){E(!1),n!==void 0&&T&&r&&v!=s&&r(n,v,s)},O=t.a.createElement("span",{className:p?"editable ph-no-capture":"ph-no-capture",onClick:function(){return p&&b.includes(L)&&E(!0)}},Object(fe.eb)(s)?t.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"value-link"},t.a.createElement("span",null,M),t.a.createElement(se.IconOpenInNew,null)):M);return t.a.createElement("div",{className:"properties-table-value"},i?t.a.createElement(xe,{value:s,onChange:pe}):t.a.createElement(t.a.Fragment,null,p&&w.includes(L)?t.a.createElement(U.a,{overlay:t.a.createElement(z.a,{onClick:function(v){var T=v.key,C=null;T==="t"?C=!0:T==="f"&&(C=!1),pe(C,!0)}},t.a.createElement(z.a.Item,{key:"t"},"true"),t.a.createElement(z.a.Item,{key:"f"},"false"),t.a.createElement(z.a.Item,{key:"n",danger:!0},"null"))},O):t.a.createElement(c.a,{description:"property value",explicitValue:M,selectable:!0,isValueSensitive:!0},O),t.a.createElement("div",{className:"property-value-type"},ie||L)))}function le(_){var s=_.properties,n=_.rootKey,r=_.onEdit,o=_.sortProperties,a=o===void 0?!1:o,f=_.searchable,S=f===void 0?!1:f,g=_.embedded,i=g===void 0?!0:g,E=_.nestingLevel,p=E===void 0?0:E,b=_.onDelete,w=_.className,ie=Object(R.useState)(""),L=I()(ie,2),M=L[0],pe=L[1],O=Object(R.useMemo)(function(){if(!(s instanceof Object))return[];var v=Object.entries(s);if(M){var T=M.toLowerCase();v=v.filter(function(C){var he=I()(C,2),be=he[0],Ce=he[1];return be.toLowerCase().includes(T)||JSON.stringify(Ce).toLowerCase().includes(T)})}return a&&v.sort(function(C,he){var be=I()(C,1),Ce=be[0],je=I()(he,1),De=je[0];return Ce[0]==="$"&&De[0]!=="$"?1:Ce[0]!=="$"&&De[0]==="$"||Ce.toLowerCase()<De.toLowerCase()?-1:1}),v},[s,a,M]);if(Array.isArray(s))return t.a.createElement("div",null,s.length?s.map(function(v,T){return t.a.createElement(le,{key:T,properties:v,nestingLevel:p+1})}):t.a.createElement("div",{className:"property-value-type"},"ARRAY (EMPTY)"));var W=[{key:"key",title:"Key",width:"20rem",render:function(T,C){return t.a.createElement("div",{className:"properties-table-key"},t.a.createElement(K.b,{value:C[0]}))},sorter:function(T,C){return String(T[0]).localeCompare(String(C[0]))}},{key:"value",title:"Value",render:function(T,C){return t.a.createElement(le,{properties:C[1],rootKey:C[0],onEdit:r,nestingLevel:p+1})}}];return b&&p===0&&W.push({key:"delete",title:"",width:0,render:function(T,C){return!K.g.includes(C[0])&&!String(C[0]).startsWith("$initial_")&&t.a.createElement(Ee.a,{onConfirm:function(){return b(C[0])},okButtonProps:{danger:!0},okText:"Delete",title:t.a.createElement(t.a.Fragment,null,"Are you sure you want to delete property ",t.a.createElement("code",null,C[0]),"?"," ",t.a.createElement("b",null,"This cannot be undone.")),placement:"left"},t.a.createElement(ee.a,{icon:t.a.createElement(se.IconDeleteForever,null),status:"danger",compact:!0}))}}),s instanceof Object?t.a.createElement(t.a.Fragment,null,S&&t.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"}},t.a.createElement(re.a.Search,{placeholder:"Search for property keys and values",className:"mb",allowClear:!0,enterButton:!0,style:{maxWidth:400,width:"initial",flexGrow:1},value:M,onChange:function(T){pe(T.target.value)}}),r&&t.a.createElement(ge,{editProperty:r})),t.a.createElement(d.a,{columns:W,showHeader:!i,size:"small",rowKey:"0",embedded:i,dataSource:O,className:w,emptyState:"This property value is an empty object."})):t.a.createElement(Me,{value:s,rootKey:n,onEdit:r,nestingLevel:p})}try{le.displayName="PropertiesTable",le.__docgenInfo={description:"",displayName:"PropertiesTable",props:{properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"any"}},sortProperties:{defaultValue:{value:"false"},description:"",name:"sortProperties",required:!1,type:{name:"boolean"}},searchable:{defaultValue:{value:"false"},description:"",name:"searchable",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"true"},description:"Whether this table should be style for being embedded. Default: true.",name:"embedded",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((key: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rootKey:{defaultValue:null,description:"",name:"rootKey",required:!1,type:{name:"string"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((key: string, newValue: any, oldValue?: any) => void)"}},nestingLevel:{defaultValue:{value:"0"},description:"",name:"nestingLevel",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"]={docgenInfo:le.__docgenInfo,name:"PropertiesTable",path:"frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"})}catch(_){}},"./frontend/src/lib/components/Property.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return K});var F=e("./node_modules/core-js/modules/es.object.to-string.js"),ne=e.n(F),X=e("./node_modules/core-js/modules/es.regexp.exec.js"),ve=e.n(X),k=e("./node_modules/core-js/modules/es.regexp.to-string.js"),q=e.n(k),D=e("./node_modules/core-js/modules/es.string.replace.js"),N=e.n(D),V=e("./node_modules/@babel/runtime/helpers/typeof.js"),I=e.n(V),R=e("./node_modules/react/index.js"),t=e.n(R);function K(re){var U=re.value;return t.a.createElement("span",{title:U},I()(U)==="object"?JSON.stringify(U):U&&U.toString().replace(/(^\w+:|^)\/\//,""))}try{K.displayName="Property",K.__docgenInfo={description:"",displayName:"Property",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Property.tsx#Property"]={docgenInfo:K.__docgenInfo,name:"Property",path:"frontend/src/lib/components/Property.tsx#Property"})}catch(re){}},"./frontend/src/scenes/actions/EventName.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return q}),e.d(A,"b",function(){return D});var F=e("./node_modules/react/index.js"),ne=e.n(F),X=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),ve=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),k=e("./frontend/src/lib/components/TaxonomicFilter/types.ts");function q(N){var V=N.value,I=N.onChange;return ne.a.createElement(ve.c,{groupType:k.a.Events,onChange:I,value:V,type:"secondary",style:{maxWidth:"24rem"},placeholder:"Choose an event",dataAttr:"event-name-box",renderValue:function(t){return ne.a.createElement(X.b,{value:t,disablePopover:!0})},allowClear:!0})}function D(N){var V=N.value,I=N.onChange;return ne.a.createElement(ve.a,{groupType:k.a.Events,onChange:I,value:V,type:"secondary",placeholder:"Select an event",dataAttr:"event-name-box",renderValue:function(t){return ne.a.createElement(X.b,{value:t,disablePopover:!0})},allowClear:!0})}try{q.displayName="EventName",q.__docgenInfo={description:"",displayName:"EventName",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/actions/EventName.tsx#EventName"]={docgenInfo:q.__docgenInfo,name:"EventName",path:"frontend/src/scenes/actions/EventName.tsx#EventName"})}catch(N){}try{D.displayName="LemonEventName",D.__docgenInfo={description:"",displayName:"LemonEventName",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/actions/EventName.tsx#LemonEventName"]={docgenInfo:D.__docgenInfo,name:"LemonEventName",path:"frontend/src/scenes/actions/EventName.tsx#LemonEventName"})}catch(N){}},"./frontend/src/scenes/events/EventDetails.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return u});var F=e("./node_modules/core-js/modules/es.object.keys.js"),ne=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),X=e.n(ne),ve=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),k=e.n(ve),q=e("./node_modules/react/index.js"),D=e.n(q),N=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),V=e("./frontend/src/lib/components/PropertiesTable.tsx"),I=e("./frontend/src/scenes/events/EventElements.tsx"),R=e("./node_modules/antd/es/tabs/index.js"),t=e("./node_modules/antd/es/button/index.js"),K=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),re=e.n(K),U=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),z=e("./frontend/src/lib/utils.tsx");function Ee(m,l){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(m);l&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(m,h).enumerable})),d.push.apply(d,c)}return d}function fe(m){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?Ee(Object(d),!0).forEach(function(c){X()(m,c,d[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):Ee(Object(d)).forEach(function(c){Object.defineProperty(m,c,Object.getOwnPropertyDescriptor(d,c))})}return m}function se(m){var l=m.event,d=l.event,c=l.id,h=l.uuid,oe=l.distinct_id,ee=l.properties,j=l.elements,ae=l.timestamp,te=l.person,x=re()(l,["event","id","uuid","distinct_id","properties","elements","timestamp","person"]),Y=fe(fe(fe(fe({},c?{id:c}:null),h?{uuid:h}:null),{},{timestamp:ae,event:d,distinct_id:oe,properties:Object(z.xb)(ee)},j&&j.length>0?{elements:j}:null),x);return D.a.createElement(U.a,{language:U.b.JSON},JSON.stringify(Y,null,4))}try{se.displayName="EventJSON",se.__docgenInfo={description:"",displayName:"EventJSON",props:{event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventJSON.tsx#EventJSON"]={docgenInfo:se.__docgenInfo,name:"EventJSON",path:"frontend/src/scenes/events/EventJSON.tsx#EventJSON"})}catch(m){}var ye=e("./frontend/src/lib/dayjs.ts");function ue(m,l){var d=Object.keys(m);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(m);l&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(m,h).enumerable})),d.push.apply(d,c)}return d}function $(m){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?ue(Object(d),!0).forEach(function(c){X()(m,c,d[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(d)):ue(Object(d)).forEach(function(c){Object.defineProperty(m,c,Object.getOwnPropertyDescriptor(d,c))})}return m}var G=R.a.TabPane;function u(m){for(var l=m.event,d=Object(q.useState)(!1),c=k()(d,2),h=c[0],oe=c[1],ee={},j={},ae=0,te=0,x=Object.keys(l.properties);te<x.length;te++){var Y=x[te];N.f.event[Y]&&N.f.event[Y].hide&&(ae+=1,h&&(j[Y]=l.properties[Y])),(!N.f.event[Y]||!N.f.event[Y].hide)&&(ee[Y]=l.properties[Y])}return D.a.createElement(R.a,{"data-attr":"event-details",defaultActiveKey:"properties",style:{float:"left",width:"100%"},tabBarStyle:{margin:0}},D.a.createElement(G,{tab:"Properties",key:"properties"},D.a.createElement(V.a,{properties:$($({$timestamp:Object(ye.a)(l.timestamp).toISOString()},ee),j)}),ae>0&&D.a.createElement("small",null,D.a.createElement(t.a,{style:{margin:"8px 0 0 8px"},type:"link",onClick:function(){return oe(!h)}},h?"Showing ":"",ae," hidden properties. Click to ",h?"hide":"show","."))),D.a.createElement(G,{tab:"JSON",key:"json"},D.a.createElement(se,{event:l})),l.elements&&l.elements.length>0&&D.a.createElement(G,{tab:"Elements",key:"elements"},D.a.createElement(I.a,{event:l})))}try{u.displayName="EventDetails",u.__docgenInfo={description:"",displayName:"EventDetails",props:{event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventDetails.tsx#EventDetails"]={docgenInfo:u.__docgenInfo,name:"EventDetails",path:"frontend/src/scenes/events/EventDetails.tsx#EventDetails"})}catch(m){}},"./frontend/src/scenes/events/EventElements.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return u});var F=e("./node_modules/core-js/modules/es.array.concat.js"),ne=e.n(F),X=e("./node_modules/core-js/modules/es.array.fill.js"),ve=e.n(X),k=e("./node_modules/core-js/modules/es.array.join.js"),q=e.n(k),D=e("./node_modules/core-js/modules/es.array.map.js"),N=e.n(D),V=e("./node_modules/core-js/modules/es.array.slice.js"),I=e.n(V),R=e("./node_modules/core-js/modules/es.object.entries.js"),t=e.n(R),K=e("./node_modules/core-js/modules/es.regexp.exec.js"),re=e.n(K),U=e("./node_modules/core-js/modules/es.string.replace.js"),z=e.n(U),Ee=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),fe=e.n(Ee),se=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ye=e.n(se),ue=e("./node_modules/react/index.js"),$=e.n(ue);function G(m){return Array(m).fill("    ").join("")}function u(m){var l=m.event,d=ye()(l.elements||[]).reverse();return d=d.slice(Math.max(d.length-10,1)),$.a.createElement("div",null,d.map(function(c,h){return $.a.createElement("pre",{className:"code",key:h,style:{margin:0,padding:0,borderRadius:0,backgroundColor:h===d.length-1?"var(--primary)":void 0}},G(h),"<",c.tag_name,c.attr_id&&' id="'.concat(c.attr_id,'"'),Object.entries(c.attributes).map(function(oe){var ee=fe()(oe,2),j=ee[0],ae=ee[1];return $.a.createElement("span",{key:j}," ".concat(j.replace("attr__",""),'="').concat(ae,'"'))}),">",c.text,h===d.length-1&&$.a.createElement("span",null,"</",c.tag_name,">"))}),ye()(d).reverse().slice(1).map(function(c,h){return $.a.createElement("pre",{className:"code",key:h,style:{margin:0,padding:0,borderRadius:0}},G(d.length-h-2),"</",c.tag_name,">")}))}try{u.displayName="EventElements",u.__docgenInfo={description:"",displayName:"EventElements",props:{event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventElements.tsx#EventElements"]={docgenInfo:u.__docgenInfo,name:"EventElements",path:"frontend/src/scenes/events/EventElements.tsx#EventElements"})}catch(m){}},"./frontend/src/scenes/events/EventsTable.tsx":function(de,A,e){"use strict";e.d(A,"a",function(){return g});var F=e("./node_modules/core-js/modules/es.array.find.js"),ne=e("./node_modules/core-js/modules/es.array.join.js"),X=e("./node_modules/core-js/modules/es.array.map.js"),ve=e("./node_modules/core-js/modules/es.array.some.js"),k=e("./node_modules/core-js/modules/es.array.splice.js"),q=e("./node_modules/core-js/modules/es.object.keys.js"),D=e("./node_modules/core-js/modules/es.object.to-string.js"),N=e("./node_modules/core-js/modules/es.regexp.to-string.js"),V=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),I=e.n(V),R=e("./node_modules/react/index.js"),t=e.n(R),K=e("./node_modules/kea/lib/index.esm.js"),re=e("./frontend/src/scenes/events/EventDetails.tsx"),U=e("./frontend/src/lib/components/Link.tsx"),z=e("./node_modules/antd/es/button/index.js"),Ee=e("./node_modules/core-js/modules/es.array.concat.js"),fe=e("./node_modules/core-js/modules/es.array.filter.js"),se=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ye=e.n(se),ue=e("./node_modules/kea-router/lib/index.js"),$=e("./frontend/src/lib/components/Property.tsx"),G=e("./frontend/src/lib/components/PropertyFilters/utils.ts");function u(i,E){var p=Object.keys(i);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(i);E&&(b=b.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),p.push.apply(p,b)}return p}function m(i){for(var E=1;E<arguments.length;E++){var p=arguments[E]!=null?arguments[E]:{};E%2?u(Object(p),!0).forEach(function(b){ye()(i,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(p)):u(Object(p)).forEach(function(b){Object.defineProperty(i,b,Object.getOwnPropertyDescriptor(p,b))})}return i}function l(i){var E=i.property,p=i.value,b=i.filters,w=i.onClick,ie=i.className,L=Object(G.c)(b.properties),M=L.find(function(W){return W.key===E&&W.value===p&&!W.operator})?L.filter(function(W){return W.key!==E||W.value!==p||W.operator}):[].concat(I()(L),[{key:E,value:p}]),pe=Object(ue.combineUrl)(window.location.pathname,m(m({},b),{},{properties:M}),{}),O=pe.url;return t.a.createElement(U.a,{to:O,className:ie,onClick:function(){w&&w(E,p)}},t.a.createElement($.a,{value:p}))}try{l.displayName="FilterPropertyLink",l.__docgenInfo={description:"",displayName:"FilterPropertyLink",props:{property:{defaultValue:null,description:"",name:"property",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | number"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((property: string, value: string | number) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/FilterPropertyLink.tsx#FilterPropertyLink"]={docgenInfo:l.__docgenInfo,name:"FilterPropertyLink",path:"frontend/src/lib/components/FilterPropertyLink.tsx#FilterPropertyLink"})}catch(i){}var d=e("./frontend/src/lib/utils.tsx"),c=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=e.n(c),oe=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/events/EventsTable.scss"),ee=e.n(oe),j={};j.insert="head",j.singleton=!1;var ae=h()(ee.a,j),te=ee.a.locals||{},x=e("./frontend/src/scenes/events/eventsTableLogic.ts"),Y=e("./frontend/src/scenes/persons/PersonHeader.tsx"),_e=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),Oe=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),me=e("./frontend/src/types.ts"),Te=e("./frontend/src/scenes/actions/EventName.tsx"),Pe=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Se=e("./frontend/src/lib/components/Tooltip.tsx"),H=e("./node_modules/clsx/dist/clsx.m.js"),ce=e("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),ge=e("./frontend/src/scenes/urls.ts"),xe=e("./frontend/src/lib/components/LemonTable/index.ts"),Me=e("./frontend/src/lib/components/icons.tsx"),le=e("./frontend/src/lib/components/LemonButton/index.ts"),_=e("./frontend/src/lib/components/LemonButton/More.tsx"),s=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),n=e("./frontend/src/scenes/teamLogic.ts"),r=e("./frontend/src/scenes/events/createActionFromEvent.tsx");function o(i){Object(R.useEffect)(function(){var E="hidden",p="visibilitychange";typeof document.msHidden!="undefined"?(E="msHidden",p="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(E="webkitHidden",p="webkitvisibilitychange");var b=function(){i(!document[E])};return document.addEventListener(p,b),function(){document.removeEventListener(p,b)}},[])}var a=e("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),f=e("./frontend/src/lib/logic/featureFlagLogic.ts"),S=e("./frontend/src/lib/constants.tsx");function g(i){var E=i.fixedFilters,p=i.pageKey,b=i.hidePersonColumn,w=i.hideTableConfig,ie=i.sceneUrl,L=i.disableActions,M=i.fetchMonths,pe=M===void 0?12:M,O=Object(K.useValues)(n.a),W=O.currentTeam,v=Object(x.a)({fixedFilters:E,key:p,sceneUrl:ie||ge.a.events(),disableActions:L,fetchMonths:pe}),T=Object(K.useValues)(v),C=T.properties,he=T.eventsFormatted,be=T.isLoading,Ce=T.hasNext,je=T.isLoadingNext,De=T.eventFilter,Ue=T.automaticLoadEnabled,We=T.exportUrl,Fe=T.highlightEvents,Ve=T.months,Be=Object(K.useValues)(ce.a),Re=Be.tableWidth,Le=Be.selectedColumns,Ae=Object(K.useActions)(v),$e=Ae.fetchNextEvents,Ye=Ae.prependNewEvents,He=Ae.setEventFilter,Je=Ae.toggleAutomaticLoad,ze=Ae.startDownload,Ge=Ae.setPollingActive,we=Ae.setProperties,Qe=Object(K.useValues)(f.a),Xe=Qe.featureFlags,Ze=!(E!=null&&E.person_id);o(Ge);var Ne=function(y,J){var B=y.date_break,P=y.new_events;return{children:B||(P?t.a.createElement(le.a,{icon:t.a.createElement(Me.IconSync,null),style:{borderRadius:0},onClick:function(){return Ye()},center:!0,fullWidth:!0},"There are new events. Click here to load them"):"???"),props:{colSpan:J+1,style:P?{padding:0}:void 0}}},ke={title:"Person",key:"person",render:function(y,J){var B,P,Q=J.event;return Q?Ze&&((B=Q.person)===null||B===void 0||(P=B.distinct_ids)===null||P===void 0?void 0:P.length)?t.a.createElement(U.a,{to:ge.a.person(Q.person.distinct_ids[0])},t.a.createElement(Y.a,{withIcon:!0,person:Q.person})):t.a.createElement(Y.a,{withIcon:!0,person:Q.person}):{props:{colSpan:0}}}},Ke=Object(R.useMemo)(function(){var Z=[{title:"Event",key:"event",width:"16rem",render:function(J,B){if(!B.event)return Ne(B,Re);var P=B.event;return t.a.createElement(Oe.b,{value:Object(d.g)(P)})},ellipsis:!0},{title:"URL / Screen",key:"url",width:"4rem",render:function(J,B){var P=B.event;if(!P)return{props:{colSpan:0}};var Q=P.properties.$current_url?"$current_url":"$screen_name";return L?t.a.createElement($.a,{value:P.properties[Q]}):t.a.createElement(l,{className:"ph-no-capture",property:Q,value:P.properties[Q],filters:{properties:C}})},ellipsis:!0},{title:"Source",key:"source",render:function(J,B){var P=B.event;return P?L?t.a.createElement($.a,{value:P.properties.$lib}):t.a.createElement(l,{property:"$lib",value:P.properties.$lib,filters:{properties:C}}):{props:{colSpan:0}}}}];return b||Z.splice(1,0,ke),Z},[Re]),qe=Object(R.useMemo)(function(){var Z=Le==="DEFAULT"?I()(Ke):Le.map(function(y,J){return Ke.find(function(B){return B.key===y})||{title:Oe.f.event[y]?Oe.f.event[y].label:y,key:y,render:function(P,Q){var Ie=Q.event;return Ie?L?t.a.createElement($.a,{value:Ie.properties[y]}):t.a.createElement(l,{className:"ph-no-capture ",property:y,value:Ie.properties[y],filters:{properties:C}}):J===0?Ne(Q,Re):{props:{colSpan:0}}}}});return Z.push({title:"Time",key:"time",render:function(J,B){var P=B.event;return P?t.a.createElement(_e.b,{time:P.timestamp,showSeconds:!0}):{props:{colSpan:0}}}}),Z.push({key:"actions",width:0,render:function(J,B){var P=B.event;if(!P)return{props:{colSpan:0}};var Q;return P.event==="$pageview"?Q={insight:me.s.TRENDS,interval:"day",display:me.d.ActionsLineGraph,actions:[],events:[{id:"$pageview",name:"$pageview",type:"events",order:0,properties:[{key:"$current_url",value:P.properties.$current_url,type:"event"}]}]}:P.event!=="$autocapture"&&(Q={insight:me.s.TRENDS,interval:"day",display:me.d.ActionsLineGraph,actions:[],events:[{id:P.event,name:P.event,type:"events",order:0,properties:[]}]}),t.a.createElement(_.a,{overlay:t.a.createElement(t.a.Fragment,null,W&&t.a.createElement(le.a,{type:"stealth",onClick:function(){return Object(r.a)(W.id,P,0,W.data_attributes||[])},fullWidth:!0,"data-attr":"events-table-create-action"},"Create action from event"),Q&&t.a.createElement(le.a,{type:"stealth",to:ge.a.insightNew(Q),fullWidth:!0,"data-attr":"events-table-usage"},"Try out in Insights"))})}}),Z},[Le]);return t.a.createElement("div",{"data-attr":"manage-events-table"},t.a.createElement("div",{className:"events","data-attr":"events-table",style:Xe[S.n.DATA_MANAGEMENT]?{paddingTop:"1rem",borderTop:"1px solid var(--border)"}:{}},!L&&t.a.createElement("div",{className:"mb",style:{display:"flex",gap:"1rem",flexWrap:"wrap",justifyContent:"space-between",alignItems:"start"}},t.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flexDirection:"row",alignItems:"center",width:"100%"}},t.a.createElement(Pe.a,{propertyFilters:C,onChange:we,pageKey:p,taxonomicPopoverPlacement:"bottom-start",style:{marginBottom:0,marginTop:0},eventNames:De?[De]:[],useLemonButton:!0,prefixComponent:t.a.createElement(Te.b,{value:De,onChange:function(y){He(y||"")}})})),t.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"1rem",borderTop:"1px solid var(--border)",width:"100%",paddingTop:"1rem"}},t.a.createElement(s.a,{type:"primary",id:"autoload-switch",label:"Automatically load new events",checked:Ue,onChange:Je}),t.a.createElement("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"row"}},!w&&t.a.createElement(a.a,{immutableColumns:["event","person"],defaultColumns:Ke.map(function(Z){return Z.key||""})}),We&&t.a.createElement(Se.a,{title:"Export up to 10,000 latest events.",placement:"left"},t.a.createElement(le.a,{type:"secondary",icon:t.a.createElement(Me.IconExport,{style:{color:"var(--primary)"}}),onClick:ze},"Export"))))),t.a.createElement(xe.a,{dataSource:he,loading:be,columns:qe,key:Le==="DEFAULT"?"default":Le.join("-"),className:"ph-no-capture",loadingSkeletonRows:20,emptyState:be?void 0:C.some(function(Z){return Object.keys(Z).length})||De?"No events matching filters found in the last ".concat(Ve," months!"):t.a.createElement(t.a.Fragment,null,"This project doesn't have any events. If you haven't integrated PostHog yet,"," ",t.a.createElement(U.a,{to:"/project/settings"},"click here to instrument analytics with PostHog in your product"),"."),rowKey:function(y){var J;return y.event?y.event.id+"-"+y.event.event:((J=y.date_break)===null||J===void 0?void 0:J.toString())||""},rowClassName:function(y){return Object(H.a)({"event-row":y.event,highlighted:y.event&&Fe[y.event.id],"event-row-is-exception":y.event&&y.event.event==="$exception","event-row-date-separator":y.date_break,"event-row-new":y.new_events})},expandable:{expandedRowRender:function(y){var J=y.event;return J&&t.a.createElement(re.a,{event:J})},rowExpandable:function(y){var J=y.event,B=y.date_break,P=y.new_events;return B||P?-1:!!J}}}),t.a.createElement(z.a,{type:"primary",onClick:$e,loading:je,style:{display:Ce||je?"block":"none",margin:"2rem auto 1rem"}},"Load more events")))}try{g.displayName="EventsTable",g.__docgenInfo={description:"",displayName:"EventsTable",props:{fixedFilters:{defaultValue:null,description:"",name:"fixedFilters",required:!1,type:{name:"FixedFilters"}},disableActions:{defaultValue:null,description:"",name:"disableActions",required:!1,type:{name:"boolean"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},hidePersonColumn:{defaultValue:null,description:"",name:"hidePersonColumn",required:!1,type:{name:"boolean"}},hideTableConfig:{defaultValue:null,description:"",name:"hideTableConfig",required:!1,type:{name:"boolean"}},sceneUrl:{defaultValue:null,description:"",name:"sceneUrl",required:!1,type:{name:"string"}},fetchMonths:{defaultValue:{value:"12"},description:"",name:"fetchMonths",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventsTable.tsx#EventsTable"]={docgenInfo:g.__docgenInfo,name:"EventsTable",path:"frontend/src/scenes/events/EventsTable.tsx#EventsTable"})}catch(i){}},"./frontend/src/scenes/events/eventsTableLogic.ts":function(de,A,e){"use strict";e.d(A,"a",function(){return _});var F=e("./node_modules/core-js/modules/es.array.concat.js"),ne=e.n(F),X=e("./node_modules/core-js/modules/es.array.filter.js"),ve=e.n(X),k=e("./node_modules/core-js/modules/es.array.for-each.js"),q=e.n(k),D=e("./node_modules/core-js/modules/es.array.iterator.js"),N=e.n(D),V=e("./node_modules/core-js/modules/es.array.join.js"),I=e.n(V),R=e("./node_modules/core-js/modules/es.array.map.js"),t=e.n(R),K=e("./node_modules/core-js/modules/es.array.reduce.js"),re=e.n(K),U=e("./node_modules/core-js/modules/es.array.splice.js"),z=e.n(U),Ee=e("./node_modules/core-js/modules/es.object.to-string.js"),fe=e.n(Ee),se=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),ye=e.n(se),ue=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),$=e.n(ue),G=e("./node_modules/@babel/runtime/regenerator/index.js"),u=e.n(G),m=e("./node_modules/regenerator-runtime/runtime.js"),l=e.n(m),d=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),c=e.n(d),h=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),oe=e.n(h),ee=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),j=e.n(ee),ae=e("./node_modules/kea/lib/index.esm.js"),te=e("./frontend/src/lib/utils.tsx"),x=e("./node_modules/kea-router/lib/index.js"),Y=e.n(x),_e=e("./frontend/src/lib/api.ts"),Oe=e("./frontend/src/scenes/teamLogic.ts"),me=e("./frontend/src/lib/dayjs.ts"),Te=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Pe=e("./frontend/src/lib/components/lemonToast.tsx");function Se(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);n&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,o)}return r}function H(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Se(Object(r),!0).forEach(function(o){oe()(s,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(r,o))})}return s}var ce=5,ge=365,xe=5e3,Me=function(n,r){var o=[];return o=n.map(function(a){return{event:a}}),o.forEach(function(a,f){var S=o[f-1];f>0&&a.event&&S.event&&!Object(me.a)(a.event.timestamp).isSame(S.event.timestamp,"day")&&o.splice(f,0,{date_break:Object(me.a)(a.event.timestamp).format("LL")})}),r.length>0&&o.splice(0,0,{new_events:!0}),o},le=function(n){return Object(me.b)().subtract(n,"day").toISOString()},_=Object(ae.kea)({path:function(n){return["scenes","events","eventsTableLogic",n]},props:{},key:function(n){return[n.fixedFilters?JSON.stringify(n.fixedFilters):"all",n.key,n.sceneUrl].filter(function(r){return!!r}).join("-")},connect:{values:[Oe.a,["currentTeamId"],Te.a,["featureFlags"]]},actions:{setPollingActive:function(n){return{pollingActive:n}},setProperties:function(n){return Array.isArray(n)?n.length===0?{properties:[{}]}:{properties:n}:{properties:[n]}},fetchEvents:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return{nextParams:n}},fetchEventsSuccess:function(n){return n},fetchNextEvents:!0,fetchOrPollFailure:function(n){return{error:n}},pollEvents:!0,pollEventsSuccess:function(n){return{events:n}},prependEvents:function(n){return{events:n}},prependNewEvents:!0,setSelectedEvent:function(n){return{selectedEvent:n}},setPollTimeout:function(n){return{pollTimeout:n}},setEventFilter:function(n){return{event:n}},toggleAutomaticLoad:function(n){return{automaticLoadEnabled:n}},noop:function(n){return n},startDownload:!0},reducers:{pollingIsActive:[!0,{setPollingActive:function(n,r){var o=r.pollingActive;return o},pollEventsSuccess:function(n,r){var o=r.events;return o&&o.length?!1:n},prependNewEvents:function(){return!0},toggleAutomaticLoad:function(){return!0}}],properties:[[],{setProperties:function(n,r){var o=r.properties;return Object(te.s)(o)}}],eventFilter:["",{setEventFilter:function(n,r){var o=r.event;return o}}],isLoading:[!0,{fetchEvents:function(){return!0},fetchEventsSuccess:function(){return!1},fetchOrPollFailure:function(){return!1}}],isLoadingNext:[!1,{fetchNextEvents:function(){return!0},fetchEventsSuccess:function(){return!1}}],events:[[],{fetchEventsSuccess:function(n,r){var o=r.events,a=r.isNext;return a?[].concat(j()(n),j()(o)):o},prependEvents:function(n,r){var o=r.events;return[].concat(j()(o),j()(n))}}],hasNext:[!1,{fetchEvents:function(){return!1},fetchNextEvents:function(){return!1},fetchEventsSuccess:function(n,r){var o=r.hasNext;return o}}],orderBy:["-timestamp",{}],selectedEvent:[null,{setSelectedEvent:function(n,r){var o=r.selectedEvent;return o}}],newEvents:[[],{setProperties:function(){return[]},pollEventsSuccess:function(n,r){var o=r.events;return o||[]},prependEvents:function(){return[]}}],highlightEvents:[{},{prependEvents:function(n,r){var o=r.events;return o.reduce(function(a,f){return a[f.id]=!0,a},{})}}],pollTimeout:[0,{setPollTimeout:function(n,r){return r.pollTimeout}}],automaticLoadEnabled:[!1,{persist:!0},{toggleAutomaticLoad:function(n,r){var o=r.automaticLoadEnabled;return o}}]},selectors:function(n){var r=n.selectors,o=n.props;return{eventsFormatted:[function(){return[r.events,r.newEvents]},function(a,f){return Me(a,f)}],exportUrl:[function(){return[r.currentTeamId,r.eventFilter,r.orderBy,r.properties,r.minimumQueryDate]},function(a,f,S,g,i){var E;return"/api/projects/".concat(a,"/events.csv?").concat(Object(te.Ab)(H(H(H({},o.fixedFilters||{}),{},{properties:[].concat(j()(g),j()(((E=o.fixedFilters)===null||E===void 0?void 0:E.properties)||[]))},f?{event:f}:{}),{},{orderBy:[S],after:i})))}],months:[function(){return[function(a,f){return f.fetchMonths}]},function(a){return a||12}],minimumQueryDate:[function(){return[r.months]},function(a){return Object(me.b)().subtract(a,"months").toISOString()}],pollAfter:[function(){return[r.events]},function(a){return(a==null?void 0:a.length)>0&&a[0].timestamp?a[0].timestamp:le(0)}]}},actionToUrl:function(n){var r=n.values;return{setProperties:function(){return[x.router.values.location.pathname,H(H({},x.router.values.searchParams),{},{properties:r.properties.length===0?void 0:r.properties}),x.router.values.hashParams,{replace:!0}]},setEventFilter:function(){return[x.router.values.location.pathname,H(H({},x.router.values.searchParams),{},{eventFilter:r.eventFilter}),x.router.values.hashParams,{replace:!0}]}}},urlToAction:function(n){var r=n.actions,o=n.values,a=n.props;return oe()({},a.sceneUrl,function(f,S){r.setProperties(S.properties||o.properties||{}),S.eventFilter&&r.setEventFilter(S.eventFilter)})},events:function(n){var r=n.values;return{beforeUnmount:function(){return clearTimeout(r.pollTimeout||void 0)}}},listeners:function(n){var r=n.actions,o=n.values,a=n.props;return{startDownload:function(){Pe.a.success("The export is starting. It should finish soon"),window.location.href=o.exportUrl},setProperties:function(){return r.fetchEvents()},setEventFilter:function(){return r.fetchEvents()},fetchNextEvents:function(){var f=c()(u.a.mark(function g(){var i;return u.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:i=o.events,i.length===0?r.fetchEvents():r.fetchEvents({before:i[i.length-1].timestamp});case 2:case"end":return p.stop()}},g)}));function S(){return f.apply(this,arguments)}return S}(),fetchEvents:function(){var f=c()(u.a.mark(function g(i,E){var p,b,w,ie,L,M,pe,O;return u.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(L=function(){return L=c()(u.a.mark(function C(he){var be;return u.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return be=H(H(H(H({after:he},a.fixedFilters||{}),{},{properties:w},b||{}),o.eventFilter?{event:o.eventFilter}:{}),{},{orderBy:[o.orderBy]}),je.abrupt("return",_e.a.get("api/projects/".concat(o.currentTeamId,"/events/?").concat(Object(te.Ab)(be))));case 2:case"end":return je.stop()}},C)})),L.apply(this,arguments)},ie=function(C){return L.apply(this,arguments)},b=i.nextParams,clearTimeout(o.pollTimeout),!(o.events.length>0)){v.next=9;break}return v.next=7,E(300);case 7:v.next=11;break;case 9:return v.next=11,E(1);case 11:return w=[].concat(j()(o.properties),j()(((p=a.fixedFilters)===null||p===void 0?void 0:p.properties)||[])),M=null,pe=!1,v.prev=14,v.next=17,ie(le(ce));case 17:if(M=v.sent,M.results.length!==0){v.next=23;break}return v.next=21,ie(le(ge));case 21:M=v.sent,pe=!0;case 23:v.next=29;break;case 25:return v.prev=25,v.t0=v.catch(14),r.fetchOrPollFailure(v.t0),v.abrupt("return");case 29:E(),r.fetchEventsSuccess({events:M.results,hasNext:!!M.next||!pe,isNext:!!b}),a.disableActions||(O=window.setTimeout(r.pollEvents,xe),r.setPollTimeout(O));case 32:case"end":return v.stop()}},g,null,[[14,25]])}));function S(g,i){return f.apply(this,arguments)}return S}(),pollEvents:function(){var f=c()(u.a.mark(function g(i,E){var p,b,w,ie,L,M;return u.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(b=function(){var v=window.setTimeout(r.pollEvents,xe);r.setPollTimeout(v)},o.orderBy==="-timestamp"){O.next=3;break}return O.abrupt("return");case 3:if(a.sceneUrl===x.router.values.location.pathname){O.next=5;break}return O.abrupt("return");case 5:if(!a.disableActions){O.next=7;break}return O.abrupt("return");case 7:if(o.pollingIsActive){O.next=10;break}return b(),O.abrupt("return");case 10:return w=[].concat(j()(o.properties),j()(((p=a.fixedFilters)===null||p===void 0?void 0:p.properties)||[])),ie=H(H(H({},a.fixedFilters||{}),{},{properties:w},o.eventFilter?{event:o.eventFilter}:{}),{},{orderBy:[o.orderBy],after:o.pollAfter}),L=Object(te.Ab)(ie),M=null,O.prev=14,O.next=17,_e.a.get("api/projects/".concat(o.currentTeamId,"/events/?").concat(L));case 17:M=O.sent,O.next=23;break;case 20:return O.prev=20,O.t0=O.catch(14),O.abrupt("return");case 23:E(),o.automaticLoadEnabled?r.prependEvents(M.results):r.pollEventsSuccess(M.results),b();case 26:case"end":return O.stop()}},g,null,[[14,20]])}));function S(g,i){return f.apply(this,arguments)}return S}(),prependNewEvents:function(){o.newEvents.length&&r.prependEvents(o.newEvents)},fetchOrPollFailure:function(S){var g=S.error;Pe.a.error("There was a problem fetching your events: ".concat(g.statusText))},toggleAutomaticLoad:function(S){var g=S.automaticLoadEnabled;g&&r.prependNewEvents()}}}})},"./node_modules/@ant-design/icons/es/icons/SaveOutlined.js":function(de,A,e){"use strict";var F=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ne=e("./node_modules/react/index.js"),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},ve=X,k=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),q=function(V,I){return ne.createElement(k.a,Object(F.a)(Object(F.a)({},V),{},{ref:I,icon:ve}))};q.displayName="SaveOutlined";var D=A.a=ne.forwardRef(q)},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss":function(de,A,e){var F=e("./node_modules/css-loader/dist/runtime/api.js");A=F(!1),A.push([de.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.properties-table-key{min-width:12rem;display:flex;align-items:center;justify-content:space-between}.property-value-type{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:1.25rem;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;text-transform:uppercase;cursor:default}.property-value-type:not(:first-child){margin-left:.25rem}.properties-table-value{min-width:12rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;align-items:center}.properties-table-value .value-link>*{vertical-align:middle}.properties-table-value .value-link>svg{margin-left:.25rem;font-size:1rem}.properties-table-value .editable{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-color:#5375ff;text-decoration-color:#5375ff;cursor:pointer}",""]),de.exports=A},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/events/EventsTable.scss":function(de,A,e){var F=e("./node_modules/css-loader/dist/runtime/api.js");A=F(!1),A.push([de.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.events .events-table-button-clear{padding:0 4px;margin-left:4px}.events .events-table-button-clear.visible,.events .events-table-button-clear:focus,.events .events-table-button-clear:hover{border:1px solid #5375ff}.events .event-row-new{height:2.5rem}.events .event-row-date-separator{background-color:var(--bg-mid);color:var(--text-muted);font-weight:600;font-size:.75rem;height:2rem;text-align:center}.events .event-row-is-exception{background-color:#fffaf8}.events td{max-width:20rem}",""]),de.exports=A}}]);
