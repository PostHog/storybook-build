"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[94416],{"../../frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SessionRecordingsPlaylistScene:()=>SessionRecordingsPlaylistScene,scene:()=>scene});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_EditableField_EditableField__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/components/EditableField/EditableField.tsx"),lib_components_NotFound__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/NotFound/index.tsx"),lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),lib_components_UserActivityIndicator_UserActivityIndicator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),lib_dayjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/dayjs.ts"),lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/More.tsx"),lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSkeleton/index.ts"),scenes_session_recordings_player_playerSettingsLogic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/session-recordings/player/playerSettingsLogic.ts"),_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/scenes/session-recordings/utils.ts"),_SessionRecordingsPlaylist__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx"),_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistLogic.ts"),_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/scenes/session-recordings/playlist/sessionRecordingsPlaylistSceneLogic.ts"),_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../frontend/src/layout/scenes/SceneLayout.tsx"),lib_components_Scenes_SceneCommonButtons__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneCommonButtons.tsx"),lib_components_Scenes_SceneFile__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneFile.tsx"),lib_components_Scenes_SceneUpdateActivityInfo__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneUpdateActivityInfo.tsx"),lib_components_Scenes_SceneMetalyticsSummaryButton__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneMetalyticsSummaryButton.tsx"),lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),lib_components_Scenes_SceneDescription__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneDescription.tsx"),lib_components_Scenes_SceneName__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../frontend/src/lib/components/Scenes/SceneName.tsx"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../frontend/src/lib/constants.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let RESOURCE_TYPE="replay-collection",scene={component:SessionRecordingsPlaylistScene,logic:_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_13__.p,paramsToProps:_ref=>{let{params:{id}}=_ref;return{shortId:id}},settingSectionId:"environment-replay"};function SessionRecordingsPlaylistScene(){let{playlist,playlistLoading,pinnedRecordings,hasChanges}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_13__.p),{setFilters,updatePlaylist,duplicatePlaylist,deletePlaylist,onPinnedChange}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_sessionRecordingsPlaylistSceneLogic__WEBPACK_IMPORTED_MODULE_13__.p),{showFilters}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(scenes_session_recordings_player_playerSettingsLogic__WEBPACK_IMPORTED_MODULE_9__.N),{setShowFilters}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(scenes_session_recordings_player_playerSettingsLogic__WEBPACK_IMPORTED_MODULE_9__.N),{featureFlags}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_22__.featureFlagLogic),newSceneLayout=featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_23__.y8.NEW_SCENE_LAYOUT];return playlistLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"deprecated-space-y-4 mt-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y,{className:"h-10 w-1/4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y,{className:"h-4 w-1/3"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y,{className:"h-4 w-1/4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y.Button,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y.Button,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y.Button,{})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex justify-between gap-4 mt-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"deprecated-space-y-8 w-1/4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonSkeleton__WEBPACK_IMPORTED_MODULE_8__.y,{className:"h-10",repeat:10})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"flex-1"})]})]}):playlist?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"-mb-14",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_4__.m,{buttons:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[!newSceneLayout&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_7__.T,{overlay:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{onClick:()=>duplicatePlaylist(),fullWidth:!0,"data-attr":"duplicate-playlist",children:"Duplicate"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{onClick:()=>updatePlaylist({short_id:playlist.short_id,pinned:!playlist.pinned}),fullWidth:!0,children:playlist.pinned?"Unpin collection":"Pin collection"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.p2,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{status:"danger",onClick:()=>deletePlaylist(),fullWidth:!0,children:"Delete collection"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.p2,{vertical:!0})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{type:"primary",disabledReason:showFilters&&!hasChanges?"No changes to save":void 0,loading:hasChanges&&playlistLoading,onClick:()=>{showFilters?updatePlaylist():setShowFilters(!showFilters)},children:showFilters?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.Fragment,{children:"Save changes"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.Fragment,{children:"Edit"})})]}),caption:!newSceneLayout&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_EditableField_EditableField__WEBPACK_IMPORTED_MODULE_2__.f,{multiline:!0,name:"description",markdown:!0,value:playlist.description||"",placeholder:"Description (optional)",onSave:value=>updatePlaylist({description:value}),saveOnBlur:!0,maxLength:400,"data-attr":"playlist-description",compactButtons:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_UserActivityIndicator_UserActivityIndicator__WEBPACK_IMPORTED_MODULE_5__.F,{at:playlist.last_modified_at,by:playlist.last_modified_by,className:"mt-2"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_14__.kI,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_14__.DX,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_Scenes_SceneCommonButtons__WEBPACK_IMPORTED_MODULE_15__.O,{dataAttrKey:RESOURCE_TYPE,duplicate:{onClick:()=>duplicatePlaylist()},pinned:{active:playlist.pinned,onClick:()=>updatePlaylist({pinned:!playlist.pinned})}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_14__.be,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_Scenes_SceneName__WEBPACK_IMPORTED_MODULE_21__.n,{defaultValue:playlist.name||"",onSave:value=>updatePlaylist({name:value}),dataAttrKey:RESOURCE_TYPE}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_Scenes_SceneDescription__WEBPACK_IMPORTED_MODULE_20__.I,{defaultValue:playlist.description||"",onSave:value=>updatePlaylist({description:value}),dataAttrKey:RESOURCE_TYPE,optional:!0,markdown:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_Scenes_SceneFile__WEBPACK_IMPORTED_MODULE_16__.z,{dataAttrKey:RESOURCE_TYPE}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_Scenes_SceneUpdateActivityInfo__WEBPACK_IMPORTED_MODULE_17__.T,{at:playlist.last_modified_at,by:playlist.last_modified_by,prefix:"Last modified"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_14__.bI,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsxs)(_layout_scenes_SceneLayout__WEBPACK_IMPORTED_MODULE_14__.kf,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_Scenes_SceneMetalyticsSummaryButton__WEBPACK_IMPORTED_MODULE_18__.B,{dataAttrKey:RESOURCE_TYPE}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_19__.hL,{variant:"danger",onClick:()=>deletePlaylist(),menuItem:!0,children:"Delete collection"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)("div",{className:"SessionRecordingPlaylistHeightWrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(_SessionRecordingsPlaylist__WEBPACK_IMPORTED_MODULE_11__.m,{logicKey:playlist.short_id,filters:playlist.filters&&(0,_utils__WEBPACK_IMPORTED_MODULE_10__.$U)(playlist.filters)?playlist.filters:(0,_sessionRecordingsPlaylistLogic__WEBPACK_IMPORTED_MODULE_12__.pr)({},playlist.filters),onFiltersChange:setFilters,onPinnedChange:onPinnedChange,pinnedRecordings:null!=pinnedRecordings?pinnedRecordings:[],canMixFiltersAndPinned:(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(playlist.created_at).isBefore("2025-03-11"),updateSearchParams:!0,type:"collection"})})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_24__.jsx)(lib_components_NotFound__WEBPACK_IMPORTED_MODULE_3__.T,{object:"Recording Playlist"})}}}]);