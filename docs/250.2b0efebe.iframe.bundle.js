(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{"./frontend/src/scenes/insights/InsightRouter.tsx":function(S,d,e){"use strict";e.r(d),e.d(d,"InsightRouter",function(){return x}),e.d(d,"scene",function(){return P});var r=e("./node_modules/antd/es/skeleton/index.js"),m=e("./node_modules/antd/es/card/index.js"),p=e("./node_modules/antd/es/row/index.js"),g=e("./node_modules/antd/es/col/index.js"),v=e("./node_modules/kea/lib/index.esm.js"),L=e("./frontend/src/lib/components/NotFound/index.tsx"),R=e("./node_modules/react/index.js"),t=e.n(R),D=e("./node_modules/core-js/modules/es.array.concat.js"),H=e("./node_modules/core-js/modules/es.array.iterator.js"),$=e("./node_modules/core-js/modules/es.function.name.js"),z=e("./node_modules/core-js/modules/es.object.to-string.js"),B=e("./node_modules/core-js/modules/es.regexp.exec.js"),C=e("./node_modules/core-js/modules/es.string.replace.js"),K=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),U=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),V=e.n(U),F=e("./node_modules/@babel/runtime/regenerator/index.js"),h=e.n(F),M=e("./node_modules/regenerator-runtime/runtime.js"),A=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),G=e.n(A),N=e("./frontend/src/lib/api.ts"),O=e("./frontend/src/scenes/teamLogic.tsx"),f=e("./frontend/src/lib/utils/eventUsageLogic.ts"),j=e("./node_modules/kea-router/lib/index.js"),E=e("./frontend/src/scenes/urls.ts"),I=Object(v.kea)({path:["scenes","insights","insightRouterLogic"],actions:{loadInsight:function(n){return{id:n}},setError:!0},reducers:{error:[!1,{setError:function(){return!0}}]},listeners:function(n){var i=n.actions;return{loadInsight:function(){var c=G()(h.a.mark(function y(J){var T,u,s;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return T=J.id,a.next=3,N.a.get("api/projects/".concat(O.a.values.currentTeamId,"/insights/?short_id=").concat(T));case 3:u=a.sent,u.results.length?(s=u.results[0],f.f.actions.reportInsightShortUrlVisited(!0,s.filters.insight||null),j.router.actions.replace(Object(j.combineUrl)(E.a.insightView(s.short_id,s.filters),void 0,{fromItemName:s.name,fromDashboard:s.dashboard,id:s.short_id}).url)):(f.f.actions.reportInsightShortUrlVisited(!1,null),i.setError());case 5:case"end":return a.stop()}},y)}));function l(y){return c.apply(this,arguments)}return l}()}},urlToAction:function(n){var i=n.actions;return V()({},E.a.insightRouter(":shortId"),function(c){var l=c.shortId;l&&i.loadInsight(l)})}});function x(){var o=Object(v.useValues)(I),n=o.error;return t.a.createElement(t.a.Fragment,null,n?t.a.createElement(L.a,{object:"insight"}):t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{active:!0,paragraph:{rows:0}}),t.a.createElement(m.a,null,t.a.createElement(p.a,{gutter:16},t.a.createElement(g.a,{md:18},t.a.createElement(r.a,{active:!0})),t.a.createElement(g.a,{md:6,style:{textAlign:"center"}},t.a.createElement(r.a,{active:!0,paragraph:{rows:0}}),t.a.createElement(r.a,{active:!0,paragraph:{rows:0}}),t.a.createElement(r.a,{active:!0,paragraph:{rows:0}})))),t.a.createElement(m.a,{style:{minHeight:600,marginTop:16}})))}var P={component:x,logic:I}}}]);
