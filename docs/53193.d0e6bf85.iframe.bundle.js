(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[53193],{"../../frontend/src/scenes/project-homepage/ProjectHomepage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProjectHomepage:()=>ProjectHomepage_ProjectHomepage,scene:()=>scene}),__webpack_require__("../../frontend/src/scenes/project-homepage/ProjectHomepage.scss");var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.22.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),PageHeader=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),clsx_m=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SceneIcon(props){let className=(0,clsx_m.default)("text-warning","small"===props.size?"text-lg":"text-3xl");return props.scene===sceneTypes.x.ProjectHomepage?(0,jsx_runtime.jsx)(posthog_icons_es.IconHome,{className:className}):props.scene===sceneTypes.x.Group||props.scene===sceneTypes.x.Person?(0,jsx_runtime.jsx)(posthog_icons_es.IconPerson,{className:className}):null}var LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonModal=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonModal/index.ts"),LemonRow=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonRow/index.ts"),LemonSkeleton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSkeleton/index.ts"),dashboardsModel=__webpack_require__("../../frontend/src/models/dashboardsModel.tsx"),fuse_esm=__webpack_require__("../../node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),eventUsageLogic=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),dist_module=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.256.0_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),teamLogic=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts");let sceneDescription={[sceneTypes.x.Person]:"persons",[sceneTypes.x.Group]:"groups",[sceneTypes.x.ProjectHomepage]:"this project"},sceneDashboardChoiceModalLogic=(0,index_esm.kea)([(0,index_esm.path)(key=>["lib","components","SceneDashboardChoice","sceneDashboardChoiceModalLogic",key||"unknown"]),(0,index_esm.props)({}),(0,index_esm.key)(props=>`${props.scene}`),(0,index_esm.connect)(()=>({logic:[eventUsageLogic.vx],actions:[teamLogic.teamLogic,["updateCurrentTeam"],userLogic.userLogic,["setUserScenePersonalisation"]],values:[teamLogic.teamLogic,["currentTeam"],userLogic.userLogic,["user"],dashboardsModel.h,["nameSortedDashboards"]]})),(0,index_esm.actions)({showSceneDashboardChoiceModal:()=>!0,closeSceneDashboardChoiceModal:()=>!0,setSceneDashboardChoice:dashboardId=>({dashboardId}),setSearchTerm:searchTerm=>({searchTerm})}),(0,index_esm.reducers)({searchTerm:[null,{setSearchTerm:(_,_ref)=>{let{searchTerm}=_ref;return searchTerm}}],isOpen:[!1,{showSceneDashboardChoiceModal:()=>!0,closeSceneDashboardChoiceModal:()=>!1}]}),(0,index_esm.selectors)(_ref2=>{let{props}=_ref2;return{currentDashboardId:[s=>[s.currentTeam,s.user],(currentTeam,user)=>{var _ref3;let currentDashboard=user?.scene_personalisation?.find(choice=>choice.scene===props.scene)?.dashboard;return currentDashboard||props.scene!==sceneTypes.x.ProjectHomepage||(currentDashboard=currentTeam?.primary_dashboard),null!==(_ref3="number"==typeof currentDashboard?currentDashboard:currentDashboard?.id)&&void 0!==_ref3?_ref3:null}],dashboards:[s=>[s.searchTerm,s.nameSortedDashboards],(searchTerm,dashboards)=>(dashboards=dashboards.filter(d=>!d.deleted).sort((a,b)=>{var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")}),searchTerm)?new fuse_esm.Z(dashboards,{keys:["key","name","description","tags"],threshold:.3}).search(searchTerm).map(result=>result.item):dashboards]}}),(0,index_esm.listeners)(_ref4=>{let{actions,props}=_ref4;return{setSceneDashboardChoice:async _ref5=>{let{dashboardId}=_ref5;props.scene===sceneTypes.x.ProjectHomepage?(actions.updateCurrentTeam({primary_dashboard:dashboardId}),dist_module.ZP.capture("primary dashboard changed")):(actions.setUserScenePersonalisation(props.scene,dashboardId),dist_module.ZP.capture("scene dashboard choice set",{scene:props.scene,dashboardId:dashboardId}))},showSceneDashboardChoiceModal:async()=>{props.scene===sceneTypes.x.ProjectHomepage?dist_module.ZP.capture("primary dashboard modal opened"):dist_module.ZP.capture("scene dashboard choice modal opened",{scene:props.scene})}}})]);function SceneDashboardChoiceModal(_ref){let{scene}=_ref,modalLogic=sceneDashboardChoiceModalLogic({scene}),{isOpen,currentDashboardId,dashboards,searchTerm}=(0,index_esm.useValues)(modalLogic),{closeSceneDashboardChoiceModal,setSceneDashboardChoice,setSearchTerm}=(0,index_esm.useActions)(modalLogic),{dashboardsLoading}=(0,index_esm.useValues)(dashboardsModel.h);return(0,jsx_runtime.jsx)(LemonModal.f,{isOpen:isOpen,onClose:closeSceneDashboardChoiceModal,title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Select a default dashboard for ",sceneDescription[scene]]}),footer:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary","data-attr":"close-scene-dashboard-choice-modal",onClick:closeSceneDashboardChoiceModal,children:"Close"})}),children:dashboardsLoading?(0,jsx_runtime.jsx)("div",{className:"deprecated-space-y-2",children:(0,jsx_runtime.jsx)(LemonSkeleton.y.Row,{repeat:4})}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search for dashboards",onChange:setSearchTerm,value:null!=searchTerm?searchTerm:void 0,fullWidth:!0,allowClear:!0,className:"mb-4"}),(0,jsx_runtime.jsx)(src.p2,{}),(0,jsx_runtime.jsx)("div",{className:"deprecated-space-y-2 min-h-100",children:dashboards.map(dashboard=>{let isCurrentChoice=dashboard.id===currentDashboardId,rowContents=(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 items-center justify-between overflow-hidden",children:[(0,jsx_runtime.jsxs)("div",{className:"flex-1 flex flex-col justify-center overflow-hidden",children:[(0,jsx_runtime.jsx)("strong",{children:dashboard.name}),(0,jsx_runtime.jsx)("span",{className:"text-text-3000 font-normal text-ellipsis",children:dashboard.description})]}),isCurrentChoice?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SceneIcon,{scene:scene,size:"small"})," ",(0,jsx_runtime.jsx)("span",{children:"Default"})]}):(0,jsx_runtime.jsx)("strong",{className:"set-default-text",children:"Set as default"})]});return isCurrentChoice?(0,jsx_runtime.jsx)(LemonRow.Q,{fullWidth:!0,status:"muted",className:"dashboard-row",children:rowContents},dashboard.id):(0,jsx_runtime.jsx)(LemonButton.J,{fullWidth:!0,className:"dashboard-row",onClick:()=>{setSceneDashboardChoice(dashboard.id),setSearchTerm(""),closeSceneDashboardChoiceModal()},children:rowContents},dashboard.id)})})]})})}function SceneDashboardChoiceRequired(props){return(0,jsx_runtime.jsxs)("div",{className:"empty-state-container flex flex-col items-center",children:[(0,jsx_runtime.jsxs)("h1",{children:[(0,jsx_runtime.jsx)(SceneIcon,{scene:props.scene,size:"large"})," There isn’t a"," ",props.scene===sceneTypes.x.ProjectHomepage?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"default "}):null,"dashboard set for"," ",sceneDescription[props.scene]]}),props.scene===sceneTypes.x.ProjectHomepage?(0,jsx_runtime.jsx)("p",{className:"mb-4",children:"Default dashboards are shown to everyone in the project. When you set a default, it’ll show up here."}):null,(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary","data-attr":`${props.scene}-choose-dashboard-from-empty`,onClick:props.open,children:"Select a dashboard"})]})}var constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),LemonDivider=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),Dashboard=__webpack_require__("../../frontend/src/scenes/dashboard/Dashboard.tsx"),dashboardLogic=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardLogic.tsx"),projectHomepageLogic=__webpack_require__("../../frontend/src/scenes/project-homepage/projectHomepageLogic.tsx"),inviteLogic=__webpack_require__("../../frontend/src/scenes/settings/organization/inviteLogic.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),stories=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.4_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/layout/navigation/PosthogStories/stories.scss"),stories_default=__webpack_require__.n(stories),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(stories_default(),options),stories_default().locals;var lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js");let StoryType=function(StoryType){return StoryType.Image="image",StoryType.Video="video",StoryType.Overlay="overlay",StoryType}({}),CloseOverlayAction=function(CloseOverlayAction){return CloseOverlayAction.Overlay="overlay",CloseOverlayAction.Modal="modal",CloseOverlayAction.Next="next",CloseOverlayAction.Previous="previous",CloseOverlayAction}({}),ArrowIcon=function(ArrowIcon){return ArrowIcon.Right="right",ArrowIcon.Up="up",ArrowIcon}({}),storiesMap=[{id:"changelog",title:"Changelog",stories:[{id:"changelog_save_filters_replay_1",title:"Changelog",description:"Save filters for session replay",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_phone_9f7523e1a8.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/video/upload/changelog_save_filters_replay_wide_684b8b7844_82b2ffd07c.mp4",type:StoryType.Video},{id:"changelog_linear_share_1",title:"Changelog",description:"Share session replays on Linear",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_phone_9f7523e1a8.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/video/upload/changelog_linear_share_wide_0d3520bba5_64049c56b6.mp4",type:StoryType.Video},{id:"overlay_example",title:"Changelog",description:"New feature showcase with component overlay",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_phone_9f7523e1a8.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/changelog_cta_f8c6037283.png",type:StoryType.Image,seeMoreLink:"https://posthog.com/changelog",seeMoreOptions:{backgroundColor:"black"}}]},{id:"toolbar",title:"Toolbar",stories:[{id:"toolbar_overview_1",title:"Toolbar",description:"Overview of the toolbar",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/video/upload/toolbar_wide_5df781bfb4_e455df0d27.mp4",type:StoryType.Video,durationMs:41e3},{id:"toolbar_actions_1",title:"Toolbar",description:"Create actions",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/video/upload/toolbar_actions_wide_fbe2f78e7e_e60dd23156.mp4",type:StoryType.Video,durationMs:45e3},{id:"toolbar_inspect_1",title:"Toolbar",description:"Inspect elements",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_inspect_a284324d14_24631f27fd.png",type:StoryType.Image},{id:"toolbar_heatmap_1",title:"Toolbar",description:"View heatmaps",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_heatmap_460f46f86b_04862b4e0a.png",type:StoryType.Image},{id:"toolbar_feature_flags_1",title:"Toolbar",description:"Flip feature flags",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_feature_flags_31802301a3_41dacb9996.png",type:StoryType.Image},{id:"toolbar_events_1",title:"Toolbar",description:"Debug events",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_debug_events_90dcef3c7b_b7564ce9af.png",type:StoryType.Image},{id:"toolbar_web_vitals_1",title:"Toolbar",description:"Check web vitals",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_web_vitals_0150d8d8ca_6b9a790fb1.png",type:StoryType.Image},{id:"toolbar_experiments_1",title:"Toolbar",description:"Create experiments",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_experiments_6745bae143_b82232edde.png",type:StoryType.Image},{id:"cool_features_1",title:"Toolbar",description:"Check out hedgehog mode!",thumbnailUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/hoggie_builder_dc64451e64.png",mediaUrl:"https://res.cloudinary.com/dmukukwp6/image/upload/toolbar_cool_features_357aa7fc36_dc294f7fca.png",type:StoryType.Image}]}],STORAGE_KEY="posthog_stories_viewed",storiesLogic=(0,index_esm.kea)([(0,index_esm.path)(["layout","navigation","PosthogStories","storiesLogic"]),(0,index_esm.actions)({setActiveGroupIndex:groupIndex=>({groupIndex}),setActiveStoryIndex:storyIndex=>({storyIndex}),setOpenStoriesModal:openStoriesModal=>({openStoriesModal}),markStoryAsViewed:storyId=>({storyId}),loadViewedStories:!0,toggleStoriesCollapsed:!0,setInitialCollapsedState:collapsed=>({collapsed})}),(0,lib.loaders)(()=>({viewedStories:[{storyIds:[]},{loadViewedStories:async()=>{try{let stored=localStorage.getItem(STORAGE_KEY);return stored?JSON.parse(stored):{storyIds:[]}}catch{return{storyIds:[]}}}}]})),(0,index_esm.reducers)({stories:[storiesMap],openStoriesModalValue:[!1,{setOpenStoriesModal:(_,_ref)=>{let{openStoriesModal}=_ref;return openStoriesModal}}],activeGroupIndexValue:[0,{setActiveGroupIndex:(_,_ref2)=>{let{groupIndex}=_ref2;return groupIndex}}],activeStoryIndexValue:[0,{setActiveStoryIndex:(_,_ref3)=>{let{storyIndex}=_ref3;return storyIndex}}],storiesCollapsedValue:[!0,{toggleStoriesCollapsed:state=>!state,setInitialCollapsedState:(_,_ref4)=>{let{collapsed}=_ref4;return collapsed}}]}),(0,index_esm.listeners)(_ref5=>{let{actions,values}=_ref5;return{markStoryAsViewed:async _ref6=>{let{storyId}=_ref6,current=values.viewedStories;if(!current.storyIds.includes(storyId)){let updated={...current,storyIds:[...current.storyIds,storyId]};localStorage.setItem(STORAGE_KEY,JSON.stringify(updated)),actions.loadViewedStories()}},loadViewedStoriesSuccess:()=>{!0===values.storiesCollapsedValue&&actions.setInitialCollapsedState(!values.hasUnseenStories)}}}),(0,index_esm.selectors)({activeGroup:[s=>[s.stories,s.activeGroupIndex],(stories,activeGroupIndex)=>stories[activeGroupIndex]||null],activeStory:[s=>[s.activeGroup,s.activeStoryIndex],(activeGroup,activeStoryIndex)=>activeGroup?.stories[activeStoryIndex]||null],openStoriesModal:[s=>[s.openStoriesModalValue],openStoriesModalValue=>openStoriesModalValue],activeGroupIndex:[s=>[s.activeGroupIndexValue],activeGroupIndexValue=>activeGroupIndexValue],activeStoryIndex:[s=>[s.activeStoryIndexValue],activeStoryIndexValue=>activeStoryIndexValue],storiesCollapsed:[s=>[s.storiesCollapsedValue],storiesCollapsedValue=>storiesCollapsedValue],hasUnseenStories:[s=>[s.stories,s.viewedStories],(stories,viewedStories)=>stories.some(storyGroup=>storyGroup.stories.some(story=>!viewedStories.storyIds.includes(story.id)))],isStoryViewed:[s=>[s.viewedStories],viewedStories=>storyId=>viewedStories.storyIds.includes(storyId)]}),(0,index_esm.events)(_ref7=>{let{actions}=_ref7;return{afterMount:()=>{actions.loadViewedStories()}}})]);var StoriesModal=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.4_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/layout/navigation/PosthogStories/StoriesModal.scss"),StoriesModal_default=__webpack_require__.n(StoriesModal),StoriesModal_options={};StoriesModal_options.insert="head",StoriesModal_options.singleton=!1,injectStylesIntoStyleTag_default()(StoriesModal_default(),StoriesModal_options),StoriesModal_default().locals;var useWindowSize=__webpack_require__("../../frontend/src/lib/hooks/useWindowSize.ts"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),HoverZone=function(HoverZone){return HoverZone.Left="left",HoverZone.Right="right",HoverZone}(HoverZone||{});let ProgressBar=_ref=>{let{story,isCurrentStory,isCompletedStory,isPaused,videoDuration,defaultInterval,animationKey,onAnimationEnd}=_ref,progressRef=(0,react.useRef)(null),currentDuration=(0,react.useCallback)(()=>story.type===StoryType.Video&&isCurrentStory&&videoDuration?videoDuration:story.duration&&story.duration>0?story.duration:defaultInterval,[story.type,story.duration,isCurrentStory,videoDuration,defaultInterval])(),getProgressBarClasses=(0,react.useCallback)(()=>{let baseClasses="h-full bg-white rounded-full";return isCurrentStory?`${baseClasses} progress-bar-active ${isPaused?"progress-bar-paused":""}`:isCompletedStory?`${baseClasses} w-full`:`${baseClasses} w-0`},[isCurrentStory,isPaused,isCompletedStory]);return(0,jsx_runtime.jsx)("div",{className:"flex-1 h-0.75 bg-white/[0.45] rounded-full overflow-hidden",children:(0,jsx_runtime.jsx)("div",{ref:progressRef,className:getProgressBarClasses(),onAnimationEnd:onAnimationEnd,style:isCurrentStory?{"--duration":`${currentDuration}ms`}:void 0},isCurrentStory?`${animationKey}-progress-${currentDuration}`:"progress")})},StoriesPlayer=_ref2=>{let{stories,defaultInterval,currentIndex,isPaused,onNext,onPrevious,onAllStoriesEnd,onStoryEnd,onStoryStart,onPauseToggle,onClose,width,height}=_ref2,[hoveredZone,setHoveredZone]=(0,react.useState)(null),[videoDuration,setVideoDuration]=(0,react.useState)(null),[animationKey,setAnimationKey]=(0,react.useState)(0),[muted,setMuted]=(0,react.useState)(!1),videoRef=(0,react.useRef)(null),currentStory=stories[currentIndex],containerRef=(0,react.useRef)(null);(0,react.useEffect)(()=>{setVideoDuration(null),setAnimationKey(prev=>prev+1),setMuted(!1),onStoryStart(currentIndex)},[currentIndex,onStoryStart]);let handleVideoLoadedMetadata=(0,react.useCallback)(()=>{videoRef.current&&currentStory?.type===StoryType.Video&&setVideoDuration(1e3*videoRef.current.duration)},[currentStory]),handleVideoLoadedData=(0,react.useCallback)(()=>{videoRef.current&&currentStory?.type===StoryType.Video&&!isPaused&&videoRef.current.play().catch(()=>{setMuted(!0),videoRef.current?.play()})},[currentStory,isPaused]),handleAnimationEnd=(0,react.useCallback)(()=>{currentStory?.type===StoryType.Image&&(onStoryEnd(),currentIndex<stories.length-1?onNext():onAllStoriesEnd())},[currentStory,currentIndex,stories.length,onNext,onStoryEnd,onAllStoriesEnd]);(0,react.useEffect)(()=>{currentStory?.type===StoryType.Video&&videoRef.current&&(isPaused?videoRef.current.pause():videoRef.current.play())},[isPaused,currentStory]);let handleVideoEnd=(0,react.useCallback)(()=>{onStoryEnd(),currentIndex<stories.length-1?onNext():onAllStoriesEnd()},[currentIndex,stories.length,onNext,onStoryEnd,onAllStoriesEnd]);return currentStory?(0,jsx_runtime.jsxs)("div",{ref:containerRef,className:"relative rounded overflow-hidden select-none",style:{width,height},children:[(0,jsx_runtime.jsxs)("div",{className:"absolute top-0 left-0 right-0 z-10 pt-3 px-3 pb-4 bg-gradient-to-b from-black/25 to-transparent",children:[(0,jsx_runtime.jsx)("div",{className:"flex gap-1 mb-2",children:stories.map((story,index)=>{let isCurrentStory=index===currentIndex,isCompletedStory=index<currentIndex;return(0,jsx_runtime.jsx)(ProgressBar,{story:story,isCurrentStory:isCurrentStory,isCompletedStory:isCompletedStory,isPaused:isPaused,videoDuration:videoDuration,defaultInterval:defaultInterval,animationKey:animationKey,onAnimationEnd:isCurrentStory?handleAnimationEnd:void 0},index)})}),(0,jsx_runtime.jsxs)("div",{className:"relative rounded-lg px-1",children:[(0,jsx_runtime.jsx)("div",{className:"absolute top-1 right-1 flex gap-2 z-10",children:(0,jsx_runtime.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),onClose()},className:"text-white hover:text-gray-200 w-8 h-8 flex items-center justify-center transition-all duration-200 cursor-pointer",title:"Close stories",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{className:"w-5 h-5 [&>*]:fill-white"})})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-3 pr-20",children:currentStory.header?(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[currentStory.header.profileImage&&(0,jsx_runtime.jsx)("img",{src:currentStory.header.profileImage,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jsx_runtime.jsx)("div",{className:"text-white text-sm font-semibold truncate drop-shadow-lg",children:currentStory.header.heading}),currentStory.header.subheading&&(0,jsx_runtime.jsx)("div",{className:"text-white text-xs truncate drop-shadow-md",children:currentStory.header.subheading})]})]}):(0,jsx_runtime.jsx)("div",{className:"flex-1"})})]})]}),(0,jsx_runtime.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:currentStory.type===StoryType.Overlay?null:currentStory.type===StoryType.Video?(0,jsx_runtime.jsx)("video",{ref:videoRef,src:currentStory.url,className:"w-full h-full object-contain rounded",autoPlay:!0,muted:muted,playsInline:!0,onEnded:handleVideoEnd,onLoadedMetadata:handleVideoLoadedMetadata,onLoadedData:handleVideoLoadedData,controls:!1}):(0,jsx_runtime.jsx)("img",{src:currentStory.url,alt:"Story content",className:"w-full h-full object-cover"})}),isPaused&&(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10 pointer-events-none",children:(0,jsx_runtime.jsx)("div",{className:"bg-black/50 rounded-full w-12 h-12 flex items-center justify-center backdrop-blur-sm",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconPauseFilled,{className:"w-4 h-4 text-white flex-shrink-0 aspect-square"})})}),currentStory.seeMore&&(0,jsx_runtime.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:(0,jsx_runtime.jsxs)("button",{onClick:e=>{e.stopPropagation(),currentStory.seeMore?.()},className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 cursor-pointer ${currentStory.seeMoreOptions?.textColor==="black"?"text-black/70 hover:text-black":"text-white/70 hover:text-white"} ${currentStory.seeMoreOptions?.backgroundColor==="black"?"bg-black/20 hover:bg-black/30":currentStory.seeMoreOptions?.backgroundColor==="white"?"bg-white/20 hover:bg-white/30":"hover:bg-white/20"}`,role:"button","aria-label":"See more about this story - swipe up for more",children:[(0,jsx_runtime.jsx)("span",{children:currentStory.seeMoreOptions?.text||currentStory.seeMoreText||"See more"}),currentStory.seeMoreOptions?.arrowIcon===ArrowIcon.Up?(0,jsx_runtime.jsx)(posthog_icons_es.IconChevronRight,{className:"w-3 h-3 transform -rotate-90"}):(0,jsx_runtime.jsx)(posthog_icons_es.IconArrowRight,{className:"w-3 h-3"})]})}),(0,jsx_runtime.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,jsx_runtime.jsx)("div",{className:`w-1/5 h-full relative flex items-center justify-start pl-4 ${currentIndex>0?"cursor-pointer":""}`,onMouseEnter:()=>setHoveredZone(HoverZone.Left),onMouseLeave:()=>setHoveredZone(null),onClick:e=>{e.stopPropagation(),currentIndex>0&&onPrevious()},children:currentIndex>0&&(0,jsx_runtime.jsx)("button",{onMouseDown:e=>e.preventDefault(),className:`text-white rounded-full w-8 h-8 flex items-center justify-center transition-all duration-200 z-10 bg-black/30 cursor-pointer select-none ${"left"===hoveredZone?"opacity-100":"opacity-0"}`,title:"Previous story",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconChevronLeft,{className:"w-5 h-5"})})}),(0,jsx_runtime.jsx)("div",{className:"w-3/5 h-full",onMouseEnter:()=>setHoveredZone(null),onClick:e=>{e.stopPropagation(),onPauseToggle()}}),(0,jsx_runtime.jsx)("div",{className:`w-1/5 h-full relative flex items-center justify-end pr-4 ${currentIndex<stories.length-1?"cursor-pointer":""}`,onMouseEnter:()=>setHoveredZone(HoverZone.Right),onMouseLeave:()=>setHoveredZone(null),onClick:e=>{e.stopPropagation(),currentIndex<stories.length-1&&onNext()},children:currentIndex<stories.length-1&&(0,jsx_runtime.jsx)("button",{onMouseDown:e=>e.preventDefault(),className:`text-white rounded-full w-8 h-8 flex items-center justify-center transition-all duration-200 z-10 bg-black/30 cursor-pointer select-none ${"right"===hoveredZone?"opacity-100":"opacity-0"}`,title:"Next story",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconChevronRight,{className:"w-5 h-5"})})})]})]}):(0,jsx_runtime.jsx)("div",{children:"No story to display"})},ASPECT_RATIO=16/9,StoriesModal_StoriesModal=()=>{let{windowSize}=(0,useWindowSize.i)(),{openStoriesModal,stories:storyGroups,activeGroupIndex,activeGroup,activeStoryIndex,activeStory}=(0,index_esm.useValues)(storiesLogic),{setOpenStoriesModal,setActiveStoryIndex,setActiveGroupIndex,markStoryAsViewed}=(0,index_esm.useActions)(storiesLogic),storyStartTimeRef=(0,react.useRef)(Date.now()),[isPaused,setIsPaused]=(0,react.useState)(!1),[showOverlay,setShowOverlay]=(0,react.useState)(!1),[overlayComponent,setOverlayComponent]=(0,react.useState)(null),[overlayAnimating,setOverlayAnimating]=(0,react.useState)(!1),dimensions=(0,react.useMemo)(()=>{if(!windowSize.width||!windowSize.height)return{width:988,height:988/ASPECT_RATIO};let maxAvailableWidth=Math.min(.9*windowSize.width,854),maxAvailableHeight=Math.min(.9*windowSize.height,854/ASPECT_RATIO),width=maxAvailableWidth,height=width/ASPECT_RATIO;return height>maxAvailableHeight&&(width=(height=maxAvailableHeight)*ASPECT_RATIO),width<320&&(height=(width=320)/ASPECT_RATIO),{width:width=Math.round(width),height:height=Math.round(height)}},[windowSize.width,windowSize.height]);(0,react.useEffect)(()=>{activeStory&&openStoriesModal&&markStoryAsViewed(activeStory.id)},[activeStory,markStoryAsViewed,openStoriesModal]);let maxStoryIndex=(0,react.useMemo)(()=>activeGroup?.stories.length||0,[activeGroup]),isLastStoryGroup=(0,react.useMemo)(()=>activeGroupIndex===storyGroups.length-1,[activeGroupIndex,storyGroups]),sendStoryEndEvent=(0,react.useCallback)((reason,extraProps)=>{let timeSpentMs=Date.now()-storyStartTimeRef.current,props={reason:reason,story_id:activeGroup?.stories[activeStoryIndex].id,story_title:activeGroup?.stories[activeStoryIndex].title,story_thumbnail_url:activeGroup?.stories[activeStoryIndex].thumbnailUrl,story_type:activeGroup?.stories[activeStoryIndex].type,story_group_id:activeGroup?.id,story_group_title:activeGroup?.title,time_spent_ms:timeSpentMs,time_spent_seconds:Math.round(timeSpentMs/1e3),story_watched_percentage:activeStory?.durationMs&&activeStory?.durationMs>0?Math.round(timeSpentMs/activeStory.durationMs*100):void 0,...extraProps};dist_module.ZP.capture("posthog_story_ended",props)},[activeGroup,activeStoryIndex,activeStory]),handleClose=(0,react.useCallback)(forceClose=>{let timeSpentMs=Date.now()-storyStartTimeRef.current;sendStoryEndEvent(forceClose?"force_close":"natural_close"),dist_module.ZP.capture("posthog_story_closed",{reason:forceClose?"force_close":"natural_close",story_id:activeGroup?.stories[activeStoryIndex].id,story_title:activeGroup?.stories[activeStoryIndex].title,story_thumbnail_url:activeGroup?.stories[activeStoryIndex].thumbnailUrl,story_type:activeGroup?.stories[activeStoryIndex].type,story_group_id:activeGroup?.id,story_group_title:activeGroup?.title,time_spent_ms:timeSpentMs,time_spent_seconds:Math.round(timeSpentMs/1e3)}),isLastStoryGroup||forceClose?setOpenStoriesModal(!1):(setActiveGroupIndex(activeGroupIndex+1),setActiveStoryIndex(0))},[setOpenStoriesModal,setActiveStoryIndex,setActiveGroupIndex,isLastStoryGroup,activeGroupIndex,activeGroup,activeStoryIndex,sendStoryEndEvent]),handleStoryStart=(0,react.useCallback)(index=>{storyStartTimeRef.current=Date.now(),dist_module.ZP.capture("posthog_story_started",{event:"started",story_id:activeGroup?.stories[index].id,story_title:activeGroup?.stories[index].title,story_thumbnail_url:activeGroup?.stories[index].thumbnailUrl,story_type:activeGroup?.stories[index].type,story_group_id:activeGroup?.id,story_group_title:activeGroup?.title}),setActiveStoryIndex(index);let story=activeGroup?.stories[index];story?.type===StoryType.Overlay&&story.seeMoreOverlay&&setTimeout(()=>{let closeHandler=action=>{if(setShowOverlay(!1),setOverlayComponent(null),setIsPaused(!1),action===CloseOverlayAction.Modal)setOpenStoriesModal(!1);else if(action===CloseOverlayAction.Next){if(activeGroup&&index<activeGroup.stories.length-1){setActiveStoryIndex(index+1);return}setOpenStoriesModal(!1)}else action===CloseOverlayAction.Previous&&index>0&&setActiveStoryIndex(index-1)};setOverlayComponent(()=>()=>story.seeMoreOverlay(closeHandler)),setShowOverlay(!0),setOverlayAnimating(!0),setIsPaused(!0),setTimeout(()=>setOverlayAnimating(!1),10)},100)},[setActiveStoryIndex,activeGroup,setOverlayComponent,setShowOverlay,setIsPaused,setOpenStoriesModal]),handlePrevious=(0,react.useCallback)(()=>{activeStoryIndex>0&&(sendStoryEndEvent("previous"),setActiveStoryIndex(activeStoryIndex-1),setIsPaused(!1))},[activeStoryIndex,setActiveStoryIndex,sendStoryEndEvent]);(0,react.useEffect)(()=>{openStoriesModal&&setIsPaused(!1)},[openStoriesModal]),(0,react.useEffect)(()=>{setIsPaused(!1),setShowOverlay(!1),setOverlayComponent(null),setOverlayAnimating(!1)},[activeStoryIndex,activeGroupIndex]);let handleOverlayClose=(0,react.useCallback)(action=>{setOverlayAnimating(!0),setTimeout(()=>{if(setShowOverlay(!1),setOverlayComponent(null),setOverlayAnimating(!1),setIsPaused(!1),action===CloseOverlayAction.Modal)sendStoryEndEvent("overlay_close_modal"),setOpenStoriesModal(!1);else if(action===CloseOverlayAction.Next){if(sendStoryEndEvent("overlay_next"),activeStoryIndex<maxStoryIndex-1){setActiveStoryIndex(activeStoryIndex+1);return}setOpenStoriesModal(!1)}else action===CloseOverlayAction.Previous&&(sendStoryEndEvent("overlay_previous"),activeStoryIndex>0&&setActiveStoryIndex(activeStoryIndex-1))},300)},[setOpenStoriesModal,activeStoryIndex,maxStoryIndex,setActiveStoryIndex,sendStoryEndEvent]);if(!openStoriesModal||!activeGroup)return null;let stories=activeGroup.stories.map(story=>({url:story.mediaUrl||"",type:story.type,duration:story.durationMs,header:{heading:story.title,subheading:story.description||"",profileImage:story.thumbnailUrl},seeMore:story.seeMoreLink||story.seeMoreOverlay?()=>(sendStoryEndEvent("see_more"),story.seeMoreOverlay?(setOverlayComponent(()=>()=>story.seeMoreOverlay(handleOverlayClose)),setShowOverlay(!0),setOverlayAnimating(!0),setIsPaused(!0),setTimeout(()=>setOverlayAnimating(!1),10)):story.seeMoreLink&&(window.open(story.seeMoreLink,"_blank"),setIsPaused(!0)),null):void 0,seeMoreOptions:story.seeMoreOptions,preloadResource:!0}));return(0,jsx_runtime.jsx)(LemonModal.f,{isOpen:openStoriesModal,simple:!0,className:"StoriesModal__modal",hideCloseButton:!0,onClose:()=>handleClose(!0),children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col",children:(0,jsx_runtime.jsxs)("div",{className:"relative flex-1 stories-container",children:[(0,jsx_runtime.jsx)(StoriesPlayer,{stories:stories,defaultInterval:4e3,currentIndex:activeStoryIndex,isPaused:isPaused,width:dimensions.width,height:dimensions.height,onNext:()=>{activeGroup?.stories[activeStoryIndex]&&(sendStoryEndEvent("next"),setIsPaused(!1),activeStoryIndex>=maxStoryIndex-1?setOpenStoriesModal(!1):setActiveStoryIndex(activeStoryIndex+1))},onPrevious:()=>{setIsPaused(!1),handlePrevious()},onAllStoriesEnd:()=>handleClose(!1),onStoryEnd:()=>{sendStoryEndEvent("ended_naturally"),activeStoryIndex>=maxStoryIndex-1?setOpenStoriesModal(!1):setActiveStoryIndex(activeStoryIndex+1)},onStoryStart:handleStoryStart,onPauseToggle:()=>setIsPaused(!isPaused),onClose:()=>handleClose(!0)}),(showOverlay||overlayAnimating)&&overlayComponent&&(0,jsx_runtime.jsxs)("div",{className:`absolute inset-0 z-50 bg-white ${overlayAnimating?"overlay-slide-down":"overlay-slide-up"}`,children:[!activeGroup?.stories[activeStoryIndex]?.seeMoreOptions?.hideDefaultClose&&(0,jsx_runtime.jsx)("button",{onClick:()=>handleOverlayClose(),className:"absolute top-4 right-4 z-10 bg-black/20 hover:bg-black/30 text-white rounded-full w-8 h-8 flex items-center justify-center transition-all duration-200 cursor-pointer","aria-label":"Close overlay",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{className:"w-5 h-5"})}),(0,jsx_runtime.jsx)("div",{className:"w-full h-full overflow-auto",children:overlayComponent()})]})]})})})},PosthogStoriesContainer=()=>{let{stories,isStoryViewed,storiesCollapsed}=(0,index_esm.useValues)(storiesLogic),{setActiveGroupIndex,setOpenStoriesModal,setActiveStoryIndex,toggleStoriesCollapsed}=(0,index_esm.useActions)(storiesLogic),sortedStories=[...stories.map(storyGroup=>({...storyGroup,hasViewedEntireGroup:storyGroup.stories.every(story=>isStoryViewed(story.id))}))].sort((a,b)=>a.hasViewedEntireGroup&&!b.hasViewedEntireGroup?1:!a.hasViewedEntireGroup&&b.hasViewedEntireGroup?-1:0);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2 mb-2 px-1",children:(0,jsx_runtime.jsxs)("button",{onClick:toggleStoriesCollapsed,className:"flex items-center gap-2 hover:opacity-70 transition-opacity cursor-pointer",title:storiesCollapsed?"Show stories":"Hide stories",children:[(0,jsx_runtime.jsx)("span",{className:"text-sm font-medium text-text-3000",children:"Video updates"}),(0,jsx_runtime.jsx)(posthog_icons_es.IconChevronRight,{className:`w-3 h-3 opacity-80 transition-transform ${storiesCollapsed?"":"rotate-90"}`})]})}),!storiesCollapsed&&(0,jsx_runtime.jsx)("div",{className:"PosthogStoriesContainer flex flex-row gap-4 px-4 overflow-x-auto",children:sortedStories.map(storyGroup=>{let{hasViewedEntireGroup}=storyGroup,nextStoryIndex=hasViewedEntireGroup?0:storyGroup.stories.findIndex(story=>!isStoryViewed(story.id)),nextStory=storyGroup.stories[nextStoryIndex],originalIndex=stories.findIndex(s=>s.id===storyGroup.id);return(0,jsx_runtime.jsxs)("div",{className:`flex flex-col items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity ${hasViewedEntireGroup?"opacity-75":""}`,onClick:()=>{dist_module.ZP.capture("posthog_story_group_clicked",{story_group_id:storyGroup.id,group_title:storyGroup.title,group_thumbnail_url:nextStory.thumbnailUrl}),setActiveStoryIndex(nextStoryIndex),setActiveGroupIndex(originalIndex),setOpenStoriesModal(!0)},children:[(0,jsx_runtime.jsx)("div",{className:`w-15 h-15 rounded-full relative ${hasViewedEntireGroup?"bg-gray-300 p-[1px]":"bg-orange-500 p-[2px]"}`,children:(0,jsx_runtime.jsx)("div",{className:"w-full h-full rounded-full overflow-hidden bg-bg-light p-[2px]",children:(0,jsx_runtime.jsxs)("div",{className:"w-full h-full rounded-full overflow-hidden relative",children:[(0,jsx_runtime.jsx)("img",{src:nextStory.thumbnailUrl,alt:storyGroup.title,className:"w-full h-full object-cover"}),"video"===nextStory.type&&(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 video-icon",children:(0,jsx_runtime.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{d:"M8 5v14l11-7z"})})})]})})}),(0,jsx_runtime.jsx)("span",{className:"text-xs line-clamp-2 text-center max-w-[64px]",children:storyGroup.title})]},storyGroup.id)})}),(0,jsx_runtime.jsx)(StoriesModal_StoriesModal,{})]})};var types=__webpack_require__("../../frontend/src/types.ts");let scene={component:ProjectHomepage_ProjectHomepage,logic:projectHomepageLogic.I};function ProjectHomepage_ProjectHomepage(){let{dashboardLogicProps}=(0,index_esm.useValues)(projectHomepageLogic.I),{showInviteModal}=(0,index_esm.useActions)(inviteLogic.n),{showSceneDashboardChoiceModal}=(0,index_esm.useActions)(sceneDashboardChoiceModalLogic({scene:sceneTypes.x.ProjectHomepage})),headerButtons=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",size:"small","data-attr":"project-home-customize-homepage",onClick:showSceneDashboardChoiceModal,children:"Customize homepage"}),(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"project-home-invite-team-members",onClick:()=>{showInviteModal()},type:"secondary",children:"Invite members"})]});return(0,jsx_runtime.jsxs)("div",{className:"ProjectHomepage",children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:headerButtons}),dashboardLogicProps?(0,jsx_runtime.jsx)(HomeDashboard,{dashboardLogicProps:dashboardLogicProps}):(0,jsx_runtime.jsx)(SceneDashboardChoiceRequired,{open:()=>{showSceneDashboardChoiceModal()},scene:sceneTypes.x.ProjectHomepage}),(0,jsx_runtime.jsx)(SceneDashboardChoiceModal,{scene:sceneTypes.x.ProjectHomepage})]})}function HomeDashboard(_ref){let{dashboardLogicProps}=_ref,{dashboard}=(0,index_esm.useValues)((0,dashboardLogic.B)(dashboardLogicProps)),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[featureFlags[constants.y8.POSTHOG_STORIES]&&(0,jsx_runtime.jsx)(PosthogStoriesContainer,{}),(0,jsx_runtime.jsx)("div",{className:"ProjectHomepage__dashboardheader",children:(0,jsx_runtime.jsxs)("div",{className:"ProjectHomepage__dashboardheader__title",children:[!dashboard&&(0,jsx_runtime.jsx)(LemonSkeleton.y,{className:"w-20 h-4"}),dashboard?.name&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(src.rU,{className:"font-semibold text-xl text-text-3000",to:urls.j.dashboard(dashboard.id),children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconHome,{className:"mr-2 text-2xl opacity-50"}),dashboard?.name]})})]})}),(0,jsx_runtime.jsx)(LemonDivider.p,{className:"mt-3 mb-4"}),(0,jsx_runtime.jsx)(Dashboard.Dashboard,{id:dashboardLogicProps.id.toString(),placement:types.F4.ProjectHomepage})]})}},"../../frontend/src/scenes/project-homepage/projectHomepageLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>projectHomepageLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/api.ts"),scenes_projectLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/projectLogic.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/utils.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/types.ts");let projectHomepageLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","project-homepage","projectHomepageLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__.teamLogic,["currentTeam"],scenes_projectLogic__WEBPACK_IMPORTED_MODULE_3__.K,["currentProjectId"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({primaryDashboardId:[()=>[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_4__.teamLogic.selectors.currentTeam],currentTeam=>currentTeam?.primary_dashboard],dashboardLogicProps:[s=>[s.primaryDashboardId],primaryDashboardId=>primaryDashboardId?{id:primaryDashboardId,placement:_types__WEBPACK_IMPORTED_MODULE_6__.F4.ProjectHomepage}:null]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref=>{let{values}=_ref;return{recentInsights:[[],{loadRecentInsights:async()=>(await lib_api__WEBPACK_IMPORTED_MODULE_2__.ZP.get(`api/environments/${values.currentProjectId}/insights/my_last_viewed`)).map(legacyInsight=>(0,_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_5__.Q0)(legacyInsight))}]}})])},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.4_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/layout/navigation/PosthogStories/StoriesModal.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".StoriesModal__modal{background:transparent!important;border:none;border-radius:6px;box-shadow:none;min-width:0;overflow:hidden}.StoriesModal__modal .progress-bar-active{animation:StoriesModal__ProgressFill var(--duration,5s) linear forwards;animation-play-state:var(--play-state,running);width:0}.StoriesModal__modal .progress-bar-paused{animation-play-state:paused}.StoriesModal__modal .animate-slide-up{animation:StoriesModal__SlideUp .5s ease-out forwards}.StoriesModal__modal .animate-slide-down{animation:StoriesModal__SlideDown .5s ease-in forwards}.StoriesModal__modal .overlay-slide-up{transform:translateY(0);transition:transform .3s ease-out}.StoriesModal__modal .overlay-slide-down{transform:translateY(100%);transition:transform .3s ease-out}@keyframes StoriesModal__ProgressFill{0%{width:0}to{width:100%}}@keyframes StoriesModal__SlideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes StoriesModal__SlideDown{0%{transform:translateY(0)}to{transform:translateY(100%)}}.LemonModal__overlay:has(.StoriesModal__modal){--modal-backdrop-color:rgba(0,0,0,.5)!important}",""]),module.exports=exports},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.4_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/layout/navigation/PosthogStories/stories.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".PosthogStoriesContainer{overflow-x:auto;scrollbar-width:none}.PosthogStoriesContainer::-webkit-scrollbar{display:none}.video-icon{opacity:0;transition:opacity .3s ease}.video-icon:hover{opacity:1}@media(prefers-reduced-motion:reduce){.video-icon{transition:none}}",""]),module.exports=exports},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.4_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/project-homepage/ProjectHomepage.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ProjectHomepage{container-type:inline-size}.ProjectHomepage .ProjectHomepage__dashboardheader{align-items:center;display:flex;justify-content:space-between;margin-top:1rem}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title{align-items:center;display:flex;flex-direction:row}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a{color:var(--text-3000)}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a:hover{color:var(--accent)}.ProjectHomepage .ProjectHomepage__lists{display:flex;gap:1rem}@container (max-width: 800px){.ProjectHomepage .ProjectHomepage__lists{flex-direction:column}}.ProjectHomepage .empty-state-container{align-items:center;background-color:var(--bg-primary);display:flex;flex-direction:column;justify-content:center;padding:4rem;width:100%}",""]),module.exports=exports},"../../frontend/src/scenes/project-homepage/ProjectHomepage.scss":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_4_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.4_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/project-homepage/ProjectHomepage.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_4_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_4_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__),options={};options.insert="head",options.singleton=!1,_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_4_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default(),options),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_4_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default().locals}}]);