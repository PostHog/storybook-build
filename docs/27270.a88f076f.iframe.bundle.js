"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[27270],{"../../frontend/src/scenes/error-tracking/AssigneeSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>AssigneeSelect});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.11.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_AssigneeDisplay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/error-tracking/AssigneeDisplay.tsx"),_assigneeSelectLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/error-tracking/assigneeSelectLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let AssigneeSelect=_ref=>{let{assignee,onChange,showName=!1,showIcon=!0,unassignedLabel="Unassigned",...buttonProps}=_ref,{search,groupOptions,memberOptions,userGroupsLoading,membersLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_assigneeSelectLogic__WEBPACK_IMPORTED_MODULE_6__.q),{setSearch,ensureAssigneeTypesLoaded}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(_assigneeSelectLogic__WEBPACK_IMPORTED_MODULE_6__.q),[showPopover,setShowPopover]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),_onChange=value=>{setSearch(""),setShowPopover(!1),onChange(value)};return(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{ensureAssigneeTypesLoaded()},[ensureAssigneeTypesLoaded]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Qw,{closeOnClickInside:!1,visible:showPopover,matchWidth:!1,onVisibilityChange:visible=>setShowPopover(visible),overlay:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"max-w-100 deprecated-space-y-2 overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.DF,{type:"search",placeholder:"Search",autoFocus:!0,value:search,onChange:setSearch,fullWidth:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("ul",{className:"deprecated-space-y-2",children:[assignee&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{fullWidth:!0,role:"menuitem",size:"small",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconX,{}),onClick:()=>_onChange(null),children:"Remove assignee"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Section,{title:"Groups",loading:userGroupsLoading,search:!!search,type:"user_group",items:groupOptions,onSelect:_onChange,activeId:assignee?.id,emptyState:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{fullWidth:!0,size:"small",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconPlusSmall,{}),to:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.settings("environment-error-tracking","user-groups"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"text-secondary",children:"Create user group"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Section,{title:"Users",loading:membersLoading,search:!!search,type:"user",items:memberOptions,onSelect:_onChange,activeId:assignee?.id})]})]}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_AssigneeDisplay__WEBPACK_IMPORTED_MODULE_5__.p,{assignee:assignee,children:_ref2=>{let{displayAssignee}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{tooltip:displayAssignee.displayName,icon:showIcon?displayAssignee.icon:null,...buttonProps,children:showName?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"pl-1",children:"unassigned"===displayAssignee.id?unassignedLabel:displayAssignee.displayName}):null})}})})})},Section=_ref3=>{let{loading,search,type,items,onSelect,activeId,emptyState,title}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("section",{className:"deprecated-space-y-px",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h5",{className:"mx-2 my-0.5",children:title}),items.map(item=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{fullWidth:!0,role:"menuitem",size:"small",icon:item.icon,onClick:()=>onSelect(activeId===item.id?null:{type,id:item.id}),active:activeId===item.id,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"flex items-center justify-between gap-2 flex-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{children:item.displayName})})})},item.id)),loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"p-2 text-secondary italic truncate border-t",children:"Loading..."}):0===items.length?search?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"p-2 text-secondary italic truncate border-t",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{children:"No matches"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"border-t pt-1",children:emptyState}):null]})})}},"../../frontend/src/scenes/error-tracking/ErrorTrackingFilters.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Tc:()=>InternalAccountsFilter,e_:()=>FilterGroup,n_:()=>ErrorTrackingFilters,rQ:()=>DateRangeFilter});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/components/DateFilter/DateFilter.tsx"),lib_components_TaxonomicFilter_InfiniteSelectResults__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/InfiniteSelectResults.tsx"),lib_components_TaxonomicFilter_TaxonomicFilter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),lib_components_TaxonomicFilter_taxonomicFilterLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/taxonomicFilterLogic.tsx"),lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/types.ts"),lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/components/UniversalFilters/UniversalFilters.tsx"),lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/components/UniversalFilters/universalFiltersLogic.ts"),lib_components_UniversalFilters_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/lib/components/UniversalFilters/utils.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/lib/utils.tsx"),lib_utils_css_classes__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../frontend/src/lib/utils/css-classes.ts"),react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/scenes/insights/filters/TestAccountFilter/index.ts"),_types__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/types.ts"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let errorTrackingDateOptions=lib_utils__WEBPACK_IMPORTED_MODULE_10__.bE.filter(dm=>"Yesterday"!=dm.key),taxonomicFilterLogicKey="error-tracking",taxonomicGroupTypes=[lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_6__.t.EventProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_6__.t.PersonProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_6__.t.Cohorts,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_6__.t.HogQLExpression],ErrorTrackingFilters=_ref=>{let{children}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"space-y-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{className:"flex gap-2 items-center",children:children})})},FilterGroup=()=>{let{filterGroup}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT),{setFilterGroup}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_7__.Z,{rootKey:taxonomicFilterLogicKey,group:filterGroup.values[0],taxonomicGroupTypes:taxonomicGroupTypes,onChange:group=>setFilterGroup({type:_types__WEBPACK_IMPORTED_MODULE_13__.J2.And,values:[group]}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(UniversalSearch,{})})},UniversalSearch=()=>{let[visible,setVisible]=(0,react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1),{searchQuery}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT),{setSearchQuery}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT),{addGroupFilter}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_8__.d),searchInputRef=(0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null),floatingRef=(0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null),onClose=query=>{searchInputRef.current?.blur(),setVisible(!1),setSearchQuery(query)},taxonomicFilterLogicProps={taxonomicFilterLogicKey,taxonomicGroupTypes,onChange:(taxonomicGroup,value,item,originalQuery)=>{searchInputRef.current?.blur(),setVisible(!1),addGroupFilter(taxonomicGroup,value,item,originalQuery)},onEnter:onClose,autoSelectItem:!1,initialSearchQuery:searchQuery};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(kea__WEBPACK_IMPORTED_MODULE_1__.BindLogic,{logic:lib_components_TaxonomicFilter_taxonomicFilterLogic__WEBPACK_IMPORTED_MODULE_5__.aS,props:taxonomicFilterLogicProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Qw,{overlay:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_TaxonomicFilter_InfiniteSelectResults__WEBPACK_IMPORTED_MODULE_3__.Q,{focusInput:()=>searchInputRef.current?.focus(),taxonomicFilterLogicProps:taxonomicFilterLogicProps,popupAnchorElement:floatingRef.current,useVerticalLayout:!0}),matchWidth:!0,visible:visible,closeOnClickInside:!1,floatingRef:floatingRef,onClickOutside:()=>onClose(""),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_TaxonomicFilter_TaxonomicFilter__WEBPACK_IMPORTED_MODULE_4__.N,{prefix:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(RecordingsUniversalFilterGroup,{}),onClick:()=>setVisible(!0),searchInputRef:searchInputRef,onClose:()=>onClose(""),size:"small",fullWidth:!0})})})},RecordingsUniversalFilterGroup=()=>{let{filterGroup}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_8__.d),{replaceGroupValue,removeGroupValue}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(lib_components_UniversalFilters_universalFiltersLogic__WEBPACK_IMPORTED_MODULE_8__.d),[allowInitiallyOpen,setAllowInitiallyOpen]=(0,react__WEBPACK_IMPORTED_MODULE_11__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(()=>{setAllowInitiallyOpen(!0)},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.Fragment,{children:filterGroup.values.map((filterOrGroup,index)=>(0,lib_components_UniversalFilters_utils__WEBPACK_IMPORTED_MODULE_9__.pU)(filterOrGroup)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_7__.Z.Group,{index:index,group:filterOrGroup,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(UniversalSearch,{})},index):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_UniversalFilters_UniversalFilters__WEBPACK_IMPORTED_MODULE_7__.Z.Value,{index:index,filter:filterOrGroup,onRemove:()=>removeGroupValue(index),onChange:value=>replaceGroupValue(index,value),initiallyOpen:allowInitiallyOpen},index))})},DateRangeFilter=_ref2=>{let{className,fullWidth=!1,size="small"}=_ref2,{dateRange}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT),{setDateRange}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("span",{className:(0,lib_utils_css_classes__WEBPACK_IMPORTED_MODULE_16__.cn)("rounded bg-surface-primary",className),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_2__.f,{size:size,dateFrom:dateRange.date_from,dateTo:dateRange.date_to,fullWidth:fullWidth,dateOptions:errorTrackingDateOptions,onChange:(changedDateFrom,changedDateTo)=>setDateRange({date_from:changedDateFrom,date_to:changedDateTo})})})},InternalAccountsFilter=()=>{let{filterTestAccounts}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT),{setFilterTestAccounts}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_14__.HT);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__.jsx)(scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_12__.z,{size:"small",filters:{filter_test_accounts:filterTestAccounts},onChange:_ref3=>{let{filter_test_accounts}=_ref3;return setFilterTestAccounts(filter_test_accounts||!1)}})})}},"../../frontend/src/scenes/error-tracking/ErrorTrackingSetupPrompt.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>ErrorTrackingSetupPrompt});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.11.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/utils/product-intents.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/types.ts"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let ErrorTrackingSetupPrompt=_ref=>{let{children}=_ref,{hasSentExceptionEvent,hasSentExceptionEventLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_7__.HT),{currentTeam,currentTeamLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__.teamLogic),exceptionAutocaptureEnabled=currentTeam&&currentTeam.autocapture_exceptions_opt_in;return hasSentExceptionEventLoading||currentTeamLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"flex justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.$j,{})}):hasSentExceptionEvent||exceptionAutocaptureEnabled?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:children}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(IngestionStatusCheck,{})},IngestionStatusCheck=()=>{let{addProductIntent,updateCurrentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__.teamLogic);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__.C,{productName:"Error tracking",thingName:"issue",titleOverride:"You haven't captured any exceptions",description:"To start capturing exceptions you need to enable exception autocapture. Exception autocapture only applies to the JS SDK. Installation for other platforms are described in the docs.",isEmpty:!0,productKey:_types__WEBPACK_IMPORTED_MODULE_6__.Md.ERROR_TRACKING,actionElementOverride:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{type:"primary",onClick:()=>{addProductIntent({product_type:_types__WEBPACK_IMPORTED_MODULE_6__.Md.ERROR_TRACKING,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_4__.kp.ERROR_TRACKING_EXCEPTION_AUTOCAPTURE_ENABLED}),updateCurrentTeam({autocapture_exceptions_opt_in:!0})},children:"Enable exception autocapture"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{targetBlank:!0,sideIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconExternal,{className:"w-5 h-5"}),to:"https://posthog.com/docs/error-tracking/installation",onClick:()=>{addProductIntent({product_type:_types__WEBPACK_IMPORTED_MODULE_6__.Md.ERROR_TRACKING,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_4__.kp.ERROR_TRACKING_DOCS_VIEWED})},children:"Read the docs"})]})})}},"../../frontend/src/scenes/error-tracking/errorTrackingIssueSceneLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>errorTrackingIssueSceneLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_components_Errors_stackFrameLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/Errors/stackFrameLogic.ts"),lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../frontend/src/lib/components/Errors/utils.ts"),lib_dayjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/dayjs.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/utils.tsx"),posthog_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.235.2_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_layout_navigation_3000_sidepanel_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../frontend/src/layout/navigation-3000/sidepanel/types.ts"),_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/types.ts"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),_queries__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/scenes/error-tracking/queries.ts"),_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/scenes/error-tracking/utils.ts");let errorTrackingIssueSceneLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(key=>["scenes","error-tracking","errorTrackingIssueSceneLogic",key]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(props=>props.id),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT,["dateRange","filterTestAccounts","filterGroup","searchQuery","showStacktrace","showContext"],lib_components_Errors_stackFrameLogic__WEBPACK_IMPORTED_MODULE_4__.e,["frameOrderReversed","showAllFrames"]],actions:[_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_11__.HT,["setDateRange","setFilterTestAccounts","setFilterGroup","setSearchQuery","setShowStacktrace","setShowContext"],lib_components_Errors_stackFrameLogic__WEBPACK_IMPORTED_MODULE_4__.e,["setFrameOrderReversed","setShowAllFrames"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({loadIssue:!0,loadSummary:!0,loadProperties:dateRange=>({dateRange}),setIssue:issue=>({issue}),updateStatus:status=>({status}),updateAssignee:assignee=>({assignee}),setLastSeen:lastSeen=>({lastSeen})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.defaults)({issue:null,properties:{},summary:null,volumeResolution:50,lastSeen:null}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({issue:{setIssue:(_,_ref)=>{let{issue}=_ref;return issue},updateAssignee:(state,_ref2)=>{let{assignee}=_ref2;return state?{...state,assignee}:null},updateStatus:(state,_ref3)=>{let{status}=_ref3;return state?{...state,status}:null}},summary:{},properties:{},volumeResolution:{setVolumeResolution:(_,_ref4)=>{let{volumeResolution}=_ref4;return volumeResolution}},lastSeen:{setLastSeen:(prevLastSeen,_ref5)=>{let{lastSeen}=_ref5;return!prevLastSeen||prevLastSeen.isBefore(lastSeen)?lastSeen:prevLastSeen}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({breadcrumbs:[s=>[s.issue],issue=>{let exceptionType=issue?.name||"Issue";return[{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_8__.x.ErrorTracking,name:"Error tracking",path:scenes_urls__WEBPACK_IMPORTED_MODULE_9__.j.errorTracking()},{key:[scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_8__.x.ErrorTrackingIssue,exceptionType],name:exceptionType}]}],[_layout_navigation_3000_sidepanel_types__WEBPACK_IMPORTED_MODULE_14__.f]:[(_,p)=>[p.id],issueId=>({activity_scope:_types__WEBPACK_IMPORTED_MODULE_10__.jc.ERROR_TRACKING_ISSUE,activity_item_id:issueId})],eventsQuery:[s=>[(_,props)=>props.id,s.filterTestAccounts,s.searchQuery,s.filterGroup,s.dateRange],(issueId,filterTestAccounts,searchQuery,filterGroup,dateRange)=>(0,_queries__WEBPACK_IMPORTED_MODULE_12__.QT)({issueId,filterTestAccounts,filterGroup,searchQuery,dateRange:(0,_utils__WEBPACK_IMPORTED_MODULE_13__.v$)(dateRange).toDateRange()})],firstSeen:[s=>[s.issue],issue=>issue?(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_5__.Bv)(issue.first_seen):null],aggregations:[s=>[s.summary],summary=>summary?.aggregations],exceptionAttributes:[s=>[s.properties],properties=>properties?(0,_utils__WEBPACK_IMPORTED_MODULE_13__.OZ)(properties):null],exceptionList:[s=>[s.exceptionAttributes,s.frameOrderReversed],(attributes,orderReversed)=>attributes&&attributes.exceptionList?applyFrameOrder(attributes.exceptionList,orderReversed):[]],fingerprintRecords:[s=>[s.exceptionAttributes],attributes=>attributes?.fingerprintRecords],hasStacktrace:[s=>[s.exceptionList],excList=>(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_15__.mX)(excList)],sessionId:[s=>[s.properties],properties=>properties?(0,_utils__WEBPACK_IMPORTED_MODULE_13__.MQ)(properties):void 0]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref6=>{let{values,actions,props}=_ref6;return{issue:{loadIssue:async()=>await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.errorTracking.getIssue(props.id,props.fingerprint)},properties:{loadProperties:async _ref7=>{let{dateRange}=_ref7;return JSON.parse((await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.query((0,_queries__WEBPACK_IMPORTED_MODULE_12__.zx)({issueId:props.id,dateRange,filterTestAccounts:!1}),{},void 0,"blocking")).results[0].earliest)}},summary:{loadSummary:async()=>{let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.query((0,_queries__WEBPACK_IMPORTED_MODULE_12__.zx)({issueId:props.id,dateRange:values.dateRange,filterTestAccounts:values.filterTestAccounts,filterGroup:values.filterGroup,searchQuery:values.searchQuery,volumeResolution:values.volumeResolution}),{},void 0,"blocking");return response.results.length?(actions.setLastSeen((0,lib_dayjs__WEBPACK_IMPORTED_MODULE_5__.Bv)(response.results[0].last_seen)),{aggregations:response.results[0].aggregations}):null}}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref8=>{let{props,actions}=_ref8;return{setDateRange:actions.loadSummary,setFilterGroup:actions.loadSummary,setFilterTestAccounts:actions.loadSummary,setSearchQuery:actions.loadSummary,loadIssue:actions.loadSummary,loadIssueSuccess:[_ref9=>{let{issue}=_ref9;return actions.loadProperties(getPropertiesDateRange(issue))}],loadIssueFailure:_ref10=>{let{errorObject:{status,data}}=_ref10;308==status&&"issue_id"in data&&kea_router__WEBPACK_IMPORTED_MODULE_2__.router.actions.replace(scenes_urls__WEBPACK_IMPORTED_MODULE_9__.j.errorTrackingIssue(data.issue_id))},updateStatus:async _ref11=>{let{status}=_ref11;posthog_js__WEBPACK_IMPORTED_MODULE_7__.LJ.capture("error_tracking_issue_status_updated",{status,issue_id:props.id}),await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.errorTracking.updateIssue(props.id,{status})},updateAssignee:async _ref12=>{let{assignee}=_ref12;posthog_js__WEBPACK_IMPORTED_MODULE_7__.LJ.capture("error_tracking_issue_assigned",{issue_id:props.id}),await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.errorTracking.assignIssue(props.id,assignee)}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.actionToUrl)(_ref13=>{let{values}=_ref13,buildURL=()=>{let searchParams=(0,_utils__WEBPACK_IMPORTED_MODULE_13__.kq)({dateRange:values.dateRange,searchQuery:values.searchQuery,filterGroup:values.filterGroup,filterTestAccounts:values.filterTestAccounts});return(0,lib_utils__WEBPACK_IMPORTED_MODULE_6__.h0)(searchParams,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams)?[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.hashParams,{replace:!1}]:[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,searchParams,kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.hashParams,{replace:!0}]};return{setDateRange:()=>buildURL(),setFilterGroup:()=>buildURL(),setSearchQuery:()=>buildURL(),setFilterTestAccounts:()=>buildURL()}})]);function getPropertiesDateRange(issue){let firstSeen=(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_5__.Bv)(issue.first_seen);return{date_from:firstSeen.startOf("minute").toISOString(),date_to:firstSeen.endOf("minute").toISOString()}}function applyFrameOrder(exceptionList,frameOrderReversed){return frameOrderReversed?exceptionList.map(exception=>{let copiedException={...exception};return copiedException.stacktrace&&(copiedException.stacktrace={...copiedException.stacktrace,frames:copiedException.stacktrace.frames.slice().reverse()}),copiedException}).reverse():[...exceptionList]}},"../../frontend/src/scenes/error-tracking/hooks/use-sparkline-data.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>useSparklineData,U:()=>useSparklineDataIssueScene});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingIssueSceneLogic.ts"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/error-tracking/utils.ts");function useSparklineData(occurrences,dateRange,volumeResolution){return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{let labels=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.r0)(dateRange,volumeResolution),values=occurrences;return values||(values=Array(volumeResolution).fill(0)),values.map((value,index)=>({value,date:labels[index].toDate()}))},[occurrences,dateRange,volumeResolution])}function useSparklineDataIssueScene(){let{aggregations,dateRange,volumeResolution}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_2__.r);return useSparklineData(aggregations?.volumeRange,dateRange,volumeResolution)}},"../../frontend/src/scenes/error-tracking/hooks/use-sparkline-options.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>useSparklineOptions,z:()=>useDefaultSparklineColorVars});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_layout_navigation_3000_themeLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/layout/navigation-3000/themeLogic.ts");function useSparklineOptions(){let overrides=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},deps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],colorVars=useDefaultSparklineColorVars();return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>({backgroundColor:`var(--${colorVars[0]})`,hoverBackgroundColor:`var(--${colorVars[1]})`,axisColor:`var(--${colorVars[0]})`,borderRadius:5,eventLabelHeight:20,eventLabelPaddingX:5,eventLabelPaddingY:3,eventMinSpace:2,...overrides}),[colorVars,...deps])}let DARK_MODE_COLORS=["color-zinc-400","color-zinc-200"],LIGHT_MODE_COLORS=["color-zinc-400","color-zinc-600"];function useDefaultSparklineColorVars(){let{isDarkModeOn}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_layout_navigation_3000_themeLogic__WEBPACK_IMPORTED_MODULE_2__.b);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>isDarkModeOn?DARK_MODE_COLORS:LIGHT_MODE_COLORS,[isDarkModeOn])}},"../../frontend/src/scenes/error-tracking/issue/GenericSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>GenericSelect});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function GenericSelect(_ref){let{current,size,onChange,values,placeholder,renderValue}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Yv,{onChange:onChange,value:current,placeholder:placeholder,options:values.map(key=>({value:key,label:renderValue(key)})),size:size})}},"../../frontend/src/scenes/error-tracking/issue/Indicator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Eg:()=>StatusIndicator,VO:()=>LabelIndicator});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),clsx__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let sizeVariants={xsmall:"gap-1 text-xs",small:"gap-2 text-sm",medium:"gap-3 text-base",large:"gap-3 text-lg"};function LabelIndicator(_ref){let{intent,label,size,tooltip,className}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.u,{title:tooltip,placement:"right",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_2__.default)("flex items-center",className,sizeVariants[size]),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Mo,{status:intent,size:"small"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children:label})]})})}let STATUS_LABEL={active:"Active",archived:"Archived",resolved:"Resolved",pending_release:"Pending release",suppressed:"Suppressed"},STATUS_INTENT={active:"warning",archived:"muted",resolved:"success",pending_release:"muted",suppressed:"danger"},STATUS_TOOLTIP={suppressed:"Stop capturing this issue",active:"Ongoing issue",archived:void 0,resolved:"Will become active again on next occurrence",pending_release:void 0};function StatusIndicator(_ref2){let{status,size="small",className,withTooltip}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LabelIndicator,{intent:STATUS_INTENT[status],size:size,label:STATUS_LABEL[status],tooltip:withTooltip?STATUS_TOOLTIP[status]:void 0,className:className})}}}]);