var $s=Object.defineProperty,qs=Object.defineProperties;var Hs=Object.getOwnPropertyDescriptors;var Nt=Object.getOwnPropertySymbols;var In=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var An=(j,h,n)=>h in j?$s(j,h,{enumerable:!0,configurable:!0,writable:!0,value:n}):j[h]=n,B=(j,h)=>{for(var n in h||(h={}))In.call(h,n)&&An(j,n,h[n]);if(Nt)for(var n of Nt(h))wn.call(h,n)&&An(j,n,h[n]);return j},ne=(j,h)=>qs(j,Hs(h));var Ln=(j,h)=>{var n={};for(var f in j)In.call(j,f)&&h.indexOf(f)<0&&(n[f]=j[f]);if(j!=null&&Nt)for(var f of Nt(j))h.indexOf(f)<0&&wn.call(j,f)&&(n[f]=j[f]);return n};var xe=(j,h,n)=>new Promise((f,l)=>{var D=y=>{try{w(n.next(y))}catch(N){l(N)}},A=y=>{try{w(n.throw(y))}catch(N){l(N)}},w=y=>y.done?f(y.value):Promise.resolve(y.value).then(D,A);w((n=n.apply(j,h)).next())});(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{"./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx":function(j,h,n){"use strict";n.d(h,"a",function(){return te});var f=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),l=n.n(f),D=n("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),A=n("./frontend/src/lib/components/LemonButton/index.ts"),w=n("./frontend/src/lib/components/LemonDivider/index.ts"),y=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"),N=n.n(y);function te(X){let{item:L,onComplete:C,onClose:Q}=X;const[ce,re]=Object(f.useState)(L.alias),[V,_]=Object(f.useState)(L.regex);return Object(y.jsxs)("div",{className:"px-2",children:[Object(y.jsx)("b",{children:"New Wildcard"}),Object(y.jsx)(w.a,{}),Object(y.jsxs)("div",{className:"space-y-2",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:"Alias"}),Object(y.jsx)(D.a,{defaultValue:ce,onChange:P=>re(P),onPressEnter:()=>!1})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:"Regex"}),Object(y.jsx)(D.a,{defaultValue:V,onChange:P=>_(P),onPressEnter:()=>!1}),Object(y.jsxs)("div",{className:"text-muted",style:{marginBottom:12},children:["For example: ",Object(y.jsx)("code",{children:"\\/merchant\\/\\d+\\/dashboard$"})]})]})]}),Object(y.jsxs)("div",{className:"flex justify-end gap-2",children:[Object(y.jsx)(A.a,{type:"secondary",onClick:Q,children:"Cancel"}),Object(y.jsx)(A.a,{type:"primary",onClick:()=>C({alias:ce,regex:V}),children:"Save"})]})]})}try{te.displayName="PathRegexPopup",te.__docgenInfo={description:"",displayName:"PathRegexPopup",props:{onComplete:{defaultValue:null,description:"",name:"onComplete",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"]={docgenInfo:te.__docgenInfo,name:"PathRegexPopup",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"})}catch(X){}},"./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx":function(j,h,n){"use strict";n.d(h,"a",function(){return y});var f=n("./frontend/src/scenes/actions/Actions.scss"),l=n("./frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx"),D=n("./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx"),A=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"),w=n.n(A);function y(N){let{pageKey:te,onChange:X,onRemove:L,pathCleaningFilters:C,showConditionBadge:Q=!1,disablePopover:ce=!1}=N;return Object(A.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:C.length>0&&C.map((re,V)=>Object(A.jsx)(l.a,{item:re,index:V,totalCount:C.length-1,filters:C,pageKey:te,showConditionBadge:Q,disablePopover:ce,label:"Add rule",onRemove:L,filterComponent:_=>Object(A.jsx)(D.a,{item:re,onClose:_,onComplete:P=>{X(P),_()}})},V))})}try{y.displayName="PathCleanFilters",y.__docgenInfo={description:"",displayName:"PathCleanFilters",props:{endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(index: number) => void"}},pathCleaningFilters:{defaultValue:null,description:"",name:"pathCleaningFilters",required:!0,type:{name:"Record<string, any>[]"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},showConditionBadge:{defaultValue:{value:"false"},description:"",name:"showConditionBadge",required:!1,type:{name:"boolean"}},disablePopover:{defaultValue:{value:"false"},description:"",name:"disablePopover",required:!1,type:{name:"boolean"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"]={docgenInfo:y.__docgenInfo,name:"PathCleanFilters",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"})}catch(N){}},"./frontend/src/scenes/dashboard/NewDashboardModal.tsx":function(j,h,n){"use strict";n.d(h,"a",function(){return M});var f=n("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),l=n("./frontend/src/lib/forms/Field.tsx"),D=n("./frontend/src/lib/components/LemonButton/index.ts"),A=n("./frontend/src/types.ts"),w=n("./frontend/src/lib/components/LemonSelect.tsx"),y=n("./frontend/src/lib/components/PayGateMini/PayGateMini.tsx"),N=n("./frontend/src/scenes/dashboard/newDashboardLogic.ts"),te=n("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),X=n("./frontend/src/lib/components/LemonTextArea/LemonTextArea.tsx"),L=n("./frontend/src/scenes/dashboard/DashboardCollaborators.tsx"),C=n("./frontend/src/lib/components/LemonModal/index.ts"),Q=n("./node_modules/.pnpm/kea-forms@3.0.3_kea@3.1.0/node_modules/kea-forms/lib/index.js"),ce=n.n(Q),re=n("./frontend/src/lib/logic/featureFlagLogic.ts"),V=n("./frontend/src/lib/constants.tsx"),_=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"),P=n.n(_);function M(){const{hideNewDashboardModal:x,createAndGoToDashboard:c}=Object(f.useActions)(N.a),{isNewDashboardSubmitting:E,newDashboardModalVisible:S}=Object(f.useValues)(N.a),{featureFlags:I}=Object(f.useValues)(re.a),Z=!!I[V.i.WEBSITE_ANALYTICS_TEMPLATE],se=[{value:"DEFAULT_APP",label:"Product analytics","data-attr":"dashboard-select-default-app"}];return Z&&se.push({value:"WEBSITE_TRAFFIC",label:"Website traffic","data-attr":"dashboard-select-wesbite-template"}),Object(_.jsx)(C.a,{title:"New dashboard",description:"Use dashboards to compose multiple insights into a single view.",onClose:x,isOpen:S,footer:Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(D.a,{form:"new-dashboard-form",type:"secondary","data-attr":"dashboard-cancel",disabled:E,onClick:x,children:"Cancel"}),Object(_.jsx)(D.a,{form:"new-dashboard-form",type:"secondary","data-attr":"dashboard-submit-and-go",disabled:E,onClick:c,children:"Create and go to dashboard"}),Object(_.jsx)(D.a,{form:"new-dashboard-form",htmlType:"submit",type:"primary","data-attr":"dashboard-submit",loading:E,disabled:E,children:"Create"})]}),children:Object(_.jsxs)(Q.Form,{logic:N.a,formKey:"newDashboard",id:"new-dashboard-form",enableFormOnSubmit:!0,className:"space-y-2",children:[Object(_.jsx)(l.a,{name:"name",label:"Name",children:Object(_.jsx)(te.a,{autoFocus:!0,"data-attr":"dashboard-name-input",className:"ph-ignore-input"})}),Object(_.jsx)(l.a,{name:"description",label:"Description",showOptional:!0,children:Object(_.jsx)(X.a,{"data-attr":"dashboard-description-input",className:"ph-ignore-input"})}),Object(_.jsx)(l.a,{name:"useTemplate",label:"Template",showOptional:!0,children:Object(_.jsx)(w.a,{placeholder:"Optionally start from template",allowClear:!0,options:se,fullWidth:!0,"data-attr":"copy-from-template"})}),Object(_.jsx)(l.a,{name:"restrictionLevel",label:"Collaboration settings",children:Ie=>{let{value:we,onChange:_e}=Ie;return Object(_.jsx)(y.a,{feature:A.e.DASHBOARD_PERMISSIONING,children:Object(_.jsx)(w.a,{value:we,onChange:_e,options:L.a,fullWidth:!0})})}})]})})}},"./frontend/src/scenes/insights/InsightScene.tsx":function(j,h,n){"use strict";n.r(h),n.d(h,"InsightScene",function(){return Tn}),n.d(h,"scene",function(){return Ys});var f=n("./frontend/src/scenes/insights/insightSceneLogic.tsx"),l=n("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),D=n("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),A=n.n(D),w=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/Insight.scss"),y=n.n(w),N={};N.insert="head",N.singleton=!1;var te=A()(y.a,N),X=y.a.locals||{},L=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),C=n("./frontend/src/scenes/insights/insightLogic.ts"),Q=n("./frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts"),ce=n("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts"),re=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),V=n("./frontend/src/lib/utils.tsx"),_=n("./frontend/src/scenes/insights/sharedUtils.ts"),P=n("./frontend/src/scenes/insights/filters/InsightDateFilter/insightDateFilterLogic.ts");const M="insights",x=Object(l.kea)({props:{},key:Object(_.l)("new"),path:t=>["scenes","insights","insightCommandLogic",t],connect:t=>[Q.a,Object(ce.a)(t),Object(P.a)(t)],events:t=>{let{props:s}=t;return{afterMount:()=>{const o=[{key:"insight-graph",resolver:[{icon:re.a,display:'Toggle "Compare Previous" on Graph',executor:()=>{Object(ce.a)(s).actions.toggleCompare()}},...V.u.map(i=>{let{key:a,values:r}=i;return{icon:re.a,display:`Set Time Range to ${a}`,executor:()=>{Object(P.a)(s).actions.setDates(r[0],r[1])}}})],scope:M}];for(const i of o)Q.a.actions.registerCommand(i)},beforeUnmount:()=>{Q.a.actions.deregisterScope(M)}}}});var c=n("./frontend/src/types.ts"),E=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/button/index.js"),S=n("./frontend/src/lib/constants.tsx"),I=n("./frontend/src/lib/logic/featureFlagLogic.ts"),Z=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},Ie=se,we=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/components/AntdIcon.js"),_e=function(s,o){return L.createElement(we.a,Object(Z.a)(Object(Z.a)({},s),{},{ref:o,icon:Ie}))};_e.displayName="ArrowLeftOutlined";var Se=L.forwardRef(_e),oe=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Y=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/experimental/NPSPrompt.scss"),Le=n.n(Y),Re={};Re.insert="head",Re.singleton=!1;var He=A()(Le.a,Re),W=Le.a.locals||{},ie=n("./node_modules/.pnpm/posthog-js@1.37.0/node_modules/posthog-js/dist/es.js"),me=n.p+"images/nps.01f8251908e72335482be26ee661ccc7.svg",le=n("./frontend/src/scenes/userLogic.ts"),Ne=n("./frontend/src/lib/dayjs.ts"),z=n("./frontend/@posthog/lemon-ui/src/index.ts"),e=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const Qe=1e4,Dt=3500,Je="experimental-nps-v8",Xe=Object(l.kea)({path:["lib","experimental","NPSPrompt"],selectors:{featureFlagEnabled:[()=>[I.a.selectors.featureFlags],t=>t[S.i.NPS_PROMPT]],userIsOldEnough:[()=>[le.a.selectors.user],t=>t&&Object(Ne.a)(t.date_joined).isBefore(Object(Ne.a)().add(-15,"day"))],npsPromptEnabled:[t=>[t.featureFlagEnabled,t.userIsOldEnough],(t,s)=>t&&s]},actions:{show:!0,hide:!0,setStep:t=>({step:t}),stepBack:!0,setPayload:t=>({payload:t}),submit:t=>({completed:t}),dismiss:!0,send:t=>({result:t})},reducers:{step:[0,{setStep:(t,s)=>{let{step:o}=s;return o},stepBack:t=>Math.max(t-1,0),submit:()=>3,setPayload:(t,s)=>{let{payload:o}=s;return t===0&&typeof(o==null?void 0:o.score)!="undefined"?1:t}}],hidden:[!0,{show:()=>!1,hide:()=>!0}],payload:[null,{setPayload:(t,s)=>{let{payload:o}=s;return B(B({},t),o)}}]},listeners:t=>{let{values:s,actions:o,cache:i}=t;return{stepBack:()=>{s.step===1&&o.setPayload(null)},dismiss:()=>{var a;const r=typeof((a=s.payload)===null||a===void 0?void 0:a.score)!="undefined"?"partial":"dismissed";o.hide(),o.send(r)},submit:a=>{let{completed:r}=a;const d=r?"completed":"partial";o.send(d),i.timeout=window.setTimeout(()=>o.hide(),Dt)},send:a=>{let{result:r}=a;ie.a.capture("nps feedback",ne(B({},s.payload),{result:r})),ie.a.people.set({nps_2106:!0}),localStorage.setItem(Je,"true")},show:()=>{ie.a.capture("nps modal shown")}}},events:t=>{let{actions:s,values:o,cache:i}=t;return{afterMount:()=>{o.npsPromptEnabled&&!localStorage.getItem(Je)&&(i.timeout=window.setTimeout(()=>s.show(),Qe))},beforeUnmount:()=>{window.clearTimeout(i.timeout)}}}});function Ze(){const{setStep:t,setPayload:s,stepBack:o,submit:i,dismiss:a}=Object(l.useActions)(Xe),{step:r,payload:d,hidden:p,npsPromptEnabled:u}=Object(l.useValues)(Xe);if(!u)return null;const m=Object(e.jsxs)("div",{className:"nps-header",children:[Object(e.jsx)("div",{className:"cursor-pointer",onClick:o,children:Object(e.jsx)(Se,{})}),Object(e.jsx)("div",{className:"nps-progress",children:[0,1,2].map(g=>Object(e.jsx)("div",{className:`pg-item${g<=r?" completed":""}`},g))})]});return Object(e.jsx)(e.Fragment,{children:Object(e.jsxs)("div",{className:`nps-prompt${p?" hide":""}`,children:[Object(e.jsx)("span",{className:"nps-dismiss",onClick:a,children:Object(e.jsx)(oe.a,{})}),Object(e.jsxs)("div",{className:"prompt-inner",children:[r===0&&Object(e.jsxs)("div",{"data-attr":"nps-step-0",children:[Object(e.jsx)("div",{className:"prompt-title",children:"Help us improve PostHog in less than 60 seconds \u{1F64F}"}),Object(e.jsx)("div",{className:"question",children:"How would you feel if you could no longer use PostHog?"}),Object(e.jsxs)("div",{className:"action-buttons",children:[Object(e.jsx)(E.a,{className:"prompt-button",onClick:()=>s({score:1}),children:"Not disappointed"}),Object(e.jsx)(E.a,{className:"prompt-button",onClick:()=>s({score:3}),children:"Somewhat disappointed"}),Object(e.jsx)(E.a,{className:"prompt-button",onClick:()=>s({score:5}),children:"Very disappointed"})]})]}),r===1&&Object(e.jsxs)("div",{"data-attr":"nps-step-1",children:[m,Object(e.jsx)("div",{className:"question",children:"What's the main reason behind this score?"}),Object(e.jsx)(z.LemonTextArea,{autoFocus:!0,placeholder:"You can describe the key benefits you get from PostHog, shortcomings or anything else...",value:(d==null?void 0:d.feedback_score)||"",onChange:g=>s({feedback_score:g}),onKeyDown:g=>g.key==="Enter"&&g.metaKey&&t(2)}),Object(e.jsxs)("div",{style:{textAlign:"left"},className:"mt-4",children:[Object(e.jsx)(E.a,{type:"link",style:{paddingLeft:0},onClick:()=>i(!1),children:"Finish"}),Object(e.jsx)(E.a,{style:{float:"right"},onClick:()=>t(2),children:"Continue"})]})]}),r===2&&Object(e.jsxs)("div",{"data-attr":"nps-step-2",children:[m,Object(e.jsx)("div",{className:"question",children:"Last one. What type of person or company do you think could benefit most from PostHog?"}),Object(e.jsx)(z.LemonTextArea,{autoFocus:!0,placeholder:"You can describe their role, background, company or team size, ...",value:(d==null?void 0:d.feedback_persona)||"",onChange:g=>s({feedback_persona:g}),onKeyDown:g=>g.key==="Enter"&&g.metaKey&&i(!0)}),Object(e.jsx)("div",{style:{textAlign:"left"},className:"mt-4",children:Object(e.jsx)(E.a,{style:{float:"right"},onClick:()=>i(!0),children:"Finish"})})]}),r===3&&Object(e.jsxs)("div",{"data-attr":"nps-step-2",style:{display:"flex",alignItems:"center"},children:[Object(e.jsx)("img",{src:me,alt:"",height:40}),Object(e.jsx)("div",{className:"prompt-title",style:{margin:0},children:"Thanks for helping us improve PostHog!"})]})]})]})})}var ke=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tabs/index.js"),be=n("./frontend/src/lib/components/Tooltip.tsx"),je=n("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),ee=n("./frontend/src/lib/components/icons.tsx"),ae=n("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),de=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Trends/FunnelsCue.scss"),ve=n.n(de),he={};he.insert="head",he.singleton=!1;var Vt=A()(ve.a,he),et=ve.a.locals||{},ln=n("./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.regexp.flags.js");const tt=Object(l.kea)({props:{},key:Object(_.l)("new"),path:t=>["scenes","insights","InsightTabs","TrendTab","FunnelsCue",t],connect:t=>({values:[Object(C.c)(t),["filters","isFirstLoad"],I.a,["featureFlags"]],actions:[Object(C.c)(t),["setFilters"],I.a,["setFeatureFlags"]]}),actions:{optOut:t=>({userOptedOut:t}),setShouldShow:t=>({show:t}),setPermanentOptOut:!0},reducers:{_shouldShow:[!1,{setShouldShow:(t,s)=>{let{show:o}=s;return o}}],permanentOptOut:[!1,{setPermanentOptOut:()=>!0}]},listeners:t=>{let{actions:s,values:o}=t;return{optOut:i=>xe(this,null,function*(){let{userOptedOut:a}=i;ie.a.capture("funnel cue 7301 - terminated",{user_opted_out:a}),ie.a.people.set({funnels_cue_3701_opt_out:!0}),s.setPermanentOptOut()}),setFilters:i=>xe(this,null,function*(){var a,r,d,p;let{filters:u}=i;const m=((a=(r=u.events)===null||r===void 0?void 0:r.length)!==null&&a!==void 0?a:0)+((d=(p=u.actions)===null||p===void 0?void 0:p.length)!==null&&d!==void 0?d:0);!o.isFirstLoad&&u.insight===c.F.TRENDS&&m>=3?(s.setShouldShow(!0),!o.permanentOptOut&&ie.a.capture("funnel cue 7301 - shown",{step_count:m})):o.shown&&u.insight===c.F.FUNNELS?s.optOut(!1):s.setShouldShow(!1)}),setFeatureFlags:i=>xe(this,null,function*(){let{flags:a}=i;a[S.i.FUNNELS_CUE_OPT_OUT]&&s.setPermanentOptOut()})}},selectors:{shown:[t=>[t._shouldShow,t.permanentOptOut],(t,s)=>t&&!s]},events:t=>{let{actions:s,values:o}=t;return{afterMount:()=>xe(this,null,function*(){o.featureFlags[S.i.FUNNELS_CUE_OPT_OUT]&&s.setPermanentOptOut()})}}});var ge=n("./frontend/src/scenes/urls.ts");function Ee(t){let{tooltipPosition:s}=t;const{insightProps:o,filters:i}=Object(l.useValues)(C.c),{optOut:a}=Object(l.useActions)(tt(o)),{shown:r}=Object(l.useValues)(tt(o));return Object(e.jsxs)("div",{className:Object(je.default)("funnels-product-cue",r&&"shown"),children:[Object(e.jsx)(ae.a,{closable:!0,icon:Object(e.jsx)(ee.IconLightBulb,{style:{color:"var(--warning)",fontSize:"1.3em"}}),onClose:()=>a(!0),children:Object(e.jsxs)("div",{className:"flex items-center",children:[Object(e.jsx)("div",{style:{paddingRight:16},children:"Looks like you have multiple events. A funnel can help better visualize your user's progression across each event."}),Object(e.jsx)(z.LemonButton,{to:ge.a.insightNew(ne(B({},i),{insight:c.F.FUNNELS})),"data-attr":"funnel-cue-7301",children:"Try this insight as a funnel"})]})}),s&&Object(e.jsx)("div",{className:"tooltip-arrow",style:{left:s}})]})}try{Ee.displayName="FunnelsCue",Ee.__docgenInfo={description:"",displayName:"FunnelsCue",props:{tooltipPosition:{defaultValue:null,description:"",name:"tooltipPosition",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Trends/FunnelsCue.tsx#FunnelsCue"]={docgenInfo:Ee.__docgenInfo,name:"FunnelsCue",path:"frontend/src/scenes/insights/views/Trends/FunnelsCue.tsx#FunnelsCue"})}catch(t){}var kt=n("./frontend/src/scenes/saved-insights/SavedInsights.tsx"),Mt=n("./frontend/src/lib/components/Link.tsx");const{TabPane:Rn}=ke.a;function Nn(){const{activeView:t,filters:s}=Object(l.useValues)(C.c),{setActiveView:o}=Object(l.useActions)(C.c),i=Object(L.useRef)(null),a=Object(L.useMemo)(()=>[{label:"Trends",type:c.F.TRENDS,dataAttr:"insight-trends-tab"},{label:"Funnels",type:c.F.FUNNELS,dataAttr:"insight-funnels-tab",ref:i},{label:"Retention",type:c.F.RETENTION,dataAttr:"insight-retention-tab"},{label:"User Paths",type:c.F.PATHS,dataAttr:"insight-path-tab"},{label:"Stickiness",type:c.F.STICKINESS,dataAttr:"insight-stickiness-tab"},{label:"Lifecycle",type:c.F.LIFECYCLE,dataAttr:"insight-lifecycle-tab"}],[i]);return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Ee,{tooltipPosition:i!=null&&i.current?i.current.getBoundingClientRect().width*1.5+16:void 0}),Object(e.jsx)(ke.a,{activeKey:t,className:"top-bar",onChange:r=>o(r),animated:!1,children:a.map(r=>{let{label:d,type:p,dataAttr:u,ref:m,className:g}=r;const v=F=>{var k;let{children:R}=F;return(k=kt.INSIGHT_TYPES_METADATA[p])!==null&&k!==void 0&&k.description?Object(e.jsx)(be.a,{placement:"top",title:kt.INSIGHT_TYPES_METADATA[p].description,children:R}):Object(e.jsx)("span",{ref:m,children:R})};return Object(e.jsx)(Rn,{tab:Object(e.jsx)(Mt.a,{className:Object(je.default)("tab-text",g),to:ge.a.insightNew(ne(B({},s),{insight:p})),preventClick:!0,"data-attr":u,children:Object(e.jsx)(v,{children:d})})},p)})})]})}var ye=n("./frontend/src/models/dashboardsModel.tsx"),Dn=n("./frontend/src/lib/utils/eventUsageLogic.ts"),Vn=n("./frontend/src/scenes/dashboard/newDashboardLogic.ts"),kn=n("./node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),Bt=n("./frontend/src/lib/components/lemonToast.tsx"),Be=n("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.0/node_modules/kea-router/lib/index.js");const dn=Object(l.kea)({path:["lib","components","AddToDashboard","saveToDashboardModalLogic"],props:{},key:t=>{let{insight:s}=t;if(!s.short_id)throw Error("must provide an insight with a short id");return s.short_id},connect:t=>({logic:[ye.a],actions:[Object(C.c)({dashboardItemId:t.insight.short_id}),["updateInsight","updateInsightSuccess","updateInsightFailure"],Dn.e,["reportSavedInsightToDashboard","reportRemovedInsightFromDashboard","reportCreatedDashboardFromModal"],Vn.a,["showNewDashboardModal"]]}),actions:{addNewDashboard:!0,setDashboardId:t=>({id:t}),setSearchQuery:t=>({query:t}),setInsight:t=>({insight:t}),setScrollIndex:t=>({index:t}),addToDashboard:(t,s)=>({insight:t,dashboardId:s}),removeFromDashboard:(t,s)=>({insight:t,dashboardId:s})},reducers:{_dashboardId:[null,{setDashboardId:(t,s)=>{let{id:o}=s;return o}}],searchQuery:["",{setSearchQuery:(t,s)=>{let{query:o}=s;return o}}],scrollIndex:[-1,{setScrollIndex:(t,s)=>{let{index:o}=s;return o}}],dashboardWithActiveAPICall:[null,{addToDashboard:(t,s)=>{let{dashboardId:o}=s;return o},removeFromDashboard:(t,s)=>{let{dashboardId:o}=s;return o},updateInsightSuccess:()=>null,updateInsightFailure:()=>null}]},selectors:{dashboardId:[t=>[t._dashboardId,ye.a.selectors.lastDashboardId,ye.a.selectors.nameSortedDashboards,(s,o)=>o.fromDashboard],(t,s,o,i)=>t||i||s||(o.length>0?o[0].id:null)],dashboardsFuse:[()=>[ye.a.selectors.nameSortedDashboards],t=>new kn.a(t||[],{keys:["name","description","tags"],threshold:.3})],filteredDashboards:[t=>[t.searchQuery,t.dashboardsFuse,ye.a.selectors.nameSortedDashboards],(t,s,o)=>t.length?s.search(t).map(i=>i.item):o],currentDashboards:[t=>[t.filteredDashboards,(s,o)=>o.insight],(t,s)=>t.filter(o=>{var i;return(i=s.dashboards)===null||i===void 0?void 0:i.includes(o.id)})],availableDashboards:[t=>[t.filteredDashboards,(s,o)=>o.insight],(t,s)=>t.filter(o=>{var i;return!((i=s.dashboards)!==null&&i!==void 0&&i.includes(o.id))})],orderedDashboards:[t=>[t.currentDashboards,t.availableDashboards],(t,s)=>[...t,...s]]},listeners:t=>{let{actions:s,values:o,props:i}=t;return{setDashboardId:a=>{let{id:r}=a;ye.a.actions.setLastDashboardId(r)},addNewDashboard:()=>xe(this,null,function*(){s.showNewDashboardModal()}),[ye.a.actionTypes.addDashboardSuccess]:a=>xe(this,null,function*(){let{dashboard:r}=a;s.reportCreatedDashboardFromModal(),s.setDashboardId(r.id),s.addToDashboard(i.insight,r.id),s.setScrollIndex(o.orderedDashboards.findIndex(d=>d.id===r.id))}),addToDashboard:a=>xe(this,null,function*(){let{insight:r,dashboardId:d}=a;s.updateInsight(ne(B({},r),{dashboards:[...r.dashboards||[],d]}),()=>{s.reportSavedInsightToDashboard(),ye.a.actions.tileAddedToDashboard(d),Bt.d.success("Insight added to dashboard",{button:{label:"View dashboard",action:()=>Be.router.actions.push(ge.a.dashboard(d))}})})}),removeFromDashboard:a=>xe(this,null,function*(){let{insight:r,dashboardId:d}=a;s.updateInsight(ne(B({},r),{dashboards:(r.dashboards||[]).filter(p=>p!==d)}),()=>{s.reportRemovedInsightFromDashboard(),Bt.d.success("Insight removed from dashboard")})})}}});var Mn=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/AddToDashboard/AddToDashboard.scss"),cn=n.n(Mn),Wt={};Wt.insert="head",Wt.singleton=!1;var Qs=A()(cn.a,Wt),Js=cn.a.locals||{},Bn=n("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),Wn=n("./node_modules/.pnpm/react-virtualized@9.22.3_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/react-virtualized/dist/es/List/index.js"),Gn=n("./node_modules/.pnpm/react-virtualized@9.22.3_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/react-virtualized/dist/es/AutoSizer/index.js"),$=n("./frontend/src/lib/components/LemonButton/index.ts"),Gt=n("./frontend/src/scenes/teamLogic.tsx"),Kn=n("./frontend/src/lib/components/LemonModal/index.ts");const zn=t=>{var s;let{style:o,isHighlighted:i,isAlreadyOnDashboard:a,dashboard:r,insight:d,canEditInsight:p}=t;const u=dn({insight:d,fromDashboard:((s=d.dashboards)===null||s===void 0?void 0:s[0])||void 0}),{addToDashboard:m,removeFromDashboard:g}=Object(l.useActions)(u),{dashboardWithActiveAPICall:v}=Object(l.useValues)(u),{currentTeam:F}=Object(l.useValues)(Gt.a),k=r.id===(F==null?void 0:F.primary_dashboard);return Object(e.jsxs)("div",{"data-attr":"dashboard-list-item",style:o,className:Object(je.default)("flex items-center space-x-2",i&&"highlighted"),children:[Object(e.jsx)(Mt.a,{to:ge.a.dashboard(r.id),children:r.name||"Untitled"}),k&&Object(e.jsx)(be.a,{title:"Primary dashboards are shown on the project home page",children:Object(e.jsx)(ee.IconCottage,{className:"text-warning text-base"})}),Object(e.jsx)("span",{className:"grow"}),Object(e.jsx)($.a,{type:a?"primary":"secondary",loading:v===r.id,disabled:!!v||!p,size:"small",onClick:R=>{R.preventDefault(),a?g(d,r.id):m(d,r.id)},children:a?"Added":"Add to dashboard"})]})};function nt(t){var s,o,i;let{isOpen:a,closeModal:r,insight:d,canEditInsight:p}=t;const u=dn({insight:d,fromDashboard:((s=d.dashboards)===null||s===void 0?void 0:s[0])||void 0}),{searchQuery:m,currentDashboards:g,orderedDashboards:v,scrollIndex:F}=Object(l.useValues)(u),{setSearchQuery:k,addNewDashboard:R}=Object(l.useActions)(u),U=O=>{let{index:b,style:H}=O;return Object(e.jsx)(zn,{dashboard:v[b],insight:d,canEditInsight:p,isHighlighted:b===F,isAlreadyOnDashboard:g.some(K=>K.id===v[b].id),style:H},b)};return Object(e.jsx)(Kn.a,{onClose:r,isOpen:a,title:"Add to dashboard",footer:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"flex-1",children:Object(e.jsx)($.a,{type:"secondary",onClick:R,disabled:!p,children:"Add to a new dashboard"})}),Object(e.jsx)($.a,{type:"secondary",onClick:r,children:"Close"})]}),children:Object(e.jsxs)("div",{className:"space-y-2",children:[Object(e.jsx)(Bn.a,{"data-attr":"dashboard-searchfield",type:"search",fullWidth:!0,placeholder:"Search for dashboards...",value:m,onChange:O=>k(O)}),Object(e.jsxs)("div",{className:"text-muted-alt",children:["This insight is referenced on ",Object(e.jsx)("strong",{className:"text-default",children:(o=d.dashboards)===null||o===void 0?void 0:o.length})," ",Object(V.tb)(((i=d.dashboards)===null||i===void 0?void 0:i.length)||0,"dashboard","dashboards",!1)]}),Object(e.jsx)("div",{style:{minHeight:420},children:Object(e.jsx)(Gn.a,{children:O=>{let{height:b,width:H}=O;return Object(e.jsx)(Wn.a,{width:H,height:b,rowCount:v.length,overscanRowCount:100,rowHeight:40,rowRenderer:U,scrollToIndex:F})}})})]})})}try{nt.displayName="AddToDashboardModal",nt.__docgenInfo={description:"",displayName:"AddToDashboardModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"() => void"}},insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},canEditInsight:{defaultValue:null,description:"",name:"canEditInsight",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/AddToDashboard/AddToDashboardModal.tsx#AddToDashboardModal"]={docgenInfo:nt.__docgenInfo,name:"AddToDashboardModal",path:"frontend/src/lib/components/AddToDashboard/AddToDashboardModal.tsx#AddToDashboardModal"})}catch(t){}var Un=n("./frontend/src/scenes/dashboard/NewDashboardModal.tsx");function st(t){var s;let{insight:o,canEditInsight:i}=t;const[a,r]=Object(L.useState)(!1),{rawDashboards:d}=Object(l.useValues)(ye.a),p=((s=o.dashboards)===null||s===void 0?void 0:s.map(u=>d[u]).filter(u=>!!u))||[];return Object(e.jsxs)("span",{className:"save-to-dashboard","data-attr":"save-to-dashboard-button",children:[Object(e.jsx)(nt,{isOpen:a,closeModal:()=>r(!1),insight:o,canEditInsight:i}),Object(e.jsx)(Un.a,{}),Object(e.jsx)($.a,{onClick:()=>r(!0),type:"secondary",icon:Object(e.jsx)(ee.IconWithCount,{count:p.length,showZero:!1,children:Object(e.jsx)(ee.IconGauge,{})}),children:"Add to dashboard"})]})}try{st.displayName="AddToDashboard",st.__docgenInfo={description:"",displayName:"AddToDashboard",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},canEditInsight:{defaultValue:null,description:"",name:"canEditInsight",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/AddToDashboard/AddToDashboard.tsx#AddToDashboard"]={docgenInfo:st.__docgenInfo,name:"AddToDashboard",path:"frontend/src/lib/components/AddToDashboard/AddToDashboard.tsx#AddToDashboard"})}catch(t){}var Yn=n("./frontend/src/scenes/insights/InsightContainer.tsx"),un=n("./frontend/src/lib/components/EditableField/EditableField.tsx"),pn=n("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx");function ot(t){let{saveAs:s,saveInsight:o,isSaved:i,insightSaving:a,insightChanged:r,addingToDashboard:d}=t;const p=i&&!r,u=i&&!d;return Object(e.jsx)($.c,{type:"primary",onClick:()=>o(!0),"data-attr":"insight-save-button",disabled:p,loading:!p&&a,sideAction:{popup:{placement:"bottom-end",overlay:Object(e.jsxs)(e.Fragment,{children:[!p&&Object(e.jsxs)($.a,{onClick:()=>o(!1),"data-attr":"insight-save-and-continue",status:"stealth",fullWidth:!0,children:[d?"Save, add to dashboard":"Save"," & continue editing"]}),u&&Object(e.jsx)($.a,{onClick:s,"data-attr":"insight-save-as-new-insight",status:"stealth",fullWidth:!0,children:"Save as\u2026"})]})},disabled:p&&!u,"data-attr":"insight-save-dropdown"},children:p?"No changes to be saved":d?"Save & add to dashboard":"Save"})}try{ot.displayName="InsightSaveButton",ot.__docgenInfo={description:"",displayName:"InsightSaveButton",props:{saveAs:{defaultValue:null,description:"",name:"saveAs",required:!0,type:{name:"() => void"}},saveInsight:{defaultValue:null,description:"",name:"saveInsight",required:!0,type:{name:"(redirectToViewMode?: boolean | undefined) => void"}},isSaved:{defaultValue:null,description:"",name:"isSaved",required:!0,type:{name:"boolean | undefined"}},insightSaving:{defaultValue:null,description:"",name:"insightSaving",required:!0,type:{name:"boolean"}},insightChanged:{defaultValue:null,description:"",name:"insightChanged",required:!0,type:{name:"boolean"}},addingToDashboard:{defaultValue:null,description:"",name:"addingToDashboard",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightSaveButton.tsx#InsightSaveButton"]={docgenInfo:ot.__docgenInfo,name:"InsightSaveButton",path:"frontend/src/scenes/insights/InsightSaveButton.tsx#InsightSaveButton"})}catch(t){}const Kt="<this_should_be_changed_when_in_use>",$n=15e3,qn=!0,zt=[{title:"Experimentation is launching!",description:"Experimentation can help you test which product changes optimize your metrics. Give us feedback on your needs!"},{title:"Want to test product changes before shipping? \u{1F9EA}",description:"Our new A/B testing feature is launching soon and will let you seamlessly run experiments on your product. Interested?"},{title:"Introducing A/B testing \u{1F680}",description:"We are launching our A/B testing suite soon! Share your feedback, help us shape this new feature."}],mn=Object(l.kea)({path:["lib","experimental","FeedbackCallCTA"],selectors:{featureFlagGroup:[()=>[I.a.selectors.featureFlags],t=>t[Kt]],copy:[t=>[t.featureFlagGroup],t=>t==="control"?zt[0]:t==="variant-0"?zt[1]:t==="variant-1"?zt[2]:null]},actions:{reportAndDismiss:t=>({result:t}),show:!0,hide:!0},reducers:{hidden:[!0,{show:()=>!1,hide:()=>!0}]},listeners:t=>{let{actions:s}=t;return{reportAndDismiss:o=>{let{result:i}=o;ie.a.capture("experimentation call prompt action",{result:i}),localStorage.setItem(Kt,"true"),s.hide(),i==="more-info"&&Bt.d.success("We'll be in touch via email in the next few days!")}}},events:t=>{let{actions:s,values:o,cache:i}=t;return{afterMount:()=>{o.featureFlagGroup&&!localStorage.getItem(Kt)&&(i.timeout=window.setTimeout(()=>s.show(),$n))},beforeUnmount:()=>{window.clearTimeout(i.timeout)}}}});function Hn(){const{hidden:t,copy:s}=Object(l.useValues)(mn),{reportAndDismiss:o}=Object(l.useActions)(mn);return qn?null:Object(e.jsxs)("div",{className:`nps-prompt${t?" hide":""}`,children:[Object(e.jsx)("span",{className:"nps-dismiss",onClick:()=>o("dismiss"),children:Object(e.jsx)(oe.a,{})}),s&&Object(e.jsxs)("div",{className:"prompt-inner",children:[Object(e.jsx)("div",{className:"prompt-title",children:s.title}),Object(e.jsx)("div",{className:"question",children:s.description}),Object(e.jsxs)("div",{className:"action-buttons",style:{width:240},children:[Object(e.jsx)("a",{href:"https://calendly.com/posthog-feedback",target:"_blank",rel:"noreferrer",onClick:()=>o("call"),children:Object(e.jsx)(E.a,{className:"prompt-button",children:"Schedule call with Eng Team"})}),Object(e.jsx)(E.a,{className:"prompt-button",onClick:()=>o("more-info"),children:"Send me more info"}),Object(e.jsx)(E.a,{className:"prompt-button",onClick:()=>o("not-interested"),children:"Not interested"})]})]})]})}var Qn=n("./frontend/src/lib/components/PageHeader.tsx"),hn=n("./frontend/src/scenes/insights/utils.tsx"),Me=n("./frontend/src/models/groupsModel.ts"),Jn=n("./frontend/src/models/cohortsModel.ts"),Xn=n("./frontend/src/scenes/trends/mathsLogic.tsx"),We=n("./frontend/src/lib/components/LemonSkeleton/index.tsx");function gn(){return Object(e.jsx)(e.Fragment,{children:Object(e.jsxs)("div",{className:"my-6 space-y-4",children:[Object(e.jsx)(We.a,{className:"w-1/4"}),Object(e.jsx)(We.a,{className:"w-1/2",repeat:3}),Object(e.jsx)(We.a,{}),Object(e.jsxs)("div",{className:"border rounded p-6 flex items-center gap-4",children:[Object(e.jsx)("div",{className:"flex-1 space-y-2",children:Object(e.jsx)(We.a.Row,{repeat:3})}),Object(e.jsx)("div",{className:"flex-1 space-y-2",children:Object(e.jsx)(We.a.Row,{repeat:3})})]}),Object(e.jsx)("div",{className:"border rounded p-6",style:{minHeight:600}})]})})}var Zn=n("./node_modules/.pnpm/react-transition-group@4.4.5_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/react-transition-group/esm/CSSTransition.js"),Oe=n("./frontend/src/scenes/trends/trendsLogic.ts"),Ge=n("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),De=n("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),G=n("./frontend/src/lib/components/TaxonomicFilter/types.ts");function it(t){let{insightProps:s}=t;const{setFilters:o}=Object(l.useActions)(Object(Oe.a)(s)),{filters:i,isFormulaOn:a}=Object(l.useValues)(Object(Oe.a)(s)),{groupsTaxonomicTypes:r}=Object(l.useValues)(Me.a),d=[G.a.EventProperties,G.a.PersonProperties,G.a.EventFeatureFlags,...r,G.a.Cohorts,G.a.Elements,...Object(_.j)(i)?[G.a.Sessions]:[]];return Object(e.jsxs)(e.Fragment,{children:[Object(_.f)(i)&&Object(e.jsxs)("div",{className:"mb-2",children:["Showing ",Object(e.jsx)("b",{children:"Unique users"})," who did"]}),Object(e.jsx)(Ge.a,{filters:i,setFilters:p=>o(p),typeKey:`trends_${c.F.TRENDS}`,buttonCopy:`Add graph ${a?"variable":"series"}`,showSeriesIndicator:!0,showNestedArrow:!0,entitiesLimit:Object(_.c)(i)&&i.display&&S.y.includes(i.display)&&!a||Object(_.f)(i)?1:V.c.length,mathAvailability:Object(_.f)(i)?De.b.None:Object(_.i)(i)?De.b.ActorsOnly:De.b.All,propertiesTaxonomicGroupTypes:d})]})}function at(t){let{insightProps:s}=t;const{filters:o,localFilters:i,isFormulaOn:a}=Object(l.useValues)(Object(Oe.a)(s)),{setIsFormulaOn:r}=Object(l.useActions)(Object(Oe.a)(s)),d=a&&Object(_.j)(o)&&!!o.display&&S.y.includes(o.display)&&i.length>1;return Object(e.jsxs)("div",{className:"flex items-center justify-between w-full",children:[Object(e.jsx)("span",{children:a?"Variables":"Series"}),Object(e.jsx)(be.a,{title:d?"This chart type does not support multiple series, so in order to disable formula mode, remove variables or switch to a different chart type.":"Make your own formula the output of the insight with formula mode. Use graph series as variables.",children:Object(e.jsx)("div",{style:{margin:"-0.25rem 0"},children:Object(e.jsxs)(z.LemonButton,{size:"small",onClick:()=>r(!a),disabled:d,icon:Object(e.jsx)(ee.IconCalculate,{}),id:"trends-formula-switch",children:[a?"Disable":"Enable"," formula mode"]})})})]})}try{it.displayName="TrendsSeries",it.__docgenInfo={description:"",displayName:"TrendsSeries",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/TrendsSeries.tsx#TrendsSeries"]={docgenInfo:it.__docgenInfo,name:"TrendsSeries",path:"frontend/src/scenes/insights/EditorFilters/TrendsSeries.tsx#TrendsSeries"})}catch(t){}try{at.displayName="TrendsSeriesLabel",at.__docgenInfo={description:"",displayName:"TrendsSeriesLabel",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/TrendsSeries.tsx#TrendsSeriesLabel"]={docgenInfo:at.__docgenInfo,name:"TrendsSeriesLabel",path:"frontend/src/scenes/insights/EditorFilters/TrendsSeries.tsx#TrendsSeriesLabel"})}catch(t){}var es=n("./frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx");function rt(t){let{filters:s}=t;const{setFiltersMerge:o}=Object(l.useActions)(C.c),{allEventNames:i}=Object(l.useValues)(C.c),{groupsTaxonomicTypes:a}=Object(l.useValues)(Me.a),r=[G.a.EventProperties,G.a.PersonProperties,G.a.EventFeatureFlags,...a,G.a.Cohorts,G.a.Elements,...s.insight===c.F.TRENDS?[G.a.Sessions]:[]];return Object(e.jsx)(es.b,{noTitle:!0,value:Object(V.q)(s.properties),onChange:d=>o({properties:d}),taxonomicGroupTypes:r,pageKey:"insight-filters",eventNames:i,filters:s,setTestFilters:d=>o(d)})}try{rt.displayName="GlobalAndOrFilters",rt.__docgenInfo={description:"",displayName:"GlobalAndOrFilters",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/GlobalAndOrFilters.tsx#GlobalAndOrFilters"]={docgenInfo:rt.__docgenInfo,name:"GlobalAndOrFilters",path:"frontend/src/scenes/insights/EditorFilters/GlobalAndOrFilters.tsx#GlobalAndOrFilters"})}catch(t){}const ts=/^[a-zA-Z\ \-\*\^0-9\+\/\(\)\.]+$/;function lt(t){let{insightProps:s}=t;const{isFormulaOn:o,filters:i}=Object(l.useValues)(Object(Oe.a)(s)),a=Object(_.j)(i)?i.formula:null,{setFilters:r}=Object(l.useActions)(Object(Oe.a)(s)),[d,p]=Object(L.useState)(a);return Object(L.useEffect)(()=>{a&&p(a)},[a]),o?Object(e.jsx)("div",{className:"flex items-center gap-2",children:Object(e.jsx)(z.LemonInput,{className:"flex-1",placeholder:"Example: (A + B) / 100",autoFocus:!0,value:d,onChange:u=>{let m=u.toLocaleUpperCase();m=m.split("").filter(g=>ts.test(g)).join(""),p(m)},onBlur:u=>{var m;((m=u.relatedTarget)===null||m===void 0?void 0:m.id)!=="trends-formula-switch"&&d!==a&&r({formula:d})},onFocus:()=>{d&&d!==a&&r({formula:d})},onPressEnter:()=>{d!==a&&r({formula:d})}})}):null}function dt(t){let{insightProps:s}=t;const{isFormulaOn:o}=Object(l.useValues)(Object(Oe.a)(s));return o?Object(e.jsx)(e.Fragment,{children:"Formula"}):null}try{lt.displayName="TrendsFormula",lt.__docgenInfo={description:"",displayName:"TrendsFormula",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/TrendsFormula.tsx#TrendsFormula"]={docgenInfo:lt.__docgenInfo,name:"TrendsFormula",path:"frontend/src/scenes/insights/EditorFilters/TrendsFormula.tsx#TrendsFormula"})}catch(t){}try{dt.displayName="TrendsFormulaLabel",dt.__docgenInfo={description:"",displayName:"TrendsFormulaLabel",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/TrendsFormula.tsx#TrendsFormulaLabel"]={docgenInfo:dt.__docgenInfo,name:"TrendsFormulaLabel",path:"frontend/src/scenes/insights/EditorFilters/TrendsFormula.tsx#TrendsFormulaLabel"})}catch(t){}var ns=n("./frontend/src/scenes/insights/filters/BreakdownFilter/index.ts");function ct(t){let{filters:s}=t;const{setFiltersMerge:o}=Object(l.useActions)(C.c),{featureFlags:i}=Object(l.useValues)(I.a),a=s.insight!==c.F.TRENDS&&!!i[S.i.BREAKDOWN_BY_MULTIPLE_PROPERTIES];return Object(e.jsx)(ns.a,{filters:s,setFilters:o,useMultiBreakdown:a})}try{ct.displayName="Breakdown",ct.__docgenInfo={description:"",displayName:"Breakdown",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/Breakdown.tsx#Breakdown"]={docgenInfo:ct.__docgenInfo,name:"Breakdown",path:"frontend/src/scenes/insights/EditorFilters/Breakdown.tsx#Breakdown"})}catch(t){}var ss=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/checkbox/index.js"),Ut=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),os=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/EditorFilters/LifecycleToggles.scss"),fn=n.n(os),Yt={};Yt.insert="head",Yt.singleton=!1;var Xs=A()(fn.a,Yt),Zs=fn.a.locals||{};const is=[{name:"new",tooltip:"Users who were first seen on this period and did the activity during the period."},{name:"returning",tooltip:"Users who did activity both this and previous period."},{name:"resurrecting",tooltip:"Users who did the activity this period but did not do the activity on the previous period (i.e. were inactive for 1 or more periods)."},{name:"dormant",tooltip:"Users who went dormant on this period, i.e. users who did not do the activity this period but did the activity on the previous period."}];function ut(t){let{insightProps:s}=t;const{toggleLifecycle:o}=Object(l.useActions)(Object(Oe.a)(s));return Object(e.jsx)(e.Fragment,{children:Object(e.jsx)("div",{className:"LifecycleToggles",children:is.map((i,a)=>Object(e.jsxs)("div",{children:[i.name," ",Object(e.jsxs)("div",{children:[Object(e.jsx)(ss.a,{defaultChecked:!0,className:i.name,onChange:()=>o(i.name)}),Object(e.jsx)(be.a,{title:i.tooltip,children:Object(e.jsx)(Ut.a,{className:"info-indicator"})})]})]},a))})})}try{ut.displayName="LifecycleToggles",ut.__docgenInfo={description:"",displayName:"LifecycleToggles",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/LifecycleToggles.tsx#LifecycleToggles"]={docgenInfo:ut.__docgenInfo,name:"LifecycleToggles",path:"frontend/src/scenes/insights/EditorFilters/LifecycleToggles.tsx#LifecycleToggles"})}catch(t){}var as=n("./frontend/src/scenes/insights/filters/TestAccountFilter/index.ts");function pt(t){let{filters:s,insightProps:o}=t;const{setFilters:i}=Object(l.useActions)(Object(Oe.a)(o));return Object(e.jsx)(as.a,{filters:s,onChange:i})}try{pt.displayName="LifecycleGlobalFilters",pt.__docgenInfo={description:"",displayName:"LifecycleGlobalFilters",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/LifecycleGlobalFilters.tsx#LifecycleGlobalFilters"]={docgenInfo:pt.__docgenInfo,name:"LifecycleGlobalFilters",path:"frontend/src/scenes/insights/EditorFilters/LifecycleGlobalFilters.tsx#LifecycleGlobalFilters"})}catch(t){}var Fe=n("./frontend/src/scenes/retention/retentionTableLogic.ts"),Pe=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/select/index.js"),rs=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/input/index.js"),ls=n("./frontend/src/lib/introductions/groupsAccessLogic.ts"),ds=n("./frontend/src/scenes/groups/GroupsIntroduction.tsx");const $t=-1;function Ke(t){let{aggregationGroupTypeIndex:s,onChange:o}=t;const{groupTypes:i,aggregationLabel:a}=Object(l.useValues)(Me.a),{needsUpgradeForGroups:r,canStartUsingGroups:d}=Object(l.useValues)(ls.b),p=[{title:"Event Aggregation",options:[{value:$t,label:"Unique users"}]}];return r||d?p[0].footer=Object(e.jsx)(ds.a,{needsUpgrade:r}):i.forEach(u=>{p[0].options.push({value:u.group_type_index,label:`Unique ${a(u.group_type_index).plural}`})}),Object(e.jsx)(z.LemonSelect,{value:s===void 0?$t:s,onChange:u=>{u!==null&&o(u===$t?void 0:u)},"data-attr":"retention-aggregation-selector",dropdownMatchSelectWidth:!1,options:p})}try{Ke.displayName="AggregationSelect",Ke.__docgenInfo={description:"",displayName:"AggregationSelect",props:{aggregationGroupTypeIndex:{defaultValue:null,description:"",name:"aggregationGroupTypeIndex",required:!0,type:{name:"number | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(aggregationGroupTypeIndex: number | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/filters/AggregationSelect.tsx#AggregationSelect"]={docgenInfo:Ke.__docgenInfo,name:"AggregationSelect",path:"frontend/src/scenes/insights/filters/AggregationSelect.tsx#AggregationSelect"})}catch(t){}function mt(t){var s,o;let{insightProps:i}=t;const{showGroupsOptions:a}=Object(l.useValues)(Me.a),{filters:r,actionFilterTargetEntity:d,actionFilterReturningEntity:p}=Object(l.useValues)(Object(Fe.e)(i)),{setFilters:u}=Object(l.useActions)(Object(Fe.e)(i));return Object(e.jsxs)("div",{className:"space-y-2","data-attr":"retention-summary",children:[Object(e.jsxs)("div",{children:["Show"," ",a?Object(e.jsx)(Ke,{aggregationGroupTypeIndex:r.aggregation_group_type_index,onChange:m=>u({aggregation_group_type_index:m})}):Object(e.jsx)("b",{children:"Unique users"})," ","who performed event or action"]}),Object(e.jsxs)("div",{className:"flex items-center",children:[Object(e.jsx)(Ge.a,{entitiesLimit:1,mathAvailability:De.b.None,hideFilter:!0,hideRename:!0,buttonCopy:"Add graph series",filters:d,setFilters:m=>{m.events&&m.events.length>0?u({target_entity:m.events[0]}):m.actions&&m.actions.length>0?u({target_entity:m.actions[0]}):u({target_entity:void 0})},typeKey:"retention-table"}),Object(e.jsx)(Pe.a,{value:r.retention_type?Fe.d[r.retention_type]:void 0,onChange:m=>u({retention_type:m}),dropdownMatchSelectWidth:!1,children:Object.entries(Fe.d).map(m=>{let[g,v]=m;return Object(e.jsxs)(Pe.a.Option,{value:g,children:[v,Object(e.jsx)(be.a,{placement:"right",title:Fe.c[g],children:Object(e.jsx)(Ut.a,{className:"info-indicator"})})]},g)})})]}),Object(e.jsxs)("div",{children:["in the last"," ",Object(e.jsx)(rs.a,{type:"tel",style:{width:80},value:String(((s=r.total_intervals)!==null&&s!==void 0?s:11)-1),onChange:m=>u({total_intervals:parseInt(m.target.value||"0")+1})})," ",Object(e.jsx)(Pe.a,{value:r.period,onChange:m=>u({period:m}),dropdownMatchSelectWidth:!1,children:Fe.b.map(m=>Object(e.jsx)(Pe.a.Option,{value:m,children:Fe.a[m]||m},m))})]}),Object(e.jsxs)("div",{children:["and then came back to perform event or action"," ",Object(e.jsx)("div",{className:"flex",children:Object(e.jsx)(Ge.a,{entitiesLimit:1,mathAvailability:De.b.None,hideFilter:!0,hideRename:!0,buttonCopy:"Add graph series",filters:p,setFilters:m=>{m.events&&m.events.length>0?u({returning_entity:m.events[0]}):m.actions&&m.actions.length>0?u({returning_entity:m.actions[0]}):u({returning_entity:void 0})},typeKey:"retention-table-returning"})}),"on any of the next ",Fe.a[(o=r.period)!==null&&o!==void 0?o:"Day"]]}),Object(e.jsx)("div",{children:Object(e.jsxs)("p",{className:"text-muted mt-4",children:["Want to learn more about retention?"," ",Object(e.jsxs)("a",{href:"https://posthog.com/docs/features/retention?utm_campaign=learn-more-horizontal&utm_medium=in-product",target:"_blank",rel:"noopener",style:{display:"inline-flex",alignItems:"center"},children:["Go to docs",Object(e.jsx)(ee.IconOpenInNew,{style:{marginLeft:4}})]})]})})]})}try{mt.displayName="RetentionSummary",mt.__docgenInfo={description:"",displayName:"RetentionSummary",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/RetentionSummary.tsx#RetentionSummary"]={docgenInfo:mt.__docgenInfo,name:"RetentionSummary",path:"frontend/src/scenes/insights/EditorFilters/RetentionSummary.tsx#RetentionSummary"})}catch(t){}var ue=n("./frontend/src/scenes/paths/pathsLogic.ts"),cs=n("./frontend/src/lib/components/LemonCheckbox/index.ts");function ht(t){var s,o,i;let{insightProps:a}=t;const{filter:r}=Object(l.useValues)(Object(ue.b)(a)),{setFilter:d}=Object(l.useActions)(Object(ue.b)(a)),p=[{type:c.J.PageView,label:"Page views",selected:(s=r.include_event_types)===null||s===void 0?void 0:s.includes(c.J.PageView)},{type:c.J.Screen,label:"Screen views",selected:(o=r.include_event_types)===null||o===void 0?void 0:o.includes(c.J.Screen)},{type:c.J.CustomEvent,label:"Custom events",selected:(i=r.include_event_types)===null||i===void 0?void 0:i.includes(c.J.CustomEvent)}],u=g=>{r.include_event_types?r.include_event_types.includes(g)?d({include_event_types:r.include_event_types.filter(v=>v!==g)}):d({include_event_types:r.include_event_types?[...r.include_event_types,g]:[g]}):d({include_event_types:[g]})},m=Object(V.i)(Object(hn.h)(r).join(" & "));return Object(e.jsx)($.b,{status:"stealth",fullWidth:!0,type:"secondary",popup:{sameWidth:!0,closeOnClickInside:!1,overlay:p.map(g=>{var v;return Object(e.jsxs)($.a,{onClick:()=>u(g.type),status:"stealth",disabled:g.selected&&((v=r.include_event_types)===null||v===void 0?void 0:v.length)===1,fullWidth:!0,"data-attr":g["data-attr"],children:[Object(e.jsx)("span",{className:"pointer-events-none mr-2",children:Object(e.jsx)(cs.a,{checked:g.selected})}),g.label]},g.type)}),actionable:!0},children:m})}try{ht.displayName="PathsEventTypes",ht.__docgenInfo={description:"",displayName:"PathsEventTypes",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsEventTypes.tsx#PathsEventTypes"]={docgenInfo:ht.__docgenInfo,name:"PathsEventTypes",path:"frontend/src/scenes/insights/EditorFilters/PathsEventTypes.tsx#PathsEventTypes"})}catch(t){}var us=n("./frontend/src/lib/components/LemonSelectMultiple/LemonSelectMultiple.tsx");function gt(t){let{insightProps:s}=t;const{filter:o}=Object(l.useValues)(Object(ue.b)(s)),{setFilter:i}=Object(l.useActions)(Object(ue.b)(s));return Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(us.a,{onChange:a=>i({path_groupings:a}),value:o.path_groupings||[],filterOption:!1,mode:"multiple-custom"})})}try{gt.displayName="PathsWildcardGroups",gt.__docgenInfo={description:"",displayName:"PathsWildcardGroups",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsWildcardGroups.tsx#PathsWildcardGroups"]={docgenInfo:gt.__docgenInfo,name:"PathsWildcardGroups",path:"frontend/src/scenes/insights/EditorFilters/PathsWildcardGroups.tsx#PathsWildcardGroups"})}catch(t){}var bn=n("./frontend/src/lib/components/Popup/Popup.tsx"),ps=n("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx");function ze(t){let{pathItem:s,onChange:o,children:i,taxonomicGroupTypes:a,disabled:r,wildcardOptions:d}=t;const[p,u]=Object(L.useState)(!1);return Object(e.jsx)(bn.a,{visible:p,placement:"bottom-end",onClickOutside:()=>u(!1),overlay:Object(e.jsx)(ps.a,{value:s,onChange:(m,g)=>{o(g),u(!1)},taxonomicGroupTypes:a,optionsFromProp:{wildcard:d}}),children:Object(e.jsx)("div",{onClick:r?()=>{}:()=>u(!p),children:i})})}try{ze.displayName="PathItemSelector",ze.__docgenInfo={description:"",displayName:"PathItemSelector",props:{pathItem:{defaultValue:null,description:"",name:"pathItem",required:!0,type:{name:"TaxonomicFilterValue | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(item: string) => void"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!0,type:{name:"TaxonomicFilterGroupType[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},wildcardOptions:{defaultValue:null,description:"",name:"wildcardOptions",required:!1,type:{name:"SimpleOption[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyFilters/components/PathItemSelector.tsx#PathItemSelector"]={docgenInfo:ze.__docgenInfo,name:"PathItemSelector",path:"frontend/src/lib/components/PropertyFilters/components/PathItemSelector.tsx#PathItemSelector"})}catch(t){}function ft(t){return Object(e.jsx)(Ue,B({position:"start"},t))}function bt(t){return Object(e.jsx)(Ue,B({position:"end"},t))}function Ue(t){let{insightProps:s,position:o}=t;const{filter:i,wildcards:a,taxonomicGroupTypes:r}=Object(l.useValues)(Object(ue.b)(s)),{setFilter:d}=Object(l.useActions)(Object(ue.b)(s)),p=i.funnel_paths&&[c.z.between,c.z.after].includes(i.funnel_paths),u=i.funnel_paths&&[c.z.between,c.z.before].includes(i.funnel_paths),m=p||u;function g(O,b){var H,K,J,T;const pe=((H=O.events)===null||H===void 0||(K=H.filter(fe=>fe.order===b-1))===null||K===void 0?void 0:K[0])||((J=O.actions)===null||J===void 0||(T=J.filter(fe=>fe.order===b-1))===null||T===void 0?void 0:T[0]);return(pe==null?void 0:pe.name)||""}function v(O,b){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return O&&b?Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)(ee.IconFunnelVertical,{className:"text-2xl"}),Object(e.jsx)("span",{className:"label",children:`${b>0?"Funnel step "+(b+H):"Funnel dropoff "+b*-1}: ${g(O,b>0?b+H:b*-1)}`})]}):Object(e.jsx)("span",{})}function F(){if(i.funnel_paths)if(i.funnel_paths===c.z.after){var O;return v(i.funnel_filter,(O=i.funnel_filter)===null||O===void 0?void 0:O.funnel_step)}else if(i.funnel_paths===c.z.between){var b;return v(i.funnel_filter,(b=i.funnel_filter)===null||b===void 0?void 0:b.funnel_step,-1)}else return Object(e.jsx)("span",{});else return i.start_point?Object(e.jsx)("span",{className:"label",children:i.start_point}):Object(e.jsx)("span",{className:"label",style:{color:"var(--muted)"},children:"Add start point"})}function k(){if(i.funnel_paths)if(i.funnel_paths===c.z.before||i.funnel_paths===c.z.between){var O;return v(i.funnel_filter,(O=i.funnel_filter)===null||O===void 0?void 0:O.funnel_step)}else return Object(e.jsx)("span",{});else return i.end_point?Object(e.jsx)("span",{className:"label",children:i.end_point}):Object(e.jsx)("span",{className:"label",style:{color:"var(--muted)"},children:"Add end point"})}const R={start:{index:0,getLabel:F,setFilterKey:"start_point",pathItem:i.start_point,closeButtonEnabled:i.start_point||p,disabled:u&&!p,funnelFilterLink:i.funnel_filter&&p},end:{index:1,getLabel:k,setFilterKey:"end_point",pathItem:i.end_point,closeButtonEnabled:i.end_point||u,disabled:p&&!u,funnelFilterLink:i.funnel_filter&&u}}[o],U=R.closeButtonEnabled?$.c:$.a;return Object(e.jsx)(ze,{pathItem:R.pathItem,index:R.index,onChange:O=>d({[R.setFilterKey]:O}),taxonomicGroupTypes:r,disabled:m,wildcardOptions:a,children:Object(e.jsx)(U,{"data-attr":"new-prop-filter-"+R.index,status:R.funnelFilterLink?"primary":"stealth",fullWidth:!0,className:"paths-endpoint-field",type:"secondary",active:m,disabled:R.disabled,onClick:R.funnelFilterLink?()=>{Be.router.actions.push(Object(Be.combineUrl)("/insights",Object(Be.encodeParams)(i.funnel_filter,"?")).url)}:()=>{},sideAction:{icon:Object(e.jsx)(ee.IconClose,{}),type:"tertiary",onClick:O=>{d({[R.setFilterKey]:void 0,funnel_filter:void 0,funnel_paths:void 0}),O.stopPropagation()}},children:R.getLabel()})})}try{ft.displayName="PathsTargetStart",ft.__docgenInfo={description:"",displayName:"PathsTargetStart",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsTarget.tsx#PathsTargetStart"]={docgenInfo:ft.__docgenInfo,name:"PathsTargetStart",path:"frontend/src/scenes/insights/EditorFilters/PathsTarget.tsx#PathsTargetStart"})}catch(t){}try{bt.displayName="PathsTargetEnd",bt.__docgenInfo={description:"",displayName:"PathsTargetEnd",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsTarget.tsx#PathsTargetEnd"]={docgenInfo:bt.__docgenInfo,name:"PathsTargetEnd",path:"frontend/src/scenes/insights/EditorFilters/PathsTarget.tsx#PathsTargetEnd"})}catch(t){}try{Ue.displayName="PathsTarget",Ue.__docgenInfo={description:"",displayName:"PathsTarget",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"enum",value:[{value:'"end"'},{value:'"start"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsTarget.tsx#PathsTarget"]={docgenInfo:Ue.__docgenInfo,name:"PathsTarget",path:"frontend/src/scenes/insights/EditorFilters/PathsTarget.tsx#PathsTarget"})}catch(t){}var ms=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),qt=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/input-number/index.js"),hs=n("./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx"),gs=n("./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx");function fs(){const[t,s]=Object(L.useState)(!1),{insightProps:o}=Object(l.useValues)(C.c),{filter:i}=Object(l.useValues)(Object(ue.b)(o)),{setFilter:a}=Object(l.useActions)(Object(ue.b)(o)),{currentTeam:r}=Object(l.useValues)(Gt.a),d=((r==null?void 0:r.path_cleaning_filters)||[]).length>0;return Object(e.jsxs)("div",{className:"space-y-2",children:[Object(e.jsx)(hs.a,{pageKey:"pathcleanfilters-local",pathCleaningFilters:i.local_path_cleaning_filters||[],onChange:p=>{a({local_path_cleaning_filters:[...i.local_path_cleaning_filters||[],p]})},onRemove:p=>{const u=(i.local_path_cleaning_filters||[]).filter((m,g)=>g!==p);a({local_path_cleaning_filters:u})}}),Object(e.jsx)(bn.a,{visible:t,placement:"top-end",fallbackPlacements:["top-start"],onClickOutside:()=>s(!1),overlay:Object(e.jsx)(gs.a,{item:{},onClose:()=>s(!1),onComplete:p=>{a({local_path_cleaning_filters:[...i.local_path_cleaning_filters||[],p]}),s(!1)}}),children:Object(e.jsx)(z.LemonButton,{onClick:()=>s(!t),className:"new-prop-filter","data-attr":"new-prop-filter-pathcleanfilters-local",type:"secondary",icon:Object(e.jsx)(ee.IconPlus,{}),size:"small",children:"Add Rule"})}),Object(e.jsx)(be.a,{title:d?"Clean paths based using regex replacement.":"You don't have path cleaning filters. Click the gear icon to configure it.",children:Object(e.jsx)(z.LemonSwitch,{disabled:!d,checked:d&&i.path_replacements||!1,onChange:p=>{localStorage.setItem("default_path_clean_filters",p.toString()),a({path_replacements:p})},label:"Apply global path URL cleaning",bordered:!0})})]})}var jt=n("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx");function vt(t){let{insightProps:s}=t;const{filter:o}=Object(l.useValues)(Object(ue.b)(s)),{setFilter:i}=Object(l.useActions)(Object(ue.b)(s)),[a,r]=Object(L.useState)({edge_limit:o.edge_limit,min_edge_weight:o.min_edge_weight,max_edge_weight:o.max_edge_weight}),d=()=>{(a.edge_limit!==o.edge_limit||a.min_edge_weight!==o.min_edge_weight||a.max_edge_weight!==o.max_edge_weight)&&i(B({},a))};return Object(e.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(e.jsx)(jt.a,{info:"Determines the maximum number of path nodes that can be generated. If necessary certain items will be grouped.",children:"Maximum number of paths"}),Object(e.jsx)(qt.a,{min:0,max:1e3,defaultValue:50,onChange:p=>r(u=>ne(B({},u),{edge_limit:Number(p)})),onBlur:d,onPressEnter:d}),Object(e.jsx)(jt.a,{info:"Determines the minimum and maximum number of persons in each path. Helps adjust the density of the visualization.",children:"Number of people on each path"}),Object(e.jsxs)("div",{children:["between"," ",Object(e.jsx)(qt.a,{min:0,max:1e5,onChange:p=>r(u=>ne(B({},u),{min_edge_weight:Number(p)})),onBlur:d,onPressEnter:d})," ","and"," ",Object(e.jsx)(qt.a,{onChange:p=>r(u=>ne(B({},u),{max_edge_weight:Number(p)})),min:0,max:1e5,onBlur:d,onPressEnter:d})]}),Object(e.jsxs)("div",{children:[Object(e.jsxs)("div",{className:"flex mb-2",children:[Object(e.jsx)(jt.a,{showOptional:!0,info:Object(e.jsx)(e.Fragment,{children:"Cleaning rules are an advanced feature that uses regex to normalize URLS for paths visualization. Rules can be set for all insights in the project settings, or they can be defined specifically for an insight."}),children:"Path Cleaning Rules"}),Object(e.jsxs)(Mt.a,{className:"grow-1 text-right",to:"/project/settings#path_cleaning_filtering",children:[Object(e.jsx)(ms.a,{})," Configure Project Rules"]})]}),Object(e.jsx)(fs,{})]})]})}try{vt.displayName="PathsAdvanced",vt.__docgenInfo={description:"",displayName:"PathsAdvanced",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsAdvanced.tsx#PathsAdvanced"]={docgenInfo:vt.__docgenInfo,name:"PathsAdvanced",path:"frontend/src/scenes/insights/EditorFilters/PathsAdvanced.tsx#PathsAdvanced"})}catch(t){}var q=n("./frontend/src/scenes/funnels/funnelLogic.ts"),jn=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js"),bs=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),js=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),vn=n("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),yn=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/menu/index.js"),vs=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/dropdown/index.js"),ys=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/DropdownSelector/DropdownSelector.scss"),On=n.n(ys),Ht={};Ht.insert="head",Ht.singleton=!1;var eo=A()(On.a,Ht),to=On.a.locals||{};function xn(t){let{icon:s,label:o,description:i,onClick:a}=t;return Object(e.jsxs)("div",{onClick:a,children:[Object(e.jsxs)("div",{className:"flex items-center text-sm font-medium gap-2",children:[s,Object(e.jsx)("div",{children:o})]}),i&&Object(e.jsx)("div",{className:"text-muted text-xs mt-1",children:i})]})}function yt(t){let{label:s,value:o,onValueChange:i,options:a,hideDescriptionOnDisplay:r,disabled:d,compact:p}=t;const u=a.find(g=>g.key===o),m=Object(e.jsx)(yn.a,{children:a.map(g=>{let R=g,{key:v,hidden:F}=R,k=Ln(R,["key","hidden"]);return F?null:Object(e.jsx)(yn.a.Item,{children:Object(e.jsx)(xn,ne(B({},k),{onClick:()=>i(v)}))},v)})});return Object(e.jsxs)(e.Fragment,{children:[s&&Object(e.jsx)("label",{className:"ant-form-item-label",children:s}),Object(e.jsx)(vs.a,{overlay:m,trigger:["click"],disabled:d,children:Object(e.jsxs)("div",{className:Object(je.default)("dropdown-selector",d&&" disabled",p&&"compact"),onClick:g=>g.preventDefault(),children:[Object(e.jsx)("div",{className:"grow",children:u&&Object(e.jsx)(xn,ne(B({},u),{onClick:()=>{},description:r?void 0:u.description}))}),Object(e.jsx)("div",{className:"dropdown-arrow",children:Object(e.jsx)(ee.IconArrowDropDown,{})})]})})]})}try{yt.displayName="DropdownSelector",yt.__docgenInfo={description:"",displayName:"DropdownSelector",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | null"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"(value: string) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"DropdownOption[]"}},hideDescriptionOnDisplay:{defaultValue:null,description:"",name:"hideDescriptionOnDisplay",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/DropdownSelector/DropdownSelector.tsx#DropdownSelector"]={docgenInfo:yt.__docgenInfo,name:"DropdownSelector",path:"frontend/src/lib/components/DropdownSelector/DropdownSelector.tsx#DropdownSelector"})}catch(t){}const Os=()=>{};function Ot(t){let{onChange:s=Os,disabled:o=!1,simpleMode:i}=t;const{insightProps:a}=Object(l.useValues)(C.c),{aggregationTargetLabel:r}=Object(l.useValues)(Object(q.a)(a)),{chartFilter:d}=Object(l.useValues)(Object(vn.a)(a)),{setChartFilter:p}=Object(l.useActions)(Object(vn.a)(a)),u=c.B.Steps,m=[{key:c.B.Steps,label:"Conversion steps",description:`Track ${r.plural} progress between steps of the funnel`,icon:Object(e.jsx)(jn.a,{})},{key:c.B.TimeToConvert,label:"Time to convert",description:`Track how long it takes for ${r.plural} to convert`,icon:Object(e.jsx)(bs.a,{}),hidden:!1},{key:c.B.Trends,label:"Historical trends",description:"Track how this funnel's conversion rate is trending over time",icon:Object(e.jsx)(js.a,{}),hidden:!1}];if(m.filter(v=>!v.hidden).length<=1)return null;const g=Object(e.jsx)("div",{className:"funnel-chart-filter",children:Object(e.jsx)(yt,{options:m,value:d||u,onValueChange:v=>{const F=v;p(F),s(F)},disabled:o,hideDescriptionOnDisplay:!0,compact:i})});return i?g:Object(e.jsxs)("div",{children:[Object(e.jsx)("h4",{className:"secondary",children:"Graph Type"}),g]})}try{Ot.displayName="ToggleButtonChartFilter",Ot.__docgenInfo={description:"",displayName:"ToggleButtonChartFilter",props:{onChange:{defaultValue:{value:"(): void => {}"},description:"",name:"onChange",required:!1,type:{name:"((chartFilter: FunnelVizType) => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},simpleMode:{defaultValue:null,description:"",name:"simpleMode",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Funnels/ToggleButtonChartFilter.tsx#ToggleButtonChartFilter"]={docgenInfo:Ot.__docgenInfo,name:"ToggleButtonChartFilter",path:"frontend/src/scenes/insights/views/Funnels/ToggleButtonChartFilter.tsx#ToggleButtonChartFilter"})}catch(t){}const Qt="funnels",_n=Object(l.kea)({path:["scenes","insights","InsightTabs","FunnelTab","funnelCommandLogic"],connect:[Q.a],events:{afterMount:()=>{const t=[{icon:jn.a,display:"Clear Funnel",executor:()=>{var o;(o=q.a.findMounted({syncWithUrl:!0}))===null||o===void 0||o.actions.clearFunnel()}}],s=[{key:Qt,resolver:t,scope:Qt}];for(const o of s)Q.a.actions.registerCommand(o)},beforeUnmount:()=>{Q.a.actions.deregisterScope(Qt)}}});var xs=n("./node_modules/.pnpm/use-debounce@6.0.1_react@16.14.0/node_modules/use-debounce/esm/useDebouncedCallback.js");const Sn={[c.w.Minute]:[1,1440],[c.w.Hour]:[1,24],[c.w.Day]:[1,365],[c.w.Week]:[1,53],[c.w.Month]:[1,12]};function _s(){var t;const{insightProps:s}=Object(l.useValues)(C.c),{conversionWindow:o,aggregationTargetLabel:i,filters:a}=Object(l.useValues)(Object(q.a)(s)),{setFilters:r}=Object(l.useActions)(Object(q.a)(s)),[d,p]=Object(L.useState)(o),u=Object.keys(Sn).map(v=>{var F;return{label:Object(V.i)(Object(V.tb)((F=o.funnel_window_interval)!==null&&F!==void 0?F:7,v,`${v}s`,!1)),value:v}}),m=Sn[(t=o.funnel_window_interval_unit)!==null&&t!==void 0?t:c.w.Day],g=Object(xs.a)(()=>{(d.funnel_window_interval!==o.funnel_window_interval||d.funnel_window_interval_unit!==o.funnel_window_interval_unit)&&r(d)},200);return Object(e.jsxs)("div",{className:"flex items-center gap-2 ",children:[Object(e.jsxs)("span",{className:"whitespace-nowrap",children:["Conversion window limit"," ",Object(e.jsx)(be.a,{title:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("b",{children:"Recommended!"})," Limit to ",i.plural," ",a.aggregation_group_type_index!=null?"that":"who"," converted within a specific time frame. ",Object(V.i)(i.plural)," ",a.aggregation_group_type_index!=null?"that":"who"," do not convert in this time frame will be considered as drop-offs."]}),children:Object(e.jsx)(Ut.a,{className:"info-indicator"})})]}),Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)(z.LemonInput,{type:"number",className:"max-w-20",fullWidth:!1,min:m[0],max:m[1],defaultValue:o.funnel_window_interval,value:d.funnel_window_interval,onChange:v=>{p(F=>ne(B({},F),{funnel_window_interval:Number(v)})),g()},onBlur:g,onPressEnter:g}),Object(e.jsx)(z.LemonSelect,{dropdownMatchSelectWidth:!1,value:d.funnel_window_interval_unit,onChange:v=>{v&&(p(F=>ne(B({},F),{funnel_window_interval_unit:v})),g())},options:u})]})]})}const Ss=20;function xt(t){let{insightProps:s}=t;const{isStepsEmpty:o,filterSteps:i,filters:a}=Object(l.useValues)(Object(q.a)(s)),{setFilters:r}=Object(l.useActions)(Object(q.a)(s)),{groupsTaxonomicTypes:d,showGroupsOptions:p}=Object(l.useValues)(Me.a);return Object(l.useMountedLogic)(_n),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{className:"flex justify-between items-center",children:[Object(e.jsx)(jt.a,{children:"Query Steps"}),Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)("span",{className:"text-muted",children:"Graph type"}),Object(e.jsx)(Ot,{simpleMode:!0})]})]}),Object(e.jsx)(Ge.a,{bordered:!0,filters:a,setFilters:r,typeKey:"EditFunnel-action",mathAvailability:De.b.None,hideDeleteBtn:i.length===1,buttonCopy:"Add step",showSeriesIndicator:!o,seriesIndicatorType:"numeric",entitiesLimit:Ss,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[G.a.EventProperties,G.a.PersonProperties,G.a.EventFeatureFlags,...d,G.a.Cohorts,G.a.Elements]}),Object(e.jsxs)("div",{className:"mt-4 space-y-4",children:[p&&Object(e.jsxs)("div",{className:"flex items-center w-full gap-2",children:[Object(e.jsx)("span",{children:"Aggregating by"}),Object(e.jsx)(Ke,{aggregationGroupTypeIndex:a.aggregation_group_type_index,onChange:u=>r({aggregation_group_type_index:u})})]}),Object(e.jsx)(_s,{})]})]})}try{xt.displayName="FunnelsQuerySteps",xt.__docgenInfo={description:"",displayName:"FunnelsQuerySteps",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/FunnelsQuerySteps.tsx#FunnelsQuerySteps"]={docgenInfo:xt.__docgenInfo,name:"FunnelsQuerySteps",path:"frontend/src/scenes/insights/EditorFilters/FunnelsQuerySteps.tsx#FunnelsQuerySteps"})}catch(t){}const Es=[{label:"Sequential",value:c.cb.ORDERED},{label:"Strict order",value:c.cb.STRICT},{label:"Any order",value:c.cb.UNORDERED}];function Fs(){const{insightProps:t}=Object(l.useValues)(C.c),{filters:s}=Object(l.useValues)(Object(q.a)(t)),{setFilters:o}=Object(l.useActions)(Object(q.a)(t));return Object(e.jsx)(z.LemonSelect,{id:"funnel-step-order-filter","data-attr":"funnel-step-order-filter",value:s.funnel_order_type||c.cb.ORDERED,onChange:i=>i&&o({funnel_order_type:i}),dropdownMatchSelectWidth:!1,options:Es})}var Jt=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/row/index.js"),En=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/col/index.js"),Ps=n("./node_modules/.pnpm/@react-hook+size@2.1.2_react@16.14.0/node_modules/@react-hook/size/dist/module/index.js");function Cs(t){var s,o,i,a,r,d,p,u;let{filter:m,index:g,onClose:v,isVertical:F}=t;const{insightProps:k}=Object(l.useValues)(C.c),{filters:R,areFiltersValid:U,numberOfSeries:O,exclusionDefaultStepRange:b}=Object(l.useValues)(Object(q.a)(k)),{setOneEventExclusionFilter:H}=Object(l.useActions)(Object(q.a)(k)),K={funnel_from_step:(s=(o=R.exclusions)===null||o===void 0||(i=o[g])===null||i===void 0?void 0:i.funnel_from_step)!==null&&s!==void 0?s:b.funnel_from_step,funnel_to_step:(a=(r=R.exclusions)===null||r===void 0||(d=r[g])===null||d===void 0?void 0:d.funnel_to_step)!==null&&a!==void 0?a:b.funnel_to_step},J=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K.funnel_from_step,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K.funnel_to_step;H(ne(B({},m),{funnel_from_step:T,funnel_to_step:pe}),g)};return Object(e.jsxs)(Jt.a,{justify:"space-between",align:"middle",wrap:!1,style:{margin:`${F?4:0}px 0`,paddingLeft:4,width:F?"100%":"auto"},children:["between",Object(e.jsx)(Pe.a,{defaultValue:0,disabled:!U,dropdownMatchSelectWidth:!1,dropdownAlign:V.a.bottomRight,"data-attr":"funnel-exclusion-funnel_from_step-selector",optionLabelProp:"label",value:K.funnel_from_step,onChange:T=>J(T),onBlur:()=>J,style:{marginLeft:4,marginRight:4},children:Array.from(Array(O).keys()).slice(0,-1).map(T=>Object(e.jsxs)(Pe.a.Option,{value:T,label:`Step ${T+1}`,children:["Step ",T+1]},T))}),"and",Object(e.jsx)(Pe.a,{defaultValue:((p=K.funnel_from_step)!==null&&p!==void 0?p:0)+1,disabled:!U,dropdownMatchSelectWidth:!1,dropdownAlign:V.a.bottomRight,"data-attr":"funnel-exclusion-funnel_to_step-selector",optionLabelProp:"label",value:K.funnel_to_step,onChange:T=>J(K.funnel_from_step,T),onBlur:()=>J,style:{marginLeft:4},children:Array.from(Array(O).keys()).slice(((u=K.funnel_from_step)!==null&&u!==void 0?u:0)+1).map(T=>Object(e.jsxs)(Pe.a.Option,{value:T,label:`Step ${T+1}`,children:["Step ",T+1]},T))}),Object(e.jsx)("div",{style:{flex:1}}),Object(e.jsx)(z.LemonButton,{icon:Object(e.jsx)(ee.IconDelete,{}),status:"primary-alt",onClick:v,"data-attr":"delete-prop-exclusion-filter",title:"Delete event exclusion series"})]})}function Ts(t){let{seriesIndicator:s,filter:o,suffix:i,isVertical:a}=t;return Object(e.jsxs)(Jt.a,{wrap:!1,align:a?"top":"middle",style:{width:"100%"},children:[Object(e.jsx)(En.a,{style:{padding:`${a?5:0}px 8px`},children:s}),Object(e.jsx)(En.a,{flex:"auto",children:Object(e.jsxs)(Jt.a,{align:"middle",wrap:a,children:[o,i]})})]})}function As(){const{insightProps:t}=Object(l.useValues)(C.c),{exclusionFilters:s,areFiltersValid:o,exclusionDefaultStepRange:i}=Object(l.useValues)(Object(q.a)(t)),{setEventExclusionFilters:a}=Object(l.useActions)(Object(q.a)(t)),r=Object(L.useRef)(null),[d]=Object(Ps.a)(r),p=!!d&&d<450;return Object(e.jsx)(Ge.a,{ref:r,setFilters:a,filters:s,typeKey:"funnel-exclusions-filter",addFilterDefaultOptions:B({id:"$pageview",name:"$pageview",type:c.p.EVENTS},i),disabled:!o,buttonCopy:"Add exclusion",actionsTaxonomicGroupTypes:[G.a.Events],mathAvailability:De.b.None,hideFilter:!0,hideRename:!0,hideDeleteBtn:!0,seriesIndicatorType:"alpha",renderRow:u=>Object(e.jsx)(Ts,ne(B({},u),{isVertical:p})),customRowSuffix:u=>Object(e.jsx)(Cs,ne(B({},u),{isVertical:p}))})}function Is(){const{insightProps:t}=Object(l.useValues)(C.c),{stepReference:s}=Object(l.useValues)(Object(q.a)(t)),{setStepReference:o}=Object(l.useActions)(Object(q.a)(t)),i=[{value:c.A.total,label:"Overall conversion"},{value:c.A.previous,label:"Relative to previous step"}];return Object(e.jsx)(z.LemonSelect,{value:s||c.A.total,onChange:a=>a&&o(a),dropdownMatchSelectWidth:!1,"data-attr":"funnel-step-reference-selector",options:i})}var _t=n("./frontend/src/lib/forms/Field.tsx");function St(t){let{filters:s,insightProps:o}=t;const{aggregationTargetLabel:i,advancedOptionsUsedCount:a}=Object(l.useValues)(Object(q.a)(o)),{setFilters:r,setStepReference:d}=Object(l.useActions)(Object(q.a)(o));return Object(l.useMountedLogic)(_n),Object(e.jsxs)("div",{className:"space-y-4",children:[Object(e.jsx)(_t.b,{label:"Step order",info:Object(e.jsxs)("ul",{className:"list-disc pl-4",children:[Object(e.jsxs)("li",{children:[Object(e.jsx)("b",{children:"Sequential"})," - Step B must happen after Step A, but any number events can happen between A and B."]}),Object(e.jsxs)("li",{children:[Object(e.jsx)("b",{children:"Strict order"})," - Step B must happen directly after Step A without any events in between."]}),Object(e.jsxs)("li",{children:[Object(e.jsx)("b",{children:"Any order"})," - Steps can be completed in any sequence."]})]}),children:Object(e.jsx)(Fs,{})}),Object(e.jsx)(_t.b,{label:"Conversion rate calculation",children:Object(e.jsx)(Is,{})}),Object(e.jsx)(_t.b,{label:"Exclusion steps",info:Object(e.jsxs)(e.Fragment,{children:["Exclude ",i.plural," ",s.aggregation_group_type_index!=null?"that":"who"," completed the specified event between two specific steps. Note that these ",i.plural," will be"," ",Object(e.jsx)("b",{children:"completely excluded from the entire funnel"}),"."]}),children:Object(e.jsx)(As,{})}),!!a&&Object(e.jsx)("div",{className:"mt-4",children:Object(e.jsx)($.a,{status:"danger",onClick:()=>{d(c.A.total),r({funnel_order_type:c.cb.ORDERED,exclusions:[]})},children:"Reset advanced options"})})]})}try{St.displayName="FunnelsAdvanced",St.__docgenInfo={description:"",displayName:"FunnelsAdvanced",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/FunnelsAdvanced.tsx#FunnelsAdvanced"]={docgenInfo:St.__docgenInfo,name:"FunnelsAdvanced",path:"frontend/src/scenes/insights/EditorFilters/FunnelsAdvanced.tsx#FunnelsAdvanced"})}catch(t){}var Xt=n("./frontend/src/lib/components/PropertyFilters/propertyFilterLogic.ts"),no=n("./frontend/src/scenes/actions/Actions.scss"),ws=n("./frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.tsx");function Et(t){let{propertyFilters:s,onChange:o,pageKey:i,taxonomicGroupTypes:a,wildcardOptions:r}=t;const d={propertyFilters:s,onChange:o,pageKey:i},{filtersWithNew:p}=Object(l.useValues)(Object(Xt.a)(d)),{setFilter:u,remove:m,setFilters:g}=Object(l.useActions)(Object(Xt.a)(d));return Object(L.useEffect)(()=>{s&&!Object(V.qb)(s,p)&&g([...s,{}])},[s]),Object(e.jsx)(l.BindLogic,{logic:Xt.a,props:d,children:p==null?void 0:p.map((v,F)=>Object(e.jsx)("div",{className:"mb-2",children:Object(e.jsx)(ze,{pathItem:v.value,onChange:k=>u(F,{key:k,value:k,type:c.N.Event}),index:F,taxonomicGroupTypes:a,wildcardOptions:r,children:v.value?Object(e.jsx)(ws.a,{item:v,onClose:()=>{m(F)},children:v.value.toString()}):Object(e.jsx)(z.LemonButton,{className:"new-prop-filter","data-attr":"new-prop-filter-"+i,type:"secondary",icon:Object(e.jsx)(ee.IconPlusMini,{color:"var(--primary)"}),children:"Add exclusion"})})},F))})}try{Et.displayName="PathItemFilters",Et.__docgenInfo={description:"",displayName:"PathItemFilters",props:{endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string | null"}},propertyFilters:{defaultValue:null,description:"",name:"propertyFilters",required:!1,type:{name:"AnyPropertyFilter[] | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: AnyPropertyFilter[]) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!0,type:{name:"TaxonomicFilterGroupType[]"}},wildcardOptions:{defaultValue:null,description:"",name:"wildcardOptions",required:!1,type:{name:"SimpleOption[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyFilters/PathItemFilters.tsx#PathItemFilters"]={docgenInfo:Et.__docgenInfo,name:"PathItemFilters",path:"frontend/src/lib/components/PropertyFilters/PathItemFilters.tsx#PathItemFilters"})}catch(t){}function Ft(t){let{insightProps:s}=t;const{filter:o,wildcards:i}=Object(l.useValues)(Object(ue.b)(s)),{updateExclusions:a}=Object(l.useActions)(Object(ue.b)(s)),r=o.include_event_types?[...o.include_event_types.map(d=>d===c.J.Screen?G.a.Screens:d===c.J.CustomEvent?G.a.CustomEvents:G.a.PageviewUrls),G.a.Wildcards]:[G.a.Wildcards];return Object(e.jsx)(Et,{taxonomicGroupTypes:r,pageKey:"exclusion",propertyFilters:o.exclude_events&&o.exclude_events.map(d=>({key:d,value:d,operator:void 0,type:c.N.Event})),onChange:d=>{const p=d.length>0?d.map(u=>u.value):d;a(p)},wildcardOptions:i})}try{Ft.displayName="PathsExclusions",Ft.__docgenInfo={description:"",displayName:"PathsExclusions",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsExclusions.tsx#PathsExclusions"]={docgenInfo:Ft.__docgenInfo,name:"PathsExclusions",path:"frontend/src/scenes/insights/EditorFilters/PathsExclusions.tsx#PathsExclusions"})}catch(t){}var Ls=n("./frontend/src/scenes/insights/utils/cleanFilters.ts"),Rs=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/EditorFilters/EditorFilterGroup.scss"),Fn=n.n(Rs),Zt={};Zt.insert="head",Zt.singleton=!1;var so=A()(Fn.a,Zt),oo=Fn.a.locals||{},Ns=n("./frontend/src/lib/components/LemonBadge/LemonBadge.tsx");function Pt(t){let{editorFilterGroup:s,insight:o,insightProps:i}=t;const{title:a,editorFilters:r,count:d,defaultExpanded:p=!0}=s,[u,m]=Object(L.useState)(p),{featureFlags:g}=Object(l.useValues)(I.a),v=g[S.i.INSIGHT_EDITOR_PANELS];return Object(e.jsxs)("div",{className:Object(je.default)("EditorFilterGroup",{"EditorFilterGroup--editorpanels":v}),children:[a&&Object(e.jsx)("div",{className:"EditorFilterGroup__title",children:Object(e.jsx)($.a,{status:"stealth",fullWidth:!0,onClick:()=>m(!u),sideIcon:u?Object(e.jsx)(ee.IconUnfoldLess,{}):Object(e.jsx)(ee.IconUnfoldMore,{}),title:u?"Show less":"Show more","data-attr":"editor-filter-group-collapse-"+Object(V.Cb)(a),children:Object(e.jsxs)("div",{className:"flex items-center space-x-2 font-semibold",children:[Object(e.jsx)("span",{children:a}),Object(e.jsx)(Ns.a.Number,{count:d||0})]})})}),!v||u?Object(e.jsx)("div",{className:"EditorFilterGroup__content",children:r.map(F=>{var k,R,U;let{label:O,tooltip:b,showOptional:H,key:K,valueSelector:J,component:T}=F;const pe=typeof O=="function"||T?{insight:o,insightProps:i,filters:(k=o.filters)!==null&&k!==void 0?k:Object(Ls.a)({}),value:(R=J?J(o):o==null||(U=o.filters)===null||U===void 0?void 0:U[K])!==null&&R!==void 0?R:null}:null;return Object(e.jsx)("div",{children:Object(e.jsx)(_t.b,{label:typeof O=="function"?Object(e.jsx)(O,B({},pe)):O,info:b,showOptional:H,children:T?Object(e.jsx)(T,B({},pe)):null})},K)})}):null]},a)}try{Pt.displayName="EditorFilterGroup",Pt.__docgenInfo={description:"",displayName:"EditorFilterGroup",props:{editorFilterGroup:{defaultValue:null,description:"",name:"editorFilterGroup",required:!0,type:{name:"InsightEditorFilterGroup"}},insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/EditorFilterGroup.tsx#EditorFilterGroup"]={docgenInfo:Pt.__docgenInfo,name:"EditorFilterGroup",path:"frontend/src/scenes/insights/EditorFilters/EditorFilterGroup.tsx#EditorFilterGroup"})}catch(t){}var Ds=n("./frontend/src/lib/components/PayCard/PayCard.tsx");function Ct(t){let{}=t;return Object(e.jsx)(Ds.a,{identifier:c.e.PATHS_ADVANCED,title:"Get a deeper understanding of your users",caption:"Advanced features such as interconnection with funnels, grouping & wildcarding and exclusions can help you gain deeper insights.",docsLink:"https://posthog.com/docs/user-guides/paths",dismissable:!1})}try{Ct.displayName="PathsAdvancedPaywall",Ct.__docgenInfo={description:"",displayName:"PathsAdvancedPaywall",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/PathsAdvancedPaywall.tsx#PathsAdvancedPaywall"]={docgenInfo:Ct.__docgenInfo,name:"PathsAdvancedPaywall",path:"frontend/src/scenes/insights/EditorFilters/PathsAdvancedPaywall.tsx#PathsAdvancedPaywall"})}catch(t){}var Vs=n("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function Tt(t){let{value:s}=t;const{setActiveView:o}=Object(l.useActions)(C.c);return Object(e.jsx)(z.LemonSelect,{options:kt.INSIGHT_TYPE_OPTIONS,value:s,onChange:i=>{i&&o(i)},fullWidth:!0,"data-attr":"insight-type"})}try{Tt.displayName="InsightTypeSelector",Tt.__docgenInfo={description:"",displayName:"InsightTypeSelector",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/InsightTypeSelector.tsx#InsightTypeSelector"]={docgenInfo:Tt.__docgenInfo,name:"InsightTypeSelector",path:"frontend/src/scenes/insights/EditorFilters/InsightTypeSelector.tsx#InsightTypeSelector"})}catch(t){}var ks=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/EditorFilters/EditorFilters.scss"),Pn=n.n(ks),en={};en.insert="head",en.singleton=!1;var io=A()(Pn.a,en),ao=Pn.a.locals||{};function At(t){let{insightProps:s}=t;const{setFilters:o}=Object(l.useActions)(Object(q.a)(s)),{filters:i,breakdownAttributionStepOptions:a}=Object(l.useValues)(Object(q.a)(s));return Object(e.jsx)(z.LemonSelect,{value:i.breakdown_attribution_type||c.j.FirstTouch,placeholder:"Attribution",options:[{value:c.j.FirstTouch,label:"First touchpoint"},{value:c.j.LastTouch,label:"Last touchpoint"},{value:c.j.AllSteps,label:"All steps"},i.funnel_order_type===c.cb.UNORDERED?{value:c.j.Step,label:"Any step"}:{value:c.j.Step,label:"Specific step",element:Object(e.jsx)(z.LemonSelect,{className:"ml-2",onChange:r=>{r!==null&&o({breakdown_attribution_type:c.j.Step,breakdown_attribution_value:r})},placeholder:`Step ${i.breakdown_attribution_value?i.breakdown_attribution_value+1:1}`,options:a})}],onChange:r=>{r&&o({breakdown_attribution_type:r,breakdown_attribution_value:i.breakdown_attribution_value||0})},dropdownMaxContentWidth:!0,"data-attr":"breakdown-attributions"})}try{At.displayName="Attribution",At.__docgenInfo={description:"",displayName:"Attribution",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx#Attribution"]={docgenInfo:At.__docgenInfo,name:"Attribution",path:"frontend/src/scenes/insights/EditorFilters/AttributionFilter.tsx#Attribution"})}catch(t){}function It(t){var s,o,i;let{insightProps:a,showing:r}=t;const{user:d}=Object(l.useValues)(le.a),p=(d==null||(s=d.organization)===null||s===void 0?void 0:s.available_features)||[],u=Object(C.c)(a),{filters:m,insight:g,filterPropertiesCount:v}=Object(l.useValues)(u),{preflight:F}=Object(l.useValues)(Vs.a),{advancedOptionsUsedCount:k}=Object(l.useValues)(Object(q.a)(a)),{featureFlags:R}=Object(l.useValues)(I.a),U=R[S.i.INSIGHT_EDITOR_PANELS],O=Object(_.j)(m),b=Object(_.f)(m),H=Object(_.i)(m),K=Object(_.h)(m),J=Object(_.g)(m),T=Object(_.e)(m),pe=O||b||H,fe=O&&!S.n.includes(m.display||c.k.ActionsLineGraph)||K&&R[S.i.RETENTION_BREAKDOWN]&&m.display!==c.k.ActionsLineGraph||T&&m.funnel_viz_type===c.B.Steps,nn=O||H||K||J||T,Ye=p.includes(c.e.PATHS_ADVANCED),sn=T&&m.funnel_viz_type===c.B.Steps,Lt=k+(O&&m.formula?1:0),on=!!Lt,$e=[{title:"General",editorFilters:Ce([U?{key:"insight",label:"Type",component:Tt}:void 0,K&&{key:"retention-summary",label:"Retention Summary",component:mt},...J?Ce([{key:"event-types",label:"Event Types",component:ht},Ye&&{key:"wildcard-groups",label:"Wildcard Groups",showOptional:!0,component:gt,tooltip:Object(e.jsxs)(e.Fragment,{children:["Use wildcard matching to group events by unique values in path item names. Use an asterisk (*) in place of unique values. For example, instead of /merchant/1234/payment, replace the unique value with an asterisk /merchant/*/payment. ",Object(e.jsx)("b",{children:"Use a comma to separate multiple wildcards."})]})},{key:"start-target",label:"Starts at",component:ft},Ye&&{key:"ends-target",label:"Ends at",component:bt}]):[],...T?Ce([{key:"query-steps",component:xt}]):[]])},{title:"Series",editorFilters:Ce([pe&&{key:"series",label:O?at:void 0,component:it},O?{key:"formula",label:dt,component:lt}:null])},{title:"Filters",count:v,editorFilters:Ce([b?{key:"properties",label:U?void 0:"Filters",position:"right",component:pt}:null,b?{key:"toggles",label:"Lifecycle Toggles",position:"right",component:ut}:null,nn?{key:"properties",label:U?void 0:"Filters",position:"right",component:rt}:null])},{title:"Breakdown",count:((o=m.breakdowns)===null||o===void 0?void 0:o.length)||(m.breakdown?1:0),position:"right",editorFilters:Ce([fe?{key:"breakdown",label:"Breakdown by",position:"right",tooltip:Object(e.jsx)(e.Fragment,{children:"Use breakdown to see the aggregation (total volume, active users, etc.) for each value of that property. For example, breaking down by Current URL with total volume will give you the event volume for each URL your users have visited."}),component:ct}:null,sn?{key:"attribution",label:"Attribution type",position:"right",tooltip:Object(e.jsxs)("div",{children:["Attribution type determines which property value to use for the entire funnel.",Object(e.jsxs)("ul",{className:"list-disc pl-4",children:[Object(e.jsx)("li",{children:"First step: the first property value seen from all steps is chosen."}),Object(e.jsx)("li",{children:"Last step: last property value seen from all steps is chosen."}),Object(e.jsx)("li",{children:"Specific step: the property value seen at that specific step is chosen."}),Object(e.jsx)("li",{children:"All steps: the property value must be seen in all steps."}),Object(e.jsx)("li",{children:"Any step: the property value must be seen on at least one step of the funnel."})]})]}),component:At}:null])},{title:"Exclusions",position:"right",editorFilters:Ce([J&&{key:"paths-exclusions",label:"Exclusions",position:"right",tooltip:Object(e.jsx)(e.Fragment,{children:"Exclude events from Paths visualisation. You can use wildcard groups in exclusions as well."}),component:Ft}])},{title:"Advanced Options",position:"left",defaultExpanded:on,count:Lt,editorFilters:Ce([J&&(Ye?{key:"paths-advanced",component:vt}:F!=null&&(i=F.instance_preferences)!==null&&i!==void 0&&i.disable_paid_fs?void 0:{key:"paths-paywall",component:Ct}),T&&{key:"funnels-advanced",component:St}])}].filter(Te=>Te.editorFilters.length>0);let Rt=[];if(!U){const Te=$e.reduce((Ve,qe)=>Ve.concat(qe.editorFilters.filter(Ae=>Ae.position!=="right")),[]),an=$e.reduce((Ve,qe)=>Ve.concat(qe.editorFilters.filter(Ae=>Ae.position==="right")),[]);Rt=[{title:"Left",editorFilters:Te},{title:"right",editorFilters:an}]}return Object(e.jsx)(Zn.a,{in:r,timeout:250,classNames:"anim-",mountOnEnter:!0,unmountOnExit:!0,children:Object(e.jsx)("div",{className:Object(je.default)("EditorFiltersWrapper",{"EditorFiltersWrapper--editorpanels":U,"EditorFiltersWrapper--singlecolumn":U||T}),children:Object(e.jsx)("div",{className:"EditorFilters",children:(U||T?$e:Rt).map(Te=>Object(e.jsx)(Pt,{editorFilterGroup:Te,insight:g,insightProps:a},Te.title))})})})}function Ce(t){return t.filter(s=>!!s)}try{It.displayName="EditorFilters",It.__docgenInfo={description:"",displayName:"EditorFilters",props:{insightProps:{defaultValue:null,description:"",name:"insightProps",required:!0,type:{name:"InsightLogicProps"}},showing:{defaultValue:null,description:"",name:"showing",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/EditorFilters/EditorFilters.tsx#EditorFilters"]={docgenInfo:It.__docgenInfo,name:"EditorFilters",path:"frontend/src/scenes/insights/EditorFilters/EditorFilters.tsx#EditorFilters"})}catch(t){}var Ms=n("./frontend/src/lib/components/LemonButton/More.tsx"),tn=n("./frontend/src/lib/components/LemonDivider/index.ts"),Bs=n("./frontend/src/scenes/saved-insights/savedInsightsLogic.ts"),Cn=n("./frontend/src/lib/components/Subscriptions/SubscriptionsModal.tsx"),Ws=n("./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),Gs=n("./frontend/src/lib/components/Sharing/SharingModal.tsx"),Ks=n("./frontend/src/lib/components/ExportButton/ExportButton.tsx"),zs=n("./frontend/src/models/tagsModel.ts");function wt(t){var s,o,i;let{insightId:a}=t;const{insightMode:r,subscriptionId:d}=Object(l.useValues)(f.a),{setInsightMode:p}=Object(l.useActions)(f.a),{featureFlags:u}=Object(l.useValues)(I.a),{currentTeamId:m}=Object(l.useValues)(Gt.a),{push:g}=Object(l.useActions)(Be.router),v=Object(C.c)({dashboardItemId:a||"new"}),{insightProps:F,insightLoading:k,filtersKnown:R,filters:U,canEditInsight:O,insight:b,insightChanged:H,tagLoading:K,insightSaving:J,exporterResourceParams:T}=Object(l.useValues)(v);Object(l.useMountedLogic)(x(F));const{saveInsight:pe,setInsightMetadata:fe,saveAs:nn,reportInsightViewedForRecentInsights:Ye}=Object(l.useActions)(v),{duplicateInsight:sn,loadInsights:Lt}=Object(l.useActions)(Bs.b),{hasAvailableFeature:on}=Object(l.useValues)(le.a),{aggregationLabel:$e}=Object(l.useValues)(Me.a),{cohortsById:Rt}=Object(l.useValues)(Jn.a),{mathDefinitions:Te}=Object(l.useValues)(Xn.f),{tags:an}=Object(l.useValues)(zs.a);Object(L.useEffect)(()=>{Ye()},[a]);const Ve=u[S.i.INSIGHT_EDITOR_PANELS];if(a!=="new"&&k&&!R)return Object(e.jsx)(gn,{});const qe=Object(e.jsxs)("div",{className:"insights-page",children:[a!=="new"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Cn.b,{isOpen:r===c.G.Subscriptions,closeModal:()=>g(ge.a.insightView(b.short_id)),insightShortId:a,subscriptionId:d}),Object(e.jsx)(Gs.a,{isOpen:r===c.G.Sharing,closeModal:()=>g(ge.a.insightView(b.short_id)),insightShortId:a,insight:b})]}),Object(e.jsx)(Qn.a,{title:Object(e.jsx)(un.a,{name:"name",value:b.name||"",placeholder:Object(hn.j)(U,$e,Rt,Te),onSave:Ae=>fe({name:Ae}),saveOnBlur:!0,maxLength:400,mode:O?void 0:"view","data-attr":"insight-name",notice:O?void 0:{icon:Object(e.jsx)(ee.IconLock,{}),tooltip:"You don't have edit permissions on any of the dashboards this insight belongs to. Ask a dashboard collaborator with edit access to add you."}}),buttons:Object(e.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[r!==c.G.Edit&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Ms.a,{overlay:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)($.a,{status:"stealth",onClick:()=>sn(b,!0),fullWidth:!0,"data-attr":"duplicate-insight-from-insight-view",children:"Duplicate"}),Object(e.jsx)($.a,{status:"stealth",onClick:()=>fe({favorited:!b.favorited}),fullWidth:!0,children:b.favorited?"Remove from favorites":"Add to favorites"}),Object(e.jsx)(tn.a,{}),Object(e.jsx)($.a,{status:"stealth",onClick:()=>b.short_id?g(ge.a.insightSharing(b.short_id)):null,fullWidth:!0,children:"Share or embed"}),b.short_id&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Cn.a,{insightShortId:b.short_id}),T?Object(e.jsx)(Ks.a,{fullWidth:!0,items:[{export_format:c.t.PNG,insight:b.id},{export_format:c.t.CSV,export_context:T}]}):null,Object(e.jsx)(tn.a,{})]}),Object(e.jsx)($.a,{status:"danger",onClick:()=>Object(V.x)({object:b,endpoint:`projects/${m}/insights`,callback:()=>{Lt(),g(ge.a.savedInsights())}}),fullWidth:!0,children:"Delete insight"})]})}),Object(e.jsx)(tn.a,{vertical:!0})]}),r===c.G.Edit&&b.saved&&Object(e.jsx)($.a,{type:"secondary",onClick:()=>p(c.G.View,null),children:"Cancel"}),r!==c.G.Edit&&b.short_id&&Object(e.jsx)(st,{insight:b,canEditInsight:O}),r!==c.G.Edit?O&&Object(e.jsx)($.a,{type:"primary",onClick:()=>p(c.G.Edit,null),"data-attr":"insight-edit-button",children:"Edit"}):Object(e.jsx)(ot,{saveAs:nn,saveInsight:pe,isSaved:b.saved,addingToDashboard:!!((s=b.dashboards)!==null&&s!==void 0&&s.length)&&!b.id,insightSaving:J,insightChanged:H})]}),caption:Object(e.jsxs)(e.Fragment,{children:[!!(O||b.description)&&Object(e.jsx)(un.a,{multiline:!0,name:"description",value:b.description||"",placeholder:"Description (optional)",onSave:Ae=>fe({description:Ae}),saveOnBlur:!0,maxLength:400,mode:O?void 0:"view","data-attr":"insight-description",compactButtons:!0,paywall:!on(c.e.DASHBOARD_COLLABORATION)}),O?Object(e.jsx)(pn.a,{tags:(o=b.tags)!==null&&o!==void 0?o:[],onChange:(Ae,rn)=>fe({tags:rn!=null?rn:[]}),saving:K,tagsAvailable:an,className:"insight-metadata-tags","data-attr":"insight-tags"}):(i=b.tags)!==null&&i!==void 0&&i.length?Object(e.jsx)(pn.a,{tags:b.tags,saving:K,className:"insight-metadata-tags","data-attr":"insight-tags",staticOnly:!0}):null,Object(e.jsx)(Ws.a,{at:b.last_modified_at,by:b.last_modified_by,className:"mt-2"})]})}),!Ve&&r===c.G.Edit&&Object(e.jsx)(Nn,{}),Object(e.jsxs)("div",{className:Object(je.default)("insight-wrapper",{"insight-wrapper--editorpanels":Ve,"insight-wrapper--singlecolumn":!Ve&&U.insight===c.F.FUNNELS}),children:[Object(e.jsx)(It,{insightProps:F,showing:r===c.G.Edit}),Object(e.jsx)("div",{className:"insights-container","data-attr":"insight-view",children:Object(e.jsx)(Yn.a,{insightMode:r})})]}),r!==c.G.View?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Ze,{}),Object(e.jsx)(Hn,{})]}):null]});return Object(e.jsx)(l.BindLogic,{logic:C.c,props:F,children:qe})}try{wt.displayName="Insight",wt.__docgenInfo={description:"",displayName:"Insight",props:{insightId:{defaultValue:null,description:"",name:"insightId",required:!0,type:{name:'InsightShortId | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/Insight.tsx#Insight"]={docgenInfo:wt.__docgenInfo,name:"Insight",path:"frontend/src/scenes/insights/Insight.tsx#Insight"})}catch(t){}var Us=n("./frontend/src/lib/components/NotFound/index.tsx");function Tn(){var t,s;const{insightId:o,insight:i,insightCache:a}=Object(l.useValues)(f.a);return o==="new"||o&&i!==null&&i!==void 0&&i.id&&i!==null&&i!==void 0&&i.short_id?Object(e.jsx)(wt,{insightId:o}):a!=null&&(t=a.logic)!==null&&t!==void 0&&(s=t.values)!==null&&s!==void 0&&s.insightLoading?Object(e.jsx)(gn,{}):Object(e.jsx)(Us.a,{object:"insight"})}const Ys={component:Tn,logic:f.a}},"./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/BarChartOutlined.js":function(j,h,n){"use strict";var f=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},A=D,w=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/components/AntdIcon.js"),y=function(X,L){return l.createElement(w.a,Object(f.a)(Object(f.a)({},X),{},{ref:L,icon:A}))};y.displayName="BarChartOutlined";var N=h.a=l.forwardRef(y)},"./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/FallOutlined.js":function(j,h,n){"use strict";var f=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},A=D,w=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/components/AntdIcon.js"),y=function(X,L){return l.createElement(w.a,Object(f.a)(Object(f.a)({},X),{},{ref:L,icon:A}))};y.displayName="FallOutlined";var N=h.a=l.forwardRef(y)},"./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/PercentageOutlined.js":function(j,h,n){"use strict";var f=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),l=n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},A=D,w=n("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/components/AntdIcon.js"),y=function(X,L){return l.createElement(w.a,Object(f.a)(Object(f.a)({},X),{},{ref:L,icon:A}))};y.displayName="PercentageOutlined";var N=h.a=l.forwardRef(y)},"./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/checkbox/Checkbox.js":function(j,h,n){"use strict";var f=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var D=f(n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/defineProperty.js")),A=f(n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/extends.js")),w=Q(n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js")),y=f(n("./node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js")),N=f(n("./node_modules/.pnpm/rc-checkbox@2.3.2_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-checkbox/es/index.js")),te=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/checkbox/Group.js"),X=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/config-provider/index.js"),L=f(n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/_util/devWarning.js"));function C(P){if(typeof WeakMap!="function")return null;var M=new WeakMap,x=new WeakMap;return(C=function(E){return E?x:M})(P)}function Q(P,M){if(!M&&P&&P.__esModule)return P;if(P===null||l(P)!=="object"&&typeof P!="function")return{default:P};var x=C(M);if(x&&x.has(P))return x.get(P);var c={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in P)if(S!=="default"&&Object.prototype.hasOwnProperty.call(P,S)){var I=E?Object.getOwnPropertyDescriptor(P,S):null;I&&(I.get||I.set)?Object.defineProperty(c,S,I):c[S]=P[S]}return c.default=P,x&&x.set(P,c),c}var ce=function(P,M){var x={};for(var c in P)Object.prototype.hasOwnProperty.call(P,c)&&M.indexOf(c)<0&&(x[c]=P[c]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,c=Object.getOwnPropertySymbols(P);E<c.length;E++)M.indexOf(c[E])<0&&Object.prototype.propertyIsEnumerable.call(P,c[E])&&(x[c[E]]=P[c[E]]);return x},re=function(M,x){var c,E=M.prefixCls,S=M.className,I=M.children,Z=M.indeterminate,se=Z===void 0?!1:Z,Ie=M.style,we=M.onMouseEnter,_e=M.onMouseLeave,Se=M.skipGroup,oe=Se===void 0?!1:Se,Y=ce(M,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),Le=w.useContext(X.ConfigContext),Re=Le.getPrefixCls,He=Le.direction,W=w.useContext(te.GroupContext),ie=w.useRef(Y.value);w.useEffect(function(){W==null||W.registerValue(Y.value),(0,L.default)("checked"in Y||!!W||!("value"in Y),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),w.useEffect(function(){if(!oe)return Y.value!==ie.current&&(W==null||W.cancelValue(ie.current),W==null||W.registerValue(Y.value)),function(){return W==null?void 0:W.cancelValue(Y.value)}},[Y.value]);var me=Re("checkbox",E),le=(0,A.default)({},Y);W&&!oe&&(le.onChange=function(){Y.onChange&&Y.onChange.apply(Y,arguments),W.toggleOption&&W.toggleOption({label:I,value:Y.value})},le.name=W.name,le.checked=W.value.indexOf(Y.value)!==-1,le.disabled=Y.disabled||W.disabled);var Ne=(0,y.default)((c={},(0,D.default)(c,"".concat(me,"-wrapper"),!0),(0,D.default)(c,"".concat(me,"-rtl"),He==="rtl"),(0,D.default)(c,"".concat(me,"-wrapper-checked"),le.checked),(0,D.default)(c,"".concat(me,"-wrapper-disabled"),le.disabled),c),S),z=(0,y.default)((0,D.default)({},"".concat(me,"-indeterminate"),se));return w.createElement("label",{className:Ne,style:Ie,onMouseEnter:we,onMouseLeave:_e},w.createElement(N.default,(0,A.default)({},le,{prefixCls:me,className:z,ref:x})),I!==void 0&&w.createElement("span",null,I))},V=w.forwardRef(re);V.displayName="Checkbox";var _=V;h.default=_},"./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/checkbox/Group.js":function(j,h,n){"use strict";var f=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.GroupContext=void 0;var D=f(n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/extends.js")),A=f(n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/defineProperty.js")),w=f(n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/toConsumableArray.js")),y=f(n("./node_modules/.pnpm/@babel+runtime@7.20.1/node_modules/@babel/runtime/helpers/slicedToArray.js")),N=ce(n("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js")),te=f(n("./node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js")),X=f(n("./node_modules/.pnpm/rc-util@5.24.4_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/rc-util/lib/omit.js")),L=f(n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/checkbox/Checkbox.js")),C=n("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/config-provider/index.js");function Q(x){if(typeof WeakMap!="function")return null;var c=new WeakMap,E=new WeakMap;return(Q=function(I){return I?E:c})(x)}function ce(x,c){if(!c&&x&&x.__esModule)return x;if(x===null||l(x)!=="object"&&typeof x!="function")return{default:x};var E=Q(c);if(E&&E.has(x))return E.get(x);var S={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in x)if(Z!=="default"&&Object.prototype.hasOwnProperty.call(x,Z)){var se=I?Object.getOwnPropertyDescriptor(x,Z):null;se&&(se.get||se.set)?Object.defineProperty(S,Z,se):S[Z]=x[Z]}return S.default=x,E&&E.set(x,S),S}var re=function(x,c){var E={};for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&c.indexOf(S)<0&&(E[S]=x[S]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,S=Object.getOwnPropertySymbols(x);I<S.length;I++)c.indexOf(S[I])<0&&Object.prototype.propertyIsEnumerable.call(x,S[I])&&(E[S[I]]=x[S[I]]);return E},V=N.createContext(null);h.GroupContext=V;var _=function(c,E){var S=c.defaultValue,I=c.children,Z=c.options,se=Z===void 0?[]:Z,Ie=c.prefixCls,we=c.className,_e=c.style,Se=c.onChange,oe=re(c,["defaultValue","children","options","prefixCls","className","style","onChange"]),Y=N.useContext(C.ConfigContext),Le=Y.getPrefixCls,Re=Y.direction,He=N.useState(oe.value||S||[]),W=(0,y.default)(He,2),ie=W[0],me=W[1],le=N.useState([]),Ne=(0,y.default)(le,2),z=Ne[0],e=Ne[1];N.useEffect(function(){"value"in oe&&me(oe.value||[])},[oe.value]);var Qe=function(){return se.map(function(de){return typeof de=="string"?{label:de,value:de}:de})},Dt=function(de){e(function(ve){return ve.filter(function(he){return he!==de})})},Je=function(de){e(function(ve){return[].concat((0,w.default)(ve),[de])})},Xe=function(de){var ve=ie.indexOf(de.value),he=(0,w.default)(ie);ve===-1?he.push(de.value):he.splice(ve,1),"value"in oe||me(he);var Vt=Qe();Se==null||Se(he.filter(function(et){return z.indexOf(et)!==-1}).sort(function(et,ln){var tt=Vt.findIndex(function(Ee){return Ee.value===et}),ge=Vt.findIndex(function(Ee){return Ee.value===ln});return tt-ge}))},Ze=Le("checkbox",Ie),ke="".concat(Ze,"-group"),be=(0,X.default)(oe,["value","disabled"]);se&&se.length>0&&(I=Qe().map(function(ae){return N.createElement(L.default,{prefixCls:Ze,key:ae.value.toString(),disabled:"disabled"in ae?ae.disabled:oe.disabled,value:ae.value,checked:ie.indexOf(ae.value)!==-1,onChange:ae.onChange,className:"".concat(ke,"-item"),style:ae.style},ae.label)}));var je={toggleOption:Xe,value:ie,disabled:oe.disabled,name:oe.name,registerValue:Je,cancelValue:Dt},ee=(0,te.default)(ke,(0,A.default)({},"".concat(ke,"-rtl"),Re==="rtl"),we);return N.createElement("div",(0,D.default)({className:ee,style:_e},be,{ref:E}),N.createElement(V.Provider,{value:je},I))},P=N.forwardRef(_),M=N.memo(P);h.default=M},"./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/table/Column.js":function(j,h,n){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;function f(D){return null}var l=f;h.default=l},"./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/modules/es.regexp.flags.js":function(j,h,n){var f=n("./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/descriptors.js"),l=n("./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/object-define-property.js"),D=n("./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/regexp-flags.js"),A=n("./node_modules/.pnpm/core-js@3.15.2/node_modules/core-js/internals/fails.js"),w=f&&A(function(){return Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});w&&l.f(RegExp.prototype,"flags",{configurable:!0,get:D})},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/AddToDashboard/AddToDashboard.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,"",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/DropdownSelector/DropdownSelector.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".dropdown-selector{padding:.5rem;border:1px solid var(--border-light);border-radius:var(--radius);display:flex;align-items:center;cursor:pointer}.dropdown-selector.disabled{color:var(--muted);cursor:not-allowed}.dropdown-selector.compact{padding:.333rem .5rem}.dropdown-selector .dropdown-arrow{display:flex;align-items:center;padding-left:4px;font-size:1.2em;color:var(--muted-alt)}",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/experimental/NPSPrompt.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".nps-prompt{background-color:var(--default);border-radius:var(--radius);padding:6px 1rem 1rem;color:var(--light);position:fixed;bottom:16px;right:16px;width:calc(100% - 32px);max-width:360px;z-index:var(--z-nps-overlay);font-size:.85rem;text-align:center;transition:transform 1s ease-in-out;transform:translateY(0)}.nps-prompt.hide{transform:translateY(150%)}.nps-prompt .prompt-title{font-size:1rem;font-weight:700;margin-bottom:1rem;max-width:90%;margin-left:auto;margin-right:auto;padding-top:10px}.nps-prompt .nps-dismiss{position:absolute;top:6px;right:6px;cursor:pointer}.nps-prompt .nps-header{display:flex;align-items:center;margin-bottom:.5rem}.nps-prompt .nps-progress{flex-grow:1;display:flex;justify-content:center}.nps-prompt .nps-progress .pg-item{width:12px;height:12px;border-radius:50%;background-color:var(--border);margin-right:.5rem}.nps-prompt .nps-progress .pg-item:last-of-type{margin-right:0}.nps-prompt .nps-progress .pg-item.completed{background-color:var(--success)}.nps-prompt .question{text-align:left;padding-bottom:.5rem}.nps-prompt .action-buttons{width:200px;margin:0 auto;padding-top:.5rem}.nps-prompt .action-buttons .ant-btn{margin-bottom:.5rem;width:100%}.nps-prompt .ant-btn:not(.ant-btn-link){background-color:var(--bg-depth);border:1px solid #000;color:var(--light)}.nps-prompt textarea{color:var(--light);background-color:var(--bg-depth);border-color:#000}.nps-prompt .ant-btn-link span{color:var(--light);text-decoration:underline!important}",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/EditorFilters/EditorFilterGroup.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".EditorFilterGroup .EditorFilterGroup__title{display:none}.EditorFilterGroup .EditorFilterGroup__content>*+*{margin-top:1rem}.EditorFilterGroup.EditorFilterGroup--editorpanels{overflow:hidden;background-color:#fff;border:1px solid var(--bg-mid);border-radius:var(--radius);margin-bottom:1rem}.EditorFilterGroup.EditorFilterGroup--editorpanels .EditorFilterGroup__title{display:block;padding:.5em;margin:0;background:var(--bg-mid);font-weight:600;display:flex;justify-content:space-between}.EditorFilterGroup.EditorFilterGroup--editorpanels .EditorFilterGroup__content{padding:1em}.EditorFilterGroup.EditorFilterGroup--editorpanels .EditorFilterGroup__count{display:flex;align-items:center;justify-content:center;color:var(--white);background:var(--primary);border:2px solid var(--bg-light);width:16px;height:16px;font-size:10px;border-radius:100%;box-sizing:content-box;margin-left:.5rem}",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/EditorFilters/EditorFilters.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".EditorFiltersWrapper{flex-shrink:0;border:1px solid var(--border);border-radius:var(--radius);padding:1rem;margin-bottom:1rem}.EditorFiltersWrapper .EditorFilters>*+*{margin-top:1rem}@media screen and (min-width:768px){.EditorFiltersWrapper .EditorFilters{display:flex;gap:2rem}.EditorFiltersWrapper .EditorFilters .EditorFilterGroup{flex:1;width:50%}.EditorFiltersWrapper .EditorFilters>*+*{margin-top:0}}.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn{margin-right:1rem}.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn .EditorFilters{flex-direction:column;gap:0}.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn .EditorFilters .EditorFilterGroup{width:auto}.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn .EditorFilters>*+*{margin-top:1rem}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn{border:none;padding:0}@media screen and (min-width:1200px){.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn{--editor-panel-width:max(25vw,28rem)}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels .EditorFilters,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn .EditorFilters{width:var(--editor-panel-width);display:block;padding-right:1rem}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--enter,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--enter{width:0}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--enter .EditorFilters,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--enter .EditorFilters{transform:translateX(calc(var(--editor-panel-width)*-1))}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--enter-active,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--enter-active{width:var(--editor-panel-width);transition:width .25s}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--enter-active .EditorFilters,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--enter-active .EditorFilters{transform:translateX(0);transition:transform .25s}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--exit,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--exit{width:var(--editor-panel-width)}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--exit .EditorFilters,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--exit .EditorFilters{transform:translateX(0)}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--exit-active,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--exit-active{width:0;transition:width .25s}.EditorFiltersWrapper.EditorFiltersWrapper--editorpanels.anim--exit-active .EditorFilters,.EditorFiltersWrapper.EditorFiltersWrapper--singlecolumn.anim--exit-active .EditorFilters{transform:translateX(calc(var(--editor-panel-width)*-1));transition:transform .25s}}",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/EditorFilters/LifecycleToggles.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".LifecycleToggles{text-transform:uppercase}.LifecycleToggles div{font-size:12px;display:flex;justify-content:space-between;padding-bottom:4px;align-items:center}.LifecycleToggles .new .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-new);background-color:var(--lifecycle-new)}.LifecycleToggles .returning .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-returning);background-color:var(--lifecycle-returning)}.LifecycleToggles .resurrecting .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-resurrecting);background-color:var(--lifecycle-resurrecting)}.LifecycleToggles .dormant .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-dormant);background-color:var(--lifecycle-dormant)}",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/Insight.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".insights-page .ant-card-bordered{border-radius:var(--radius);box-shadow:none;border:1px solid var(--border)}.insights-page h2{font-size:1.125rem;font-weight:600}.insights-page .top-bar,.insights-page .top-bar .ant-tabs,.insights-page .top-bar .ant-tabs-nav-list{width:100%}.insights-page .top-bar .ant-btn-loading-icon{display:none}.insights-page .top-bar .ant-tabs-tab{padding:0}.insights-page .top-bar .ant-tabs-tab .ant-tabs-tab-btn,.insights-page .top-bar .ant-tabs-tab .ant-tabs-tab-btn .tab-text{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.insights-page .top-bar .ant-tabs-tab .ant-tabs-tab-btn .tab-text{padding-bottom:6px;color:inherit}.insights-page .insight-history-button{padding-right:0;padding-left:0;border-radius:0;border:0;border-bottom:2px solid transparent}.insights-page .insight-history-button.active{border-bottom:2px solid var(--primary)}.insights-page hr{margin:1rem 0}.insights-page .ant-tabs-tab .hotkey{margin-bottom:0;background-color:var(--primary-bg-hover)!important;border-color:var(--primary-bg-hover)!important}.insights-page .ant-tabs-tab .deprecated{color:var(--muted)}.insights-page .ant-tabs-tab .deprecated .hotkey{margin-bottom:0;background-color:var(--light)!important;border-color:var(--border)!important;color:var(--muted)}.insights-page .ant-tabs-tab.ant-tabs-tab-active .deprecated{color:var(--primary)}.insights-page .ant-tabs-tab:not(.ant-tabs-tab-active):hover .hotkey{background-color:var(--primary-bg-active)!important}.insights-page .ant-tabs-tab:not(.ant-tabs-tab-active):hover .deprecated .hotkey{background-color:var(--light)!important}.insights-page .insight-controls{overflow:visible;position:relative;margin-bottom:1rem}.insights-page .insight-controls .ant-card-body{padding:.8rem 1rem}.insights-page .insight-wrapper.insight-wrapper--editorpanels,.insights-page .insight-wrapper.insight-wrapper--singlecolumn{position:relative}@media screen and (min-width:1200px){.insights-page .insight-wrapper.insight-wrapper--editorpanels,.insights-page .insight-wrapper.insight-wrapper--singlecolumn{display:flex;overflow:hidden}.insights-page .insight-wrapper.insight-wrapper--editorpanels .insights-container,.insights-page .insight-wrapper.insight-wrapper--singlecolumn .insights-container{flex:1;overflow-x:auto}}.insights-page .insights-graph-container{background:#fff;margin-bottom:1rem}.insights-page .insights-graph-container .ant-card-head{border-bottom:1px solid var(--border);min-height:unset;background-color:var(--bg-light);padding-left:1rem;padding-right:1rem}.insights-page .insights-graph-container .ant-card-body,.insights-page .insights-graph-container .ant-card-head .ant-card-head-title{padding:0}.insights-page .insights-graph-container .insights-graph-container-row .insights-graph-container-row-left{width:100%}.insights-page .insights-graph-container .insights-graph-container-row .insights-graph-container-row-right{height:min(90vh - 16rem,36rem);max-width:300px;width:-moz-fit-content;width:fit-content;padding:0 1rem 1rem 0;display:flex;align-items:center}.insights-page .insights-graph-container .LineGraph{width:calc(100% - 3rem);height:calc(100% - 3rem)}.insights-page .insight-title-container{display:flex;align-items:center}.insights-page .insight-title-container .insight-title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.insights-page .advanced-options-dropdown{font-size:1.4em;color:var(--primary-alt)}.insights-page .advanced-options-dropdown.expanded{transform:rotateX(180deg)}.insights-page .funnel-advanced-options .funnel-exclusions-filter .mt:first-of-type{margin-top:.5rem}.insights-page .retention-date-picker{background-color:transparent;border:0}.insights-page .retention-date-picker input::-moz-placeholder{color:var(--default)}.insights-page .retention-date-picker input::placeholder{color:var(--default)}.insights-page .insights-graph-header{margin-top:0!important;margin-bottom:0!important;padding-left:1rem;padding-right:1rem;min-height:48px}.insight-metadata-tags{margin-top:.5rem}.insight-metadata-tags .ant-tag{margin-top:0}.trends-insights-container{position:relative;min-height:min(90vh - 16rem,36rem);display:flex;justify-content:center}.trends-insights-container .LineGraph{height:calc(100% - 1rem)!important}.funnel-insights-container{background-color:var(--funnel-canvas-background);border-radius:0 0 var(--radius) var(--radius)}.funnel-insights-container.non-empty-state{min-height:26rem;position:relative;margin-bottom:0}.funnel-insights-container .ant-table-wrapper{margin-top:0!important}.funnel-tab-btn-popover .ant-popover-inner-content{padding:4px 15px}.funnel-tab-btn-popover .ant-popover-inner-content button.ant-btn-link{padding:0;margin:0 0 0 4px}.significance-highlight{display:inline-flex;background:var(--primary);color:var(--bg-light)}.significance-highlight .LemonIcon{color:var(--bg-light)}",""]),j.exports=h},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Trends/FunnelsCue.scss":function(j,h,n){var f=n("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");h=f(!1),h.push([j.i,".funnels-product-cue{margin-bottom:0;max-height:0;position:relative;overflow:hidden}.funnels-product-cue.shown{height:auto;max-height:600px;overflow:visible;margin-bottom:1rem}.funnels-product-cue .inline-message{border:1px solid var(--primary);background-color:#fff;max-width:800px}.funnels-product-cue .tooltip-arrow{position:absolute;bottom:-5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid var(--primary)}",""]),j.exports=h}}]);
