(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{"./frontend/src/scenes/plugins/Plugins.tsx":function(ve,F,s){"use strict";s.r(F),s.d(F,"scene",function(){return qn}),s.d(F,"Plugins",function(){return Je});var ye=s("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Qe=s.n(ye),Xe=s("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss"),Ue=s.n(Xe),Pe={};Pe.insert="head",Pe.singleton=!1;var st=Qe()(Ue.a,Pe),at=Ue.a.locals||{},Ne=s("./node_modules/react/index.js"),Ze=s("./frontend/src/scenes/plugins/edit/PluginDrawer.tsx"),qe=s("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Be=s.n(qe),_e=s("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Fe=s.n(_e),rt=s("./node_modules/core-js/modules/es.array.filter.js"),lt=s("./node_modules/core-js/modules/es.object.to-string.js"),it=s("./node_modules/core-js/modules/es.array.includes.js"),ot=s("./node_modules/core-js/modules/es.string.includes.js"),dt=s("./node_modules/core-js/modules/es.array.concat.js"),ct=s("./node_modules/core-js/modules/es.array.map.js"),ut=s("./node_modules/core-js/modules/es.function.name.js"),gt=s("./node_modules/core-js/modules/es.symbol.js"),jt=s("./node_modules/core-js/modules/es.symbol.description.js"),f=s("./node_modules/antd/es/row/index.js"),h=s("./node_modules/antd/es/col/index.js"),g=s("./node_modules/kea/lib/index.esm.js"),o=s("./frontend/src/scenes/plugins/pluginsLogic.ts"),pt=s("./node_modules/core-js/modules/es.string.starts-with.js"),k=s("./node_modules/antd/es/space/index.js"),O=s("./node_modules/antd/es/button/index.js"),G=s("./node_modules/antd/es/card/index.js"),T=s("./node_modules/antd/es/tag/index.js"),en=s("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),De=s("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),nn=s("./node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),tn=s("./node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),ze=s("./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),Ye=s("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),sn=s("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),an=s("./node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),rn=s("./node_modules/@ant-design/icons/es/icons/UnorderedListOutlined.js"),ln=s("./node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),W=s("./node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js"),on=s("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),dn=s("./node_modules/antd/es/popover/index.js"),cn=s("./node_modules/@ant-design/icons/es/icons/ClearOutlined.js"),ie=s("./frontend/src/lib/components/CodeSnippet/index.tsx"),Ke=s("./frontend/src/lib/dayjs.ts"),e=s("./node_modules/react/jsx-runtime.js");function $(n){var t=n.error,a=n.reset;return t?Object(e.jsx)(dn.a,{title:Object(e.jsx)("div",{style:{textAlign:"center"},children:Object(Ke.a)(t.time).format("YYYY-MM-DD - HH:mm:ss")}),content:Object(e.jsxs)(e.Fragment,{children:[a?Object(e.jsxs)(O.a,{size:"small",onClick:a,style:{float:"right",marginLeft:10},children:[Object(e.jsx)(cn.a,{})," Delete"]}):null,Object(e.jsxs)("div",{children:[t.name?Object(e.jsxs)("strong",{children:[t.name,": "]}):"",t.message]}),t.stack?Object(e.jsx)(ie.a,{wrap:!0,style:{fontSize:10},language:ie.b.JavaScript,children:t.stack}):null,t.event?Object(e.jsx)(ie.a,{wrap:!0,style:{fontSize:10},language:ie.b.JSON,children:JSON.stringify(t.event,null,2)}):null]}),trigger:"click",placement:"top",children:Object(e.jsx)(T.a,{color:"red",style:{cursor:"pointer"},children:"ERROR"})}):null}try{$.displayName="PluginError",$.__docgenInfo={description:"",displayName:"PluginError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"PluginErrorType"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"]={docgenInfo:$.__docgenInfo,name:"PluginError",path:"frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"})}catch(n){}var un=s("./frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx"),P=s("./frontend/src/scenes/plugins/types.ts"),gn=s("./frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx"),C=s("./frontend/src/lib/components/Tooltip.tsx");function oe(n){var t=n.isCommunity;return Object(e.jsx)(C.a,{title:t?"This app was built by a community memeber, not the PostHog team.":"This app was built by the PostHog team.",children:Object(e.jsx)(T.a,{color:t?"cyan":"geekblue",children:t?"Community":"Official"})})}try{oe.displayName="CommunityPluginTag",oe.__docgenInfo={description:"",displayName:"CommunityPluginTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"]={docgenInfo:oe.__docgenInfo,name:"CommunityPluginTag",path:"frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"})}catch(n){}var bt=s("./node_modules/core-js/modules/es.regexp.exec.js"),mt=s("./node_modules/core-js/modules/es.string.match.js");function we(n){var t=n.tag;return t.match(/^[a-f0-9]{40}$/)?Object(e.jsx)("code",{children:t.substring(0,7)}):Object(e.jsx)("code",{children:t})}function de(n){var t=n.url,a=n.tag,r=n.latestTag,l="";return t.match(/^https:\/\/(www.|)github.com\//)&&(l="".concat(t,"/compare/").concat(a,"...").concat(r)),t.match(/^https:\/\/(www.|)gitlab.com\//)&&(l="".concat(t,"/-/compare/").concat(a,"...").concat(r)),Object(e.jsx)(C.a,{title:Object(e.jsxs)("div",{children:["Installed: ",Object(e.jsx)(we,{tag:a}),Object(e.jsx)("br",{}),"Latest: ",Object(e.jsx)(we,{tag:r}),l?Object(e.jsx)("div",{style:{marginTop:10},children:"Click to see the diff"}):null]}),children:l?Object(e.jsx)("a",{href:l,target:"_blank",rel:"noreferrer noopener",children:Object(e.jsxs)(T.a,{color:"volcano",style:{cursor:"pointer"},children:[Object(e.jsx)(W.a,{})," Update available!"]})}):Object(e.jsxs)(T.a,{color:"volcano",children:[Object(e.jsx)(W.a,{})," Update available!"]})})}try{de.displayName="UpdateAvailable",de.__docgenInfo={description:"",displayName:"UpdateAvailable",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string"}},latestTag:{defaultValue:null,description:"",name:"latestTag",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"]={docgenInfo:de.__docgenInfo,name:"UpdateAvailable",path:"frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"})}catch(n){}var J=s("./frontend/src/scenes/userLogic.ts"),He=s("./frontend/src/lib/utils.tsx"),R=s("./frontend/src/scenes/plugins/access.ts"),ce=function(t){var a=t.updateStatus,r=t.pluginId,l=t.rearranging,i=Object(g.useActions)(o.b),c=i.editPlugin,j=i.updatePlugin,b=Object(g.useValues)(o.b),d=b.pluginsUpdating;return Object(e.jsx)(O.a,{type:a!=null&&a.updated?"default":"primary",className:"padding-under-500",onClick:function(){return a!=null&&a.updated?c(r):j(r)},loading:d.includes(r),icon:a!=null&&a.updated?Object(e.jsx)(Ye.a,{}):Object(e.jsx)(W.a,{}),disabled:l,"data-attr":"plugin-update",children:Object(e.jsx)("span",{className:"show-over-500",children:a!=null&&a.updated?"Updated":"Update"})})};try{ce.displayName="PluginUpdateButton",ce.__docgenInfo={description:"",displayName:"PluginUpdateButton",props:{updateStatus:{defaultValue:null,description:"",name:"updateStatus",required:!0,type:{name:"PluginUpdateStatusType | undefined"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"]={docgenInfo:ce.__docgenInfo,name:"PluginUpdateButton",path:"frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"})}catch(n){}var D=s("./frontend/@posthog/lemon-ui/src/index.ts"),jn=s("./frontend/src/scenes/organizationLogic.tsx"),pn=s("./frontend/src/lib/constants.tsx"),Ce=s("./frontend/src/scenes/urls.ts"),bn=s("./node_modules/antd/es/badge/index.js"),mn=s("./frontend/src/lib/components/Link.tsx");function ue(n){var t=n.deliveryRate,a=n.pluginConfigId,r=hn(t),l=Fe()(r,2),i=l[0],c=l[1];return Object(e.jsx)(C.a,{title:c,children:Object(e.jsx)(mn.a,{to:Ce.a.appMetrics(a),children:Object(e.jsx)(bn.a,{color:i})})})}function hn(n){if(n===null)return["grey","No events processed by this app in the past 24 hours"];var t="red";return n>=.99?t="green":n>=.75&&(t="yellow"),[t,"Success rate for past 24 hours: ".concat(Math.floor(n*1e3)/10,"%")]}try{ue.displayName="SuccessRateBadge",ue.__docgenInfo={description:"",displayName:"SuccessRateBadge",props:{deliveryRate:{defaultValue:null,description:"",name:"deliveryRate",required:!0,type:{name:"number | null"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"]={docgenInfo:ue.__docgenInfo,name:"SuccessRateBadge",path:"frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"})}catch(n){}function ge(n){var t=n.url,a=n.disabled,r=a===void 0?!1:a;return Object(e.jsx)(k.b,{children:Object(e.jsx)(C.a,{title:"About",children:Object(e.jsx)(D.Link,{to:t,target:"_blank",children:Object(e.jsx)(O.a,{disabled:r,children:Object(e.jsx)(en.a,{})})})})})}function Y(n){var t,a,r=n.plugin,l=n.error,i=n.maintainer,c=n.showUpdateButton,j=n.order,b=n.maxOrder,d=n.rearranging,p=n.DragColumn,S=p===void 0?function(le){var tt=le.children;return Object(e.jsx)(h.a,{className:"order-handle",children:tt})}:p,x=n.unorderedPlugin,U=x===void 0?!1:x,I=r.name,Z=r.description,m=r.url,q=r.icon,H=r.plugin_type,u=r.pluginConfig,_=r.tag,ee=r.latest_tag,N=r.id,B=r.updateStatus,y=r.hasMoved,v=r.is_global,ne=r.organization_id,te=r.organization_name,E=Object(g.useActions)(o.b),Ie=E.editPlugin,Ee=E.toggleEnabled,pe=E.installPlugin,M=E.resetPluginConfigError,be=E.rearrange,me=E.showPluginLogs,z=Object(g.useValues)(o.b),he=z.loading,se=z.installingPluginUrl,Re=z.checkingForUpdates,Oe=z.pluginUrlToMaintainer,fe=z.showAppMetricsForPlugin,ae=Object(g.useValues)(jn.a),xe=ae.currentOrganization,Ve=Object(g.useValues)(J.a),re=Ve.user,et=i||r.url&&Oe[r.url],nt=i||Oe[r.url||""];return Object(e.jsx)(h.a,{style:{width:"100%",marginBottom:20},className:"plugins-scene-plugin-card-col".concat(d?" rearranging":""),"data-attr":"plugin-card-".concat(u?"installed":"available"),children:Object(e.jsx)(G.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(f.a,{align:"middle",className:"plugin-card-row",children:[typeof j=="number"&&typeof b=="number"?Object(e.jsxs)(S,{children:[Object(e.jsx)("div",{className:"arrow".concat(j===1?" hide":""),children:Object(e.jsx)(De.a,{})}),Object(e.jsx)("div",{children:Object(e.jsx)(T.a,{color:y?"#bd0225":"#555",onClick:be,children:j})}),Object(e.jsx)("div",{className:"arrow".concat(j===b?" hide":""),children:Object(e.jsx)(De.a,{})})]}):null,U?Object(e.jsx)(C.a,{title:"This app does not do any processing in order.",placement:"topRight",children:Object(e.jsx)(h.a,{children:Object(e.jsx)(T.a,{color:"#555",children:"-"})})}):null,u&&Object(e.jsx)(h.a,{children:u.id?Object(e.jsx)(D.LemonSwitch,{checked:(t=u.enabled)!==null&&t!==void 0?t:!1,disabled:d,onChange:function(){return Ee({id:u.id,enabled:!u.enabled})}}):Object(e.jsx)(C.a,{title:"Please configure this plugin before enabling it",children:Object(e.jsx)(D.LemonSwitch,{checked:!1,disabled:!0})})}),Object(e.jsx)(h.a,{className:u?"hide-plugin-image-below-500":"",children:Object(e.jsx)(on.a,{pluginType:H,icon:q,url:m})}),Object(e.jsxs)(h.a,{style:{flex:1},children:[Object(e.jsxs)("div",{children:[Object(e.jsxs)("strong",{style:{marginRight:8},children:[fe(r)&&(u==null?void 0:u.id)&&Object(e.jsx)(ue,{deliveryRate:(a=u.delivery_rate_24h)!==null&&a!==void 0?a:null,pluginConfigId:u.id}),I]}),et&&Object(e.jsx)(oe,{isCommunity:nt==="community"}),u!=null&&u.error?Object(e.jsx)($,{error:u.error,reset:function(){return M((u==null?void 0:u.id)||0)}}):l?Object(e.jsx)($,{error:l}):null,v&&!!xe&&xe.plugins_access_level>=pn.s.Install&&Object(e.jsx)(C.a,{title:"This plugin is managed by the ".concat(te," organization"),children:Object(e.jsx)(T.a,{color:"blue",icon:Object(e.jsx)(nn.a,{}),children:"Global"})}),Object(R.c)(re==null?void 0:re.organization,ne)&&Object(e.jsxs)(e.Fragment,{children:[m!=null&&m.startsWith("file:")?Object(e.jsx)(un.a,{url:m,title:"Local"}):null,B!=null&&B.error?Object(e.jsxs)(T.a,{color:"red",children:[Object(e.jsx)(tn.a,{})," Error checking for updates"]}):Re&&!B&&H!==P.a.Source&&!(m!=null&&m.startsWith("file:"))?Object(e.jsxs)(T.a,{color:"blue",children:[Object(e.jsx)(ze.a,{})," Checking for updates\u2026"]}):m&&ee&&_?_===ee?Object(e.jsxs)(T.a,{color:"green",children:[Object(e.jsx)(Ye.a,{})," Up to date"]}):Object(e.jsx)(de,{url:m,tag:_,latestTag:ee}):null,H===P.a.Source?Object(e.jsx)(gn.a,{}):null]})]}),Object(e.jsx)("div",{children:Object(He.y)(Z)})]}),Object(e.jsx)(h.a,{children:Object(e.jsxs)(k.b,{children:[m&&Object(e.jsx)(ge,{url:m,disabled:d}),c&&N?Object(e.jsx)(ce,{updateStatus:B,pluginId:N,rearranging:d}):N?Object(e.jsxs)(e.Fragment,{children:[fe(r)&&u!==null&&u!==void 0&&u.id?Object(e.jsx)(C.a,{title:"App metrics",children:Object(e.jsx)(O.a,{className:"padding-under-500",disabled:d,"data-attr":"app-metrics",children:Object(e.jsx)(D.Link,{to:Ce.a.appMetrics(u.id),children:Object(e.jsx)(sn.a,{})})})}):null,u!=null&&u.id?Object(e.jsx)(C.a,{title:"Activity history",children:Object(e.jsx)(O.a,{className:"padding-under-500",disabled:d,"data-attr":"plugin-history",children:Object(e.jsx)(D.Link,{to:Ce.a.appHistory(u.id),children:Object(e.jsx)(an.a,{})})})}):null,Object(e.jsx)(C.a,{title:u!=null&&u.id?"Logs":"Logs \u2013 enable the app for the first time to view them",children:Object(e.jsx)(O.a,{className:"padding-under-500",disabled:d||!(u!=null&&u.id),onClick:function(){return me(N)},"data-attr":"plugin-logs",children:Object(e.jsx)(rn.a,{})})}),Object(e.jsx)(C.a,{title:"Configure",children:Object(e.jsx)(O.a,{type:"primary",className:"padding-under-500",disabled:d,onClick:function(){return Ie(N)},"data-attr":"plugin-configure",children:Object(e.jsx)(ln.a,{})})})]}):N?null:Object(e.jsx)(O.a,{type:"primary",className:"padding-under-500",loading:he&&se===m,disabled:he&&se!==m,onClick:m?function(){return pe(m,P.a.Repository)}:void 0,icon:Object(e.jsx)(W.a,{}),"data-attr":"plugin-install",children:Object(e.jsx)("span",{className:"show-over-500",children:"Install"})})]})})]})})})}try{ge.displayName="PluginAboutButton",ge.__docgenInfo={description:"",displayName:"PluginAboutButton",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"]={docgenInfo:ge.__docgenInfo,name:"PluginAboutButton",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"})}catch(n){}try{Y.displayName="PluginCard",Y.__docgenInfo={description:"",displayName:"PluginCard",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"Partial<PluginTypeWithConfig>"}},pluginConfig:{defaultValue:null,description:"",name:"pluginConfig",required:!1,type:{name:"PluginConfigType"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"PluginErrorType"}},maintainer:{defaultValue:null,description:"",name:"maintainer",required:!1,type:{name:"string"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:{value:'({ children }) => <Col className="order-handle">{children}</Col>'},description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"]={docgenInfo:Y.__docgenInfo,name:"PluginCard",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"})}catch(n){}var A=s("./frontend/src/lib/components/PageHeader.tsx"),Q=s("./node_modules/antd/es/skeleton/index.js");function Me(){return Object(e.jsx)(e.Fragment,{children:[1,2,3].map(function(n){return Object(e.jsx)(h.a,{style:{marginBottom:20,width:"100%"},className:"plugins-scene-plugin-card-col",children:Object(e.jsx)(G.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(f.a,{align:"middle",className:"plugin-card-row",children:[Object(e.jsx)(h.a,{className:"hide-plugin-image-below-500",children:Object(e.jsx)(Q.a.Avatar,{active:!0,size:"large",shape:"square"})}),Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Q.a,{title:!1,paragraph:{rows:2},active:!0})}),Object(e.jsxs)(h.a,{children:[Object(e.jsx)("span",{className:"show-over-500",children:Object(e.jsx)(Q.a.Button,{style:{width:100}})}),Object(e.jsx)("span",{className:"hide-over-500",children:Object(e.jsx)(Q.a.Button,{style:{width:32}})})]})]})})},n)})})}function ke(){var n=Object(g.useValues)(o.b),t=n.searchTerm,a=n.rearranging,r=Object(g.useActions)(o.b),l=r.setSearchTerm;return Object(e.jsx)(D.LemonInput,{type:"search","data-attr":"plugins-search",placeholder:"Start typing to search for an app",autoFocus:!0,value:t||"",onChange:l,disabled:a})}var X=s("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),K=s("./node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js"),L;(function(n){n.Official="official",n.Community="community"})(L||(L={}));function On(){var n=Object(g.useValues)(o.b),t=n.repositoryLoading,a=n.filteredUninstalledPlugins,r=Object(Ne.useState)([L.Official,L.Community]),l=Fe()(r,2),i=l[0],c=l[1],j=a.filter(function(p){return p.maintainer==="official"}),b=a.filter(function(p){return p.maintainer==="community"}),d=function(S){if(i.includes(S)){c(i.filter(function(x){return S!==x}));return}c([].concat(Be()(i),[S]))};return Object(e.jsxs)("div",{children:[Object(e.jsx)(A.b,{subtitle:"App Repository"}),Object(e.jsx)(ke,{}),Object(e.jsx)("div",{children:(!t||a.length>0)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)(f.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:function(){return d(L.Official)},children:Object(e.jsx)(A.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[i.includes(L.Official)?Object(e.jsx)(X.a,{}):Object(e.jsx)(K.a,{})," Official apps (".concat(j.length,")")]})})}),i.includes(L.Official)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(h.a,{span:24,children:j.length>0?"Official apps are built and maintained by the PostHog team.":"You have already installed all official apps!"}),Object(e.jsx)("br",{}),j.map(function(p){return Object(e.jsx)(Y,{plugin:{name:p.name,url:p.url,icon:p.icon,description:p.description},maintainer:p.maintainer},p.url)})]})]}),Object(e.jsxs)(f.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:function(){return d(L.Community)},children:Object(e.jsx)(A.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[i.includes(L.Community)?Object(e.jsx)(X.a,{}):Object(e.jsx)(K.a,{})," Community apps (".concat(b.length,")")]})})}),i.includes(L.Community)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(h.a,{span:24,children:b.length>0?Object(e.jsxs)("span",{children:["Community apps are not built nor maintained by the PostHog team."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",rel:"noopener",children:"Anyone, including you, can build an app."})]}):"You have already installed all community apps!"}),Object(e.jsx)("br",{}),b.map(function(p){return Object(e.jsx)(Y,{plugin:{name:p.name,url:p.url,icon:p.icon,description:p.description},maintainer:p.maintainer},p.url)})]})]})]})}),t&&a.length===0&&Object(e.jsx)(f.a,{gutter:16,children:Object(e.jsx)(Me,{})})]})}var ht=s("./node_modules/core-js/modules/es.object.values.js"),fn=s("./node_modules/antd/es/checkbox/index.js"),xn=s("./node_modules/antd/lib/input/Search.js"),vn=s.n(xn),yn=s("./frontend/src/lib/components/ResizableTable/index.tsx"),w=s("./frontend/src/types.ts"),Ge=s("./frontend/src/scenes/plugins/plugin/pluginLogsLogic.ts");function Pn(n){var t;switch(n){case w.K.Debug:t="var(--muted)";break;case w.K.Log:t="var(--default)";break;case w.K.Info:t="var(--blue)";break;case w.K.Warn:t="var(--warning)";break;case w.K.Error:t="var(--danger)";break;default:break}return Object(e.jsx)("span",{style:{color:t},children:n})}var Cn=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",span:3,render:function(t){return Object(Ke.a)(t).format("YYYY-MM-DD HH:mm:ss.SSS UTC")}},{title:"Source",key:"source",dataIndex:"source",span:1},{title:"Type",key:"type",dataIndex:"type",span:1,render:Pn},{title:"Message",key:"message",dataIndex:"message",span:6}];function je(n){var t=n.pluginConfigId,a=Object(Ge.b)({pluginConfigId:t}),r=Object(g.useValues)(a),l=r.pluginLogs,i=r.pluginLogsLoading,c=r.pluginLogsBackground,j=r.isThereMoreToLoad,b=r.pluginLogsTypes,d=Object(g.useActions)(a),p=d.revealBackground,S=d.loadPluginLogsMore,x=d.setPluginLogsTypes,U=d.setSearchTerm;return Object(e.jsxs)(k.b,{direction:"vertical",style:{flexGrow:1},className:"ph-no-capture plugin-logs",children:[Object(e.jsx)(f.a,{children:Object(e.jsx)(vn.a,{loading:i,onSearch:U,placeholder:"Search for messages containing\u2026",allowClear:!0})}),Object(e.jsx)(f.a,{children:Object(e.jsxs)(k.b,{children:[Object(e.jsx)("span",{children:"Show logs of type:\xA0"}),Object(e.jsx)(fn.a.Group,{options:Object.values(w.K),value:b,onChange:x,style:{marginLeft:"8px"}})]})}),Object(e.jsx)(f.a,{children:Object(e.jsx)(O.a,{onClick:p,loading:i,style:{flexGrow:1},disabled:!c.length,icon:Object(e.jsx)(ze.a,{}),children:c.length?"Load ".concat(Object(He.tb)(c.length,"newer entry","newer entries")):"No new entries"})}),Object(e.jsx)(yn.b,{dataSource:l,columns:Cn,loading:i,size:"small",className:"ph-no-capture",rowKey:"id",style:{flexGrow:1,whiteSpace:"pre-wrap",overflowWrap:"anywhere"},pagination:{pageSize:200,hideOnSinglePage:!0}}),!!l.length&&Object(e.jsx)(f.a,{children:Object(e.jsx)(O.a,{onClick:S,loading:i,style:{flexGrow:1},disabled:!j,children:j?"Load up to ".concat(Ge.a," older entries"):"No older entries"})})]})}try{je.displayName="PluginLogs",je.__docgenInfo={description:"",displayName:"PluginLogs",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"]={docgenInfo:je.__docgenInfo,name:"PluginLogs",path:"frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"})}catch(n){}var Sn=s("./node_modules/antd/es/drawer/index.js");function Tn(){var n=Object(g.useValues)(o.b),t=n.showingLogsPlugin,a=n.lastShownLogsPlugin,r=Object(g.useActions)(o.b),l=r.hidePluginLogs;return Object(e.jsx)(Sn.a,{visible:!!t,onClose:l,width:"min(90vw, 80rem)",title:"Viewing App Logs: ".concat(a==null?void 0:a.name),placement:"left",destroyOnClose:!0,children:!!(a!=null&&a.pluginConfig.id)&&Object(e.jsx)(je,{pluginConfigId:a.pluginConfig.id})})}var An=s("./node_modules/antd/es/empty/index.js");function Ln(){var n=Object(g.useActions)(o.b),t=n.setPluginTab,a=Object(g.useValues)(o.b),r=a.loading,l=Object(g.useValues)(J.a),i=l.user;return Object(e.jsx)(e.Fragment,{children:r?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(A.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[" ",Object(e.jsx)(K.a,{})," ","Enabled apps"," "]}),buttons:Object(e.jsx)(Q.a.Button,{style:{width:150}})}),Object(e.jsx)(Me,{})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(A.b,{subtitle:"Installed apps"}),Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:Object(e.jsx)(h.a,{span:24,children:Object(e.jsx)(An.a,{description:Object(e.jsx)("span",{children:"You haven't installed any apps yet"}),children:Object(R.b)(i==null?void 0:i.organization)&&Object(e.jsx)(O.a,{type:"default",onClick:function(){return t(P.c.Repository)},children:"Open the App Repository"})})})})]})})}function V(n){var t=n.plugin,a=n.showUpdateButton,r=n.order,l=n.maxOrder,i=n.rearranging,c=n.DragColumn,j=n.unorderedPlugin,b=j===void 0?!1:j;return Object(e.jsx)(Y,{plugin:t,showUpdateButton:a,order:r,maxOrder:l,rearranging:i,DragColumn:c,unorderedPlugin:b},t.id)}try{V.displayName="InstalledPlugin",V.__docgenInfo={description:"",displayName:"InstalledPlugin",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:null,description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"]={docgenInfo:V.__docgenInfo,name:"InstalledPlugin",path:"frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"})}catch(n){}function In(){var n=Object(g.useValues)(o.b),t=n.filteredDisabledPlugins,a=n.sectionsOpen,r=n.disabledPlugins,l=Object(g.useActions)(o.b),i=l.toggleSectionOpen;return r.length===0?Object(e.jsx)(e.Fragment,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:function(){return i(o.a.Disabled)},children:Object(e.jsx)(A.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[a.includes(o.a.Disabled)?Object(e.jsx)(X.a,{}):Object(e.jsx)(K.a,{})," Installed apps (".concat(t.length,")")]})})}),a.includes(o.a.Disabled)?Object(e.jsx)(e.Fragment,{children:t.length>0?Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:t.map(function(c){return Object(e.jsx)(V,{plugin:c},c.id)})}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):null]})}var Ot=s("./node_modules/core-js/modules/es.object.keys.js"),En=s("./node_modules/@ant-design/icons/es/icons/SyncOutlined.js");function Rn(){var n=Object(g.useActions)(o.b),t=n.checkForUpdates,a=n.toggleSectionOpen,r=Object(g.useValues)(o.b),l=r.sectionsOpen,i=Object(g.useValues)(J.a),c=i.user,j=Object(g.useValues)(o.b),b=j.filteredPluginsNeedingUpdates,d=j.pluginsNeedingUpdates,p=j.checkingForUpdates,S=j.installedPluginUrls,x=j.updateStatus,U=j.rearranging,I=j.hasUpdatablePlugins,Z=Object(R.c)(c==null?void 0:c.organization)&&I&&Object(e.jsx)(O.a,{type:"default",icon:d.length>0?Object(e.jsx)(En.a,{}):Object(e.jsx)(W.a,{}),onClick:function(q){q.stopPropagation(),t(!0)},loading:p,children:p?"Checking app ".concat(Object.keys(x).length+1," out of ").concat(Object.keys(S).length):d.length>0?"Check again for updates":"Check for updates"});return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:function(){return a(o.a.Upgrade)},children:Object(e.jsx)(A.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[l.includes(o.a.Upgrade)?Object(e.jsx)(X.a,{}):Object(e.jsx)(K.a,{})," Apps to update (".concat(b.length,")")]}),buttons:!U&&Z})}),l.includes(o.a.Upgrade)?Object(e.jsx)(e.Fragment,{children:d.length>0?Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:b.length>0?Object(e.jsx)(e.Fragment,{children:b.map(function(m){return Object(e.jsx)(V,{plugin:m,showUpdateButton:!0},m.id)})}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):Object(e.jsx)("p",{style:{margin:10},children:"All your apps are up to date. Great work!"})}):null]})}var ft=s("./node_modules/core-js/modules/es.array.slice.js"),xt=s("./node_modules/core-js/modules/es.array.from.js"),vt=s("./node_modules/core-js/modules/es.string.iterator.js"),yt=s("./node_modules/core-js/modules/es.symbol.iterator.js"),Pt=s("./node_modules/core-js/modules/es.array.iterator.js"),Ct=s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),St=s("./node_modules/core-js/modules/es.array.splice.js"),Vn=s("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Un=s("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Nn=s("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),Se=s("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js");function Bn(n,t){var a=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!a){if(Array.isArray(n)||(a=Fn(n))||t&&n&&typeof n.length=="number"){a&&(n=a);var r=0,l=function(){};return{s:l,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(d){throw d},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,c=!1,j;return{s:function(){a=a.call(n)},n:function(){var d=a.next();return i=d.done,d},e:function(d){c=!0,j=d},f:function(){try{!i&&a.return!=null&&a.return()}finally{if(c)throw j}}}}function Fn(n,t){if(!!n){if(typeof n=="string")return We(n,t);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return We(n,t)}}function We(n,t){(t==null||t>n.length)&&(t=n.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=n[a];return r}var Dn=Object(Se.c)(function(n){var t=n.children;return Object(e.jsx)(h.a,{className:"order-handle",children:t})}),zn=Object(Se.b)(function(n){var t=n.plugin,a=n.order,r=n.maxOrder,l=n.rearranging;return Object(e.jsx)(V,{plugin:t,order:a,maxOrder:r,rearranging:l,DragColumn:Dn})}),Yn=Object(Se.a)(function(n){var t=n.children;return Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:t})});function Kn(){var n=Object(g.useValues)(J.a),t=n.user,a=Object(g.useActions)(o.b),r=a.rearrange,l=a.setTemporaryOrder,i=a.cancelRearranging,c=a.savePluginOrders,j=a.makePluginOrderSaveable,b=a.toggleSectionOpen,d=Object(g.useValues)(o.b),p=d.enabledPlugins,S=d.filteredEnabledPlugins,x=d.sortableEnabledPlugins,U=d.unsortableEnabledPlugins,I=d.rearranging,Z=d.loading,m=d.temporaryOrder,q=d.pluginOrderSaveable,H=d.searchTerm,u=d.sectionsOpen,_=Object(R.a)(t==null?void 0:t.organization)&&x.length>1,ee=I?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(O.a,{type:"primary",icon:Object(e.jsx)(Vn.a,{}),loading:Z,onClick:function(v){v.stopPropagation(),c(m)},disabled:!q,children:"Save order"}),Object(e.jsx)(O.a,{type:"default",icon:Object(e.jsx)(Un.a,{}),onClick:function(v){i(),v.stopPropagation()},children:"Cancel"})]}):Object(e.jsx)(C.a,{title:p.length<=1?"At least two apps need to be enabled for reordering.":Object(e.jsx)(e.Fragment,{children:H?"Editing the order of apps is disabled when searching.":Object(e.jsxs)(e.Fragment,{children:["Order matters because event processing with apps works like a pipe: the event is processed by every enabled app ",Object(e.jsx)("b",{children:"in sequence"}),"."]})}),placement:"top",children:Object(e.jsx)(O.a,{icon:Object(e.jsx)(Nn.a,{}),onClick:function(v){v.stopPropagation(),r()},disabled:!!H||x.length<=1,children:"Edit order"})}),N=function(v){var ne,te=v.oldIndex,E=v.newIndex;if(te!==E){var Ie=function(Re,Oe,fe){var ae=Be()(Re);return Array.prototype.splice.call(ae,fe,0,Array.prototype.splice.call(ae,Oe,1)[0]),ae.map(function(xe,Ve){var re=xe.id;return{id:re,order:Ve+1}})},Ee=(ne=p[te])===null||ne===void 0?void 0:ne.id,pe={},M=Bn(Ie(p,te,E)),be;try{for(M.s();!(be=M.n()).done;){var me=be.value,z=me.id,he=me.order;pe[z]=he}}catch(se){M.e(se)}finally{M.f()}I||r(),l(pe,Ee)}},B=function(){return Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:function(){return b(o.a.Enabled)},children:Object(e.jsx)(A.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[u.includes(o.a.Enabled)?Object(e.jsx)(X.a,{}):Object(e.jsx)(K.a,{})," Enabled apps (".concat(S.length,")"),I&&u.includes(o.a.Enabled)&&Object(e.jsx)(T.a,{color:"red",style:{fontWeight:"normal",marginLeft:10},children:"Reordering in progress"})]}),buttons:Object(e.jsx)(k.b,{children:u.includes(o.a.Enabled)&&ee})})})};return p.length===0?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(B,{}),u.includes(o.a.Enabled)&&Object(e.jsx)("p",{style:{margin:10},children:"No apps enabled."})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(B,{}),u.includes(o.a.Enabled)&&Object(e.jsxs)(e.Fragment,{children:[x.length===0&&U.length===0&&Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."}),_||I?Object(e.jsx)(e.Fragment,{children:x.length>0&&Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(Yn,{useDragHandle:!0,onSortEnd:N,onSortOver:j,children:x.map(function(y,v){return Object(e.jsx)(zn,{plugin:y,index:v,order:v+1,maxOrder:p.length,rearranging:I},y.id)})})})}):Object(e.jsx)(f.a,{gutter:16,style:{marginTop:16},children:x.length>0&&Object(e.jsx)(e.Fragment,{children:x.map(function(y,v){return Object(e.jsx)(V,{plugin:y,order:v+1,maxOrder:S.length},y.id)})})}),U.map(function(y){return Object(e.jsx)(V,{plugin:y,maxOrder:p.length,rearranging:I,unorderedPlugin:!0},y.id)})]})]})}function wn(){var n=Object(g.useValues)(o.b),t=n.installedPlugins;return t.length===0?Object(e.jsx)(Ln,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{children:[Object(e.jsx)(ke,{}),Object(e.jsx)(Rn,{}),Object(e.jsx)(Kn,{}),Object(e.jsx)(In,{})]}),Object(e.jsx)(Tn,{})]})}var $e=s("./node_modules/antd/es/tabs/index.js"),Hn=s("./node_modules/antd/es/alert/index.js"),Te=s("./node_modules/antd/es/input/index.js"),Mn=s("./node_modules/antd/lib/typography/Title.js"),Ae=s.n(Mn),kn=s("./node_modules/antd/lib/typography/Paragraph.js"),Le=s.n(kn);function Gn(){var n=Object(g.useValues)(o.b),t=n.sourcePluginName,a=n.pluginError,r=n.loading,l=Object(g.useActions)(o.b),i=l.setSourcePluginName,c=l.installPlugin;return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(G.a,{children:[Object(e.jsx)(Ae.a,{level:5,children:"App editor"}),Object(e.jsxs)(Le.a,{children:["Write your app directly in PostHog."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps",target:"_blank",children:"Read the documentation for more information!"})]}),Object(e.jsxs)(f.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Te.a,{value:t,disabled:r,onChange:function(b){return i(b.target.value)},placeholder:'For example: "Hourly Weather Sync App"'})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(O.a,{disabled:r||!t,loading:r,type:"default",onClick:function(){return c(t,P.a.Source)},children:"Start coding"})})]}),a?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:a}):null]})})}function Wn(){var n=Object(g.useValues)(o.b),t=n.customPluginUrl,a=n.pluginError,r=n.loading,l=Object(g.useActions)(o.b),i=l.setCustomPluginUrl,c=l.installPlugin;return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(G.a,{children:[Object(e.jsx)(Ae.a,{level:5,children:"Install from GitHub, GitLab or npm"}),Object(e.jsxs)(Le.a,{children:["To install a third-party or custom app, paste its URL below. For"," ",Object(e.jsx)("a",{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", ",Object(e.jsx)("a",{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",rel:"noopener noreferrer",children:"GitLab"})," and ",Object(e.jsx)("a",{href:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",rel:"noopener noreferrer",children:"npm"})," ","private repositories, append ",Object(e.jsx)("code",{children:"?private_token=TOKEN"})," to the end of the URL.",Object(e.jsx)("br",{}),Object(e.jsx)("b",{className:"text-warning",children:"Warning: Only install apps from trusted sources."})]}),Object(e.jsxs)(f.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Te.a,{value:t,disabled:r,onChange:function(b){return i(b.target.value)},placeholder:"https://github.com/user/repo"})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(O.a,{disabled:r||!t,loading:r,type:"default",onClick:function(){return c(t,P.a.Custom)},children:"Fetch and install"})})]}),a?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:a}):null]})})}function $n(){var n=Object(g.useValues)(o.b),t=n.localPluginUrl,a=n.pluginError,r=n.loading,l=Object(g.useActions)(o.b),i=l.setLocalPluginUrl,c=l.installPlugin;return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(G.a,{children:[Object(e.jsx)(Ae.a,{level:5,children:"Install Local App"}),Object(e.jsx)(Le.a,{children:"To install a local app from this computer/server, give its full path below."}),Object(e.jsxs)(f.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(h.a,{style:{flex:1},children:Object(e.jsx)(Te.a,{value:t,disabled:r,onChange:function(b){return i(b.target.value)},placeholder:"/var/posthog/plugins/helloworldplugin"})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(O.a,{disabled:r||!t,loading:r,type:"default",onClick:function(){return c(t,P.a.Local)},children:"Install"})})]}),a?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:a}):null]})})}var Jn=s("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function Qn(){var n=Object(g.useValues)(Jn.a),t=n.preflight,a=Object(g.useActions)(o.b),r=a.setPluginTab;return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Hn.a,{message:"Advanced features ahead",description:Object(e.jsxs)(e.Fragment,{children:["Create and install your ",Object(e.jsx)("b",{children:"own apps"})," or apps from ",Object(e.jsx)("b",{children:"third-parties"}),". If you're looking for officially supported apps, try the"," ",Object(e.jsx)("a",{href:"#",onClick:function(i){i.preventDefault(),r(P.c.Repository)},children:"App Repository"}),"."]}),type:"warning",showIcon:!0}),Object(e.jsx)(A.b,{subtitle:"Advanced Options"}),Object(e.jsx)(Gn,{}),Object(e.jsx)(Wn,{}),t&&!t.cloud&&Object(e.jsx)($n,{})]})}var Xn=s("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),Zn=s("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),qn={component:Je,logic:o.b},_n=function(){return Object(e.jsx)(D.LemonTag,{type:"warning",className:"uppercase",style:{verticalAlign:"0.125em",marginLeft:6},children:"BETA"})};function Je(){var n=Object(g.useValues)(J.a),t=n.user,a=Object(g.useValues)(o.b),r=a.pluginTab,l=Object(g.useActions)(o.b),i=l.setPluginTab,c=$e.a.TabPane;return Object(Ne.useEffect)(function(){Object(R.d)(t==null?void 0:t.organization)||(window.location.href="/")},[t]),!t||!Object(R.d)(t==null?void 0:t.organization)?null:Object(e.jsxs)("div",{className:"plugins-scene",children:[Object(e.jsx)(A.a,{title:"Apps",caption:Object(e.jsxs)(e.Fragment,{children:["Apps enable you to extend PostHog's core data processing functionality.",Object(e.jsx)("br",{}),"Make use of verified apps from the"," ",Object(e.jsx)("a",{href:"https://posthog.com/apps",target:"_blank",children:"App Library"})," ","\u2013 or"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",children:"build your own"}),"."]})}),Object(e.jsxs)($e.a,{"data-attr":"apps-tabs",activeKey:r,onChange:function(b){return i(b)},children:[Object(e.jsx)(c,{tab:"Installed",children:Object(e.jsx)(wn,{})},P.c.Installed),Object(R.b)(t.organization)?Object(e.jsx)(c,{tab:"Repository",children:Object(e.jsx)(On,{})},P.c.Repository):null,Object(e.jsx)(c,{tab:Object(e.jsxs)(e.Fragment,{children:["History ",Object(e.jsx)(_n,{})," "]}),children:Object(e.jsx)(Xn.a,{scope:Zn.a.PLUGIN})},P.c.History),Object(R.c)(t.organization)?Object(e.jsx)(c,{tab:"Advanced",children:Object(e.jsx)(Qn,{})},P.c.Advanced):null]}),Object(e.jsx)(Ze.a,{})]})}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss":function(ve,F,s){var ye=s("./node_modules/css-loader/dist/runtime/api.js");F=ye(!1),F.push([ve.i,".plugins-scene{padding-bottom:60px}.plugins-installed-tab-section-header:hover,.plugins-repository-tab-section-header:hover{cursor:pointer}.plugins-repository-tab-section-header{margin-left:5px}.plugin-capabilities-tag{cursor:default}.plugins-scene-plugin-card>.ant-card-body{padding:15px}.plugins-scene-plugin-card .plugin-card-row>.ant-col{margin-right:14px}.plugins-scene-plugin-card .plugin-card-row>.ant-col:last-child{margin-right:0}.plugins-scene-plugin-card a.plugin-title-link{color:var(--color-text)}.plugins-scene-plugin-card a.plugin-title-link:hover{text-decoration:underline}.plugins-scene-plugin-card .plugin-image{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;border:none;padding:4px}.plugins-scene-plugin-card .order-handle{cursor:move;text-align:center;height:100%;margin-top:-10px;margin-bottom:-10px}.plugins-scene-plugin-card .order-handle .ant-tag{margin-right:0;cursor:move}.plugins-scene-plugin-card .order-handle .arrow{color:#888;height:19px}.plugins-scene-plugin-card .order-handle .arrow.hide{visibility:hidden}.plugins-scene-plugin-card .hide-over-500{display:none}@media(max-width:500px){.plugins-scene-plugin-card .show-over-500{display:none}.plugins-scene-plugin-card .hide-over-500{display:inline-block}.plugins-scene-plugin-card button.ant-btn.padding-under-500{padding:4px 8px}.plugins-scene-plugin-card .hide-plugin-image-below-500{display:none}}.plugins-popconfirm{z-index:var(--z-plugins-popconfirm)}.plugin-job-json-editor{border:1px solid #efefef}.plugin-run-job-button{color:var(--success);cursor:pointer}.plugin-run-job-button-disabled{color:#9a9a9a;cursor:default}",""]),ve.exports=F}}]);
