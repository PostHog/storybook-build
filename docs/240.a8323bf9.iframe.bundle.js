(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{"./frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx":function(h,n,e){"use strict";e.d(n,"a",function(){return u});var E=e("./node_modules/core-js/modules/es.array.map.js"),O=e("./node_modules/react/index.js"),t=e.n(O),R=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),C=e.n(R),a=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrls.scss"),S=e.n(a),x={};x.insert="head",x.singleton=!1;var W=C()(S.a,x),F=S.a.locals||{},b=e("./node_modules/clsx/dist/clsx.m.js"),U=e("./node_modules/kea/lib/index.esm.js"),D=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),r=e("./frontend/src/lib/components/LemonButton/index.ts"),I=e("./node_modules/antd/es/input/index.js"),z=e("./node_modules/antd/es/popconfirm/index.js"),g=e("./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts"),P=e("./frontend/src/lib/utils.tsx"),f=e("./frontend/src/lib/components/LemonRow/index.ts"),p=e("./frontend/src/lib/components/icons.tsx"),L=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),T=e("./node_modules/kea-forms/lib/index.js"),K=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),V=e("./frontend/src/lib/forms/Field.tsx"),H=e("./node_modules/antd/lib/typography/index.js"),d=e.n(H);function s(l){var i=l.numberOfResults,o=l.isSearching,y=l.isAddingEntry;return i>0?null:o?t.a.createElement(f.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized URLs that match your search."):y?null:t.a.createElement(f.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized URLs or domains. Add one to get started.")}function v(l){var i=l.actionId,o=Object(g.b)({actionId:i}),y=Object(U.useValues)(o),m=y.isProposedUrlSubmitting,N=Object(U.useActions)(o),B=N.cancelProposingUrl;return t.a.createElement(T.Form,{logic:g.b,props:{actionId:i},formKey:"proposedUrl",enableFormOnSubmit:!0,className:"AuthorizedURLForm full-width"},t.a.createElement(V.a,{name:"url"},t.a.createElement(K.a,{autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)","data-attr":"url-input"})),t.a.createElement("div",{className:"flex justify-end"},t.a.createElement(r.a,{type:"secondary",onClick:B},"Cancel"),t.a.createElement(r.a,{htmlType:"submit",type:"primary",className:"form-submit ml",disabled:m,"data-attr":"url-save"},"Save")))}function u(l){var i=l.pageKey,o=l.actionId,y=Object(g.b)({actionId:o}),m=Object(U.useValues)(y),N=m.appUrlsKeyed,B=m.suggestionsLoading,M=m.searchTerm,Q=m.launchUrl,Y=m.editUrlIndex,J=m.isAddUrlFormVisible,A=Object(U.useActions)(y),X=A.addUrl,Z=A.removeUrl,$=A.setSearchTerm,w=A.newUrl,k=A.setEditUrlIndex;return t.a.createElement("div",null,t.a.createElement("div",{className:"flex-center mb"},t.a.createElement("div",{className:"flex-grow"},t.a.createElement(I.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for authorized URLs",style:{maxWidth:480},value:M,onChange:function(j){$(j.target.value)},autoFocus:i==="toolbar-launch"&&!Object(P.Y)()})),t.a.createElement(r.a,{onClick:w,outlined:!0,icon:t.a.createElement(p.IconPlus,null),"data-attr":"toolbar-add-url"},"Add",i==="toolbar-launch"&&" authorized URL")),B?t.a.createElement(f.a,{outlined:!0,fullWidth:!0,size:"large",key:-1,className:Object(b.a)("AuthorizedUrlRow")},t.a.createElement(L.a,{size:"md"})):t.a.createElement("div",{className:"space-y-05"},J&&t.a.createElement(f.a,{outlined:!0,fullWidth:!0,size:"large"},t.a.createElement(v,{actionId:o})),t.a.createElement(s,{numberOfResults:N.length,isSearching:M.length>0,isAddingEntry:J}),N.map(function(c,j){return t.a.createElement(f.a,{outlined:!0,fullWidth:!0,size:"tall",key:j,className:Object(b.a)("AuthorizedUrlRow",c.type,"flex-center","mr",Y!==j&&"highlight-on-hover")},Y===j?t.a.createElement(v,{actionId:o}):t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"Url flex-grow"},c.type==="suggestion"&&t.a.createElement(D.a,{type:"highlight",className:"mr"},"Suggestion"),t.a.createElement(d.a.Text,{ellipsis:{tooltip:c.url},className:"text-muted-alt"},c.url)),t.a.createElement("div",{className:"Actions flex flex-row space-x"},c.type==="suggestion"?t.a.createElement(r.a,{onClick:function(){return X(c.url)},icon:t.a.createElement(p.IconPlus,null),outlined:!1,"data-attr":"toolbar-apply-suggestion"},"Apply suggestion"):t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{icon:t.a.createElement(p.IconOpenInApp,null),href:Q(c.url),tooltip:"Launch toolbar",center:!0,className:"ActionButton","data-attr":"toolbar-open"}),t.a.createElement(r.a,{icon:t.a.createElement(p.IconEdit,null),onClick:function(){return k(c.originalIndex)},tooltip:"Edit",center:!0,className:"ActionButton"}),t.a.createElement(z.a,{placement:"topRight",title:t.a.createElement(t.a.Fragment,null,"Are you sure you want to remove this authorized url?"),onConfirm:function(){return Z(j)}},t.a.createElement(r.a,{icon:t.a.createElement(p.IconDelete,null),tooltip:"Remove URL",center:!0,className:"ActionButton"}))))))})))}try{u.displayName="AuthorizedUrls",u.__docgenInfo={description:"",displayName:"AuthorizedUrls",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx#AuthorizedUrls"]={docgenInfo:u.__docgenInfo,name:"AuthorizedUrls",path:"frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx#AuthorizedUrls"})}catch(l){}},"./frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx":function(h,n,e){"use strict";e.r(n),e.d(n,"scene",function(){return K});var E=e("./node_modules/@babel/runtime/helpers/extends.js"),O=e.n(E),t=e("./node_modules/core-js/modules/es.array.map.js"),R=e("./frontend/src/lib/components/PageHeader.tsx"),C=e("./node_modules/react/index.js"),a=e.n(C),S=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),x=e.n(S),W=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss"),F=e.n(W),b={};b.insert="head",b.singleton=!1;var U=x()(F.a,b),D=F.a.locals||{},r=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),I=e("./frontend/src/lib/components/Link.tsx"),z=e("./frontend/src/scenes/urls.ts"),g=e("./frontend/src/lib/components/icons.tsx"),P=e("./frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx"),f=e("./frontend/src/lib/components/LemonDivider/index.ts"),p=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),L=e("./node_modules/kea/lib/index.esm.js"),T=e("./frontend/src/scenes/userLogic.ts"),K={component:V};function V(){var d=Object(L.useValues)(T.a),s=d.user,v=d.userLoading,u=Object(L.useActions)(T.a),l=u.updateUser,i=[{title:"Heatmaps",caption:"Understand where your users interact the most.",icon:a.a.createElement(g.IconHeatmap,null)},{title:"Actions",caption:"Create actions visually from elements in your website.",icon:a.a.createElement(g.IconGroupedEvents,null)},{title:"Feature Flags",caption:"Toggle feature flags on/off right on your app.",icon:a.a.createElement(g.IconFlag,null)},{title:"Inspect",caption:"Inspect clickable elements on your website.",icon:a.a.createElement(r.a,null)}];return a.a.createElement("div",{className:"toolbar-launch-page"},a.a.createElement(R.a,{title:"Toolbar",caption:"The toolbar launches PostHog right in your app or website."}),a.a.createElement(f.a,null),a.a.createElement(p.a,{"data-tooltip":"toolbar-authorized-toggle",label:"Enable the PostHog toolbar",onChange:function(){return l({toolbar_mode:(s==null?void 0:s.toolbar_mode)==="disabled"?"toolbar":"disabled"})},checked:(s==null?void 0:s.toolbar_mode)!=="disabled",disabled:v,loading:v,type:"primary",className:"EnableToolbarSwitch mt mb pt pb full-width"}),a.a.createElement("h2",{className:"subtitle",id:"urls"},"Authorized URLs for Toolbar"),a.a.createElement("p",null,"These are the domains and URLs where the ",a.a.createElement(I.a,{to:z.a.toolbarLaunch()},"Toolbar")," will automatically launch if you're signed in to your PostHog account."),a.a.createElement(P.a,{pageKey:"toolbar-launch"}),a.a.createElement("div",{className:"footer-caption text-muted mt text-center"},"Make sure you're using the ",a.a.createElement(I.a,{to:"".concat(z.a.projectSettings(),"#snippet")},"HTML snippet")," or the latest ",a.a.createElement("code",null,"posthog-js")," version."),a.a.createElement("div",{className:"feature-highlight-list mt-2 mx-auto mb-0 flex flex-wrap flex-center justify-center"},i.map(function(o){return a.a.createElement(H,O()({key:o.title},o))})))}function H(d){var s=d.title,v=d.caption,u=d.icon;return a.a.createElement("div",{className:"fh-item flex flex-center mt"},a.a.createElement("div",{className:"fh-icon mr text-muted-alt"},u),a.a.createElement("div",null,a.a.createElement("h4",{className:"mb-0 text-muted-alt"},s),a.a.createElement("div",{className:"caption"},v)))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrls.scss":function(h,n,e){var E=e("./node_modules/css-loader/dist/runtime/api.js");n=E(!1),n.push([h.i,".AuthorizedUrlRow.highlight-on-hover:hover{background:var(--primary-bg-hover)}.AuthorizedUrlRow .Url span{max-width:80%}",""]),h.exports=n},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss":function(h,n,e){var E=e("./node_modules/css-loader/dist/runtime/api.js");n=E(!1),n.push([h.i,".toolbar-launch-page{margin-bottom:48px}.toolbar-launch-page .EnableToolbarSwitch{max-width:400px}.toolbar-launch-page .feature-highlight-list{max-width:800px}.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(50% - 8px)}@media(max-width:599px){.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(100% - 8px)}}.toolbar-launch-page .feature-highlight-list .fh-item .fh-icon{font-size:1.6em}.toolbar-launch-page .feature-highlight-list .fh-item h4{font-size:1.2em}",""]),h.exports=n}}]);
