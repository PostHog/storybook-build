(window.webpackJsonp=window.webpackJsonp||[]).push([[235],{"./frontend/src/scenes/data-management/DataManagementPageHeader.tsx":function(D,l,e){"use strict";e.d(l,"a",function(){return u});var f=e("./frontend/src/lib/components/PageHeader.tsx"),b=e("./node_modules/react/index.js"),c=e.n(b),v=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx");function u(g){var L=g.activeTab,I=g.hideTabs;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),!I&&c.a.createElement(v.a,{tab:L}))}try{u.displayName="DataManagementPageHeader",u.__docgenInfo={description:"",displayName:"DataManagementPageHeader",props:{activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}},hideTabs:{defaultValue:null,description:"",name:"hideTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageHeader.tsx#DataManagementPageHeader"]={docgenInfo:u.__docgenInfo,name:"DataManagementPageHeader",path:"frontend/src/scenes/data-management/DataManagementPageHeader.tsx#DataManagementPageHeader"})}catch(g){}},"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(D,l,e){"use strict";e.d(l,"b",function(){return _}),e.d(l,"a",function(){return A});var f=e("./node_modules/core-js/modules/es.object.keys.js"),b=e.n(f),c=e("./node_modules/core-js/modules/es.symbol.js"),v=e.n(c),u=e("./node_modules/core-js/modules/es.array.filter.js"),g=e.n(u),L=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),I=e.n(L),C=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),q=e.n(C),Q=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),X=e.n(Q),m=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),j=e.n(m),S=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),O=e.n(S),H=e("./node_modules/core-js/modules/es.array.iterator.js"),N=e.n(H),V=e("./node_modules/core-js/modules/es.object.to-string.js"),R=e.n(V),F=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Z=e.n(F),Y=e("./node_modules/core-js/modules/es.object.from-entries.js"),w=e.n(Y),z=e("./node_modules/core-js/modules/es.array.map.js"),k=e.n(z),$=e("./node_modules/core-js/modules/es.object.entries.js"),J=e.n($),T=e("./node_modules/react/index.js"),r=e.n(T),P=e("./node_modules/kea/lib/index.esm.js"),E=e("./node_modules/antd/es/tabs/index.js"),M=e("./frontend/src/scenes/urls.ts"),p=e("./frontend/src/lib/components/Tooltip.tsx"),h=e("./frontend/src/lib/components/icons.tsx"),i=e("./frontend/src/lib/components/TitleWithIcon.tsx"),W=e("./frontend/src/lib/logic/featureFlagLogic.ts"),x=e("./frontend/src/lib/constants.tsx");function U(a,s){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);s&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,n)}return t}function B(a){for(var s=1;s<arguments.length;s++){var t=arguments[s]!=null?arguments[s]:{};s%2?U(Object(t),!0).forEach(function(n){O()(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}var _;(function(a){a.Actions="actions",a.EventDefinitions="events",a.EventPropertyDefinitions="properties"})(_||(_={}));var K=Object(P.kea)({path:["scenes","events","eventsTabsLogic"],actions:{setTab:function(s){return{tab:s}}},reducers:{tab:[_.EventDefinitions,{setTab:function(s,t){var n=t.tab;return n}}]},selectors:function(){return{tabUrls:[function(){return[W.a.selectors.featureFlags]},function(s){var t;return B((t={},O()(t,_.EventPropertyDefinitions,M.a.eventPropertyDefinitions()),O()(t,_.EventDefinitions,M.a.eventDefinitions()),t),s[x.h.SIMPLIFY_ACTIONS]?{}:O()({},_.Actions,M.a.actions()))}]}},actionToUrl:function(s){var t=s.values;return{setTab:function(o){var d=o.tab;return t.tabUrls[d]||M.a.events()}}},urlToAction:function(s){var t=s.actions,n=s.values;return Object.fromEntries(Object.entries(n.tabUrls).map(function(o){var d=j()(o,2),y=d[0],G=d[1];return[G,function(){n.tab!==y&&t.setTab(y)}]}))}});function A(a){var s=a.tab,t=Object(P.useActions)(K),n=t.setTab,o=Object(P.useValues)(W.a),d=o.featureFlags;return r.a.createElement(E.a,{tabPosition:"top",animated:!1,activeKey:s,onTabClick:function(G){return n(G)}},r.a.createElement(E.a.TabPane,{tab:r.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:_.EventDefinitions}),!d[x.h.SIMPLIFY_ACTIONS]&&r.a.createElement(E.a.TabPane,{tab:r.a.createElement(i.a,{icon:r.a.createElement(p.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},r.a.createElement(h.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:_.Actions}),r.a.createElement(E.a.TabPane,{tab:r.a.createElement(i.a,{icon:r.a.createElement(p.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},r.a.createElement(h.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Properties"),key:_.EventPropertyDefinitions}))}try{A.displayName="DataManagementPageTabs",A.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:A.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(a){}},"./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.tsx":function(D,l,e){"use strict";e.r(l),e.d(l,"scene",function(){return $}),e.d(l,"EventPropertyDefinitionsTable",function(){return J});var f=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),b=e.n(f),c=e("./node_modules/core-js/modules/es.array.concat.js"),v=e("./node_modules/core-js/modules/es.function.name.js"),u=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),g=e.n(u),L=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss"),I=e.n(L),C={};C.insert="head",C.singleton=!1;var q=g()(I.a,C),Q=I.a.locals||{},X=e("./node_modules/react/index.js"),m=e.n(X),j=e("./node_modules/kea/lib/index.esm.js"),S=e("./frontend/src/lib/components/LemonTable/index.ts"),O=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),H=e("./frontend/src/scenes/organizationLogic.tsx"),N=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),V=e("./frontend/src/lib/utils.tsx"),R=e("./frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts"),F=e("./node_modules/antd/es/alert/index.js"),Z=e("./node_modules/antd/es/input/index.js"),Y=e("./frontend/src/scenes/data-management/DataManagementPageHeader.tsx"),w=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),z=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),k=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),$={component:J,logic:R.b,paramsToProps:function(){return{syncWithUrl:!0}}};function J(){var T,r,P,E,M=Object(j.useValues)(k.a),p=M.preflight,h=Object(j.useValues)(R.b),i=h.eventPropertyDefinitions,W=h.eventPropertyDefinitionsLoading,x=h.filters,U=Object(j.useActions)(R.b),B=U.loadEventPropertyDefinitions,_=U.setFilters,K=Object(j.useValues)(H.a),A=K.hasDashboardCollaboration,a=K.hasIngestionTaxonomy,s=[{key:"icon",className:"definition-column-icon",render:function(n,o){return m.a.createElement(N.c,{definition:o,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(n,o){return m.a.createElement(N.c,{definition:o,hideIcon:!0,asLink:!0})},sorter:function(n,o){return n.name.localeCompare(o.name)}}].concat(b()(A?[{title:"Tags",key:"tags",render:function(n,o){var d;return m.a.createElement(O.a,{tags:(d=o.tags)!==null&&d!==void 0?d:[],staticOnly:!0})}}]:[]),b()(a?[{title:"30 day queries",key:"query_usage_30_day",align:"right",render:function(n,o){return o.query_usage_30_day?Object(V.O)(o.query_usage_30_day):m.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(n,o){var d,y;return((d=n==null?void 0:n.query_usage_30_day)!==null&&d!==void 0?d:0)-((y=o==null?void 0:o.query_usage_30_day)!==null&&y!==void 0?y:0)}}]:[]));return m.a.createElement("div",{"data-attr":"manage-events-table"},m.a.createElement(Y.a,{activeTab:w.b.EventPropertyDefinitions}),p&&!(p!=null&&p.is_event_property_usage_enabled)?m.a.createElement(z.a,{tab:"Event Property Definitions"}):((T=i.results)===null||T===void 0||(r=T[0])===null||r===void 0?void 0:r.query_usage_30_day)===null&&m.a.createElement(F.a,{type:"warning",message:"We haven't been able to get usage and volume data yet. Please check back later.",style:{marginBottom:"1rem"}}),m.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",flexDirection:"row",alignItems:"center",width:"100%",marginBottom:"1rem"}},m.a.createElement(Z.a.Search,{placeholder:"Search for properties",allowClear:!0,enterButton:!0,value:x.property,style:{maxWidth:600,width:"initial"},onChange:function(n){_({property:n.target.value||""})}})),m.a.createElement(S.a,{columns:s,className:"event-properties-definition-table","data-attr":"event-properties-definition-table",loading:W,rowKey:"id",pagination:{controlled:!0,currentPage:(P=i==null?void 0:i.page)!==null&&P!==void 0?P:1,entryCount:(E=i==null?void 0:i.count)!==null&&E!==void 0?E:0,pageSize:R.a,onForward:i.next?function(){B(i.next)}:void 0,onBackward:i.previous?function(){B(i.previous)}:void 0},dataSource:i.results,emptyState:"No event property definitions",nouns:["property","properties"]}))}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(D,l,e){"use strict";e.d(l,"a",function(){return v});var f=e("./node_modules/antd/es/alert/index.js"),b=e("./node_modules/react/index.js"),c=e.n(b);function v(u){var g=u.tab;return c.a.createElement(f.a,{type:"info",showIcon:!0,message:"".concat(g," are not enabled for your instance."),description:c.a.createElement(c.a.Fragment,null,"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",c.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",c.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events.")})}try{v.displayName="UsageDisabledWarning",v.__docgenInfo={description:"",displayName:"UsageDisabledWarning",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"]={docgenInfo:v.__docgenInfo,name:"UsageDisabledWarning",path:"frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"})}catch(u){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss":function(D,l,e){var f=e("./node_modules/css-loader/dist/runtime/api.js");l=f(!1),l.push([D.i,'.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted path{fill:var(--taxonomy-icon-muted)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified path{fill:var(--success)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;left:-10px;right:-50px;height:22px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--text-muted);text-overflow:ellipsis}',""]),D.exports=l}}]);
