(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{"./frontend/src/scenes/query/QueryScene.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"QueryScene",(function(){return QueryScene})),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene}));var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),examples=__webpack_require__("./frontend/src/queries/examples.ts");const DEFAULT_QUERY=examples.c.Events,querySceneLogic=Object(index_esm.kea)([Object(index_esm.path)(["scenes","query","querySceneLogic"]),Object(index_esm.actions)({setQuery:query=>({query:query})}),Object(index_esm.reducers)({query:[DEFAULT_QUERY,{setQuery:(_,_ref)=>{let{query:query}=_ref;return query}}]}),Object(lib.actionToUrl)({setQuery:_ref2=>{let{query:query}=_ref2;return[urls.a.debugQuery(),{},{q:query},{replace:!0}]}}),Object(lib.urlToAction)((_ref3=>{let{actions:actions,values:values}=_ref3;return{[urls.a.debugQuery()]:(_,__,_ref4)=>{let{q:q}=_ref4;q&&q!==values.query&&actions.setQuery(q)}}}))]);var PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),Query=__webpack_require__("./frontend/src/queries/Query/Query.tsx"),LemonSelect=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSelect/index.ts"),LemonLabel=__webpack_require__("./frontend/src/lib/lemon-ui/LemonLabel/LemonLabel.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function QueryScene(){const{query:query}=Object(index_esm.useValues)(querySceneLogic),{setQuery:setQuery}=Object(index_esm.useActions)(querySceneLogic);let showEditor=!0;try{const parsed=JSON.parse(query);parsed&&"DataTableNode"==parsed.kind&&"HogQLQuery"==parsed.source.kind&&(parsed.full||parsed.showHogQLEditor)&&(showEditor=!1)}catch(e){}return Object(jsx_runtime.jsxs)("div",{className:"QueryScene",children:[Object(jsx_runtime.jsx)(PageHeader.a,{title:"Query Debugger",buttons:Object(jsx_runtime.jsxs)(LemonLabel.a,{children:["Example queries:"," ",Object(jsx_runtime.jsx)(LemonSelect.a,{placeholder:"Select an example query",options:Object.entries(examples.c).map((_ref=>{let[k,v]=_ref;return{label:k,value:v}})),onChange:v=>{v&&setQuery(v)}})]})}),Object(jsx_runtime.jsx)(Query.a,{query:query,setQuery:query=>setQuery(JSON.stringify(query,null,2)),context:{showQueryEditor:showEditor}})]})}const scene={component:QueryScene,logic:querySceneLogic}}}]);