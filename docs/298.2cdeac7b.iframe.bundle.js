(window.webpackJsonp=window.webpackJsonp||[]).push([[298],{"./frontend/src/scenes/experiments/Experiments.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"Experiments",(function(){return Experiments}));var lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/scenes/experiments/experimentsLogic.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/index.ts"),lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/types.ts"),lib_components_Table_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/lib/components/Table/utils.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/scenes/urls.ts"),lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/lib/utils/stringWithWBR.tsx"),lib_lemon_ui_Link__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/lib/lemon-ui/Link.tsx"),lib_dayjs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/lib/dayjs.ts"),antd__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/tag/index.js"),lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/More.tsx"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonDivider/index.ts"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./frontend/src/scenes/userLogic.ts"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),lib_lemon_ui_LemonTabs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts"),_ExperimentsPayGate__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./frontend/src/scenes/experiments/ExperimentsPayGate.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const scene={component:Experiments,logic:_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__.a};function Experiments(){const{filteredExperiments:filteredExperiments,experimentsLoading:experimentsLoading,tab:tab,searchTerm:searchTerm}=Object(kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__.a),{setExperimentsTab:setExperimentsTab,deleteExperiment:deleteExperiment,setSearchStatus:setSearchStatus,setSearchTerm:setSearchTerm}=Object(kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__.a),{hasAvailableFeature:hasAvailableFeature}=Object(kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_15__.a),getExperimentDuration=experiment=>experiment.end_date?Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_10__.a)(experiment.end_date).diff(Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_10__.a)(experiment.start_date),"day"):experiment.start_date?Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_10__.a)().diff(Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_10__.a)(experiment.start_date),"day"):void 0,columns=[{title:Object(lib_components_Table_utils__WEBPACK_IMPORTED_MODULE_6__.a)("Name"),dataIndex:"name",className:"ph-no-capture",sticky:!0,width:"40%",render:function Render(_,experiment){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_Link__WEBPACK_IMPORTED_MODULE_9__.a,{to:experiment.id?scenes_urls__WEBPACK_IMPORTED_MODULE_7__.a.experiment(experiment.id):void 0,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("span",{className:"row-name",children:Object(lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_8__.a)(experiment.name,17)})}),experiment.description&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("span",{className:"row-description",children:experiment.description})]})}},Object(lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_4__.b)(),Object(lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_4__.a)(),{title:"Duration",key:"duration",render:function Render(_,experiment){const duration=getExperimentDuration(experiment);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{children:void 0!==duration?`${duration} day${1!==duration?"s":""}`:"--"})},sorter:(a,b)=>{var _getExperimentDuratio,_getExperimentDuratio2;return(null!==(_getExperimentDuratio=getExperimentDuration(a))&&void 0!==_getExperimentDuratio?_getExperimentDuratio:-1)>(null!==(_getExperimentDuratio2=getExperimentDuration(b))&&void 0!==_getExperimentDuratio2?_getExperimentDuratio2:-1)?1:-1},align:"right"},{title:"Status",key:"status",render:function Render(_,experiment){const status=Object(_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__.b)(experiment);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(antd__WEBPACK_IMPORTED_MODULE_11__.a,{color:{running:"green",draft:"default",complete:"purple"}[status],style:{fontWeight:600},children:status.toUpperCase()})},align:"center",sorter:(a,b)=>{const statusA=Object(_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__.b)(a),statusB=Object(_experimentsLogic__WEBPACK_IMPORTED_MODULE_1__.b)(b),score={draft:1,running:2,complete:3};return score[statusA]>score[statusB]?1:-1}},{width:0,render:function Render(_,experiment){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_12__.a,{overlay:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_13__.a,{status:"stealth",to:scenes_urls__WEBPACK_IMPORTED_MODULE_7__.a.experiment(`${experiment.id}`),size:"small",fullWidth:!0,children:"View"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_14__.a,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_13__.a,{status:"danger",onClick:()=>deleteExperiment(experiment.id),"data-attr":`experiment-${experiment.id}-dropdown-remove`,fullWidth:!0,children:"Delete experiment"})]})})}}];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_0__.a,{title:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("div",{className:"flex items-center",children:"Experiments"}),buttons:hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_5__.d.EXPERIMENTATION)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_13__.a,{type:"primary","data-attr":"create-experiment",to:scenes_urls__WEBPACK_IMPORTED_MODULE_7__.a.experiment("new"),children:"New experiment"}):void 0,caption:hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_5__.d.EXPERIMENTATION)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.Fragment,{children:["Check out our",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(lib_lemon_ui_Link__WEBPACK_IMPORTED_MODULE_9__.a,{"data-attr":"experiment-help",to:"https://posthog.com/docs/user-guides/experimentation?utm_medium=in-product&utm_campaign=new-experiment",target:"_blank",children:[" ","Experimentation user guide"]})," ","to learn more."]}),tabbedPage:hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_5__.d.EXPERIMENTATION)}),hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_5__.d.EXPERIMENTATION)?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonTabs__WEBPACK_IMPORTED_MODULE_17__.a,{activeKey:tab,onChange:newKey=>setExperimentsTab(newKey),tabs:[{key:_types__WEBPACK_IMPORTED_MODULE_5__.r.All,label:"All experiments"},{key:_types__WEBPACK_IMPORTED_MODULE_5__.r.Yours,label:"Your experiments"},{key:_types__WEBPACK_IMPORTED_MODULE_5__.r.Archived,label:"Archived experiments"}]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{className:"flex justify-between mb-4",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_16__.LemonInput,{type:"search",placeholder:"Search for Experiments",onChange:setSearchTerm,value:searchTerm}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsxs)("div",{className:"flex items-center gap-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("span",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)("b",{children:"Status"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_16__.LemonSelect,{onChange:status=>{status&&setSearchStatus(status)},options:[{label:"All",value:"all"},{label:"Draft",value:_types__WEBPACK_IMPORTED_MODULE_5__.N.Draft},{label:"Running",value:_types__WEBPACK_IMPORTED_MODULE_5__.N.Running},{label:"Complete",value:_types__WEBPACK_IMPORTED_MODULE_5__.N.Complete}],value:"all",dropdownMaxContentWidth:!0})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_3__.a,{dataSource:filteredExperiments,columns:columns,rowKey:"id",loading:experimentsLoading,defaultSorting:{columnKey:"created_at",order:-1},noSortingCancellation:!0,pagination:{pageSize:100},nouns:["experiment","experiments"],"data-attr":"experiment-table"})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_19__.jsx)(_ExperimentsPayGate__WEBPACK_IMPORTED_MODULE_18__.a,{})]})}},"./frontend/src/scenes/experiments/ExperimentsPayGate.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExperimentsPayGate}));var lib_components_PayGatePage_PayGatePage__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/lib/components/PayGatePage/PayGatePage.tsx"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function ExperimentsPayGate(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(lib_components_PayGatePage_PayGatePage__WEBPACK_IMPORTED_MODULE_0__.a,{featureKey:_types__WEBPACK_IMPORTED_MODULE_1__.d.EXPERIMENTATION,header:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment,{children:["Introducing ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"highlight",children:"Experimentation"}),"!"]}),caption:"Improve your product by A/B testing new features to discover what works best for your users.",docsLink:"https://posthog.com/docs/user-guides/experimentation"})}}}]);