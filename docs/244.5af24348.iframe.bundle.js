(window.webpackJsonp=window.webpackJsonp||[]).push([[244],{"./frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx":function(L,c,e){"use strict";e.d(c,"a",function(){return h});var f=e("./node_modules/core-js/modules/es.array.map.js"),_=e.n(f),K=e("./node_modules/react/index.js"),t=e.n(K),j=e("./node_modules/clsx/dist/clsx.m.js"),a=e("./node_modules/kea/lib/index.esm.js"),D=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),i=e("./frontend/src/lib/components/LemonButton/index.ts"),M=e("./node_modules/antd/es/input/index.js"),U=e("./node_modules/antd/es/popconfirm/index.js"),u=e("./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts"),z=e("./frontend/src/lib/utils.tsx"),p=e("./frontend/src/lib/components/LemonRow/index.ts"),m=e("./frontend/src/lib/components/icons.tsx"),x=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),v=e("./node_modules/kea-forms/lib/index.js"),I=e.n(v),C=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),S=e("./frontend/src/lib/forms/Field.tsx"),R=e("./node_modules/antd/lib/typography/index.js"),A=e.n(R);function T(s){var o=s.numberOfResults,n=s.isSearching,r=s.isAddingEntry;return o>0?null:n?t.a.createElement(p.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized URLs that match your search."):r?null:t.a.createElement(p.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized URLs or domains. Add one to get started.")}function P(s){var o=s.actionId,n=Object(u.b)({actionId:o}),r=Object(a.useValues)(n),l=r.isProposedUrlSubmitting,E=Object(a.useActions)(n),b=E.cancelProposingUrl;return t.a.createElement(v.Form,{logic:u.b,props:{actionId:o},formKey:"proposedUrl",enableFormOnSubmit:!0,className:"w-full space-y-2"},t.a.createElement(S.a,{name:"url"},t.a.createElement(C.a,{autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)","data-attr":"url-input"})),t.a.createElement("div",{className:"flex justify-end gap-2"},t.a.createElement(i.a,{type:"secondary",onClick:b},"Cancel"),t.a.createElement(i.a,{htmlType:"submit",type:"primary",disabled:l,"data-attr":"url-save"},"Save")))}function h(s){var o=s.pageKey,n=s.actionId,r=Object(u.b)({actionId:n}),l=Object(a.useValues)(r),E=l.appUrlsKeyed,b=l.suggestionsLoading,g=l.searchTerm,N=l.launchUrl,F=l.editUrlIndex,B=l.isAddUrlFormVisible,O=Object(a.useActions)(r),V=O.addUrl,H=O.removeUrl,Y=O.setSearchTerm,J=O.newUrl,G=O.setEditUrlIndex;return t.a.createElement("div",null,t.a.createElement("div",{className:"flex items-center mb-4 gap-2"},t.a.createElement("div",{className:"flex grow"},t.a.createElement(M.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for authorized URLs",style:{maxWidth:480},value:g,onChange:function(y){Y(y.target.value)},autoFocus:o==="toolbar-launch"&&!Object(z.Y)()})),t.a.createElement(i.a,{onClick:J,type:"secondary",icon:t.a.createElement(m.IconPlus,null),"data-attr":"toolbar-add-url"},"Add",o==="toolbar-launch"&&" authorized URL")),b?t.a.createElement(p.a,{outlined:!0,fullWidth:!0,size:"large",key:-1},t.a.createElement(x.a,{size:"md"})):t.a.createElement("div",{className:"space-y-2"},B&&t.a.createElement(p.a,{outlined:!0,fullWidth:!0,size:"large"},t.a.createElement(P,{actionId:n})),t.a.createElement(T,{numberOfResults:E.length,isSearching:g.length>0,isAddingEntry:B}),E.map(function(d,y){return t.a.createElement("div",{key:y,className:Object(j.a)("border rounded flex items-center py-2 px-4 min-h-14")},F===y?t.a.createElement(P,{actionId:n}):t.a.createElement(t.a.Fragment,null,d.type==="suggestion"&&t.a.createElement(D.a,{type:"highlight",className:"mr-4"},"Suggestion"),t.a.createElement(A.a.Text,{ellipsis:{tooltip:d.url},className:"text-muted-alt flex-1"},d.url),t.a.createElement("div",{className:"Actions flex space-x-2 shrink-0"},d.type==="suggestion"?t.a.createElement(i.a,{onClick:function(){return V(d.url)},icon:t.a.createElement(m.IconPlus,null),"data-attr":"toolbar-apply-suggestion"},"Apply suggestion"):t.a.createElement(t.a.Fragment,null,t.a.createElement(i.a,{icon:t.a.createElement(m.IconOpenInApp,null),href:N(d.url),tooltip:"Launch toolbar",center:!0,className:"ActionButton","data-attr":"toolbar-open"}),t.a.createElement(i.a,{icon:t.a.createElement(m.IconEdit,null),onClick:function(){return G(d.originalIndex)},tooltip:"Edit",center:!0,className:"ActionButton"}),t.a.createElement(U.a,{placement:"topRight",title:t.a.createElement(t.a.Fragment,null,"Are you sure you want to remove this authorized url?"),onConfirm:function(){return H(y)}},t.a.createElement(i.a,{icon:t.a.createElement(m.IconDelete,null),tooltip:"Remove URL",center:!0,className:"ActionButton"}))))))})))}try{h.displayName="AuthorizedUrls",h.__docgenInfo={description:"",displayName:"AuthorizedUrls",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx#AuthorizedUrls"]={docgenInfo:h.__docgenInfo,name:"AuthorizedUrls",path:"frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx#AuthorizedUrls"})}catch(s){}},"./frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx":function(L,c,e){"use strict";e.r(c),e.d(c,"scene",function(){return P});var f=e("./node_modules/@babel/runtime/helpers/extends.js"),_=e.n(f),K=e("./node_modules/core-js/modules/es.array.map.js"),t=e("./frontend/src/lib/components/PageHeader.tsx"),j=e("./node_modules/react/index.js"),a=e.n(j),D=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=e.n(D),M=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss"),U=e.n(M),u={};u.insert="head",u.singleton=!1;var z=i()(U.a,u),p=U.a.locals||{},m=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),x=e("./frontend/src/lib/components/Link.tsx"),v=e("./frontend/src/scenes/urls.ts"),I=e("./frontend/src/lib/components/icons.tsx"),C=e("./frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx"),S=e("./frontend/src/lib/components/LemonDivider/index.ts"),R=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),A=e("./node_modules/kea/lib/index.esm.js"),T=e("./frontend/src/scenes/userLogic.ts"),P={component:h};function h(){var o=Object(A.useValues)(T.a),n=o.user,r=o.userLoading,l=Object(A.useActions)(T.a),E=l.updateUser,b=[{title:"Heatmaps",caption:"Understand where your users interact the most.",icon:a.a.createElement(I.IconHeatmap,null)},{title:"Actions",caption:"Create actions visually from elements in your website.",icon:a.a.createElement(I.IconGroupedEvents,null)},{title:"Feature Flags",caption:"Toggle feature flags on/off right on your app.",icon:a.a.createElement(I.IconFlag,null)},{title:"Inspect",caption:"Inspect clickable elements on your website.",icon:a.a.createElement(m.a,null)}];return a.a.createElement("div",{className:"toolbar-launch-page"},a.a.createElement(t.a,{title:"Toolbar",caption:"The toolbar launches PostHog right in your app or website."}),a.a.createElement(S.a,null),a.a.createElement("div",{className:"my-4"},a.a.createElement(R.a,{"data-tooltip":"toolbar-authorized-toggle",label:"Enable the PostHog toolbar",onChange:function(){return E({toolbar_mode:(n==null?void 0:n.toolbar_mode)==="disabled"?"toolbar":"disabled"})},checked:(n==null?void 0:n.toolbar_mode)!=="disabled",disabled:r,loading:r,bordered:!0})),a.a.createElement("h2",{className:"subtitle",id:"urls"},"Authorized URLs for Toolbar"),a.a.createElement("p",null,"These are the domains and URLs where the ",a.a.createElement(x.a,{to:v.a.toolbarLaunch()},"Toolbar")," will automatically launch if you're signed in to your PostHog account."),a.a.createElement(C.a,{pageKey:"toolbar-launch"}),a.a.createElement("div",{className:"footer-caption text-muted mt-4 text-center"},"Make sure you're using the ",a.a.createElement(x.a,{to:"".concat(v.a.projectSettings(),"#snippet")},"HTML snippet")," or the latest ",a.a.createElement("code",null,"posthog-js")," version."),a.a.createElement("div",{className:"feature-highlight-list mt-8 mx-auto mb-0 flex flex-wrap items-center justify-center"},b.map(function(g){return a.a.createElement(s,_()({key:g.title},g))})))}function s(o){var n=o.title,r=o.caption,l=o.icon;return a.a.createElement("div",{className:"fh-item flex items-center mt-4"},a.a.createElement("div",{className:"fh-icon mr-4 text-muted-alt"},l),a.a.createElement("div",null,a.a.createElement("h4",{className:"mb-0 text-muted-alt"},n),a.a.createElement("div",{className:"caption"},r)))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss":function(L,c,e){var f=e("./node_modules/css-loader/dist/runtime/api.js");c=f(!1),c.push([L.i,".toolbar-launch-page{margin-bottom:48px}.toolbar-launch-page .feature-highlight-list{max-width:800px}.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(50% - 8px)}@media(max-width:599px){.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(100% - 8px)}}.toolbar-launch-page .feature-highlight-list .fh-item .fh-icon{font-size:1.6em}.toolbar-launch-page .feature-highlight-list .fh-item h4{font-size:1.2em}",""]),L.exports=c}}]);
