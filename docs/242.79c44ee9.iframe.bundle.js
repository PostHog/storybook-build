(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{"./frontend/src/scenes/groups/Group.tsx":function(N,l,e){"use strict";e.r(l),e.d(l,"scene",function(){return P}),e.d(l,"Group",function(){return z});var p=e("./node_modules/core-js/modules/es.array.concat.js"),a=e("./node_modules/core-js/modules/es.object.to-string.js"),m=e("./node_modules/core-js/modules/es.regexp.to-string.js"),y=e("./node_modules/react/index.js"),t=e.n(y),g=e("./node_modules/antd/es/tabs/index.js"),h=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),j=e("./node_modules/kea/lib/index.esm.js"),G=e("./frontend/src/lib/components/PropertiesTable.tsx"),b=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),M=e("./node_modules/core-js/modules/es.array.iterator.js"),J=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),B=e("./node_modules/@babel/runtime/regenerator/index.js"),K=e.n(B),U=e("./node_modules/regenerator-runtime/runtime.js"),$=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),V=e.n($),D=e("./frontend/src/lib/api.ts"),A=e("./frontend/src/lib/utils.tsx"),H=e("./frontend/src/scenes/teamLogic.ts"),F=e("./frontend/src/models/groupsModel.ts"),S=e("./frontend/src/scenes/urls.ts"),E=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),c=Object(j.kea)({path:["groups","groupLogic"],connect:{values:[H.a,["currentTeamId"],F.a,["groupTypes","aggregationLabel"]]},actions:function(){return{setGroup:function(o,s){return{groupTypeIndex:o,groupKey:s}}}},loaders:function(r){var o=r.values;return{groupData:[null,{loadGroup:function(){var s=V()(K.a.mark(function f(){var L,W;return K.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return L={group_type_index:o.groupTypeIndex,group_key:o.groupKey},W="api/projects/".concat(o.currentTeamId,"/groups/find?").concat(Object(A.Ab)(L)),R.next=4,D.a.get(W);case 4:return R.abrupt("return",R.sent);case 5:case"end":return R.stop()}},f)}));function v(){return s.apply(this,arguments)}return v}()}]}},reducers:{groupTypeIndex:[0,{setGroup:function(r,o){var s=o.groupTypeIndex;return s}}],groupKey:["",{setGroup:function(r,o){var s=o.groupKey;return s}}]},selectors:{groupTypeName:[function(n){return[n.aggregationLabel,n.groupTypeIndex]},function(n,r){return n(r).singular}],breadcrumbs:[function(n){return[n.groupTypeName,n.groupTypeIndex,n.groupKey,n.groupData]},function(n,r,o,s){return[{name:Object(A.j)(n),path:S.a.groups(String(r))},{name:Object(E.b)(o,(s==null?void 0:s.group_properties)||{}),path:S.a.group(String(r),o)}]}]},urlToAction:function(r){var o=r.actions;return{"/groups/:groupTypeIndex/:groupKey":function(v){var f=v.groupTypeIndex,L=v.groupKey;f&&L&&(o.setGroup(+f,decodeURIComponent(L)),o.loadGroup())}}}}),d=e("./frontend/src/scenes/events/EventsTable.tsx"),u=e("./frontend/src/scenes/groups/RelatedGroups.tsx"),O=e("./frontend/src/lib/components/Tooltip.tsx"),T=e("./frontend/src/types.ts"),I=e("./frontend/src/lib/components/PageHeader.tsx"),C=e("./frontend/src/lib/components/CopyToClipboard.tsx"),x=g.a.TabPane,P={component:z,logic:c};function i(n){var r=n.groupData,o=n.groupTypeName;return t.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},t.a.createElement("div",{className:"mr"},t.a.createElement("span",{className:"text-muted"},"Type:")," ",o),t.a.createElement("div",{className:"mr"},t.a.createElement("span",{className:"text-muted"},"Key:")," ",t.a.createElement(C.a,{tooltipMessage:null,description:"group key",style:{display:"inline-flex",justifyContent:"flex-end"}},r.group_key)),t.a.createElement("div",null,t.a.createElement("span",{className:"text-muted"},"First seen:")," ",r.created_at?t.a.createElement(b.b,{time:r.created_at}):"unknown"))}function z(){var n=Object(j.useValues)(c),r=n.groupData,o=n.groupDataLoading,s=n.groupTypeName,v=n.groupKey,f=n.groupTypeIndex;return r?t.a.createElement(t.a.Fragment,null,t.a.createElement(I.a,{title:Object(E.b)(r.group_key,r.group_properties),caption:t.a.createElement(i,{groupData:r,groupTypeName:s})}),t.a.createElement(g.a,null,t.a.createElement(x,{tab:t.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:T.x.PROPERTIES},t.a.createElement(G.a,{properties:r.group_properties||{},embedded:!1,searchable:!0})),t.a.createElement(x,{tab:t.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:T.x.EVENTS},t.a.createElement(d.a,{pageKey:"".concat(f,"::").concat(v),fixedFilters:{properties:[{key:"$group_".concat(f),value:v}]},sceneUrl:S.a.group(f.toString(),v),hideTableConfig:!0})),t.a.createElement(x,{tab:t.a.createElement("span",{"data-attr":"group-related-tab"},"Related people & groups",t.a.createElement(O.a,{title:"People and groups that have shared events with this ".concat(s," in the last 90 days.")},t.a.createElement(h.a,{style:{marginLeft:6,marginRight:0}}))),key:T.x.RELATED},t.a.createElement(u.a,{id:v,groupTypeIndex:f})))):o?t.a.createElement(A.b,null):t.a.createElement(I.a,{title:"Group not found"})}},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(N,l,e){"use strict";e.d(l,"a",function(){return E});var p=e("./node_modules/react/index.js"),a=e.n(p),m=e("./node_modules/kea/lib/index.esm.js"),y=e("./frontend/src/lib/components/LemonTable/index.ts"),t=e("./frontend/src/models/groupsModel.ts"),g=e("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),h=e.n(g),j=e("./frontend/src/lib/utils.tsx"),G=e("./frontend/src/scenes/persons/PersonHeader.tsx"),b=e("./node_modules/core-js/modules/es.array.concat.js"),M=e("./node_modules/core-js/modules/es.array.iterator.js"),J=e("./node_modules/core-js/modules/es.object.to-string.js"),B=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),K=e("./node_modules/@babel/runtime/regenerator/index.js"),U=e.n(K),$=e("./node_modules/regenerator-runtime/runtime.js"),V=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),D=e.n(V),A=e("./frontend/src/lib/api.ts"),H=e("./frontend/src/scenes/teamLogic.ts"),F=Object(m.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[H.a,["currentTeamId"]]},props:{},key:function(d){var u;return"".concat((u=d.groupTypeIndex)!==null&&u!==void 0?u:"person","-").concat(d.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(d){var u=d.values,O=d.props;return{relatedActors:[[],{loadRelatedActors:function(){var T=D()(U.a.mark(function C(){var x;return U.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return x="api/projects/".concat(u.currentTeamId,"/groups/related?").concat(Object(j.Ab)({group_type_index:O.groupTypeIndex,id:O.id})),i.next=3,A.a.get(x);case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},C)}));function I(){return T.apply(this,arguments)}return I}(),setGroup:function(){return[]}}]}},events:function(d){var u=d.actions;return{afterMount:u.loadRelatedActors}}}),S=e("./frontend/src/scenes/persons/GroupActorHeader.tsx");function E(c){var d=c.groupTypeIndex,u=c.id,O=Object(m.useValues)(F({groupTypeIndex:d,id:u})),T=O.relatedActors,I=O.relatedActorsLoading,C=Object(m.useValues)(t.a),x=C.aggregationLabel,P=[{title:"Type",key:"type",render:function(z,n){return n.type==="group"?a.a.createElement(a.a.Fragment,null,Object(j.j)(x(n.group_type_index).singular)):a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,null)," Person")}},{title:"id",key:"id",render:function(z,n){return n.type=="group"?a.a.createElement(S.a,{actor:n}):a.a.createElement(G.a,{person:n,withIcon:!1})}}];return a.a.createElement(y.a,{dataSource:T,columns:P,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:I,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{E.displayName="RelatedGroups",E.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:E.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(c){}},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(N,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};l.default=p},"./node_modules/@ant-design/icons/es/icons/ControlOutlined.js":function(N,l,e){"use strict";var p=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),a=e("./node_modules/react/index.js"),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8 0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z"}}]},name:"control",theme:"outlined"},y=m,t=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),g=function(G,b){return a.createElement(t.a,Object(p.a)(Object(p.a)({},G),{},{ref:b,icon:y}))};g.displayName="ControlOutlined";var h=l.a=a.forwardRef(g)},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(N,l,e){"use strict";var p=e("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),a=e("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var m=a(e("./node_modules/@babel/runtime/helpers/objectSpread2.js")),y=p(e("./node_modules/react/index.js")),t=a(e("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),g=a(e("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),h=function(b,M){return y.createElement(g.default,(0,m.default)((0,m.default)({},b),{},{ref:M,icon:t.default}))};h.displayName="UserOutlined";var j=y.forwardRef(h);l.default=j}}]);
