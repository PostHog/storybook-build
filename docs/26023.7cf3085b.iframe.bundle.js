"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[26023],{"../../frontend/src/scenes/experiments/SharedMetrics/SharedMetrics.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SharedMetrics:()=>SharedMetrics,scene:()=>scene});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.11.5_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/utils/stringWithWBR.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/urls.ts"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/types.ts"),_sharedMetricsLogic__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/scenes/experiments/SharedMetrics/sharedMetricsLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:SharedMetrics,logic:_sharedMetricsLogic__WEBPACK_IMPORTED_MODULE_12__.G};function SharedMetrics(){let{sharedMetrics,sharedMetricsLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_sharedMetricsLogic__WEBPACK_IMPORTED_MODULE_12__.G),{hasAvailableFeature}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_9__.userLogic),columns=[{key:"name",title:"Name",render:(_,sharedMetric)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_6__.i,{to:sharedMetric.id?scenes_urls__WEBPACK_IMPORTED_MODULE_8__.j.experimentsSharedMetric(sharedMetric.id):void 0,title:(0,lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_7__.Z)(sharedMetric.name,17)}),sorter:(a,b)=>a.name.localeCompare(b.name)},{key:"description",title:"Description",dataIndex:"description"},...hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_11__.P$.TAGGING)?[{title:"Tags",dataIndex:"tags",render:function Render(tags){return tags?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_4__.D,{tags:tags,staticOnly:!0}):null}}]:[],{title:"Type",key:"type",render:(_,metric)=>metric.query.kind===_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_10__.OH.ExperimentMetric?metric.query.metric_type:metric.query.kind===_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_10__.OH.ExperimentTrendsQuery?"Trend":"Funnel"},(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_5__.JB)(),(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_5__.rw)(),{key:"actions",title:"Actions",render:(_,sharedMetric)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{className:"max-w-72",type:"secondary",size:"xsmall",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconPencil,{}),onClick:()=>{kea_router__WEBPACK_IMPORTED_MODULE_3__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_8__.j.experimentsSharedMetric(sharedMetric.id))}})}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"deprecated-space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{type:"tertiary",className:"inline-flex",to:scenes_urls__WEBPACK_IMPORTED_MODULE_8__.j.experiments(),icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconArrowLeft,{}),size:"small",children:"Back to experiments"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Vp,{type:"info",children:"Shared metrics let you create reusable metrics that you can quickly add to any experiment. They are ideal for tracking key metrics like conversion rates or revenue across different experiments without having to set them up each time."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"flex justify-end",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{size:"small",type:"primary",to:scenes_urls__WEBPACK_IMPORTED_MODULE_8__.j.experimentsSharedMetric("new"),children:"New shared metric"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.g3,{columns:columns,dataSource:sharedMetrics||[],loading:sharedMetricsLoading,emptyState:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:"You haven't created any shared metrics yet."})})]})}}}]);