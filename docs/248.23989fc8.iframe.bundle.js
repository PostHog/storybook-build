(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{"./frontend/src/lib/components/PayGatePage/PayGatePage.tsx":function(I,c,e){"use strict";e.d(c,"a",function(){return a});var D=e("./node_modules/core-js/modules/es.array.concat.js"),F=e("./node_modules/kea/lib/index.esm.js"),B=e("./node_modules/react/index.js"),E=e.n(B),L=e("./frontend/src/lib/components/LinkButton.tsx"),V=e("./frontend/src/scenes/userLogic.ts"),R=e("./frontend/src/lib/utils.tsx"),Y=e("./frontend/src/lib/components/icons.tsx"),C=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),U=e.n(C),t=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss"),y=e.n(t),v={};v.insert="head",v.singleton=!1;var T=U()(y.a,v),W=y.a.locals||{};function a(s){var G=s.header,M=s.caption,f=s.hideUpgradeButton,j=s.docsLink,P=s.featureKey,O=Object(F.useValues)(V.a),g=O.upgradeLink,d=Object(R.S)(P,"title");return E.a.createElement("div",{className:"pay-gate-page"},E.a.createElement("h2",null,G),E.a.createElement("div",{className:"pay-caption"},M),E.a.createElement("div",{className:"pay-buttons"},!f&&E.a.createElement(L.a,{to:g,type:"primary","data-attr":"".concat(P,"-upgrade"),className:"LemonLinkButton"},"Upgrade now to get ",d),j&&E.a.createElement(L.a,{type:f?"primary":void 0,to:"".concat(j,"?utm_medium=in-product&utm_campaign=").concat(P,"-upgrade-learn-more"),target:"_blank","data-attr":"".concat(P,"-learn-more"),className:"LemonLinkButton"},"Learn more about ",d," ",E.a.createElement(Y.IconOpenInNew,{style:{marginLeft:8}}))))}try{a.displayName="PayGatePage",a.__docgenInfo={description:"",displayName:"PayGatePage",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string | Element"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string | Element"}},hideUpgradeButton:{defaultValue:null,description:"",name:"hideUpgradeButton",required:!1,type:{name:"boolean"}},docsLink:{defaultValue:null,description:"",name:"docsLink",required:!1,type:{name:"string"}},featureKey:{defaultValue:null,description:"",name:"featureKey",required:!0,type:{name:"enum",value:[{value:'"experimentation"'},{value:'"group-analytics"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"]={docgenInfo:a.__docgenInfo,name:"PayGatePage",path:"frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"})}catch(s){}},"./frontend/src/scenes/experiments/Experiments.tsx":function(I,c,e){"use strict";e.r(c),e.d(c,"scene",function(){return b}),e.d(c,"Experiments",function(){return _});var D=e("./node_modules/core-js/modules/es.symbol.js"),F=e.n(D),B=e("./node_modules/core-js/modules/es.symbol.description.js"),E=e.n(B),L=e("./node_modules/core-js/modules/es.array.concat.js"),V=e.n(L),R=e("./node_modules/core-js/modules/es.function.name.js"),Y=e.n(R),C=e("./frontend/src/lib/components/PageHeader.tsx"),U=e("./node_modules/react/index.js"),t=e.n(U),y=e("./frontend/src/scenes/experiments/experimentsLogic.ts"),v=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),T=e("./node_modules/kea/lib/index.esm.js"),W=e("./frontend/src/lib/components/LemonTable/index.ts"),a=e("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),s=e("./frontend/src/types.ts"),G=e("./frontend/src/lib/components/Table/utils.tsx"),M=e("./frontend/src/scenes/urls.ts"),f=e("./frontend/src/lib/utils/stringWithWBR.tsx"),j=e("./frontend/src/lib/components/Link.tsx"),P=e("./frontend/src/lib/components/LinkButton.tsx"),O=e("./frontend/src/lib/dayjs.ts"),g=e("./node_modules/antd/es/tag/index.js"),d=e("./node_modules/antd/es/tabs/index.js"),H=e("./frontend/src/lib/components/LemonButton/More.tsx"),N=e("./frontend/src/lib/components/LemonButton/index.ts"),X=e("./frontend/src/lib/components/LemonRow/index.ts"),$=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),x=e("./frontend/src/scenes/userLogic.ts"),m=e("./frontend/src/lib/components/PayGatePage/PayGatePage.tsx"),b={component:_,logic:y.a};function _(){var r=Object(T.useValues)(y.a),o=r.experiments,p=r.experimentsLoading,u=r.tab,i=Object(T.useActions)(y.a),l=i.setExperimentsFilters,A=i.deleteExperiment,Q=Object(T.useValues)(x.a),z=Q.hasAvailableFeature,Z=[{title:Object(G.a)("Name"),dataIndex:"name",className:"ph-no-capture",sticky:!0,width:"40%",render:function(K,n){return t.a.createElement(t.a.Fragment,null,t.a.createElement(j.a,{to:n.id?M.a.experiment(n.id):void 0},t.a.createElement("h4",{className:"row-name"},Object(f.a)(n.name,17))),n.description&&t.a.createElement("span",{className:"row-description"},n.description))}},Object(a.b)(),Object(a.a)(),{title:"Duration",render:function(K,n){var h=n.end_date?Object(O.a)(n.end_date).diff(Object(O.a)(n.start_date),"day"):n.start_date?Object(O.a)().diff(Object(O.a)(n.start_date),"day"):void 0;return t.a.createElement("div",null,h!==void 0?"".concat(h," day").concat(h>1?"s":""):"N.A")}},{title:"Status",render:function(K,n){var h={running:"green",draft:"default",complete:"purple"},J=function(){if(n.start_date){if(!n.end_date)return"running"}else return"draft";return"complete"};return t.a.createElement(g.a,{color:h[J()],style:{fontWeight:600}},J().toUpperCase())}},{width:0,render:function(K,n){return t.a.createElement(H.a,{overlay:t.a.createElement(t.a.Fragment,null,t.a.createElement(N.a,{type:"stealth",to:M.a.experiment("".concat(n.id)),compact:!0,fullWidth:!0},"View"),t.a.createElement(X.b,null),t.a.createElement(N.a,{type:"stealth",style:{color:"var(--danger)"},onClick:function(){return A(n.id)},"data-attr":"experiment-".concat(n.id,"-dropdown-remove"),fullWidth:!0},"Delete experiment"))})}}];return t.a.createElement("div",null,t.a.createElement(C.a,{title:t.a.createElement("div",{className:"flex-center"},"Experiments",t.a.createElement($.a,{type:"warning",style:{marginLeft:6,lineHeight:"1.4em"}},"BETA")),buttons:z(s.c.EXPERIMENTATION)?t.a.createElement(P.a,{type:"primary","data-attr":"create-experiment",to:M.a.experiment("new"),icon:t.a.createElement(v.a,null)},"New Experiment"):void 0}),z(s.c.EXPERIMENTATION)?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"mb"},"Check out our",t.a.createElement("a",{"data-attr":"experiment-help",href:"https://posthog.com/docs/user-guides/experimentation?utm_medium=in-product&utm_campaign=new-experiment",target:"_blank",rel:"noopener"}," ","Experimentation user guide")," ","to learn more."),t.a.createElement(d.a,{activeKey:u,style:{borderColor:"#D9D9D9"},onChange:function(K){return l({tab:K})}},t.a.createElement(d.a.TabPane,{tab:"All experiments",key:s.h.All}),t.a.createElement(d.a.TabPane,{tab:"Your experiments",key:s.h.Yours}),t.a.createElement(d.a.TabPane,{tab:"Archived experiments",key:s.h.Archived})),t.a.createElement(W.a,{dataSource:o,columns:Z,rowKey:"id",loading:p,defaultSorting:{columnKey:"id",order:1},pagination:{pageSize:100},nouns:["experiment","experiments"],"data-attr":"experiment-table"})):t.a.createElement(m.a,{featureKey:"experimentation",header:t.a.createElement(t.a.Fragment,null,"Introducing ",t.a.createElement("span",{className:"highlight"},"Experimentation"),"!"),caption:"Improve your product by A/B testing new features to discover what works best for your users.",docsLink:"https://posthog.com/docs/user-guides/experimentation"}))}},"./frontend/src/scenes/experiments/experimentsLogic.ts":function(I,c,e){"use strict";e.d(c,"a",function(){return X});var D=e("./node_modules/core-js/modules/es.array.concat.js"),F=e.n(D),B=e("./node_modules/core-js/modules/es.array.filter.js"),E=e.n(B),L=e("./node_modules/core-js/modules/es.array.iterator.js"),V=e.n(L),R=e("./node_modules/core-js/modules/es.array.map.js"),Y=e.n(R),C=e("./node_modules/core-js/modules/es.object.to-string.js"),U=e.n(C),t=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),y=e.n(t),v=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),T=e.n(v),W=e("./node_modules/@babel/runtime/regenerator/index.js"),a=e.n(W),s=e("./node_modules/regenerator-runtime/runtime.js"),G=e.n(s),M=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),f=e.n(M),j=e("./node_modules/kea/lib/index.esm.js"),P=e("./frontend/src/lib/api.ts"),O=e("./frontend/src/scenes/teamLogic.ts"),g=e("./frontend/src/types.ts"),d=e("./frontend/src/lib/utils.tsx"),H=e("./frontend/src/scenes/userLogic.ts"),N=e("./frontend/src/lib/components/lemonToast.tsx"),X=Object(j.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[O.a,["currentTeamId"],H.a,["hasAvailableFeature"]]},actions:{},loaders:function(x){var m=x.values,b=x.actions;return{experiments:[[],{loadExperiments:function(){var _=f()(a.a.mark(function o(p){var u;return a.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(m.hasAvailableFeature(g.c.EXPERIMENTATION)){l.next=2;break}return l.abrupt("return",[]);case 2:return l.next=4,P.a.get("api/projects/".concat(m.currentTeamId,"/experiments?").concat(p||""));case 4:return u=l.sent,l.abrupt("return",u.results);case 6:case"end":return l.stop()}},o)}));function r(o){return _.apply(this,arguments)}return r}(),deleteExperiment:function(){var _=f()(a.a.mark(function o(p){return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,P.a.delete("api/projects/".concat(m.currentTeamId,"/experiments/").concat(p));case 2:return N.a.info("Experiment removed"),i.abrupt("return",m.experiments.filter(function(l){return l.id!==p}));case 4:case"end":return i.stop()}},o)}));function r(o){return _.apply(this,arguments)}return r}(),addToExperiments:function(r){return[].concat(T()(m.experiments),[r])},updateExperiments:function(r){return m.experiments.map(function(o){return o.id===r.id?r:o})}}],tab:[g.h.All,{setExperimentsFilters:function(){var _=f()(a.a.mark(function o(p){var u,i;return a.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u=p.tab,i=u===g.h.Yours?Object(d.Ab)({user:!0}):Object(d.Ab)({archived:!0}),u===g.h.All?b.loadExperiments(Object(d.Ab)({all:!0})):b.loadExperiments(i),A.abrupt("return",u);case 4:case"end":return A.stop()}},o)}));function r(o){return _.apply(this,arguments)}return r}()}]}},events:function(x){var m=x.actions;return{afterMount:function(){m.loadExperiments(Object(d.Ab)({all:!0}))}}}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss":function(I,c,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");c=D(!1),c.push([I.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.pay-gate-page{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:1rem}.pay-gate-page h2{font-size:32px;font-weight:600;margin-bottom:8px}.pay-gate-page h2 .highlight{font-weight:700;color:#f96132}.pay-gate-page .pay-caption{max-width:500px}.pay-gate-page .pay-buttons{margin-top:1rem;width:320px;max-width:90%}.pay-gate-page .pay-buttons .ant-btn{margin-bottom:1rem}",""]),I.exports=c}}]);
