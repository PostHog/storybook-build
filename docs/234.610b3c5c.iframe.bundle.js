(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{"./frontend/src/lib/components/Drawer.tsx":function(G,O,t){"use strict";t.d(O,"a",function(){return te});var A=t("./node_modules/@babel/runtime/helpers/extends.js"),a=t.n(A),S=t("./node_modules/react/index.js"),Be=t.n(S),Oe=t("./node_modules/antd/es/drawer/index.js"),ge=t("./frontend/src/vars.ts");function te(w){return Be.a.createElement(Oe.a,a()({},w,{zIndex:ge.a.zDrawer}))}try{te.displayName="Drawer",te.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:te.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(w){}},"./frontend/src/lib/components/ResizableTable/TableConfig.tsx":function(G,O,t){"use strict";t.d(O,"b",function(){return y}),t.d(O,"a",function(){return v});var A=t("./node_modules/core-js/modules/es.array.includes.js"),a=t("./node_modules/core-js/modules/es.string.includes.js"),S=t("./node_modules/antd/es/button/index.js"),Be=t("./node_modules/antd/es/row/index.js"),Oe=t("./node_modules/antd/es/space/index.js"),ge=t("./node_modules/antd/es/col/index.js"),te=t("./node_modules/react/index.js"),w=t.n(te),je=t("./node_modules/@ant-design/icons/es/icons/ControlOutlined.js"),ze=t("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),Re=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),we=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),D=t.n(we),he=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),Ye=t.n(he),Ve={};Ve.insert="head",Ve.singleton=!1;var ue=D()(Ye.a,Ve),m=Ye.a.locals||{},$=t("./node_modules/kea/lib/index.esm.js"),Le=t("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),T=t("./node_modules/antd/lib/modal/Modal.js"),ae=t.n(T),be=t("./node_modules/react-virtualized/dist/es/List/index.js"),U=t("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),et=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),me=t("./node_modules/clsx/dist/clsx.m.js"),se=t("./frontend/src/lib/components/Tooltip.tsx"),ne=t("./node_modules/core-js/modules/es.array.concat.js"),q=t("./node_modules/core-js/modules/es.array.filter.js"),oe=t("./node_modules/core-js/modules/es.array.from.js"),Ie=t("./node_modules/core-js/modules/es.array.iterator.js"),pt=t("./node_modules/core-js/modules/es.object.to-string.js"),He=t("./node_modules/core-js/modules/es.set.js"),Wt=t("./node_modules/core-js/modules/es.string.iterator.js"),lt=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),tt=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ue=t.n(tt),vt=Object($.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},actions:{selectColumn:function(N){return{column:N}},unselectColumn:function(N){return{column:N}},resetColumns:function(N){return{columns:N}},save:!0},reducers:function(N){var le=N.props;return{selectedColumns:[le.selectedColumns,{selectColumn:function(ve,R){var b=R.column;return Array.from(new Set([].concat(Ue()(ve),[b])))},unselectColumn:function(ve,R){var b=R.column;return ve.filter(function(J){return J!==b})},resetColumns:function(ve,R){var b=R.columns;return b}}]}},listeners:function(N){var le=N.values;return{save:function(){Le.a.actions.setSelectedColumns(le.selectedColumns)}}}}),jt=t("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),yt=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),p=t("./frontend/src/lib/components/LemonButton/index.ts"),E=t("./frontend/src/lib/components/icons.tsx");function y(_){var N=Object($.useActions)(Le.a),le=N.showModal;return w.a.createElement(w.a.Fragment,null,w.a.createElement(S.a,{"data-attr":"events-table-column-selector",onClick:le,icon:w.a.createElement(je.a,{rotate:90})},"Customize columns"),w.a.createElement(z,{immutableColumns:_.immutableColumns,defaultColumns:_.defaultColumns}))}function v(_){var N=Object($.useActions)(Le.a),le=N.showModal;return w.a.createElement(w.a.Fragment,null,w.a.createElement(p.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:le,icon:w.a.createElement(E.IconTuning,{style:{color:"var(--primary)"}})},"Customize columns"),w.a.createElement(z,{immutableColumns:_.immutableColumns,defaultColumns:_.defaultColumns}))}function z(_){var N=_.immutableColumns,le=_.defaultColumns,ie=36,ve=32,R=Object($.useValues)(Le.a),b=R.selectedColumns,J=R.modalVisible,C=Object($.useActions)(Le.a),W=C.hideModal,K=vt({selectedColumns:b==="DEFAULT"?le:b}),B=Object($.useActions)(K),V=B.selectColumn,Ee=B.unselectColumn,Ce=B.resetColumns,Se=B.save,Pe=Object($.useValues)(K),Xe=Pe.selectedColumns;function ct(Ae){var Me=Ae.index,Ze=Ae.style,ee=Ae.key,Ke=N==null?void 0:N.includes(Xe[Me]);return w.a.createElement("div",{style:Ze,key:ee,onClick:function(){return!Ke&&Ee(Xe[Me])}},w.a.createElement("div",{className:Object(me.a)(["column-display-item",{selected:!Ke,disabled:Ke}]),style:{height:"".concat(ve,"px")}},w.a.createElement(et.b,{value:Xe[Me]}),w.a.createElement("div",{className:"text-right",style:{flex:1}},w.a.createElement(se.a,{title:Ke?"Reserved":"Remove"},Ke?w.a.createElement(ze.a,null):w.a.createElement(Re.a,{style:{color:"var(--danger)"}})))))}return w.a.createElement(ae.a,{centered:!0,visible:J,title:"Customize columns",onOk:Se,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:W,footer:w.a.createElement(Be.a,null,w.a.createElement(Oe.b,{style:{flexGrow:1},align:"start"},w.a.createElement(S.a,{className:"text-blue",onClick:function(){return Ce(le)}},"Reset to default")),w.a.createElement(Oe.b,null,w.a.createElement(S.a,{className:"text-blue",type:"text",onClick:W},"Cancel"),w.a.createElement(S.a,{type:"primary",onClick:Se},"Save")))},w.a.createElement(Be.a,{gutter:16,className:"mt"},w.a.createElement(ge.a,{xs:24,sm:12},w.a.createElement("h3",{className:"l3"},"Available columns"),w.a.createElement("div",{style:{height:320}},w.a.createElement(U.a,null,function(Ae){var Me=Ae.height,Ze=Ae.width;return w.a.createElement(jt.a,{height:Me,width:Ze,taxonomicGroupTypes:[yt.a.EventProperties],value:void 0,onChange:function(Ke,Pt){return Pt&&V(String(Pt))},popoverEnabled:!1,selectFirstItem:!1})}))),w.a.createElement(ge.a,{xs:24,sm:12},w.a.createElement("h3",{className:"l3"},"Visible columns (",Xe.length,")"),w.a.createElement("div",{style:{height:320}},w.a.createElement(U.a,null,function(Ae){var Me=Ae.height,Ze=Ae.width;return w.a.createElement(be.b,{height:Me,rowCount:Xe.length,rowRenderer:ct,rowHeight:ie,width:Ze})})))))}try{y.displayName="TableConfig",y.__docgenInfo={description:`A scene that contains a ResizableTable with many possible columns
can use this to let the user choose which columns they see`,displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"]={docgenInfo:y.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"})}catch(_){}try{v.displayName="LemonTableConfig",v.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:v.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(_){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(G,O,t){"use strict";t.d(O,"a",function(){return jt}),t.d(O,"b",function(){return yt});var A=t("./node_modules/core-js/modules/es.array.for-each.js"),a=t("./node_modules/core-js/modules/es.array.from.js"),S=t("./node_modules/core-js/modules/es.array.map.js"),Be=t("./node_modules/core-js/modules/es.array.reduce.js"),Oe=t("./node_modules/core-js/modules/es.array.slice.js"),ge=t("./node_modules/core-js/modules/es.number.constructor.js"),te=t("./node_modules/core-js/modules/es.string.iterator.js"),w=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),je=t("./node_modules/@babel/runtime/helpers/extends.js"),ze=t.n(je),Re=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),we=t.n(Re),D=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),he=t.n(D),Ye=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ve=t.n(Ye),ue=t("./node_modules/react/index.js"),m=t.n(ue),$=t("./node_modules/antd/es/table/index.js"),Le=t("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),T=t("./frontend/src/lib/utils/responsiveUtils.tsx"),ae=t("./node_modules/react-resizable/index.js");function be(p){var E=p.children,y=p.onResize,v=p.initialWidth,z=p.height,_=p.minConstraints,N=p.maxConstraints,le=m.a.createElement("div",{className:"inner-wrapper"},m.a.createElement("div",{className:"inner-text"},E)),ie=Object(ue.useState)(v),ve=he()(ie,2),R=ve[0],b=ve[1],J=Object(ue.useState)(!1),C=he()(J,2),W=C[0],K=C[1],B=function(Ee,Ce){b(Ce.size.width),y(Ee,Ce)};return m.a.createElement("div",{className:"react-resizable-wrapper"},m.a.createElement(ae.ResizableBox,{width:R,height:z,minConstraints:_,maxConstraints:N,axis:"x",handle:m.a.createElement("span",{className:"resizable-handle","data-drag-active":W}),onResize:B,onResizeStart:function(Ee){Ee.preventDefault(),K(!0)},onResizeStop:function(){K(!1)},draggableOpts:{enableUserSelectHack:!0}},le))}function U(p){var E=p.columns,y=p.handleResize,v=p.layoutEffect,z=p.minColumnWidth,_=p.expandable,N=60;return Object(ue.useLayoutEffect)(function(){return typeof v=="function"?v():void 0}),m.a.createElement("div",{className:"resizable-virtual-table-header"},!!_&&m.a.createElement("div",{className:"left-spacer",style:{width:(_==null?void 0:_.columnWidth)||jt}}),E.map(function(le,ie){var ve=le.title,R=le.width,b=le.widthConstraints,J=b!=null&&b.length?b[0]:z,C=b!=null&&b.length?b[1]:1/0;return m.a.createElement(be,{key:ie,initialWidth:R!=null?R:J,height:N,onResize:y(ie),minConstraints:[J,N],maxConstraints:[C,N]},ve)}))}var et=m.a.memo(U);try{U.displayName="VirtualTableHeader",U.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:U.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(p){}var me=t("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),se=t("./frontend/src/lib/hooks/useWindowSize.js"),ne=function(){var E=Object(se.a)(),y=E.width,v=Object(ue.useState)(T.a),z=he()(v,2),_=z[0],N=z[1];return Object(ue.useEffect)(function(){N(T.a)},[y]),_},q=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),oe=t.n(q),Ie=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),pt=t.n(Ie),He={};He.insert="head",He.singleton=!1;var Wt=oe()(pt.a,He),lt=pt.a.locals||{};function tt(p,E){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);E&&(v=v.filter(function(z){return Object.getOwnPropertyDescriptor(p,z).enumerable})),y.push.apply(y,v)}return y}function Ue(p){for(var E=1;E<arguments.length;E++){var y=arguments[E]!=null?arguments[E]:{};E%2?tt(Object(y),!0).forEach(function(v){we()(p,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):tt(Object(y)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(y,v))})}return p}var vt=me.b,jt=48;function yt(p){var E=p.columns,y=E===void 0?[]:E,v=p.components,z=Ve()(p,["columns","components"]),_=ne(),N=Object(T.d)(_),le=Object(ue.useState)(function(){var Y=y.length;return y.map(function(H,re){return Ue(Ue({},H),{},{width:re===Y?void 0:N})})}),ie=he()(le,2),ve=ie[0],R=ie[1],b=Object(ue.useState)(ve),J=he()(b,2),C=J[0],W=J[1],K=Object(ue.useState)(!1),B=he()(K,2),V=B[0],Ee=B[1],Ce=Object(ue.useRef)(null),Se=Object(ue.useRef)(null),Pe=Object(ue.useRef)();function Xe(Y){var H;if(Y){var re;return Se==null||(re=Se.current)===null||re===void 0?void 0:re.classList.add("scrollable-right")}return Se==null||(H=Se.current)===null||H===void 0?void 0:H.classList.remove("scrollable-right")}function ct(){if(Se.current){var Y=Se.current;Y.offsetWidth+Y.scrollLeft<Y.scrollWidth?Xe(!0):Xe(!1)}}function Ae(){var Y,H=(Y=Ce.current)===null||Y===void 0?void 0:Y.querySelectorAll(".ant-table-content colgroup col");if(H){var re=Array.from(H);return re.map(function(ye){return ye.style.width?Object(T.e)(ye.style.width):void 0})}return[]}function Me(Y,H){var re,ye=(re=Ce.current)===null||re===void 0?void 0:re.querySelector(".ant-table-content colgroup col:nth-child(".concat(Y+1+Number(!!z.expandable),"):not(:last-child)"));ye==null||ye.setAttribute("style","width: ".concat(H,"px;"))}function Ze(){var Y,H=(Y=Ce.current)===null||Y===void 0?void 0:Y.querySelector(".ant-table-content colgroup col:last-child");H==null||H.removeAttribute("style")}function ee(){var Y,H=(Y=Ce.current)===null||Y===void 0?void 0:Y.querySelector(".resizable-virtual-table-header");if(H!=null&&H.childNodes){var re=Array.from(H==null?void 0:H.childNodes),ye=re.reduce(function(Qe,gt){var X=gt.offsetWidth;return Qe+(X!=null?X:0)},0);if(ye){var ot,at=(ot=Ce.current)===null||ot===void 0?void 0:ot.querySelector(".ant-table table");at==null||at.setAttribute("style","width: ".concat(ye,"px;"))}}Ze()}var Ke=function(H){return function(re,ye){var ot=ye.size.width;Pe.current&&cancelAnimationFrame(Pe.current),Pe.current=requestAnimationFrame(function(){Me(H,ot),ee()}),ct()}};function Pt(Y){var H,re=(H=Ce.current)===null||H===void 0?void 0:H.querySelector(".ant-table table"),ye=re==null?void 0:re.clientWidth;if(!(!ye||ye===Y)){Pe.current&&cancelAnimationFrame(Pe.current);var ot=Y/ye,at=Ae();Pe.current=requestAnimationFrame(function(){Ee(!1),W(function(Qe){var gt=y.length-1,X=Qe.map(function(u,x){var I;return x===gt?u:Ue(Ue({},u),{},{width:Math.max(((I=at[x+Number(!!z.expandable)])!==null&&I!==void 0?I:0)*ot,N)})});return X.slice(0,gt).forEach(function(u,x){var I;Me(x,(I=u.width)!==null&&I!==void 0?I:N)}),ee(),X}),Ee(!0)})}}var en=new Le.a(function(Y){Y.forEach(function(H){var re=H.contentRect.width;return Pt(re)})});return Object(ue.useEffect)(function(){R(function(Y){var H=Y.length;return Y.map(function(re,ye){return ye===H?re:Ue(Ue({},re),{},{render:y[ye].render})})})},[y]),Object(ue.useLayoutEffect)(function(){if(Ce.current){en.observe(Ce.current);var Y=Ce.current.clientWidth,H=ve.reduce(function(ye,ot){var at=ot.span;return ye+at},0),re=Object(T.c)(Y,H);R(function(ye){var ot=ye.length,at=ye.map(function(Qe,gt){return gt===ot?Qe:Ue(Ue({},Qe),{},{width:Math.max(Qe.defaultWidth||re*Qe.span,N)})});return W(at),at}),ct(),Ee(!0)}},[]),m.a.createElement("div",{ref:Ce,className:"resizable-table-scroll-container",onScroll:ct},m.a.createElement("div",{ref:Se,className:"table-gradient-overlay"},V&&m.a.createElement(et,{columns:C,handleResize:Ke,layoutEffect:ee,minColumnWidth:N,expandable:z.expandable}),m.a.createElement($.a,ze()({columns:ve,components:Ue(Ue({},v),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},z))))}try{yt.displayName="ResizableTable",yt.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:yt.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(p){}try{vt.displayName="TableConfig",vt.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:vt.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(p){}},"./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts":function(G,O,t){"use strict";t.d(O,"a",function(){return Le});var A=t("./node_modules/core-js/modules/es.array.every.js"),a=t.n(A),S=t("./node_modules/core-js/modules/es.array.includes.js"),Be=t.n(S),Oe=t("./node_modules/core-js/modules/es.array.iterator.js"),ge=t.n(Oe),te=t("./node_modules/core-js/modules/es.object.to-string.js"),w=t.n(te),je=t("./node_modules/core-js/modules/es.string.includes.js"),ze=t.n(je),Re=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),we=t.n(Re),D=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),he=t.n(D),Ye=t("./node_modules/kea/lib/index.esm.js"),Ve=t("./node_modules/kea-router/lib/index.js"),ue=t.n(Ve);function m(T,ae){var be=Object.keys(T);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(T);ae&&(U=U.filter(function(et){return Object.getOwnPropertyDescriptor(T,et).enumerable})),be.push.apply(be,U)}return be}function $(T){for(var ae=1;ae<arguments.length;ae++){var be=arguments[ae]!=null?arguments[ae]:{};ae%2?m(Object(be),!0).forEach(function(U){he()(T,U,be[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(be)):m(Object(be)).forEach(function(U){Object.defineProperty(T,U,Object.getOwnPropertyDescriptor(be,U))})}return T}var Le=Object(Ye.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],actions:{showModal:!0,hideModal:!1,setSelectedColumns:function(ae){return{columnConfig:ae}}},reducers:function(){return{selectedColumns:["DEFAULT",{setSelectedColumns:function(be,U){var et=U.columnConfig;return et}}],modalVisible:[!1,{showModal:function(){return!0},save:function(){return!1},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(T){return[T.selectedColumns]},function(T){return T==="DEFAULT"?7:T.length+1}]},urlToAction:function(ae){var be=ae.actions,U=ae.values;return{"*":function(me,se){var ne=se.tableColumns;if(!(!ne||!Array.isArray(ne)||ne.length===0)){var q=U.selectedColumns,oe=ne.length===q.length&&ne.every(function(Ie){return q.includes(Ie)});(q==="DEFAULT"||!oe)&&be.setSelectedColumns(ne)}}}},actionToUrl:function(ae){var be=ae.values;return{setSelectedColumns:function(){return[Ve.router.values.location.pathname,$($({},Ve.router.values.searchParams),{},{tableColumns:be.selectedColumns}),Ve.router.values.hashParams,{replace:!0}]}}}})},"./frontend/src/lib/hooks/useWindowSize.js":function(G,O,t){"use strict";t.d(O,"a",function(){return te});var A=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=t.n(A),S=t("./node_modules/@babel/runtime/helpers/typeof.js"),Be=t.n(S),Oe=t("./node_modules/react/index.js"),ge=t.n(Oe);function te(){var w=(typeof window=="undefined"?"undefined":Be()(window))==="object";function je(){return{width:w?window.innerWidth:void 0,height:w?window.innerHeight:void 0}}var ze=Object(Oe.useState)(je),Re=a()(ze,2),we=Re[0],D=Re[1];return Object(Oe.useEffect)(function(){if(!w)return!1;function he(){D(je())}return window.addEventListener("resize",he),function(){return window.removeEventListener("resize",he)}},[]),we}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(G,O,t){"use strict";t.d(O,"a",function(){return we});var A=t("./node_modules/core-js/modules/es.array.includes.js"),a=t.n(A),S=t("./node_modules/core-js/modules/es.string.includes.js"),Be=t.n(S),Oe=t("./node_modules/react/index.js"),ge=t.n(Oe),te=t("./node_modules/kea/lib/index.esm.js"),w=t("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),je=t("./node_modules/rc-select/es/index.js"),ze=t("./frontend/src/lib/components/Link.tsx"),Re=t("./frontend/src/lib/introductions/groupsAccessLogic.ts");function we(D){var he=D.value,Ye=Object(te.useValues)(Re.b),Ve=Ye.groupsAccessStatus;return[Re.a.HasAccess,Re.a.HasGroupTypes,Re.a.NoAccess].includes(Ve)?ge.a.createElement(je.default.Option,{key:"groups",value:he,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},ge.a.createElement(w.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",ge.a.createElement(ze.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{we.displayName="GroupsIntroductionOption",we.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:we.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(D){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(G,O,t){"use strict";t.d(O,"d",function(){return U}),t.d(O,"c",function(){return et}),t.d(O,"e",function(){return me}),t.d(O,"a",function(){return se}),t.d(O,"b",function(){return ne});var A=t("./node_modules/core-js/modules/es.array.filter.js"),a=t.n(A),S=t("./node_modules/core-js/modules/es.array.iterator.js"),Be=t.n(S),Oe=t("./node_modules/core-js/modules/es.array.map.js"),ge=t.n(Oe),te=t("./node_modules/core-js/modules/es.object.entries.js"),w=t.n(te),je=t("./node_modules/core-js/modules/es.object.from-entries.js"),ze=t.n(je),Re=t("./node_modules/core-js/modules/es.object.values.js"),we=t.n(Re),D=t("./node_modules/core-js/modules/es.regexp.exec.js"),he=t.n(D),Ye=t("./node_modules/core-js/modules/es.string.replace.js"),Ve=t.n(Ye),ue=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=t.n(ue),$=t("./node_modules/antd/lib/_util/responsiveObserve.js"),Le=t.n($),T=t("./frontend/src/lib/components/ResizableTable/index.tsx"),ae=Object.fromEntries(Object.entries($.responsiveMap).map(function(q){var oe=m()(q,2),Ie=oe[0],pt=oe[1];return[Ie,me(pt)]})),be=Object.values(ae).sort(function(q,oe){return q-oe});function U(q){return q<576?150:50}function et(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,Ie=q-T.a;return Math.floor(Ie/oe)}function me(q){return parseFloat(q.replace(/[^\d.]/g,""))}function se(){var q=window.innerWidth,oe=be.filter(function(Ie){return q>=Ie}).pop();return oe||be[0]}function ne(q){return ae[q]||-1}try{U.displayName="getMinColumnWidth",U.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:U.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(q){}try{me.displayName="parsePixelValue",me.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:me.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(q){}try{ne.displayName="getBreakpoint",ne.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:ne.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(q){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(G,O,t){"use strict";t.d(O,"a",function(){return X});var A=t("./node_modules/core-js/modules/es.array.concat.js"),a=t("./node_modules/core-js/modules/es.array.map.js"),S=t("./node_modules/core-js/modules/es.array.splice.js"),Be=t("./node_modules/@babel/runtime/helpers/extends.js"),Oe=t.n(Be),ge=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),te=t.n(ge),w=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),je=t.n(w),ze=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Re=t.n(ze),we=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),D=t.n(we),he={};he.insert="head",he.singleton=!1;var Ye=Re()(D.a,he),Ve=D.a.locals||{},ue=t("./node_modules/react/index.js"),m=t.n(ue),$=t("./node_modules/kea/lib/index.esm.js"),Le=t("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),T=t("./node_modules/core-js/modules/es.symbol.js"),ae=t("./node_modules/core-js/modules/es.symbol.description.js"),be=t("./node_modules/core-js/modules/es.array.filter.js"),U=t("./node_modules/core-js/modules/es.function.name.js"),et=t("./node_modules/core-js/modules/es.object.keys.js"),me=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),se=t.n(me),ne=t("./node_modules/antd/es/button/index.js"),q=t("./node_modules/antd/es/row/index.js"),oe=t("./node_modules/antd/es/col/index.js"),Ie=t("./node_modules/antd/es/select/index.js"),pt=t("./frontend/src/lib/components/Tooltip.tsx"),He=t("./frontend/src/types.ts"),Wt=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),lt=t("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),tt=t("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),Ue=t("./frontend/src/lib/utils.tsx"),vt=t("./frontend/src/lib/components/SeriesGlyph.tsx"),jt=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),yt=t.n(jt),p={};p.insert="head",p.singleton=!1;var E=Re()(yt.a,p),y=yt.a.locals||{},v=t("./frontend/src/lib/components/Popup/Popup.tsx"),z=t("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),_=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),N=t("./frontend/src/lib/components/EntityFilterInfo.tsx"),le=t("./node_modules/clsx/dist/clsx.m.js"),ie=t("./frontend/src/scenes/trends/mathsLogic.tsx"),ve=t("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),R=t("./frontend/src/models/actionsModel.ts"),b=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),J=t("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),C=t("./frontend/src/lib/components/icons.tsx"),W;function K(u,x){var I=Object.keys(u);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(u);x&&(L=L.filter(function(xe){return Object.getOwnPropertyDescriptor(u,xe).enumerable})),I.push.apply(I,L)}return I}function B(u){for(var x=1;x<arguments.length;x++){var I=arguments[x]!=null?arguments[x]:{};x%2?K(Object(I),!0).forEach(function(L){te()(u,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(I)):K(Object(I)).forEach(function(L){Object.defineProperty(u,L,Object.getOwnPropertyDescriptor(I,L))})}return u}var V=function(x,I){if(x)return"Hide filters";if(I.properties&&Object.keys(I.properties).length>0){var L;return Object(Ue.qb)((L=I.properties)===null||L===void 0?void 0:L.length,"filter")}return"Add filters"};function Ee(u){var x,I,L,xe=u.logic,M=u.filter,Q=u.index,nt=u.hideMathSelector,_e=u.hidePropertySelector,Tt=u.singleFilter,ut=u.showOr,st=u.hideFilter,ke=u.hideRename,fe=u.onRenameClick,Rt=fe===void 0?function(){}:fe,dt=u.showSeriesIndicator,Ge=u.seriesIndicatorType,Ft=Ge===void 0?"alpha":Ge,wt=u.horizontalUI,Ne=wt===void 0?!1:wt,Nt=u.fullWidth,mt=Nt===void 0?!1:Nt,Bt=u.filterCount,Vt=u.customRowPrefix,It=u.customRowSuffix,Kt=u.rowClassName,ln=u.propertyFilterWrapperClassName,dn=u.stripeActionRow,kt=dn===void 0?!0:dn,tn=u.hasBreakdown,Pn=u.showNestedArrow,An=Pn===void 0?!1:Pn,At=u.hideDeleteBtn,Dt=At===void 0?!1:At,cn=u.actionsTaxonomicGroupTypes,un=cn===void 0?[_.a.Events,_.a.Actions]:cn,mn=u.propertiesTaxonomicGroupTypes,nn=u.disabled,fn=nn===void 0?!1:nn,pn=u.readOnly,Gt=pn===void 0?!1:pn,vn=u.renderRow,$t=Object($.useValues)(xe),Ot=$t.selectedFilter,On=$t.entities,Cn=$t.entityFilterVisible,Ct=Object($.useActions)(xe),$e=Ct.updateFilter,it=Ct.selectFilter,Lt=Ct.updateFilterMath,rn=Ct.removeLocalFilter,xn=Ct.updateFilterProperty,yn=Ct.setEntityFilterVisibility,jn=Ct.duplicateFilter,Mt=Object($.useValues)(R.a),on=Mt.actions,Tn=Object($.useValues)(ie.c),Yt=Tn.mathDefinitions,Ht=typeof M.order=="number"?Cn[M.order]:!1,Xt,ht,_t,Ut=M.math,bt=M.math_property,Et=M.math_group_type_index,xt=function(){rn(B(B({},M),{},{index:Q}))},gn=function(ft,Zt){var Qt;Lt(B(B({},Object(ie.b)(Zt)),{},{math_property:!((Qt=Yt[Zt])===null||Qt===void 0)&&Qt.onProperty?bt!=null?bt:"$time":void 0,type:M.type,index:Q}))},hn=function(ft,Zt){Lt(B(B({},M),{},{math_property:Zt,index:Q}))},bn=Boolean(Ot&&(Ot==null?void 0:Ot.type)===M.type&&(Ot==null?void 0:Ot.index)===Q),Rn=function(){it(bn?null:B(B({},M),{},{index:Q}))};if(M.type===He.g.NEW_ENTITY)ht=null,_t=null;else{var zt;Xt=((zt=On[M.type])===null||zt===void 0?void 0:zt.filter(function(Je){return Je.id===M.id})[0])||{},ht=Xt.name||M.name,_t=Xt.id||M.id}var an=m.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),sn=Ft==="numeric"?m.a.createElement(vt.a,{style:{borderColor:"var(--border)"}},Q+1):m.a.createElement(vt.b,{seriesIndex:Q,hasBreakdown:tn}),wn=typeof Vt=="function"?Vt({filter:M,index:Q,onClose:xt}):Vt,Dn=m.a.createElement(v.a,{overlay:m.a.createElement(z.a,{groupType:M.type,value:M.type==="actions"&&typeof _t=="string"?parseInt(_t):_t||void 0,onChange:function(ft,Zt,Qt){$e({type:Pe(ft.type)||void 0,id:"".concat(Zt),name:Qt==null?void 0:Qt.name,index:Q})},onClose:function(){return it(null)},taxonomicGroupTypes:un}),visible:bn,onClickOutside:function(){return it(null)}},function(Je){var ft=Je.setRef;return m.a.createElement(ne.a,{"data-attr":"trend-element-subject-"+Q,onClick:Rn,block:mt,ref:ft,disabled:fn||Gt,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},m.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},m.a.createElement(N.a,{filter:M})),m.a.createElement(lt.a,{style:{fontSize:10}}))}),Fn=typeof It=="function"?It({filter:M,index:Q,onClose:xt}):It,In=m.a.createElement(ne.a,{type:"link",onClick:function(){typeof M.order=="number"&&yn(M.order,!Ht)},className:"row-action-btn show-filters".concat(Ht?" visible":""),"data-attr":"show-prop-filter-".concat(Q),title:"Show filters",style:{display:"flex",alignItems:"center"}},m.a.createElement(C.IconFilter,{fontSize:"1.25em"}),!((x=M.properties)===null||x===void 0)&&x.length?Object(Ue.qb)((I=M.properties)===null||I===void 0?void 0:I.length,"filter"):null),En=m.a.createElement(ne.a,{type:"link",onClick:function(){it(M),Rt()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(Q),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},m.a.createElement(C.IconEdit,{fontSize:"1.25em"})),Nn=m.a.createElement(ne.a,{type:"link",onClick:function(){jn(M)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(Q),title:"Duplicate graph series"},m.a.createElement(C.IconCopy,{fontSize:"1.25em"})),Mn=m.a.createElement(ne.a,{type:"link",onClick:xt,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(Q),title:"Delete graph series"},m.a.createElement(C.IconDelete,{fontSize:"1.25em"}));return m.a.createElement("div",{className:Object(le.a)({"action-row-striped":Ne&&kt,"action-row":!Ne||!kt,"full-width":mt})},!Ne&&Q>0&&ut&&m.a.createElement(q.a,{align:"middle",style:{marginTop:12}},an),m.a.createElement(q.a,{gutter:8,align:"middle",className:"".concat(Ne?"":"mt"," ").concat(Kt),wrap:!mt},vn?vn({seriesIndicator:sn,prefix:wn,filter:Dn,suffix:Fn,propertyFiltersButton:In,renameRowButton:En,deleteButton:Mn,orLabel:an}):m.a.createElement(m.a.Fragment,null,!Dt&&Ne&&!Tt&&Bt>1&&m.a.createElement(oe.a,null,m.a.createElement(ne.a,{type:"link",onClick:xt,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:m.a.createElement(tt.a,null)})),dt&&m.a.createElement(oe.a,{className:"action-row-letter"},sn),Vt!==void 0?m.a.createElement(oe.a,null,wn):m.a.createElement(m.a.Fragment,null,Ne&&m.a.createElement(oe.a,null,"Showing")),m.a.createElement(oe.a,{className:"column-filter",style:mt?{}:{maxWidth:"calc(".concat(nt?"100":"50","% - 16px)")},flex:mt?"auto":void 0},Dn),It!==void 0&&m.a.createElement(oe.a,{className:"column-row-suffix"},Fn),!nt&&m.a.createElement(m.a.Fragment,null,Ne&&m.a.createElement(oe.a,null,"counted by"),m.a.createElement(oe.a,{style:{maxWidth:"calc(50% - 16px".concat(dt?" - 32px":"",")")}},m.a.createElement(Ce,{math:Ut,mathGroupTypeIndex:Et,index:Q,onMathSelect:gn,style:{maxWidth:"100%",width:"initial"}})),((L=Yt[Ut||""])===null||L===void 0?void 0:L.onProperty)&&m.a.createElement(m.a.Fragment,null,Ne&&m.a.createElement(oe.a,null,"on property"),m.a.createElement(oe.a,{style:{maxWidth:"calc(50% - 16px".concat(dt?" - 32px":"",")")}},m.a.createElement(J.c,{groupType:_.a.NumericalEventProperties,value:bt,onChange:function(ft){return hn(Q,ft)},eventNames:ht?[ht]:[],dataAttr:"math-property-select",renderValue:function(ft){return m.a.createElement(pt.a,{title:m.a.createElement(m.a.Fragment,null,"Calculate"," ",Yt[Ut!=null?Ut:""].name.toLowerCase()," from property ",m.a.createElement("code",null,ft),". Note that only"," ",ht," occurences where ",m.a.createElement("code",null,ft)," is set with a numeric value will be taken into account."),placement:"right"},m.a.createElement("div",null,m.a.createElement(b.b,{value:ft,disablePopover:!0})))}})))),(Ne||mt)&&!st&&!Gt&&m.a.createElement(oe.a,null,In),(Ne||mt)&&!ke&&!Gt&&m.a.createElement(oe.a,null,En),(Ne||mt)&&!st&&!Tt&&!Gt&&m.a.createElement(oe.a,null,Nn),!Dt&&!Ne&&!Tt&&!Gt&&m.a.createElement(oe.a,{className:"column-delete-btn"},Mn),Ne&&Bt>1&&Q<Bt-1&&ut&&an)),(!_e||M.properties&&M.properties.length>0)&&!Ne&&!mt&&m.a.createElement("div",{style:{paddingTop:6}},m.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),m.a.createElement(ne.a,{className:"ant-btn-md",onClick:function(){return typeof M.order=="number"?yn(M.order,!Ht):void 0},"data-attr":"show-prop-filter-"+Q},V(Ht,M))),Ht&&m.a.createElement("div",{className:"mr property-filter-wrapper ".concat(ln)},m.a.createElement(Wt.a,{pageKey:"".concat(Q,"-").concat(_t,"-filter"),propertyFilters:M.properties,onChange:function(ft){return xn({properties:ft,index:Q})},disablePopover:Ne,style:{marginBottom:0},showNestedArrow:An,taxonomicGroupTypes:mn,eventNames:M.type===_.a.Events&&M.id?[String(M.id)]:M.type===_.a.Actions&&M.id?Object(Ue.I)(parseInt(String(M.id)),on):[]})))}function Ce(u){var x=u.math,I=u.mathGroupTypeIndex,L=u.index,xe=u.onMathSelect,M=u.style,Q="This can only be used on properties that have at least one number type occurence in your events.",nt=Object($.useValues)(ie.c),_e=nt.eventMathEntries,Tt=nt.propertyMathEntries;return m.a.createElement(Ie.a,{style:B({width:150},M),value:Object(ie.a)(x,I),onChange:function(st){return xe(L,st)},"data-attr":"math-selector-".concat(L),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},m.a.createElement(Ie.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},_e.map(function(ut){var st=se()(ut,2),ke=st[0],fe=st[1],Rt=fe.name,dt=fe.description,Ge=fe.onProperty;return m.a.createElement(Ie.a.Option,{key:ke,value:ke,"data-attr":"math-".concat(ke,"-").concat(L)},m.a.createElement(pt.a,{title:Ge?m.a.createElement(m.a.Fragment,null,dt,m.a.createElement("br",null),Q):dt,placement:"right"},m.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},Rt)))}),Object(ve.a)({value:""})),m.a.createElement(Ie.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},Tt.map(function(ut){var st=se()(ut,2),ke=st[0],fe=st[1],Rt=fe.name,dt=fe.description,Ge=fe.onProperty;return m.a.createElement(Ie.a.Option,{key:ke,value:ke,"data-attr":"math-".concat(ke,"-").concat(L)},m.a.createElement(pt.a,{title:Ge?m.a.createElement(m.a.Fragment,null,dt,m.a.createElement("br",null),Q):dt,placement:"right"},m.a.createElement("div",{style:{height:"100%",width:"100%"}},Rt)))})))}var Se=(W={},te()(W,_.a.Events,He.g.EVENTS),te()(W,_.a.Actions,He.g.ACTIONS),W);function Pe(u){return Se[u]||null}try{Ee.displayName="ActionFilterRow",Ee.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:Ee.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(u){}try{Pe.displayName="taxonomicFilterGroupTypeToEntityType",Pe.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:Pe.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(u){}var Xe=t("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),ct=t("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ae=t.n(ct),Me=t("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),Ze=Object(Me.c)(function(){return m.a.createElement("span",{className:"action-filter-drag-handle"},m.a.createElement(C.SortableDragIcon,null))}),ee=Object(Me.b)(function(u){var x=u.filterCount,I=u.filterIndex,L=Ae()(u,["filterCount","filterIndex"]),xe=x>1;return m.a.createElement("div",{className:"draggable-action-filter ".concat(xe?"drag-handle-visible":"")},xe?m.a.createElement(Ze,null):m.a.createElement("span",{style:{marginLeft:4}}),m.a.createElement(Ee,Oe()({},L,{filterCount:x,index:I,key:I})))}),Ke=Object(Me.a)(function(u){var x=u.children;return m.a.createElement("div",null,x)});try{ee.displayName="SortableActionFilterRow",ee.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:ee.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(u){}try{Ke.displayName="SortableContainer",Ke.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:Ke.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(u){}var Pt=t("./node_modules/antd/es/modal/index.js"),en=t("./node_modules/antd/es/input/index.js"),Y=t("./frontend/src/scenes/insights/utils.ts"),H=Object($.kea)({props:{},key:function(x){return x.typeKey},path:function(x){return["scenes","insights","ActionFilter","renameModalLogic",x]},connect:{actions:[Le.a,["selectFilter"]]},actions:function(){return{setName:function(I){return{name:I}}}},reducers:function(x){var I,L=x.props;return{name:[(I=Object(Y.c)(L.filter))!==null&&I!==void 0?I:"",{setName:function(M,Q){var nt=Q.name;return nt},selectFilter:function(M,Q){var nt,_e=Q.filter;return(nt=Object(Y.c)(_e))!==null&&nt!==void 0?nt:""}}]}}});function re(u){var x,I=u.typeKey,L=u.view,xe=Object($.useValues)(Le.a),M=xe.selectedFilter,Q=xe.modalVisible,nt=Object($.useActions)(Le.a),_e=nt.renameFilter,Tt=nt.hideModal,ut=H({typeKey:I,filter:M}),st=Object($.useValues)(ut),ke=st.name,fe=Object($.useActions)(ut),Rt=fe.setName,dt=Object(ue.useRef)(null);ye(dt,{cursor:"all"},[Q]);var Ge="Rename ".concat(L===He.s.FUNNELS?"funnel step":"graph series");return m.a.createElement(Pt.a,{"data-attr":"filter-rename-modal",visible:Q,title:Ge,footer:m.a.createElement(m.a.Fragment,null,m.a.createElement(ne.a,{type:"link",onClick:Tt},"Cancel"),m.a.createElement(ne.a,{type:"primary",onClick:function(){return _e(ke)}},Ge)),onCancel:Tt},"Query series/steps can be renamed to provide a more"," ",m.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",m.a.createElement("br",null),m.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),m.a.createElement(en.a,{ref:dt,value:ke,onPressEnter:function(){return _e(ke)},onChange:function(wt){return Rt(wt.target.value)},suffix:m.a.createElement("span",{className:"text-muted-alt"},(x=Object(Y.c)(M,!1))!==null&&x!==void 0?x:"")}))}function ye(u,x){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(ue.useEffect)(function(){var L=setTimeout(function(){if(u.current){var xe;(xe=u.current)===null||xe===void 0||xe.focus(x)}},0);return function(){return clearTimeout(L)}},I)}try{re.displayName="RenameModal",re.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:re.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(u){}var ot=t("./frontend/src/lib/utils/eventUsageLogic.ts"),at=t("./frontend/src/scenes/teamLogic.ts");function Qe(u,x){var I=Object.keys(u);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(u);x&&(L=L.filter(function(xe){return Object.getOwnPropertyDescriptor(u,xe).enumerable})),I.push.apply(I,L)}return I}function gt(u){for(var x=1;x<arguments.length;x++){var I=arguments[x]!=null?arguments[x]:{};x%2?Qe(Object(I),!0).forEach(function(L){te()(u,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(I)):Qe(Object(I)).forEach(function(L){Object.defineProperty(u,L,Object.getOwnPropertyDescriptor(I,L))})}return u}var X=m.a.forwardRef(function(u,x){var I=u.setFilters,L=u.filters,xe=u.typeKey,M=u.addFilterDefaultOptions,Q=M===void 0?{}:M,nt=u.hideMathSelector,_e=u.hidePropertySelector,Tt=_e===void 0?!1:_e,ut=u.buttonCopy,st=ut===void 0?"":ut,ke=u.disabled,fe=ke===void 0?!1:ke,Rt=u.sortable,dt=Rt===void 0?!1:Rt,Ge=u.showSeriesIndicator,Ft=Ge===void 0?!1:Ge,wt=u.seriesIndicatorType,Ne=wt===void 0?"alpha":wt,Nt=u.showOr,mt=Nt===void 0?!1:Nt,Bt=u.hideFilter,Vt=Bt===void 0?!1:Bt,It=u.hideRename,Kt=It===void 0?!1:It,ln=u.horizontalUI,dn=ln===void 0?!1:ln,kt=u.fullWidth,tn=kt===void 0?!1:kt,Pn=u.customRowPrefix,An=u.customRowSuffix,At=u.rowClassName,Dt=u.entitiesLimit,cn=u.propertyFilterWrapperClassName,un=u.stripeActionRow,mn=un===void 0?!0:un,nn=u.customActions,fn=u.showNestedArrow,pn=fn===void 0?!1:fn,Gt=u.actionsTaxonomicGroupTypes,vn=u.propertiesTaxonomicGroupTypes,$t=u.hideDeleteBtn,Ot=u.renderRow,On=u.buttonType,Cn=On===void 0?"dashed":On,Ct=u.readOnly,$e=Ct===void 0?!1:Ct,it=Object($.useValues)(at.a),Lt=it.currentTeamId,rn=Object(Le.a)({teamId:Lt,setFilters:I,filters:L,typeKey:xe,addFilterDefaultOptions:Q}),xn=Object($.useActions)(ot.f),yn=xn.reportFunnelStepReordered,jn=Object($.useValues)(rn),Mt=jn.localFilters,on=Object($.useActions)(rn),Tn=on.addFilter,Yt=on.setLocalFilters,Ht=on.showModal;Object(ue.useEffect)(function(){Yt(L)},[L]);function Xt(bt){var Et=bt.oldIndex,xt=bt.newIndex;function gn(hn,bn,Rn){var zt=je()(hn);return Array.prototype.splice.call(zt,Rn,0,Array.prototype.splice.call(zt,bn,1)[0]),zt.map(function(an,sn){return gt(gt({},an),{},{order:sn})})}I(Object(Le.b)(gn(Mt,Et,xt))),Et!==xt&&yn()}var ht=Dt===1,_t={logic:rn,showSeriesIndicator:Ft,seriesIndicatorType:Ne,hideMathSelector:nt,hidePropertySelector:Tt,customRowPrefix:Pn,customRowSuffix:An,rowClassName:At,propertyFilterWrapperClassName:cn,stripeActionRow:mn,hasBreakdown:!!L.breakdown,fullWidth:tn,actionsTaxonomicGroupTypes:Gt,propertiesTaxonomicGroupTypes:vn,hideDeleteBtn:$t,disabled:fe,readOnly:$e,renderRow:Ot,hideRename:Kt,onRenameClick:Ht},Ut=Boolean(Dt&&Mt.length>=Dt);return m.a.createElement("div",{ref:x},!Kt&&!$e&&m.a.createElement($.BindLogic,{logic:Le.a,props:{setFilters:I,filters:L,typeKey:xe,addFilterDefaultOptions:Q}},m.a.createElement(re,{view:L.insight,typeKey:xe})),Mt?dt?m.a.createElement(Ke,{onSortEnd:Xt,lockAxis:"y",distance:5},Mt.map(function(bt,Et){return m.a.createElement(ee,Oe()({key:Et,filter:bt,index:Et,filterIndex:Et,filterCount:Mt.length,showNestedArrow:pn},_t))})):Mt.map(function(bt,Et){return m.a.createElement(Ee,Oe()({filter:bt,index:Et,key:Et,singleFilter:ht,showOr:mt,hideFilter:Vt||$e,horizontalUI:dn,filterCount:Mt.length,showNestedArrow:pn},_t))}):null,(!ht||nn)&&m.a.createElement("div",{className:Object(le.a)(Cn!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!ht&&m.a.createElement(ne.a,{type:Cn,onClick:function(){return Tn()},"data-attr":"add-action-event-button",icon:m.a.createElement(Xe.a,null),disabled:Ut||fe||$e,className:"add-action-event-button"},Ut?"Reached limit of ".concat(Dt," ").concat(L.insight===He.s.FUNNELS?"steps":"series"):st||"Action or event"),nn))});try{X.displayName="ActionFilter",X.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:X.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(u){}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(G,O,t){"use strict";t.d(O,"a",function(){return Ln});var A=t("./node_modules/react/index.js"),a=t.n(A),S=t("./frontend/src/lib/components/Drawer.tsx"),Be=t("./node_modules/core-js/modules/es.object.to-string.js"),Oe=t("./node_modules/core-js/modules/es.regexp.to-string.js"),ge=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),te=t.n(ge),w=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),je=t.n(w),ze={};ze.insert="head",ze.singleton=!1;var Re=te()(je.a,ze),we=je.a.locals||{},D=t("./node_modules/kea/lib/index.esm.js"),he=t("./node_modules/core-js/modules/es.array.index-of.js"),Ye=t("./node_modules/core-js/modules/es.array.iterator.js"),Ve=t("./node_modules/core-js/modules/es.array.slice.js"),ue=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),m=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),$=t.n(m),Le=t("./node_modules/@babel/runtime/regenerator/index.js"),T=t.n(Le),ae=t("./node_modules/regenerator-runtime/runtime.js"),be=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),U=t.n(be),et=t("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),me=t("./frontend/src/lib/utils/eventUsageLogic.ts"),se=t("./frontend/src/types.ts"),ne=t("./frontend/src/lib/utils/responsiveUtils.tsx"),q=t("./node_modules/core-js/modules/es.array.concat.js"),oe=t("./node_modules/core-js/modules/es.array.for-each.js"),Ie=t("./node_modules/core-js/modules/es.array.includes.js"),pt=t("./node_modules/core-js/modules/es.array.join.js"),He=t("./node_modules/core-js/modules/es.array.map.js"),Wt=t("./node_modules/core-js/modules/es.object.entries.js"),lt=t("./node_modules/core-js/modules/es.object.values.js"),tt=t("./node_modules/core-js/modules/es.regexp.exec.js"),Ue=t("./node_modules/core-js/modules/es.string.ends-with.js"),vt=t("./node_modules/core-js/modules/es.string.includes.js"),jt=t("./node_modules/core-js/modules/es.string.iterator.js"),yt=t("./node_modules/core-js/modules/es.string.replace.js"),p=t("./node_modules/core-js/modules/es.string.search.js"),E=t("./node_modules/core-js/modules/es.string.split.js"),y=t("./node_modules/core-js/modules/es.string.starts-with.js"),v=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),z=t("./node_modules/core-js/modules/web.url.js"),_=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),N=t.n(_),le=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ie=t.n(le),ve=t("./node_modules/fuse.js/dist/fuse.esm.js"),R=t("./frontend/src/lib/api.ts"),b=t("./frontend/src/lib/utils.tsx"),J=t("./frontend/src/scenes/teamLogic.ts"),C=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),W=t("./frontend/src/lib/dayjs.ts"),K=t("./node_modules/core-js/modules/es.array.from.js"),B=t("./node_modules/core-js/modules/es.function.name.js");function V(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=Ee(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var o=0,s=function(){};return{s,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){e=r[Symbol.iterator]()},n:function(){var f=e.next();return i=f.done,f},e:function(f){l=!0,c=f},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw c}}}}function Ee(r,n){if(!!r){if(typeof r=="string")return Ce(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ce(r,n)}}function Ce(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}var Se=15,Pe=Se/2;function Xe(r){return"touches"in r}function ct(r){return"clientX"in r}var Ae=function(n){if(Xe(n)){var e,o,s,i,l;return(e=n==null||(o=n.touches)===null||o===void 0||(s=o[0])===null||s===void 0?void 0:s.pageX)!==null&&e!==void 0?e:n==null||(i=n.changedTouches)===null||i===void 0||(l=i[0])===null||l===void 0?void 0:l.pageX}return ct(n)?n==null?void 0:n.clientX:0};function Me(r,n,e){if(r.windowId===n.windowId)return r.time-n.time;var o=V(e),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return-1;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return 1}}catch(l){o.e(l)}finally{o.f()}throw"Could not find player positions in segments"}function Ze(r,n){var e=V(n),o;try{for(e.s();!(o=e.n()).done;){var s=o.value;if(r.windowId===s.windowId&&r.time>=s.startPlayerPosition.time&&r.time<=s.endPlayerPosition.time)return s}}catch(i){e.e(i)}finally{e.f()}return null}function ee(r,n){var e=0,o=V(n),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return e+r.time-i.startPlayerPosition.time;e+=i.durationMs}}catch(l){o.e(l)}finally{o.f()}return null}function Ke(r,n){var e=0,o=V(n),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(e+i.durationMs>r)return{windowId:i.windowId,time:r-e+i.startPlayerPosition.time};e+=i.durationMs}}catch(l){o.e(l)}finally{o.f()}return r===e&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function Pt(r,n,e){if(e&&n in e){var o=e[n].startTimeEpochMs,s=e[n].endTimeEpochMs;return o>r||s<r?null:{windowId:n,time:r-o}}return null}function en(r,n){if(r.windowId in n){var e=n[r.windowId].startTimeEpochMs;return e+r.time}return null}var Y=function(n,e,o,s){var i=n/e*s;return Ke(i,o)},H=function(n,e,o,s){var i=ee(n,o);return(i!=null?i:0)/s*e},re=t("./frontend/src/lib/components/lemonToast.tsx"),ye=t("./node_modules/fast-deep-equal/index.js"),ot=t.n(ye),at=t("./frontend/src/lib/logic/featureFlagLogic.ts"),Qe=t("./frontend/src/lib/constants.tsx");function gt(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,o)}return e}function X(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?gt(Object(e),!0).forEach(function(o){N()(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gt(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function u(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=x(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var o=0,s=function(){};return{s,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){e=r[Symbol.iterator]()},n:function(){var f=e.next();return i=f.done,f},e:function(f){l=!0,c=f},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw c}}}}function x(r,n){if(!!r){if(typeof r=="string")return I(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return I(r,n)}}function I(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}var L=!1,xe="rrweb/console@1",M=function(n){var e=n.segments.map(function(s){var i=+Object(W.a)(n.start_and_end_times_by_window_id[s.window_id].start_time),l=+Object(W.a)(s==null?void 0:s.start_time),c=+Object(W.a)(s==null?void 0:s.end_time),d={windowId:s.window_id,time:l-i},f={windowId:s.window_id,time:c-i},g=c-l;return{startPlayerPosition:d,endPlayerPosition:f,durationMs:g,startTimeEpochMs:l,endTimeEpochMs:c,windowId:s.window_id,isActive:s.is_active}}),o={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(s){var i=ie()(s,2),l=i[0],c=i[1];o[l]={startTimeEpochMs:+Object(W.a)(c.start_time),endTimeEpochMs:+Object(W.a)(c.end_time)}}),{segments:e,startAndEndTimesByWindowId:o,recordingDurationMs:Object(b.zb)(e.map(function(s){return s.durationMs}))}},Q=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=null;if(n&&e&&o){var i=u(n),l;try{for(i.s();!(l=i.n()).done;){var c,d=l.value,f=((c=e[d.windowId])!==null&&c!==void 0?c:[]).slice(-1).pop();if(f&&f.timestamp>=d.startTimeEpochMs){var g=o[d.windowId].startTimeEpochMs;s={windowId:d.windowId,time:Math.min(f.timestamp-g,d.endPlayerPosition.time)}}else return s}}catch(h){i.e(h)}finally{i.f()}}return s},nt=function(n){return n.map(function(e){var o,s,i;return X(X({},e),{},{queryValue:"".concat((o=(s=(i=Object(C.d)(e.event,"event"))===null||i===void 0?void 0:i.label)!==null&&s!==void 0?s:e.event)!==null&&o!==void 0?o:""," ").concat(Object(b.B)(e)).replace(/['"]+/g,"")})})},_e=Object(D.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[me.f],values:[J.a,["currentTeamId"],at.a,["featureFlags"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,e){return{recordingData:n,loadTime:e}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,e){return{sessionRecordingId:n,url:e}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,e){var o=e.filters;return X(X({},n),o)}}],sessionRecordingId:[null,{loadRecording:function(n,e){var o=e.sessionRecordingId;return o!=null?o:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,e){var o=e.sessionEventsData;return!!(o!=null&&o.next)}}],source:[me.d.Unknown,{setSource:function(n,e){var o=e.source;return o}}]},listeners:function(n){var e=n.values,o=n.actions,s=n.sharedListeners,i=n.cache;return{loadRecordingMetaSuccess:function(){i.eventsStartTime=performance.now(),o.loadEvents()},loadRecordingSnapshotsSuccess:function(){var c;!((c=e.sessionPlayerData)===null||c===void 0)&&c.next?o.loadRecordingSnapshots(void 0,e.sessionPlayerData.next):me.f.actions.reportRecording(e.sessionPlayerData,e.source,performance.now()-i.startTime,se.D.LOADED,0),e.chunkPaginationIndex===1&&o.reportUsage(e.sessionPlayerData,performance.now()-i.startTime)},loadEventsSuccess:function(){var c;if(!((c=e.sessionEventsData)===null||c===void 0)&&c.next)o.loadEvents(e.sessionEventsData.next);else{var d,f,g;me.f.actions.reportRecordingEventsFetched((d=(f=e.sessionEventsData)===null||f===void 0||(g=f.events)===null||g===void 0?void 0:g.length)!==null&&d!==void 0?d:0,performance.now()-i.eventsStartTime),i.eventsStartTime=null}},loadRecordingMetaFailure:s.showErrorToast,loadRecordingSnapshotsFailure:s.showErrorToast,loadEventsFailure:s.showErrorToast,reportUsage:function(){var l=U()(T.a.mark(function d(f,g){var h,P;return T.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return h=f.recordingData,P=f.loadTime,j.next=3,g();case 3:return me.f.actions.reportRecording(h,e.source,P,se.D.VIEWED,0),j.next=6,g(L?1:1e4);case 6:me.f.actions.reportRecording(h,e.source,P,se.D.ANALYZED,10);case 7:case"end":return j.stop()}},d)}));function c(d,f){return l.apply(this,arguments)}return c}()}},sharedListeners:function(){return{showErrorToast:function(e){var o=e.error;re.a.error(o)}}},loaders:function(n){var e=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var o=U()(T.a.mark(function i(l,c){var d,f,g,h,P,F,j,k,de,Te,ce;return T.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return F=l.sessionRecordingId,j=Object(b.Ab)({save_view:!0}),Z.next=4,R.a.get("api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(F,"?").concat(j));case 4:return k=Z.sent,de=(d=k.result)===null||d===void 0?void 0:d.session_recording,Te=M(de),ce=Q(Te.segments,(f=e.sessionPlayerData)===null||f===void 0?void 0:f.snapshotsByWindowId,Te.startAndEndTimesByWindowId),c(),Z.abrupt("return",X(X({},e.sessionPlayerData),{},{person:(g=k.result)===null||g===void 0?void 0:g.person,metadata:Te,bufferedTo:ce,snapshotsByWindowId:(h=X({},(P=e.sessionPlayerData)===null||P===void 0?void 0:P.snapshotsByWindowId))!==null&&h!==void 0?h:{}}));case 10:case"end":return Z.stop()}},i)}));function s(i,l){return o.apply(this,arguments)}return s}(),loadRecordingSnapshots:function(){var o=U()(T.a.mark(function i(l,c){var d,f,g,h,P,F,j,k,de,Te,ce,pe,Z,We,De;return T.a.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return de=l.sessionRecordingId,Te=l.url,ce=Te||"api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(de,"/snapshots?").concat(Object(b.Ab)({limit:e.featureFlags[Qe.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),qe.next=4,R.a.get(ce);case 4:return pe=qe.sent,c(),Z=X({},(d=(f=e.sessionPlayerData)===null||f===void 0?void 0:f.snapshotsByWindowId)!==null&&d!==void 0?d:{}),We=(g=pe.result)===null||g===void 0?void 0:g.snapshot_data_by_window_id,Object.entries(We).forEach(function(Fe){var St,Jt=ie()(Fe,2),qt=Jt[0],Sn=Jt[1];Z[qt]=[].concat($()((St=Z[qt])!==null&&St!==void 0?St:[]),$()(Sn))}),De=Q((h=e.sessionPlayerData)===null||h===void 0||(P=h.metadata)===null||P===void 0?void 0:P.segments,Z,(F=e.sessionPlayerData)===null||F===void 0||(j=F.metadata)===null||j===void 0?void 0:j.startAndEndTimesByWindowId),qe.abrupt("return",X(X({},e.sessionPlayerData),{},{bufferedTo:De,snapshotsByWindowId:Z,next:(k=pe.result)===null||k===void 0?void 0:k.next}));case 11:case"end":return qe.stop()}},i)}));function s(i,l){return o.apply(this,arguments)}return s}()},sessionEventsData:{loadEvents:function(){var o=U()(T.a.mark(function i(l,c){var d,f,g,h,P,F,j,k,de;return T.a.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(h=l.url,e.eventsApiParams){ce.next=3;break}return ce.abrupt("return",e.sessionEventsData);case 3:return P=h||"api/projects/".concat(e.currentTeamId,"/events?").concat(Object(b.Ab)(e.eventsApiParams)),ce.next=6,R.a.get(P);case 6:return F=ce.sent,c(),j=[],k=[],de=(d=F.results)!==null&&d!==void 0?d:[],de.forEach(function(pe){var Z,We,De,rt,qe=Pt(+Object(W.a)(pe.timestamp)-1e3,(Z=(We=pe.properties)===null||We===void 0?void 0:We.$window_id)!==null&&Z!==void 0?Z:"",(De=e.sessionPlayerData)===null||De===void 0||(rt=De.metadata)===null||rt===void 0?void 0:rt.startAndEndTimesByWindowId);if(qe===null){var Fe,St,Jt,qt;qe=Pt(+Object(W.a)(pe.timestamp),(Fe=(St=pe.properties)===null||St===void 0?void 0:St.$window_id)!==null&&Fe!==void 0?Fe:"",(Jt=e.sessionPlayerData)===null||Jt===void 0||(qt=Jt.metadata)===null||qt===void 0?void 0:qt.startAndEndTimesByWindowId)}if(qe!==null){var Sn=ee(qe,e.sessionPlayerData.metadata.segments);Sn!==null&&k.push(X(X({},pe),{},{playerTime:Sn,playerPosition:qe,percentageOfRecordingDuration:100*Sn/e.sessionPlayerData.metadata.recordingDurationMs}))}}),j=[].concat($()((f=(g=e.sessionEventsData)===null||g===void 0?void 0:g.events)!==null&&f!==void 0?f:[]),k).sort(function(pe,Z){return pe.playerTime-Z.playerTime}),ce.abrupt("return",X(X({},e.sessionEventsData),{},{next:F==null?void 0:F.next,events:j}));case 14:case"end":return ce.stop()}},i)}));function s(i,l){return o.apply(this,arguments)}return s}()}}},selectors:{eventsToShow:[function(r){return[r.filters,r.sessionEventsData]},function(r,n){var e,o=(e=n==null?void 0:n.events)!==null&&e!==void 0?e:[];return r!=null&&r.query?new ve.a(nt(o),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(i,l){return o[i.idx].timestamp-o[l.idx].timestamp||i.score-l.score}}).search(r.query).map(function(s){return s.item}):o}],eventsApiParams:[function(r){return[r.sessionPlayerData]},function(r){var n,e,o,s=(n=r.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,i=(e=r.metadata.segments.slice(-1).pop())===null||e===void 0?void 0:e.endTimeEpochMs;if(!(!(r==null||(o=r.person)===null||o===void 0)&&o.id)||!s||!i)return null;var l=6e4;return{person_id:r.person.id,after:W.a.utc(s).subtract(l,"ms").format(),before:W.a.utc(i).add(l,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(r){return[r.sessionPlayerData]},function(r){var n,e,o=[];return r==null||(n=r.metadata)===null||n===void 0||(e=n.segments)===null||e===void 0||e.forEach(function(s){var i;r==null||(i=r.snapshotsByWindowId[s.windowId])===null||i===void 0||i.forEach(function(l){if(l.type===6&&l.data.plugin===xe&&l.timestamp>=s.startTimeEpochMs&&l.timestamp<=s.endTimeEpochMs){var c,d,f=l.data.payload,g=f.level,h=f.payload,P=f.trace,F=h==null||(c=h.map)===null||c===void 0?void 0:c.call(h,function(Z){return Z.startsWith('"')&&Z.endsWith('"')?Z.slice(1,-1):Z}).join(" "),j,k;if(P&&P.length>0){var de=P[0].split("(").slice(-1)[0].replace(")",""),Te=de.split(":"),ce=Te.slice(-2).join(":");if(k=Te.slice(0,-2).join(":"),Te.length>=4)try{var pe=new URL(k).pathname.split("/").slice(-1)[0];j="".concat(pe,":").concat(ce)}catch(Z){j=":".concat(ce)}else j=":".concat(ce)}o.push({playerPosition:Pt(l.timestamp,s.windowId,r==null||(d=r.metadata)===null||d===void 0?void 0:d.startAndEndTimesByWindowId),parsedTraceURL:k,parsedTraceString:j,parsedPayload:F,level:g})}})}),o}],areAllSnapshotsLoaded:[function(r){return[r.sessionPlayerData]},function(r){var n,e;return(r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&ot()(r==null||(e=r.metadata)===null||e===void 0?void 0:e.segments.slice(-1)[0].endPlayerPosition,r==null?void 0:r.bufferedTo)}]},urlToAction:function(n){var e=n.actions,o=n.values,s=n.cache,i=function(c,d,f){var g=d.source,h=f.sessionRecordingId;g&&Object.values(me.d).includes(g)&&e.setSource(g),o&&h&&h!==o.sessionRecordingId&&(s.startTime=performance.now(),e.loadRecordingMeta(h),e.loadRecordingSnapshots(h))};return{"/recordings":i,"/person/*":i,"/insights/*":i}}});function Tt(r,n){var e;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(e=ut(r))||n&&r&&typeof r.length=="number"){e&&(r=e);var o=0,s=function(){};return{s,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(f){throw f},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){e=r[Symbol.iterator]()},n:function(){var f=e.next();return i=f.done,f},e:function(f){l=!0,c=f},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw c}}}}function ut(r,n){if(!!r){if(typeof r=="string")return st(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor&&(e=r.constructor.name),e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return st(r,n)}}function st(r,n){(n==null||n>r.length)&&(n=r.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=r[e];return o}var ke=[.5,1,2,4,8,16],fe=Object(D.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[me.f],values:[_e,["sessionRecordingId","sessionPlayerData"]],actions:[_e,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:e}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(e,o){var s=o.frame;return s}}],player:[null,{setPlayer:function(e,o){var s=o.player;return s}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(e,o){var s=o.playerPosition;return s}}],currentSegment:[null,{setCurrentSegment:function(e,o){var s=o.segment;return s}}],speed:[1,{persist:!0},{setSpeed:function(e,o){var s=o.speed;return s}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(e,o){var s=o.skipInactivitySetting;return s}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(e,o){var s=o.isSkippingInactivity;return s}}],scale:[1,{setScale:function(e,o){var s=o.scale;return s}}],playingState:[se.C.PLAY,{setPlay:function(){return se.C.PLAY},setPause:function(){return se.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(r){return[r.playingState,r.isBuffering,r.isScrubbing,r.isSkippingInactivity]},function(r,n,e,o){return e?r:n?se.C.BUFFER:o&&r!==se.C.PAUSE?se.C.SKIP:r}],currentPlayerTime:[function(r){return[r.currentPlayerPosition,r.sessionPlayerData]},function(r,n){var e;if((n==null||(e=n.metadata)===null||e===void 0?void 0:e.segments)&&r){var o;return ee(r,n==null||(o=n.metadata)===null||o===void 0?void 0:o.segments)}return 0}],jumpTimeMs:[function(r){return[r.speed]},function(r){return 10*1e3*r}]},listeners:function(n){var e=n.values,o=n.actions,s=n.cache;return{setRootFrame:function(){o.tryInitReplayer()},tryInitReplayer:function(){var l,c,d=(l=(c=e.currentPlayerPosition)===null||c===void 0?void 0:c.windowId)!==null&&l!==void 0?l:null;if(o.setPlayer(null),e.rootFrame&&(e.rootFrame.innerHTML=""),!e.rootFrame||d===null||!e.sessionPlayerData.snapshotsByWindowId[d]||e.sessionPlayerData.snapshotsByWindowId[d].length<2){o.setPlayer(null);return}var f=new et.a(e.sessionPlayerData.snapshotsByWindowId[d],{root:e.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});o.setPlayer({replayer:f,windowId:d})},setPlayer:function(l){var c=l.player;c&&(o.seek(e.currentPlayerPosition),o.syncPlayerSpeed())},setCurrentSegment:function(l){var c=l.segment;if(!c.isActive&&e.skipInactivitySetting?o.setSkippingInactivity(!0):o.setSkippingInactivity(!1),e.player&&e.player.windowId!==c.windowId){var d,f;(d=e.player)===null||d===void 0||(f=d.replayer)===null||f===void 0||f.pause(),o.tryInitReplayer()}o.seek(e.currentPlayerPosition)},setSkipInactivitySetting:function(l){var c,d=l.skipInactivitySetting;me.f.actions.reportRecordingPlayerSkipInactivityToggled(d),!(!((c=e.currentSegment)===null||c===void 0)&&c.isActive)&&d?o.setSkippingInactivity(!0):o.setSkippingInactivity(!1)},setSkippingInactivity:function(){o.syncPlayerSpeed()},syncPlayerSpeed:function(){if(e.isSkippingInactivity){var l,c,d,f,g,h,P,F=(((l=(c=e.currentSegment)===null||c===void 0||(d=c.endPlayerPosition)===null||d===void 0?void 0:d.time)!==null&&l!==void 0?l:0)-((f=(g=e.currentPlayerPosition)===null||g===void 0?void 0:g.time)!==null&&f!==void 0?f:0))/1e3,j=Math.max(50,F);(h=e.player)===null||h===void 0||(P=h.replayer)===null||P===void 0||P.setConfig({speed:j})}else{var k,de;(k=e.player)===null||k===void 0||(de=k.replayer)===null||de===void 0||de.setConfig({speed:e.speed})}},checkBufferingCompleted:function(){e.currentPlayerPosition&&e.sessionPlayerData.bufferedTo&&e.currentPlayerState===se.C.BUFFER&&Me(e.currentPlayerPosition,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)<0&&(o.endBuffer(),o.seek(e.currentPlayerPosition))},initializePlayerFromStart:function(){var l,c,d=(l=e.sessionPlayerData)===null||l===void 0||(c=l.metadata)===null||c===void 0?void 0:c.segments[0];d&&(o.setCurrentSegment(d),o.setCurrentPlayerPosition(d.startPlayerPosition),e.player||o.tryInitReplayer())},loadRecordingMetaSuccess:function(){var i=U()(T.a.mark(function c(d,f){return T.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:o.initializePlayerFromStart(),o.checkBufferingCompleted(),f();case 3:case"end":return h.stop()}},c)}));function l(c,d){return i.apply(this,arguments)}return l}(),loadRecordingSnapshotsSuccess:function(){var i=U()(T.a.mark(function c(d,f){var g,h,P,F,j,k,de,Te,ce,pe,Z,We,De,rt;return T.a.wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(k=(g=(h=e.player)===null||h===void 0||(P=h.replayer)===null||P===void 0?void 0:P.service.state.context.events)!==null&&g!==void 0?g:[],de=[],((F=e.currentSegment)===null||F===void 0?void 0:F.windowId)!==void 0&&de.push.apply(de,$()(((Te=e.sessionPlayerData.snapshotsByWindowId[(ce=e.currentSegment)===null||ce===void 0?void 0:ce.windowId])!==null&&Te!==void 0?Te:[]).slice(k.length))),!(!((j=e.player)===null||j===void 0)&&j.replayer)){Fe.next=23;break}pe=Tt(de),Fe.prev=5,pe.s();case 7:if((Z=pe.n()).done){Fe.next=13;break}return rt=Z.value,Fe.next=11,(We=e.player)===null||We===void 0||(De=We.replayer)===null||De===void 0?void 0:De.addEvent(rt);case 11:Fe.next=7;break;case 13:Fe.next=18;break;case 15:Fe.prev=15,Fe.t0=Fe.catch(5),pe.e(Fe.t0);case 18:return Fe.prev=18,pe.f(),Fe.finish(18);case 21:Fe.next=24;break;case 23:o.initializePlayerFromStart();case 24:o.checkBufferingCompleted(),f();case 26:case"end":return Fe.stop()}},c,null,[[5,15,18,21]])}));function l(c,d){return i.apply(this,arguments)}return l}(),setPlay:function(){var l;o.stopAnimation(),o.syncPlayerSpeed();var c=e.currentPlayerPosition||((l=e.currentSegment)===null||l===void 0?void 0:l.startPlayerPosition);c&&o.seek(c,!0)},setPause:function(){var l,c;o.stopAnimation(),o.syncPlayerSpeed(),(l=e.player)===null||l===void 0||(c=l.replayer)===null||c===void 0||c.pause()},startBuffer:function(){o.stopAnimation()},startScrub:function(){o.stopAnimation()},setSpeed:function(l){var c=l.speed;me.f.actions.reportRecordingPlayerSpeedChanged(c),o.syncPlayerSpeed()},seek:function(){var i=U()(T.a.mark(function c(d,f){var g,h,P,F,j,k,de,Te,ce,pe,Z,We,De;return T.a.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:P=d.playerPosition,F=d.forcePlay,o.stopAnimation(),o.setCurrentPlayerPosition(P),j=null,P&&((g=e.sessionPlayerData)===null||g===void 0?void 0:g.metadata)&&(j=Ze(P,e.sessionPlayerData.metadata.segments),j&&(j.windowId!==((k=e.currentSegment)===null||k===void 0?void 0:k.windowId)||j.startTimeEpochMs!==((de=e.currentSegment)===null||de===void 0?void 0:de.startTimeEpochMs))&&o.setCurrentSegment(j)),!(!((h=e.sessionPlayerData)===null||h===void 0)&&h.bufferedTo)||!P||!e.currentSegment||Me(P,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0?((Te=e.player)===null||Te===void 0||(ce=Te.replayer)===null||ce===void 0||ce.pause(),o.startBuffer()):!F&&e.currentPlayerState===se.C.PAUSE?((pe=e.player)===null||pe===void 0||(Z=pe.replayer)===null||Z===void 0||Z.pause(P.time),o.endBuffer()):((We=e.player)===null||We===void 0||(De=We.replayer)===null||De===void 0||De.play(P.time),o.updateAnimation(),o.endBuffer()),f();case 7:case"end":return qe.stop()}},c)}));function l(c,d){return i.apply(this,arguments)}return l}(),seekForward:function(){if(e.currentPlayerPosition){var l=ee(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var c=l+e.jumpTimeMs,d=Ke(c,e.sessionPlayerData.metadata.segments);d||(o.setPause(),d=e.sessionPlayerData.metadata.segments[0].startPlayerPosition),o.seek(d)}}},seekBackward:function(){if(e.currentPlayerPosition){var l=ee(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var c=Math.max(l-e.jumpTimeMs,0),d=Ke(c,e.sessionPlayerData.metadata.segments);o.seek(d)}}},togglePlayPause:function(){e.currentPlayerState!==se.C.BUFFER&&(e.currentPlayerState===se.C.PAUSE?o.setPlay():o.setPause())},updateAnimation:function(){var l,c,d,f,g=(l=e.player)===null||l===void 0||(c=l.replayer)===null||c===void 0?void 0:c.getCurrentTime(),h=null;if(g!==void 0&&e.currentSegment&&(h={windowId:e.currentSegment.windowId,time:Math.min(g,e.currentSegment.endPlayerPosition.time)}),h&&((d=e.currentSegment)===null||d===void 0?void 0:d.endPlayerPosition)&&Me(h,(f=e.currentSegment)===null||f===void 0?void 0:f.endPlayerPosition,e.sessionPlayerData.metadata.segments)>=0){var P=e.sessionPlayerData.metadata.segments.indexOf(e.currentSegment)+1;if(P<e.sessionPlayerData.metadata.segments.length){var F=e.sessionPlayerData.metadata.segments[P];o.setCurrentPlayerPosition(F.startPlayerPosition),o.setCurrentSegment(F)}else o.setPause(),o.setCurrentPlayerPosition(e.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!e.sessionPlayerData.bufferedTo||!h||!e.currentSegment||Me(h,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0){var j,k;(j=e.player)===null||j===void 0||(k=j.replayer)===null||k===void 0||k.pause(),o.startBuffer()}else o.setCurrentPlayerPosition(h),s.timer=requestAnimationFrame(o.updateAnimation)},stopAnimation:function(){s.timer&&cancelAnimationFrame(s.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(ne.b)("md")}},events:function(n){var e=n.values,o=n.actions;return{beforeUnmount:function(){var i,l;(i=e.player)===null||i===void 0||(l=i.replayer)===null||l===void 0||l.pause(),o.setPlayer(null)}}}}),Rt=t("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),dt=t("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function Ge(r){var n=r.children,e=r.onClick,o=e===void 0?function(){}:e,s=r.className,i=s===void 0?"":s;return a.a.createElement("div",{onClick:o,className:"rrweb-controller-icon ".concat(i)},n)}function Ft(r){var n=r.onClick,e=r.time;return a.a.createElement(Ge,{onClick:n,className:"rrweb-controller-icon-seek"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"seek-seconds"},e),a.a.createElement(Rt.a,{className:"seek-icon",rotate:90})))}function wt(r){var n=r.onClick,e=r.time;return a.a.createElement(Ge,{onClick:n,className:"rrweb-controller-icon-seek"},a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"seek-seconds"},e),a.a.createElement(dt.a,{className:"seek-icon",rotate:270})))}function Ne(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ge,{onClick:n,className:o},a.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Nt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ge,{onClick:n,className:o},a.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function mt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ge,{onClick:n,className:o},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Bt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ge,{onClick:n,className:o},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function Vt(r){var n=r.onClick,e=r.className,o=e===void 0?"":e;return a.a.createElement(Ge,{onClick:n,className:o},a.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Ft.displayName="IconSeekBack",Ft.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Ft.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(r){}try{wt.displayName="IconSeekForward",wt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:wt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(r){}try{Ne.displayName="IconPlay",Ne.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:Ne.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(r){}try{Nt.displayName="IconPause",Nt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Nt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(r){}try{mt.displayName="IconFullscreen",mt.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:mt.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(r){}try{Bt.displayName="IconStepForward",Bt.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Bt.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(r){}try{Vt.displayName="IconStepBackward",Vt.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:Vt.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(r){}var It=a.a.forwardRef(function(n,e){var o=Object(A.useRef)(),s=Object(D.useValues)(fe),i=s.currentPlayerState,l=s.player,c=Object(D.useActions)(fe),d=c.togglePlayPause,f=c.setScale,g=e;Object(A.useEffect)(function(){if(!!l)return l.replayer.on("resize",P),window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}},[l==null?void 0:l.replayer]);var h=function(){P(o.current)},P=function(k){var de;if(!(!k||!(!(g==null||(de=g.current)===null||de===void 0)&&de.parentElement)||!(l!=null&&l.replayer))){o.current=k;var Te=g.current.parentElement.getBoundingClientRect(),ce=Te.width,pe=Te.height,Z=Math.min(ce/k.width,pe/k.height,1);l.replayer.wrapper.style.transform="scale(".concat(Z,")"),g.current.style.paddingLeft="".concat((ce-k.width*Z)/2,"px"),g.current.style.paddingTop="".concat((pe-k.height*Z)/2,"px"),g.current.style.marginBottom="-".concat(pe-k.height*Z,"px"),f(Z)}},F=function(){return i===se.C.BUFFER?a.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):i===se.C.PAUSE?a.a.createElement("div",{className:"rrweb-overlay"},a.a.createElement(Ne,{className:"rrweb-overlay-play-icon"})):i===se.C.SKIP?a.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return a.a.createElement("div",{className:"rrweb-player",onClick:d},a.a.createElement("div",{ref:e}),a.a.createElement("div",{className:"rrweb-overlay-container"},F()))});try{It.displayName="PlayerFrame",It.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:It.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(r){}var Kt=t("./node_modules/antd/es/select/index.js"),ln=t("./node_modules/antd/es/switch/index.js"),dn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),kt=t.n(dn),tn={};tn.insert="head",tn.singleton=!1;var Pn=te()(kt.a,tn),An=kt.a.locals||{},At=t("./node_modules/clsx/dist/clsx.m.js"),Dt=Object(D.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[fe,["sessionPlayerData","currentPlayerPosition"],_e,["eventsToShow"]],actions:[fe,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,e){return{thumbLeftPos:n,shouldSeek:e}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:e}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-Pe,{setThumbLeftPos:function(n,e){var o=e.thumbLeftPos;return o}}],cursorDiff:[0,{setCursorDiff:function(n,e){var o=e.cursorDiff;return o}}],slider:[null,{setSlider:function(n,e){var o=e.ref;return o.current}}],thumb:[null,{setThumb:function(n,e){var o=e.ref;return o.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(r){return[r.sessionPlayerData]},function(r){var n,e;if((r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments)&&(r==null||(e=r.metadata)===null||e===void 0?void 0:e.recordingDurationMs)){var o,s=(o=ee(r.bufferedTo,r.metadata.segments))!==null&&o!==void 0?o:0;return 100*s/r.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(r){return[r.thumbLeftPos,r.slider,r.sessionPlayerData]},function(r,n,e){var o;return r&&n&&(e==null||(o=e.metadata)===null||o===void 0?void 0:o.recordingDurationMs)?(r+Pe)/n.offsetWidth*e.metadata.recordingDurationMs:0}]},listeners:function(n){var e=n.values,o=n.actions;return{setCurrentPlayerPosition:function(){var s=U()(T.a.mark(function l(){var c,d,f,g;return T.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(e.slider){P.next=2;break}return P.abrupt("return");case 2:(!e.isSeeking||e.currentPlayerPosition===((c=e.sessionPlayerData)===null||c===void 0||(d=c.metadata)===null||d===void 0||(f=d.segments[0])===null||f===void 0?void 0:f.startPlayerPosition))&&(g=e.currentPlayerPosition?H(e.currentPlayerPosition,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs):0,o.setThumbLeftPos(g-Pe,!1));case 3:case"end":return P.stop()}},l)}));function i(){return s.apply(this,arguments)}return i}(),setThumbLeftPos:function(i){var l,c=i.thumbLeftPos,d=i.shouldSeek;if(!!e.slider&&d&&((l=e.sessionPlayerData)===null||l===void 0?void 0:l.metadata)){var f=Y(c+Pe,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs);o.seek(f)}},handleSeek:function(){var s=U()(T.a.mark(function l(c){var d,f,g,h,P;return T.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return g=c.newX,h=c.shouldSeek,P=(d=(f=e.slider)===null||f===void 0?void 0:f.offsetWidth)!==null&&d!==void 0?d:0,j.next=4,o.setThumbLeftPos(Object(b.m)(g,0,P)-Pe,h);case 4:o.endSeeking();case 5:case"end":return j.stop()}},l)}));function i(l){return s.apply(this,arguments)}return i}(),handleMove:function(){var s=U()(T.a.mark(function l(c){var d,f;return T.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(d=c.event,e.slider){h.next=3;break}return h.abrupt("return");case 3:o.startScrub(),f=Ae(d)-e.cursorDiff-e.slider.getBoundingClientRect().left,o.handleSeek(f,!1);case 6:case"end":return h.stop()}},l)}));function i(l){return s.apply(this,arguments)}return i}(),handleUp:function(i){var l=i.event;if(!!e.slider){var c=Ae(l)-e.cursorDiff-e.slider.getBoundingClientRect().left;o.handleSeek(c),o.endScrub(),document.removeEventListener("touchmove",o.handleMove),document.removeEventListener("touchend",o.handleUp),document.removeEventListener("mousemove",o.handleMove),document.removeEventListener("mouseup",o.handleUp)}},handleDown:function(i){var l=i.event;if(!!e.thumb){o.startScrub();var c=Ae(l),d=c-e.thumb.getBoundingClientRect().left-Pe;Math.abs(d)>Se&&(d=0),o.setCursorDiff(d),document.addEventListener("touchmove",o.handleMove),document.addEventListener("touchend",o.handleUp),document.addEventListener("mousemove",o.handleMove),document.addEventListener("mouseup",o.handleUp)}},handleTickClick:function(i){var l=i.playerPosition;e.isSeeking||o.handleSeek(H(l,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var e=n.actions,o=n.values,s=n.cache;return{afterMount:function(){s.setCurrentPlayerPosition=function(){e.setCurrentPlayerPosition(o.currentPlayerPosition)},window.addEventListener("resize",s.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",s.setCurrentPlayerPosition)}}}});function cn(r){var n=r.event,e=Object(A.useState)(!1),o=ie()(e,2),s=o[0],i=o[1],l=Object(D.useActions)(Dt),c=l.handleTickClick,d=Object(D.useActions)(me.f),f=d.reportRecordingPlayerSeekbarEventHovered;return a.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(h){h.stopPropagation(),c(n.playerPosition)},onMouseEnter:function(h){h.stopPropagation(),i(!0),f()},onMouseLeave:function(h){h.stopPropagation(),i(!1)}},a.a.createElement("div",{className:Object(At.a)("tick-info",{show:s})},n.event),a.a.createElement("div",{className:"tick-marker"}),a.a.createElement("div",{className:Object(At.a)("tick-thumb",{big:s})}))}function un(){var r,n,e=Object(A.useRef)(null),o=Object(A.useRef)(null),s=Object(D.useActions)(Dt),i=s.handleDown,l=s.setSlider,c=s.setThumb,d=Object(D.useValues)(_e),f=d.eventsToShow,g=d.sessionPlayerData,h=Object(D.useValues)(Dt),P=h.thumbLeftPos,F=h.bufferPercent;return Object(A.useEffect)(function(){e.current&&o.current&&(l(e),c(o))},[e.current,o.current]),a.a.createElement("div",{className:"rrweb-controller-slider"},a.a.createElement("div",{className:"slider",ref:e,onMouseDown:i,onTouchStart:i},a.a.createElement("div",{className:"inactivity-bar"},g==null||(r=g.metadata)===null||r===void 0||(n=r.segments)===null||n===void 0?void 0:n.map(function(j){return a.a.createElement("div",{key:"".concat(j.windowId,"-").concat(j.startTimeEpochMs),className:Object(At.a)("activity-section",!j.isActive&&"inactive-section"),style:{width:"".concat(100*j.durationMs/g.metadata.recordingDurationMs,"%")}})})),a.a.createElement("div",{className:"slider-bar"}),a.a.createElement("div",{className:"thumb",ref:o,style:{transform:"translateX(".concat(P,"px)")}}),a.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(P,0),"px")}}),a.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(F,"% - 2px)")}})),a.a.createElement("div",{className:"ticks"},f.map(function(j){return a.a.createElement(cn,{key:j.id,event:j})})))}var mn=t("./node_modules/antd/es/tooltip/index.js");function nn(){var r,n,e,o=Object(D.useActions)(fe),s=o.seekBackward,i=o.seekForward,l=Object(D.useValues)(fe),c=l.jumpTimeMs,d=l.currentPlayerTime,f=l.sessionPlayerData,g=Object(D.useValues)(Dt),h=g.isScrubbing,P=g.scrubbingTime;return a.a.createElement(a.a.Fragment,null,a.a.createElement(mn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(c/1e3,"s (\u2190 left arrow)")},a.a.createElement("span",null,a.a.createElement(Ft,{onClick:s,time:c/1e3}))),a.a.createElement(mn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(c/1e3,"s (\u2192 right arrow)")},a.a.createElement("span",null,a.a.createElement(wt,{onClick:i,time:c/1e3}))),a.a.createElement("div",{className:"rrweb-timestamp"},Object(b.o)(((r=h?P:d)!==null&&r!==void 0?r:0)/1e3)," /"," ",Object(b.o)(Math.floor(((n=f==null||(e=f.metadata)===null||e===void 0?void 0:e.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function fn(){var r=Object(D.useActions)(fe),n=r.togglePlayPause,e=r.setSpeed,o=r.setSkipInactivitySetting,s=Object(D.useValues)(fe),i=s.currentPlayerState,l=s.speed,c=s.isSmallScreen,d=s.skipInactivitySetting;return a.a.createElement("div",{className:"rrweb-controller"},a.a.createElement("span",null,i===se.C.PLAY?a.a.createElement(Nt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):a.a.createElement(Ne,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!c&&a.a.createElement(nn,null),a.a.createElement("div",{className:"rrweb-progress"},a.a.createElement(un,null)),a.a.createElement(Kt.a,{onChange:function(g){return e(g)},value:l,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},a.a.createElement(Kt.a.OptGroup,{label:"Speed"},ke.map(function(f){return a.a.createElement(Kt.a.Option,{key:f,value:f},f,"x")}))),a.a.createElement("div",{onClick:function(){o(!d)},className:"rrweb-inactivity-toggle"},a.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),a.a.createElement(ln.a,{checked:d,size:"small"})))}var pn=t("./node_modules/core-js/modules/es.symbol.js"),Gt=t("./node_modules/core-js/modules/es.symbol.description.js"),vn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),$t=t.n(vn),Ot={};Ot.insert="head",Ot.singleton=!1;var On=te()($t.a,Ot),Cn=$t.a.locals||{},Ct=t("./node_modules/antd/es/empty/index.js"),$e=t("./node_modules/antd/es/row/index.js"),it=t("./node_modules/antd/es/col/index.js"),Lt=t("./node_modules/antd/es/skeleton/index.js"),rn=t("./node_modules/antd/es/input/index.js"),xn=t("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),yn=t("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),jn=t("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),Mt=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),on=t("./node_modules/react-virtualized/dist/es/List/index.js"),Tn=t("./node_modules/react-virtualized/dist/es/Grid/index.js"),Yt=t("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Ht=t("./node_modules/core-js/modules/es.array.find-index.js");function Xt(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,o)}return e}function ht(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Xt(Object(e),!0).forEach(function(o){N()(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Xt(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}var _t=65,Ut=50,bt=150*5,Et=Object(D.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[me.f],actions:[_e,["setFilters","loadEventsSuccess"],fe,["seek"]],values:[_e,["eventsToShow","sessionEventsDataLoading"],fe,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,e){var o=e.filters;return ht(ht({},n),o)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,e){var o=e.renderMeta;return o}}],list:[null,{setList:function(n,e){var o=e.list;return o}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var e=n.actions,o=n.values;return{setLocalFilters:function(){var s=U()(T.a.mark(function l(c,d){return T.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,d(250);case 2:e.setFilters(o.localFilters);case 3:case"end":return g.stop()}},l)}));function i(l,c){return s.apply(this,arguments)}return i}(),scrollTo:function(){var s=U()(T.a.mark(function l(c,d){var f,g;return T.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return f=c.rowIndex,g=f!=null?f:o.currentEventsIndices.startIndex,o.list&&(o.list.scrollToPosition(o.list.getOffsetForRow({alignment:"center",index:g})),me.f.actions.reportRecordingScrollTo(g)),P.next=5,d(bt);case 5:e.enablePositionFinder();case 6:case"end":return P.stop()}},l)}));function i(l,c){return s.apply(this,arguments)}return i}(),handleEventClick:function(i){var l=i.playerPosition;l&&e.seek(l)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(e){var o;return ht(ht({},e),{},{colonTimestamp:Object(b.o)(Math.floor(((o=e.playerTime)!==null&&o!==void 0?o:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,e){var o;if(n.length<1)return{start:0,end:0};var s=n.findIndex(function(c){var d;return((d=c.playerTime)!==null&&d!==void 0?d:0)>=Object(b.k)(e!=null?e:0)}),i=Math.max(Object(b.k)(e!=null?e:0),1e3),l=Object(b.E)((o=n[Object(b.m)(s===-1?n.length-1:s-1,0,n.length-1)].playerTime)!==null&&o!==void 0?o:0);return{start:l,end:i}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,e){return function(o){var s,i,l,c;return((s=e==null||(i=e[o])===null||i===void 0?void 0:i.playerTime)!==null&&s!==void 0?s:0)>=n.start&&((l=e==null||(c=e[o])===null||c===void 0?void 0:c.playerTime)!==null&&l!==void 0?l:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,e){return{startIndex:Object(b.m)(n.findIndex(function(o,s){return e(s)}),0,n.length-1),stopIndex:Object(b.m)(Object(b.C)(n,function(o,s){return e(s)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,e){if(!e||!e.Grid||n.startIndex>=e.Grid.props.rowCount||n.stopIndex>e.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var o=e.Grid.state,s=o.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,i=o.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:s,height:i.offset+i.size-s}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(e){return e>=n.overscanStartIndex&&e<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,e,o){return!o&&(n.stopIndex<e.startIndex||n.startIndex>e.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,e){return n.startIndex>e.stopIndex}]}}}),xt=t("./frontend/src/lib/components/icons.tsx");function gn(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,o)}return e}function hn(r){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?gn(Object(e),!0).forEach(function(o){N()(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):gn(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function bn(r){var n=r.cellCount,e=r.overscanCellsCount,o=r.startIndex,s=r.stopIndex,i=Math.floor(e/2),l=e-i;return{overscanStartIndex:Math.max(0,o-i),overscanStopIndex:Math.min(n-1,s+l)}}var Rn=function(n){return n.event==="$pageview"?a.a.createElement(xt.PageviewIcon,null):n.event==="$pageleave"?a.a.createElement(xt.PageleaveIcon,null):n.event==="$autocapture"?a.a.createElement(xt.AutocaptureIcon,null):a.a.createElement(xt.EventIcon,null)};function zt(){return a.a.createElement("div",{className:"event-list-empty-container"},a.a.createElement(Ct.a,{image:Ct.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function an(r){var n=r.description,e=Object(A.useRef)(null);return a.a.createElement("span",{className:Object(At.a)("event-item-content-subtitle",Object(b.U)(e.current)&&"overflowing"),title:n},a.a.createElement("div",{className:"inner",ref:e},n))}function sn(){var r=Object(A.useRef)(null),n=Object(D.useValues)(Et),e=n.localFilters,o=n.listEvents,s=n.currentEventsBoxSizeAndPosition,i=n.showPositionFinder,l=n.isRowIndexRendered,c=n.isEventCurrent,d=n.isDirectionUp,f=n.renderedRows,g=Object(D.useValues)(_e),h=g.sessionEventsDataLoading,P=Object(D.useActions)(Et),F=P.setLocalFilters,j=P.setRenderedRows,k=P.setList,de=P.scrollTo,Te=P.disablePositionFinder,ce=P.handleEventClick;Object(A.useEffect)(function(){r!=null&&r.current&&k(r.current)},[r.current]);var pe=Object(A.useCallback)(function(De){var rt=De.index,qe=De.style,Fe=De.key,St=o[rt],Jt=Object(C.d)(St.event,"event"),qt=c(rt);return a.a.createElement($e.a,{key:Fe,className:Object(At.a)("event-list-item",{"current-event":qt}),align:"top",style:hn(hn({},qe),{},{zIndex:o.length-rt}),onClick:function(){ce(St.playerPosition)}},a.a.createElement(it.a,{className:"event-item-icon"},a.a.createElement("div",{className:"event-item-icon-wrapper"},Rn(St))),a.a.createElement(it.a,{className:Object(At.a)("event-item-content",{rendering:!l(rt)})},a.a.createElement($e.a,{className:"event-item-content-top-row"},a.a.createElement(C.b,{className:"event-item-content-title",value:St.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),a.a.createElement("span",{className:"event-item-content-timestamp"},St.colonTimestamp)),Jt&&a.a.createElement(an,{description:Object(b.j)(Object(b.B)(St,!0))}),a.a.createElement(Lt.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[o.length,f.startIndex,f.stopIndex,s.top,s.height]),Z=Object(A.useCallback)(function(De){var rt=Object(Tn.c)(De);return o.length>0&&rt.push(a.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:s.height,transform:"translateY(".concat(s.top,"px)")}})),rt},[s.top,s.height,h,o.length]);return a.a.createElement(it.a,{className:"player-events-container"},a.a.createElement(rn.a,{prefix:a.a.createElement(xn.a,null),placeholder:"Search for events",value:e.query,onChange:function(De){return F({query:De.target.value})}}),a.a.createElement(it.a,{className:"event-list"},h?a.a.createElement(b.b,null):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:Object(At.a)("current-events-position-finder",{visible:i})},a.a.createElement($e.a,{className:"left",align:"middle",wrap:!1,onClick:function(){de()}},d?a.a.createElement(yn.a,null):a.a.createElement(jn.a,null),"Jump to current time"),a.a.createElement($e.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){Te()}},a.a.createElement(Mt.a,null))),a.a.createElement(Yt.a,null,function(We){var De=We.height,rt=We.width;return a.a.createElement(on.b,{ref:r,className:"event-list-virtual",height:De,width:rt,onRowsRendered:j,noRowsRenderer:zt,cellRangeRenderer:Z,overscanRowCount:Ut,overscanIndicesGetter:bn,rowCount:o.length,rowRenderer:pe,rowHeight:_t})}))))}var wn=t("./node_modules/antd/es/tabs/index.js"),Dn=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Fn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),In=t.n(Fn),En={};En.insert="head",En.singleton=!1;var Nn=te()(In.a,En),Mn=In.a.locals||{},Je=t("./node_modules/antd/es/space/index.js"),ft=t("./frontend/src/lib/components/ProfilePicture/index.ts"),Zt=t("./frontend/src/scenes/persons/PersonHeader.tsx"),Qt=t("./node_modules/core-js/modules/es.array.filter.js"),er=t("./node_modules/core-js/modules/es.array.some.js"),Bn=function(n,e){return e.some(function(o){var s;return!(!(n==null||(s=n.properties)===null||s===void 0)&&s[o])})?null:e.map(function(o){var s;return n==null||(s=n.properties)===null||s===void 0?void 0:s[o]}).join(", ")},Kn=Object(D.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[_e,["sessionPlayerData"],fe,["currentPlayerPosition","scale"]],actions:[_e,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(r){return[r.sessionPlayerData]},function(r){return r==null?void 0:r.person}],description:[function(r){return[r.sessionPerson]},function(r){var n=Bn(r,["$geoip_city_name","$geoip_country_code"]),e=Bn(r,["$browser","$os"]);return[e,n].filter(function(o){return o}).join(" \xB7 ")}],resolution:[function(r){return[r.sessionPlayerData,r.currentPlayerPosition]},function(r,n){var e,o;if(!n)return null;var s=(e=r.snapshotsByWindowId[n.windowId])!==null&&e!==void 0?e:[],i=(o=en(n,r.metadata.startAndEndTimesByWindowId))!==null&&o!==void 0?o:0,l=Object(b.C)(s,function(d){return d.timestamp<i&&"width"in d.data});if(l===-1)return null;var c=s[l];return{width:c.data.width,height:c.data.height}}],recordingStartTime:[function(r){return[r.sessionPlayerData]},function(r){var n,e;return r==null||(n=r.metadata)===null||n===void 0||(e=n.segments[0])===null||e===void 0?void 0:e.startTimeEpochMs}]}}),kn=t("./frontend/src/scenes/funnels/funnelUtils.ts"),Gn=t("./frontend/src/lib/components/TimezoneAware/index.tsx");function $n(){var r,n=Object(D.useValues)(Kn),e=n.sessionPerson,o=n.description,s=n.resolution,i=n.scale,l=n.recordingStartTime,c=n.loading;return a.a.createElement(it.a,{className:"player-meta-container"},a.a.createElement($e.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},a.a.createElement($e.a,{className:"player-meta-person-title",align:"middle",wrap:!1},c?a.a.createElement(Je.b,null,a.a.createElement(Lt.a.Avatar,{active:!0,size:"small",shape:"circle"}),a.a.createElement(Lt.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(ft.a,{name:e==null?void 0:e.name,email:e==null||(r=e.properties)===null||r===void 0?void 0:r.$email,size:"md",style:{marginRight:"0.5rem"}}),a.a.createElement("span",{className:"email"},a.a.createElement(Zt.a,{person:e,withIcon:!1})))),a.a.createElement(it.a,null,c?a.a.createElement(Lt.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):a.a.createElement("span",{className:"time text-muted"},l&&a.a.createElement(Gn.b,{time:Object(W.a)(l)})))),a.a.createElement($e.a,{className:"player-meta-other",align:"middle",justify:"start"},a.a.createElement($e.a,{className:"player-meta-other-description"},c?a.a.createElement(Lt.a,{title:!1,active:!0,paragraph:{rows:1}}):a.a.createElement("span",null,o)),a.a.createElement($e.a,{className:"player-meta-other-resolution mt-05"},c?a.a.createElement(Lt.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):a.a.createElement("span",null,s?a.a.createElement(a.a.Fragment,null,"Resolution: ",s.width," x ",s.height," (",Object(kn.c)(i),"%)"):a.a.createElement(a.a.Fragment,null,"Resolution: ...")))))}var Yn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Vn=t.n(Yn),_n={};_n.insert="head",_n.singleton=!1;var tr=te()(Vn.a,_n),nr=Vn.a.locals||{},Un=t("./frontend/src/lib/components/LemonButton/index.ts"),Hn=t("./frontend/src/lib/components/Spinner/Spinner.tsx");function Xn(){var r=Object(D.useValues)(_e),n=r.orderedConsoleLogs,e=r.areAllSnapshotsLoaded,o=Object(D.useActions)(me.f),s=o.reportRecordingConsoleFeedback,i=Object(D.useActions)(fe),l=i.seek,c=Object(A.useState)(!1),d=ie()(c,2),f=d[0],g=d[1],h=function(F,j){return a.a.createElement("div",{className:"log-line level-".concat(F.level),key:j,onClick:function(){l(F.playerPosition)}},a.a.createElement("div",{className:"trace-string"},F.parsedTraceURL?a.a.createElement("a",{className:"text-muted",href:F.parsedTraceURL,target:"_blank"},F.parsedTraceString):a.a.createElement("span",{className:"text-muted"},F.parsedTraceString)),a.a.createElement("p",{className:"log-text"},F.parsedPayload))};return a.a.createElement("div",{className:"console-log-container"},a.a.createElement("div",{className:"console-log"},e?n.length>0?a.a.createElement(Yt.a,null,function(P){var F=P.height,j=P.width;return a.a.createElement("div",{style:{height:F,width:j,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(k,de){return h(k,de)}),a.a.createElement("div",null,n.length>150&&a.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},a.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),a.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",a.a.createElement("code",null,"posthog-js"),"."),a.a.createElement(Un.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):a.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},a.a.createElement(Hn.a,{size:"lg"}))),a.a.createElement("div",{className:"console-feedback-container"},a.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),f?a.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):a.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(P,F){return a.a.createElement(Un.a,{type:"secondary",key:F,style:{margin:"0 8px"},onClick:function(){g(!0),s(n.length,P[0],"Are you finding the console log feature useful?")}},P[1])}))))}var Zn=t("./frontend/src/lib/components/Tooltip.tsx");function Qn(){var r=Object(D.useActions)(fe),n=r.togglePlayPause,e=r.seekForward,o=r.seekBackward,s=r.setSpeed,i=r.setRootFrame,l=Object(D.useValues)(fe),c=l.isSmallScreen,d=Object(A.useRef)(null);Object(A.useEffect)(function(){d.current&&i(d.current)},[d]);var f=function(h){var P;if(!(!((P=h.target)===null||P===void 0)&&P.matches("input")))if(h.key===" ")n(),h.preventDefault();else if(h.key==="ArrowLeft")o();else if(h.key==="ArrowRight")e();else for(var F=0;F<ke.length;F++)h.key===(F+1).toString()&&s(ke[F])};return a.a.createElement(it.a,{className:"session-player-v2",onKeyDown:f,tabIndex:0,flex:1},a.a.createElement($e.a,{className:"session-player-body",wrap:!1},a.a.createElement("div",{className:"player-container ph-no-capture"},a.a.createElement(It,{ref:d})),!c&&a.a.createElement(zn,null)),a.a.createElement($e.a,{className:"player-controller",align:"middle"},a.a.createElement(fn,null)),c&&a.a.createElement(zn,null))}var Wn=wn.a.TabPane;function zn(){var r=Object(D.useValues)(at.a),n=r.featureFlags,e=Object(D.useValues)(_e),o=e.orderedConsoleLogs,s=Object(D.useActions)(me.f),i=s.reportRecordingConsoleViewed,l=n[Qe.n.SESSION_CONSOLE];return a.a.createElement(it.a,{className:"player-sidebar"},a.a.createElement("div",{className:"player-meta"},a.a.createElement($n,null)),a.a.createElement("div",{className:"player-events"},l?a.a.createElement(wn.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(d){d==="console"&&i(o.length)}},a.a.createElement(Wn,{tab:"Events",key:"events"},a.a.createElement(sn,null)),a.a.createElement(Wn,{tab:a.a.createElement("div",null,"Console (beta)",a.a.createElement(Zn.a,{title:"While console logs are in beta, only 150 logs are displayed."},a.a.createElement(Dn.a,{style:{marginLeft:6}}))),key:"console"},a.a.createElement(Xn,null))):a.a.createElement(sn,null)))}var Jn=t("./node_modules/antd/es/button/index.js"),qn=t("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function Ln(r){var n=r.isPersonPage,e=n===void 0?!1:n,o=r.onClose;return a.a.createElement(S.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:o,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},a.a.createElement(it.a,{style:{height:"100vh"}},a.a.createElement($e.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},a.a.createElement(Jn.a,{type:"link",onClick:o},a.a.createElement(qn.a,null)," Back to ",e?"persons":"recordings"),a.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:o},a.a.createElement(xt.IconClose,null))),a.a.createElement($e.a,{className:"session-drawer-body"},a.a.createElement(Qn,null))))}try{Ln.displayName="SessionPlayerDrawer",Ln.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:Ln.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(r){}},"./frontend/src/scenes/session-recordings/SessionRecordings.tsx":function(G,O,t){"use strict";t.r(O),t.d(O,"SessionsRecordings",function(){return Ye}),t.d(O,"scene",function(){return Ve});var A=t("./node_modules/react/index.js"),a=t.n(A),S=t("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),Be=t("./frontend/src/lib/components/PageHeader.tsx"),Oe=t("./node_modules/antd/es/row/index.js"),ge=t("./node_modules/antd/es/alert/index.js"),te=t("./node_modules/antd/es/button/index.js"),w=t("./frontend/src/scenes/teamLogic.ts"),je=t("./node_modules/kea/lib/index.esm.js"),ze=t("./node_modules/kea-router/lib/index.js"),Re=t.n(ze),we=t("./frontend/src/scenes/urls.ts"),D=t("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),he=t("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts");function Ye(){var ue=Object(je.useValues)(w.a),m=ue.currentTeam;return a.a.createElement("div",null,a.a.createElement(Be.a,{title:a.a.createElement(Oe.a,{align:"middle"},"Recordings")}),m&&!(m!=null&&m.session_recording_opt_in)?a.a.createElement(ge.a,{style:{marginBottom:16,display:"flex",alignItems:"center"},message:"Recordings are not yet enabled for this project",description:"To use this feature, please go to your project settings and enable it.",type:"info",showIcon:!0,action:a.a.createElement(te.a,{type:"primary",onClick:function(){ze.router.actions.push(we.a.projectSettings(),{},"session-recording")}},"Go to settings ",a.a.createElement(D.a,null))}):null,a.a.createElement(S.a,{key:"global"}))}var Ve={component:Ye,logic:he.a}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(G,O,t){"use strict";t.d(O,"a",function(){return ve});var A=t("./node_modules/core-js/modules/es.array.filter.js"),a=t("./node_modules/react/index.js"),S=t.n(a),Be=t("./node_modules/kea/lib/index.esm.js"),Oe=t("./frontend/src/lib/utils.tsx"),ge=t("./node_modules/antd/es/row/index.js"),te=t("./node_modules/antd/es/col/index.js"),w=t("./node_modules/antd/es/button/index.js"),je=t("./node_modules/antd/es/typography/index.js"),ze=t("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),Re=t("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),we=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),D=t("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),he=t("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),Ye=t("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Ve=t("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),ue=t("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),m=t("./frontend/src/types.ts"),$=t("./node_modules/antd/es/space/index.js"),Le=t("./node_modules/antd/es/input/index.js"),T=t("./node_modules/antd/es/select/index.js"),ae=t("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),be=t("./frontend/src/lib/components/Popup/Popup.tsx"),U=t("./node_modules/core-js/modules/es.array.iterator.js"),et=t("./node_modules/core-js/modules/es.array.slice.js"),me=t("./node_modules/core-js/modules/es.object.to-string.js"),se=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ne;(function(R){R.SECONDS="seconds",R.MINUTES="minutes",R.HOURS="hours"})(ne||(ne={}));var q={seconds:1,minutes:60,hours:3600},oe=Object(Be.kea)({path:function(b){return["scenes","session-recordings","DurationFilterLogic",b]},key:function(b){return b.pageKey||"global"},props:{},actions:{setTimeValue:function(b){return{timeValue:b}},setUnit:function(b){return{unit:b}},setIsOpen:function(b){return{isOpen:b}},setOperator:function(b){return{operator:b}}},reducers:function(b){var J,C=b.props;return{unit:[ne.MINUTES,{setUnit:function(K,B){var V=B.unit;return V}}],operator:[C==null||(J=C.initialFilter)===null||J===void 0?void 0:J.operator,{setOperator:function(K,B){var V=B.operator;return V}}],timeValue:[Math.floor(C.initialFilter.value/q[ne.MINUTES]),{setTimeValue:function(K,B){var V=B.timeValue;return V}}],isOpen:[!1,{setIsOpen:function(K,B){var V=B.isOpen;return V}}]}},selectors:{durationString:[function(R){return[R.operator,R.timeValue,R.unit]},function(R,b,J){var C="";return R===m.z.GreaterThan?C+="> ":C+="< ",C+=b,b===1?C+=" "+J.slice(0,-1):C+=" "+J,C}]},listeners:function(b){var J=b.props,C=b.values,W=function(B){var V=B.timeValue,Ee=B.unit,Ce=B.operator,Se=V||C.timeValue,Pe=Ee||C.unit,Xe=Se*q[Pe];J.onChange({operator:Ce||C.operator,value:Xe,type:"recording",key:"duration"})};return{setTimeValue:function(B){var V=B.timeValue;return W({timeValue:V})},setUnit:function(B){var V=B.unit;return W({unit:V})},setOperator:function(B){var V=B.operator;return W({operator:V})}}}});function Ie(R){var b=R.initialFilter,J=R.onChange,C=R.pageKey,W=oe({initialFilter:b,onChange:J,pageKey:C}),K=Object(Be.useActions)(W),B=K.setTimeValue,V=K.setIsOpen,Ee=K.setOperator,Ce=K.setUnit,Se=Object(Be.useValues)(W),Pe=Se.durationString,Xe=Se.unit,ct=Se.timeValue,Ae=Se.operator,Me=Se.isOpen;return S.a.createElement(be.a,{visible:Me,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return V(!1)},overlay:S.a.createElement(ge.a,null,S.a.createElement($.b,null,S.a.createElement(ae.a,{operator:Ae,operators:[m.z.GreaterThan,m.z.LessThan],onChange:function(ee){Ee(ee)}}),S.a.createElement(Le.a,{type:"number",value:ct,placeholder:"0",min:0,autoFocus:!0,addonAfter:S.a.createElement(T.a,{showSearch:!1,value:Xe,onChange:function(ee){Ce(ee)}},S.a.createElement(T.a.Option,{value:"seconds"},"Seconds"),S.a.createElement(T.a.Option,{value:"minutes"},"Minutes"),S.a.createElement(T.a.Option,{value:"hours"},"Hours")),step:1,onChange:function(ee){var Ke=parseFloat(ee.target.value);B(Ke)}})))},S.a.createElement(w.a,{onClick:function(){V(!0)}},Pe))}try{Ie.displayName="DurationFilter",Ie.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"]={docgenInfo:Ie.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"})}catch(R){}var pt=t("./frontend/src/scenes/persons/PersonHeader.tsx"),He=t("./frontend/src/lib/utils/eventUsageLogic.ts"),Wt=t("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),lt=t("./frontend/src/lib/components/Tooltip.tsx"),tt=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Ue=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),vt=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),jt=t.n(vt),yt=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),p=t.n(yt),E={};E.insert="head",E.singleton=!1;var y=jt()(p.a,E),v=p.a.locals||{},z=t("./frontend/src/lib/components/LemonTable/index.ts"),_=t("./frontend/src/lib/components/TimezoneAware/index.tsx"),N=t("./frontend/src/lib/components/icons.tsx"),le=t("./frontend/src/lib/components/LemonButton/index.ts");function ie(R){var b=R.filter,J=R.propertyFiltersButton,C=R.deleteButton;return S.a.createElement(ge.a,{className:"entity-filter-row",wrap:!1,align:"middle"},S.a.createElement(te.a,{flex:"1",className:"mr"},S.a.createElement(ge.a,{align:"middle"},b)),S.a.createElement(te.a,{className:"mr"},J),S.a.createElement(te.a,null,C))}function ve(R){var b=R.personUUID,J=R.isPersonPage,C=J===void 0?!1:J,W=Object(ze.a)({personUUID:b}),K=Object(Be.useValues)(W),B=K.sessionRecordings,V=K.sessionRecordingsResponseLoading,Ee=K.sessionRecordingId,Ce=K.entityFilters,Se=K.propertyFilters,Pe=K.hasNext,Xe=K.hasPrev,ct=K.fromDate,Ae=K.toDate,Me=K.durationFilter,Ze=K.showFilters,ee=Object(Be.useActions)(W),Ke=ee.openSessionPlayer,Pt=ee.closeSessionPlayer,en=ee.setEntityFilters,Y=ee.setPropertyFilters,H=ee.loadNext,re=ee.loadPrev,ye=ee.setDateRange,ot=ee.setDurationFilter,at=ee.enableFilter,Qe=ee.reportRecordingsListFilterAdded,gt=[{title:"Start time",render:function(u,x){return S.a.createElement(_.b,{time:x.start_time,formatString:"MMMM DD, YYYY h:mm"})}},{title:"Duration",render:function(u,x){return S.a.createElement("span",null,Object(Oe.N)(x.recording_duration))}},{title:"Person",key:"person",render:function(u,x){return S.a.createElement(pt.a,{withIcon:!0,person:x.person})}},{render:function(u,x){return S.a.createElement("div",{className:"play-button-container"},S.a.createElement(w.a,{className:x.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:S.a.createElement(Re.a,null)},"Watch recording"))}}];return S.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},S.a.createElement(ge.a,{className:"filter-row"},S.a.createElement("div",{className:"filter-container",style:{display:Ze?void 0:"none"}},S.a.createElement("div",null,S.a.createElement(je.a.Text,{strong:!0},"Filter by events and actions ",S.a.createElement(lt.a,{title:"Show recordings where all of the events or actions listed below happen."},S.a.createElement(we.a,{className:"info-icon"}))),S.a.createElement(Ye.a,{fullWidth:!0,filters:Ce,setFilters:function(u){Qe(He.e.EventAndAction),en(u)},typeKey:C?"person-".concat(b):"session-recordings",hideMathSelector:!0,buttonCopy:"Add another filter",horizontalUI:!0,stripeActionRow:!1,propertyFilterWrapperClassName:"session-recording-action-property-filter",customRowPrefix:"",hideRename:!0,showOr:!0,renderRow:function(u){return S.a.createElement(ie,u)},showNestedArrow:!1,actionsTaxonomicGroupTypes:[tt.a.Actions,tt.a.Events],propertiesTaxonomicGroupTypes:[tt.a.EventProperties,tt.a.Elements]})),!C&&S.a.createElement("div",{className:"mt-2"},S.a.createElement(je.a.Text,{strong:!0},"Filter by persons and cohorts ",S.a.createElement(lt.a,{title:"Show recordings by persons who match the set criteria"},S.a.createElement(we.a,{className:"info-icon"}))),S.a.createElement(Ue.a,{popoverPlacement:"bottomRight",pageKey:C?"person-".concat(b):"session-recordings",taxonomicGroupTypes:[tt.a.PersonProperties,tt.a.Cohorts],propertyFilters:Se,onChange:function(u){Qe(He.e.PersonAndCohort),Y(u)}}))),!Ze&&S.a.createElement(le.a,{type:"secondary",compact:!0,icon:S.a.createElement(N.IconFilter,null),onClick:function(){if(at(),C){var u=document.querySelectorAll(".entity-filter-row button");u.length>0&&u[0].click()}}},"Filter recordings"),S.a.createElement(ge.a,{className:"time-filter-row"},S.a.createElement(ge.a,{className:"time-filter"},S.a.createElement(Wt.a,{makeLabel:function(u){return S.a.createElement(S.a.Fragment,null,S.a.createElement(D.a,null),S.a.createElement("span",null," ",u))},defaultValue:"Last 7 days",bordered:!0,dateFrom:ct!=null?ct:void 0,dateTo:Ae!=null?Ae:void 0,onChange:function(u,x){Qe(He.e.DateRange),ye(u,x)},dateOptions:{Custom:{values:[]},"Last 24 hours":{values:["-24h"]},"Last 7 days":{values:["-7d"]},"Last 21 days":{values:["-21d"]}}})),S.a.createElement(ge.a,{className:"time-filter"},S.a.createElement(je.a.Text,{className:"filter-label"},"Duration"),S.a.createElement(Ie,{onChange:function(u){Qe(He.e.Duration),ot(u)},initialFilter:Me,pageKey:C?"person-".concat(b):"session-recordings"})))),S.a.createElement(z.a,{dataSource:B,columns:gt,loading:V,onRow:function(u){return{onClick:function(I){I.target.closest("a")||Ke(u.id,He.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(Xe||Pe)&&S.a.createElement(ge.a,{className:"pagination-control"},S.a.createElement(w.a,{type:"link",disabled:!Xe,onClick:function(){re(),window.scrollTo(0,0)}},S.a.createElement(Ve.a,null)," Previous"),S.a.createElement(w.a,{type:"link",disabled:!Pe,onClick:function(){H(),window.scrollTo(0,0)}},"Next ",S.a.createElement(ue.a,null))),S.a.createElement("div",{style:{marginBottom:64}}),!!Ee&&S.a.createElement(he.a,{isPersonPage:C,onClose:Pt}))}try{ve.displayName="SessionRecordingsTable",ve.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:ve.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(R){}},"./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts":function(G,O,t){"use strict";t.d(O,"a",function(){return yt});var A=t("./node_modules/core-js/modules/es.array.concat.js"),a=t.n(A),S=t("./node_modules/core-js/modules/es.array.iterator.js"),Be=t.n(S),Oe=t("./node_modules/core-js/modules/es.array.map.js"),ge=t.n(Oe),te=t("./node_modules/core-js/modules/es.object.to-string.js"),w=t.n(te),je=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ze=t.n(je),Re=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),we=t.n(Re),D=t("./node_modules/@babel/runtime/regenerator/index.js"),he=t.n(D),Ye=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ve=t.n(Ye),ue=t("./node_modules/regenerator-runtime/runtime.js"),m=t.n(ue),$=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Le=t.n($),T=t("./node_modules/kea/lib/index.esm.js"),ae=t("./frontend/src/lib/api.ts"),be=t("./frontend/src/lib/utils.tsx"),U=t("./frontend/src/types.ts"),et=t("./node_modules/kea-router/lib/index.js"),me=t.n(et),se=t("./frontend/src/lib/utils/eventUsageLogic.ts"),ne=t("./node_modules/fast-deep-equal/index.js"),q=t.n(ne),oe=t("./frontend/src/scenes/teamLogic.ts"),Ie=t("./frontend/src/lib/dayjs.ts"),pt=t("./frontend/src/lib/logic/featureFlagLogic.ts"),He=t("./frontend/src/lib/constants.tsx");function Wt(p,E){var y=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);E&&(v=v.filter(function(z){return Object.getOwnPropertyDescriptor(p,z).enumerable})),y.push.apply(y,v)}return y}function lt(p){for(var E=1;E<arguments.length;E++){var y=arguments[E]!=null?arguments[E]:{};E%2?Wt(Object(y),!0).forEach(function(v){Ve()(p,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(y)):Wt(Object(y)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(y,v))})}return p}var tt=50,Ue={type:"recording",key:"duration",value:60,operator:U.z.GreaterThan},vt=[],jt={events:[],actions:[],new_entity:[{id:null,type:U.g.EVENTS,order:0,name:null}]},yt=Object(T.kea)({path:function(E){return["scenes","session-recordings","sessionRecordingsTableLogic",E]},key:function(E){return E.personUUID||"global"},props:{},connect:{values:[oe.a,["currentTeamId"]],actions:[se.f,["reportRecordingsListFetched","reportRecordingsListFilterAdded"]]},actions:{getSessionRecordings:!0,openSessionPlayer:function(E,y){return{sessionRecordingId:E,source:y}},closeSessionPlayer:!0,setEntityFilters:function(E){return{filters:E}},setPropertyFilters:function(E){return{filters:E}},loadNext:!0,loadPrev:!0,enableFilter:!0,setOffset:function(E){return{offset:E}},setDateRange:function(E,y){return{incomingFromDate:E,incomingToDate:y}},setDurationFilter:function(E){return{durationFilter:E}}},loaders:function(E){var y=E.props,v=E.values,z=E.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var _=Le()(he.a.mark(function le(ie,ve){var R,b,J,C,W,K;return he.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return b=lt(lt({},v.filterQueryParams),{},{person_uuid:(R=y.personUUID)!==null&&R!==void 0?R:"",limit:tt}),J=Object(be.Ab)(b),V.next=4,ve(100);case 4:return C=performance.now(),V.next=7,ae.a.get("api/projects/".concat(v.currentTeamId,"/session_recordings?").concat(J));case 7:return W=V.sent,K=performance.now()-C,z.reportRecordingsListFetched(K),ve(),V.abrupt("return",W);case 12:case"end":return V.stop()}},le)}));function N(le,ie){return _.apply(this,arguments)}return N}()}]}},events:function(E){var y=E.actions;return{afterMount:function(){y.getSessionRecordings()}}},reducers:{filterEnabled:[!1,{enableFilter:function(){return!0}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(E,y){var v=y.sessionRecordingsResponse;return we()(v.results)},openSessionPlayer:function(E,y){var v=y.sessionRecordingId;return we()(E.map(function(z){return z.id===v?lt(lt({},z),{},{viewed:!0}):lt({},z)}))}}],sessionRecordingId:[null,{openSessionPlayer:function(E,y){var v=y.sessionRecordingId;return v},closeSessionPlayer:function(){return null}}],entityFilters:[jt,{setEntityFilters:function(E,y){var v=y.filters;return lt({},v)}}],propertyFilters:[vt,{setPropertyFilters:function(E,y){var v=y.filters;return we()(v)}}],durationFilter:[Ue,{setDurationFilter:function(E,y){var v=y.durationFilter;return v}}],offset:[0,{loadNext:function(E){return E+tt},loadPrev:function(E){return Math.max(E-tt)},setOffset:function(E,y){var v=y.offset;return v}}],fromDate:[Object(Ie.a)().subtract(7,"days").format("YYYY-MM-DD"),{setDateRange:function(E,y){var v=y.incomingFromDate;return v!=null?v:null}}],toDate:[null,{setDateRange:function(E,y){var v=y.incomingToDate;return v!=null?v:null}}]},listeners:function(E){var y=E.actions;return{setEntityFilters:function(){y.getSessionRecordings()},setPropertyFilters:function(){y.getSessionRecordings()},setDateRange:function(){y.getSessionRecordings()},setDurationFilter:function(){y.getSessionRecordings()},loadNext:function(){y.getSessionRecordings()},loadPrev:function(){y.getSessionRecordings()}}},selectors:{hasPrev:[function(p){return[p.offset]},function(p){return p>0}],hasNext:[function(p){return[p.sessionRecordingsResponse]},function(p){return p.has_next}],showFilters:[function(p){return[p.filterEnabled,p.entityFilters,p.propertyFilters,pt.a.selectors.featureFlags]},function(p,E,y,v){return v[He.n.RECORDINGS_FILTER_EXPERIMENT]==="test"||p||E!==jt||y!==vt}],filterQueryParams:[function(p){return[p.entityFilters,p.fromDate,p.toDate,p.offset,p.durationFilter,p.propertyFilters]},function(p,E,y,v,z,_){return{actions:p.actions,events:p.events,properties:_,date_from:E,date_to:y,offset:v,session_recording_duration:z}}]},actionToUrl:function(E){var y=E.values,v=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=arguments.length>1?arguments[1]:void 0,le=lt({filters:y.filterQueryParams},_),ie=lt({},et.router.values.hashParams);return y.sessionRecordingId?ie.sessionRecordingId=y.sessionRecordingId:delete ie.sessionRecordingId,[et.router.values.location.pathname,le,ie,{replace:N}]};return{loadSessionRecordings:function(){return v({},!0)},openSessionPlayer:function(_){var N=_.source;return v({source:N},!1)},closeSessionPlayer:function(){return v({},!1)},setEntityFilters:function(){return v({},!0)},setPropertyFilters:function(){return v({},!0)},setDateRange:function(){return v({},!0)},setDurationFilter:function(){return v({},!0)},loadNext:function(){return v({},!0)},loadPrev:function(){return v({},!0)}}},urlToAction:function(E){var y=E.actions,v=E.values,z=E.props,_=function(ie,ve,R){var b,J=(b=R.sessionRecordingId)!==null&&b!==void 0?b:null;J!==v.sessionRecordingId&&y.openSessionPlayer(J,se.d.Direct);var C=ve.filters;if(C){if((!q()(C.actions,v.entityFilters.actions)||!q()(C.events,v.entityFilters.events))&&y.setEntityFilters({events:C.events||[],actions:C.actions||[]}),!q()(C.properties,v.propertyFilters)){var W;y.setPropertyFilters((W=C.properties)!==null&&W!==void 0?W:[])}if(C.date_from!==v.fromDate||C.date_to!==v.toDate){var K,B;y.setDateRange((K=C.date_from)!==null&&K!==void 0?K:void 0,(B=C.date_to)!==null&&B!==void 0?B:void 0)}if(C.offset!==v.offset){var V;y.setOffset((V=C.offset)!==null&&V!==void 0?V:0)}if(!q()(C.session_recording_duration,v.durationFilter)){var Ee;y.setDurationFilter((Ee=C.session_recording_duration)!==null&&Ee!==void 0?Ee:Ue)}}},N=z.personUUID?"/person/*":"/recordings";return Ve()({},N,_)}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.column-configurator-modal .text-blue{color:#5375ff}.column-configurator-modal .column-display-item{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:4px;margin:2px 0}.column-configurator-modal .column-display-item:hover{background-color:#f2f2f2}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:rgba(0,0,0,.5);background-color:#f2f2f2}.column-configurator-modal .column-display-item.selected{background-color:#839af8}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-table .filter-row{width:100%;justify-content:space-between;margin-bottom:1rem;align-items:flex-end}.session-recordings-table .filter-container{max-width:700px;padding:1rem;border:1px solid rgba(0,0,0,.15);flex:1;border-radius:4px}.session-recordings-table .filter-section{padding-bottom:1rem}.session-recordings-table .session-recording-action-property-filter{margin:0 0 0 68px;background-color:#fafafa;border:1px solid rgba(0,0,0,.15);border-top:0 solid rgba(0,0,0,.15);padding:.25rem 1rem}.session-recordings-table .time-filter-row{justify-content:flex-end;align-items:flex-end}.session-recordings-table .time-filter-row .time-filter{align-items:center;margin-left:1rem}.session-recordings-table .time-filter-row .time-filter .filter-label{margin-right:4px}.session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .entity-filter-row{width:100%;padding:1rem;border:1px solid rgba(0,0,0,.15);margin-top:1rem;border-radius:4px}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:#5375ff}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-table .info-icon{color:#5375ff}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),G.exports=O},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(G,O,t){var A=t("./node_modules/css-loader/dist/runtime/api.js");O=A(!1),O.push([G.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),G.exports=O}}]);
