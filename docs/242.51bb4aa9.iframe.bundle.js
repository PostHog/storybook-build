(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{4384:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useAnchor}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function useAnchor(hash){Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(hash&&document.getElementById(hash.substr(1))){var element=document.getElementById(hash.substr(1));if(!element)return;element.classList.add("highlighted");var elementPosition=element.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:elementPosition-50-32,behavior:"smooth"})}}),[hash])}},4740:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"MySettings",(function(){return MySettings}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(1),card=__webpack_require__(4289),divider=__webpack_require__(4242),useAnchor=__webpack_require__(4384),lib=__webpack_require__(33),es_switch=__webpack_require__(4292),userLogic=__webpack_require__(66);function UpdateEmailPreferences(){var _useValues=Object(index_esm.useValues)(userLogic.a),user=_useValues.user,userLoading=_useValues.userLoading,updateUser=Object(index_esm.useActions)(userLogic.a).updateUser;return react_default.a.createElement("div",null,react_default.a.createElement(es_switch.a,{id:"email-preferences","data-attr":"email-preferences",onChange:function onChange(){updateUser({email_opt_in:!(null==user?void 0:user.email_opt_in)})},defaultChecked:null==user?void 0:user.email_opt_in,loading:userLoading,disabled:userLoading}),react_default.a.createElement("label",{htmlFor:"email-preferences",style:{marginLeft:"10px"}},"Receive security and feature updates via email. You can easily unsubscribe at any time."))}var slicedToArray=__webpack_require__(12),slicedToArray_default=__webpack_require__.n(slicedToArray),es_form=__webpack_require__(327),input=__webpack_require__(464),es_button=__webpack_require__(142),PasswordInput=__webpack_require__(632);function ChangePassword(){var _useValues=Object(index_esm.useValues)(userLogic.a),user=_useValues.user,userLoading=_useValues.userLoading,updateUser=Object(index_esm.useActions)(userLogic.a).updateUser,_Form$useForm=es_form.a.useForm(),form=slicedToArray_default()(_Form$useForm,1)[0],updateCompleted=function updateCompleted(){form.resetFields()};return react_default.a.createElement(es_form.a,{onFinish:function onFinish(values){return updateUser(values,updateCompleted)},labelAlign:"left",layout:"vertical",requiredMark:!1,form:form},react_default.a.createElement(es_form.a.Item,{label:"Current Password",rules:[{required:!user||user.has_password,message:"Please enter your current password"}],name:"current_password"},react_default.a.createElement(input.a.Password,{style:{maxWidth:400},autoComplete:"current-password",disabled:!!user&&!user.has_password||userLoading,placeholder:user&&!user.has_password?"signed up with external login":"********",className:"ph-ignore-input"})),react_default.a.createElement(PasswordInput.a,{label:"New Password",showStrengthIndicator:!0,style:{maxWidth:400},validateMinLength:!0}),react_default.a.createElement(es_form.a.Item,null,react_default.a.createElement(es_button.a,{type:"primary",htmlType:"submit",loading:userLoading},"Change Password")))}__webpack_require__(49),__webpack_require__(42),__webpack_require__(465),__webpack_require__(53);var modal=__webpack_require__(912),es_alert=__webpack_require__(1251),popconfirm=__webpack_require__(4277),table=__webpack_require__(2698),ExclamationCircleOutlined=__webpack_require__(511),dist_index_esm=__webpack_require__(188),personalAPIKeysLogic=__webpack_require__(1751),utils=__webpack_require__(10),CopyToClipboard=__webpack_require__(913);function CreateKeyModal(_ref){var isVisible=_ref.isVisible,setIsVisible=_ref.setIsVisible,createKey=Object(index_esm.useActions)(personalAPIKeysLogic.a).createKey,_useState=Object(react.useState)(null),_useState2=slicedToArray_default()(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1],inputRef=Object(react.useRef)(null),closeModal=Object(react.useCallback)((function(){setErrorMessage(null),setIsVisible(!1),inputRef.current&&inputRef.current.setValue("")}),[inputRef,setIsVisible]);return react_default.a.createElement(modal.a,{title:"Creating a Personal API Key",okText:"Create Key",cancelText:"Cancel",onOk:function onOk(){var _inputRef$current,_inputRef$current$sta,label=null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||null===(_inputRef$current$sta=_inputRef$current.state.value)||void 0===_inputRef$current$sta?void 0:_inputRef$current$sta.trim();label?(setErrorMessage(null),createKey(label),closeModal()):setErrorMessage("Your key needs a label!")},onCancel:closeModal,visible:isVisible},react_default.a.createElement(input.a,{addonBefore:"Label",ref:inputRef,placeholder:'for example "Zapier"',maxLength:40,style:{marginBottom:"1rem"}}),errorMessage&&react_default.a.createElement(es_alert.a,{message:errorMessage,type:"error",style:{marginBottom:"1rem"}}),react_default.a.createElement("p",{style:{marginBottom:0}},"Key value ",react_default.a.createElement("b",null,"will only ever be shown once"),", immediately after creation.",react_default.a.createElement("br",null),"Copy it to your destination right away."))}function RowValue(value){return value?react_default.a.createElement(CopyToClipboard.a,{description:"personal API key value"},value):react_default.a.createElement("i",null,"secret")}function RowActionsCreator(deleteKey){return function RowActions(personalAPIKey){return react_default.a.createElement(popconfirm.a,{title:'Permanently delete key "'.concat(personalAPIKey.label,'"?'),okText:"Delete Key",okType:"danger",icon:react_default.a.createElement(ExclamationCircleOutlined.a,{style:{color:dist_index_esm.red.primary}}),placement:"left",onConfirm:function onConfirm(){deleteKey(personalAPIKey)}},react_default.a.createElement("a",{className:"text-danger"},"Delete"))}}function PersonalAPIKeysTable(){var keys=Object(index_esm.useValues)(personalAPIKeysLogic.a).keys,columns=[{title:"Label",dataIndex:"label",key:"label"},{title:"Value",dataIndex:"value",key:"value",className:"ph-no-capture",render:RowValue},{title:"Last Used",dataIndex:"last_used_at",key:"lastUsedAt",render:function render(lastUsedAt){return Object(utils.L)(lastUsedAt)}},{title:"Created",dataIndex:"created_at",key:"createdAt",render:function render(createdAt){return Object(utils.L)(createdAt)}},{title:"",key:"actions",align:"center",render:RowActionsCreator(Object(index_esm.useActions)(personalAPIKeysLogic.a).deleteKey)}];return react_default.a.createElement(table.a,{dataSource:keys,columns:columns,rowKey:"id",pagination:{pageSize:50,hideOnSinglePage:!0},style:{marginTop:"1rem"}})}function PersonalAPIKeys(){var _useState3=Object(react.useState)(!1),_useState4=slicedToArray_default()(_useState3,2),isCreateKeyModalVisible=_useState4[0],setIsCreateKeyModalVisible=_useState4[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"These keys allow full access to your personal account through the API, as if you were logged in. You can also use them in integrations, such as"," ",react_default.a.createElement("a",{href:"https://zapier.com/apps/posthog/"},"our premium Zapier one"),".",react_default.a.createElement("br",null),"Try not to keep disused keys around. If you have any suspicion that one of these may be compromised, delete it and use a new one.",react_default.a.createElement("br",null),react_default.a.createElement("a",{href:"https://posthog.com/docs/api/overview#authentication"},"More about API authentication in PostHog Docs.")),react_default.a.createElement(es_button.a,{type:"primary",onClick:function onClick(){setIsCreateKeyModalVisible(!0)}},"+ Create Personal API Key"),react_default.a.createElement(CreateKeyModal,{isVisible:isCreateKeyModalVisible,setIsVisible:setIsCreateKeyModalVisible}),react_default.a.createElement(PersonalAPIKeysTable,null))}function OptOutCapture(){var _useValues=Object(index_esm.useValues)(userLogic.a),user=_useValues.user,userLoading=_useValues.userLoading,updateUser=Object(index_esm.useActions)(userLogic.a).updateUser;return react_default.a.createElement("div",null,react_default.a.createElement("p",null,"PostHog uses PostHog (unsurprisingly!) to capture information about how people are using the product. We believe that product analytics is crucial to making PostHog the most useful it can be, for everyone."),react_default.a.createElement("p",null,"We also understand there are many reasons why people don't want to or aren't allowed to send this usage data. If you would like to anonymize your personal usage data, just tick the box below."),react_default.a.createElement(es_switch.a,{"data-attr":"anonymize-data-collection",onChange:function onChange(checked){return updateUser({anonymize_data:checked})},defaultChecked:null==user?void 0:user.anonymize_data,loading:userLoading,disabled:userLoading}),react_default.a.createElement("label",{htmlFor:"anonymize-data-collection",style:{marginLeft:"10px"}},"Anonymize my data"))}var PageHeader=__webpack_require__(208),scene={component:MySettings};function MySettings(){var location=Object(index_esm.useValues)(lib.router).location;return Object(useAnchor.a)(location.hash),react_default.a.createElement("div",{style:{marginBottom:128}},react_default.a.createElement(PageHeader.a,{title:"My Settings"}),react_default.a.createElement(card.a,null,react_default.a.createElement("h2",{id:"password",className:"subtitle"},"Change Password"),react_default.a.createElement(ChangePassword,null),react_default.a.createElement(divider.a,null),react_default.a.createElement("h2",{id:"personal-api-keys",className:"subtitle"},"Personal API Keys"),react_default.a.createElement(PersonalAPIKeys,null),react_default.a.createElement(divider.a,null),react_default.a.createElement("h2",{className:"subtitle"},"Security and Feature Updates"),react_default.a.createElement(UpdateEmailPreferences,null),react_default.a.createElement(divider.a,null),react_default.a.createElement("h2",{id:"optout",className:"subtitle"},"Anonymize Data Collection"),react_default.a.createElement(OptOutCapture,null)))}}}]);