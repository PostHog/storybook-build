"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[16495],{"../../frontend/src/scenes/insights/views/Funnels/FunnelCorrelationTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_insights_insightLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/scenes/insights/insightLogic.tsx"),_mocks_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/mocks/browser.tsx"),_mocks_fixtures_api_projects_team_id_insights_funnelCorrelation_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/mocks/fixtures/api/projects/team_id/insights/funnelCorrelation.json"),_queries_nodes_DataNode_dataNodeLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/queries/nodes/DataNode/dataNodeLogic.ts"),_queries_nodes_InsightViz_InsightViz__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/InsightViz.tsx"),_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/utils.ts"),_FunnelCorrelationTable__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/insights/views/Funnels/FunnelCorrelationTable.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let __WEBPACK_DEFAULT_EXPORT__={title:"Insights/FunnelCorrelationTable",component:_FunnelCorrelationTable__WEBPACK_IMPORTED_MODULE_8__.w,decorators:[(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_3__.x8)({post:{"api/environments/:team_id/insights/funnel/correlation/":_mocks_fixtures_api_projects_team_id_insights_funnelCorrelation_json__WEBPACK_IMPORTED_MODULE_4__}})]},uniqueNode=0,Default=(()=>{let[dashboardItemId]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>`FunnelCorrelationTableStory.${uniqueNode++}`),insight=__webpack_require__("../../frontend/src/mocks/fixtures/api/projects/team_id/insights/funnelLeftToRight.json"),cachedInsight={...insight,short_id:dashboardItemId},insightProps={dashboardItemId,doNotLoad:!0,cachedInsight},dataNodeLogicProps={query:insight.query.source,key:(0,_queries_nodes_InsightViz_InsightViz__WEBPACK_IMPORTED_MODULE_6__.gG)(insightProps),cachedResults:(0,_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_7__.VB)(insightProps.cachedInsight,insight.query.source),doNotLoad:insightProps.doNotLoad};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(kea__WEBPACK_IMPORTED_MODULE_0__.BindLogic,{logic:scenes_insights_insightLogic__WEBPACK_IMPORTED_MODULE_2__.zm,props:insightProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(kea__WEBPACK_IMPORTED_MODULE_0__.BindLogic,{logic:_queries_nodes_DataNode_dataNodeLogic__WEBPACK_IMPORTED_MODULE_5__.M,props:dataNodeLogicProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_FunnelCorrelationTable__WEBPACK_IMPORTED_MODULE_8__.w,{})})})}).bind({});Default.args={},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"() => {\n  const [dashboardItemId] = useState(() => `FunnelCorrelationTableStory.${uniqueNode++}`);\n\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const insight = require('../../../../mocks/fixtures/api/projects/team_id/insights/funnelLeftToRight.json');\n  const cachedInsight = {\n    ...insight,\n    short_id: dashboardItemId\n  };\n  const insightProps = {\n    dashboardItemId,\n    doNotLoad: true,\n    cachedInsight\n  } as InsightLogicProps;\n  const dataNodeLogicProps: DataNodeLogicProps = {\n    query: insight.query.source,\n    key: insightVizDataNodeKey(insightProps),\n    cachedResults: getCachedResults(insightProps.cachedInsight, insight.query.source),\n    doNotLoad: insightProps.doNotLoad\n  };\n  return <BindLogic logic={insightLogic} props={insightProps}>\n            <BindLogic logic={dataNodeLogic} props={dataNodeLogicProps}>\n                <FunnelCorrelationTable />\n            </BindLogic>\n        </BindLogic>;\n}",...Default.parameters?.docs?.source}}};let __namedExportsOrder=["Default"]},"../../frontend/src/mocks/fixtures/api/projects/team_id/insights/funnelCorrelation.json":module=>{module.exports=JSON.parse('{"result":{"events":[{"success_count":472,"success_people_url":"http://localhost:8000/api/person/funnel/correlation/?breakdown_attribution_type=first_touch&breakdown_normalize_url=False&date_from=-7d&display=FunnelViz","failure_count":9,"failure_people_url":"http://localhost:8000/api/person/funnel/correlation/?breakdown_attribution_type=first_touch&breakdown_normalize_url=False&date_from=-7d&display=FunnelViz","odds_ratio":3006.964172813488,"correlation_type":"success","event":{"event":"score updated","properties":{},"elements":[]}},{"success_count":60,"success_people_url":"http://localhost:8000/api/person/funnel/correlation/?breakdown_attribution_type=first_touch&breakdown_normalize_url=False&date_from=-7d&display=FunnelViz","failure_count":0,"failure_people_url":"http://localhost:8000/api/person/funnel/correlation/?breakdown_attribution_type=first_touch&breakdown_normalize_url=False&date_from=-7d&display=FunnelViz","odds_ratio":2750.7485294117646,"correlation_type":"success","event":{"event":"onboard teammate clicked","properties":{},"elements":[]}},{"success_count":65,"success_people_url":"http://localhost:8000/api/person/funnel/correlation/?breakdown_attribution_type=first_touch&breakdown_normalize_url=False&date_from=-7d&display=FunnelViz","failure_count":75,"failure_people_url":"http://localhost:8000/api/person/funnel/correlation/?breakdown_attribution_type=first_touch&breakdown_normalize_url=False&date_from=-7d&display=FunnelViz","odds_ratio":35.41070956534874,"correlation_type":"failure","event":{"event":"cancellation prompt shown","properties":{},"elements":[]}}],"skewed":true},"last_refresh":"2024-03-11T18:44:25.153943Z","is_cached":false}')},"../../frontend/src/mocks/fixtures/api/projects/team_id/insights/funnelLeftToRight.json":module=>{module.exports=JSON.parse('{"id":51,"short_id":"jEAIVJnB","name":"","derived_name":"Pageview → Pageview → Pageview user conversion rate","filters":{},"filters_hash":"cache_85ca8909ab22e34f387fa4f17e919410","order":null,"deleted":false,"dashboard":null,"layouts":{},"color":null,"last_refresh":null,"refreshing":false,"result":[{"action_id":"$pageview","name":"$pageview","custom_name":null,"order":0,"people":[],"count":20166,"type":"events","average_conversion_time":null,"median_conversion_time":null,"converted_people_url":"/api/person/funnel/?date_from=2022-03-08T00%3A00%3A00%2B00%3A00&date_to=2022-03-15T21%3A42%3A48.469119%2B00%3A00&display=FunnelViz&events=%5B%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+0%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+1%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+2%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%5D&funnel_step=1&funnel_viz_type=steps&funnel_window_interval=14&funnel_window_interval_unit=day&insight=FUNNELS&interval=day&limit=100","dropped_people_url":null},{"action_id":"$pageview","name":"$pageview","custom_name":null,"order":1,"people":[],"count":8438,"type":"events","average_conversion_time":370.48673834484913,"median_conversion_time":0,"converted_people_url":"/api/person/funnel/?date_from=2022-03-08T00%3A00%3A00%2B00%3A00&date_to=2022-03-15T21%3A42%3A48.469119%2B00%3A00&display=FunnelViz&events=%5B%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+0%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+1%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+2%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%5D&funnel_step=2&funnel_viz_type=steps&funnel_window_interval=14&funnel_window_interval_unit=day&insight=FUNNELS&interval=day&limit=100","dropped_people_url":"/api/person/funnel/?date_from=2022-03-08T00%3A00%3A00%2B00%3A00&date_to=2022-03-15T21%3A42%3A48.469119%2B00%3A00&display=FunnelViz&events=%5B%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+0%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+1%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+2%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%5D&funnel_step=-2&funnel_viz_type=steps&funnel_window_interval=14&funnel_window_interval_unit=day&insight=FUNNELS&interval=day&limit=100"},{"action_id":"$pageview","name":"$pageview","custom_name":null,"order":2,"people":[],"count":2864,"type":"events","average_conversion_time":398.36358625967165,"median_conversion_time":0,"converted_people_url":"/api/person/funnel/?date_from=2022-03-08T00%3A00%3A00%2B00%3A00&date_to=2022-03-15T21%3A42%3A48.469119%2B00%3A00&display=FunnelViz&events=%5B%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+0%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+1%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+2%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%5D&funnel_step=3&funnel_viz_type=steps&funnel_window_interval=14&funnel_window_interval_unit=day&insight=FUNNELS&interval=day&limit=100","dropped_people_url":"/api/person/funnel/?date_from=2022-03-08T00%3A00%3A00%2B00%3A00&date_to=2022-03-15T21%3A42%3A48.469119%2B00%3A00&display=FunnelViz&events=%5B%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+0%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+1%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%2C+%7B%22id%22%3A+%22%24pageview%22%2C+%22type%22%3A+%22events%22%2C+%22order%22%3A+2%2C+%22name%22%3A+%22%24pageview%22%2C+%22custom_name%22%3A+null%2C+%22math%22%3A+null%2C+%22math_property%22%3A+null%2C+%22math_group_type_index%22%3A+null%2C+%22properties%22%3A+%7B%7D%7D%5D&funnel_step=-3&funnel_viz_type=steps&funnel_window_interval=14&funnel_window_interval_unit=day&insight=FUNNELS&interval=day&limit=100"}],"created_at":"2022-03-15T21:31:00.192917Z","created_by":{"id":1,"uuid":"017f7913-c1ee-0000-faff-0fe5ace3849a","distinct_id":"Q1OD2NmnqqbqrLR45mYm2p1VNNbSO9DBFsMig90GWkK","first_name":"Marius","email":"marius@posthog.com"},"description":"","updated_at":"2022-03-15T21:42:52.989476Z","tags":[],"favorited":false,"saved":true,"last_modified_at":"2022-03-15T21:42:52.984610Z","last_modified_by":{"id":1,"uuid":"017f7913-c1ee-0000-faff-0fe5ace3849a","distinct_id":"Q1OD2NmnqqbqrLR45mYm2p1VNNbSO9DBFsMig90GWkK","first_name":"Marius","email":"marius@posthog.com"},"is_sample":false,"effective_restriction_level":21,"effective_privilege_level":37,"query":{"kind":"InsightVizNode","source":{"funnelsFilter":{"exclusions":[],"funnelVizType":"steps"},"interval":"day","kind":"FunnelsQuery","properties":{"type":"AND","values":[{"type":"AND","values":[]}]},"samplingFactor":0.1,"series":[{"event":"$pageview","kind":"EventsNode","name":"$pageview"},{"event":"$pageview","kind":"EventsNode","name":"$pageview","optionalInFunnel":true},{"event":"$pageview","kind":"EventsNode","name":"$pageview"}]},"full":true}}')}}]);