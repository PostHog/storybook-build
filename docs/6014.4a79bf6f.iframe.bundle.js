(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[6014],{"./frontend/src/scenes/data-management/DataManagementScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DataManagementScene:()=>DataManagementScene,DataManagementTab:()=>DataManagementTab,scene:()=>scene});var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip/index.ts"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),TitleWithIcon=__webpack_require__("./frontend/src/lib/components/TitleWithIcon.tsx"),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),featureFlagLogic=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),LemonTag=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTag/LemonTag.tsx"),LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),AuthorizedUrlList=__webpack_require__("./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"),authorizedUrlListLogic=__webpack_require__("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function NewActionButton(_ref){let{onSelectOption}=_ref;const[visible,setVisible]=(0,react.useState)(!1),[appUrlsVisible,setAppUrlsVisible]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"primary",onClick:()=>setVisible(!0),"data-attr":"create-action",children:"New action"}),(0,jsx_runtime.jsx)(src.LemonModal,{isOpen:visible,onClose:()=>{setVisible(!1),setAppUrlsVisible(!1)},title:"Create new action",footer:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[appUrlsVisible&&(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",onClick:()=>setAppUrlsVisible(!1),children:"Back"},"back-button"),(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",onClick:()=>{setVisible(!1),setAppUrlsVisible(!1)},children:"Cancel"},"cancel-button")]}),children:appUrlsVisible?(0,jsx_runtime.jsx)("div",{className:"max-w-160",children:(0,jsx_runtime.jsx)(AuthorizedUrlList.t,{type:authorizedUrlListLogic.uw.TOOLBAR_URLS})}):(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",icon:(0,jsx_runtime.jsx)(icons.j$p,{}),onClick:()=>setAppUrlsVisible(!0),size:"large",fullWidth:!0,center:!0,"data-attr":"new-action-inspect",children:"Inspect element on your site"}),(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",icon:(0,jsx_runtime.jsx)(icons.yl5,{}),onClick:()=>{onSelectOption?.(),lib.router.actions.push(urls.j.createAction())},size:"large",fullWidth:!0,center:!0,"data-attr":"new-action-pageview",children:"From event or pageview"})]})})]})}try{NewActionButton.displayName="NewActionButton",NewActionButton.__docgenInfo={description:"",displayName:"NewActionButton",props:{onSelectOption:{defaultValue:null,description:"",name:"onSelectOption",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/actions/NewActionButton.tsx#NewActionButton"]={docgenInfo:NewActionButton.__docgenInfo,name:"NewActionButton",path:"frontend/src/scenes/actions/NewActionButton.tsx#NewActionButton"})}catch(__react_docgen_typescript_loader_error){}var annotationModalLogic=__webpack_require__("./frontend/src/scenes/annotations/annotationModalLogic.ts"),types=__webpack_require__("./frontend/src/types.ts"),LemonTable=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/index.ts"),columnUtils=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),teamLogic=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),organizationLogic=__webpack_require__("./frontend/src/scenes/organizationLogic.tsx"),AnnotationModal=__webpack_require__("./frontend/src/scenes/annotations/AnnotationModal.tsx"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),ProfilePicture=__webpack_require__("./frontend/src/lib/lemon-ui/ProfilePicture/index.ts"),ProductIntroduction=__webpack_require__("./frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),hedgehogs=__webpack_require__("./frontend/src/lib/components/hedgehogs.tsx");function Annotations(){const{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{currentOrganization}=(0,index_esm.useValues)(organizationLogic.p),{annotations,annotationsLoading,next,loadingNext,timezone,shouldShowEmptyState,shouldShowProductIntroduction}=(0,index_esm.useValues)(annotationModalLogic.bE),{loadAnnotationsNext,openModalToCreateAnnotation}=(0,index_esm.useActions)(annotationModalLogic.bE),columns=[{title:"Annotation",key:"annotation",width:"30%",render:function RenderAnnotation(_,annotation){return(0,jsx_runtime.jsx)("div",{className:"ph-no-capture",children:annotation.content})}},{title:`Date and time (${(0,utils.ig)(timezone)})`,dataIndex:"date_marker",render:function RenderDateMarker(_,annotation){return annotation.date_marker?.format(annotationModalLogic.yD)||""},sorter:(a,b)=>a.date_marker?.diff(b.date_marker)||1},{title:"Scope",key:"scope",render:function RenderType(_,annotation){const scopeName=annotationModalLogic.B3[annotation.scope],tooltip=annotation.scope===types.dc.Insight?`This annotation only applies to the "${annotation.insight_name}" insight`:annotation.scope===types.dc.Project?`This annotation applies to all insights in the ${currentTeam?.name} project`:`This annotation applies to all insights in the ${currentOrganization?.name} organization`;return(0,jsx_runtime.jsx)(Tooltip.u,{title:tooltip,placement:"right",children:(0,jsx_runtime.jsx)(LemonTag.o,{className:"uppercase",children:annotation.scope===types.dc.Insight?(0,jsx_runtime.jsx)(src.Link,{to:urls.j.insightView(annotation.insight_short_id),className:"flex items-center",target:"_blank",targetBlankIcon:!0,children:scopeName}):scopeName})})},sorter:(a,b)=>annotationModalLogic.nO[a.scope]-annotationModalLogic.nO[b.scope]},{title:"CreatedÂ by",dataIndex:"created_by",render:function Render(_,item){const{created_by,creation_type}=item;return(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center",children:(0,jsx_runtime.jsx)(ProfilePicture.Y,{name:"GIT"===creation_type?"GitHub Actions":created_by?.first_name,email:"GIT"===creation_type?void 0:created_by?.email,showName:!0,size:"md",type:"GIT"===creation_type?"bot":"person"})})},sorter:(a,b)=>(a.created_by?.first_name||a.created_by?.email||"").localeCompare(b.created_by?.first_name||b.created_by?.email||"")},(0,columnUtils.rw)(),{key:"actions",width:0,render:function RenderActions(_,annotation){return(0,jsx_runtime.jsx)(LemonButton.Jp,{icon:(0,jsx_runtime.jsx)(icons.yl5,{}),size:"small",type:"tertiary",status:"stealth",to:urls.j.annotation(annotation.id)})}}];return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("p",{children:"Annotations allow you to mark when certain changes happened so you can easily see how they impacted your metrics."}),(0,jsx_runtime.jsxs)("div",{"data-attr":"annotations-content",children:[(shouldShowEmptyState||shouldShowProductIntroduction)&&(0,jsx_runtime.jsx)("div",{className:"mt-4",children:(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Annotations",productKey:types.Md.ANNOTATIONS,thingName:"annotation",description:"Annotations allow you to mark when certain changes happened so you can easily see how they impacted your metrics.",docsURL:"https://posthog.com/docs/data/annotations",action:()=>openModalToCreateAnnotation(),isEmpty:0===annotations.length,customHog:hedgehogs.MicrophoneHog})}),!shouldShowEmptyState&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonTable.g,{"data-attr":"annotations-table",rowKey:"id",dataSource:annotations,columns,defaultSorting:{columnKey:"date_marker",order:-1},noSortingCancellation:!0,loading:annotationsLoading,emptyState:"No annotations yet"}),next&&(0,jsx_runtime.jsx)("div",{className:"flex justify-center mt-6",children:(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"primary",loading:loadingNext,onClick:()=>{loadAnnotationsNext()},children:"Load more annotations"})})]})]}),(0,jsx_runtime.jsx)(AnnotationModal.h,{})]})}var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),EventDefinitionsTable=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss"),EventDefinitionsTable_default=__webpack_require__.n(EventDefinitionsTable),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(EventDefinitionsTable_default(),options);EventDefinitionsTable_default().locals;var eventDefinitionsTableLogic=__webpack_require__("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),ObjectTags=__webpack_require__("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),DefinitionHeader=__webpack_require__("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),EventDefinitionProperties=__webpack_require__("./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx"),More=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/More.tsx"),LemonBanner=__webpack_require__("./frontend/src/lib/lemon-ui/LemonBanner/index.ts"),TZLabel=__webpack_require__("./frontend/src/lib/components/TZLabel/index.tsx");const eventTypeOptions=[{value:types.uW.Event,label:"All events","data-attr":"event-type-option-event"},{value:types.uW.EventCustom,label:"Custom events","data-attr":"event-type-option-event-custom"},{value:types.uW.EventPostHog,label:"PostHog events","data-attr":"event-type-option-event-posthog"}];function EventDefinitionsTable_EventDefinitionsTable(){var _eventDefinitions$pag,_eventDefinitions$cou;const{eventDefinitions,eventDefinitionsLoading,filters}=(0,index_esm.useValues)(eventDefinitionsTableLogic.qh),{loadEventDefinitions,setFilters}=(0,index_esm.useActions)(eventDefinitionsTableLogic.qh),{hasDashboardCollaboration}=(0,index_esm.useValues)(organizationLogic.p),columns=[{key:"icon",className:"definition-column-icon",render:function Render(_,definition){return(0,jsx_runtime.jsx)(DefinitionHeader.y0,{definition,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function Render(_,definition){return(0,jsx_runtime.jsx)(DefinitionHeader.y0,{definition,hideIcon:!0,asLink:!0})},sorter:!0},{title:"Last seen",key:"last_seen_at",className:"definition-column-last_seen_at",render:function Render(_,definition){return definition.last_seen_at?(0,jsx_runtime.jsx)(TZLabel.w,{time:definition.last_seen_at}):null},sorter:!0},...hasDashboardCollaboration?[{title:"Tags",key:"tags",render:function Render(_,definition){var _definition$tags;return(0,jsx_runtime.jsx)(ObjectTags.D,{tags:null!==(_definition$tags=definition.tags)&&void 0!==_definition$tags?_definition$tags:[],staticOnly:!0})}}]:[],{key:"actions",width:0,render:function RenderActions(_,definition){return(0,jsx_runtime.jsx)(More.T,{"data-attr":`event-definitions-table-more-button-${definition.name}`,overlay:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.LemonButton,{status:"stealth",to:(0,lib.combineUrl)(urls.j.replay(),{filters:{events:[{id:definition.name,type:"events",order:0,name:definition.name}]}}).url,fullWidth:!0,sideIcon:(0,jsx_runtime.jsx)(icons.UdX,{}),"data-attr":"event-definitions-table-view-recordings",children:"View recordings"})})})}}];return(0,jsx_runtime.jsxs)("div",{"data-attr":"manage-events-table",children:[(0,jsx_runtime.jsxs)(LemonBanner.V,{className:"mb-4",type:"info",children:["Looking for"," ","event_custom"===filters.event_type?"custom ":"event_posthog"===filters.event_type?"PostHog ":"","event usage statistics?"," ",(0,jsx_runtime.jsx)(src.Link,{to:urls.j.insightNewHogQL("SELECT event, count()\nFROM events\nWHERE timestamp > now() - interval 1 month\n"+("event_custom"===filters.event_type?"AND event NOT LIKE '$%'\n":"event_posthog"===filters.event_type?"AND event LIKE '$%'\n":"")+"GROUP BY event\nORDER BY count() DESC"),children:"Click here!"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center gap-2 mb-4",children:[(0,jsx_runtime.jsx)(src.LemonInput,{type:"search",placeholder:"Search for events",onChange:v=>setFilters({event:v||""}),value:filters.event}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{children:"Type:"}),(0,jsx_runtime.jsx)(src.LemonSelect,{value:filters.event_type,options:eventTypeOptions,"data-attr":"event-type-filter",dropdownMatchSelectWidth:!1,onChange:value=>{setFilters({event_type:value})},size:"small"})]})]}),(0,jsx_runtime.jsx)(LemonTable.g,{columns,className:"events-definition-table","data-attr":"events-definition-table",loading:eventDefinitionsLoading,rowKey:"id",pagination:{controlled:!0,currentPage:null!==(_eventDefinitions$pag=eventDefinitions?.page)&&void 0!==_eventDefinitions$pag?_eventDefinitions$pag:1,entryCount:null!==(_eventDefinitions$cou=eventDefinitions?.count)&&void 0!==_eventDefinitions$cou?_eventDefinitions$cou:0,pageSize:eventDefinitionsTableLogic.H$,onForward:eventDefinitions.next?()=>{loadEventDefinitions(eventDefinitions.next)}:void 0,onBackward:eventDefinitions.previous?()=>{loadEventDefinitions(eventDefinitions.previous)}:void 0},onSort:newSorting=>setFilters({ordering:newSorting?`${-1===newSorting.order?"-":""}${newSorting.columnKey}`:void 0}),expandable:{expandedRowRender:function RenderPropertiesTable(definition){return(0,jsx_runtime.jsx)(EventDefinitionProperties.Q,{definition})},rowExpandable:()=>!0,noIndent:!0},dataSource:eventDefinitions.results,useURLForSorting:!1,emptyState:"No event definitions",nouns:["event","events"]})]})}var Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link/index.ts"),es_radio=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/radio/index.js"),actionsModel=__webpack_require__("./frontend/src/models/actionsModel.ts"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts"),api=__webpack_require__("./frontend/src/lib/api.ts"),LemonDivider=__webpack_require__("./frontend/src/lib/lemon-ui/LemonDivider/index.ts"),actionsLogic=__webpack_require__("./frontend/src/scenes/actions/actionsLogic.ts"),LemonMarkdown=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMarkdown/index.ts");function ActionsTable(){const{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{actionsLoading}=(0,index_esm.useValues)((0,actionsModel.D)({params:"include_count=1"})),{loadActions}=(0,index_esm.useActions)(actionsModel.D),{filterByMe,searchTerm,actionsFiltered,shouldShowProductIntroduction,shouldShowEmptyState}=(0,index_esm.useValues)(actionsLogic.M),{setFilterByMe,setSearchTerm}=(0,index_esm.useActions)(actionsLogic.M),{hasAvailableFeature}=(0,index_esm.useValues)(userLogic.userLogic),{updateHasSeenProductIntroFor}=(0,index_esm.useActions)(userLogic.userLogic),columns=[{title:"Name",dataIndex:"name",width:"25%",sorter:(a,b)=>(a.name||"").localeCompare(b.name||""),render:function RenderName(name,action,index){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Link.r,{"data-attr":"action-link-"+index,to:urls.j.action(action.id),className:"row-name",children:name||(0,jsx_runtime.jsx)("i",{children:"Unnamed action"})}),action.description&&(0,jsx_runtime.jsx)(LemonMarkdown.j,{className:"row-description",lowKeyHeadings:!0,children:action.description})]})}},{title:"Type",key:"type",render:function RenderType(_,action){return(0,jsx_runtime.jsx)("span",{children:action.steps?.length?action.steps.map((step=>(0,jsx_runtime.jsx)("div",{children:(()=>{let url=(0,utils.VV)(step.url||"");switch(url=url.slice(0,40)+(url.length>40?"...":""),step.event){case"$autocapture":return"Autocapture";case"$pageview":switch(step.url_matching){case"regex":return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Page view URL matches regex ",(0,jsx_runtime.jsx)("strong",{children:url})]});case"exact":return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Page view URL matches exactly ",(0,jsx_runtime.jsx)("strong",{children:url})]});default:return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Page view URL contains ",(0,jsx_runtime.jsx)("strong",{children:url})]})}case"":case null:case void 0:return"Any event";default:return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Event: ",(0,jsx_runtime.jsx)("strong",{children:step.event})]})}})()},step.id))):(0,jsx_runtime.jsx)("i",{children:"Empty â set this action up"})})}},...hasAvailableFeature(types.P$.TAGGING)?[{title:"Tags",dataIndex:"tags",width:250,key:"tags",render:function renderTags(tags){return(0,jsx_runtime.jsx)(ObjectTags.D,{tags,staticOnly:!0})}}]:[],(0,columnUtils.JB)(),(0,columnUtils.rw)(),...currentTeam?.slack_incoming_webhook?[{title:"Webhook",dataIndex:"post_to_slack",sorter:(a,b)=>Number(a.post_to_slack)-Number(b.post_to_slack),render:function RenderActions(post_to_slack){return post_to_slack?(0,jsx_runtime.jsx)(icons.DLh,{}):null}}]:[],{width:0,render:function RenderActions(_,action){return(0,jsx_runtime.jsx)(More.T,{overlay:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.Jp,{status:"stealth",to:urls.j.action(action.id),fullWidth:!0,children:"Edit"}),(0,jsx_runtime.jsx)(LemonButton.Jp,{status:"stealth",to:urls.j.copyAction(action),fullWidth:!0,children:"Copy"}),(0,jsx_runtime.jsx)(LemonButton.Jp,{status:"stealth",to:(0,lib.combineUrl)(urls.j.replay(),{filters:{actions:[{id:action.id,type:"actions",order:0,name:action.name}]}}).url,sideIcon:(0,jsx_runtime.jsx)(icons.UdX,{}),fullWidth:!0,"data-attr":"action-table-view-recordings",children:"View recordings"}),(0,jsx_runtime.jsx)(LemonButton.Jp,{status:"stealth",to:(0,lib.combineUrl)(urls.j.insightNew({insight:types.dw.TRENDS,interval:"day",display:types.Qb.ActionsLineGraph,actions:[{id:action.id,name:action.name,type:"actions",order:0}]})).url,fullWidth:!0,children:"Try out in Insights"}),(0,jsx_runtime.jsx)(LemonDivider.p,{}),(0,jsx_runtime.jsx)(LemonButton.Jp,{status:"danger",onClick:()=>{(0,utils.S5)({endpoint:api.ZP.actions.determineDeleteEndpoint(),object:action,callback:loadActions})},fullWidth:!0,children:"Delete action"})]})})}}];return(0,jsx_runtime.jsxs)("div",{"data-attr":"manage-events-table",children:[(shouldShowEmptyState||shouldShowProductIntroduction)&&(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Actions",productKey:types.Md.ACTIONS,thingName:"action",isEmpty:shouldShowEmptyState,description:"Use actions to combine events that you want to have tracked together or to make detailed Autocapture events easier to reuse.",docsURL:"https://posthog.com/docs/data/actions",actionElementOverride:(0,jsx_runtime.jsx)(NewActionButton,{onSelectOption:()=>updateHasSeenProductIntroFor(types.Md.ACTIONS,!0)})}),shouldShowEmptyState&&filterByMe||!shouldShowEmptyState?(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-4",children:[(0,jsx_runtime.jsx)(src.LemonInput,{type:"search",placeholder:"Search for actions",onChange:setSearchTerm,value:searchTerm}),(0,jsx_runtime.jsxs)(es_radio.ZP.Group,{buttonStyle:"solid",value:filterByMe,onChange:e=>setFilterByMe(e.target.value),children:[(0,jsx_runtime.jsx)(es_radio.ZP.Button,{value:!1,children:"All actions"}),(0,jsx_runtime.jsx)(es_radio.ZP.Button,{value:!0,children:"My actions"})]})]}):null,(!shouldShowEmptyState||filterByMe)&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(LemonTable.g,{columns,loading:actionsLoading,rowKey:"id",pagination:{pageSize:100},"data-attr":"actions-table",dataSource:actionsFiltered,defaultSorting:{columnKey:"created_by",order:-1},emptyState:"No results. Create a new action?"})})]})}var PropertyDefinitionsTable=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.scss"),PropertyDefinitionsTable_default=__webpack_require__.n(PropertyDefinitionsTable),PropertyDefinitionsTable_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(PropertyDefinitionsTable_default(),PropertyDefinitionsTable_options);PropertyDefinitionsTable_default().locals;var propertyDefinitionsTableLogic=__webpack_require__("./frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts");function PropertyDefinitionsTable_PropertyDefinitionsTable(){var _filters$group_type_i,_propertyDefinitions$,_propertyDefinitions$2;const{propertyDefinitions,propertyDefinitionsLoading,filters,propertyTypeOptions}=(0,index_esm.useValues)(propertyDefinitionsTableLogic.T),{loadPropertyDefinitions,setFilters,setPropertyType}=(0,index_esm.useActions)(propertyDefinitionsTableLogic.T),{hasDashboardCollaboration}=(0,index_esm.useValues)(organizationLogic.p),columns=[{key:"icon",className:"definition-column-icon",render:function Render(_,definition){return(0,jsx_runtime.jsx)(DefinitionHeader.sO,{definition,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function Render(_,definition){return(0,jsx_runtime.jsx)(DefinitionHeader.sO,{definition,hideIcon:!0,asLink:!0})},sorter:(a,b)=>a.name.localeCompare(b.name)},{title:"Type",key:"type",render:function RenderType(_,definition){return definition.property_type?(0,jsx_runtime.jsx)(src.LemonTag,{type:"success",className:"uppercase",children:definition.property_type}):(0,jsx_runtime.jsx)("span",{className:"text-muted",children:"â"})}},...hasDashboardCollaboration?[{title:"Tags",key:"tags",render:function Render(_,definition){var _definition$tags;return(0,jsx_runtime.jsx)(ObjectTags.D,{tags:null!==(_definition$tags=definition.tags)&&void 0!==_definition$tags?_definition$tags:[],staticOnly:!0})}}]:[]];return(0,jsx_runtime.jsxs)("div",{"data-attr":"manage-events-table",children:[(0,jsx_runtime.jsxs)(LemonBanner.V,{className:"mb-4",type:"info",children:["Looking for ","person"===filters.type?"person ":"","property usage statistics?"," ",(0,jsx_runtime.jsx)(src.Link,{to:urls.j.insightNewHogQL("SELECT arrayJoin(JSONExtractKeys(properties)) AS property_key, count()\n"+("person"===filters.type?"FROM persons\n":"FROM events\n")+("person"===filters.type?"":"WHERE timestamp > now() - interval 1 month\n")+"GROUP BY property_key\nORDER BY count() DESC"),children:"Click here!"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,jsx_runtime.jsx)(src.LemonInput,{type:"search",placeholder:"Search for properties",onChange:e=>setFilters({property:e||""}),value:filters.property}),(0,jsx_runtime.jsx)(src.LemonSelect,{options:propertyTypeOptions,value:`${filters.type}::${null!==(_filters$group_type_i=filters.group_type_index)&&void 0!==_filters$group_type_i?_filters$group_type_i:""}`,onSelect:setPropertyType})]}),(0,jsx_runtime.jsx)(LemonTable.g,{columns,className:"event-properties-definition-table","data-attr":"event-properties-definition-table",loading:propertyDefinitionsLoading,rowKey:"id",pagination:{controlled:!0,currentPage:null!==(_propertyDefinitions$=propertyDefinitions?.page)&&void 0!==_propertyDefinitions$?_propertyDefinitions$:1,entryCount:null!==(_propertyDefinitions$2=propertyDefinitions?.count)&&void 0!==_propertyDefinitions$2?_propertyDefinitions$2:0,pageSize:propertyDefinitionsTableLogic.l,onForward:propertyDefinitions.next?()=>{loadPropertyDefinitions(propertyDefinitions.next)}:void 0,onBackward:propertyDefinitions.previous?()=>{loadPropertyDefinitions(propertyDefinitions.previous)}:void 0},dataSource:propertyDefinitions.results,emptyState:"No property definitions",nouns:["property","properties"]})]})}var ActivityLog=__webpack_require__("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),humanizeActivity=__webpack_require__("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),kea_loaders_lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),dayjs=__webpack_require__("./frontend/src/lib/dayjs.ts");const ingestionWarningsLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","data-management","ingestion-warnings","ingestionWarningsLogic"]),(0,index_esm.connect)({values:[teamLogic.teamLogic,["currentTeamId","timezone"]]}),(0,kea_loaders_lib.loaders)((_ref=>{let{values}=_ref;return{data:[[],{loadData:async()=>{const{results}=await api.ZP.get(`api/projects/${values.currentTeamId}/ingestion_warnings`);return results}}]}})),(0,index_esm.selectors)({breadcrumbs:[()=>[],()=>[{name:"Data Management",path:urls.j.eventDefinitions()},{name:"Ingestion Warnings",path:urls.j.ingestionWarnings()}]],dates:[()=>[],()=>(0,utils.w6)(0,30).map((i=>(0,dayjs.Bv)().subtract(i,"days").format("D MMM YYYY"))).reverse()],summaryDatasets:[s=>[s.data,s.timezone],(data,timezone)=>{const summaryDatasets={};return data.forEach((summary=>{const result=new Array(30).fill(0);for(const warning of summary.warnings){const date=(0,dayjs.fp)(warning.timestamp,timezone);result[(0,dayjs.Bv)().diff(date,"days")]+=1}summaryDatasets[summary.type]=result.reverse()})),summaryDatasets}]}),(0,index_esm.afterMount)((_ref2=>{let{actions}=_ref2;actions.loadData()}))]);var TableCellSparkline=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/TableCellSparkline.tsx");const WARNING_TYPE_TO_DESCRIPTION={cannot_merge_already_identified:"Refused to merge an already identified user",cannot_merge_with_illegal_distinct_id:"Refused to merge with an illegal distinct id",skipping_event_invalid_uuid:"Refused to process event with invalid uuid",ignored_invalid_timestamp:"Ignored an invalid timestamp, event was still ingested",event_timestamp_in_future:"An event was sent more than 23 hours in the future",ingestion_capacity_overflow:"Event ingestion has overflowed capacity",message_size_too_large:"Discarded event exceeding 1MB limit"},WARNING_TYPE_RENDERER={cannot_merge_already_identified:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Refused to merge already identified person"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.sourcePersonDistinctId),children:details.sourcePersonDistinctId})," ","into"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.targetPersonDistinctId),children:details.targetPersonDistinctId})," ","via an $identify or $create_alias call (event uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),")."]})},cannot_merge_with_illegal_distinct_id:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Refused to merge an illegal distinct_id"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.illegalDistinctId),children:details.illegalDistinctId})," with"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.otherDistinctId),children:details.otherDistinctId})," via an $identify or $create_alias call (event uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),")."]})},skipping_event_invalid_uuid:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Refused to process event with invalid uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),"."]})},ignored_invalid_timestamp:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Used server timestamp when ingesting event due to invalid input:",(0,jsx_runtime.jsxs)("ul",{children:[details.eventUuid?(0,jsx_runtime.jsxs)("li",{children:["Event UUID: ",details.eventUuid]}):"",details.field?(0,jsx_runtime.jsxs)("li",{children:["Invalid field: ",details.field]}):"",details.value?(0,jsx_runtime.jsxs)("li",{children:["Invalid value: ",details.value]}):"",details.reason?(0,jsx_runtime.jsxs)("li",{children:["Error: ",details.reason]}):""]})]})},event_timestamp_in_future:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["The event timestamp computed too far in the future, so the capture time was used instead. Event values:",(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsxs)("li",{children:["Computed timestamp: ",details.result]}),details.eventUuid?(0,jsx_runtime.jsxs)("li",{children:["Event UUID: ",details.eventUuid]}):"",details.timestamp?(0,jsx_runtime.jsxs)("li",{children:["Client provided timestamp: ",details.timestamp]}):"",details.sentAt?(0,jsx_runtime.jsxs)("li",{children:["Client provided sent_at: ",details.sentAt]}):"",details.offset?(0,jsx_runtime.jsxs)("li",{children:["Client provided time offset: ",details.offset]}):"",(0,jsx_runtime.jsxs)("li",{children:["PostHog server capture time: ",details.now]})]})]})},ingestion_capacity_overflow:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Event ingestion has overflowed capacity for distinct_id"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.overflowDistinctId),children:details.overflowDistinctId}),". Events will still be processed, but are likely to be delayed longer than usual."]})},message_size_too_large:function Render(warning){const details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Discarded event for distinct_id"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.distinctId),children:details.distinctId})," that exceeded 1MB in size after processing (event uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),")"]})}};function IngestionWarningsView(){const{data,dataLoading,summaryDatasets,dates}=(0,index_esm.useValues)(ingestionWarningsLogic);return(0,jsx_runtime.jsx)("div",{"data-attr":"manage-events-table",children:data.length>0||dataLoading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"mb-4",children:"Data ingestion related warnings from past 30 days."}),(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:data,loading:dataLoading,columns:[{title:"Warning",dataIndex:"type",render:function Render(_,summary){const type=WARNING_TYPE_TO_DESCRIPTION[summary.type]||summary.type;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[type," (",(0,jsx_runtime.jsxs)(Link.r,{to:`https://posthog.com/manual/data-management#${type.toLowerCase().replace(",","").split(" ").join("-")}`,children:["docs",")"]})]})}},{title:"Graph",render:function Render(_,summary){return(0,jsx_runtime.jsx)(TableCellSparkline.F,{labels:dates,data:summaryDatasets[summary.type]})}},{title:"Events",dataIndex:"count",align:"right",sorter:(a,b)=>a.count-b.count},{title:"Last Seen",dataIndex:"lastSeen",render:function Render(_,summary){return(0,jsx_runtime.jsx)(TZLabel.w,{time:summary.lastSeen,showSeconds:!0})},align:"right",sorter:(a,b)=>new Date(a.lastSeen)>new Date(b.lastSeen)?1:-1}],expandable:{expandedRowRender:RenderNestedWarnings},defaultSorting:{columnKey:"lastSeen",order:-1},noSortingCancellation:!0})]}):(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Ingestion warnings",thingName:"ingestion warning",productKey:types.Md.INGESTION_WARNINGS,isEmpty:!0,description:"Nice! You've had no ingestion warnings in the past 30 days. If we detect any issues with your data, we'll show them here.",docsURL:"https://posthog.com/docs/data/data-management#ingestion-warnings",customHog:hedgehogs.ReadingHog})})}function RenderNestedWarnings(warningSummary){return(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:warningSummary.warnings,columns:[{title:"Description",key:"description",render:function Render(_,warning){const renderer=WARNING_TYPE_RENDERER[warning.type];return renderer?renderer(warning):(0,jsx_runtime.jsx)("pre",{children:JSON.stringify(warning.details,null,2)})}},{title:"Time",dataIndex:"timestamp",render:function Render(_,warning){return(0,jsx_runtime.jsx)(TZLabel.w,{time:warning.timestamp,showSeconds:!0})},align:"right"}],embedded:!0,size:"small",showHeader:!1})}var databaseTableListLogic=__webpack_require__("./frontend/src/scenes/data-management/database/databaseTableListLogic.ts"),DatabaseTables=__webpack_require__("./frontend/src/scenes/data-management/database/DatabaseTables.tsx");function DatabaseTableList(){const{searchTerm}=(0,index_esm.useValues)(databaseTableListLogic.A),{setSearchTerm}=(0,index_esm.useActions)(databaseTableListLogic.A);return(0,jsx_runtime.jsxs)("div",{"data-attr":"database-list",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-between gap-2 mb-4",children:(0,jsx_runtime.jsx)(src.LemonInput,{type:"search",placeholder:"Search for tables",onChange:setSearchTerm,value:searchTerm})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-between gap-2 mb-4",children:(0,jsx_runtime.jsxs)("div",{children:["These are the database tables you can query under SQL insights with"," ",(0,jsx_runtime.jsx)(src.Link,{to:"https://posthog.com/manual/hogql",target:"_blank",children:"HogQL"}),"."]})}),(0,jsx_runtime.jsx)(DatabaseTables.Q,{})]})}let DataManagementTab=function(DataManagementTab){return DataManagementTab.Actions="actions",DataManagementTab.EventDefinitions="events",DataManagementTab.PropertyDefinitions="properties",DataManagementTab.Annotations="annotations",DataManagementTab.History="history",DataManagementTab.IngestionWarnings="warnings",DataManagementTab.Database="database",DataManagementTab}({});const tabs={[DataManagementTab.EventDefinitions]:{url:urls.j.eventDefinitions(),label:"Events",content:(0,jsx_runtime.jsx)(EventDefinitionsTable_EventDefinitionsTable,{})},[DataManagementTab.Actions]:{url:urls.j.actions(),label:(0,jsx_runtime.jsx)(TitleWithIcon.H,{icon:(0,jsx_runtime.jsx)(Tooltip.u,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards.",children:(0,jsx_runtime.jsx)(icons.aUG,{})}),children:"Actions"}),buttons:(0,jsx_runtime.jsx)(NewActionButton,{}),content:(0,jsx_runtime.jsx)(ActionsTable,{})},[DataManagementTab.PropertyDefinitions]:{url:urls.j.propertyDefinitions(),label:(0,jsx_runtime.jsx)(TitleWithIcon.H,{icon:(0,jsx_runtime.jsx)(Tooltip.u,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them.",children:(0,jsx_runtime.jsx)(icons.aUG,{})}),children:"Properties"}),content:(0,jsx_runtime.jsx)(PropertyDefinitionsTable_PropertyDefinitionsTable,{})},[DataManagementTab.Annotations]:{url:urls.j.annotations(),content:(0,jsx_runtime.jsx)(Annotations,{}),label:"Annotations",buttons:(0,jsx_runtime.jsx)(AnnotationModal.i,{})},[DataManagementTab.History]:{url:urls.j.dataManagementHistory(),label:"History",content:(0,jsx_runtime.jsx)(ActivityLog.D,{scope:humanizeActivity.jc.DATA_MANAGEMENT,caption:"Only actions taken in the UI are captured in History. Automatic creation of definitions by ingestion is not shown here."})},[DataManagementTab.IngestionWarnings]:{url:urls.j.ingestionWarnings(),label:"Ingestion Warnings",content:(0,jsx_runtime.jsx)(IngestionWarningsView,{})},[DataManagementTab.Database]:{url:urls.j.database(),label:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Database",(0,jsx_runtime.jsx)(LemonTag.o,{type:"warning",className:"uppercase ml-2",children:"Beta"})]}),content:(0,jsx_runtime.jsx)(DatabaseTableList,{})}},dataManagementSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","events","dataManagementSceneLogic"]),(0,index_esm.connect)({values:[featureFlagLogic.h,["featureFlags"]]}),(0,index_esm.actions)({setTab:tab=>({tab})}),(0,index_esm.reducers)({tab:[DataManagementTab.EventDefinitions,{setTab:(_,_ref)=>{let{tab}=_ref;return tab}}]}),(0,index_esm.selectors)({breadcrumbs:[s=>[s.tab],tab=>[{name:"Data Management",path:tabs.events.url},{name:(0,utils.fm)(tab),path:tabs[tab].url}]],showWarningsTab:[s=>[s.featureFlags],featureFlags=>!!featureFlags[constants.y8.INGESTION_WARNINGS_ENABLED]],enabledTabs:[s=>[s.showWarningsTab],showWarningsTab=>Object.keys(tabs).filter((x=>x!==DataManagementTab.IngestionWarnings||showWarningsTab))]}),(0,lib.actionToUrl)((()=>({setTab:_ref2=>{let{tab}=_ref2;return tabs[tab]?.url||tabs.events.url}}))),(0,lib.urlToAction)((_ref3=>{let{actions,values}=_ref3;return Object.fromEntries(Object.entries(tabs).map((_ref4=>{let[key,tab]=_ref4;return[tab.url,()=>{values.tab!==key&&actions.setTab(key)}]})))}))]);function DataManagementScene(){const{enabledTabs,tab}=(0,index_esm.useValues)(dataManagementSceneLogic),{setTab}=(0,index_esm.useActions)(dataManagementSceneLogic),lemonTabs=enabledTabs.map((key=>({key,label:(0,jsx_runtime.jsx)("span",{"data-attr":`data-management-${key}-tab`,children:tabs[key].label}),content:tabs[key].content})));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0,buttons:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:tabs[tab].buttons})}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:tab,onChange:t=>setTab(t),tabs:lemonTabs})]})}const scene={component:DataManagementScene,logic:dataManagementSceneLogic}},"./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>EventDefinitionProperties});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/index.ts"),lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),scenes_organizationLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/organizationLogic.tsx"),scenes_data_management_events_DefinitionHeader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function EventDefinitionProperties(_ref){var _eventPropertiesCache,_eventPropertiesCache2,_eventPropertiesCache3;let{definition}=_ref;const{loadPropertiesForEvent}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_2__.qh),{eventPropertiesCacheMap,eventDefinitionPropertiesLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_2__.qh),{hasDashboardCollaboration}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_organizationLogic__WEBPACK_IMPORTED_MODULE_5__.p);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{loadPropertiesForEvent(definition)}),[]);const columns=[{title:"Property",key:"property",className:"definition-column-name",render:function Render(_,_definition){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(scenes_data_management_events_DefinitionHeader__WEBPACK_IMPORTED_MODULE_6__.sO,{definition:_definition,event:definition,hideIcon:!0,asLink:!0})}},{title:"Type",key:"type",className:"definition-column-type",render:function Render(_,_definition){return _definition.property_type?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"definition-pill-value uppercase",children:_definition.property_type}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"text-muted",children:"â"})}},...hasDashboardCollaboration?[{title:"Tags",key:"tags",render:function Render(_,_definition){var _definition$tags;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_4__.D,{tags:null!==(_definition$tags=_definition.tags)&&void 0!==_definition$tags?_definition$tags:[],staticOnly:!0})}}]:[],{title:"Example",key:"example",align:"right",className:"definition-example-type",render:function Render(_,_definition){return _definition.example?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"definition-pill-value font-mono",children:_definition.example}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"text-muted",children:"â"})}}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"event-properties-wrapper",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{className:"event-properties-header",children:"Top properties"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{className:"event-properties-subtext",children:"Please note that description and tags are shared across events. PostHog properties are excluded from this list."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_3__.g,{id:`event-properties-definition-table-${definition.id}`,"data-attr":"event-properties-definition-nested-table",columns,className:`event-properties-definition-table-${definition.id}`,dataSource:null!==(_eventPropertiesCache=eventPropertiesCacheMap?.[definition.id]?.results)&&void 0!==_eventPropertiesCache?_eventPropertiesCache:[],emptyState:"This event has no properties",nouns:["property definition","property definitions"],pagination:{controlled:!0,pageSize:scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_2__.N6,currentPage:null!==(_eventPropertiesCache2=eventPropertiesCacheMap?.[definition.id]?.page)&&void 0!==_eventPropertiesCache2?_eventPropertiesCache2:1,entryCount:null!==(_eventPropertiesCache3=eventPropertiesCacheMap?.[definition.id]?.count)&&void 0!==_eventPropertiesCache3?_eventPropertiesCache3:0,onForward:eventPropertiesCacheMap?.[definition.id]?.next?()=>{loadPropertiesForEvent(definition,eventPropertiesCacheMap[definition.id].next)}:void 0,onBackward:eventPropertiesCacheMap?.[definition.id]?.previous?()=>{loadPropertiesForEvent(definition,eventPropertiesCacheMap[definition.id].previous)}:void 0},loading:eventDefinitionPropertiesLoading.includes(definition.id)})]})}try{EventDefinitionProperties.displayName="EventDefinitionProperties",EventDefinitionProperties.__docgenInfo={description:"",displayName:"EventDefinitionProperties",props:{definition:{defaultValue:null,description:"",name:"definition",required:!0,type:{name:"EventDefinition"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"]={docgenInfo:EventDefinitionProperties.__docgenInfo,name:"EventDefinitionProperties",path:"frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px;font-size:1.5rem}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--muted-alt)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name{display:flex;flex-direction:row;align-items:center}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative;min-height:32px;justify-content:center}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer;position:relative;overflow:visible}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;inset:-5px -50px -5px -10px;height:22px}.events-definition-table .LemonTable__content>table>tbody td.definition-example-type .definition-pill-value{float:right}.events-definition-table .LemonTable__content>table>tbody .definition-pill-value{display:flex;align-items:center;width:-moz-fit-content;width:fit-content;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;word-break:break-all;max-width:300px;cursor:text}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper{padding:1rem 0 1rem 1rem}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper .event-properties-header{font-weight:600}',""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--muted-alt)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative;min-height:32px;justify-content:center}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;left:-10px;right:-50px;height:22px}',""]),module.exports=exports}}]);