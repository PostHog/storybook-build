"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[49953],{"../../products/error_tracking/frontend/scenes/ErrorTrackingIssueScene/ErrorTrackingIssueScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingIssueScene:()=>ErrorTrackingIssueScene,scene:()=>scene}),__webpack_require__("../../products/error_tracking/frontend/scenes/ErrorTrackingIssueScene/ErrorTrackingIssueScene.scss");var kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),posthog_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.296.0/node_modules/posthog-js/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_hooks_useFeatureFlag__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/hooks/useFeatureFlag.ts"),lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/ui/Button/ButtonPrimitives.tsx"),lib_ui_DropdownMenu_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/lib/ui/DropdownMenu/DropdownMenu.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_layout_scenes_components_SceneBreadcrumbs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneBreadcrumbs.tsx"),_components_EventsTable_EventsTable__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../products/error_tracking/frontend/components/EventsTable/EventsTable.tsx"),_components_ExceptionCard__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../products/error_tracking/frontend/components/ExceptionCard/index.ts"),_components_IssueFilters__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../products/error_tracking/frontend/components/IssueFilters/index.tsx"),_components_IssueFilters_issueFiltersLogic__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../products/error_tracking/frontend/components/IssueFilters/issueFiltersLogic.ts"),_components_IssueMetadata__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../products/error_tracking/frontend/components/IssueMetadata.tsx"),_components_SetupPrompt_SetupPrompt__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../products/error_tracking/frontend/components/SetupPrompt/SetupPrompt.tsx"),_hooks_use_error_tag_renderer__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../products/error_tracking/frontend/hooks/use-error-tag-renderer.tsx"),_ScenePanel__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../products/error_tracking/frontend/scenes/ErrorTrackingIssueScene/ScenePanel/index.tsx"),_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../products/error_tracking/frontend/scenes/ErrorTrackingIssueScene/errorTrackingIssueSceneLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:ErrorTrackingIssueScene,logic:_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_20__.r,paramsToProps:_ref=>{let{params:{id},searchParams:{fingerprint,timestamp}}=_ref;return{id,fingerprint,timestamp}}};function ErrorTrackingIssueScene(){let{issue,issueId,issueLoading,selectedEvent,initialEventLoading,eventsQuery,eventsQueryKey}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_20__.r),{selectEvent}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_20__.r),tagRenderer=(0,_hooks_use_error_tag_renderer__WEBPACK_IMPORTED_MODULE_18__.h)(),hasIssueSplitting=(0,lib_hooks_useFeatureFlag__WEBPACK_IMPORTED_MODULE_7__.y)("ERROR_TRACKING_ISSUE_SPLITTING"),isPostHogSDKIssue=selectedEvent?.properties.$exception_values?.some(v=>v.includes("persistence.isDisabled is not a function"));return(0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(()=>{posthog_js__WEBPACK_IMPORTED_MODULE_3__.ZP.capture("error_tracking_issue_viewed",{issue_id:issueId})},[issueId]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_SetupPrompt_SetupPrompt__WEBPACK_IMPORTED_MODULE_17__.n,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(kea__WEBPACK_IMPORTED_MODULE_1__.BindLogic,{logic:_components_IssueFilters_issueFiltersLogic__WEBPACK_IMPORTED_MODULE_15__.H,props:{logicKey:_errorTrackingIssueSceneLogic__WEBPACK_IMPORTED_MODULE_20__.W},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"flex justify-between mb-2 -ml-[var(--button-padding-x-lg)]",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_layout_scenes_components_SceneBreadcrumbs__WEBPACK_IMPORTED_MODULE_11__.A,{}),hasIssueSplitting&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(lib_ui_DropdownMenu_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__.h_,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(lib_ui_DropdownMenu_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__.$F,{asChild:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_8__.hL,{iconOnly:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_5__.IconEllipsis,{})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(lib_ui_DropdownMenu_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__.AW,{loop:!0,align:"end",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(lib_ui_DropdownMenu_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__.Qk,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(lib_ui_DropdownMenu_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__.Xi,{asChild:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(lib_ui_Button_ButtonPrimitives__WEBPACK_IMPORTED_MODULE_8__.hL,{size:"base",menuItem:!0,onClick:()=>kea_router__WEBPACK_IMPORTED_MODULE_2__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_10__.j.errorTrackingIssueFingerprints(issueId)),children:"Split issue"})})})})]})]}),isPostHogSDKIssue&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_6__.Vp,{type:"error",action:{to:"https://status.posthog.com/incidents/l70cgmt7475m",children:"Read more"},className:"mb-4",children:"This issue was captured because of a bug in the PostHog SDK. We've fixed the issue, and you won't be charged for any of these exception events. We recommend setting this issue's status to \"Suppressed\"."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"ErrorTrackingIssue grid grid-cols-4 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"space-y-2 col-span-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_ExceptionCard__WEBPACK_IMPORTED_MODULE_13__.F,{issue:null!=issue?issue:void 0,issueLoading:issueLoading,event:null!=selectedEvent?selectedEvent:void 0,eventLoading:initialEventLoading,label:tagRenderer(selectedEvent)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)(_components_IssueFilters__WEBPACK_IMPORTED_MODULE_14__.h.Root,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsxs)("div",{className:"flex gap-2 justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_IssueFilters__WEBPACK_IMPORTED_MODULE_14__.h.DateRange,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_IssueFilters__WEBPACK_IMPORTED_MODULE_14__.h.InternalAccounts,{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_IssueFilters__WEBPACK_IMPORTED_MODULE_14__.h.FilterGroup,{})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_IssueMetadata__WEBPACK_IMPORTED_MODULE_16__.S,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_components_EventsTable_EventsTable__WEBPACK_IMPORTED_MODULE_12__.Y,{query:eventsQuery,queryKey:eventsQueryKey,selectedEvent:selectedEvent,onEventSelect:selectedEvent=>selectedEvent?selectEvent(selectedEvent):null})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_21__.jsx)(_ScenePanel__WEBPACK_IMPORTED_MODULE_19__.L,{})]})]})})}}}]);