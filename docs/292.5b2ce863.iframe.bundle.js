(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{"./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx":function(ie,A,t){"use strict";t.d(A,"a",function(){return e});var L=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),C=t.n(L),V=t("./node_modules/react/index.js"),E=t.n(V),P=t("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),f=t("./frontend/src/lib/components/LemonButton/index.ts"),j=t("./frontend/src/lib/components/LemonDivider/index.ts"),p=t("./node_modules/react/jsx-runtime.js"),m=t.n(p);function e(R){var W=R.item,S=R.onComplete,k=R.onClose,H=Object(V.useState)(W.alias),F=C()(H,2),D=F[0],_=F[1],T=Object(V.useState)(W.regex),$=C()(T,2),U=$[0],Q=$[1];return Object(p.jsxs)("div",{className:"px-2",children:[Object(p.jsx)("b",{children:"New Wildcard"}),Object(p.jsx)(j.a,{}),Object(p.jsxs)("div",{className:"space-y-2",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"Alias"}),Object(p.jsx)(P.a,{defaultValue:D,onChange:function(z){return _(z)},onPressEnter:function(){return!1}})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"Regex"}),Object(p.jsx)(P.a,{defaultValue:U,onChange:function(z){return Q(z)},onPressEnter:function(){return!1}}),Object(p.jsxs)("div",{className:"text-muted",style:{marginBottom:12},children:["For example: ",Object(p.jsx)("code",{children:"\\/merchant\\/\\d+\\/dashboard$"})]})]})]}),Object(p.jsxs)("div",{className:"flex justify-end gap-2",children:[Object(p.jsx)(f.a,{type:"secondary",onClick:k,children:"Cancel"}),Object(p.jsx)(f.a,{type:"primary",onClick:function(){return S({alias:D,regex:U})},children:"Save"})]})]})}try{e.displayName="PathRegexPopup",e.__docgenInfo={description:"",displayName:"PathRegexPopup",props:{onComplete:{defaultValue:null,description:"",name:"onComplete",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"]={docgenInfo:e.__docgenInfo,name:"PathRegexPopup",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"})}catch(R){}},"./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx":function(ie,A,t){"use strict";t.d(A,"a",function(){return p});var L=t("./node_modules/core-js/modules/es.array.map.js"),C=t.n(L),V=t("./frontend/src/scenes/actions/Actions.scss"),E=t("./frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx"),P=t("./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx"),f=t("./node_modules/react/jsx-runtime.js"),j=t.n(f);function p(m){var e=m.pageKey,R=m.onChange,W=m.onRemove,S=m.pathCleaningFilters,k=m.showConditionBadge,H=k===void 0?!1:k,F=m.disablePopover,D=F===void 0?!1:F;return Object(f.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:S.length>0&&S.map(function(_,T){return Object(f.jsx)(E.a,{item:_,index:T,totalCount:S.length-1,filters:S,pageKey:e,showConditionBadge:H,disablePopover:D,label:"Add rule",onRemove:W,filterComponent:function(U){return Object(f.jsx)(P.a,{item:_,onClose:U,onComplete:function(M){R(M),U()}})}},T)})})}try{p.displayName="PathCleanFilters",p.__docgenInfo={description:"",displayName:"PathCleanFilters",props:{endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(index: number) => void"}},pathCleaningFilters:{defaultValue:null,description:"",name:"pathCleaningFilters",required:!0,type:{name:"Record<string, any>[]"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},showConditionBadge:{defaultValue:{value:"false"},description:"",name:"showConditionBadge",required:!1,type:{name:"boolean"}},disablePopover:{defaultValue:{value:"false"},description:"",name:"disablePopover",required:!1,type:{name:"boolean"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"]={docgenInfo:p.__docgenInfo,name:"PathCleanFilters",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"})}catch(m){}},"./frontend/src/lib/hooks/useAnchor.ts":function(ie,A,t){"use strict";t.d(A,"a",function(){return V});var L=t("./node_modules/react/index.js"),C=t.n(L);function V(E){Object(L.useEffect)(function(){if(E&&document.getElementById(E.substr(1))){var P=document.getElementById(E.substr(1));if(!P)return;P.classList.add("highlighted");var f=P.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:f-50-32,behavior:"smooth"})}},[E])}},"./frontend/src/scenes/project/Settings/index.tsx":function(ie,A,t){"use strict";t.r(A),t.d(A,"scene",function(){return ft}),t.d(A,"ProjectSettings",function(){return Ae});var L=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),C=t.n(L),V=t("./node_modules/core-js/modules/es.function.name.js"),E=t("./node_modules/core-js/modules/es.array.includes.js"),P=t("./node_modules/core-js/modules/es.string.includes.js"),f=t("./node_modules/react/index.js"),j=t("./node_modules/kea/lib/index.esm.js"),p=t("./frontend/src/scenes/teamLogic.tsx"),m=t("./frontend/@posthog/lemon-ui/src/index.ts"),e=t("./node_modules/react/jsx-runtime.js");function R(){var n=Object(j.useActions)(p.a),s=n.updateCurrentTeam,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.currentTeamLoading;return Object(e.jsx)(m.LemonSwitch,{onChange:function(d){s({anonymize_ips:d})},checked:!!(o!=null&&o.anonymize_ips),disabled:a,label:"Discard client IP data",bordered:!0})}var W=t("./frontend/src/lib/components/JSSnippet.tsx"),S=t("./frontend/src/scenes/urls.ts"),k=t("./frontend/src/scenes/session-recordings/settings/SessionRecordingSettings.tsx");function H(){return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h2",{id:"recordings",className:"subtitle",children:"Recordings"}),Object(e.jsxs)("p",{children:["Watch recordings of how users interact with your web app to see what can be improved. Recordings are found in the ",Object(e.jsx)(m.Link,{to:S.a.sessionRecordings(),children:"recordings page"}),"."]}),Object(e.jsx)(k.a,{})]})}var F=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),D=t.n(F),_=t("./node_modules/@babel/runtime/regenerator/index.js"),T=t.n(_),$=t("./node_modules/core-js/modules/es.regexp.exec.js"),U=t("./node_modules/core-js/modules/es.string.replace.js"),Q=t("./frontend/src/lib/api.ts"),M=t("./frontend/src/lib/components/lemonToast.tsx"),z=t("./frontend/src/lib/utils.tsx");function Pe(n){return n.replace(/\/*(?:posthog|slack)?\/?$/,"/slack")}var ue=Object(j.kea)({path:["scenes","project","Settings","webhookIntegrationLogic"],loaders:function(s){var r=s.actions;return{testedWebhook:[null,{testWebhook:function(){var o=D()(T.a.mark(function u(d){var i,c;return T.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if((i=d)!==null&&i!==void 0&&i.includes("discord.com/")&&(d=Pe(d)),!d){l.next=16;break}return l.prev=2,l.next=5,Q.b.create("api/user/test_slack_webhook",{webhook:d});case 5:if(c=l.sent,!c.success){l.next=10;break}return l.abrupt("return",d);case 10:r.testWebhookFailure(c.error);case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),r.testWebhookFailure(l.t0.message);case 16:return l.abrupt("return",null);case 17:case"end":return l.stop()}},u,null,[[2,13]])}));function a(u){return o.apply(this,arguments)}return a}()}],removedWebhook:[null,{removeWebhook:function(){return p.a.actions.updateCurrentTeam({slack_incoming_webhook:""}),null}}]}},listeners:function(){return{testWebhookSuccess:function(){var s=D()(T.a.mark(function o(a){var u;return T.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:u=a.testedWebhook,u&&p.a.actions.updateCurrentTeam({slack_incoming_webhook:u});case 2:case"end":return i.stop()}},o)}));function r(o){return s.apply(this,arguments)}return r}(),testWebhookFailure:function(r){var o=r.error;M.d.error(Object(z.i)(o))}}},selectors:{loading:[function(n){return[n.testedWebhookLoading,p.a.selectors.currentTeamLoading]},function(n,s){return n||s}]}});function Le(){var n=Object(f.useState)(""),s=C()(n,2),r=s[0],o=s[1],a=Object(j.useActions)(ue),u=a.testWebhook,d=a.removeWebhook,i=Object(j.useValues)(ue),c=i.loading,h=Object(j.useValues)(p.a),l=h.currentTeam;return Object(f.useEffect)(function(){l!=null&&l.slack_incoming_webhook&&o(l==null?void 0:l.slack_incoming_webhook)},[l]),Object(e.jsxs)("div",{children:[Object(e.jsxs)("p",{children:["Send notifications when selected actions are performed by users.",Object(e.jsx)("br",{}),"Guidance on integrating with webhooks available in our docs,"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrate/third-party/slack",children:"for Slack"})," and"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations/microsoft-teams",children:"for Microsoft Teams"}),". Discord is also supported."]}),Object(e.jsxs)("div",{className:"space-y-4",style:{maxWidth:"40rem"},children:[Object(e.jsx)(m.LemonInput,{value:r,onChange:o,type:"url",placeholder:l!=null&&l.slack_incoming_webhook?"":"integration disabled - enter URL, then Test & Save",disabled:c,onPressEnter:function(){return u(r)}}),Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)(m.LemonButton,{type:"primary",disabled:!r,onClick:function(b){b.preventDefault(),u(r)},loading:c,children:"Test & Save"}),Object(e.jsx)(m.LemonButton,{status:"danger",type:"secondary",onClick:function(b){b.preventDefault(),d(),o("")},disabled:!(l!=null&&l.slack_incoming_webhook),children:"Clear & Disable"})]})]})]})}var Ee=t("./frontend/src/lib/hooks/useAnchor.ts"),Re=t("./node_modules/kea-router/lib/index.js"),K=t("./frontend/src/scenes/userLogic.ts");function De(){var n=Object(j.useValues)(K.a),s=n.user,r=n.userLoading,o=Object(j.useActions)(K.a),a=o.updateUser;return Object(e.jsx)(m.LemonSwitch,{id:"posthog-toolbar-switch",onChange:function(){a({toolbar_mode:(s==null?void 0:s.toolbar_mode)==="disabled"?"toolbar":"disabled"})},checked:(s==null?void 0:s.toolbar_mode)!=="disabled",disabled:r,label:"Enable PostHog Toolbar",bordered:!0})}var me=t("./frontend/src/lib/components/CodeSnippet/index.tsx"),N=t("./frontend/src/lib/components/icons.tsx");function X(n){var s=n.isOpen,r=n.setIsOpen,o=Object(j.useValues)(p.a),a=o.currentTeam,u=o.teamBeingDeleted,d=Object(j.useActions)(p.a),i=d.deleteTeam,c=Object(f.useState)(!1),h=C()(c,2),l=h[0],g=h[1],b=!!a&&(u==null?void 0:u.id)===a.id;return Object(e.jsxs)(m.LemonModal,{title:"Delete the project and its data?",onClose:b?void 0:function(){return r(!1)},footer:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.LemonButton,{disabled:b,type:"secondary",onClick:function(){return r(!1)},children:"Cancel"}),Object(e.jsx)(m.LemonButton,{type:"primary",disabled:!l,loading:b,"data-attr":"delete-project-ok",status:"danger",onClick:a?function(){return i(a)}:void 0,children:"Delete ".concat(a?a.name:"the current project")})]}),isOpen:s,children:[Object(e.jsxs)("p",{children:["Project deletion ",Object(e.jsx)("b",{children:"cannot be undone"}),". You will lose all data, ",Object(e.jsx)("b",{children:"including events"}),", related to the project."]}),Object(e.jsxs)("p",{children:["Please type ",Object(e.jsx)("strong",{children:a?a.name:"this project's name"})," to confirm."]}),Object(e.jsx)(m.LemonInput,{type:"text",onChange:function(O){a&&g(O.toLowerCase()===a.name.toLowerCase())}})]})}function q(n){var s=n.isRestricted,r=Object(j.useValues)(p.a),o=r.currentTeam,a=Object(f.useState)(!1),u=C()(a,2),d=u[0],i=u[1];return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{className:"text-danger",children:[Object(e.jsx)("h2",{className:"text-danger subtitle",children:"Danger Zone"}),Object(e.jsxs)("div",{className:"mt-4",children:[!s&&Object(e.jsxs)("p",{className:"text-danger",children:["This is ",Object(e.jsx)("b",{children:"irreversible"}),". Please be certain."]}),Object(e.jsxs)(m.LemonButton,{status:"danger",type:"secondary",onClick:function(){return i(!0)},"data-attr":"delete-project-button",icon:Object(e.jsx)(N.IconDelete,{}),disabled:s,children:["Delete ",(o==null?void 0:o.name)||"the current project"]})]})]}),Object(e.jsx)(X,{isOpen:d,setIsOpen:i})]})}try{X.displayName="DeleteProjectModal",X.__docgenInfo={description:"",displayName:"DeleteProjectModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/DangerZone.tsx#DeleteProjectModal"]={docgenInfo:X.__docgenInfo,name:"DeleteProjectModal",path:"frontend/src/scenes/project/Settings/DangerZone.tsx#DeleteProjectModal"})}catch(n){}try{q.displayName="DangerZone",q.__docgenInfo={description:"",displayName:"DangerZone",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/DangerZone.tsx#DangerZone"]={docgenInfo:q.__docgenInfo,name:"DangerZone",path:"frontend/src/scenes/project/Settings/DangerZone.tsx#DangerZone"})}catch(n){}var Me=t("./frontend/src/lib/components/PageHeader.tsx"),je=t("./frontend/src/lib/components/Link.tsx"),Ne=t("./frontend/src/lib/components/JSBookmarklet.tsx"),G=t("./frontend/src/lib/components/RestrictedArea.tsx"),B=t("./frontend/src/lib/constants.tsx"),Ie=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),pe=t.n(Ie),xt=t("./node_modules/core-js/modules/es.array.concat.js"),yt=t("./node_modules/core-js/modules/es.object.to-string.js"),Ct=t("./node_modules/core-js/modules/es.regexp.to-string.js"),Ve=t("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Fe=t("./frontend/src/lib/utils/eventUsageLogic.ts"),Y=t("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ce=t("./frontend/src/models/groupsModel.ts");function Be(){var n=Object(j.useActions)(p.a),s=n.updateCurrentTeam,r=Object(j.useActions)(Fe.e),o=r.reportTestAccountFiltersUpdated,a=Object(j.useValues)(p.a),u=a.currentTeam,d=a.currentTeamLoading,i=Object(j.useValues)(ce.a),c=i.groupsTaxonomicTypes,h=function(g){s({test_account_filters:g}),o(g)};return Object(e.jsxs)("div",{className:"mb-4 flex flex-col gap-2",children:[Object(e.jsx)("div",{className:"mb-4",children:u&&Object(e.jsx)(Ve.a,{pageKey:"testaccountfilters",propertyFilters:u==null?void 0:u.test_account_filters,onChange:h,taxonomicGroupTypes:[Y.a.EventProperties,Y.a.PersonProperties,Y.a.EventFeatureFlags].concat(pe()(c),[Y.a.Cohorts,Y.a.Elements])})}),Object(e.jsx)(m.LemonSwitch,{onChange:function(g){localStorage.setItem("default_filter_test_accounts",g.toString()),s({test_account_filters_default_checked:g})},checked:!!(u!=null&&u.test_account_filters_default_checked),disabled:d,label:"Enable this filter on all new insights",bordered:!0})]})}var Tt=t("./node_modules/core-js/modules/es.array.map.js"),St=t("./node_modules/core-js/modules/es.object.entries.js"),we=t("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),ee=t("./frontend/src/lib/components/LemonSelectMultiple/LemonSelectMultiple.tsx"),he=t("./frontend/src/lib/components/LemonDialog/index.ts"),te=t("./frontend/src/lib/components/LemonSkeleton/index.tsx");function We(){var n=Object(j.useValues)(we.a),s=n.preflight,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.currentTeamLoading,u=Object(j.useActions)(p.a),d=u.updateCurrentTeam;if(!(s!=null&&s.available_timezones)||!o)return Object(e.jsx)(te.a,{className:"w-1/2"});function i(h){he.a.open({title:"Do you want to change the timezone of this project?",description:"This will change how every graph in this project is calculated, which means your data will look different than it did before.",primaryButton:{children:"Change timezone",status:"danger",onClick:function(){return d({timezone:h})}},secondaryButton:{children:"Cancel"}})}var c=Object.entries(s.available_timezones).map(function(h){var l=C()(h,2),g=l[0],b=l[1],v="".concat(g.replace(/\//g," / ").replace(/_/g," ")," (UTC").concat(b===0?"\xB1":b>0?"+":"-").concat(Math.abs(b),")");return{key:g,label:v}});return Object(e.jsx)(ee.a,{mode:"single",placeholder:"Select a timezone",loading:a,disabled:a,value:[o.timezone],onChange:function(l){return i(l)},options:c,"data-attr":"timezone-select"})}var At=t("./node_modules/core-js/modules/es.array.filter.js"),Pt=t("./node_modules/core-js/modules/es.string.trim.js"),ke=t("./node_modules/antd/es/skeleton/index.js");function _e(){var n=Object(j.useValues)(p.a),s=n.currentTeam,r=n.currentTeamLoading,o=Object(j.useActions)(p.a),a=o.updateCurrentTeam,u=Object(f.useState)([]),d=C()(u,2),i=d[0],c=d[1];return Object(f.useEffect)(function(){return c((s==null?void 0:s.data_attributes)||[])},[s]),s?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("p",{children:["Specify a comma-separated list of"," ",Object(e.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes",rel:"noreferrer noopener",children:"data attributes"})," ","used in your app. For example: ",Object(e.jsx)("code",{children:"data-attr, data-custom-id, data-myref-*"}),". These attributes will be used when using the toolbar and defining actions to match unique elements on your pages. You can use ",Object(e.jsx)("code",{children:"*"})," as a wildcard."]}),Object(e.jsxs)("p",{children:["For example, when creating an action on your CTA button, the best selector could be something like:"," ",Object(e.jsx)("code",{children:"div > form > button:nth-child(2)"}),". However all buttons in your app have a"," ",Object(e.jsx)("code",{children:"data-custom-id"})," attribute. If you whitelist it here, the selector for your button will instead be ",Object(e.jsx)("code",{children:"button[data-custom-id='cta-button']"}),"."]}),Object(e.jsxs)("div",{className:"space-y-4",style:{maxWidth:"40rem"},children:[Object(e.jsx)(ee.a,{mode:"multiple-custom",onChange:function(l){return c(l||[])},value:i,"data-attr":"data-attribute-select",placeholder:"data-attr, ...",loading:r,disabled:r}),Object(e.jsx)(m.LemonButton,{type:"primary",onClick:function(){return a({data_attributes:i.map(function(l){return l.trim()}).filter(function(l){return l})||[]})},children:"Save"})]})]}):Object(e.jsx)(ke.a,{paragraph:{rows:0},active:!0})}var J=t("./frontend/src/types.ts"),w=t("./frontend/src/scenes/project/Settings/teamMembersLogic.tsx"),ne=t("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"}}]},name:"crown",theme:"filled"},ze=Ue,be=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),ge=function(s,r){return f.createElement(be.a,Object(ne.a)(Object(ne.a)({},s),{},{ref:r,icon:ze}))};ge.displayName="CrownFilled";var Ke=f.forwardRef(ge),He=t("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),Ge=t("./node_modules/@ant-design/icons/es/icons/LogoutOutlined.js"),Ye=t("./frontend/src/lib/components/ProfilePicture/index.ts"),I=t("./frontend/src/lib/utils/permissioning.ts"),Je=t("./frontend/src/lib/components/UserSelectItem.tsx"),Ze=t("./node_modules/kea-forms/lib/index.js"),fe=t("./frontend/src/lib/forms/Field.tsx");function se(n){var s=n.isRestricted,r=Object(j.useValues)(w.b),o=r.addableMembers,a=r.allMembersLoading,u=Object(j.useValues)(p.a),d=u.currentTeam,i=Object(f.useState)(!1),c=C()(i,2),h=c[0],l=c[1];function g(){l(!1)}return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.LemonButton,{type:"primary","data-attr":"add-project-members-button",onClick:function(){l(!0)},icon:Object(e.jsx)(N.IconPlus,{}),disabled:s,children:"Add members to project"}),Object(e.jsx)(m.LemonModal,{title:"",onClose:g,isOpen:h,simple:!0,children:Object(e.jsxs)(Ze.Form,{logic:w.b,formKey:"addMembers",enableFormOnSubmit:!0,children:[Object(e.jsx)(m.LemonModal.Header,{children:Object(e.jsx)("h3",{children:"Adding members".concat(d!=null&&d.name?" to project ".concat(d.name):"")})}),Object(e.jsxs)(m.LemonModal.Content,{className:"space-y-2",children:[Object(e.jsx)(fe.a,{name:"userUuids",children:Object(e.jsx)(ee.a,{mode:"multiple",placeholder:"Organization members",loading:a,options:Object(Je.a)(o.map(function(b){return b.user}),"uuid")})}),Object(e.jsx)(fe.a,{name:"level",label:"With project-specific access level",children:Object(e.jsx)(m.LemonSelect,{fullWidth:!0,options:I.d.map(function(b){return{value:b,label:I.b.get(b)}})})})]}),Object(e.jsxs)(m.LemonModal.Footer,{children:[Object(e.jsx)(m.LemonButton,{type:"secondary",onClick:g,children:"Cancel"}),Object(e.jsx)(m.LemonButton,{type:"primary","data-attr":"add-project-members-submit",htmlType:"submit",children:"Add members to project"})]})]})})]})}try{se.displayName="AddMembersModalWithButton",se.__docgenInfo={description:"",displayName:"AddMembersModalWithButton",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/AddMembersModal.tsx#AddMembersModalWithButton"]={docgenInfo:se.__docgenInfo,name:"AddMembersModalWithButton",path:"frontend/src/scenes/project/Settings/AddMembersModal.tsx#AddMembersModalWithButton"})}catch(n){}var le=t("./frontend/src/lib/components/Tooltip.tsx");function $e(n){var s,r=Object(j.useValues)(K.a),o=r.user,a=Object(j.useValues)(p.a),u=a.currentTeam,d=Object(j.useActions)(w.b),i=d.changeUserAccessLevel,c=u?u.effective_membership_level:null;if(!o)return null;var h=n.organization_level>=B.o.Admin,l=(s=I.b.get(n.level))!==null&&s!==void 0?s:"unknown (".concat(n.level,")"),g=I.d.filter(function(x){return!Object(I.a)(c,o,n,x)}),b=n.explicit_team_level?g.concat([n.explicit_team_level]):g,v=h?"This user is a member of the project implicitly due to being an organization ".concat(l,"."):Object(I.a)(c,o,n,g),O=v?Object(e.jsxs)("div",{className:"border rounded px-3 py-2 flex inline-flex items-center",children:[n.level===B.o.Owner&&Object(e.jsx)(Ke,{className:"mr-2"}),l]}):Object(e.jsx)(m.LemonSelect,{dropdownMatchSelectWidth:!1,onChange:function(y){y!==null&&i(n.user,y)},options:b.map(function(x){return{value:x,disabled:x===n.explicit_team_level,label:(x>n.level,I.b.get(x))}}),value:n.explicit_team_level});return v?Object(e.jsx)(le.a,{title:v,children:O}):O}function Qe(n){var s=Object(j.useValues)(K.a),r=s.user,o=Object(j.useValues)(p.a),a=o.currentTeam,u=Object(j.useActions)(w.b),d=u.removeMember;if(!r)return null;function i(){he.a.open({title:"".concat(n.user.uuid==(r==null?void 0:r.uuid)?"Leave":"Remove ".concat(n.user.first_name," (").concat(n.user.email,") from")," project ").concat(a==null?void 0:a.name,"?"),secondaryButton:{children:"Cancel"},primaryButton:{status:"danger",children:n.user.uuid==(r==null?void 0:r.uuid)?"Leave":"Remove",onClick:function(){return d({member:n})}}})}var c=((a==null?void 0:a.effective_membership_level)&&a.effective_membership_level>=B.o.Admin||n.user.uuid===r.uuid)&&n.organization_level<w.a;return c?Object(e.jsx)(m.LemonButton,{status:"danger",onClick:i,"data-attr":"delete-team-membership",children:n.user.uuid!==r.uuid?Object(e.jsx)(He.a,{title:"Remove from project"}):Object(e.jsx)(Ge.a,{title:"Leave project"})}):null}function re(n){var s=n.user,r=Object(j.useValues)(w.b),o=r.allMembers,a=r.allMembersLoading,u=[{key:"user_profile_picture",render:function(i,c){return Object(e.jsx)(Ye.b,{name:c.user.first_name,email:c.user.email})},width:32},{title:"Name",key:"user_first_name",render:function(i,c){return c.user.uuid==s.uuid?"".concat(c.user.first_name," (me)"):c.user.first_name},sorter:function(i,c){return i.user.first_name.localeCompare(c.user.first_name)}},{title:"Email",key:"user_email",render:function(i,c){return c.user.email},sorter:function(i,c){return i.user.email.localeCompare(c.user.email)}},{title:"Level",key:"level",render:function(i,c){return $e(c)},sorter:function(i,c){return i.level-c.level}},{title:"Joined\xA0At",dataIndex:"joined_at",key:"joined_at",render:function(i,c){return Object(z.N)(c.joined_at)},sorter:function(i,c){return i.joined_at.localeCompare(c.joined_at)}},{key:"actions",align:"center",render:function(i,c){return Qe(c)}}];return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("h2",{className:"subtitle flex justify-between items-center",id:"members-with-project-access",children:["Members with Project Access",Object(e.jsx)(G.a,{Component:se,minimumAccessLevel:B.o.Admin,scope:G.b.Project})]}),Object(e.jsx)(m.LemonTable,{columns:u,dataSource:o,loading:a,"data-attr":"team-members-table"})]})}try{re.displayName="TeamMembers",re.__docgenInfo={description:"",displayName:"TeamMembers",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserType"}},team:{defaultValue:null,description:"",name:"team",required:!0,type:{name:"TeamType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/TeamMembers.tsx#TeamMembers"]={docgenInfo:re.__docgenInfo,name:"TeamMembers",path:"frontend/src/scenes/project/Settings/TeamMembers.tsx#TeamMembers"})}catch(n){}var Xe=t("./frontend/src/scenes/organizationLogic.tsx"),qe=t("./frontend/src/scenes/sceneLogic.ts"),et=t("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},nt=tt,ve=function(s,r){return f.createElement(be.a,Object(ne.a)(Object(ne.a)({},s),{},{ref:r,icon:nt}))};ve.displayName="UnlockOutlined";var st=f.forwardRef(ve);function oe(n){var s=n.isRestricted,r=Object(j.useValues)(Xe.a),o=r.currentOrganization,a=r.currentOrganizationLoading,u=Object(j.useValues)(p.a),d=u.currentTeam,i=u.currentTeamLoading,c=Object(j.useActions)(p.a),h=c.updateCurrentTeam,l=Object(j.useActions)(qe.a),g=l.guardAvailableFeature,b=Object(j.useValues)(K.a),v=b.hasAvailableFeature,O=v(J.d.PROJECT_BASED_PERMISSIONING)&&(d==null?void 0:d.access_control);return Object(e.jsxs)("div",{children:[Object(e.jsx)("h2",{className:"subtitle",id:"access-control",children:"Access Control"}),Object(e.jsx)("p",{children:O?Object(e.jsxs)(e.Fragment,{children:["This project is"," ",Object(e.jsxs)("b",{children:[Object(e.jsx)(et.a,{style:{color:"var(--warning)",marginRight:5}}),"private"]}),". Only members listed below are allowed to access it."]}):Object(e.jsxs)(e.Fragment,{children:["This project is"," ",Object(e.jsxs)("b",{children:[Object(e.jsx)(st,{style:{marginRight:5}}),"open"]}),". Any member of the organization can access it. To enable granular access control, make it private."]})}),Object(e.jsx)(m.LemonSwitch,{onChange:function(y){g(J.d.PROJECT_BASED_PERMISSIONING,"project-based permissioning","Set permissions granularly for each project. Make sure only the right people have access to protected data.",function(){return h({access_control:y})})},checked:!!O,disabled:s||!o||!d||a||i,bordered:!0,label:"Make project private"})]})}try{oe.displayName="AccessControl",oe.__docgenInfo={description:"",displayName:"AccessControl",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/AccessControl.tsx#AccessControl"]={docgenInfo:oe.__docgenInfo,name:"AccessControl",path:"frontend/src/scenes/project/Settings/AccessControl.tsx#AccessControl"})}catch(n){}var rt=t("./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx");function ot(){var n=Object(j.useActions)(p.a),s=n.updateCurrentTeam,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.pathCleaningFiltersWithNew,u=function(c){s({path_cleaning_filters:c})},d=function(c){var h=((o==null?void 0:o.path_cleaning_filters)||[]).filter(function(l,g){return g!==c});u(h)};return Object(e.jsx)("div",{children:o&&Object(e.jsx)(rt.a,{pageKey:"pathcleanfilters",pathCleaningFilters:a,onChange:function(c){u([].concat(pe()((o==null?void 0:o.path_cleaning_filters)||[]),[c]))},onRemove:d})})}var Lt=t("./node_modules/core-js/modules/es.object.keys.js"),Et=t("./node_modules/core-js/modules/es.symbol.js"),Rt=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),Dt=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Mt=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),at=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),ae=t.n(at),Oe=t("./frontend/src/lib/components/PersonPropertySelect/PersonPropertySelect.tsx"),it=t("./frontend/src/lib/components/EventSelect/EventSelect.tsx"),xe=t("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),ct=t("./frontend/src/lib/components/AlertMessage/index.ts");function ye(n,s){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,o)}return r}function lt(n){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?ye(Object(r),!0).forEach(function(o){ae()(n,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o))})}return n}function dt(){var n=Object(j.useActions)(p.a),s=n.updateCurrentTeam,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.funnelCorrelationConfig,u=function(i,c,h){if(o){var l=lt({},a);i!==void 0&&(l.excluded_person_property_names=i),h!==void 0&&(l.excluded_event_property_names=h),c!==void 0&&(l.excluded_event_names=c),l&&JSON.stringify(l)!==JSON.stringify(a)&&s({correlation_config:l})}};return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("h2",{className:"subtitle",id:"internal-users-filtering",children:["Correlation analysis exclusions"," ",Object(e.jsx)(xe.a,{type:"warning",className:"uppercase ml-2",children:"Beta"})]}),Object(e.jsx)("p",{children:"Globally exclude events or properties that do not provide relevant signals for your conversions."}),Object(e.jsx)(ct.a,{type:"info",children:"Correlation analysis can automatically surface relevant signals for conversion, and help you understand why your users dropped off and what makes them convert."}),o&&Object(e.jsxs)("div",{className:"mt-4 space-y-2",children:[Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{className:"flex items-center gap-2",children:[Object(e.jsx)(N.IconSelectProperties,{className:"text-lg"}),"Excluded person properties"]}),Object(e.jsx)(Oe.a,{onChange:function(i){return u(i)},selectedProperties:a.excluded_person_property_names||[],addText:"Add exclusion"})]}),Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{className:"flex items-center gap-2",children:[Object(e.jsx)(N.IconSelectEvents,{className:"text-lg"}),"Excluded events"]}),Object(e.jsx)(it.a,{onChange:function(i){return u(void 0,i)},selectedEvents:a.excluded_event_names||[],addElement:Object(e.jsx)(m.LemonButton,{size:"small",type:"secondary",icon:Object(e.jsx)(N.IconPlus,{}),children:"Add exclusion"})})]}),Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{className:"flex items-center gap-2",children:[Object(e.jsx)(N.IconSelectEvents,{className:"text-lg"}),"Excluded event properties"]}),Object(e.jsx)("div",{style:{maxWidth:"40rem"},children:Object(e.jsx)(ee.a,{mode:"multiple-custom",onChange:function(i){return u(void 0,void 0,i)},value:a.excluded_event_property_names||[]})})]})]})]})}var ut=t("./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"),mt=t("./frontend/src/lib/components/LemonTable/index.ts"),Ce=t("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Nt=t("./node_modules/core-js/modules/es.array.iterator.js"),It=t("./node_modules/core-js/modules/web.dom-collections.iterator.js");function Te(n,s){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,o)}return r}function Z(n){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Te(Object(r),!0).forEach(function(o){ae()(n,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o))})}return n}var Se=Object(j.kea)({path:["scenes","project","Settings","groupAnalyticsConfigLogic"],connect:{values:[ce.a,["groupTypes","groupTypesLoading"]],actions:[ce.a,["updateGroupTypesMetadata"]]},actions:{setSingular:function(s,r){return{groupTypeIndex:s,value:r}},setPlural:function(s,r){return{groupTypeIndex:s,value:r}},reset:!0,save:!0},reducers:{singularChanges:[{},{setSingular:function(s,r){var o=r.groupTypeIndex,a=r.value;return Z(Z({},s),{},ae()({},o,a))},reset:function(){return{}},updateGroupTypesMetadataSuccess:function(){return{}}}],pluralChanges:[{},{setPlural:function(s,r){var o=r.groupTypeIndex,a=r.value;return Z(Z({},s),{},ae()({},o,a))},reset:function(){return{}},updateGroupTypesMetadataSuccess:function(){return{}}}]},selectors:{hasChanges:[function(n){return[n.singularChanges,n.pluralChanges]},function(n,s){return Object.keys(n).length>0||Object.keys(s).length>0}]},listeners:function(s){var r=s.values,o=s.actions;return{save:function(){var a=D()(T.a.mark(function d(){var i,c,h,l;return T.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:i=r.groupTypes,c=r.singularChanges,h=r.pluralChanges,l=i.map(function(v){var O=Z({},v);return c[v.group_type_index]&&(O.name_singular=c[v.group_type_index]),h[v.group_type_index]&&(O.name_plural=h[v.group_type_index]),O}),o.updateGroupTypesMetadata(l);case 3:case"end":return b.stop()}},d)}));function u(){return a.apply(this,arguments)}return u}()}}}),jt=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js");function pt(){var n=Object(j.useValues)(Se),s=n.groupTypes,r=n.groupTypesLoading,o=n.singularChanges,a=n.pluralChanges,u=n.hasChanges,d=Object(j.useActions)(Se),i=d.setSingular,c=d.setPlural,h=d.reset,l=d.save,g=Object(j.useValues)(Ce.b),b=g.groupsAccessStatus;if(b!==Ce.a.AlreadyUsing)return null;var v=[{title:Object(e.jsxs)(le.a,{title:"As used in code",children:["Group type",Object(e.jsx)(jt.a,{className:"ml-2"})]}),dataIndex:"group_type",key:"name",render:function(x){return x}},{title:"Singular name",key:"singular",render:function(x,y){return Object(e.jsx)(m.LemonInput,{value:o[y.group_type_index]||y.name_singular||y.group_type,onChange:function(de){return i(y.group_type_index,de)}})}},{title:"Plural name",key:"plural",render:function(x,y){return Object(e.jsx)(m.LemonInput,{value:a[y.group_type_index]||y.name_plural||"".concat(y.group_type,"(s)"),onChange:function(de){return c(y.group_type_index,de)}})}}];return Object(e.jsxs)("div",{id:"group-analytics",children:[Object(e.jsx)("h2",{className:"subtitle",children:"Group Analytics"}),Object(e.jsx)("p",{children:"This project has access to group analytics. Below you can configure how various group types are displayed throughout the app."}),Object(e.jsx)(mt.a,{columns:v,dataSource:s,loading:r}),Object(e.jsxs)("div",{className:"flex gap-2 mt-4",children:[Object(e.jsx)(m.LemonButton,{type:"primary",disabled:!u,onClick:l,children:"Save"}),Object(e.jsx)(m.LemonButton,{disabled:!u,onClick:h,children:"Cancel"})]}),Object(e.jsx)(m.LemonDivider,{className:"my-6"})]})}function ht(){var n=Object(j.useValues)(p.a),s=n.currentTeam,r=Object(j.useActions)(p.a),o=r.updateCurrentTeam,a=Object(f.useState)([]),u=C()(a,2),d=u[0],i=u[1];return Object(f.useEffect)(function(){return i((s==null?void 0:s.person_display_name_properties)||B.p)},[s]),s?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("p",{children:["Choose which properties of an identified Person will be used for their ",Object(e.jsx)("b",{children:"Display Name"}),". The first property to be found on the Person will be used. Drag the items to re-order the priority."]}),Object(e.jsxs)("div",{className:"space-y-4",children:[Object(e.jsx)(Oe.a,{onChange:function(h){return i(h)},selectedProperties:d||[],addText:"Add",sortable:!0}),Object(e.jsx)(m.LemonButton,{type:"primary",onClick:function(){return o({person_display_name_properties:d.map(function(h){return h.trim()}).filter(function(h){return h})||[]})},children:"Save"})]})]}):Object(e.jsx)(te.a,{className:"w-1/2"})}var bt=t("./frontend/src/scenes/project/Settings/SlackIntegration.tsx"),gt=t("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),ft={component:Ae};function vt(){var n=Object(j.useValues)(p.a),s=n.currentTeam,r=n.currentTeamLoading,o=Object(j.useActions)(p.a),a=o.updateCurrentTeam,u=Object(f.useState)((s==null?void 0:s.name)||""),d=C()(u,2),i=d[0],c=d[1];return s!=null&&s.is_demo?Object(e.jsx)("p",{children:Object(e.jsx)("i",{children:"The demo project cannot be renamed."})}):Object(e.jsxs)("div",{className:"space-y-4",style:{maxWidth:"40rem"},children:[Object(e.jsx)(m.LemonInput,{value:i,onChange:c,disabled:r}),Object(e.jsx)(m.LemonButton,{type:"primary",onClick:function(){return a({name:i})},disabled:!i||!s||i===s.name,loading:r,children:"Rename Project"})]})}function Ae(){var n,s,r,o=Object(j.useValues)(p.a),a=o.currentTeam,u=o.currentTeamLoading,d=o.isTeamTokenResetAvailable,i=Object(j.useActions)(p.a),c=i.resetToken,h=Object(j.useValues)(Re.router),l=h.location,g=Object(j.useValues)(K.a),b=g.user,v=g.hasAvailableFeature,O=b==null||(n=b.organization)===null||n===void 0||(s=n.available_features)===null||s===void 0?void 0:s.includes(J.d.PATHS_ADVANCED);Object(Ee.a)(l.hash);var x=Object(e.jsxs)("div",{className:"space-y-4",children:[Object(e.jsx)(te.a,{className:"w-1/2"}),Object(e.jsx)(te.a,{repeat:3})]});return Object(e.jsxs)("div",{children:[Object(e.jsx)(Me.a,{title:"Project settings",caption:"Organize your analytics within the project. These settings only apply to ".concat((r=a==null?void 0:a.name)!==null&&r!==void 0?r:"the current project",".")}),Object(e.jsxs)("div",{className:"border rounded p-6",children:[Object(e.jsx)("h2",{id:"name",className:"subtitle mt-0",children:"Display name"}),u&&!a?x:Object(e.jsx)(vt,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{id:"snippet",className:"subtitle",children:"Website event autocapture"}),"To integrate PostHog into your website and get event autocapture with no additional work, include the following snippet in your\xA0website's\xA0HTML. Ideally, put it just above the\xA0",Object(e.jsx)("code",{children:"</head>"}),"\xA0tag.",Object(e.jsx)("br",{}),"For more guidance, including on identifying users,"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations/js-integration",children:"see PostHog Docs"}),".",u&&!a?x:Object(e.jsx)(W.a,{}),Object(e.jsxs)("p",{children:["You can even test PostHog out on a live site without changing any code.",Object(e.jsx)("br",{}),"Just drag the bookmarklet below to your bookmarks bar, open the website you want to test PostHog on and click it.",Object(e.jsx)("br",{}),"This will enable our tracking, on the currently loaded page only. The data will show up in this project.",Object(e.jsx)("br",{})]}),Object(e.jsx)("div",{children:a&&Object(e.jsx)(Ne.a,{team:a})}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{id:"custom-events",className:"subtitle",children:"Send custom events"}),"To send custom events ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations",children:"visit PostHog Docs"})," and integrate the library for the specific language or platform you're using. We support Python, Ruby, Node, Go, PHP, iOS, Android, and more.",Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{id:"project-variables",className:"subtitle mb-4",children:"Project Variables"}),Object(e.jsx)("h3",{id:"project-api-key",className:"l3",children:"Project API Key"}),Object(e.jsxs)("p",{children:["You can use this write-only key in any one of"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations",children:"our libraries"}),"."]}),Object(e.jsx)(me.a,{actions:d?[{icon:Object(e.jsx)(N.IconRefresh,{}),title:"Reset project API key",popconfirmProps:{title:Object(e.jsxs)(e.Fragment,{children:["Reset the project's API key?"," ",Object(e.jsx)("b",{children:"This will invalidate the current API key and cannot be undone."})]}),okText:"Reset key",okType:"danger",placement:"left"},callback:c}]:[],copyDescription:"project API key",children:(a==null?void 0:a.api_token)||""}),Object(e.jsx)("p",{children:"Write-only means it can only create new events. It can't read events or any of your other data stored with PostHog, so it's safe to use in public apps."}),Object(e.jsx)("h3",{id:"project-id",className:"l3 mt-4",children:"Project ID"}),Object(e.jsxs)("p",{children:["You can use this ID to reference your project in our ",Object(e.jsx)("a",{href:"https://posthog.com/docs/api",children:"API"}),"."]}),Object(e.jsx)(me.a,{copyDescription:"project ID",children:String((a==null?void 0:a.id)||"")}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"timezone",children:"Timezone"}),Object(e.jsx)("p",{children:"Set the timezone for your project. All charts will be based on this timezone, including how PostHog buckets data in day/week/month intervals."}),Object(e.jsx)("div",{style:{maxWidth:"40rem"},children:Object(e.jsx)(We,{})}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsxs)("h2",{className:"subtitle",id:"internal-users-filtering",children:["Filter out internal and test users"," ",Object(e.jsx)(le.a,{title:'Events will still be ingested and saved, but they will be excluded from any queries where the "Filter out internal and test users" toggle is set.',children:Object(e.jsx)(N.IconInfo,{style:{fontSize:"1em",color:"var(--muted-alt)",marginTop:4,marginLeft:5}})})]}),Object(e.jsxs)("p",{children:["Increase the quality of your analytics results by filtering out events from internal sources, such as team members, test accounts, or development environments."," ",Object(e.jsx)("strong",{children:"The filters you apply here are added as extra filters when the toggle is switched on."})," ","So, if you apply a cohort, it means you will only match users in that cohort."]}),Object(e.jsx)("strong",{children:"Example filters"}),Object(e.jsxs)("ul",{className:"list-disc pl-4 mb-2",children:[Object(e.jsxs)("li",{children:['"',Object(e.jsx)("strong",{children:"Email"})," does not contain ",Object(e.jsx)("strong",{children:"yourcompany.com"}),`" to exclude all events from your company's team members.`]}),Object(e.jsxs)("li",{children:['"',Object(e.jsx)("strong",{children:"Host"})," does not contain ",Object(e.jsx)("strong",{children:"localhost"}),'" to exclude all events from local development environments.']})]}),Object(e.jsx)(Be,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)(dt,{}),O&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsxs)("h2",{className:"subtitle",id:"path_cleaning_filtering",children:["Path cleaning rules",Object(e.jsx)(xe.a,{type:"warning",className:"uppercase",style:{marginLeft:8},children:"Beta"})]}),Object(e.jsxs)("p",{children:["Make your ",Object(e.jsx)(je.a,{to:S.a.insightNew({insight:J.E.PATHS}),children:"Paths"})," clearer by aliasing one or multiple URLs."," ",Object(e.jsxs)("i",{children:["Example: ",Object(e.jsx)("code",{children:"http://tenant-one.mydomain.com/accounts"})," and"," ",Object(e.jsx)("code",{children:"http://tenant-two.mydomain.com/accounts"})," can become a single"," ",Object(e.jsx)("code",{children:"/accounts"})," path."]})]}),Object(e.jsx)("p",{children:"Each rule is composed of an alias and a regex pattern. Any pattern in a URL or event name that matches the regex will be replaced with the alias. Rules are applied in the order that they're listed."}),Object(e.jsx)("p",{children:Object(e.jsx)("b",{children:"Rules that you set here will be applied before wildcarding and other regex replacement if the toggle is switched on."})}),Object(e.jsx)(ot,{})]}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("div",{id:"authorized-urls"}),Object(e.jsx)("h2",{className:"subtitle",id:"urls",children:"Authorized URLs"}),Object(e.jsxs)("p",{children:["These are the URLs where the"," ",Object(e.jsxs)("b",{children:[Object(e.jsx)(je.a,{to:S.a.toolbarLaunch(),children:"Toolbar"})," will automatically launch"]})," ","(if you're logged in)."]}),Object(e.jsxs)("p",{children:[Object(e.jsx)("b",{children:"Domains and wilcard subdomains are allowed"})," (example: ",Object(e.jsx)("code",{children:"https://*.example.com"}),"). However, wildcarded top-level domains cannot be used (for security reasons)."]}),Object(e.jsx)(ut.a,{type:gt.a.TOOLBAR_URLS}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"attributes",children:"Data attributes"}),Object(e.jsx)(_e,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"person-display-name",children:"Person Display Name"}),Object(e.jsx)(ht,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"webhook",children:"Webhook integration"}),Object(e.jsx)(Le,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h2",{className:"subtitle",id:"slack",children:"Slack integration"}),Object(e.jsx)(bt.a,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"})]}),Object(e.jsx)("h2",{className:"subtitle",id:"datacapture",children:"Data capture configuration"}),Object(e.jsx)(R,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",children:"PostHog Toolbar"}),Object(e.jsx)("p",{children:"Enable PostHog Toolbar, which gives access to heatmaps, stats and allows you to create actions, right there on your website!"}),Object(e.jsx)(De,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)(H,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)(pt,{}),Object(e.jsx)(G.a,{Component:oe,minimumAccessLevel:B.o.Admin}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),(a==null?void 0:a.access_control)&&v(J.d.PROJECT_BASED_PERMISSIONING)&&Object(e.jsxs)(j.BindLogic,{logic:w.b,props:{team:a},children:[b&&Object(e.jsx)(re,{user:b,team:a}),Object(e.jsx)(m.LemonDivider,{className:"my-6"})]}),Object(e.jsx)(G.a,{Component:q,minimumAccessLevel:B.o.Admin,scope:G.b.Project})]})]})}}}]);
