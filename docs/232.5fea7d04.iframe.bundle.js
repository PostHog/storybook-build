(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{"./frontend/src/lib/components/Drawer.tsx":function(K,x,r){"use strict";r.d(x,"a",function(){return q});var F=r("./node_modules/@babel/runtime/helpers/extends.js"),o=r.n(F),h=r("./node_modules/react/index.js"),ge=r.n(h),f=r("./node_modules/antd/es/drawer/index.js"),ce=r("./frontend/src/vars.ts");function q(xe){return ge.a.createElement(f.a,o()({},xe,{zIndex:ce.a.zDrawer}))}try{q.displayName="Drawer",q.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:q.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(xe){}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(K,x,r){"use strict";r.d(x,"a",function(){return ze});var F=r("./node_modules/core-js/modules/es.array.includes.js"),o=r.n(F),h=r("./node_modules/core-js/modules/es.string.includes.js"),ge=r.n(h),f=r("./node_modules/react/index.js"),ce=r.n(f),q=r("./node_modules/kea/lib/index.esm.js"),xe=r("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),Ge=r("./node_modules/rc-select/es/index.js"),Je=r("./frontend/src/lib/components/Link.tsx"),Ve=r("./frontend/src/lib/introductions/groupsAccessLogic.ts");function ze(U){var qe=U.value,pe=Object(q.useValues)(Ve.b),Ue=pe.groupsAccessStatus;return[Ve.a.HasAccess,Ve.a.HasGroupTypes,Ve.a.NoAccess].includes(Ue)?ce.a.createElement(Ge.default.Option,{key:"groups",value:qe,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},ce.a.createElement(xe.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",ce.a.createElement(Je.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{ze.displayName="GroupsIntroductionOption",ze.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:ze.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(U){}},"./frontend/src/scenes/events/index.ts":function(K,x,r){"use strict";var F=r("./frontend/src/scenes/events/EventDetails.tsx"),o=r("./frontend/src/scenes/events/EventElements.tsx"),h=r("./frontend/src/scenes/events/EventsTable.tsx");r.d(x,"a",function(){return h.a});var ge=r("./frontend/src/scenes/events/eventsTableLogic.ts")},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(K,x,r){"use strict";r.d(x,"a",function(){return pt});var F=r("./node_modules/react/index.js"),o=r.n(F),h=r("./node_modules/kea/lib/index.esm.js"),ge=r("./frontend/src/lib/components/LemonTable/index.ts"),f=r("./frontend/src/models/groupsModel.ts"),ce=r("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),q=r.n(ce),xe=r("./frontend/src/lib/utils.tsx"),Ge=r("./frontend/src/scenes/persons/PersonHeader.tsx"),Je=r("./node_modules/core-js/modules/es.array.concat.js"),Ve=r("./node_modules/core-js/modules/es.array.iterator.js"),ze=r("./node_modules/core-js/modules/es.object.to-string.js"),U=r("./node_modules/core-js/modules/web.dom-collections.iterator.js"),qe=r("./node_modules/@babel/runtime/regenerator/index.js"),pe=r.n(qe),Ue=r("./node_modules/regenerator-runtime/runtime.js"),it=r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),p=r.n(it),ae=r("./frontend/src/lib/api.ts"),Xe=r("./frontend/src/scenes/teamLogic.ts"),X=Object(h.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[Xe.a,["currentTeamId"]]},props:{},key:function(we){var Q;return"".concat((Q=we.groupTypeIndex)!==null&&Q!==void 0?Q:"person","-").concat(we.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(we){var Q=we.values,_=we.props;return{relatedActors:[[],{loadRelatedActors:function(){var me=p()(pe.a.mark(function fe(){var Te;return pe.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return Te="api/projects/".concat(Q.currentTeamId,"/groups/related?").concat(Object(xe.Ab)({group_type_index:_.groupTypeIndex,id:_.id})),he.next=3,ae.a.get(Te);case 3:return he.abrupt("return",he.sent);case 4:case"end":return he.stop()}},fe)}));function $e(){return me.apply(this,arguments)}return $e}(),setGroup:function(){return[]}}]}},events:function(we){var Q=we.actions;return{afterMount:Q.loadRelatedActors}}}),Wt=r("./frontend/src/scenes/persons/GroupActorHeader.tsx");function pt(ue){var we=ue.groupTypeIndex,Q=ue.id,_=Object(h.useValues)(X({groupTypeIndex:we,id:Q})),me=_.relatedActors,$e=_.relatedActorsLoading,fe=Object(h.useValues)(f.a),Te=fe.aggregationLabel,et=[{title:"Type",key:"type",render:function(At,Oe){return Oe.type==="group"?o.a.createElement(o.a.Fragment,null,Object(xe.j)(Te(Oe.group_type_index).singular)):o.a.createElement(o.a.Fragment,null,o.a.createElement(q.a,null)," Person")}},{title:"id",key:"id",render:function(At,Oe){return Oe.type=="group"?o.a.createElement(Wt.a,{actor:Oe}):o.a.createElement(Ge.a,{person:Oe,withIcon:!1})}}];return o.a.createElement(ge.a,{dataSource:me,columns:et,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:$e,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{pt.displayName="RelatedGroups",pt.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:pt.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(ue){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(K,x,r){"use strict";r.d(x,"a",function(){return I});var F=r("./node_modules/core-js/modules/es.array.concat.js"),o=r("./node_modules/core-js/modules/es.array.map.js"),h=r("./node_modules/core-js/modules/es.array.splice.js"),ge=r("./node_modules/@babel/runtime/helpers/extends.js"),f=r.n(ge),ce=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),q=r.n(ce),xe=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ge=r.n(xe),Je=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ve=r.n(Je),ze=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),U=r.n(ze),qe={};qe.insert="head",qe.singleton=!1;var pe=Ve()(U.a,qe),Ue=U.a.locals||{},it=r("./node_modules/react/index.js"),p=r.n(it),ae=r("./node_modules/kea/lib/index.esm.js"),Xe=r("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),X=r("./node_modules/core-js/modules/es.symbol.js"),Wt=r("./node_modules/core-js/modules/es.symbol.description.js"),pt=r("./node_modules/core-js/modules/es.array.filter.js"),ue=r("./node_modules/core-js/modules/es.function.name.js"),we=r("./node_modules/core-js/modules/es.object.keys.js"),Q=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_=r.n(Q),me=r("./node_modules/antd/es/button/index.js"),$e=r("./node_modules/antd/es/row/index.js"),fe=r("./node_modules/antd/es/col/index.js"),Te=r("./node_modules/antd/es/select/index.js"),et=r("./frontend/src/lib/components/Tooltip.tsx"),he=r("./frontend/src/types.ts"),At=r("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Oe=r("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),lt=r("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),Ft=r("./frontend/src/lib/utils.tsx"),Dt=r("./frontend/src/lib/components/SeriesGlyph.tsx"),Lt=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),Ut=r.n(Lt),S={};S.insert="head",S.singleton=!1;var w=Ve()(Ut.a,S),T=Ut.a.locals||{},b=r("./frontend/src/lib/components/Popup/Popup.tsx"),le=r("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),Ee=r("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ke=r("./frontend/src/lib/components/EntityFilterInfo.tsx"),tt=r("./node_modules/clsx/dist/clsx.m.js"),Ce=r("./frontend/src/scenes/trends/mathsLogic.tsx"),nt=r("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),N=r("./frontend/src/models/actionsModel.ts"),O=r("./frontend/src/lib/components/PropertyKeyInfo.tsx"),ne=r("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),R=r("./frontend/src/lib/components/icons.tsx"),Y;function G(d,P){var E=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);P&&(A=A.filter(function(ie){return Object.getOwnPropertyDescriptor(d,ie).enumerable})),E.push.apply(E,A)}return E}function H(d){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{};P%2?G(Object(E),!0).forEach(function(A){q()(d,A,E[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(E)):G(Object(E)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(E,A))})}return d}var W=function(P,E){if(P)return"Hide filters";if(E.properties&&Object.keys(E.properties).length>0){var A;return Object(Ft.qb)((A=E.properties)===null||A===void 0?void 0:A.length,"filter")}return"Add filters"};function Le(d){var P,E,A,ie=d.logic,L=d.filter,$=d.index,Ie=d.hideMathSelector,ve=d.hidePropertySelector,st=d.singleFilter,Me=d.showOr,He=d.hideFilter,Ae=d.hideRename,se=d.onRenameClick,St=se===void 0?function(){}:se,Qe=d.showSeriesIndicator,Fe=d.seriesIndicatorType,Tt=Fe===void 0?"alpha":Fe,Pt=d.horizontalUI,Pe=Pt===void 0?!1:Pt,Mt=d.fullWidth,ot=Mt===void 0?!1:Mt,Nt=d.filterCount,Bt=d.customRowPrefix,xt=d.customRowSuffix,Gt=d.rowClassName,ln=d.propertyFilterWrapperClassName,dn=d.stripeActionRow,zt=dn===void 0?!0:dn,tn=d.hasBreakdown,Pn=d.showNestedArrow,An=Pn===void 0?!1:Pn,Ot=d.hideDeleteBtn,jt=Ot===void 0?!1:Ot,cn=d.actionsTaxonomicGroupTypes,un=cn===void 0?[Ee.a.Events,Ee.a.Actions]:cn,mn=d.propertiesTaxonomicGroupTypes,nn=d.disabled,pn=nn===void 0?!1:nn,fn=d.readOnly,$t=fn===void 0?!1:fn,vn=d.renderRow,Yt=Object(ae.useValues)(ie),gt=Yt.selectedFilter,xn=Yt.entities,On=Yt.entityFilterVisible,ht=Object(ae.useActions)(ie),De=ht.updateFilter,Ze=ht.selectFilter,Ct=ht.updateFilterMath,rn=ht.removeLocalFilter,jn=ht.updateFilterProperty,yn=ht.setEntityFilterVisibility,wn=ht.duplicateFilter,Rt=Object(ae.useValues)(N.a),sn=Rt.actions,Tn=Object(ae.useValues)(Ce.c),Ht=Tn.mathDefinitions,Zt=typeof L.order=="number"?On[L.order]:!1,Xt,dt,It,Vt=L.math,ct=L.math_property,ut=L.math_group_type_index,Et=function(){rn(H(H({},L),{},{index:$}))},gn=function(at,_t){var Qt;Ct(H(H({},Object(Ce.b)(_t)),{},{math_property:!((Qt=Ht[_t])===null||Qt===void 0)&&Qt.onProperty?ct!=null?ct:"$time":void 0,type:L.type,index:$}))},hn=function(at,_t){Ct(H(H({},L),{},{math_property:_t,index:$}))},En=Boolean(gt&&(gt==null?void 0:gt.type)===L.type&&(gt==null?void 0:gt.index)===$),Cn=function(){Ze(En?null:H(H({},L),{},{index:$}))};if(L.type===he.g.NEW_ENTITY)dt=null,It=null;else{var Kt;Xt=((Kt=xn[L.type])===null||Kt===void 0?void 0:Kt.filter(function(Ne){return Ne.id===L.id})[0])||{},dt=Xt.name||L.name,It=Xt.id||L.id}var on=p.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),an=Tt==="numeric"?p.a.createElement(Dt.a,{style:{borderColor:"var(--border)"}},$+1):p.a.createElement(Dt.b,{seriesIndex:$,hasBreakdown:tn}),Rn=typeof Bt=="function"?Bt({filter:L,index:$,onClose:Et}):Bt,Fn=p.a.createElement(b.a,{overlay:p.a.createElement(le.a,{groupType:L.type,value:L.type==="actions"&&typeof It=="string"?parseInt(It):It||void 0,onChange:function(at,_t,Qt){De({type:Re(at.type)||void 0,id:"".concat(_t),name:Qt==null?void 0:Qt.name,index:$})},onClose:function(){return Ze(null)},taxonomicGroupTypes:un}),visible:En,onClickOutside:function(){return Ze(null)}},function(Ne){var at=Ne.setRef;return p.a.createElement(me.a,{"data-attr":"trend-element-subject-"+$,onClick:Cn,block:ot,ref:at,disabled:pn||$t,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},p.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},p.a.createElement(ke.a,{filter:L})),p.a.createElement(Oe.a,{style:{fontSize:10}}))}),Dn=typeof xt=="function"?xt({filter:L,index:$,onClose:Et}):xt,In=p.a.createElement(me.a,{type:"link",onClick:function(){typeof L.order=="number"&&yn(L.order,!Zt)},className:"row-action-btn show-filters".concat(Zt?" visible":""),"data-attr":"show-prop-filter-".concat($),title:"Show filters",style:{display:"flex",alignItems:"center"}},p.a.createElement(R.IconFilter,{fontSize:"1.25em"}),!((P=L.properties)===null||P===void 0)&&P.length?Object(Ft.qb)((E=L.properties)===null||E===void 0?void 0:E.length,"filter"):null),bn=p.a.createElement(me.a,{type:"link",onClick:function(){Ze(L),St()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat($),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},p.a.createElement(R.IconEdit,{fontSize:"1.25em"})),Bn=p.a.createElement(me.a,{type:"link",onClick:function(){wn(L)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat($),title:"Duplicate graph series"},p.a.createElement(R.IconCopy,{fontSize:"1.25em"})),Mn=p.a.createElement(me.a,{type:"link",onClick:Et,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat($),title:"Delete graph series"},p.a.createElement(R.IconDelete,{fontSize:"1.25em"}));return p.a.createElement("div",{className:Object(tt.a)({"action-row-striped":Pe&&zt,"action-row":!Pe||!zt,"full-width":ot})},!Pe&&$>0&&Me&&p.a.createElement($e.a,{align:"middle",style:{marginTop:12}},on),p.a.createElement($e.a,{gutter:8,align:"middle",className:"".concat(Pe?"":"mt"," ").concat(Gt),wrap:!ot},vn?vn({seriesIndicator:an,prefix:Rn,filter:Fn,suffix:Dn,propertyFiltersButton:In,renameRowButton:bn,deleteButton:Mn,orLabel:on}):p.a.createElement(p.a.Fragment,null,!jt&&Pe&&!st&&Nt>1&&p.a.createElement(fe.a,null,p.a.createElement(me.a,{type:"link",onClick:Et,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:p.a.createElement(lt.a,null)})),Qe&&p.a.createElement(fe.a,{className:"action-row-letter"},an),Bt!==void 0?p.a.createElement(fe.a,null,Rn):p.a.createElement(p.a.Fragment,null,Pe&&p.a.createElement(fe.a,null,"Showing")),p.a.createElement(fe.a,{className:"column-filter",style:ot?{}:{maxWidth:"calc(".concat(Ie?"100":"50","% - 16px)")},flex:ot?"auto":void 0},Fn),xt!==void 0&&p.a.createElement(fe.a,{className:"column-row-suffix"},Dn),!Ie&&p.a.createElement(p.a.Fragment,null,Pe&&p.a.createElement(fe.a,null,"counted by"),p.a.createElement(fe.a,{style:{maxWidth:"calc(50% - 16px".concat(Qe?" - 32px":"",")")}},p.a.createElement(ft,{math:Vt,mathGroupTypeIndex:ut,index:$,onMathSelect:gn,style:{maxWidth:"100%",width:"initial"}})),((A=Ht[Vt||""])===null||A===void 0?void 0:A.onProperty)&&p.a.createElement(p.a.Fragment,null,Pe&&p.a.createElement(fe.a,null,"on property"),p.a.createElement(fe.a,{style:{maxWidth:"calc(50% - 16px".concat(Qe?" - 32px":"",")")}},p.a.createElement(ne.c,{groupType:Ee.a.NumericalEventProperties,value:ct,onChange:function(at){return hn($,at)},eventNames:dt?[dt]:[],dataAttr:"math-property-select",renderValue:function(at){return p.a.createElement(et.a,{title:p.a.createElement(p.a.Fragment,null,"Calculate"," ",Ht[Vt!=null?Vt:""].name.toLowerCase()," from property ",p.a.createElement("code",null,at),". Note that only"," ",dt," occurences where ",p.a.createElement("code",null,at)," is set with a numeric value will be taken into account."),placement:"right"},p.a.createElement("div",null,p.a.createElement(O.b,{value:at,disablePopover:!0})))}})))),(Pe||ot)&&!He&&!$t&&p.a.createElement(fe.a,null,In),(Pe||ot)&&!Ae&&!$t&&p.a.createElement(fe.a,null,bn),(Pe||ot)&&!He&&!st&&!$t&&p.a.createElement(fe.a,null,Bn),!jt&&!Pe&&!st&&!$t&&p.a.createElement(fe.a,{className:"column-delete-btn"},Mn),Pe&&Nt>1&&$<Nt-1&&Me&&on)),(!ve||L.properties&&L.properties.length>0)&&!Pe&&!ot&&p.a.createElement("div",{style:{paddingTop:6}},p.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),p.a.createElement(me.a,{className:"ant-btn-md",onClick:function(){return typeof L.order=="number"?yn(L.order,!Zt):void 0},"data-attr":"show-prop-filter-"+$},W(Zt,L))),Zt&&p.a.createElement("div",{className:"mr property-filter-wrapper ".concat(ln)},p.a.createElement(At.a,{pageKey:"".concat($,"-").concat(It,"-filter"),propertyFilters:L.properties,onChange:function(at){return jn({properties:at,index:$})},disablePopover:Pe,style:{marginBottom:0},showNestedArrow:An,taxonomicGroupTypes:mn,eventNames:L.type===Ee.a.Events&&L.id?[String(L.id)]:L.type===Ee.a.Actions&&L.id?Object(Ft.I)(parseInt(String(L.id)),sn):[]})))}function ft(d){var P=d.math,E=d.mathGroupTypeIndex,A=d.index,ie=d.onMathSelect,L=d.style,$="This can only be used on properties that have at least one number type occurence in your events.",Ie=Object(ae.useValues)(Ce.c),ve=Ie.eventMathEntries,st=Ie.propertyMathEntries;return p.a.createElement(Te.a,{style:H({width:150},L),value:Object(Ce.a)(P,E),onChange:function(He){return ie(A,He)},"data-attr":"math-selector-".concat(A),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},p.a.createElement(Te.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},ve.map(function(Me){var He=_()(Me,2),Ae=He[0],se=He[1],St=se.name,Qe=se.description,Fe=se.onProperty;return p.a.createElement(Te.a.Option,{key:Ae,value:Ae,"data-attr":"math-".concat(Ae,"-").concat(A)},p.a.createElement(et.a,{title:Fe?p.a.createElement(p.a.Fragment,null,Qe,p.a.createElement("br",null),$):Qe,placement:"right"},p.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},St)))}),Object(nt.a)({value:""})),p.a.createElement(Te.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},st.map(function(Me){var He=_()(Me,2),Ae=He[0],se=He[1],St=se.name,Qe=se.description,Fe=se.onProperty;return p.a.createElement(Te.a.Option,{key:Ae,value:Ae,"data-attr":"math-".concat(Ae,"-").concat(A)},p.a.createElement(et.a,{title:Fe?p.a.createElement(p.a.Fragment,null,Qe,p.a.createElement("br",null),$):Qe,placement:"right"},p.a.createElement("div",{style:{height:"100%",width:"100%"}},St)))})))}var _e=(Y={},q()(Y,Ee.a.Events,he.g.EVENTS),q()(Y,Ee.a.Actions,he.g.ACTIONS),Y);function Re(d){return _e[d]||null}try{Le.displayName="ActionFilterRow",Le.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:Le.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(d){}try{Re.displayName="taxonomicFilterGroupTypeToEntityType",Re.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:Re.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(d){}var bt=r("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),wt=r("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ye=r.n(wt),rt=r("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),vt=Object(rt.c)(function(){return p.a.createElement("span",{className:"action-filter-drag-handle"},p.a.createElement(R.SortableDragIcon,null))}),re=Object(rt.b)(function(d){var P=d.filterCount,E=d.filterIndex,A=Ye()(d,["filterCount","filterIndex"]),ie=P>1;return p.a.createElement("div",{className:"draggable-action-filter ".concat(ie?"drag-handle-visible":"")},ie?p.a.createElement(vt,null):p.a.createElement("span",{style:{marginLeft:4}}),p.a.createElement(Le,f()({},A,{filterCount:P,index:E,key:E})))}),Ke=Object(rt.a)(function(d){var P=d.children;return p.a.createElement("div",null,P)});try{re.displayName="SortableActionFilterRow",re.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:re.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(d){}try{Ke.displayName="SortableContainer",Ke.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:Ke.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(d){}var kt=r("./node_modules/antd/es/modal/index.js"),en=r("./node_modules/antd/es/input/index.js"),yt=r("./frontend/src/scenes/insights/utils.ts"),B=Object(ae.kea)({props:{},key:function(P){return P.typeKey},path:function(P){return["scenes","insights","ActionFilter","renameModalLogic",P]},connect:{actions:[Xe.a,["selectFilter"]]},actions:function(){return{setName:function(E){return{name:E}}}},reducers:function(P){var E,A=P.props;return{name:[(E=Object(yt.c)(A.filter))!==null&&E!==void 0?E:"",{setName:function(L,$){var Ie=$.name;return Ie},selectFilter:function(L,$){var Ie,ve=$.filter;return(Ie=Object(yt.c)(ve))!==null&&Ie!==void 0?Ie:""}}]}}});function j(d){var P,E=d.typeKey,A=d.view,ie=Object(ae.useValues)(Xe.a),L=ie.selectedFilter,$=ie.modalVisible,Ie=Object(ae.useActions)(Xe.a),ve=Ie.renameFilter,st=Ie.hideModal,Me=B({typeKey:E,filter:L}),He=Object(ae.useValues)(Me),Ae=He.name,se=Object(ae.useActions)(Me),St=se.setName,Qe=Object(it.useRef)(null);D(Qe,{cursor:"all"},[$]);var Fe="Rename ".concat(A===he.s.FUNNELS?"funnel step":"graph series");return p.a.createElement(kt.a,{"data-attr":"filter-rename-modal",visible:$,title:Fe,footer:p.a.createElement(p.a.Fragment,null,p.a.createElement(me.a,{type:"link",onClick:st},"Cancel"),p.a.createElement(me.a,{type:"primary",onClick:function(){return ve(Ae)}},Fe)),onCancel:st},"Query series/steps can be renamed to provide a more"," ",p.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",p.a.createElement("br",null),p.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),p.a.createElement(en.a,{ref:Qe,value:Ae,onPressEnter:function(){return ve(Ae)},onChange:function(Pt){return St(Pt.target.value)},suffix:p.a.createElement("span",{className:"text-muted-alt"},(P=Object(yt.c)(L,!1))!==null&&P!==void 0?P:"")}))}function D(d,P){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(it.useEffect)(function(){var A=setTimeout(function(){if(d.current){var ie;(ie=d.current)===null||ie===void 0||ie.focus(P)}},0);return function(){return clearTimeout(A)}},E)}try{j.displayName="RenameModal",j.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:j.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(d){}var z=r("./frontend/src/lib/utils/eventUsageLogic.ts"),k=r("./frontend/src/scenes/teamLogic.ts");function J(d,P){var E=Object.keys(d);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(d);P&&(A=A.filter(function(ie){return Object.getOwnPropertyDescriptor(d,ie).enumerable})),E.push.apply(E,A)}return E}function de(d){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{};P%2?J(Object(E),!0).forEach(function(A){q()(d,A,E[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(E)):J(Object(E)).forEach(function(A){Object.defineProperty(d,A,Object.getOwnPropertyDescriptor(E,A))})}return d}var I=p.a.forwardRef(function(d,P){var E=d.setFilters,A=d.filters,ie=d.typeKey,L=d.addFilterDefaultOptions,$=L===void 0?{}:L,Ie=d.hideMathSelector,ve=d.hidePropertySelector,st=ve===void 0?!1:ve,Me=d.buttonCopy,He=Me===void 0?"":Me,Ae=d.disabled,se=Ae===void 0?!1:Ae,St=d.sortable,Qe=St===void 0?!1:St,Fe=d.showSeriesIndicator,Tt=Fe===void 0?!1:Fe,Pt=d.seriesIndicatorType,Pe=Pt===void 0?"alpha":Pt,Mt=d.showOr,ot=Mt===void 0?!1:Mt,Nt=d.hideFilter,Bt=Nt===void 0?!1:Nt,xt=d.hideRename,Gt=xt===void 0?!1:xt,ln=d.horizontalUI,dn=ln===void 0?!1:ln,zt=d.fullWidth,tn=zt===void 0?!1:zt,Pn=d.customRowPrefix,An=d.customRowSuffix,Ot=d.rowClassName,jt=d.entitiesLimit,cn=d.propertyFilterWrapperClassName,un=d.stripeActionRow,mn=un===void 0?!0:un,nn=d.customActions,pn=d.showNestedArrow,fn=pn===void 0?!1:pn,$t=d.actionsTaxonomicGroupTypes,vn=d.propertiesTaxonomicGroupTypes,Yt=d.hideDeleteBtn,gt=d.renderRow,xn=d.buttonType,On=xn===void 0?"dashed":xn,ht=d.readOnly,De=ht===void 0?!1:ht,Ze=Object(ae.useValues)(k.a),Ct=Ze.currentTeamId,rn=Object(Xe.a)({teamId:Ct,setFilters:E,filters:A,typeKey:ie,addFilterDefaultOptions:$}),jn=Object(ae.useActions)(z.f),yn=jn.reportFunnelStepReordered,wn=Object(ae.useValues)(rn),Rt=wn.localFilters,sn=Object(ae.useActions)(rn),Tn=sn.addFilter,Ht=sn.setLocalFilters,Zt=sn.showModal;Object(it.useEffect)(function(){Ht(A)},[A]);function Xt(ct){var ut=ct.oldIndex,Et=ct.newIndex;function gn(hn,En,Cn){var Kt=Ge()(hn);return Array.prototype.splice.call(Kt,Cn,0,Array.prototype.splice.call(Kt,En,1)[0]),Kt.map(function(on,an){return de(de({},on),{},{order:an})})}E(Object(Xe.b)(gn(Rt,ut,Et))),ut!==Et&&yn()}var dt=jt===1,It={logic:rn,showSeriesIndicator:Tt,seriesIndicatorType:Pe,hideMathSelector:Ie,hidePropertySelector:st,customRowPrefix:Pn,customRowSuffix:An,rowClassName:Ot,propertyFilterWrapperClassName:cn,stripeActionRow:mn,hasBreakdown:!!A.breakdown,fullWidth:tn,actionsTaxonomicGroupTypes:$t,propertiesTaxonomicGroupTypes:vn,hideDeleteBtn:Yt,disabled:se,readOnly:De,renderRow:gt,hideRename:Gt,onRenameClick:Zt},Vt=Boolean(jt&&Rt.length>=jt);return p.a.createElement("div",{ref:P},!Gt&&!De&&p.a.createElement(ae.BindLogic,{logic:Xe.a,props:{setFilters:E,filters:A,typeKey:ie,addFilterDefaultOptions:$}},p.a.createElement(j,{view:A.insight,typeKey:ie})),Rt?Qe?p.a.createElement(Ke,{onSortEnd:Xt,lockAxis:"y",distance:5},Rt.map(function(ct,ut){return p.a.createElement(re,f()({key:ut,filter:ct,index:ut,filterIndex:ut,filterCount:Rt.length,showNestedArrow:fn},It))})):Rt.map(function(ct,ut){return p.a.createElement(Le,f()({filter:ct,index:ut,key:ut,singleFilter:dt,showOr:ot,hideFilter:Bt||De,horizontalUI:dn,filterCount:Rt.length,showNestedArrow:fn},It))}):null,(!dt||nn)&&p.a.createElement("div",{className:Object(tt.a)(On!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!dt&&p.a.createElement(me.a,{type:On,onClick:function(){return Tn()},"data-attr":"add-action-event-button",icon:p.a.createElement(bt.a,null),disabled:Vt||se||De,className:"add-action-event-button"},Vt?"Reached limit of ".concat(jt," ").concat(A.insight===he.s.FUNNELS?"steps":"series"):He||"Action or event"),nn))});try{I.displayName="ActionFilter",I.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:I.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(d){}},"./frontend/src/scenes/persons/Person.tsx":function(K,x,r){"use strict";r.r(x),r.d(x,"scene",function(){return kt}),r.d(x,"Person",function(){return yt});var F=r("./node_modules/core-js/modules/es.array.join.js"),o=r("./node_modules/core-js/modules/es.array.map.js"),h=r("./node_modules/core-js/modules/es.array.slice.js"),ge=r("./node_modules/react/index.js"),f=r.n(ge),ce=r("./node_modules/antd/es/tabs/index.js"),q=r("./node_modules/antd/es/dropdown/index.js"),xe=r("./node_modules/antd/es/menu/index.js"),Ge=r("./node_modules/antd/es/tag/index.js"),Je=r("./node_modules/antd/es/popconfirm/index.js"),Ve=r("./node_modules/antd/es/button/index.js"),ze=r("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),U=r("./frontend/src/scenes/events/index.ts"),qe=r("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),pe=r("./node_modules/kea/lib/index.esm.js"),Ue=r("./frontend/src/scenes/persons/personsLogic.ts"),it=r("./frontend/src/scenes/persons/PersonHeader.tsx"),p=r("./frontend/src/scenes/persons/Persons.scss"),ae=r("./frontend/src/lib/components/CopyToClipboard.tsx"),Xe=r("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),X=r("./node_modules/core-js/modules/es.array.filter.js"),Wt=r("./node_modules/core-js/modules/es.function.name.js"),pt=r("./node_modules/antd/es/modal/index.js"),ue=r("./node_modules/antd/es/row/index.js"),we=r("./node_modules/antd/es/radio/index.js"),Q=r("./node_modules/antd/es/col/index.js"),_=r("./node_modules/antd/es/select/index.js"),me=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),$e=r.n(me),fe=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss"),Te=r.n(fe),et={};et.insert="head",et.singleton=!1;var he=$e()(Te.a,et),At=Te.a.locals||{},Oe=r("./node_modules/core-js/modules/es.array.iterator.js"),lt=r("./node_modules/core-js/modules/es.object.to-string.js"),Ft=r("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Dt=r("./node_modules/@babel/runtime/regenerator/index.js"),Lt=r.n(Dt),Ut=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),S=r.n(Ut),w=r("./node_modules/regenerator-runtime/runtime.js"),T=r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),b=r.n(T),le=r("./node_modules/kea-router/lib/index.js"),Ee=r("./frontend/src/lib/api.ts"),ke=r("./frontend/src/lib/components/lemonToast.tsx"),tt=r("./frontend/src/lib/utils/eventUsageLogic.ts");function Ce(B,j){var D=Object.keys(B);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(B);j&&(z=z.filter(function(k){return Object.getOwnPropertyDescriptor(B,k).enumerable})),D.push.apply(D,z)}return D}function nt(B){for(var j=1;j<arguments.length;j++){var D=arguments[j]!=null?arguments[j]:{};j%2?Ce(Object(D),!0).forEach(function(z){S()(B,z,D[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(D)):Ce(Object(D)).forEach(function(z){Object.defineProperty(B,z,Object.getOwnPropertyDescriptor(D,z))})}return B}var N;(function(B){B.SPLIT="split",B.MERGE="merge"})(N||(N={}));var O=Object(pe.kea)({props:{},key:function(j){return j.person.id},path:function(j){return["scenes","persons","mergeSplitPersonLogic",j||"new"]},connect:function(){return{actions:[Object(Ue.a)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[Object(Ue.a)({syncWithUrl:!0}),["persons"]]}},actions:{setActivity:function(j){return{activity:j}},setSelectedPersonsToMerge:function(j){return{persons:j}},setSelectedPersonToAssignSplit:function(j){return{id:j}},cancel:!0},reducers:function(j){var D=j.props;return{activity:[N.MERGE,{setActivity:function(k,J){var de=J.activity;return de}}],person:[D.person,{}],selectedPersonsToMerge:[[],{setSelectedPersonsToMerge:function(k,J){var de=J.persons;return de}}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:function(k,J){var de=J.id;return de}}]}},listeners:function(j){var D=j.actions,z=j.values;return{setListFilters:function(){D.loadPersons()},cancel:function(){z.executedLoading||D.setSplitMergeModalShown(!1)}}},loaders:function(j){var D=j.values,z=j.actions;return{executed:[!1,{execute:function(){var k=b()(Lt.a.mark(function de(){var I,d;return Lt.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(D.activity!==N.MERGE){E.next=12;break}return E.next=3,Ee.a.create("api/person/"+D.person.id+"/merge/",{ids:D.selectedPersonsToMerge});case 3:if(I=E.sent,!I.id){E.next=10;break}return ke.a.success("Persons have been merged"),tt.f.actions.reportPersonMerged(D.selectedPersonsToMerge.length),z.setSplitMergeModalShown(!1),z.setPerson(I),E.abrupt("return",!0);case 10:E.next=21;break;case 12:return E.next=14,Ee.a.create("api/person/"+D.person.id+"/split/",nt({},D.selectedPersonsToAssignSplit?{main_distinct_id:D.selectedPersonsToAssignSplit}:{}));case 14:if(d=E.sent,!d.success){E.next=21;break}return ke.a.success("Person succesfully split. This may take up to a couple of minutes to complete"),tt.f.actions.reportPersonSplit(D.person.distinct_ids.length),z.setSplitMergeModalShown(!1),le.router.actions.push("/persons"),E.abrupt("return",!0);case 21:return E.abrupt("return",!1);case 22:case"end":return E.stop()}},de)}));function J(){return k.apply(this,arguments)}return J}()}]}},events:function(j){var D=j.actions;return{afterMount:[D.loadPersons]}}}),ne=r("./frontend/src/lib/utils.tsx"),R=r("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),Y=r("./frontend/src/lib/components/Tooltip.tsx");function G(B){var j=B.person,D={person:j},z=Object(pe.useValues)(O(D)),k=z.activity,J=z.executedLoading,de=Object(pe.useActions)(O(D)),I=de.setActivity,d=de.execute,P=de.cancel;return f.a.createElement(pt.a,{visible:!0,title:"Merge/split persons",onCancel:P,className:"merge-split-person",okText:"".concat(Object(ne.j)(k)," persons"),onOk:d,okButtonProps:{loading:J},cancelButtonProps:{disabled:J}},f.a.createElement("div",{className:"activity-header"},f.a.createElement(ue.a,{align:"middle"},f.a.createElement(we.a.Group,{onChange:function(A){return I(A.target.value)},value:k},f.a.createElement(Q.a,{className:"tab-btn ant-btn"},f.a.createElement(we.a,{value:"merge"},"Merge")),f.a.createElement(Q.a,{className:"tab-btn ant-btn"},f.a.createElement(we.a,{value:"split",disabled:j.distinct_ids.length<2},j.distinct_ids.length<2?f.a.createElement(Y.a,{title:"Only persons with more than two distinct IDs can be split.",delayMs:0},"Split"):f.a.createElement(f.a.Fragment,null,"Split")))))),f.a.createElement(pe.BindLogic,{logic:O,props:D},f.a.createElement(f.a.Fragment,null,k===N.MERGE?f.a.createElement(H,null):f.a.createElement(W,null))))}function H(){var B=Object(pe.useValues)(O),j=B.persons,D=B.person,z=B.executedLoading,k=Object(pe.useActions)(O),J=k.setListFilters,de=k.setSelectedPersonsToMerge;return f.a.createElement(f.a.Fragment,null,f.a.createElement("p",{className:"mb"},"Merge all properties and events of the selected persons into ",f.a.createElement("strong",null,D.name)," ",f.a.createElement("span",{style:{fontSize:"1.2em"}},"("),f.a.createElement("code",{title:D.distinct_ids[0]},Object(ne.kb)(D.distinct_ids[0],20)),f.a.createElement("span",{style:{fontSize:"1.2em"}},")"),". Properties get merged based on timestamps, see more details on"," ",f.a.createElement("a",{href:"https://posthog.com/docs/integrate/user-properties#how-do-values-get-overridden"},"PostHog Docs"),"."),f.a.createElement(_.a,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Please select persons to merge",onChange:function(d){return de(d)},filterOption:!1,onSearch:function(d){J({search:d})},className:"mt",disabled:z},j.results&&j.results.filter(function(I){return I.uuid!==D.uuid}).map(function(I){return I.id?f.a.createElement(_.a.Option,{value:I.id,key:I.id},I.name):void 0})),f.a.createElement(R.a,{style:{marginTop:16},type:"danger"},"This action is not reversible. Please be sure before continuing."))}function W(){var B=Object(pe.useValues)(O),j=B.person,D=B.executedLoading,z=Object(pe.useActions)(O),k=z.setSelectedPersonToAssignSplit;return j?f.a.createElement(f.a.Fragment,null,f.a.createElement("p",null,"This will split all Distinct IDs for this person into unique persons."),f.a.createElement("p",null,"You can select a distinct ID for which all the current properties will be assigned (",f.a.createElement("i",null,"optional"),"). All other new users will start without any properties."),f.a.createElement(_.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:function(de){return k(de)},filterOption:!1,disabled:D},j==null?void 0:j.distinct_ids.map(function(J){return f.a.createElement(_.a.Option,{value:J,key:J},J)})),f.a.createElement(R.a,{style:{marginTop:16},type:"danger"},f.a.createElement("div",null,"This will create ",f.a.createElement("strong",null,j.distinct_ids.length-1)," new"," ",Object(ne.qb)(j.distinct_ids.length,"person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."))):null}try{G.displayName="MergeSplitPerson",G.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:G.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(B){}var Le=r("./frontend/src/lib/components/LemonTable/index.ts"),ft=r("./frontend/src/scenes/urls.ts"),_e=r("./frontend/src/lib/components/Link.tsx");function Re(){var B=Object(pe.useValues)(Ue.a),j=B.cohorts,D=B.cohortsLoading,z=B.person,k=Object(pe.useActions)(Ue.a),J=k.loadCohorts;Object(ge.useEffect)(function(){J()},[z]);var de=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function(d,P){return f.a.createElement(_e.a,{to:ft.a.cohort(P.id)},f.a.createElement("strong",null,P.name))},sorter:function(d,P){return(d.name||"").localeCompare(P.name||"")}},{title:"Users in cohort",render:function(d){return d==null?void 0:d.toLocaleString()},dataIndex:"count",sorter:function(d,P){return(d.count||0)-(P.count||0)}}];return f.a.createElement(Le.a,{dataSource:j||[],loading:D,columns:de,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var bt=r("./frontend/src/lib/components/PropertiesTable.tsx"),wt=r("./frontend/src/lib/components/TimezoneAware/index.tsx"),Ye=r("./frontend/src/types.ts"),rt=r("./frontend/src/lib/components/PageHeader.tsx"),vt=r("./frontend/src/scenes/groups/RelatedGroups.tsx"),re=r("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Ke=ce.a.TabPane,kt={component:yt,logic:Ue.a,paramsToProps:function(j){var D=j.params;return{syncWithUrl:!0,urlId:D._}}};function en(B){var j=B.person;return f.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},f.a.createElement("div",{className:"mr"},f.a.createElement("span",{className:"text-muted"},"IDs:")," ",f.a.createElement(ae.a,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"}},j.distinct_ids[0]),j.distinct_ids.length>1&&f.a.createElement(q.a,{overlay:f.a.createElement(xe.a,null,j.distinct_ids.slice(1).map(function(D){return f.a.createElement(xe.a.Item,{key:D},f.a.createElement(ae.a,{description:"person distinct ID",iconStyle:{color:"var(--primary)"}},D))})),trigger:["click"]},f.a.createElement(Ge.a,{className:"extra-ids"},"+",j.distinct_ids.length-1,f.a.createElement(Xe.a,null)))),f.a.createElement("div",null,f.a.createElement("span",{className:"text-muted"},"First seen:")," ",j.created_at?f.a.createElement(wt.b,{time:j.created_at}):"unknown"))}function yt(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=B._,D={syncWithUrl:!0,urlId:j},z=Object(pe.useValues)(Object(Ue.a)(D)),k=z.person,J=z.personLoading,de=z.deletedPersonLoading,I=z.currentTab,d=z.showSessionRecordings,P=z.splitMergeModalShown,E=Object(pe.useActions)(Object(Ue.a)(D)),A=E.deletePerson,ie=E.editProperty,L=E.navigateToTab,$=E.setSplitMergeModalShown,Ie=Object(pe.useValues)(re.b),ve=Ie.groupsEnabled;return k?f.a.createElement(pe.BindLogic,{logic:Ue.a,props:D},f.a.createElement(rt.a,{title:Object(it.b)(k),caption:f.a.createElement(en,{person:k}),buttons:f.a.createElement("div",null,f.a.createElement(Je.a,{title:"Are you sure you want to delete this person?",onConfirm:A,okText:"Yes, delete ".concat(Object(it.b)(k)),cancelText:"No, cancel"},f.a.createElement(Ve.a,{className:"text-danger",disabled:de,loading:de,"data-attr":"delete-person"},"Delete person")),f.a.createElement(Ve.a,{onClick:function(){return $(!0)},"data-attr":"merge-person-button",style:{marginLeft:8}},"Split or merge IDs"))}),f.a.createElement(ce.a,{activeKey:I,onChange:function(Me){L(Me)}},f.a.createElement(Ke,{tab:f.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:Ye.x.PROPERTIES},f.a.createElement(bt.a,{properties:k.properties||{},searchable:!0,onEdit:ie,sortProperties:!0,embedded:!1,onDelete:function(Me){return ie(Me,void 0)}})),f.a.createElement(Ke,{tab:f.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:Ye.x.EVENTS},f.a.createElement(U.a,{pageKey:k.distinct_ids.join("__"),fixedFilters:{person_id:k.id},hidePersonColumn:!0,sceneUrl:ft.a.person(j||k.distinct_ids[0]||String(k.id),!1)})),d&&f.a.createElement(Ke,{tab:f.a.createElement("span",{"data-attr":"person-session-recordings-tab"},"Recordings"),key:Ye.x.SESSION_RECORDINGS},f.a.createElement(qe.a,{key:k.uuid,personUUID:k.uuid,isPersonPage:!0})),f.a.createElement(Ke,{tab:f.a.createElement("span",{"data-attr":"persons-cohorts-tab"},"Cohorts"),key:Ye.x.COHORTS},f.a.createElement(Re,null)),ve&&k.uuid&&f.a.createElement(Ke,{tab:f.a.createElement("span",{"data-attr":"persons-related-tab"},"Related groups",f.a.createElement(Y.a,{title:"People and groups that have shared events with this person in the last 90 days."},f.a.createElement(ze.a,{style:{marginLeft:6,marginRight:0}}))),key:Ye.x.RELATED},f.a.createElement(vt.a,{id:k.uuid,groupTypeIndex:null}))),P&&k&&f.a.createElement(G,{person:k})):J?f.a.createElement(ne.b,null):f.a.createElement(rt.a,{title:"Person not found",caption:j?`There's no person matching distinct ID "`.concat(j,'".'):void 0})}try{yt.displayName="Person",yt.__docgenInfo={description:"",displayName:"Person",props:{_:{defaultValue:null,description:"",name:"_",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Person.tsx#Person"]={docgenInfo:yt.__docgenInfo,name:"Person",path:"frontend/src/scenes/persons/Person.tsx#Person"})}catch(B){}},"./frontend/src/scenes/persons/Persons.scss":function(K,x,r){"use strict";var F=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=r.n(F),h=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),ge=r.n(h),f={};f.insert="head",f.singleton=!1;var ce=o()(ge.a,f),q=ge.a.locals||{}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(K,x,r){"use strict";r.d(x,"a",function(){return Ln});var F=r("./node_modules/react/index.js"),o=r.n(F),h=r("./frontend/src/lib/components/Drawer.tsx"),ge=r("./node_modules/core-js/modules/es.object.to-string.js"),f=r("./node_modules/core-js/modules/es.regexp.to-string.js"),ce=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),q=r.n(ce),xe=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),Ge=r.n(xe),Je={};Je.insert="head",Je.singleton=!1;var Ve=q()(Ge.a,Je),ze=Ge.a.locals||{},U=r("./node_modules/kea/lib/index.esm.js"),qe=r("./node_modules/core-js/modules/es.array.index-of.js"),pe=r("./node_modules/core-js/modules/es.array.iterator.js"),Ue=r("./node_modules/core-js/modules/es.array.slice.js"),it=r("./node_modules/core-js/modules/web.dom-collections.iterator.js"),p=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ae=r.n(p),Xe=r("./node_modules/@babel/runtime/regenerator/index.js"),X=r.n(Xe),Wt=r("./node_modules/regenerator-runtime/runtime.js"),pt=r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ue=r.n(pt),we=r("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),Q=r("./frontend/src/lib/utils/eventUsageLogic.ts"),_=r("./frontend/src/types.ts"),me=r("./frontend/src/lib/utils/responsiveUtils.tsx"),$e=r("./node_modules/core-js/modules/es.array.concat.js"),fe=r("./node_modules/core-js/modules/es.array.for-each.js"),Te=r("./node_modules/core-js/modules/es.array.includes.js"),et=r("./node_modules/core-js/modules/es.array.join.js"),he=r("./node_modules/core-js/modules/es.array.map.js"),At=r("./node_modules/core-js/modules/es.object.entries.js"),Oe=r("./node_modules/core-js/modules/es.object.values.js"),lt=r("./node_modules/core-js/modules/es.regexp.exec.js"),Ft=r("./node_modules/core-js/modules/es.string.ends-with.js"),Dt=r("./node_modules/core-js/modules/es.string.includes.js"),Lt=r("./node_modules/core-js/modules/es.string.iterator.js"),Ut=r("./node_modules/core-js/modules/es.string.replace.js"),S=r("./node_modules/core-js/modules/es.string.search.js"),w=r("./node_modules/core-js/modules/es.string.split.js"),T=r("./node_modules/core-js/modules/es.string.starts-with.js"),b=r("./node_modules/core-js/modules/web.dom-collections.for-each.js"),le=r("./node_modules/core-js/modules/web.url.js"),Ee=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),ke=r.n(Ee),tt=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ce=r.n(tt),nt=r("./node_modules/fuse.js/dist/fuse.esm.js"),N=r("./frontend/src/lib/api.ts"),O=r("./frontend/src/lib/utils.tsx"),ne=r("./frontend/src/scenes/teamLogic.ts"),R=r("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Y=r("./frontend/src/lib/dayjs.ts"),G=r("./node_modules/core-js/modules/es.array.from.js"),H=r("./node_modules/core-js/modules/es.function.name.js");function W(n,t){var e;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=Le(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var s=0,a=function(){};return{s:a,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,u;return{s:function(){e=n[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,u=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw u}}}}function Le(n,t){if(!!n){if(typeof n=="string")return ft(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ft(n,t)}}function ft(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}var _e=15,Re=_e/2;function bt(n){return"touches"in n}function wt(n){return"clientX"in n}var Ye=function(t){if(bt(t)){var e,s,a,i,l;return(e=t==null||(s=t.touches)===null||s===void 0||(a=s[0])===null||a===void 0?void 0:a.pageX)!==null&&e!==void 0?e:t==null||(i=t.changedTouches)===null||i===void 0||(l=i[0])===null||l===void 0?void 0:l.pageX}return wt(t)?t==null?void 0:t.clientX:0};function rt(n,t,e){if(n.windowId===t.windowId)return n.time-t.time;var s=W(e),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return-1;if(t.windowId===i.windowId&&t.time>=i.startPlayerPosition.time&&t.time<=i.endPlayerPosition.time)return 1}}catch(l){s.e(l)}finally{s.f()}throw"Could not find player positions in segments"}function vt(n,t){var e=W(t),s;try{for(e.s();!(s=e.n()).done;){var a=s.value;if(n.windowId===a.windowId&&n.time>=a.startPlayerPosition.time&&n.time<=a.endPlayerPosition.time)return a}}catch(i){e.e(i)}finally{e.f()}return null}function re(n,t){var e=0,s=W(t),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return e+n.time-i.startPlayerPosition.time;e+=i.durationMs}}catch(l){s.e(l)}finally{s.f()}return null}function Ke(n,t){var e=0,s=W(t),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(e+i.durationMs>n)return{windowId:i.windowId,time:n-e+i.startPlayerPosition.time};e+=i.durationMs}}catch(l){s.e(l)}finally{s.f()}return n===e&&t.length>0?t.slice(-1)[0].endPlayerPosition:null}function kt(n,t,e){if(e&&t in e){var s=e[t].startTimeEpochMs,a=e[t].endTimeEpochMs;return s>n||a<n?null:{windowId:t,time:n-s}}return null}function en(n,t){if(n.windowId in t){var e=t[n.windowId].startTimeEpochMs;return e+n.time}return null}var yt=function(t,e,s,a){var i=t/e*a;return Ke(i,s)},B=function(t,e,s,a){var i=re(t,s);return(i!=null?i:0)/a*e},j=r("./frontend/src/lib/components/lemonToast.tsx"),D=r("./node_modules/fast-deep-equal/index.js"),z=r.n(D),k=r("./frontend/src/lib/logic/featureFlagLogic.ts"),J=r("./frontend/src/lib/constants.tsx");function de(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function I(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?de(Object(e),!0).forEach(function(s){ke()(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):de(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function d(n,t){var e;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=P(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var s=0,a=function(){};return{s:a,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,u;return{s:function(){e=n[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,u=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw u}}}}function P(n,t){if(!!n){if(typeof n=="string")return E(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return E(n,t)}}function E(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}var A=!1,ie="rrweb/console@1",L=function(t){var e=t.segments.map(function(a){var i=+Object(Y.a)(t.start_and_end_times_by_window_id[a.window_id].start_time),l=+Object(Y.a)(a==null?void 0:a.start_time),u=+Object(Y.a)(a==null?void 0:a.end_time),c={windowId:a.window_id,time:l-i},m={windowId:a.window_id,time:u-i},v=u-l;return{startPlayerPosition:c,endPlayerPosition:m,durationMs:v,startTimeEpochMs:l,endTimeEpochMs:u,windowId:a.window_id,isActive:a.is_active}}),s={};return Object.entries(t.start_and_end_times_by_window_id).forEach(function(a){var i=Ce()(a,2),l=i[0],u=i[1];s[l]={startTimeEpochMs:+Object(Y.a)(u.start_time),endTimeEpochMs:+Object(Y.a)(u.end_time)}}),{segments:e,startAndEndTimesByWindowId:s,recordingDurationMs:Object(O.zb)(e.map(function(a){return a.durationMs}))}},$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=null;if(t&&e&&s){var i=d(t),l;try{for(i.s();!(l=i.n()).done;){var u,c=l.value,m=((u=e[c.windowId])!==null&&u!==void 0?u:[]).slice(-1).pop();if(m&&m.timestamp>=c.startTimeEpochMs){var v=s[c.windowId].startTimeEpochMs;a={windowId:c.windowId,time:Math.min(m.timestamp-v,c.endPlayerPosition.time)}}else return a}}catch(y){i.e(y)}finally{i.f()}}return a},Ie=function(t){return t.map(function(e){var s,a,i;return I(I({},e),{},{queryValue:"".concat((s=(a=(i=Object(R.d)(e.event,"event"))===null||i===void 0?void 0:i.label)!==null&&a!==void 0?a:e.event)!==null&&s!==void 0?s:""," ").concat(Object(O.B)(e)).replace(/['"]+/g,"")})})},ve=Object(U.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[Q.f],values:[ne.a,["currentTeamId"],k.a,["featureFlags"]]},actions:{setFilters:function(t){return{filters:t}},setSource:function(t){return{source:t}},reportUsage:function(t,e){return{recordingData:t,loadTime:e}},loadRecordingMeta:function(t){return{sessionRecordingId:t}},loadRecordingSnapshots:function(t,e){return{sessionRecordingId:t,url:e}},loadEvents:function(t){return{url:t}}},reducers:{filters:[{},{setFilters:function(t,e){var s=e.filters;return I(I({},t),s)}}],sessionRecordingId:[null,{loadRecording:function(t,e){var s=e.sessionRecordingId;return s!=null?s:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(t){return t+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(t,e){var s=e.sessionEventsData;return!!(s!=null&&s.next)}}],source:[Q.d.Unknown,{setSource:function(t,e){var s=e.source;return s}}]},listeners:function(t){var e=t.values,s=t.actions,a=t.sharedListeners,i=t.cache;return{loadRecordingMetaSuccess:function(){i.eventsStartTime=performance.now(),s.loadEvents()},loadRecordingSnapshotsSuccess:function(){var u;!((u=e.sessionPlayerData)===null||u===void 0)&&u.next?s.loadRecordingSnapshots(void 0,e.sessionPlayerData.next):Q.f.actions.reportRecording(e.sessionPlayerData,e.source,performance.now()-i.startTime,_.D.LOADED,0),e.chunkPaginationIndex===1&&s.reportUsage(e.sessionPlayerData,performance.now()-i.startTime)},loadEventsSuccess:function(){var u;if(!((u=e.sessionEventsData)===null||u===void 0)&&u.next)s.loadEvents(e.sessionEventsData.next);else{var c,m,v;Q.f.actions.reportRecordingEventsFetched((c=(m=e.sessionEventsData)===null||m===void 0||(v=m.events)===null||v===void 0?void 0:v.length)!==null&&c!==void 0?c:0,performance.now()-i.eventsStartTime),i.eventsStartTime=null}},loadRecordingMetaFailure:a.showErrorToast,loadRecordingSnapshotsFailure:a.showErrorToast,loadEventsFailure:a.showErrorToast,reportUsage:function(){var l=ue()(X.a.mark(function c(m,v){var y,g;return X.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return y=m.recordingData,g=m.loadTime,C.next=3,v();case 3:return Q.f.actions.reportRecording(y,e.source,g,_.D.VIEWED,0),C.next=6,v(A?1:1e4);case 6:Q.f.actions.reportRecording(y,e.source,g,_.D.ANALYZED,10);case 7:case"end":return C.stop()}},c)}));function u(c,m){return l.apply(this,arguments)}return u}()}},sharedListeners:function(){return{showErrorToast:function(e){var s=e.error;j.a.error(s)}}},loaders:function(t){var e=t.values;return{sessionPlayerData:{loadRecordingMeta:function(){var s=ue()(X.a.mark(function i(l,u){var c,m,v,y,g,M,C,V,ee,ye,te;return X.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return M=l.sessionRecordingId,C=Object(O.Ab)({save_view:!0}),Z.next=4,N.a.get("api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(M,"?").concat(C));case 4:return V=Z.sent,ee=(c=V.result)===null||c===void 0?void 0:c.session_recording,ye=L(ee),te=$(ye.segments,(m=e.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId,ye.startAndEndTimesByWindowId),u(),Z.abrupt("return",I(I({},e.sessionPlayerData),{},{person:(v=V.result)===null||v===void 0?void 0:v.person,metadata:ye,bufferedTo:te,snapshotsByWindowId:(y=I({},(g=e.sessionPlayerData)===null||g===void 0?void 0:g.snapshotsByWindowId))!==null&&y!==void 0?y:{}}));case 10:case"end":return Z.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}(),loadRecordingSnapshots:function(){var s=ue()(X.a.mark(function i(l,u){var c,m,v,y,g,M,C,V,ee,ye,te,oe,Z,je,be;return X.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return ee=l.sessionRecordingId,ye=l.url,te=ye||"api/projects/".concat(e.currentTeamId,"/session_recordings/").concat(ee,"/snapshots?").concat(Object(O.Ab)({limit:e.featureFlags[J.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),Be.next=4,N.a.get(te);case 4:return oe=Be.sent,u(),Z=I({},(c=(m=e.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId)!==null&&c!==void 0?c:{}),je=(v=oe.result)===null||v===void 0?void 0:v.snapshot_data_by_window_id,Object.entries(je).forEach(function(Se){var mt,Jt=Ce()(Se,2),qt=Jt[0],Sn=Jt[1];Z[qt]=[].concat(ae()((mt=Z[qt])!==null&&mt!==void 0?mt:[]),ae()(Sn))}),be=$((y=e.sessionPlayerData)===null||y===void 0||(g=y.metadata)===null||g===void 0?void 0:g.segments,Z,(M=e.sessionPlayerData)===null||M===void 0||(C=M.metadata)===null||C===void 0?void 0:C.startAndEndTimesByWindowId),Be.abrupt("return",I(I({},e.sessionPlayerData),{},{bufferedTo:be,snapshotsByWindowId:Z,next:(V=oe.result)===null||V===void 0?void 0:V.next}));case 11:case"end":return Be.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}()},sessionEventsData:{loadEvents:function(){var s=ue()(X.a.mark(function i(l,u){var c,m,v,y,g,M,C,V,ee;return X.a.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(y=l.url,e.eventsApiParams){te.next=3;break}return te.abrupt("return",e.sessionEventsData);case 3:return g=y||"api/projects/".concat(e.currentTeamId,"/events?").concat(Object(O.Ab)(e.eventsApiParams)),te.next=6,N.a.get(g);case 6:return M=te.sent,u(),C=[],V=[],ee=(c=M.results)!==null&&c!==void 0?c:[],ee.forEach(function(oe){var Z,je,be,We,Be=kt(+Object(Y.a)(oe.timestamp)-1e3,(Z=(je=oe.properties)===null||je===void 0?void 0:je.$window_id)!==null&&Z!==void 0?Z:"",(be=e.sessionPlayerData)===null||be===void 0||(We=be.metadata)===null||We===void 0?void 0:We.startAndEndTimesByWindowId);if(Be===null){var Se,mt,Jt,qt;Be=kt(+Object(Y.a)(oe.timestamp),(Se=(mt=oe.properties)===null||mt===void 0?void 0:mt.$window_id)!==null&&Se!==void 0?Se:"",(Jt=e.sessionPlayerData)===null||Jt===void 0||(qt=Jt.metadata)===null||qt===void 0?void 0:qt.startAndEndTimesByWindowId)}if(Be!==null){var Sn=re(Be,e.sessionPlayerData.metadata.segments);Sn!==null&&V.push(I(I({},oe),{},{playerTime:Sn,playerPosition:Be,percentageOfRecordingDuration:100*Sn/e.sessionPlayerData.metadata.recordingDurationMs}))}}),C=[].concat(ae()((m=(v=e.sessionEventsData)===null||v===void 0?void 0:v.events)!==null&&m!==void 0?m:[]),V).sort(function(oe,Z){return oe.playerTime-Z.playerTime}),te.abrupt("return",I(I({},e.sessionEventsData),{},{next:M==null?void 0:M.next,events:C}));case 14:case"end":return te.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}()}}},selectors:{eventsToShow:[function(n){return[n.filters,n.sessionEventsData]},function(n,t){var e,s=(e=t==null?void 0:t.events)!==null&&e!==void 0?e:[];return n!=null&&n.query?new nt.a(Ie(s),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(i,l){return s[i.idx].timestamp-s[l.idx].timestamp||i.score-l.score}}).search(n.query).map(function(a){return a.item}):s}],eventsApiParams:[function(n){return[n.sessionPlayerData]},function(n){var t,e,s,a=(t=n.metadata.segments.slice(0,1).pop())===null||t===void 0?void 0:t.startTimeEpochMs,i=(e=n.metadata.segments.slice(-1).pop())===null||e===void 0?void 0:e.endTimeEpochMs;if(!(!(n==null||(s=n.person)===null||s===void 0)&&s.id)||!a||!i)return null;var l=6e4;return{person_id:n.person.id,after:Y.a.utc(a).subtract(l,"ms").format(),before:Y.a.utc(i).add(l,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(n){return[n.sessionPlayerData]},function(n){var t,e,s=[];return n==null||(t=n.metadata)===null||t===void 0||(e=t.segments)===null||e===void 0||e.forEach(function(a){var i;n==null||(i=n.snapshotsByWindowId[a.windowId])===null||i===void 0||i.forEach(function(l){if(l.type===6&&l.data.plugin===ie&&l.timestamp>=a.startTimeEpochMs&&l.timestamp<=a.endTimeEpochMs){var u,c,m=l.data.payload,v=m.level,y=m.payload,g=m.trace,M=y==null||(u=y.map)===null||u===void 0?void 0:u.call(y,function(Z){return Z.startsWith('"')&&Z.endsWith('"')?Z.slice(1,-1):Z}).join(" "),C,V;if(g&&g.length>0){var ee=g[0].split("(").slice(-1)[0].replace(")",""),ye=ee.split(":"),te=ye.slice(-2).join(":");if(V=ye.slice(0,-2).join(":"),ye.length>=4)try{var oe=new URL(V).pathname.split("/").slice(-1)[0];C="".concat(oe,":").concat(te)}catch(Z){C=":".concat(te)}else C=":".concat(te)}s.push({playerPosition:kt(l.timestamp,a.windowId,n==null||(c=n.metadata)===null||c===void 0?void 0:c.startAndEndTimesByWindowId),parsedTraceURL:V,parsedTraceString:C,parsedPayload:M,level:v})}})}),s}],areAllSnapshotsLoaded:[function(n){return[n.sessionPlayerData]},function(n){var t,e;return(n==null?void 0:n.bufferedTo)&&(n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments.slice(-1)[0])&&z()(n==null||(e=n.metadata)===null||e===void 0?void 0:e.segments.slice(-1)[0].endPlayerPosition,n==null?void 0:n.bufferedTo)}]},urlToAction:function(t){var e=t.actions,s=t.values,a=t.cache,i=function(u,c,m){var v=c.source,y=m.sessionRecordingId;v&&Object.values(Q.d).includes(v)&&e.setSource(v),s&&y&&y!==s.sessionRecordingId&&(a.startTime=performance.now(),e.loadRecordingMeta(y),e.loadRecordingSnapshots(y))};return{"/recordings":i,"/person/*":i,"/insights/*":i}}});function st(n,t){var e;if(typeof Symbol=="undefined"||n[Symbol.iterator]==null){if(Array.isArray(n)||(e=Me(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var s=0,a=function(){};return{s:a,n:function(){return s>=n.length?{done:!0}:{done:!1,value:n[s++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,u;return{s:function(){e=n[Symbol.iterator]()},n:function(){var m=e.next();return i=m.done,m},e:function(m){l=!0,u=m},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(l)throw u}}}}function Me(n,t){if(!!n){if(typeof n=="string")return He(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return He(n,t)}}function He(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,s=new Array(t);e<t;e++)s[e]=n[e];return s}var Ae=[.5,1,2,4,8,16],se=Object(U.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[Q.f],values:[ve,["sessionRecordingId","sessionPlayerData"]],actions:[ve,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(t){return{player:t}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(t){return{skipInactivitySetting:t}},setSkippingInactivity:function(t){return{isSkippingInactivity:t}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(t){return{playerPosition:t}},setSpeed:function(t){return{speed:t}},setScale:function(t){return{scale:t}},togglePlayPause:!0,seek:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:t,forcePlay:e}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(t){return{segment:t}},setRootFrame:function(t){return{frame:t}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(e,s){var a=s.frame;return a}}],player:[null,{setPlayer:function(e,s){var a=s.player;return a}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(e,s){var a=s.playerPosition;return a}}],currentSegment:[null,{setCurrentSegment:function(e,s){var a=s.segment;return a}}],speed:[1,{persist:!0},{setSpeed:function(e,s){var a=s.speed;return a}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(e,s){var a=s.skipInactivitySetting;return a}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(e,s){var a=s.isSkippingInactivity;return a}}],scale:[1,{setScale:function(e,s){var a=s.scale;return a}}],playingState:[_.C.PLAY,{setPlay:function(){return _.C.PLAY},setPause:function(){return _.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(n){return[n.playingState,n.isBuffering,n.isScrubbing,n.isSkippingInactivity]},function(n,t,e,s){return e?n:t?_.C.BUFFER:s&&n!==_.C.PAUSE?_.C.SKIP:n}],currentPlayerTime:[function(n){return[n.currentPlayerPosition,n.sessionPlayerData]},function(n,t){var e;if((t==null||(e=t.metadata)===null||e===void 0?void 0:e.segments)&&n){var s;return re(n,t==null||(s=t.metadata)===null||s===void 0?void 0:s.segments)}return 0}],jumpTimeMs:[function(n){return[n.speed]},function(n){return 10*1e3*n}]},listeners:function(t){var e=t.values,s=t.actions,a=t.cache;return{setRootFrame:function(){s.tryInitReplayer()},tryInitReplayer:function(){var l,u,c=(l=(u=e.currentPlayerPosition)===null||u===void 0?void 0:u.windowId)!==null&&l!==void 0?l:null;if(s.setPlayer(null),e.rootFrame&&(e.rootFrame.innerHTML=""),!e.rootFrame||c===null||!e.sessionPlayerData.snapshotsByWindowId[c]||e.sessionPlayerData.snapshotsByWindowId[c].length<2){s.setPlayer(null);return}var m=new we.a(e.sessionPlayerData.snapshotsByWindowId[c],{root:e.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});s.setPlayer({replayer:m,windowId:c})},setPlayer:function(l){var u=l.player;u&&(s.seek(e.currentPlayerPosition),s.syncPlayerSpeed())},setCurrentSegment:function(l){var u=l.segment;if(!u.isActive&&e.skipInactivitySetting?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1),e.player&&e.player.windowId!==u.windowId){var c,m;(c=e.player)===null||c===void 0||(m=c.replayer)===null||m===void 0||m.pause(),s.tryInitReplayer()}s.seek(e.currentPlayerPosition)},setSkipInactivitySetting:function(l){var u,c=l.skipInactivitySetting;Q.f.actions.reportRecordingPlayerSkipInactivityToggled(c),!(!((u=e.currentSegment)===null||u===void 0)&&u.isActive)&&c?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1)},setSkippingInactivity:function(){s.syncPlayerSpeed()},syncPlayerSpeed:function(){if(e.isSkippingInactivity){var l,u,c,m,v,y,g,M=(((l=(u=e.currentSegment)===null||u===void 0||(c=u.endPlayerPosition)===null||c===void 0?void 0:c.time)!==null&&l!==void 0?l:0)-((m=(v=e.currentPlayerPosition)===null||v===void 0?void 0:v.time)!==null&&m!==void 0?m:0))/1e3,C=Math.max(50,M);(y=e.player)===null||y===void 0||(g=y.replayer)===null||g===void 0||g.setConfig({speed:C})}else{var V,ee;(V=e.player)===null||V===void 0||(ee=V.replayer)===null||ee===void 0||ee.setConfig({speed:e.speed})}},checkBufferingCompleted:function(){e.currentPlayerPosition&&e.sessionPlayerData.bufferedTo&&e.currentPlayerState===_.C.BUFFER&&rt(e.currentPlayerPosition,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)<0&&(s.endBuffer(),s.seek(e.currentPlayerPosition))},initializePlayerFromStart:function(){var l,u,c=(l=e.sessionPlayerData)===null||l===void 0||(u=l.metadata)===null||u===void 0?void 0:u.segments[0];c&&(s.setCurrentSegment(c),s.setCurrentPlayerPosition(c.startPlayerPosition),e.player||s.tryInitReplayer())},loadRecordingMetaSuccess:function(){var i=ue()(X.a.mark(function u(c,m){return X.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:s.initializePlayerFromStart(),s.checkBufferingCompleted(),m();case 3:case"end":return y.stop()}},u)}));function l(u,c){return i.apply(this,arguments)}return l}(),loadRecordingSnapshotsSuccess:function(){var i=ue()(X.a.mark(function u(c,m){var v,y,g,M,C,V,ee,ye,te,oe,Z,je,be,We;return X.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(V=(v=(y=e.player)===null||y===void 0||(g=y.replayer)===null||g===void 0?void 0:g.service.state.context.events)!==null&&v!==void 0?v:[],ee=[],((M=e.currentSegment)===null||M===void 0?void 0:M.windowId)!==void 0&&ee.push.apply(ee,ae()(((ye=e.sessionPlayerData.snapshotsByWindowId[(te=e.currentSegment)===null||te===void 0?void 0:te.windowId])!==null&&ye!==void 0?ye:[]).slice(V.length))),!(!((C=e.player)===null||C===void 0)&&C.replayer)){Se.next=23;break}oe=st(ee),Se.prev=5,oe.s();case 7:if((Z=oe.n()).done){Se.next=13;break}return We=Z.value,Se.next=11,(je=e.player)===null||je===void 0||(be=je.replayer)===null||be===void 0?void 0:be.addEvent(We);case 11:Se.next=7;break;case 13:Se.next=18;break;case 15:Se.prev=15,Se.t0=Se.catch(5),oe.e(Se.t0);case 18:return Se.prev=18,oe.f(),Se.finish(18);case 21:Se.next=24;break;case 23:s.initializePlayerFromStart();case 24:s.checkBufferingCompleted(),m();case 26:case"end":return Se.stop()}},u,null,[[5,15,18,21]])}));function l(u,c){return i.apply(this,arguments)}return l}(),setPlay:function(){var l;s.stopAnimation(),s.syncPlayerSpeed();var u=e.currentPlayerPosition||((l=e.currentSegment)===null||l===void 0?void 0:l.startPlayerPosition);u&&s.seek(u,!0)},setPause:function(){var l,u;s.stopAnimation(),s.syncPlayerSpeed(),(l=e.player)===null||l===void 0||(u=l.replayer)===null||u===void 0||u.pause()},startBuffer:function(){s.stopAnimation()},startScrub:function(){s.stopAnimation()},setSpeed:function(l){var u=l.speed;Q.f.actions.reportRecordingPlayerSpeedChanged(u),s.syncPlayerSpeed()},seek:function(){var i=ue()(X.a.mark(function u(c,m){var v,y,g,M,C,V,ee,ye,te,oe,Z,je,be;return X.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:g=c.playerPosition,M=c.forcePlay,s.stopAnimation(),s.setCurrentPlayerPosition(g),C=null,g&&((v=e.sessionPlayerData)===null||v===void 0?void 0:v.metadata)&&(C=vt(g,e.sessionPlayerData.metadata.segments),C&&(C.windowId!==((V=e.currentSegment)===null||V===void 0?void 0:V.windowId)||C.startTimeEpochMs!==((ee=e.currentSegment)===null||ee===void 0?void 0:ee.startTimeEpochMs))&&s.setCurrentSegment(C)),!(!((y=e.sessionPlayerData)===null||y===void 0)&&y.bufferedTo)||!g||!e.currentSegment||rt(g,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0?((ye=e.player)===null||ye===void 0||(te=ye.replayer)===null||te===void 0||te.pause(),s.startBuffer()):!M&&e.currentPlayerState===_.C.PAUSE?((oe=e.player)===null||oe===void 0||(Z=oe.replayer)===null||Z===void 0||Z.pause(g.time),s.endBuffer()):((je=e.player)===null||je===void 0||(be=je.replayer)===null||be===void 0||be.play(g.time),s.updateAnimation(),s.endBuffer()),m();case 7:case"end":return Be.stop()}},u)}));function l(u,c){return i.apply(this,arguments)}return l}(),seekForward:function(){if(e.currentPlayerPosition){var l=re(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var u=l+e.jumpTimeMs,c=Ke(u,e.sessionPlayerData.metadata.segments);c||(s.setPause(),c=e.sessionPlayerData.metadata.segments[0].startPlayerPosition),s.seek(c)}}},seekBackward:function(){if(e.currentPlayerPosition){var l=re(e.currentPlayerPosition,e.sessionPlayerData.metadata.segments);if(l!==null){var u=Math.max(l-e.jumpTimeMs,0),c=Ke(u,e.sessionPlayerData.metadata.segments);s.seek(c)}}},togglePlayPause:function(){e.currentPlayerState!==_.C.BUFFER&&(e.currentPlayerState===_.C.PAUSE?s.setPlay():s.setPause())},updateAnimation:function(){var l,u,c,m,v=(l=e.player)===null||l===void 0||(u=l.replayer)===null||u===void 0?void 0:u.getCurrentTime(),y=null;if(v!==void 0&&e.currentSegment&&(y={windowId:e.currentSegment.windowId,time:Math.min(v,e.currentSegment.endPlayerPosition.time)}),y&&((c=e.currentSegment)===null||c===void 0?void 0:c.endPlayerPosition)&&rt(y,(m=e.currentSegment)===null||m===void 0?void 0:m.endPlayerPosition,e.sessionPlayerData.metadata.segments)>=0){var g=e.sessionPlayerData.metadata.segments.indexOf(e.currentSegment)+1;if(g<e.sessionPlayerData.metadata.segments.length){var M=e.sessionPlayerData.metadata.segments[g];s.setCurrentPlayerPosition(M.startPlayerPosition),s.setCurrentSegment(M)}else s.setPause(),s.setCurrentPlayerPosition(e.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!e.sessionPlayerData.bufferedTo||!y||!e.currentSegment||rt(y,e.sessionPlayerData.bufferedTo,e.sessionPlayerData.metadata.segments)>0){var C,V;(C=e.player)===null||C===void 0||(V=C.replayer)===null||V===void 0||V.pause(),s.startBuffer()}else s.setCurrentPlayerPosition(y),a.timer=requestAnimationFrame(s.updateAnimation)},stopAnimation:function(){a.timer&&cancelAnimationFrame(a.timer)}}},windowValues:{isSmallScreen:function(t){return t.innerWidth<Object(me.b)("md")}},events:function(t){var e=t.values,s=t.actions;return{beforeUnmount:function(){var i,l;(i=e.player)===null||i===void 0||(l=i.replayer)===null||l===void 0||l.pause(),s.setPlayer(null)}}}}),St=r("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Qe=r("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function Fe(n){var t=n.children,e=n.onClick,s=e===void 0?function(){}:e,a=n.className,i=a===void 0?"":a;return o.a.createElement("div",{onClick:s,className:"rrweb-controller-icon ".concat(i)},t)}function Tt(n){var t=n.onClick,e=n.time;return o.a.createElement(Fe,{onClick:t,className:"rrweb-controller-icon-seek"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"seek-seconds"},e),o.a.createElement(St.a,{className:"seek-icon",rotate:90})))}function Pt(n){var t=n.onClick,e=n.time;return o.a.createElement(Fe,{onClick:t,className:"rrweb-controller-icon-seek"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"seek-seconds"},e),o.a.createElement(Qe.a,{className:"seek-icon",rotate:270})))}function Pe(n){var t=n.onClick,e=n.className,s=e===void 0?"":e;return o.a.createElement(Fe,{onClick:t,className:s},o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Mt(n){var t=n.onClick,e=n.className,s=e===void 0?"":e;return o.a.createElement(Fe,{onClick:t,className:s},o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function ot(n){var t=n.onClick,e=n.className,s=e===void 0?"":e;return o.a.createElement(Fe,{onClick:t,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Nt(n){var t=n.onClick,e=n.className,s=e===void 0?"":e;return o.a.createElement(Fe,{onClick:t,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function Bt(n){var t=n.onClick,e=n.className,s=e===void 0?"":e;return o.a.createElement(Fe,{onClick:t,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Tt.displayName="IconSeekBack",Tt.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Tt.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(n){}try{Pt.displayName="IconSeekForward",Pt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:Pt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(n){}try{Pe.displayName="IconPlay",Pe.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:Pe.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(n){}try{Mt.displayName="IconPause",Mt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Mt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(n){}try{ot.displayName="IconFullscreen",ot.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:ot.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(n){}try{Nt.displayName="IconStepForward",Nt.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Nt.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(n){}try{Bt.displayName="IconStepBackward",Bt.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:Bt.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(n){}var xt=o.a.forwardRef(function(t,e){var s=Object(F.useRef)(),a=Object(U.useValues)(se),i=a.currentPlayerState,l=a.player,u=Object(U.useActions)(se),c=u.togglePlayPause,m=u.setScale,v=e;Object(F.useEffect)(function(){if(!!l)return l.replayer.on("resize",g),window.addEventListener("resize",y),function(){return window.removeEventListener("resize",y)}},[l==null?void 0:l.replayer]);var y=function(){g(s.current)},g=function(V){var ee;if(!(!V||!(!(v==null||(ee=v.current)===null||ee===void 0)&&ee.parentElement)||!(l!=null&&l.replayer))){s.current=V;var ye=v.current.parentElement.getBoundingClientRect(),te=ye.width,oe=ye.height,Z=Math.min(te/V.width,oe/V.height,1);l.replayer.wrapper.style.transform="scale(".concat(Z,")"),v.current.style.paddingLeft="".concat((te-V.width*Z)/2,"px"),v.current.style.paddingTop="".concat((oe-V.height*Z)/2,"px"),v.current.style.marginBottom="-".concat(oe-V.height*Z,"px"),m(Z)}},M=function(){return i===_.C.BUFFER?o.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):i===_.C.PAUSE?o.a.createElement("div",{className:"rrweb-overlay"},o.a.createElement(Pe,{className:"rrweb-overlay-play-icon"})):i===_.C.SKIP?o.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return o.a.createElement("div",{className:"rrweb-player",onClick:c},o.a.createElement("div",{ref:e}),o.a.createElement("div",{className:"rrweb-overlay-container"},M()))});try{xt.displayName="PlayerFrame",xt.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:xt.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(n){}var Gt=r("./node_modules/antd/es/select/index.js"),ln=r("./node_modules/antd/es/switch/index.js"),dn=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),zt=r.n(dn),tn={};tn.insert="head",tn.singleton=!1;var Pn=q()(zt.a,tn),An=zt.a.locals||{},Ot=r("./node_modules/clsx/dist/clsx.m.js"),jt=Object(U.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[se,["sessionPlayerData","currentPlayerPosition"],ve,["eventsToShow"]],actions:[se,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(t,e){return{thumbLeftPos:t,shouldSeek:e}},setCursorDiff:function(t){return{cursorDiff:t}},handleSeek:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:t,shouldSeek:e}},handleMove:function(t){return{event:t}},handleUp:function(t){return{event:t}},handleDown:function(t){return{event:t}},handleClick:function(t){return{event:t}},handleTickClick:function(t){return{playerPosition:t}},setSlider:function(t){return{ref:t}},setThumb:function(t){return{ref:t}},debouncedSetTime:function(t){return{time:t}},endSeeking:!0},reducers:{thumbLeftPos:[-Re,{setThumbLeftPos:function(t,e){var s=e.thumbLeftPos;return s}}],cursorDiff:[0,{setCursorDiff:function(t,e){var s=e.cursorDiff;return s}}],slider:[null,{setSlider:function(t,e){var s=e.ref;return s.current}}],thumb:[null,{setThumb:function(t,e){var s=e.ref;return s.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(n){return[n.sessionPlayerData]},function(n){var t,e;if((n==null?void 0:n.bufferedTo)&&(n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments)&&(n==null||(e=n.metadata)===null||e===void 0?void 0:e.recordingDurationMs)){var s,a=(s=re(n.bufferedTo,n.metadata.segments))!==null&&s!==void 0?s:0;return 100*a/n.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(n){return[n.thumbLeftPos,n.slider,n.sessionPlayerData]},function(n,t,e){var s;return n&&t&&(e==null||(s=e.metadata)===null||s===void 0?void 0:s.recordingDurationMs)?(n+Re)/t.offsetWidth*e.metadata.recordingDurationMs:0}]},listeners:function(t){var e=t.values,s=t.actions;return{setCurrentPlayerPosition:function(){var a=ue()(X.a.mark(function l(){var u,c,m,v;return X.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(e.slider){g.next=2;break}return g.abrupt("return");case 2:(!e.isSeeking||e.currentPlayerPosition===((u=e.sessionPlayerData)===null||u===void 0||(c=u.metadata)===null||c===void 0||(m=c.segments[0])===null||m===void 0?void 0:m.startPlayerPosition))&&(v=e.currentPlayerPosition?B(e.currentPlayerPosition,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs):0,s.setThumbLeftPos(v-Re,!1));case 3:case"end":return g.stop()}},l)}));function i(){return a.apply(this,arguments)}return i}(),setThumbLeftPos:function(i){var l,u=i.thumbLeftPos,c=i.shouldSeek;if(!!e.slider&&c&&((l=e.sessionPlayerData)===null||l===void 0?void 0:l.metadata)){var m=yt(u+Re,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs);s.seek(m)}},handleSeek:function(){var a=ue()(X.a.mark(function l(u){var c,m,v,y,g;return X.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return v=u.newX,y=u.shouldSeek,g=(c=(m=e.slider)===null||m===void 0?void 0:m.offsetWidth)!==null&&c!==void 0?c:0,C.next=4,s.setThumbLeftPos(Object(O.m)(v,0,g)-Re,y);case 4:s.endSeeking();case 5:case"end":return C.stop()}},l)}));function i(l){return a.apply(this,arguments)}return i}(),handleMove:function(){var a=ue()(X.a.mark(function l(u){var c,m;return X.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=u.event,e.slider){y.next=3;break}return y.abrupt("return");case 3:s.startScrub(),m=Ye(c)-e.cursorDiff-e.slider.getBoundingClientRect().left,s.handleSeek(m,!1);case 6:case"end":return y.stop()}},l)}));function i(l){return a.apply(this,arguments)}return i}(),handleUp:function(i){var l=i.event;if(!!e.slider){var u=Ye(l)-e.cursorDiff-e.slider.getBoundingClientRect().left;s.handleSeek(u),s.endScrub(),document.removeEventListener("touchmove",s.handleMove),document.removeEventListener("touchend",s.handleUp),document.removeEventListener("mousemove",s.handleMove),document.removeEventListener("mouseup",s.handleUp)}},handleDown:function(i){var l=i.event;if(!!e.thumb){s.startScrub();var u=Ye(l),c=u-e.thumb.getBoundingClientRect().left-Re;Math.abs(c)>_e&&(c=0),s.setCursorDiff(c),document.addEventListener("touchmove",s.handleMove),document.addEventListener("touchend",s.handleUp),document.addEventListener("mousemove",s.handleMove),document.addEventListener("mouseup",s.handleUp)}},handleTickClick:function(i){var l=i.playerPosition;e.isSeeking||s.handleSeek(B(l,e.slider.offsetWidth,e.sessionPlayerData.metadata.segments,e.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(t){var e=t.actions,s=t.values,a=t.cache;return{afterMount:function(){a.setCurrentPlayerPosition=function(){e.setCurrentPlayerPosition(s.currentPlayerPosition)},window.addEventListener("resize",a.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",a.setCurrentPlayerPosition)}}}});function cn(n){var t=n.event,e=Object(F.useState)(!1),s=Ce()(e,2),a=s[0],i=s[1],l=Object(U.useActions)(jt),u=l.handleTickClick,c=Object(U.useActions)(Q.f),m=c.reportRecordingPlayerSeekbarEventHovered;return o.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(t.percentageOfRecordingDuration,"% - 2px)")},onClick:function(y){y.stopPropagation(),u(t.playerPosition)},onMouseEnter:function(y){y.stopPropagation(),i(!0),m()},onMouseLeave:function(y){y.stopPropagation(),i(!1)}},o.a.createElement("div",{className:Object(Ot.a)("tick-info",{show:a})},t.event),o.a.createElement("div",{className:"tick-marker"}),o.a.createElement("div",{className:Object(Ot.a)("tick-thumb",{big:a})}))}function un(){var n,t,e=Object(F.useRef)(null),s=Object(F.useRef)(null),a=Object(U.useActions)(jt),i=a.handleDown,l=a.setSlider,u=a.setThumb,c=Object(U.useValues)(ve),m=c.eventsToShow,v=c.sessionPlayerData,y=Object(U.useValues)(jt),g=y.thumbLeftPos,M=y.bufferPercent;return Object(F.useEffect)(function(){e.current&&s.current&&(l(e),u(s))},[e.current,s.current]),o.a.createElement("div",{className:"rrweb-controller-slider"},o.a.createElement("div",{className:"slider",ref:e,onMouseDown:i,onTouchStart:i},o.a.createElement("div",{className:"inactivity-bar"},v==null||(n=v.metadata)===null||n===void 0||(t=n.segments)===null||t===void 0?void 0:t.map(function(C){return o.a.createElement("div",{key:"".concat(C.windowId,"-").concat(C.startTimeEpochMs),className:Object(Ot.a)("activity-section",!C.isActive&&"inactive-section"),style:{width:"".concat(100*C.durationMs/v.metadata.recordingDurationMs,"%")}})})),o.a.createElement("div",{className:"slider-bar"}),o.a.createElement("div",{className:"thumb",ref:s,style:{transform:"translateX(".concat(g,"px)")}}),o.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(g,0),"px")}}),o.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(M,"% - 2px)")}})),o.a.createElement("div",{className:"ticks"},m.map(function(C){return o.a.createElement(cn,{key:C.id,event:C})})))}var mn=r("./node_modules/antd/es/tooltip/index.js");function nn(){var n,t,e,s=Object(U.useActions)(se),a=s.seekBackward,i=s.seekForward,l=Object(U.useValues)(se),u=l.jumpTimeMs,c=l.currentPlayerTime,m=l.sessionPlayerData,v=Object(U.useValues)(jt),y=v.isScrubbing,g=v.scrubbingTime;return o.a.createElement(o.a.Fragment,null,o.a.createElement(mn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(u/1e3,"s (\u2190 left arrow)")},o.a.createElement("span",null,o.a.createElement(Tt,{onClick:a,time:u/1e3}))),o.a.createElement(mn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(u/1e3,"s (\u2192 right arrow)")},o.a.createElement("span",null,o.a.createElement(Pt,{onClick:i,time:u/1e3}))),o.a.createElement("div",{className:"rrweb-timestamp"},Object(O.o)(((n=y?g:c)!==null&&n!==void 0?n:0)/1e3)," /"," ",Object(O.o)(Math.floor(((t=m==null||(e=m.metadata)===null||e===void 0?void 0:e.recordingDurationMs)!==null&&t!==void 0?t:0)/1e3))))}function pn(){var n=Object(U.useActions)(se),t=n.togglePlayPause,e=n.setSpeed,s=n.setSkipInactivitySetting,a=Object(U.useValues)(se),i=a.currentPlayerState,l=a.speed,u=a.isSmallScreen,c=a.skipInactivitySetting;return o.a.createElement("div",{className:"rrweb-controller"},o.a.createElement("span",null,i===_.C.PLAY?o.a.createElement(Mt,{onClick:t,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):o.a.createElement(Pe,{onClick:t,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!u&&o.a.createElement(nn,null),o.a.createElement("div",{className:"rrweb-progress"},o.a.createElement(un,null)),o.a.createElement(Gt.a,{onChange:function(v){return e(v)},value:l,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},o.a.createElement(Gt.a.OptGroup,{label:"Speed"},Ae.map(function(m){return o.a.createElement(Gt.a.Option,{key:m,value:m},m,"x")}))),o.a.createElement("div",{onClick:function(){s(!c)},className:"rrweb-inactivity-toggle"},o.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),o.a.createElement(ln.a,{checked:c,size:"small"})))}var fn=r("./node_modules/core-js/modules/es.symbol.js"),$t=r("./node_modules/core-js/modules/es.symbol.description.js"),vn=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),Yt=r.n(vn),gt={};gt.insert="head",gt.singleton=!1;var xn=q()(Yt.a,gt),On=Yt.a.locals||{},ht=r("./node_modules/antd/es/empty/index.js"),De=r("./node_modules/antd/es/row/index.js"),Ze=r("./node_modules/antd/es/col/index.js"),Ct=r("./node_modules/antd/es/skeleton/index.js"),rn=r("./node_modules/antd/es/input/index.js"),jn=r("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),yn=r("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),wn=r("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),Rt=r("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),sn=r("./node_modules/react-virtualized/dist/es/List/index.js"),Tn=r("./node_modules/react-virtualized/dist/es/Grid/index.js"),Ht=r("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Zt=r("./node_modules/core-js/modules/es.array.find-index.js");function Xt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function dt(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Xt(Object(e),!0).forEach(function(s){ke()(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Xt(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}var It=65,Vt=50,ct=150*5,ut=Object(U.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[Q.f],actions:[ve,["setFilters","loadEventsSuccess"],se,["seek"]],values:[ve,["eventsToShow","sessionEventsDataLoading"],se,["currentPlayerTime"]]},actions:{setLocalFilters:function(t){return{filters:t}},setRenderedRows:function(t){return{renderMeta:t}},setList:function(t){return{list:t}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(t){return{rowIndex:t}},handleEventClick:function(t){return{playerPosition:t}}},reducers:{localFilters:[{},{setLocalFilters:function(t,e){var s=e.filters;return dt(dt({},t),s)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(t,e){var s=e.renderMeta;return s}}],list:[null,{setList:function(t,e){var s=e.list;return s}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(t){var e=t.actions,s=t.values;return{setLocalFilters:function(){var a=ue()(X.a.mark(function l(u,c){return X.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,c(250);case 2:e.setFilters(s.localFilters);case 3:case"end":return v.stop()}},l)}));function i(l,u){return a.apply(this,arguments)}return i}(),scrollTo:function(){var a=ue()(X.a.mark(function l(u,c){var m,v;return X.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return m=u.rowIndex,v=m!=null?m:s.currentEventsIndices.startIndex,s.list&&(s.list.scrollToPosition(s.list.getOffsetForRow({alignment:"center",index:v})),Q.f.actions.reportRecordingScrollTo(v)),g.next=5,c(ct);case 5:e.enablePositionFinder();case 6:case"end":return g.stop()}},l)}));function i(l,u){return a.apply(this,arguments)}return i}(),handleEventClick:function(i){var l=i.playerPosition;l&&e.seek(l)}}},selectors:function(){return{listEvents:[function(t){return[t.eventsToShow]},function(t){return t.map(function(e){var s;return dt(dt({},e),{},{colonTimestamp:Object(O.o)(Math.floor(((s=e.playerTime)!==null&&s!==void 0?s:0)/1e3))})})}],currentEventsTimeRange:[function(t){return[t.listEvents,t.currentPlayerTime]},function(t,e){var s;if(t.length<1)return{start:0,end:0};var a=t.findIndex(function(u){var c;return((c=u.playerTime)!==null&&c!==void 0?c:0)>=Object(O.k)(e!=null?e:0)}),i=Math.max(Object(O.k)(e!=null?e:0),1e3),l=Object(O.E)((s=t[Object(O.m)(a===-1?t.length-1:a-1,0,t.length-1)].playerTime)!==null&&s!==void 0?s:0);return{start:l,end:i}}],isEventCurrent:[function(t){return[t.currentEventsTimeRange,t.listEvents]},function(t,e){return function(s){var a,i,l,u;return((a=e==null||(i=e[s])===null||i===void 0?void 0:i.playerTime)!==null&&a!==void 0?a:0)>=t.start&&((l=e==null||(u=e[s])===null||u===void 0?void 0:u.playerTime)!==null&&l!==void 0?l:0)<t.end}}],currentEventsIndices:[function(t){return[t.listEvents,t.isEventCurrent]},function(t,e){return{startIndex:Object(O.m)(t.findIndex(function(s,a){return e(a)}),0,t.length-1),stopIndex:Object(O.m)(Object(O.C)(t,function(s,a){return e(a)}),0,t.length-1)}}],currentEventsBoxSizeAndPosition:[function(t){return[t.currentEventsIndices,t.list]},function(t,e){if(!e||!e.Grid||t.startIndex>=e.Grid.props.rowCount||t.stopIndex>e.Grid.props.rowCount||t.startIndex<1&&t.stopIndex<1||t.stopIndex<t.startIndex)return{top:0,height:0};var s=e.Grid.state,a=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(t.startIndex).offset,i=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(t.stopIndex);return{top:a,height:i.offset+i.size-a}}],isRowIndexRendered:[function(t){return[t.renderedRows]},function(t){return function(e){return e>=t.overscanStartIndex&&e<=t.overscanStopIndex}}],showPositionFinder:[function(t){return[t.renderedRows,t.currentEventsIndices,t.shouldHidePositionFinder]},function(t,e,s){return!s&&(t.stopIndex<e.startIndex||t.startIndex>e.stopIndex)}],isDirectionUp:[function(t){return[t.renderedRows,t.currentEventsIndices]},function(t,e){return t.startIndex>e.stopIndex}]}}}),Et=r("./frontend/src/lib/components/icons.tsx");function gn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,s)}return e}function hn(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?gn(Object(e),!0).forEach(function(s){ke()(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):gn(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}function En(n){var t=n.cellCount,e=n.overscanCellsCount,s=n.startIndex,a=n.stopIndex,i=Math.floor(e/2),l=e-i;return{overscanStartIndex:Math.max(0,s-i),overscanStopIndex:Math.min(t-1,a+l)}}var Cn=function(t){return t.event==="$pageview"?o.a.createElement(Et.PageviewIcon,null):t.event==="$pageleave"?o.a.createElement(Et.PageleaveIcon,null):t.event==="$autocapture"?o.a.createElement(Et.AutocaptureIcon,null):o.a.createElement(Et.EventIcon,null)};function Kt(){return o.a.createElement("div",{className:"event-list-empty-container"},o.a.createElement(ht.a,{image:ht.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function on(n){var t=n.description,e=Object(F.useRef)(null);return o.a.createElement("span",{className:Object(Ot.a)("event-item-content-subtitle",Object(O.U)(e.current)&&"overflowing"),title:t},o.a.createElement("div",{className:"inner",ref:e},t))}function an(){var n=Object(F.useRef)(null),t=Object(U.useValues)(ut),e=t.localFilters,s=t.listEvents,a=t.currentEventsBoxSizeAndPosition,i=t.showPositionFinder,l=t.isRowIndexRendered,u=t.isEventCurrent,c=t.isDirectionUp,m=t.renderedRows,v=Object(U.useValues)(ve),y=v.sessionEventsDataLoading,g=Object(U.useActions)(ut),M=g.setLocalFilters,C=g.setRenderedRows,V=g.setList,ee=g.scrollTo,ye=g.disablePositionFinder,te=g.handleEventClick;Object(F.useEffect)(function(){n!=null&&n.current&&V(n.current)},[n.current]);var oe=Object(F.useCallback)(function(be){var We=be.index,Be=be.style,Se=be.key,mt=s[We],Jt=Object(R.d)(mt.event,"event"),qt=u(We);return o.a.createElement(De.a,{key:Se,className:Object(Ot.a)("event-list-item",{"current-event":qt}),align:"top",style:hn(hn({},Be),{},{zIndex:s.length-We}),onClick:function(){te(mt.playerPosition)}},o.a.createElement(Ze.a,{className:"event-item-icon"},o.a.createElement("div",{className:"event-item-icon-wrapper"},Cn(mt))),o.a.createElement(Ze.a,{className:Object(Ot.a)("event-item-content",{rendering:!l(We)})},o.a.createElement(De.a,{className:"event-item-content-top-row"},o.a.createElement(R.b,{className:"event-item-content-title",value:mt.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),o.a.createElement("span",{className:"event-item-content-timestamp"},mt.colonTimestamp)),Jt&&o.a.createElement(on,{description:Object(O.j)(Object(O.B)(mt,!0))}),o.a.createElement(Ct.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[s.length,m.startIndex,m.stopIndex,a.top,a.height]),Z=Object(F.useCallback)(function(be){var We=Object(Tn.c)(be);return s.length>0&&We.push(o.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:a.height,transform:"translateY(".concat(a.top,"px)")}})),We},[a.top,a.height,y,s.length]);return o.a.createElement(Ze.a,{className:"player-events-container"},o.a.createElement(rn.a,{prefix:o.a.createElement(jn.a,null),placeholder:"Search for events",value:e.query,onChange:function(be){return M({query:be.target.value})}}),o.a.createElement(Ze.a,{className:"event-list"},y?o.a.createElement(O.b,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Object(Ot.a)("current-events-position-finder",{visible:i})},o.a.createElement(De.a,{className:"left",align:"middle",wrap:!1,onClick:function(){ee()}},c?o.a.createElement(yn.a,null):o.a.createElement(wn.a,null),"Jump to current time"),o.a.createElement(De.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){ye()}},o.a.createElement(Rt.a,null))),o.a.createElement(Ht.a,null,function(je){var be=je.height,We=je.width;return o.a.createElement(sn.b,{ref:n,className:"event-list-virtual",height:be,width:We,onRowsRendered:C,noRowsRenderer:Kt,cellRangeRenderer:Z,overscanRowCount:Vt,overscanIndicesGetter:En,rowCount:s.length,rowRenderer:oe,rowHeight:It})}))))}var Rn=r("./node_modules/antd/es/tabs/index.js"),Fn=r("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Dn=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),In=r.n(Dn),bn={};bn.insert="head",bn.singleton=!1;var Bn=q()(In.a,bn),Mn=In.a.locals||{},Ne=r("./node_modules/antd/es/space/index.js"),at=r("./frontend/src/lib/components/ProfilePicture/index.ts"),_t=r("./frontend/src/scenes/persons/PersonHeader.tsx"),Qt=r("./node_modules/core-js/modules/es.array.filter.js"),er=r("./node_modules/core-js/modules/es.array.some.js"),Vn=function(t,e){return e.some(function(s){var a;return!(!(t==null||(a=t.properties)===null||a===void 0)&&a[s])})?null:e.map(function(s){var a;return t==null||(a=t.properties)===null||a===void 0?void 0:a[s]}).join(", ")},Gn=Object(U.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[ve,["sessionPlayerData"],se,["currentPlayerPosition","scale"]],actions:[ve,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(n){return[n.sessionPlayerData]},function(n){return n==null?void 0:n.person}],description:[function(n){return[n.sessionPerson]},function(n){var t=Vn(n,["$geoip_city_name","$geoip_country_code"]),e=Vn(n,["$browser","$os"]);return[e,t].filter(function(s){return s}).join(" \xB7 ")}],resolution:[function(n){return[n.sessionPlayerData,n.currentPlayerPosition]},function(n,t){var e,s;if(!t)return null;var a=(e=n.snapshotsByWindowId[t.windowId])!==null&&e!==void 0?e:[],i=(s=en(t,n.metadata.startAndEndTimesByWindowId))!==null&&s!==void 0?s:0,l=Object(O.C)(a,function(c){return c.timestamp<i&&"width"in c.data});if(l===-1)return null;var u=a[l];return{width:u.data.width,height:u.data.height}}],recordingStartTime:[function(n){return[n.sessionPlayerData]},function(n){var t,e;return n==null||(t=n.metadata)===null||t===void 0||(e=t.segments[0])===null||e===void 0?void 0:e.startTimeEpochMs}]}}),zn=r("./frontend/src/scenes/funnels/funnelUtils.ts"),$n=r("./frontend/src/lib/components/TimezoneAware/index.tsx");function Yn(){var n,t=Object(U.useValues)(Gn),e=t.sessionPerson,s=t.description,a=t.resolution,i=t.scale,l=t.recordingStartTime,u=t.loading;return o.a.createElement(Ze.a,{className:"player-meta-container"},o.a.createElement(De.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},o.a.createElement(De.a,{className:"player-meta-person-title",align:"middle",wrap:!1},u?o.a.createElement(Ne.b,null,o.a.createElement(Ct.a.Avatar,{active:!0,size:"small",shape:"circle"}),o.a.createElement(Ct.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(at.a,{name:e==null?void 0:e.name,email:e==null||(n=e.properties)===null||n===void 0?void 0:n.$email,size:"md",style:{marginRight:"0.5rem"}}),o.a.createElement("span",{className:"email"},o.a.createElement(_t.a,{person:e,withIcon:!1})))),o.a.createElement(Ze.a,null,u?o.a.createElement(Ct.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):o.a.createElement("span",{className:"time text-muted"},l&&o.a.createElement($n.b,{time:Object(Y.a)(l)})))),o.a.createElement(De.a,{className:"player-meta-other",align:"middle",justify:"start"},o.a.createElement(De.a,{className:"player-meta-other-description"},u?o.a.createElement(Ct.a,{title:!1,active:!0,paragraph:{rows:1}}):o.a.createElement("span",null,s)),o.a.createElement(De.a,{className:"player-meta-other-resolution mt-05"},u?o.a.createElement(Ct.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):o.a.createElement("span",null,a?o.a.createElement(o.a.Fragment,null,"Resolution: ",a.width," x ",a.height," (",Object(zn.c)(i),"%)"):o.a.createElement(o.a.Fragment,null,"Resolution: ...")))))}var Hn=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Un=r.n(Hn),Nn={};Nn.insert="head",Nn.singleton=!1;var tr=q()(Un.a,Nn),nr=Un.a.locals||{},kn=r("./frontend/src/lib/components/LemonButton/index.ts"),Zn=r("./frontend/src/lib/components/Spinner/Spinner.tsx");function Xn(){var n=Object(U.useValues)(ve),t=n.orderedConsoleLogs,e=n.areAllSnapshotsLoaded,s=Object(U.useActions)(Q.f),a=s.reportRecordingConsoleFeedback,i=Object(U.useActions)(se),l=i.seek,u=Object(F.useState)(!1),c=Ce()(u,2),m=c[0],v=c[1],y=function(M,C){return o.a.createElement("div",{className:"log-line level-".concat(M.level),key:C,onClick:function(){l(M.playerPosition)}},o.a.createElement("div",{className:"trace-string"},M.parsedTraceURL?o.a.createElement("a",{className:"text-muted",href:M.parsedTraceURL,target:"_blank"},M.parsedTraceString):o.a.createElement("span",{className:"text-muted"},M.parsedTraceString)),o.a.createElement("p",{className:"log-text"},M.parsedPayload))};return o.a.createElement("div",{className:"console-log-container"},o.a.createElement("div",{className:"console-log"},e?t.length>0?o.a.createElement(Ht.a,null,function(g){var M=g.height,C=g.width;return o.a.createElement("div",{style:{height:M,width:C,overflowY:"scroll",paddingBottom:5}},t.slice(0,150).map(function(V,ee){return y(V,ee)}),o.a.createElement("div",null,t.length>150&&o.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):o.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},o.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),o.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",o.a.createElement("code",null,"posthog-js"),"."),o.a.createElement(kn.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):o.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},o.a.createElement(Zn.a,{size:"lg"}))),o.a.createElement("div",{className:"console-feedback-container"},o.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),m?o.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(g,M){return o.a.createElement(kn.a,{type:"secondary",key:M,style:{margin:"0 8px"},onClick:function(){v(!0),a(t.length,g[0],"Are you finding the console log feature useful?")}},g[1])}))))}var _n=r("./frontend/src/lib/components/Tooltip.tsx");function Qn(){var n=Object(U.useActions)(se),t=n.togglePlayPause,e=n.seekForward,s=n.seekBackward,a=n.setSpeed,i=n.setRootFrame,l=Object(U.useValues)(se),u=l.isSmallScreen,c=Object(F.useRef)(null);Object(F.useEffect)(function(){c.current&&i(c.current)},[c]);var m=function(y){var g;if(!(!((g=y.target)===null||g===void 0)&&g.matches("input")))if(y.key===" ")t(),y.preventDefault();else if(y.key==="ArrowLeft")s();else if(y.key==="ArrowRight")e();else for(var M=0;M<Ae.length;M++)y.key===(M+1).toString()&&a(Ae[M])};return o.a.createElement(Ze.a,{className:"session-player-v2",onKeyDown:m,tabIndex:0,flex:1},o.a.createElement(De.a,{className:"session-player-body",wrap:!1},o.a.createElement("div",{className:"player-container ph-no-capture"},o.a.createElement(xt,{ref:c})),!u&&o.a.createElement(Wn,null)),o.a.createElement(De.a,{className:"player-controller",align:"middle"},o.a.createElement(pn,null)),u&&o.a.createElement(Wn,null))}var Kn=Rn.a.TabPane;function Wn(){var n=Object(U.useValues)(k.a),t=n.featureFlags,e=Object(U.useValues)(ve),s=e.orderedConsoleLogs,a=Object(U.useActions)(Q.f),i=a.reportRecordingConsoleViewed,l=t[J.n.SESSION_CONSOLE];return o.a.createElement(Ze.a,{className:"player-sidebar"},o.a.createElement("div",{className:"player-meta"},o.a.createElement(Yn,null)),o.a.createElement("div",{className:"player-events"},l?o.a.createElement(Rn.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(c){c==="console"&&i(s.length)}},o.a.createElement(Kn,{tab:"Events",key:"events"},o.a.createElement(an,null)),o.a.createElement(Kn,{tab:o.a.createElement("div",null,"Console (beta)",o.a.createElement(_n.a,{title:"While console logs are in beta, only 150 logs are displayed."},o.a.createElement(Fn.a,{style:{marginLeft:6}}))),key:"console"},o.a.createElement(Xn,null))):o.a.createElement(an,null)))}var Jn=r("./node_modules/antd/es/button/index.js"),qn=r("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function Ln(n){var t=n.isPersonPage,e=t===void 0?!1:t,s=n.onClose;return o.a.createElement(h.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:s,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},o.a.createElement(Ze.a,{style:{height:"100vh"}},o.a.createElement(De.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},o.a.createElement(Jn.a,{type:"link",onClick:s},o.a.createElement(qn.a,null)," Back to ",e?"persons":"recordings"),o.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:s},o.a.createElement(Et.IconClose,null))),o.a.createElement(De.a,{className:"session-drawer-body"},o.a.createElement(Qn,null))))}try{Ln.displayName="SessionPlayerDrawer",Ln.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:Ln.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(n){}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(K,x,r){"use strict";r.d(x,"a",function(){return nt});var F=r("./node_modules/core-js/modules/es.array.filter.js"),o=r("./node_modules/react/index.js"),h=r.n(o),ge=r("./node_modules/kea/lib/index.esm.js"),f=r("./frontend/src/lib/utils.tsx"),ce=r("./node_modules/antd/es/row/index.js"),q=r("./node_modules/antd/es/col/index.js"),xe=r("./node_modules/antd/es/button/index.js"),Ge=r("./node_modules/antd/es/typography/index.js"),Je=r("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),Ve=r("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),ze=r("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),U=r("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),qe=r("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),pe=r("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Ue=r("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),it=r("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),p=r("./frontend/src/types.ts"),ae=r("./node_modules/antd/es/space/index.js"),Xe=r("./node_modules/antd/es/input/index.js"),X=r("./node_modules/antd/es/select/index.js"),Wt=r("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),pt=r("./frontend/src/lib/components/Popup/Popup.tsx"),ue=r("./node_modules/core-js/modules/es.array.iterator.js"),we=r("./node_modules/core-js/modules/es.array.slice.js"),Q=r("./node_modules/core-js/modules/es.object.to-string.js"),_=r("./node_modules/core-js/modules/web.dom-collections.iterator.js"),me;(function(N){N.SECONDS="seconds",N.MINUTES="minutes",N.HOURS="hours"})(me||(me={}));var $e={seconds:1,minutes:60,hours:3600},fe=Object(ge.kea)({path:function(O){return["scenes","session-recordings","DurationFilterLogic",O]},key:function(O){return O.pageKey||"global"},props:{},actions:{setTimeValue:function(O){return{timeValue:O}},setUnit:function(O){return{unit:O}},setIsOpen:function(O){return{isOpen:O}},setOperator:function(O){return{operator:O}}},reducers:function(O){var ne,R=O.props;return{unit:[me.MINUTES,{setUnit:function(G,H){var W=H.unit;return W}}],operator:[R==null||(ne=R.initialFilter)===null||ne===void 0?void 0:ne.operator,{setOperator:function(G,H){var W=H.operator;return W}}],timeValue:[Math.floor(R.initialFilter.value/$e[me.MINUTES]),{setTimeValue:function(G,H){var W=H.timeValue;return W}}],isOpen:[!1,{setIsOpen:function(G,H){var W=H.isOpen;return W}}]}},selectors:{durationString:[function(N){return[N.operator,N.timeValue,N.unit]},function(N,O,ne){var R="";return N===p.z.GreaterThan?R+="> ":R+="< ",R+=O,O===1?R+=" "+ne.slice(0,-1):R+=" "+ne,R}]},listeners:function(O){var ne=O.props,R=O.values,Y=function(H){var W=H.timeValue,Le=H.unit,ft=H.operator,_e=W||R.timeValue,Re=Le||R.unit,bt=_e*$e[Re];ne.onChange({operator:ft||R.operator,value:bt,type:"recording",key:"duration"})};return{setTimeValue:function(H){var W=H.timeValue;return Y({timeValue:W})},setUnit:function(H){var W=H.unit;return Y({unit:W})},setOperator:function(H){var W=H.operator;return Y({operator:W})}}}});function Te(N){var O=N.initialFilter,ne=N.onChange,R=N.pageKey,Y=fe({initialFilter:O,onChange:ne,pageKey:R}),G=Object(ge.useActions)(Y),H=G.setTimeValue,W=G.setIsOpen,Le=G.setOperator,ft=G.setUnit,_e=Object(ge.useValues)(Y),Re=_e.durationString,bt=_e.unit,wt=_e.timeValue,Ye=_e.operator,rt=_e.isOpen;return h.a.createElement(pt.a,{visible:rt,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return W(!1)},overlay:h.a.createElement(ce.a,null,h.a.createElement(ae.b,null,h.a.createElement(Wt.a,{operator:Ye,operators:[p.z.GreaterThan,p.z.LessThan],onChange:function(re){Le(re)}}),h.a.createElement(Xe.a,{type:"number",value:wt,placeholder:"0",min:0,autoFocus:!0,addonAfter:h.a.createElement(X.a,{showSearch:!1,value:bt,onChange:function(re){ft(re)}},h.a.createElement(X.a.Option,{value:"seconds"},"Seconds"),h.a.createElement(X.a.Option,{value:"minutes"},"Minutes"),h.a.createElement(X.a.Option,{value:"hours"},"Hours")),step:1,onChange:function(re){var Ke=parseFloat(re.target.value);H(Ke)}})))},h.a.createElement(xe.a,{onClick:function(){W(!0)}},Re))}try{Te.displayName="DurationFilter",Te.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"]={docgenInfo:Te.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"})}catch(N){}var et=r("./frontend/src/scenes/persons/PersonHeader.tsx"),he=r("./frontend/src/lib/utils/eventUsageLogic.ts"),At=r("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),Oe=r("./frontend/src/lib/components/Tooltip.tsx"),lt=r("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Ft=r("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Dt=r("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Lt=r.n(Dt),Ut=r("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),S=r.n(Ut),w={};w.insert="head",w.singleton=!1;var T=Lt()(S.a,w),b=S.a.locals||{},le=r("./frontend/src/lib/components/LemonTable/index.ts"),Ee=r("./frontend/src/lib/components/TimezoneAware/index.tsx"),ke=r("./frontend/src/lib/components/icons.tsx"),tt=r("./frontend/src/lib/components/LemonButton/index.ts");function Ce(N){var O=N.filter,ne=N.propertyFiltersButton,R=N.deleteButton;return h.a.createElement(ce.a,{className:"entity-filter-row",wrap:!1,align:"middle"},h.a.createElement(q.a,{flex:"1",className:"mr"},h.a.createElement(ce.a,{align:"middle"},O)),h.a.createElement(q.a,{className:"mr"},ne),h.a.createElement(q.a,null,R))}function nt(N){var O=N.personUUID,ne=N.isPersonPage,R=ne===void 0?!1:ne,Y=Object(Je.a)({personUUID:O}),G=Object(ge.useValues)(Y),H=G.sessionRecordings,W=G.sessionRecordingsResponseLoading,Le=G.sessionRecordingId,ft=G.entityFilters,_e=G.propertyFilters,Re=G.hasNext,bt=G.hasPrev,wt=G.fromDate,Ye=G.toDate,rt=G.durationFilter,vt=G.showFilters,re=Object(ge.useActions)(Y),Ke=re.openSessionPlayer,kt=re.closeSessionPlayer,en=re.setEntityFilters,yt=re.setPropertyFilters,B=re.loadNext,j=re.loadPrev,D=re.setDateRange,z=re.setDurationFilter,k=re.enableFilter,J=re.reportRecordingsListFilterAdded,de=[{title:"Start time",render:function(d,P){return h.a.createElement(Ee.b,{time:P.start_time,formatString:"MMMM DD, YYYY h:mm"})}},{title:"Duration",render:function(d,P){return h.a.createElement("span",null,Object(f.N)(P.recording_duration))}},{title:"Person",key:"person",render:function(d,P){return h.a.createElement(et.a,{withIcon:!0,person:P.person})}},{render:function(d,P){return h.a.createElement("div",{className:"play-button-container"},h.a.createElement(xe.a,{className:P.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:h.a.createElement(Ve.a,null)},"Watch recording"))}}];return h.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},h.a.createElement(ce.a,{className:"filter-row"},h.a.createElement("div",{className:"filter-container",style:{display:vt?void 0:"none"}},h.a.createElement("div",null,h.a.createElement(Ge.a.Text,{strong:!0},"Filter by events and actions ",h.a.createElement(Oe.a,{title:"Show recordings where all of the events or actions listed below happen."},h.a.createElement(ze.a,{className:"info-icon"}))),h.a.createElement(pe.a,{fullWidth:!0,filters:ft,setFilters:function(d){J(he.e.EventAndAction),en(d)},typeKey:R?"person-".concat(O):"session-recordings",hideMathSelector:!0,buttonCopy:"Add another filter",horizontalUI:!0,stripeActionRow:!1,propertyFilterWrapperClassName:"session-recording-action-property-filter",customRowPrefix:"",hideRename:!0,showOr:!0,renderRow:function(d){return h.a.createElement(Ce,d)},showNestedArrow:!1,actionsTaxonomicGroupTypes:[lt.a.Actions,lt.a.Events],propertiesTaxonomicGroupTypes:[lt.a.EventProperties,lt.a.Elements]})),!R&&h.a.createElement("div",{className:"mt-2"},h.a.createElement(Ge.a.Text,{strong:!0},"Filter by persons and cohorts ",h.a.createElement(Oe.a,{title:"Show recordings by persons who match the set criteria"},h.a.createElement(ze.a,{className:"info-icon"}))),h.a.createElement(Ft.a,{popoverPlacement:"bottomRight",pageKey:R?"person-".concat(O):"session-recordings",taxonomicGroupTypes:[lt.a.PersonProperties,lt.a.Cohorts],propertyFilters:_e,onChange:function(d){J(he.e.PersonAndCohort),yt(d)}}))),!vt&&h.a.createElement(tt.a,{type:"secondary",compact:!0,icon:h.a.createElement(ke.IconFilter,null),onClick:function(){if(k(),R){var d=document.querySelectorAll(".entity-filter-row button");d.length>0&&d[0].click()}}},"Filter recordings"),h.a.createElement(ce.a,{className:"time-filter-row"},h.a.createElement(ce.a,{className:"time-filter"},h.a.createElement(At.a,{makeLabel:function(d){return h.a.createElement(h.a.Fragment,null,h.a.createElement(U.a,null),h.a.createElement("span",null," ",d))},defaultValue:"Last 7 days",bordered:!0,dateFrom:wt!=null?wt:void 0,dateTo:Ye!=null?Ye:void 0,onChange:function(d,P){J(he.e.DateRange),D(d,P)},dateOptions:{Custom:{values:[]},"Last 24 hours":{values:["-24h"]},"Last 7 days":{values:["-7d"]},"Last 21 days":{values:["-21d"]}}})),h.a.createElement(ce.a,{className:"time-filter"},h.a.createElement(Ge.a.Text,{className:"filter-label"},"Duration"),h.a.createElement(Te,{onChange:function(d){J(he.e.Duration),z(d)},initialFilter:rt,pageKey:R?"person-".concat(O):"session-recordings"})))),h.a.createElement(le.a,{dataSource:H,columns:de,loading:W,onRow:function(d){return{onClick:function(E){E.target.closest("a")||Ke(d.id,he.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(bt||Re)&&h.a.createElement(ce.a,{className:"pagination-control"},h.a.createElement(xe.a,{type:"link",disabled:!bt,onClick:function(){j(),window.scrollTo(0,0)}},h.a.createElement(Ue.a,null)," Previous"),h.a.createElement(xe.a,{type:"link",disabled:!Re,onClick:function(){B(),window.scrollTo(0,0)}},"Next ",h.a.createElement(it.a,null))),h.a.createElement("div",{style:{marginBottom:64}}),!!Le&&h.a.createElement(qe.a,{isPersonPage:R,onClose:kt}))}try{nt.displayName="SessionRecordingsTable",nt.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:nt.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(N){}},"./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts":function(K,x,r){"use strict";r.d(x,"a",function(){return Ut});var F=r("./node_modules/core-js/modules/es.array.concat.js"),o=r.n(F),h=r("./node_modules/core-js/modules/es.array.iterator.js"),ge=r.n(h),f=r("./node_modules/core-js/modules/es.array.map.js"),ce=r.n(f),q=r("./node_modules/core-js/modules/es.object.to-string.js"),xe=r.n(q),Ge=r("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Je=r.n(Ge),Ve=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ze=r.n(Ve),U=r("./node_modules/@babel/runtime/regenerator/index.js"),qe=r.n(U),pe=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ue=r.n(pe),it=r("./node_modules/regenerator-runtime/runtime.js"),p=r.n(it),ae=r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Xe=r.n(ae),X=r("./node_modules/kea/lib/index.esm.js"),Wt=r("./frontend/src/lib/api.ts"),pt=r("./frontend/src/lib/utils.tsx"),ue=r("./frontend/src/types.ts"),we=r("./node_modules/kea-router/lib/index.js"),Q=r.n(we),_=r("./frontend/src/lib/utils/eventUsageLogic.ts"),me=r("./node_modules/fast-deep-equal/index.js"),$e=r.n(me),fe=r("./frontend/src/scenes/teamLogic.ts"),Te=r("./frontend/src/lib/dayjs.ts"),et=r("./frontend/src/lib/logic/featureFlagLogic.ts"),he=r("./frontend/src/lib/constants.tsx");function At(S,w){var T=Object.keys(S);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(S);w&&(b=b.filter(function(le){return Object.getOwnPropertyDescriptor(S,le).enumerable})),T.push.apply(T,b)}return T}function Oe(S){for(var w=1;w<arguments.length;w++){var T=arguments[w]!=null?arguments[w]:{};w%2?At(Object(T),!0).forEach(function(b){Ue()(S,b,T[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(T)):At(Object(T)).forEach(function(b){Object.defineProperty(S,b,Object.getOwnPropertyDescriptor(T,b))})}return S}var lt=50,Ft={type:"recording",key:"duration",value:60,operator:ue.z.GreaterThan},Dt=[],Lt={events:[],actions:[],new_entity:[{id:null,type:ue.g.EVENTS,order:0,name:null}]},Ut=Object(X.kea)({path:function(w){return["scenes","session-recordings","sessionRecordingsTableLogic",w]},key:function(w){return w.personUUID||"global"},props:{},connect:{values:[fe.a,["currentTeamId"]],actions:[_.f,["reportRecordingsListFetched","reportRecordingsListFilterAdded"]]},actions:{getSessionRecordings:!0,openSessionPlayer:function(w,T){return{sessionRecordingId:w,source:T}},closeSessionPlayer:!0,setEntityFilters:function(w){return{filters:w}},setPropertyFilters:function(w){return{filters:w}},loadNext:!0,loadPrev:!0,enableFilter:!0,setOffset:function(w){return{offset:w}},setDateRange:function(w,T){return{incomingFromDate:w,incomingToDate:T}},setDurationFilter:function(w){return{durationFilter:w}}},loaders:function(w){var T=w.props,b=w.values,le=w.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var Ee=Xe()(qe.a.mark(function tt(Ce,nt){var N,O,ne,R,Y,G;return qe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return O=Oe(Oe({},b.filterQueryParams),{},{person_uuid:(N=T.personUUID)!==null&&N!==void 0?N:"",limit:lt}),ne=Object(pt.Ab)(O),W.next=4,nt(100);case 4:return R=performance.now(),W.next=7,Wt.a.get("api/projects/".concat(b.currentTeamId,"/session_recordings?").concat(ne));case 7:return Y=W.sent,G=performance.now()-R,le.reportRecordingsListFetched(G),nt(),W.abrupt("return",Y);case 12:case"end":return W.stop()}},tt)}));function ke(tt,Ce){return Ee.apply(this,arguments)}return ke}()}]}},events:function(w){var T=w.actions;return{afterMount:function(){T.getSessionRecordings()}}},reducers:{filterEnabled:[!1,{enableFilter:function(){return!0}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(w,T){var b=T.sessionRecordingsResponse;return ze()(b.results)},openSessionPlayer:function(w,T){var b=T.sessionRecordingId;return ze()(w.map(function(le){return le.id===b?Oe(Oe({},le),{},{viewed:!0}):Oe({},le)}))}}],sessionRecordingId:[null,{openSessionPlayer:function(w,T){var b=T.sessionRecordingId;return b},closeSessionPlayer:function(){return null}}],entityFilters:[Lt,{setEntityFilters:function(w,T){var b=T.filters;return Oe({},b)}}],propertyFilters:[Dt,{setPropertyFilters:function(w,T){var b=T.filters;return ze()(b)}}],durationFilter:[Ft,{setDurationFilter:function(w,T){var b=T.durationFilter;return b}}],offset:[0,{loadNext:function(w){return w+lt},loadPrev:function(w){return Math.max(w-lt)},setOffset:function(w,T){var b=T.offset;return b}}],fromDate:[Object(Te.a)().subtract(7,"days").format("YYYY-MM-DD"),{setDateRange:function(w,T){var b=T.incomingFromDate;return b!=null?b:null}}],toDate:[null,{setDateRange:function(w,T){var b=T.incomingToDate;return b!=null?b:null}}]},listeners:function(w){var T=w.actions;return{setEntityFilters:function(){T.getSessionRecordings()},setPropertyFilters:function(){T.getSessionRecordings()},setDateRange:function(){T.getSessionRecordings()},setDurationFilter:function(){T.getSessionRecordings()},loadNext:function(){T.getSessionRecordings()},loadPrev:function(){T.getSessionRecordings()}}},selectors:{hasPrev:[function(S){return[S.offset]},function(S){return S>0}],hasNext:[function(S){return[S.sessionRecordingsResponse]},function(S){return S.has_next}],showFilters:[function(S){return[S.filterEnabled,S.entityFilters,S.propertyFilters,et.a.selectors.featureFlags]},function(S,w,T,b){return b[he.n.RECORDINGS_FILTER_EXPERIMENT]==="test"||S||w!==Lt||T!==Dt}],filterQueryParams:[function(S){return[S.entityFilters,S.fromDate,S.toDate,S.offset,S.durationFilter,S.propertyFilters]},function(S,w,T,b,le,Ee){return{actions:S.actions,events:S.events,properties:Ee,date_from:w,date_to:T,offset:b,session_recording_duration:le}}]},actionToUrl:function(w){var T=w.values,b=function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ke=arguments.length>1?arguments[1]:void 0,tt=Oe({filters:T.filterQueryParams},Ee),Ce=Oe({},we.router.values.hashParams);return T.sessionRecordingId?Ce.sessionRecordingId=T.sessionRecordingId:delete Ce.sessionRecordingId,[we.router.values.location.pathname,tt,Ce,{replace:ke}]};return{loadSessionRecordings:function(){return b({},!0)},openSessionPlayer:function(Ee){var ke=Ee.source;return b({source:ke},!1)},closeSessionPlayer:function(){return b({},!1)},setEntityFilters:function(){return b({},!0)},setPropertyFilters:function(){return b({},!0)},setDateRange:function(){return b({},!0)},setDurationFilter:function(){return b({},!0)},loadNext:function(){return b({},!0)},loadPrev:function(){return b({},!0)}}},urlToAction:function(w){var T=w.actions,b=w.values,le=w.props,Ee=function(Ce,nt,N){var O,ne=(O=N.sessionRecordingId)!==null&&O!==void 0?O:null;ne!==b.sessionRecordingId&&T.openSessionPlayer(ne,_.d.Direct);var R=nt.filters;if(R){if((!$e()(R.actions,b.entityFilters.actions)||!$e()(R.events,b.entityFilters.events))&&T.setEntityFilters({events:R.events||[],actions:R.actions||[]}),!$e()(R.properties,b.propertyFilters)){var Y;T.setPropertyFilters((Y=R.properties)!==null&&Y!==void 0?Y:[])}if(R.date_from!==b.fromDate||R.date_to!==b.toDate){var G,H;T.setDateRange((G=R.date_from)!==null&&G!==void 0?G:void 0,(H=R.date_to)!==null&&H!==void 0?H:void 0)}if(R.offset!==b.offset){var W;T.setOffset((W=R.offset)!==null&&W!==void 0?W:0)}if(!$e()(R.session_recording_duration,b.durationFilter)){var Le;T.setDurationFilter((Le=R.session_recording_duration)!==null&&Le!==void 0?Le:Ft)}}},ke=le.personUUID?"/person/*":"/recordings";return Ue()({},ke,Ee)}})},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(K,x,r){"use strict";Object.defineProperty(x,"__esModule",{value:!0});var F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};x.default=F},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(K,x,r){"use strict";var F=r("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var h=o(r("./node_modules/@babel/runtime/helpers/objectSpread2.js")),ge=F(r("./node_modules/react/index.js")),f=o(r("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),ce=o(r("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),q=function(Je,Ve){return ge.createElement(ce.default,(0,h.default)((0,h.default)({},Je),{},{ref:Ve,icon:f.default}))};q.displayName="UserOutlined";var xe=ge.forwardRef(q);x.default=xe},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.merge-split-person .activity-header{background-color:#f2f2f2;border-top:1px solid rgba(0,0,0,.15);border-bottom:1px solid rgba(0,0,0,.15);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:#f2f2f2;color:#35416b;padding:4px 8px;border-radius:4px}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:#5375ff;cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-table .filter-row{width:100%;justify-content:space-between;margin-bottom:1rem;align-items:flex-end}.session-recordings-table .filter-container{max-width:700px;padding:1rem;border:1px solid rgba(0,0,0,.15);flex:1;border-radius:4px}.session-recordings-table .filter-section{padding-bottom:1rem}.session-recordings-table .session-recording-action-property-filter{margin:0 0 0 68px;background-color:#fafafa;border:1px solid rgba(0,0,0,.15);border-top:0 solid rgba(0,0,0,.15);padding:.25rem 1rem}.session-recordings-table .time-filter-row{justify-content:flex-end;align-items:flex-end}.session-recordings-table .time-filter-row .time-filter{align-items:center;margin-left:1rem}.session-recordings-table .time-filter-row .time-filter .filter-label{margin-right:4px}.session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .entity-filter-row{width:100%;padding:1rem;border:1px solid rgba(0,0,0,.15);margin-top:1rem;border-radius:4px}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:#5375ff}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-table .info-icon{color:#5375ff}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),K.exports=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(K,x,r){var F=r("./node_modules/css-loader/dist/runtime/api.js");x=F(!1),x.push([K.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),K.exports=x}}]);
