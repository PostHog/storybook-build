"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[12705],{"../../products/error_tracking/frontend/components/ContextDisplay/ContextDisplay.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ContextDisplayEmpty:()=>ContextDisplayEmpty,ContextDisplayWithStacktrace:()=>ContextDisplayWithStacktrace,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/lib/components/Errors/utils.ts"),_mocks_events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../products/error_tracking/frontend/__mocks__/events/index.tsx"),_ContextDisplay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../products/error_tracking/frontend/components/ContextDisplay/ContextDisplay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let __WEBPACK_DEFAULT_EXPORT__={title:"ErrorTracking/ContextDisplay",parameters:{layout:"centered",viewMode:"story"}};function ContextDisplayEmpty(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ContextDisplay__WEBPACK_IMPORTED_MODULE_3__.B,{loading:!1,exceptionAttributes:{},additionalProperties:{}})}function ContextDisplayWithStacktrace(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ContextWrapperAllEvents,{children:props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ContextDisplay__WEBPACK_IMPORTED_MODULE_3__.B,{...props})})}function getProps(event_name){let properties=event_name?_mocks_events__WEBPACK_IMPORTED_MODULE_2__.J7[event_name].properties:{};return{loading:!1,exceptionAttributes:properties?(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_1__.OZ)(properties):null,additionalProperties:(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_1__.DB)(properties,!0)}}function ContextWrapperAllEvents(_ref){let{children}=_ref,eventNames=Object.keys(_mocks_events__WEBPACK_IMPORTED_MODULE_2__.J7);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"space-y-4",children:eventNames.map(name=>{let props=getProps(name);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Mi,{hoverEffect:!1,className:"p-0 w-[900px]",children:children(props)})})})}ContextDisplayEmpty.parameters={...ContextDisplayEmpty.parameters,docs:{...ContextDisplayEmpty.parameters?.docs,source:{originalSource:"function ContextDisplayEmpty(): JSX.Element {\n  return <ContextDisplay loading={false} exceptionAttributes={{}} additionalProperties={{}} />;\n}",...ContextDisplayEmpty.parameters?.docs?.source}}},ContextDisplayWithStacktrace.parameters={...ContextDisplayWithStacktrace.parameters,docs:{...ContextDisplayWithStacktrace.parameters?.docs,source:{originalSource:"function ContextDisplayWithStacktrace(): JSX.Element {\n  return <ContextWrapperAllEvents>{props => <ContextDisplay {...props} />}</ContextWrapperAllEvents>;\n}",...ContextDisplayWithStacktrace.parameters?.docs?.source}}};let __namedExportsOrder=["ContextDisplayEmpty","ContextDisplayWithStacktrace"]},"../../products/error_tracking/frontend/components/ContextDisplay/ContextDisplay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>ContextDisplay});var ts_pattern__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/ts-pattern@4.3.0/node_modules/ts-pattern/dist/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.30.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/Errors/utils.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/utils.tsx"),lib_utils_copyToClipboard__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/utils/copyToClipboard.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ContextDisplay(_ref){let{loading,exceptionAttributes,additionalProperties}=_ref,additionalEntries=Object.entries(additionalProperties).map(_ref2=>{let[key,value]=_ref2;return[(0,lib_utils__WEBPACK_IMPORTED_MODULE_4__.UV)(key,"title"),value]}),exceptionEntries=exceptionAttributes?[["Level",exceptionAttributes.level],["Synthetic",exceptionAttributes.synthetic],["Library",(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_3__.KT)(exceptionAttributes,"lib","libVersion")],["Handled",exceptionAttributes.handled],["Browser",(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_3__.KT)(exceptionAttributes,"browser","browserVersion")],["OS",(0,lib_components_Errors_utils__WEBPACK_IMPORTED_MODULE_3__.KT)(exceptionAttributes,"os","osVersion")],["URL",exceptionAttributes.url]]:[];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:(0,ts_pattern__WEBPACK_IMPORTED_MODULE_0__.EQ)(loading).with(!0,()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"flex justify-center w-full h-32 items-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.$j,{})})).with(!1,()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(ContextTable,{entries:[...exceptionEntries,...additionalEntries]})).exhaustive()})}function ContextTable(_ref3){let{entries}=_ref3;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.g3,{embedded:!0,size:"small",dataSource:entries.filter(_ref4=>{let[,value]=_ref4;return void 0!==value}).map(_ref5=>{let[key,value]=_ref5;return{key,value:String(value)}}),showHeader:!1,columns:[{title:"Key",key:"key",dataIndex:"key",width:0,className:"font-medium bg-inherit",render:(dataValue,record)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("div",{className:"flex gap-x-2 justify-between items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{children:dataValue}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.Jp,{size:"xsmall",tooltip:"Copy value",className:"invisible group-hover:visible",onClick:()=>(0,lib_utils_copyToClipboard__WEBPACK_IMPORTED_MODULE_5__.v)(record.value).catch(error=>{console.error("Failed to copy to clipboard:",error)}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconCopy,{})})]})},{title:"Value",key:"value",dataIndex:"value",className:"whitespace-nowrap"}],rowClassName:"even:bg-fill-tertiary odd:bg-surface-primary group",firstColumnSticky:!0})}}}]);