"use strict";(self.webpackChunk_posthog_frontend=self.webpackChunk_posthog_frontend||[]).push([[2156],{"../node_modules/.pnpm/monaco-editor@0.49.0/node_modules/monaco-editor/esm/vs/language/html/htmlMode.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CompletionAdapter:()=>CompletionAdapter,DefinitionAdapter:()=>DefinitionAdapter,DiagnosticsAdapter:()=>DiagnosticsAdapter,DocumentColorAdapter:()=>DocumentColorAdapter,DocumentFormattingEditProvider:()=>DocumentFormattingEditProvider,DocumentHighlightAdapter:()=>DocumentHighlightAdapter,DocumentLinkAdapter:()=>DocumentLinkAdapter,DocumentRangeFormattingEditProvider:()=>DocumentRangeFormattingEditProvider,DocumentSymbolAdapter:()=>DocumentSymbolAdapter,FoldingRangeAdapter:()=>FoldingRangeAdapter,HoverAdapter:()=>HoverAdapter,ReferenceAdapter:()=>ReferenceAdapter,RenameAdapter:()=>RenameAdapter,SelectionRangeAdapter:()=>SelectionRangeAdapter,WorkerManager:()=>WorkerManager,fromPosition:()=>fromPosition,fromRange:()=>fromRange,setupMode:()=>setupMode,setupMode1:()=>setupMode1,toRange:()=>toRange,toTextEdit:()=>toTextEdit});var integer,uinteger,Position,Range,Location,LocationLink,Color,ColorInformation,ColorPresentation,FoldingRangeKind,FoldingRange,DiagnosticRelatedInformation,DiagnosticSeverity,DiagnosticTag,CodeDescription,Diagnostic,Command,TextEdit,ChangeAnnotation,ChangeAnnotationIdentifier,AnnotatedTextEdit,TextDocumentEdit,CreateFile,RenameFile,DeleteFile,WorkspaceEdit,TextDocumentIdentifier,VersionedTextDocumentIdentifier,OptionalVersionedTextDocumentIdentifier,TextDocumentItem,MarkupKind,MarkupContent,CompletionItemKind,InsertTextFormat,CompletionItemTag,InsertReplaceEdit,InsertTextMode,CompletionItem,CompletionList,MarkedString,Hover,ParameterInformation,SignatureInformation,DocumentHighlightKind,DocumentHighlight,SymbolKind,SymbolTag,SymbolInformation,DocumentSymbol,CodeActionKind,CodeActionContext,CodeAction,CodeLens,FormattingOptions,DocumentLink,SelectionRange,TextDocument,Is,_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/monaco-editor@0.49.0/node_modules/monaco-editor/esm/vs/editor/editor.api.js"),__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__copyProps=(to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},monaco_editor_core_exports={};((target,mod,secondTarget)=>(__copyProps(target,mod,"default"),secondTarget&&__copyProps(secondTarget,mod,"default")))(monaco_editor_core_exports,_editor_editor_api_js__WEBPACK_IMPORTED_MODULE_0__);var WorkerManager=class{constructor(defaults){this._defaults=defaults,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(()=>this._stopWorker())}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco_editor_core_exports.editor.createWebWorker({moduleId:"vs/language/html/htmlWorker",createData:{languageSettings:this._defaults.options,languageId:this._defaults.languageId},label:this._defaults.languageId}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(){let _client;for(var _len=arguments.length,resources=Array(_len),_key=0;_key<_len;_key++)resources[_key]=arguments[_key];return this._getClient().then(client=>{_client=client}).then(_=>{if(this._worker)return this._worker.withSyncedResources(resources)}).then(_=>_client)}};!function(integer2){integer2.MIN_VALUE=-0x80000000,integer2.MAX_VALUE=0x7fffffff}(integer||(integer={})),function(uinteger2){uinteger2.MIN_VALUE=0,uinteger2.MAX_VALUE=0x7fffffff}(uinteger||(uinteger={})),function(Position3){function create(line,character){return line===Number.MAX_VALUE&&(line=uinteger.MAX_VALUE),character===Number.MAX_VALUE&&(character=uinteger.MAX_VALUE),{line,character}}function is(value){return Is.objectLiteral(value)&&Is.uinteger(value.line)&&Is.uinteger(value.character)}Position3.create=create,Position3.is=is}(Position||(Position={})),function(Range3){function create(one,two,three,four){if(Is.uinteger(one)&&Is.uinteger(two)&&Is.uinteger(three)&&Is.uinteger(four))return{start:Position.create(one,two),end:Position.create(three,four)};if(Position.is(one)&&Position.is(two))return{start:one,end:two};throw Error("Range#create called with invalid arguments["+one+", "+two+", "+three+", "+four+"]")}function is(value){return Is.objectLiteral(value)&&Position.is(value.start)&&Position.is(value.end)}Range3.create=create,Range3.is=is}(Range||(Range={})),function(Location2){function create(uri,range){return{uri,range}}function is(value){return Is.defined(value)&&Range.is(value.range)&&(Is.string(value.uri)||Is.undefined(value.uri))}Location2.create=create,Location2.is=is}(Location||(Location={})),function(LocationLink2){function create(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri,targetRange,targetSelectionRange,originSelectionRange}}function is(value){return Is.defined(value)&&Range.is(value.targetRange)&&Is.string(value.targetUri)&&(Range.is(value.targetSelectionRange)||Is.undefined(value.targetSelectionRange))&&(Range.is(value.originSelectionRange)||Is.undefined(value.originSelectionRange))}LocationLink2.create=create,LocationLink2.is=is}(LocationLink||(LocationLink={})),function(Color2){function create(red,green,blue,alpha){return{red,green,blue,alpha}}function is(value){return Is.numberRange(value.red,0,1)&&Is.numberRange(value.green,0,1)&&Is.numberRange(value.blue,0,1)&&Is.numberRange(value.alpha,0,1)}Color2.create=create,Color2.is=is}(Color||(Color={})),function(ColorInformation2){function create(range,color){return{range,color}}function is(value){return Range.is(value.range)&&Color.is(value.color)}ColorInformation2.create=create,ColorInformation2.is=is}(ColorInformation||(ColorInformation={})),function(ColorPresentation2){function create(label,textEdit,additionalTextEdits){return{label,textEdit,additionalTextEdits}}function is(value){return Is.string(value.label)&&(Is.undefined(value.textEdit)||TextEdit.is(value))&&(Is.undefined(value.additionalTextEdits)||Is.typedArray(value.additionalTextEdits,TextEdit.is))}ColorPresentation2.create=create,ColorPresentation2.is=is}(ColorPresentation||(ColorPresentation={})),function(FoldingRangeKind2){FoldingRangeKind2.Comment="comment",FoldingRangeKind2.Imports="imports",FoldingRangeKind2.Region="region"}(FoldingRangeKind||(FoldingRangeKind={})),function(FoldingRange2){function create(startLine,endLine,startCharacter,endCharacter,kind){var result={startLine,endLine};return Is.defined(startCharacter)&&(result.startCharacter=startCharacter),Is.defined(endCharacter)&&(result.endCharacter=endCharacter),Is.defined(kind)&&(result.kind=kind),result}function is(value){return Is.uinteger(value.startLine)&&Is.uinteger(value.startLine)&&(Is.undefined(value.startCharacter)||Is.uinteger(value.startCharacter))&&(Is.undefined(value.endCharacter)||Is.uinteger(value.endCharacter))&&(Is.undefined(value.kind)||Is.string(value.kind))}FoldingRange2.create=create,FoldingRange2.is=is}(FoldingRange||(FoldingRange={})),function(DiagnosticRelatedInformation2){function create(location,message){return{location,message}}function is(value){return Is.defined(value)&&Location.is(value.location)&&Is.string(value.message)}DiagnosticRelatedInformation2.create=create,DiagnosticRelatedInformation2.is=is}(DiagnosticRelatedInformation||(DiagnosticRelatedInformation={})),function(DiagnosticSeverity2){DiagnosticSeverity2.Error=1,DiagnosticSeverity2.Warning=2,DiagnosticSeverity2.Information=3,DiagnosticSeverity2.Hint=4}(DiagnosticSeverity||(DiagnosticSeverity={})),function(DiagnosticTag2){DiagnosticTag2.Unnecessary=1,DiagnosticTag2.Deprecated=2}(DiagnosticTag||(DiagnosticTag={})),function(CodeDescription2){function is(value){return null!=value&&Is.string(value.href)}CodeDescription2.is=is}(CodeDescription||(CodeDescription={})),function(Diagnostic2){function create(range,message,severity,code,source,relatedInformation){var result={range,message};return Is.defined(severity)&&(result.severity=severity),Is.defined(code)&&(result.code=code),Is.defined(source)&&(result.source=source),Is.defined(relatedInformation)&&(result.relatedInformation=relatedInformation),result}function is(value){var _a;return Is.defined(value)&&Range.is(value.range)&&Is.string(value.message)&&(Is.number(value.severity)||Is.undefined(value.severity))&&(Is.integer(value.code)||Is.string(value.code)||Is.undefined(value.code))&&(Is.undefined(value.codeDescription)||Is.string(null===(_a=value.codeDescription)||void 0===_a?void 0:_a.href))&&(Is.string(value.source)||Is.undefined(value.source))&&(Is.undefined(value.relatedInformation)||Is.typedArray(value.relatedInformation,DiagnosticRelatedInformation.is))}Diagnostic2.create=create,Diagnostic2.is=is}(Diagnostic||(Diagnostic={})),function(Command2){function create(title,command){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var result={title,command};return Is.defined(args)&&args.length>0&&(result.arguments=args),result}function is(value){return Is.defined(value)&&Is.string(value.title)&&Is.string(value.command)}Command2.create=create,Command2.is=is}(Command||(Command={})),function(TextEdit2){function replace(range,newText){return{range,newText}}function insert(position,newText){return{range:{start:position,end:position},newText}}function del(range){return{range,newText:""}}function is(value){return Is.objectLiteral(value)&&Is.string(value.newText)&&Range.is(value.range)}TextEdit2.replace=replace,TextEdit2.insert=insert,TextEdit2.del=del,TextEdit2.is=is}(TextEdit||(TextEdit={})),function(ChangeAnnotation2){function create(label,needsConfirmation,description){var result={label};return void 0!==needsConfirmation&&(result.needsConfirmation=needsConfirmation),void 0!==description&&(result.description=description),result}function is(value){return void 0!==value&&Is.objectLiteral(value)&&Is.string(value.label)&&(Is.boolean(value.needsConfirmation)||void 0===value.needsConfirmation)&&(Is.string(value.description)||void 0===value.description)}ChangeAnnotation2.create=create,ChangeAnnotation2.is=is}(ChangeAnnotation||(ChangeAnnotation={})),function(ChangeAnnotationIdentifier2){function is(value){return"string"==typeof value}ChangeAnnotationIdentifier2.is=is}(ChangeAnnotationIdentifier||(ChangeAnnotationIdentifier={})),function(AnnotatedTextEdit2){function replace(range,newText,annotation){return{range,newText,annotationId:annotation}}function insert(position,newText,annotation){return{range:{start:position,end:position},newText,annotationId:annotation}}function del(range,annotation){return{range,newText:"",annotationId:annotation}}function is(value){return TextEdit.is(value)&&(ChangeAnnotation.is(value.annotationId)||ChangeAnnotationIdentifier.is(value.annotationId))}AnnotatedTextEdit2.replace=replace,AnnotatedTextEdit2.insert=insert,AnnotatedTextEdit2.del=del,AnnotatedTextEdit2.is=is}(AnnotatedTextEdit||(AnnotatedTextEdit={})),function(TextDocumentEdit2){function create(textDocument,edits){return{textDocument,edits}}function is(value){return Is.defined(value)&&OptionalVersionedTextDocumentIdentifier.is(value.textDocument)&&Array.isArray(value.edits)}TextDocumentEdit2.create=create,TextDocumentEdit2.is=is}(TextDocumentEdit||(TextDocumentEdit={})),function(CreateFile2){function create(uri,options,annotation){var result={kind:"create",uri};return void 0!==options&&(void 0!==options.overwrite||void 0!==options.ignoreIfExists)&&(result.options=options),void 0!==annotation&&(result.annotationId=annotation),result}function is(value){return value&&"create"===value.kind&&Is.string(value.uri)&&(void 0===value.options||(void 0===value.options.overwrite||Is.boolean(value.options.overwrite))&&(void 0===value.options.ignoreIfExists||Is.boolean(value.options.ignoreIfExists)))&&(void 0===value.annotationId||ChangeAnnotationIdentifier.is(value.annotationId))}CreateFile2.create=create,CreateFile2.is=is}(CreateFile||(CreateFile={})),function(RenameFile2){function create(oldUri,newUri,options,annotation){var result={kind:"rename",oldUri,newUri};return void 0!==options&&(void 0!==options.overwrite||void 0!==options.ignoreIfExists)&&(result.options=options),void 0!==annotation&&(result.annotationId=annotation),result}function is(value){return value&&"rename"===value.kind&&Is.string(value.oldUri)&&Is.string(value.newUri)&&(void 0===value.options||(void 0===value.options.overwrite||Is.boolean(value.options.overwrite))&&(void 0===value.options.ignoreIfExists||Is.boolean(value.options.ignoreIfExists)))&&(void 0===value.annotationId||ChangeAnnotationIdentifier.is(value.annotationId))}RenameFile2.create=create,RenameFile2.is=is}(RenameFile||(RenameFile={})),function(DeleteFile2){function create(uri,options,annotation){var result={kind:"delete",uri};return void 0!==options&&(void 0!==options.recursive||void 0!==options.ignoreIfNotExists)&&(result.options=options),void 0!==annotation&&(result.annotationId=annotation),result}function is(value){return value&&"delete"===value.kind&&Is.string(value.uri)&&(void 0===value.options||(void 0===value.options.recursive||Is.boolean(value.options.recursive))&&(void 0===value.options.ignoreIfNotExists||Is.boolean(value.options.ignoreIfNotExists)))&&(void 0===value.annotationId||ChangeAnnotationIdentifier.is(value.annotationId))}DeleteFile2.create=create,DeleteFile2.is=is}(DeleteFile||(DeleteFile={})),function(WorkspaceEdit2){function is(value){return value&&(void 0!==value.changes||void 0!==value.documentChanges)&&(void 0===value.documentChanges||value.documentChanges.every(function(change){return Is.string(change.kind)?CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change):TextDocumentEdit.is(change)}))}WorkspaceEdit2.is=is}(WorkspaceEdit||(WorkspaceEdit={}));var TextEditChangeImpl=function(){function TextEditChangeImpl2(edits,changeAnnotations){this.edits=edits,this.changeAnnotations=changeAnnotations}return TextEditChangeImpl2.prototype.insert=function(position,newText,annotation){var edit,id;if(void 0===annotation?edit=TextEdit.insert(position,newText):ChangeAnnotationIdentifier.is(annotation)?(id=annotation,edit=AnnotatedTextEdit.insert(position,newText,annotation)):(this.assertChangeAnnotations(this.changeAnnotations),id=this.changeAnnotations.manage(annotation),edit=AnnotatedTextEdit.insert(position,newText,id)),this.edits.push(edit),void 0!==id)return id},TextEditChangeImpl2.prototype.replace=function(range,newText,annotation){var edit,id;if(void 0===annotation?edit=TextEdit.replace(range,newText):ChangeAnnotationIdentifier.is(annotation)?(id=annotation,edit=AnnotatedTextEdit.replace(range,newText,annotation)):(this.assertChangeAnnotations(this.changeAnnotations),id=this.changeAnnotations.manage(annotation),edit=AnnotatedTextEdit.replace(range,newText,id)),this.edits.push(edit),void 0!==id)return id},TextEditChangeImpl2.prototype.delete=function(range,annotation){var edit,id;if(void 0===annotation?edit=TextEdit.del(range):ChangeAnnotationIdentifier.is(annotation)?(id=annotation,edit=AnnotatedTextEdit.del(range,annotation)):(this.assertChangeAnnotations(this.changeAnnotations),id=this.changeAnnotations.manage(annotation),edit=AnnotatedTextEdit.del(range,id)),this.edits.push(edit),void 0!==id)return id},TextEditChangeImpl2.prototype.add=function(edit){this.edits.push(edit)},TextEditChangeImpl2.prototype.all=function(){return this.edits},TextEditChangeImpl2.prototype.clear=function(){this.edits.splice(0,this.edits.length)},TextEditChangeImpl2.prototype.assertChangeAnnotations=function(value){if(void 0===value)throw Error("Text edit change is not configured to manage change annotations.")},TextEditChangeImpl2}(),ChangeAnnotations=function(){function ChangeAnnotations2(annotations){this._annotations=void 0===annotations?Object.create(null):annotations,this._counter=0,this._size=0}return ChangeAnnotations2.prototype.all=function(){return this._annotations},Object.defineProperty(ChangeAnnotations2.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),ChangeAnnotations2.prototype.manage=function(idOrAnnotation,annotation){var id;if(ChangeAnnotationIdentifier.is(idOrAnnotation)?id=idOrAnnotation:(id=this.nextId(),annotation=idOrAnnotation),void 0!==this._annotations[id])throw Error("Id "+id+" is already in use.");if(void 0===annotation)throw Error("No annotation provided for id "+id);return this._annotations[id]=annotation,this._size++,id},ChangeAnnotations2.prototype.nextId=function(){return this._counter++,this._counter.toString()},ChangeAnnotations2}();(function(){function WorkspaceChange2(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null),void 0!==workspaceEdit?(this._workspaceEdit=workspaceEdit,workspaceEdit.documentChanges?(this._changeAnnotations=new ChangeAnnotations(workspaceEdit.changeAnnotations),workspaceEdit.changeAnnotations=this._changeAnnotations.all(),workspaceEdit.documentChanges.forEach(function(change){if(TextDocumentEdit.is(change)){var textEditChange=new TextEditChangeImpl(change.edits,_this._changeAnnotations);_this._textEditChanges[change.textDocument.uri]=textEditChange}})):workspaceEdit.changes&&Object.keys(workspaceEdit.changes).forEach(function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange})):this._workspaceEdit={}}Object.defineProperty(WorkspaceChange2.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),WorkspaceChange2.prototype.getTextEditChange=function(key){if(OptionalVersionedTextDocumentIdentifier.is(key)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");var textDocument={uri:key.uri,version:key.version},result=this._textEditChanges[textDocument.uri];if(!result){var edits=[],textDocumentEdit={textDocument,edits};this._workspaceEdit.documentChanges.push(textDocumentEdit),result=new TextEditChangeImpl(edits,this._changeAnnotations),this._textEditChanges[textDocument.uri]=result}return result}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw Error("Workspace edit is not configured for normal text edit changes.");var result=this._textEditChanges[key];if(!result){var edits=[];this._workspaceEdit.changes[key]=edits,result=new TextEditChangeImpl(edits),this._textEditChanges[key]=result}return result},WorkspaceChange2.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new ChangeAnnotations,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},WorkspaceChange2.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},WorkspaceChange2.prototype.createFile=function(uri,optionsOrAnnotation,options){var annotation,operation,id;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)?annotation=optionsOrAnnotation:options=optionsOrAnnotation,void 0===annotation?operation=CreateFile.create(uri,options):(id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation),operation=CreateFile.create(uri,options,id)),this._workspaceEdit.documentChanges.push(operation),void 0!==id)return id},WorkspaceChange2.prototype.renameFile=function(oldUri,newUri,optionsOrAnnotation,options){var annotation,operation,id;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)?annotation=optionsOrAnnotation:options=optionsOrAnnotation,void 0===annotation?operation=RenameFile.create(oldUri,newUri,options):(id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation),operation=RenameFile.create(oldUri,newUri,options,id)),this._workspaceEdit.documentChanges.push(operation),void 0!==id)return id},WorkspaceChange2.prototype.deleteFile=function(uri,optionsOrAnnotation,options){var annotation,operation,id;if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw Error("Workspace edit is not configured for document changes.");if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)?annotation=optionsOrAnnotation:options=optionsOrAnnotation,void 0===annotation?operation=DeleteFile.create(uri,options):(id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation),operation=DeleteFile.create(uri,options,id)),this._workspaceEdit.documentChanges.push(operation),void 0!==id)return id}})(),function(TextDocumentIdentifier2){function create(uri){return{uri}}function is(value){return Is.defined(value)&&Is.string(value.uri)}TextDocumentIdentifier2.create=create,TextDocumentIdentifier2.is=is}(TextDocumentIdentifier||(TextDocumentIdentifier={})),function(VersionedTextDocumentIdentifier2){function create(uri,version){return{uri,version}}function is(value){return Is.defined(value)&&Is.string(value.uri)&&Is.integer(value.version)}VersionedTextDocumentIdentifier2.create=create,VersionedTextDocumentIdentifier2.is=is}(VersionedTextDocumentIdentifier||(VersionedTextDocumentIdentifier={})),function(OptionalVersionedTextDocumentIdentifier2){function create(uri,version){return{uri,version}}function is(value){return Is.defined(value)&&Is.string(value.uri)&&(null===value.version||Is.integer(value.version))}OptionalVersionedTextDocumentIdentifier2.create=create,OptionalVersionedTextDocumentIdentifier2.is=is}(OptionalVersionedTextDocumentIdentifier||(OptionalVersionedTextDocumentIdentifier={})),function(TextDocumentItem2){function create(uri,languageId,version,text){return{uri,languageId,version,text}}function is(value){return Is.defined(value)&&Is.string(value.uri)&&Is.string(value.languageId)&&Is.integer(value.version)&&Is.string(value.text)}TextDocumentItem2.create=create,TextDocumentItem2.is=is}(TextDocumentItem||(TextDocumentItem={})),function(MarkupKind2){MarkupKind2.PlainText="plaintext",MarkupKind2.Markdown="markdown"}(MarkupKind||(MarkupKind={})),function(MarkupKind2){function is(value){return value===MarkupKind2.PlainText||value===MarkupKind2.Markdown}MarkupKind2.is=is}(MarkupKind||(MarkupKind={})),function(MarkupContent2){function is(value){return Is.objectLiteral(value)&&MarkupKind.is(value.kind)&&Is.string(value.value)}MarkupContent2.is=is}(MarkupContent||(MarkupContent={})),function(CompletionItemKind2){CompletionItemKind2.Text=1,CompletionItemKind2.Method=2,CompletionItemKind2.Function=3,CompletionItemKind2.Constructor=4,CompletionItemKind2.Field=5,CompletionItemKind2.Variable=6,CompletionItemKind2.Class=7,CompletionItemKind2.Interface=8,CompletionItemKind2.Module=9,CompletionItemKind2.Property=10,CompletionItemKind2.Unit=11,CompletionItemKind2.Value=12,CompletionItemKind2.Enum=13,CompletionItemKind2.Keyword=14,CompletionItemKind2.Snippet=15,CompletionItemKind2.Color=16,CompletionItemKind2.File=17,CompletionItemKind2.Reference=18,CompletionItemKind2.Folder=19,CompletionItemKind2.EnumMember=20,CompletionItemKind2.Constant=21,CompletionItemKind2.Struct=22,CompletionItemKind2.Event=23,CompletionItemKind2.Operator=24,CompletionItemKind2.TypeParameter=25}(CompletionItemKind||(CompletionItemKind={})),function(InsertTextFormat2){InsertTextFormat2.PlainText=1,InsertTextFormat2.Snippet=2}(InsertTextFormat||(InsertTextFormat={})),(CompletionItemTag||(CompletionItemTag={})).Deprecated=1,function(InsertReplaceEdit2){function create(newText,insert,replace){return{newText,insert,replace}}function is(value){return value&&Is.string(value.newText)&&Range.is(value.insert)&&Range.is(value.replace)}InsertReplaceEdit2.create=create,InsertReplaceEdit2.is=is}(InsertReplaceEdit||(InsertReplaceEdit={})),function(InsertTextMode2){InsertTextMode2.asIs=1,InsertTextMode2.adjustIndentation=2}(InsertTextMode||(InsertTextMode={})),function(CompletionItem2){function create(label){return{label}}CompletionItem2.create=create}(CompletionItem||(CompletionItem={})),function(CompletionList2){function create(items,isIncomplete){return{items:items||[],isIncomplete:!!isIncomplete}}CompletionList2.create=create}(CompletionList||(CompletionList={})),function(MarkedString2){function fromPlainText(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function is(value){return Is.string(value)||Is.objectLiteral(value)&&Is.string(value.language)&&Is.string(value.value)}MarkedString2.fromPlainText=fromPlainText,MarkedString2.is=is}(MarkedString||(MarkedString={})),function(Hover2){function is(value){return!!value&&Is.objectLiteral(value)&&(MarkupContent.is(value.contents)||MarkedString.is(value.contents)||Is.typedArray(value.contents,MarkedString.is))&&(void 0===value.range||Range.is(value.range))}Hover2.is=is}(Hover||(Hover={})),function(ParameterInformation2){function create(label,documentation){return documentation?{label,documentation}:{label}}ParameterInformation2.create=create}(ParameterInformation||(ParameterInformation={})),function(SignatureInformation2){function create(label,documentation){for(var parameters=[],_i=2;_i<arguments.length;_i++)parameters[_i-2]=arguments[_i];var result={label};return Is.defined(documentation)&&(result.documentation=documentation),Is.defined(parameters)?result.parameters=parameters:result.parameters=[],result}SignatureInformation2.create=create}(SignatureInformation||(SignatureInformation={})),function(DocumentHighlightKind2){DocumentHighlightKind2.Text=1,DocumentHighlightKind2.Read=2,DocumentHighlightKind2.Write=3}(DocumentHighlightKind||(DocumentHighlightKind={})),function(DocumentHighlight2){function create(range,kind){var result={range};return Is.number(kind)&&(result.kind=kind),result}DocumentHighlight2.create=create}(DocumentHighlight||(DocumentHighlight={})),function(SymbolKind2){SymbolKind2.File=1,SymbolKind2.Module=2,SymbolKind2.Namespace=3,SymbolKind2.Package=4,SymbolKind2.Class=5,SymbolKind2.Method=6,SymbolKind2.Property=7,SymbolKind2.Field=8,SymbolKind2.Constructor=9,SymbolKind2.Enum=10,SymbolKind2.Interface=11,SymbolKind2.Function=12,SymbolKind2.Variable=13,SymbolKind2.Constant=14,SymbolKind2.String=15,SymbolKind2.Number=16,SymbolKind2.Boolean=17,SymbolKind2.Array=18,SymbolKind2.Object=19,SymbolKind2.Key=20,SymbolKind2.Null=21,SymbolKind2.EnumMember=22,SymbolKind2.Struct=23,SymbolKind2.Event=24,SymbolKind2.Operator=25,SymbolKind2.TypeParameter=26}(SymbolKind||(SymbolKind={})),(SymbolTag||(SymbolTag={})).Deprecated=1,function(SymbolInformation2){function create(name,kind,range,uri,containerName){var result={name,kind,location:{uri,range}};return containerName&&(result.containerName=containerName),result}SymbolInformation2.create=create}(SymbolInformation||(SymbolInformation={})),function(DocumentSymbol2){function create(name,detail,kind,range,selectionRange,children){var result={name,detail,kind,range,selectionRange};return void 0!==children&&(result.children=children),result}function is(value){return value&&Is.string(value.name)&&Is.number(value.kind)&&Range.is(value.range)&&Range.is(value.selectionRange)&&(void 0===value.detail||Is.string(value.detail))&&(void 0===value.deprecated||Is.boolean(value.deprecated))&&(void 0===value.children||Array.isArray(value.children))&&(void 0===value.tags||Array.isArray(value.tags))}DocumentSymbol2.create=create,DocumentSymbol2.is=is}(DocumentSymbol||(DocumentSymbol={})),function(CodeActionKind2){CodeActionKind2.Empty="",CodeActionKind2.QuickFix="quickfix",CodeActionKind2.Refactor="refactor",CodeActionKind2.RefactorExtract="refactor.extract",CodeActionKind2.RefactorInline="refactor.inline",CodeActionKind2.RefactorRewrite="refactor.rewrite",CodeActionKind2.Source="source",CodeActionKind2.SourceOrganizeImports="source.organizeImports",CodeActionKind2.SourceFixAll="source.fixAll"}(CodeActionKind||(CodeActionKind={})),function(CodeActionContext2){function create(diagnostics,only){var result={diagnostics};return null!=only&&(result.only=only),result}function is(value){return Is.defined(value)&&Is.typedArray(value.diagnostics,Diagnostic.is)&&(void 0===value.only||Is.typedArray(value.only,Is.string))}CodeActionContext2.create=create,CodeActionContext2.is=is}(CodeActionContext||(CodeActionContext={})),function(CodeAction2){function create(title,kindOrCommandOrEdit,kind){var result={title},checkKind=!0;return"string"==typeof kindOrCommandOrEdit?(checkKind=!1,result.kind=kindOrCommandOrEdit):Command.is(kindOrCommandOrEdit)?result.command=kindOrCommandOrEdit:result.edit=kindOrCommandOrEdit,checkKind&&void 0!==kind&&(result.kind=kind),result}function is(value){return value&&Is.string(value.title)&&(void 0===value.diagnostics||Is.typedArray(value.diagnostics,Diagnostic.is))&&(void 0===value.kind||Is.string(value.kind))&&(void 0!==value.edit||void 0!==value.command)&&(void 0===value.command||Command.is(value.command))&&(void 0===value.isPreferred||Is.boolean(value.isPreferred))&&(void 0===value.edit||WorkspaceEdit.is(value.edit))}CodeAction2.create=create,CodeAction2.is=is}(CodeAction||(CodeAction={})),function(CodeLens2){function create(range,data){var result={range};return Is.defined(data)&&(result.data=data),result}function is(value){return Is.defined(value)&&Range.is(value.range)&&(Is.undefined(value.command)||Command.is(value.command))}CodeLens2.create=create,CodeLens2.is=is}(CodeLens||(CodeLens={})),function(FormattingOptions2){function create(tabSize,insertSpaces){return{tabSize,insertSpaces}}function is(value){return Is.defined(value)&&Is.uinteger(value.tabSize)&&Is.boolean(value.insertSpaces)}FormattingOptions2.create=create,FormattingOptions2.is=is}(FormattingOptions||(FormattingOptions={})),function(DocumentLink2){function create(range,target,data){return{range,target,data}}function is(value){return Is.defined(value)&&Range.is(value.range)&&(Is.undefined(value.target)||Is.string(value.target))}DocumentLink2.create=create,DocumentLink2.is=is}(DocumentLink||(DocumentLink={})),function(SelectionRange2){function create(range,parent){return{range,parent}}function is(value){return void 0!==value&&Range.is(value.range)&&(void 0===value.parent||SelectionRange2.is(value.parent))}SelectionRange2.create=create,SelectionRange2.is=is}(SelectionRange||(SelectionRange={})),function(TextDocument2){function create(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)}function is(value){return!!(Is.defined(value)&&Is.string(value.uri)&&(Is.undefined(value.languageId)||Is.string(value.languageId))&&Is.uinteger(value.lineCount)&&Is.func(value.getText)&&Is.func(value.positionAt)&&Is.func(value.offsetAt))}function applyEdits(document,edits){for(var text=document.getText(),sortedEdits=mergeSort(edits,function(a,b){var diff=a.range.start.line-b.range.start.line;return 0===diff?a.range.start.character-b.range.start.character:diff}),lastModifiedOffset=text.length,i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i],startOffset=document.offsetAt(e.range.start),endOffset=document.offsetAt(e.range.end);if(endOffset<=lastModifiedOffset)text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length);else throw Error("Overlapping edit");lastModifiedOffset=startOffset}return text}function mergeSort(data,compare){if(data.length<=1)return data;var p=data.length/2|0,left=data.slice(0,p),right=data.slice(p);mergeSort(left,compare),mergeSort(right,compare);for(var leftIdx=0,rightIdx=0,i=0;leftIdx<left.length&&rightIdx<right.length;)0>=compare(left[leftIdx],right[rightIdx])?data[i++]=left[leftIdx++]:data[i++]=right[rightIdx++];for(;leftIdx<left.length;)data[i++]=left[leftIdx++];for(;rightIdx<right.length;)data[i++]=right[rightIdx++];return data}TextDocument2.create=create,TextDocument2.is=is,TextDocument2.applyEdits=applyEdits}(TextDocument||(TextDocument={}));var FullTextDocument=function(){function FullTextDocument2(uri,languageId,version,content){this._uri=uri,this._languageId=languageId,this._version=version,this._content=content,this._lineOffsets=void 0}return Object.defineProperty(FullTextDocument2.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(FullTextDocument2.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(FullTextDocument2.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),FullTextDocument2.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start),end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content},FullTextDocument2.prototype.update=function(event,version){this._content=event.text,this._version=version,this._lineOffsets=void 0},FullTextDocument2.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var lineOffsets=[],text=this._content,isLineStart=!0,i=0;i<text.length;i++){isLineStart&&(lineOffsets.push(i),isLineStart=!1);var ch=text.charAt(i);isLineStart="\r"===ch||"\n"===ch,"\r"===ch&&i+1<text.length&&"\n"===text.charAt(i+1)&&i++}isLineStart&&text.length>0&&lineOffsets.push(text.length),this._lineOffsets=lineOffsets}return this._lineOffsets},FullTextDocument2.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets(),low=0,high=lineOffsets.length;if(0===high)return Position.create(0,offset);for(;low<high;){var mid=Math.floor((low+high)/2);lineOffsets[mid]>offset?high=mid:low=mid+1}var line=low-1;return Position.create(line,offset-lineOffsets[line])},FullTextDocument2.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length)return this._content.length;if(position.line<0)return 0;var lineOffset=lineOffsets[position.line],nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)},Object.defineProperty(FullTextDocument2.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),FullTextDocument2}();!function(Is2){var toString=Object.prototype.toString;function defined(value){return void 0!==value}function undefined2(value){return void 0===value}function boolean(value){return!0===value||!1===value}function string(value){return"[object String]"===toString.call(value)}function number(value){return"[object Number]"===toString.call(value)}function numberRange(value,min,max){return"[object Number]"===toString.call(value)&&min<=value&&value<=max}function integer2(value){return"[object Number]"===toString.call(value)&&-0x80000000<=value&&value<=0x7fffffff}function uinteger2(value){return"[object Number]"===toString.call(value)&&0<=value&&value<=0x7fffffff}function func(value){return"[object Function]"===toString.call(value)}function objectLiteral(value){return null!==value&&"object"==typeof value}function typedArray(value,check){return Array.isArray(value)&&value.every(check)}Is2.defined=defined,Is2.undefined=undefined2,Is2.boolean=boolean,Is2.string=string,Is2.number=number,Is2.numberRange=numberRange,Is2.integer=integer2,Is2.uinteger=uinteger2,Is2.func=func,Is2.objectLiteral=objectLiteral,Is2.typedArray=typedArray}(Is||(Is={}));var DiagnosticsAdapter=class{constructor(_languageId,_worker,configChangeEvent){this._languageId=_languageId,this._worker=_worker,this._disposables=[],this._listener=Object.create(null);let onModelAdd=model=>{let handle,modeId=model.getLanguageId();modeId===this._languageId&&(this._listener[model.uri.toString()]=model.onDidChangeContent(()=>{window.clearTimeout(handle),handle=window.setTimeout(()=>this._doValidate(model.uri,modeId),500)}),this._doValidate(model.uri,modeId))},onModelRemoved=model=>{monaco_editor_core_exports.editor.setModelMarkers(model,this._languageId,[]);let uriStr=model.uri.toString(),listener=this._listener[uriStr];listener&&(listener.dispose(),delete this._listener[uriStr])};this._disposables.push(monaco_editor_core_exports.editor.onDidCreateModel(onModelAdd)),this._disposables.push(monaco_editor_core_exports.editor.onWillDisposeModel(onModelRemoved)),this._disposables.push(monaco_editor_core_exports.editor.onDidChangeModelLanguage(event=>{onModelRemoved(event.model),onModelAdd(event.model)})),this._disposables.push(configChangeEvent(_=>{monaco_editor_core_exports.editor.getModels().forEach(model=>{model.getLanguageId()===this._languageId&&(onModelRemoved(model),onModelAdd(model))})})),this._disposables.push({dispose:()=>{for(let key in monaco_editor_core_exports.editor.getModels().forEach(onModelRemoved),this._listener)this._listener[key].dispose()}}),monaco_editor_core_exports.editor.getModels().forEach(onModelAdd)}dispose(){this._disposables.forEach(d=>d&&d.dispose()),this._disposables.length=0}_doValidate(resource,languageId){this._worker(resource).then(worker=>worker.doValidation(resource.toString())).then(diagnostics=>{let markers=diagnostics.map(d=>toDiagnostics(resource,d)),model=monaco_editor_core_exports.editor.getModel(resource);model&&model.getLanguageId()===languageId&&monaco_editor_core_exports.editor.setModelMarkers(model,languageId,markers)}).then(void 0,err=>{console.error(err)})}};function toSeverity(lsSeverity){switch(lsSeverity){case DiagnosticSeverity.Error:return monaco_editor_core_exports.MarkerSeverity.Error;case DiagnosticSeverity.Warning:return monaco_editor_core_exports.MarkerSeverity.Warning;case DiagnosticSeverity.Information:return monaco_editor_core_exports.MarkerSeverity.Info;case DiagnosticSeverity.Hint:return monaco_editor_core_exports.MarkerSeverity.Hint;default:return monaco_editor_core_exports.MarkerSeverity.Info}}function toDiagnostics(resource,diag){let code="number"==typeof diag.code?String(diag.code):diag.code;return{severity:toSeverity(diag.severity),startLineNumber:diag.range.start.line+1,startColumn:diag.range.start.character+1,endLineNumber:diag.range.end.line+1,endColumn:diag.range.end.character+1,message:diag.message,code,source:diag.source}}var CompletionAdapter=class{constructor(_worker,_triggerCharacters){this._worker=_worker,this._triggerCharacters=_triggerCharacters}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(model,position,context,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.doComplete(resource.toString(),fromPosition(position))).then(info=>{if(!info)return;let wordInfo=model.getWordUntilPosition(position),wordRange=new monaco_editor_core_exports.Range(position.lineNumber,wordInfo.startColumn,position.lineNumber,wordInfo.endColumn),items=info.items.map(entry=>{let item={label:entry.label,insertText:entry.insertText||entry.label,sortText:entry.sortText,filterText:entry.filterText,documentation:entry.documentation,detail:entry.detail,command:toCommand(entry.command),range:wordRange,kind:toCompletionItemKind(entry.kind)};return entry.textEdit&&(isInsertReplaceEdit(entry.textEdit)?item.range={insert:toRange(entry.textEdit.insert),replace:toRange(entry.textEdit.replace)}:item.range=toRange(entry.textEdit.range),item.insertText=entry.textEdit.newText),entry.additionalTextEdits&&(item.additionalTextEdits=entry.additionalTextEdits.map(toTextEdit)),entry.insertTextFormat===InsertTextFormat.Snippet&&(item.insertTextRules=monaco_editor_core_exports.languages.CompletionItemInsertTextRule.InsertAsSnippet),item});return{isIncomplete:info.isIncomplete,suggestions:items}})}};function fromPosition(position){if(position)return{character:position.column-1,line:position.lineNumber-1}}function fromRange(range){if(range)return{start:{line:range.startLineNumber-1,character:range.startColumn-1},end:{line:range.endLineNumber-1,character:range.endColumn-1}}}function toRange(range){if(range)return new monaco_editor_core_exports.Range(range.start.line+1,range.start.character+1,range.end.line+1,range.end.character+1)}function isInsertReplaceEdit(edit){return void 0!==edit.insert&&void 0!==edit.replace}function toCompletionItemKind(kind){let mItemKind=monaco_editor_core_exports.languages.CompletionItemKind;switch(kind){case CompletionItemKind.Text:return mItemKind.Text;case CompletionItemKind.Method:return mItemKind.Method;case CompletionItemKind.Function:return mItemKind.Function;case CompletionItemKind.Constructor:return mItemKind.Constructor;case CompletionItemKind.Field:return mItemKind.Field;case CompletionItemKind.Variable:return mItemKind.Variable;case CompletionItemKind.Class:return mItemKind.Class;case CompletionItemKind.Interface:return mItemKind.Interface;case CompletionItemKind.Module:return mItemKind.Module;case CompletionItemKind.Property:break;case CompletionItemKind.Unit:return mItemKind.Unit;case CompletionItemKind.Value:return mItemKind.Value;case CompletionItemKind.Enum:return mItemKind.Enum;case CompletionItemKind.Keyword:return mItemKind.Keyword;case CompletionItemKind.Snippet:return mItemKind.Snippet;case CompletionItemKind.Color:return mItemKind.Color;case CompletionItemKind.File:return mItemKind.File;case CompletionItemKind.Reference:return mItemKind.Reference}return mItemKind.Property}function toTextEdit(textEdit){if(textEdit)return{range:toRange(textEdit.range),text:textEdit.newText}}function toCommand(c){return c&&"editor.action.triggerSuggest"===c.command?{id:c.command,title:c.title,arguments:c.arguments}:void 0}var HoverAdapter=class{constructor(_worker){this._worker=_worker}provideHover(model,position,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.doHover(resource.toString(),fromPosition(position))).then(info=>{if(info)return{range:toRange(info.range),contents:toMarkedStringArray(info.contents)}})}};function isMarkupContent(thing){return thing&&"object"==typeof thing&&"string"==typeof thing.kind}function toMarkdownString(entry){return"string"==typeof entry?{value:entry}:isMarkupContent(entry)?"plaintext"===entry.kind?{value:entry.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:entry.value}:{value:"```"+entry.language+"\n"+entry.value+"\n```\n"}}function toMarkedStringArray(contents){return contents?Array.isArray(contents)?contents.map(toMarkdownString):[toMarkdownString(contents)]:void 0}var DocumentHighlightAdapter=class{constructor(_worker){this._worker=_worker}provideDocumentHighlights(model,position,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.findDocumentHighlights(resource.toString(),fromPosition(position))).then(entries=>{if(entries)return entries.map(entry=>({range:toRange(entry.range),kind:toDocumentHighlightKind(entry.kind)}))})}};function toDocumentHighlightKind(kind){switch(kind){case DocumentHighlightKind.Read:return monaco_editor_core_exports.languages.DocumentHighlightKind.Read;case DocumentHighlightKind.Write:return monaco_editor_core_exports.languages.DocumentHighlightKind.Write;case DocumentHighlightKind.Text:}return monaco_editor_core_exports.languages.DocumentHighlightKind.Text}var DefinitionAdapter=class{constructor(_worker){this._worker=_worker}provideDefinition(model,position,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.findDefinition(resource.toString(),fromPosition(position))).then(definition=>{if(definition)return[toLocation(definition)]})}};function toLocation(location){return{uri:monaco_editor_core_exports.Uri.parse(location.uri),range:toRange(location.range)}}var ReferenceAdapter=class{constructor(_worker){this._worker=_worker}provideReferences(model,position,context,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.findReferences(resource.toString(),fromPosition(position))).then(entries=>{if(entries)return entries.map(toLocation)})}},RenameAdapter=class{constructor(_worker){this._worker=_worker}provideRenameEdits(model,position,newName,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.doRename(resource.toString(),fromPosition(position),newName)).then(edit=>toWorkspaceEdit(edit))}};function toWorkspaceEdit(edit){if(!edit||!edit.changes)return;let resourceEdits=[];for(let uri in edit.changes){let _uri=monaco_editor_core_exports.Uri.parse(uri);for(let e of edit.changes[uri])resourceEdits.push({resource:_uri,versionId:void 0,textEdit:{range:toRange(e.range),text:e.newText}})}return{edits:resourceEdits}}var DocumentSymbolAdapter=class{constructor(_worker){this._worker=_worker}provideDocumentSymbols(model,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.findDocumentSymbols(resource.toString())).then(items=>{if(items)return items.map(item=>isDocumentSymbol(item)?toDocumentSymbol(item):{name:item.name,detail:"",containerName:item.containerName,kind:toSymbolKind(item.kind),range:toRange(item.location.range),selectionRange:toRange(item.location.range),tags:[]})})}};function isDocumentSymbol(symbol){return"children"in symbol}function toDocumentSymbol(symbol){var _symbol$detail,_symbol$tags,_symbol$children;return{name:symbol.name,detail:null!==(_symbol$detail=symbol.detail)&&void 0!==_symbol$detail?_symbol$detail:"",kind:toSymbolKind(symbol.kind),range:toRange(symbol.range),selectionRange:toRange(symbol.selectionRange),tags:null!==(_symbol$tags=symbol.tags)&&void 0!==_symbol$tags?_symbol$tags:[],children:(null!==(_symbol$children=symbol.children)&&void 0!==_symbol$children?_symbol$children:[]).map(item=>toDocumentSymbol(item))}}function toSymbolKind(kind){let mKind=monaco_editor_core_exports.languages.SymbolKind;switch(kind){case SymbolKind.File:return mKind.File;case SymbolKind.Module:return mKind.Module;case SymbolKind.Namespace:return mKind.Namespace;case SymbolKind.Package:return mKind.Package;case SymbolKind.Class:return mKind.Class;case SymbolKind.Method:return mKind.Method;case SymbolKind.Property:return mKind.Property;case SymbolKind.Field:return mKind.Field;case SymbolKind.Constructor:return mKind.Constructor;case SymbolKind.Enum:return mKind.Enum;case SymbolKind.Interface:return mKind.Interface;case SymbolKind.Function:break;case SymbolKind.Variable:return mKind.Variable;case SymbolKind.Constant:return mKind.Constant;case SymbolKind.String:return mKind.String;case SymbolKind.Number:return mKind.Number;case SymbolKind.Boolean:return mKind.Boolean;case SymbolKind.Array:return mKind.Array}return mKind.Function}var DocumentLinkAdapter=class{constructor(_worker){this._worker=_worker}provideLinks(model,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.findDocumentLinks(resource.toString())).then(items=>{if(items)return{links:items.map(item=>({range:toRange(item.range),url:item.target}))}})}},DocumentFormattingEditProvider=class{constructor(_worker){this._worker=_worker}provideDocumentFormattingEdits(model,options,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.format(resource.toString(),null,fromFormattingOptions(options)).then(edits=>{if(edits&&0!==edits.length)return edits.map(toTextEdit)}))}},DocumentRangeFormattingEditProvider=class{constructor(_worker){this._worker=_worker,this.canFormatMultipleRanges=!1}provideDocumentRangeFormattingEdits(model,range,options,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.format(resource.toString(),fromRange(range),fromFormattingOptions(options)).then(edits=>{if(edits&&0!==edits.length)return edits.map(toTextEdit)}))}};function fromFormattingOptions(options){return{tabSize:options.tabSize,insertSpaces:options.insertSpaces}}var DocumentColorAdapter=class{constructor(_worker){this._worker=_worker}provideDocumentColors(model,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.findDocumentColors(resource.toString())).then(infos=>{if(infos)return infos.map(item=>({color:item.color,range:toRange(item.range)}))})}provideColorPresentations(model,info,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.getColorPresentations(resource.toString(),info.color,fromRange(info.range))).then(presentations=>{if(presentations)return presentations.map(presentation=>{let item={label:presentation.label};return presentation.textEdit&&(item.textEdit=toTextEdit(presentation.textEdit)),presentation.additionalTextEdits&&(item.additionalTextEdits=presentation.additionalTextEdits.map(toTextEdit)),item})})}},FoldingRangeAdapter=class{constructor(_worker){this._worker=_worker}provideFoldingRanges(model,context,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.getFoldingRanges(resource.toString(),context)).then(ranges=>{if(ranges)return ranges.map(range=>{let result={start:range.startLine+1,end:range.endLine+1};return void 0!==range.kind&&(result.kind=toFoldingRangeKind(range.kind)),result})})}};function toFoldingRangeKind(kind){switch(kind){case FoldingRangeKind.Comment:return monaco_editor_core_exports.languages.FoldingRangeKind.Comment;case FoldingRangeKind.Imports:return monaco_editor_core_exports.languages.FoldingRangeKind.Imports;case FoldingRangeKind.Region:return monaco_editor_core_exports.languages.FoldingRangeKind.Region}}var SelectionRangeAdapter=class{constructor(_worker){this._worker=_worker}provideSelectionRanges(model,positions,token){let resource=model.uri;return this._worker(resource).then(worker=>worker.getSelectionRanges(resource.toString(),positions.map(fromPosition))).then(selectionRanges=>{if(selectionRanges)return selectionRanges.map(selectionRange=>{let result=[];for(;selectionRange;)result.push({range:toRange(selectionRange.range)}),selectionRange=selectionRange.parent;return result})})}},HTMLCompletionAdapter=class extends CompletionAdapter{constructor(worker){super(worker,[".",":","<",'"',"=","/"])}};function setupMode1(defaults){let client=new WorkerManager(defaults),worker=function(){return client.getLanguageServiceWorker(...arguments)},languageId=defaults.languageId;monaco_editor_core_exports.languages.registerCompletionItemProvider(languageId,new HTMLCompletionAdapter(worker)),monaco_editor_core_exports.languages.registerHoverProvider(languageId,new HoverAdapter(worker)),monaco_editor_core_exports.languages.registerDocumentHighlightProvider(languageId,new DocumentHighlightAdapter(worker)),monaco_editor_core_exports.languages.registerLinkProvider(languageId,new DocumentLinkAdapter(worker)),monaco_editor_core_exports.languages.registerFoldingRangeProvider(languageId,new FoldingRangeAdapter(worker)),monaco_editor_core_exports.languages.registerDocumentSymbolProvider(languageId,new DocumentSymbolAdapter(worker)),monaco_editor_core_exports.languages.registerSelectionRangeProvider(languageId,new SelectionRangeAdapter(worker)),monaco_editor_core_exports.languages.registerRenameProvider(languageId,new RenameAdapter(worker)),"html"===languageId&&(monaco_editor_core_exports.languages.registerDocumentFormattingEditProvider(languageId,new DocumentFormattingEditProvider(worker)),monaco_editor_core_exports.languages.registerDocumentRangeFormattingEditProvider(languageId,new DocumentRangeFormattingEditProvider(worker)))}function setupMode(defaults){let disposables=[],providers=[],client=new WorkerManager(defaults);disposables.push(client);let worker=function(){return client.getLanguageServiceWorker(...arguments)};return function registerProviders(){let{languageId,modeConfiguration}=defaults;disposeAll(providers),modeConfiguration.completionItems&&providers.push(monaco_editor_core_exports.languages.registerCompletionItemProvider(languageId,new HTMLCompletionAdapter(worker))),modeConfiguration.hovers&&providers.push(monaco_editor_core_exports.languages.registerHoverProvider(languageId,new HoverAdapter(worker))),modeConfiguration.documentHighlights&&providers.push(monaco_editor_core_exports.languages.registerDocumentHighlightProvider(languageId,new DocumentHighlightAdapter(worker))),modeConfiguration.links&&providers.push(monaco_editor_core_exports.languages.registerLinkProvider(languageId,new DocumentLinkAdapter(worker))),modeConfiguration.documentSymbols&&providers.push(monaco_editor_core_exports.languages.registerDocumentSymbolProvider(languageId,new DocumentSymbolAdapter(worker))),modeConfiguration.rename&&providers.push(monaco_editor_core_exports.languages.registerRenameProvider(languageId,new RenameAdapter(worker))),modeConfiguration.foldingRanges&&providers.push(monaco_editor_core_exports.languages.registerFoldingRangeProvider(languageId,new FoldingRangeAdapter(worker))),modeConfiguration.selectionRanges&&providers.push(monaco_editor_core_exports.languages.registerSelectionRangeProvider(languageId,new SelectionRangeAdapter(worker))),modeConfiguration.documentFormattingEdits&&providers.push(monaco_editor_core_exports.languages.registerDocumentFormattingEditProvider(languageId,new DocumentFormattingEditProvider(worker))),modeConfiguration.documentRangeFormattingEdits&&providers.push(monaco_editor_core_exports.languages.registerDocumentRangeFormattingEditProvider(languageId,new DocumentRangeFormattingEditProvider(worker)))}(),disposables.push(asDisposable(providers)),asDisposable(disposables)}function asDisposable(disposables){return{dispose:()=>disposeAll(disposables)}}function disposeAll(disposables){for(;disposables.length;)disposables.pop().dispose()}}}]);