(window.webpackJsonp=window.webpackJsonp||[]).push([[243],{"./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx":function(o,n,e){"use strict";e.d(n,"a",function(){return s});var r=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),x=e.n(r),G=e("./node_modules/core-js/modules/es.regexp.exec.js"),P=e("./node_modules/core-js/modules/es.string.match.js"),u=e("./node_modules/react/index.js"),t=e.n(u),z=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),I=e.n(z),L=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.scss"),g=e.n(L),i={};i.insert="head",i.singleton=!1;var J=I()(g.a,i),$=g.a.locals||{},A=e("./node_modules/clsx/dist/clsx.m.js"),T=e("./node_modules/kea/lib/index.esm.js"),O=e("./frontend/src/lib/components/LemonTable/index.ts"),f=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),C=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),d=e("./frontend/src/lib/components/LemonButton/index.ts"),b=e("./node_modules/antd/es/input/index.js"),R=e("./node_modules/antd/es/button/index.js"),v=e("./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts"),E=e("./frontend/src/lib/utils.tsx"),c=e("./frontend/src/lib/components/LemonButton/More.tsx");function s(p){var U=p.pageKey,Q=p.actionId,K=Object(v.c)({actionId:Q}),m=Object(T.useValues)(K),X=m.appUrlsKeyed,Z=m.suggestionsLoading,H=m.searchTerm,w=m.launchUrl,N=m.appUrls,k=m.editUrlIndex,h=Object(T.useActions)(K),q=h.addUrl,B=h.removeUrl,_=h.setSearchTerm,ee=h.updateUrl,te=h.newUrl,ae=h.setEditUrlIndex,ne=[{title:"URLs",dataIndex:"url",key:"url",render:function(y,a){var F=Object(u.useState)(a.url),j=x()(F,2),l=j[0],V=j[1],se=Object(u.useState)(""),Y=x()(se,2),D=Y[0],S=Y[1];Object(u.useEffect)(function(){return V(a.url)},[a]);var W=function(){if(S(""),l===v.a&&B(a.originalIndex),l.indexOf("*")>-1&&!l.match(/^(.*)\*[^\*]*\.[^\*]+\.[^\*]+$/)){S("You can only wildcard subdomains. If you wildcard the domain or TLD, people might be able to gain access to your PostHog data.");return}if(!Object(E.gb)(l)){S("Please type a valid URL or domain.");return}if(N.indexOf(l)>-1&&N.indexOf(l,a.originalIndex)!==a.originalIndex&&N.indexOf(l,a.originalIndex+1)!==a.originalIndex){S("This URL is already registered.");return}ee(a.originalIndex,l)};return a.type==="suggestion"||y!==v.a&&k!==a.originalIndex?t.a.createElement("div",{className:Object(A.a)("authorized-url-col",a.type)},a.type==="authorized"&&t.a.createElement(C.a,{style:{marginRight:4}}),y,a.type==="suggestion"&&t.a.createElement(f.a,null,"Suggestion")):t.a.createElement("div",null,t.a.createElement("div",{style:{display:"flex"}},t.a.createElement(b.a,{value:l,onChange:function(oe){return V(oe.target.value)},onPressEnter:W,autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)"}),t.a.createElement(R.a,{type:"primary",onClick:W},"Save")),D&&t.a.createElement("span",{className:"text-small text-danger"},D))}},{title:"",key:"actions",render:function(y,a,F){return t.a.createElement("div",{className:"actions-col"},a.type==="suggestion"?t.a.createElement(d.a,{type:"secondary",onClick:function(){return q(a.url)}},"Apply suggestion"):t.a.createElement(t.a.Fragment,null,t.a.createElement(d.a,{type:"highlighted",href:w(a.url),className:"mr"},"Open with Toolbar"),t.a.createElement(c.a,{overlay:t.a.createElement(t.a.Fragment,null,t.a.createElement(d.a,{fullWidth:!0,type:"stealth",onClick:function(){return ae(a.originalIndex)}},"Edit authorized URL"),t.a.createElement(d.a,{fullWidth:!0,style:{color:"var(--danger)"},type:"stealth",onClick:function(){return B(F)}},"Remove authorized URL"))})))}}];return t.a.createElement("div",null,t.a.createElement("div",{className:"flex-center mb"},t.a.createElement("div",{style:{flexGrow:1}},t.a.createElement(b.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for authorized URLs",style:{maxWidth:480},value:H,onChange:function(y){_(y.target.value)},autoFocus:U==="toolbar-launch"&&!Object(E.Y)()})),t.a.createElement(d.a,{type:"primary",onClick:te},"Add",U==="toolbar-launch"&&" authorized domain")),t.a.createElement(O.a,{className:"authorized-urls-table",columns:ne,dataSource:X,emptyState:H?"There are no authorized URLs that match your search.":"There are no authorized URLs or domains. Add one to get started.",loading:Z}))}try{s.displayName="AuthorizedUrlsTable",s.__docgenInfo={description:"",displayName:"AuthorizedUrlsTable",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx#AuthorizedUrlsTable"]={docgenInfo:s.__docgenInfo,name:"AuthorizedUrlsTable",path:"frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx#AuthorizedUrlsTable"})}catch(p){}},"./frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx":function(o,n,e){"use strict";e.r(n),e.d(n,"scene",function(){return R});var r=e("./node_modules/@babel/runtime/helpers/extends.js"),x=e.n(r),G=e("./node_modules/core-js/modules/es.array.map.js"),P=e("./frontend/src/lib/components/PageHeader.tsx"),u=e("./node_modules/react/index.js"),t=e.n(u),z=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),I=e.n(z),L=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss"),g=e.n(L),i={};i.insert="head",i.singleton=!1;var J=I()(g.a,i),$=g.a.locals||{},A=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),T=e("./frontend/src/lib/components/Link.tsx"),O=e("./frontend/src/scenes/urls.ts"),f=e("./frontend/src/lib/components/icons.tsx"),C=e("./node_modules/antd/es/row/index.js"),d=e("./node_modules/antd/es/col/index.js"),b=e("./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.tsx"),R={component:v};function v(){var c=[{title:"Heatmaps",caption:"Understand where your users interact the most.",icon:t.a.createElement(f.IconHeatmap,null)},{title:"Actions",caption:"Create actions visually from elements in your website.",icon:t.a.createElement(f.IconGroupedEvents,null)},{title:"Feature Flags",caption:"Toggle feature flags on/off right on your app.",icon:t.a.createElement(f.IconFlag,null)},{title:"Inspect",caption:"Inspect clickable elements on your website.",icon:t.a.createElement(A.a,null)}];return t.a.createElement("div",{className:"toolbar-launch-page"},t.a.createElement(P.a,{title:"Toolbar",caption:"The toolbar launches PostHog right in your app or website."}),t.a.createElement(b.a,{pageKey:"toolbar-launch"}),t.a.createElement("div",{className:"footer-caption"},"Make sure you're using the ",t.a.createElement(T.a,{to:"".concat(O.a.projectSettings(),"#snippet")},"HTML snippet")," or the latest ",t.a.createElement("code",null,"posthog-js")," version."),t.a.createElement(C.a,{className:"feature-highlight-list"},c.map(function(s){return t.a.createElement(E,x()({key:s.title},s))})))}function E(c){var s=c.title,p=c.caption,U=c.icon;return t.a.createElement(d.a,{sm:12,className:"fh-item"},t.a.createElement("div",{className:"fh-icon"},U),t.a.createElement("div",null,t.a.createElement("h4",null,s),t.a.createElement("div",{className:"caption"},p)))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/AuthorizedUrlsTable.scss":function(o,n,e){var r=e("./node_modules/css-loader/dist/runtime/api.js");n=r(!1),n.push([o.i,".authorized-urls-table .authorized-url-col{display:flex;align-items:center}.authorized-urls-table .authorized-url-col .lemon-tag{margin-left:6px}.authorized-urls-table .authorized-url-col.suggestion{color:var(--text-muted-alt)}.authorized-urls-table .authorized-url-col.authorized{color:var(--success)}.authorized-urls-table .actions-col{display:flex;align-items:center;justify-content:flex-end}",""]),o.exports=n},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss":function(o,n,e){var r=e("./node_modules/css-loader/dist/runtime/api.js");n=r(!1),n.push([o.i,".toolbar-launch-page{margin-bottom:48px}.toolbar-launch-page .footer-caption{text-align:center;color:var(--muted);margin-top:1rem}.toolbar-launch-page .feature-highlight-list{max-width:800px;margin:2rem auto 0}.toolbar-launch-page .feature-highlight-list .fh-item{display:flex;align-items:center;margin-top:1rem}.toolbar-launch-page .feature-highlight-list .fh-item .fh-icon{color:var(--text-muted-alt);margin-right:8px;font-size:1.6em}.toolbar-launch-page .feature-highlight-list .fh-item h4{color:var(--text-muted-alt);margin-bottom:0;font-size:1.2em}",""]),o.exports=n}}]);
