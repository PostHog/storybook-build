(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{"./frontend/src/lib/components/InlineMessage/InlineMessage.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return h});var p=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),R=e.n(p),N=e("./node_modules/react/index.js"),g=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),d=e.n(g),T=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss"),I=e.n(T),V={};V.insert="head",V.singleton=!1;var O=d()(I.a,V),f=I.a.locals||{},o=e("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),C=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),J=e("./node_modules/clsx/dist/clsx.m.js"),Y=e("./node_modules/react/jsx-runtime.js");function h(x){var U=x.children,q=x.style,W=x.icon,S=W===void 0?Object(Y.jsx)(o.a,{}):W,B=x.type,D=B===void 0?"info":B,L=x.closable,A=x.onClose,X=Object(N.useState)(!0),Q=R()(X,2),Z=Q[0],ee=Q[1],G=function(){ee(!1),A==null||A()};return Object(Y.jsxs)("div",{className:Object(J.a)("inline-message",D,L&&"closable",!Z&&"hidden"),style:q,children:[Object(Y.jsx)("div",{className:"inline-icon",children:S}),Object(Y.jsx)("div",{className:"inline-main",children:U}),L&&Object(Y.jsx)("div",{className:"closable",onClick:G,children:Object(Y.jsx)(C.a,{})})]})}try{h.displayName="InlineMessage",h.__docgenInfo={description:"",displayName:"InlineMessage",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},icon:{defaultValue:{value:"<ExclamationCircleFilled />"},description:"",name:"icon",required:!1,type:{name:"Element"}},type:{defaultValue:{value:"info"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"danger"'},{value:'"info"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"]={docgenInfo:h.__docgenInfo,name:"InlineMessage",path:"frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"})}catch(x){}},"./frontend/src/lib/components/Table/utils.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return d});var p=e("./frontend/src/lib/hooks/useWindowSize.js"),R=e("./frontend/src/lib/utils/responsiveUtils.tsx"),N=e("./node_modules/react/jsx-runtime.js"),g=e.n(N);function d(I){return Object(N.jsx)("span",{style:{whiteSpace:"nowrap"},children:I})}var T=function(V){var O=Object(p.a)(),f=O.width,o=Object(R.b)(V),C=!!f&&f<=o;return{isTableScrolling:C,tableScrollBreakpoint:o,tableScrollX:C?"max-content":"".concat(o,"px")}};try{d.displayName="normalizeColumnTitle",d.__docgenInfo={description:"",displayName:"normalizeColumnTitle",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"]={docgenInfo:d.__docgenInfo,name:"normalizeColumnTitle",path:"frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"})}catch(I){}try{T.displayName="useIsTableScrolling",T.__docgenInfo={description:"",displayName:"useIsTableScrolling",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"]={docgenInfo:T.__docgenInfo,name:"useIsTableScrolling",path:"frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"})}catch(I){}},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return B});var p=e("./node_modules/kea/lib/index.esm.js"),R=e("./frontend/src/lib/components/LemonTable/index.ts"),N=e("./frontend/src/models/groupsModel.ts"),g=e("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),d=e.n(g),T=e("./frontend/src/lib/utils.tsx"),I=e("./frontend/src/scenes/persons/PersonHeader.tsx"),V=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),O=e.n(V),f=e("./node_modules/@babel/runtime/regenerator/index.js"),o=e.n(f),C=e("./node_modules/core-js/modules/es.array.concat.js"),J=e("./node_modules/core-js/modules/es.array.iterator.js"),Y=e("./node_modules/core-js/modules/es.object.to-string.js"),h=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),x=e("./frontend/src/lib/api.ts"),U=e("./frontend/src/scenes/teamLogic.tsx"),q=Object(p.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[U.a,["currentTeamId"]]},props:{},key:function(L){var A;return"".concat((A=L.groupTypeIndex)!==null&&A!==void 0?A:"person","-").concat(L.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(L){var A=L.values,X=L.props;return{relatedActors:[[],{loadRelatedActors:function(){var Q=O()(o.a.mark(function ee(){var G;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return G="api/projects/".concat(A.currentTeamId,"/groups/related?").concat(Object(T.Eb)({group_type_index:X.groupTypeIndex,id:X.id})),n.next=3,x.b.get(G);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},ee)}));function Z(){return Q.apply(this,arguments)}return Z}(),setGroup:function(){return[]}}]}},events:function(L){var A=L.actions;return{afterMount:A.loadRelatedActors}}}),W=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),S=e("./node_modules/react/jsx-runtime.js");function B(D){var L=D.groupTypeIndex,A=D.id,X=Object(p.useValues)(q({groupTypeIndex:L,id:A})),Q=X.relatedActors,Z=X.relatedActorsLoading,ee=Object(p.useValues)(N.a),G=ee.aggregationLabel,fe=[{title:"Type",key:"type",render:function(he,se){return se.type==="group"?Object(S.jsx)(S.Fragment,{children:Object(T.i)(G(se.group_type_index).singular)}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(d.a,{})," Person"]})}},{title:"id",key:"id",render:function(he,se){return se.type=="group"?Object(S.jsx)(W.a,{actor:se}):Object(S.jsx)(I.a,{person:se,withIcon:!1})}}];return Object(S.jsx)(R.a,{dataSource:Q,columns:fe,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:Z,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{B.displayName="RelatedGroups",B.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:B.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(D){}},"./frontend/src/scenes/persons/Person.tsx":function(M,r,e){"use strict";e.r(r),e.d(r,"scene",function(){return Ke}),e.d(r,"Person",function(){return Le});var p=e("./node_modules/core-js/modules/es.array.map.js"),R=e("./node_modules/core-js/modules/es.array.slice.js"),N=e("./node_modules/core-js/modules/es.array.join.js"),g=e("./node_modules/antd/es/tabs/index.js"),d=e("./node_modules/antd/es/dropdown/index.js"),T=e("./node_modules/antd/es/menu/index.js"),I=e("./node_modules/antd/es/tag/index.js"),V=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),O=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),f=e("./frontend/src/scenes/events/index.ts"),o=e("./node_modules/kea/lib/index.esm.js"),C=e("./frontend/src/scenes/persons/personsLogic.tsx"),J=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Y=e("./frontend/src/scenes/persons/Persons.scss"),h=e("./frontend/src/lib/components/CopyToClipboard.tsx"),x=e("./node_modules/antd/es/modal/index.js"),U=e("./node_modules/antd/es/select/index.js"),q=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),W=e.n(q),S=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss"),B=e.n(S),D={};D.insert="head",D.singleton=!1;var L=W()(B.a,D),A=B.a.locals||{},X=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Q=e.n(X),Z=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ee=e.n(Z),G=e("./node_modules/@babel/runtime/regenerator/index.js"),fe=e.n(G),n=e("./node_modules/core-js/modules/es.array.iterator.js"),he=e("./node_modules/core-js/modules/es.object.to-string.js"),se=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ie=e("./node_modules/core-js/modules/es.object.keys.js"),ve=e("./node_modules/core-js/modules/es.symbol.js"),ce=e("./node_modules/core-js/modules/es.array.filter.js"),be=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),w=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),le=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ge=e("./node_modules/kea-router/lib/index.js"),m=e("./frontend/src/lib/api.ts"),xe=e("./frontend/src/lib/components/lemonToast.tsx"),ae=e("./frontend/src/lib/utils/eventUsageLogic.ts");function ye(u,t){var a=Object.keys(u);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(u);t&&(E=E.filter(function(k){return Object.getOwnPropertyDescriptor(u,k).enumerable})),a.push.apply(a,E)}return a}function b(u){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(a),!0).forEach(function(E){Q()(u,E,a[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach(function(E){Object.defineProperty(u,E,Object.getOwnPropertyDescriptor(a,E))})}return u}var j=Object(o.kea)({props:{},key:function(t){var a;return(a=t.person.id)!==null&&a!==void 0?a:"new"},path:function(t){return["scenes","persons","mergeSplitPersonLogic",t]},connect:function(){return{actions:[Object(C.a)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[Object(C.a)({syncWithUrl:!0}),["persons"]]}},actions:{setSelectedPersonToAssignSplit:function(t){return{id:t}},cancel:!0},reducers:function(t){var a=t.props;return{person:[a.person,{}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:function(k,_){var me=_.id;return me}}]}},listeners:function(t){var a=t.actions,E=t.values;return{setListFilters:function(){a.loadPersons()},cancel:function(){E.executedLoading||a.setSplitMergeModalShown(!1)}}},loaders:function(t){var a=t.values,E=t.actions;return{executed:[!1,{execute:function(){var k=ee()(fe.a.mark(function me(){var re;return fe.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,m.b.create("api/person/"+a.person.id+"/split/",b({},a.selectedPersonsToAssignSplit?{main_distinct_id:a.selectedPersonsToAssignSplit}:{}));case 2:if(re=H.sent,!re.success){H.next=9;break}return xe.d.success("Person succesfully split. This may take up to a couple of minutes to complete."),ae.e.actions.reportPersonSplit(a.person.distinct_ids.length),E.setSplitMergeModalShown(!1),ge.router.actions.push("/persons"),H.abrupt("return",!0);case 9:return H.abrupt("return",!1);case 10:case"end":return H.stop()}},me)}));function _(){return k.apply(this,arguments)}return _}()}]}},events:function(t){var a=t.actions;return{afterMount:[a.loadPersons]}}}),Oe=e("./frontend/src/lib/utils.tsx"),de=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),s=e("./node_modules/react/jsx-runtime.js");function l(u){var t=u.person,a={person:t},E=Object(o.useValues)(j(a)),k=E.executedLoading,_=Object(o.useActions)(j(a)),me=_.execute,re=_.cancel;return Object(s.jsx)(x.a,{visible:!0,title:"Split persons",onCancel:re,className:"merge-split-person",okText:"Split persons",onOk:me,okButtonProps:{loading:k},cancelButtonProps:{disabled:k},children:t.distinct_ids.length<2?"Only persons with more than two distinct IDs can be split.":Object(s.jsx)(o.BindLogic,{logic:j,props:a,children:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(i,{})})})})}function i(){var u=Object(o.useValues)(j),t=u.person,a=u.executedLoading,E=Object(o.useActions)(j),k=E.setSelectedPersonToAssignSplit;return t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"This will split all Distinct IDs for this person into unique persons."}),Object(s.jsxs)("p",{children:["You can select a distinct ID for which all the current properties will be assigned (",Object(s.jsx)("i",{children:"optional"}),"). All other new users will start without any properties."]}),Object(s.jsx)(U.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:function(me){return k(me)},filterOption:!1,disabled:a,children:t==null?void 0:t.distinct_ids.map(function(_){return Object(s.jsx)(U.a.Option,{value:_,children:_},_)})}),Object(s.jsx)(de.a,{style:{marginTop:16},type:"danger",children:Object(s.jsxs)("div",{children:["This will create ",Object(s.jsx)("strong",{children:t.distinct_ids.length-1})," new"," ",Object(Oe.sb)(t.distinct_ids.length,"person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."]})})]}):null}try{l.displayName="MergeSplitPerson",l.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:l.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(u){}var c=e("./node_modules/core-js/modules/es.function.name.js"),P=e("./node_modules/react/index.js"),ue=e("./frontend/src/lib/components/LemonTable/index.ts"),ne=e("./frontend/src/scenes/urls.ts"),v=e("./frontend/src/lib/components/Link.tsx");function z(){var u=Object(o.useValues)(C.a),t=u.cohorts,a=u.cohortsLoading,E=u.person,k=Object(o.useActions)(C.a),_=k.loadCohorts;Object(P.useEffect)(function(){_()},[E]);var me=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function(pe,H){return Object(s.jsx)(v.a,{to:ne.a.cohort(H.id),children:Object(s.jsx)("strong",{children:H.name})})},sorter:function(pe,H){return(pe.name||"").localeCompare(H.name||"")}},{title:"Users in cohort",render:function(pe){return pe==null?void 0:pe.toLocaleString()},dataIndex:"count",sorter:function(pe,H){return(pe.count||0)-(H.count||0)}}];return Object(s.jsx)(ue.a,{dataSource:t||[],loading:a,columns:me,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var $=e("./frontend/src/lib/components/PropertiesTable.tsx"),te=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),je=e("./frontend/src/lib/components/Tooltip.tsx"),K=e("./frontend/src/types.ts"),F=e("./frontend/src/lib/components/PageHeader.tsx"),y=e("./frontend/src/scenes/groups/RelatedGroups.tsx"),oe=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Pe=e("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),Ae=e("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),Re=e("./frontend/@posthog/lemon-ui/src/index.ts"),Ee=e("./frontend/src/scenes/teamLogic.tsx"),Me=e("./frontend/src/lib/components/AlertMessage/index.ts"),Fe=e("./frontend/src/scenes/persons/PersonDeleteModal.tsx"),De=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),Ne=e("./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx"),Ue=e("./frontend/src/lib/components/NotFound/index.tsx"),Be=e("./frontend/src/scenes/persons/RelatedFeatureFlags.tsx"),Se=g.a.TabPane,Ke={component:Le,logic:C.a,paramsToProps:function(t){var a=t.params._;return{syncWithUrl:!0,urlId:decodeURIComponent(a)}}};function Ve(u){var t=u.person;return Object(s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"text-muted",children:"IDs:"})," ",Object(s.jsx)(h.a,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"},children:t.distinct_ids[0]}),t.distinct_ids.length>1&&Object(s.jsx)(d.a,{overlay:Object(s.jsx)(T.a,{children:t.distinct_ids.slice(1).map(function(a){return Object(s.jsx)(T.a.Item,{children:Object(s.jsx)(h.a,{description:"person distinct ID",iconStyle:{color:"var(--primary)"},children:a})},a)})}),trigger:["click"],children:Object(s.jsxs)(I.a,{className:"extra-ids",children:["+",t.distinct_ids.length-1,Object(s.jsx)(V.a,{})]})})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"text-muted",children:"First seen:"})," ",t.created_at?Object(s.jsx)(te.b,{time:t.created_at}):"unknown"]})]})}function Le(){var u=Object(o.useValues)(C.a),t=u.person,a=u.personLoading,E=u.deletedPersonLoading,k=u.currentTab,_=u.splitMergeModalShown,me=u.urlId,re=Object(o.useActions)(C.a),pe=re.editProperty,H=re.deleteProperty,We=re.navigateToTab,Ge=re.setSplitMergeModalShown,Ye=re.showPersonDeleteModal,ze=Object(o.useValues)(oe.b),$e=ze.groupsEnabled,He=Object(o.useValues)(Ee.a),Te=He.currentTeam;return t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(F.a,{title:Object(J.b)(t),caption:Object(s.jsx)(Ve,{person:t}),buttons:Object(s.jsxs)("div",{className:"flex gap-2",children:[Object(s.jsx)(Re.LemonButton,{onClick:function(){return Ye(t)},disabled:E,loading:E,type:"secondary",status:"danger","data-attr":"delete-person",children:"Delete person"}),t.distinct_ids.length>1&&Object(s.jsx)(Re.LemonButton,{onClick:function(){return Ge(!0)},"data-attr":"merge-person-button",type:"secondary",children:"Split IDs"})]})}),Object(s.jsx)(Fe.a,{}),Object(s.jsxs)(g.a,{activeKey:k,onChange:function(Ce){We(Ce)},destroyInactiveTabPane:!0,"data-attr":"persons-tabs",children:[Object(s.jsx)(Se,{tab:Object(s.jsx)("span",{"data-attr":"persons-properties-tab",children:"Properties"}),children:Object(s.jsx)($.a,{properties:t.properties||{},searchable:!0,onEdit:pe,sortProperties:!0,embedded:!1,onDelete:function(Ce){return H(Ce)}})},K.J.PROPERTIES),Object(s.jsx)(Se,{tab:Object(s.jsx)("span",{"data-attr":"persons-events-tab",children:"Events"}),children:Object(s.jsx)(f.b,{pageKey:t.distinct_ids.join("__"),fixedFilters:{person_id:t.id},showPersonColumn:!1,sceneUrl:ne.a.person(me||t.distinct_ids[0]||String(t.id))})},K.J.EVENTS),Object(s.jsxs)(Se,{tab:Object(s.jsx)("span",{"data-attr":"person-session-recordings-tab",children:"Recordings"}),children:[Te!=null&&Te.session_recording_opt_in?null:Object(s.jsx)("div",{className:"mb-4",children:Object(s.jsxs)(Me.a,{type:"info",children:["Session recordings are currently disabled for this project. To use this feature, please go to your ",Object(s.jsx)(Re.Link,{to:"".concat(ne.a.projectSettings(),"#recordings"),children:"project settings"})," and enable it."]})}),Object(s.jsx)(Ne.a,{personUUID:t.uuid,isPersonPage:!0},t.uuid)]},K.J.SESSION_RECORDINGS),Object(s.jsx)(Se,{tab:Object(s.jsx)("span",{"data-attr":"persons-cohorts-tab",children:"Cohorts"}),children:Object(s.jsx)(z,{})},K.J.COHORTS),$e&&t.uuid&&Object(s.jsx)(Se,{tab:Object(s.jsxs)("span",{"data-attr":"persons-related-tab",children:["Related groups",Object(s.jsx)(je.a,{title:"People and groups that have shared events with this person in the last 90 days.",children:Object(s.jsx)(O.a,{style:{marginLeft:6,marginRight:0}})})]}),children:Object(s.jsx)(y.a,{id:t.uuid,groupTypeIndex:null})},K.J.RELATED),t.uuid&&Object(s.jsx)(Se,{tab:Object(s.jsx)("span",{"data-attr":"persons-related-flags-tab",children:"Feature flags"}),children:Object(s.jsx)(Be.b,{distinctId:t.distinct_ids[0]})},K.J.FEATURE_FLAGS),Object(s.jsx)(Se,{tab:"History",children:Object(s.jsx)(Pe.a,{scope:Ae.a.PERSON,id:t.id,caption:Object(s.jsxs)("div",{children:[Object(s.jsx)(O.a,{style:{marginRight:".25rem"}}),Object(s.jsx)("span",{children:"This page only shows changes made by users in the PostHog site. Automatic changes from the API aren't shown here."})]})})},"history")]}),_&&t&&Object(s.jsx)(l,{person:t})]}):a?Object(s.jsx)(De.b,{}):Object(s.jsx)(Ue.a,{object:"Person"})}},"./frontend/src/scenes/persons/PersonDeleteModal.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return I});var p=e("./node_modules/kea/lib/index.esm.js"),R=e("./frontend/src/scenes/persons/personsLogic.tsx"),N=e("./frontend/src/scenes/persons/PersonHeader.tsx"),g=e("./frontend/@posthog/lemon-ui/src/index.ts"),d=e("./node_modules/react/jsx-runtime.js"),T=e.n(d);function I(){var V=Object(p.useValues)(R.a),O=V.personDeleteModal,f=Object(p.useActions)(R.a),o=f.deletePerson,C=f.showPersonDeleteModal;return Object(d.jsx)(g.LemonModal,{isOpen:!!O,onClose:function(){return C(null)},title:'Are you sure you want to delete "'.concat(Object(N.b)(O),'"?'),description:Object(d.jsxs)(d.Fragment,{children:["This action cannot be undone. If you opt to delete the person and its corresponding events, the events will not be immediately removed. Instead these events will be deleted on a set schedule during non-peak usage times.",Object(d.jsxs)("a",{href:"https://posthog.com/docs/privacy/data-deletion",target:"_blank",rel:"noopener",className:"font-bold",children:[" ","Learn more"]})]}),footer:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g.LemonButton,{status:"danger",type:"secondary",onClick:function(){o({person:O,deleteEvents:!0}),C(null)},"data-attr":"delete-person-with-events",children:"Delete person and all corresponding events"}),Object(d.jsx)(g.LemonButton,{type:"secondary",onClick:function(){return C(null)},"data-attr":"delete-person-cancel",children:"Cancel"}),Object(d.jsx)(g.LemonButton,{type:"primary",status:"danger",onClick:function(){o({person:O,deleteEvents:!1}),C(null)},"data-attr":"delete-person-no-events",children:"Delete person"})]})})}},"./frontend/src/scenes/persons/Persons.scss":function(M,r,e){"use strict";var p=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),R=e.n(p),N=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),g=e.n(N),d={};d.insert="head",d.singleton=!1;var T=R()(g.a,d),I=g.a.locals||{}},"./frontend/src/scenes/persons/RelatedFeatureFlags.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return j}),e.d(r,"b",function(){return de});var p=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),R=e.n(p),N=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),g=e.n(N),d=e("./node_modules/core-js/modules/es.function.name.js"),T=e("./node_modules/core-js/modules/es.object.to-string.js"),I=e("./node_modules/core-js/modules/es.regexp.to-string.js"),V=e("./node_modules/core-js/modules/es.number.constructor.js"),O=e("./frontend/@posthog/lemon-ui/src/index.ts"),f=e("./node_modules/kea/lib/index.esm.js"),o=e("./frontend/src/lib/components/Table/utils.tsx"),C=e("./frontend/src/lib/utils.tsx"),J=e("./frontend/src/lib/utils/stringWithWBR.tsx"),Y=e("./frontend/src/scenes/urls.ts"),h=e("./frontend/src/types.ts"),x=e("./node_modules/core-js/modules/es.symbol.js"),U=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),q=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),W=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),S=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),B=e.n(S),D=e("./node_modules/@babel/runtime/regenerator/index.js"),L=e.n(D),A=e("./node_modules/core-js/modules/es.array.iterator.js"),X=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Q=e("./node_modules/core-js/modules/es.array.concat.js"),Z=e("./node_modules/core-js/modules/es.regexp.exec.js"),ee=e("./node_modules/core-js/modules/es.string.replace.js"),G=e("./node_modules/core-js/modules/es.array.map.js"),fe=e("./node_modules/core-js/modules/es.object.keys.js"),n=e("./node_modules/core-js/modules/es.string.search.js"),he=e("./node_modules/core-js/modules/es.array.filter.js"),se=e("./node_modules/fuse.js/dist/fuse.esm.js"),ie=e("./node_modules/kea-loaders/lib/index.js"),ve=e("./frontend/src/lib/api.ts"),ce=e("./frontend/src/scenes/feature-flags/featureFlagsLogic.ts"),be=e("./frontend/src/scenes/teamLogic.tsx");function w(s,l){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);l&&(c=c.filter(function(P){return Object.getOwnPropertyDescriptor(s,P).enumerable})),i.push.apply(i,c)}return i}function le(s){for(var l=1;l<arguments.length;l++){var i=arguments[l]!=null?arguments[l]:{};l%2?w(Object(i),!0).forEach(function(c){g()(s,c,i[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(i,c))})}return s}var ge=Object(f.kea)([Object(f.path)(["scenes","persons","relatedFeatureFlagsLogic"]),Object(f.connect)({values:[be.a,["currentTeamId"],ce.b,["featureFlags"]]}),Object(f.props)({}),Object(f.key)(function(s){return"".concat(s.distinctId)}),Object(f.actions)({setSearchTerm:function(l){return{searchTerm:l}},setFilters:function(l,i){return{filters:l,replace:i}},loadRelatedFeatureFlags:!0}),Object(ie.loaders)(function(s){var l=s.values,i=s.props;return{relatedFeatureFlags:[null,{loadRelatedFeatureFlags:function(){var c=B()(L.a.mark(function ue(){var ne;return L.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,ve.b.get("api/projects/".concat(l.currentTeamId,"/feature_flags/evaluation_reasons?").concat(Object(C.Eb)(le({distinct_id:i.distinctId},i.groups?{groups:i.groups}:{}))));case 2:return ne=z.sent,z.abrupt("return",ne);case 4:case"end":return z.stop()}},ue)}));function P(){return c.apply(this,arguments)}return P}()}]}}),Object(f.reducers)({searchTerm:["",{setSearchTerm:function(l,i){var c=i.searchTerm;return c}}],filters:[{},{setFilters:function(l,i){var c=i.filters,P=i.replace;return le(P?{}:le({},l),c)}}]}),Object(f.selectors)(function(){return{mappedRelatedFeatureFlags:[function(s){return[s.relatedFeatureFlags,s.featureFlags]},function(s,l){return s&&l?l.map(function(i){return le(le({},s[i.key]),i)}):[]}],filteredMappedFlags:[function(s){return[s.mappedRelatedFeatureFlags,s.searchTerm,s.filters]},function(s,l,i){if(!l&&Object.keys(i).length===0)return s;var c=s;l&&(c=new se.a(s,{keys:["key","name"],threshold:.3}).search(l).map(function(v){return v.item}));var P=i.type,ue=i.active,ne=i.reason;return P&&(c=c.filter(function(v){return P===h.t.Variants?v.filters.multivariate:!v.filters.multivariate})),ue&&(c=c.filter(function(v){return ue==="true"?v.active:!v.active})),ne&&(c=c.filter(function(v){return ne==="not matched"?v.evaluation.reason!==j.ConditionMatch:v.evaluation.reason===j.ConditionMatch})),c}]}}),Object(f.events)(function(s){var l=s.actions;return{afterMount:l.loadRelatedFeatureFlags}})]),m=e("./node_modules/react/jsx-runtime.js"),xe=["type"],ae=["reason"],ye=["active"],b,j;(function(s){s.ConditionMatch="condition_match",s.NoConditionMatch="no_condition_match",s.OutOfRolloutBound="out_of_rollout_bound",s.NoGroupType="no_group_type",s.Disabled="disabled"})(j||(j={}));var Oe=(b={},g()(b,j.ConditionMatch,"Matches"),g()(b,j.NoConditionMatch,"Doesn't match any conditions"),g()(b,j.OutOfRolloutBound,"Out of rollout bound"),g()(b,j.NoGroupType,"Missing group type"),g()(b,j.Disabled,"Disabled"),b);function de(s){var l=s.distinctId,i=s.groups,c=Object(f.useValues)(ge({distinctId:l,groups:i})),P=c.filteredMappedFlags,ue=c.relatedFeatureFlagsLoading,ne=c.searchTerm,v=c.filters,z=Object(f.useActions)(ge({distinctId:l,groups:i})),$=z.setSearchTerm,te=z.setFilters,je=[{title:Object(o.a)("Key"),dataIndex:"key",className:"ph-no-capture",sticky:!0,width:"40%",sorter:function(F,y){return(F.key||"").localeCompare(y.key||"")},render:function(F,y){var oe=(y.experiment_set||[]).length>0;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(O.Link,{to:y.id?Y.a.featureFlag(y.id):void 0,className:"row-name",children:[Object(J.a)(y.key,17),Object(m.jsx)(O.LemonTag,{type:oe?"purple":"default",className:"ml-2",children:oe?"Experiment":"Feature flag"})]}),y.name&&Object(m.jsx)("span",{className:"row-description",children:y.name})]})}},{title:"Type",width:100,render:function(F,y){return y.filters.multivariate?h.t.Variants:h.t.ReleaseToggle}},{title:"Value",dataIndex:"value",width:150,render:function(F,y){return Object(m.jsx)("div",{style:{wordBreak:"break-word"},children:y.active?Object(C.i)(y.value.toString()):"--"})}},{title:"Match evaluation",dataIndex:"evaluation",width:150,render:function(F,y){var oe,Pe=y.evaluation.reason===j.ConditionMatch;return Object(m.jsxs)("div",{children:[y.active?Object(m.jsx)(m.Fragment,{children:Oe[y.evaluation.reason]}):"--",Pe&&Object(m.jsxs)("span",{className:"simple-tag ml-2",style:{background:"var(--primary-highlight)"},children:["Set ",((oe=y.evaluation.condition_index)!==null&&oe!==void 0?oe:0)+1]})]})}},{title:"Status",dataIndex:"active",sorter:function(F,y){return Number(F.active)-Number(y.active)},width:100,render:function(F,y){return Object(m.jsx)("span",{className:"font-normal",children:y.active?"Enabled":"Disabled"})}}];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"flex justify-between mb-4",children:[Object(m.jsx)(O.LemonInput,{type:"search",placeholder:"Search for feature flags",onChange:$,value:ne}),Object(m.jsxs)("div",{className:"flex items-center gap-2",children:[Object(m.jsx)("span",{children:Object(m.jsx)("b",{children:"Type"})}),Object(m.jsx)(O.LemonSelect,{options:[{label:"All types",value:"all"},{label:h.t.ReleaseToggle,value:h.t.ReleaseToggle},{label:h.t.Variants,value:h.t.Variants}],onChange:function(F){if(F)if(F==="all"){if(v){var y=v.type,oe=R()(v,xe);te(oe,!0)}}else te({type:F})},value:"all",dropdownMaxContentWidth:!0}),Object(m.jsx)("span",{className:"ml-2",children:Object(m.jsx)("b",{children:"Match evaluation"})}),Object(m.jsx)(O.LemonSelect,{options:[{label:"All",value:"all"},{label:"Matched",value:j.ConditionMatch},{label:"Not matched",value:"not matched"}],onChange:function(F){if(F)if(F==="all"){if(v){var y=v.reason,oe=R()(v,ae);te(oe,!0)}}else te({reason:F})},value:"all",dropdownMaxContentWidth:!0}),Object(m.jsx)("span",{className:"ml-2",children:Object(m.jsx)("b",{children:"Status"})}),Object(m.jsx)(O.LemonSelect,{onChange:function(F){if(F)if(F==="all"){if(v){var y=v.active,oe=R()(v,ye);te(oe,!0)}}else te({active:F})},options:[{label:"All",value:"all"},{label:"Enabled",value:"true"},{label:"Disabled",value:"false"}],value:"all",dropdownMaxContentWidth:!0})]})]}),Object(m.jsx)(O.LemonTable,{columns:je,loading:ue,dataSource:P})]})}try{de.displayName="RelatedFeatureFlags",de.__docgenInfo={description:"",displayName:"RelatedFeatureFlags",props:{distinctId:{defaultValue:null,description:"",name:"distinctId",required:!0,type:{name:"string"}},groups:{defaultValue:null,description:"",name:"groups",required:!1,type:{name:"{ [key: string]: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/RelatedFeatureFlags.tsx#RelatedFeatureFlags"]={docgenInfo:de.__docgenInfo,name:"RelatedFeatureFlags",path:"frontend/src/scenes/persons/RelatedFeatureFlags.tsx#RelatedFeatureFlags"})}catch(s){}},"./frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return J}),e.d(r,"b",function(){return Y});var p=e("./node_modules/kea/lib/index.esm.js"),R=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),N=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),g=e("./frontend/src/lib/utils/eventUsageLogic.ts"),d=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),T=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),I=e("./frontend/src/lib/components/icons.tsx"),V=e("./frontend/src/lib/components/LemonButton/index.ts"),O=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),f=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx"),o=e("./node_modules/react/jsx-runtime.js"),C=e.n(o);function J(h){var x=h.personUUID,U=h.isPersonPage,q=U===void 0?!1:U,W=Object(R.c)({personUUID:x}),S=Object(p.useValues)(W),B=S.entityFilters,D=S.propertyFilters,L=S.filtersEnabled,A=Object(p.useActions)(W),X=A.setEntityFilters,Q=A.setPropertyFilters,Z=A.reportRecordingsListFilterAdded;return Object(o.jsx)(o.Fragment,{children:L?Object(o.jsxs)("div",{className:"flex-1 border rounded p-4",children:[Object(o.jsxs)("div",{className:"space-y-2",children:[Object(o.jsx)(f.a,{info:"Show recordings where all of the events or actions listed below happen.",children:"Filter by events and actions"}),Object(o.jsx)(N.a,{bordered:!0,filters:B,setFilters:function(G){Z(g.d.EventAndAction),X(G)},typeKey:q?"person-".concat(x):"session-recordings",mathAvailability:O.b.None,buttonCopy:"Add filter",hideRename:!0,hideDuplicate:!0,showNestedArrow:!1,actionsTaxonomicGroupTypes:[d.a.Actions,d.a.Events],propertiesTaxonomicGroupTypes:[d.a.EventProperties,d.a.EventFeatureFlags,d.a.Elements],propertyFiltersPopover:!0})]}),!q&&Object(o.jsxs)("div",{className:"mt-4 space-y-2",children:[Object(o.jsx)(f.a,{info:"Show recordings by persons who match the set criteria",children:"Filter by persons and cohorts"}),Object(o.jsx)(T.a,{pageKey:q?"person-".concat(x):"session-recordings",taxonomicGroupTypes:[d.a.PersonProperties,d.a.Cohorts],propertyFilters:D,onChange:function(G){Z(g.d.PersonAndCohort),Q(G)}})]})]}):void 0})}function Y(h){var x,U,q=h.personUUID,W=h.isPersonPage,S=Object(R.c)({personUUID:q}),B=Object(p.useValues)(S),D=B.entityFilters,L=B.propertyFilters,A=B.filtersEnabled,X=Object(p.useActions)(S),Q=X.setFiltersEnabled,Z=(((x=D.actions)===null||x===void 0?void 0:x.length)||0)+(((U=D.events)===null||U===void 0?void 0:U.length)||0)+((L==null?void 0:L.length)||0);return Object(o.jsx)(V.a,{type:"secondary",size:"small",icon:Object(o.jsx)(I.IconWithCount,{count:Z,children:Object(o.jsx)(I.IconFilter,{})}),onClick:function(){if(Q(!A),W){var G=document.querySelectorAll(".entity-filter-row button");G.length>0&&G[0].click()}},children:A?"Hide filters":"Filter recordings"})}try{J.displayName="SessionRecordingsFilters",J.__docgenInfo={description:"",displayName:"SessionRecordingsFilters",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"]={docgenInfo:J.__docgenInfo,name:"SessionRecordingsFilters",path:"frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"})}catch(h){}try{Y.displayName="SessionRecordingsFiltersToggle",Y.__docgenInfo={description:"",displayName:"SessionRecordingsFiltersToggle",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:null,description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFiltersToggle"]={docgenInfo:Y.__docgenInfo,name:"SessionRecordingsFiltersToggle",path:"frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFiltersToggle"})}catch(h){}},"./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx":function(M,r,e){"use strict";e.d(r,"a",function(){return se});var p=e("./node_modules/core-js/modules/es.array.concat.js"),R=e("./node_modules/core-js/modules/es.array.map.js"),N=e("./node_modules/react/index.js"),g=e("./node_modules/kea/lib/index.esm.js"),d=e("./frontend/src/lib/utils.tsx"),T=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),I=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),V=e.n(I),O=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.scss"),f=e.n(O),o={};o.insert="head",o.singleton=!1;var C=V()(f.a,o),J=f.a.locals||{},Y=e("./frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx"),h=e("./frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),x=e("./frontend/@posthog/lemon-ui/src/index.ts"),U=e("./frontend/src/lib/components/icons.tsx"),q=e("./frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx"),W=e("./node_modules/clsx/dist/clsx.m.js"),S=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),B=e("./frontend/src/lib/components/LemonTable/LemonTableLoader.tsx"),D=e("./node_modules/core-js/modules/es.regexp.exec.js"),L=e("./node_modules/core-js/modules/es.string.split.js"),A=e("./node_modules/core-js/modules/es.object.keys.js"),X=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Q=e("./frontend/src/lib/constants.tsx"),Z=e("./frontend/src/lib/components/PropertyIcon.tsx"),ee=e("./frontend/src/lib/components/Tooltip.tsx"),G=e("./frontend/src/scenes/persons/PersonHeader.tsx"),fe=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),n=e("./node_modules/react/jsx-runtime.js");function he(ie){var ve,ce=ie.recording,be=ie.isActive,w=ie.onClick,le=ie.onPropertyClick,ge=ie.recordingProperties,m=ie.recordingPropertiesLoading,xe=Object(d.n)(ce.recording_duration),ae=xe.split(":"),ye=Object(g.useValues)(X.a),b=ye.featureFlags,j=b[Q.h.RECORDING_LIST_ICONS]||"none",Oe=Object(W.a)("SessionRecordingsPlaylist__list-item__property-icon text-base text-muted-alt",!be&&"opacity-75"),de=["$browser","$device_type","$os","$geoip_country_code"],s=ge&&Object.keys(ge).length>0?ge:((ve=ce.person)===null||ve===void 0?void 0:ve.properties)||{},l=j==="bottom"||j==="none"||j==="middle"||!j,i=Object(n.jsx)("div",{className:"flex flex-row flex-nowrap shrink-0 gap-1",children:m?Object(n.jsx)(S.a,{className:"w-16 py-1"}):de.map(function(P){var ue=P==="$device_type"?(s==null?void 0:s.$device_type)||(s==null?void 0:s.$initial_device_type):s==null?void 0:s[P];return Object(n.jsx)(Z.b,{onClick:le,className:Oe,property:P,value:ue,tooltipTitle:function(v,z){return Object(n.jsxs)("div",{className:"text-center",children:["Click to filter for",Object(n.jsx)("br",{}),Object(n.jsx)("span",{className:"font-medium",children:z!=null?z:"N/A"})]})}},P)})}),c=Object(n.jsxs)("span",{className:"flex items-center font-semibold",children:[Object(n.jsx)(U.IconSchedule,{className:Oe}),Object(n.jsxs)("span",{children:[Object(n.jsxs)("span",{className:Object(W.a)(ae[0]==="00"&&"opacity-50 font-normal"),children:[ae[0],":"]}),Object(n.jsxs)("span",{className:Object(W.a)({"opacity-50 font-normal":ae[0]==="00"&&ae[1]==="00"}),children:[ae[1],":"]}),ae[2]]})]});return Object(n.jsxs)("li",{className:Object(W.a)("SessionRecordingsPlaylist__list-item","flex flex-row py-2 pr-4 pl-0 cursor-pointer relative overflow-hidden",be&&"bg-primary-highlight font-semibold",l&&"pl-4"),onClick:function(){return w()},children:[!l&&Object(n.jsx)("div",{className:"w-2 h-2 mx-2",children:ce.viewed?null:Object(n.jsx)(ee.a,{title:"Indicates the recording has not been watched yet",children:Object(n.jsx)("div",{className:"w-2 h-2 mt-2 rounded-full bg-primary-light","aria-label":"unwatched-recording-label"})})}),Object(n.jsxs)("div",{className:"grow",children:[Object(n.jsxs)("div",{className:"flex items-center justify-between",children:[Object(n.jsx)("div",{className:"truncate font-medium text-primary ph-no-capture",children:Object(G.b)(ce.person,25)}),Object(n.jsx)("div",{className:"flex-1"}),j==="top-right"&&i,j==="bottom-right"&&c,l&&!ce.viewed&&Object(n.jsx)(ee.a,{title:"Indicates the recording has not been watched yet",children:Object(n.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary-light","aria-label":"unwatched-recording-label"})})]}),j==="middle"&&Object(n.jsx)("div",{children:i}),Object(n.jsxs)("div",{className:"flex items-center justify-between",children:[Object(n.jsx)(fe.b,{className:"overflow-hidden text-ellipsis",time:ce.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"}),Object(n.jsxs)("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[j==="bottom"&&i,j!=="bottom-right"?c:i]})]})]})]},ce.id)}try{he.displayName="SessionRecordingPlaylistItem",he.__docgenInfo={description:"",displayName:"SessionRecordingPlaylistItem",props:{recording:{defaultValue:null,description:"",name:"recording",required:!0,type:{name:"SessionRecordingType"}},recordingProperties:{defaultValue:null,description:"",name:"recordingProperties",required:!1,type:{name:"Record<string, any>"}},recordingPropertiesLoading:{defaultValue:null,description:"",name:"recordingPropertiesLoading",required:!0,type:{name:"boolean"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},onPropertyClick:{defaultValue:null,description:"",name:"onPropertyClick",required:!0,type:{name:"(property: string, value?: string | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistItem.tsx#SessionRecordingPlaylistItem"]={docgenInfo:he.__docgenInfo,name:"SessionRecordingPlaylistItem",path:"frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistItem.tsx#SessionRecordingPlaylistItem"})}catch(ie){}function se(ie){var ve=ie.personUUID,ce={personUUID:ve},be=Object(T.c)(ce),w=Object(g.useValues)(be),le=w.sessionRecordings,ge=w.sessionRecordingIdToProperties,m=w.sessionRecordingsResponseLoading,xe=w.sessionRecordingsPropertiesResponseLoading,ae=w.hasNext,ye=w.hasPrev,b=w.activeSessionRecording,j=w.offset,Oe=w.entityFilters,de=Object(g.useActions)(be),s=de.setSelectedRecordingId,l=de.loadNext,i=de.loadPrev,c=de.setEntityFilters,P=Object(N.useRef)(null),ue=function(te){var je;s(te.id);var K=P!=null&&(je=P.current)!==null&&je!==void 0&&je.offsetTop?P.current.offsetTop-8:0;window.scrollY>K&&window.scrollTo({left:0,top:K,behavior:"smooth"})},ne=function(te,je){c(Object(T.b)(Oe,te,je))},v=j+(m?T.a:le.length),z=v?Object(n.jsxs)("div",{className:"flex items-center gap-1",children:[Object(n.jsx)("span",{children:"".concat(j+1," - ").concat(v)}),Object(n.jsx)(x.LemonButton,{icon:Object(n.jsx)(U.IconChevronLeft,{}),status:"stealth",size:"small",disabled:!ye,onClick:function(){i(),window.scrollTo(0,0)}}),Object(n.jsx)(x.LemonButton,{icon:Object(n.jsx)(U.IconChevronRight,{}),status:"stealth",disabled:!ae,size:"small",onClick:function(){l(),window.scrollTo(0,0)}})]}):null;return Object(n.jsxs)("div",{ref:P,className:"SessionRecordingsPlaylist","data-attr":"session-recordings-playlist",children:[Object(n.jsxs)("div",{className:"SessionRecordingsPlaylist__left-column space-y-4",children:[Object(n.jsx)(q.a,{personUUID:ve}),Object(n.jsxs)("div",{className:"w-full overflow-hidden border rounded",children:[Object(n.jsxs)("div",{className:"relative flex justify-between items-center bg-mid py-3 px-4 border-b",children:[Object(n.jsx)("span",{className:"font-bold uppercase text-xs my-1 tracking-wide",children:"Recent Recordings"}),z,Object(n.jsx)(B.a,{loading:m})]}),le.length?Object(n.jsx)("ul",{className:Object(W.a)(m?"opacity-50":""),children:le.map(function($,te){return Object(n.jsxs)(n.Fragment,{children:[te>0&&Object(n.jsx)("div",{className:"border-t"}),Object(n.jsx)(he,{recording:$,recordingProperties:ge[$.id],recordingPropertiesLoading:xe,onClick:function(){return ue($)},onPropertyClick:ne,isActive:(b==null?void 0:b.id)===$.id},$.id)]})})}):m?Object(n.jsx)(n.Fragment,{children:Object(d.ub)(T.a).map(function($){return Object(n.jsxs)("div",{className:"p-4 space-y-2 border-b",children:[Object(n.jsx)(S.a,{className:"w-1/2"}),Object(n.jsx)(S.a,{className:"w-1/3"})]},$)})}):Object(n.jsx)("p",{className:"text-muted-alt m-4",children:"No matching recordings found"})]}),Object(n.jsxs)("div",{className:"flex justify-between items-center",children:[Object(n.jsx)(x.LemonButton,{icon:Object(n.jsx)(U.IconChevronLeft,{}),type:"secondary",disabled:!ye,onClick:function(){i(),window.scrollTo(0,0)},children:"Previous"}),Object(n.jsx)("span",{children:"".concat(j+1," - ").concat(v)}),Object(n.jsx)(x.LemonButton,{icon:Object(n.jsx)(U.IconChevronRight,{}),type:"secondary",disabled:!ae,onClick:function(){l(),window.scrollTo(0,0)},children:"Next"})]})]}),Object(n.jsx)("div",{className:"SessionRecordingsPlaylist__right-column",children:b!=null&&b.id?Object(n.jsx)("div",{className:"border rounded h-full",children:Object(n.jsx)(Y.a,{playerKey:"playlist",sessionRecordingId:b==null?void 0:b.id,matching:b==null?void 0:b.matching_events,recordingStartTime:b?b.start_time:void 0})}):Object(n.jsx)("div",{className:"mt-20",children:Object(n.jsx)(h.a,{title:"No recording selected",description:"Please select a recording from the list on the left",buttonText:"Learn more about recordings",buttonTo:"https://posthog.com/docs/user-guides/recordings"})})})]})}try{se.displayName="SessionRecordingsPlaylist",se.__docgenInfo={description:"",displayName:"SessionRecordingsPlaylist",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:null,description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"]={docgenInfo:se.__docgenInfo,name:"SessionRecordingsPlaylist",path:"frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"})}catch(ie){}},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(M,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};r.default=p},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(M,r,e){"use strict";var p=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),R=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var N=R(e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/objectSpread2.js")),g=p(e("./node_modules/react/index.js")),d=R(e("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),T=R(e("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),I=function(f,o){return g.createElement(T.default,(0,N.default)((0,N.default)({},f),{},{ref:o,icon:d.default}))};I.displayName="UserOutlined";var V=g.forwardRef(I);r.default=V},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss":function(M,r,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");r=p(!1),r.push([M.i,".inline-message{background-color:var(--bg-mid);border-radius:var(--radius);padding:.5rem 1rem;font-weight:var(--font-medium);display:flex;align-items:center;color:var(--primary-alt)}.inline-message.danger{background-color:var(--danger-highlight);color:var(--danger)}.inline-message.closable{padding-right:.5rem}.inline-message.hidden{display:none}.inline-message .inline-icon{margin-right:6px;display:flex;align-items:center}.inline-message .inline-main{flex-grow:1}.inline-message .closable{color:var(--muted);align-self:flex-start;padding-left:1rem;cursor:pointer}",""]),M.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss":function(M,r,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");r=p(!1),r.push([M.i,".merge-split-person .activity-header{background-color:var(--bg-mid);border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:var(--bg-mid);color:var(--primary-alt);padding:4px 8px;border-radius:var(--radius)}",""]),M.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(M,r,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");r=p(!1),r.push([M.i,".extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:var(--primary);cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),M.exports=r},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.scss":function(M,r,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");r=p(!1),r.push([M.i,".SessionRecordingsPlaylist{display:flex;flex-direction:column-reverse;gap:1rem;overflow:hidden}@media screen and (min-width:768px){.SessionRecordingsPlaylist{flex-direction:row;justify-content:flex-start}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{flex-shrink:0}@media screen and (min-width:768px){.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{width:30%;min-width:350px;max-width:500px}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__list-item .SessionRecordingsPlaylist__list-item__property-icon:hover{transition:opacity .2s;opacity:1}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__pagination-control{margin-top:1rem;display:flex;width:100%;justify-content:flex-end;align-items:center}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column{flex:1;overflow:hidden}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column .SessionRecordingsPlaylist__loading{display:flex;align-items:center;justify-content:center;margin-top:10rem}",""]),M.exports=r}}]);
