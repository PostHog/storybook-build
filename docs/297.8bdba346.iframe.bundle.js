(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{"./frontend/src/scenes/plugins/Plugins.tsx":function(ce,R,s){"use strict";s.r(R),s.d(R,"scene",function(){return Fn}),s.d(R,"Plugins",function(){return Be});var de=s("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),De=s.n(de),Ye=s("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss"),Ce=s.n(Ye),ue={};ue.insert="head",ue.singleton=!1;var Mn=De()(Ce.a,ue),Gn=Ce.a.locals||{},Pe=s("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),$e=s("./frontend/src/scenes/plugins/edit/PluginDrawer.tsx"),h=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/row/index.js"),p=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/col/index.js"),c=s("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),r=s("./frontend/src/scenes/plugins/pluginsLogic.ts"),V=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/space/index.js"),m=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/button/index.js"),F=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/card/index.js"),v=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tag/index.js"),He=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Se=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Ke=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),Me=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),Te=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),we=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),Ge=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),We=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),Je=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/UnorderedListOutlined.js"),Qe=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),D=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js"),Xe=s("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),Ze=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/popover/index.js"),qe=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ClearOutlined.js"),Z=s("./frontend/src/lib/components/CodeSnippet/index.tsx"),Le=s("./frontend/src/lib/dayjs.ts"),e=s("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function Y(t){let{error:n,reset:l}=t;return n?Object(e.jsx)(Ze.a,{title:Object(e.jsx)("div",{style:{textAlign:"center"},children:Object(Le.a)(n.time).format("YYYY-MM-DD - HH:mm:ss")}),content:Object(e.jsxs)(e.Fragment,{children:[l?Object(e.jsxs)(m.a,{size:"small",onClick:l,style:{float:"right",marginLeft:10},children:[Object(e.jsx)(qe.a,{})," Delete"]}):null,Object(e.jsxs)("div",{children:[n.name?Object(e.jsxs)("strong",{children:[n.name,": "]}):"",n.message]}),n.stack?Object(e.jsx)(Z.a,{wrap:!0,style:{fontSize:10},language:Z.b.JavaScript,children:n.stack}):null,n.event?Object(e.jsx)(Z.a,{wrap:!0,style:{fontSize:10},language:Z.b.JSON,children:JSON.stringify(n.event,null,2)}):null]}),trigger:"click",placement:"top",children:Object(e.jsx)(v.a,{color:"red",style:{cursor:"pointer"},children:"ERROR"})}):null}try{Y.displayName="PluginError",Y.__docgenInfo={description:"",displayName:"PluginError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"PluginErrorType"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"]={docgenInfo:Y.__docgenInfo,name:"PluginError",path:"frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"})}catch(t){}var _e=s("./frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx"),x=s("./frontend/src/scenes/plugins/types.ts"),en=s("./frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx"),y=s("./frontend/src/lib/components/Tooltip.tsx");function q(t){let{isCommunity:n}=t;return Object(e.jsx)(y.a,{title:n?"This app was built by a community memeber, not the PostHog team.":"This app was built by the PostHog team.",children:Object(e.jsx)(v.a,{color:n?"cyan":"geekblue",children:n?"Community":"Official"})})}try{q.displayName="CommunityPluginTag",q.__docgenInfo={description:"",displayName:"CommunityPluginTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"]={docgenInfo:q.__docgenInfo,name:"CommunityPluginTag",path:"frontend/src/scenes/plugins/plugin/CommunityPluginTag.tsx#CommunityPluginTag"})}catch(t){}function Ae(t){let{tag:n}=t;return n.match(/^[a-f0-9]{40}$/)?Object(e.jsx)("code",{children:n.substring(0,7)}):Object(e.jsx)("code",{children:n})}function _(t){let{url:n,tag:l,latestTag:a}=t,i="";return n.match(/^https:\/\/(www.|)github.com\//)&&(i=`${n}/compare/${l}...${a}`),n.match(/^https:\/\/(www.|)gitlab.com\//)&&(i=`${n}/-/compare/${l}...${a}`),Object(e.jsx)(y.a,{title:Object(e.jsxs)("div",{children:["Installed: ",Object(e.jsx)(Ae,{tag:l}),Object(e.jsx)("br",{}),"Latest: ",Object(e.jsx)(Ae,{tag:a}),i?Object(e.jsx)("div",{style:{marginTop:10},children:"Click to see the diff"}):null]}),children:i?Object(e.jsx)("a",{href:i,target:"_blank",rel:"noreferrer noopener",children:Object(e.jsxs)(v.a,{color:"volcano",style:{cursor:"pointer"},children:[Object(e.jsx)(D.a,{})," Update available!"]})}):Object(e.jsxs)(v.a,{color:"volcano",children:[Object(e.jsx)(D.a,{})," Update available!"]})})}try{_.displayName="UpdateAvailable",_.__docgenInfo={description:"",displayName:"UpdateAvailable",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string"}},latestTag:{defaultValue:null,description:"",name:"latestTag",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"]={docgenInfo:_.__docgenInfo,name:"UpdateAvailable",path:"frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"})}catch(t){}var $=s("./frontend/src/scenes/userLogic.ts"),ke=s("./frontend/src/lib/utils.tsx"),A=s("./frontend/src/scenes/plugins/access.ts");const ee=t=>{let{updateStatus:n,pluginId:l,rearranging:a}=t;const{editPlugin:i,updatePlugin:u}=Object(c.useActions)(r.b),{pluginsUpdating:O}=Object(c.useValues)(r.b);return Object(e.jsx)(m.a,{type:n!=null&&n.updated?"default":"primary",className:"padding-under-500",onClick:()=>n!=null&&n.updated?i(l):u(l),loading:O.includes(l),icon:n!=null&&n.updated?Object(e.jsx)(we.a,{}):Object(e.jsx)(D.a,{}),disabled:a,"data-attr":"plugin-update",children:Object(e.jsx)("span",{className:"show-over-500",children:n!=null&&n.updated?"Updated":"Update"})})};try{ee.displayName="PluginUpdateButton",ee.__docgenInfo={description:"",displayName:"PluginUpdateButton",props:{updateStatus:{defaultValue:null,description:"",name:"updateStatus",required:!0,type:{name:"PluginUpdateStatusType | undefined"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"]={docgenInfo:ee.__docgenInfo,name:"PluginUpdateButton",path:"frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"})}catch(t){}var z=s("./frontend/@posthog/lemon-ui/src/index.ts"),nn=s("./frontend/src/scenes/organizationLogic.tsx"),tn=s("./frontend/src/lib/constants.tsx"),ge=s("./frontend/src/scenes/urls.ts"),sn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/badge/index.js"),ln=s("./frontend/src/lib/components/Link.tsx");function ne(t){let{deliveryRate:n,pluginConfigId:l}=t;const[a,i]=an(n);return Object(e.jsx)(y.a,{title:i,children:Object(e.jsx)(ln.a,{to:ge.a.appMetrics(l),children:Object(e.jsx)(sn.a,{color:a})})})}function an(t){if(t===null)return["grey","No events processed by this app in the past 24 hours"];{let n="red";return t>=.99?n="green":t>=.75&&(n="yellow"),[n,`Success rate for past 24 hours: ${Math.floor(t*1e3)/10}%`]}}try{ne.displayName="SuccessRateBadge",ne.__docgenInfo={description:"",displayName:"SuccessRateBadge",props:{deliveryRate:{defaultValue:null,description:"",name:"deliveryRate",required:!0,type:{name:"number | null"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"]={docgenInfo:ne.__docgenInfo,name:"SuccessRateBadge",path:"frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"})}catch(t){}var Ie=s("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js");function te(t){let{url:n,disabled:l=!1}=t;return Object(e.jsx)(V.b,{children:Object(e.jsx)(y.a,{title:"About",children:Object(e.jsx)(z.Link,{to:n,target:"_blank",children:Object(e.jsx)(m.a,{disabled:l,children:Object(e.jsx)(He.a,{})})})})})}function N(t){var n,l;let{plugin:a,error:i,maintainer:u,showUpdateButton:O,order:o,maxOrder:C,rearranging:j,DragColumn:I=Hn=>{let{children:Kn}=Hn;return Object(e.jsx)(p.a,{className:"order-handle",children:Kn})},unorderedPlugin:f=!1}=t;const{name:E,description:he,url:b,icon:le,plugin_type:w,pluginConfig:d,tag:M,latest_tag:G,id:L,updateStatus:g,hasMoved:T,is_global:W,organization_id:ae,organization_name:Oe}=a,{editPlugin:xe,toggleEnabled:ie,installPlugin:J,resetPluginConfigError:Q,rearrange:ye,showPluginLogs:X}=Object(c.useActions)(r.b),{loading:re,installingPluginUrl:oe,checkingForUpdates:fe,pluginUrlToMaintainer:Ue,showAppMetricsForPlugin:Ve}=Object(c.useValues)(r.b),{currentOrganization:Fe}=Object(c.useValues)(nn.a),{user:ve}=Object(c.useValues)($.a),Yn=u||a.url&&Ue[a.url],$n=u||Ue[a.url||""];return Object(e.jsx)(p.a,{style:{width:"100%",marginBottom:20},className:`plugins-scene-plugin-card-col${j?" rearranging":""}`,"data-attr":`plugin-card-${d?"installed":"available"}`,children:Object(e.jsx)(F.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(h.a,{align:"middle",className:"plugin-card-row",children:[typeof o=="number"&&typeof C=="number"?Object(e.jsxs)(I,{children:[Object(e.jsx)("div",{className:Object(Ie.default)("arrow",o===1&&"invisible"),children:Object(e.jsx)(Se.a,{})}),Object(e.jsx)("div",{children:Object(e.jsx)(v.a,{color:T?"#bd0225":"#555",onClick:ye,children:o})}),Object(e.jsx)("div",{className:Object(Ie.default)("arrow",o===C&&"invisible"),children:Object(e.jsx)(Se.a,{})})]}):null,f?Object(e.jsx)(y.a,{title:"This app does not do any processing in order.",placement:"topRight",children:Object(e.jsx)(p.a,{children:Object(e.jsx)(v.a,{color:"#555",children:"-"})})}):null,d&&Object(e.jsx)(p.a,{children:d.id?Object(e.jsx)(z.LemonSwitch,{checked:(n=d.enabled)!==null&&n!==void 0?n:!1,disabled:j,onChange:()=>ie({id:d.id,enabled:!d.enabled})}):Object(e.jsx)(y.a,{title:"Please configure this plugin before enabling it",children:Object(e.jsx)(z.LemonSwitch,{checked:!1,disabled:!0})})}),Object(e.jsx)(p.a,{className:d?"hide-plugin-image-below-500":"",children:Object(e.jsx)(Xe.a,{pluginType:w,icon:le,url:b})}),Object(e.jsxs)(p.a,{style:{flex:1},children:[Object(e.jsxs)("div",{children:[Object(e.jsxs)("strong",{style:{marginRight:8},children:[Ve(a)&&(d==null?void 0:d.id)&&Object(e.jsx)(ne,{deliveryRate:(l=d.delivery_rate_24h)!==null&&l!==void 0?l:null,pluginConfigId:d.id}),E]}),Yn&&Object(e.jsx)(q,{isCommunity:$n==="community"}),d!=null&&d.error?Object(e.jsx)(Y,{error:d.error,reset:()=>Q((d==null?void 0:d.id)||0)}):i?Object(e.jsx)(Y,{error:i}):null,W&&!!Fe&&Fe.plugins_access_level>=tn.t.Install&&Object(e.jsx)(y.a,{title:`This plugin is managed by the ${Oe} organization`,children:Object(e.jsx)(v.a,{color:"blue",icon:Object(e.jsx)(Ke.a,{}),children:"Global"})}),Object(A.c)(ve==null?void 0:ve.organization,ae)&&Object(e.jsxs)(e.Fragment,{children:[b!=null&&b.startsWith("file:")?Object(e.jsx)(_e.a,{url:b,title:"Local"}):null,g!=null&&g.error?Object(e.jsxs)(v.a,{color:"red",children:[Object(e.jsx)(Me.a,{})," Error checking for updates"]}):fe&&!g&&w!==x.a.Source&&!(b!=null&&b.startsWith("file:"))?Object(e.jsxs)(v.a,{color:"blue",children:[Object(e.jsx)(Te.a,{})," Checking for updates\u2026"]}):b&&G&&M?M===G?Object(e.jsxs)(v.a,{color:"green",children:[Object(e.jsx)(we.a,{})," Up to date"]}):Object(e.jsx)(_,{url:b,tag:M,latestTag:G}):null,w===x.a.Source?Object(e.jsx)(en.a,{}):null]})]}),Object(e.jsx)("div",{children:Object(ke.z)(he)})]}),Object(e.jsx)(p.a,{children:Object(e.jsxs)(V.b,{children:[b&&Object(e.jsx)(te,{url:b,disabled:j}),O&&L?Object(e.jsx)(ee,{updateStatus:g,pluginId:L,rearranging:j}):L?Object(e.jsxs)(e.Fragment,{children:[Ve(a)&&d!==null&&d!==void 0&&d.id?Object(e.jsx)(y.a,{title:"App metrics",children:Object(e.jsx)(m.a,{className:"padding-under-500",disabled:j,"data-attr":"app-metrics",children:Object(e.jsx)(z.Link,{to:ge.a.appMetrics(d.id),children:Object(e.jsx)(Ge.a,{})})})}):null,d!=null&&d.id?Object(e.jsx)(y.a,{title:"Activity history",children:Object(e.jsx)(m.a,{className:"padding-under-500",disabled:j,"data-attr":"plugin-history",children:Object(e.jsx)(z.Link,{to:ge.a.appHistory(d.id),children:Object(e.jsx)(We.a,{})})})}):null,Object(e.jsx)(y.a,{title:d!=null&&d.id?"Logs":"Logs \u2013 enable the app for the first time to view them",children:Object(e.jsx)(m.a,{className:"padding-under-500",disabled:j||!(d!=null&&d.id),onClick:()=>X(L),"data-attr":"plugin-logs",children:Object(e.jsx)(Je.a,{})})}),Object(e.jsx)(y.a,{title:"Configure",children:Object(e.jsx)(m.a,{type:"primary",className:"padding-under-500",disabled:j,onClick:()=>xe(L),"data-attr":"plugin-configure",children:Object(e.jsx)(Qe.a,{})})})]}):L?null:Object(e.jsx)(m.a,{type:"primary",className:"padding-under-500",loading:re&&oe===b,disabled:re&&oe!==b,onClick:b?()=>J(b,x.a.Repository):void 0,icon:Object(e.jsx)(D.a,{}),"data-attr":"plugin-install",children:Object(e.jsx)("span",{className:"show-over-500",children:"Install"})})]})})]})})})}try{te.displayName="PluginAboutButton",te.__docgenInfo={description:"",displayName:"PluginAboutButton",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"]={docgenInfo:te.__docgenInfo,name:"PluginAboutButton",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"})}catch(t){}try{N.displayName="PluginCard",N.__docgenInfo={description:"",displayName:"PluginCard",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"Partial<PluginTypeWithConfig>"}},pluginConfig:{defaultValue:null,description:"",name:"pluginConfig",required:!1,type:{name:"PluginConfigType"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"PluginErrorType"}},maintainer:{defaultValue:null,description:"",name:"maintainer",required:!1,type:{name:"string"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:{value:'({ children }) => <Col className="order-handle">{children}</Col>'},description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"]={docgenInfo:N.__docgenInfo,name:"PluginCard",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"})}catch(t){}var P=s("./frontend/src/lib/components/PageHeader.tsx"),H=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/skeleton/index.js");function Ee(){return Object(e.jsx)(e.Fragment,{children:[1,2,3].map(t=>Object(e.jsx)(p.a,{style:{marginBottom:20,width:"100%"},className:"plugins-scene-plugin-card-col",children:Object(e.jsx)(F.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(h.a,{align:"middle",className:"plugin-card-row",children:[Object(e.jsx)(p.a,{className:"hide-plugin-image-below-500",children:Object(e.jsx)(H.a.Avatar,{active:!0,size:"large",shape:"square"})}),Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(H.a,{title:!1,paragraph:{rows:2},active:!0})}),Object(e.jsxs)(p.a,{children:[Object(e.jsx)("span",{className:"show-over-500",children:Object(e.jsx)(H.a.Button,{style:{width:100}})}),Object(e.jsx)("span",{className:"hide-over-500",children:Object(e.jsx)(H.a.Button,{style:{width:32}})})]})]})})},t))})}function Re(){const{searchTerm:t,rearranging:n}=Object(c.useValues)(r.b),{setSearchTerm:l}=Object(c.useActions)(r.b);return Object(e.jsx)(z.LemonInput,{type:"search","data-attr":"plugins-search",placeholder:"Start typing to search for an app",autoFocus:!0,value:t||"",onChange:l,disabled:n})}var K=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),B=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js");let S;(function(t){t.Official="official",t.Community="community"})(S||(S={}));function rn(){const{repositoryLoading:t,filteredUninstalledPlugins:n}=Object(c.useValues)(r.b),[l,a]=Object(Pe.useState)([S.Official,S.Community]),i=n.filter(o=>o.maintainer==="official"),u=n.filter(o=>o.maintainer==="community"),O=o=>{if(l.includes(o)){a(l.filter(C=>o!==C));return}a([...l,o])};return Object(e.jsxs)("div",{children:[Object(e.jsx)(P.b,{subtitle:"App Repository"}),Object(e.jsx)(Re,{}),Object(e.jsx)("div",{children:(!t||n.length>0)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)(h.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:()=>O(S.Official),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[l.includes(S.Official)?Object(e.jsx)(K.a,{}):Object(e.jsx)(B.a,{}),` Official apps (${i.length})`]})})}),l.includes(S.Official)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(p.a,{span:24,children:i.length>0?"Official apps are built and maintained by the PostHog team.":"You have already installed all official apps!"}),Object(e.jsx)("br",{}),i.map(o=>Object(e.jsx)(N,{plugin:{name:o.name,url:o.url,icon:o.icon,description:o.description},maintainer:o.maintainer},o.url))]})]}),Object(e.jsxs)(h.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:()=>O(S.Community),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[l.includes(S.Community)?Object(e.jsx)(K.a,{}):Object(e.jsx)(B.a,{}),` Community apps (${u.length})`]})})}),l.includes(S.Community)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(p.a,{span:24,children:u.length>0?Object(e.jsxs)("span",{children:["Community apps are not built nor maintained by the PostHog team."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",rel:"noopener",children:"Anyone, including you, can build an app."})]}):"You have already installed all community apps!"}),Object(e.jsx)("br",{}),u.map(o=>Object(e.jsx)(N,{plugin:{name:o.name,url:o.url,icon:o.icon,description:o.description},maintainer:o.maintainer},o.url))]})]})]})}),t&&n.length===0&&Object(e.jsx)(h.a,{gutter:16,children:Object(e.jsx)(Ee,{})})]})}var on=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/checkbox/index.js"),cn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/input/Search.js"),dn=s.n(cn),un=s("./frontend/src/lib/components/ResizableTable/index.tsx"),U=s("./frontend/src/types.ts"),ze=s("./frontend/src/scenes/plugins/plugin/pluginLogsLogic.ts");function gn(t){let n;switch(t){case U.L.Debug:n="var(--muted)";break;case U.L.Log:n="var(--default)";break;case U.L.Info:n="var(--blue)";break;case U.L.Warn:n="var(--warning)";break;case U.L.Error:n="var(--danger)";break;default:break}return Object(e.jsx)("span",{style:{color:n},children:t})}const pn=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",span:3,render:t=>Object(Le.a)(t).format("YYYY-MM-DD HH:mm:ss.SSS UTC")},{title:"Source",key:"source",dataIndex:"source",span:1},{title:"Type",key:"type",dataIndex:"type",span:1,render:gn},{title:"Message",key:"message",dataIndex:"message",span:6}];function se(t){let{pluginConfigId:n}=t;const l=Object(ze.b)({pluginConfigId:n}),{pluginLogs:a,pluginLogsLoading:i,pluginLogsBackground:u,isThereMoreToLoad:O,pluginLogsTypes:o}=Object(c.useValues)(l),{revealBackground:C,loadPluginLogsMore:j,setPluginLogsTypes:I,setSearchTerm:f}=Object(c.useActions)(l);return Object(e.jsxs)(V.b,{direction:"vertical",style:{flexGrow:1},className:"ph-no-capture plugin-logs",children:[Object(e.jsx)(h.a,{children:Object(e.jsx)(dn.a,{loading:i,onSearch:f,placeholder:"Search for messages containing\u2026",allowClear:!0})}),Object(e.jsx)(h.a,{children:Object(e.jsxs)(V.b,{children:[Object(e.jsx)("span",{children:"Show logs of type:\xA0"}),Object(e.jsx)(on.a.Group,{options:Object.values(U.L),value:o,onChange:I,style:{marginLeft:"8px"}})]})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(m.a,{onClick:C,loading:i,style:{flexGrow:1},disabled:!u.length,icon:Object(e.jsx)(Te.a,{}),children:u.length?`Load ${Object(ke.ub)(u.length,"newer entry","newer entries")}`:"No new entries"})}),Object(e.jsx)(un.b,{dataSource:a,columns:pn,loading:i,size:"small",className:"ph-no-capture",rowKey:"id",style:{flexGrow:1,whiteSpace:"pre-wrap",overflowWrap:"anywhere"},pagination:{pageSize:200,hideOnSinglePage:!0}}),!!a.length&&Object(e.jsx)(h.a,{children:Object(e.jsx)(m.a,{onClick:j,loading:i,style:{flexGrow:1},disabled:!O,children:O?`Load up to ${ze.a} older entries`:"No older entries"})})]})}try{se.displayName="PluginLogs",se.__docgenInfo={description:"",displayName:"PluginLogs",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"]={docgenInfo:se.__docgenInfo,name:"PluginLogs",path:"frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"})}catch(t){}var jn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/drawer/index.js");function mn(){const{showingLogsPlugin:t,lastShownLogsPlugin:n}=Object(c.useValues)(r.b),{hidePluginLogs:l}=Object(c.useActions)(r.b);return Object(e.jsx)(jn.a,{visible:!!t,onClose:l,width:"min(90vw, 80rem)",title:`Viewing App Logs: ${n==null?void 0:n.name}`,placement:"left",destroyOnClose:!0,children:!!(n!=null&&n.pluginConfig.id)&&Object(e.jsx)(se,{pluginConfigId:n.pluginConfig.id})})}var bn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/empty/index.js");function hn(){const{setPluginTab:t}=Object(c.useActions)(r.b),{loading:n}=Object(c.useValues)(r.b),{user:l}=Object(c.useValues)($.a);return Object(e.jsx)(e.Fragment,{children:n?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[" ",Object(e.jsx)(B.a,{})," ","Enabled apps"," "]}),buttons:Object(e.jsx)(H.a.Button,{style:{width:150}})}),Object(e.jsx)(Ee,{})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(P.b,{subtitle:"Installed apps"}),Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:Object(e.jsx)(p.a,{span:24,children:Object(e.jsx)(bn.a,{description:Object(e.jsx)("span",{children:"You haven't installed any apps yet"}),children:Object(A.b)(l==null?void 0:l.organization)&&Object(e.jsx)(m.a,{type:"default",onClick:()=>t(x.c.Repository),children:"Open the App Repository"})})})})]})})}function k(t){let{plugin:n,showUpdateButton:l,order:a,maxOrder:i,rearranging:u,DragColumn:O,unorderedPlugin:o=!1}=t;return Object(e.jsx)(N,{plugin:n,showUpdateButton:l,order:a,maxOrder:i,rearranging:u,DragColumn:O,unorderedPlugin:o},n.id)}try{k.displayName="InstalledPlugin",k.__docgenInfo={description:"",displayName:"InstalledPlugin",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:null,description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"]={docgenInfo:k.__docgenInfo,name:"InstalledPlugin",path:"frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"})}catch(t){}function On(){const{filteredDisabledPlugins:t,sectionsOpen:n,disabledPlugins:l}=Object(c.useValues)(r.b),{toggleSectionOpen:a}=Object(c.useActions)(r.b);return l.length===0?Object(e.jsx)(e.Fragment,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>a(r.a.Disabled),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[n.includes(r.a.Disabled)?Object(e.jsx)(K.a,{}):Object(e.jsx)(B.a,{}),` Installed apps (${t.length})`]})})}),n.includes(r.a.Disabled)?Object(e.jsx)(e.Fragment,{children:t.length>0?Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:t.map(i=>Object(e.jsx)(k,{plugin:i},i.id))}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):null]})}var xn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SyncOutlined.js");function yn(){const{checkForUpdates:t,toggleSectionOpen:n}=Object(c.useActions)(r.b),{sectionsOpen:l}=Object(c.useValues)(r.b),{user:a}=Object(c.useValues)($.a),{filteredPluginsNeedingUpdates:i,pluginsNeedingUpdates:u,checkingForUpdates:O,installedPluginUrls:o,updateStatus:C,rearranging:j,hasUpdatablePlugins:I}=Object(c.useValues)(r.b),f=Object(A.c)(a==null?void 0:a.organization)&&I&&Object(e.jsx)(m.a,{type:"default",icon:u.length>0?Object(e.jsx)(xn.a,{}):Object(e.jsx)(D.a,{}),onClick:E=>{E.stopPropagation(),t(!0)},loading:O,children:O?`Checking app ${Object.keys(C).length+1} out of ${Object.keys(o).length}`:u.length>0?"Check again for updates":"Check for updates"});return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>n(r.a.Upgrade),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[l.includes(r.a.Upgrade)?Object(e.jsx)(K.a,{}):Object(e.jsx)(B.a,{}),` Apps to update (${i.length})`]}),buttons:!j&&f})}),l.includes(r.a.Upgrade)?Object(e.jsx)(e.Fragment,{children:u.length>0?Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:i.length>0?Object(e.jsx)(e.Fragment,{children:i.map(E=>Object(e.jsx)(k,{plugin:E,showUpdateButton:!0},E.id))}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):Object(e.jsx)("p",{style:{margin:10},children:"All your apps are up to date. Great work!"})}):null]})}var fn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),vn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Cn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),pe=s("./node_modules/.pnpm/react-sortable-hoc@1.11.0_ccrd4luiijsxnlhe6bgkvyy2z4/node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js");const Pn=Object(pe.c)(t=>{let{children:n}=t;return Object(e.jsx)(p.a,{className:"order-handle",children:n})}),Sn=Object(pe.b)(t=>{let{plugin:n,order:l,maxOrder:a,rearranging:i}=t;return Object(e.jsx)(k,{plugin:n,order:l,maxOrder:a,rearranging:i,DragColumn:Pn})}),Tn=Object(pe.a)(t=>{let{children:n}=t;return Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:n})});function wn(){const{user:t}=Object(c.useValues)($.a),{rearrange:n,setTemporaryOrder:l,cancelRearranging:a,savePluginOrders:i,makePluginOrderSaveable:u,toggleSectionOpen:O}=Object(c.useActions)(r.b),{enabledPlugins:o,filteredEnabledPlugins:C,sortableEnabledPlugins:j,unsortableEnabledPlugins:I,rearranging:f,loading:E,temporaryOrder:he,pluginOrderSaveable:b,searchTerm:le,sectionsOpen:w}=Object(c.useValues)(r.b),d=Object(A.a)(t==null?void 0:t.organization)&&j.length>1,M=f?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.a,{type:"primary",icon:Object(e.jsx)(fn.a,{}),loading:E,onClick:g=>{g.stopPropagation(),i(he)},disabled:!b,children:"Save order"}),Object(e.jsx)(m.a,{type:"default",icon:Object(e.jsx)(vn.a,{}),onClick:g=>{a(),g.stopPropagation()},children:"Cancel"})]}):Object(e.jsx)(y.a,{title:o.length<=1?"At least two apps need to be enabled for reordering.":Object(e.jsx)(e.Fragment,{children:le?"Editing the order of apps is disabled when searching.":Object(e.jsxs)(e.Fragment,{children:["Order matters because event processing with apps works like a pipe: the event is processed by every enabled app ",Object(e.jsx)("b",{children:"in sequence"}),"."]})}),placement:"top",children:Object(e.jsx)(m.a,{icon:Object(e.jsx)(Cn.a,{}),onClick:g=>{g.stopPropagation(),n()},disabled:!!le||j.length<=1,children:"Edit order"})}),G=g=>{var T;let{oldIndex:W,newIndex:ae}=g;if(W===ae)return;const Oe=(J,Q,ye)=>{const X=[...J];return Array.prototype.splice.call(X,ye,0,Array.prototype.splice.call(X,Q,1)[0]),X.map((re,oe)=>{let{id:fe}=re;return{id:fe,order:oe+1}})},xe=(T=o[W])===null||T===void 0?void 0:T.id,ie={};for(const{id:J,order:Q}of Oe(o,W,ae))ie[J]=Q;f||n(),l(ie,xe)},L=()=>Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>O(r.a.Enabled),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[w.includes(r.a.Enabled)?Object(e.jsx)(K.a,{}):Object(e.jsx)(B.a,{}),` Enabled apps (${C.length})`,f&&w.includes(r.a.Enabled)&&Object(e.jsx)(v.a,{color:"red",style:{fontWeight:"normal",marginLeft:10},children:"Reordering in progress"})]}),buttons:Object(e.jsx)(V.b,{children:w.includes(r.a.Enabled)&&M})})});return o.length===0?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(L,{}),w.includes(r.a.Enabled)&&Object(e.jsx)("p",{style:{margin:10},children:"No apps enabled."})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(L,{}),w.includes(r.a.Enabled)&&Object(e.jsxs)(e.Fragment,{children:[j.length===0&&I.length===0&&Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."}),d||f?Object(e.jsx)(e.Fragment,{children:j.length>0&&Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(Tn,{useDragHandle:!0,onSortEnd:G,onSortOver:u,children:j.map((g,T)=>Object(e.jsx)(Sn,{plugin:g,index:T,order:T+1,maxOrder:o.length,rearranging:f},g.id))})})}):Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:j.length>0&&Object(e.jsx)(e.Fragment,{children:j.map((g,T)=>Object(e.jsx)(k,{plugin:g,order:T+1,maxOrder:C.length},g.id))})}),I.map(g=>Object(e.jsx)(k,{plugin:g,maxOrder:o.length,rearranging:f,unorderedPlugin:!0},g.id))]})]})}function Ln(){const{installedPlugins:t}=Object(c.useValues)(r.b);return t.length===0?Object(e.jsx)(hn,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{children:[Object(e.jsx)(Re,{}),Object(e.jsx)(yn,{}),Object(e.jsx)(wn,{}),Object(e.jsx)(On,{})]}),Object(e.jsx)(mn,{})]})}var Ne=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tabs/index.js"),An=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/alert/index.js"),je=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/input/index.js"),kn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/typography/Title.js"),me=s.n(kn),In=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/typography/Paragraph.js"),be=s.n(In);function En(){const{sourcePluginName:t,pluginError:n,loading:l}=Object(c.useValues)(r.b),{setSourcePluginName:a,installPlugin:i}=Object(c.useActions)(r.b);return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(F.a,{children:[Object(e.jsx)(me.a,{level:5,children:"App editor"}),Object(e.jsxs)(be.a,{children:["Write your app directly in PostHog."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps",target:"_blank",children:"Read the documentation for more information!"})]}),Object(e.jsxs)(h.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(je.a,{value:t,disabled:l,onChange:u=>a(u.target.value),placeholder:'For example: "Hourly Weather Sync App"'})}),Object(e.jsx)(p.a,{children:Object(e.jsx)(m.a,{disabled:l||!t,loading:l,type:"default",onClick:()=>i(t,x.a.Source),children:"Start coding"})})]}),n?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:n}):null]})})}function Rn(){const{customPluginUrl:t,pluginError:n,loading:l}=Object(c.useValues)(r.b),{setCustomPluginUrl:a,installPlugin:i}=Object(c.useActions)(r.b);return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(F.a,{children:[Object(e.jsx)(me.a,{level:5,children:"Install from GitHub, GitLab or npm"}),Object(e.jsxs)(be.a,{children:["To install a third-party or custom app, paste its URL below. For"," ",Object(e.jsx)("a",{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", ",Object(e.jsx)("a",{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",rel:"noopener noreferrer",children:"GitLab"})," and ",Object(e.jsx)("a",{href:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",rel:"noopener noreferrer",children:"npm"})," ","private repositories, append ",Object(e.jsx)("code",{children:"?private_token=TOKEN"})," to the end of the URL.",Object(e.jsx)("br",{}),Object(e.jsx)("b",{className:"text-warning",children:"Warning: Only install apps from trusted sources."})]}),Object(e.jsxs)(h.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(je.a,{value:t,disabled:l,onChange:u=>a(u.target.value),placeholder:"https://github.com/user/repo"})}),Object(e.jsx)(p.a,{children:Object(e.jsx)(m.a,{disabled:l||!t,loading:l,type:"default",onClick:()=>i(t,x.a.Custom),children:"Fetch and install"})})]}),n?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:n}):null]})})}function zn(){const{localPluginUrl:t,pluginError:n,loading:l}=Object(c.useValues)(r.b),{setLocalPluginUrl:a,installPlugin:i}=Object(c.useActions)(r.b);return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(F.a,{children:[Object(e.jsx)(me.a,{level:5,children:"Install Local App"}),Object(e.jsx)(be.a,{children:"To install a local app from this computer/server, give its full path below."}),Object(e.jsxs)(h.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(je.a,{value:t,disabled:l,onChange:u=>a(u.target.value),placeholder:"/var/posthog/plugins/helloworldplugin"})}),Object(e.jsx)(p.a,{children:Object(e.jsx)(m.a,{disabled:l||!t,loading:l,type:"default",onClick:()=>i(t,x.a.Local),children:"Install"})})]}),n?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:n}):null]})})}var Nn=s("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function Bn(){const{preflight:t}=Object(c.useValues)(Nn.a),{setPluginTab:n}=Object(c.useActions)(r.b);return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(An.a,{message:"Advanced features ahead",description:Object(e.jsxs)(e.Fragment,{children:["Create and install your ",Object(e.jsx)("b",{children:"own apps"})," or apps from ",Object(e.jsx)("b",{children:"third-parties"}),". If you're looking for officially supported apps, try the"," ",Object(e.jsx)("a",{href:"#",onClick:l=>{l.preventDefault(),n(x.c.Repository)},children:"App Repository"}),"."]}),type:"warning",showIcon:!0}),Object(e.jsx)(P.b,{subtitle:"Advanced Options"}),Object(e.jsx)(En,{}),Object(e.jsx)(Rn,{}),t&&!t.cloud&&Object(e.jsx)(zn,{})]})}var Un=s("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),Vn=s("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx");const Fn={component:Be,logic:r.b},Dn=()=>Object(e.jsx)(z.LemonTag,{type:"warning",className:"uppercase",style:{verticalAlign:"0.125em",marginLeft:6},children:"BETA"});function Be(){const{user:t}=Object(c.useValues)($.a),{pluginTab:n}=Object(c.useValues)(r.b),{setPluginTab:l}=Object(c.useActions)(r.b),{TabPane:a}=Ne.a;return Object(Pe.useEffect)(()=>{Object(A.d)(t==null?void 0:t.organization)||(window.location.href="/")},[t]),!t||!Object(A.d)(t==null?void 0:t.organization)?null:Object(e.jsxs)("div",{className:"plugins-scene",children:[Object(e.jsx)(P.a,{title:"Apps",caption:Object(e.jsxs)(e.Fragment,{children:["Apps enable you to extend PostHog's core data processing functionality.",Object(e.jsx)("br",{}),"Make use of verified apps from the"," ",Object(e.jsx)("a",{href:"https://posthog.com/apps",target:"_blank",children:"App Library"})," ","\u2013 or"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",children:"build your own"}),"."]})}),Object(e.jsxs)(Ne.a,{"data-attr":"apps-tabs",activeKey:n,onChange:i=>l(i),children:[Object(e.jsx)(a,{tab:"Installed",children:Object(e.jsx)(Ln,{})},x.c.Installed),Object(A.b)(t.organization)?Object(e.jsx)(a,{tab:"Repository",children:Object(e.jsx)(rn,{})},x.c.Repository):null,Object(e.jsx)(a,{tab:Object(e.jsxs)(e.Fragment,{children:["History ",Object(e.jsx)(Dn,{})," "]}),children:Object(e.jsx)(Un.a,{scope:Vn.a.PLUGIN})},x.c.History),Object(A.c)(t.organization)?Object(e.jsx)(a,{tab:"Advanced",children:Object(e.jsx)(Bn,{})},x.c.Advanced):null]}),Object(e.jsx)($e.a,{})]})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss":function(ce,R,s){var de=s("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");R=de(!1),R.push([ce.i,".plugins-scene{padding-bottom:60px}.plugins-installed-tab-section-header:hover,.plugins-repository-tab-section-header:hover{cursor:pointer}.plugins-repository-tab-section-header{margin-left:5px}.plugin-capabilities-tag{cursor:default}.plugins-scene-plugin-card>.ant-card-body{padding:15px}.plugins-scene-plugin-card .plugin-card-row>.ant-col{margin-right:14px}.plugins-scene-plugin-card .plugin-card-row>.ant-col:last-child{margin-right:0}.plugins-scene-plugin-card a.plugin-title-link{color:var(--color-text)}.plugins-scene-plugin-card a.plugin-title-link:hover{text-decoration:underline}.plugins-scene-plugin-card .plugin-image{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;border:none;padding:4px}.plugins-scene-plugin-card .order-handle{cursor:move;text-align:center;height:100%;margin-top:-10px;margin-bottom:-10px}.plugins-scene-plugin-card .order-handle .ant-tag{margin-right:0;cursor:move}.plugins-scene-plugin-card .order-handle .arrow{color:#888;height:19px}.plugins-scene-plugin-card .hide-over-500{display:none}@media(max-width:500px){.plugins-scene-plugin-card .show-over-500{display:none}.plugins-scene-plugin-card .hide-over-500{display:inline-block}.plugins-scene-plugin-card button.ant-btn.padding-under-500{padding:4px 8px}.plugins-scene-plugin-card .hide-plugin-image-below-500{display:none}}.plugins-popconfirm{z-index:var(--z-plugins-popconfirm)}.plugin-job-json-editor{border:1px solid #efefef}.plugin-run-job-button{color:var(--success);cursor:pointer}.plugin-run-job-button-disabled{color:#9a9a9a;cursor:default}",""]),ce.exports=R}}]);
