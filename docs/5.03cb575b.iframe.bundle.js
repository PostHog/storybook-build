(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./frontend/src/lib/hooks/useKeyboardHotkeys.tsx":function(F,y,a){"use strict";a.d(y,"a",function(){return ce});var p=a("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),e=a.n(p),c=a("./node_modules/core-js/modules/es.array.includes.js"),g=a.n(c),re=a("./node_modules/core-js/modules/es.string.includes.js"),U=a.n(re),fe=a("./node_modules/core-js/modules/es.object.to-string.js"),Te=a.n(fe),oe=a("./node_modules/core-js/modules/es.object.keys.js"),de=a.n(oe),le=a("./node_modules/core-js/modules/es.array.concat.js"),ie=a.n(le),k=a("./frontend/src/lib/hooks/useEventListener.ts"),be=function(B,I){var j=B.composedPath()||B.path;if(!j)return!1;var V=j[0],Y=V.tagName||"not an html element";return I.includes(Y.toLowerCase())},ve=[".hotkey-block",".hotkey-block *"];function ce(d,B){var I=["input","textarea"];Object(k.a)("keydown",function(j){var V=j.key;if(!(j.metaKey||j.ctrlKey||j.altKey)&&!ve.some(function(G){return j.target.matches(G)})){var Y=I.includes(j.target.tagName.toLowerCase());if(!(V!=="Escape"&&(Y||be(j,I))))for(var $=0,_=Object.keys(d);$<_.length;$++){var q=_[$],W=d[q];if(!(!W||W.disabled)&&V.toLowerCase()===q){j.preventDefault(),W.action();break}}}},void 0,[d].concat(e()(B||[])))}},"./frontend/src/scenes/dashboard/Dashboard.tsx":function(F,y,a){"use strict";a.r(y),a.d(y,"scene",function(){return la}),a.d(y,"Dashboard",function(){return ne});var p=a("./node_modules/react/index.js"),e=a.n(p),c=a("./node_modules/kea/lib/index.esm.js"),g=a("./frontend/src/scenes/dashboard/dashboardLogic.ts"),re=a("./node_modules/@babel/runtime/helpers/slicedToArray.js"),U=a.n(re),fe=a("./node_modules/core-js/modules/es.array.map.js"),Te=a("./node_modules/core-js/modules/es.function.name.js"),oe=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),de=a.n(oe),le=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/dashboard/DashboardItems.scss"),ie=a.n(le),k={};k.insert="head",k.singleton=!1;var be=de()(ie.a,k),ve=ie.a.locals||{},ce=a("./node_modules/react-grid-layout/index.js"),d=a("./frontend/src/types.ts"),B=a("./frontend/src/models/insightsModel.tsx"),I=a("./node_modules/clsx/dist/clsx.m.js"),j=a("./frontend/src/lib/components/InsightCard/index.tsx"),V=a("./frontend/src/lib/hooks/useResizeObserver.ts");function Y(){var n=Object(c.useValues)(g.c),t=n.dashboard,s=n.items,o=n.layouts,r=n.dashboardMode,m=n.isRefreshing,l=n.highlightedInsightId,v=n.refreshStatus,u=Object(c.useActions)(g.c),E=u.updateLayouts,D=u.updateContainerWidth,f=u.updateItemColor,i=u.removeItem,L=u.refreshAllDashboardItems,T=Object(c.useActions)(B.a),w=T.duplicateInsight,J=T.renameInsight,K=T.moveToDashboard,N=Object(p.useState)(null),H=U()(N,2),X=H[0],Q=H[1],se=Object(p.useRef)(!1),M=Object(p.useRef)(null),h=Object(I.a)({"dashboard-view-mode":r!==d.j.Edit,"dashboard-edit-mode":r===d.j.Edit}),C=Object(V.b)(),Z=C.width,ia=C.ref,Ie=!Z||Z>g.a.sm;return e.a.createElement("div",{className:"dashboard-items-wrapper",ref:ia},e.a.createElement(ce.Responsive,{width:Z||0,className:h,isDraggable:r===d.j.Edit,isResizable:r===d.j.Edit,layouts:o,rowHeight:80,margin:[16,16],containerPadding:[0,0],onLayoutChange:function(z,S){r===d.j.Edit&&E(S)},onWidthChange:function(z,S,O){D(z,O)},breakpoints:g.a,resizeHandles:Ie?["s","e","se"]:["s"],cols:g.b,onResize:function(z,S,O){(!X||X.w!==O.w||X.h!==O.h)&&Q(O)},onResizeStop:function(){Q(null)},onDrag:function(){se.current=!0,M.current&&window.clearTimeout(M.current)},onDragStop:function(){M.current&&window.clearTimeout(M.current),M.current=window.setTimeout(function(){se.current=!1},250)},draggableCancel:".anticon,.ant-dropdown,table,.ant-popover-content,button,.Popup"},s==null?void 0:s.map(function(b){var z;return e.a.createElement(j.a,{key:b.short_id,insight:b,dashboardId:t==null?void 0:t.id,loading:m(b.short_id),apiErrored:((z=v[b.short_id])===null||z===void 0?void 0:z.error)||!1,highlighted:l&&b.short_id===l,showResizeHandles:r===d.j.Edit,canResizeWidth:Ie,updateColor:function(O){return f(b.id,O)},removeFromDashboard:function(){return i(b)},refresh:function(){return L([b])},rename:function(){return J(b)},duplicate:function(){return w(b)},moveToDashboardOld:function(O){return w(b,O,!0)},moveToDashboard:function(O){var ca=O.id,ma=O.name;if(!t)throw new Error("must be on a dashboard to move an insight");K(b,t.id,ca,ma)}})})))}var $=a("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),_=a("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),q=a("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/dashboard/Dashboard.scss"),W=a.n(q),G={};G.insert="head",G.singleton=!1;var ua=de()(W.a,G),ha=W.a.locals||{},Me=a("./frontend/src/lib/hooks/useKeyboardHotkeys.tsx"),R=a("./frontend/src/lib/utils/eventUsageLogic.ts"),Pe=a("./frontend/src/lib/components/TimezoneAware/index.tsx"),fa=a("./node_modules/core-js/modules/es.array.fill.js"),me=a("./node_modules/antd/es/card/index.js"),ee=a("./node_modules/antd/es/row/index.js"),P=a("./node_modules/antd/es/col/index.js"),x=a("./node_modules/antd/es/skeleton/index.js"),ge=a("./frontend/src/lib/components/Link.tsx"),pe=a("./frontend/src/scenes/urls.ts"),A=a("./frontend/src/lib/components/LemonButton/index.ts");function Ee(n){var t=n.active;return e.a.createElement(me.a,{className:"hide-lte-lg"},e.a.createElement(ee.a,null,e.a.createElement(P.a,{span:12},e.a.createElement(x.a,{paragraph:{rows:1},active:t}),e.a.createElement("div",{className:"mt"},e.a.createElement("div",{className:"mt"},e.a.createElement(x.a.Button,{active:t}),e.a.createElement(x.a.Button,{active:t,style:{marginLeft:4,width:140}})),e.a.createElement("div",{className:"mt"},e.a.createElement(x.a.Button,{active:t}),e.a.createElement(x.a.Button,{active:t,style:{marginLeft:4,width:140}})),e.a.createElement("div",{className:"mt"},e.a.createElement(x.a.Button,{active:t}),e.a.createElement(x.a.Button,{active:t,style:{marginLeft:4,width:140}})))),e.a.createElement(P.a,{span:12},e.a.createElement("div",{className:"skeleton-actions"},e.a.createElement(x.a.Avatar,{active:t,shape:"circle",size:"small"}),e.a.createElement(x.a.Avatar,{active:t,shape:"circle",size:"small"})),e.a.createElement(x.a.Avatar,{active:t,shape:"circle",size:"large",className:"pie-chart"}))))}function we(){return e.a.createElement("div",{className:"bar-chart ant-skeleton-content"},Array(8).fill(0).map(function(n,t){var s=200,o=40,r=Math.floor(Math.random()*(s-o+1))+o;return e.a.createElement("div",{className:"bar-el ant-skeleton-title",key:t,style:{height:r}})}))}var Fe=e.a.memo(we);function ye(n){var t=n.active;return e.a.createElement(me.a,{className:Object(I.a)("ant-skeleton",t&&"ant-skeleton-active")},e.a.createElement(ee.a,null,e.a.createElement(P.a,{span:12},e.a.createElement(x.a,{active:t,paragraph:{rows:1}})),e.a.createElement(P.a,{span:12},e.a.createElement("div",{className:"skeleton-actions"},e.a.createElement(x.a.Avatar,{active:t,shape:"circle",size:"small"}),e.a.createElement(x.a.Avatar,{active:t,shape:"circle",size:"small"})))),e.a.createElement(Fe,null))}function ae(n){var t=n.loading,s=Object(c.useValues)(g.c),o=s.dashboard;return e.a.createElement("div",{className:"empty-state"},!t&&e.a.createElement("div",{className:"cta"},e.a.createElement(me.a,{className:"card-elevated"},e.a.createElement("h3",{className:"l3"},"Dashboard empty"),e.a.createElement("p",null,"This dashboard sure would look better with some graphs!"),e.a.createElement("div",{className:"mt text-center"},e.a.createElement(ge.a,{to:pe.a.insightNew(void 0,o==null?void 0:o.id)},e.a.createElement(A.a,{"data-attr":"dashboard-add-graph-header"},"Add insight"))))),e.a.createElement(ee.a,{gutter:16},e.a.createElement(P.a,{span:24,lg:12},e.a.createElement(Ee,{active:t})),e.a.createElement(P.a,{span:24,lg:12},e.a.createElement(ye,{active:t}))),e.a.createElement(ee.a,{gutter:16,className:"fade-out-graphs"},e.a.createElement(P.a,{span:24,lg:12},e.a.createElement(Ee,{active:t})),e.a.createElement(P.a,{span:24,lg:12},e.a.createElement(ye,{active:t}))))}try{ae.displayName="EmptyDashboardComponent",ae.__docgenInfo={description:"",displayName:"EmptyDashboardComponent",props:{loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx#EmptyDashboardComponent"]={docgenInfo:ae.__docgenInfo,name:"EmptyDashboardComponent",path:"frontend/src/scenes/dashboard/EmptyDashboardComponent.tsx#EmptyDashboardComponent"})}catch(n){}var Ne=a("./frontend/src/lib/components/NotFound/index.tsx"),ze=a("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Be=a.n(ze),ba=a("./node_modules/core-js/modules/es.array.from.js"),va=a("./node_modules/core-js/modules/es.string.iterator.js"),Ve=a("./node_modules/antd/es/dropdown/index.js"),ue=a("./node_modules/antd/es/menu/index.js"),We=a("./node_modules/antd/es/checkbox/index.js"),je=a("./node_modules/antd/es/radio/index.js"),Ke=a("./node_modules/antd/es/space/index.js"),He=a("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Ue=a("./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),ke=a("./node_modules/@ant-design/icons/es/icons/ReloadOutlined.js"),xe=a("./frontend/src/lib/utils.tsx"),Ye=a("./frontend/src/lib/components/Tooltip.tsx"),$e=a("./frontend/src/lib/dayjs.ts"),De=function(){var t=Object(c.useValues)(g.c),s=t.lastRefreshed;return e.a.createElement("span",null,"Last updated ",e.a.createElement("b",null,s?Object($e.a)(s).fromNow():"a while ago"))},Ge=Be()(Array.from([60,120,300,900],function(n){return{label:Object(xe.N)(n),value:n}}));function Je(){var n=Object(c.useValues)(g.c),t=n.itemsLoading,s=n.autoRefresh,o=n.refreshMetrics,r=Object(c.useActions)(g.c),m=r.refreshAllDashboardItemsManual,l=r.setAutoRefresh,v=Object(p.useState)(!1),u=U()(v,2),E=u[0],D=u[1];return e.a.createElement(e.a.Fragment,null,e.a.createElement(Ve.a.Button,{overlay:e.a.createElement(ue.a,{"data-attr":"auto-refresh-picker",id:"auto-refresh-picker"},e.a.createElement("div",{id:"auto-refresh-check",key:"auto-refresh-check",onClick:function(i){i.stopPropagation(),D(!0),l(!s.enabled,s.interval)}},e.a.createElement(Ye.a,{title:"Refresh dashboard automatically",placement:"bottomLeft"},e.a.createElement(We.a,{onChange:function(i){i.stopPropagation(),i.preventDefault()},checked:s.enabled}),e.a.createElement("label",{style:{marginLeft:10,cursor:"pointer"}},"Auto refresh"))),e.a.createElement(ue.a.Divider,null),e.a.createElement(ue.a.ItemGroup,{title:"Refresh interval"},e.a.createElement(je.a.Group,{onChange:function(i){l(!0,parseInt(i.target.value))},value:s.interval,style:{width:"100%"}},e.a.createElement(Ke.b,{direction:"vertical",style:{width:"100%"}},Ge.map(function(f){var i=f.label,L=f.value;return e.a.createElement(je.a,{key:L,value:L,style:{width:"100%"}},i)}))))),trigger:["click"],onClick:function(){return m()},icon:e.a.createElement(He.a,null),disabled:t,buttonsRender:function(i){var L=U()(i,2),T=L[0],w=L[1];return[e.a.cloneElement(T,{style:{paddingLeft:10}}),w]},visible:E,onVisibleChange:function(i){return D(i)}},e.a.createElement("span",{className:"dashboard-items-action-icon"},t?e.a.createElement(Ue.a,null):e.a.createElement(ke.a,null)),e.a.createElement("span",{className:Object(I.a)("dashboard-items-action-refresh-text",{hidden:t})},e.a.createElement(De,null)),e.a.createElement("span",{className:Object(I.a)("dashboard-items-action-refresh-text","completed",{hidden:!t})},"Refreshed ",o.completed," out of ",o.total)))}var Xe=a("./frontend/src/scenes/insights/EmptyStates/index.ts"),ga=a("./node_modules/core-js/modules/es.symbol.js"),pa=a("./node_modules/core-js/modules/es.symbol.description.js"),Ea=a("./node_modules/core-js/modules/es.array.filter.js"),ya=a("./node_modules/core-js/modules/es.object.to-string.js"),ja=a("./node_modules/core-js/modules/es.array.includes.js"),xa=a("./node_modules/core-js/modules/es.string.includes.js"),Da=a("./node_modules/core-js/modules/es.array.concat.js"),Ca=a("./node_modules/core-js/modules/es.array.join.js"),Ce=a("./frontend/src/lib/components/EditableField/EditableField.tsx");function te(n){var t=n.onExit,s="aside.ant-layout-sider, .layout-top-content";return Object(p.useEffect)(function(){for(var o=window.document.querySelectorAll(s),r=0;r<o.length;r++)o[r].style.display="none";var m=function(){window.document.fullscreenElement===null&&(t==null||t())};try{window.document.body.requestFullscreen().then(function(){window.addEventListener("fullscreenchange",m,!1)})}catch(l){}try{window.dispatchEvent(new window.Event("scroll")),window.dispatchEvent(new window.Event("resize"))}catch(l){}return function(){for(var l=window.document.querySelectorAll(s),v=0;v<l.length;v++)l[v].style.display="block";try{window.removeEventListener("fullscreenchange",m,!1),window.document.fullscreenElement!==null&&window.document.exitFullscreen()}catch(u){}try{window.dispatchEvent(new window.Event("scroll")),window.dispatchEvent(new window.Event("resize"))}catch(u){}}},[]),null}try{te.displayName="FullScreen",te.__docgenInfo={description:"",displayName:"FullScreen",props:{onExit:{defaultValue:null,description:"",name:"onExit",required:!1,type:{name:"(() => any)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/FullScreen.tsx#FullScreen"]={docgenInfo:te.__docgenInfo,name:"FullScreen",path:"frontend/src/lib/components/FullScreen.tsx#FullScreen"})}catch(n){}var Qe=a("./frontend/src/lib/components/LemonButton/More.tsx"),Ze=a("./frontend/src/lib/components/LemonRow/index.ts"),he=a("./frontend/src/lib/components/LemonDivider/index.ts"),Oe=a("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),_e=a("./frontend/src/lib/components/PageHeader.tsx"),Ae=a("./frontend/src/models/dashboardsModel.tsx"),qe=a("./frontend/src/scenes/dashboard/dashboardsLogic.ts"),Le=a("./frontend/src/scenes/dashboard/ShareModal.tsx"),ea=a("./frontend/src/scenes/userLogic.ts"),Re=a("./frontend/src/lib/constants.tsx"),aa=a("./frontend/src/lib/components/ProfilePicture/ProfileBubbles.tsx"),ta=a("./frontend/src/scenes/dashboard/dashboardCollaboratorsLogic.ts"),na=a("./frontend/src/lib/components/icons.tsx");function sa(){var n=Object(c.useValues)(g.c),t=n.dashboard,s=n.allItemsLoading,o=n.dashboardMode,r=n.canEditDashboard,m=Object(c.useActions)(g.c),l=m.setDashboardMode,v=m.triggerDashboardUpdate,u=Object(c.useValues)(qe.b),E=u.dashboardTags,D=Object(c.useActions)(Ae.a),f=D.updateDashboard,i=D.pinDashboard,L=D.unpinDashboard,T=D.deleteDashboard,w=D.duplicateDashboard,J=Object(c.useValues)(Ae.a),K=J.dashboardLoading,N=Object(c.useValues)(ea.a),H=N.hasAvailableFeature,X=Object(p.useState)(!1),Q=U()(X,2),se=Q[0],M=Q[1];return t||s?e.a.createElement(e.a.Fragment,null,o===d.j.Fullscreen&&e.a.createElement(te,{onExit:function(){return l(null,R.a.Browser)}}),t&&e.a.createElement(Le.b,{onCancel:function(){return M(!1)},visible:se}),e.a.createElement(_e.a,{title:e.a.createElement("div",{style:{display:"flex",alignItems:"center"}},e.a.createElement(Ce.a,{name:"name",value:(t==null?void 0:t.name)||(s?"Loading\u2026":""),placeholder:"Name this dashboard",onSave:t?function(h){return f({id:t.id,name:h})}:void 0,minLength:1,maxLength:400,mode:r?void 0:"view",notice:t&&!r?{icon:e.a.createElement(na.IconLock,null),tooltip:"You don't have edit permissions in this dashboard. Ask a dashboard collaborator with edit access to add you."}:void 0})),buttons:o===d.j.Edit?e.a.createElement(A.a,{"data-attr":"dashboard-edit-mode-save",type:"primary",onClick:function(){return l(null,R.a.DashboardHeader)},tabIndex:10,disabled:s},"Done editing"):o===d.j.Fullscreen?e.a.createElement(A.a,{type:"secondary",onClick:function(){return l(null,R.a.DashboardHeader)},"data-attr":"dashboard-exit-presentation-mode",disabled:s},"Exit full screen"):e.a.createElement(e.a.Fragment,null,e.a.createElement(Qe.a,{overlay:t?e.a.createElement(e.a.Fragment,null,t.created_by&&e.a.createElement(e.a.Fragment,null,e.a.createElement(Ze.a,{fullWidth:!0,style:{color:"var(--muted-alt)"}},"Created by"," ",t.created_by.first_name||t.created_by.email||"-"," ","on ",Object(xe.M)(t.created_at)),e.a.createElement(he.a,null)),r&&e.a.createElement(A.a,{onClick:function(){return l(d.j.Edit,R.a.MoreDropdown)},type:"stealth",fullWidth:!0},"Edit layout (E)"),e.a.createElement(A.a,{onClick:function(){return l(d.j.Fullscreen,R.a.MoreDropdown)},type:"stealth",fullWidth:!0},"Go full screen (F)"),r&&(t.pinned?e.a.createElement(A.a,{onClick:function(){return L(t.id,R.a.MoreDropdown)},type:"stealth",fullWidth:!0},"Unpin dashboard"):e.a.createElement(A.a,{onClick:function(){return i(t.id,R.a.MoreDropdown)},type:"stealth",fullWidth:!0},"Pin dashboard")),e.a.createElement(he.a,null),e.a.createElement(A.a,{onClick:function(){return w({id:t.id,name:t.name,show:!0})},type:"stealth",fullWidth:!0},"Duplicate dashboard"),r&&e.a.createElement(A.a,{onClick:function(){return T({id:t.id,redirect:!0})},status:"danger",type:"stealth",fullWidth:!0},"Delete dashboard")):void 0}),e.a.createElement(he.a,{vertical:!0}),t&&e.a.createElement(ra,{dashboard:t,onClick:function(){return M(function(C){return!C})}}),e.a.createElement(A.a,{type:"secondary","data-attr":"dashboard-share-button",onClick:function(){return M(function(C){return!C})}},"Share"),r&&e.a.createElement(ge.a,{to:pe.a.insightNew(void 0,t==null?void 0:t.id)},e.a.createElement(A.a,{type:"primary","data-attr":"dashboard-add-graph-header"},"Add insight"))),caption:e.a.createElement(e.a.Fragment,null,t&&!!(r||t.description)&&e.a.createElement(Ce.a,{multiline:!0,name:"description",value:t.description||"",placeholder:"Description (optional)",onSave:function(C){return f({id:t.id,description:C})},compactButtons:!0,mode:r?void 0:"view",paywall:!H(d.d.DASHBOARD_COLLABORATION)}),(t==null?void 0:t.tags)&&e.a.createElement(e.a.Fragment,null,r?e.a.createElement(Oe.a,{tags:t.tags,onChange:function(C,Z){return v({tags:Z})},saving:K,tagsAvailable:E.filter(function(h){var C;return!((C=t.tags)!==null&&C!==void 0&&C.includes(h))}),className:"insight-metadata-tags"}):t.tags.length?e.a.createElement(Oe.a,{tags:t.tags,saving:K,staticOnly:!0,className:"insight-metadata-tags"}):null)),delimited:!0})):null}function ra(n){var t=n.dashboard,s=n.onClick,o=Object(c.useValues)(Object(ta.a)({dashboardId:t.id})),r=o.allCollaborators;if(!t)return null;var m=Le.a[t.effective_restriction_level],l=[];return m!=null&&m.label&&l.push(m.label),t.is_shared&&l.push("Shared publicly"),e.a.createElement(aa.a,{people:r.map(function(v){return{email:v.user.email,name:v.user.first_name,title:"".concat(v.user.first_name," (").concat(Re.C[v.level],")")}}),tooltip:l.join(" \u2022 "),onClick:s})}var oa=a("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),da=a("./frontend/src/lib/logic/featureFlagLogic.ts"),la={component:Se,logic:g.c,paramsToProps:function(t){var s=t.params,o=s.id,r=s.shareToken,m=s.placement;return{id:o?parseInt(o):void 0,shareToken:r,placement:m}}};function ne(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=n.id,s=n.shareToken,o=n.placement;return e.a.createElement(c.BindLogic,{logic:g.c,props:{id:t?parseInt(t):void 0,shareToken:s,placement:o}},e.a.createElement(Se,null))}function Se(){var n,t,s=Object(c.useValues)(g.c),o=s.placement,r=s.dashboard,m=s.canEditDashboard,l=s.items,v=s.itemsLoading,u=s.filters,E=s.dashboardMode,D=s.receivedErrorsFromAPI,f=Object(c.useActions)(g.c),i=f.setDashboardMode,L=f.setDates,T=f.reportDashboardViewed,w=f.setProperties,J=Object(c.useValues)(da.a),K=J.featureFlags;return Object(p.useEffect)(function(){T()},[]),Object(Me.a)(o===d.k.Public||o===d.k.InternalMetrics?{}:{e:{action:function(){return i(E===d.j.Edit?null:d.j.Edit,R.a.Hotkey)},disabled:!m||E!==null&&E!==d.j.Edit},f:{action:function(){return i(E===d.j.Fullscreen?null:d.j.Fullscreen,R.a.Hotkey)},disabled:E!==null&&E!==d.j.Fullscreen},escape:{action:function(){return i(null,R.a.Hotkey)},disabled:E!==d.j.Edit}},[i,E]),!r&&!v&&D?e.a.createElement(Ne.a,{object:"dashboard"}):e.a.createElement("div",{className:"dashboard"},o!==d.k.ProjectHomepage&&o!==d.k.Public&&o!==d.k.InternalMetrics&&e.a.createElement(sa,null),D?e.a.createElement(Xe.d,{title:"There was an error loading this dashboard"}):!l||l.length===0?e.a.createElement(ae,{loading:v}):e.a.createElement("div",null,o!==d.k.Public&&e.a.createElement("div",{className:"flex pb border-bottom space-x"},e.a.createElement("div",{className:"flex-grow flex",style:{height:30}},e.a.createElement(Pe.a,{style:{marginRight:8,fontWeight:"bold",lineHeight:"30px"}}),e.a.createElement($.a,{defaultValue:"Custom",showCustom:!0,dateFrom:(n=u==null?void 0:u.date_from)!==null&&n!==void 0?n:void 0,dateTo:(t=u==null?void 0:u.date_to)!==null&&t!==void 0?t:void 0,onChange:L,disabled:!m,makeLabel:function(H){return e.a.createElement(e.a.Fragment,null,e.a.createElement(_.a,null),e.a.createElement("span",{className:"hide-when-small"}," ",H))}})),(K[Re.h.PROPERTY_FILTER_ON_DASHBOARD]||(r==null?void 0:r.filters.properties))&&e.a.createElement(oa.a,{onChange:w,pageKey:"dashboard_"+(r==null?void 0:r.id),propertyFilters:r==null?void 0:r.filters.properties,useLemonButton:!0})),e.a.createElement("div",{className:"flex pt pb space-x dashoard-items-actions"},e.a.createElement("div",{className:"left-item",style:o===d.k.Public?{textAlign:"right"}:void 0},o===d.k.Public?e.a.createElement(De,null):e.a.createElement(Je,null))),e.a.createElement(Y,null)))}try{ne.displayName="Dashboard",ne.__docgenInfo={description:"",displayName:"Dashboard",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},shareToken:{defaultValue:null,description:"",name:"shareToken",required:!1,type:{name:"string"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"public"'},{value:'"internal-metrics"'},{value:'"project-homepage"'},{value:'"dashboard"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/dashboard/Dashboard.tsx#Dashboard"]={docgenInfo:ne.__docgenInfo,name:"Dashboard",path:"frontend/src/scenes/dashboard/Dashboard.tsx#Dashboard"})}catch(n){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/dashboard/Dashboard.scss":function(F,y,a){var p=a("./node_modules/css-loader/dist/runtime/api.js");y=p(!1),y.push([F.i,'.dashboard .empty-state .fade-out-graphs:after{content:"";width:100%;height:3rem;background:linear-gradient(0deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.dashboard-header .dashboard-select,.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.dashboard{margin-top:1rem}.dashboard .dashboard-items-action-icon{margin-right:6px}.dashboard .dashboard-items-action-refresh-text{visibility:visible}.dashboard .dashboard-items-action-refresh-text.hidden{visibility:hidden}.dashboard .dashboard-items-action-refresh-text.completed{position:absolute;left:30px}.dashboard .empty-state{position:relative}.dashboard .empty-state .skeleton-actions{text-align:right}.dashboard .empty-state .skeleton-actions .ant-skeleton-avatar{margin-right:8px}.dashboard .empty-state .pie-chart{height:200px;width:200px;max-width:100%;margin-top:1rem}@media(max-width:992px){.dashboard .empty-state .pie-chart{height:140px;width:140px}}.dashboard .empty-state .bar-chart{display:flex;margin-top:1rem;align-items:flex-end}.dashboard .empty-state .bar-chart .bar-el{width:12.5%;margin-left:4px;height:100px}.dashboard .empty-state .ant-col{flex-grow:1}.dashboard .empty-state .ant-col .ant-card{height:100%}.dashboard .empty-state .fade-out-graphs{margin-top:1rem;height:150px;overflow:hidden;position:relative}.dashboard .empty-state .fade-out-graphs:after{width:calc(100% - 16px);left:8px;height:150px}.dashboard .empty-state .cta{width:360px;max-width:calc(100% - 32px);position:absolute;top:16px;left:50%;transform:translateX(-50%);z-index:488}.dashboard-header{display:flex;justify-content:space-between;margin-bottom:1rem;width:100%}.dashboard-header.full-screen{margin-top:1rem}.dashboard-header .dashboard-select{flex:1;padding-right:2rem}.dashboard-header .dashboard-select .ant-select-single{max-width:100%;line-height:40px}.dashboard-header .dashboard-select .ant-select-single .ant-select-selector{align-items:center;padding-left:0;padding-right:8px;line-height:40px;height:40px}.dashboard-header .dashboard-select .ant-select-single .ant-select-selector .ant-select-selection-item{font-size:28px;font-weight:600;line-height:40px;width:100%;height:35px;display:flex;align-items:center}.dashboard-header .dashboard-select .ant-select-single .ant-select-selector .ant-select-selection-item .anticon-share-alt{font-size:16px;margin-left:6px!important;margin-right:4px}.dashboard-header .dashboard-select .ant-select-single.ant-select-open .ant-select-arrow{color:rgba(45,45,45,.4)}.dashboard-header .dashboard-select .ant-select-single .ant-select-arrow{color:#2d2d2d;font-size:14px}.dashboard-header .dashboard-meta{white-space:nowrap;display:flex;align-items:center}.dashboard-header .dashboard-meta .ant-btn{margin-left:10px}.dashboard-header .dashboard-meta .ant-btn .anticon{vertical-align:baseline}.dashboard-header .dashboard-meta .ant-btn.button-box{padding:4px 8px}@media(max-width:768px){.dashboard-header{flex-direction:column}.dashboard-header .dashboard-meta{padding-top:1rem;justify-content:flex-end}}#auto-refresh-check{padding:5px 12px;cursor:pointer}.CollaboratorRow{justify-content:space-between;height:2rem;margin-top:.5rem;padding-left:.5rem}.CollaboratorRow,.CollaboratorRow__details{display:flex;align-items:center}.CollaboratorRow__details>span{margin-right:.5rem}',""]),F.exports=y},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/dashboard/DashboardItems.scss":function(F,y,a){var p=a("./node_modules/css-loader/dist/runtime/api.js");y=p(!1),y.push([F.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.dashboard-items-wrapper{width:100%}.react-grid-layout{position:relative;transition:height .1s ease;margin-bottom:2rem}.react-grid-layout.dashboard-view-mode .react-grid-item{transition:none}.react-grid-item{transition:all .1s ease;transition-property:left,top}.react-grid-item.cssTransforms{transition-property:transform}.react-grid-item.resizing{z-index:1;will-change:width,height}.react-grid-item.react-draggable{cursor:move}.react-grid-item.react-draggable-dragging{transition:none;z-index:105;will-change:transform}.react-grid-item.dropping{visibility:hidden}.react-grid-item.react-grid-placeholder{transition:.1s ease;max-width:100%;position:relative;border:1px solid var(--primary);outline:1px solid var(--primary);border-radius:var(--radius);z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.react-resizable-hide>.react-resizable-handle{display:none}.react-grid-item>.react-resizable-handle{position:absolute;width:2rem;height:2rem;bottom:-.5rem;right:-.5rem;cursor:se-resize;z-index:10}.react-grid-item>.react-resizable-handle.react-resizable-handle-se{cursor:se-resize}.react-grid-item>.react-resizable-handle.react-resizable-handle-e{top:0;bottom:2rem;height:auto;cursor:ew-resize}.react-grid-item>.react-resizable-handle.react-resizable-handle-s{left:0;right:2rem;width:auto;cursor:ns-resize}.ant-dropdown{z-index:700}.dive-btn{margin-right:.5rem}.dive-btn.dive-btn-dive{border-color:#5375ff;color:#5375ff}.dive-btn.dive-btn-dive:hover{border-color:#0025b9;color:#0025b9}",""]),F.exports=y}}]);
