"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[9143],{"../../frontend/src/scenes/experiments/stories/ExperimentWithMultipleMetrics.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ExperimentWithMultipleMetrics:()=>ExperimentWithMultipleMetrics,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var scenes_App__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/src/scenes/App.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_mocks_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/mocks/browser.tsx"),_mocks_fixtures_api_experiments_experiment_with_multiple_metrics_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/mocks/fixtures/api/experiments/experiment_with_multiple_metrics.json"),_mocks_fixtures_api_experiments_exposure_query_result_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/mocks/fixtures/api/experiments/exposure_query_result.json"),_mocks_fixtures_api_experiments_funnel_metric_result_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/mocks/fixtures/api/experiments/funnel_metric_result.json"),_mocks_fixtures_api_experiments_mean_metric_result_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/mocks/fixtures/api/experiments/mean_metric_result.json"),_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/utils.tsx");let __WEBPACK_DEFAULT_EXPORT__={component:scenes_App__WEBPACK_IMPORTED_MODULE_0__.g,title:"Scenes-App/Experiments",parameters:{layout:"fullscreen",viewMode:"story",mockDate:"2025-01-27",pageUrl:scenes_urls__WEBPACK_IMPORTED_MODULE_1__.j.experiment(_mocks_fixtures_api_experiments_experiment_with_multiple_metrics_json__WEBPACK_IMPORTED_MODULE_3__.id)},decorators:[(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_2__.x8)({get:{[`/api/projects/:team_id/experiments/${_mocks_fixtures_api_experiments_experiment_with_multiple_metrics_json__WEBPACK_IMPORTED_MODULE_3__.id}/`]:_mocks_fixtures_api_experiments_experiment_with_multiple_metrics_json__WEBPACK_IMPORTED_MODULE_3__,"/api/projects/:team_id/experiment_holdouts":[],"/api/projects/:team_id/experiment_saved_metrics/":[],[`/api/projects/:team_id/feature_flags/${_mocks_fixtures_api_experiments_experiment_with_multiple_metrics_json__WEBPACK_IMPORTED_MODULE_3__.feature_flag.id}/`]:{},[`/api/projects/:team_id/feature_flags/${_mocks_fixtures_api_experiments_experiment_with_multiple_metrics_json__WEBPACK_IMPORTED_MODULE_3__.feature_flag.id}/status/`]:{}},post:{"/api/environments/:team_id/query":(req,res,ctx)=>{let body=req.body;return body.query.kind===_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_7__.OH.ExperimentExposureQuery?res(ctx.json(_mocks_fixtures_api_experiments_exposure_query_result_json__WEBPACK_IMPORTED_MODULE_4__)):"funnel"===body.query.metric.metric_type?res(ctx.json(_mocks_fixtures_api_experiments_funnel_metric_result_json__WEBPACK_IMPORTED_MODULE_5__)):"mean"===body.query.metric.metric_type?res(ctx.json(_mocks_fixtures_api_experiments_mean_metric_result_json__WEBPACK_IMPORTED_MODULE_6__)):void 0}}})]},ExperimentWithMultipleMetrics={play:(0,lib_utils__WEBPACK_IMPORTED_MODULE_8__.nO)(500)};ExperimentWithMultipleMetrics.parameters={...ExperimentWithMultipleMetrics.parameters,docs:{...ExperimentWithMultipleMetrics.parameters?.docs,source:{originalSource:"{\n  play: makeDelay(500)\n}",...ExperimentWithMultipleMetrics.parameters?.docs?.source}}};let __namedExportsOrder=["ExperimentWithMultipleMetrics"]},"../../frontend/src/mocks/fixtures/api/experiments/experiment_with_multiple_metrics.json":module=>{module.exports=JSON.parse('{"id":17,"name":"experiment-multiple-metrics","description":null,"start_date":"2025-06-03T14:48:37.594000Z","end_date":null,"feature_flag_key":"experiment-multiple-metrics","feature_flag":{"id":142,"team_id":1,"name":"Feature Flag for Experiment experiment-multiple-metrics","key":"experiment-multiple-metrics","filters":{"groups":[{"properties":[],"rollout_percentage":100}],"multivariate":{"variants":[{"key":"control","rollout_percentage":34},{"key":"test-1","rollout_percentage":33},{"key":"test-2","rollout_percentage":33}]},"holdout_groups":null,"aggregation_group_type_index":null},"deleted":false,"active":true,"ensure_experience_continuity":false,"has_encrypted_payloads":false,"version":1},"holdout":null,"holdout_id":null,"exposure_cohort":null,"parameters":{"feature_flag_variants":[{"key":"control","rollout_percentage":34},{"key":"test-1","rollout_percentage":33},{"key":"test-2","rollout_percentage":33}],"recommended_sample_size":0,"recommended_running_time":0,"minimum_detectable_effect":30},"secondary_metrics":[],"saved_metrics":[],"saved_metrics_ids":null,"filters":{},"archived":false,"deleted":false,"created_by":{"id":1,"uuid":"0196a5e4-1c5d-0000-8b8c-31ae10f6d7d7","distinct_id":"TM2Vy3T9MqY0HHAxgKBj95zZEaZ45MYSpuSxu6MaVNj","first_name":"Juraj","last_name":"","email":"juraj@posthog.com","is_email_verified":false,"hedgehog_config":null,"role_at_organization":"engineering"},"created_at":"2025-06-03T14:48:11.882465Z","updated_at":"2025-06-03T14:48:50.754962Z","type":"product","exposure_criteria":{"filterTestAccounts":true},"metrics":[{"kind":"ExperimentMetric","source":{"kind":"EventsNode","math":"total","event":"$pageview"},"metric_type":"mean"},{"kind":"ExperimentMetric","series":[{"kind":"EventsNode","event":"signup completed"}],"metric_type":"funnel"}],"metrics_secondary":[],"conclusion":null,"conclusion_comment":null}')},"../../frontend/src/mocks/fixtures/api/experiments/exposure_query_result.json":module=>{module.exports=JSON.parse('{"cache_key":"cache_bba689ce3132fef5d97b652c6a96e871","cache_target_age":"2025-03-07T18:04:07.837340Z","date_range":{"date_from":"2025-02-23T18:03:00+00:00","date_to":null,"explicitDate":true},"is_cached":true,"kind":"ExperimentExposureQuery","last_refresh":"2025-03-06T18:04:07.837340Z","next_allowed_client_refresh":"2025-03-06T18:05:07.837340Z","timeseries":[{"days":["2025-02-23","2025-02-24","2025-02-25","2025-02-26","2025-02-27","2025-02-28","2025-03-01","2025-03-02","2025-03-03","2025-03-04","2025-03-05","2025-03-06"],"exposure_counts":[0,0,0,0,38,179,317,473,631,756,889,975],"variant":"test"},{"days":["2025-02-23","2025-02-24","2025-02-25","2025-02-26","2025-02-27","2025-02-28","2025-03-01","2025-03-02","2025-03-03","2025-03-04","2025-03-05","2025-03-06"],"exposure_counts":[0,0,0,0,45,182,347,487,625,780,922,1025],"variant":"control"}],"timezone":"UTC","total_exposures":{"test":975,"control":1025}}')},"../../frontend/src/mocks/fixtures/api/experiments/funnel_metric_result.json":module=>{module.exports=JSON.parse('{"cache_key":"cache_ff3681af45bf90896cfea5a701aa3fbf","cache_target_age":"2025-06-04T14:39:45.256584Z","calculation_trigger":null,"credible_intervals":{"control":[0.23676884629536582,0.3650951721229643],"test-1":[0.350373407355112,0.46516893753150507],"test-2":[0.2430427139744995,0.38105129282680306]},"insight":[],"is_cached":true,"kind":"ExperimentQuery","last_refresh":"2025-06-03T14:39:45.256584Z","metric":{"conversion_window":null,"conversion_window_unit":null,"kind":"ExperimentMetric","metric_type":"funnel","name":null,"series":[{"custom_name":null,"event":"signup completed","fixedProperties":null,"kind":"EventsNode","limit":null,"math":null,"math_group_type_index":null,"math_hogql":null,"math_property":null,"math_property_revenue_currency":null,"math_property_type":null,"name":null,"orderBy":null,"properties":null,"response":null}]},"next_allowed_client_refresh":"2025-06-03T14:40:45.256584Z","p_value":0.0030372158042796535,"probability":{"control":0.0055,"test-1":0.994,"test-2":0.5898},"query_status":null,"significance_code":"significant","significant":true,"stats_version":2,"timezone":"UTC","variants":[{"failure_count":135,"key":"control","success_count":57},{"failure_count":165,"key":"test-1","success_count":113},{"failure_count":117,"key":"test-2","success_count":52}]}')},"../../frontend/src/mocks/fixtures/api/experiments/mean_metric_result.json":module=>{module.exports=JSON.parse('{"cache_key":"cache_72810558d9f07a15c1d11594b8b9665a","cache_target_age":"2025-06-04T14:27:04.516802Z","calculation_trigger":null,"credible_intervals":{"control":[1.3893462731916975,1.7797968870585916],"test-1":[1.2464895511364196,1.5898896951446966],"test-2":[1.7220207019951232,2.0819525719843472]},"insight":[],"is_cached":true,"kind":"ExperimentQuery","last_refresh":"2025-06-03T14:27:04.516802Z","metric":{"conversion_window":null,"conversion_window_unit":null,"kind":"ExperimentMetric","lower_bound_percentile":null,"metric_type":"mean","name":null,"source":{"custom_name":null,"event":"$pageview","fixedProperties":null,"kind":"EventsNode","limit":null,"math":"total","math_group_type_index":null,"math_hogql":null,"math_property":null,"math_property_revenue_currency":null,"math_property_type":null,"name":null,"orderBy":null,"properties":null,"response":null},"upper_bound_percentile":null},"next_allowed_client_refresh":"2025-06-03T14:28:04.516802Z","p_value":0.000463377344065578,"probability":{"control":0.009,"test-1":0.1053,"test-2":0.991},"query_status":null,"significance_code":"significant","significant":true,"stats_version":2,"timezone":"UTC","variants":[{"absolute_exposure":158,"count":250,"exposure":158,"key":"control"},{"absolute_exposure":183,"count":259,"exposure":183,"key":"test-1"},{"absolute_exposure":224,"count":426,"exposure":224,"key":"test-2"}]}')}}]);