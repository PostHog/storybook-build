(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx":function(Se,E,e){"use strict";e.r(E),e.d(E,"scene",function(){return ps}),e.d(E,"SessionRecordingsPlaylistScene",function(){return is}),e.d(E,"SessionRecordingsPlaylist",function(){return $e});var je=e("./node_modules/core-js/modules/es.function.name.js"),Ce=e("./node_modules/core-js/modules/es.regexp.exec.js"),Le=e("./node_modules/core-js/modules/es.string.replace.js"),Ee=e("./node_modules/core-js/modules/es.symbol.js"),Te=e("./node_modules/core-js/modules/es.symbol.description.js"),q=e("./node_modules/core-js/modules/es.array.concat.js"),Ke=e("./node_modules/core-js/modules/es.array.map.js"),re=e("./node_modules/react/index.js"),_=e("./node_modules/kea/lib/index.esm.js"),Ne=e("./frontend/src/lib/utils.tsx"),ee=e("./frontend/src/types.ts"),de=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),Me=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ge=e.n(Me),Ie=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.scss"),_e=e.n(Ie),ue={};ue.insert="head",ue.singleton=!1;var z=ge()(_e.a,ue),se=_e.a.locals||{},oe=e("./frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx"),ye=e("./frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),b=e("./frontend/@posthog/lemon-ui/src/index.ts"),H=e("./frontend/src/lib/components/icons.tsx"),Oe=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),J=e.n(Oe),Fe=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),Y=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),We=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),xe=e("./frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),me=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx"),De=e("./node_modules/fast-deep-equal/index.js"),ie=e.n(De),s=e("./node_modules/react/jsx-runtime.js"),P=function(t){var o,i;return(o=t.actions)!==null&&o!==void 0&&o.length||(i=t.events)!==null&&i!==void 0&&i.length?{actions:t.actions,events:t.events}:{actions:[],events:[],new_entity:[{id:"empty",type:ee.o.NEW_ENTITY,order:0,name:"empty"}]}};function N(n){var t=n.filters,o=n.setFilters,i=n.showPropertyFilters,f=Object(re.useState)(P(t)),p=J()(f,2),d=p[0],v=p[1];return Object(re.useEffect)(function(){(!ie()(t.actions,d.actions)||!ie()(t.events,d.events))&&o({actions:d.actions,events:d.events})},[d]),Object(re.useEffect)(function(){(!ie()(t.actions,d.actions)||!ie()(t.events,d.events))&&v(P(t))},[t]),Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"flex-1 border rounded p-4",children:[Object(s.jsxs)("div",{className:"space-y-2",children:[Object(s.jsx)(me.a,{info:"Show recordings where all of the events or actions listed below happen.",children:"Filter by events and actions"}),Object(s.jsx)(Fe.a,{bordered:!0,filters:d,setFilters:function(R){v(R)},typeKey:"session-recordings",mathAvailability:xe.b.None,buttonCopy:"Add filter",hideRename:!0,hideDuplicate:!0,showNestedArrow:!1,actionsTaxonomicGroupTypes:[Y.a.Actions,Y.a.Events],propertiesTaxonomicGroupTypes:[Y.a.EventProperties,Y.a.EventFeatureFlags,Y.a.Elements],propertyFiltersPopover:!0})]}),i&&Object(s.jsxs)("div",{className:"mt-4 space-y-2",children:[Object(s.jsx)(me.a,{info:"Show recordings by persons who match the set criteria",children:"Filter by persons and cohorts"}),Object(s.jsx)(We.a,{pageKey:"session-recordings",taxonomicGroupTypes:[Y.a.PersonProperties,Y.a.Cohorts],propertyFilters:t.properties,onChange:function(R){o({properties:R})}})]})]})})}try{N.displayName="SessionRecordingsFilters",N.__docgenInfo={description:"",displayName:"SessionRecordingsFilters",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"RecordingFilters"}},setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: RecordingFilters) => void"}},showPropertyFilters:{defaultValue:null,description:"",name:"showPropertyFilters",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"]={docgenInfo:N.__docgenInfo,name:"SessionRecordingsFilters",path:"frontend/src/scenes/session-recordings/filters/SessionRecordingsFilters.tsx#SessionRecordingsFilters"})}catch(n){}var I=e("./node_modules/clsx/dist/clsx.m.js"),C=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),Q=e("./frontend/src/lib/components/LemonTable/LemonTableLoader.tsx"),L=e("./node_modules/core-js/modules/es.string.split.js"),Pe=e("./node_modules/core-js/modules/es.object.keys.js"),j=e("./frontend/src/lib/components/PropertyIcon.tsx"),h=e("./frontend/src/lib/components/Tooltip.tsx"),D=e("./frontend/src/scenes/persons/PersonHeader.tsx"),A=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function T(n){var t,o=n.recording,i=n.isActive,f=n.onClick,p=n.onPropertyClick,d=n.recordingProperties,v=n.recordingPropertiesLoading,g=Object(Ne.n)(o.recording_duration),R=g.split(":"),c=Object(I.a)("SessionRecordingsPlaylist__list-item__property-icon text-base text-muted-alt",!i&&"opacity-75"),ne=["$browser","$device_type","$os","$geoip_country_code"],X=d&&Object.keys(d).length>0?d:((t=o.person)===null||t===void 0?void 0:t.properties)||{},be=Object(s.jsx)("div",{className:"flex flex-row flex-nowrap shrink-0 gap-1 h-6 ph-no-capture",children:v?Object(s.jsx)(C.a,{className:"w-18 my-1"}):ne.map(function(ce){var Ue=ce==="$device_type"?(X==null?void 0:X.$device_type)||(X==null?void 0:X.$initial_device_type):X==null?void 0:X[ce];return Object(s.jsx)(j.b,{onClick:p,className:c,property:ce,value:Ue,tooltipTitle:function(V,Ve){return Object(s.jsxs)("div",{className:"text-center",children:["Click to filter for",Object(s.jsx)("br",{}),Object(s.jsx)("span",{className:"font-medium",children:Ve!=null?Ve:"N/A"})]})}},ce)})});return Object(s.jsxs)("li",{className:Object(I.a)("SessionRecordingsPlaylist__list-item","flex flex-row py-2 pr-4 pl-0 cursor-pointer relative overflow-hidden",i&&"bg-primary-highlight font-semibold"),onClick:function(){return f()},children:[Object(s.jsx)("div",{className:"w-2 h-2 mx-2",children:o.viewed?null:Object(s.jsx)(h.a,{title:"Indicates the recording has not been watched yet",children:Object(s.jsx)("div",{className:"w-2 h-2 mt-2 rounded-full bg-primary-light","aria-label":"unwatched-recording-label"})})}),Object(s.jsxs)("div",{className:"grow",children:[Object(s.jsxs)("div",{className:"flex items-center justify-between",children:[Object(s.jsx)("div",{className:"truncate font-medium text-primary ph-no-capture",children:Object(D.b)(o.person,25)}),Object(s.jsx)("div",{className:"flex-1"}),be]}),Object(s.jsxs)("div",{className:"flex items-center justify-between",children:[Object(s.jsx)(A.b,{className:"overflow-hidden text-ellipsis",time:o.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"}),Object(s.jsxs)("div",{className:"flex items-center flex-1 justify-end font-semibold",children:[Object(s.jsx)(H.IconSchedule,{className:c}),Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{className:Object(I.a)(R[0]==="00"&&"opacity-50 font-normal"),children:[R[0],":"]}),Object(s.jsxs)("span",{className:Object(I.a)({"opacity-50 font-normal":R[0]==="00"&&R[1]==="00"}),children:[R[1],":"]}),R[2]]})]})]})]})]},o.id)}try{T.displayName="SessionRecordingPlaylistItem",T.__docgenInfo={description:"",displayName:"SessionRecordingPlaylistItem",props:{recording:{defaultValue:null,description:"",name:"recording",required:!0,type:{name:"SessionRecordingType"}},recordingProperties:{defaultValue:null,description:"",name:"recordingProperties",required:!1,type:{name:"Record<string, any>"}},recordingPropertiesLoading:{defaultValue:null,description:"",name:"recordingPropertiesLoading",required:!0,type:{name:"boolean"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},onPropertyClick:{defaultValue:null,description:"",name:"onPropertyClick",required:!0,type:{name:"(property: string, value?: string | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistItem.tsx#SessionRecordingPlaylistItem"]={docgenInfo:T.__docgenInfo,name:"SessionRecordingPlaylistItem",path:"frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylistItem.tsx#SessionRecordingPlaylistItem"})}catch(n){}var U=e("./frontend/src/lib/components/EditableField/EditableField.tsx"),y=e("./frontend/src/lib/components/PageHeader.tsx"),S=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),le=e("./frontend/src/lib/utils/eventUsageLogic.ts"),W=e("./node_modules/antd/es/row/index.js"),he=e("./node_modules/antd/es/space/index.js"),Z=e("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),Ae=e("./frontend/src/lib/components/Popup/Popup.tsx"),Xe=e("./node_modules/core-js/modules/es.array.slice.js"),ts=e("./node_modules/core-js/modules/es.array.iterator.js"),ns=e("./node_modules/core-js/modules/es.object.to-string.js"),r=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),l=e("./frontend/src/lib/components/DurationPicker/DurationPicker.tsx"),a;(function(n){n.SECONDS="seconds",n.MINUTES="minutes",n.HOURS="hours"})(a||(a={}));var u=Object(_.kea)({path:function(t){return["scenes","session-recordings","DurationFilterLogic",t]},key:function(t){return t.pageKey||"global"},props:{},actions:{setValue:function(t){return{value:t}},setIsOpen:function(t){return{isOpen:t}},setOperator:function(t){return{operator:t}}},reducers:function(t){var o,i,f=t.props;return{operator:[f==null||(o=f.initialFilter)===null||o===void 0?void 0:o.operator,{setOperator:function(d,v){var g=v.operator;return g}}],value:[f==null||(i=f.initialFilter)===null||i===void 0?void 0:i.value,{setValue:function(d,v){var g=v.value;return g}}],isOpen:[!1,{setIsOpen:function(d,v){var g=v.isOpen;return g}}]}},selectors:{durationString:[function(n){return[n.operator,n.value]},function(n,t){var o="";n===ee.N.GreaterThan?o+="> ":o+="< ";var i=Object(l.b)(t||0);return o+=i.timeValue||0,i.timeValue===1?o+=" "+i.unit.slice(0,-1):o+=" "+i.unit,o}]},listeners:function(t){var o=t.props,i=t.values,f=function(d){var v=d.value,g=d.operator;o.onChange({operator:g||i.operator,value:v||i.value||0,type:"recording",key:"duration"})};return{setValue:function(d){var v=d.value;return f({value:v})},setOperator:function(d){var v=d.operator;return f({operator:v})}}}});function m(n){var t=n.initialFilter,o=n.onChange,i=n.pageKey,f=u({initialFilter:t,onChange:o,pageKey:i}),p=Object(_.useActions)(f),d=p.setValue,v=p.setIsOpen,g=p.setOperator,R=Object(_.useValues)(f),c=R.durationString,ne=R.value,X=R.operator,be=R.isOpen;return Object(s.jsx)(Ae.a,{visible:be,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return v(!1)},overlay:Object(s.jsx)(W.a,{children:Object(s.jsxs)(he.b,{children:[Object(s.jsx)(Z.a,{operator:X,operators:[ee.N.GreaterThan,ee.N.LessThan],onChange:function(Ue){g(Ue)}}),Object(s.jsx)(l.a,{onChange:d,initialValue:ne||0})]})}),children:Object(s.jsx)(b.LemonButton,{type:"secondary",status:"stealth",size:"small",onClick:function(){v(!0)},children:c})})}try{m.displayName="DurationFilter",m.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/filters/DurationFilter.tsx#DurationFilter"]={docgenInfo:m.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/filters/DurationFilter.tsx#DurationFilter"})}catch(n){}var O=e("./node_modules/core-js/modules/es.array.filter.js"),B=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),G=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),te=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),M=e("./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js"),F=e.n(M),$=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),fe=e.n($),ve=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ae=e.n(ve),w=e("./node_modules/@babel/runtime/regenerator/index.js"),x=e.n(w),He=e("./node_modules/kea-loaders/lib/index.js"),Je=e("./frontend/src/lib/api.ts"),Qe=e("./frontend/src/scenes/urls.ts"),rs=e("./node_modules/kea-router/lib/index.js"),us=e("./frontend/src/models/cohortsModel.ts"),Ze=e("./frontend/src/scenes/session-recordings/playlist/playlistUtils.ts");function os(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),o.push.apply(o,i)}return o}function Ge(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?os(Object(o),!0).forEach(function(i){fe()(n,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):os(Object(o)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(o,i))})}return n}var we=Object(_.kea)([Object(_.path)(function(n){return["scenes","session-recordings","playlist","sessionRecordingsPlaylistLogic",n]}),Object(_.props)({}),Object(_.key)(function(n){return n.shortId}),Object(_.connect)({values:[us.a,["cohortsById"]]}),Object(_.actions)({loadPlaylist:!0,setFilters:function(t){return{filters:t}},saveChanges:!0,duplicatePlaylist:!0}),Object(He.loaders)(function(n){var t=n.props,o=n.values;return{playlist:[null,{loadPlaylist:function(){var i=ae()(x.a.mark(function p(){return x.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Je.b.recordings.getPlaylist(t.shortId));case 1:case"end":return v.stop()}},p)}));function f(){return i.apply(this,arguments)}return f}(),updatePlaylist:function(){var i=ae()(x.a.mark(function p(d,v){var g;return x.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v(100);case 2:return c.next=4,Je.b.recordings.updatePlaylist(t.shortId,Ge(Ge({},d),{},{derived_name:o.derivedName}));case 4:return g=c.sent,v(),b.lemonToast.success("Playlist updated successfully"),c.abrupt("return",g);case 8:case"end":return c.stop()}},p)}));function f(p,d){return i.apply(this,arguments)}return f}(),updatePlaylistSilently:function(){var i=ae()(x.a.mark(function p(d,v){var g;return x.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v(100);case 2:return c.next=4,Je.b.recordings.updatePlaylist(t.shortId,Ge(Ge({},d),{},{derived_name:o.derivedName}));case 4:return g=c.sent,v(),c.abrupt("return",g);case 7:case"end":return c.stop()}},p)}));function f(p,d){return i.apply(this,arguments)}return f}(),duplicatePlaylist:function(){var i=ae()(x.a.mark(function p(d,v){var g;return x.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,v(100);case 2:if(o.playlist){c.next=4;break}return c.abrupt("return",null);case 4:return c.next=6,Object(Ze.c)(o.playlist);case 6:return g=c.sent,c.abrupt("return",g);case 8:case"end":return c.stop()}},p)}));function f(p,d){return i.apply(this,arguments)}return f}()}]}}),Object(_.reducers)(function(n){return F()(n),{filters:[null,{loadPlaylistSuccess:function(o,i){var f=i.playlist;return f.filters||null},setFilters:function(o,i){var f=i.filters;return f}}]}}),Object(_.listeners)(function(n){var t=n.actions,o=n.values;return{saveChanges:function(){var i=ae()(x.a.mark(function p(){return x.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:t.updatePlaylist({filters:o.filters||void 0});case 1:case"end":return v.stop()}},p)}));function f(){return i.apply(this,arguments)}return f}(),loadPlaylistSuccess:function(){var i=ae()(x.a.mark(function p(){var d;return x.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:((d=o.playlist)===null||d===void 0?void 0:d.derived_name)!==o.derivedName&&t.updatePlaylistSilently({derived_name:o.derivedName});case 1:case"end":return g.stop()}},p)}));function f(){return i.apply(this,arguments)}return f}()}}),Object(rs.beforeUnload)(function(n){var t=n.values,o=n.actions;return{enabled:function(){return t.hasChanges},message:"Leave playlist? Changes you made will be discarded.",onConfirm:function(){var f;o.setFilters(((f=t.playlist)===null||f===void 0?void 0:f.filters)||null)}}}),Object(_.selectors)(function(n){return F()(n),{breadcrumbs:[function(t){return[t.playlist]},function(t){return[{name:"Saved Playlists",path:Qe.a.sessionRecordings(ee.X.Playlists)},{name:(t==null?void 0:t.name)||(t==null?void 0:t.derived_name)||"(Untitled)",path:Qe.a.sessionRecordingPlaylist((t==null?void 0:t.short_id)||"")}]}],hasChanges:[function(t){return[t.playlist,t.filters]},function(t,o){return!ie()(t==null?void 0:t.filters,o)}],derivedName:[function(t){return[t.filters,t.cohortsById]},function(t,o){var i;return((i=Object(Ze.d)(t||{},o))===null||i===void 0?void 0:i.slice(0,400))||"(Untitled)"}]}}),Object(_.afterMount)(function(n){var t=n.actions;t.loadPlaylist()})]),ms=e("./frontend/src/lib/components/NotFound/index.tsx"),fs=e("./frontend/src/lib/components/UserActivityIndicator/UserActivityIndicator.tsx"),vs=e("./frontend/src/lib/components/LemonButton/More.tsx"),ps={component:is,logic:we,paramsToProps:function(t){var o=t.params.id;return{shortId:o}}};function is(){var n=Object(_.useValues)(we),t=n.playlist,o=n.playlistLoading,i=n.hasChanges,f=n.derivedName,p=Object(_.useActions)(we),d=p.updatePlaylist,v=p.setFilters,g=p.saveChanges,R=p.duplicatePlaylist;return!t&&o?Object(s.jsxs)("div",{className:"space-y-4 mt-6",children:[Object(s.jsx)(C.a,{className:"h-10 w-1/4"}),Object(s.jsx)(C.a,{className:" w-1/3"}),Object(s.jsx)(C.a,{className:" w-1/4"}),Object(s.jsxs)("div",{className:"flex justify-between mt-4",children:[Object(s.jsx)(C.a.Button,{}),Object(s.jsxs)("div",{className:"flex gap-4",children:[Object(s.jsx)(C.a.Button,{}),Object(s.jsx)(C.a.Button,{})]})]}),Object(s.jsxs)("div",{className:"flex justify-between gap-4 mt-8",children:[Object(s.jsx)("div",{className:"space-y-8 w-1/4",children:Object(s.jsx)(C.a,{className:"h-10",repeat:10})}),Object(s.jsx)("div",{className:"flex-1"})]})]}):t?Object(s.jsxs)("div",{children:[Object(s.jsx)(y.a,{title:Object(s.jsx)(U.a,{name:"name",value:t.name||"",placeholder:f,onSave:function(ne){return d({name:ne})},saveOnBlur:!0,maxLength:400,mode:void 0,"data-attr":"playlist-name"}),buttons:Object(s.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[Object(s.jsx)(vs.a,{overlay:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(b.LemonButton,{status:"stealth",onClick:function(){return R()},fullWidth:!0,"data-attr":"duplicate-playlist",children:"Duplicate"}),Object(s.jsx)(b.LemonButton,{status:"stealth",onClick:function(){return d({pinned:!t.pinned})},fullWidth:!0,children:t.pinned?"Unpin playlist":"Pin playlist"}),Object(s.jsx)(b.LemonDivider,{}),Object(s.jsx)(b.LemonButton,{status:"danger",onClick:function(){return Object(Ze.b)(t,function(){rs.router.actions.replace(Qe.a.sessionRecordings(ee.X.Playlists))})},fullWidth:!0,children:"Delete playlist"})]})}),Object(s.jsx)(b.LemonDivider,{vertical:!0}),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(b.LemonButton,{type:"primary",disabled:!i,loading:i&&o,onClick:g,children:"Save changes"})})]}),caption:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(U.a,{multiline:!0,name:"description",value:t.description||"",placeholder:"Description (optional)",onSave:function(ne){return d({description:ne})},saveOnBlur:!0,maxLength:400,"data-attr":"playlist-description",compactButtons:!0}),Object(s.jsx)(fs.a,{at:t.last_modified_at,by:t.last_modified_by,className:"mt-2"})]})}),t.short_id?Object(s.jsx)($e,{logicKey:t.short_id,filters:t.filters,onFiltersChange:v}):null]}):Object(s.jsx)(ms.a,{object:"Recording Playlist"})}function $e(n){var t,o,i,f=n.logicKey,p=n.personUUID,d=n.filters,v=n.updateSearchParams,g=n.onFiltersChange,R=Object(de.d)({key:f,personUUID:p,filters:d,updateSearchParams:v}),c=Object(_.useValues)(R),ne=c.sessionRecordings,X=c.sessionRecordingIdToProperties,be=c.sessionRecordingsResponseLoading,ce=c.sessionRecordingsPropertiesResponseLoading,Ue=c.hasNext,ke=c.hasPrev,V=c.activeSessionRecording,Ve=c.nextSessionRecording,pe=c.filters,js=c.totalFiltersCount,qe=c.showFilters,Be=Object(_.useActions)(R),gs=Be.setSelectedRecordingId,ls=Be.loadNext,as=Be.loadPrev,ze=Be.setFilters,cs=Be.reportRecordingsListFilterAdded,ys=Be.setShowFilters,Ye=Object(re.useRef)(null);Object(re.useEffect)(function(){pe!==d&&(g==null||g(pe))},[pe]);var Os=function(k){var Re;gs(k.id);var ds=Ye!=null&&(Re=Ye.current)!==null&&Re!==void 0&&Re.offsetTop?Ye.current.offsetTop-8:0;window.scrollY>ds&&window.scrollTo({left:0,top:ds,behavior:"smooth"})},Ps=function(k,Re){ze(Object(de.c)(pe,k,Re))},es=(t=pe.offset)!==null&&t!==void 0?t:0,ss=es+(be?de.b:ne.length),hs=ss?Object(s.jsxs)("div",{className:"flex items-center gap-1",children:[Object(s.jsx)("span",{children:"".concat(es+1," - ").concat(ss)}),Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(H.IconChevronLeft,{}),status:"stealth",size:"small",disabled:!ke,onClick:function(){as(),window.scrollTo(0,0)}}),Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(H.IconChevronRight,{}),status:"stealth",disabled:!Ue,size:"small",onClick:function(){ls(),window.scrollTo(0,0)}})]}):null;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"flex flex-wrap items-end justify-between gap-4 mb-4",children:[Object(s.jsx)(b.LemonButton,{type:"secondary",size:"small",icon:Object(s.jsx)(H.IconWithCount,{count:js,children:Object(s.jsx)(H.IconFilter,{})}),onClick:function(){if(ys(!qe),p){var k=document.querySelectorAll(".entity-filter-row button");k.length>0&&k[0].click()}},children:qe?"Hide filters":"Filter recordings"}),Object(s.jsxs)("div",{className:"flex items-center gap-4",children:[Object(s.jsx)(S.a,{dateFrom:(o=pe.date_from)!==null&&o!==void 0?o:"-7d",dateTo:(i=pe.date_to)!==null&&i!==void 0?i:void 0,onChange:function(k,Re){cs(le.d.DateRange),ze({date_from:k,date_to:Re})},dateOptions:[{key:"Custom",values:[]},{key:"Last 24 hours",values:["-24h"]},{key:"Last 7 days",values:["-7d"]},{key:"Last 21 days",values:["-21d"]}]}),Object(s.jsxs)("div",{className:"flex gap-2",children:[Object(s.jsx)(me.a,{children:"Duration"}),Object(s.jsx)(m,{onChange:function(k){cs(le.d.Duration),ze({session_recording_duration:k})},initialFilter:pe.session_recording_duration,pageKey:p?"person-".concat(p):"session-recordings"})]})]})]}),Object(s.jsxs)("div",{ref:Ye,className:"SessionRecordingsPlaylist","data-attr":"session-recordings-playlist",children:[Object(s.jsxs)("div",{className:"SessionRecordingsPlaylist__left-column space-y-4",children:[qe?Object(s.jsx)(N,{filters:pe,setFilters:ze,showPropertyFilters:!p}):null,Object(s.jsxs)("div",{className:"w-full overflow-hidden border rounded",children:[Object(s.jsxs)("div",{className:"relative flex justify-between items-center bg-mid py-3 px-4 border-b",children:[Object(s.jsx)("span",{className:"font-bold uppercase text-xs my-1 tracking-wide",children:"Recent Recordings"}),hs,Object(s.jsx)(Q.a,{loading:be})]}),ne.length?Object(s.jsx)("ul",{className:Object(I.a)(be?"opacity-50":""),children:ne.map(function(K,k){return Object(s.jsxs)(s.Fragment,{children:[k>0&&Object(s.jsx)("div",{className:"border-t"}),Object(s.jsx)(T,{recording:K,recordingProperties:X[K.id],recordingPropertiesLoading:ce,onClick:function(){return Os(K)},onPropertyClick:Ps,isActive:(V==null?void 0:V.id)===K.id},K.id)]})})}):be?Object(s.jsx)(s.Fragment,{children:Object(Ne.vb)(de.b).map(function(K){return Object(s.jsxs)("div",{className:"p-4 space-y-2 border-b",children:[Object(s.jsx)(C.a,{className:"w-1/2"}),Object(s.jsx)(C.a,{className:"w-1/3"})]},K)})}):Object(s.jsx)("p",{className:"text-muted-alt m-4",children:"No matching recordings found"})]}),Object(s.jsxs)("div",{className:"flex justify-between items-center",children:[Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(H.IconChevronLeft,{}),type:"secondary",disabled:!ke,onClick:function(){as(),window.scrollTo(0,0)},children:"Previous"}),Object(s.jsx)("span",{children:"".concat(es+1," - ").concat(ss)}),Object(s.jsx)(b.LemonButton,{icon:Object(s.jsx)(H.IconChevronRight,{}),type:"secondary",disabled:!Ue,onClick:function(){ls(),window.scrollTo(0,0)},children:"Next"})]})]}),Object(s.jsx)("div",{className:"SessionRecordingsPlaylist__right-column",children:V!=null&&V.id?Object(s.jsx)(oe.a,{playerKey:"playlist",sessionRecordingId:V==null?void 0:V.id,matching:V==null?void 0:V.matching_events,recordingStartTime:V?V.start_time:void 0,nextSessionRecording:Ve}):Object(s.jsx)("div",{className:"mt-20",children:Object(s.jsx)(ye.a,{title:"No recording selected",description:"Please select a recording from the list on the left",buttonText:"Learn more about recordings",buttonTo:"https://posthog.com/docs/user-guides/recordings"})})})]})]})}try{$e.displayName="SessionRecordingsPlaylist",$e.__docgenInfo={description:"",displayName:"SessionRecordingsPlaylist",props:{logicKey:{defaultValue:null,description:"",name:"logicKey",required:!0,type:{name:"string"}},personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},filters:{defaultValue:null,description:"",name:"filters",required:!1,type:{name:"RecordingFilters"}},updateSearchParams:{defaultValue:null,description:"",name:"updateSearchParams",required:!1,type:{name:"boolean"}},onFiltersChange:{defaultValue:null,description:"",name:"onFiltersChange",required:!1,type:{name:"((filters: RecordingFilters) => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"]={docgenInfo:$e.__docgenInfo,name:"SessionRecordingsPlaylist",path:"frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"})}catch(n){}},"./frontend/src/scenes/session-recordings/playlist/playlistUtils.ts":function(Se,E,e){"use strict";e.d(E,"d",function(){return P}),e.d(E,"a",function(){return N}),e.d(E,"c",function(){return C}),e.d(E,"b",function(){return L});var je=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ce=e.n(je),Le=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ee=e.n(Le),Te=e("./node_modules/@babel/runtime/regenerator/index.js"),q=e.n(Te),Ke=e("./node_modules/core-js/modules/es.array.slice.js"),re=e("./node_modules/core-js/modules/es.array.join.js"),_=e("./node_modules/core-js/modules/es.array.map.js"),Ne=e("./node_modules/core-js/modules/es.array.filter.js"),ee=e("./node_modules/core-js/modules/es.object.to-string.js"),de=e("./node_modules/core-js/modules/es.array.concat.js"),Me=e("./node_modules/core-js/modules/es.number.constructor.js"),ge=e("./node_modules/core-js/modules/es.function.name.js"),Ie=e("./node_modules/core-js/modules/es.string.trim.js"),_e=e("./frontend/src/scenes/insights/filters/ActionFilter/entityFilterLogic.ts"),ue=e("./frontend/src/scenes/insights/utils.tsx"),z=e("./frontend/src/lib/utils.tsx"),se=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),oe=e("./node_modules/core-js/modules/es.symbol.js"),ye=e("./node_modules/core-js/modules/es.symbol.description.js"),b=e("./frontend/src/lib/components/LemonDialog/index.ts"),H=e("./frontend/src/scenes/billing/v2/Billing.tsx"),Oe=e("./node_modules/react/jsx-runtime.js");function J(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=j.title,D=h===void 0?"Unlock premium features":h,A=j.description;b.a.open({title:D,description:A,content:Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(H.a,{})}),width:800,primaryButton:{children:"Maybe later...",type:"secondary"}})}try{J.displayName="openBillingPopupModal",J.__docgenInfo={description:"",displayName:"openBillingPopupModal",props:{title:{defaultValue:{value:"Unlock premium features"},description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/billing/v2/BillingPopup.tsx#openBillingPopupModal"]={docgenInfo:J.__docgenInfo,name:"openBillingPopupModal",path:"frontend/src/scenes/billing/v2/BillingPopup.tsx#openBillingPopupModal"})}catch(j){}var Fe=e("./frontend/src/lib/api.ts"),Y=e("./frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts"),We=e("./frontend/@posthog/lemon-ui/src/index.ts"),xe=e("./node_modules/kea-router/lib/index.js"),me=e("./frontend/src/scenes/urls.ts"),De=e("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),ie=["id","short_id"];function s(j){return j?z.I!==null&&z.I!==void 0&&z.I[j]?z.I[j].slice(0,1):String(j):"?"}function P(j,h){var D,A,T=Object(_e.c)(j);A=T.map(function(S){return Object(ue.e)(S)}).join(" & ");var U=Object(z.r)(j.properties);if(U&&((D=U.length)!==null&&D!==void 0?D:0)>0){var y=U.map(function(S){if(S.type==="person"){var le;return"".concat(((le=Object(se.b)(S.key,"event"))===null||le===void 0?void 0:le.label)||S.key," ").concat(s(S.operator)," ").concat(S.value)}if(S.type==="cohort"){var W,he=Number(S.value);return"cohorts: ".concat(S.value==="all"?"all users":he in h?(W=h[he])===null||W===void 0?void 0:W.name:"ID ".concat(he))}}).filter(function(S){return!!S}).join(" & ");A+="".concat(A?", on ":"").concat(y)}return A.trim()||null}function N(j){return I.apply(this,arguments)}function I(){return I=Ee()(q.a.mark(function j(h){var D,A,T=arguments;return q.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return D=T.length>1&&T[1]!==void 0?T[1]:!0,y.prev=1,h.filters=h.filters||De.a,y.next=5,Fe.b.recordings.createPlaylist(h);case 5:return A=y.sent,D&&xe.router.actions.push(me.a.sessionRecordingPlaylist(A.short_id)),y.abrupt("return",A);case 10:if(y.prev=10,y.t0=y.catch(1),y.t0.status!==403){y.next=16;break}J({title:"Upgrade now to unlock unlimited playlists",description:Y.a}),y.next=17;break;case 16:throw y.t0;case 17:return y.abrupt("return",null);case 18:case"end":return y.stop()}},j,null,[[1,10]])})),I.apply(this,arguments)}function C(j){return Q.apply(this,arguments)}function Q(){return Q=Ee()(q.a.mark(function j(h){var D,A,T,U,y,S=arguments;return q.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return D=S.length>1&&S[1]!==void 0?S[1]:!0,A=h.id,T=h.short_id,U=Ce()(h,ie),U.name=U.name?U.name+" (copy)":"",U.derived_name=U.derived_name,W.next=6,N(h,D);case 6:if(y=W.sent,y){W.next=9;break}return W.abrupt("return",null);case 9:return We.lemonToast.success("Playlist duplicated successfully"),W.abrupt("return",y);case 11:case"end":return W.stop()}},j)})),Q.apply(this,arguments)}function L(j,h){return Pe.apply(this,arguments)}function Pe(){return Pe=Ee()(q.a.mark(function j(h,D){return q.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(z.x)({object:h,idField:"short_id",endpoint:"projects/@current/session_recording_playlists",callback:D}));case 1:case"end":return T.stop()}},j)})),Pe.apply(this,arguments)}},"./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts":function(Se,E,e){"use strict";e.d(E,"b",function(){return Ae}),e.d(E,"a",function(){return Xe}),e.d(E,"c",function(){return ts}),e.d(E,"d",function(){return ns});var je=e("./node_modules/core-js/modules/es.object.keys.js"),Ce=e.n(je),Le=e("./node_modules/core-js/modules/es.symbol.js"),Ee=e.n(Le),Te=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),q=e.n(Te),Ke=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),re=e.n(Ke),_=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Ne=e.n(_),ee=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),de=e.n(ee),Me=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ge=e.n(Me),Ie=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),_e=e.n(Ie),ue=e("./node_modules/@babel/runtime/regenerator/index.js"),z=e.n(ue),se=e("./node_modules/core-js/modules/es.array.find.js"),oe=e.n(se),ye=e("./node_modules/core-js/modules/es.object.to-string.js"),b=e.n(ye),H=e("./node_modules/core-js/modules/es.function.name.js"),Oe=e.n(H),J=e("./node_modules/core-js/modules/es.array.map.js"),Fe=e.n(J),Y=e("./node_modules/core-js/modules/es.array.concat.js"),We=e.n(Y),xe=e("./node_modules/core-js/modules/es.array.filter.js"),me=e.n(xe),De=e("./node_modules/core-js/modules/es.array.iterator.js"),ie=e.n(De),s=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),P=e.n(s),N=e("./node_modules/core-js/modules/es.object.from-entries.js"),I=e.n(N),C=e("./node_modules/core-js/modules/es.array.find-index.js"),Q=e.n(C),L=e("./node_modules/kea/lib/index.esm.js"),Pe=e("./frontend/src/lib/api.ts"),j=e("./frontend/src/lib/utils.tsx"),h=e("./frontend/src/types.ts"),D=e("./node_modules/kea-router/lib/index.js"),A=e.n(D),T=e("./frontend/src/lib/utils/eventUsageLogic.ts"),U=e("./node_modules/fast-deep-equal/index.js"),y=e.n(U),S=e("./frontend/src/lib/dayjs.ts"),le=e("./node_modules/kea-loaders/lib/index.js"),W=e.n(le);function he(r,l){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);l&&(u=u.filter(function(m){return Object.getOwnPropertyDescriptor(r,m).enumerable})),a.push.apply(a,u)}return a}function Z(r){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{};l%2?he(Object(a),!0).forEach(function(u){_e()(r,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(a,u))})}return r}var Ae=20,Xe={session_recording_duration:{type:"recording",key:"duration",value:60,operator:h.N.GreaterThan},properties:[],events:[],actions:[],date_from:Object(S.a)().subtract(21,"days").format("YYYY-MM-DD")},ts=function(l,a,u){var m,O,B=(m=l.events)===null||m===void 0?void 0:m.find(function(M){var F=M.name;return F==="$pageview"}),G=(O=l.events)!==null&&O!==void 0?O:[],te=u?{key:a,value:[u],operator:h.N.Exact,type:"event"}:{key:a,value:h.N.IsNotSet,operator:h.N.IsNotSet,type:"event"};return B?{events:G.map(function(M){var F,$;return M.order===B.order?Z(Z({},M),{},{properties:[].concat(ge()((F=($=M.properties)===null||$===void 0?void 0:$.filter(function(fe){var ve=fe.key;return ve!==a}))!==null&&F!==void 0?F:[]),[te])}):M})}:{events:[].concat(ge()(G),[{id:"$pageview",name:"$pageview",type:"events",order:G.length,properties:[te]}])}},ns=Object(L.kea)([Object(L.path)(function(r){return["scenes","session-recordings","playlist","sessionRecordingsListLogic",r]}),Object(L.props)({}),Object(L.key)(function(r){var l;return"".concat(r.key,"-").concat((l=r.updateSearchParams)!==null&&l!==void 0?l:"-with-search")}),Object(L.connect)({actions:[T.e,["reportRecordingsListFetched","reportRecordingsListPropertiesFetched","reportRecordingsListFilterAdded"]]}),Object(L.actions)({getSessionRecordings:!0,setFilters:function(l){return{filters:l}},replaceFilters:function(l){return{filters:l}},setShowFilters:function(l){return{showFilters:l}},setSelectedRecordingId:function(l){return{id:l}},loadNext:!0,loadPrev:!0}),Object(le.loaders)(function(r){var l=r.props,a=r.values,u=r.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var m=de()(z.a.mark(function B(G,te){var M,F,$,fe,ve,ae;return z.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return F=Z(Z({},a.filters),{},{person_uuid:(M=l.personUUID)!==null&&M!==void 0?M:"",limit:Ae}),$=Object(j.Gb)(F),x.next=4,te(100);case 4:return fe=performance.now(),x.next=7,Pe.b.recordings.list($);case 7:return ve=x.sent,ae=performance.now()-fe,u.reportRecordingsListFetched(ae),te(),x.abrupt("return",ve);case 12:case"end":return x.stop()}},B)}));function O(B,G){return m.apply(this,arguments)}return O}()}],sessionRecordingsPropertiesResponse:[{results:[]},{getSessionRecordingsProperties:function(){var m=de()(z.a.mark(function B(G,te){var M,F,$,fe,ve;return z.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!(a.sessionRecordingsResponse.results.length<1)){w.next=2;break}return w.abrupt("return",{results:[]});case 2:return M={session_ids:a.sessionRecordingsResponse.results.map(function(x){var He=x.id;return He})},F=Object(j.Gb)(M),w.next=6,te(100);case 6:return $=performance.now(),w.next=9,Pe.b.recordings.listProperties(F);case 9:return fe=w.sent,ve=performance.now()-$,u.reportRecordingsListPropertiesFetched(ve),te(),w.abrupt("return",fe);case 14:case"end":return w.stop()}},B)}));function O(B,G){return m.apply(this,arguments)}return O}()}]}}),Object(L.reducers)(function(r){var l=r.props;return{filters:[l.filters||Xe,{replaceFilters:function(u,m){var O=m.filters;return O},setFilters:function(u,m){var O=m.filters;return Z(Z({},u),O)}}],showFilters:[!1,{setShowFilters:function(u,m){var O=m.showFilters;return O}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(u,m){var O=m.sessionRecordingsResponse;return ge()(O.results)},setSelectedRecordingId:function(u,m){var O=m.id;return ge()(u.map(function(B){return B.id===O?Z(Z({},B),{},{viewed:!0}):Z({},B)}))}}],selectedRecordingId:[null,{setSelectedRecordingId:function(u,m){var O=m.id;return O!=null?O:null}}]}}),Object(L.listeners)(function(r){var l=r.actions,a=r.values;return{setFilters:function(){l.getSessionRecordings()},replaceFilters:function(){l.getSessionRecordings()},loadNext:function(){var m;l.setFilters({offset:(((m=a.filters)===null||m===void 0?void 0:m.offset)||0)+Ae})},loadPrev:function(){var m;l.setFilters({offset:Math.max((((m=a.filters)===null||m===void 0?void 0:m.offset)||0)-Ae,0)})},getSessionRecordingsSuccess:function(){l.getSessionRecordingsProperties({})}}}),Object(L.selectors)({sessionRecordingIdToProperties:[function(r){return[r.sessionRecordingsPropertiesResponse]},function(r){var l;return(l=Object.fromEntries(r.results.map(function(a){var u=a.id,m=a.properties;return[u,m]})))!==null&&l!==void 0?l:{}}],activeSessionRecording:[function(r){return[r.selectedRecordingId,r.sessionRecordings]},function(r,l){return r?l.find(function(a){return a.id===r})||{id:r}:l[0]}],nextSessionRecording:[function(r){return[r.activeSessionRecording,r.sessionRecordings]},function(r,l){if(!!r){var a=l.findIndex(function(u){return u.id===r.id});return l[a+1]}}],hasPrev:[function(r){return[r.filters]},function(r){return(r.offset||0)>0}],hasNext:[function(r){return[r.sessionRecordingsResponse]},function(r){return r.has_next}],totalFiltersCount:[function(r){return[r.filters]},function(r){var l,a,u;return((r==null||(l=r.actions)===null||l===void 0?void 0:l.length)||0)+((r==null||(a=r.events)===null||a===void 0?void 0:a.length)||0)+((r==null||(u=r.properties)===null||u===void 0?void 0:u.length)||0)}]}),Object(L.afterMount)(function(r){var l=r.actions;l.getSessionRecordings()}),Object(D.actionToUrl)(function(r){var l=r.props,a=r.values,u=function(O){var B=l.updateSearchParams?{filters:a.filters}:{},G=Z({},D.router.values.hashParams);return a.selectedRecordingId?G.sessionRecordingId=a.selectedRecordingId:delete G.sessionRecordingId,[D.router.values.location.pathname,B,G,{replace:O}]};return{loadSessionRecordings:function(){return u(!0)},setSelectedRecordingId:function(){return u(!1)},setFilters:function(){return u(!0)}}}),Object(D.urlToAction)(function(r){var l=r.actions,a=r.values,u=r.props,m=function(B,G,te){var M,F=(M=te.sessionRecordingId)!==null&&M!==void 0?M:null;F!==a.selectedRecordingId&&l.setSelectedRecordingId(F);var $=G.filters;$&&u.updateSearchParams&&(y()($,a.filters)||l.replaceFilters($))};return{"*":m}})])},"./frontend/src/scenes/session-recordings/sessionRecordingsLogic.ts":function(Se,E,e){"use strict";e.d(E,"b",function(){return me}),e.d(E,"a",function(){return De}),e.d(E,"c",function(){return ie});var je=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ce=e.n(je),Le=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ee=e.n(Le),Te=e("./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js"),q=e.n(Te),Ke=e("./node_modules/@babel/runtime/regenerator/index.js"),re=e.n(Ke),_=e("./node_modules/core-js/modules/es.array.iterator.js"),Ne=e.n(_),ee=e("./node_modules/core-js/modules/es.object.to-string.js"),de=e.n(ee),Me=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ge=e.n(Me),Ie=e("./node_modules/core-js/modules/es.regexp.exec.js"),_e=e.n(Ie),ue=e("./node_modules/core-js/modules/es.string.replace.js"),z=e.n(ue),se=e("./node_modules/kea/lib/index.esm.js"),oe=e("./frontend/src/types.ts"),ye=e("./frontend/src/scenes/urls.ts"),b=e("./node_modules/kea-router/lib/index.js"),H=e.n(b),Oe=e("./frontend/src/lib/logic/featureFlagLogic.ts"),J=e("./frontend/src/lib/constants.tsx"),Fe=e("./frontend/src/lib/utils.tsx"),Y=e("./node_modules/kea-loaders/lib/index.js"),We=e.n(Y),xe=e("./frontend/src/scenes/session-recordings/playlist/playlistUtils.ts"),me=function(P){switch(P){case oe.X.Recent:return"Recent Recordings";case oe.X.Playlists:return"Saved Playlists";default:return Object(Fe.i)(P)}},De="You have reached the free limit of ".concat(J.w," saved playlists"),ie=Object(se.kea)([Object(se.path)(function(){return["scenes","session-recordings","root"]}),Object(se.connect)({values:[Oe.a,["featureFlags"]]}),Object(se.actions)({setTab:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe.X.Recent;return{tab:P}},saveNewPlaylist:!0}),Object(se.reducers)(function(s){return q()(s),{tab:[oe.X.Recent,{setTab:function(N,I){var C=I.tab;return C}}]}}),Object(Y.loaders)(function(s){var P=s.values;return{newPlaylist:[null,{saveNewPlaylist:function(){var N=Ee()(re.a.mark(function C(){var Q,L;return re.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return L=(Q=b.router.values.searchParams)===null||Q===void 0?void 0:Q.filters,j.next=3,Object(xe.a)({filters:P.tab===oe.X.Recent?L:void 0});case 3:return j.abrupt("return",j.sent);case 4:case"end":return j.stop()}},C)}));function I(){return N.apply(this,arguments)}return I}()}]}}),Object(b.actionToUrl)(function(s){var P=s.values;return{setTab:function(){return[ye.a.sessionRecordings(P.tab),b.router.values.searchParams]}}}),Object(se.selectors)(function(s){return q()(s),{breadcrumbs:[function(P){return[P.tab]},function(P){return[{name:me(P)}]}]}}),Object(b.urlToAction)(function(s){var P,N=s.actions,I=s.values;return P={},Ce()(P,ye.a.sessionRecordings(),function(){!I.featureFlags[J.h.RECORDING_PLAYLISTS]||b.router.actions.replace(ye.a.sessionRecordings(oe.X.Recent))}),Ce()(P,"/recordings/:tab",function(Q){var L=Q.tab;!I.featureFlags[J.h.RECORDING_PLAYLISTS]||L!==I.tab&&N.setTab(L)}),P})])},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.scss":function(Se,E,e){var je=e("./node_modules/css-loader/dist/runtime/api.js");E=je(!1),E.push([Se.i,".SessionRecordingsPlaylist{display:flex;flex-direction:column-reverse;align-items:flex-start;gap:1rem;overflow:hidden}@media screen and (min-width:768px){.SessionRecordingsPlaylist{flex-direction:row;justify-content:flex-start}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{flex-shrink:0;width:100%}@media screen and (min-width:768px){.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column{width:30%;min-width:350px;max-width:400px}}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__list-item .SessionRecordingsPlaylist__list-item__property-icon:hover{transition:opacity .2s;opacity:1}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__left-column .SessionRecordingsPlaylist__pagination-control{margin-top:1rem;display:flex;width:100%;justify-content:flex-end;align-items:center}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column{flex:1;overflow:hidden;width:100%}.SessionRecordingsPlaylist .SessionRecordingsPlaylist__right-column .SessionRecordingsPlaylist__loading{display:flex;align-items:center;justify-content:center;margin-top:10rem}",""]),Se.exports=E}}]);
