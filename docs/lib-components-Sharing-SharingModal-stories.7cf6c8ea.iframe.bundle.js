"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[40722],{"../../frontend/src/lib/components/Sharing/SharingModal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DashboardSharing:()=>DashboardSharing,DashboardSharingLicensed:()=>DashboardSharingLicensed,InsightSharing:()=>InsightSharing,InsightSharingLicensed:()=>InsightSharingLicensed,RecordingSharingLicensed:()=>RecordingSharingLicensed,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardLogic.tsx"),_mocks_browser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/mocks/browser.tsx"),_mocks_features__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/mocks/features.ts"),_queries_examples__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/queries/examples.ts"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/types.ts"),_SharingModal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/components/Sharing/SharingModal.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let fakeInsight={id:123,short_id:"insight123",query:_queries_examples__WEBPACK_IMPORTED_MODULE_5__.$R.InsightTrendsQuery},__WEBPACK_DEFAULT_EXPORT__={title:"Components/Sharing",component:_SharingModal__WEBPACK_IMPORTED_MODULE_7__.PA,parameters:{layout:"fullscreen",viewMode:"story"}},Template=args=>{let{licensed=!1,...props}=args,[modalOpen,setModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);return(0,_mocks_features__WEBPACK_IMPORTED_MODULE_9__.y)(licensed?[_types__WEBPACK_IMPORTED_MODULE_6__.P$.WHITE_LABELLING]:[]),(0,_mocks_browser__WEBPACK_IMPORTED_MODULE_4__.ok)({get:{...["/api/environments/:id/insights/:insight_id/sharing/","/api/environments/:id/dashboards/:dashboard_id/sharing/","/api/environments/:id/session_recordings/:recording_id/sharing/"].reduce((acc,url)=>Object.assign(acc,{[url]:{created_at:"2022-06-28T12:30:51.459746Z",enabled:!0,access_token:"1AEQjQ2xNLGoiyI0UnNlLzOiBZWWMQ"}}),{}),"/api/environments/:id/insights/":{results:[fakeInsight]}},patch:["/api/environments/:id/insights/:insight_id/sharing/","/api/environments/:id/dashboards/:dashboard_id/sharing/","/api/environments/:id/session_recordings/:recording_id/sharing/"].reduce((acc,url)=>Object.assign(acc,{[url]:req=>[200,{created_at:"2022-06-28T12:30:51.459746Z",enabled:!0,access_token:"1AEQjQ2xNLGoiyI0UnNlLzOiBZWWMQ",...req.body}]}),{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"bg-default p-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_SharingModal__WEBPACK_IMPORTED_MODULE_7__.PA,{...props,closeModal:()=>{console.log("close")},isOpen:!0,inline:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"flex justify-center mt-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_1__.J,{onClick:()=>setModalOpen(!0),type:"primary",children:"Open as Modal"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_SharingModal__WEBPACK_IMPORTED_MODULE_7__.PA,{...props,closeModal:()=>setModalOpen(!1),isOpen:modalOpen})]})},DashboardSharing=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(kea__WEBPACK_IMPORTED_MODULE_0__.BindLogic,{logic:scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_3__.B,props:{id:123},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Template,{title:"Dashboard permissions",dashboardId:123})}),DashboardSharingLicensed=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(kea__WEBPACK_IMPORTED_MODULE_0__.BindLogic,{logic:scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_3__.B,props:{id:123},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Template,{title:"Dashboard permissions",licensed:!0,dashboardId:123})}),InsightSharing=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Template,{title:"Insight permissions",insightShortId:fakeInsight.short_id,insight:fakeInsight,previewIframe:!0}),InsightSharingLicensed=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Template,{title:"Insight permissions",insightShortId:fakeInsight.short_id,insight:fakeInsight,licensed:!0,previewIframe:!0}),RecordingSharingLicensed=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(Template,{title:"Share Recording",recordingId:"fake-id",licensed:!0,previewIframe:!0});DashboardSharing.parameters={...DashboardSharing.parameters,docs:{...DashboardSharing.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BindLogic logic={dashboardLogic} props={{\n    id: 123\n  }}>\n            <Template title="Dashboard permissions" dashboardId={123} />\n        </BindLogic>;\n}',...DashboardSharing.parameters?.docs?.source}}},DashboardSharingLicensed.parameters={...DashboardSharingLicensed.parameters,docs:{...DashboardSharingLicensed.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BindLogic logic={dashboardLogic} props={{\n    id: 123\n  }}>\n            <Template title="Dashboard permissions" licensed dashboardId={123} />\n        </BindLogic>;\n}',...DashboardSharingLicensed.parameters?.docs?.source}}},InsightSharing.parameters={...InsightSharing.parameters,docs:{...InsightSharing.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Insight permissions" insightShortId={fakeInsight.short_id} insight={fakeInsight} previewIframe />;\n}',...InsightSharing.parameters?.docs?.source}}},InsightSharingLicensed.parameters={...InsightSharingLicensed.parameters,docs:{...InsightSharingLicensed.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Insight permissions" insightShortId={fakeInsight.short_id} insight={fakeInsight} licensed previewIframe />;\n}',...InsightSharingLicensed.parameters?.docs?.source}}},RecordingSharingLicensed.parameters={...RecordingSharingLicensed.parameters,docs:{...RecordingSharingLicensed.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <Template title="Share Recording" recordingId="fake-id" licensed previewIframe />;\n}',...RecordingSharingLicensed.parameters?.docs?.source}}};let __namedExportsOrder=["DashboardSharing","DashboardSharingLicensed","InsightSharing","InsightSharingLicensed","RecordingSharingLicensed"]}}]);