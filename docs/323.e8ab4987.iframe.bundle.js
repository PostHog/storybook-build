(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{"./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.tsx":function(F,d,e){"use strict";e.r(d),e.d(d,"scene",function(){return D}),e.d(d,"ConfirmOrganization",function(){return b});var p=e("./frontend/src/scenes/organizationLogic.tsx"),j=e("./frontend/src/lib/components/LemonButton/index.ts"),m=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),v=e("./frontend/src/lib/components/LemonDivider/index.ts"),l=e("./node_modules/kea/lib/index.esm.js"),Y=e("./node_modules/core-js/modules/es.object.keys.js"),I=e("./node_modules/core-js/modules/es.symbol.js"),R=e("./node_modules/core-js/modules/es.array.filter.js"),V=e("./node_modules/core-js/modules/es.object.to-string.js"),G=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),H=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),J=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),x=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),y=e.n(x),z=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),N=e.n(z),P=e("./node_modules/@babel/runtime/regenerator/index.js"),f=e.n(P),S=e("./frontend/src/lib/api.ts"),w=e("./node_modules/kea-router/lib/index.js"),h=e("./node_modules/kea-forms/lib/index.js"),C=e("./frontend/src/lib/components/lemonToast.tsx");function O(o,t){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),r.push.apply(r,a)}return r}function L(o){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(a){y()(o,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(r,a))})}return o}var u=Object(l.kea)([Object(l.path)(["scenes","organization","confirmOrganizationLogic"]),Object(l.actions)({setEmail:function(t){return{email:t}},setShowNewOrgWarning:function(t){return{show:t}}}),Object(l.reducers)({showNewOrgWarning:[!1,{setShowNewOrgWarning:function(t,r){var a=r.show;return a}}],email:["",{setEmail:function(t,r){var a=r.email;return a}}]}),Object(h.forms)(function(){return{confirmOrganization:{defaults:{},errors:function(t){var r=t.organization_name,a=t.first_name,i=t.role_at_organization;return{first_name:a?void 0:"Please enter your name",organization_name:r?void 0:"Please enter your organization name",role_at_organization:i?void 0:"Please enter your role"}},submit:function(){var o=N()(f.a.mark(function r(a){var i;return f.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,S.b.create("api/social_signup/",L({},a));case 3:i=s.sent,location.href=i.success_url||"/",s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),C.d.error(s.t0.detail||"Failed to create organization");case 10:case"end":return s.stop()}},r,null,[[0,7]])}));function t(r){return o.apply(this,arguments)}return t}()}}}),Object(w.urlToAction)(function(o){var t=o.actions;return{"/organization/confirm-creation":function(a,i){var c=i.email,s=i.organization_name,B=i.first_name;t.setConfirmOrganizationValues({organization_name:s,first_name:B}),t.setEmail(c)}}})]),g=e("./frontend/src/lib/forms/Field.tsx"),W=e("./frontend/src/lib/components/AnimatedCollapsible.tsx"),T=e("./frontend/src/scenes/urls.ts"),A=e("./frontend/src/lib/components/BridgePage/BridgePage.tsx"),E=e("./frontend/src/lib/components/SignupRoleSelect.tsx"),n=e("./node_modules/react/jsx-runtime.js"),D={component:b,logic:p.a};function b(){var o=Object(l.useValues)(u),t=o.isConfirmOrganizationSubmitting,r=o.email,a=o.showNewOrgWarning,i=Object(l.useActions)(u),c=i.setShowNewOrgWarning;return Object(n.jsxs)(A.a,{view:"org-creation-confirmation",children:[Object(n.jsx)("h2",{children:"Create a new organization"}),Object(n.jsxs)("div",{className:"flex-1",children:[Object(n.jsx)("p",{className:"text-center",children:Object(n.jsxs)("strong",{children:["Trying to join an existing organization? ",Object(n.jsx)("br",{}),!a&&Object(n.jsx)("a",{onClick:function(){c(!0)},children:"Read more"})]})}),Object(n.jsx)(W.a,{collapsed:!a,children:Object(n.jsxs)("div",{className:"py-2",children:[Object(n.jsx)("p",{children:"If you're trying to join an existing organization, you should not create a new one. Some reasons that you may accidentally end up here are:"}),Object(n.jsxs)("ul",{className:"list-disc pl-4",children:[Object(n.jsx)("li",{children:"You're logging in with the wrong email address"}),Object(n.jsx)("li",{children:"Your PostHog account is at a different URL"}),Object(n.jsx)("li",{children:"You need an invitation from a colleague"})]})]})})]}),Object(n.jsxs)(h.Form,{logic:u,formKey:"confirmOrganization",enableFormOnSubmit:!0,className:"space-y-4",children:[Object(n.jsx)(g.a,{name:"email",label:"Email",children:Object(n.jsx)(m.a,{className:"ph-ignore-input",value:r,disabled:!0})}),Object(n.jsx)(g.a,{name:"first_name",label:"Your name",children:Object(n.jsx)(m.a,{className:"ph-ignore-input",placeholder:"Jane Doe"})}),Object(n.jsx)(g.a,{name:"organization_name",label:"Organization name",help:"You can always rename your organization later",children:Object(n.jsx)(m.a,{className:"ph-ignore-input",placeholder:"Hogflix Movies"})}),Object(n.jsx)(E.a,{}),Object(n.jsx)(j.a,{htmlType:"submit",fullWidth:!0,center:!0,type:"primary",loading:t,children:"Create organization"}),Object(n.jsx)(j.a,{fullWidth:!0,center:!0,type:"secondary",disabled:t,to:T.a.signup(),children:"Cancel"})]}),Object(n.jsxs)("div",{className:"text-center terms-and-conditions-text mt-4 text-muted",children:["By creating an account, you agree to our"," ",Object(n.jsx)("a",{href:"https://posthog.com/terms",target:"_blank",rel:"noopener",children:"Terms\xA0of\xA0Service"})," ","and"," ",Object(n.jsx)("a",{href:"https://posthog.com/privacy",target:"_blank",rel:"noopener",children:"Privacy\xA0Policy"}),"."]}),Object(n.jsx)(v.a,{thick:!0,dashed:!0,className:"my-6"}),Object(n.jsxs)("div",{className:"text-center terms-and-conditions-text mt-4 text-muted",children:["Have questions?"," ",Object(n.jsx)("a",{href:"https://posthog.com/support",target:"_blank",rel:"noopener",children:"Visit support"})," ","or"," ",Object(n.jsx)("a",{href:"https://posthog.com/docs",target:"_blank",rel:"noopener",children:"read our documentation"}),"."]})]})}}}]);
