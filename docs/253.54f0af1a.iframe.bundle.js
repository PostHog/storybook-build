(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{"./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.tsx":function(d,l,e){"use strict";e.r(l),e.d(l,"scene",function(){return V}),e.d(l,"ConfirmOrganization",function(){return b});var g=e("./node_modules/react/index.js"),n=e.n(g),E=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),C=e.n(E),x=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.scss"),O=e.n(x),u={};u.insert="head",u.singleton=!1;var H=C()(O.a,u),J=O.a.locals||{},S=e("./frontend/src/scenes/organizationLogic.tsx"),h=e("./frontend/src/lib/components/LemonButton/index.ts"),f=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),N=e("./frontend/src/scenes/authentication/WelcomeLogo.tsx"),w=e("./frontend/src/lib/components/LemonDivider/index.ts"),m=e("./node_modules/kea/lib/index.esm.js"),K=e("./node_modules/core-js/modules/es.object.keys.js"),M=e("./node_modules/core-js/modules/es.symbol.js"),U=e("./node_modules/core-js/modules/es.array.filter.js"),$=e("./node_modules/core-js/modules/es.object.to-string.js"),Q=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),X=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Z=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),L=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),P=e.n(L),T=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),W=e.n(T),I=e("./node_modules/@babel/runtime/regenerator/index.js"),j=e.n(I),A=e("./frontend/src/lib/api.ts"),D=e("./node_modules/kea-router/lib/index.js"),y=e("./node_modules/kea-forms/lib/index.js"),R=e("./frontend/src/lib/components/lemonToast.tsx");function z(a,t){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),o.push.apply(o,r)}return o}function B(a){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?z(Object(o),!0).forEach(function(r){P()(a,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(o,r))})}return a}var p=Object(m.kea)([Object(m.path)(["scenes","organization","confirmOrganizationLogic"]),Object(m.actions)({setEmail:function(t){return{email:t}},setShowNewOrgWarning:function(t){return{show:t}}}),Object(m.reducers)({showNewOrgWarning:[!1,{setShowNewOrgWarning:function(t,o){var r=o.show;return r}}],email:["",{setEmail:function(t,o){var r=o.email;return r}}]}),Object(y.forms)(function(){return{confirmOrganization:{defaults:{},errors:function(t){var o=t.organization_name,r=t.first_name;return{first_name:r?void 0:"Please enter your name",organization_name:o?void 0:"Please enter your organization name"}},submit:function(){var a=W()(j.a.mark(function o(r){var s;return j.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,A.b.create("api/social_signup/",B({},r));case 3:s=i.sent,location.href=s.success_url||"/",i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),R.d.error(i.t0.detail||"Failed to create organization");case 10:case"end":return i.stop()}},o,null,[[0,7]])}));function t(o){return a.apply(this,arguments)}return t}()}}}),Object(D.urlToAction)(function(a){var t=a.actions;return{"/organization/confirm-creation":function(r,s){var c=s.email,i=s.organization_name,G=s.first_name;t.setConfirmOrganizationValues({organization_name:i,first_name:G}),t.setEmail(c)}}})]),v=e("./frontend/src/lib/forms/Field.tsx"),F=e("./frontend/src/lib/components/AnimatedCollapsible.tsx"),Y=e("./frontend/src/scenes/urls.ts"),V={component:b,logic:S.a};function b(){var a=Object(m.useValues)(p),t=a.isConfirmOrganizationSubmitting,o=a.email,r=a.showNewOrgWarning,s=Object(m.useActions)(p),c=s.setShowNewOrgWarning;return n.a.createElement("div",{className:"bridge-page ConfirmOrganization"},n.a.createElement(N.a,{view:"org-creation-confirmation"}),n.a.createElement("div",{className:"ConfirmOrganization__container-box"},n.a.createElement("p",{className:"ConfirmOrganization__title text-center"},"Create a new organization"),n.a.createElement("div",{className:"ConfirmOrganization__help-box"},n.a.createElement("div",{style:{flex:1}},n.a.createElement("p",null,n.a.createElement("strong",null,"Trying to join an existing organization?"," ",!r&&n.a.createElement("a",{onClick:function(){c(!0)}},"Read more"))),n.a.createElement(F.a,{collapsed:!r},n.a.createElement("div",null,n.a.createElement("div",{style:{height:"0.5rem"}}),n.a.createElement("p",null,"If you're trying to join an existing organization, you should not create a new one. Some reasons that you may accidentally end up here are:",n.a.createElement("ul",{style:{paddingInlineStart:"1rem",marginBottom:0,marginBlockEnd:0}},n.a.createElement("li",null,"You're logging in with the wrong email address"),n.a.createElement("li",null,"Your PostHog account is at a different URL"),n.a.createElement("li",null,"You need an invitation from a colleague"))))))),n.a.createElement(y.Form,{logic:p,formKey:"confirmOrganization",enableFormOnSubmit:!0,className:"space-y-4"},n.a.createElement(v.a,{name:"email",label:"Email"},n.a.createElement(f.a,{className:"ph-ignore-input",value:o,disabled:!0})),n.a.createElement(v.a,{name:"first_name",label:"Your name"},n.a.createElement(f.a,{className:"ph-ignore-input",placeholder:"Jane Doe"})),n.a.createElement(v.a,{name:"organization_name",label:"Organization name",help:"You can always rename your organization later"},n.a.createElement(f.a,{className:"ph-ignore-input",placeholder:"Hogflix Movies"})),n.a.createElement(h.a,{htmlType:"submit",fullWidth:!0,center:!0,size:"large",type:"primary",loading:t},"Create organization"),n.a.createElement(h.a,{className:"mt-4",fullWidth:!0,center:!0,size:"large",type:"secondary",disabled:t,to:Y.a.signup()},"Cancel")),n.a.createElement("div",{className:"text-center terms-and-conditions-text mt-4 text-muted"},"By creating an account, you agree to our"," ",n.a.createElement("a",{href:"https://posthog.com/terms",target:"_blank",rel:"noopener"},"Terms\xA0of\xA0Service")," ","and"," ",n.a.createElement("a",{href:"https://posthog.com/privacy",target:"_blank",rel:"noopener"},"Privacy\xA0Policy"),"."),n.a.createElement(w.a,{thick:!0,dashed:!0,className:"my-6"}),n.a.createElement("div",{className:"text-center terms-and-conditions-text mt-4 text-muted"},"Have questions?"," ",n.a.createElement("a",{href:"https://posthog.com/support",target:"_blank",rel:"noopener"},"Visit support")," ","or"," ",n.a.createElement("a",{href:"https://posthog.com/docs",target:"_blank",rel:"noopener"},"read our documentation"),".")))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.scss":function(d,l,e){var g=e("./node_modules/css-loader/dist/runtime/api.js");l=g(!1),l.push([d.i,".ConfirmOrganization{min-height:100vh;align-items:center;justify-content:center;display:flex;flex-direction:column;padding:2.5rem 1rem}.ConfirmOrganization .LemonRow--disabled{background-color:var(--bg-side);color:var(--default);opacity:1}.ConfirmOrganization .LemonRow--disabled .LemonInput__input:disabled{opacity:1}.ConfirmOrganization .ConfirmOrganization__title{font-size:28px;font-weight:800;line-height:34px;letter-spacing:-.02em;margin-bottom:.5rem}.ConfirmOrganization .ConfirmOrganization__container-box{box-shadow:var(--shadow-elevation);max-width:480px;background-color:var(--bg-light);border-radius:var(--radius);padding:2.5rem}.ConfirmOrganization .ConfirmOrganization__help-box{display:flex;flex-direction:row;background-color:var(--bg-side);border-radius:var(--radius);padding:1rem;margin-bottom:1rem}.ConfirmOrganization .ConfirmOrganization__help-box p{margin-bottom:0}",""]),d.exports=l}}]);
