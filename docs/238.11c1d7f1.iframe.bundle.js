(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{"./frontend/src/lib/components/PayGatePage/PayGatePage.tsx":function(D,i,e){"use strict";e.d(i,"a",function(){return c});var f=e("./node_modules/core-js/modules/es.array.concat.js"),B=e("./node_modules/kea/lib/index.esm.js"),R=e("./node_modules/react/index.js"),o=e.n(R),t=e("./frontend/src/lib/components/LinkButton.tsx"),I=e("./frontend/src/scenes/userLogic.ts"),L=e("./frontend/src/lib/utils.tsx"),E=e("./frontend/src/lib/components/icons.tsx"),P=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),b=e.n(P),A=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss"),h=e.n(A),T={};T.insert="head",T.singleton=!1;var u=b()(h.a,T),O=h.a.locals||{};function c(l){var y=l.header,j=l.caption,d=l.hideUpgradeButton,g=l.docsLink,r=l.featureKey,a=Object(B.useValues)(I.a),s=a.upgradeLink,n=Object(L.R)(r,"title");return o.a.createElement("div",{className:"pay-gate-page"},o.a.createElement("h2",null,y),o.a.createElement("div",{className:"pay-caption"},j),o.a.createElement("div",{className:"pay-buttons"},!d&&o.a.createElement(t.a,{to:s,type:"primary","data-attr":"".concat(r,"-upgrade"),className:"LemonLinkButton"},"Upgrade now to get ",n),g&&o.a.createElement(t.a,{type:d?"primary":void 0,to:"".concat(g,"?utm_medium=in-product&utm_campaign=").concat(r,"-upgrade-learn-more"),target:"_blank","data-attr":"".concat(r,"-learn-more"),className:"LemonLinkButton"},"Learn more about ",n," ",o.a.createElement(E.IconOpenInNew,{style:{marginLeft:8}}))))}try{c.displayName="PayGatePage",c.__docgenInfo={description:"",displayName:"PayGatePage",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string | Element"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string | Element"}},hideUpgradeButton:{defaultValue:null,description:"",name:"hideUpgradeButton",required:!1,type:{name:"boolean"}},docsLink:{defaultValue:null,description:"",name:"docsLink",required:!1,type:{name:"string"}},featureKey:{defaultValue:null,description:"",name:"featureKey",required:!0,type:{name:"enum",value:[{value:'"experimentation"'},{value:'"group-analytics"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"]={docgenInfo:c.__docgenInfo,name:"PayGatePage",path:"frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"})}catch(l){}},"./frontend/src/scenes/groups/Groups.tsx":function(D,i,e){"use strict";e.r(i),e.d(i,"scene",function(){return y}),e.d(i,"Groups",function(){return j});var f=e("./node_modules/core-js/modules/es.object.keys.js"),B=e("./node_modules/core-js/modules/es.object.to-string.js"),R=e("./node_modules/core-js/modules/es.regexp.to-string.js"),o=e("./node_modules/react/index.js"),t=e.n(o),I=e("./node_modules/kea/lib/index.esm.js"),L=e("./frontend/src/scenes/groups/groupsListLogic.ts"),E=e("./frontend/src/lib/components/PropertiesTable.tsx"),P=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),b=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),A=e("./frontend/src/lib/components/LemonTable/index.ts"),h=e("./frontend/src/lib/components/Link.tsx"),T=e("./frontend/src/scenes/urls.ts"),u=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),O=e("./frontend/src/lib/components/PayGatePage/PayGatePage.tsx");function c(d){var g=d.access,r,a;return g===u.a.NoAccess?(r=t.a.createElement(t.a.Fragment,null,"Introducing ",t.a.createElement("span",{className:"highlight"},"Group Analytics"),"!"),a=t.a.createElement(t.a.Fragment,null,"Analyze how groups interact with your product as a whole instead of individual users (e.g. retention by companies instead of by users)")):g===u.a.HasAccess?(r=t.a.createElement(t.a.Fragment,null,"You're almost done!"),a=t.a.createElement(t.a.Fragment,null,"Learn how to track groups in your code")):(r=t.a.createElement(t.a.Fragment,null,"Looks like you're tracking groups!"),a=t.a.createElement(t.a.Fragment,null,"Upgrade today to use groups in Insights.")),t.a.createElement(O.a,{header:r,featureKey:"group-analytics",caption:a,docsLink:"https://posthog.com/docs/user-guides/group-analytics",hideUpgradeButton:g===u.a.HasAccess})}try{c.displayName="GroupsIntroduction",c.__docgenInfo={description:"",displayName:"GroupsIntroduction",props:{access:{defaultValue:null,description:"",name:"access",required:!0,type:{name:"enum",value:[{value:"1"},{value:"2"},{value:"3"}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/GroupsIntroduction.tsx#GroupsIntroduction"]={docgenInfo:c.__docgenInfo,name:"GroupsIntroduction",path:"frontend/src/scenes/groups/GroupsIntroduction.tsx#GroupsIntroduction"})}catch(d){}var l=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),y={component:j,logic:L.a};function j(){var d=Object(I.useValues)(L.a),g=d.currentTabName,r=d.groups,a=d.groupsLoading,s=Object(I.useActions)(L.a),n=s.loadGroups,m=Object(I.useValues)(u.b),G=m.groupsAccessStatus;if(G==u.a.HasAccess||G==u.a.HasGroupTypes||G==u.a.NoAccess)return t.a.createElement(t.a.Fragment,null,t.a.createElement(P.a,null),t.a.createElement(c,{access:G}));var S=[{title:g,key:"group_key",render:function(v,p){return t.a.createElement(h.a,{to:T.a.group(p.group_type_index.toString(),p.group_key)},Object(l.b)(p.group_key,p.group_properties))}},{title:"First seen",key:"created_at",render:function(v,p){return t.a.createElement(b.b,{time:p.created_at})}}];return t.a.createElement(t.a.Fragment,null,t.a.createElement(P.a,null),t.a.createElement(A.a,{columns:S,rowKey:"group_key",loading:a,dataSource:r.results,expandable:{expandedRowRender:function(v){var p=v.group_properties;return t.a.createElement(E.a,{properties:p})},rowExpandable:function(v){var p=v.group_properties;return!!p&&Object.keys(p).length>0}},pagination:{controlled:!0,onBackward:r.previous?function(){n(r.previous),window.scrollTo(0,0)}:void 0,onForward:r.next?function(){n(r.next),window.scrollTo(0,0)}:void 0}}))}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(D,i,e){"use strict";e.d(i,"a",function(){return r});var f=e("./node_modules/core-js/modules/es.array.concat.js"),B=e.n(f),R=e("./node_modules/core-js/modules/es.array.iterator.js"),o=e.n(R),t=e("./node_modules/core-js/modules/es.object.to-string.js"),I=e.n(t),L=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),E=e.n(L),P=e("./node_modules/@babel/runtime/regenerator/index.js"),b=e.n(P),A=e("./node_modules/regenerator-runtime/runtime.js"),h=e.n(A),T=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),u=e.n(T),O=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/lib/api.ts"),l=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),y=e("./frontend/src/lib/utils.tsx"),j=e("./frontend/src/scenes/teamLogic.ts"),d=e("./frontend/src/scenes/urls.ts"),g=e("./frontend/src/models/groupsModel.ts"),r=Object(O.kea)({path:["groups","groupsListLogic"],connect:{values:[j.a,["currentTeamId"],g.a,["groupTypes","aggregationLabel"],l.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(n){return{url:n}},setTab:function(n){return{tab:n}}}},loaders:function(s){var n=s.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var m=u()(b.a.mark(function S(x){var v;return b.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(v=x.url,!n.groupsEnabled){M.next=6;break}return v=v||"api/projects/".concat(n.currentTeamId,"/groups/?group_type_index=").concat(n.currentTab),M.next=5,c.b.get(v);case 5:return M.abrupt("return",M.sent);case 6:case"end":return M.stop()}},S)}));function G(S){return m.apply(this,arguments)}return G}()}]}},reducers:{currentTab:["-1",{setTab:function(s,n){var m=n.tab;return m}}]},selectors:{currentTabName:[function(a){return[a.currentTab,a.groupTypes,a.aggregationLabel]},function(a,s,n){return a==="-1"?"Persons":s!=null&&s.length?Object(y.i)(n(parseInt(a)).singular):""}],breadcrumbs:[function(a){return[a.currentTabName,a.currentTab]},function(a,s){return[{name:a,path:d.a.groups(s)}]}]},actionToUrl:function(){return{setTab:function(n){var m=n.tab;return m!=="-1"?d.a.groups(m):d.a.persons()}}},urlToAction:function(s){var n=s.actions,m=s.values;return{"/groups/:id":function(S){var x=S.id;x&&(n.setTab(x),n.loadGroups())},"/persons":function(){m.currentTab!=="-1"&&n.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(D,i,e){"use strict";e.d(i,"a",function(){return u});var f=e("./node_modules/kea/lib/index.esm.js"),B=e("./frontend/src/lib/components/PageHeader.tsx"),R=e("./node_modules/react/index.js"),o=e.n(R),t=e("./node_modules/core-js/modules/es.array.includes.js"),I=e("./node_modules/core-js/modules/es.array.map.js"),L=e("./node_modules/core-js/modules/es.string.includes.js"),E=e("./node_modules/antd/es/tabs/index.js"),P=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),b=e("./frontend/src/lib/utils.tsx"),A=e("./frontend/src/models/groupsModel.ts"),h=e("./frontend/src/scenes/groups/groupsListLogic.ts");function T(){var O=Object(f.useActions)(h.a),c=O.setTab,l=Object(f.useValues)(h.a),y=l.currentTab,j=Object(f.useValues)(A.a),d=j.groupTypes,g=j.aggregationLabel,r=Object(f.useValues)(P.b),a=r.groupsAccessStatus,s=[P.a.HasAccess,P.a.HasGroupTypes,P.a.NoAccess].includes(a);return o.a.createElement(E.a,{activeKey:y,onChange:function(m){return c(m)}},o.a.createElement(E.a.TabPane,{tab:"Persons",key:"-1"}),s?o.a.createElement(E.a.TabPane,{tab:"Introducing Group Analytics",key:"0"}):d.map(function(n){return o.a.createElement(E.a.TabPane,{tab:Object(b.i)(g(n.group_type_index).plural),key:n.group_type_index})}))}function u(O){var c=O.hideGroupTabs,l=Object(f.useValues)(A.a),y=l.showGroupsOptions;return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{title:"Persons".concat(y?" & Groups":""),caption:"A catalog of your product's end users".concat(y?" and groups":"",".")}),!c&&y&&o.a.createElement(T,null))}try{u.displayName="PersonPageHeader",u.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:u.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(O){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss":function(D,i,e){var f=e("./node_modules/css-loader/dist/runtime/api.js");i=f(!1),i.push([D.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.pay-gate-page{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:1rem}.pay-gate-page h2{font-size:32px;font-weight:600;margin-bottom:8px}.pay-gate-page h2 .highlight{font-weight:700;color:#f96132}.pay-gate-page .pay-caption{max-width:500px}.pay-gate-page .pay-buttons{margin-top:1rem;width:320px;max-width:90%}.pay-gate-page .pay-buttons .ant-btn{margin-bottom:1rem}",""]),D.exports=i}}]);
