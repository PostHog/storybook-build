"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[91221],{"../../frontend/src/scenes/error-tracking/ErrorTrackingScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingScene:()=>ErrorTrackingScene,scene:()=>scene});var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.12.1_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),utils=__webpack_require__("../../frontend/src/lib/components/Errors/utils.ts"),PageHeader=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),TZLabel=__webpack_require__("../../frontend/src/lib/components/TZLabel/index.tsx"),lib_utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),dist_module=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.236.8_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),InsightViz=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/InsightViz.tsx"),Query=__webpack_require__("../../frontend/src/queries/Query/Query.tsx"),AssigneeDisplay=__webpack_require__("../../frontend/src/scenes/error-tracking/components/Assignee/AssigneeDisplay.tsx"),AssigneeSelect=__webpack_require__("../../frontend/src/scenes/error-tracking/components/Assignee/AssigneeSelect.tsx"),RuntimeIcon=__webpack_require__("../../frontend/src/scenes/error-tracking/components/RuntimeIcon.tsx"),api=__webpack_require__("../../frontend/src/lib/api.ts"),dataNodeLogic=__webpack_require__("../../frontend/src/queries/nodes/DataNode/dataNodeLogic.ts"),error_tracking_utils=__webpack_require__("../../frontend/src/scenes/error-tracking/utils.ts");let errorTrackingDataNodeLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","error-tracking","errorTrackingDataNodeLogic"]),(0,index_esm.props)({}),(0,index_esm.connect)(_ref=>{let{key,query}=_ref,nodeLogic=(0,dataNodeLogic.M)({key,query,refresh:"blocking"});return{values:[nodeLogic,["response"]],actions:[nodeLogic,["setResponse","loadData"]]}}),(0,index_esm.actions)({mergeIssues:ids=>({ids}),resolveIssues:ids=>({ids}),suppressIssues:ids=>({ids}),activateIssues:ids=>({ids}),assignIssues:(ids,assignee)=>({ids,assignee}),assignIssue:(id,assignee)=>({id,assignee}),reloadData:()=>({})}),(0,index_esm.selectors)({results:[s=>[s.response],response=>response?response.results:[]]}),(0,index_esm.listeners)(_ref2=>{let{values,actions}=_ref2;return{reloadData:async()=>{actions.loadData("force_blocking")},mergeIssues:async _ref3=>{let{ids}=_ref3,{results}=values,issues=results.filter(_ref4=>{let{id}=_ref4;return ids.includes(id)}),primaryIssue=issues.shift();if(primaryIssue&&issues.length>0){let mergingIds=issues.map(g=>g.id),mergedIssue=(0,error_tracking_utils.Z0)(primaryIssue,issues);actions.setResponse({...values.response,results:results.filter(_ref5=>{let{id}=_ref5;return!mergingIds.includes(id)}).map(issue=>mergedIssue.id===issue.id?mergedIssue:issue)}),dist_module.ZP.capture("error_tracking_issue_merged",{primary:primaryIssue.id}),await api.ZP.errorTracking.mergeInto(primaryIssue.id,mergingIds),actions.reloadData()}},resolveIssues:async _ref6=>{let{ids}=_ref6,{results}=values;actions.setResponse({...values.response,results:results.map(issue=>ids.includes(issue.id)?{...issue,status:"resolved"}:issue)}),dist_module.ZP.capture("error_tracking_issue_bulk_resolve"),await api.ZP.errorTracking.bulkMarkStatus(ids,"resolved"),actions.reloadData()},suppressIssues:async _ref7=>{let{ids}=_ref7,{results}=values;actions.setResponse({...values.response,results:results.map(issue=>ids.includes(issue.id)?{...issue,status:"suppressed"}:issue)}),dist_module.ZP.capture("error_tracking_issue_bulk_suppress"),await api.ZP.errorTracking.bulkMarkStatus(ids,"suppressed"),actions.reloadData()},activateIssues:async _ref8=>{let{ids}=_ref8,{results}=values;actions.setResponse({...values.response,results:results.map(issue=>ids.includes(issue.id)?{...issue,status:"active"}:issue)}),dist_module.ZP.capture("error_tracking_issue_bulk_activate"),await api.ZP.errorTracking.bulkMarkStatus(ids,"active"),actions.reloadData()},assignIssues:async _ref9=>{let{ids,assignee}=_ref9,{results}=values;actions.setResponse({...values.response,results:results.map(issue=>ids.includes(issue.id)?{...issue,assignee}:issue)}),dist_module.ZP.capture("error_tracking_issue_bulk_assign"),await api.ZP.errorTracking.bulkAssign(ids,assignee),actions.reloadData()},assignIssue:async _ref10=>{let{id,assignee}=_ref10,response=values.response;if(response){let results=response.results,recordIndex=results.findIndex(r=>r.id===id);if(recordIndex>-1){let issue={...results[recordIndex],assignee};results.splice(recordIndex,1,issue),actions.setResponse({...response,results:results}),await api.ZP.errorTracking.assignIssue(issue.id,assignee),actions.reloadData()}}}}})]);var ErrorTrackingFilters=__webpack_require__("../../frontend/src/scenes/error-tracking/ErrorTrackingFilters.tsx"),errorTrackingIssueSceneLogic=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingIssueSceneLogic.ts"),errorTrackingLogic=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),fast_deep_equal=__webpack_require__("../../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js"),fast_deep_equal_default=__webpack_require__.n(fast_deep_equal),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),kea_subscriptions_lib=__webpack_require__("../../node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.5_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),queries=__webpack_require__("../../frontend/src/scenes/error-tracking/queries.ts");let errorTrackingSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","error-tracking","errorTrackingSceneLogic"]),(0,index_esm.connect)(()=>({values:[errorTrackingLogic.HT,["dateRange","assignee","filterTestAccounts","filterGroup","searchQuery"]],actions:[errorTrackingLogic.HT,["setDateRange","setFilterGroup","setSearchQuery","setFilterTestAccounts"]]})),(0,index_esm.actions)({setOrderBy:orderBy=>({orderBy}),setOrderDirection:orderDirection=>({orderDirection}),setStatus:status=>({status}),setSelectedIssueIds:ids=>({ids})}),(0,index_esm.reducers)({orderBy:["last_seen",{persist:!0},{setOrderBy:(_,_ref)=>{let{orderBy}=_ref;return orderBy}}],orderDirection:["DESC",{persist:!0},{setOrderDirection:(_,_ref2)=>{let{orderDirection}=_ref2;return orderDirection}}],status:["active",{persist:!0},{setStatus:(_,_ref3)=>{let{status}=_ref3;return status}}],selectedIssueIds:[[],{setSelectedIssueIds:(_,_ref4)=>{let{ids}=_ref4;return ids}}],volumeResolution:[20]}),(0,index_esm.selectors)(_ref5=>{let{values}=_ref5;return{query:[s=>[s.orderBy,s.status,s.dateRange,s.assignee,s.filterTestAccounts,s.filterGroup,s.searchQuery,s.orderDirection],(orderBy,status,dateRange,assignee,filterTestAccounts,filterGroup,searchQuery,orderDirection)=>(0,queries.mx)({orderBy,status,dateRange,assignee,filterTestAccounts,filterGroup,volumeResolution:values.volumeResolution,searchQuery,columns:["error","volume","occurrences","sessions","users"],orderDirection})]}}),(0,kea_subscriptions_lib.Vt)(_ref6=>{let{actions}=_ref6;return{query:()=>actions.setSelectedIssueIds([])}}),(0,lib.actionToUrl)(_ref7=>{let{values}=_ref7,buildURL=()=>{let searchParams=(0,error_tracking_utils.kq)({dateRange:values.dateRange,searchQuery:values.searchQuery,filterGroup:values.filterGroup,filterTestAccounts:values.filterTestAccounts});return(searchParams.status=values.status,searchParams.orderBy=values.orderBy,searchParams.orderDirection=values.orderDirection,(0,lib_utils.h0)(searchParams,lib.router.values.searchParams))?[lib.router.values.location.pathname,lib.router.values.searchParams,lib.router.values.hashParams,{replace:!1}]:[lib.router.values.location.pathname,searchParams,lib.router.values.hashParams,{replace:!0}]};return{setOrderBy:()=>buildURL(),setStatus:()=>buildURL(),setDateRange:()=>buildURL(),setFilterGroup:()=>buildURL(),setSearchQuery:()=>buildURL(),setFilterTestAccounts:()=>buildURL(),setOrderDirection:()=>buildURL()}}),(0,lib.urlToAction)(_ref8=>{let{actions,values}=_ref8;return{"*":(_,params)=>{params.orderBy&&!fast_deep_equal_default()(params.orderBy,values.orderBy)&&actions.setOrderBy(params.orderBy),params.status&&!fast_deep_equal_default()(params.status,values.status)&&actions.setStatus(params.status),params.orderDirection&&!fast_deep_equal_default()(params.orderDirection,values.orderDirection)&&actions.setOrderDirection(params.orderDirection)}}})]);var GenericSelect=__webpack_require__("../../frontend/src/scenes/error-tracking/issue/GenericSelect.tsx"),Indicator=__webpack_require__("../../frontend/src/scenes/error-tracking/issue/Indicator.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function BulkActions(){let{mergeIssues,assignIssues,resolveIssues,suppressIssues,activateIssues}=(0,index_esm.useActions)(errorTrackingDataNodeLogic),{selectedIssueIds}=(0,index_esm.useValues)(errorTrackingSceneLogic),{setSelectedIssueIds}=(0,index_esm.useActions)(errorTrackingSceneLogic),{results}=(0,index_esm.useValues)(errorTrackingDataNodeLogic),hasAtLeastOneIssue=selectedIssueIds.length>0,hasAtLeastTwoIssues=selectedIssueIds.length>=2,currentStatus=results.filter(issue=>selectedIssueIds.includes(issue.id)).map(issue=>issue.status).reduce((acc,status)=>null===acc?status:"mixed"===acc||acc!==status?"mixed":acc,null);return hasAtLeastOneIssue?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.Jp,{disabledReason:hasAtLeastTwoIssues?null:"Select at least two issues to merge",type:"secondary",size:"small",onClick:()=>src.dn.open({title:"Merge Issues",content:`Are you sure you want to merge these ${selectedIssueIds.length} issues?`,primaryButton:{children:"Merge",status:"danger",onClick:()=>{mergeIssues(selectedIssueIds),setSelectedIssueIds([])}}}),children:"Merge"}),(0,jsx_runtime.jsx)(GenericSelect.e,{size:"small",current:"mixed"==currentStatus?null:currentStatus,values:["active","resolved","suppressed"],placeholder:"Mark as",renderValue:value=>(0,jsx_runtime.jsx)(Indicator.Eg,{status:value,size:"small",className:"w-full",withTooltip:!0}),onChange:value=>{if(value!=currentStatus)switch(value){case"resolved":resolveIssues(selectedIssueIds),setSelectedIssueIds([]);break;case"suppressed":suppressIssues(selectedIssueIds),setSelectedIssueIds([]);break;case"active":activateIssues(selectedIssueIds),setSelectedIssueIds([])}}}),(0,jsx_runtime.jsx)(AssigneeSelect.i,{assignee:null,onChange:assignee=>assignIssues(selectedIssueIds,assignee),children:displayAssignee=>(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",size:"small",children:(0,jsx_runtime.jsx)(AssigneeDisplay.VQ,{assignee:displayAssignee,placeholder:"Assign"})})})]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}let ErrorTrackingListOptions=()=>{let{assignee}=(0,index_esm.useValues)(errorTrackingLogic.HT),{setAssignee}=(0,index_esm.useActions)(errorTrackingLogic.HT),{orderBy,status,orderDirection}=(0,index_esm.useValues)(errorTrackingSceneLogic),{setOrderBy,setStatus,setOrderDirection}=(0,index_esm.useActions)(errorTrackingSceneLogic),{selectedIssueIds}=(0,index_esm.useValues)(errorTrackingSceneLogic);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"sticky top-[var(--breadcrumbs-height-compact)] z-20 py-2 bg-primary flex justify-between",children:[(0,jsx_runtime.jsx)("div",{className:"flex deprecated-space-x-2",children:(0,jsx_runtime.jsx)(BulkActions,{})}),selectedIssueIds.length<1&&(0,jsx_runtime.jsxs)("span",{className:"flex deprecated-space-x-2",children:[(0,jsx_runtime.jsx)(GenericSelect.e,{values:["all","active","resolved","suppressed"],current:status||null,renderValue:key=>{switch(key){case"all":case null:return(0,jsx_runtime.jsx)(Indicator.VO,{intent:"muted",label:"All",size:"small"});default:return(0,jsx_runtime.jsx)(Indicator.Eg,{status:key,size:"small"})}},placeholder:"Select status",onChange:value=>setStatus(value||void 0),size:"small"}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)("span",{children:"Sort by:"}),(0,jsx_runtime.jsx)(src.Yv,{onSelect:setOrderBy,onChange:setOrderBy,value:orderBy,options:[{value:"last_seen",label:"Last seen"},{value:"first_seen",label:"First seen"},{value:"occurrences",label:"Occurrences"},{value:"users",label:"Users"},{value:"sessions",label:"Sessions"}],size:"small"}),(0,jsx_runtime.jsx)(src.Yv,{onSelect:setOrderDirection,onChange:setOrderDirection,value:orderDirection,options:[{value:"DESC",label:"Descending"},{value:"ASC",label:"Ascending"}],size:"small"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)("span",{children:"Assigned to:"}),(0,jsx_runtime.jsx)(AssigneeSelect.i,{assignee:assignee,onChange:assignee=>setAssignee(assignee),children:displayAssignee=>(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",size:"small",children:(0,jsx_runtime.jsx)(AssigneeDisplay.VQ,{assignee:displayAssignee,placeholder:"Any user"})})})]})]})]})})};var ErrorTrackingSetupPrompt=__webpack_require__("../../frontend/src/scenes/error-tracking/ErrorTrackingSetupPrompt.tsx"),use_sparkline_data=__webpack_require__("../../frontend/src/scenes/error-tracking/hooks/use-sparkline-data.tsx"),Sparkline=__webpack_require__("../../frontend/src/lib/components/Sparkline.tsx"),dayjs=__webpack_require__("../../frontend/src/lib/dayjs.ts"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");__webpack_require__("../../frontend/src/layout/navigation-3000/themeLogic.ts");var use_sparkline_options=__webpack_require__("../../frontend/src/scenes/error-tracking/hooks/use-sparkline-options.tsx");function OccurrenceSparkline(_ref){let{data,className,displayXAxis=!1}=_ref,colorVars=(0,use_sparkline_options.z)(),options=(0,use_sparkline_options.Q)({backgroundColor:colorVars[0],hoverBackgroundColor:colorVars[1]}),[occurrences,labels,labelRenderer]=(0,react.useMemo)(()=>[wrapDataWithColor(data,options),data.map(value=>(0,dayjs.Bv)(value.date).toISOString()),label=>(0,dayjs.Bv)(label).format("D MMM YYYY HH:mm (UTC)")],[data,options]),withXScale=(0,react.useCallback)(scale=>({...scale,type:"timeseries",ticks:{display:!0,maxRotation:0,maxTicksLimit:5,font:{size:10,lineHeight:1}},time:{unit:"day",displayFormats:{day:"D MMM"}}}),[]);return(0,jsx_runtime.jsx)(Sparkline.b,{className:className,data:occurrences,labels:labels,renderLabel:labelRenderer,withXScale:displayXAxis?withXScale:void 0})}function wrapDataWithColor(data,options){return[{values:data.map(d=>d.value),name:"Occurrences",color:options.backgroundColor,hoverColor:options.hoverBackgroundColor}]}let scene={component:ErrorTrackingScene,logic:errorTrackingSceneLogic};function ErrorTrackingScene(){let{hasSentExceptionEvent,hasSentExceptionEventLoading}=(0,index_esm.useValues)(errorTrackingLogic.HT),{query}=(0,index_esm.useValues)(errorTrackingSceneLogic),insightProps={dashboardItemId:"new-ErrorTrackingQuery"};return(0,jsx_runtime.jsx)(ErrorTrackingSetupPrompt.n,{children:(0,jsx_runtime.jsxs)(index_esm.BindLogic,{logic:errorTrackingDataNodeLogic,props:{key:(0,InsightViz.gG)(insightProps)},children:[(0,jsx_runtime.jsx)(Header,{}),hasSentExceptionEventLoading||hasSentExceptionEvent?null:(0,jsx_runtime.jsx)(IngestionStatusCheck,{}),(0,jsx_runtime.jsxs)(ErrorTrackingFilters.n_,{children:[(0,jsx_runtime.jsx)(ErrorTrackingFilters.rQ,{}),(0,jsx_runtime.jsx)(ErrorTrackingFilters.e_,{}),(0,jsx_runtime.jsx)(ErrorTrackingFilters.Tc,{})]}),(0,jsx_runtime.jsx)(src.p2,{className:"mt-2"}),(0,jsx_runtime.jsx)(ErrorTrackingListOptions,{}),(0,jsx_runtime.jsx)(Query.A,{query:query,context:{columns:{error:{width:"50%",render:CustomGroupTitleColumn,renderTitle:CustomGroupTitleHeader},occurrences:{align:"center",render:CountColumn},sessions:{align:"center",render:CountColumn},users:{align:"center",render:CountColumn},volume:{align:"right",renderTitle:VolumeColumnHeader,render:VolumeColumn}},showOpenEditorButton:!1,insightProps:insightProps,emptyStateHeading:"No issues found",emptyStateDetail:"Try changing the date range, changing the filters or removing the assignee."}})]})})}let VolumeColumn=props=>{let{dateRange,volumeResolution}=(0,index_esm.useValues)(errorTrackingSceneLogic),record=props.record,data=(0,use_sparkline_data.P)(record.aggregations.volumeRange,dateRange,volumeResolution);return(0,jsx_runtime.jsx)("div",{className:"flex justify-end",children:(0,jsx_runtime.jsx)(OccurrenceSparkline,{className:"h-8",data:data,displayXAxis:!1})})},VolumeColumnHeader=_ref=>{let{columnName}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex justify-between items-center min-w-64",children:(0,jsx_runtime.jsx)("div",{children:columnName})})},CustomGroupTitleHeader=_ref2=>{let{columnName}=_ref2,{selectedIssueIds}=(0,index_esm.useValues)(errorTrackingSceneLogic),{setSelectedIssueIds}=(0,index_esm.useActions)(errorTrackingSceneLogic),{results}=(0,index_esm.useValues)(errorTrackingDataNodeLogic),allSelected=results.length==selectedIssueIds.length&&selectedIssueIds.length>0;return(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,jsx_runtime.jsx)(src.Hw,{checked:allSelected,onChange:()=>allSelected?setSelectedIssueIds([]):setSelectedIssueIds(results.map(r=>r.id))}),columnName]})},CustomGroupTitleColumn=props=>{let{selectedIssueIds}=(0,index_esm.useValues)(errorTrackingSceneLogic),{setSelectedIssueIds}=(0,index_esm.useActions)(errorTrackingSceneLogic),{assignIssue}=(0,index_esm.useActions)(errorTrackingDataNodeLogic),record=props.record,checked=selectedIssueIds.includes(record.id),runtime=(0,utils.sm)(record.library);return(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-x-2 group my-1",children:[(0,jsx_runtime.jsx)(src.Hw,{className:"h-[1.2rem]",checked:checked,onChange:newValue=>{setSelectedIssueIds(newValue?[...new Set([...selectedIssueIds,record.id])]:selectedIssueIds.filter(id=>id!=record.id))}}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-[2px]",children:[(0,jsx_runtime.jsx)(src.rU,{className:"flex-1 pr-12",to:urls.j.errorTrackingIssue(record.id),onClick:()=>{let issueLogic=(0,errorTrackingIssueSceneLogic.r)({id:record.id});issueLogic.mount(),issueLogic.actions.setIssue(record)},children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center h-[1.2rem] gap-2",children:[(0,jsx_runtime.jsx)(RuntimeIcon.Z,{runtime:runtime,fontSize:"0.8rem"}),(0,jsx_runtime.jsx)("span",{className:"font-semibold text-[1.2em]",children:record.name||"Unknown Type"})]})}),(0,jsx_runtime.jsx)("div",{className:"line-clamp-1 text-secondary",children:record.description}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-1 items-center text-secondary",children:[(0,jsx_runtime.jsx)(Indicator.Eg,{size:"xsmall",status:record.status}),(0,jsx_runtime.jsx)("span",{children:"|"}),(0,jsx_runtime.jsx)(TZLabel.w,{time:record.first_seen,className:"border-dotted border-b text-xs",delayMs:750}),(0,jsx_runtime.jsx)("span",{children:"|"}),record.last_seen?(0,jsx_runtime.jsx)(TZLabel.w,{time:record.last_seen,className:"border-dotted border-b text-xs",delayMs:750}):(0,jsx_runtime.jsx)(src.yW,{}),(0,jsx_runtime.jsx)("span",{children:"|"}),(0,jsx_runtime.jsx)(AssigneeSelect.i,{assignee:record.assignee,onChange:assignee=>assignIssue(record.id,assignee),children:anyAssignee=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center hover:bg-fill-button-tertiary-hover p-[0.1rem] rounded cursor-pointer",role:"button",children:[(0,jsx_runtime.jsx)(AssigneeDisplay._x,{assignee:anyAssignee,size:"xsmall"}),(0,jsx_runtime.jsx)(AssigneeDisplay.VQ,{assignee:anyAssignee,className:"ml-1 text-xs text-secondary",size:"xsmall"}),(0,jsx_runtime.jsx)(posthog_icons_es.IconChevronDown,{})]})})]})]})]})},CountColumn=_ref3=>{let{record,columnName}=_ref3,aggregations=record.aggregations,count=aggregations?aggregations[columnName]:0;return(0,jsx_runtime.jsx)("span",{className:"text-lg font-medium",children:"sessions"===columnName&&0===count?(0,jsx_runtime.jsx)(src.u,{title:"No $session_id was set for any event in this issue",delayMs:0,children:"-"}):(0,lib_utils.d$)(count)})},Header=()=>{let{user}=(0,index_esm.useValues)(userLogic.userLogic);return(0,jsx_runtime.jsx)(PageHeader.m,{buttons:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[user?.is_staff?(0,jsx_runtime.jsx)(src.Jp,{onClick:()=>{dist_module.LJ.captureException(Error("Kaboom !"))},children:"Send an exception"}):null,(0,jsx_runtime.jsx)(src.Jp,{to:"https://posthog.com/docs/error-tracking",type:"secondary",targetBlank:!0,children:"Documentation"}),(0,jsx_runtime.jsx)(src.Jp,{to:urls.j.errorTrackingConfiguration(),type:"secondary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconGear,{}),children:"Configure"})]})})},IngestionStatusCheck=()=>(0,jsx_runtime.jsxs)(src.Vp,{type:"warning",className:"my-4",children:[(0,jsx_runtime.jsx)("p",{children:(0,jsx_runtime.jsx)("strong",{children:"No Exception events have been detected!"})}),(0,jsx_runtime.jsxs)("p",{children:["To use the Error tracking product, please"," ",(0,jsx_runtime.jsx)(src.rU,{to:"https://posthog.com/docs/error-tracking/installation",children:"enable exception capture within the PostHog SDK"})," ","(otherwise it'll be a little empty!)"]})]})}}]);