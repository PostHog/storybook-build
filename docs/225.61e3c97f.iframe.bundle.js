(window.webpackJsonp=window.webpackJsonp||[]).push([[225],{"./frontend/src/lib/components/InlineMessage/InlineMessage.tsx":function(m,a,e){"use strict";e.d(a,"a",function(){return I});var d=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=e.n(d),l=e("./node_modules/react/index.js"),c=e.n(l),s=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),j=e.n(s),C=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss"),x=e.n(C),T={};T.insert="head",T.singleton=!1;var G=j()(x.a,T),N=x.a.locals||{},D=e("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),M=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),v=e("./node_modules/clsx/dist/clsx.m.js");function I(B){var Q=B.children,F=B.style,X=B.icon,k=X===void 0?c.a.createElement(D.a,null):X,$=B.type,W=$===void 0?"info":$,g=B.closable,p=B.onClose,P=Object(l.useState)(!0),b=o()(P,2),h=b[0],K=b[1],L=function(){K(!1),p==null||p()};return c.a.createElement("div",{className:Object(v.a)("inline-message",W,g&&"closable",!h&&"hidden"),style:F},c.a.createElement("div",{className:"inline-icon"},k),c.a.createElement("div",{className:"inline-main"},Q),g&&c.a.createElement("div",{className:"closable",onClick:L},c.a.createElement(M.a,null)))}try{I.displayName="InlineMessage",I.__docgenInfo={description:"",displayName:"InlineMessage",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},icon:{defaultValue:{value:"<ExclamationCircleFilled />"},description:"",name:"icon",required:!1,type:{name:"Element"}},type:{defaultValue:{value:"info"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"warning"'},{value:'"danger"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"]={docgenInfo:I.__docgenInfo,name:"InlineMessage",path:"frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"})}catch(B){}},"./frontend/src/scenes/events/index.ts":function(m,a,e){"use strict";var d=e("./frontend/src/scenes/events/EventDetails.tsx"),o=e("./frontend/src/scenes/events/EventElements.tsx"),l=e("./frontend/src/scenes/events/EventsTable.tsx");e.d(a,"a",function(){return l.a});var c=e("./frontend/src/scenes/events/eventsTableLogic.ts")},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(m,a,e){"use strict";e.d(a,"a",function(){return W});var d=e("./node_modules/react/index.js"),o=e.n(d),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/lib/components/LemonTable/index.ts"),s=e("./frontend/src/models/groupsModel.ts"),j=e("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),C=e.n(j),x=e("./frontend/src/lib/utils.tsx"),T=e("./frontend/src/scenes/persons/PersonHeader.tsx"),G=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),N=e.n(G),D=e("./node_modules/@babel/runtime/regenerator/index.js"),M=e.n(D),v=e("./node_modules/core-js/modules/es.array.concat.js"),I=e("./node_modules/core-js/modules/es.array.iterator.js"),B=e("./node_modules/core-js/modules/es.object.to-string.js"),Q=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),F=e("./frontend/src/lib/api.ts"),X=e("./frontend/src/scenes/teamLogic.tsx"),k=Object(l.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[X.a,["currentTeamId"]]},props:{},key:function(p){var P;return"".concat((P=p.groupTypeIndex)!==null&&P!==void 0?P:"person","-").concat(p.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(p){var P=p.values,b=p.props;return{relatedActors:[[],{loadRelatedActors:function(){var h=N()(M.a.mark(function L(){var Y;return M.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return Y="api/projects/".concat(P.currentTeamId,"/groups/related?").concat(Object(x.Cb)({group_type_index:b.groupTypeIndex,id:b.id})),E.next=3,F.b.get(Y);case 3:return E.abrupt("return",E.sent);case 4:case"end":return E.stop()}},L)}));function K(){return h.apply(this,arguments)}return K}(),setGroup:function(){return[]}}]}},events:function(p){var P=p.actions;return{afterMount:P.loadRelatedActors}}}),$=e("./frontend/src/scenes/persons/GroupActorHeader.tsx");function W(g){var p=g.groupTypeIndex,P=g.id,b=Object(l.useValues)(k({groupTypeIndex:p,id:P})),h=b.relatedActors,K=b.relatedActorsLoading,L=Object(l.useValues)(s.a),Y=L.aggregationLabel,J=[{title:"Type",key:"type",render:function(Z,A){return A.type==="group"?o.a.createElement(o.a.Fragment,null,Object(x.i)(Y(A.group_type_index).singular)):o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,null)," Person")}},{title:"id",key:"id",render:function(Z,A){return A.type=="group"?o.a.createElement($.a,{actor:A}):o.a.createElement(T.a,{person:A,withIcon:!1})}}];return o.a.createElement(c.a,{dataSource:h,columns:J,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:K,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{W.displayName="RelatedGroups",W.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:W.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(g){}},"./frontend/src/scenes/persons/Person.tsx":function(m,a,e){"use strict";e.r(a),e.d(a,"scene",function(){return $e}),e.d(a,"Person",function(){return he});var d=e("./node_modules/core-js/modules/es.array.map.js"),o=e("./node_modules/core-js/modules/es.array.slice.js"),l=e("./node_modules/core-js/modules/es.array.join.js"),c=e("./node_modules/react/index.js"),s=e.n(c),j=e("./node_modules/antd/es/tabs/index.js"),C=e("./node_modules/antd/es/dropdown/index.js"),x=e("./node_modules/antd/es/menu/index.js"),T=e("./node_modules/antd/es/tag/index.js"),G=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),N=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),D=e("./frontend/src/scenes/events/index.ts"),M=e("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),v=e("./node_modules/kea/lib/index.esm.js"),I=e("./frontend/src/scenes/persons/personsLogic.tsx"),B=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Q=e("./frontend/src/scenes/persons/Persons.scss"),F=e("./frontend/src/lib/components/CopyToClipboard.tsx"),X=e("./node_modules/core-js/modules/es.function.name.js"),k=e("./node_modules/core-js/modules/es.object.to-string.js"),$=e("./node_modules/core-js/modules/es.regexp.to-string.js"),W=e("./node_modules/core-js/modules/es.array.filter.js"),g=e("./node_modules/antd/es/modal/index.js"),p=e("./node_modules/antd/es/row/index.js"),P=e("./node_modules/antd/es/radio/index.js"),b=e("./node_modules/antd/es/col/index.js"),h=e("./node_modules/antd/es/select/index.js"),K=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),L=e.n(K),Y=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss"),J=e.n(Y),E={};E.insert="head",E.singleton=!1;var Z=L()(J.a,E),A=J.a.locals||{},ee=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),se=e.n(ee),ne=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),te=e.n(ne),w=e("./node_modules/@babel/runtime/regenerator/index.js"),V=e.n(w),H=e("./node_modules/core-js/modules/es.array.iterator.js"),z=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),pe=e("./node_modules/core-js/modules/es.object.keys.js"),_e=e("./node_modules/core-js/modules/es.symbol.js"),es=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),ss=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),ns=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Te=e("./node_modules/kea-router/lib/index.js"),fe=e("./frontend/src/lib/api.ts"),ve=e("./frontend/src/lib/components/lemonToast.tsx"),ye=e("./frontend/src/lib/utils/eventUsageLogic.ts");function Se(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);n&&(i=i.filter(function(S){return Object.getOwnPropertyDescriptor(r,S).enumerable})),t.push.apply(t,i)}return t}function be(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Se(Object(t),!0).forEach(function(i){se()(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var oe;(function(r){r.SPLIT="split",r.MERGE="merge"})(oe||(oe={}));var q=Object(v.kea)({props:{},key:function(n){var t;return(t=n.person.id)!==null&&t!==void 0?t:"new"},path:function(n){return["scenes","persons","mergeSplitPersonLogic",n]},connect:function(){return{actions:[Object(I.a)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[Object(I.a)({syncWithUrl:!0}),["persons"]]}},actions:{setActivity:function(n){return{activity:n}},setSelectedPersonsToMerge:function(n){return{persons:n}},setSelectedPersonToAssignSplit:function(n){return{id:n}},cancel:!0},reducers:function(n){var t=n.props;return{activity:[oe.MERGE,{setActivity:function(S,f){var y=f.activity;return y}}],person:[t.person,{}],selectedPersonsToMerge:[[],{setSelectedPersonsToMerge:function(S,f){var y=f.persons;return y}}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:function(S,f){var y=f.id;return y}}]}},listeners:function(n){var t=n.actions,i=n.values;return{setListFilters:function(){t.loadPersons()},cancel:function(){i.executedLoading||t.setSplitMergeModalShown(!1)}}},loaders:function(n){var t=n.values,i=n.actions;return{executed:[!1,{execute:function(){var S=te()(V.a.mark(function y(){var R,u;return V.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(t.activity!==oe.MERGE){O.next=12;break}return O.next=3,fe.b.create("api/person/"+t.person.id+"/merge/",{uuids:t.selectedPersonsToMerge});case 3:if(R=O.sent,!R.id){O.next=10;break}return ve.d.success("Persons have been merged"),ye.f.actions.reportPersonMerged(t.selectedPersonsToMerge.length),i.setSplitMergeModalShown(!1),i.setPerson(R),O.abrupt("return",!0);case 10:O.next=21;break;case 12:return O.next=14,fe.b.create("api/person/"+t.person.id+"/split/",be({},t.selectedPersonsToAssignSplit?{main_distinct_id:t.selectedPersonsToAssignSplit}:{}));case 14:if(u=O.sent,!u.success){O.next=21;break}return ve.d.success("Person succesfully split. This may take up to a couple of minutes to complete"),ye.f.actions.reportPersonSplit(t.person.distinct_ids.length),i.setSplitMergeModalShown(!1),Te.router.actions.push("/persons"),O.abrupt("return",!0);case 21:return O.abrupt("return",!1);case 22:case"end":return O.stop()}},y)}));function f(){return S.apply(this,arguments)}return f}()}]}},events:function(n){var t=n.actions;return{afterMount:[t.loadPersons]}}}),le=e("./frontend/src/lib/utils.tsx"),je=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),Pe=e("./frontend/src/lib/components/Tooltip.tsx"),Re=e("./frontend/src/lib/components/LemonSelectMultiple/LemonSelectMultiple.tsx");function ae(r){var n=r.person,t={person:n},i=Object(v.useValues)(q(t)),S=i.activity,f=i.executedLoading,y=Object(v.useActions)(q(t)),R=y.setActivity,u=y.execute,U=y.cancel;return s.a.createElement(g.a,{visible:!0,title:"Merge/split persons",onCancel:U,className:"merge-split-person",okText:"".concat(Object(le.i)(S)," persons"),onOk:u,okButtonProps:{loading:f},cancelButtonProps:{disabled:f}},s.a.createElement("div",{className:"activity-header"},s.a.createElement(p.a,{align:"middle"},s.a.createElement(P.a.Group,{onChange:function(ce){return R(ce.target.value)},value:S},s.a.createElement(b.a,{className:"tab-btn ant-btn"},s.a.createElement(P.a,{value:"merge"},"Merge")),s.a.createElement(b.a,{className:"tab-btn ant-btn"},s.a.createElement(P.a,{value:"split",disabled:n.distinct_ids.length<2},n.distinct_ids.length<2?s.a.createElement(Pe.a,{title:"Only persons with more than two distinct IDs can be split.",delayMs:0},"Split"):s.a.createElement(s.a.Fragment,null,"Split")))))),s.a.createElement(v.BindLogic,{logic:q,props:t},s.a.createElement(s.a.Fragment,null,S===oe.MERGE?s.a.createElement(Oe,null):s.a.createElement(xe,null))))}function Oe(){var r=Object(v.useValues)(q),n=r.persons,t=r.person,i=r.executedLoading,S=r.selectedPersonsToMerge,f=Object(v.useActions)(q),y=f.setListFilters,R=f.setSelectedPersonsToMerge;return s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"mb-4"},"Merge all properties and events of the selected persons into ",s.a.createElement("strong",null,t.name)," ",s.a.createElement("span",{style:{fontSize:"1.2em"}},"("),s.a.createElement("code",{title:t.distinct_ids[0]},Object(le.mb)(t.distinct_ids[0],20)),s.a.createElement("span",{style:{fontSize:"1.2em"}},")"),". Properties get merged based on timestamps, see more details on"," ",s.a.createElement("a",{href:"https://posthog.com/docs/integrate/user-properties#how-do-values-get-overridden"},"PostHog Docs"),"."),s.a.createElement(Re.a,{placeholder:"Please select persons to merge",onChange:function(U){return R(U)},filterOption:!1,onSearch:function(U){return y({search:U})},mode:"multiple","data-attr":"subscribed-emails",value:S.map(function(u){return u.toString()}),options:(n.results||[]).filter(function(u){return u.uuid&&u.uuid!==t.uuid}).map(function(u){return{key:u.uuid,label:u.name||u.uuid}}),disabled:i}),s.a.createElement(je.a,{style:{marginTop:16},type:"danger"},"This action is not reversible. Please be sure before continuing."))}function xe(){var r=Object(v.useValues)(q),n=r.person,t=r.executedLoading,i=Object(v.useActions)(q),S=i.setSelectedPersonToAssignSplit;return n?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"This will split all Distinct IDs for this person into unique persons."),s.a.createElement("p",null,"You can select a distinct ID for which all the current properties will be assigned (",s.a.createElement("i",null,"optional"),"). All other new users will start without any properties."),s.a.createElement(h.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:function(y){return S(y)},filterOption:!1,disabled:t},n==null?void 0:n.distinct_ids.map(function(f){return s.a.createElement(h.a.Option,{value:f,key:f},f)})),s.a.createElement(je.a,{style:{marginTop:16},type:"danger"},s.a.createElement("div",null,"This will create ",s.a.createElement("strong",null,n.distinct_ids.length-1)," new"," ",Object(le.rb)(n.distinct_ids.length,"person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."))):null}try{ae.displayName="MergeSplitPerson",ae.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:ae.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(r){}var Me=e("./frontend/src/lib/components/LemonTable/index.ts"),ie=e("./frontend/src/scenes/urls.ts"),Ie=e("./frontend/src/lib/components/Link.tsx");function Le(){var r=Object(v.useValues)(I.a),n=r.cohorts,t=r.cohortsLoading,i=r.person,S=Object(v.useActions)(I.a),f=S.loadCohorts;Object(c.useEffect)(function(){f()},[i]);var y=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function(u,U){return s.a.createElement(Ie.a,{to:ie.a.cohort(U.id)},s.a.createElement("strong",null,U.name))},sorter:function(u,U){return(u.name||"").localeCompare(U.name||"")}},{title:"Users in cohort",render:function(u){return u==null?void 0:u.toLocaleString()},dataIndex:"count",sorter:function(u,U){return(u.count||0)-(U.count||0)}}];return s.a.createElement(Me.a,{dataSource:n||[],loading:t,columns:y,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var Ae=e("./frontend/src/lib/components/PropertiesTable.tsx"),Ce=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),re=e("./frontend/src/types.ts"),Ee=e("./frontend/src/lib/components/PageHeader.tsx"),De=e("./frontend/src/scenes/groups/RelatedGroups.tsx"),Ue=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Ne=e("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),Be=e("./frontend/src/scenes/persons/activityDescriptions.tsx"),Ve=e("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),de=e("./frontend/@posthog/lemon-ui/src/index.ts"),Ge=e("./frontend/src/scenes/teamLogic.tsx"),Ke=e("./frontend/src/lib/components/AlertMessage/index.ts"),Fe=e("./frontend/src/scenes/persons/PersonDeleteModal.tsx"),We=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),Ye=e("./frontend/src/lib/logic/featureFlagLogic.ts"),He=e("./frontend/src/lib/constants.tsx"),ze=e("./frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx"),_=j.a.TabPane,$e={component:he,logic:I.a,paramsToProps:function(n){var t=n.params._;return{syncWithUrl:!0,urlId:decodeURIComponent(t)}}};function Je(r){var n=r.person;return s.a.createElement("div",{className:"flex flex-wrap items-center gap-2"},s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"IDs:")," ",s.a.createElement(F.a,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"}},n.distinct_ids[0]),n.distinct_ids.length>1&&s.a.createElement(C.a,{overlay:s.a.createElement(x.a,null,n.distinct_ids.slice(1).map(function(t){return s.a.createElement(x.a.Item,{key:t},s.a.createElement(F.a,{description:"person distinct ID",iconStyle:{color:"var(--primary)"}},t))})),trigger:["click"]},s.a.createElement(T.a,{className:"extra-ids"},"+",n.distinct_ids.length-1,s.a.createElement(G.a,null)))),s.a.createElement("div",null,s.a.createElement("span",{className:"text-muted"},"First seen:")," ",n.created_at?s.a.createElement(Ce.b,{time:n.created_at}):"unknown"))}function he(){var r=Object(v.useValues)(I.a),n=r.person,t=r.personLoading,i=r.deletedPersonLoading,S=r.currentTab,f=r.splitMergeModalShown,y=r.urlId,R=Object(v.useActions)(I.a),u=R.editProperty,U=R.deleteProperty,O=R.navigateToTab,ce=R.setSplitMergeModalShown,Qe=R.showPersonDeleteModal,Xe=Object(v.useValues)(Ue.b),Ze=Xe.groupsEnabled,we=Object(v.useValues)(Ge.a),ue=we.currentTeam,ke=Object(v.useValues)(Ye.a),qe=ke.featureFlags;return n?s.a.createElement(s.a.Fragment,null,s.a.createElement(Ee.a,{title:Object(B.b)(n),caption:s.a.createElement(Je,{person:n}),buttons:s.a.createElement("div",{className:"flex gap-2"},s.a.createElement(de.LemonButton,{onClick:function(){return Qe(n)},disabled:i,loading:i,type:"secondary",status:"danger","data-attr":"delete-person"},"Delete person"),s.a.createElement(de.LemonButton,{onClick:function(){return ce(!0)},"data-attr":"merge-person-button",type:"secondary"},"Split or merge IDs"))}),s.a.createElement(Fe.a,null),s.a.createElement(j.a,{activeKey:S,onChange:function(ge){O(ge)},destroyInactiveTabPane:!0,"data-attr":"persons-tabs"},s.a.createElement(_,{tab:s.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:re.G.PROPERTIES},s.a.createElement(Ae.a,{properties:n.properties||{},searchable:!0,onEdit:u,sortProperties:!0,embedded:!1,onDelete:function(ge){return U(ge)}})),s.a.createElement(_,{tab:s.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:re.G.EVENTS},s.a.createElement(D.a,{pageKey:n.distinct_ids.join("__"),fixedFilters:{person_id:n.id},showPersonColumn:!1,sceneUrl:ie.a.person(y||n.distinct_ids[0]||String(n.id))})),s.a.createElement(_,{tab:s.a.createElement("span",{"data-attr":"person-session-recordings-tab"},"Recordings"),key:re.G.SESSION_RECORDINGS},ue!=null&&ue.session_recording_opt_in?null:s.a.createElement("div",{className:"mb-4"},s.a.createElement(Ke.a,{type:"info"},"Session recordings are currently disabled for this project. To use this feature, please go to your ",s.a.createElement(de.Link,{to:"".concat(ie.a.projectSettings(),"#recordings")},"project settings")," and enable it.")),qe[He.h.SESSION_RECORDINGS_PLAYLIST]?s.a.createElement(ze.a,{key:n.uuid,personUUID:n.uuid,isPersonPage:!0}):s.a.createElement(M.a,{key:n.uuid,personUUID:n.uuid,isPersonPage:!0})),s.a.createElement(_,{tab:s.a.createElement("span",{"data-attr":"persons-cohorts-tab"},"Cohorts"),key:re.G.COHORTS},s.a.createElement(Le,null)),Ze&&n.uuid&&s.a.createElement(_,{tab:s.a.createElement("span",{"data-attr":"persons-related-tab"},"Related groups",s.a.createElement(Pe.a,{title:"People and groups that have shared events with this person in the last 90 days."},s.a.createElement(N.a,{style:{marginLeft:6,marginRight:0}}))),key:re.G.RELATED},s.a.createElement(De.a,{id:n.uuid,groupTypeIndex:null})),s.a.createElement(_,{tab:"History",key:"history"},s.a.createElement(Ne.a,{scope:Ve.a.PERSON,id:n.id,describer:Be.a,caption:s.a.createElement("div",null,s.a.createElement(N.a,{style:{marginRight:".25rem"}}),s.a.createElement("span",null,"This page only shows changes made by users in the PostHog site. Automatic changes from the API aren't shown here."))}))),f&&n&&s.a.createElement(ae,{person:n})):t?s.a.createElement(We.b,null):s.a.createElement(Ee.a,{title:"Person not found",caption:y?`There's no person matching distinct ID "`.concat(y,'".'):void 0})}},"./frontend/src/scenes/persons/PersonDeleteModal.tsx":function(m,a,e){"use strict";e.d(a,"a",function(){return C});var d=e("./node_modules/react/index.js"),o=e.n(d),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/scenes/persons/personsLogic.tsx"),s=e("./frontend/src/scenes/persons/PersonHeader.tsx"),j=e("./frontend/@posthog/lemon-ui/src/index.ts");function C(){var x=Object(l.useValues)(c.a),T=x.personDeleteModal,G=Object(l.useActions)(c.a),N=G.deletePerson,D=G.showPersonDeleteModal;return o.a.createElement(j.LemonModal,{isOpen:!!T,onClose:function(){return D(null)},title:'Are you sure you want to delete "'.concat(Object(s.b)(T),'"?'),description:o.a.createElement(o.a.Fragment,null,"This action cannot be undone. If you opt to delete the person and its corresponding events, the events will not be immediately removed. Instead these events will be deleted on a set schedule during non-peak usage times.",o.a.createElement("a",{href:"https://posthog.com/docs/privacy/data-deletion",target:"_blank",rel:"noopener",className:"font-bold"}," ","Learn more")),footer:o.a.createElement(o.a.Fragment,null,o.a.createElement(j.LemonButton,{status:"danger",type:"secondary",onClick:function(){N({person:T,deleteEvents:!0}),D(null)},"data-attr":"delete-person-with-events"},"Delete person and all corresponding events"),o.a.createElement(j.LemonButton,{type:"secondary",onClick:function(){return D(null)},"data-attr":"delete-person-cancel"},"Cancel"),o.a.createElement(j.LemonButton,{type:"primary",status:"danger",onClick:function(){N({person:T,deleteEvents:!1}),D(null)},"data-attr":"delete-person-no-events"},"Delete person"))})}},"./frontend/src/scenes/persons/Persons.scss":function(m,a,e){"use strict";var d=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=e.n(d),l=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),c=e.n(l),s={};s.insert="head",s.singleton=!1;var j=o()(c.a,s),C=c.a.locals||{}},"./frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx":function(m,a,e){"use strict";e.d(a,"a",function(){return g});var d=e("./node_modules/core-js/modules/es.array.concat.js"),o=e("./node_modules/react/index.js"),l=e.n(o),c=e("./node_modules/kea/lib/index.esm.js"),s=e("./frontend/src/lib/utils.tsx"),j=e("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),C=e("./frontend/src/scenes/persons/PersonHeader.tsx"),x=e("./frontend/src/lib/utils/eventUsageLogic.ts"),T=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),G=e.n(T),N=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingPlaylist.scss"),D=e.n(N),M={};M.insert="head",M.singleton=!1;var v=G()(D.a,M),I=D.a.locals||{},B=e("./frontend/src/lib/components/LemonTable/index.ts"),Q=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),F=e("./frontend/src/scenes/session-recordings/player/SessionRecordingPlayer.tsx"),X=e("./frontend/src/lib/components/EmptyMessage/EmptyMessage.tsx"),k=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),$=e("./frontend/@posthog/lemon-ui/src/index.ts"),W=e("./frontend/src/lib/components/icons.tsx");function g(p){var P=p.personUUID,b=Object(j.b)({personUUID:P,isPlaylist:!0}),h=Object(c.useValues)(b),K=h.sessionRecordings,L=h.sessionRecordingsResponseLoading,Y=h.hasNext,J=h.hasPrev,E=h.activeSessionRecordingId,Z=h.offset,A=Object(c.useActions)(b),ee=A.openSessionPlayer,se=A.loadNext,ne=A.loadPrev,te=[{title:"Recordings",render:function(V,H){return l.a.createElement("div",null,Object(C.b)(H.person,25),l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement(Q.b,{time:H.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"})," \xB7 ",Object(s.n)(H.recording_duration))))}}];return l.a.createElement("div",{className:"SessionRecordingPlaylist","data-attr":"session-recordings-playlist"},l.a.createElement("div",{className:"SessionRecordingPlaylist__left-column mr-4"},l.a.createElement(B.a,{dataSource:K,columns:te,loading:L,onRow:function(V){return{onClick:function(z){z.target.closest("a")||ee(V.id,x.d.RecordingsList)}}},rowStatus:function(V){return E===V.id?"highlighted":null},rowClassName:"cursor-pointer","data-attr":"session-recording-table","data-tooltip":"session-recording-table",emptyState:"No matching recordings found"}),l.a.createElement("div",{className:"SessionRecordingPlaylist__pagination-control"},l.a.createElement("span",null,"".concat(Z+1," - ").concat(Z+(L?Object(j.a)(!0):K.length))),l.a.createElement($.LemonButton,{icon:l.a.createElement(W.IconChevronLeft,null),status:"stealth",disabled:!J,onClick:function(){ne(),window.scrollTo(0,0)}}),l.a.createElement($.LemonButton,{icon:l.a.createElement(W.IconChevronRight,null),status:"stealth",disabled:!Y,onClick:function(){se(),window.scrollTo(0,0)}}))),l.a.createElement("div",{className:"SessionRecordingPlaylist__right-column"},E?l.a.createElement("div",{className:"border rounded h-full"},l.a.createElement(F.b,{playerKey:"playlist",sessionRecordingId:E})):L?l.a.createElement("div",{className:"SessionRecordingPlaylist__loading"},l.a.createElement(k.a,null)):l.a.createElement(X.a,{title:"No recording selected",description:"Please select a recording from the list on the left",buttonText:"Learn more about recordings",buttonHref:"https://posthog.com/docs/user-guides/recordings"})))}try{g.displayName="SessionRecordingsPlaylist",g.__docgenInfo={description:"",displayName:"SessionRecordingsPlaylist",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:null,description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"]={docgenInfo:g.__docgenInfo,name:"SessionRecordingsPlaylist",path:"frontend/src/scenes/session-recordings/SessionRecordingsPlaylist.tsx#SessionRecordingsPlaylist"})}catch(p){}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(m,a,e){"use strict";e.d(a,"a",function(){return g});var d=e("./node_modules/react/index.js"),o=e.n(d),l=e("./node_modules/kea/lib/index.esm.js"),c=e("./frontend/src/lib/utils.tsx"),s=e("./node_modules/antd/es/button/index.js"),j=e("./node_modules/antd/es/row/index.js"),C=e("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),x=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),T=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),G=e("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),N=e("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),D=e("./frontend/src/scenes/persons/PersonHeader.tsx"),M=e("./frontend/src/lib/utils/eventUsageLogic.ts"),v=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),I=e.n(v),B=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),Q=e.n(B),F={};F.insert="head",F.singleton=!1;var X=I()(Q.a,F),k=Q.a.locals||{},$=e("./frontend/src/lib/components/LemonTable/index.ts"),W=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function g(p){var P=p.personUUID,b=p.isPersonPage,h=b===void 0?!1:b,K=Object(C.b)({personUUID:P}),L=Object(l.useValues)(K),Y=L.sessionRecordings,J=L.sessionRecordingsResponseLoading,E=L.hasNext,Z=L.hasPrev,A=Object(l.useActions)(K),ee=A.openSessionPlayer,se=A.closeSessionPlayer,ne=A.loadNext,te=A.loadPrev,w=[{title:"Start time",render:function(H,z){return o.a.createElement(W.b,{time:z.start_time,formatDate:"MMMM DD, YYYY",formatTime:"h:mm A"})}},{title:"Duration",render:function(H,z){return o.a.createElement("span",null,Object(c.M)(z.recording_duration))}},{title:"Person",key:"person",render:function(H,z){return o.a.createElement(D.a,{withIcon:!0,person:z.person})}},{render:function(H,z){return o.a.createElement("div",{className:"play-button-container"},o.a.createElement(s.a,{className:z.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:o.a.createElement(x.a,null)},"Watch recording"))}}];return o.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},o.a.createElement($.a,{dataSource:Y,columns:w,loading:J,onRow:function(H){return{onClick:function(pe){pe.target.closest("a")||ee(H.id,M.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(Z||E)&&o.a.createElement(j.a,{className:"pagination-control"},o.a.createElement(s.a,{type:"link",disabled:!Z,onClick:function(){te(),window.scrollTo(0,0)}},o.a.createElement(G.a,null)," Previous"),o.a.createElement(s.a,{type:"link",disabled:!E,onClick:function(){ne(),window.scrollTo(0,0)}},"Next ",o.a.createElement(N.a,null))),o.a.createElement("div",{style:{marginBottom:64}}),o.a.createElement(T.a,{isPersonPage:h,onClose:se}))}try{g.displayName="SessionRecordingsTable",g.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:g.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(p){}},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(m,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};a.default=d},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(m,a,e){"use strict";var d=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),o=e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=o(e("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/objectSpread2.js")),c=d(e("./node_modules/react/index.js")),s=o(e("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),j=o(e("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),C=function(G,N){return c.createElement(j.default,(0,l.default)((0,l.default)({},G),{},{ref:N,icon:s.default}))};C.displayName="UserOutlined";var x=c.forwardRef(C);a.default=x},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss":function(m,a,e){var d=e("./node_modules/css-loader/dist/runtime/api.js");a=d(!1),a.push([m.i,".inline-message{background-color:var(--bg-mid);border-radius:var(--radius);padding:.5rem 1rem;font-weight:var(--font-medium);display:flex;align-items:center;color:var(--primary-alt)}.inline-message.danger{background-color:var(--danger-highlight);color:var(--danger)}.inline-message.closable{padding-right:.5rem}.inline-message.hidden{display:none}.inline-message .inline-icon{margin-right:6px;display:flex;align-items:center}.inline-message .inline-main{flex-grow:1}.inline-message .closable{color:var(--muted);align-self:flex-start;padding-left:1rem;cursor:pointer}",""]),m.exports=a},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss":function(m,a,e){var d=e("./node_modules/css-loader/dist/runtime/api.js");a=d(!1),a.push([m.i,".merge-split-person .activity-header{background-color:var(--bg-mid);border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:var(--bg-mid);color:var(--primary-alt);padding:4px 8px;border-radius:var(--radius)}",""]),m.exports=a},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(m,a,e){var d=e("./node_modules/css-loader/dist/runtime/api.js");a=d(!1),a.push([m.i,".extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:var(--primary);cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),m.exports=a},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingPlaylist.scss":function(m,a,e){var d=e("./node_modules/css-loader/dist/runtime/api.js");a=d(!1),a.push([m.i,".SessionRecordingPlaylist{display:flex;flex-direction:row}.SessionRecordingPlaylist .SessionRecordingPlaylist__left-column{width:300px;flex-shrink:0}.SessionRecordingPlaylist .SessionRecordingPlaylist__left-column .SessionRecordingPlaylist__pagination-control{margin-top:1rem;display:flex;width:100%;justify-content:flex-end;align-items:center}.SessionRecordingPlaylist .SessionRecordingPlaylist__right-column{flex:1}.SessionRecordingPlaylist .SessionRecordingPlaylist__right-column .SessionRecordingPlaylist__loading{display:flex;align-items:center;justify-content:center;margin-top:10rem}",""]),m.exports=a},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(m,a,e){var d=e("./node_modules/css-loader/dist/runtime/api.js");a=d(!1),a.push([m.i,".session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:var(--primary)}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:var(--muted)}.session-recordings-table .info-icon{color:var(--primary)}",""]),m.exports=a}}]);
