(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"./frontend/src/scenes/actions/NewActionButton.tsx":function(ee,b,e){"use strict";e.d(b,"a",function(){return R});var L=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),I=e.n(L),y=e("./node_modules/react/index.js"),t=e.n(y),W=e("./node_modules/antd/es/modal/index.js"),U=e("./node_modules/antd/es/button/index.js"),k=e("./node_modules/antd/es/row/index.js"),T=e("./node_modules/antd/es/col/index.js"),M=e("./node_modules/antd/es/card/index.js"),J=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),p=e("./node_modules/kea-router/lib/index.js"),K=e.n(p),n=e("./frontend/src/scenes/urls.ts"),x=e("./frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx"),G=e("./frontend/src/lib/components/icons.tsx"),j=e("./frontend/src/lib/components/LemonButton/index.ts"),d=e("./node_modules/kea/lib/index.esm.js"),Y=e("./frontend/src/lib/logic/featureFlagLogic.ts"),$=e("./frontend/src/lib/constants.tsx");function R(){var S=Object(y.useState)(!1),N=I()(S,2),A=N[0],f=N[1],O=Object(y.useState)(!1),P=I()(O,2),D=P[0],o=P[1],z=Object(d.useValues)(Y.a),u=z.featureFlags;return t.a.createElement(t.a.Fragment,null,t.a.createElement(j.a,{type:"primary",onClick:function(){return f(!0)},"data-attr":"create-action"},"New ",u[$.h.SIMPLIFY_ACTIONS]?"Calculated Event":"Action"),t.a.createElement(W.a,{visible:A,style:{cursor:"pointer"},onCancel:function(){f(!1),o(!1)},title:"Create new ".concat(u[$.h.SIMPLIFY_ACTIONS]?"calculated event":"action"),footer:[D&&t.a.createElement(U.a,{key:"back-button",onClick:function(){return o(!1)}},"Back"),t.a.createElement(U.a,{key:"cancel-button",onClick:function(){f(!1),o(!1)}},"Cancel")]},!D&&t.a.createElement(k.a,{gutter:2,justify:"space-between"},t.a.createElement(T.a,{xs:11},t.a.createElement(M.a,{title:"Inspect element on your site",onClick:function(){return o(!0)},size:"small"},t.a.createElement("div",{style:{textAlign:"center",fontSize:40}},t.a.createElement(J.a,null)))),t.a.createElement(T.a,{xs:11},t.a.createElement(M.a,{title:"From event or pageview",onClick:function(){p.router.actions.push(n.a.createAction())},size:"small"},t.a.createElement("div",{style:{textAlign:"center",fontSize:40},"data-attr":"new-action-pageview"},t.a.createElement(G.IconEdit,null))))),D&&t.a.createElement(x.a,null)))}},"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(ee,b,e){"use strict";e.d(b,"b",function(){return m}),e.d(b,"a",function(){return V});var L=e("./node_modules/core-js/modules/es.object.keys.js"),I=e.n(L),y=e("./node_modules/core-js/modules/es.symbol.js"),t=e.n(y),W=e("./node_modules/core-js/modules/es.array.filter.js"),U=e.n(W),k=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),T=e.n(k),M=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),J=e.n(M),p=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),K=e.n(p),n=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),x=e.n(n),G=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),j=e.n(G),d=e("./node_modules/core-js/modules/es.array.iterator.js"),Y=e.n(d),$=e("./node_modules/core-js/modules/es.object.to-string.js"),R=e.n($),S=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),N=e.n(S),A=e("./node_modules/core-js/modules/es.object.from-entries.js"),f=e.n(A),O=e("./node_modules/core-js/modules/es.array.map.js"),P=e.n(O),D=e("./node_modules/core-js/modules/es.object.entries.js"),o=e.n(D),z=e("./node_modules/react/index.js"),u=e.n(z),E=e("./node_modules/kea/lib/index.esm.js"),i=e("./node_modules/antd/es/tabs/index.js"),X=e("./frontend/src/scenes/urls.ts"),Q=e("./frontend/src/lib/components/Tooltip.tsx"),B=e("./frontend/src/lib/components/icons.tsx"),te=e("./frontend/src/lib/components/TitleWithIcon.tsx"),ne=e("./frontend/src/lib/logic/featureFlagLogic.ts"),F=e("./frontend/src/lib/constants.tsx");function C(s,v){var c=Object.keys(s);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);v&&(_=_.filter(function(q){return Object.getOwnPropertyDescriptor(s,q).enumerable})),c.push.apply(c,_)}return c}function g(s){for(var v=1;v<arguments.length;v++){var c=arguments[v]!=null?arguments[v]:{};v%2?C(Object(c),!0).forEach(function(_){j()(s,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(c)):C(Object(c)).forEach(function(_){Object.defineProperty(s,_,Object.getOwnPropertyDescriptor(c,_))})}return s}var m;(function(s){s.Actions="actions",s.EventDefinitions="events",s.EventPropertyDefinitions="properties"})(m||(m={}));var Z=Object(E.kea)({path:["scenes","events","eventsTabsLogic"],actions:{setTab:function(v){return{tab:v}}},reducers:{tab:[m.EventDefinitions,{setTab:function(v,c){var _=c.tab;return _}}]},selectors:function(){return{tabUrls:[function(){return[ne.a.selectors.featureFlags]},function(v){var c;return g((c={},j()(c,m.EventPropertyDefinitions,X.a.eventPropertyDefinitions()),j()(c,m.EventDefinitions,X.a.eventDefinitions()),c),v[F.h.SIMPLIFY_ACTIONS]?{}:j()({},m.Actions,X.a.actions()))}]}},actionToUrl:function(v){var c=v.values;return{setTab:function(q){var w=q.tab;return c.tabUrls[w]||X.a.events()}}},urlToAction:function(v){var c=v.actions,_=v.values;return Object.fromEntries(Object.entries(_.tabUrls).map(function(q){var w=x()(q,2),ae=w[0],oe=w[1];return[oe,function(){_.tab!==ae&&c.setTab(ae)}]}))}});function V(s){var v=s.tab,c=Object(E.useActions)(Z),_=c.setTab,q=Object(E.useValues)(ne.a),w=q.featureFlags;return u.a.createElement(i.a,{tabPosition:"top",animated:!1,activeKey:v,onTabClick:function(oe){return _(oe)}},u.a.createElement(i.a.TabPane,{tab:u.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:m.EventDefinitions}),!w[F.h.SIMPLIFY_ACTIONS]&&u.a.createElement(i.a.TabPane,{tab:u.a.createElement(te.a,{icon:u.a.createElement(Q.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},u.a.createElement(B.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:m.Actions}),u.a.createElement(i.a.TabPane,{tab:u.a.createElement(te.a,{icon:u.a.createElement(Q.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},u.a.createElement(B.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Event Properties"),key:m.EventPropertyDefinitions}))}try{V.displayName="DataManagementPageTabs",V.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:V.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(s){}},"./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx":function(ee,b,e){"use strict";e.d(b,"a",function(){return Y});var L=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),I=e.n(L),y=e("./node_modules/core-js/modules/es.array.concat.js"),t=e.n(y),W=e("./node_modules/core-js/modules/es.array.includes.js"),U=e.n(W),k=e("./node_modules/core-js/modules/es.string.includes.js"),T=e.n(k),M=e("./node_modules/kea/lib/index.esm.js"),J=e("./node_modules/react/index.js"),p=e.n(J),K=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),n=e("./frontend/src/lib/components/LemonTable/index.ts"),x=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),G=e("./frontend/src/scenes/organizationLogic.tsx"),j=e("./frontend/src/lib/utils.tsx"),d=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx");function Y($){var R,S,N,A,f,O,P,D,o=$.definition,z=Object(M.useActions)(K.c),u=z.loadPropertiesForEvent,E=Object(M.useValues)(K.c),i=E.eventPropertiesCacheMap,X=E.eventDefinitionPropertiesLoading,Q=Object(M.useValues)(G.a),B=Q.hasDashboardCollaboration,te=Q.hasIngestionTaxonomy;Object(J.useEffect)(function(){u(o)},[]);var ne=[{title:"Property",key:"property",className:"definition-column-name",render:function(C,g){return p.a.createElement(d.c,{definition:g,event:o,hideIcon:!0,asLink:!0})}},{title:"Type",key:"type",className:"definition-column-type",render:function(C,g){return g.property_type?p.a.createElement("div",{className:"definition-pill-value",style:{textTransform:"uppercase"}},g.property_type):p.a.createElement("span",{className:"text-muted"},"\u2014")}}].concat(I()(B?[{title:"Tags",key:"tags",render:function(C,g){var m;return p.a.createElement(x.a,{tags:(m=g.tags)!==null&&m!==void 0?m:[],staticOnly:!0})}}]:[]),I()(te?[{title:"30 day queries",key:"query_usage_30_day",align:"right",render:function(C,g){return g.query_usage_30_day?Object(j.N)(g.query_usage_30_day):p.a.createElement("span",{className:"text-muted"},"\u2014")}}]:[]),[{title:"Example",key:"example",align:"right",className:"definition-example-type",render:function(C,g){return g.example?p.a.createElement("div",{className:"definition-pill-value",style:{fontFamily:"monospace"}},g.example):p.a.createElement("span",{className:"text-muted"},"\u2014")}}]);return p.a.createElement("div",{className:"event-properties-wrapper"},p.a.createElement("span",{className:"event-properties-header"},"Top properties"),p.a.createElement("p",{className:"event-properties-subtext"},"Please note that description and tags are shared across events. Posthog properties are excluded from this list."),p.a.createElement(n.a,{id:"event-properties-definition-table-".concat(o.id),"data-attr":"event-properties-definition-nested-table",columns:ne,className:"event-properties-definition-table-".concat(o.id),dataSource:(R=i==null||(S=i[o.id])===null||S===void 0?void 0:S.results)!==null&&R!==void 0?R:[],emptyState:"This event has no properties",nouns:["property definition","property definitions"],pagination:{controlled:!0,pageSize:K.b,currentPage:(N=i==null||(A=i[o.id])===null||A===void 0?void 0:A.page)!==null&&N!==void 0?N:1,entryCount:(f=i==null||(O=i[o.id])===null||O===void 0?void 0:O.count)!==null&&f!==void 0?f:0,onForward:i!=null&&(P=i[o.id])!==null&&P!==void 0&&P.next?function(){u(o,i[o.id].next)}:void 0,onBackward:i!=null&&(D=i[o.id])!==null&&D!==void 0&&D.previous?function(){u(o,i[o.id].previous)}:void 0},loading:X.includes(o.id)}))}try{Y.displayName="EventDefinitionProperties",Y.__docgenInfo={description:"",displayName:"EventDefinitionProperties",props:{definition:{defaultValue:null,description:"",name:"definition",required:!0,type:{name:"EventDefinition"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"]={docgenInfo:Y.__docgenInfo,name:"EventDefinitionProperties",path:"frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"})}catch($){}},"./frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx":function(ee,b,e){"use strict";e.r(b),e.d(b,"scene",function(){return ne}),e.d(b,"EventDefinitionsTable",function(){return F});var L=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),I=e.n(L),y=e("./node_modules/core-js/modules/es.array.concat.js"),t=e("./node_modules/core-js/modules/es.function.name.js"),W=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),U=e.n(W),k=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss"),T=e.n(k),M={};M.insert="head",M.singleton=!1;var J=U()(T.a,M),p=T.a.locals||{},K=e("./node_modules/react/index.js"),n=e.n(K),x=e("./node_modules/kea/lib/index.esm.js"),G=e("./frontend/src/lib/components/LemonTable/index.ts"),j=e("./frontend/src/types.ts"),d=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),Y=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),$=e("./frontend/src/scenes/organizationLogic.tsx"),R=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),S=e("./frontend/src/lib/utils.tsx"),N=e("./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx"),A=e("./node_modules/antd/es/row/index.js"),f=e("./node_modules/antd/es/alert/index.js"),O=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),P=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),D=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),o=e("./frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx"),z=e("./frontend/src/lib/components/ProfilePicture/index.ts"),u=e("./frontend/src/scenes/teamLogic.tsx"),E=e("./frontend/src/lib/components/icons.tsx"),i=e("./frontend/src/scenes/actions/NewActionButton.tsx"),X=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),Q=e("./frontend/src/lib/components/PageHeader.tsx"),B=e("./frontend/@posthog/lemon-ui/src/index.ts"),te=[{value:j.k.All,label:"All types","data-attr":"event-type-option-all"},{value:j.k.ActionEvent,label:"Calculated events",icon:n.a.createElement(E.ActionEvent,null),"data-attr":"event-type-option-action-event"},{value:j.k.Event,label:"Events",icon:n.a.createElement(E.UnverifiedEvent,null),"data-attr":"event-type-option-event"},{value:j.k.EventCustom,label:"Events / Custom",icon:n.a.createElement(E.UnverifiedEvent,null),"data-attr":"event-type-option-event-custom"},{value:j.k.EventPostHog,label:"Events / PostHog",icon:n.a.createElement(E.UnverifiedEvent,null),"data-attr":"event-type-option-event-posthog"}],ne={component:F,logic:d.c,paramsToProps:function(){return{syncWithUrl:!0}}};function F(){var C,g,m=Object(x.useValues)(D.a),Z=m.preflight,V=Object(x.useValues)(d.c),s=V.eventDefinitions,v=V.eventDefinitionsLoading,c=V.filters,_=V.shouldSimplifyActions,q=Object(x.useValues)(u.a),w=q.currentTeam,ae=Object(x.useActions)(d.c),oe=ae.loadEventDefinitions,re=ae.setFilters,le=Object(x.useValues)($.a),ie=le.hasDashboardCollaboration,de=le.hasIngestionTaxonomy,ce=[{key:"icon",className:"definition-column-icon",render:function(r,a){return Object(d.d)(a)?n.a.createElement(R.a,{definition:a,hideText:!0}):n.a.createElement(R.b,{definition:a,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(r,a){return Object(d.d)(a)?n.a.createElement(R.a,{definition:a,hideIcon:!0,asLink:!0}):n.a.createElement(R.b,{definition:a,hideIcon:!0,asLink:!0,shouldSimplifyActions:!0})},sorter:function(r,a){var l,H,se;return(l=(H=r.name)===null||H===void 0?void 0:H.localeCompare((se=a.name)!==null&&se!==void 0?se:""))!==null&&l!==void 0?l:0}}].concat(I()(ie?[{title:"Tags",key:"tags",render:function(r,a){var l;return n.a.createElement(Y.a,{tags:(l=a.tags)!==null&&l!==void 0?l:[],staticOnly:!0})}}]:[]),I()(_?[{title:"Created by",key:"created_by",align:"left",render:function(r,a){var l=Object(d.d)(a)?a.created_by:a.owner;return n.a.createElement(A.a,{align:"middle",wrap:!1},l&&n.a.createElement(z.b,{name:l.first_name,email:l.email,size:"md"}),n.a.createElement("div",{style:{maxWidth:250,width:"auto",verticalAlign:"middle",marginLeft:l?8:0,color:l?void 0:"var(--muted)"}},l?l.first_name||l.email:"\u2014"))}},{title:"Last updated",key:"last_updated",align:"left",render:function(r,a){var l=a.last_updated_at;return l?n.a.createElement("div",{style:{whiteSpace:"nowrap"}},n.a.createElement(X.b,{time:l})):n.a.createElement("span",{style:{color:"var(--muted)"}},"\u2014")},sorter:function(r,a){return new Date(r.last_updated_at||0)>new Date(a.last_updated_at||0)?1:-1}},{title:"Webhook",key:"webhook",align:"center",render:function(r,a){return Object(d.d)(a)&&!!(w!=null&&w.slack_incoming_webhook)&&!!a.post_to_slack?n.a.createElement(E.IconWebhook,null):n.a.createElement(n.a.Fragment,null)}}]:[]),I()(!_&&de?[{title:n.a.createElement(o.c,{tooltipPlacement:"bottom"}),key:"volume_30_day",align:"right",render:function(r,a){return Object(d.d)(a)?n.a.createElement("span",{className:"text-muted"},"\u2014"):a.volume_30_day?Object(S.N)(a.volume_30_day):n.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(r,a){var l,H;return!Object(d.d)(r)&&!Object(d.d)(a)?((l=r==null?void 0:r.volume_30_day)!==null&&l!==void 0?l:0)-((H=a==null?void 0:a.volume_30_day)!==null&&H!==void 0?H:0):0}},{title:n.a.createElement(o.b,{tooltipPlacement:"bottom"}),key:"query_usage_30_day",align:"right",render:function(r,a){return Object(d.d)(a)?n.a.createElement("span",{className:"text-muted"},"\u2014"):a.query_usage_30_day?Object(S.N)(a.query_usage_30_day):n.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(r,a){var l,H;return!Object(d.d)(r)&&!Object(d.d)(a)?((l=r==null?void 0:r.query_usage_30_day)!==null&&l!==void 0?l:0)-((H=a==null?void 0:a.query_usage_30_day)!==null&&H!==void 0?H:0):0}}]:[]));return n.a.createElement("div",{"data-attr":"manage-events-table"},n.a.createElement(Q.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0,buttons:_&&n.a.createElement(i.a,null)}),_&&n.a.createElement(f.a,{style:{marginBottom:16,display:"flex",alignItems:"center"},message:"Actions have moved to the Events tab",description:n.a.createElement(n.a.Fragment,null,'Actions are now called calculated events and can be found in the events tab. You can create a new calculated event (formerly known as an Action) by clicking the "New calculated event" button.'),type:"info",showIcon:!0,closable:!0}),n.a.createElement(O.a,{tab:O.b.EventDefinitions}),Z&&!(Z!=null&&Z.is_event_property_usage_enabled)&&n.a.createElement(P.a,{tab:"Event Definitions"}),n.a.createElement("div",{className:"flex justify-between items-center gap-2 mb-4"},n.a.createElement(B.LemonInput,{type:"search",placeholder:"Search for events",onChange:function(r){return re({event:r||""})},value:c.event}),_&&n.a.createElement("div",{className:"flex items-center gap-2"},n.a.createElement("span",null,"Type:"),n.a.createElement(B.LemonSelect,{value:c.event_type,options:te,"data-attr":"event-type-filter",dropdownMatchSelectWidth:!1,onChange:function(r){re({event_type:r})},size:"small"}))),n.a.createElement(G.a,{columns:ce,className:"events-definition-table","data-attr":"events-definition-table","data-tooltip":"data-management-table",loading:v,rowKey:"id",pagination:{controlled:!0,currentPage:(C=s==null?void 0:s.page)!==null&&C!==void 0?C:1,entryCount:(g=s==null?void 0:s.count)!==null&&g!==void 0?g:0,pageSize:d.a,onForward:s.next?function(){oe(s.next)}:void 0,onBackward:s.previous?function(){oe(s.previous)}:void 0},expandable:{expandedRowRender:function(r){return Object(d.d)(r)?null:n.a.createElement(N.a,{definition:r})},rowExpandable:function(r){return!Object(d.d)(r)},noIndent:!0},dataSource:s.results,emptyState:"No event definitions",nouns:["event","events"]}))}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(ee,b,e){"use strict";e.d(b,"a",function(){return t});var L=e("./node_modules/antd/es/alert/index.js"),I=e("./node_modules/react/index.js"),y=e.n(I);function t(W){var U=W.tab;return y.a.createElement(L.a,{type:"info",showIcon:!0,message:"".concat(U," are not enabled for your instance."),description:y.a.createElement(y.a.Fragment,null,"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",y.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",y.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events.")})}try{t.displayName="UsageDisabledWarning",t.__docgenInfo={description:"",displayName:"UsageDisabledWarning",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"]={docgenInfo:t.__docgenInfo,name:"UsageDisabledWarning",path:"frontend/src/scenes/events/UsageDisabledWarning.tsx#UsageDisabledWarning"})}catch(W){}},"./frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx":function(ee,b,e){"use strict";e.d(b,"a",function(){return A});var L=e("./node_modules/core-js/modules/es.array.map.js"),I=e.n(L),y=e("./node_modules/react/index.js"),t=e.n(y),W=e("./node_modules/clsx/dist/clsx.m.js"),U=e("./node_modules/kea/lib/index.esm.js"),k=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),T=e("./frontend/src/lib/components/LemonButton/index.ts"),M=e("./node_modules/antd/es/popconfirm/index.js"),J=e("./frontend/src/scenes/toolbar-launch/authorizedUrlsLogic.ts"),p=e("./frontend/src/lib/utils.tsx"),K=e("./frontend/src/lib/components/LemonRow/index.ts"),n=e("./frontend/src/lib/components/icons.tsx"),x=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),G=e("./node_modules/kea-forms/lib/index.js"),j=e.n(G),d=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),Y=e("./frontend/src/lib/forms/Field.tsx"),$=e("./node_modules/antd/lib/typography/index.js"),R=e.n($);function S(f){var O=f.numberOfResults,P=f.isSearching,D=f.isAddingEntry;return O>0?null:P?t.a.createElement(K.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized URLs that match your search."):D?null:t.a.createElement(K.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized URLs or domains. Add one to get started.")}function N(f){var O=f.actionId,P=Object(J.b)({actionId:O}),D=Object(U.useValues)(P),o=D.isProposedUrlSubmitting,z=Object(U.useActions)(P),u=z.cancelProposingUrl;return t.a.createElement(G.Form,{logic:J.b,props:{actionId:O},formKey:"proposedUrl",enableFormOnSubmit:!0,className:"w-full space-y-2"},t.a.createElement(Y.a,{name:"url"},t.a.createElement(d.a,{autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)","data-attr":"url-input"})),t.a.createElement("div",{className:"flex justify-end gap-2"},t.a.createElement(T.a,{type:"secondary",onClick:u},"Cancel"),t.a.createElement(T.a,{htmlType:"submit",type:"primary",disabled:o,"data-attr":"url-save"},"Save")))}function A(f){var O=f.pageKey,P=f.actionId,D=Object(J.b)({actionId:P}),o=Object(U.useValues)(D),z=o.appUrlsKeyed,u=o.suggestionsLoading,E=o.searchTerm,i=o.launchUrl,X=o.editUrlIndex,Q=o.isAddUrlFormVisible,B=Object(U.useActions)(D),te=B.addUrl,ne=B.removeUrl,F=B.setSearchTerm,C=B.newUrl,g=B.setEditUrlIndex;return t.a.createElement("div",null,t.a.createElement("div",{className:"flex items-center mb-4 gap-2 justify-between"},t.a.createElement(d.a,{type:"search",autoFocus:O==="toolbar-launch"&&!Object(p.X)(),placeholder:"Search for authorized URLs",onChange:F,value:E}),t.a.createElement(T.a,{onClick:C,type:"secondary",icon:t.a.createElement(n.IconPlus,null),"data-attr":"toolbar-add-url"},"Add",O==="toolbar-launch"&&" authorized URL")),u?t.a.createElement(K.a,{outlined:!0,fullWidth:!0,size:"large",key:-1},t.a.createElement(x.a,{className:"text-xl"})):t.a.createElement("div",{className:"space-y-2"},Q&&t.a.createElement(K.a,{outlined:!0,fullWidth:!0,size:"large"},t.a.createElement(N,{actionId:P})),t.a.createElement(S,{numberOfResults:z.length,isSearching:E.length>0,isAddingEntry:Q}),z.map(function(m,Z){return t.a.createElement("div",{key:Z,className:Object(W.a)("border rounded flex items-center py-2 px-4 min-h-14")},X===Z?t.a.createElement(N,{actionId:P}):t.a.createElement(t.a.Fragment,null,m.type==="suggestion"&&t.a.createElement(k.a,{type:"highlight",className:"mr-4"},"Suggestion"),t.a.createElement(R.a.Text,{ellipsis:{tooltip:m.url},className:"text-muted-alt flex-1"},m.url),t.a.createElement("div",{className:"Actions flex space-x-2 shrink-0"},m.type==="suggestion"?t.a.createElement(T.a,{onClick:function(){return te(m.url)},icon:t.a.createElement(n.IconPlus,null),"data-attr":"toolbar-apply-suggestion"},"Apply suggestion"):t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{icon:t.a.createElement(n.IconOpenInApp,null),href:i(m.url),tooltip:"Launch toolbar",center:!0,className:"ActionButton","data-attr":"toolbar-open"},"Launch"),t.a.createElement(T.a,{icon:t.a.createElement(n.IconEdit,null),onClick:function(){return g(m.originalIndex)},tooltip:"Edit",center:!0,className:"ActionButton"}),t.a.createElement(M.a,{placement:"topRight",title:t.a.createElement(t.a.Fragment,null,"Are you sure you want to remove this authorized url?"),onConfirm:function(){return ne(Z)}},t.a.createElement(T.a,{icon:t.a.createElement(n.IconDelete,null),tooltip:"Remove URL",center:!0,className:"ActionButton"}))))))})))}try{A.displayName="AuthorizedUrls",A.__docgenInfo={description:"",displayName:"AuthorizedUrls",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx#AuthorizedUrls"]={docgenInfo:A.__docgenInfo,name:"AuthorizedUrls",path:"frontend/src/scenes/toolbar-launch/AuthorizedUrls.tsx#AuthorizedUrls"})}catch(f){}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss":function(ee,b,e){var L=e("./node_modules/css-loader/dist/runtime/api.js");b=L(!1),b.push([ee.i,'.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--muted-alt)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name{display:flex;flex-direction:row;align-items:center}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer;position:relative;overflow:visible}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;bottom:-5px;left:-10px;right:-50px;height:22px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--muted);text-overflow:ellipsis}.events-definition-table .LemonTable__content>table>tbody td.definition-example-type .definition-pill-value{float:right}.events-definition-table .LemonTable__content>table>tbody .definition-pill-value{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;word-break:break-all;max-width:300px;cursor:text}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper{padding:1rem 0 1rem 1rem}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper .event-properties-header{font-weight:600}',""]),ee.exports=b}}]);
