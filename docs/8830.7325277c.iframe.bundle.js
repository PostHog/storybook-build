(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[8830],{"./frontend/src/scenes/persons/PersonScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PersonScene:()=>PersonScene_PersonScene,scene:()=>scene});var dropdown=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/dropdown/index.js"),menu=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/menu/index.js"),tag=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/tag/index.js"),DownOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@18.2.0_react@18.2.0/node_modules/@ant-design/icons/es/icons/DownOutlined.js"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),personsLogic=__webpack_require__("./frontend/src/scenes/persons/personsLogic.tsx"),PersonDisplay=__webpack_require__("./frontend/src/scenes/persons/PersonDisplay.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),PersonScene=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/persons/PersonScene.scss"),PersonScene_default=__webpack_require__.n(PersonScene),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(PersonScene_default(),options);PersonScene_default().locals;var CopyToClipboard=__webpack_require__("./frontend/src/lib/components/CopyToClipboard.tsx"),modal=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/modal/index.js"),es_select=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/select/index.js"),MergeSplitPerson=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/persons/MergeSplitPerson.scss"),MergeSplitPerson_default=__webpack_require__.n(MergeSplitPerson),MergeSplitPerson_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(MergeSplitPerson_default(),MergeSplitPerson_options);MergeSplitPerson_default().locals;var lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),kea_router_lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),api=__webpack_require__("./frontend/src/lib/api.ts"),lemonToast=__webpack_require__("./frontend/src/lib/lemon-ui/lemonToast.tsx"),eventUsageLogic=__webpack_require__("./frontend/src/lib/utils/eventUsageLogic.ts");const mergeSplitPersonLogic=(0,index_esm.kea)([(0,index_esm.props)({}),(0,index_esm.key)((props=>{var _props$person$id;return null!==(_props$person$id=props.person.id)&&void 0!==_props$person$id?_props$person$id:"new"})),(0,index_esm.path)((key=>["scenes","persons","mergeSplitPersonLogic",key])),(0,index_esm.connect)((()=>({actions:[(0,personsLogic.T)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[(0,personsLogic.T)({syncWithUrl:!0}),["persons"]]}))),(0,index_esm.actions)({setSelectedPersonToAssignSplit:id=>({id}),cancel:!0}),(0,lib.loaders)((_ref=>{let{values,actions}=_ref;return{executed:[!1,{execute:async()=>!!(await api.ZP.create("api/person/"+values.person.id+"/split/",{...values.selectedPersonsToAssignSplit?{main_distinct_id:values.selectedPersonsToAssignSplit}:{}})).success&&(lemonToast.UJ.success("Person succesfully split. This may take up to a couple of minutes to complete."),eventUsageLogic.vx.actions.reportPersonSplit(values.person.distinct_ids.length),actions.setSplitMergeModalShown(!1),kea_router_lib.router.actions.push("/persons"),!0)}]}})),(0,index_esm.reducers)((_ref2=>{let{props}=_ref2;return{person:[props.person,{}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:(_,_ref3)=>{let{id}=_ref3;return id}}]}})),(0,index_esm.listeners)((_ref4=>{let{actions,values}=_ref4;return{setListFilters:()=>{actions.loadPersons()},cancel:()=>{values.executedLoading||actions.setSplitMergeModalShown(!1)}}})),(0,index_esm.events)((_ref5=>{let{actions}=_ref5;return{afterMount:[actions.loadPersons]}}))]);var utils=__webpack_require__("./frontend/src/lib/utils.tsx"),LemonBanner=__webpack_require__("./frontend/src/lib/lemon-ui/LemonBanner/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function MergeSplitPerson_MergeSplitPerson(_ref){let{person}=_ref;const logicProps={person},{executedLoading}=(0,index_esm.useValues)(mergeSplitPersonLogic(logicProps)),{execute,cancel}=(0,index_esm.useActions)(mergeSplitPersonLogic(logicProps));return(0,jsx_runtime.jsx)(modal.Z,{visible:!0,title:"Split persons",onCancel:cancel,className:"merge-split-person",okText:"Split persons",onOk:execute,okButtonProps:{loading:executedLoading},cancelButtonProps:{disabled:executedLoading},children:person.distinct_ids.length<2?"Only persons with more than two distinct IDs can be split.":(0,jsx_runtime.jsx)(index_esm.BindLogic,{logic:mergeSplitPersonLogic,props:logicProps,children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(SplitPerson,{})})})})}function SplitPerson(){const{person,executedLoading}=(0,index_esm.useValues)(mergeSplitPersonLogic),{setSelectedPersonToAssignSplit}=(0,index_esm.useActions)(mergeSplitPersonLogic);return person?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("p",{children:"This will split all Distinct IDs for this person into unique persons."}),(0,jsx_runtime.jsxs)("p",{children:["You can select a distinct ID for which all the current properties will be assigned (",(0,jsx_runtime.jsx)("i",{children:"optional"}),"). All other new users will start without any properties."]}),(0,jsx_runtime.jsx)(es_select.Z,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:value=>setSelectedPersonToAssignSplit(value),filterOption:!1,disabled:executedLoading,children:person?.distinct_ids.map((distinct_id=>(0,jsx_runtime.jsx)(es_select.Z.Option,{value:distinct_id,children:distinct_id},distinct_id)))}),(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",className:"mt-4",children:["This will create ",(0,jsx_runtime.jsx)("strong",{children:person.distinct_ids.length-1})," ",(0,utils._6)(person.distinct_ids.length-1,"newÂ person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."]})]}):null}try{MergeSplitPerson_MergeSplitPerson.displayName="MergeSplitPerson",MergeSplitPerson_MergeSplitPerson.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:MergeSplitPerson_MergeSplitPerson.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(__react_docgen_typescript_loader_error){}var react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),LemonTable=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/index.ts"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link/index.ts");function PersonCohorts(){const{cohorts,cohortsLoading,person}=(0,index_esm.useValues)(personsLogic.T),{loadCohorts}=(0,index_esm.useActions)(personsLogic.T);(0,react.useEffect)((()=>{loadCohorts()}),[person]);const columns=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function RenderName(_,cohort){return(0,jsx_runtime.jsx)(Link.r,{to:urls.j.cohort(cohort.id),children:(0,jsx_runtime.jsx)("strong",{children:cohort.name})})},sorter:(a,b)=>(a.name||"").localeCompare(b.name||"")},{title:"Users in cohort",render:function RenderCount(count){return count?.toLocaleString()},dataIndex:"count",sorter:(a,b)=>(a.count||0)-(b.count||0)}];return(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:cohorts||[],loading:cohortsLoading,columns,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var PropertiesTable=__webpack_require__("./frontend/src/lib/components/PropertiesTable/index.ts"),TZLabel=__webpack_require__("./frontend/src/lib/components/TZLabel/index.tsx"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip/index.ts"),types=__webpack_require__("./frontend/src/types.ts"),PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),RelatedGroups=__webpack_require__("./frontend/src/scenes/groups/RelatedGroups.tsx"),groupsAccessLogic=__webpack_require__("./frontend/src/lib/introductions/groupsAccessLogic.ts"),ActivityLog=__webpack_require__("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),humanizeActivity=__webpack_require__("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),teamLogic=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),PersonDeleteModal=__webpack_require__("./frontend/src/scenes/persons/PersonDeleteModal.tsx"),Spinner=__webpack_require__("./frontend/src/lib/lemon-ui/Spinner/Spinner.tsx"),NotFound=__webpack_require__("./frontend/src/lib/components/NotFound/index.tsx"),RelatedFeatureFlags=__webpack_require__("./frontend/src/scenes/persons/RelatedFeatureFlags.tsx"),Query=__webpack_require__("./frontend/src/queries/Query/Query.tsx"),schema=__webpack_require__("./frontend/src/queries/schema.ts"),personDeleteModalLogic=__webpack_require__("./frontend/src/scenes/persons/personDeleteModalLogic.tsx"),DataTable_utils=__webpack_require__("./frontend/src/queries/nodes/DataTable/utils.ts"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts"),sceneTypes=__webpack_require__("./frontend/src/scenes/sceneTypes.ts"),SceneDashboardChoiceRequired=__webpack_require__("./frontend/src/lib/components/SceneDashboardChoice/SceneDashboardChoiceRequired.tsx"),SceneDashboardChoiceModal=__webpack_require__("./frontend/src/lib/components/SceneDashboardChoice/SceneDashboardChoiceModal.tsx"),sceneDashboardChoiceModalLogic=__webpack_require__("./frontend/src/lib/components/SceneDashboardChoice/sceneDashboardChoiceModalLogic.ts"),Dashboard=__webpack_require__("./frontend/src/scenes/dashboard/Dashboard.tsx"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts");const personDashboardLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","persons","personDashboardLogic"]),(0,index_esm.connect)({values:[userLogic.userLogic,["user"]]}),(0,index_esm.selectors)((()=>({personDashboardId:[s=>[s.user],user=>{const currentDashboard=user?.scene_personalisation?.find((choice=>choice.scene===sceneTypes.x.Person))?.dashboard;return"number"==typeof currentDashboard?currentDashboard:currentDashboard?.id}],dashboardLogicProps:[s=>[s.personDashboardId],personDashboardId=>({id:null!=personDashboardId?personDashboardId:void 0,placement:types.F4.Person})]})))]);var LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),dashboardLogic=__webpack_require__("./frontend/src/scenes/dashboard/dashboardLogic.tsx");function PersonDashboard(_ref){let{person}=_ref;const{showSceneDashboardChoiceModal}=(0,index_esm.useActions)((0,sceneDashboardChoiceModalLogic.F)({scene:sceneTypes.x.Person})),{dashboardLogicProps}=(0,index_esm.useValues)(personDashboardLogic),{dashboard}=(0,index_esm.useValues)((0,dashboardLogic.BM)(dashboardLogicProps)),{setProperties}=(0,index_esm.useActions)((0,dashboardLogic.BM)(dashboardLogicProps));return(0,react.useEffect)((()=>{if(dashboard&&person){const current=Array.isArray(dashboard?.filters.properties)?dashboard?.filters.properties:[],hogQLPersonFilter=`person.properties.email = '${person.properties.email}'`,desired={type:types.FT.HogQL,key:hogQLPersonFilter};current.some((item=>item.type===types.FT.HogQL&&item.key===hogQLPersonFilter))||setProperties([...current.filter((item=>item.type===types.FT.HogQL&&!item.key.startsWith("person.properties.email"))),desired])}}),[dashboard,person]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[void 0!==dashboardLogicProps.id?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-end mb-2",children:(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",size:"small","data-attr":"person-dashboard-change-dashboard",onClick:showSceneDashboardChoiceModal,children:"Change dashboard"})}),(0,jsx_runtime.jsx)(Dashboard.Dashboard,{id:dashboardLogicProps.id.toString(),placement:dashboardLogicProps.placement})]}):(0,jsx_runtime.jsx)(SceneDashboardChoiceRequired.C,{open:()=>{showSceneDashboardChoiceModal()},scene:sceneTypes.x.Person}),(0,jsx_runtime.jsx)(SceneDashboardChoiceModal.q,{scene:sceneTypes.x.Person})]})}try{PersonDashboard.displayName="PersonDashboard",PersonDashboard.__docgenInfo={description:"",displayName:"PersonDashboard",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonDashboard.tsx#PersonDashboard"]={docgenInfo:PersonDashboard.__docgenInfo,name:"PersonDashboard",path:"frontend/src/scenes/persons/PersonDashboard.tsx#PersonDashboard"})}catch(__react_docgen_typescript_loader_error){}var NotebookSelectButton=__webpack_require__("./frontend/src/scenes/notebooks/NotebookSelectButton/NotebookSelectButton.tsx"),SessionRecordingsPlaylist=__webpack_require__("./frontend/src/scenes/session-recordings/playlist/SessionRecordingsPlaylist.tsx"),Notebook=__webpack_require__("./frontend/src/scenes/notebooks/Notebook/Notebook.tsx"),preflightLogic=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");const PersonFeedCanvas=_ref=>{let{person}=_ref;const{isCloudOrDev}=(0,index_esm.useValues)(preflightLogic.preflightLogic),id=person.id,personId=person.distinct_ids[0];return(0,jsx_runtime.jsx)(Notebook.a,{editable:!1,shortId:`canvas-${id}`,mode:"canvas",initialContent:{type:"doc",content:[{type:"ph-person-feed",attrs:{height:null,title:null,nodeId:(0,utils.Vj)(),id:personId,__init:null,children:[{type:"ph-person",attrs:{id:personId,nodeId:(0,utils.Vj)(),title:"Info"}},...isCloudOrDev?[{type:"ph-map",attrs:{id:personId,nodeId:(0,utils.Vj)()}}]:[],{type:"ph-properties",attrs:{id:personId,nodeId:(0,utils.Vj)()}}]}}]}})},persons_PersonFeedCanvas=PersonFeedCanvas;try{PersonFeedCanvas.displayName="PersonFeedCanvas",PersonFeedCanvas.__docgenInfo={description:"",displayName:"PersonFeedCanvas",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonFeedCanvas.tsx#PersonFeedCanvas"]={docgenInfo:PersonFeedCanvas.__docgenInfo,name:"PersonFeedCanvas",path:"frontend/src/scenes/persons/PersonFeedCanvas.tsx#PersonFeedCanvas"})}catch(__react_docgen_typescript_loader_error){}const scene={component:PersonScene_PersonScene,logic:personsLogic.T,paramsToProps:_ref=>{let{params:{_:rawUrlId}}=_ref;return{syncWithUrl:!0,urlId:decodeURIComponent(rawUrlId)}}};function PersonCaption(_ref2){let{person}=_ref2;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"text-muted",children:"IDs:"})," ",(0,jsx_runtime.jsx)(CopyToClipboard.D,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"},children:person.distinct_ids[0]}),person.distinct_ids.length>1&&(0,jsx_runtime.jsx)(dropdown.Z,{overlay:(0,jsx_runtime.jsx)(menu.Z,{children:person.distinct_ids.slice(1).map((distinct_id=>(0,jsx_runtime.jsx)(menu.Z.Item,{children:(0,jsx_runtime.jsx)(CopyToClipboard.D,{description:"person distinct ID",iconStyle:{color:"var(--primary)"},children:distinct_id})},distinct_id)))}),trigger:["click"],children:(0,jsx_runtime.jsxs)(tag.Z,{className:"extra-ids",children:["+",person.distinct_ids.length-1,(0,jsx_runtime.jsx)(DownOutlined.Z,{})]})})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"text-muted",children:"First seen:"})," ",person.created_at?(0,jsx_runtime.jsx)(TZLabel.w,{time:person.created_at}):"unknown"]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("span",{className:"text-muted",children:"Merge restrictions:"})," ",person.is_identified?"applied":"none",(0,jsx_runtime.jsx)(src.Link,{to:"https://posthog.com/docs/data/identify#alias-assigning-multiple-distinct-ids-to-the-same-user",children:(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[person.is_identified?(0,jsx_runtime.jsx)("strong",{children:"Cannot"}):"Can"," be used as `alias_id` - click for more info."]}),children:(0,jsx_runtime.jsx)(icons.aUG,{className:"ml-1 text-base shrink-0"})})})]})]})}function PersonScene_PersonScene(){const{showCustomerSuccessDashboards,feedEnabled,person,personLoading,currentTab,splitMergeModalShown,urlId,distinctId}=(0,index_esm.useValues)(personsLogic.T),{loadPersons,editProperty,deleteProperty,navigateToTab,setSplitMergeModalShown,setDistinctId}=(0,index_esm.useActions)(personsLogic.T),{showPersonDeleteModal}=(0,index_esm.useActions)(personDeleteModalLogic.C),{deletedPersonLoading}=(0,index_esm.useValues)(personDeleteModalLogic.C),{groupsEnabled}=(0,index_esm.useValues)(groupsAccessLogic.e),{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic);if(!person)return personLoading?(0,jsx_runtime.jsx)(Spinner.t,{sceneLevel:!0}):(0,jsx_runtime.jsx)(NotFound.T,{object:"Person"});const url=urls.j.personByDistinctId(urlId||person.distinct_ids[0]||String(person.id));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{title:(0,jsx_runtime.jsx)(PersonDisplay.I,{person,noLink:!0,withIcon:"lg",noPopover:!0}),caption:(0,jsx_runtime.jsx)(PersonCaption,{person}),notebookProps:url?{href:url}:void 0,buttons:(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)(NotebookSelectButton.R,{resource:{type:types.Cz.Person,attrs:{id:person?.distinct_ids[0]}},type:"secondary"}),(0,jsx_runtime.jsx)(src.LemonButton,{onClick:()=>showPersonDeleteModal(person,(()=>loadPersons())),disabled:deletedPersonLoading,loading:deletedPersonLoading,type:"secondary",status:"danger","data-attr":"delete-person",children:"Delete person"}),person.distinct_ids.length>1&&(0,jsx_runtime.jsx)(src.LemonButton,{onClick:()=>setSplitMergeModalShown(!0),"data-attr":"merge-person-button",type:"secondary",children:"Split IDs"})]})}),(0,jsx_runtime.jsx)(PersonDeleteModal.S,{}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:currentTab,onChange:tab=>{navigateToTab(tab)},"data-attr":"persons-tabs",tabs:[!!feedEnabled&&{key:types.j3.FEED,label:(0,jsx_runtime.jsx)("span",{"data-attr":"persons-feed-tab",children:"Feed"}),content:(0,jsx_runtime.jsx)(persons_PersonFeedCanvas,{person})},{key:types.j3.PROPERTIES,label:(0,jsx_runtime.jsx)("span",{"data-attr":"persons-properties-tab",children:"Properties"}),content:(0,jsx_runtime.jsx)(PropertiesTable.V,{type:types.ll.Person,properties:person.properties||{},searchable:!0,onEdit:editProperty,sortProperties:!0,embedded:!1,onDelete:key=>deleteProperty(key),filterable:!0})},{key:types.j3.EVENTS,label:(0,jsx_runtime.jsx)("span",{"data-attr":"persons-events-tab",children:"Events"}),content:(0,jsx_runtime.jsx)(Query.A,{query:{kind:schema.OH.DataTableNode,full:!0,hiddenColumns:["person"],source:{kind:schema.OH.EventsQuery,select:(0,DataTable_utils.Qi)(schema.OH.EventsQuery),personId:person.id,after:"-24h"}}})},{key:types.j3.SESSION_RECORDINGS,label:(0,jsx_runtime.jsx)("span",{"data-attr":"person-session-recordings-tab",children:"Recordings"}),content:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[currentTeam?.session_recording_opt_in?null:(0,jsx_runtime.jsx)("div",{className:"mb-4",children:(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"info",children:["Session recordings are currently disabled for this project. To use this feature, please go to your"," ",(0,jsx_runtime.jsx)(src.Link,{to:`${urls.j.projectSettings()}#recordings`,children:"project settings"})," ","and enable it."]})}),(0,jsx_runtime.jsx)("div",{className:"SessionRecordingPlaylistHeightWrapper",children:(0,jsx_runtime.jsx)(SessionRecordingsPlaylist.m,{personUUID:person.uuid,updateSearchParams:!0})})]})},{key:types.j3.COHORTS,label:(0,jsx_runtime.jsx)("span",{"data-attr":"persons-cohorts-tab",children:"Cohorts"}),content:(0,jsx_runtime.jsx)(PersonCohorts,{})},!(!groupsEnabled||!person.uuid)&&{key:types.j3.RELATED,label:(0,jsx_runtime.jsxs)("span",{className:"flex items-center","data-attr":"persons-related-tab",children:["Related groups",(0,jsx_runtime.jsx)(Tooltip.u,{title:"People and groups that have shared events with this person in the last 90 days.",children:(0,jsx_runtime.jsx)(icons.aUG,{className:"ml-1 text-base shrink-0"})})]}),content:(0,jsx_runtime.jsx)(RelatedGroups.S,{id:person.uuid,groupTypeIndex:null})},!!person.uuid&&{key:types.j3.FEATURE_FLAGS,label:(0,jsx_runtime.jsx)("span",{"data-attr":"persons-related-flags-tab",children:"Feature flags"}),content:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"flex space-x-2 items-center mb-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:["Choose ID:",(0,jsx_runtime.jsx)(Tooltip.u,{title:"Feature flags values can depend on person distincts IDs. Turn on persistence in feature flag settings if you'd like these to be constant always.",children:(0,jsx_runtime.jsx)(icons.aUG,{className:"ml-1 text-base"})})]}),(0,jsx_runtime.jsx)(src.LemonSelect,{value:distinctId||person.distinct_ids[0],onChange:value=>value&&setDistinctId(value),options:person.distinct_ids.map((distinct_id=>({label:distinct_id,value:distinct_id}))),"data-attr":"person-feature-flags-select"})]}),(0,jsx_runtime.jsx)(src.LemonDivider,{className:"mb-4"}),(0,jsx_runtime.jsx)(RelatedFeatureFlags.c,{distinctId:distinctId||person.distinct_ids[0]})]})},{key:types.j3.HISTORY,label:"History",content:(0,jsx_runtime.jsx)(ActivityLog.D,{scope:humanizeActivity.jc.PERSON,id:person.id,caption:(0,jsx_runtime.jsx)(LemonBanner.V,{type:"info",children:"This page only shows changes made by users in the PostHog site. Automatic changes from the API aren't shown here."})})},!!showCustomerSuccessDashboards&&{key:types.j3.DASHBOARD,label:"Dashboard",content:(0,jsx_runtime.jsx)(PersonDashboard,{person})}]}),splitMergeModalShown&&person&&(0,jsx_runtime.jsx)(MergeSplitPerson_MergeSplitPerson,{person})]})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/persons/MergeSplitPerson.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".merge-split-person .activity-header{background-color:var(--mid);border-top:1px solid var(--border);border-bottom:1px solid var(--border);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:var(--mid);color:var(--primary-alt);padding:4px 8px;border-radius:var(--radius)}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/persons/PersonScene.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:var(--primary);cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),module.exports=exports}}]);