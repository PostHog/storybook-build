(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{"./frontend/src/scenes/groups/Groups.tsx":function(W,m,e){"use strict";e.r(m),e.d(m,"scene",function(){return r}),e.d(m,"Groups",function(){return o});var _=e("./node_modules/core-js/modules/es.object.to-string.js"),y=e.n(_),A=e("./node_modules/core-js/modules/es.regexp.to-string.js"),u=e.n(A),C=e("./node_modules/core-js/modules/es.object.keys.js"),x=e.n(C),K=e("./node_modules/react/index.js"),n=e.n(K),l=e("./node_modules/kea/lib/index.esm.js"),T=e("./frontend/src/scenes/groups/groupsListLogic.ts"),v=e("./frontend/src/lib/components/PropertiesTable.tsx"),M=e("./frontend/src/scenes/persons/PersonPageHeader.tsx"),I=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),E=e("./frontend/src/lib/components/LemonTable/index.ts"),p=e("./frontend/src/lib/components/Link.tsx"),P=e("./frontend/src/scenes/urls.ts"),O=e("./frontend/src/scenes/groups/GroupsIntroduction.tsx"),a=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),D=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),j=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),s=e("./frontend/src/lib/components/AlertMessage/index.ts"),r={component:o,logic:T.a};function o(){var t=Object(l.useValues)(T.a),d=t.currentTabName,i=t.groupName,f=i.singular,L=i.plural,b=t.groups,g=t.groupsLoading,G=Object(l.useActions)(T.a),h=G.loadGroups,H=Object(l.useValues)(a.b),B=H.groupsAccessStatus;if(B==a.a.HasAccess||B==a.a.HasGroupTypes||B==a.a.NoAccess)return n.a.createElement(n.a.Fragment,null,n.a.createElement(M.a,null),n.a.createElement(O.b,{access:B}));var S=[{title:d,key:"group_key",render:function(R,c){return n.a.createElement(p.a,{to:P.a.group(c.group_type_index.toString(),c.group_key)},Object(D.b)(c.group_key,c.group_properties))}},{title:"First seen",key:"created_at",render:function(R,c){return n.a.createElement(I.b,{time:c.created_at})}}];return n.a.createElement(n.a.Fragment,null,n.a.createElement(M.a,null),n.a.createElement(E.a,{columns:S,rowKey:"group_key",loading:g,dataSource:b.results,expandable:{expandedRowRender:function(R){var c=R.group_properties;return n.a.createElement(v.a,{properties:c})},rowExpandable:function(R){var c=R.group_properties;return!!c&&Object.keys(c).length>0}},pagination:{controlled:!0,onBackward:b.previous?function(){h(b.previous),window.scrollTo(0,0)}:void 0,onForward:b.next?function(){h(b.next),window.scrollTo(0,0)}:void 0},emptyState:n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,{type:"info"},"No ",L," found. Make sure to send properties with your ",f," for them to show up in the list."," ",n.a.createElement("a",{href:"https://posthog.com/docs/user-guides/group-analytics",rel:"noopener",target:"_blank"},"Read more here.")),n.a.createElement(j.a,{language:j.b.JavaScript,wrap:!0},"posthog.group('".concat(f,`', 'id:5', {
`)+"    name: 'Awesome ".concat(d,`',
`)+`    value: 11
});`))}))}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(W,m,e){"use strict";e.d(m,"a",function(){return j});var _=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),y=e.n(_),A=e("./node_modules/@babel/runtime/regenerator/index.js"),u=e.n(A),C=e("./node_modules/core-js/modules/es.array.iterator.js"),x=e.n(C),K=e("./node_modules/core-js/modules/es.object.to-string.js"),n=e.n(K),l=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),T=e.n(l),v=e("./node_modules/core-js/modules/es.array.concat.js"),M=e.n(v),I=e("./node_modules/kea/lib/index.esm.js"),E=e("./frontend/src/lib/api.ts"),p=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),P=e("./frontend/src/lib/utils.tsx"),O=e("./frontend/src/scenes/teamLogic.tsx"),a=e("./frontend/src/scenes/urls.ts"),D=e("./frontend/src/models/groupsModel.ts"),j=Object(I.kea)({path:["groups","groupsListLogic"],connect:{values:[O.a,["currentTeamId"],D.a,["groupTypes","aggregationLabel"],p.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(o){return{url:o}},setTab:function(o){return{tab:o}}}},loaders:function(r){var o=r.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var t=y()(u.a.mark(function i(f){var L;return u.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(L=f.url,!o.groupsEnabled){g.next=6;break}return L=L||"api/projects/".concat(o.currentTeamId,"/groups/?group_type_index=").concat(o.currentTab),g.next=5,E.b.get(L);case 5:return g.abrupt("return",g.sent);case 6:case"end":return g.stop()}},i)}));function d(i){return t.apply(this,arguments)}return d}()}]}},reducers:{currentTab:["-1",{setTab:function(r,o){var t=o.tab;return t}}]},selectors:{currentTabName:[function(s){return[s.currentTab,s.groupTypes,s.aggregationLabel]},function(s,r,o){return s==="-1"?"Persons":r!=null&&r.length?Object(P.i)(o(parseInt(s)).singular):""}],groupName:[function(s){return[s.currentTab,s.aggregationLabel]},function(s,r){return s==="-1"?{singular:"person",plural:"persons"}:r(parseInt(s))}],breadcrumbs:[function(s){return[s.currentTabName,s.currentTab]},function(s,r){return[{name:s,path:a.a.groups(r)}]}]},actionToUrl:function(){return{setTab:function(o){var t=o.tab;return t!=="-1"?a.a.groups(t):a.a.persons()}}},urlToAction:function(r){var o=r.actions,t=r.values;return{"/groups/:id":function(i){var f=i.id;f&&(o.setTab(f),o.loadGroups())},"/persons":function(){t.currentTab!=="-1"&&o.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(W,m,e){"use strict";e.d(m,"a",function(){return E});var _=e("./node_modules/kea/lib/index.esm.js"),y=e("./frontend/src/lib/components/PageHeader.tsx"),A=e("./node_modules/react/index.js"),u=e.n(A),C=e("./node_modules/core-js/modules/es.array.includes.js"),x=e("./node_modules/core-js/modules/es.string.includes.js"),K=e("./node_modules/core-js/modules/es.array.map.js"),n=e("./node_modules/antd/es/tabs/index.js"),l=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),T=e("./frontend/src/lib/utils.tsx"),v=e("./frontend/src/models/groupsModel.ts"),M=e("./frontend/src/scenes/groups/groupsListLogic.ts");function I(){var p=Object(_.useActions)(M.a),P=p.setTab,O=Object(_.useValues)(M.a),a=O.currentTab,D=Object(_.useValues)(v.a),j=D.groupTypes,s=D.aggregationLabel,r=Object(_.useValues)(l.b),o=r.groupsAccessStatus,t=[l.a.HasAccess,l.a.HasGroupTypes,l.a.NoAccess].includes(o);return u.a.createElement(n.a,{activeKey:a,onChange:function(i){return P(i)}},u.a.createElement(n.a.TabPane,{tab:"Persons",key:"-1"}),t?u.a.createElement(n.a.TabPane,{tab:"Introducing Group Analytics",key:"0"}):j.map(function(d){return u.a.createElement(n.a.TabPane,{tab:Object(T.i)(s(d.group_type_index).plural),key:d.group_type_index})}))}function E(p){var P=p.hideGroupTabs,O=Object(_.useValues)(v.a),a=O.showGroupsOptions;return u.a.createElement(u.a.Fragment,null,u.a.createElement(y.a,{title:"Persons".concat(a?" & Groups":""),caption:"A catalog of your product's end users".concat(a?" and groups":"",".")}),!P&&a&&u.a.createElement(I,null))}try{E.displayName="PersonPageHeader",E.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:E.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(p){}}}]);
