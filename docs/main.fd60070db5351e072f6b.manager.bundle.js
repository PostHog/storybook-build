(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1952:function(module,exports,__webpack_require__){__webpack_require__(1953),__webpack_require__(3283),__webpack_require__(3292),__webpack_require__(3293),__webpack_require__(3284),__webpack_require__(3287),__webpack_require__(3286),__webpack_require__(3288),__webpack_require__(3285),__webpack_require__(3290),__webpack_require__(3291),module.exports=__webpack_require__(3289)},2057:function(module,exports){},2098:function(module,exports){},2135:function(module,exports){},2189:function(module,exports){},2210:function(module,exports){},3289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1868),__webpack_require__(3218),__webpack_require__(3225),__webpack_require__(1882);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=__webpack_require__(363),types=__webpack_require__(1918),toConsumableArray=(__webpack_require__(1894),__webpack_require__(3243),__webpack_require__(362)),toConsumableArray_default=__webpack_require__.n(toConsumableArray),slicedToArray=__webpack_require__(432),slicedToArray_default=__webpack_require__.n(slicedToArray),lazy_WithTooltip=(__webpack_require__(3253),__webpack_require__(1904),__webpack_require__(1649)),bar_button=__webpack_require__(853),icon=__webpack_require__(123),dist_esm=__webpack_require__(6),defaultConnection={apiHost:"",apiKey:""},constants_history=[{apiHost:"",apiKey:""},{apiHost:"http://localhost:8000",apiKey:""},{apiHost:"https://app.posthog.com",apiKey:""}],Button=__webpack_require__(1925);__webpack_require__(3256),__webpack_require__(3257),__webpack_require__(3258),__webpack_require__(3259),__webpack_require__(3260),__webpack_require__(3261),__webpack_require__(3263),__webpack_require__(3264),__webpack_require__(3271),__webpack_require__(3276),__webpack_require__(3279),__webpack_require__(3280),__webpack_require__(1911),__webpack_require__(3281);function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var ApiHistory_ApiHistory=function ApiHistory(_ref){var saveApi=_ref.saveApi,localHistory=JSON.parse(window.localStorage.getItem("api-storage-history")||"[]"),allOfHistory=function uniques(arr){var _step,obj={},_iterator=_createForOfIteratorHelper(arr);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _a=_step.value;obj[JSON.stringify(_a)]=!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return Object.keys(obj).map((function(k){return JSON.parse(k)}))}([].concat(toConsumableArray_default()(localHistory),toConsumableArray_default()(constants_history)));return react_default.a.createElement("div",{style:{margin:10}},react_default.a.createElement("strong",{style:{display:"block",marginBottom:5}},"History"),allOfHistory.map((function(_ref2){var apiHost=_ref2.apiHost,apiKey=_ref2.apiKey;return react_default.a.createElement("button",{onClick:function onClick(){return saveApi(apiHost,apiKey)},style:{display:"block",width:"100%",marginBottom:3,textAlign:"left",cursor:"pointer"}},react_default.a.createElement("small",{style:{opacity:.8}},"Host:")," ",apiHost||"",react_default.a.createElement("br",null),react_default.a.createElement("small",{style:{opacity:.8}},"Key:")," ",apiKey?"".concat(apiKey.substring(0,10),"..."):"")})))},ApiForm_ApiForm=function ApiForm(_ref){var saveApi=_ref.saveApi,selectedConnection=_ref.selectedConnection,_useState=Object(react.useState)(selectedConnection.apiHost),_useState2=slicedToArray_default()(_useState,2),apiHost=_useState2[0],setApiHost=_useState2[1],_useState3=Object(react.useState)(selectedConnection.apiKey),_useState4=slicedToArray_default()(_useState3,2),apiKey=_useState4[0],setApiKey=_useState4[1];return react_default.a.createElement("div",null,react_default.a.createElement("div",{style:{margin:10}},"API Host:",react_default.a.createElement("br",null),react_default.a.createElement("input",{value:apiHost,onChange:function onChange(e){return setApiHost(e.target.value)},style:{width:"100%"}})),react_default.a.createElement("div",{style:{margin:10}},"API Key:",react_default.a.createElement("br",null),react_default.a.createElement("input",{value:apiKey,onChange:function onChange(e){return setApiKey(e.target.value)},style:{width:"100%"}})),react_default.a.createElement("div",{style:{margin:10}},react_default.a.createElement(Button.a,{primary:!0,onClick:function onClick(){return saveApi(apiHost,apiKey)}},"Save")),react_default.a.createElement(ApiHistory_ApiHistory,{saveApi:saveApi}))},ApiSelector=Object(react.memo)((function(){var _useGlobals=Object(dist_esm.m)(),_useGlobals2=slicedToArray_default()(_useGlobals,2),globals=_useGlobals2[0],updateGlobals=_useGlobals2[1],selectedConnection=globals.connection||JSON.parse(window.localStorage.getItem("api-storage")||"false")||defaultConnection,_useState=Object(react.useState)(!1),_useState2=slicedToArray_default()(_useState,2),tooltipShown=_useState2[0],setTooltipShown=_useState2[1];return react_default.a.createElement(lazy_WithTooltip.b,{tooltipShown:tooltipShown,placement:"bottom",tooltip:react_default.a.createElement(ApiForm_ApiForm,{saveApi:function saveApi(apiHost,apiKey){var _updateGlobals,localHistory=JSON.parse(window.localStorage.getItem("api-storage-history")||"[]");[].concat(toConsumableArray_default()(constants_history),toConsumableArray_default()(localHistory)).find((function(h){return h.apiHost===apiHost&&h.apiKey===apiKey}))||(localHistory=[{apiHost:apiHost,apiKey:apiKey}].concat(toConsumableArray_default()(localHistory)),window.localStorage.setItem("api-storage-history",JSON.stringify(localHistory))),window.localStorage.setItem("api-storage",JSON.stringify({apiHost:apiHost,apiKey:apiKey})),updateGlobals(((_updateGlobals={}).connection={apiHost:apiHost,apiKey:apiKey},_updateGlobals)),setTooltipShown(!1)},selectedConnection:selectedConnection})},react_default.a.createElement(bar_button.a,{key:"connection",title:"Choose API connection",style:null!=selectedConnection&&selectedConnection.apiHost?{}:{color:"red"},onClick:function onClick(){return setTooltipShown(!tooltipShown)}},react_default.a.createElement(icon.a,{icon:"globe",style:{marginRight:5}}),null!=selectedConnection&&selectedConnection.apiHost?null==selectedConnection?void 0:selectedConnection.apiHost:"offline"))}));esm.a.register("api-selector-v1",(function(){esm.a.add("api-selector-v1",{title:"Api",type:types.a.TOOL,match:function match(_ref){var viewMode=_ref.viewMode;return!(!viewMode||!viewMode.match(/^(story|docs)$/))},render:function render(){return react_default.a.createElement(ApiSelector,null)}})}))}},[[1952,2,3]]]);