(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(P,i,e){"use strict";e.d(i,"b",function(){return a}),e.d(i,"a",function(){return m});var c=e("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),o=e("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tabs/index.js"),f=e("./frontend/src/scenes/urls.ts"),p=e("./frontend/src/lib/components/Tooltip.tsx"),j=e("./frontend/src/lib/components/icons.tsx"),h=e("./frontend/src/lib/components/TitleWithIcon.tsx"),W=e("./frontend/src/lib/constants.tsx"),y=e("./frontend/src/lib/logic/featureFlagLogic.ts"),t=e("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"),C=e.n(t);let a;(function(n){n.Actions="actions",n.EventDefinitions="events",n.EventPropertyDefinitions="properties",n.IngestionWarnings="warnings"})(a||(a={}));const T={[a.EventPropertyDefinitions]:f.a.eventPropertyDefinitions(),[a.EventDefinitions]:f.a.eventDefinitions(),[a.Actions]:f.a.actions(),[a.IngestionWarnings]:f.a.ingestionWarnings()},D=Object(c.kea)({path:["scenes","events","eventsTabsLogic"],connect:{values:[y.a,["featureFlags"]]},actions:{setTab:n=>({tab:n})},reducers:{tab:[a.EventDefinitions,{setTab:(n,u)=>{let{tab:v}=u;return v}}]},selectors:{showWarningsTab:[n=>[n.featureFlags],n=>!!n[W.i.INGESTION_WARNINGS_ENABLED]]},actionToUrl:()=>({setTab:n=>{let{tab:u}=n;return T[u]||f.a.events()}}),urlToAction:n=>{let{actions:u,values:v}=n;return Object.fromEntries(Object.entries(T).map(O=>{let[x,_]=O;return[_,()=>{v.tab!==x&&u.setTab(x)}]}))}});function m(n){let{tab:u}=n;const{showWarningsTab:v}=Object(c.useValues)(D),{setTab:O}=Object(c.useActions)(D);return Object(t.jsxs)(o.a,{tabPosition:"top",animated:!1,activeKey:u,onTabClick:x=>O(x),children:[Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)("span",{"data-attr":"data-management-events-tab",children:"Events"})},a.EventDefinitions),Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(h.a,{icon:Object(t.jsx)(p.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards.",children:Object(t.jsx)(j.IconInfo,{})}),"data-attr":"data-management-actions-tab",children:"Actions"})},a.Actions),Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(h.a,{icon:Object(t.jsx)(p.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them.",children:Object(t.jsx)(j.IconInfo,{})}),"data-attr":"data-management-event-properties-tab",children:"Event Properties"})},a.EventPropertyDefinitions),v&&Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)("span",{"data-attr":"data-management-warnings-tab",children:"Ingestion Warnings"})},a.IngestionWarnings)]})}try{m.displayName="DataManagementPageTabs",m.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'},{value:'"warnings"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:m.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(n){}},"./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.tsx":function(P,i,e){"use strict";e.r(i),e.d(i,"scene",function(){return N}),e.d(i,"EventPropertyDefinitionsTable",function(){return R});var c=e("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=e.n(c),f=e("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss"),p=e.n(f),j={};j.insert="head",j.singleton=!1;var h=o()(p.a,j),W=p.a.locals||{},y=e("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),t=e("./frontend/src/lib/components/LemonTable/index.ts"),C=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),a=e("./frontend/src/scenes/organizationLogic.tsx"),T=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),D=e("./frontend/src/lib/utils.tsx"),m=e("./frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts"),n=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),u=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),v=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),O=e("./frontend/src/lib/components/PageHeader.tsx"),x=e("./frontend/@posthog/lemon-ui/src/index.ts"),_=e("./frontend/src/lib/components/AlertMessage/index.ts"),U=e("./frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx"),s=e("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const N={component:R,logic:m.b,paramsToProps:()=>({syncWithUrl:!0})};function R(){var L,M,I,A;const{preflight:E}=Object(y.useValues)(v.a),{eventPropertyDefinitions:r,eventPropertyDefinitionsLoading:B,filters:K}=Object(y.useValues)(m.b),{loadEventPropertyDefinitions:S,setFilters:z}=Object(y.useActions)(m.b),{hasDashboardCollaboration:F,hasIngestionTaxonomy:V}=Object(y.useValues)(a.a),H=[{key:"icon",className:"definition-column-icon",render:function(b,l){return Object(s.jsx)(T.b,{definition:l,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(b,l){return Object(s.jsx)(T.b,{definition:l,hideIcon:!0,asLink:!0})},sorter:(d,b)=>d.name.localeCompare(b.name)},...F?[{title:"Tags",key:"tags",render:function(b,l){var g;return Object(s.jsx)(C.a,{tags:(g=l.tags)!==null&&g!==void 0?g:[],staticOnly:!0})}}]:[],...V?[{title:Object(s.jsx)(U.b,{tooltipPlacement:"bottom"}),key:"query_usage_30_day",align:"right",render:function(b,l){return l.query_usage_30_day?Object(D.Q)(l.query_usage_30_day):Object(s.jsx)("span",{className:"text-muted",children:"\u2014"})},sorter:(d,b)=>{var l,g;return((l=d==null?void 0:d.query_usage_30_day)!==null&&l!==void 0?l:0)-((g=b==null?void 0:b.query_usage_30_day)!==null&&g!==void 0?g:0)}}]:[]];return Object(s.jsxs)("div",{"data-attr":"manage-events-table",children:[Object(s.jsx)(O.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),E&&!(E!=null&&E.is_event_property_usage_enabled)?Object(s.jsx)(u.a,{}):((L=r.results)===null||L===void 0||(M=L[0])===null||M===void 0?void 0:M.query_usage_30_day)===null&&Object(s.jsx)("div",{className:"mb-4",children:Object(s.jsx)(_.a,{type:"warning",children:"We haven't been able to get usage and volume data yet. Please check back later."})}),Object(s.jsx)(n.a,{tab:n.b.EventPropertyDefinitions}),Object(s.jsx)("div",{className:"mb-4",children:Object(s.jsx)(x.LemonInput,{type:"search",placeholder:"Search for properties",onChange:d=>z({property:d||""}),value:K.property})}),Object(s.jsx)(t.a,{columns:H,className:"event-properties-definition-table","data-attr":"event-properties-definition-table",loading:B,rowKey:"id",pagination:{controlled:!0,currentPage:(I=r==null?void 0:r.page)!==null&&I!==void 0?I:1,entryCount:(A=r==null?void 0:r.count)!==null&&A!==void 0?A:0,pageSize:m.a,onForward:r.next?()=>{S(r.next)}:void 0,onBackward:r.previous?()=>{S(r.previous)}:void 0},dataSource:r.results,emptyState:"No event property definitions",nouns:["property","properties"]})]})}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(P,i,e){"use strict";e.d(i,"a",function(){return p});var c=e("./frontend/src/lib/components/AlertMessage/index.ts"),o=e("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"),f=e.n(o);function p(){return Object(o.jsxs)(c.a,{type:"info",children:[Object(o.jsx)("div",{className:"text-base mb-1",children:"Event usage information is not enabled for your instance."}),Object(o.jsxs)("p",{className:"font-normal",children:["You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",Object(o.jsx)("pre",{style:{display:"inline"},children:"ASYNC_EVENT_PROPERTY_USAGE=1"}),". Please note, enabling this environment variable ",Object(o.jsx)("b",{children:"may increase load considerably in your infrastructure"}),", particularly if you have a large volume of events."]})]})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss":function(P,i,e){var c=e("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");i=c(!1),i.push([P.i,'.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--muted-alt)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;left:-10px;right:-50px;height:22px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--muted);text-overflow:ellipsis}',""]),P.exports=i}}]);
