(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{"./frontend/src/lib/components/Drawer.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return pe});var D=e("./node_modules/@babel/runtime/helpers/extends.js"),o=e.n(D),R=e("./node_modules/react/index.js"),je=e.n(R),f=e("./node_modules/antd/es/drawer/index.js"),he=e("./frontend/src/vars.ts");function pe(Pe){return je.a.createElement(f.a,o()({},Pe,{zIndex:he.a.zDrawer}))}try{pe.displayName="Drawer",pe.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:pe.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(Pe){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return at}),e.d(j,"b",function(){return it});var D=e("./node_modules/core-js/modules/es.array.for-each.js"),o=e("./node_modules/core-js/modules/es.array.from.js"),R=e("./node_modules/core-js/modules/es.array.map.js"),je=e("./node_modules/core-js/modules/es.array.reduce.js"),f=e("./node_modules/core-js/modules/es.array.slice.js"),he=e("./node_modules/core-js/modules/es.number.constructor.js"),pe=e("./node_modules/core-js/modules/es.string.iterator.js"),Pe=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Ce=e("./node_modules/@babel/runtime/helpers/extends.js"),ke=e.n(Ce),we=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Be=e.n(we),u=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ye=e.n(u),ue=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ve=e.n(ue),Z=e("./node_modules/react/index.js"),B=e.n(Z),fe=e("./node_modules/antd/es/table/index.js"),Ke=e("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),H=e("./frontend/src/lib/utils/responsiveUtils.tsx"),et=e("./node_modules/react-resizable/index.js");function $e(y){var C=y.children,S=y.onResize,b=y.initialWidth,X=y.height,g=y.minConstraints,M=y.maxConstraints,U=B.a.createElement("div",{className:"inner-wrapper"},B.a.createElement("div",{className:"inner-text"},C)),K=Object(Z.useState)(b),ae=ye()(K,2),ie=ae[0],E=ae[1],A=Object(Z.useState)(!1),p=ye()(A,2),I=p[0],W=p[1],F=function(T,G){E(G.size.width),S(T,G)};return B.a.createElement("div",{className:"react-resizable-wrapper"},B.a.createElement(et.ResizableBox,{width:ie,height:X,minConstraints:g,maxConstraints:M,axis:"x",handle:B.a.createElement("span",{className:"resizable-handle","data-drag-active":I}),onResize:F,onResizeStart:function(T){T.preventDefault(),W(!0)},onResizeStop:function(){W(!1)},draggableOpts:{enableUserSelectHack:!0}},U))}function te(y){var C=y.columns,S=y.handleResize,b=y.layoutEffect,X=y.minColumnWidth,g=y.expandable,M=60;return Object(Z.useLayoutEffect)(function(){return typeof b=="function"?b():void 0}),B.a.createElement("div",{className:"resizable-virtual-table-header"},!!g&&B.a.createElement("div",{className:"left-spacer",style:{width:(g==null?void 0:g.columnWidth)||at}}),C.map(function(U,K){var ae=U.title,ie=U.width,E=U.widthConstraints,A=E!=null&&E.length?E[0]:X,p=E!=null&&E.length?E[1]:1/0;return B.a.createElement($e,{key:K,initialWidth:ie!=null?ie:A,height:M,onResize:S(K),minConstraints:[A,M],maxConstraints:[p,M]},ae)}))}var Te=B.a.memo(te);try{te.displayName="VirtualTableHeader",te.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:te.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(y){}var re=e("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),se=e("./frontend/src/lib/hooks/useWindowSize.js"),Ie=function(){var C=Object(se.a)(),S=C.width,b=Object(Z.useState)(H.a),X=ye()(b,2),g=X[0],M=X[1];return Object(Z.useEffect)(function(){M(H.a)},[S]),g},ce=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),xe=e.n(ce),Re=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),tt=e.n(Re),Ae={};Ae.insert="head",Ae.singleton=!1;var pt=xe()(tt.a,Ae),ve=tt.a.locals||{};function nt(y,C){var S=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);C&&(b=b.filter(function(X){return Object.getOwnPropertyDescriptor(y,X).enumerable})),S.push.apply(S,b)}return S}function Ye(y){for(var C=1;C<arguments.length;C++){var S=arguments[C]!=null?arguments[C]:{};C%2?nt(Object(S),!0).forEach(function(b){Be()(y,b,S[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):nt(Object(S)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(S,b))})}return y}var He=re.b,at=48;function it(y){var C=y.columns,S=C===void 0?[]:C,b=y.components,X=Ve()(y,["columns","components"]),g=Ie(),M=Object(H.d)(g),U=Object(Z.useState)(function(){var k=S.length;return S.map(function(v,h){return Ye(Ye({},v),{},{width:h===k?void 0:M})})}),K=ye()(U,2),ae=K[0],ie=K[1],E=Object(Z.useState)(ae),A=ye()(E,2),p=A[0],I=A[1],W=Object(Z.useState)(!1),F=ye()(W,2),N=F[0],T=F[1],G=Object(Z.useRef)(null),ge=Object(Z.useRef)(null),me=Object(Z.useRef)();function De(k){var v;if(k){var h;return ge==null||(h=ge.current)===null||h===void 0?void 0:h.classList.add("scrollable-right")}return ge==null||(v=ge.current)===null||v===void 0?void 0:v.classList.remove("scrollable-right")}function Ge(){if(ge.current){var k=ge.current;k.offsetWidth+k.scrollLeft<k.scrollWidth?De(!0):De(!1)}}function Le(){var k,v=(k=G.current)===null||k===void 0?void 0:k.querySelectorAll(".ant-table-content colgroup col");if(v){var h=Array.from(v);return h.map(function(P){return P.style.width?Object(H.e)(P.style.width):void 0})}return[]}function Ue(k,v){var h,P=(h=G.current)===null||h===void 0?void 0:h.querySelector(".ant-table-content colgroup col:nth-child(".concat(k+1+Number(!!X.expandable),"):not(:last-child)"));P==null||P.setAttribute("style","width: ".concat(v,"px;"))}function Ze(){var k,v=(k=G.current)===null||k===void 0?void 0:k.querySelector(".ant-table-content colgroup col:last-child");v==null||v.removeAttribute("style")}function be(){var k,v=(k=G.current)===null||k===void 0?void 0:k.querySelector(".resizable-virtual-table-header");if(v!=null&&v.childNodes){var h=Array.from(v==null?void 0:v.childNodes),P=h.reduce(function(oe,le){var _=le.offsetWidth;return oe+(_!=null?_:0)},0);if(P){var z,V=(z=G.current)===null||z===void 0?void 0:z.querySelector(".ant-table table");V==null||V.setAttribute("style","width: ".concat(P,"px;"))}}Ze()}var J=function(v){return function(h,P){var z=P.size.width;me.current&&cancelAnimationFrame(me.current),me.current=requestAnimationFrame(function(){Ue(v,z),be()}),Ge()}};function Fe(k){var v,h=(v=G.current)===null||v===void 0?void 0:v.querySelector(".ant-table table"),P=h==null?void 0:h.clientWidth;if(!(!P||P===k)){me.current&&cancelAnimationFrame(me.current);var z=k/P,V=Le();me.current=requestAnimationFrame(function(){T(!1),I(function(oe){var le=S.length-1,_=oe.map(function(q,ee){var Q;return ee===le?q:Ye(Ye({},q),{},{width:Math.max(((Q=V[ee+Number(!!X.expandable)])!==null&&Q!==void 0?Q:0)*z,M)})});return _.slice(0,le).forEach(function(q,ee){var Q;Ue(ee,(Q=q.width)!==null&&Q!==void 0?Q:M)}),be(),_}),T(!0)})}}var Xe=new Ke.a(function(k){k.forEach(function(v){var h=v.contentRect.width;return Fe(h)})});return Object(Z.useEffect)(function(){ie(function(k){var v=k.length;return k.map(function(h,P){return P===v?h:Ye(Ye({},h),{},{render:S[P].render})})})},[S]),Object(Z.useLayoutEffect)(function(){if(G.current){Xe.observe(G.current);var k=G.current.clientWidth,v=ae.reduce(function(P,z){var V=z.span;return P+V},0),h=Object(H.c)(k,v);ie(function(P){var z=P.length,V=P.map(function(oe,le){return le===z?oe:Ye(Ye({},oe),{},{width:Math.max(oe.defaultWidth||h*oe.span,M)})});return I(V),V}),Ge(),T(!0)}},[]),B.a.createElement("div",{ref:G,className:"resizable-table-scroll-container",onScroll:Ge},B.a.createElement("div",{ref:ge,className:"table-gradient-overlay"},N&&B.a.createElement(Te,{columns:p,handleResize:J,layoutEffect:be,minColumnWidth:M,expandable:X.expandable}),B.a.createElement(fe.a,ke()({columns:ae,components:Ye(Ye({},b),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},X))))}try{it.displayName="ResizableTable",it.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:it.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(y){}try{He.displayName="TableConfig",He.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:He.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(y){}},"./frontend/src/lib/hooks/useWindowSize.js":function(Y,j,e){"use strict";e.d(j,"a",function(){return pe});var D=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=e.n(D),R=e("./node_modules/@babel/runtime/helpers/typeof.js"),je=e.n(R),f=e("./node_modules/react/index.js"),he=e.n(f);function pe(){var Pe=(typeof window=="undefined"?"undefined":je()(window))==="object";function Ce(){return{width:Pe?window.innerWidth:void 0,height:Pe?window.innerHeight:void 0}}var ke=Object(f.useState)(Ce),we=o()(ke,2),Be=we[0],u=we[1];return Object(f.useEffect)(function(){if(!Pe)return!1;function ye(){u(Ce())}return window.addEventListener("resize",ye),function(){return window.removeEventListener("resize",ye)}},[]),Be}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return Be});var D=e("./node_modules/core-js/modules/es.array.includes.js"),o=e.n(D),R=e("./node_modules/core-js/modules/es.string.includes.js"),je=e.n(R),f=e("./node_modules/react/index.js"),he=e.n(f),pe=e("./node_modules/kea/lib/index.esm.js"),Pe=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),Ce=e("./node_modules/rc-select/es/index.js"),ke=e("./frontend/src/lib/components/Link.tsx"),we=e("./frontend/src/lib/introductions/groupsAccessLogic.ts");function Be(u){var ye=u.value,ue=Object(pe.useValues)(we.b),Ve=ue.groupsAccessStatus;return[we.a.HasAccess,we.a.HasGroupTypes,we.a.NoAccess].includes(Ve)?he.a.createElement(Ce.default.Option,{key:"groups",value:ye,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},he.a.createElement(Pe.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",he.a.createElement(ke.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{Be.displayName="GroupsIntroductionOption",Be.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:Be.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(u){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(Y,j,e){"use strict";e.d(j,"d",function(){return te}),e.d(j,"c",function(){return Te}),e.d(j,"e",function(){return re}),e.d(j,"a",function(){return se}),e.d(j,"b",function(){return Ie});var D=e("./node_modules/core-js/modules/es.array.filter.js"),o=e.n(D),R=e("./node_modules/core-js/modules/es.array.iterator.js"),je=e.n(R),f=e("./node_modules/core-js/modules/es.array.map.js"),he=e.n(f),pe=e("./node_modules/core-js/modules/es.object.entries.js"),Pe=e.n(pe),Ce=e("./node_modules/core-js/modules/es.object.from-entries.js"),ke=e.n(Ce),we=e("./node_modules/core-js/modules/es.object.values.js"),Be=e.n(we),u=e("./node_modules/core-js/modules/es.regexp.exec.js"),ye=e.n(u),ue=e("./node_modules/core-js/modules/es.string.replace.js"),Ve=e.n(ue),Z=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),B=e.n(Z),fe=e("./node_modules/antd/lib/_util/responsiveObserve.js"),Ke=e.n(fe),H=e("./frontend/src/lib/components/ResizableTable/index.tsx"),et=Object.fromEntries(Object.entries(fe.responsiveMap).map(function(ce){var xe=B()(ce,2),Re=xe[0],tt=xe[1];return[Re,re(tt)]})),$e=Object.values(et).sort(function(ce,xe){return ce-xe});function te(ce){return ce<576?150:50}function Te(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,Re=ce-H.a;return Math.floor(Re/xe)}function re(ce){return parseFloat(ce.replace(/[^\d.]/g,""))}function se(){var ce=window.innerWidth,xe=$e.filter(function(Re){return ce>=Re}).pop();return xe||$e[0]}function Ie(ce){return et[ce]||-1}try{te.displayName="getMinColumnWidth",te.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:te.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(ce){}try{re.displayName="parsePixelValue",re.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:re.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(ce){}try{Ie.displayName="getBreakpoint",Ie.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:Ie.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(ce){}},"./frontend/src/scenes/events/index.ts":function(Y,j,e){"use strict";var D=e("./frontend/src/scenes/events/EventDetails.tsx"),o=e("./frontend/src/scenes/events/EventElements.tsx"),R=e("./frontend/src/scenes/events/EventsTable.tsx");e.d(j,"a",function(){return R.a});var je=e("./frontend/src/scenes/events/eventsTableLogic.ts")},"./frontend/src/scenes/groups/RelatedGroups.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return $e});var D=e("./node_modules/react/index.js"),o=e.n(D),R=e("./node_modules/kea/lib/index.esm.js"),je=e("./frontend/src/lib/components/LemonTable/index.ts"),f=e("./frontend/src/models/groupsModel.ts"),he=e("./node_modules/@ant-design/icons/lib/icons/UserOutlined.js"),pe=e.n(he),Pe=e("./frontend/src/lib/utils.tsx"),Ce=e("./frontend/src/scenes/persons/PersonHeader.tsx"),ke=e("./node_modules/core-js/modules/es.array.concat.js"),we=e("./node_modules/core-js/modules/es.array.iterator.js"),Be=e("./node_modules/core-js/modules/es.object.to-string.js"),u=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ye=e("./node_modules/@babel/runtime/regenerator/index.js"),ue=e.n(ye),Ve=e("./node_modules/regenerator-runtime/runtime.js"),Z=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),B=e.n(Z),fe=e("./frontend/src/lib/api.ts"),Ke=e("./frontend/src/scenes/teamLogic.ts"),H=Object(R.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[Ke.a,["currentTeamId"]]},props:{},key:function(Te){var re;return"".concat((re=Te.groupTypeIndex)!==null&&re!==void 0?re:"person","-").concat(Te.id)},actions:function(){return{loadRelatedActors:!0}},loaders:function(Te){var re=Te.values,se=Te.props;return{relatedActors:[[],{loadRelatedActors:function(){var Ie=B()(ue.a.mark(function xe(){var Re;return ue.a.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Re="api/projects/".concat(re.currentTeamId,"/groups/related?").concat(Object(Pe.Ab)({group_type_index:se.groupTypeIndex,id:se.id})),Ae.next=3,fe.a.get(Re);case 3:return Ae.abrupt("return",Ae.sent);case 4:case"end":return Ae.stop()}},xe)}));function ce(){return Ie.apply(this,arguments)}return ce}(),setGroup:function(){return[]}}]}},events:function(Te){var re=Te.actions;return{afterMount:re.loadRelatedActors}}}),et=e("./frontend/src/scenes/persons/GroupActorHeader.tsx");function $e(te){var Te=te.groupTypeIndex,re=te.id,se=Object(R.useValues)(H({groupTypeIndex:Te,id:re})),Ie=se.relatedActors,ce=se.relatedActorsLoading,xe=Object(R.useValues)(f.a),Re=xe.aggregationLabel,tt=[{title:"Type",key:"type",render:function(pt,ve){return ve.type==="group"?o.a.createElement(o.a.Fragment,null,Object(Pe.j)(Re(ve.group_type_index).singular)):o.a.createElement(o.a.Fragment,null,o.a.createElement(pe.a,null)," Person")}},{title:"id",key:"id",render:function(pt,ve){return ve.type=="group"?o.a.createElement(et.a,{actor:ve}):o.a.createElement(Ce.a,{person:ve,withIcon:!1})}}];return o.a.createElement(je.a,{dataSource:Ie,columns:tt,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},loading:ce,nouns:["related group","related groups"],emptyState:"No related groups found"})}try{$e.displayName="RelatedGroups",$e.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:$e.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(te){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return X});var D=e("./node_modules/core-js/modules/es.array.concat.js"),o=e("./node_modules/core-js/modules/es.array.map.js"),R=e("./node_modules/core-js/modules/es.array.splice.js"),je=e("./node_modules/@babel/runtime/helpers/extends.js"),f=e.n(je),he=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),pe=e.n(he),Pe=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ce=e.n(Pe),ke=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),we=e.n(ke),Be=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),u=e.n(Be),ye={};ye.insert="head",ye.singleton=!1;var ue=we()(u.a,ye),Ve=u.a.locals||{},Z=e("./node_modules/react/index.js"),B=e.n(Z),fe=e("./node_modules/kea/lib/index.esm.js"),Ke=e("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),H=e("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),et=e("./node_modules/antd/es/button/index.js"),$e=e("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),te=e("./frontend/src/types.ts"),Te=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),re=e.n(Te),se=e("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),Ie=e("./frontend/src/lib/components/icons.tsx"),ce=Object(se.c)(function(){return B.a.createElement("span",{className:"action-filter-drag-handle"},B.a.createElement(Ie.SortableDragIcon,null))}),xe=Object(se.b)(function(g){var M=g.filterCount,U=g.filterIndex,K=re()(g,["filterCount","filterIndex"]),ae=M>1;return B.a.createElement("div",{className:"draggable-action-filter ".concat(ae?"drag-handle-visible":"")},ae?B.a.createElement(ce,null):B.a.createElement("span",{style:{marginLeft:4}}),B.a.createElement(H.a,f()({},K,{filterCount:M,index:U,key:U})))}),Re=Object(se.a)(function(g){var M=g.children;return B.a.createElement("div",null,M)});try{xe.displayName="SortableActionFilterRow",xe.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:xe.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(g){}try{Re.displayName="SortableContainer",Re.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:Re.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(g){}var tt=e("./node_modules/core-js/modules/es.function.name.js"),Ae=e("./node_modules/antd/es/modal/index.js"),pt=e("./node_modules/antd/es/input/index.js"),ve=e("./frontend/src/scenes/insights/utils.ts"),nt=e("./node_modules/core-js/modules/es.array.filter.js"),Ye=Object(fe.kea)({props:{},key:function(M){return M.typeKey},path:function(M){return["scenes","insights","ActionFilter","renameModalLogic",M]},connect:{actions:[Ke.a,["selectFilter"]]},actions:function(){return{setName:function(U){return{name:U}}}},reducers:function(M){var U,K=M.props;return{name:[(U=Object(ve.c)(K.filter))!==null&&U!==void 0?U:"",{setName:function(ie,E){var A=E.name;return A},selectFilter:function(ie,E){var A,p=E.filter;return(A=Object(ve.c)(p))!==null&&A!==void 0?A:""}}]}}});function He(g){var M,U=g.typeKey,K=g.view,ae=Object(fe.useValues)(Ke.a),ie=ae.selectedFilter,E=ae.modalVisible,A=Object(fe.useActions)(Ke.a),p=A.renameFilter,I=A.hideModal,W=Ye({typeKey:U,filter:ie}),F=Object(fe.useValues)(W),N=F.name,T=Object(fe.useActions)(W),G=T.setName,ge=Object(Z.useRef)(null);at(ge,{cursor:"all"},[E]);var me="Rename ".concat(K===te.s.FUNNELS?"funnel step":"graph series");return B.a.createElement(Ae.a,{"data-attr":"filter-rename-modal",visible:E,title:me,footer:B.a.createElement(B.a.Fragment,null,B.a.createElement(et.a,{type:"link",onClick:I},"Cancel"),B.a.createElement(et.a,{type:"primary",onClick:function(){return p(N)}},me)),onCancel:I},"Query series/steps can be renamed to provide a more"," ",B.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",B.a.createElement("br",null),B.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),B.a.createElement(pt.a,{ref:ge,value:N,onPressEnter:function(){return p(N)},onChange:function(Ge){return G(Ge.target.value)},suffix:B.a.createElement("span",{className:"text-muted-alt"},(M=Object(ve.c)(ie,!1))!==null&&M!==void 0?M:"")}))}function at(g,M){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(Z.useEffect)(function(){var K=setTimeout(function(){if(g.current){var ae;(ae=g.current)===null||ae===void 0||ae.focus(M)}},0);return function(){return clearTimeout(K)}},U)}try{He.displayName="RenameModal",He.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:He.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(g){}var it=e("./frontend/src/lib/utils/eventUsageLogic.ts"),y=e("./frontend/src/scenes/teamLogic.ts"),C=e("./node_modules/clsx/dist/clsx.m.js");function S(g,M){var U=Object.keys(g);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(g);M&&(K=K.filter(function(ae){return Object.getOwnPropertyDescriptor(g,ae).enumerable})),U.push.apply(U,K)}return U}function b(g){for(var M=1;M<arguments.length;M++){var U=arguments[M]!=null?arguments[M]:{};M%2?S(Object(U),!0).forEach(function(K){pe()(g,K,U[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(U)):S(Object(U)).forEach(function(K){Object.defineProperty(g,K,Object.getOwnPropertyDescriptor(U,K))})}return g}var X=B.a.forwardRef(function(g,M){var U=g.setFilters,K=g.filters,ae=g.typeKey,ie=g.addFilterDefaultOptions,E=ie===void 0?{}:ie,A=g.mathAvailability,p=A===void 0?H.b.All:A,I=g.hidePropertySelector,W=I===void 0?!1:I,F=g.buttonCopy,N=F===void 0?"":F,T=g.disabled,G=T===void 0?!1:T,ge=g.sortable,me=ge===void 0?!1:ge,De=g.showSeriesIndicator,Ge=De===void 0?!1:De,Le=g.seriesIndicatorType,Ue=Le===void 0?"alpha":Le,Ze=g.showOr,be=Ze===void 0?!1:Ze,J=g.hideFilter,Fe=J===void 0?!1:J,Xe=g.hideRename,k=Xe===void 0?!1:Xe,v=g.horizontalUI,h=v===void 0?!1:v,P=g.fullWidth,z=P===void 0?!1:P,V=g.customRowPrefix,oe=g.customRowSuffix,le=g.rowClassName,_=g.entitiesLimit,q=g.propertyFilterWrapperClassName,ee=g.stripeActionRow,Q=ee===void 0?!0:ee,ft=g.customActions,xt=g.showNestedArrow,Ot=xt===void 0?!1:xt,jt=g.actionsTaxonomicGroupTypes,At=g.propertiesTaxonomicGroupTypes,st=g.hideDeleteBtn,Ft=g.renderRow,Et=g.buttonType,Kt=Et===void 0?"dashed":Et,Tt=g.readOnly,Me=Tt===void 0?!1:Tt,Ht=Object(fe.useValues)(y.a),Gt=Ht.currentTeamId,Qe=Object(Ke.a)({teamId:Gt,setFilters:U,filters:K,typeKey:ae,addFilterDefaultOptions:E}),Dt=Object(fe.useActions)(it.f),Lt=Dt.reportFunnelStepReordered,lt=Object(fe.useValues)(Qe),ct=lt.localFilters,vt=Object(fe.useActions)(Qe),Mt=vt.addFilter,kt=vt.setLocalFilters,Nt=vt.showModal;Object(Z.useEffect)(function(){kt(K)},[K]);function Bt(yt){var ut=yt.oldIndex,Rt=yt.newIndex;function gt(ht,Pt,Ct){var St=Ce()(ht);return Array.prototype.splice.call(St,Ct,0,Array.prototype.splice.call(St,Pt,1)[0]),St.map(function(Qt,Vt){return b(b({},Qt),{},{order:Vt})})}U(Object(Ke.b)(gt(ct,ut,Rt))),ut!==Rt&&Lt()}var _t=_===1,Xt={logic:Qe,showSeriesIndicator:Ge,seriesIndicatorType:Ue,mathAvailability:p,hidePropertySelector:W,customRowPrefix:V,customRowSuffix:oe,rowClassName:le,propertyFilterWrapperClassName:q,stripeActionRow:Q,hasBreakdown:!!K.breakdown,fullWidth:z,actionsTaxonomicGroupTypes:jt,propertiesTaxonomicGroupTypes:At,hideDeleteBtn:st,disabled:G,readOnly:Me,renderRow:Ft,hideRename:k,onRenameClick:Nt},$t=Boolean(_&&ct.length>=_);return B.a.createElement("div",{ref:M},!k&&!Me&&B.a.createElement(fe.BindLogic,{logic:Ke.a,props:{setFilters:U,filters:K,typeKey:ae,addFilterDefaultOptions:E}},B.a.createElement(He,{view:K.insight,typeKey:ae})),ct?me?B.a.createElement(Re,{onSortEnd:Bt,lockAxis:"y",distance:5},ct.map(function(yt,ut){return B.a.createElement(xe,f()({key:ut,filter:yt,index:ut,filterIndex:ut,filterCount:ct.length,showNestedArrow:Ot},Xt))})):ct.map(function(yt,ut){return B.a.createElement(H.a,f()({filter:yt,index:ut,key:ut,singleFilter:_t,showOr:be,hideFilter:Fe||Me,horizontalUI:h,filterCount:ct.length,showNestedArrow:Ot},Xt))}):null,(!_t||ft)&&B.a.createElement("div",{className:Object(C.a)(Kt!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!_t&&B.a.createElement(et.a,{type:Kt,onClick:function(){return Mt()},"data-attr":"add-action-event-button",icon:B.a.createElement($e.a,null),disabled:$t||G||Me,className:"add-action-event-button"},$t?"Reached limit of ".concat(_," ").concat(K.insight===te.s.FUNNELS?"steps":"series"):N||"Action or event"),ft))});try{X.displayName="ActionFilter",X.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},mathAvailability:{defaultValue:{value:"MathAvailability.All"},description:"",name:"mathAvailability",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:X.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(g){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx":function(Y,j,e){"use strict";e.d(j,"b",function(){return U}),e.d(j,"a",function(){return K});var D=e("./node_modules/core-js/modules/es.symbol.js"),o=e("./node_modules/core-js/modules/es.symbol.description.js"),R=e("./node_modules/core-js/modules/es.array.concat.js"),je=e("./node_modules/core-js/modules/es.array.filter.js"),f=e("./node_modules/core-js/modules/es.array.map.js"),he=e("./node_modules/core-js/modules/es.function.name.js"),pe=e("./node_modules/core-js/modules/es.object.keys.js"),Pe=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ce=e.n(Pe),ke=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),we=e.n(ke),Be=e("./node_modules/react/index.js"),u=e.n(Be),ye=e("./node_modules/kea/lib/index.esm.js"),ue=e("./node_modules/antd/es/button/index.js"),Ve=e("./node_modules/antd/es/row/index.js"),Z=e("./node_modules/antd/es/col/index.js"),B=e("./node_modules/antd/es/select/index.js"),fe=e("./frontend/src/lib/components/Tooltip.tsx"),Ke=e("./frontend/src/types.ts"),H=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),et=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),$e=e("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),te=e("./frontend/src/lib/utils.tsx"),Te=e("./frontend/src/lib/components/SeriesGlyph.tsx"),re=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),se=e.n(re),Ie=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),ce=e.n(Ie),xe={};xe.insert="head",xe.singleton=!1;var Re=se()(ce.a,xe),tt=ce.a.locals||{},Ae=e("./frontend/src/lib/components/Popup/Popup.tsx"),pt=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),ve=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),nt=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),Ye=e("./node_modules/clsx/dist/clsx.m.js"),He=e("./frontend/src/scenes/trends/mathsLogic.tsx"),at=e("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),it=e("./frontend/src/models/actionsModel.ts"),y=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),C=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),S=e("./frontend/src/lib/components/icons.tsx"),b;function X(p,I){var W=Object.keys(p);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(p);I&&(F=F.filter(function(N){return Object.getOwnPropertyDescriptor(p,N).enumerable})),W.push.apply(W,F)}return W}function g(p){for(var I=1;I<arguments.length;I++){var W=arguments[I]!=null?arguments[I]:{};I%2?X(Object(W),!0).forEach(function(F){we()(p,F,W[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(W)):X(Object(W)).forEach(function(F){Object.defineProperty(p,F,Object.getOwnPropertyDescriptor(W,F))})}return p}var M=function(I,W){if(I)return"Hide filters";if(W.properties&&Object.keys(W.properties).length>0){var F;return Object(te.qb)((F=W.properties)===null||F===void 0?void 0:F.length,"filter")}return"Add filters"},U;(function(p){p[p.All=0]="All",p[p.ActorsOnly=1]="ActorsOnly",p[p.None=2]="None"})(U||(U={}));function K(p){var I,W,F,N=p.logic,T=p.filter,G=p.index,ge=p.mathAvailability,me=p.hidePropertySelector,De=p.singleFilter,Ge=p.showOr,Le=p.hideFilter,Ue=p.hideRename,Ze=p.onRenameClick,be=Ze===void 0?function(){}:Ze,J=p.showSeriesIndicator,Fe=p.seriesIndicatorType,Xe=Fe===void 0?"alpha":Fe,k=p.horizontalUI,v=k===void 0?!1:k,h=p.fullWidth,P=h===void 0?!1:h,z=p.filterCount,V=p.customRowPrefix,oe=p.customRowSuffix,le=p.rowClassName,_=p.propertyFilterWrapperClassName,q=p.stripeActionRow,ee=q===void 0?!0:q,Q=p.hasBreakdown,ft=p.showNestedArrow,xt=ft===void 0?!1:ft,Ot=p.hideDeleteBtn,jt=Ot===void 0?!1:Ot,At=p.actionsTaxonomicGroupTypes,st=At===void 0?[ve.a.Events,ve.a.Actions]:At,Ft=p.propertiesTaxonomicGroupTypes,Et=p.disabled,Kt=Et===void 0?!1:Et,Tt=p.readOnly,Me=Tt===void 0?!1:Tt,Ht=p.renderRow,Gt=Object(ye.useValues)(N),Qe=Gt.selectedFilter,Dt=Gt.entities,Lt=Gt.entityFilterVisible,lt=Object(ye.useActions)(N),ct=lt.updateFilter,vt=lt.selectFilter,Mt=lt.updateFilterMath,kt=lt.removeLocalFilter,Nt=lt.updateFilterProperty,Bt=lt.setEntityFilterVisibility,_t=lt.duplicateFilter,Xt=Object(ye.useValues)(it.a),$t=Xt.actions,yt=Object(ye.useValues)(He.c),ut=yt.mathDefinitions,Rt=typeof T.order=="number"?Lt[T.order]:!1,gt,ht,Pt,Ct=T.math,St=T.math_property,Qt=T.math_group_type_index,Vt=function(){kt(g(g({},T),{},{index:G}))},mn=function(dt,Ut){var It;Mt(g(g({},Object(He.b)(Ut)),{},{math_property:!((It=ut[Ut])===null||It===void 0)&&It.onProperty?St!=null?St:"$time":void 0,type:T.type,index:G}))},pn=function(dt,Ut){Mt(g(g({},T),{},{math_property:Ut,index:G}))},en=Boolean(Qe&&(Qe==null?void 0:Qe.type)===T.type&&(Qe==null?void 0:Qe.index)===G),tn=function(){vt(en?null:g(g({},T),{},{index:G}))};if(T.type===Ke.g.NEW_ENTITY)ht=null,Pt=null;else{var Yt;gt=((Yt=Dt[T.type])===null||Yt===void 0?void 0:Yt.filter(function(Je){return Je.id===T.id})[0])||{},ht=gt.name||T.name,Pt=gt.id||T.id}var nn=u.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),ln=Xe==="numeric"?u.a.createElement(Te.a,{style:{borderColor:"var(--border)"}},G+1):u.a.createElement(Te.b,{seriesIndex:G,hasBreakdown:Q}),Jt=typeof V=="function"?V({filter:T,index:G,onClose:Vt}):V,ot=u.a.createElement(Ae.a,{overlay:u.a.createElement(pt.a,{groupType:T.type,value:T.type==="actions"&&typeof Pt=="string"?parseInt(Pt):Pt||void 0,onChange:function(dt,Ut,It){ct({type:A(dt.type)||void 0,id:"".concat(Ut),name:It==null?void 0:It.name,index:G})},onClose:function(){return vt(null)},taxonomicGroupTypes:st}),visible:en,onClickOutside:function(){return vt(null)}},function(Je){var dt=Je.setRef;return u.a.createElement(ue.a,{"data-attr":"trend-element-subject-"+G,onClick:tn,block:P,ref:dt,disabled:Kt||Me,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},u.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},u.a.createElement(nt.a,{filter:T})),u.a.createElement(et.a,{style:{fontSize:10}}))}),bt=typeof oe=="function"?oe({filter:T,index:G,onClose:Vt}):oe,wt=u.a.createElement(ue.a,{type:"link",onClick:function(){typeof T.order=="number"&&Bt(T.order,!Rt)},className:"row-action-btn show-filters".concat(Rt?" visible":""),"data-attr":"show-prop-filter-".concat(G),title:"Show filters",style:{display:"flex",alignItems:"center"}},u.a.createElement(S.IconFilter,{fontSize:"1.25em"}),!((I=T.properties)===null||I===void 0)&&I.length?Object(te.qb)((W=T.properties)===null||W===void 0?void 0:W.length,"filter"):null),rn=u.a.createElement(ue.a,{type:"link",onClick:function(){vt(T),be()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(G),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},u.a.createElement(S.IconEdit,{fontSize:"1.25em"})),dn=u.a.createElement(ue.a,{type:"link",onClick:function(){_t(T)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(G),title:"Duplicate graph series"},u.a.createElement(S.IconCopy,{fontSize:"1.25em"})),sn=u.a.createElement(ue.a,{type:"link",onClick:Vt,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(G),title:"Delete graph series"},u.a.createElement(S.IconDelete,{fontSize:"1.25em"}));return u.a.createElement("div",{className:Object(Ye.a)({"action-row-striped":v&&ee,"action-row":!v||!ee,"full-width":P})},!v&&G>0&&Ge&&u.a.createElement(Ve.a,{align:"middle",style:{marginTop:12}},nn),u.a.createElement(Ve.a,{gutter:8,align:"middle",className:"".concat(v?"":"mt"," ").concat(le),wrap:!P},Ht?Ht({seriesIndicator:ln,prefix:Jt,filter:ot,suffix:bt,propertyFiltersButton:wt,renameRowButton:rn,deleteButton:sn,orLabel:nn}):u.a.createElement(u.a.Fragment,null,!jt&&v&&!De&&z>1&&u.a.createElement(Z.a,null,u.a.createElement(ue.a,{type:"link",onClick:Vt,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:u.a.createElement($e.a,null)})),J&&u.a.createElement(Z.a,{className:"action-row-letter"},ln),V!==void 0?u.a.createElement(Z.a,null,Jt):u.a.createElement(u.a.Fragment,null,v&&u.a.createElement(Z.a,null,"Showing")),u.a.createElement(Z.a,{className:"column-filter",style:P?{}:{maxWidth:"calc(".concat(ge===U.None?"100":"50","% - 16px)")},flex:P?"auto":void 0},ot),oe!==void 0&&u.a.createElement(Z.a,{className:"column-row-suffix"},bt),ge!==U.None&&u.a.createElement(u.a.Fragment,null,v&&u.a.createElement(Z.a,null,"counted by"),u.a.createElement(Z.a,{style:{maxWidth:"calc(50% - 16px".concat(J?" - 32px":"",")")}},u.a.createElement(ie,{math:Ct,mathGroupTypeIndex:Qt,index:G,onMathSelect:mn,style:{maxWidth:"100%",width:"initial"},mathAvailability:ge})),((F=ut[Ct||""])===null||F===void 0?void 0:F.onProperty)&&u.a.createElement(u.a.Fragment,null,v&&u.a.createElement(Z.a,null,"on property"),u.a.createElement(Z.a,{style:{maxWidth:"calc(50% - 16px".concat(J?" - 32px":"",")")}},u.a.createElement(C.c,{groupType:ve.a.NumericalEventProperties,value:St,onChange:function(dt){return pn(G,dt)},eventNames:ht?[ht]:[],dataAttr:"math-property-select",renderValue:function(dt){return u.a.createElement(fe.a,{title:u.a.createElement(u.a.Fragment,null,"Calculate"," ",ut[Ct!=null?Ct:""].name.toLowerCase()," from property ",u.a.createElement("code",null,dt),". Note that only"," ",ht," occurences where ",u.a.createElement("code",null,dt)," is set with a numeric value will be taken into account."),placement:"right"},u.a.createElement("div",null,u.a.createElement(y.b,{value:dt,disablePopover:!0})))}})))),(v||P)&&!Le&&!Me&&u.a.createElement(Z.a,null,wt),(v||P)&&!Ue&&!Me&&u.a.createElement(Z.a,null,rn),(v||P)&&!Le&&!De&&!Me&&u.a.createElement(Z.a,null,dn),!jt&&!v&&!De&&!Me&&u.a.createElement(Z.a,{className:"column-delete-btn"},sn),v&&z>1&&G<z-1&&Ge&&nn)),(!me||T.properties&&T.properties.length>0)&&!v&&!P&&u.a.createElement("div",{style:{paddingTop:6}},u.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),u.a.createElement(ue.a,{className:"ant-btn-md",onClick:function(){return typeof T.order=="number"?Bt(T.order,!Rt):void 0},"data-attr":"show-prop-filter-"+G},M(Rt,T))),Rt&&u.a.createElement("div",{className:"mr property-filter-wrapper ".concat(_)},u.a.createElement(H.a,{pageKey:"".concat(G,"-").concat(Pt,"-filter"),propertyFilters:T.properties,onChange:function(dt){return Nt({properties:dt,index:G})},disablePopover:v,style:{marginBottom:0},showNestedArrow:xt,taxonomicGroupTypes:Ft,eventNames:T.type===ve.a.Events&&T.id?[String(T.id)]:T.type===ve.a.Actions&&T.id?Object(te.I)(parseInt(String(T.id)),$t):[]})))}var ae="This can only be used on properties that have at least one number type occurence in your events.";function ie(p){var I,W=p.math,F=p.mathGroupTypeIndex,N=p.mathAvailability,T=p.index,G=p.onMathSelect,ge=p.style,me=Object(ye.useValues)(He.c),De=me.mathDefinitions,Ge=me.eventMathEntries,Le=me.propertyMathEntries,Ue=Ge;N===U.ActorsOnly&&(Ue=Ue.filter(function(be){var J=Ce()(be,2),Fe=J[1];return Fe.actor}));var Ze=Object(He.a)(W,F);return N===U.ActorsOnly&&!(!((I=De[Ze])===null||I===void 0)&&I.actor)&&(Ze="dau"),u.a.createElement(B.a,{style:g({width:150},ge),value:Ze,onChange:function(J){return G(T,J)},"data-attr":"math-selector-".concat(T),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},u.a.createElement(B.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},Ue.map(function(be){var J=Ce()(be,2),Fe=J[0],Xe=J[1],k=Xe.name,v=Xe.description,h=Xe.onProperty;return u.a.createElement(B.a.Option,{key:Fe,value:Fe,"data-attr":"math-".concat(Fe,"-").concat(T)},u.a.createElement(fe.a,{title:h?u.a.createElement(u.a.Fragment,null,v,u.a.createElement("br",null),ae):v,placement:"right"},u.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},k)))}),Object(at.a)({value:""})),N!==U.ActorsOnly&&u.a.createElement(B.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},Le.map(function(be){var J=Ce()(be,2),Fe=J[0],Xe=J[1],k=Xe.name,v=Xe.description,h=Xe.onProperty;return u.a.createElement(B.a.Option,{key:Fe,value:Fe,"data-attr":"math-".concat(Fe,"-").concat(T)},u.a.createElement(fe.a,{title:h?u.a.createElement(u.a.Fragment,null,v,u.a.createElement("br",null),ae):v,placement:"right"},u.a.createElement("div",{style:{height:"100%",width:"100%"}},k)))})))}var E=(b={},we()(b,ve.a.Events,Ke.g.EVENTS),we()(b,ve.a.Actions,Ke.g.ACTIONS),b);function A(p){return E[p]||null}try{K.displayName="ActionFilterRow",K.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:K.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(p){}try{A.displayName="taxonomicFilterGroupTypeToEntityType",A.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:A.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(p){}},"./frontend/src/scenes/persons/Person.tsx":function(Y,j,e){"use strict";e.r(j),e.d(j,"scene",function(){return Fe}),e.d(j,"Person",function(){return k});var D=e("./node_modules/core-js/modules/es.array.join.js"),o=e("./node_modules/core-js/modules/es.array.map.js"),R=e("./node_modules/core-js/modules/es.array.slice.js"),je=e("./node_modules/react/index.js"),f=e.n(je),he=e("./node_modules/antd/es/tabs/index.js"),pe=e("./node_modules/antd/es/dropdown/index.js"),Pe=e("./node_modules/antd/es/menu/index.js"),Ce=e("./node_modules/antd/es/tag/index.js"),ke=e("./node_modules/antd/es/popconfirm/index.js"),we=e("./node_modules/antd/es/button/index.js"),Be=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),u=e("./frontend/src/scenes/events/index.ts"),ye=e("./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx"),ue=e("./node_modules/kea/lib/index.esm.js"),Ve=e("./frontend/src/scenes/persons/personsLogic.ts"),Z=e("./frontend/src/scenes/persons/PersonHeader.tsx"),B=e("./frontend/src/scenes/persons/Persons.scss"),fe=e("./frontend/src/lib/components/CopyToClipboard.tsx"),Ke=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),H=e("./node_modules/core-js/modules/es.array.filter.js"),et=e("./node_modules/core-js/modules/es.function.name.js"),$e=e("./node_modules/antd/es/modal/index.js"),te=e("./node_modules/antd/es/row/index.js"),Te=e("./node_modules/antd/es/radio/index.js"),re=e("./node_modules/antd/es/col/index.js"),se=e("./node_modules/antd/es/select/index.js"),Ie=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ce=e.n(Ie),xe=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss"),Re=e.n(xe),tt={};tt.insert="head",tt.singleton=!1;var Ae=ce()(Re.a,tt),pt=Re.a.locals||{},ve=e("./node_modules/core-js/modules/es.array.iterator.js"),nt=e("./node_modules/core-js/modules/es.object.to-string.js"),Ye=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),He=e("./node_modules/@babel/runtime/regenerator/index.js"),at=e.n(He),it=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),y=e.n(it),C=e("./node_modules/regenerator-runtime/runtime.js"),S=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),b=e.n(S),X=e("./node_modules/kea-router/lib/index.js"),g=e("./frontend/src/lib/api.ts"),M=e("./frontend/src/lib/components/lemonToast.tsx"),U=e("./frontend/src/lib/utils/eventUsageLogic.ts");function K(v,h){var P=Object.keys(v);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(v);h&&(z=z.filter(function(V){return Object.getOwnPropertyDescriptor(v,V).enumerable})),P.push.apply(P,z)}return P}function ae(v){for(var h=1;h<arguments.length;h++){var P=arguments[h]!=null?arguments[h]:{};h%2?K(Object(P),!0).forEach(function(z){y()(v,z,P[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(P)):K(Object(P)).forEach(function(z){Object.defineProperty(v,z,Object.getOwnPropertyDescriptor(P,z))})}return v}var ie;(function(v){v.SPLIT="split",v.MERGE="merge"})(ie||(ie={}));var E=Object(ue.kea)({props:{},key:function(h){return h.person.id},path:function(h){return["scenes","persons","mergeSplitPersonLogic",h||"new"]},connect:function(){return{actions:[Object(Ve.a)({syncWithUrl:!0}),["setListFilters","loadPersons","setPerson","setSplitMergeModalShown"]],values:[Object(Ve.a)({syncWithUrl:!0}),["persons"]]}},actions:{setActivity:function(h){return{activity:h}},setSelectedPersonsToMerge:function(h){return{persons:h}},setSelectedPersonToAssignSplit:function(h){return{id:h}},cancel:!0},reducers:function(h){var P=h.props;return{activity:[ie.MERGE,{setActivity:function(V,oe){var le=oe.activity;return le}}],person:[P.person,{}],selectedPersonsToMerge:[[],{setSelectedPersonsToMerge:function(V,oe){var le=oe.persons;return le}}],selectedPersonsToAssignSplit:[null,{setSelectedPersonToAssignSplit:function(V,oe){var le=oe.id;return le}}]}},listeners:function(h){var P=h.actions,z=h.values;return{setListFilters:function(){P.loadPersons()},cancel:function(){z.executedLoading||P.setSplitMergeModalShown(!1)}}},loaders:function(h){var P=h.values,z=h.actions;return{executed:[!1,{execute:function(){var V=b()(at.a.mark(function le(){var _,q;return at.a.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(P.activity!==ie.MERGE){Q.next=12;break}return Q.next=3,g.a.create("api/person/"+P.person.id+"/merge/",{ids:P.selectedPersonsToMerge});case 3:if(_=Q.sent,!_.id){Q.next=10;break}return M.a.success("Persons have been merged"),U.f.actions.reportPersonMerged(P.selectedPersonsToMerge.length),z.setSplitMergeModalShown(!1),z.setPerson(_),Q.abrupt("return",!0);case 10:Q.next=21;break;case 12:return Q.next=14,g.a.create("api/person/"+P.person.id+"/split/",ae({},P.selectedPersonsToAssignSplit?{main_distinct_id:P.selectedPersonsToAssignSplit}:{}));case 14:if(q=Q.sent,!q.success){Q.next=21;break}return M.a.success("Person succesfully split. This may take up to a couple of minutes to complete"),U.f.actions.reportPersonSplit(P.person.distinct_ids.length),z.setSplitMergeModalShown(!1),X.router.actions.push("/persons"),Q.abrupt("return",!0);case 21:return Q.abrupt("return",!1);case 22:case"end":return Q.stop()}},le)}));function oe(){return V.apply(this,arguments)}return oe}()}]}},events:function(h){var P=h.actions;return{afterMount:[P.loadPersons]}}}),A=e("./frontend/src/lib/utils.tsx"),p=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),I=e("./frontend/src/lib/components/Tooltip.tsx");function W(v){var h=v.person,P={person:h},z=Object(ue.useValues)(E(P)),V=z.activity,oe=z.executedLoading,le=Object(ue.useActions)(E(P)),_=le.setActivity,q=le.execute,ee=le.cancel;return f.a.createElement($e.a,{visible:!0,title:"Merge/split persons",onCancel:ee,className:"merge-split-person",okText:"".concat(Object(A.j)(V)," persons"),onOk:q,okButtonProps:{loading:oe},cancelButtonProps:{disabled:oe}},f.a.createElement("div",{className:"activity-header"},f.a.createElement(te.a,{align:"middle"},f.a.createElement(Te.a.Group,{onChange:function(ft){return _(ft.target.value)},value:V},f.a.createElement(re.a,{className:"tab-btn ant-btn"},f.a.createElement(Te.a,{value:"merge"},"Merge")),f.a.createElement(re.a,{className:"tab-btn ant-btn"},f.a.createElement(Te.a,{value:"split",disabled:h.distinct_ids.length<2},h.distinct_ids.length<2?f.a.createElement(I.a,{title:"Only persons with more than two distinct IDs can be split.",delayMs:0},"Split"):f.a.createElement(f.a.Fragment,null,"Split")))))),f.a.createElement(ue.BindLogic,{logic:E,props:P},f.a.createElement(f.a.Fragment,null,V===ie.MERGE?f.a.createElement(F,null):f.a.createElement(N,null))))}function F(){var v=Object(ue.useValues)(E),h=v.persons,P=v.person,z=v.executedLoading,V=Object(ue.useActions)(E),oe=V.setListFilters,le=V.setSelectedPersonsToMerge;return f.a.createElement(f.a.Fragment,null,f.a.createElement("p",{className:"mb"},"Merge all properties and events of the selected persons into ",f.a.createElement("strong",null,P.name)," ",f.a.createElement("span",{style:{fontSize:"1.2em"}},"("),f.a.createElement("code",{title:P.distinct_ids[0]},Object(A.kb)(P.distinct_ids[0],20)),f.a.createElement("span",{style:{fontSize:"1.2em"}},")"),". Properties get merged based on timestamps, see more details on"," ",f.a.createElement("a",{href:"https://posthog.com/docs/integrate/user-properties#how-do-values-get-overridden"},"PostHog Docs"),"."),f.a.createElement(se.a,{mode:"multiple",allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Please select persons to merge",onChange:function(q){return le(q)},filterOption:!1,onSearch:function(q){oe({search:q})},className:"mt",disabled:z},h.results&&h.results.filter(function(_){return _.uuid!==P.uuid}).map(function(_){return _.id?f.a.createElement(se.a.Option,{value:_.id,key:_.id},_.name):void 0})),f.a.createElement(p.a,{style:{marginTop:16},type:"danger"},"This action is not reversible. Please be sure before continuing."))}function N(){var v=Object(ue.useValues)(E),h=v.person,P=v.executedLoading,z=Object(ue.useActions)(E),V=z.setSelectedPersonToAssignSplit;return h?f.a.createElement(f.a.Fragment,null,f.a.createElement("p",null,"This will split all Distinct IDs for this person into unique persons."),f.a.createElement("p",null,"You can select a distinct ID for which all the current properties will be assigned (",f.a.createElement("i",null,"optional"),"). All other new users will start without any properties."),f.a.createElement(se.a,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"Select a distinct ID to which to assign all properties (optional)",onChange:function(le){return V(le)},filterOption:!1,disabled:P},h==null?void 0:h.distinct_ids.map(function(oe){return f.a.createElement(se.a.Option,{value:oe,key:oe},oe)})),f.a.createElement(p.a,{style:{marginTop:16},type:"danger"},f.a.createElement("div",null,"This will create ",f.a.createElement("strong",null,h.distinct_ids.length-1)," new"," ",Object(A.qb)(h.distinct_ids.length,"person",void 0,!1),". This might change the numbers in your charts, even historically. Please be certain."))):null}try{W.displayName="MergeSplitPerson",W.__docgenInfo={description:"",displayName:"MergeSplitPerson",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"PersonType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"]={docgenInfo:W.__docgenInfo,name:"MergeSplitPerson",path:"frontend/src/scenes/persons/MergeSplitPerson.tsx#MergeSplitPerson"})}catch(v){}var T=e("./frontend/src/lib/components/LemonTable/index.ts"),G=e("./frontend/src/scenes/urls.ts"),ge=e("./frontend/src/lib/components/Link.tsx");function me(){var v=Object(ue.useValues)(Ve.a),h=v.cohorts,P=v.cohortsLoading,z=v.person,V=Object(ue.useActions)(Ve.a),oe=V.loadCohorts;Object(je.useEffect)(function(){oe()},[z]);var le=[{title:"Name",dataIndex:"name",key:"name",className:"ph-no-capture",render:function(q,ee){return f.a.createElement(ge.a,{to:G.a.cohort(ee.id)},f.a.createElement("strong",null,ee.name))},sorter:function(q,ee){return(q.name||"").localeCompare(ee.name||"")}},{title:"Users in cohort",render:function(q){return q==null?void 0:q.toLocaleString()},dataIndex:"count",sorter:function(q,ee){return(q.count||0)-(ee.count||0)}}];return f.a.createElement(T.a,{dataSource:h||[],loading:P,columns:le,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},emptyState:"This person doesn't belong to any cohort"})}var De=e("./frontend/src/lib/components/PropertiesTable.tsx"),Ge=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),Le=e("./frontend/src/types.ts"),Ue=e("./frontend/src/lib/components/PageHeader.tsx"),Ze=e("./frontend/src/scenes/groups/RelatedGroups.tsx"),be=e("./frontend/src/lib/introductions/groupsAccessLogic.ts"),J=he.a.TabPane,Fe={component:k,logic:Ve.a,paramsToProps:function(h){var P=h.params;return{syncWithUrl:!0,urlId:P._}}};function Xe(v){var h=v.person;return f.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},f.a.createElement("div",{className:"mr"},f.a.createElement("span",{className:"text-muted"},"IDs:")," ",f.a.createElement(fe.a,{tooltipMessage:null,description:"person distinct ID",style:{justifyContent:"flex-end"}},h.distinct_ids[0]),h.distinct_ids.length>1&&f.a.createElement(pe.a,{overlay:f.a.createElement(Pe.a,null,h.distinct_ids.slice(1).map(function(P){return f.a.createElement(Pe.a.Item,{key:P},f.a.createElement(fe.a,{description:"person distinct ID",iconStyle:{color:"var(--primary)"}},P))})),trigger:["click"]},f.a.createElement(Ce.a,{className:"extra-ids"},"+",h.distinct_ids.length-1,f.a.createElement(Ke.a,null)))),f.a.createElement("div",null,f.a.createElement("span",{className:"text-muted"},"First seen:")," ",h.created_at?f.a.createElement(Ge.b,{time:h.created_at}):"unknown"))}function k(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=v._,P={syncWithUrl:!0,urlId:h},z=Object(ue.useValues)(Object(Ve.a)(P)),V=z.person,oe=z.personLoading,le=z.deletedPersonLoading,_=z.currentTab,q=z.showSessionRecordings,ee=z.splitMergeModalShown,Q=Object(ue.useActions)(Object(Ve.a)(P)),ft=Q.deletePerson,xt=Q.editProperty,Ot=Q.navigateToTab,jt=Q.setSplitMergeModalShown,At=Object(ue.useValues)(be.b),st=At.groupsEnabled;return V?f.a.createElement(ue.BindLogic,{logic:Ve.a,props:P},f.a.createElement(Ue.a,{title:Object(Z.b)(V),caption:f.a.createElement(Xe,{person:V}),buttons:f.a.createElement("div",null,f.a.createElement(ke.a,{title:"Are you sure you want to delete this person?",onConfirm:ft,okText:"Yes, delete ".concat(Object(Z.b)(V)),cancelText:"No, cancel"},f.a.createElement(we.a,{className:"text-danger",disabled:le,loading:le,"data-attr":"delete-person"},"Delete person")),f.a.createElement(we.a,{onClick:function(){return jt(!0)},"data-attr":"merge-person-button",style:{marginLeft:8}},"Split or merge IDs"))}),f.a.createElement(he.a,{activeKey:_,onChange:function(Et){Ot(Et)}},f.a.createElement(J,{tab:f.a.createElement("span",{"data-attr":"persons-properties-tab"},"Properties"),key:Le.x.PROPERTIES},f.a.createElement(De.a,{properties:V.properties||{},searchable:!0,onEdit:xt,sortProperties:!0,embedded:!1,onDelete:function(Et){return xt(Et,void 0)}})),f.a.createElement(J,{tab:f.a.createElement("span",{"data-attr":"persons-events-tab"},"Events"),key:Le.x.EVENTS},f.a.createElement(u.a,{pageKey:V.distinct_ids.join("__"),fixedFilters:{person_id:V.id},hidePersonColumn:!0,sceneUrl:G.a.person(h||V.distinct_ids[0]||String(V.id),!1)})),q&&f.a.createElement(J,{tab:f.a.createElement("span",{"data-attr":"person-session-recordings-tab"},"Recordings"),key:Le.x.SESSION_RECORDINGS},f.a.createElement(ye.a,{key:V.uuid,personUUID:V.uuid,isPersonPage:!0})),f.a.createElement(J,{tab:f.a.createElement("span",{"data-attr":"persons-cohorts-tab"},"Cohorts"),key:Le.x.COHORTS},f.a.createElement(me,null)),st&&V.uuid&&f.a.createElement(J,{tab:f.a.createElement("span",{"data-attr":"persons-related-tab"},"Related groups",f.a.createElement(I.a,{title:"People and groups that have shared events with this person in the last 90 days."},f.a.createElement(Be.a,{style:{marginLeft:6,marginRight:0}}))),key:Le.x.RELATED},f.a.createElement(Ze.a,{id:V.uuid,groupTypeIndex:null}))),ee&&V&&f.a.createElement(W,{person:V})):oe?f.a.createElement(A.b,null):f.a.createElement(Ue.a,{title:"Person not found",caption:h?`There's no person matching distinct ID "`.concat(h,'".'):void 0})}try{k.displayName="Person",k.__docgenInfo={description:"",displayName:"Person",props:{_:{defaultValue:null,description:"",name:"_",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/Person.tsx#Person"]={docgenInfo:k.__docgenInfo,name:"Person",path:"frontend/src/scenes/persons/Person.tsx#Person"})}catch(v){}},"./frontend/src/scenes/persons/Persons.scss":function(Y,j,e){"use strict";var D=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=e.n(D),R=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss"),je=e.n(R),f={};f.insert="head",f.singleton=!1;var he=o()(je.a,f),pe=je.a.locals||{}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return an});var D=e("./node_modules/react/index.js"),o=e.n(D),R=e("./frontend/src/lib/components/Drawer.tsx"),je=e("./node_modules/core-js/modules/es.object.to-string.js"),f=e("./node_modules/core-js/modules/es.regexp.to-string.js"),he=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),pe=e.n(he),Pe=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),Ce=e.n(Pe),ke={};ke.insert="head",ke.singleton=!1;var we=pe()(Ce.a,ke),Be=Ce.a.locals||{},u=e("./node_modules/kea/lib/index.esm.js"),ye=e("./node_modules/core-js/modules/es.array.index-of.js"),ue=e("./node_modules/core-js/modules/es.array.iterator.js"),Ve=e("./node_modules/core-js/modules/es.array.slice.js"),Z=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),B=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),fe=e.n(B),Ke=e("./node_modules/@babel/runtime/regenerator/index.js"),H=e.n(Ke),et=e("./node_modules/regenerator-runtime/runtime.js"),$e=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),te=e.n($e),Te=e("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),re=e("./frontend/src/lib/utils/eventUsageLogic.ts"),se=e("./frontend/src/types.ts"),Ie=e("./frontend/src/lib/utils/responsiveUtils.tsx"),ce=e("./node_modules/core-js/modules/es.array.concat.js"),xe=e("./node_modules/core-js/modules/es.array.for-each.js"),Re=e("./node_modules/core-js/modules/es.array.includes.js"),tt=e("./node_modules/core-js/modules/es.array.join.js"),Ae=e("./node_modules/core-js/modules/es.array.map.js"),pt=e("./node_modules/core-js/modules/es.object.entries.js"),ve=e("./node_modules/core-js/modules/es.object.values.js"),nt=e("./node_modules/core-js/modules/es.regexp.exec.js"),Ye=e("./node_modules/core-js/modules/es.string.ends-with.js"),He=e("./node_modules/core-js/modules/es.string.includes.js"),at=e("./node_modules/core-js/modules/es.string.iterator.js"),it=e("./node_modules/core-js/modules/es.string.replace.js"),y=e("./node_modules/core-js/modules/es.string.search.js"),C=e("./node_modules/core-js/modules/es.string.split.js"),S=e("./node_modules/core-js/modules/es.string.starts-with.js"),b=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),X=e("./node_modules/core-js/modules/web.url.js"),g=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),M=e.n(g),U=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),K=e.n(U),ae=e("./node_modules/fuse.js/dist/fuse.esm.js"),ie=e("./frontend/src/lib/api.ts"),E=e("./frontend/src/lib/utils.tsx"),A=e("./frontend/src/scenes/teamLogic.ts"),p=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),I=e("./frontend/src/lib/dayjs.ts"),W=e("./node_modules/core-js/modules/es.array.from.js"),F=e("./node_modules/core-js/modules/es.function.name.js");function N(r,n){var t;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=T(r))||n&&r&&typeof r.length=="number"){t&&(r=t);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){t=r[Symbol.iterator]()},n:function(){var m=t.next();return i=m.done,m},e:function(m){l=!0,c=m},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(l)throw c}}}}function T(r,n){if(!!r){if(typeof r=="string")return G(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G(r,n)}}function G(r,n){(n==null||n>r.length)&&(n=r.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=r[t];return s}var ge=15,me=ge/2;function De(r){return"touches"in r}function Ge(r){return"clientX"in r}var Le=function(n){if(De(n)){var t,s,a,i,l;return(t=n==null||(s=n.touches)===null||s===void 0||(a=s[0])===null||a===void 0?void 0:a.pageX)!==null&&t!==void 0?t:n==null||(i=n.changedTouches)===null||i===void 0||(l=i[0])===null||l===void 0?void 0:l.pageX}return Ge(n)?n==null?void 0:n.clientX:0};function Ue(r,n,t){if(r.windowId===n.windowId)return r.time-n.time;var s=N(t),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return-1;if(n.windowId===i.windowId&&n.time>=i.startPlayerPosition.time&&n.time<=i.endPlayerPosition.time)return 1}}catch(l){s.e(l)}finally{s.f()}throw"Could not find player positions in segments"}function Ze(r,n){var t=N(n),s;try{for(t.s();!(s=t.n()).done;){var a=s.value;if(r.windowId===a.windowId&&r.time>=a.startPlayerPosition.time&&r.time<=a.endPlayerPosition.time)return a}}catch(i){t.e(i)}finally{t.f()}return null}function be(r,n){var t=0,s=N(n),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(r.windowId===i.windowId&&r.time>=i.startPlayerPosition.time&&r.time<=i.endPlayerPosition.time)return t+r.time-i.startPlayerPosition.time;t+=i.durationMs}}catch(l){s.e(l)}finally{s.f()}return null}function J(r,n){var t=0,s=N(n),a;try{for(s.s();!(a=s.n()).done;){var i=a.value;if(t+i.durationMs>r)return{windowId:i.windowId,time:r-t+i.startPlayerPosition.time};t+=i.durationMs}}catch(l){s.e(l)}finally{s.f()}return r===t&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function Fe(r,n,t){if(t&&n in t){var s=t[n].startTimeEpochMs,a=t[n].endTimeEpochMs;return s>r||a<r?null:{windowId:n,time:r-s}}return null}function Xe(r,n){if(r.windowId in n){var t=n[r.windowId].startTimeEpochMs;return t+r.time}return null}var k=function(n,t,s,a){var i=n/t*a;return J(i,s)},v=function(n,t,s,a){var i=be(n,s);return(i!=null?i:0)/a*t},h=e("./frontend/src/lib/components/lemonToast.tsx"),P=e("./node_modules/fast-deep-equal/index.js"),z=e.n(P),V=e("./frontend/src/lib/logic/featureFlagLogic.ts"),oe=e("./frontend/src/lib/constants.tsx");function le(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function _(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?le(Object(t),!0).forEach(function(s){M()(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function q(r,n){var t;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=ee(r))||n&&r&&typeof r.length=="number"){t&&(r=t);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){t=r[Symbol.iterator]()},n:function(){var m=t.next();return i=m.done,m},e:function(m){l=!0,c=m},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(l)throw c}}}}function ee(r,n){if(!!r){if(typeof r=="string")return Q(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(r,n)}}function Q(r,n){(n==null||n>r.length)&&(n=r.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=r[t];return s}var ft=!1,xt="rrweb/console@1",Ot=function(n){var t=n.segments.map(function(a){var i=+Object(I.a)(n.start_and_end_times_by_window_id[a.window_id].start_time),l=+Object(I.a)(a==null?void 0:a.start_time),c=+Object(I.a)(a==null?void 0:a.end_time),d={windowId:a.window_id,time:l-i},m={windowId:a.window_id,time:c-i},x=c-l;return{startPlayerPosition:d,endPlayerPosition:m,durationMs:x,startTimeEpochMs:l,endTimeEpochMs:c,windowId:a.window_id,isActive:a.is_active}}),s={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(a){var i=K()(a,2),l=i[0],c=i[1];s[l]={startTimeEpochMs:+Object(I.a)(c.start_time),endTimeEpochMs:+Object(I.a)(c.end_time)}}),{segments:t,startAndEndTimesByWindowId:s,recordingDurationMs:Object(E.zb)(t.map(function(a){return a.durationMs}))}},jt=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=null;if(n&&t&&s){var i=q(n),l;try{for(i.s();!(l=i.n()).done;){var c,d=l.value,m=((c=t[d.windowId])!==null&&c!==void 0?c:[]).slice(-1).pop();if(m&&m.timestamp>=d.startTimeEpochMs){var x=s[d.windowId].startTimeEpochMs;a={windowId:d.windowId,time:Math.min(m.timestamp-x,d.endPlayerPosition.time)}}else return a}}catch(O){i.e(O)}finally{i.f()}}return a},At=function(n){return n.map(function(t){var s,a,i;return _(_({},t),{},{queryValue:"".concat((s=(a=(i=Object(p.d)(t.event,"event"))===null||i===void 0?void 0:i.label)!==null&&a!==void 0?a:t.event)!==null&&s!==void 0?s:""," ").concat(Object(E.B)(t)).replace(/['"]+/g,"")})})},st=Object(u.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[re.f],values:[A.a,["currentTeamId"],V.a,["featureFlags"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,t){return{recordingData:n,loadTime:t}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,t){return{sessionRecordingId:n,url:t}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,t){var s=t.filters;return _(_({},n),s)}}],sessionRecordingId:[null,{loadRecording:function(n,t){var s=t.sessionRecordingId;return s!=null?s:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,t){var s=t.sessionEventsData;return!!(s!=null&&s.next)}}],source:[re.d.Unknown,{setSource:function(n,t){var s=t.source;return s}}]},listeners:function(n){var t=n.values,s=n.actions,a=n.sharedListeners,i=n.cache;return{loadRecordingMetaSuccess:function(){i.eventsStartTime=performance.now(),s.loadEvents()},loadRecordingSnapshotsSuccess:function(){var c;!((c=t.sessionPlayerData)===null||c===void 0)&&c.next?s.loadRecordingSnapshots(void 0,t.sessionPlayerData.next):re.f.actions.reportRecording(t.sessionPlayerData,t.source,performance.now()-i.startTime,se.D.LOADED,0),t.chunkPaginationIndex===1&&s.reportUsage(t.sessionPlayerData,performance.now()-i.startTime)},loadEventsSuccess:function(){var c;if(!((c=t.sessionEventsData)===null||c===void 0)&&c.next)s.loadEvents(t.sessionEventsData.next);else{var d,m,x;re.f.actions.reportRecordingEventsFetched((d=(m=t.sessionEventsData)===null||m===void 0||(x=m.events)===null||x===void 0?void 0:x.length)!==null&&d!==void 0?d:0,performance.now()-i.eventsStartTime),i.eventsStartTime=null}},loadRecordingMetaFailure:a.showErrorToast,loadRecordingSnapshotsFailure:a.showErrorToast,loadEventsFailure:a.showErrorToast,reportUsage:function(){var l=te()(H.a.mark(function d(m,x){var O,w;return H.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return O=m.recordingData,w=m.loadTime,L.next=3,x();case 3:return re.f.actions.reportRecording(O,t.source,w,se.D.VIEWED,0),L.next=6,x(ft?1:1e4);case 6:re.f.actions.reportRecording(O,t.source,w,se.D.ANALYZED,10);case 7:case"end":return L.stop()}},d)}));function c(d,m){return l.apply(this,arguments)}return c}()}},sharedListeners:function(){return{showErrorToast:function(t){var s=t.error;h.a.error(s)}}},loaders:function(n){var t=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var s=te()(H.a.mark(function i(l,c){var d,m,x,O,w,$,L,ne,Ee,Ne,Se;return H.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return $=l.sessionRecordingId,L=Object(E.Ab)({save_view:!0}),de.next=4,ie.a.get("api/projects/".concat(t.currentTeamId,"/session_recordings/").concat($,"?").concat(L));case 4:return ne=de.sent,Ee=(d=ne.result)===null||d===void 0?void 0:d.session_recording,Ne=Ot(Ee),Se=jt(Ne.segments,(m=t.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId,Ne.startAndEndTimesByWindowId),c(),de.abrupt("return",_(_({},t.sessionPlayerData),{},{person:(x=ne.result)===null||x===void 0?void 0:x.person,metadata:Ne,bufferedTo:Se,snapshotsByWindowId:(O=_({},(w=t.sessionPlayerData)===null||w===void 0?void 0:w.snapshotsByWindowId))!==null&&O!==void 0?O:{}}));case 10:case"end":return de.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}(),loadRecordingSnapshots:function(){var s=te()(H.a.mark(function i(l,c){var d,m,x,O,w,$,L,ne,Ee,Ne,Se,Oe,de,_e,We;return H.a.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return Ee=l.sessionRecordingId,Ne=l.url,Se=Ne||"api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(Ee,"/snapshots?").concat(Object(E.Ab)({limit:t.featureFlags[oe.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),qe.next=4,ie.a.get(Se);case 4:return Oe=qe.sent,c(),de=_({},(d=(m=t.sessionPlayerData)===null||m===void 0?void 0:m.snapshotsByWindowId)!==null&&d!==void 0?d:{}),_e=(x=Oe.result)===null||x===void 0?void 0:x.snapshot_data_by_window_id,Object.entries(_e).forEach(function(ze){var mt,Wt=K()(ze,2),zt=Wt[0],Zt=Wt[1];de[zt]=[].concat(fe()((mt=de[zt])!==null&&mt!==void 0?mt:[]),fe()(Zt))}),We=jt((O=t.sessionPlayerData)===null||O===void 0||(w=O.metadata)===null||w===void 0?void 0:w.segments,de,($=t.sessionPlayerData)===null||$===void 0||(L=$.metadata)===null||L===void 0?void 0:L.startAndEndTimesByWindowId),qe.abrupt("return",_(_({},t.sessionPlayerData),{},{bufferedTo:We,snapshotsByWindowId:de,next:(ne=Oe.result)===null||ne===void 0?void 0:ne.next}));case 11:case"end":return qe.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}()},sessionEventsData:{loadEvents:function(){var s=te()(H.a.mark(function i(l,c){var d,m,x,O,w,$,L,ne,Ee;return H.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(O=l.url,t.eventsApiParams){Se.next=3;break}return Se.abrupt("return",t.sessionEventsData);case 3:return w=O||"api/projects/".concat(t.currentTeamId,"/events?").concat(Object(E.Ab)(t.eventsApiParams)),Se.next=6,ie.a.get(w);case 6:return $=Se.sent,c(),L=[],ne=[],Ee=(d=$.results)!==null&&d!==void 0?d:[],Ee.forEach(function(Oe){var de,_e,We,rt,qe=Fe(+Object(I.a)(Oe.timestamp)-1e3,(de=(_e=Oe.properties)===null||_e===void 0?void 0:_e.$window_id)!==null&&de!==void 0?de:"",(We=t.sessionPlayerData)===null||We===void 0||(rt=We.metadata)===null||rt===void 0?void 0:rt.startAndEndTimesByWindowId);if(qe===null){var ze,mt,Wt,zt;qe=Fe(+Object(I.a)(Oe.timestamp),(ze=(mt=Oe.properties)===null||mt===void 0?void 0:mt.$window_id)!==null&&ze!==void 0?ze:"",(Wt=t.sessionPlayerData)===null||Wt===void 0||(zt=Wt.metadata)===null||zt===void 0?void 0:zt.startAndEndTimesByWindowId)}if(qe!==null){var Zt=be(qe,t.sessionPlayerData.metadata.segments);Zt!==null&&ne.push(_(_({},Oe),{},{playerTime:Zt,playerPosition:qe,percentageOfRecordingDuration:100*Zt/t.sessionPlayerData.metadata.recordingDurationMs}))}}),L=[].concat(fe()((m=(x=t.sessionEventsData)===null||x===void 0?void 0:x.events)!==null&&m!==void 0?m:[]),ne).sort(function(Oe,de){return Oe.playerTime-de.playerTime}),Se.abrupt("return",_(_({},t.sessionEventsData),{},{next:$==null?void 0:$.next,events:L}));case 14:case"end":return Se.stop()}},i)}));function a(i,l){return s.apply(this,arguments)}return a}()}}},selectors:{eventsToShow:[function(r){return[r.filters,r.sessionEventsData]},function(r,n){var t,s=(t=n==null?void 0:n.events)!==null&&t!==void 0?t:[];return r!=null&&r.query?new ae.a(At(s),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(i,l){return s[i.idx].timestamp-s[l.idx].timestamp||i.score-l.score}}).search(r.query).map(function(a){return a.item}):s}],eventsApiParams:[function(r){return[r.sessionPlayerData]},function(r){var n,t,s,a=(n=r.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,i=(t=r.metadata.segments.slice(-1).pop())===null||t===void 0?void 0:t.endTimeEpochMs;if(!(!(r==null||(s=r.person)===null||s===void 0)&&s.id)||!a||!i)return null;var l=6e4;return{person_id:r.person.id,after:I.a.utc(a).subtract(l,"ms").format(),before:I.a.utc(i).add(l,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(r){return[r.sessionPlayerData]},function(r){var n,t,s=[];return r==null||(n=r.metadata)===null||n===void 0||(t=n.segments)===null||t===void 0||t.forEach(function(a){var i;r==null||(i=r.snapshotsByWindowId[a.windowId])===null||i===void 0||i.forEach(function(l){if(l.type===6&&l.data.plugin===xt&&l.timestamp>=a.startTimeEpochMs&&l.timestamp<=a.endTimeEpochMs){var c,d,m=l.data.payload,x=m.level,O=m.payload,w=m.trace,$=O==null||(c=O.map)===null||c===void 0?void 0:c.call(O,function(de){return de.startsWith('"')&&de.endsWith('"')?de.slice(1,-1):de}).join(" "),L,ne;if(w&&w.length>0){var Ee=w[0].split("(").slice(-1)[0].replace(")",""),Ne=Ee.split(":"),Se=Ne.slice(-2).join(":");if(ne=Ne.slice(0,-2).join(":"),Ne.length>=4)try{var Oe=new URL(ne).pathname.split("/").slice(-1)[0];L="".concat(Oe,":").concat(Se)}catch(de){L=":".concat(Se)}else L=":".concat(Se)}s.push({playerPosition:Fe(l.timestamp,a.windowId,r==null||(d=r.metadata)===null||d===void 0?void 0:d.startAndEndTimesByWindowId),parsedTraceURL:ne,parsedTraceString:L,parsedPayload:$,level:x})}})}),s}],areAllSnapshotsLoaded:[function(r){return[r.sessionPlayerData]},function(r){var n,t;return(r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&z()(r==null||(t=r.metadata)===null||t===void 0?void 0:t.segments.slice(-1)[0].endPlayerPosition,r==null?void 0:r.bufferedTo)}]},urlToAction:function(n){var t=n.actions,s=n.values,a=n.cache,i=function(c,d,m){var x=d.source,O=m.sessionRecordingId;x&&Object.values(re.d).includes(x)&&t.setSource(x),s&&O&&O!==s.sessionRecordingId&&(a.startTime=performance.now(),t.loadRecordingMeta(O),t.loadRecordingSnapshots(O))};return{"/recordings":i,"/person/*":i,"/insights/*":i}}});function Ft(r,n){var t;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=Et(r))||n&&r&&typeof r.length=="number"){t&&(r=t);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(m){throw m},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){t=r[Symbol.iterator]()},n:function(){var m=t.next();return i=m.done,m},e:function(m){l=!0,c=m},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(l)throw c}}}}function Et(r,n){if(!!r){if(typeof r=="string")return Kt(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kt(r,n)}}function Kt(r,n){(n==null||n>r.length)&&(n=r.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=r[t];return s}var Tt=[.5,1,2,4,8,16],Me=Object(u.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[re.f],values:[st,["sessionRecordingId","sessionPlayerData"]],actions:[st,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:t}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(t,s){var a=s.frame;return a}}],player:[null,{setPlayer:function(t,s){var a=s.player;return a}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(t,s){var a=s.playerPosition;return a}}],currentSegment:[null,{setCurrentSegment:function(t,s){var a=s.segment;return a}}],speed:[1,{persist:!0},{setSpeed:function(t,s){var a=s.speed;return a}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(t,s){var a=s.skipInactivitySetting;return a}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(t,s){var a=s.isSkippingInactivity;return a}}],scale:[1,{setScale:function(t,s){var a=s.scale;return a}}],playingState:[se.C.PLAY,{setPlay:function(){return se.C.PLAY},setPause:function(){return se.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(r){return[r.playingState,r.isBuffering,r.isScrubbing,r.isSkippingInactivity]},function(r,n,t,s){return t?r:n?se.C.BUFFER:s&&r!==se.C.PAUSE?se.C.SKIP:r}],currentPlayerTime:[function(r){return[r.currentPlayerPosition,r.sessionPlayerData]},function(r,n){var t;if((n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments)&&r){var s;return be(r,n==null||(s=n.metadata)===null||s===void 0?void 0:s.segments)}return 0}],jumpTimeMs:[function(r){return[r.speed]},function(r){return 10*1e3*r}]},listeners:function(n){var t=n.values,s=n.actions,a=n.cache;return{setRootFrame:function(){s.tryInitReplayer()},tryInitReplayer:function(){var l,c,d=(l=(c=t.currentPlayerPosition)===null||c===void 0?void 0:c.windowId)!==null&&l!==void 0?l:null;if(s.setPlayer(null),t.rootFrame&&(t.rootFrame.innerHTML=""),!t.rootFrame||d===null||!t.sessionPlayerData.snapshotsByWindowId[d]||t.sessionPlayerData.snapshotsByWindowId[d].length<2){s.setPlayer(null);return}var m=new Te.a(t.sessionPlayerData.snapshotsByWindowId[d],{root:t.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});s.setPlayer({replayer:m,windowId:d})},setPlayer:function(l){var c=l.player;c&&(s.seek(t.currentPlayerPosition),s.syncPlayerSpeed())},setCurrentSegment:function(l){var c=l.segment;if(!c.isActive&&t.skipInactivitySetting?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1),t.player&&t.player.windowId!==c.windowId){var d,m;(d=t.player)===null||d===void 0||(m=d.replayer)===null||m===void 0||m.pause(),s.tryInitReplayer()}s.seek(t.currentPlayerPosition)},setSkipInactivitySetting:function(l){var c,d=l.skipInactivitySetting;re.f.actions.reportRecordingPlayerSkipInactivityToggled(d),!(!((c=t.currentSegment)===null||c===void 0)&&c.isActive)&&d?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1)},setSkippingInactivity:function(){s.syncPlayerSpeed()},syncPlayerSpeed:function(){if(t.isSkippingInactivity){var l,c,d,m,x,O,w,$=(((l=(c=t.currentSegment)===null||c===void 0||(d=c.endPlayerPosition)===null||d===void 0?void 0:d.time)!==null&&l!==void 0?l:0)-((m=(x=t.currentPlayerPosition)===null||x===void 0?void 0:x.time)!==null&&m!==void 0?m:0))/1e3,L=Math.max(50,$);(O=t.player)===null||O===void 0||(w=O.replayer)===null||w===void 0||w.setConfig({speed:L})}else{var ne,Ee;(ne=t.player)===null||ne===void 0||(Ee=ne.replayer)===null||Ee===void 0||Ee.setConfig({speed:t.speed})}},checkBufferingCompleted:function(){t.currentPlayerPosition&&t.sessionPlayerData.bufferedTo&&t.currentPlayerState===se.C.BUFFER&&Ue(t.currentPlayerPosition,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)<0&&(s.endBuffer(),s.seek(t.currentPlayerPosition))},initializePlayerFromStart:function(){var l,c,d=(l=t.sessionPlayerData)===null||l===void 0||(c=l.metadata)===null||c===void 0?void 0:c.segments[0];d&&(s.setCurrentSegment(d),s.setCurrentPlayerPosition(d.startPlayerPosition),t.player||s.tryInitReplayer())},loadRecordingMetaSuccess:function(){var i=te()(H.a.mark(function c(d,m){return H.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:s.initializePlayerFromStart(),s.checkBufferingCompleted(),m();case 3:case"end":return O.stop()}},c)}));function l(c,d){return i.apply(this,arguments)}return l}(),loadRecordingSnapshotsSuccess:function(){var i=te()(H.a.mark(function c(d,m){var x,O,w,$,L,ne,Ee,Ne,Se,Oe,de,_e,We,rt;return H.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(ne=(x=(O=t.player)===null||O===void 0||(w=O.replayer)===null||w===void 0?void 0:w.service.state.context.events)!==null&&x!==void 0?x:[],Ee=[],(($=t.currentSegment)===null||$===void 0?void 0:$.windowId)!==void 0&&Ee.push.apply(Ee,fe()(((Ne=t.sessionPlayerData.snapshotsByWindowId[(Se=t.currentSegment)===null||Se===void 0?void 0:Se.windowId])!==null&&Ne!==void 0?Ne:[]).slice(ne.length))),!(!((L=t.player)===null||L===void 0)&&L.replayer)){ze.next=23;break}Oe=Ft(Ee),ze.prev=5,Oe.s();case 7:if((de=Oe.n()).done){ze.next=13;break}return rt=de.value,ze.next=11,(_e=t.player)===null||_e===void 0||(We=_e.replayer)===null||We===void 0?void 0:We.addEvent(rt);case 11:ze.next=7;break;case 13:ze.next=18;break;case 15:ze.prev=15,ze.t0=ze.catch(5),Oe.e(ze.t0);case 18:return ze.prev=18,Oe.f(),ze.finish(18);case 21:ze.next=24;break;case 23:s.initializePlayerFromStart();case 24:s.checkBufferingCompleted(),m();case 26:case"end":return ze.stop()}},c,null,[[5,15,18,21]])}));function l(c,d){return i.apply(this,arguments)}return l}(),setPlay:function(){var l;s.stopAnimation(),s.syncPlayerSpeed();var c=t.currentPlayerPosition||((l=t.currentSegment)===null||l===void 0?void 0:l.startPlayerPosition);c&&s.seek(c,!0)},setPause:function(){var l,c;s.stopAnimation(),s.syncPlayerSpeed(),(l=t.player)===null||l===void 0||(c=l.replayer)===null||c===void 0||c.pause()},startBuffer:function(){s.stopAnimation()},startScrub:function(){s.stopAnimation()},setSpeed:function(l){var c=l.speed;re.f.actions.reportRecordingPlayerSpeedChanged(c),s.syncPlayerSpeed()},seek:function(){var i=te()(H.a.mark(function c(d,m){var x,O,w,$,L,ne,Ee,Ne,Se,Oe,de,_e,We;return H.a.wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:w=d.playerPosition,$=d.forcePlay,s.stopAnimation(),s.setCurrentPlayerPosition(w),L=null,w&&((x=t.sessionPlayerData)===null||x===void 0?void 0:x.metadata)&&(L=Ze(w,t.sessionPlayerData.metadata.segments),L&&(L.windowId!==((ne=t.currentSegment)===null||ne===void 0?void 0:ne.windowId)||L.startTimeEpochMs!==((Ee=t.currentSegment)===null||Ee===void 0?void 0:Ee.startTimeEpochMs))&&s.setCurrentSegment(L)),!(!((O=t.sessionPlayerData)===null||O===void 0)&&O.bufferedTo)||!w||!t.currentSegment||Ue(w,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0?((Ne=t.player)===null||Ne===void 0||(Se=Ne.replayer)===null||Se===void 0||Se.pause(),s.startBuffer()):!$&&t.currentPlayerState===se.C.PAUSE?((Oe=t.player)===null||Oe===void 0||(de=Oe.replayer)===null||de===void 0||de.pause(w.time),s.endBuffer()):((_e=t.player)===null||_e===void 0||(We=_e.replayer)===null||We===void 0||We.play(w.time),s.updateAnimation(),s.endBuffer()),m();case 7:case"end":return qe.stop()}},c)}));function l(c,d){return i.apply(this,arguments)}return l}(),seekForward:function(){if(t.currentPlayerPosition){var l=be(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(l!==null){var c=l+t.jumpTimeMs,d=J(c,t.sessionPlayerData.metadata.segments);d||(s.setPause(),d=t.sessionPlayerData.metadata.segments[0].startPlayerPosition),s.seek(d)}}},seekBackward:function(){if(t.currentPlayerPosition){var l=be(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(l!==null){var c=Math.max(l-t.jumpTimeMs,0),d=J(c,t.sessionPlayerData.metadata.segments);s.seek(d)}}},togglePlayPause:function(){t.currentPlayerState!==se.C.BUFFER&&(t.currentPlayerState===se.C.PAUSE?s.setPlay():s.setPause())},updateAnimation:function(){var l,c,d,m,x=(l=t.player)===null||l===void 0||(c=l.replayer)===null||c===void 0?void 0:c.getCurrentTime(),O=null;if(x!==void 0&&t.currentSegment&&(O={windowId:t.currentSegment.windowId,time:Math.min(x,t.currentSegment.endPlayerPosition.time)}),O&&((d=t.currentSegment)===null||d===void 0?void 0:d.endPlayerPosition)&&Ue(O,(m=t.currentSegment)===null||m===void 0?void 0:m.endPlayerPosition,t.sessionPlayerData.metadata.segments)>=0){var w=t.sessionPlayerData.metadata.segments.indexOf(t.currentSegment)+1;if(w<t.sessionPlayerData.metadata.segments.length){var $=t.sessionPlayerData.metadata.segments[w];s.setCurrentPlayerPosition($.startPlayerPosition),s.setCurrentSegment($)}else s.setPause(),s.setCurrentPlayerPosition(t.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!t.sessionPlayerData.bufferedTo||!O||!t.currentSegment||Ue(O,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0){var L,ne;(L=t.player)===null||L===void 0||(ne=L.replayer)===null||ne===void 0||ne.pause(),s.startBuffer()}else s.setCurrentPlayerPosition(O),a.timer=requestAnimationFrame(s.updateAnimation)},stopAnimation:function(){a.timer&&cancelAnimationFrame(a.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(Ie.b)("md")}},events:function(n){var t=n.values,s=n.actions;return{beforeUnmount:function(){var i,l;(i=t.player)===null||i===void 0||(l=i.replayer)===null||l===void 0||l.pause(),s.setPlayer(null)}}}}),Ht=e("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Gt=e("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function Qe(r){var n=r.children,t=r.onClick,s=t===void 0?function(){}:t,a=r.className,i=a===void 0?"":a;return o.a.createElement("div",{onClick:s,className:"rrweb-controller-icon ".concat(i)},n)}function Dt(r){var n=r.onClick,t=r.time;return o.a.createElement(Qe,{onClick:n,className:"rrweb-controller-icon-seek"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"seek-seconds"},t),o.a.createElement(Ht.a,{className:"seek-icon",rotate:90})))}function Lt(r){var n=r.onClick,t=r.time;return o.a.createElement(Qe,{onClick:n,className:"rrweb-controller-icon-seek"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"seek-seconds"},t),o.a.createElement(Gt.a,{className:"seek-icon",rotate:270})))}function lt(r){var n=r.onClick,t=r.className,s=t===void 0?"":t;return o.a.createElement(Qe,{onClick:n,className:s},o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function ct(r){var n=r.onClick,t=r.className,s=t===void 0?"":t;return o.a.createElement(Qe,{onClick:n,className:s},o.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function vt(r){var n=r.onClick,t=r.className,s=t===void 0?"":t;return o.a.createElement(Qe,{onClick:n,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Mt(r){var n=r.onClick,t=r.className,s=t===void 0?"":t;return o.a.createElement(Qe,{onClick:n,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function kt(r){var n=r.onClick,t=r.className,s=t===void 0?"":t;return o.a.createElement(Qe,{onClick:n,className:s},o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Dt.displayName="IconSeekBack",Dt.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Dt.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(r){}try{Lt.displayName="IconSeekForward",Lt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:Lt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(r){}try{lt.displayName="IconPlay",lt.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:lt.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(r){}try{ct.displayName="IconPause",ct.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:ct.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(r){}try{vt.displayName="IconFullscreen",vt.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:vt.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(r){}try{Mt.displayName="IconStepForward",Mt.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Mt.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(r){}try{kt.displayName="IconStepBackward",kt.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:kt.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(r){}var Nt=o.a.forwardRef(function(n,t){var s=Object(D.useRef)(),a=Object(u.useValues)(Me),i=a.currentPlayerState,l=a.player,c=Object(u.useActions)(Me),d=c.togglePlayPause,m=c.setScale,x=t;Object(D.useEffect)(function(){if(!!l)return l.replayer.on("resize",w),window.addEventListener("resize",O),function(){return window.removeEventListener("resize",O)}},[l==null?void 0:l.replayer]);var O=function(){w(s.current)},w=function(ne){var Ee;if(!(!ne||!(!(x==null||(Ee=x.current)===null||Ee===void 0)&&Ee.parentElement)||!(l!=null&&l.replayer))){s.current=ne;var Ne=x.current.parentElement.getBoundingClientRect(),Se=Ne.width,Oe=Ne.height,de=Math.min(Se/ne.width,Oe/ne.height,1);l.replayer.wrapper.style.transform="scale(".concat(de,")"),x.current.style.paddingLeft="".concat((Se-ne.width*de)/2,"px"),x.current.style.paddingTop="".concat((Oe-ne.height*de)/2,"px"),x.current.style.marginBottom="-".concat(Oe-ne.height*de,"px"),m(de)}},$=function(){return i===se.C.BUFFER?o.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):i===se.C.PAUSE?o.a.createElement("div",{className:"rrweb-overlay"},o.a.createElement(lt,{className:"rrweb-overlay-play-icon"})):i===se.C.SKIP?o.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return o.a.createElement("div",{className:"rrweb-player",onClick:d},o.a.createElement("div",{ref:t}),o.a.createElement("div",{className:"rrweb-overlay-container"},$()))});try{Nt.displayName="PlayerFrame",Nt.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:Nt.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(r){}var Bt=e("./node_modules/antd/es/select/index.js"),_t=e("./node_modules/antd/es/switch/index.js"),Xt=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),$t=e.n(Xt),yt={};yt.insert="head",yt.singleton=!1;var ut=pe()($t.a,yt),Rt=$t.a.locals||{},gt=e("./node_modules/clsx/dist/clsx.m.js"),ht=Object(u.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[Me,["sessionPlayerData","currentPlayerPosition"],st,["eventsToShow"]],actions:[Me,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,t){return{thumbLeftPos:n,shouldSeek:t}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:t}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-me,{setThumbLeftPos:function(n,t){var s=t.thumbLeftPos;return s}}],cursorDiff:[0,{setCursorDiff:function(n,t){var s=t.cursorDiff;return s}}],slider:[null,{setSlider:function(n,t){var s=t.ref;return s.current}}],thumb:[null,{setThumb:function(n,t){var s=t.ref;return s.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(r){return[r.sessionPlayerData]},function(r){var n,t;if((r==null?void 0:r.bufferedTo)&&(r==null||(n=r.metadata)===null||n===void 0?void 0:n.segments)&&(r==null||(t=r.metadata)===null||t===void 0?void 0:t.recordingDurationMs)){var s,a=(s=be(r.bufferedTo,r.metadata.segments))!==null&&s!==void 0?s:0;return 100*a/r.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(r){return[r.thumbLeftPos,r.slider,r.sessionPlayerData]},function(r,n,t){var s;return r&&n&&(t==null||(s=t.metadata)===null||s===void 0?void 0:s.recordingDurationMs)?(r+me)/n.offsetWidth*t.metadata.recordingDurationMs:0}]},listeners:function(n){var t=n.values,s=n.actions;return{setCurrentPlayerPosition:function(){var a=te()(H.a.mark(function l(){var c,d,m,x;return H.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(t.slider){w.next=2;break}return w.abrupt("return");case 2:(!t.isSeeking||t.currentPlayerPosition===((c=t.sessionPlayerData)===null||c===void 0||(d=c.metadata)===null||d===void 0||(m=d.segments[0])===null||m===void 0?void 0:m.startPlayerPosition))&&(x=t.currentPlayerPosition?v(t.currentPlayerPosition,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs):0,s.setThumbLeftPos(x-me,!1));case 3:case"end":return w.stop()}},l)}));function i(){return a.apply(this,arguments)}return i}(),setThumbLeftPos:function(i){var l,c=i.thumbLeftPos,d=i.shouldSeek;if(!!t.slider&&d&&((l=t.sessionPlayerData)===null||l===void 0?void 0:l.metadata)){var m=k(c+me,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs);s.seek(m)}},handleSeek:function(){var a=te()(H.a.mark(function l(c){var d,m,x,O,w;return H.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return x=c.newX,O=c.shouldSeek,w=(d=(m=t.slider)===null||m===void 0?void 0:m.offsetWidth)!==null&&d!==void 0?d:0,L.next=4,s.setThumbLeftPos(Object(E.m)(x,0,w)-me,O);case 4:s.endSeeking();case 5:case"end":return L.stop()}},l)}));function i(l){return a.apply(this,arguments)}return i}(),handleMove:function(){var a=te()(H.a.mark(function l(c){var d,m;return H.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(d=c.event,t.slider){O.next=3;break}return O.abrupt("return");case 3:s.startScrub(),m=Le(d)-t.cursorDiff-t.slider.getBoundingClientRect().left,s.handleSeek(m,!1);case 6:case"end":return O.stop()}},l)}));function i(l){return a.apply(this,arguments)}return i}(),handleUp:function(i){var l=i.event;if(!!t.slider){var c=Le(l)-t.cursorDiff-t.slider.getBoundingClientRect().left;s.handleSeek(c),s.endScrub(),document.removeEventListener("touchmove",s.handleMove),document.removeEventListener("touchend",s.handleUp),document.removeEventListener("mousemove",s.handleMove),document.removeEventListener("mouseup",s.handleUp)}},handleDown:function(i){var l=i.event;if(!!t.thumb){s.startScrub();var c=Le(l),d=c-t.thumb.getBoundingClientRect().left-me;Math.abs(d)>ge&&(d=0),s.setCursorDiff(d),document.addEventListener("touchmove",s.handleMove),document.addEventListener("touchend",s.handleUp),document.addEventListener("mousemove",s.handleMove),document.addEventListener("mouseup",s.handleUp)}},handleTickClick:function(i){var l=i.playerPosition;t.isSeeking||s.handleSeek(v(l,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var t=n.actions,s=n.values,a=n.cache;return{afterMount:function(){a.setCurrentPlayerPosition=function(){t.setCurrentPlayerPosition(s.currentPlayerPosition)},window.addEventListener("resize",a.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",a.setCurrentPlayerPosition)}}}});function Pt(r){var n=r.event,t=Object(D.useState)(!1),s=K()(t,2),a=s[0],i=s[1],l=Object(u.useActions)(ht),c=l.handleTickClick,d=Object(u.useActions)(re.f),m=d.reportRecordingPlayerSeekbarEventHovered;return o.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(O){O.stopPropagation(),c(n.playerPosition)},onMouseEnter:function(O){O.stopPropagation(),i(!0),m()},onMouseLeave:function(O){O.stopPropagation(),i(!1)}},o.a.createElement("div",{className:Object(gt.a)("tick-info",{show:a})},n.event),o.a.createElement("div",{className:"tick-marker"}),o.a.createElement("div",{className:Object(gt.a)("tick-thumb",{big:a})}))}function Ct(){var r,n,t=Object(D.useRef)(null),s=Object(D.useRef)(null),a=Object(u.useActions)(ht),i=a.handleDown,l=a.setSlider,c=a.setThumb,d=Object(u.useValues)(st),m=d.eventsToShow,x=d.sessionPlayerData,O=Object(u.useValues)(ht),w=O.thumbLeftPos,$=O.bufferPercent;return Object(D.useEffect)(function(){t.current&&s.current&&(l(t),c(s))},[t.current,s.current]),o.a.createElement("div",{className:"rrweb-controller-slider"},o.a.createElement("div",{className:"slider",ref:t,onMouseDown:i,onTouchStart:i},o.a.createElement("div",{className:"inactivity-bar"},x==null||(r=x.metadata)===null||r===void 0||(n=r.segments)===null||n===void 0?void 0:n.map(function(L){return o.a.createElement("div",{key:"".concat(L.windowId,"-").concat(L.startTimeEpochMs),className:Object(gt.a)("activity-section",!L.isActive&&"inactive-section"),style:{width:"".concat(100*L.durationMs/x.metadata.recordingDurationMs,"%")}})})),o.a.createElement("div",{className:"slider-bar"}),o.a.createElement("div",{className:"thumb",ref:s,style:{transform:"translateX(".concat(w,"px)")}}),o.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(w,0),"px")}}),o.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat($,"% - 2px)")}})),o.a.createElement("div",{className:"ticks"},m.map(function(L){return o.a.createElement(Pt,{key:L.id,event:L})})))}var St=e("./node_modules/antd/es/tooltip/index.js");function Qt(){var r,n,t,s=Object(u.useActions)(Me),a=s.seekBackward,i=s.seekForward,l=Object(u.useValues)(Me),c=l.jumpTimeMs,d=l.currentPlayerTime,m=l.sessionPlayerData,x=Object(u.useValues)(ht),O=x.isScrubbing,w=x.scrubbingTime;return o.a.createElement(o.a.Fragment,null,o.a.createElement(St.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(c/1e3,"s (\u2190 left arrow)")},o.a.createElement("span",null,o.a.createElement(Dt,{onClick:a,time:c/1e3}))),o.a.createElement(St.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(c/1e3,"s (\u2192 right arrow)")},o.a.createElement("span",null,o.a.createElement(Lt,{onClick:i,time:c/1e3}))),o.a.createElement("div",{className:"rrweb-timestamp"},Object(E.o)(((r=O?w:d)!==null&&r!==void 0?r:0)/1e3)," /"," ",Object(E.o)(Math.floor(((n=m==null||(t=m.metadata)===null||t===void 0?void 0:t.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function Vt(){var r=Object(u.useActions)(Me),n=r.togglePlayPause,t=r.setSpeed,s=r.setSkipInactivitySetting,a=Object(u.useValues)(Me),i=a.currentPlayerState,l=a.speed,c=a.isSmallScreen,d=a.skipInactivitySetting;return o.a.createElement("div",{className:"rrweb-controller"},o.a.createElement("span",null,i===se.C.PLAY?o.a.createElement(ct,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):o.a.createElement(lt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!c&&o.a.createElement(Qt,null),o.a.createElement("div",{className:"rrweb-progress"},o.a.createElement(Ct,null)),o.a.createElement(Bt.a,{onChange:function(x){return t(x)},value:l,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},o.a.createElement(Bt.a.OptGroup,{label:"Speed"},Tt.map(function(m){return o.a.createElement(Bt.a.Option,{key:m,value:m},m,"x")}))),o.a.createElement("div",{onClick:function(){s(!d)},className:"rrweb-inactivity-toggle"},o.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),o.a.createElement(_t.a,{checked:d,size:"small"})))}var mn=e("./node_modules/core-js/modules/es.symbol.js"),pn=e("./node_modules/core-js/modules/es.symbol.description.js"),en=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),tn=e.n(en),Yt={};Yt.insert="head",Yt.singleton=!1;var nn=pe()(tn.a,Yt),ln=tn.a.locals||{},Jt=e("./node_modules/antd/es/empty/index.js"),ot=e("./node_modules/antd/es/row/index.js"),bt=e("./node_modules/antd/es/col/index.js"),wt=e("./node_modules/antd/es/skeleton/index.js"),rn=e("./node_modules/antd/es/input/index.js"),dn=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),sn=e("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),Je=e("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),dt=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Ut=e("./node_modules/react-virtualized/dist/es/List/index.js"),It=e("./node_modules/react-virtualized/dist/es/Grid/index.js"),fn=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Zn=e("./node_modules/core-js/modules/es.array.find-index.js");function vn(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function on(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?vn(Object(t),!0).forEach(function(s){M()(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}var Rn=65,Cn=50,wn=150*5,yn=Object(u.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[re.f],actions:[st,["setFilters","loadEventsSuccess"],Me,["seek"]],values:[st,["eventsToShow","sessionEventsDataLoading"],Me,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,t){var s=t.filters;return on(on({},n),s)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,t){var s=t.renderMeta;return s}}],list:[null,{setList:function(n,t){var s=t.list;return s}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var t=n.actions,s=n.values;return{setLocalFilters:function(){var a=te()(H.a.mark(function l(c,d){return H.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,d(250);case 2:t.setFilters(s.localFilters);case 3:case"end":return x.stop()}},l)}));function i(l,c){return a.apply(this,arguments)}return i}(),scrollTo:function(){var a=te()(H.a.mark(function l(c,d){var m,x;return H.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return m=c.rowIndex,x=m!=null?m:s.currentEventsIndices.startIndex,s.list&&(s.list.scrollToPosition(s.list.getOffsetForRow({alignment:"center",index:x})),re.f.actions.reportRecordingScrollTo(x)),w.next=5,d(wn);case 5:t.enablePositionFinder();case 6:case"end":return w.stop()}},l)}));function i(l,c){return a.apply(this,arguments)}return i}(),handleEventClick:function(i){var l=i.playerPosition;l&&t.seek(l)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(t){var s;return on(on({},t),{},{colonTimestamp:Object(E.o)(Math.floor(((s=t.playerTime)!==null&&s!==void 0?s:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,t){var s;if(n.length<1)return{start:0,end:0};var a=n.findIndex(function(c){var d;return((d=c.playerTime)!==null&&d!==void 0?d:0)>=Object(E.k)(t!=null?t:0)}),i=Math.max(Object(E.k)(t!=null?t:0),1e3),l=Object(E.E)((s=n[Object(E.m)(a===-1?n.length-1:a-1,0,n.length-1)].playerTime)!==null&&s!==void 0?s:0);return{start:l,end:i}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,t){return function(s){var a,i,l,c;return((a=t==null||(i=t[s])===null||i===void 0?void 0:i.playerTime)!==null&&a!==void 0?a:0)>=n.start&&((l=t==null||(c=t[s])===null||c===void 0?void 0:c.playerTime)!==null&&l!==void 0?l:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,t){return{startIndex:Object(E.m)(n.findIndex(function(s,a){return t(a)}),0,n.length-1),stopIndex:Object(E.m)(Object(E.C)(n,function(s,a){return t(a)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,t){if(!t||!t.Grid||n.startIndex>=t.Grid.props.rowCount||n.stopIndex>t.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var s=t.Grid.state,a=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,i=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:a,height:i.offset+i.size-a}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(t){return t>=n.overscanStartIndex&&t<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,t,s){return!s&&(n.stopIndex<t.startIndex||n.startIndex>t.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,t){return n.startIndex>t.stopIndex}]}}}),qt=e("./frontend/src/lib/components/icons.tsx");function gn(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function hn(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?gn(Object(t),!0).forEach(function(s){M()(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gn(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function In(r){var n=r.cellCount,t=r.overscanCellsCount,s=r.startIndex,a=r.stopIndex,i=Math.floor(t/2),l=t-i;return{overscanStartIndex:Math.max(0,s-i),overscanStopIndex:Math.min(n-1,a+l)}}var An=function(n){return n.event==="$pageview"?o.a.createElement(qt.PageviewIcon,null):n.event==="$pageleave"?o.a.createElement(qt.PageleaveIcon,null):n.event==="$autocapture"?o.a.createElement(qt.AutocaptureIcon,null):o.a.createElement(qt.EventIcon,null)};function Fn(){return o.a.createElement("div",{className:"event-list-empty-container"},o.a.createElement(Jt.a,{image:Jt.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function Dn(r){var n=r.description,t=Object(D.useRef)(null);return o.a.createElement("span",{className:Object(gt.a)("event-item-content-subtitle",Object(E.U)(t.current)&&"overflowing"),title:n},o.a.createElement("div",{className:"inner",ref:t},n))}function bn(){var r=Object(D.useRef)(null),n=Object(u.useValues)(yn),t=n.localFilters,s=n.listEvents,a=n.currentEventsBoxSizeAndPosition,i=n.showPositionFinder,l=n.isRowIndexRendered,c=n.isEventCurrent,d=n.isDirectionUp,m=n.renderedRows,x=Object(u.useValues)(st),O=x.sessionEventsDataLoading,w=Object(u.useActions)(yn),$=w.setLocalFilters,L=w.setRenderedRows,ne=w.setList,Ee=w.scrollTo,Ne=w.disablePositionFinder,Se=w.handleEventClick;Object(D.useEffect)(function(){r!=null&&r.current&&ne(r.current)},[r.current]);var Oe=Object(D.useCallback)(function(We){var rt=We.index,qe=We.style,ze=We.key,mt=s[rt],Wt=Object(p.d)(mt.event,"event"),zt=c(rt);return o.a.createElement(ot.a,{key:ze,className:Object(gt.a)("event-list-item",{"current-event":zt}),align:"top",style:hn(hn({},qe),{},{zIndex:s.length-rt}),onClick:function(){Se(mt.playerPosition)}},o.a.createElement(bt.a,{className:"event-item-icon"},o.a.createElement("div",{className:"event-item-icon-wrapper"},An(mt))),o.a.createElement(bt.a,{className:Object(gt.a)("event-item-content",{rendering:!l(rt)})},o.a.createElement(ot.a,{className:"event-item-content-top-row"},o.a.createElement(p.b,{className:"event-item-content-title",value:mt.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),o.a.createElement("span",{className:"event-item-content-timestamp"},mt.colonTimestamp)),Wt&&o.a.createElement(Dn,{description:Object(E.j)(Object(E.B)(mt,!0))}),o.a.createElement(wt.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[s.length,m.startIndex,m.stopIndex,a.top,a.height]),de=Object(D.useCallback)(function(We){var rt=Object(It.c)(We);return s.length>0&&rt.push(o.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:a.height,transform:"translateY(".concat(a.top,"px)")}})),rt},[a.top,a.height,O,s.length]);return o.a.createElement(bt.a,{className:"player-events-container"},o.a.createElement(rn.a,{prefix:o.a.createElement(dn.a,null),placeholder:"Search for events",value:t.query,onChange:function(We){return $({query:We.target.value})}}),o.a.createElement(bt.a,{className:"event-list"},O?o.a.createElement(E.b,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Object(gt.a)("current-events-position-finder",{visible:i})},o.a.createElement(ot.a,{className:"left",align:"middle",wrap:!1,onClick:function(){Ee()}},d?o.a.createElement(sn.a,null):o.a.createElement(Je.a,null),"Jump to current time"),o.a.createElement(ot.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){Ne()}},o.a.createElement(dt.a,null))),o.a.createElement(fn.a,null,function(_e){var We=_e.height,rt=_e.width;return o.a.createElement(Ut.b,{ref:r,className:"event-list-virtual",height:We,width:rt,onRowsRendered:L,noRowsRenderer:Fn,cellRangeRenderer:de,overscanRowCount:Cn,overscanIndicesGetter:In,rowCount:s.length,rowRenderer:Oe,rowHeight:Rn})}))))}var En=e("./node_modules/antd/es/tabs/index.js"),Ln=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Mn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),Sn=e.n(Mn),cn={};cn.insert="head",cn.singleton=!1;var Qn=pe()(Sn.a,cn),Jn=Sn.a.locals||{},Nn=e("./node_modules/antd/es/space/index.js"),Bn=e("./frontend/src/lib/components/ProfilePicture/index.ts"),Vn=e("./frontend/src/scenes/persons/PersonHeader.tsx"),qn=e("./node_modules/core-js/modules/es.array.filter.js"),er=e("./node_modules/core-js/modules/es.array.some.js"),Pn=function(n,t){return t.some(function(s){var a;return!(!(n==null||(a=n.properties)===null||a===void 0)&&a[s])})?null:t.map(function(s){var a;return n==null||(a=n.properties)===null||a===void 0?void 0:a[s]}).join(", ")},Un=Object(u.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[st,["sessionPlayerData"],Me,["currentPlayerPosition","scale"]],actions:[st,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(r){return[r.sessionPlayerData]},function(r){return r==null?void 0:r.person}],description:[function(r){return[r.sessionPerson]},function(r){var n=Pn(r,["$geoip_city_name","$geoip_country_code"]),t=Pn(r,["$browser","$os"]);return[t,n].filter(function(s){return s}).join(" \xB7 ")}],resolution:[function(r){return[r.sessionPlayerData,r.currentPlayerPosition]},function(r,n){var t,s;if(!n)return null;var a=(t=r.snapshotsByWindowId[n.windowId])!==null&&t!==void 0?t:[],i=(s=Xe(n,r.metadata.startAndEndTimesByWindowId))!==null&&s!==void 0?s:0,l=Object(E.C)(a,function(d){return d.timestamp<i&&"width"in d.data});if(l===-1)return null;var c=a[l];return{width:c.data.width,height:c.data.height}}],recordingStartTime:[function(r){return[r.sessionPlayerData]},function(r){var n,t;return r==null||(n=r.metadata)===null||n===void 0||(t=n.segments[0])===null||t===void 0?void 0:t.startTimeEpochMs}]}}),Wn=e("./frontend/src/scenes/funnels/funnelUtils.ts"),zn=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function Kn(){var r,n=Object(u.useValues)(Un),t=n.sessionPerson,s=n.description,a=n.resolution,i=n.scale,l=n.recordingStartTime,c=n.loading;return o.a.createElement(bt.a,{className:"player-meta-container"},o.a.createElement(ot.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},o.a.createElement(ot.a,{className:"player-meta-person-title",align:"middle",wrap:!1},c?o.a.createElement(Nn.b,null,o.a.createElement(wt.a.Avatar,{active:!0,size:"small",shape:"circle"}),o.a.createElement(wt.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):o.a.createElement(o.a.Fragment,null,o.a.createElement(Bn.a,{name:t==null?void 0:t.name,email:t==null||(r=t.properties)===null||r===void 0?void 0:r.$email,size:"md",style:{marginRight:"0.5rem"}}),o.a.createElement("span",{className:"email"},o.a.createElement(Vn.a,{person:t,withIcon:!1})))),o.a.createElement(bt.a,null,c?o.a.createElement(wt.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):o.a.createElement("span",{className:"time text-muted"},l&&o.a.createElement(zn.b,{time:Object(I.a)(l)})))),o.a.createElement(ot.a,{className:"player-meta-other",align:"middle",justify:"start"},o.a.createElement(ot.a,{className:"player-meta-other-description"},c?o.a.createElement(wt.a,{title:!1,active:!0,paragraph:{rows:1}}):o.a.createElement("span",null,s)),o.a.createElement(ot.a,{className:"player-meta-other-resolution mt-05"},c?o.a.createElement(wt.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):o.a.createElement("span",null,a?o.a.createElement(o.a.Fragment,null,"Resolution: ",a.width," x ",a.height," (",Object(Wn.c)(i),"%)"):o.a.createElement(o.a.Fragment,null,"Resolution: ...")))))}var Gn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),xn=e.n(Gn),un={};un.insert="head",un.singleton=!1;var tr=pe()(xn.a,un),nr=xn.a.locals||{},On=e("./frontend/src/lib/components/LemonButton/index.ts"),kn=e("./frontend/src/lib/components/Spinner/Spinner.tsx");function _n(){var r=Object(u.useValues)(st),n=r.orderedConsoleLogs,t=r.areAllSnapshotsLoaded,s=Object(u.useActions)(re.f),a=s.reportRecordingConsoleFeedback,i=Object(u.useActions)(Me),l=i.seek,c=Object(D.useState)(!1),d=K()(c,2),m=d[0],x=d[1],O=function($,L){return o.a.createElement("div",{className:"log-line level-".concat($.level),key:L,onClick:function(){l($.playerPosition)}},o.a.createElement("div",{className:"trace-string"},$.parsedTraceURL?o.a.createElement("a",{className:"text-muted",href:$.parsedTraceURL,target:"_blank"},$.parsedTraceString):o.a.createElement("span",{className:"text-muted"},$.parsedTraceString)),o.a.createElement("p",{className:"log-text"},$.parsedPayload))};return o.a.createElement("div",{className:"console-log-container"},o.a.createElement("div",{className:"console-log"},t?n.length>0?o.a.createElement(fn.a,null,function(w){var $=w.height,L=w.width;return o.a.createElement("div",{style:{height:$,width:L,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(ne,Ee){return O(ne,Ee)}),o.a.createElement("div",null,n.length>150&&o.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):o.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},o.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),o.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",o.a.createElement("code",null,"posthog-js"),"."),o.a.createElement(On.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):o.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},o.a.createElement(kn.a,{size:"lg"}))),o.a.createElement("div",{className:"console-feedback-container"},o.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),m?o.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):o.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(w,$){return o.a.createElement(On.a,{type:"secondary",key:$,style:{margin:"0 8px"},onClick:function(){x(!0),a(n.length,w[0],"Are you finding the console log feature useful?")}},w[1])}))))}var $n=e("./frontend/src/lib/components/Tooltip.tsx");function Yn(){var r=Object(u.useActions)(Me),n=r.togglePlayPause,t=r.seekForward,s=r.seekBackward,a=r.setSpeed,i=r.setRootFrame,l=Object(u.useValues)(Me),c=l.isSmallScreen,d=Object(D.useRef)(null);Object(D.useEffect)(function(){d.current&&i(d.current)},[d]);var m=function(O){var w;if(!(!((w=O.target)===null||w===void 0)&&w.matches("input")))if(O.key===" ")n(),O.preventDefault();else if(O.key==="ArrowLeft")s();else if(O.key==="ArrowRight")t();else for(var $=0;$<Tt.length;$++)O.key===($+1).toString()&&a(Tt[$])};return o.a.createElement(bt.a,{className:"session-player-v2",onKeyDown:m,tabIndex:0,flex:1},o.a.createElement(ot.a,{className:"session-player-body",wrap:!1},o.a.createElement("div",{className:"player-container ph-no-capture"},o.a.createElement(Nt,{ref:d})),!c&&o.a.createElement(Tn,null)),o.a.createElement(ot.a,{className:"player-controller",align:"middle"},o.a.createElement(Vt,null)),c&&o.a.createElement(Tn,null))}var jn=En.a.TabPane;function Tn(){var r=Object(u.useValues)(V.a),n=r.featureFlags,t=Object(u.useValues)(st),s=t.orderedConsoleLogs,a=Object(u.useActions)(re.f),i=a.reportRecordingConsoleViewed,l=n[oe.n.SESSION_CONSOLE];return o.a.createElement(bt.a,{className:"player-sidebar"},o.a.createElement("div",{className:"player-meta"},o.a.createElement(Kn,null)),o.a.createElement("div",{className:"player-events"},l?o.a.createElement(En.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(d){d==="console"&&i(s.length)}},o.a.createElement(jn,{tab:"Events",key:"events"},o.a.createElement(bn,null)),o.a.createElement(jn,{tab:o.a.createElement("div",null,"Console (beta)",o.a.createElement($n.a,{title:"While console logs are in beta, only 150 logs are displayed."},o.a.createElement(Ln.a,{style:{marginLeft:6}}))),key:"console"},o.a.createElement(_n,null))):o.a.createElement(bn,null)))}var Hn=e("./node_modules/antd/es/button/index.js"),Xn=e("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function an(r){var n=r.isPersonPage,t=n===void 0?!1:n,s=r.onClose;return o.a.createElement(R.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:s,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},o.a.createElement(bt.a,{style:{height:"100vh"}},o.a.createElement(ot.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},o.a.createElement(Hn.a,{type:"link",onClick:s},o.a.createElement(Xn.a,null)," Back to ",t?"persons":"recordings"),o.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:s},o.a.createElement(qt.IconClose,null))),o.a.createElement(ot.a,{className:"session-drawer-body"},o.a.createElement(Yn,null))))}try{an.displayName="SessionPlayerDrawer",an.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:an.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(r){}},"./frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx":function(Y,j,e){"use strict";e.d(j,"a",function(){return ie});var D=e("./node_modules/core-js/modules/es.array.filter.js"),o=e("./node_modules/react/index.js"),R=e.n(o),je=e("./node_modules/kea/lib/index.esm.js"),f=e("./frontend/src/lib/utils.tsx"),he=e("./node_modules/antd/es/row/index.js"),pe=e("./node_modules/antd/es/col/index.js"),Pe=e("./node_modules/antd/es/button/index.js"),Ce=e("./node_modules/antd/es/typography/index.js"),ke=e("./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts"),we=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),Be=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),u=e("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),ye=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),ue=e("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Ve=e("./node_modules/@ant-design/icons/es/icons/LeftOutlined.js"),Z=e("./node_modules/@ant-design/icons/es/icons/RightOutlined.js"),B=e("./frontend/src/types.ts"),fe=e("./node_modules/antd/es/space/index.js"),Ke=e("./node_modules/antd/es/input/index.js"),H=e("./node_modules/antd/es/select/index.js"),et=e("./frontend/src/lib/components/PropertyFilters/components/OperatorValueSelect.tsx"),$e=e("./frontend/src/lib/components/Popup/Popup.tsx"),te=e("./node_modules/core-js/modules/es.array.iterator.js"),Te=e("./node_modules/core-js/modules/es.array.slice.js"),re=e("./node_modules/core-js/modules/es.object.to-string.js"),se=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ie;(function(E){E.SECONDS="seconds",E.MINUTES="minutes",E.HOURS="hours"})(Ie||(Ie={}));var ce={seconds:1,minutes:60,hours:3600},xe=Object(je.kea)({path:function(A){return["scenes","session-recordings","DurationFilterLogic",A]},key:function(A){return A.pageKey||"global"},props:{},actions:{setTimeValue:function(A){return{timeValue:A}},setUnit:function(A){return{unit:A}},setIsOpen:function(A){return{isOpen:A}},setOperator:function(A){return{operator:A}}},reducers:function(A){var p,I=A.props;return{unit:[Ie.MINUTES,{setUnit:function(F,N){var T=N.unit;return T}}],operator:[I==null||(p=I.initialFilter)===null||p===void 0?void 0:p.operator,{setOperator:function(F,N){var T=N.operator;return T}}],timeValue:[Math.floor(I.initialFilter.value/ce[Ie.MINUTES]),{setTimeValue:function(F,N){var T=N.timeValue;return T}}],isOpen:[!1,{setIsOpen:function(F,N){var T=N.isOpen;return T}}]}},selectors:{durationString:[function(E){return[E.operator,E.timeValue,E.unit]},function(E,A,p){var I="";return E===B.z.GreaterThan?I+="> ":I+="< ",I+=A,A===1?I+=" "+p.slice(0,-1):I+=" "+p,I}]},listeners:function(A){var p=A.props,I=A.values,W=function(N){var T=N.timeValue,G=N.unit,ge=N.operator,me=T||I.timeValue,De=G||I.unit,Ge=me*ce[De];p.onChange({operator:ge||I.operator,value:Ge,type:"recording",key:"duration"})};return{setTimeValue:function(N){var T=N.timeValue;return W({timeValue:T})},setUnit:function(N){var T=N.unit;return W({unit:T})},setOperator:function(N){var T=N.operator;return W({operator:T})}}}});function Re(E){var A=E.initialFilter,p=E.onChange,I=E.pageKey,W=xe({initialFilter:A,onChange:p,pageKey:I}),F=Object(je.useActions)(W),N=F.setTimeValue,T=F.setIsOpen,G=F.setOperator,ge=F.setUnit,me=Object(je.useValues)(W),De=me.durationString,Ge=me.unit,Le=me.timeValue,Ue=me.operator,Ze=me.isOpen;return R.a.createElement($e.a,{visible:Ze,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return T(!1)},overlay:R.a.createElement(he.a,null,R.a.createElement(fe.b,null,R.a.createElement(et.a,{operator:Ue,operators:[B.z.GreaterThan,B.z.LessThan],onChange:function(J){G(J)}}),R.a.createElement(Ke.a,{type:"number",value:Le,placeholder:"0",min:0,autoFocus:!0,addonAfter:R.a.createElement(H.a,{showSearch:!1,value:Ge,onChange:function(J){ge(J)}},R.a.createElement(H.a.Option,{value:"seconds"},"Seconds"),R.a.createElement(H.a.Option,{value:"minutes"},"Minutes"),R.a.createElement(H.a.Option,{value:"hours"},"Hours")),step:1,onChange:function(J){var Fe=parseFloat(J.target.value);N(Fe)}})))},R.a.createElement(Pe.a,{onClick:function(){T(!0)}},De))}try{Re.displayName="DurationFilter",Re.__docgenInfo={description:"",displayName:"DurationFilter",props:{initialFilter:{defaultValue:null,description:"",name:"initialFilter",required:!0,type:{name:"RecordingDurationFilter"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: RecordingDurationFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"]={docgenInfo:Re.__docgenInfo,name:"DurationFilter",path:"frontend/src/scenes/session-recordings/DurationFilter.tsx#DurationFilter"})}catch(E){}var tt=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Ae=e("./frontend/src/lib/utils/eventUsageLogic.ts"),pt=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),ve=e("./frontend/src/lib/components/Tooltip.tsx"),nt=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Ye=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),He=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),at=e.n(He),it=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss"),y=e.n(it),C={};C.insert="head",C.singleton=!1;var S=at()(y.a,C),b=y.a.locals||{},X=e("./frontend/src/lib/components/LemonTable/index.ts"),g=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),M=e("./frontend/src/lib/components/icons.tsx"),U=e("./frontend/src/lib/components/LemonButton/index.ts"),K=e("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx");function ae(E){var A=E.filter,p=E.propertyFiltersButton,I=E.deleteButton;return R.a.createElement(he.a,{className:"entity-filter-row",wrap:!1,align:"middle"},R.a.createElement(pe.a,{flex:"1",className:"mr"},R.a.createElement(he.a,{align:"middle"},A)),R.a.createElement(pe.a,{className:"mr"},p),R.a.createElement(pe.a,null,I))}function ie(E){var A=E.personUUID,p=E.isPersonPage,I=p===void 0?!1:p,W=Object(ke.a)({personUUID:A}),F=Object(je.useValues)(W),N=F.sessionRecordings,T=F.sessionRecordingsResponseLoading,G=F.sessionRecordingId,ge=F.entityFilters,me=F.propertyFilters,De=F.hasNext,Ge=F.hasPrev,Le=F.fromDate,Ue=F.toDate,Ze=F.durationFilter,be=F.showFilters,J=Object(je.useActions)(W),Fe=J.openSessionPlayer,Xe=J.closeSessionPlayer,k=J.setEntityFilters,v=J.setPropertyFilters,h=J.loadNext,P=J.loadPrev,z=J.setDateRange,V=J.setDurationFilter,oe=J.enableFilter,le=J.reportRecordingsListFilterAdded,_=[{title:"Start time",render:function(ee,Q){return R.a.createElement(g.b,{time:Q.start_time,formatString:"MMMM DD, YYYY h:mm"})}},{title:"Duration",render:function(ee,Q){return R.a.createElement("span",null,Object(f.N)(Q.recording_duration))}},{title:"Person",key:"person",render:function(ee,Q){return R.a.createElement(tt.a,{withIcon:!0,person:Q.person})}},{render:function(ee,Q){return R.a.createElement("div",{className:"play-button-container"},R.a.createElement(Pe.a,{className:Q.viewed?"play-button viewed":"play-button","data-attr":"session-recordings-button",icon:R.a.createElement(we.a,null)},"Watch recording"))}}];return R.a.createElement("div",{className:"session-recordings-table","data-attr":"session-recordings-table"},R.a.createElement(he.a,{className:"filter-row"},R.a.createElement("div",{className:"filter-container",style:{display:be?void 0:"none"}},R.a.createElement("div",null,R.a.createElement(Ce.a.Text,{strong:!0},"Filter by events and actions ",R.a.createElement(ve.a,{title:"Show recordings where all of the events or actions listed below happen."},R.a.createElement(Be.a,{className:"info-icon"}))),R.a.createElement(ue.a,{fullWidth:!0,filters:ge,setFilters:function(ee){le(Ae.e.EventAndAction),k(ee)},typeKey:I?"person-".concat(A):"session-recordings",mathAvailability:K.b.None,buttonCopy:"Add another filter",horizontalUI:!0,stripeActionRow:!1,propertyFilterWrapperClassName:"session-recording-action-property-filter",customRowPrefix:"",hideRename:!0,showOr:!0,renderRow:function(ee){return R.a.createElement(ae,ee)},showNestedArrow:!1,actionsTaxonomicGroupTypes:[nt.a.Actions,nt.a.Events],propertiesTaxonomicGroupTypes:[nt.a.EventProperties,nt.a.Elements]})),!I&&R.a.createElement("div",{className:"mt-2"},R.a.createElement(Ce.a.Text,{strong:!0},"Filter by persons and cohorts ",R.a.createElement(ve.a,{title:"Show recordings by persons who match the set criteria"},R.a.createElement(Be.a,{className:"info-icon"}))),R.a.createElement(Ye.a,{popoverPlacement:"bottomRight",pageKey:I?"person-".concat(A):"session-recordings",taxonomicGroupTypes:[nt.a.PersonProperties,nt.a.Cohorts],propertyFilters:me,onChange:function(ee){le(Ae.e.PersonAndCohort),v(ee)}}))),!be&&R.a.createElement(U.a,{type:"secondary",compact:!0,icon:R.a.createElement(M.IconFilter,null),onClick:function(){if(oe(),I){var ee=document.querySelectorAll(".entity-filter-row button");ee.length>0&&ee[0].click()}}},"Filter recordings"),R.a.createElement(he.a,{className:"time-filter-row"},R.a.createElement(he.a,{className:"time-filter"},R.a.createElement(pt.a,{makeLabel:function(ee){return R.a.createElement(R.a.Fragment,null,R.a.createElement(u.a,null),R.a.createElement("span",null," ",ee))},defaultValue:"Last 7 days",bordered:!0,dateFrom:Le!=null?Le:void 0,dateTo:Ue!=null?Ue:void 0,onChange:function(ee,Q){le(Ae.e.DateRange),z(ee,Q)},dateOptions:{Custom:{values:[]},"Last 24 hours":{values:["-24h"]},"Last 7 days":{values:["-7d"]},"Last 21 days":{values:["-21d"]}}})),R.a.createElement(he.a,{className:"time-filter"},R.a.createElement(Ce.a.Text,{className:"filter-label"},"Duration"),R.a.createElement(Re,{onChange:function(ee){le(Ae.e.Duration),V(ee)},initialFilter:Ze,pageKey:I?"person-".concat(A):"session-recordings"})))),R.a.createElement(X.a,{dataSource:N,columns:_,loading:T,onRow:function(ee){return{onClick:function(ft){ft.target.closest("a")||Fe(ee.id,Ae.d.RecordingsList)}}},rowClassName:"cursor-pointer","data-attr":"session-recording-table",emptyState:"No matching recordings found"}),(Ge||De)&&R.a.createElement(he.a,{className:"pagination-control"},R.a.createElement(Pe.a,{type:"link",disabled:!Ge,onClick:function(){P(),window.scrollTo(0,0)}},R.a.createElement(Ve.a,null)," Previous"),R.a.createElement(Pe.a,{type:"link",disabled:!De,onClick:function(){h(),window.scrollTo(0,0)}},"Next ",R.a.createElement(Z.a,null))),R.a.createElement("div",{style:{marginBottom:64}}),!!G&&R.a.createElement(ye.a,{isPersonPage:I,onClose:Xe}))}try{ie.displayName="SessionRecordingsTable",ie.__docgenInfo={description:"",displayName:"SessionRecordingsTable",props:{personUUID:{defaultValue:null,description:"",name:"personUUID",required:!1,type:{name:"string"}},isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"]={docgenInfo:ie.__docgenInfo,name:"SessionRecordingsTable",path:"frontend/src/scenes/session-recordings/SessionRecordingsTable.tsx#SessionRecordingsTable"})}catch(E){}},"./frontend/src/scenes/session-recordings/sessionRecordingsTableLogic.ts":function(Y,j,e){"use strict";e.d(j,"a",function(){return it});var D=e("./node_modules/core-js/modules/es.array.concat.js"),o=e.n(D),R=e("./node_modules/core-js/modules/es.array.iterator.js"),je=e.n(R),f=e("./node_modules/core-js/modules/es.array.map.js"),he=e.n(f),pe=e("./node_modules/core-js/modules/es.object.to-string.js"),Pe=e.n(pe),Ce=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ke=e.n(Ce),we=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Be=e.n(we),u=e("./node_modules/@babel/runtime/regenerator/index.js"),ye=e.n(u),ue=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ve=e.n(ue),Z=e("./node_modules/regenerator-runtime/runtime.js"),B=e.n(Z),fe=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ke=e.n(fe),H=e("./node_modules/kea/lib/index.esm.js"),et=e("./frontend/src/lib/api.ts"),$e=e("./frontend/src/lib/utils.tsx"),te=e("./frontend/src/types.ts"),Te=e("./node_modules/kea-router/lib/index.js"),re=e.n(Te),se=e("./frontend/src/lib/utils/eventUsageLogic.ts"),Ie=e("./node_modules/fast-deep-equal/index.js"),ce=e.n(Ie),xe=e("./frontend/src/scenes/teamLogic.ts"),Re=e("./frontend/src/lib/dayjs.ts"),tt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Ae=e("./frontend/src/lib/constants.tsx");function pt(y,C){var S=Object.keys(y);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(y);C&&(b=b.filter(function(X){return Object.getOwnPropertyDescriptor(y,X).enumerable})),S.push.apply(S,b)}return S}function ve(y){for(var C=1;C<arguments.length;C++){var S=arguments[C]!=null?arguments[C]:{};C%2?pt(Object(S),!0).forEach(function(b){Ve()(y,b,S[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(S)):pt(Object(S)).forEach(function(b){Object.defineProperty(y,b,Object.getOwnPropertyDescriptor(S,b))})}return y}var nt=50,Ye={type:"recording",key:"duration",value:60,operator:te.z.GreaterThan},He=[],at={events:[],actions:[],new_entity:[{id:null,type:te.g.EVENTS,order:0,name:null}]},it=Object(H.kea)({path:function(C){return["scenes","session-recordings","sessionRecordingsTableLogic",C]},key:function(C){return C.personUUID||"global"},props:{},connect:{values:[xe.a,["currentTeamId"]],actions:[se.f,["reportRecordingsListFetched","reportRecordingsListFilterAdded"]]},actions:{getSessionRecordings:!0,openSessionPlayer:function(C,S){return{sessionRecordingId:C,source:S}},closeSessionPlayer:!0,setEntityFilters:function(C){return{filters:C}},setPropertyFilters:function(C){return{filters:C}},loadNext:!0,loadPrev:!0,enableFilter:!0,setOffset:function(C){return{offset:C}},setDateRange:function(C,S){return{incomingFromDate:C,incomingToDate:S}},setDurationFilter:function(C){return{durationFilter:C}}},loaders:function(C){var S=C.props,b=C.values,X=C.actions;return{sessionRecordingsResponse:[{results:[],has_next:!1},{getSessionRecordings:function(){var g=Ke()(ye.a.mark(function U(K,ae){var ie,E,A,p,I,W;return ye.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return E=ve(ve({},b.filterQueryParams),{},{person_uuid:(ie=S.personUUID)!==null&&ie!==void 0?ie:"",limit:nt}),A=Object($e.Ab)(E),N.next=4,ae(100);case 4:return p=performance.now(),N.next=7,et.a.get("api/projects/".concat(b.currentTeamId,"/session_recordings?").concat(A));case 7:return I=N.sent,W=performance.now()-p,X.reportRecordingsListFetched(W),ae(),N.abrupt("return",I);case 12:case"end":return N.stop()}},U)}));function M(U,K){return g.apply(this,arguments)}return M}()}]}},events:function(C){var S=C.actions;return{afterMount:function(){S.getSessionRecordings()}}},reducers:{filterEnabled:[!1,{enableFilter:function(){return!0}}],sessionRecordings:[[],{getSessionRecordingsSuccess:function(C,S){var b=S.sessionRecordingsResponse;return Be()(b.results)},openSessionPlayer:function(C,S){var b=S.sessionRecordingId;return Be()(C.map(function(X){return X.id===b?ve(ve({},X),{},{viewed:!0}):ve({},X)}))}}],sessionRecordingId:[null,{openSessionPlayer:function(C,S){var b=S.sessionRecordingId;return b},closeSessionPlayer:function(){return null}}],entityFilters:[at,{setEntityFilters:function(C,S){var b=S.filters;return ve({},b)}}],propertyFilters:[He,{setPropertyFilters:function(C,S){var b=S.filters;return Be()(b)}}],durationFilter:[Ye,{setDurationFilter:function(C,S){var b=S.durationFilter;return b}}],offset:[0,{loadNext:function(C){return C+nt},loadPrev:function(C){return Math.max(C-nt)},setOffset:function(C,S){var b=S.offset;return b}}],fromDate:[Object(Re.a)().subtract(7,"days").format("YYYY-MM-DD"),{setDateRange:function(C,S){var b=S.incomingFromDate;return b!=null?b:null}}],toDate:[null,{setDateRange:function(C,S){var b=S.incomingToDate;return b!=null?b:null}}]},listeners:function(C){var S=C.actions;return{setEntityFilters:function(){S.getSessionRecordings()},setPropertyFilters:function(){S.getSessionRecordings()},setDateRange:function(){S.getSessionRecordings()},setDurationFilter:function(){S.getSessionRecordings()},loadNext:function(){S.getSessionRecordings()},loadPrev:function(){S.getSessionRecordings()}}},selectors:{hasPrev:[function(y){return[y.offset]},function(y){return y>0}],hasNext:[function(y){return[y.sessionRecordingsResponse]},function(y){return y.has_next}],showFilters:[function(y){return[y.filterEnabled,y.entityFilters,y.propertyFilters,tt.a.selectors.featureFlags]},function(y,C,S,b){return b[Ae.n.RECORDINGS_FILTER_EXPERIMENT]==="test"||y||C!==at||S!==He}],filterQueryParams:[function(y){return[y.entityFilters,y.fromDate,y.toDate,y.offset,y.durationFilter,y.propertyFilters]},function(y,C,S,b,X,g){return{actions:y.actions,events:y.events,properties:g,date_from:C,date_to:S,offset:b,session_recording_duration:X}}]},actionToUrl:function(C){var S=C.values,b=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0,U=ve({filters:S.filterQueryParams},g),K=ve({},Te.router.values.hashParams);return S.sessionRecordingId?K.sessionRecordingId=S.sessionRecordingId:delete K.sessionRecordingId,[Te.router.values.location.pathname,U,K,{replace:M}]};return{loadSessionRecordings:function(){return b({},!0)},openSessionPlayer:function(g){var M=g.source;return b({source:M},!1)},closeSessionPlayer:function(){return b({},!1)},setEntityFilters:function(){return b({},!0)},setPropertyFilters:function(){return b({},!0)},setDateRange:function(){return b({},!0)},setDurationFilter:function(){return b({},!0)},loadNext:function(){return b({},!0)},loadPrev:function(){return b({},!0)}}},urlToAction:function(C){var S=C.actions,b=C.values,X=C.props,g=function(K,ae,ie){var E,A=(E=ie.sessionRecordingId)!==null&&E!==void 0?E:null;A!==b.sessionRecordingId&&S.openSessionPlayer(A,se.d.Direct);var p=ae.filters;if(p){if((!ce()(p.actions,b.entityFilters.actions)||!ce()(p.events,b.entityFilters.events))&&S.setEntityFilters({events:p.events||[],actions:p.actions||[]}),!ce()(p.properties,b.propertyFilters)){var I;S.setPropertyFilters((I=p.properties)!==null&&I!==void 0?I:[])}if(p.date_from!==b.fromDate||p.date_to!==b.toDate){var W,F;S.setDateRange((W=p.date_from)!==null&&W!==void 0?W:void 0,(F=p.date_to)!==null&&F!==void 0?F:void 0)}if(p.offset!==b.offset){var N;S.setOffset((N=p.offset)!==null&&N!==void 0?N:0)}if(!ce()(p.session_recording_duration,b.durationFilter)){var T;S.setDurationFilter((T=p.session_recording_duration)!==null&&T!==void 0?T:Ye)}}},M=X.personUUID?"/person/*":"/recordings";return Ve()({},M,g)}})},"./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js":function(Y,j,e){"use strict";Object.defineProperty(j,"__esModule",{value:!0});var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};j.default=D},"./node_modules/@ant-design/icons/lib/icons/UserOutlined.js":function(Y,j,e){"use strict";var D=e("./node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),o=e("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var R=o(e("./node_modules/@babel/runtime/helpers/objectSpread2.js")),je=D(e("./node_modules/react/index.js")),f=o(e("./node_modules/@ant-design/icons-svg/lib/asn/UserOutlined.js")),he=o(e("./node_modules/@ant-design/icons/lib/components/AntdIcon.js")),pe=function(ke,we){return je.createElement(he.default,(0,R.default)((0,R.default)({},ke),{},{ref:we,icon:f.default}))};pe.displayName="UserOutlined";var Pe=je.forwardRef(pe);j.default=Pe},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/MergeSplitPerson.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.merge-split-person .activity-header{background-color:#f2f2f2;border-top:1px solid rgba(0,0,0,.15);border-bottom:1px solid rgba(0,0,0,.15);margin-left:-24px;margin-right:-24px;padding:8px 0;display:flex;justify-content:center;margin-bottom:1rem}.merge-split-person .ant-modal-header{border-bottom:0}.merge-split-person .ant-modal-body{padding-top:0}.merge-split-person .ant-radio-wrapper{margin-right:2px}.merge-split-person .ant-col{margin-right:1rem}.merge-split-person code{background-color:#f2f2f2;color:#35416b;padding:4px 8px;border-radius:4px}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/persons/Persons.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.extra-ids{display:inline-flex;align-items:center;height:1.25rem;line-height:1.125rem;margin:0 0 0 .25rem;padding:0 .25rem 0 .375rem;color:#5375ff;cursor:pointer}.extra-ids svg{margin-left:.25rem}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/SessionRecordingTable.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-table .filter-row{width:100%;justify-content:space-between;margin-bottom:1rem;align-items:flex-end}.session-recordings-table .filter-container{max-width:700px;padding:1rem;border:1px solid rgba(0,0,0,.15);flex:1;border-radius:4px}.session-recordings-table .filter-section{padding-bottom:1rem}.session-recordings-table .session-recording-action-property-filter{margin:0 0 0 68px;background-color:#fafafa;border:1px solid rgba(0,0,0,.15);border-top:0 solid rgba(0,0,0,.15);padding:.25rem 1rem}.session-recordings-table .time-filter-row{justify-content:flex-end;align-items:flex-end}.session-recordings-table .time-filter-row .time-filter{align-items:center;margin-left:1rem}.session-recordings-table .time-filter-row .time-filter .filter-label{margin-right:4px}.session-recordings-table .pagination-control{margin:1rem;justify-content:center}.session-recordings-table .entity-filter-row{width:100%;padding:1rem;border:1px solid rgba(0,0,0,.15);margin-top:1rem;border-radius:4px}.session-recordings-table .play-button-container{display:flex;justify-content:flex-end}.session-recordings-table .play-button-container .play-button .anticon-play-circle{color:#5375ff}.session-recordings-table .play-button-container .play-button.viewed .anticon-play-circle{color:rgba(0,0,0,.5)}.session-recordings-table .info-icon{color:#5375ff}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),Y.exports=j},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(Y,j,e){var D=e("./node_modules/css-loader/dist/runtime/api.js");j=D(!1),j.push([Y.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),Y.exports=j}}]);
