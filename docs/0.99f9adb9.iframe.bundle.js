(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./frontend/src/scenes/actions/EventName.tsx":function(de,M,e){"use strict";e.d(M,"a",function(){return oe}),e.d(M,"b",function(){return ae});var k=e("./node_modules/react/index.js"),se=e.n(k),fe=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ee=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),ye=e("./frontend/src/lib/components/TaxonomicFilter/types.ts");function oe(w){var ge=w.value,le=w.onChange;return se.a.createElement(Ee.d,{groupType:ye.a.Events,onChange:le,value:ge,type:"secondary",style:{maxWidth:"24rem"},placeholder:"Choose an event",dataAttr:"event-name-box",renderValue:function(ie){return se.a.createElement(fe.a,{value:ie,disablePopover:!0})},allowClear:!0})}function ae(w){var ge=w.value,le=w.onChange;return se.a.createElement(Ee.b,{groupType:ye.a.Events,onChange:le,value:ge,type:"secondary",placeholder:"Select an event",dataAttr:"event-name-box",renderValue:function(ie){return se.a.createElement(fe.a,{value:ie,disablePopover:!0})},allowClear:!0})}try{oe.displayName="EventName",oe.__docgenInfo={description:"",displayName:"EventName",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/actions/EventName.tsx#EventName"]={docgenInfo:oe.__docgenInfo,name:"EventName",path:"frontend/src/scenes/actions/EventName.tsx#EventName"})}catch(w){}try{ae.displayName="LemonEventName",ae.__docgenInfo={description:"",displayName:"LemonEventName",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/actions/EventName.tsx#LemonEventName"]={docgenInfo:ae.__docgenInfo,name:"LemonEventName",path:"frontend/src/scenes/actions/EventName.tsx#LemonEventName"})}catch(w){}},"./frontend/src/scenes/events/EventDetails.tsx":function(de,M,e){"use strict";e.d(M,"a",function(){return re});var k=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),se=e.n(k),fe=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ee=e.n(fe),ye=e("./node_modules/core-js/modules/es.object.keys.js"),oe=e("./node_modules/core-js/modules/es.symbol.js"),ae=e("./node_modules/core-js/modules/es.array.filter.js"),w=e("./node_modules/core-js/modules/es.object.to-string.js"),ge=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),le=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),xe=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ie=e("./node_modules/react/index.js"),$=e.n(ie),N=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Fe=e("./frontend/src/lib/components/PropertiesTable.tsx"),q=e("./frontend/src/scenes/events/EventElements.tsx"),De=e("./node_modules/antd/es/tabs/index.js"),be=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),t=e.n(be),R=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),Pe=e("./frontend/src/lib/utils.tsx"),ee=["event","id","uuid","distinct_id","properties","elements","timestamp","person"];function te(E,c){var _=Object.keys(E);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(E);c&&(y=y.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),_.push.apply(_,y)}return _}function ne(E){for(var c=1;c<arguments.length;c++){var _=arguments[c]!=null?arguments[c]:{};c%2?te(Object(_),!0).forEach(function(y){se()(E,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(_)):te(Object(_)).forEach(function(y){Object.defineProperty(E,y,Object.getOwnPropertyDescriptor(_,y))})}return E}function J(E){var c=E.event,_=c.event,y=c.id,I=c.uuid,z=c.distinct_id,Te=c.properties,X=c.elements,Se=c.timestamp,ce=c.person,he=t()(c,ee),F=ne(ne(ne(ne({},y?{id:y}:null),I?{uuid:I}:null),{},{timestamp:Se,event:_,distinct_id:z,properties:Object(Pe.yb)(Te)},X&&X.length>0?{elements:X}:null),he);return $.a.createElement(R.a,{language:R.b.JSON},JSON.stringify(F,null,4))}try{J.displayName="EventJSON",J.__docgenInfo={description:"",displayName:"EventJSON",props:{event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventJSON.tsx#EventJSON"]={docgenInfo:J.__docgenInfo,name:"EventJSON",path:"frontend/src/scenes/events/EventJSON.tsx#EventJSON"})}catch(E){}var Ue=e("./frontend/src/lib/dayjs.ts"),G=e("./frontend/src/lib/components/LemonButton/index.ts");function Q(E,c){var _=Object.keys(E);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(E);c&&(y=y.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),_.push.apply(_,y)}return _}function x(E){for(var c=1;c<arguments.length;c++){var _=arguments[c]!=null?arguments[c]:{};c%2?Q(Object(_),!0).forEach(function(y){se()(E,y,_[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(_)):Q(Object(_)).forEach(function(y){Object.defineProperty(E,y,Object.getOwnPropertyDescriptor(_,y))})}return E}var Ce=De.a.TabPane;function re(E){for(var c=E.event,_=Object(ie.useState)(!1),y=Ee()(_,2),I=y[0],z=y[1],Te={},X={},Se=0,ce=0,he=Object.keys(c.properties);ce<he.length;ce++){var F=he[ce];N.e.event[F]&&N.e.event[F].hide&&(Se+=1,I&&(X[F]=c.properties[F])),(!N.e.event[F]||!N.e.event[F].hide)&&(Te[F]=c.properties[F])}return $.a.createElement(De.a,{"data-attr":"event-details",defaultActiveKey:"properties",style:{float:"left",width:"100%"},tabBarStyle:{margin:0}},$.a.createElement(Ce,{tab:"Properties",key:"properties"},$.a.createElement(Fe.a,{properties:x(x({$timestamp:Object(Ue.a)(c.timestamp).toISOString()},Te),X),useDetectedPropertyType:!0}),Se>0&&$.a.createElement(G.a,{className:"mb-05",onClick:function(){return z(!I)},size:"small"},I?"Hide":"Show"," ",Object(Pe.qb)(Se,"hidden property","hidden properties"))),$.a.createElement(Ce,{tab:"JSON",key:"json"},$.a.createElement(J,{event:c})),c.elements&&c.elements.length>0&&$.a.createElement(Ce,{tab:"Elements",key:"elements"},$.a.createElement(q.a,{event:c})))}try{re.displayName="EventDetails",re.__docgenInfo={description:"",displayName:"EventDetails",props:{event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventDetails.tsx#EventDetails"]={docgenInfo:re.__docgenInfo,name:"EventDetails",path:"frontend/src/scenes/events/EventDetails.tsx#EventDetails"})}catch(E){}},"./frontend/src/scenes/events/EventElements.tsx":function(de,M,e){"use strict";e.d(M,"a",function(){return ne});var k=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),se=e.n(k),fe=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ee=e.n(fe),ye=e("./node_modules/core-js/modules/es.array.join.js"),oe=e.n(ye),ae=e("./node_modules/core-js/modules/es.array.fill.js"),w=e.n(ae),ge=e("./node_modules/core-js/modules/es.array.slice.js"),le=e.n(ge),xe=e("./node_modules/core-js/modules/es.array.map.js"),ie=e.n(xe),$=e("./node_modules/core-js/modules/es.object.entries.js"),N=e.n($),Fe=e("./node_modules/core-js/modules/es.array.concat.js"),q=e.n(Fe),De=e("./node_modules/core-js/modules/es.regexp.exec.js"),be=e.n(De),t=e("./node_modules/core-js/modules/es.string.replace.js"),R=e.n(t),Pe=e("./node_modules/react/index.js"),ee=e.n(Pe);function te(J){return Array(J).fill("    ").join("")}function ne(J){var Ue=J.event,G=Ee()(Ue.elements||[]).reverse();return G=G.slice(Math.max(G.length-10,1)),ee.a.createElement("div",null,G.map(function(Q,x){return ee.a.createElement("pre",{className:"code",key:x,style:{margin:0,padding:0,borderRadius:0,backgroundColor:x===G.length-1?"var(--primary)":void 0}},te(x),"<",Q.tag_name,Q.attr_id&&' id="'.concat(Q.attr_id,'"'),Object.entries(Q.attributes).map(function(Ce){var re=se()(Ce,2),E=re[0],c=re[1];return ee.a.createElement("span",{key:E}," ".concat(E.replace("attr__",""),'="').concat(c,'"'))}),">",Q.text,x===G.length-1&&ee.a.createElement("span",null,"</",Q.tag_name,">"))}),Ee()(G).reverse().slice(1).map(function(Q,x){return ee.a.createElement("pre",{className:"code",key:x,style:{margin:0,padding:0,borderRadius:0}},te(G.length-x-2),"</",Q.tag_name,">")}))}try{ne.displayName="EventElements",ne.__docgenInfo={description:"",displayName:"EventElements",props:{event:{defaultValue:null,description:"",name:"event",required:!0,type:{name:"EventType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventElements.tsx#EventElements"]={docgenInfo:ne.__docgenInfo,name:"EventElements",path:"frontend/src/scenes/events/EventElements.tsx#EventElements"})}catch(J){}},"./frontend/src/scenes/events/EventsTable.tsx":function(de,M,e){"use strict";e.d(M,"a",function(){return rt});var k=e("./node_modules/core-js/modules/es.symbol.js"),se=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),fe=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Ee=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ye=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),oe=e.n(ye),ae=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),w=e.n(ae),ge=e("./node_modules/core-js/modules/es.array.splice.js"),le=e("./node_modules/core-js/modules/es.array.filter.js"),xe=e("./node_modules/core-js/modules/es.object.to-string.js"),ie=e("./node_modules/core-js/modules/es.array.map.js"),$=e("./node_modules/core-js/modules/es.array.find.js"),N=e("./node_modules/core-js/modules/es.array.concat.js"),Fe=e("./node_modules/core-js/modules/es.array.join.js"),q=e("./node_modules/core-js/modules/es.object.keys.js"),De=e("./node_modules/core-js/modules/es.regexp.to-string.js"),be=e("./node_modules/react/index.js"),t=e.n(be),R=e("./node_modules/kea/lib/index.esm.js"),Pe=e("./frontend/src/scenes/events/EventDetails.tsx"),ee=e("./frontend/src/lib/components/Link.tsx"),te=e("./node_modules/antd/es/button/index.js"),ne=e("./node_modules/kea-router/lib/index.js"),J=e("./node_modules/@babel/runtime/helpers/typeof.js"),Ue=e.n(J),G=e("./node_modules/core-js/modules/es.regexp.exec.js"),Q=e("./node_modules/core-js/modules/es.string.replace.js");function x(r){var s=r.value;return t.a.createElement("span",{title:s},Ue()(s)==="object"?JSON.stringify(s):s&&s.toString().replace(/(^\w+:|^)\/\//,""))}try{x.displayName="Property",x.__docgenInfo={description:"",displayName:"Property",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Property.tsx#Property"]={docgenInfo:x.__docgenInfo,name:"Property",path:"frontend/src/lib/components/Property.tsx#Property"})}catch(r){}var Ce=e("./frontend/src/lib/components/PropertyFilters/utils.ts");function re(r,s){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);s&&(u=u.filter(function(P){return Object.getOwnPropertyDescriptor(r,P).enumerable})),i.push.apply(i,u)}return i}function E(r){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?re(Object(i),!0).forEach(function(u){oe()(r,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):re(Object(i)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(i,u))})}return r}function c(r){var s=r.property,i=r.value,u=r.filters,P=r.onClick,U=r.className,D=Object(Ce.c)(u.properties),Re=D.find(function(H){return H.key===s&&H.value===i&&!H.operator})?D.filter(function(H){return H.key!==s||H.value!==i||H.operator}):[].concat(w()(D),[{key:s,value:i}]),Je=Object(ne.combineUrl)(window.location.pathname,E(E({},u),{},{properties:Re}),{}),Ie=Je.url;return t.a.createElement(ee.a,{to:Ie,className:U,onClick:function(){P&&P(s,i)}},t.a.createElement(x,{value:i}))}try{c.displayName="FilterPropertyLink",c.__docgenInfo={description:"",displayName:"FilterPropertyLink",props:{property:{defaultValue:null,description:"",name:"property",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | number"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((property: string, value: string | number) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/FilterPropertyLink.tsx#FilterPropertyLink"]={docgenInfo:c.__docgenInfo,name:"FilterPropertyLink",path:"frontend/src/lib/components/FilterPropertyLink.tsx#FilterPropertyLink"})}catch(r){}var _=e("./frontend/src/lib/utils.tsx"),y=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),I=e.n(y),z=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/events/EventsTable.scss"),Te=e.n(z),X={};X.insert="head",X.singleton=!1;var Se=I()(Te.a,X),ce=Te.a.locals||{},he=e("./frontend/src/scenes/events/eventsTableLogic.ts"),F=e("./frontend/src/scenes/persons/PersonHeader.tsx"),B=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),We=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),we=e("./frontend/src/types.ts"),et=e("./frontend/src/scenes/actions/EventName.tsx"),pt=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Ae=e("./frontend/src/lib/components/Tooltip.tsx"),He=e("./node_modules/clsx/dist/clsx.m.js"),v=Object(R.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],props:{startingColumns:"DEFAULT"},actions:{showModal:!0,hideModal:!0,setSelectedColumns:function(s){return{columnConfig:s}}},reducers:function(s){var i=s.props;return{selectedColumns:[i.startingColumns||"DEFAULT",{setSelectedColumns:function(P,U){var D=U.columnConfig;return D}}],modalVisible:[!1,{showModal:function(){return!0},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(r){return[r.selectedColumns]},function(r){return r==="DEFAULT"?7:r.length+2}]}}),n=e("./frontend/src/scenes/urls.ts"),a=e("./frontend/src/lib/components/LemonTable/index.ts"),o=e("./frontend/src/lib/components/icons.tsx"),m=e("./frontend/src/lib/components/LemonButton/index.ts"),l=e("./frontend/src/lib/components/LemonButton/More.tsx"),f=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),d=e("./frontend/src/scenes/teamLogic.tsx"),p=e("./frontend/src/scenes/events/createActionFromEvent.tsx");function K(r){Object(be.useEffect)(function(){var s="hidden",i="visibilitychange";typeof document.msHidden!="undefined"?(s="msHidden",i="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(s="webkitHidden",i="webkitvisibilitychange");var u=function(){r(!document[s])};return document.addEventListener(i,u),function(){document.removeEventListener(i,u)}},[])}var V=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),je=e.n(V),Ve=e("./node_modules/core-js/modules/es.array.includes.js"),Le=e("./node_modules/core-js/modules/es.string.includes.js"),me=e("./node_modules/antd/es/row/index.js"),Y=e("./node_modules/antd/es/space/index.js"),Me=e("./node_modules/antd/es/col/index.js"),T=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),ft=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),b=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),tt=e.n(b),$e={};$e.insert="head",$e.singleton=!1;var Ot=I()(tt.a,$e),Et=tt.a.locals||{},bt=e("./node_modules/antd/lib/modal/Modal.js"),ze=e.n(bt),Dt=e("./node_modules/react-virtualized/dist/es/List/index.js"),Pt=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),en=e("./node_modules/core-js/modules/es.array.from.js"),tn=e("./node_modules/core-js/modules/es.string.iterator.js"),nn=e("./node_modules/core-js/modules/es.array.iterator.js"),rn=e("./node_modules/core-js/modules/es.set.js"),sn=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Lt=Object(R.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},connect:[v],actions:{selectColumn:function(s){return{column:s}},unselectColumn:function(s){return{column:s}},resetColumns:function(s){return{columns:s}},setColumns:function(s){return{columns:s}},toggleSaveAsDefault:!0,save:!0},reducers:function(s){var i=s.props;return{selectedColumns:[i.selectedColumns,{selectColumn:function(P,U){var D=U.column;return Array.from(new Set([].concat(w()(P),[D])))},unselectColumn:function(P,U){var D=U.column;return P.filter(function(Re){return Re!==D})},resetColumns:function(P,U){var D=U.columns;return D},setColumns:function(P,U){var D=U.columns;return D}}],saveAsDefault:[!1,{toggleSaveAsDefault:function(P){return!P}}]}},listeners:function(s){var i=s.values,u=s.actions;return{save:function(){v.actions.setSelectedColumns(i.selectedColumns),i.saveAsDefault&&(d.a.actions.updateCurrentTeam({live_events_columns:i.selectedColumns}),u.toggleSaveAsDefault())}}}}),Mt=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),Ct=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Rt=e("./frontend/src/lib/components/LemonCheckbox/index.ts"),yt=e("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),It=e("./frontend/src/scenes/userLogic.ts"),Nt=Object(yt.c)(function(){return t.a.createElement("span",{className:"drag-handle"},t.a.createElement(o.SortableDragIcon,null))});function nt(r){var s=Object(R.useActions)(v),i=s.showModal;return t.a.createElement(t.a.Fragment,null,t.a.createElement(m.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:i,icon:t.a.createElement(o.IconTuning,{style:{color:"var(--primary)"}})},"Configure columns"),t.a.createElement(Bt,{immutableColumns:r.immutableColumns,defaultColumns:r.defaultColumns}))}function Bt(r){var s=r.immutableColumns,i=r.defaultColumns,u=36,P=32,U=Object(R.useValues)(v),D=U.selectedColumns,Re=U.modalVisible,Je=Object(R.useActions)(v),Ie=Je.hideModal,H=Lt({selectedColumns:D==="DEFAULT"?i:D}),_e=Object(R.useActions)(H),st=_e.selectColumn,ot=_e.unselectColumn,at=_e.resetColumns,lt=_e.setColumns,Ge=_e.toggleSaveAsDefault,Qe=_e.save,Xe=Object(R.useValues)(H),ve=Xe.selectedColumns,gt=Object(R.useValues)(It.a),Oe=gt.user,it=function(L){var W=L.column,S=L.disabled;return t.a.createElement("div",{className:Object(He.a)(["column-display-item",{selected:!S,disabled:S}]),style:{height:"".concat(P,"px")}},!S&&t.a.createElement(Nt,null),t.a.createElement(We.a,{value:W}),t.a.createElement("div",{className:"text-right",style:{flex:1}},t.a.createElement(Ae.a,{title:S?"Reserved":"Remove"},S?t.a.createElement(T.a,null):t.a.createElement(ft.a,{"data-attr":"column-display-item-remove-icon",style:{color:"var(--danger)"},onClick:function(){return ot(W)}}))))},ct=Object(yt.b)(it),ut=function(L){var W=L.index,S=L.style,Z=L.key,pe=s==null?void 0:s.includes(ve[W]);return t.a.createElement("div",{style:S,key:Z},pe&&t.a.createElement(it,{column:ve[W],disabled:Boolean(pe)}),!pe&&t.a.createElement(ct,{column:ve[W],index:W,collection:"selected-columns"}))},dt=Object(yt.a)(function(){return t.a.createElement("div",{style:{height:320},className:"selected-columns-col"},t.a.createElement(Pt.a,null,function(ue){var L=ue.height,W=ue.width;return t.a.createElement(Dt.b,{height:L,rowCount:ve.length,rowRenderer:ut,rowHeight:u,width:W})}))}),Ze=function(L){var W=L.oldIndex,S=L.newIndex,Z=w()(ve),pe=Z.splice(W,1),mt=je()(pe,1),ht=mt[0];Z.splice(S,0,ht),lt(Z)};return t.a.createElement(ze.a,{id:"column-configurator-modal",centered:!0,visible:Re,title:"Configure columns",onOk:Qe,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:Ie,footer:t.a.createElement(me.a,null,t.a.createElement(Y.b,{style:{flexGrow:1},align:"start"},t.a.createElement(te.a,{className:"text-blue",onClick:function(){return at(i)}},"Reset to defaults")),t.a.createElement(Y.b,null,t.a.createElement(te.a,{className:"text-blue",type:"text",onClick:Ie},"Close"),t.a.createElement(te.a,{type:"primary",onClick:Qe},"Save")))},t.a.createElement("div",{className:"main-content"},t.a.createElement(me.a,{gutter:16,className:"lists"},t.a.createElement(Me.a,{xs:24,sm:12},t.a.createElement("h4",{className:"secondary uppercase text-muted"},"Visible columns (",ve.length,") - Drag to reorder"),t.a.createElement(dt,{helperClass:"column-configurator-modal-sortable-container",onSortEnd:Ze,distance:5,useDragHandle:!0,lockAxis:"y"})),t.a.createElement(Me.a,{xs:24,sm:12},t.a.createElement("h4",{className:"secondary uppercase text-muted"},"Available columns"),t.a.createElement("div",{style:{height:320}},t.a.createElement(Pt.a,null,function(ue){var L=ue.height,W=ue.width;return t.a.createElement(Mt.a,{height:L,width:W,taxonomicGroupTypes:[Ct.a.EventProperties],value:void 0,onChange:function(Z,pe){return pe&&st(String(pe))},popoverEnabled:!1,selectFirstItem:!1,excludedProperties:oe()({},Ct.a.EventProperties,ve)})})))),t.a.createElement(Rt.a,{label:t.a.createElement(Ae.a,{title:Oe!=null&&Oe.is_staff?void 0:"You don't have permission to set default columns for all project members"},"Save as default for all project members"),className:"save-as-default-button mt","data-attr":"events-table-save-columns-as-default-toggle",onChange:Ge,defaultChecked:!1,disabled:!(Oe!=null&&Oe.is_staff)})))}try{nt.displayName="LemonTableConfig",nt.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:nt.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(r){}var Kt=e("./frontend/src/lib/utils/eventUsageLogic.ts");function Tt(r,s){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);s&&(u=u.filter(function(P){return Object.getOwnPropertyDescriptor(r,P).enumerable})),i.push.apply(i,u)}return i}function St(r){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?Tt(Object(i),!0).forEach(function(u){oe()(r,u,i[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Tt(Object(i)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(i,u))})}return r}function rt(r){var s,i=r.pageKey,u=r.fixedFilters,P=r.fixedColumns,U=r.sceneUrl,D=r.fetchMonths,Re=D===void 0?12:D,Je=r.startingColumns,Ie=r.showCustomizeColumns,H=Ie===void 0?!0:Ie,_e=r.showExport,st=_e===void 0?!0:_e,ot=r.showAutoload,at=ot===void 0?!0:ot,lt=r.showEventFilter,Ge=lt===void 0?!0:lt,Qe=r.showPropertyFilter,Xe=Qe===void 0?!0:Qe,ve=r.showRowExpanders,gt=ve===void 0?!0:ve,Oe=r.showActionsButton,it=Oe===void 0?!0:Oe,ct=r.showPersonColumn,ut=ct===void 0?!0:ct,dt=r.linkPropertiesToFilters,Ze=dt===void 0?!0:dt,ue=Object(R.useValues)(d.a),L=ue.currentTeam,W=Object(he.a)({fixedFilters:u,key:i,sceneUrl:U||n.a.events(),fetchMonths:Re}),S=Object(R.useValues)(W),Z=S.properties,pe=S.eventsFormatted,mt=S.isLoading,ht=S.hasNext,At=S.isLoadingNext,vt=S.eventFilter,Ft=S.automaticLoadEnabled,Ut=S.exportUrl,Wt=S.highlightEvents,wt=S.months,xt=Object(R.useValues)(v({startingColumns:(s=L&&L.live_events_columns)!==null&&s!==void 0?s:Je})),ke=xt.tableWidth,Ye=xt.selectedColumns,Ne=Object(R.useActions)(W),Vt=Ne.fetchNextEvents,$t=Ne.prependNewEvents,zt=Ne.setEventFilter,Yt=Ne.toggleAutomaticLoad,Ht=Ne.startDownload,Jt=Ne.setPollingActive,Gt=Ne.setProperties,Qt=!(u!=null&&u.person_id),Xt=Object(R.useActions)(Kt.f),Zt=Xt.reportEventsTablePollingReactedToPageVisibility;K(function(C){Jt(C),Zt(C)});var jt=function(g,h){var A=g.date_break,j=g.new_events;return{children:A||(j?t.a.createElement(m.a,{icon:t.a.createElement(o.IconSync,null),style:{borderRadius:0},onClick:function(){return $t()},center:!0,fullWidth:!0},"There are new events. Click here to load them"):"???"),props:{colSpan:h+1,style:j?{padding:0}:void 0}}},kt={title:"Person",key:"person",render:function(g,h){var A,j,O=h.event;return O?Qt&&(A=O.person)!==null&&A!==void 0&&(j=A.distinct_ids)!==null&&j!==void 0&&j.length?t.a.createElement(ee.a,{to:n.a.person(O.person.distinct_ids[0])},t.a.createElement(F.a,{noLink:!0,withIcon:!0,person:O.person})):t.a.createElement(F.a,{withIcon:!0,person:O.person}):{props:{colSpan:0}}}},_t=Object(be.useMemo)(function(){var C=[{title:"Event",key:"event",width:"16rem",render:function(h,A){if(!A.event)return jt(A,ke);var j=A.event;return t.a.createElement(We.a,{value:Object(_.f)(j)})}},{title:"URL / Screen",key:"url",width:"4rem",render:function(h,A){var j=A.event;if(!j)return{props:{colSpan:0}};var O=j.properties.$current_url?"$current_url":"$screen_name";return Ze?t.a.createElement(c,{className:"ph-no-capture",property:O,value:j.properties[O],filters:{properties:Z}}):t.a.createElement(x,{value:j.properties[O]})}},{title:t.a.createElement(Ae.a,{title:'This is the "Library" property on events. Sent by the SDK as "$lib"'},"Source"),key:"source",render:function(h,A){var j=A.event;return j?Ze?t.a.createElement(c,{property:"$lib",value:j.properties.$lib,filters:{properties:Z}}):t.a.createElement(x,{value:j.properties.$lib}):{props:{colSpan:0}}}}];return ut&&C.splice(1,0,kt),C},[ke]),qt=Object(be.useMemo)(function(){var C=[];if(Ye==="DEFAULT")C=w()(_t);else{var g=ut?Ye:Ye.filter(function(h){return h!=="person"});C=g.map(function(h,A){var j=_t.find(function(O){return O.key===h});return j?St(St({},j),{},{render:function(Be,Ke){var qe=Ke.event;return qe?j.render?j.render(Be,Ke,A):{props:{colSpan:0}}:A===0?jt(Ke,ke):{props:{colSpan:0}}}}):{title:We.e.event[h]?We.e.event[h].label:h,key:h,render:function(Be,Ke){var qe=Ke.event;return qe?Ze?t.a.createElement(c,{className:"ph-no-capture ",property:h,value:qe.properties[h],filters:{properties:Z}}):t.a.createElement(x,{value:qe.properties[h]}):A===0?jt(Ke,ke):{props:{colSpan:0}}}}})}return C.push({title:"Time",key:"time",render:function(A,j){var O=j.event;return O?t.a.createElement(B.b,{time:O.timestamp,showSeconds:!0}):{props:{colSpan:0}}}}),it&&C.push({key:"actions",width:0,render:function(A,j){var O=j.event;if(!O)return{props:{colSpan:0}};var Be;return O.event==="$pageview"?Be={insight:we.z.TRENDS,interval:"day",display:we.j.ActionsLineGraph,actions:[],events:[{id:"$pageview",name:"$pageview",type:"events",order:0,properties:[{key:"$current_url",value:O.properties.$current_url,type:"event"}]}]}:O.event!=="$autocapture"&&(Be={insight:we.z.TRENDS,interval:"day",display:we.j.ActionsLineGraph,actions:[],events:[{id:O.event,name:O.event,type:"events",order:0,properties:[]}]}),t.a.createElement(l.a,{overlay:t.a.createElement(t.a.Fragment,null,L&&t.a.createElement(m.a,{type:"stealth",onClick:function(){return Object(p.a)(L.id,O,0,L.data_attributes||[])},fullWidth:!0,"data-attr":"events-table-create-action"},"Create action from event"),Be&&t.a.createElement(m.a,{type:"stealth",to:n.a.insightNew(Be),fullWidth:!0,"data-attr":"events-table-usage"},"Try out in Insights"))})}}),P?C.concat(P):C},[Ye,ke]);return t.a.createElement("div",{"data-attr":"manage-events-table"},t.a.createElement("div",{className:"events","data-attr":"events-table"},(Ge||Xe)&&t.a.createElement("div",{className:"flex pt pb space-x border-top"},Ge&&t.a.createElement(et.b,{value:vt,onChange:function(g){zt(g||"")}}),Xe&&t.a.createElement(pt.a,{propertyFilters:Z,onChange:Gt,pageKey:i,taxonomicPopoverPlacement:"bottom-start",style:{marginBottom:0,marginTop:0},eventNames:vt?[vt]:[],useLemonButton:!0})),at||H||st?t.a.createElement("div",{className:Object(He.a)("space-between-items pt pb",(Ge||Xe)&&"border-top")},at&&t.a.createElement(f.a,{type:"primary",id:"autoload-switch",label:"Automatically load new events",checked:Ft,onChange:Yt}),t.a.createElement("div",{className:"flex space-x-05"},H&&t.a.createElement(nt,{immutableColumns:["event","person"],defaultColumns:_t.map(function(C){return C.key||""})}),st&&Ut&&t.a.createElement(Ae.a,{title:"Export up to 10,000 latest events.",placement:"left"},t.a.createElement(m.a,{type:"secondary",icon:t.a.createElement(o.IconExport,{style:{color:"var(--primary)"}}),onClick:Ht},"Export")))):null,t.a.createElement(a.a,{dataSource:pe,loading:mt,columns:qt,key:Ye==="DEFAULT"?"default":Ye.join("-"),className:"ph-no-capture",loadingSkeletonRows:20,emptyState:mt?void 0:Z.some(function(C){return Object.keys(C).length})||vt?"No events matching filters found in the last ".concat(wt," months!"):t.a.createElement(t.a.Fragment,null,"This project doesn't have any events. If you haven't integrated PostHog yet,"," ",t.a.createElement(ee.a,{to:"/project/settings"},"click here to instrument analytics with PostHog in your product"),"."),rowKey:function(g){var h;return g.event?g.event.id+"-"+g.event.event:((h=g.date_break)===null||h===void 0?void 0:h.toString())||""},rowClassName:function(g){return Object(He.a)({"event-row":g.event,highlighted:g.event&&Wt[g.event.id],"event-row-is-exception":g.event&&g.event.event==="$exception","event-row-date-separator":g.date_break,"event-row-new":g.new_events})},expandable:gt?{expandedRowRender:function(g){var h=g.event;return h&&t.a.createElement(Pe.a,{event:h})},rowExpandable:function(g){var h=g.event,A=g.date_break,j=g.new_events;return A||j?-1:!!h}}:void 0}),t.a.createElement(te.a,{type:"primary",onClick:Vt,loading:At,style:{display:ht||At?"block":"none",margin:"2rem auto 1rem"}},"Load more events")))}try{rt.displayName="EventsTable",rt.__docgenInfo={description:"",displayName:"EventsTable",props:{pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},fixedFilters:{defaultValue:null,description:"",name:"fixedFilters",required:!1,type:{name:"FixedFilters"}},fixedColumns:{defaultValue:null,description:"",name:"fixedColumns",required:!1,type:{name:"LemonTableColumn<EventsTableRowItem, keyof EventsTableRowItem>[]"}},sceneUrl:{defaultValue:null,description:"",name:"sceneUrl",required:!1,type:{name:"string"}},fetchMonths:{defaultValue:{value:"12"},description:"",name:"fetchMonths",required:!1,type:{name:"number"}},startingColumns:{defaultValue:null,description:"",name:"startingColumns",required:!1,type:{name:"ColumnChoice"}},showCustomizeColumns:{defaultValue:{value:"true"},description:"",name:"showCustomizeColumns",required:!1,type:{name:"boolean"}},showExport:{defaultValue:{value:"true"},description:"",name:"showExport",required:!1,type:{name:"boolean"}},showAutoload:{defaultValue:{value:"true"},description:"",name:"showAutoload",required:!1,type:{name:"boolean"}},showEventFilter:{defaultValue:{value:"true"},description:"",name:"showEventFilter",required:!1,type:{name:"boolean"}},showPropertyFilter:{defaultValue:{value:"true"},description:"",name:"showPropertyFilter",required:!1,type:{name:"boolean"}},showRowExpanders:{defaultValue:{value:"true"},description:"",name:"showRowExpanders",required:!1,type:{name:"boolean"}},showActionsButton:{defaultValue:{value:"true"},description:"",name:"showActionsButton",required:!1,type:{name:"boolean"}},showPersonColumn:{defaultValue:{value:"true"},description:"",name:"showPersonColumn",required:!1,type:{name:"boolean"}},linkPropertiesToFilters:{defaultValue:{value:"true"},description:"",name:"linkPropertiesToFilters",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/events/EventsTable.tsx#EventsTable"]={docgenInfo:rt.__docgenInfo,name:"EventsTable",path:"frontend/src/scenes/events/EventsTable.tsx#EventsTable"})}catch(r){}},"./frontend/src/scenes/events/eventsTableLogic.ts":function(de,M,e){"use strict";e.d(M,"a",function(){return He});var k=e("./node_modules/core-js/modules/es.object.keys.js"),se=e.n(k),fe=e("./node_modules/core-js/modules/es.symbol.js"),Ee=e.n(fe),ye=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),oe=e.n(ye),ae=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),w=e.n(ae),ge=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),le=e.n(ge),xe=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ie=e.n(xe),$=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),N=e.n($),Fe=e("./node_modules/@babel/runtime/regenerator/index.js"),q=e.n(Fe),De=e("./node_modules/core-js/modules/es.array.map.js"),be=e.n(De),t=e("./node_modules/core-js/modules/es.object.to-string.js"),R=e.n(t),Pe=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),ee=e.n(Pe),te=e("./node_modules/core-js/modules/es.array.splice.js"),ne=e.n(te),J=e("./node_modules/core-js/modules/es.array.join.js"),Ue=e.n(J),G=e("./node_modules/core-js/modules/es.array.filter.js"),Q=e.n(G),x=e("./node_modules/core-js/modules/es.array.concat.js"),Ce=e.n(x),re=e("./node_modules/core-js/modules/es.array.iterator.js"),E=e.n(re),c=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),_=e.n(c),y=e("./node_modules/kea/lib/index.esm.js"),I=e("./frontend/src/lib/utils.tsx"),z=e("./node_modules/kea-router/lib/index.js"),Te=e.n(z),X=e("./frontend/src/lib/api.ts"),Se=e("./frontend/src/scenes/teamLogic.tsx"),ce=e("./frontend/src/lib/dayjs.ts"),he=e("./frontend/src/lib/components/lemonToast.tsx");function F(v,n){var a=Object.keys(v);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(v);n&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(v,m).enumerable})),a.push.apply(a,o)}return a}function B(v){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?F(Object(a),!0).forEach(function(o){ie()(v,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach(function(o){Object.defineProperty(v,o,Object.getOwnPropertyDescriptor(a,o))})}return v}var We=5,we=365,et=5e3,pt=function(n,a){var o=[];return o=n.map(function(m){return{event:m}}),o.forEach(function(m,l){var f=o[l-1];l>0&&m.event&&f.event&&!Object(ce.a)(m.event.timestamp).isSame(f.event.timestamp,"day")&&o.splice(l,0,{date_break:Object(ce.a)(m.event.timestamp).format("LL")})}),a.length>0&&o.splice(0,0,{new_events:!0}),o},Ae=function(n){return Object(ce.b)().subtract(n,"day").toISOString()},He=Object(y.kea)({path:function(n){return["scenes","events","eventsTableLogic",n]},props:{},key:function(n){return[n.fixedFilters?JSON.stringify(n.fixedFilters):"all",n.key,n.sceneUrl].filter(function(a){return!!a}).join("-")},connect:{values:[Se.a,["currentTeamId"]]},actions:{setPollingActive:function(n){return{pollingActive:n}},setProperties:function(n){return Array.isArray(n)?n.length===0?{properties:[{}]}:{properties:n}:{properties:[n]}},fetchEvents:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return{nextParams:n}},fetchEventsSuccess:function(n){return n},fetchNextEvents:!0,fetchOrPollFailure:function(n){return{error:n}},pollEvents:!0,pollEventsSuccess:function(n){return{events:n}},prependEvents:function(n){return{events:n}},prependNewEvents:!0,setSelectedEvent:function(n){return{selectedEvent:n}},setPollTimeout:function(n){return{pollTimeout:n}},setEventFilter:function(n){return{event:n}},toggleAutomaticLoad:function(n){return{automaticLoadEnabled:n}},noop:function(n){return n},startDownload:!0},reducers:function(n){var a,o,m=n.props;return{pollingIsActive:[!0,{setPollingActive:function(f,d){var p=d.pollingActive;return p},pollEventsSuccess:function(f,d){var p=d.events;return p&&p.length?!1:f},prependNewEvents:function(){return!0},toggleAutomaticLoad:function(){return!0}}],properties:[[],{setProperties:function(f,d){var p=d.properties;return Object(I.s)(p)}}],eventFilter:[(a=(o=m.fixedFilters)===null||o===void 0?void 0:o.event_filter)!==null&&a!==void 0?a:"",{setEventFilter:function(f,d){var p=d.event;return p}}],isLoading:[!0,{fetchEvents:function(){return!0},fetchEventsSuccess:function(){return!1},fetchOrPollFailure:function(){return!1}}],isLoadingNext:[!1,{fetchNextEvents:function(){return!0},fetchEventsSuccess:function(){return!1}}],events:[[],{fetchEventsSuccess:function(f,d){var p=d.events,K=d.isNext;return K?[].concat(N()(f),N()(p)):p},prependEvents:function(f,d){var p=d.events;return[].concat(N()(p),N()(f))}}],hasNext:[!1,{fetchEvents:function(){return!1},fetchNextEvents:function(){return!1},fetchEventsSuccess:function(f,d){var p=d.hasNext;return p}}],orderBy:["-timestamp",{}],selectedEvent:[null,{setSelectedEvent:function(f,d){var p=d.selectedEvent;return p}}],newEvents:[[],{setProperties:function(){return[]},pollEventsSuccess:function(f,d){var p=d.events;return p||[]},prependEvents:function(){return[]}}],highlightEvents:[{},{prependEvents:function(f,d){var p=d.events;return p.reduce(function(K,V){return K[V.id]=!0,K},{})}}],pollTimeout:[0,{setPollTimeout:function(f,d){return d.pollTimeout}}],automaticLoadEnabled:[!1,{persist:!0},{toggleAutomaticLoad:function(f,d){var p=d.automaticLoadEnabled;return p}}]}},selectors:function(n){var a=n.selectors,o=n.props;return{eventsFormatted:[function(){return[a.events,a.newEvents]},function(m,l){return pt(m,l)}],exportUrl:[function(){return[a.currentTeamId,a.eventFilter,a.orderBy,a.properties,a.minimumQueryDate]},function(m,l,f,d,p){var K;return"/api/projects/".concat(m,"/events.csv?").concat(Object(I.Bb)(B(B(B({},o.fixedFilters||{}),{},{properties:[].concat(N()(d),N()(((K=o.fixedFilters)===null||K===void 0?void 0:K.properties)||[]))},l?{event:l}:{}),{},{orderBy:[f],after:p})))}],months:[function(){return[function(m,l){return l.fetchMonths}]},function(m){return m||12}],minimumQueryDate:[function(){return[a.months]},function(m){return Object(ce.b)().subtract(m,"months").toISOString()}],pollAfter:[function(){return[a.events]},function(m){return(m==null?void 0:m.length)>0&&m[0].timestamp?m[0].timestamp:Ae(0)}]}},actionToUrl:function(n){var a=n.values;return{setProperties:function(){return[z.router.values.location.pathname,B(B({},z.router.values.searchParams),{},{properties:a.properties.length===0?void 0:a.properties}),z.router.values.hashParams,{replace:!0}]},setEventFilter:function(){return[z.router.values.location.pathname,B(B({},z.router.values.searchParams),{},{eventFilter:a.eventFilter}),z.router.values.hashParams,{replace:!0}]}}},urlToAction:function(n){var a=n.actions,o=n.values,m=n.props;return ie()({},m.sceneUrl,function(l,f){a.setProperties(f.properties||o.properties||{}),f.eventFilter&&a.setEventFilter(f.eventFilter)})},events:function(n){var a=n.values;return{beforeUnmount:function(){return clearTimeout(a.pollTimeout||void 0)}}},listeners:function(n){var a=n.actions,o=n.values,m=n.props;return{startDownload:function(){he.d.success("The export is starting. It should finish soon"),window.location.href=o.exportUrl},setProperties:function(){return a.fetchEvents()},setEventFilter:function(){return a.fetchEvents()},fetchNextEvents:function(){var l=le()(q.a.mark(function d(){var p;return q.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:p=o.events,p.length===0?a.fetchEvents():a.fetchEvents({before:p[p.length-1].timestamp});case 2:case"end":return V.stop()}},d)}));function f(){return l.apply(this,arguments)}return f}(),fetchEvents:function(){var l=le()(q.a.mark(function d(p,K){var V,je,Ve,Le,me,Y,Me,T;return q.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(me=function(){return me=le()(q.a.mark(function $e(Ot){var Et;return q.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Et=B(B(B(B({after:Ot},m.fixedFilters||{}),{},{properties:Ve},je||{}),o.eventFilter?{event:o.eventFilter}:{}),{},{orderBy:[o.orderBy]}),ze.abrupt("return",X.b.get("api/projects/".concat(o.currentTeamId,"/events/?").concat(Object(I.Bb)(Et))));case 2:case"end":return ze.stop()}},$e)})),me.apply(this,arguments)},Le=function($e){return me.apply(this,arguments)},je=p.nextParams,clearTimeout(o.pollTimeout),!(o.events.length>0)){b.next=9;break}return b.next=7,K(300);case 7:b.next=11;break;case 9:return b.next=11,K(1);case 11:return Ve=[].concat(N()(o.properties),N()(((V=m.fixedFilters)===null||V===void 0?void 0:V.properties)||[])),Y=null,Me=!1,b.prev=14,b.next=17,Le(Ae(We));case 17:if(Y=b.sent,Y.results.length!==0){b.next=23;break}return b.next=21,Le(Ae(we));case 21:Y=b.sent,Me=!0;case 23:b.next=29;break;case 25:return b.prev=25,b.t0=b.catch(14),a.fetchOrPollFailure(b.t0),b.abrupt("return");case 29:K(),a.fetchEventsSuccess({events:Y.results,hasNext:!!Y.next||!Me,isNext:!!je}),T=window.setTimeout(a.pollEvents,et),a.setPollTimeout(T);case 33:case"end":return b.stop()}},d,null,[[14,25]])}));function f(d,p){return l.apply(this,arguments)}return f}(),pollEvents:function(){var l=le()(q.a.mark(function d(p,K){var V,je,Ve,Le,me,Y;return q.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(je=function(){var b=window.setTimeout(a.pollEvents,et);a.setPollTimeout(b)},o.orderBy==="-timestamp"){T.next=3;break}return T.abrupt("return");case 3:if(m.sceneUrl===z.router.values.location.pathname){T.next=5;break}return T.abrupt("return");case 5:if(o.pollingIsActive){T.next=8;break}return je(),T.abrupt("return");case 8:return Ve=[].concat(N()(o.properties),N()(((V=m.fixedFilters)===null||V===void 0?void 0:V.properties)||[])),Le=B(B(B({},m.fixedFilters||{}),{},{properties:Ve},o.eventFilter?{event:o.eventFilter}:{}),{},{orderBy:[o.orderBy],after:o.pollAfter}),me=Object(I.Bb)(Le),Y=null,T.prev=12,T.next=15,X.b.get("api/projects/".concat(o.currentTeamId,"/events/?").concat(me));case 15:Y=T.sent,T.next=21;break;case 18:return T.prev=18,T.t0=T.catch(12),T.abrupt("return");case 21:K(),o.automaticLoadEnabled?a.prependEvents(Y.results):a.pollEventsSuccess(Y.results),je();case 24:case"end":return T.stop()}},d,null,[[12,18]])}));function f(d,p){return l.apply(this,arguments)}return f}(),prependNewEvents:function(){o.newEvents.length&&a.prependEvents(o.newEvents)},fetchOrPollFailure:function(f){var d=f.error;he.d.error("There was a problem fetching your events: ".concat(d.statusText))},toggleAutomaticLoad:function(f){var d=f.automaticLoadEnabled;d&&a.prependNewEvents()}}}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(de,M,e){var k=e("./node_modules/css-loader/dist/runtime/api.js");M=k(!1),M.push([de.i,".column-configurator-modal .text-blue{color:var(--primary)}.column-configurator-modal .column-display-item{display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:var(--radius);margin:calc(var(--radius)/2) 0}.column-configurator-modal .column-display-item:hover{background-color:var(--bg-mid)}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:var(--text-muted);background-color:var(--bg-mid)}.column-configurator-modal .column-display-item.selected{background-color:var(--primary-bg-hover)}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}.column-configurator-modal .main-content{margin-bottom:.5rem}.column-configurator-modal .main-content .lists{background-color:var(--bg-side);border-radius:.25rem;padding:.5rem;margin-left:0!important;margin-right:0!important}.column-configurator-modal .selected-column-col{display:flex;flex-direction:column}.column-configurator-modal .drag-handle{cursor:move;color:var(--text-default);font-size:1.2em;padding-right:.25rem}.column-configurator-modal .drag-handle svg{transform:rotate(90deg) translateX(2px)}.column-configurator-modal .save-as-default-button{border:1px solid var(--dark-grey);border-radius:.25rem}.column-configurator-modal-sortable-container{z-index:9999;display:flex;align-items:center;justify-content:flex-start;padding:.5rem}.column-configurator-modal-sortable-container .drag-handle{color:var(--text-default);font-size:1.2em;padding-right:.25rem;transform:rotate(90deg) translateX(2px)}",""]),de.exports=M},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/events/EventsTable.scss":function(de,M,e){var k=e("./node_modules/css-loader/dist/runtime/api.js");M=k(!1),M.push([de.i,".events .events-table-button-clear{padding:0 4px;margin-left:4px}.events .events-table-button-clear.visible,.events .events-table-button-clear:focus,.events .events-table-button-clear:hover{border:1px solid var(--primary)}.events .event-row-new{height:2.5rem}.events .event-row-date-separator{background-color:var(--bg-mid);color:var(--text-muted);font-weight:600;font-size:.75rem;height:2rem;text-align:center}.events .event-row-is-exception{background-color:var(--depr-lighten-danger-40)}.events td{max-width:20rem}",""]),de.exports=M}}]);
