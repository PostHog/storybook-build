(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{4359:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(70),_interopRequireDefault=__webpack_require__(23);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(80)),React=_interopRequireWildcard(__webpack_require__(0)),_UserOutlined=_interopRequireDefault(__webpack_require__(4360)),_AntdIcon=_interopRequireDefault(__webpack_require__(107)),UserOutlined=function UserOutlined(props,ref){return React.createElement(_AntdIcon.default,(0,_objectSpread2.default)((0,_objectSpread2.default)({},props),{},{ref:ref,icon:_UserOutlined.default}))};UserOutlined.displayName="UserOutlined";var _default=React.forwardRef(UserOutlined);exports.default=_default},4360:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"}},4368:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RelatedGroups}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),index_esm=__webpack_require__(1),LemonTable=__webpack_require__(350),skeleton=__webpack_require__(1240),groupsModel=__webpack_require__(125),UserOutlined=__webpack_require__(4359),UserOutlined_default=__webpack_require__.n(UserOutlined),utils=__webpack_require__(11),urls=__webpack_require__(19),Link=__webpack_require__(57),PersonHeader=__webpack_require__(386),regenerator=(__webpack_require__(42),__webpack_require__(49),__webpack_require__(40),__webpack_require__(53),__webpack_require__(8)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(69),__webpack_require__(13)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(22),teamLogic=__webpack_require__(31),relatedGroupsLogic=Object(index_esm.kea)({path:["scenes","groups","relatedGroupsLogic"],connect:{values:[teamLogic.a,["currentTeamId"]]},props:{},key:function key(props){return"".concat(props.groupTypeIndex,"-").concat(props.id)},actions:function actions(){return{loadRelatedActors:!0}},loaders:function loaders(_ref){var _loadRelatedActors,values=_ref.values,props=_ref.props;return{relatedActors:[[],{loadRelatedActors:(_loadRelatedActors=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var url;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return url="api/projects/".concat(values.currentTeamId,"/groups/related?").concat(Object(utils.vb)({group_type_index:props.groupTypeIndex,id:props.id})),_context.next=3,api.a.get(url);case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}),_callee)}))),function loadRelatedActors(){return _loadRelatedActors.apply(this,arguments)}),setGroup:function setGroup(){return[]}}]}},events:function events(_ref2){return{afterMount:_ref2.actions.loadRelatedActors}}});function RelatedGroups(_ref){var groupTypeIndex=_ref.groupTypeIndex,id=_ref.id,_useValues=Object(index_esm.useValues)(relatedGroupsLogic({groupTypeIndex:groupTypeIndex,id:id})),relatedActors=_useValues.relatedActors,relatedActorsLoading=_useValues.relatedActorsLoading,groupTypes=Object(index_esm.useValues)(groupsModel.a).groupTypes;if(relatedActorsLoading)return react_default.a.createElement(skeleton.a,{paragraph:{rows:2},active:!0});var columns=[{title:"Type",key:"type",render:function RenderCount(_,actor){var _groupTypes$actor$gro,_groupTypes$actor$gro2;return"group"===actor.type?react_default.a.createElement(react_default.a.Fragment,null,Object(utils.h)(null!==(_groupTypes$actor$gro=null===(_groupTypes$actor$gro2=groupTypes[actor.group_type_index])||void 0===_groupTypes$actor$gro2?void 0:_groupTypes$actor$gro2.group_type)&&void 0!==_groupTypes$actor$gro?_groupTypes$actor$gro:"")):react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(UserOutlined_default.a,null)," Person")}},{title:"id",key:"id",render:function RenderCount(_,actor){var url;return"group"==actor.type?(url=urls.a.group(actor.group_type_index,actor.id),react_default.a.createElement(Link.a,{to:url,"data-attr":"related-group-link"},actor.id)):(url=urls.a.person(actor.person.distinct_ids[0]),react_default.a.createElement(Link.a,{to:url,"data-attr":"related-person-link"},Object(PersonHeader.b)(actor.person)))}}];return relatedActors.length?react_default.a.createElement(LemonTable.a,{dataSource:relatedActors,columns:columns,rowKey:"id",pagination:{pageSize:30,hideOnSinglePage:!0},embedded:!0}):react_default.a.createElement("i",null,"No related groups found")}try{RelatedGroups.displayName="RelatedGroups",RelatedGroups.__docgenInfo={description:"",displayName:"RelatedGroups",props:{groupTypeIndex:{defaultValue:null,description:"",name:"groupTypeIndex",required:!0,type:{name:"number | null"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"]={docgenInfo:RelatedGroups.__docgenInfo,name:"RelatedGroups",path:"frontend/src/scenes/groups/RelatedGroups.tsx#RelatedGroups"})}catch(__react_docgen_typescript_loader_error){}},4730:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"Group",(function(){return Group}));__webpack_require__(42),__webpack_require__(40),__webpack_require__(118);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),tabs=__webpack_require__(566),row=__webpack_require__(348),col=__webpack_require__(296),card=__webpack_require__(4259),skeleton=__webpack_require__(1240),InfoCircleOutlined=__webpack_require__(636),index_esm=__webpack_require__(1),PropertiesTable=__webpack_require__(911),TimezoneAware=__webpack_require__(373),regenerator=(__webpack_require__(49),__webpack_require__(53),__webpack_require__(8)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(69),__webpack_require__(13)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),api=__webpack_require__(22),utils=__webpack_require__(11),teamLogic=__webpack_require__(31),groupsModel=__webpack_require__(125),urls=__webpack_require__(19),groupLogic=Object(index_esm.kea)({path:["groups","groupLogic"],connect:{values:[teamLogic.a,["currentTeamId"],groupsModel.a,["groupTypes"]]},actions:function actions(){return{setGroup:function setGroup(groupTypeIndex,groupKey){return{groupTypeIndex:groupTypeIndex,groupKey:groupKey}},setActiveCardTab:function setActiveCardTab(tab){return{tab:tab}}}},loaders:function loaders(_ref){var _loadGroup,values=_ref.values;return{groupData:[null,{loadGroup:(_loadGroup=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var params,url;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return params={group_type_index:values.groupTypeIndex,group_key:values.groupKey},url="api/projects/".concat(values.currentTeamId,"/groups/find?").concat(Object(utils.vb)(params)),_context.next=4,api.a.get(url);case 4:return _context.abrupt("return",_context.sent);case 5:case"end":return _context.stop()}}),_callee)}))),function loadGroup(){return _loadGroup.apply(this,arguments)})}]}},reducers:{groupTypeIndex:[0,{setGroup:function setGroup(_,_ref2){return _ref2.groupTypeIndex}}],groupKey:["",{setGroup:function setGroup(_,_ref3){return _ref3.groupKey}}],activeCardTab:["properties",{setActiveCardTab:function setActiveCardTab(_,_ref4){return _ref4.tab},setGroup:function setGroup(){return"properties"}}]},selectors:{groupTypeName:[function(s){return[s.groupTypes,s.groupTypeIndex]},function(groupTypes,index){var _groupTypes$index;return(null===(_groupTypes$index=groupTypes[index])||void 0===_groupTypes$index?void 0:_groupTypes$index.group_type)||""}],breadcrumbs:[function(s){return[s.groupTypeName,s.groupTypeIndex,s.groupKey]},function(groupTypeName,groupTypeIndex,groupKey){return[{name:Object(utils.h)(groupTypeName),path:urls.a.groups(String(groupTypeIndex))},{name:groupKey,path:urls.a.group(String(groupTypeIndex),groupKey)}]}]},urlToAction:function urlToAction(_ref5){var actions=_ref5.actions;return{"/groups/:groupTypeIndex/:groupKey":function groupsGroupTypeIndexGroupKey(_ref6){var groupTypeIndex=_ref6.groupTypeIndex,groupKey=_ref6.groupKey;groupTypeIndex&&groupKey&&(actions.setGroup(+groupTypeIndex,decodeURIComponent(groupKey)),actions.loadGroup())}}}}),EventsTable=__webpack_require__(1878),RelatedGroups=__webpack_require__(4368),Tooltip=__webpack_require__(45),GroupActorHeader=__webpack_require__(1144),TabPane=tabs.a.TabPane,scene={component:Group,logic:groupLogic};function Group(){var _useValues=Object(index_esm.useValues)(groupLogic),groupData=_useValues.groupData,groupDataLoading=_useValues.groupDataLoading,groupTypeName=_useValues.groupTypeName,groupKey=_useValues.groupKey,groupTypeIndex=_useValues.groupTypeIndex,activeCardTab=_useValues.activeCardTab,setActiveCardTab=Object(index_esm.useActions)(groupLogic).setActiveCardTab;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{style:{paddingTop:32}},react_default.a.createElement(row.a,{gutter:16},react_default.a.createElement(col.a,{span:16},groupData&&react_default.a.createElement(EventsTable.a,{pageKey:"".concat(groupTypeIndex,"::").concat(groupKey),fixedFilters:{properties:[{key:"$group_".concat(groupTypeIndex),value:groupKey}]},sceneUrl:urls.a.group(groupTypeIndex.toString(),groupKey),hideTableConfig:!0})),react_default.a.createElement(col.a,{span:8},react_default.a.createElement(card.a,{className:"card-elevated person-detail"},groupData&&react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",{className:"person-header"},react_default.a.createElement("span",{className:"ph-no-capture text-ellipsis"},Object(GroupActorHeader.b)(groupData.group_key,groupData.group_properties))),react_default.a.createElement("div",{className:"item-group"},react_default.a.createElement("label",null,"Group type"),react_default.a.createElement("div",null,groupTypeName)),react_default.a.createElement("div",{className:"item-group"},react_default.a.createElement("label",null,"First seen"),react_default.a.createElement("div",null,react_default.a.createElement(TimezoneAware.b,{time:groupData.created_at})))),groupDataLoading&&react_default.a.createElement(skeleton.a,{paragraph:{rows:4},active:!0})),react_default.a.createElement(card.a,{className:"card-elevated person-properties",style:{marginTop:16}},react_default.a.createElement(tabs.a,{activeKey:activeCardTab,onChange:function onChange(tab){setActiveCardTab(tab)}},react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"group-properties-tab"},"Properties"),key:"properties",disabled:groupDataLoading}),react_default.a.createElement(TabPane,{tab:react_default.a.createElement("span",{"data-attr":"group-related-tab"},"Related people & groups",react_default.a.createElement(Tooltip.a,{title:"Shows people and groups which have shared events with this ".concat(groupTypeName," in the last 90 days.")},react_default.a.createElement(InfoCircleOutlined.a,{style:{marginLeft:4}}))),key:"related",disabled:groupDataLoading})),groupData&&("properties"==activeCardTab?react_default.a.createElement("div",{style:{maxWidth:"100%",overflow:"hidden"}},react_default.a.createElement("h3",{className:"l3"},"Properties list"),react_default.a.createElement(PropertiesTable.a,{properties:groupData.group_properties,className:"persons-page-props-table"})):react_default.a.createElement(RelatedGroups.a,{id:groupKey,groupTypeIndex:groupTypeIndex})),groupDataLoading&&react_default.a.createElement(skeleton.a,{paragraph:{rows:6},active:!0}))))))}}}]);