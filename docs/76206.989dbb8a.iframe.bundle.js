"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[76206],{"../../frontend/src/scenes/startups/StartupProgram.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StartupProgram:()=>StartupProgram,default:()=>startups_StartupProgram,scene:()=>scene});var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.12.1_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.5_react@18.2.0_/node_modules/kea-forms/lib/index.js"),kea_router_lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),BillingUpgradeCTA=__webpack_require__("../../frontend/src/lib/components/BillingUpgradeCTA.tsx"),hedgehogs=__webpack_require__("../../frontend/src/lib/components/hedgehogs.tsx"),useUploadFiles=__webpack_require__("../../frontend/src/lib/hooks/useUploadFiles.ts"),LemonBanner=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonBanner/index.ts"),LemonCalendarSelect=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonCalendar/LemonCalendarSelect.tsx"),LemonField=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),billingLogic=__webpack_require__("../../frontend/src/scenes/billing/billingLogic.tsx"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),api=__webpack_require__("../../frontend/src/lib/api.ts"),constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),dayjs=__webpack_require__("../../frontend/src/lib/dayjs.ts"),dist_module=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.236.3_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),paymentEntryLogic=__webpack_require__("../../frontend/src/scenes/billing/paymentEntryLogic.ts"),organizationLogic=__webpack_require__("../../frontend/src/scenes/organizationLogic.tsx"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts");let PUBLIC_EMAIL_DOMAINS=["gmail.com","yahoo.com","hotmail.com","outlook.com","aol.com","protonmail.com","icloud.com","mail.com","zoho.com","yandex.com","gmx.com","live.com","mail.ru"],RAISED_OPTIONS=[{label:"Bootstrapped",value:"0"},{label:"Under $100k",value:"99999"},{label:"From $100k to $500k",value:"499999"},{label:"From $500k to $1m",value:"999999"},{label:"From $1m to $5m",value:"4999999"},{label:"$5m or more",value:"5000000"}],YC_BATCH_OPTIONS=[{label:"Select your batch",value:""},{label:"Winter 2025",value:"W25"},{label:"Fall 2024",value:"F24"},{label:"Summer 2024",value:"S24"},{label:"Winter 2024",value:"W24"},{label:"Summer 2023",value:"S23"},{label:"Winter 2023",value:"W23"},{label:"Summer 2022",value:"S22"},{label:"Winter 2022",value:"W22"},{label:"Summer 2021",value:"S21"},{label:"Winter 2021",value:"W21"},{label:"Earlier batches",value:"Earlier"}],StartupProgramType=function(StartupProgramType){return StartupProgramType.YC="YC",StartupProgramType.Startup="startup",StartupProgramType}({});function validateIncorporationDate(date,isYC){return isYC?void 0:date?dayjs.Bv.isDayjs(date)?date.isAfter((0,dayjs.Bv)())?"Incorporation date cannot be in the future":date.isBefore((0,dayjs.Bv)().subtract(2,"year"))?"Company must be less than 2 years old to be eligible":void 0:"Invalid date format":"Please enter your incorporation date"}function validateFunding(raised,isYC){return isYC?void 0:raised?parseInt(raised)>=5e6?"Companies that have raised $5M or more are not eligible for the startup program":void 0:"Please select how much funding you have raised"}let startupProgramLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","startups","startupProgramLogic"]),(0,index_esm.props)({}),(0,index_esm.key)(_ref=>{let{isYC}=_ref;return isYC||!1}),(0,index_esm.connect)({values:[userLogic.userLogic,["user"],organizationLogic.organizationLogic,["currentOrganization"],billingLogic.kr,["billing"]],actions:[paymentEntryLogic.j,["showPaymentEntryModal"]]}),(0,index_esm.actions)({setFormSubmitted:submitted=>({submitted})}),(0,index_esm.reducers)({formSubmitted:[!1,{setFormSubmitted:(_,_ref2)=>{let{submitted}=_ref2;return submitted}}]}),(0,index_esm.selectors)({isAlreadyOnStartupPlan:[s=>[s.billing],billing=>!!billing?.startup_program_label],isUserOrganizationOwnerOrAdmin:[s=>[s.user],user=>{var _user$organization$me;return(null!==(_user$organization$me=user?.organization?.membership_level)&&void 0!==_user$organization$me?_user$organization$me:0)>=constants.ZN.Admin}],domainFromEmail:[s=>[s.user],user=>{if(!user?.email)return"";let domain=user.email.split("@")[1];return PUBLIC_EMAIL_DOMAINS.includes(domain)?"":domain}]}),(0,lib.forms)(_ref3=>{let{values,actions,props}=_ref3;return{startupProgram:{defaults:{type:props.isYC?StartupProgramType.YC:StartupProgramType.Startup,startup_domain:values.domainFromEmail||"",organization_name:values.currentOrganization?.name||"",organization_id:values.currentOrganization?.id||"",raised:void 0,incorporation_date:void 0,yc_batch:props.isYC?"":void 0,yc_proof_screenshot_url:void 0,yc_merch_count:props.isYC?1:void 0},errors:_ref4=>{let{organization_id,raised,incorporation_date,yc_batch,yc_proof_screenshot_url}=_ref4;return values.billing?.has_active_subscription?{organization_id:organization_id?void 0:"Please select an organization",raised:validateFunding(raised,props.isYC),incorporation_date:validateIncorporationDate(incorporation_date,props.isYC),yc_batch:props.isYC&&!yc_batch?"Please select your YC batch":void 0,yc_proof_screenshot_url:props.isYC&&!yc_proof_screenshot_url?"Please upload a screenshot":void 0}:{_form:"You need to upgrade to a paid plan before submitting your application"}},submit:async formValues=>{let valuesToSubmit={program:props.isYC?StartupProgramType.YC:StartupProgramType.Startup,organization_id:formValues.organization_id,yc_merch_count:formValues.yc_merch_count};props.isYC&&(valuesToSubmit.yc_batch=formValues.yc_batch,valuesToSubmit.yc_proof_screenshot_url=formValues.yc_proof_screenshot_url),props.isYC||(valuesToSubmit.raised=formValues.raised,valuesToSubmit.incorporation_date=dayjs.Bv.isDayjs(formValues.incorporation_date)?formValues.incorporation_date.format("YYYY-MM-DD"):void 0);try{await api.ZP.create("api/billing/startups/apply",valuesToSubmit),actions.setFormSubmitted(!0),dist_module.ZP.capture("startup program application submitted",valuesToSubmit)}catch(error){throw src.UJ.error(error.detail||"Failed to submit application"),error}}}}})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:StartupProgram};function StartupProgram(){let{location:{pathname}}=(0,index_esm.useValues)(kea_router_lib.router),isYC=pathname.endsWith("/yc"),logic=startupProgramLogic({isYC}),{startupProgram,formSubmitted,isAlreadyOnStartupPlan,isUserOrganizationOwnerOrAdmin}=(0,index_esm.useValues)(logic),{billing,billingLoading}=(0,index_esm.useValues)(billingLogic.kr),{setStartupProgramValue,showPaymentEntryModal}=(0,index_esm.useActions)(logic),programName=isYC?"YC Program":"Startup Program",{setFilesToUpload,filesToUpload,uploading}=(0,useUploadFiles.nc)({onUpload:url=>{setStartupProgramValue("yc_proof_screenshot_url",url)},onError:detail=>{src.UJ.error(`Error uploading screenshot: ${detail}`),setStartupProgramValue("yc_proof_screenshot_url",void 0)}});return isAlreadyOnStartupPlan?(0,jsx_runtime.jsx)("div",{className:"mx-auto max-w-200 mt-6 px-4",children:(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"info",children:[(0,jsx_runtime.jsxs)("h2",{className:"mb-2",children:["You're already in the ",programName]}),(0,jsx_runtime.jsxs)("p",{children:["It looks like your organization is already part of our ",programName,". If you have any questions, please contact our support team."]}),(0,jsx_runtime.jsx)(src.Jp,{type:"primary",to:urls.j.projectHomepage(),className:"mt-2",children:"Return to PostHog"})]})}):isUserOrganizationOwnerOrAdmin?(0,jsx_runtime.jsxs)("div",{className:"mx-auto max-w-[1200px]",children:[(0,jsx_runtime.jsx)("div",{className:"flex flex-col items-center mb-8",children:isYC?(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center mt-8",children:[(0,jsx_runtime.jsx)("div",{className:"px-4 w-full max-w-100 mb-4",children:(0,jsx_runtime.jsx)("div",{className:"relative",children:(0,jsx_runtime.jsx)(hedgehogs.YCHog,{className:"h-auto w-full"})})}),(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[(0,jsx_runtime.jsx)("h1",{className:"text-2xl sm:text-3xl mb-2 sm:mb-3",children:"You've found our secret Y Combinator offer!"}),(0,jsx_runtime.jsx)("p",{className:"text-sm sm:text-base text-muted",children:"Get $50,000 in credits (plus extras you'll actually use) to help you get to product-market fit."})]})]}):(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center -mt-6 md:gap-8 mb-3",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-end self-end",children:(0,jsx_runtime.jsx)("div",{className:"relative w-35 min-w-18",children:(0,jsx_runtime.jsx)(hedgehogs.ClimberHog1,{className:"h-auto w-full"})})}),(0,jsx_runtime.jsxs)("div",{className:"text-center",children:[(0,jsx_runtime.jsx)("h1",{className:"text-xl sm:text-3xl mb-2 sm:mb-3",children:"Apply for PostHog's startup program"}),(0,jsx_runtime.jsx)("p",{className:"text-sm sm:text-base text-muted",children:"Get $50,000 in credits (plus extras you'll actually use) to help you get to product-market fit."})]}),(0,jsx_runtime.jsx)("div",{className:"flex items-center",children:(0,jsx_runtime.jsx)("div",{className:"relative w-35 min-w-18",children:(0,jsx_runtime.jsx)(hedgehogs.ClimberHog2,{className:"h-auto w-full"})})})]})}),(0,jsx_runtime.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[(0,jsx_runtime.jsxs)("div",{className:"bg-surface-secondary rounded-lg p-6",children:[(0,jsx_runtime.jsx)("h2",{className:"text-xl mb-4",children:"What you can get"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{className:"text-success shrink-0 mt-1 mr-2"}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("h4",{className:"font-semibold",children:["$50,000 in PostHog credit"," ",(0,jsx_runtime.jsx)("span",{className:"text-[0.66em] align-super text-muted",children:"1"})]}),(0,jsx_runtime.jsx)("p",{className:"text-muted text-sm",children:"Valid for 1 year to use across all products"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-start",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{className:"text-success shrink-0 mt-1 mr-2"}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("h4",{className:"font-semibold",children:["Exclusive founder merch"," ",(0,jsx_runtime.jsx)("span",{className:"text-[0.66em] align-super text-muted",children:"2"})]}),(0,jsx_runtime.jsx)("p",{className:"text-muted text-sm",children:"Who wouldn't want free laptop stickers, hats, or t-shirts?"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-start",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{className:"text-success shrink-0 mt-1 mr-2"}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h4",{className:"font-semibold",children:"50% off Mintlify for 6 months"}),(0,jsx_runtime.jsx)("p",{className:"text-muted text-sm",children:"The best products deserve the best documentation"})]})]}),isYC&&(0,jsx_runtime.jsxs)("div",{className:"flex items-start",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{className:"text-success shrink-0 mt-1 mr-2"}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h4",{className:"font-semibold",children:"Priority support"}),(0,jsx_runtime.jsx)("p",{className:"text-muted text-sm",children:"Direct access to our engineering team for technical support"})]})]})]}),!isYC&&(0,jsx_runtime.jsxs)("div",{className:"mt-6",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg mb-3",children:"As long as"}),(0,jsx_runtime.jsxs)("ul",{className:"space-y-2",children:[(0,jsx_runtime.jsxs)("li",{className:"flex items-center text-sm",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconArrowRight,{className:"text-muted shrink-0 mr-2"}),"Your company was founded less than 2 years ago"]}),(0,jsx_runtime.jsxs)("li",{className:"flex items-center text-sm",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconArrowRight,{className:"text-muted shrink-0 mr-2"}),"You've raised less than $5 million in funding"]})]})]}),isYC&&(0,jsx_runtime.jsx)("div",{className:"mt-4",children:(0,jsx_runtime.jsxs)("div",{className:"text-xs text-muted space-y-1",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-1",children:[(0,jsx_runtime.jsx)("span",{className:"text-xxs align-super",children:"1"}),"Applies to current and previous 4 batches. Earlier batches get $25,000 for 12 months."]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-1",children:[(0,jsx_runtime.jsx)("span",{className:"text-xxs align-super",children:"2"}),"Boring international customs reasons mean users outside US/Canada get a $150 PostHog merch voucher instead."]})]})})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"bg-surface-secondary rounded-lg p-6",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,jsx_runtime.jsx)("h2",{className:"text-xl m-0",children:"Step 1: Add billing details"})}),billingLoading?(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.$j,{className:"text-lg"}),(0,jsx_runtime.jsx)("span",{children:"Checking if you're on a paid plan"})]}):billing?.has_active_subscription?(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 text-success",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{className:"shrink-0"}),(0,jsx_runtime.jsx)("span",{children:"You're on a paid plan"})]}):(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,jsx_runtime.jsx)("p",{className:"text-muted mb-2",children:"To be eligible for the startup program, you need to be on a paid plan."}),(0,jsx_runtime.jsx)("p",{className:"text-muted mb-2",children:"Don't worry - you'll only pay for what you use and can set billing limits as low as $0 to control your spend."}),(0,jsx_runtime.jsx)("p",{className:"text-muted mb-2 italic",children:"P.S. You still keep the monthly free allowance for every product!"}),(0,jsx_runtime.jsx)(BillingUpgradeCTA.y,{type:"primary","data-attr":"startup-program-upgrade-cta",disableClientSideRouting:!0,onClick:()=>showPaymentEntryModal(),children:"Add billing details"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"bg-surface-secondary rounded-lg p-6",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,jsx_runtime.jsx)("h2",{className:"text-xl m-0",children:"Step 2: Submit application"})}),formSubmitted?(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 text-success",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCheck,{className:"shrink-0"}),(0,jsx_runtime.jsx)("span",{children:"Application submitted successfully!"})]}),(0,jsx_runtime.jsx)("p",{className:"text-muted",children:"Thank you for your application! We'll review it and get back to you as soon as possible. In the meantime, you can continue using PostHog."}),(0,jsx_runtime.jsx)(src.Jp,{type:"primary",to:urls.j.projectHomepage(),children:"Return to PostHog"})]}):(0,jsx_runtime.jsxs)(lib.Form,{logic:startupProgramLogic,props:{isYC},formKey:"startupProgram",enableFormOnSubmit:!0,className:"space-y-3",children:[(0,jsx_runtime.jsxs)("div",{className:"hidden",children:[(0,jsx_runtime.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"first_name",label:"First name",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"Jane"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"last_name",label:"Last name",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"Doe"})})]}),(0,jsx_runtime.jsx)(LemonField.D,{name:"email",label:"Email",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"you@example.com"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"startup_domain",label:"Company domain",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"example.com"})})]}),(0,jsx_runtime.jsx)(LemonField.D,{name:"organization_name",label:"PostHog organization",info:"To apply for a different organization, switch to that organization first",children:(0,jsx_runtime.jsx)(src.DF,{placeholder:"Your PostHog organization",disabled:!0})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"organization_id",className:"hidden",children:(0,jsx_runtime.jsx)(src.DF,{})}),!isYC&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"raised",label:"How much in total funding have you raised (USD)",children:(0,jsx_runtime.jsx)(src.Yv,{options:RAISED_OPTIONS,className:"bg-bg-light"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"incorporation_date",label:"The date that your company was incorporated",children:(0,jsx_runtime.jsx)(LemonCalendarSelect.he,{clearable:!1,format:"YYYY-MM-DD",buttonProps:{className:"bg-bg-light"},placeholder:" ",selectionPeriod:"past"})})]}),isYC&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"yc_batch",label:"Which YC batch are you?",children:(0,jsx_runtime.jsx)(src.Yv,{options:YC_BATCH_OPTIONS,className:"bg-bg-light"})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"yc_proof_screenshot_url",label:(0,jsx_runtime.jsxs)("span",{children:["Screenshot showing you're using"," ",(0,jsx_runtime.jsx)(src.rU,{target:"_blank",to:"https://bookface.ycombinator.com/deals/687",children:"PostHog deal"})," ","on Bookface"]}),info:"Open PostHog deal on Bookface, click 'Mark Using', take a screenshot and attach it below",children:(0,jsx_runtime.jsx)(src.mH,{accept:"image/*",multiple:!1,value:filesToUpload,showUploadedFiles:!1,onChange:setFilesToUpload,loading:uploading,callToAction:(0,jsx_runtime.jsx)("div",{className:"border border-dashed rounded p-2 w-full",children:startupProgram.yc_proof_screenshot_url?(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center gap-4 w-full",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:"YC deal screenshot"}),(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)("img",{src:startupProgram.yc_proof_screenshot_url,alt:"YC Profile",className:"h-10 w-10 rounded object-cover"}),(0,jsx_runtime.jsx)(src.Jp,{type:"tertiary",status:"danger",size:"xsmall",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{className:"text-sm"}),onClick:e=>{e.preventDefault(),setStartupProgramValue("yc_proof_screenshot_url",void 0)},tooltip:"Remove screenshot",className:"absolute -top-1 -right-1 p-0.5 !bg-bg-light rounded-full",noPadding:!0})]})]}):(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconUpload,{className:"text-2xl"}),(0,jsx_runtime.jsx)("span",{children:"Upload Screenshot"})]})})})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"yc_merch_count",label:"How many merch packs do you need for you and your co-founder(s)?",children:(0,jsx_runtime.jsx)(src.DF,{type:"number",min:1,max:5})})]}),(0,jsx_runtime.jsx)(src.Jp,{type:"primary",htmlType:"submit",className:"mt-4","data-attr":"startup-program-submit",children:"Submit Application"}),(0,jsx_runtime.jsx)(LemonField.D,{name:"_form",children:(0,jsx_runtime.jsx)("span",{})})]})]})]})]})]}):(0,jsx_runtime.jsx)("div",{className:"mx-auto max-w-200 mt-6 px-4",children:(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",children:[(0,jsx_runtime.jsx)("h2",{className:"mb-2",children:"Admin or owner permission required"}),(0,jsx_runtime.jsx)("p",{children:"You need to be an organization admin or owner to apply for the startup program. Please contact your organization admin for assistance."}),(0,jsx_runtime.jsx)(src.Jp,{type:"primary",to:urls.j.projectHomepage(),className:"mt-2",children:"Return to PostHog"})]})})}let startups_StartupProgram=StartupProgram}}]);