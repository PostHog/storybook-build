(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{5890:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"InsightRouter",(function(){return InsightRouter}));__webpack_require__(37),__webpack_require__(42),__webpack_require__(61),__webpack_require__(36),__webpack_require__(47);var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(66),__webpack_require__(15)),_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__),antd__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1162),antd__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5521),antd__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(355),antd__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(231),kea__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3),kea_router__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(21),lib_api__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(22),lib_components_NotFound__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1646),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(54),react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_17__),_teamLogic__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(28),insightRouterLogic=Object(kea__WEBPACK_IMPORTED_MODULE_12__.kea)({actions:{loadInsight:function loadInsight(id){return{id:id}},setError:!0},reducers:{error:[!1,{setError:function setError(){return!0}}]},listeners:function listeners(_ref){var _loadInsight,actions=_ref.actions;return{loadInsight:(_loadInsight=_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.mark((function _callee(_ref2){var id,response,item;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return id=_ref2.id,_context.next=3,lib_api__WEBPACK_IMPORTED_MODULE_14__.a.get("api/projects/".concat(_teamLogic__WEBPACK_IMPORTED_MODULE_18__.a.values.currentTeamId,"/insights/?short_id=").concat(id));case 3:(response=_context.sent).results.length?(item=response.results[0],lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_16__.d.actions.reportInsightShortUrlVisited(!0,item.filters.insight||null),kea_router__WEBPACK_IMPORTED_MODULE_13__.router.actions.push(Object(kea_router__WEBPACK_IMPORTED_MODULE_13__.combineUrl)("/insights",item.filters,{fromItem:item.id,fromItemName:item.name,fromDashboard:item.dashboard,id:item.short_id}).url)):(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_16__.d.actions.reportInsightShortUrlVisited(!1,null),actions.setError());case 5:case"end":return _context.stop()}}),_callee)}))),function loadInsight(_x){return _loadInsight.apply(this,arguments)})}},urlToAction:function urlToAction(_ref3){var actions=_ref3.actions;return{"/i/:id":function iId(_ref4){var id=_ref4.id;id&&actions.loadInsight(id)}}},path:function path(){return["scenes","insights","InsightRouter"]}});function InsightRouter(){var error=Object(kea__WEBPACK_IMPORTED_MODULE_12__.useValues)(insightRouterLogic).error;return react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_17___default.a.Fragment,null,error?react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(lib_components_NotFound__WEBPACK_IMPORTED_MODULE_15__.a,{object:"insight"}):react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_17___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{active:!0,paragraph:{rows:0}}),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,null,react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_10__.a,{gutter:16},react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_11__.a,{md:18},react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{active:!0})),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_11__.a,{md:6,style:{textAlign:"center"}},react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{active:!0,paragraph:{rows:0}}),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{active:!0,paragraph:{rows:0}}),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_8__.a,{active:!0,paragraph:{rows:0}})))),react__WEBPACK_IMPORTED_MODULE_17___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_9__.a,{style:{minHeight:600,marginTop:16}})))}}}]);