(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[45021],{"./frontend/src/toolbar/Toolbar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Actions:()=>Actions,ActionsDark:()=>ActionsDark,Default:()=>Default,DefaultDark:()=>DefaultDark,EventsDebuggerEmpty:()=>EventsDebuggerEmpty,EventsDebuggerEmptyDark:()=>EventsDebuggerEmptyDark,FeatureFlags:()=>FeatureFlags,FeatureFlagsDark:()=>FeatureFlagsDark,Heatmap:()=>Toolbar_stories_Heatmap,HeatmapDark:()=>HeatmapDark,Inspect:()=>Inspect,InspectDark:()=>InspectDark,Minimized:()=>Minimized,MinimizedDark:()=>MinimizedDark,Unauthenticated:()=>Unauthenticated,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Toolbar_stories}),__webpack_require__("./frontend/src/styles/index.tsx");var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),toolbar_styles=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/styles.scss"),styles_default=__webpack_require__.n(toolbar_styles),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(styles_default(),options),styles_default().locals;var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),browser=__webpack_require__("./frontend/src/mocks/browser.tsx"),react_shadow_esm=__webpack_require__("./node_modules/.pnpm/react-shadow@20.4.0_prop-types@15.8.1_react-dom@18.2.0_react@18.2.0/node_modules/react-shadow/react-shadow.esm.js"),react_toastify_esm=__webpack_require__("./node_modules/.pnpm/react-toastify@8.2.0_react-dom@18.2.0_react@18.2.0/node_modules/react-toastify/dist/react-toastify.esm.js"),toolbarConfigLogic=__webpack_require__("./frontend/src/toolbar/toolbarConfigLogic.ts"),Fade=__webpack_require__("./frontend/src/lib/components/Fade/Fade.tsx"),useFloatingContainerContext=__webpack_require__("./frontend/src/lib/hooks/useFloatingContainerContext.ts"),Toolbar=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/bar/Toolbar.scss"),Toolbar_default=__webpack_require__.n(Toolbar),Toolbar_options={};Toolbar_options.insert="head",Toolbar_options.singleton=!1,injectStylesIntoStyleTag_default()(Toolbar_default(),Toolbar_options),Toolbar_default().locals;var posthog_icons_es=__webpack_require__("./node_modules/.pnpm/@posthog+icons@0.7.0_react-dom@18.2.0_react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),useKeyboardHotkeys=__webpack_require__("./frontend/src/lib/hooks/useKeyboardHotkeys.tsx"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),LemonMenu=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMenu/index.ts"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonInput=__webpack_require__("./frontend/src/lib/lemon-ui/LemonInput/index.ts"),Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link/index.ts"),Spinner=__webpack_require__("./frontend/src/lib/lemon-ui/Spinner/index.ts"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-forms@3.1.3_kea@3.1.5/node_modules/kea-forms/lib/index.js"),actionsTabLogic=__webpack_require__("./frontend/src/toolbar/actions/actionsTabLogic.tsx"),HTMLElementsDisplay=__webpack_require__("./frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx"),LemonModal=__webpack_require__("./frontend/src/lib/lemon-ui/LemonModal/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let SelectorEditingModal=_ref=>{let{isOpen,setIsOpen,activeElementChain,onChange,startingSelector}=_ref,[chosenSelector,setChosenSelector]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(LemonModal.f,{forceAbovePopovers:!0,description:"Click on elements and their attributes to build a selector",footer:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",onClick:()=>setIsOpen(!1),children:"Cancel"}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",onClick:e=>{e.stopPropagation(),onChange?.(chosenSelector),setIsOpen(!1)},children:"Apply"})]}),onClose:()=>setIsOpen(!1),isOpen:isOpen,title:"Edit the selector",children:(0,jsx_runtime.jsx)(HTMLElementsDisplay.t,{editable:!0,highlight:!1,elements:activeElementChain,checkUniqueness:!0,onChange:setChosenSelector,startingSelector:null!=startingSelector?startingSelector:void 0})})};var LemonCheckbox=__webpack_require__("./frontend/src/lib/lemon-ui/LemonCheckbox/index.ts"),LemonInput_LemonInput=__webpack_require__("./frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx"),LemonSegmentedButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSegmentedButton/index.ts"),LemonTextArea=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTextArea/LemonTextArea.tsx"),cssEscape=__webpack_require__("./frontend/src/lib/utils/cssEscape.ts"),hints=__webpack_require__("./frontend/src/scenes/actions/hints.tsx"),querySelectorDeep=__webpack_require__("./node_modules/.pnpm/query-selector-shadow-dom@1.0.0/node_modules/query-selector-shadow-dom/src/querySelectorDeep.js");function SelectorCount(_ref){let{selector}=_ref,[matches,selectorError]=(0,react.useMemo)(()=>{let _selectorError=!1,_matches=0;if(selector)try{_matches=(0,querySelectorDeep.Jp)(selector).length}catch{_selectorError=!0}return[_matches,_selectorError]},[selector]);return null===selector?null:(0,jsx_runtime.jsx)("small",{className:`float-right ${selectorError&&"text-danger"}`,children:selectorError?"Invalid selector":`Matches ${matches} element${1===matches?"":"s"}`})}var types=__webpack_require__("./frontend/src/types.ts");function StepField(_ref){let{step,item,label,caption}=_ref,selected=step&&step[`${item}_selected`];return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("action-field my-1",selected&&"action-field-selected"),children:[(0,jsx_runtime.jsxs)("div",{children:["href"===item&&step?.href&&(0,jsx_runtime.jsx)(SelectorCount,{selector:function(step){if(!step.href)return null;let matchOperator={[types.E_.Exact]:"=",[types.E_.Contains]:"*=",[types.E_.Regex]:null}[step.href_matching||types.E_.Exact];return matchOperator?`a[href${matchOperator}"${(0,cssEscape.Q)(step.href)}"]`:null}(step)}),"selector"===item&&step?.selector&&(0,jsx_runtime.jsx)(SelectorCount,{selector:step.selector}),(0,jsx_runtime.jsx)(lib.Field,{name:`${item}_selected`,noStyle:!0,children:_ref2=>{let{onChange,value}=_ref2;return(0,jsx_runtime.jsx)(LemonCheckbox.H,{label:label,onChange:onChange,checked:value})}}),caption&&(0,jsx_runtime.jsx)("div",{className:"action-field-caption",children:caption})]}),["url","href","text"].includes(item)?(0,jsx_runtime.jsx)(lib.Field,{name:`${item}_matching`,children:_ref3=>{let{value,onChange}=_ref3;return null==value&&(value="url"===item?types.E_.Contains:types.E_.Exact),(0,jsx_runtime.jsx)(LemonSegmentedButton.P,{fullWidth:!0,className:(0,clsx_m.default)("mb-1",!selected&&"opacity-50"),size:"small",options:[{value:types.E_.Exact,label:"Exact"},{value:types.E_.Regex,label:"Regex"},{value:types.E_.Contains,label:"Contains"}],value:value,onChange:onChange})}}):null,(0,jsx_runtime.jsx)(lib.Field,{name:item,children:_ref4=>{let{value,onChange}=_ref4;return"selector"===item?(0,jsx_runtime.jsx)(LemonTextArea._,{className:(0,clsx_m.default)(!selected&&"opacity-50"),onChange:onChange,value:null!=value?value:"",stopPropagation:!0}):(0,jsx_runtime.jsx)(LemonInput_LemonInput.D,{className:(0,clsx_m.default)(!selected&&"opacity-50"),onChange:onChange,value:null!=value?value:"",stopPropagation:!0})}}),"url"===item&&step?.url_matching&&step.url_matching in hints.i?(0,jsx_runtime.jsx)("div",{className:"action-field-hint",children:hints.i[step.url_matching]}):null]})})}function ToolbarMenu(_ref){let{children,className}=_ref;return(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("w-full h-full flex flex-col overflow-hidden",className),children:children})}ToolbarMenu.Header=function ToolbarMenuHeader(_ref2){let{children,className}=_ref2;return(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("pt-1 px-1",className),children:children})},ToolbarMenu.Body=function ToolbarMenuBody(_ref3){let{children,className}=_ref3;return(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("flex flex-col flex-1 h-full overflow-y-auto px-1 min-h-20",className),children:children})},ToolbarMenu.Footer=function ToolbarMenufooter(_ref4){let{children,className}=_ref4;return(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("flex flex-row items-center p-2 border-t gap-2",className),children:children})};var toolbarPosthogJS=__webpack_require__("./frontend/src/toolbar/toolbarPosthogJS.ts");let ActionsEditingToolbarMenu=()=>{let{selectedActionId,inspectingElement,editingSelector,elementsChainBeingEdited,editingSelectorValue,actionForm}=(0,index_esm.useValues)(actionsTabLogic.A),{setActionFormValue,selectAction,inspectForElementWithIndex,deleteAction,setElementSelector,editSelectorWithIndex}=(0,index_esm.useActions)(actionsTabLogic.A);return(0,jsx_runtime.jsxs)(ToolbarMenu,{children:[(0,jsx_runtime.jsx)(SelectorEditingModal,{isOpen:null!==editingSelector,setIsOpen:()=>editSelectorWithIndex(null),activeElementChain:elementsChainBeingEdited,startingSelector:editingSelectorValue,onChange:selector=>{selector&&null!==editingSelector&&(toolbarPosthogJS.T.capture("toolbar_manual_selector_applied",{chosenSelector:selector}),setElementSelector(selector,editingSelector))}}),(0,jsx_runtime.jsxs)(lib.Form,{name:"action_step",logic:actionsTabLogic.A,formKey:"actionForm",enableFormOnSubmit:!0,className:"flex flex-col overflow-hidden flex-1",children:[(0,jsx_runtime.jsx)(ToolbarMenu.Header,{className:"border-b",children:(0,jsx_runtime.jsxs)("h1",{className:"p-1 font-bold text-sm mb-0",children:["new"===selectedActionId?"New ":"Edit ","action"]})}),(0,jsx_runtime.jsx)(ToolbarMenu.Body,{children:(0,jsx_runtime.jsxs)("div",{className:"p-1",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{children:"What did your user do?"}),(0,jsx_runtime.jsx)(lib.Field,{name:"name",children:(0,jsx_runtime.jsx)(LemonInput.D,{placeholder:"E.g: Clicked Sign Up",className:"action-title-field",stopPropagation:!0})})]}),actionForm.steps?.map((step,index)=>jsx_runtime.jsxs(lib.Group,{name:["steps",index],children:[jsx_runtime.jsx(src.LemonDivider,{}),jsx_runtime.jsxs("div",{className:"p-1 flex flex-col gap-2",children:[jsx_runtime.jsxs("div",{className:"flex flex-row justify-between",children:[jsx_runtime.jsxs("h3",{children:[index>0?"OR ":null,"Element #",index+1]}),jsx_runtime.jsx(LemonButton.J,{type:"tertiary",size:"small",onClick:()=>setActionFormValue("steps",actionForm.steps?.filter((_,i)=>i!==index)),sideIcon:jsx_runtime.jsx(posthog_icons_es.IconTrash,{}),children:"Remove"})]}),jsx_runtime.jsx("div",{className:"action-inspect",children:jsx_runtime.jsx(LemonButton.J,{size:"small",type:inspectingElement===index?"primary":"secondary",onClick:e=>{e.stopPropagation(),inspectForElementWithIndex(inspectingElement===index?null:index)},icon:jsx_runtime.jsx(posthog_icons_es.IconSearch,{}),children:step?.event==="$autocapture"?"Change Element":"Select Element"})}),step?.event==="$autocapture"||inspectingElement===index?jsx_runtime.jsxs(jsx_runtime.Fragment,{children:[jsx_runtime.jsx(StepField,{step:step,item:"selector",label:"Selector",caption:"CSS selector that uniquely identifies your element"}),jsx_runtime.jsx("div",{className:"flex flex-row justify-end mb-2",children:jsx_runtime.jsx(LemonButton.J,{size:"small",type:"secondary",icon:jsx_runtime.jsx(posthog_icons_es.IconPencil,{}),onClick:e=>{e.stopPropagation(),toolbarPosthogJS.T.capture("toolbar_manual_selector_modal_opened",{selector:step?.selector}),editSelectorWithIndex(index)},children:"Edit the selector"})}),jsx_runtime.jsx(StepField,{step:step,item:"href",label:"Link target",caption:jsx_runtime.jsxs(jsx_runtime.Fragment,{children:["If your element is a link, the location that the link opens (",jsx_runtime.jsx("code",{children:"href"})," tag)"]})}),jsx_runtime.jsx(src.LemonTag,{type:"highlight",children:jsx_runtime.jsx("span",{className:"uppercase",children:"and"})}),jsx_runtime.jsx(StepField,{step:step,item:"text",label:"Text",caption:"Text content inside your element"}),jsx_runtime.jsx(src.LemonTag,{type:"highlight",children:jsx_runtime.jsx("span",{className:"uppercase",children:"and"})}),jsx_runtime.jsx(StepField,{step:step,item:"url",label:"Page URL",caption:"Elements will match only when triggered from the URL."})]}):null,index===(actionForm.steps?.length||0)-1?jsx_runtime.jsx("div",{className:"text-right mt-4",children:jsx_runtime.jsx(LemonButton.J,{type:"secondary",size:"small",sideIcon:jsx_runtime.jsx(posthog_icons_es.IconPlus,{}),onClick:()=>setActionFormValue("steps",[...actionForm.steps||[],{}]),children:"Add Another Element"})}):null]},index)]},index)),0===(actionForm.steps||[]).length?(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),size:"small",type:"primary",onClick:()=>setActionFormValue("steps",[...actionForm.steps||[],{}]),className:"my-2",children:"Add An Element"}):null]})}),(0,jsx_runtime.jsxs)(ToolbarMenu.Footer,{children:[(0,jsx_runtime.jsx)("span",{className:"flex-1",children:"new"!==selectedActionId?(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",status:"danger",onClick:deleteAction,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),size:"small",children:"Delete"}):null}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",size:"small",onClick:()=>selectAction(null),children:"Cancel"}),(0,jsx_runtime.jsxs)(LemonButton.J,{type:"primary",htmlType:"submit",size:"small",children:["new"===selectedActionId?"Create ":"Save ","action"]})]})]})]})};var actionsLogic=__webpack_require__("./frontend/src/toolbar/actions/actionsLogic.ts");function ActionsListView(_ref){let{actions}=_ref,{allActionsLoading,searchTerm}=(0,index_esm.useValues)(actionsLogic.M),{selectAction}=(0,index_esm.useActions)(actionsTabLogic.A);return(0,jsx_runtime.jsx)("div",{className:"flex flex-col h-full overflow-y-scoll space-y-px",children:actions.length?actions.map((action,index)=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(src.Link,{subtle:!0,onClick:()=>selectAction(action.id||null),className:"font-medium my-1 w-full",children:[(0,jsx_runtime.jsxs)("span",{className:"min-w-[2rem] inline-block text-left",children:[index+1,"."]}),(0,jsx_runtime.jsx)("span",{className:"flex-grow",children:action.name||(0,jsx_runtime.jsx)("span",{className:"italic text-muted-alt",children:"Untitled"})})]},action.id)})):allActionsLoading?(0,jsx_runtime.jsx)("div",{className:"flex items-center",children:(0,jsx_runtime.jsx)(Spinner.$,{className:"text-4xl"})}):(0,jsx_runtime.jsxs)("div",{className:"p-2",children:["No ",searchTerm.length?"matching ":"","actions found."]})})}let ActionsListToolbarMenu=()=>{let{searchTerm}=(0,index_esm.useValues)(actionsLogic.M),{setSearchTerm,getActions}=(0,index_esm.useActions)(actionsLogic.M),{newAction}=(0,index_esm.useActions)(actionsTabLogic.A),{allActions,sortedActions,allActionsLoading}=(0,index_esm.useValues)(actionsLogic.M),{apiURL}=(0,index_esm.useValues)(toolbarConfigLogic.W);return(0,react.useEffect)(()=>{getActions()},[]),(0,jsx_runtime.jsxs)(ToolbarMenu,{children:[(0,jsx_runtime.jsx)(ToolbarMenu.Header,{children:(0,jsx_runtime.jsx)(LemonInput.D,{autoFocus:!0,fullWidth:!0,placeholder:"Search",type:"search",value:searchTerm,onChange:s=>setSearchTerm(s),className:"Toolbar__top_input"})}),(0,jsx_runtime.jsx)(ToolbarMenu.Body,{children:(0,jsx_runtime.jsx)("div",{className:"px-1 space-y-px py-2",children:0===allActions.length&&allActionsLoading?(0,jsx_runtime.jsx)("div",{className:"text-center my-4",children:(0,jsx_runtime.jsx)(Spinner.$,{})}):(0,jsx_runtime.jsx)(ActionsListView,{actions:sortedActions})})}),(0,jsx_runtime.jsx)(ToolbarMenu.Footer,{children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between flex-1",children:[(0,jsx_runtime.jsxs)(Link.r,{to:`${apiURL}${urls.j.actions()}`,target:"_blank",children:["View & edit all actions ",(0,jsx_runtime.jsx)(icons.pF,{})]}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",size:"small",onClick:()=>newAction(),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),children:"New action"})]})})]})},ActionsToolbarMenu=()=>{let{selectedAction}=(0,index_esm.useValues)(actionsTabLogic.A);return selectedAction?(0,jsx_runtime.jsx)(ActionsEditingToolbarMenu,{}):(0,jsx_runtime.jsx)(ActionsListToolbarMenu,{})};var toolbarLogic=__webpack_require__("./frontend/src/toolbar/bar/toolbarLogic.ts"),AnimatedCollapsible=__webpack_require__("./frontend/src/lib/components/AnimatedCollapsible.tsx"),TZLabel=__webpack_require__("./frontend/src/lib/components/TZLabel/index.tsx"),SimpleKeyValueList=__webpack_require__("./frontend/src/scenes/session-recordings/player/inspector/components/SimpleKeyValueList.tsx"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),kea_logic_builders=__webpack_require__("./frontend/src/lib/utils/kea-logic-builders.ts");let eventDebugMenuLogic=(0,index_esm.kea)([(0,index_esm.path)(["toolbar","debug","eventDebugMenuLogic"]),(0,index_esm.connect)(()=>({values:[toolbarConfigLogic.W,["posthog"]]})),(0,index_esm.actions)({addEvent:event=>({event}),markExpanded:id=>({id}),setShowRecordingSnapshots:show=>({show}),setSearchText:searchText=>({searchText}),setSearchType:searchType=>({searchType})}),(0,index_esm.reducers)({searchType:["events",{setSearchType:(_,_ref)=>{let{searchType}=_ref;return searchType}}],searchText:["",{setSearchText:(_,_ref2)=>{let{searchText}=_ref2;return searchText}}],events:[[],{addEvent:(state,_ref3)=>{let{event}=_ref3;return event.uuid||(event.uuid=(0,utils.Vj)()),[event,...state]}}],expandedEvent:[null,{markExpanded:(_,_ref4)=>{let{id}=_ref4;return id}}],showRecordingSnapshots:[!1,{setShowRecordingSnapshots:(_,_ref5)=>{let{show}=_ref5;return show}}]}),(0,index_esm.selectors)({isCollapsedEventRow:[s=>[s.expandedEvent],expandedEvent=>eventId=>eventId!==expandedEvent],snapshotCount:[s=>[s.events],events=>events.filter(e=>"$snapshot"===e.event).length],eventCount:[s=>[s.events],events=>events.filter(e=>"$snapshot"!==e.event).length],filteredEvents:[s=>[s.showRecordingSnapshots,s.events,s.searchText,s.searchType],(showRecordingSnapshots,events,searchText,searchType)=>events.filter(e=>!!showRecordingSnapshots||"$snapshot"!==e.event).filter(e=>"events"!==searchType||e.event.includes(searchText))],filteredProperties:[s=>[s.searchText,s.searchType],(searchText,searchType)=>p=>"properties"===searchType?Object.fromEntries(Object.entries(p).filter(_ref6=>{let[key,value]=_ref6;return key.includes(searchText)||value&&value.toString().includes(searchText)})):p]}),(0,index_esm.afterMount)(_ref7=>{let{values,actions}=_ref7;values.posthog?.on("eventCaptured",e=>{actions.addEvent(e)})}),(0,kea_logic_builders.Y)()]),EventDebugMenu=()=>{let{searchType,searchText,filteredEvents,isCollapsedEventRow,expandedEvent,showRecordingSnapshots,snapshotCount,eventCount,filteredProperties}=(0,index_esm.useValues)(eventDebugMenuLogic),{setSearchType,markExpanded,setShowRecordingSnapshots,setSearchText}=(0,index_esm.useActions)(eventDebugMenuLogic);return(0,jsx_runtime.jsxs)(ToolbarMenu,{children:[(0,jsx_runtime.jsx)(ToolbarMenu.Header,{children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col pb-2 space-y-1",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row justify-around items-center",children:[(0,jsx_runtime.jsxs)("span",{className:"text-xs",children:["Seen ",eventCount," events."]}),(0,jsx_runtime.jsx)(LemonCheckbox.H,{checked:showRecordingSnapshots,onChange:c=>setShowRecordingSnapshots(c),label:`Show ${snapshotCount} snapshot events`,size:"small"})]}),(0,jsx_runtime.jsx)("div",{className:"flex justify-center flex-col",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center justify-between space-x-2",children:[(0,jsx_runtime.jsx)("span",{children:"search:"}),(0,jsx_runtime.jsx)(LemonSegmentedButton.P,{size:"small",value:searchType,options:[{value:"events",label:"events"},{value:"properties",label:"properties"}],onChange:setSearchType}),(0,jsx_runtime.jsx)(LemonInput.D,{fullWidth:!0,type:"search",value:searchText,onChange:setSearchText})]})})]})}),(0,jsx_runtime.jsx)(ToolbarMenu.Body,{children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col space-y-1",children:filteredEvents.length?filteredEvents.map(e=>(0,jsx_runtime.jsxs)("div",{className:"-mx-1 py-1 px-2 cursor-pointer",onClick:()=>{expandedEvent===e.uuid?markExpanded(null):markExpanded(e.uuid||null)},children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,jsx_runtime.jsx)("div",{children:e.event}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(TZLabel.w,{time:e.timestamp})})]}),(0,jsx_runtime.jsx)(AnimatedCollapsible.r,{collapsed:void 0===e.uuid||isCollapsedEventRow(e.uuid),children:(0,jsx_runtime.jsx)("div",{className:"my-1 ml-1 pl-2 border-l-2",children:(0,jsx_runtime.jsx)(SimpleKeyValueList.u,{item:filteredProperties(e.properties),emptyMessage:searchText&&"properties"===searchType?"No matching properties":"No properties"})})})]},e.uuid)):(0,jsx_runtime.jsx)("div",{className:"px-4 py-2",children:searchText&&"events"===searchType?"No events match your search.":"Interact with your page and then come back to the toolbar to see what events were generated."})})}),(0,jsx_runtime.jsx)(ToolbarMenu.Footer,{children:(0,jsx_runtime.jsx)("span",{className:"text-xs",children:"View events from this page as they are sent to PostHog."})})]})};var LemonRadio=__webpack_require__("./frontend/src/lib/lemon-ui/LemonRadio/index.ts"),LemonSwitch=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSwitch/index.ts"),fuse_esm=__webpack_require__("./node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),kea_loaders_lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),kea_router_lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.4_kea@3.1.5/node_modules/kea-router/lib/index.js");let flagsToolbarLogic=(0,index_esm.kea)([(0,index_esm.path)(["toolbar","flags","flagsToolbarLogic"]),(0,index_esm.connect)(()=>({values:[toolbarConfigLogic.W,["posthog"]]})),(0,index_esm.actions)({getUserFlags:!0,setFeatureFlagValueFromPostHogClient:(flags,variants)=>({flags,variants}),setOverriddenUserFlag:(flagKey,overrideValue)=>({flagKey,overrideValue}),deleteOverriddenUserFlag:flagKey=>({flagKey}),setSearchTerm:searchTerm=>({searchTerm}),checkLocalOverrides:!0,storeLocalOverrides:localOverrides=>({localOverrides})}),(0,kea_loaders_lib.loaders)(_ref=>{let{values}=_ref;return{userFlags:[[],{getUserFlags:async(_,breakpoint)=>{let params={groups:function(posthogInstance){try{return posthogInstance?.getGroups()||{}}catch{return{}}}(values.posthog)},response=await (0,toolbarConfigLogic.O)(`/api/projects/@current/feature_flags/my_flags${(0,kea_router_lib.encodeParams)(params,"?")}`);return(breakpoint(),response.ok)?await response.json():[]}}]}}),(0,index_esm.reducers)({localOverrides:[{},{storeLocalOverrides:(_,_ref2)=>{let{localOverrides}=_ref2;return localOverrides}}],searchTerm:["",{setSearchTerm:(_,_ref3)=>{let{searchTerm}=_ref3;return searchTerm}}],posthogClientFlagValues:[{},{setFeatureFlagValueFromPostHogClient:(_,_ref4)=>{let{variants}=_ref4;return variants}}]}),(0,index_esm.selectors)({userFlagsWithOverrideInfo:[s=>[s.userFlags,s.localOverrides,s.posthogClientFlagValues],(userFlags,localOverrides,posthogClientFlagValues)=>userFlags.map(flag=>{var _posthogClientFlagVal;let hasVariants=(flag.feature_flag.filters?.multivariate?.variants?.length||0)>0,currentValue=flag.feature_flag.key in localOverrides?localOverrides[flag.feature_flag.key]:null!==(_posthogClientFlagVal=posthogClientFlagValues[flag.feature_flag.key])&&void 0!==_posthogClientFlagVal?_posthogClientFlagVal:flag.value;return{...flag,hasVariants,currentValue,hasOverride:flag.feature_flag.key in localOverrides}})],filteredFlags:[s=>[s.searchTerm,s.userFlagsWithOverrideInfo],(searchTerm,userFlagsWithOverrideInfo)=>searchTerm?new fuse_esm.Z(userFlagsWithOverrideInfo,{threshold:.3,keys:["feature_flag.key","feature_flag.name"]}).search(searchTerm).map(_ref5=>{let{item}=_ref5;return item}):userFlagsWithOverrideInfo],countFlagsOverridden:[s=>[s.localOverrides],localOverrides=>Object.keys(localOverrides).length]}),(0,index_esm.listeners)(_ref6=>{let{actions,values}=_ref6;return{checkLocalOverrides:()=>{let clientPostHog=values.posthog;if(clientPostHog){let locallyOverrideFeatureFlags=clientPostHog.get_property("$override_feature_flags")||{};actions.storeLocalOverrides(locallyOverrideFeatureFlags)}},setOverriddenUserFlag:_ref7=>{let{flagKey,overrideValue}=_ref7,clientPostHog=values.posthog;clientPostHog&&(clientPostHog.featureFlags.override({...values.localOverrides,[flagKey]:overrideValue}),toolbarPosthogJS.T.capture("toolbar feature flag overridden"),actions.checkLocalOverrides(),clientPostHog.featureFlags.reloadFeatureFlags())},deleteOverriddenUserFlag:_ref8=>{let{flagKey}=_ref8,clientPostHog=values.posthog;if(clientPostHog){let updatedFlags={...values.localOverrides};delete updatedFlags[flagKey],Object.keys(updatedFlags).length>0?clientPostHog.featureFlags.override({...updatedFlags}):clientPostHog.featureFlags.override(!1),toolbarPosthogJS.T.capture("toolbar feature flag override removed"),actions.checkLocalOverrides(),clientPostHog.featureFlags.reloadFeatureFlags()}}}}),(0,kea_logic_builders.Y)()]),FlagsToolbarMenu=()=>{let{searchTerm,filteredFlags,userFlagsLoading}=(0,index_esm.useValues)(flagsToolbarLogic),{setSearchTerm,setOverriddenUserFlag,deleteOverriddenUserFlag,getUserFlags,checkLocalOverrides,setFeatureFlagValueFromPostHogClient}=(0,index_esm.useActions)(flagsToolbarLogic),{apiURL,posthog:posthogClient}=(0,index_esm.useValues)(toolbarConfigLogic.W);return(0,react.useEffect)(()=>{posthogClient?.onFeatureFlags(setFeatureFlagValueFromPostHogClient),getUserFlags(),checkLocalOverrides()},[]),(0,jsx_runtime.jsxs)(ToolbarMenu,{children:[(0,jsx_runtime.jsx)(ToolbarMenu.Header,{children:(0,jsx_runtime.jsx)(LemonInput.D,{autoFocus:!0,placeholder:"Search",fullWidth:!0,type:"search",value:searchTerm,onChange:s=>setSearchTerm(s)})}),(0,jsx_runtime.jsx)(ToolbarMenu.Body,{children:(0,jsx_runtime.jsx)("div",{className:"mt-1",children:filteredFlags.length>0?filteredFlags.map(_ref=>{let{feature_flag,value,hasOverride,hasVariants,currentValue}=_ref;return(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("-mx-1 py-1 px-2",hasOverride&&"bg-mark"),children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1 truncate",children:(0,jsx_runtime.jsxs)(Link.r,{className:"font-medium",to:`${apiURL}${feature_flag.id?urls.j.featureFlag(feature_flag.id):urls.j.featureFlags()}`,subtle:!0,target:"_blank",children:[feature_flag.key,(0,jsx_runtime.jsx)(icons.pF,{})]})}),(0,jsx_runtime.jsx)(LemonSwitch.f,{checked:!!currentValue,onChange:checked=>{let newValue=hasVariants&&checked?feature_flag.filters?.multivariate?.variants[0]?.key:checked;newValue===value&&hasOverride?deleteOverriddenUserFlag(feature_flag.key):setOverriddenUserFlag(feature_flag.key,newValue)}})]}),(0,jsx_runtime.jsx)(AnimatedCollapsible.r,{collapsed:!hasVariants||!currentValue,children:(0,jsx_runtime.jsx)(LemonRadio._,{className:(0,clsx_m.default)("pt-1 pl-4 w-full",hasOverride&&"bg-mark"),value:"string"==typeof currentValue?currentValue:void 0,options:feature_flag.filters?.multivariate?.variants.map(variant=>({label:`${variant.key} - ${variant.name} (${variant.rollout_percentage}%)`,value:variant.key}))||[],onChange:newValue=>{newValue===value&&hasOverride?deleteOverriddenUserFlag(feature_flag.key):setOverriddenUserFlag(feature_flag.key,newValue)}})})]},feature_flag.key)}):(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center p-1",children:userFlagsLoading?(0,jsx_runtime.jsx)("span",{className:"flex-1 flex justify-center items-center p-4",children:(0,jsx_runtime.jsx)(Spinner.$,{className:"text-2xl"})}):`No ${searchTerm.length?"matching ":""}feature flags found in the project.`})})}),(0,jsx_runtime.jsx)(ToolbarMenu.Footer,{children:(0,jsx_runtime.jsx)("span",{className:"text-xs",children:"Note: overriding feature flags will only affect this browser."})})]})};var DateFilter_types=__webpack_require__("./frontend/src/lib/components/DateFilter/types.ts"),LemonSlider=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSlider/index.ts"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip/index.ts"),elementsLogic=__webpack_require__("./frontend/src/toolbar/elements/elementsLogic.ts"),heatmapLogic=__webpack_require__("./frontend/src/toolbar/elements/heatmapLogic.ts"),currentPageLogic=__webpack_require__("./frontend/src/toolbar/stats/currentPageLogic.ts");let ScrollDepthJSWarning=()=>{let{scrollDepthPosthogJsError}=(0,index_esm.useValues)(heatmapLogic.XP);return scrollDepthPosthogJsError?(0,jsx_runtime.jsx)("p",{className:"my-2 bg-danger-highlight border border-danger rounded p-2",children:"version"===scrollDepthPosthogJsError?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"This feature requires a newer version of posthog-js"}):"disabled"===scrollDepthPosthogJsError?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Your posthog-js config has ",(0,jsx_runtime.jsx)("i",{children:"disable_scroll_properties"})," set - these properties are required for scroll depth calculations to work."]}):null}):null},HeatmapsJSWarning=()=>{let{posthog}=(0,index_esm.useValues)(toolbarConfigLogic.W);return!posthog||posthog?.heatmaps?.isEnabled?null:(0,jsx_runtime.jsx)("p",{className:"my-2 bg-danger-highlight border border-danger rounded p-2",children:posthog.heatmaps?posthog.heatmaps.isEnabled?null:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Heatmap collection is disabled in your posthog-js configuration. If you do not see heatmap data then this is likely why."}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"The version of posthog-js you are using does not support collecting heatmap data."})})},SectionButton=_ref=>{let{children,checked,onChange,loading}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex items-center",children:(0,jsx_runtime.jsx)(LemonButton.J,{className:"flex-1 -mx-2 p-2",noPadding:!0,onClick:()=>onChange(!checked),sideIcon:(0,jsx_runtime.jsx)(LemonSwitch.f,{checked:checked}),children:(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-2",children:[children,loading?(0,jsx_runtime.jsx)(Spinner.$,{}):null]})})})},SectionSetting=_ref2=>{let{children,title,info}=_ref2,[showInfo,setShowInfo]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:(0,jsx_runtime.jsxs)(src.LemonLabel,{className:"flex-1",children:[title,info&&(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconInfo,{}),size:"xsmall",active:showInfo,onClick:()=>setShowInfo(!showInfo),noPadding:!0})]})}),showInfo?(0,jsx_runtime.jsx)("div",{className:"text-sm",children:info}):null,children]})},HeatmapToolbarMenu=()=>{var _heatmapFilters$type,_heatmapFilters$aggre,_heatmapFilters$viewp,_heatmapFilters$viewp2;let{wildcardHref}=(0,index_esm.useValues)(currentPageLogic.z),{setWildcardHref,autoWildcardHref}=(0,index_esm.useActions)(currentPageLogic.z),{matchLinksByHref,countedElements,clickCount,commonFilters,heatmapFilters,canLoadMoreElementStats,viewportRange,rawHeatmapLoading,elementStatsLoading,clickmapsEnabled,heatmapFixedPositionMode,heatmapColorPalette}=(0,index_esm.useValues)(heatmapLogic.XP),{setCommonFilters,patchHeatmapFilters,loadMoreElementStats,setMatchLinksByHref,toggleClickmapsEnabled,setHeatmapFixedPositionMode,setHeatmapColorPalette}=(0,index_esm.useActions)(heatmapLogic.XP),{setHighlightElement,setSelectedElement}=(0,index_esm.useActions)(elementsLogic.l),dateItemDenyList=["Last 180 days","This month","Previous month","Year to date","All time"],dateItems=utils.bE.filter(dm=>dm.key!==DateFilter_types.Q2&&!dateItemDenyList.includes(dm.key)).map(dateOption=>({label:dateOption.key,onClick:()=>setCommonFilters({date_from:dateOption.values[0],date_to:dateOption.values[1]})}));return(0,jsx_runtime.jsxs)(ToolbarMenu,{children:[(0,jsx_runtime.jsxs)(ToolbarMenu.Header,{children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-1",children:[(0,jsx_runtime.jsx)(LemonInput.D,{className:"flex-1",value:wildcardHref,onChange:setWildcardHref}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconMagicWand,{}),size:"small",onClick:()=>autoWildcardHref(),tooltip:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["You can use the wildcard character ",(0,jsx_runtime.jsx)("code",{children:"*"})," to match any character in the URL. For example, ",(0,jsx_runtime.jsx)("code",{children:"https://example.com/*"})," will match"," ",(0,jsx_runtime.jsx)("code",{children:"https://example.com/page"})," and ",(0,jsx_runtime.jsx)("code",{children:"https://example.com/page/1"}),".",(0,jsx_runtime.jsx)("br",{}),"Click this button to automatically wildcards where we believe it would make sense"]})})]}),(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center gap-2 py-2 border-b",children:(0,jsx_runtime.jsx)(LemonMenu.d,{items:dateItems,children:(0,jsx_runtime.jsx)(LemonButton.J,{size:"small",type:"secondary",children:(0,utils.Kl)(commonFilters.date_from,commonFilters.date_to,"Last 7 days")})})})]}),(0,jsx_runtime.jsxs)(ToolbarMenu.Body,{children:[(0,jsx_runtime.jsxs)("div",{className:"border-b p-2",children:[(0,jsx_runtime.jsxs)(SectionButton,{onChange:e=>patchHeatmapFilters({enabled:e}),loading:rawHeatmapLoading,checked:!!heatmapFilters.enabled,children:["Heatmaps ",(0,jsx_runtime.jsx)(src.LemonTag,{type:"highlight",children:"NEW"})," "]}),heatmapFilters.enabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(HeatmapsJSWarning,{}),(0,jsx_runtime.jsx)("p",{children:"Heatmaps are calculated using additional data sent along with standard events. They are based off of general pointer interactions and might not be 100% accurate to the page you are viewing."}),(0,jsx_runtime.jsx)(SectionSetting,{title:"Heatmap type",info:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:['Select the kind of heatmap you want to view. Clicks, rageclicks, and mouse moves options will show different "heat" based on the number of interactions at that area of the page. Scroll depth will show how far down the page users have reached.',(0,jsx_runtime.jsx)("br",{}),"Scroll depth uses additional information from Pageview and Pageleave events to indicate how far down the page users have scrolled."]}),children:(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 justify-between items-center",children:[(0,jsx_runtime.jsx)(src.LemonSegmentedButton,{onChange:e=>patchHeatmapFilters({type:e}),value:null!==(_heatmapFilters$type=heatmapFilters.type)&&void 0!==_heatmapFilters$type?_heatmapFilters$type:void 0,options:[{value:"click",label:"Clicks"},{value:"rageclick",label:"Rageclicks"},{value:"mousemove",label:"Mouse moves"},{value:"scrolldepth",label:"Scroll depth"}],size:"small"}),"scrolldepth"===heatmapFilters.type&&(0,jsx_runtime.jsx)(ScrollDepthJSWarning,{})]})}),(0,jsx_runtime.jsx)(SectionSetting,{title:"Aggregation",info:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Heatmaps can be aggregated by total count or unique visitors. Total count will show the total number of interactions on the page, while unique visitors will only count each visitor once."}),children:(0,jsx_runtime.jsx)("div",{className:"flex gap-2 justify-between items-center",children:(0,jsx_runtime.jsx)(src.LemonSegmentedButton,{onChange:e=>patchHeatmapFilters({aggregation:e}),value:null!==(_heatmapFilters$aggre=heatmapFilters.aggregation)&&void 0!==_heatmapFilters$aggre?_heatmapFilters$aggre:"total_count",options:[{value:"total_count",label:"Total count"},{value:"unique_visitors",label:"Unique visitors"}],size:"small"})})}),(0,jsx_runtime.jsx)(SectionSetting,{title:"Viewport accuracy",info:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["The viewport accuracy setting will determine how closely the loaded data will be to your current viewport.",(0,jsx_runtime.jsx)("br",{}),"For example if you set this to 100%, only visitors whose viewport width is identical to yours will be included in the heatmap.",(0,jsx_runtime.jsx)("br",{}),"At 90% you will see data from viewports that are 10% smaller or larger than yours."]}),children:(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 justify-between items-center",children:[(0,jsx_runtime.jsx)(LemonSlider.j,{className:"flex-1",min:0,max:1,step:.01,value:null!==(_heatmapFilters$viewp=heatmapFilters.viewportAccuracy)&&void 0!==_heatmapFilters$viewp?_heatmapFilters$viewp:0,onChange:value=>patchHeatmapFilters({viewportAccuracy:value})}),(0,jsx_runtime.jsx)("code",{className:"w-[12rem] text-right text-xs whitsepace-nowrap",children:`${Math.round((null!==(_heatmapFilters$viewp2=heatmapFilters.viewportAccuracy)&&void 0!==_heatmapFilters$viewp2?_heatmapFilters$viewp2:1)*100)}% (${viewportRange.min}px - ${viewportRange.max}px)`})]})}),(0,jsx_runtime.jsx)(SectionSetting,{title:"Color palette",children:(0,jsx_runtime.jsx)(src.LemonSelect,{size:"small",options:heatmapLogic.Rp,value:heatmapColorPalette,onChange:setHeatmapColorPalette})}),"scrolldepth"!==heatmapFilters.type&&(0,jsx_runtime.jsx)(SectionSetting,{title:"Fixed positioning calculation",info:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["PostHog JS will attempt to detect fixed elements such as headers or modals and will therefore show those heatmap areas, ignoring the scroll value.",(0,jsx_runtime.jsx)("br",{}),"You can choose to show these areas as fixed, include them with scrolled data or hide them altogether."]}),children:(0,jsx_runtime.jsx)(src.LemonSegmentedButton,{onChange:setHeatmapFixedPositionMode,value:heatmapFixedPositionMode,options:[{value:"fixed",label:"Show fixed"},{value:"relative",label:"Show scrolled"},{value:"hidden",label:"Hide"}],size:"small"})})]})]}),(0,jsx_runtime.jsxs)("div",{className:"p-2",children:[(0,jsx_runtime.jsx)(SectionButton,{onChange:e=>toggleClickmapsEnabled(e),loading:elementStatsLoading,checked:!!clickmapsEnabled,children:"Clickmaps (autocapture)"}),clickmapsEnabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("p",{children:"Clickmaps are built using Autocapture events. They are more accurate than heatmaps if the event can be mapped to a specific element found on the page you are viewing but less data is usually captured."}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(icons.JK,{}),type:"secondary",size:"small",onClick:loadMoreElementStats,disabledReason:canLoadMoreElementStats?void 0:"Loaded all elements in this data range.",children:"Load more"}),(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsx)("span",{children:"Matching links by their target URL can exclude clicks from the heatmap if the URL is too unique."}),children:(0,jsx_runtime.jsx)(LemonSwitch.f,{className:"flex-1",checked:matchLinksByHref,label:"Match links by their target URL",onChange:checked=>setMatchLinksByHref(checked),fullWidth:!0,bordered:!0})})]}),(0,jsx_runtime.jsxs)("div",{className:"my-2",children:["Found: ",countedElements.length," elements / ",clickCount," clicks!"]}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col w-full h-full",children:countedElements.length?countedElements.map((_ref3,index)=>{let{element,count,actionStep}=_ref3;return(0,jsx_runtime.jsx)(LemonButton.J,{size:"small",fullWidth:!0,onClick:()=>setSelectedElement(element),children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 justify-between",onMouseEnter:()=>setHighlightElement(element),onMouseLeave:()=>setHighlightElement(null),children:[(0,jsx_runtime.jsxs)("div",{children:[index+1,".\xa0",actionStep?.text||(actionStep?.tag_name?(0,jsx_runtime.jsxs)("code",{children:["<",actionStep.tag_name,">"]}):(0,jsx_runtime.jsx)("em",{children:"Element"}))]}),(0,jsx_runtime.jsxs)("div",{children:[count," clicks"]})]},index)},index)}):(0,jsx_runtime.jsx)("div",{className:"p-2",children:"No elements found."})})]})]})]})]})};var HedgehogAccessories=__webpack_require__("./frontend/src/lib/components/HedgehogBuddy/HedgehogAccessories.tsx");let HedgehogMenu=()=>{let{theme}=(0,index_esm.useValues)(toolbarLogic.L),{setHedgehogMode,setVisibleMenu}=(0,index_esm.useActions)(toolbarLogic.L);return(0,jsx_runtime.jsxs)(ToolbarMenu,{children:[(0,jsx_runtime.jsx)(ToolbarMenu.Body,{children:(0,jsx_runtime.jsx)("div",{className:"p-1",children:(0,jsx_runtime.jsx)(HedgehogAccessories._,{isDarkModeOn:"dark"===theme})})}),(0,jsx_runtime.jsx)(ToolbarMenu.Footer,{children:(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 justify-between flex-1",children:[(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:"small",onClick:()=>setHedgehogMode(!1),children:"Go away..."}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",size:"small",onClick:()=>setVisibleMenu("none"),children:"Carry on!"})]})})]})};var ToolbarButton=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/bar/ToolbarButton.scss"),ToolbarButton_default=__webpack_require__.n(ToolbarButton),ToolbarButton_options={};ToolbarButton_options.insert="head",ToolbarButton_options.singleton=!1,injectStylesIntoStyleTag_default()(ToolbarButton_default(),ToolbarButton_options),ToolbarButton_default().locals;let ToolbarButton_ToolbarButton=react.forwardRef((_ref,ref)=>{let{children,title,onClick,titleMinimized,menuId,flex,...props}=_ref,{visibleMenu,minimized,isDragging}=(0,index_esm.useValues)(toolbarLogic.L),{setVisibleMenu}=(0,index_esm.useActions)(toolbarLogic.L),active=visibleMenu===menuId,theTitle=null!=title?title:menuId?(0,utils.fm)(menuId):void 0,delayedIsDragging=react.useRef(!1);(0,react.useEffect)(()=>{isDragging?delayedIsDragging.current=!0:setTimeout(()=>{delayedIsDragging.current=!1},100)},[isDragging]);let theButton=(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("ToolbarButton",active&&"ToolbarButton--active",flex&&"ToolbarButton--flex"),"aria-label":theTitle,ref:ref,children:(0,jsx_runtime.jsx)("button",{className:"ToolbarButton__button",...props,onClick:e=>{!delayedIsDragging.current&&(e.preventDefault(),onClick?.(),menuId&&(visibleMenu===menuId?setVisibleMenu("none"):setVisibleMenu(menuId)))},children:children})});return(minimized&&titleMinimized||theTitle)&&!isDragging?(0,jsx_runtime.jsx)(src.Tooltip,{title:minimized?titleMinimized:theTitle,children:theButton}):theButton});function MoreMenu(){let{hedgehogMode,theme}=(0,index_esm.useValues)(toolbarLogic.L),{setHedgehogMode,toggleTheme,setVisibleMenu}=(0,index_esm.useActions)(toolbarLogic.L),currentlyLightMode=!theme||"light"===theme,{logout}=(0,index_esm.useActions)(toolbarConfigLogic.W);return(0,jsx_runtime.jsx)(LemonMenu.d,{placement:"top-end",fallbackPlacements:["bottom-end"],items:[{icon:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"\uD83E\uDD94"}),label:hedgehogMode?"Disable hedgehog mode":"Hedgehog mode",onClick:()=>{setHedgehogMode(!hedgehogMode)}},hedgehogMode?{icon:(0,jsx_runtime.jsx)(icons.yf,{}),label:"Hedgehog accessories",onClick:()=>{setVisibleMenu("hedgehog")}}:void 0,{icon:currentlyLightMode?(0,jsx_runtime.jsx)(posthog_icons_es.IconNight,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconDay,{}),label:`Switch to ${currentlyLightMode?"dark":"light"} mode`,onClick:()=>toggleTheme()},{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconQuestion,{}),label:"Help",onClick:()=>{window.open("https://posthog.com/docs/user-guides/toolbar?utm_medium=in-product&utm_campaign=toolbar-help-button","_blank")?.focus()}},{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{}),label:"Close toolbar",onClick:logout}].filter(Boolean),maxContentWidth:!0,children:(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{title:"More options",children:(0,jsx_runtime.jsx)(icons.dc,{})})})}function ToolbarInfoMenu(){let ref=(0,react.useRef)(null),{visibleMenu,isDragging,menuProperties,minimized,isBlurred}=(0,index_esm.useValues)(toolbarLogic.L),{setMenu}=(0,index_esm.useActions)(toolbarLogic.L),{isAuthenticated}=(0,index_esm.useValues)(toolbarConfigLogic.W),content=minimized?null:"flags"===visibleMenu?(0,jsx_runtime.jsx)(FlagsToolbarMenu,{}):"heatmap"===visibleMenu?(0,jsx_runtime.jsx)(HeatmapToolbarMenu,{}):"actions"===visibleMenu?(0,jsx_runtime.jsx)(ActionsToolbarMenu,{}):"hedgehog"===visibleMenu?(0,jsx_runtime.jsx)(HedgehogMenu,{}):"debugger"===visibleMenu?(0,jsx_runtime.jsx)(EventDebugMenu,{}):null;return((0,react.useEffect)(()=>(setMenu(ref.current),()=>setMenu(null)),[ref.current]),isAuthenticated)?(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("ToolbarMenu",!!content&&"ToolbarMenu--visible",isDragging&&"ToolbarMenu--dragging",isBlurred&&"ToolbarMenu--blurred",menuProperties.isBelow&&"ToolbarMenu--below"),style:{transform:menuProperties.transform},children:(0,jsx_runtime.jsx)("div",{ref:ref,className:"ToolbarMenu__content",style:{maxHeight:menuProperties.maxHeight},children:content})}):null}function Toolbar_Toolbar(){let ref=(0,react.useRef)(null),{minimized,dragPosition,isDragging,hedgehogMode,isEmbeddedInApp}=(0,index_esm.useValues)(toolbarLogic.L),{setVisibleMenu,toggleMinimized,onMouseDown,setElement,setIsBlurred}=(0,index_esm.useActions)(toolbarLogic.L),{isAuthenticated,userIntent}=(0,index_esm.useValues)(toolbarConfigLogic.W),{authenticate}=(0,index_esm.useActions)(toolbarConfigLogic.W);return((0,react.useEffect)(()=>(setElement(ref.current),()=>setElement(null)),[ref.current]),(0,useKeyboardHotkeys.l)({escape:{action:()=>setVisibleMenu("none"),willHandleEvent:!0}},[]),(0,react.useEffect)(()=>{("add-action"===userIntent||"edit-action"===userIntent)&&setVisibleMenu("actions"),"heatmaps"===userIntent&&setVisibleMenu("heatmap")},[userIntent]),isEmbeddedInApp)?null:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ToolbarInfoMenu,{}),(0,jsx_runtime.jsxs)("div",{ref:ref,className:(0,clsx_m.default)("Toolbar",minimized&&"Toolbar--minimized",hedgehogMode&&"Toolbar--hedgehog-mode",isDragging&&"Toolbar--dragging"),onMouseDown:e=>onMouseDown(e),onMouseOver:()=>setIsBlurred(!1),style:{"--toolbar-button-x":`${dragPosition.x}px`,"--toolbar-button-y":`${dragPosition.y}px`},children:[(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{onClick:isAuthenticated?toggleMinimized:authenticate,title:isAuthenticated?"Minimize":"Authenticate the PostHog Toolbar",titleMinimized:isAuthenticated?"Expand the toolbar":"Authenticate the PostHog Toolbar",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconLogomark,{})}),isAuthenticated?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{menuId:"inspect",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconSearch,{})}),(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{menuId:"heatmap",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconCursorClick,{})}),(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{menuId:"actions",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconBolt,{})}),(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{menuId:"flags",title:"Feature flags",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconToggle,{})}),(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{menuId:"debugger",title:"Event debugger",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconLive,{})})]}):(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{flex:!0,onClick:authenticate,children:"Authenticate"}),(0,jsx_runtime.jsx)(MoreMenu,{})]})]})}ToolbarButton_ToolbarButton.displayName="ToolbarButton";var Elements=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/elements/Elements.scss"),Elements_default=__webpack_require__.n(Elements),Elements_options={};function AutocaptureElement(_ref){let{rect,style={},onClick,onMouseOver,onMouseOut}=_ref;return rect?(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:`${rect.top+window.pageYOffset}px`,left:`${rect.left+window.pageXOffset}px`,width:`${rect.right-rect.left}px`,height:`${rect.bottom-rect.top}px`,...style},onClick:onClick,onMouseOver:onMouseOver,onMouseOut:onMouseOut}):null}Elements_options.insert="head",Elements_options.singleton=!1,injectStylesIntoStyleTag_default()(Elements_default(),Elements_options),Elements_default().locals;var toolbar_utils=__webpack_require__("./frontend/src/toolbar/utils.ts");let heatmapLabelStyle={lineHeight:"14px",padding:"1px 4px",color:"hsla(54, 20%, 12%, 1)",background:"#FFEB3B",boxShadow:"hsla(54, 100%, 32%, 1) 0px 1px 5px 1px",fontSize:16,fontWeight:"bold",fontFamily:"monospace"};function AutocaptureElementLabel(_ref){let{rect,style={},align="right",children,...props}=_ref;if(!rect)return null;let width="string"==typeof children?10*children.length+4:14;return(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:`${(0,toolbar_utils.nL)(window.pageYOffset-1,rect.top-7+window.pageYOffset,window.pageYOffset+window.innerHeight-14)}px`,left:`${(0,toolbar_utils.nL)(window.pageXOffset,rect.left+("left"===align?10:rect.width)-width+window.pageXOffset,window.pageXOffset+window.innerWidth-14)}px`,...heatmapLabelStyle,...style},...props,children:children})}function SelectorString(_ref){let{value}=_ref,[last,...rest]=value.split(" ").reverse();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[rest.reverse().join(" ")," ",(0,jsx_runtime.jsx)("strong",{children:last})]})}function ActionAttribute(_ref2){let{attribute,value}=_ref2,icon="text"===attribute?(0,jsx_runtime.jsx)(icons.ee,{}):"href"===attribute?(0,jsx_runtime.jsx)(icons.JH,{}):"selector"===attribute?(0,jsx_runtime.jsx)(icons.$M,{}):(0,jsx_runtime.jsx)(icons.yK,{}),text="href"===attribute?(0,jsx_runtime.jsx)(src.Link,{to:value,target:"_blank",children:value}):"selector"===attribute?value?(0,jsx_runtime.jsx)("span",{className:"font-mono",children:(0,jsx_runtime.jsx)(SelectorString,{value:value})}):(0,jsx_runtime.jsxs)("span",{children:["Could not generate a unique selector for this element. Please instrument it with a unique"," ",(0,jsx_runtime.jsx)("code",{children:"id"})," or ",(0,jsx_runtime.jsx)("code",{children:"data-attr"})," attribute."]}):value;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-2 justify-between items-center",children:[(0,jsx_runtime.jsx)("div",{className:"text-muted text-xl",children:icon}),(0,jsx_runtime.jsx)("div",{className:"grow",children:text})]},attribute)}function ActionStep(_ref){let{actionStep}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-2",children:["text","name","href","selector"].map(attr=>actionStep[attr]||"selector"===attr?(0,jsx_runtime.jsx)(ActionAttribute,{attribute:attr,value:actionStep[attr]||void 0},attr):null)})}function ElementStatistic(_ref){let{prefix,suffix,title,value}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("div",{children:title}),(0,jsx_runtime.jsxs)("div",{className:"text-2xl",children:[prefix,value," ",suffix]})]})}function ElementInfo(){let{clickCount:totalClickCount,dateRange}=(0,index_esm.useValues)(heatmapLogic.XP),{activeMeta}=(0,index_esm.useValues)(elementsLogic.l),{createAction}=(0,index_esm.useActions)(elementsLogic.l);if(!activeMeta)return null;let{element,position,count,clickCount,rageclickCount,actionStep}=activeMeta;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"p-3",style:{borderLeft:"5px solid #8F98FF",background:"hsla(235, 100%, 99%, 1)"},children:[(0,jsx_runtime.jsx)("h1",{className:"section-title",children:"Selected Element"}),(0,jsx_runtime.jsx)(ActionStep,{actionStep:actionStep})]}),position?(0,jsx_runtime.jsxs)("div",{className:"p-3",style:{borderLeft:"5px solid #FF9870",background:"hsla(19, 99%, 99%, 1)"},children:[(0,jsx_runtime.jsx)("h1",{className:"section-title",children:"Stats"}),(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconCalendar,{})," ",(0,jsx_runtime.jsx)("u",{children:dateRange})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"w-2/3",children:(0,jsx_runtime.jsx)(ElementStatistic,{title:"Clicks",value:count||0,suffix:`/ ${totalClickCount} (${0===totalClickCount?"-":Math.round((count||0)/totalClickCount*1e4)/100}%)`})}),(0,jsx_runtime.jsx)("div",{className:"w-1/3",children:(0,jsx_runtime.jsx)(ElementStatistic,{title:"Ranking",prefix:"#",value:position||0})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-4 mt-2",children:[(0,jsx_runtime.jsx)(ElementStatistic,{title:"Autocapture clicks",value:clickCount||0}),(0,jsx_runtime.jsx)(ElementStatistic,{title:"Rageclicks",value:rageclickCount||0})]})]}):null,(0,jsx_runtime.jsxs)("div",{className:"p-3",style:{borderLeft:"5px solid #94D674",background:"hsla(100, 74%, 98%, 1)"},children:[(0,jsx_runtime.jsxs)("h1",{className:"section-title",children:["Actions (",activeMeta.actions.length,")"]}),0===activeMeta.actions.length?(0,jsx_runtime.jsx)("p",{children:"No actions include this element"}):(0,jsx_runtime.jsx)(ActionsListView,{actions:activeMeta.actions.map(a=>a.action)}),(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",type:"secondary",onClick:()=>createAction(element),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),children:"Create a new action"})]})]})}function ElementInfoWindow(){let bottom,maxHeight;let{hoverElement,hoverElementMeta,selectedElement,selectedElementMeta,relativePositionCompensation,activeMetaIsSelected}=(0,index_esm.useValues)(elementsLogic.l),{setSelectedElement}=(0,index_esm.useActions)(elementsLogic.l);(0,index_esm.useValues)(elementsLogic.l).rectUpdateCounter;let activeMeta=hoverElementMeta||selectedElementMeta;if(!activeMeta||!activeMeta.rect)return null;let pointerEvents=selectedElementMeta&&(!hoverElement||hoverElement===selectedElement),onClose=activeMetaIsSelected?()=>setSelectedElement(null):null,{rect}=activeMeta,windowWidth=Math.min(document.documentElement.clientWidth,window.innerWidth),windowHeight=Math.min(document.documentElement.clientHeight,window.innerHeight),positioningHeight=windowHeight;"relative"===window.getComputedStyle(document.body).position&&(positioningHeight=document.documentElement.offsetHeight);let left=rect.left+window.pageXOffset+(rect.width>300?(rect.width-300)/2:0),width=300;left+300>windowWidth-10&&(left-=left+width-(windowWidth-10))<0&&(left=5,width=windowWidth-10);let top=Math.max(window.pageYOffset+16,rect.top+rect.height+10+window.pageYOffset)+relativePositionCompensation,spaceAbove=Math.max(50,rect.top-20),spaceBelow=Math.max(50,windowHeight-top+window.pageYOffset-10);return spaceAbove>spaceBelow?(top=void 0,bottom=positioningHeight-rect.top+10-window.pageYOffset-relativePositionCompensation,maxHeight=spaceAbove):maxHeight=spaceBelow,(0,jsx_runtime.jsxs)("div",{style:{pointerEvents:pointerEvents?"all":"none",position:"absolute",top,bottom,left,width,minHeight:50,maxHeight,zIndex:1,opacity:1,transformOrigin:"top left",transition:"opacity 0.2s, box-shadow 0.2s",backgroundBlendMode:"multiply",background:"white"},children:[onClose?(0,jsx_runtime.jsx)("div",{onClick:onClose,style:{pointerEvents:pointerEvents?"all":"none",position:"absolute",top:-8,right:left+width>windowWidth-20?-6:-12,transformOrigin:"top left",background:"black",color:"white",boxShadow:"hsla(4, 30%, 27%, 0.6) 0px 3px 10px 2px",borderRadius:"100%",width:24,height:24,zIndex:7,display:"flex",alignItems:"center",justifyContent:"space-around",textAlign:"center",cursor:"pointer"},children:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{})}):null,(0,jsx_runtime.jsx)("div",{style:{minHeight:50,maxHeight,overflow:"auto",boxShadow:"hsla(4, 30%, 27%, 0.6) 0px 3px 10px 2px",borderRadius:"8px"},children:(0,jsx_runtime.jsx)(ElementInfo,{})})]})}function FocusRect(_ref){let{rect}=_ref,widths=[0,rect.left+window.pageXOffset,rect.left+window.pageXOffset+rect.width,window.innerWidth],heights=[0,rect.top+window.pageYOffset,rect.top+window.pageYOffset+rect.height,document.body.scrollHeight],rects=[];for(let i=0;i<3;i++)for(let j=0;j<3;j++)(1!==i||1!==j)&&rects.push({id:3*j+i,x:widths[i],w:widths[i+1]-widths[i],y:heights[j],h:heights[j+1]-heights[j],bg:1===i||1===j?`linear-gradient(${1===j?180:90}deg, rgba(0,0,0,0.1) calc(50% - 12px), rgba(255,255,255,0.1) calc(50% - 4px), rgba(255,255,255,0.1) calc(50% + 4px), rgba(0,0,0,0.1) calc(50% + 12px)`:"rgba(0,0,0,0.1)"});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:rects.map(r=>(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:r.y,left:r.x,width:r.w,height:r.h,zIndex:10,background:r.bg,backgroundBlendMode:"multiply",transition:"opacity 0.3s"}},r.id))})}var heatmap=__webpack_require__("./node_modules/.pnpm/heatmap.js@2.0.5_patch_hash=gydrxrztd4ruyhouu6tu7zh43e/node_modules/heatmap.js/build/heatmap.js"),heatmap_default=__webpack_require__.n(heatmap);let useMousePosition=()=>{let[mousePosition,setMousePosition]=(0,react.useState)({x:0,y:0});return(0,react.useEffect)(()=>{let onMove=e=>{setMousePosition({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",onMove),()=>{window.removeEventListener("mousemove",onMove)}},[]),mousePosition};function HeatmapMouseInfo(_ref){let{heatmapJsRef}=_ref,{shiftPressed,heatmapFilters}=(0,index_esm.useValues)(heatmapLogic.XP),mousePosition=useMousePosition(),value=heatmapJsRef.current?.getValueAt(mousePosition);if(!mousePosition||!value&&!shiftPressed)return null;let leftPosition=window.innerWidth-mousePosition.x<100;return(0,jsx_runtime.jsx)("div",{className:"absolute z-10",style:{top:mousePosition.y,left:mousePosition.x},children:(0,jsx_runtime.jsx)("div",{className:"absolute border rounded bg-bg-light shadow-md p-2 mx-2",style:{left:leftPosition?void 0:0,right:leftPosition?0:void 0,transform:"translateY(-50%)"},children:(0,jsx_runtime.jsxs)("span",{className:"font-semibold whitespace-nowrap",children:[value," ",heatmapFilters.type+"s"]})})})}function Heatmap(){let{heatmapJsData,heatmapEnabled,heatmapFilters,windowWidth,windowHeight,heatmapColorPalette}=(0,index_esm.useValues)(heatmapLogic.XP),heatmapsJsRef=(0,react.useRef)(),heatmapsJsContainerRef=(0,react.useRef)(),heatmapJSColorGradient=(0,react.useMemo)(()=>{switch(heatmapColorPalette){case"blue":return{".0":"rgba(0, 0, 255, 0)",".100":"rgba(0, 0, 255, 1)"};case"green":return{".0":"rgba(0, 255, 0, 0)",".100":"rgba(0, 255, 0, 1)"};case"red":return{".0":"rgba(255, 0, 0, 0)",".100":"rgba(255, 0, 0, 1)"};default:return{".25":"rgb(0,0,255)","0.55":"rgb(0,255,0)","0.85":"yellow","1.0":"rgb(255,0,0)"}}},[heatmapColorPalette]),heatmapConfig={minOpacity:0,maxOpacity:.8},updateHeatmapData=(0,react.useCallback)(()=>{try{heatmapsJsRef.current?.setData(heatmapJsData)}catch(e){console.error("error setting data",e)}},[heatmapJsData]),setHeatmapContainer=(0,react.useCallback)(container=>{heatmapsJsContainerRef.current=container,container&&(heatmapsJsRef.current=heatmap_default().create({...heatmapConfig,container,gradient:heatmapJSColorGradient}),updateHeatmapData())},[]);return((0,react.useEffect)(()=>{updateHeatmapData()},[heatmapJsData]),(0,react.useEffect)(()=>{heatmapsJsContainerRef.current&&heatmapsJsRef.current?.configure({...heatmapConfig,container:heatmapsJsContainerRef.current,gradient:heatmapJSColorGradient})},[heatmapJSColorGradient]),heatmapEnabled&&heatmapFilters.enabled&&"scrolldepth"!==heatmapFilters.type)?(0,jsx_runtime.jsxs)("div",{className:"fixed inset-0 overflow-hidden w-full h-full",children:[(0,jsx_runtime.jsx)("div",{className:"absolute inset-0",ref:setHeatmapContainer},`${windowWidth}x${windowHeight}`),(0,jsx_runtime.jsx)(HeatmapMouseInfo,{heatmapJsRef:heatmapsJsRef})]}):null}function ScrollDepthMouseInfo(){var _heatmapElements$0$co,_elementInMouseY$coun;let{posthog}=(0,index_esm.useValues)(toolbarConfigLogic.W),{heatmapElements,rawHeatmapLoading,shiftPressed}=(0,index_esm.useValues)(heatmapLogic.XP),{y:mouseY}=useMousePosition();if(!mouseY)return null;let scrollOffset=posthog.scrollManager.scrollY(),scrolledMouseY=mouseY+scrollOffset,elementInMouseY=heatmapElements.find((x,i)=>{var _heatmapElements$y;let lastY=null!==(_heatmapElements$y=heatmapElements[i-1]?.y)&&void 0!==_heatmapElements$y?_heatmapElements$y:0;return scrolledMouseY>=lastY&&scrolledMouseY<x.y}),maxCount=null!==(_heatmapElements$0$co=heatmapElements[0]?.count)&&void 0!==_heatmapElements$0$co?_heatmapElements$0$co:0,percentage=(null!==(_elementInMouseY$coun=elementInMouseY?.count)&&void 0!==_elementInMouseY$coun?_elementInMouseY$coun:0)/maxCount*100;return(0,jsx_runtime.jsxs)("div",{className:"absolute left-0 right-0 flex items-center z-10",style:{top:mouseY,transform:"translateY(-50%)"},children:[(0,jsx_runtime.jsx)("div",{className:"border-b border-default w-full opacity-75"}),(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("bg-default whitespace-nowrap text-white rounded p-2 font-semibold opacity-75 hover:opacity-100 transition-all",shiftPressed?"pointer-events-none":"pointer-events-auto"),children:rawHeatmapLoading?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Loading..."}):heatmapElements.length?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[percentage.toPrecision(4),"% scrolled this far"]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"No scroll data for the current dimension range"})}),(0,jsx_runtime.jsx)("div",{className:"border-b border-default w-10 opacity-75"})]})}function ScrollDepth(){var _heatmapElements$0$co2;let{posthog}=(0,index_esm.useValues)(toolbarConfigLogic.W),{heatmapEnabled,heatmapFilters,heatmapElements,scrollDepthPosthogJsError,heatmapColorPalette}=(0,index_esm.useValues)(heatmapLogic.XP);if(!heatmapEnabled||!heatmapFilters.enabled||"scrolldepth"!==heatmapFilters.type||scrollDepthPosthogJsError)return null;let scrollOffset=posthog.scrollManager.scrollY(),maxCount=null!==(_heatmapElements$0$co2=heatmapElements[0]?.count)&&void 0!==_heatmapElements$0$co2?_heatmapElements$0$co2:0;return(0,jsx_runtime.jsxs)("div",{className:"fixed inset-0 overflow-hidden",children:[(0,jsx_runtime.jsx)("div",{className:"absolute top-0 left-0 right-0",style:{transform:`translateY(${-scrollOffset}px)`},children:heatmapElements.map((_ref,i)=>{var _heatmapElements$y2,_heatmapElements$y3;let{y,count}=_ref;return(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:null!==(_heatmapElements$y2=heatmapElements[i-1]?.y)&&void 0!==_heatmapElements$y2?_heatmapElements$y2:0,left:0,width:"100%",height:y-(null!==(_heatmapElements$y3=heatmapElements[i-1]?.y)&&void 0!==_heatmapElements$y3?_heatmapElements$y3:0),backgroundColor:function(count){if("default"===heatmapColorPalette)return`hsl(${Math.round(260*Math.max(0,Math.min(1,1-count/maxCount)))}, 100%, 50%)`;let rgba=[0,0,0,count/maxCount];switch(heatmapColorPalette){case"red":rgba[0]=255;break;case"green":rgba[1]=255;break;case"blue":rgba[2]=255}return`rgba(${rgba.join(", ")})`}(count),opacity:.5}},y)})}),(0,jsx_runtime.jsx)(ScrollDepthMouseInfo,{})]})}function Elements_Elements(){let{heatmapElements,elementsToDisplay,labelsToDisplay,hoverElement,selectedElement,inspectEnabled,highlightElementMeta,relativePositionCompensation}=(0,index_esm.useValues)(elementsLogic.l),{setHoverElement,selectElement}=(0,index_esm.useActions)(elementsLogic.l),{highestClickCount,shiftPressed}=(0,index_esm.useValues)(heatmapLogic.XP),heatmapPointerEvents=shiftPressed?"none":"all";return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{id:"posthog-infowindow-container",className:"w-full h-full absolute top-0 left-0 pointer-events-none",style:{zIndex:2147483021},children:(0,jsx_runtime.jsx)(ElementInfoWindow,{})}),(0,jsx_runtime.jsxs)("div",{id:"posthog-toolbar-elements",className:"w-full h-full absolute top-0 pointer-events-none",style:{top:relativePositionCompensation,zIndex:2147483010},children:[(0,jsx_runtime.jsx)(ScrollDepth,{}),(0,jsx_runtime.jsx)(Heatmap,{}),highlightElementMeta?.rect?(0,jsx_runtime.jsx)(FocusRect,{rect:highlightElementMeta.rect}):null,elementsToDisplay.map((_ref,index)=>{let{rect,element}=_ref;return(0,jsx_runtime.jsx)(AutocaptureElement,{rect:rect,style:{pointerEvents:heatmapPointerEvents,cursor:"pointer",zIndex:hoverElement===element?2:1,opacity:(hoverElement||selectedElement)&&selectedElement!==element&&hoverElement!==element?.4:1,transition:"opacity 0.2s, box-shadow 0.2s",borderRadius:5,...(0,toolbar_utils.lz)("blue",hoverElement===element||selectedElement===element)},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null)},`inspect-${index}`)}),heatmapElements.map((_ref2,index)=>{let{rect,count,clickCount,rageclickCount,element}=_ref2;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(AutocaptureElement,{rect:rect,style:{pointerEvents:inspectEnabled?"none":heatmapPointerEvents,zIndex:hoverElement===element?4:3,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, box-shadow 0.2s",cursor:"pointer",borderRadius:5,...(0,toolbar_utils.lz)("red",hoverElement===element,(count||0)/highestClickCount*.4)},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null)}),!!clickCount&&(0,jsx_runtime.jsx)(AutocaptureElementLabel,{rect:rect,style:{pointerEvents:heatmapPointerEvents,zIndex:5,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, transform 0.2s linear",transform:hoverElement===element?"scale(1.3)":"none",cursor:"pointer",color:`hsla(${(0,toolbar_utils.KC)(clickCount||0,highestClickCount)}, 20%, 12%, 1)`,background:`hsla(${(0,toolbar_utils.KC)(clickCount||0,highestClickCount)}, 100%, 62%, 1)`,boxShadow:`hsla(${(0,toolbar_utils.KC)(clickCount||0,highestClickCount)}, 100%, 32%, 1) 0px 1px 5px 1px`},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null),children:(0,utils.JP)(clickCount||0)}),!!rageclickCount&&(0,jsx_runtime.jsxs)(AutocaptureElementLabel,{rect:rect,style:{pointerEvents:heatmapPointerEvents,zIndex:5,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, transform 0.2s linear",transform:hoverElement===element?"scale(1.3)":"none",cursor:"pointer",color:`hsla(${(0,toolbar_utils.KC)(rageclickCount||0,highestClickCount)}, 20%, 12%, 1)`,background:`hsla(${(0,toolbar_utils.KC)(rageclickCount||0,highestClickCount)}, 100%, 62%, 1)`,boxShadow:`hsla(${(0,toolbar_utils.KC)(rageclickCount||0,highestClickCount)}, 100%, 32%, 1) 0px 1px 5px 1px`},align:"left",onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null),children:[(0,utils.JP)(rageclickCount),"\uD83D\uDE21"]})]},`heatmap-${index}`)}),labelsToDisplay.map((_ref3,loopIndex)=>{let{element,rect,index}=_ref3;if(rect)return(0,jsx_runtime.jsx)(AutocaptureElementLabel,{rect:rect,align:"left",style:{zIndex:5,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, transform 0.2s linear",transform:hoverElement===element?"scale(1.3)":"none",pointerEvents:heatmapPointerEvents,cursor:"pointer",color:"hsla(141, 21%, 12%, 1)",background:"hsl(147, 100%, 62%)",boxShadow:"hsla(141, 100%, 32%, 1) 0px 1px 5px 1px"},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null),children:(index||loopIndex)+1},`label-${loopIndex}`)})]})]})}var HedgehogBuddy=__webpack_require__("./frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx");function HedgehogButton(){let{hedgehogMode,theme}=(0,index_esm.useValues)(toolbarLogic.L),{syncWithHedgehog,setHedgehogActor,toggleMinimized}=(0,index_esm.useActions)(toolbarLogic.L),{heatmapEnabled}=(0,index_esm.useValues)(heatmapLogic.XP),actorRef=(0,react.useRef)();return(0,react.useEffect)(()=>{heatmapEnabled&&actorRef.current?.setAnimation("heatmaps")},[heatmapEnabled]),(0,react.useEffect)(()=>{actorRef.current&&setHedgehogActor(actorRef.current)},[actorRef.current,hedgehogMode]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:hedgehogMode&&(0,jsx_runtime.jsx)(HedgehogBuddy.C,{onClose:()=>{},actorRef:actorRef,isDarkModeOn:"dark"===theme,onPositionChange:()=>{syncWithHedgehog()},onClick:()=>toggleMinimized()})})}function ToolbarContainer(){let{buttonVisible}=(0,index_esm.useValues)(toolbarConfigLogic.W),{theme}=(0,index_esm.useValues)(toolbarLogic.L),ref=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)(Fade.p,{visible:buttonVisible,className:"toolbar-global-fade-container ph-no-capture",children:[(0,jsx_runtime.jsx)(Elements_Elements,{}),(0,jsx_runtime.jsx)("div",{id:"button-toolbar",ref:ref,className:"ph-no-capture",theme,children:(0,jsx_runtime.jsx)(useFloatingContainerContext.E.Provider,{value:ref,children:(0,jsx_runtime.jsx)(Toolbar_Toolbar,{})})}),(0,jsx_runtime.jsx)(HedgehogButton,{})]})}function ToolbarApp(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{jsURL}=(0,index_esm.useValues)((0,toolbarConfigLogic.W)(props)),shadowRef=(0,react.useRef)(null),[didLoadStyles,setDidLoadStyles]=(0,react.useState)(!1),didRender=function(callback){let[secondRender,setSecondRender]=(0,react.useState)(!1);return(0,react.useEffect)(()=>{requestAnimationFrame(()=>{setSecondRender(!0),callback()})},[]),secondRender}(props.disableExternalStyles?()=>{}:()=>{let styleLink=document.createElement("link");styleLink.rel="stylesheet",styleLink.type="text/css";let timestampToNearestFiveMinutes=3e5*Math.floor(Date.now()/3e5);styleLink.href=`${jsURL}/static/toolbar.css?t=${timestampToNearestFiveMinutes}`,styleLink.onload=()=>setDidLoadStyles(!0);let shadowRoot=shadowRef.current?.shadowRoot||window.document.getElementById(toolbar_utils.Nb)?.shadowRoot;shadowRoot?.getElementById("posthog-toolbar-styles")?.appendChild(styleLink)});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(react_shadow_esm.ZP.div,{id:toolbar_utils.Nb,className:"ph-no-capture",ref:shadowRef,children:[(0,jsx_runtime.jsx)("div",{id:"posthog-toolbar-styles"}),didRender&&(didLoadStyles||props.disableExternalStyles)?(0,jsx_runtime.jsx)(ToolbarContainer,{}):null,(0,jsx_runtime.jsx)(react_toastify_esm.Ix,{autoClose:6e4,transition:react_toastify_esm.Mi,closeOnClick:!1,draggable:!1,position:"bottom-center"})]})})}let listActionsAPIResponse={results:[{id:49103,name:"Clicked notification row",description:"",post_to_slack:!1,slack_message_format:"",steps:[{id:"60889",event:"$autocapture",tag_name:null,text:null,text_matching:null,href:null,href_matching:null,selector:".notifications-menu .activity-log-row",url:null,name:null,url_matching:"contains",properties:[]}],created_at:"2023-08-22T06:31:40.495488Z",created_by:{id:5042,uuid:"017bcbcf-2391-0000-1868-14fb987285c5",distinct_id:"PqMBBFBfKo638PwvjCWTSZ6dnswYzJ3RtH8VIHCBWAy",first_name:"Paul",email:"paul@posthog.com",is_email_verified:!0},deleted:!1,is_calculating:!1,last_calculated_at:"2023-08-22T06:31:40.495197Z",team_id:2,is_action:!0,bytecode_error:null,tags:[]},{id:49059,name:"clicked nav bar2",description:"",post_to_slack:!1,slack_message_format:"",steps:[{id:"60829",event:"$autocapture",tag_name:null,text:"Products",text_matching:null,href:"/product-analytics",href_matching:null,selector:null,url:null,name:"",url_matching:"exact",properties:[]},{id:"60830",event:"$autocapture",tag_name:null,text:null,text_matching:null,href:null,href_matching:null,selector:".border-b .h-full:nth-child(2) > .text-\\[13\\.5px\\]",url:null,name:"",url_matching:"exact",properties:[]}],created_at:"2023-08-21T20:54:17.218311Z",created_by:{id:6352,uuid:"017d5334-911a-0000-6954-2d394263f3ca",distinct_id:"48vHN2rW28SvzA6D4NdgHajLOjBP1ulsI0Rr5DNas4i",first_name:"Cameron",email:"cameron@posthog.com",is_email_verified:!0},deleted:!1,is_calculating:!1,last_calculated_at:"2023-08-21T20:54:17.218023Z",team_id:2,is_action:!0,bytecode_error:null,tags:[]},{id:49050,name:"Clicked Products in nav bar",description:"",post_to_slack:!1,slack_message_format:"",steps:[{id:"60819",event:"$autocapture",tag_name:null,text:"Products",text_matching:null,href:"/product-analytics",href_matching:null,selector:null,url:null,name:"",url_matching:"exact",properties:[]},{id:"60820",event:"$autocapture",tag_name:null,text:"Pricing",text_matching:null,href:"/pricing",href_matching:null,selector:null,url:null,name:null,url_matching:"contains",properties:[]}],created_at:"2023-08-21T18:46:13.210958Z",created_by:{id:6352,uuid:"017d5334-911a-0000-6954-2d394263f3ca",distinct_id:"48vHN2rW28SvzA6D4NdgHajLOjBP1ulsI0Rr5DNas4i",first_name:"Cameron",email:"cameron@posthog.com",is_email_verified:!0},deleted:!1,is_calculating:!1,last_calculated_at:"2023-08-21T18:46:13.210590Z",team_id:2,is_action:!0,bytecode_error:null,tags:[]}]},listHeatmapStatsAPIResponse={results:[{count:780,hash:null,type:"$autocapture",elements:[{tag_name:"button",$el_text:"Click Me",nth_child:2,nth_of_type:1},{tag_name:"div",nth_child:1,nth_of_type:1},{tag_name:"div",attr__id:"storybook-root",nth_child:5,nth_of_type:5},{tag_name:"body",classes:["sb-main-fullscreen","sb-show-main"],attributes:{attr__class:"sb-main-fullscreen sb-show-main",attr__theme:"light"},nth_child:2,nth_of_type:1}]}],next:null,previous:null},listMyFlagsAPIResponse=[{feature_flag:{id:15927,name:"Example flag",key:"example-one",deleted:!1,active:!0,created_at:"2023-08-17T19:37:05.259538Z",filters:{}},value:!1},{feature_flag:{id:15927,name:"Another example flag",key:"example-two",deleted:!1,active:!0,created_at:"2023-08-17T19:37:05.259538Z",filters:{}},value:!0},{feature_flag:{id:13859,name:"Example multivariate flag",key:"my-multi-example",filters:{multivariate:{variants:[{key:"control",rollout_percentage:50},{key:"test",rollout_percentage:50}]}},deleted:!1,active:!0},value:"control"},{feature_flag:{id:13859,name:"Example overridden multivariate flag",key:"my-other-multi-example",filters:{multivariate:{variants:[{key:"control",rollout_percentage:50},{key:"test",rollout_percentage:50}]}},deleted:!1,active:!0},value:"control"}],Toolbar_stories={title:"Scenes-Other/Toolbar",tags:["test-skip-webkit"],parameters:{layout:"fullscreen",viewMode:"story"}},BasicTemplate=props=>{var _props$unauthenticate;let toolbarParams={temporaryToken:props.unauthenticated?void 0:"UExb1dCsoqBtrhrZYxzmxXQ7XdjVH5Ea_zbQjTFuJqk",actionId:void 0,userIntent:void 0,dataAttributes:["data-attr"],apiURL:"/",jsURL:"http://localhost:8234/",userEmail:"foobar@posthog.com"};(0,react.useEffect)(()=>{let head=document.getElementsByTagName("head")[0],shadowRoot=window.document.getElementById(toolbar_utils.Nb)?.shadowRoot,styleTags=Array.from(head.getElementsByTagName("style"));styleTags.forEach(tag=>{let style=document.createElement("style"),text=tag.innerText;style.appendChild(document.createTextNode(text)),shadowRoot?.appendChild(style)})},[]),(0,browser.ok)({get:{"/decide":{config:{enable_collect_everything:!0},toolbarParams:{toolbarVersion:"toolbar",jsURL:"http://localhost:8234/"},isAuthenticated:null===(_props$unauthenticate=props.unauthenticated)||void 0===_props$unauthenticate||_props$unauthenticate,supportedCompression:["gzip","gzip-js","lz64"],featureFlags:{},sessionRecording:{endpoint:"/s/"}},"/api/element/stats/":listHeatmapStatsAPIResponse,"/api/projects/@current/feature_flags/my_flags":listMyFlagsAPIResponse,"/api/projects/@current/actions/":listActionsAPIResponse}}),(0,index_esm.useMountedLogic)((0,toolbarConfigLogic.W)(toolbarParams));let theToolbarLogic=(0,toolbarLogic.L)(),{setVisibleMenu,setDragPosition,toggleMinimized,toggleTheme}=(0,index_esm.useActions)(theToolbarLogic);return(0,react.useEffect)(()=>{var _props$minimized;setDragPosition(50,50),setVisibleMenu(props.menu||"none"),toggleMinimized(null!==(_props$minimized=props.minimized)&&void 0!==_props$minimized&&_props$minimized),toggleTheme(props.theme||"light")},[Object.values(props)]),(0,jsx_runtime.jsxs)("div",{className:"min-h-[32rem]",children:[(0,jsx_runtime.jsx)("div",{children:"The toolbar should show up now! Click it to open."}),(0,jsx_runtime.jsx)("button",{children:"Click Me"}),(0,jsx_runtime.jsx)(ToolbarApp,{...toolbarParams,disableExternalStyles:!0})]})},Default=()=>(0,jsx_runtime.jsx)(BasicTemplate,{}),Unauthenticated=()=>(0,jsx_runtime.jsx)(BasicTemplate,{unauthenticated:!0}),Minimized=()=>(0,jsx_runtime.jsx)(BasicTemplate,{minimized:!0}),Toolbar_stories_Heatmap=()=>(0,jsx_runtime.jsx)(BasicTemplate,{menu:"heatmap"}),Inspect=()=>(0,jsx_runtime.jsx)(BasicTemplate,{menu:"inspect"}),Actions=()=>(0,jsx_runtime.jsx)(BasicTemplate,{menu:"actions"}),FeatureFlags=()=>(0,jsx_runtime.jsx)(BasicTemplate,{menu:"flags"}),EventsDebuggerEmpty=()=>(0,jsx_runtime.jsx)(BasicTemplate,{menu:"debugger"}),DefaultDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark"}),MinimizedDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark",minimized:!0}),HeatmapDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark",menu:"heatmap"}),InspectDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark",menu:"inspect"}),ActionsDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark",menu:"actions"}),FeatureFlagsDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark",menu:"flags"}),EventsDebuggerEmptyDark=()=>(0,jsx_runtime.jsx)(BasicTemplate,{theme:"dark",menu:"debugger"});Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  return <BasicTemplate />;\n}",...Default.parameters?.docs?.source}}},Unauthenticated.parameters={...Unauthenticated.parameters,docs:{...Unauthenticated.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  return <BasicTemplate unauthenticated />;\n}",...Unauthenticated.parameters?.docs?.source}}},Minimized.parameters={...Minimized.parameters,docs:{...Minimized.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  return <BasicTemplate minimized />;\n}",...Minimized.parameters?.docs?.source}}},Toolbar_stories_Heatmap.parameters={...Toolbar_stories_Heatmap.parameters,docs:{...Toolbar_stories_Heatmap.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate menu="heatmap" />;\n}',...Toolbar_stories_Heatmap.parameters?.docs?.source}}},Inspect.parameters={...Inspect.parameters,docs:{...Inspect.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate menu="inspect" />;\n}',...Inspect.parameters?.docs?.source}}},Actions.parameters={...Actions.parameters,docs:{...Actions.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate menu="actions" />;\n}',...Actions.parameters?.docs?.source}}},FeatureFlags.parameters={...FeatureFlags.parameters,docs:{...FeatureFlags.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate menu="flags" />;\n}',...FeatureFlags.parameters?.docs?.source}}},EventsDebuggerEmpty.parameters={...EventsDebuggerEmpty.parameters,docs:{...EventsDebuggerEmpty.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate menu="debugger" />;\n}',...EventsDebuggerEmpty.parameters?.docs?.source}}},DefaultDark.parameters={...DefaultDark.parameters,docs:{...DefaultDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" />;\n}',...DefaultDark.parameters?.docs?.source}}},MinimizedDark.parameters={...MinimizedDark.parameters,docs:{...MinimizedDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" minimized />;\n}',...MinimizedDark.parameters?.docs?.source}}},HeatmapDark.parameters={...HeatmapDark.parameters,docs:{...HeatmapDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" menu="heatmap" />;\n}',...HeatmapDark.parameters?.docs?.source}}},InspectDark.parameters={...InspectDark.parameters,docs:{...InspectDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" menu="inspect" />;\n}',...InspectDark.parameters?.docs?.source}}},ActionsDark.parameters={...ActionsDark.parameters,docs:{...ActionsDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" menu="actions" />;\n}',...ActionsDark.parameters?.docs?.source}}},FeatureFlagsDark.parameters={...FeatureFlagsDark.parameters,docs:{...FeatureFlagsDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" menu="flags" />;\n}',...FeatureFlagsDark.parameters?.docs?.source}}},EventsDebuggerEmptyDark.parameters={...EventsDebuggerEmptyDark.parameters,docs:{...EventsDebuggerEmptyDark.parameters?.docs,source:{originalSource:'(): JSX.Element => {\n  return <BasicTemplate theme="dark" menu="debugger" />;\n}',...EventsDebuggerEmptyDark.parameters?.docs?.source}}};let __namedExportsOrder=["Default","Unauthenticated","Minimized","Heatmap","Inspect","Actions","FeatureFlags","EventsDebuggerEmpty","DefaultDark","MinimizedDark","HeatmapDark","InspectDark","ActionsDark","FeatureFlagsDark","EventsDebuggerEmptyDark"]},"./frontend/src/lib/components/AnimatedCollapsible.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>AnimatedCollapsible});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function AnimatedCollapsible(_ref){let{collapsed,children}=_ref,collapsibleSectionRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[height,setHeight]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(collapsed?0:void 0);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{collapsed?setHeight(0):collapsibleSectionRef.current&&setHeight(collapsibleSectionRef.current?.getBoundingClientRect().height)},[collapsed,children]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"collapsible overflow-hidden",style:{height,transition:"height 0.1s ease-in-out"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{ref:collapsibleSectionRef,children:children})})}},"./frontend/src/scenes/actions/hints.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>URL_MATCHING_HINTS});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let URL_MATCHING_HINTS={exact:void 0,contains:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:["Use ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"%"})," for wildcard, for example: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"/user/%/edit"}),"."]}),regex:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Link,{to:"https://github.com/google/re2/wiki/Syntax",target:"_blank",children:"RE2 syntax applies."})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/bar/Toolbar.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"#button-toolbar{left:0;opacity:1;position:fixed;top:0;transition:opacity .5s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:2147483020;--default:var(--text-3000);--text-secondary:var(--text-secondary-3000);--muted:var(--muted-3000);--muted-alt:var(--muted-3000);--primary-alt:var(--text-3000);--border:var(--border-3000);--border-bold:var(--border-bold-3000);--mid:var(--bg-3000);--side:var(--bg-3000);--primary-alt-highlight:var(--primary-alt-highlight-3000);--data-color-1:#1d4aff;--data-color-1-hover:#1a3cf6;--data-color-10:#35416b;--text-3000:var(--text-3000-light);--text-secondary-3000:var(--text-secondary-3000-light);--muted-3000:var(--muted-3000-light);--trace-3000:var(--trace-3000-light);--primary-3000:var(--primary-3000-light);--primary-3000-highlight:var(--primary-3000-highlight-light);--primary-3000-hover:var(--primary-3000-hover-light);--primary-3000-active:var(--primary-3000-active-light);--secondary-3000:var(--secondary-3000-light);--secondary-3000-hover:var(--secondary-3000-hover-light);--accent-3000:var(--accent-3000-light);--bg-3000:var(--bg-3000-light);--border-3000:var(--border-3000-light);--border-light-opaque:#eee;--border-bold-3000:var(--border-bold-3000-light);--glass-bg-3000:var(--glass-bg-3000-light);--glass-border-3000:var(--glass-border-3000-light);--bg-light:#fff;--bg-table:#f9faf7;--link:var(--link-3000-light);--shadow-elevation-3000:var(--shadow-elevation-3000-light);--primary-3000-frame-bg:var(--primary-3000-frame-bg-light);--primary-3000-button-bg:var(--primary-3000-button-bg-light);--primary-3000-button-border:var(--primary-3000-button-border-light);--primary-3000-button-border-hover:var(--primary-3000-button-border-hover-light);--primary-alt-highlight-3000:var(--primary-alt-highlight-3000-light);--secondary-3000-frame-bg:var(--secondary-3000-frame-bg-light);--secondary-3000-button-bg:var(--secondary-3000-button-bg-light);--secondary-3000-button-border:var(--secondary-3000-button-border-light);--secondary-3000-button-border-hover:var(--secondary-3000-button-border-hover-light);--danger-3000-frame-bg:var(--danger-3000-frame-bg-light);--danger-3000-button-border:var(--danger-3000-button-border-light);--danger-3000-button-border-hover:var(--danger-3000-button-border-hover-light);--tooltip-bg:var(--tooltip-bg-light)}#button-toolbar *>::-webkit-scrollbar{height:.5rem;width:.5rem}#button-toolbar *>::-webkit-scrollbar-track{background:var(--accent-3000)}#button-toolbar *>::-webkit-scrollbar-thumb{background:var(--trace-3000);border-radius:var(--radius)}#button-toolbar *>::-webkit-scrollbar-thumb:hover{background:var(--muted-3000)}#button-toolbar+.HedgehogBuddy{z-index:2147483020}#button-toolbar[theme=dark]{--mark:var(--secondary-3000-hover-dark);--text-3000:var(--text-3000-dark);--text-secondary-3000:var(--text-secondary-3000-dark);--muted-3000:var(--muted-3000-dark);--trace-3000:var(--trace-3000-dark);--primary-3000:var(--primary-3000-dark);--primary-3000-highlight:var(--primary-3000-highlight-dark);--primary-3000-hover:var(--primary-3000-hover-dark);--primary-3000-active:var(--primary-3000-active-dark);--secondary-3000:var(--secondary-3000-dark);--secondary-3000-hover:var(--secondary-3000-hover-dark);--accent-3000:var(--accent-3000-dark);--bg-3000:var(--bg-3000-dark);--border-3000:var(--border-3000-dark);--border-light-opaque:#1e2028;--border-bold-3000:var(--border-bold-3000-dark);--glass-bg-3000:var(--glass-bg-3000-dark);--glass-border-3000:var(--glass-border-3000-dark);--bg-light:var(--accent-3000);--bg-table:#232429;--brand-key:#fff;--link:var(--link-3000-dark);--shadow-elevation-3000:var(--shadow-elevation-3000-dark);--primary-3000-frame-bg:var(--primary-3000-frame-bg-dark);--primary-3000-button-bg:var(--primary-3000-button-bg-dark);--primary-3000-button-border:var(--primary-3000-button-border-dark);--primary-3000-button-border-hover:var(--primary-3000-button-border-hover-dark);--primary-alt-highlight-3000:var(--primary-alt-highlight-3000-dark);--secondary-3000-frame-bg:var(--secondary-3000-frame-bg-dark);--secondary-3000-button-bg:var(--secondary-3000-button-bg-dark);--secondary-3000-button-border:var(--secondary-3000-button-border-dark);--secondary-3000-button-border-hover:var(--secondary-3000-button-border-hover-dark);--danger-3000-frame-bg:var(--danger-3000-frame-bg-dark);--danger-3000-button-border:var(--danger-3000-button-border-dark);--danger-3000-button-border-hover:var(--danger-3000-button-border-hover-dark);--tooltip-bg:var(--tooltip-bg-dark);--data-color-2:#7f26d9;--data-color-3:#3e7a76;--data-color-4:#bf0d6c;--data-color-5:#f0474f;--data-color-6:#b36114;--data-color-10:#6576b3}#button-toolbar .ReactModalPortal{color:var(--text-3000)}.ToolbarMenu{height:0;max-width:calc(100% - 2rem);position:fixed;z-index:2}.ToolbarMenu .ToolbarMenu__content{background-color:var(--bg-3000);border-radius:var(--radius);bottom:0;color:var(--text-3000);display:flex;filter:drop-shadow(0 5px 10px var(--trace-3000));flex-direction:column;margin-left:-15rem;max-height:0;overflow:hidden;overflow-y:auto;position:absolute;transition:opacity .15s ease,max-height .15s ease;width:30rem}.ToolbarMenu--visible .ToolbarMenu__content{border:1px solid var(--border-bold-3000)}.ToolbarMenu--blurred .ToolbarMenu__content{opacity:0}.ToolbarMenu.ToolbarMenu--below .ToolbarMenu__content{bottom:auto;top:0}.ToolbarMenu form .form-error{color:var(--danger)}.Toolbar{--toolbar-button-x:0;--toolbar-button-y:0;--toolbar-translate:translate(var(--toolbar-button-x),var(--toolbar-button-y));background-color:var(--bg-3000);border:1px solid var(--border-bold-3000);border-radius:var(--radius);color:var(--text-3000);display:flex;filter:drop-shadow(0 5px 10px var(--trace-3000));flex-direction:row;justify-content:space-between;overflow:hidden;position:fixed;transform:var(--toolbar-translate);transition-duration:.15s;transition-property:filter,width,transform;transition-timing-function:ease;width:18.2rem;z-index:1}.Toolbar>:first-child{border-right:1px solid var(--border-bold-3000)}.Toolbar>:last-child{border-left:1px solid var(--border-bold-3000)}.Toolbar--dragging{transform:var(--toolbar-translate) scale(1.1);transition-property:filter,width}.Toolbar--minimized{width:calc(2.5rem + 1px)}.Toolbar--minimized.Toolbar--hedgehog-mode{transform:var(--toolbar-translate) scale(0)}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/bar/ToolbarButton.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ToolbarButton{flex-shrink:0;height:2.5rem;width:2.5rem}.ToolbarButton,.ToolbarButton button{align-items:center;display:flex;justify-content:center}.ToolbarButton button{-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background:none;border:none;border-radius:var(--radius);color:var(--muted-alt);cursor:pointer;flex-direction:column;font-weight:600;height:2rem;margin:.25rem;min-height:var(--lemon-button-height);position:relative;transition:transform .1s ease;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:2rem}.ToolbarButton button>svg{font-size:1.5rem}.ToolbarButton--active button,.ToolbarButton:not([aria-disabled=true]):hover button{background:var(--border);color:var(--default)}.Toolbar--dragging .ToolbarButton--active button,.Toolbar--dragging .ToolbarButton:not([aria-disabled=true]):hover button{background:none;color:var(--muted-alt)}.ToolbarButton--flex{flex-grow:1;width:auto}.ToolbarButton--flex button{width:100%}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/elements/Elements.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"#posthog-infowindow-container,#posthog-toolbar-elements{color:#333;pointer-events:none}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/styles.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'*,:after,:before{--z-toolbar:2147483020;box-sizing:border-box}:host{all:initial;font-family:var(--font-sans);font-size:14px;line-height:1.5;--primary-bg-hover:var(--primary-highlight);--primary-bg-active:rgba(29,74,255,.2);--bg-charcoal:#2d2d2d;--bg-bridge:#ebece8;--radius:0.375rem;--radius-sm:0.25rem;--shadow-elevation:0px 16px 16px -16px rgba(0,0,0,.35);--modal-shadow-elevation:0px 16px 16px -16px rgba(0,0,0,.35);--opacity-disabled:0.6;--font-medium:500;--font-semibold:600;--font-sans:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI","Roboto","Helvetica Neue",helvetica,arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-title:"MatterSQ",-apple-system,BlinkMacSystemFont,"Inter","Segoe UI","Roboto","Helvetica Neue",helvetica,arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-mono:ui-monospace,"SFMono-Regular","SF Mono","Menlo","Consolas","Liberation Mono",monospace;--blue:#597dce;--purple:#c278cf;--green:var(--success);--black:var(--default);--purple-light:#dcb1e3;--data-color-1:#1d4aff;--data-color-2:#621da6;--data-color-3:#42827e;--data-color-4:#ce0e74;--data-color-5:#f14f58;--data-color-6:#7c440e;--data-color-7:#529a0a;--data-color-8:#0476fb;--data-color-9:#fe729e;--data-color-10:#35416b;--data-color-11:#41cbc4;--data-color-12:#b64b02;--data-color-13:#e4a604;--data-color-14:#a56eff;--data-color-15:#30d5c8;--lifecycle-new:#1d4aff;--lifecycle-returning:#388600;--lifecycle-resurrecting:#a56eff;--lifecycle-dormant:#db3707;--lifecycle-new-hover:#0024b6;--lifecycle-returning-hover:#0d2000;--lifecycle-resurrecting-hover:#6608ff;--lifecycle-dormant-hover:#781e04;--funnel-axis:var(--border);--funnel-grid:#ddd;--antd-table-background-dark:#fafafa;--recording-spacing:0.66667rem;--recording-player-container-bg:#797973;--recording-buffer-bg:#faaf8c;--recording-seekbar-red:var(--brand-red);--recording-hover-event:var(--primary-bg-hover);--recording-hover-event-mid:var(--primary-bg-active);--recording-hover-event-dark:var(--primary-3000);--recording-current-event:#eef2ff;--recording-current-event-dark:var(--primary-alt);--recording-failure-event:#fee9e2;--recording-failure-event-dark:#cd3000;--recording-highlight-event:var(--mark);--recording-highlight-event-dark:#946508;--z-bottom-notice:5100;--z-command-palette:1875;--z-force-modal-above-popovers:1850;--z-ant-message:1070;--z-tooltip:1070;--z-ant-select-dropdown:1065;--z-definition-popover:1064;--z-popover:1063;--z-graph-tooltip:1062;--z-modal:1060;--z-ant-modal-wrap:1060;--z-hedgehog-buddy:1059;--z-ant-modal-mask:1050;--z-annotation-popover:1049;--z-drawer:950;--z-notifications-popover:949;--z-main-nav:948;--z-lemon-sidebar:940;--z-lemon-activation-sidebar:939;--z-mobile-nav-overlay:931;--z-top-navigation:800;--z-content-overlay:488;--z-raised:5;--toastify-color-dark:var(--accent-3000-dark);--toastify-color-light:var(--bg-light);--toastify-color-info:var(--primary);--toastify-color-success:var(--success);--toastify-color-warning:var(--warning);--toastify-color-error:var(--danger);--toastify-color-progress-info:var(--toastify-color-info);--toastify-color-progress-success:var(--toastify-color-success);--toastify-color-progress-warning:var(--toastify-color-warning);--toastify-color-progress-error:var(--toastify-color-error);--toastify-toast-background:var(--bg-light);--toastify-toast-width:26rem;--toastify-toast-min-height:3.5rem;--toastify-toast-max-height:16rem;--toastify-text-color-light:#757575;--in-app-prompts-width:26rem;--lettermark-1-bg:#dcb1e3;--lettermark-1-text:#572e5e;--lettermark-2-bg:#ffc4b2;--lettermark-2-text:#3e5891;--lettermark-3-bg:#fdedc9;--lettermark-3-text:#3e5891;--lettermark-4-bg:#3e5891;--lettermark-4-text:#ffc4b2;--lettermark-5-bg:#8da9e7;--lettermark-5-text:#572e5e;--lettermark-6-bg:#572e5e;--lettermark-6-text:#dcb1e3;--lettermark-7-bg:#ffc035;--lettermark-7-text:#35416b;--lettermark-8-bg:#ff906e;--lettermark-8-text:#2a3d65;--modal-backdrop-blur:5px;--modal-backdrop-color:rgba(0,0,0,.2);--modal-transition-time:200ms;--tooltip-bg-light:var(--bg-charcoal);--tooltip-bg-dark:#656d81;--notebook-popover-transition-properties:150ms cubic-bezier(0,0.5,0.5,1);--notebook-column-left-width:27rem;--notebook-column-right-width:20rem;--primary-highlight:rgba(29,74,255,.1);--primary-light:#345cff;--primary:#1d4aff;--primary-dark:#1330a6;--danger-highlight:rgba(219,55,7,.1);--danger-lighter:#ffa599;--danger-light:#df4b20;--danger:#db3707;--danger-dark:#992705;--warning-highlight:rgba(247,165,1,.1);--warning-light:#f8b633;--warning:#f7a501;--warning-dark:#e09423;--highlight:#e49f2c;--highlight-dark:#ffbd4f;--success-highlight:rgba(56,134,0,.1);--success-light:#5f9d32;--success:#388600;--success-dark:#245700;--primary-alt-highlight:rgba(53,65,107,.1);--primary-alt:#35416b;--primary-alt-dark:#222a46;--default:#2d2d2d;--default-dark:#050505;--muted:#5f5f5f;--muted-dark:#403939;--muted-alt:#747ea1;--muted-alt-dark:#515871;--mark:hsla(42,93%,86%,.8);--white:#fff;--bg-light:#fff;--side:#fafaf9;--mid:#f2f2f2;--border:rgba(0,0,0,.15);--border-light:rgba(0,0,0,.08);--border-bold:rgba(0,0,0,.24);--border-active:rgba(0,0,0,.36);--transparent:transparent;--link:var(--primary-3000);--brand-blue:#1d4aff;--brand-red:#f54e00;--brand-yellow:#f9bd2b;--brand-key:#000;--text-3000-light:#111;--text-secondary-3000-light:hsla(0,0%,7%,.7);--muted-3000-light:hsla(0,0%,7%,.6);--trace-3000-light:hsla(0,0%,7%,.25);--primary-3000-light:#f54e01;--primary-3000-highlight-light:rgba(245,78,1,.1);--primary-3000-hover-light:#f54e01;--primary-3000-active-light:#f54e01;--secondary-3000-light:hsla(68,14%,79%,.6);--secondary-3000-hover-light:#cfd1c2;--accent-3000-light:#eeefe9;--bg-3000-light:#f3f4ef;--border-3000-light:#dadbd2;--border-bold-3000-light:#c1c2b9;--glass-bg-3000-light:hsla(69,12%,88%,.702);--glass-border-3000-light:#e4e5de;--link-3000-light:#f54e00;--primary-3000-frame-bg-light:#eb9d2a;--primary-3000-button-bg-light:#fff;--primary-3000-button-border-light:#b17816;--primary-3000-button-border-hover-light:#8e5b03;--secondary-3000-frame-bg-light:#e1dddd;--secondary-3000-button-bg-light:#f3f4ef;--secondary-3000-button-border-light:#ccc;--secondary-3000-button-border-hover-light:#aaa;--danger-3000-frame-bg-light:rgba(245,78,0,.502);--danger-3000-button-border-light:#e96b30;--danger-3000-button-border-hover-light:#f54e00;--shadow-elevation-3000-light:0 3px 0 var(--border-3000-light);--shadow-elevation-3000-dark:0 3px 0 var(--border-3000-dark);--text-3000-dark:#fff;--text-secondary-3000-dark:hsla(0,0%,100%,.7);--muted-3000-dark:hsla(0,0%,100%,.5);--trace-3000-dark:hsla(0,0%,100%,.25);--primary-3000-dark:#f7a503;--primary-3000-highlight-dark:rgba(247,165,3,.1);--primary-3000-hover-dark:#f7a503;--primary-3000-active-dark:#f7a503;--primary-alt-highlight-3000-light:#e5e7e0;--secondary-3000-dark:#1d1f27;--secondary-3000-hover-dark:#575d77;--accent-3000-dark:#21242b;--bg-3000-dark:#1d1f27;--border-3000-dark:#35373e;--border-bold-3000-dark:#3f4046;--glass-bg-3000-dark:rgba(36,38,42,.6);--glass-border-3000-dark:var(--border-3000-dark);--link-3000-dark:#f1a82c;--primary-3000-frame-bg-dark:#926826;--primary-3000-button-bg-dark:#e0a045;--primary-3000-button-border-dark:#b17816;--primary-3000-button-border-hover-dark:#8e5b03;--primary-alt-highlight-3000-dark:#232429;--secondary-3000-frame-bg-dark:#323232;--secondary-3000-button-bg-dark:#1d1f27;--secondary-3000-button-border-dark:#4a4c52;--secondary-3000-button-border-hover-dark:#5e6064;--danger-3000-frame-bg-dark:rgba(245,78,0,.502);--danger-3000-button-border-dark:#c44003;--danger-3000-button-border-hover-dark:#f54e00;--text-3000:var(--text-3000);--text-secondary-3000:var(--text-secondary-3000);--muted-3000:var(--muted-3000);--trace-3000:var(--trace-3000);--primary-3000:var(--primary-3000);--primary-3000-hover:var(--primary-3000-hover);--secondary-3000:var(--secondary-3000);--secondary-3000-hover:var(--secondary-3000-hover);--accent-3000:var(--accent-3000);--bg-3000:var(--bg-3000);--bg-hover-3000:var(--bg-hover-3000);--border-3000:var(--border-3000);--border-bold-3000:var(--border-bold-3000);--glass-bg-3000:var(--glass-bg-3000);--glass-border-3000:var(--border-3000);--link-3000:var(--link-3000);--tooltip-bg:var(--tooltip-bg);--primary-3000-frame-bg:var(--primary-3000-frame-bg);--primary-3000-button-bg:var(--primary-3000-button-bg);--primary-3000-button-border:var(--primary-3000-button-border);--primary-3000-button-border-hover:var(--primary-3000-button-border-hover);--secondary-3000-frame-bg:var(--secondary-3000-frame-bg);--secondary-3000-button-bg:var(--secondary-3000-button-bg);--secondary-3000-button-border:var(--secondary-3000-button-border);--secondary-3000-button-border-hover:var(--secondary-3000-button-border-hover)}.LemonModal__overlay--force-modal-above-popovers{z-index:calc(var(--z-toolbar) + var(--z-force-modal-above-popovers))!important}.section-title{color:#6a7790;font-size:12px;font-weight:700;margin-bottom:10px;text-transform:uppercase}.fade-component-container{position:fixed;z-index:var(--z-toolbar)}.Toastify__toast-container{z-index:calc(var(--z-toolbar) + 20)}.toolbar-global-fade-container{inset:0;pointer-events:none;position:absolute}.toolbar-global-fade-container>*{pointer-events:auto}.Popover{z-index:calc(var(--z-toolbar) + var(--z-popover))!important}.Tooltip{z-index:calc(var(--z-toolbar) + var(--z-tooltip))!important}',""]),module.exports=exports}}]);