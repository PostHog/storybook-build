"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[3995],{"./frontend/src/scenes/pipeline/Pipeline.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Pipeline:()=>Pipeline,scene:()=>scene});var PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),pipelineLogic=__webpack_require__("./frontend/src/scenes/pipeline/pipelineLogic.tsx"),LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),types=__webpack_require__("./frontend/src/types.ts"),Spinner=__webpack_require__("./frontend/src/lib/lemon-ui/Spinner/Spinner.tsx"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),kea_loaders_lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("./frontend/src/lib/api.ts"),es=__webpack_require__("./node_modules/.pnpm/posthog-js@1.90.2/node_modules/posthog-js/dist/es.js"),teamLogic=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),access=__webpack_require__("./frontend/src/scenes/plugins/access.ts"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts");const pipelineTransformationsLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","pipeline","transformationsLogic"]),(0,index_esm.connect)({values:[teamLogic.teamLogic,["currentTeamId"],userLogic.userLogic,["user"]]}),(0,index_esm.actions)({loadPluginConfigs:!0,openReorderModal:!0,closeReorderModal:!0,setTemporaryOrder:tempOrder=>({tempOrder}),savePluginConfigsOrder:newOrders=>({newOrders})}),(0,kea_loaders_lib.loaders)((_ref=>{let{values}=_ref;return{plugins:[{},{loadPlugins:async()=>{const results=await loadPaginatedResults("api/organizations/@current/pipeline_transformations"),plugins={};for(const plugin of results)plugins[plugin.id]=plugin;return plugins}}],temporaryOrder:[{},{setTemporaryOrder:async _ref2=>{let{tempOrder}=_ref2;return tempOrder},closeReorderModal:async()=>({})}],pluginConfigs:[{},{loadPluginConfigs:async()=>{const pluginConfigs={},results=await loadPaginatedResults(`api/projects/${values.currentTeamId}/pipeline_transformations_configs`);for(const pluginConfig of results)pluginConfigs[pluginConfig.id]={...pluginConfig,name:pluginConfig.name||values.plugins[pluginConfig.plugin]?.name||"Unknown app",description:pluginConfig.description||values.plugins[pluginConfig.plugin]?.description};return pluginConfigs},savePluginConfigsOrder:async _ref3=>{let{newOrders}=_ref3;if(!values.canConfigurePlugins)return values.pluginConfigs;const{pluginConfigs}=values,response=await api.ZP.update("api/plugin_config/rearrange",{orders:newOrders}),newPluginConfigs={...pluginConfigs};for(const pluginConfig of response)Object.keys(values.plugins).map(Number).includes(pluginConfig.plugin)&&(newPluginConfigs[pluginConfig.id]=pluginConfig);return newPluginConfigs},toggleEnabled:async _ref4=>{let{id,enabled}=_ref4;if(!values.canConfigurePlugins)return values.pluginConfigs;const{pluginConfigs,plugins}=values,pluginConfig=pluginConfigs[id];!function capturePluginEvent(event,plugin,pluginConfig){es.ZP.capture(event,{plugin_id:plugin.id,plugin_name:plugin.name,plugin_config_id:pluginConfig.id})}("plugin "+(enabled?"enabled":"disabled"),plugins[pluginConfig.plugin],pluginConfig);let order={};if(enabled){order={order:Math.max(...Object.values(values.enabledPluginConfigs).map((pc=>pc.order)),0)+1}}const response=await api.ZP.update(`api/plugin_config/${id}`,{enabled,...order});return{...pluginConfigs,[id]:response}}}]}})),(0,index_esm.selectors)({loading:[s=>[s.pluginsLoading,s.pluginConfigsLoading],(pluginsLoading,pluginConfigsLoading)=>pluginsLoading||pluginConfigsLoading],enabledPluginConfigs:[s=>[s.pluginConfigs],pluginConfigs=>Object.values(pluginConfigs).filter((pc=>pc.enabled))],sortedEnabledPluginConfigs:[s=>[s.pluginConfigs,s.enabledPluginConfigs,s.temporaryOrder],(pluginConfigs,enabledPluginConfigs,temporaryOrder)=>{if(!temporaryOrder||0===Object.keys(temporaryOrder).length)return enabledPluginConfigs.sort(((a,b)=>a.order-b.order));return Object.entries(temporaryOrder).sort(((_ref5,_ref6)=>{let[,aIdx]=_ref5,[,bIdx]=_ref6;return aIdx-bIdx})).map((_ref7=>{let[pluginId]=_ref7;return pluginConfigs[Number(pluginId)]}))}],disabledPluginConfigs:[s=>[s.pluginConfigs],pluginConfigs=>Object.values(pluginConfigs).filter((pc=>!pc.enabled))],canConfigurePlugins:[s=>[s.user],user=>(0,access.z9)(user?.organization)],shouldShowProductIntroduction:[s=>[s.user],user=>!user?.has_seen_product_intro_for?.[types.Md.PIPELINE_TRANSFORMATIONS]]}),(0,index_esm.reducers)({reorderModalOpen:[!1,{openReorderModal:()=>!0,closeReorderModal:()=>!1}]}),(0,index_esm.listeners)((_ref8=>{let{actions}=_ref8;return{savePluginConfigsOrderSuccess:()=>{actions.closeReorderModal()}}})),(0,index_esm.afterMount)((_ref9=>{let{actions}=_ref9;actions.loadPlugins(),actions.loadPluginConfigs()}))]),PAGINATION_DEFAULT_MAX_PAGES=10;async function loadPaginatedResults(url){let maxIterations=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PAGINATION_DEFAULT_MAX_PAGES,results=[];for(let i=0;i<=maxIterations&&url;++i){const{results:partialResults,next}=await api.ZP.get(url);results=results.concat(partialResults),url=next}return results}var PluginImage=__webpack_require__("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),sortable_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+sortable@7.0.2_@dnd-kit+core@6.0.8_react@18.2.0/node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),core_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+core@6.0.8_react-dom@18.2.0_react@18.2.0/node_modules/@dnd-kit/core/dist/core.esm.js"),modifiers_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+modifiers@6.0.1_@dnd-kit+core@6.0.8_react@18.2.0/node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js"),utilities_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+utilities@3.2.1_react@18.2.0/node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),More=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/More.tsx"),columnUtils=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),LemonMarkdown=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMarkdown/LemonMarkdown.tsx"),dayjs=__webpack_require__("./frontend/src/lib/dayjs.ts"),ProductIntroduction=__webpack_require__("./frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/LemonButton.tsx"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function NewButton(_ref){let{tab}=_ref;const singular=(0,pipelineLogic.v9)(tab);return(0,jsx_runtime.jsxs)(LemonButton.Jp,{"data-attr":`new-${singular}`,to:urls.j.pipelineNew(tab),type:"primary",children:["New ",singular]})}try{NewButton.displayName="NewButton",NewButton.__docgenInfo={description:"",displayName:"NewButton",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"filters"'},{value:'"transformations"'},{value:'"destinations"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/pipeline/NewButton.tsx#NewButton"]={docgenInfo:NewButton.__docgenInfo,name:"NewButton",path:"frontend/src/scenes/pipeline/NewButton.tsx#NewButton"})}catch(__react_docgen_typescript_loader_error){}function Transformations(){const{loading,sortedEnabledPluginConfigs,disabledPluginConfigs,plugins,canConfigurePlugins,shouldShowProductIntroduction}=(0,index_esm.useValues)(pipelineTransformationsLogic),{openReorderModal,toggleEnabled,loadPluginConfigs}=(0,index_esm.useActions)(pipelineTransformationsLogic),shouldShowEmptyState=0===sortedEnabledPluginConfigs.length&&0===disabledPluginConfigs.length;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(shouldShowEmptyState||shouldShowProductIntroduction)&&(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Pipeline transformations",thingName:"transformation",productKey:types.Md.PIPELINE_TRANSFORMATIONS,description:"Pipeline transformations allow you to enrich your data with additional information, such as geolocation.",docsURL:"https://posthog.com/docs/cdp",actionElementOverride:(0,jsx_runtime.jsx)(NewButton,{tab:types.OJ.Transformations}),isEmpty:!0}),!shouldShowEmptyState&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[sortedEnabledPluginConfigs.length>1&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ReorderModal,{}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:["Processed sequentially.",(0,jsx_runtime.jsx)(src.LemonButton,{onClick:openReorderModal,noPadding:!0,type:"tertiary",id:"app-reorder",disabledReason:canConfigurePlugins?void 0:"You do not have permission to reorder plugins.",children:"Change order"})]})]}),(0,jsx_runtime.jsx)(src.LemonTable,{dataSource:[...sortedEnabledPluginConfigs,...disabledPluginConfigs],size:"xs",loading,columns:[{title:"Order",key:"order",sticky:!0,render:function RenderOrdering(_,pluginConfig){return pluginConfig.enabled?sortedEnabledPluginConfigs.findIndex((pc=>pc===pluginConfig))+1:null}},{title:"Name",sticky:!0,render:function RenderPluginName(_,pluginConfig){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.Tooltip,{title:"Click to update configuration, view metrics, and more",children:(0,jsx_runtime.jsx)(src.Link,{to:urls.j.appMetrics(pluginConfig.id),children:(0,jsx_runtime.jsx)("span",{className:"row-name",children:pluginConfig.name})})}),pluginConfig.description&&(0,jsx_runtime.jsx)(LemonMarkdown.j,{className:"row-description",lowKeyHeadings:!0,children:pluginConfig.description})]})}},{title:"App",render:function RenderAppInfo(_,pluginConfig){return(0,jsx_runtime.jsx)(RenderApp,{plugin:plugins[pluginConfig.plugin]})}},(0,columnUtils.yI)(),{title:"Status",render:function RenderStatus(_,pluginConfig){const days_since_error=pluginConfig.error?(0,dayjs.Bv)().diff((0,dayjs.Bv)(pluginConfig.error.time),"day"):null,show_error=!(days_since_error&&days_since_error<7);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[pluginConfig.enabled?(0,jsx_runtime.jsx)(src.LemonTag,{type:"success",className:"uppercase",children:"Enabled"}):(0,jsx_runtime.jsx)(src.LemonTag,{type:"default",className:"uppercase",children:"Disabled"}),pluginConfig.error&&show_error&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(src.Tooltip,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Click to see logs.",(0,jsx_runtime.jsx)("br",{}),(0,utils.bo)(pluginConfig.error.time),": ",pluginConfig.error.message]}),children:(0,jsx_runtime.jsx)(src.Link,{to:urls.j.appLogs(pluginConfig.id),children:(0,jsx_runtime.jsx)(src.LemonTag,{type:"danger",className:"uppercase",children:"Error"})})})]})]})}},{width:0,render:function Render(_,pluginConfig){return(0,jsx_runtime.jsx)(More.T,{overlay:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(src.LemonButton,{status:"stealth",onClick:()=>{toggleEnabled({enabled:!pluginConfig.enabled,id:pluginConfig.id})},id:`app-${pluginConfig.id}-enable-switch`,disabledReason:canConfigurePlugins?void 0:"You do not have permission to enable/disable apps.",fullWidth:!0,children:[pluginConfig.enabled?"Disable":"Enable"," app"]}),pluginConfig.enabled&&(0,jsx_runtime.jsx)(src.LemonButton,{status:"stealth",onClick:openReorderModal,id:"app-reorder",disabledReason:canConfigurePlugins?void 0:"You do not have permission to reorder apps.",fullWidth:!0,children:"Reorder apps"}),(0,jsx_runtime.jsxs)(src.LemonButton,{status:"stealth",to:urls.j.appMetrics(pluginConfig.id),id:`app-${pluginConfig.id}-configuration`,fullWidth:!0,children:[canConfigurePlugins?"Edit":"View"," app configuration"]}),(0,jsx_runtime.jsx)(src.LemonButton,{status:"stealth",to:urls.j.appMetrics(pluginConfig.id),id:`app-${pluginConfig.id}-metrics`,fullWidth:!0,children:"View app metrics"}),(0,jsx_runtime.jsx)(src.LemonButton,{status:"stealth",to:urls.j.appLogs(pluginConfig.id),id:`app-${pluginConfig.id}-logs`,fullWidth:!0,children:"View app logs"}),plugins[pluginConfig.plugin].url&&(0,jsx_runtime.jsx)(src.LemonButton,{status:"stealth",to:plugins[pluginConfig.plugin].url,targetBlank:!0,id:`app-${pluginConfig.id}-source-code`,fullWidth:!0,children:"View app source code"}),(0,jsx_runtime.jsx)(src.LemonDivider,{}),(0,jsx_runtime.jsx)(src.LemonButton,{status:"danger",onClick:()=>{(0,utils.S5)({endpoint:"plugin_config",object:{id:pluginConfig.id,name:pluginConfig.name},callback:loadPluginConfigs})},id:"app-reorder",disabledReason:canConfigurePlugins?void 0:"You do not have permission to delete apps.",fullWidth:!0,children:"Delete app"})]})})}}]})]})]})}function RenderApp(_ref){let{plugin}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-4",children:(0,jsx_runtime.jsx)(src.Tooltip,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[plugin.name,(0,jsx_runtime.jsx)("br",{}),plugin.description,(0,jsx_runtime.jsx)("br",{}),"Click to view app source code"]}),children:(0,jsx_runtime.jsx)(src.Link,{to:plugin.url,target:"_blank",children:(0,jsx_runtime.jsx)(PluginImage.c,{plugin})})})})}function ReorderModal(){const{reorderModalOpen,sortedEnabledPluginConfigs,temporaryOrder,pluginConfigsLoading}=(0,index_esm.useValues)(pipelineTransformationsLogic),{closeReorderModal,setTemporaryOrder,savePluginConfigsOrder}=(0,index_esm.useActions)(pipelineTransformationsLogic);return(0,jsx_runtime.jsx)(src.LemonModal,{onClose:closeReorderModal,isOpen:reorderModalOpen,width:600,title:"Reorder apps",description:(0,jsx_runtime.jsxs)("p",{children:["The order of apps is important as they are processed sequentially. You can"," ",(0,jsx_runtime.jsx)("b",{children:"drag and drop the apps below"})," to change their order."]}),footer:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:closeReorderModal,children:"Cancel"}),(0,jsx_runtime.jsx)(src.LemonButton,{loading:pluginConfigsLoading,type:"primary",onClick:()=>savePluginConfigsOrder(temporaryOrder),children:"Save order"})]}),children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-2",children:(0,jsx_runtime.jsx)(core_esm.LB,{modifiers:[modifiers_esm.DL,modifiers_esm.F4],onDragEnd:_ref2=>{let{active,over}=_ref2;if(active.id&&over&&active.id!==over.id){const from=sortedEnabledPluginConfigs.findIndex((config=>config.id===active.id)),to=sortedEnabledPluginConfigs.findIndex((config=>config.id===over.id)),newTemporaryOrder=(0,sortable_esm.Rp)(sortedEnabledPluginConfigs,from,to).reduce(((acc,pluginConfig,index)=>({...acc,[pluginConfig.id]:index+1})),{});setTemporaryOrder(newTemporaryOrder)}},children:(0,jsx_runtime.jsx)(sortable_esm.Fo,{items:sortedEnabledPluginConfigs,strategy:sortable_esm.qw,children:sortedEnabledPluginConfigs.map(((item,index)=>(0,jsx_runtime.jsx)(MinimalAppView,{pluginConfig:item,order:index},item.id)))})})})})}const MinimalAppView=_ref3=>{let{pluginConfig,order}=_ref3;const{plugins}=(0,index_esm.useValues)(pipelineTransformationsLogic),{attributes,listeners,setNodeRef,transform,transition,isDragging}=(0,sortable_esm.nB)({id:pluginConfig.id}),plugin=plugins[pluginConfig.plugin];return(0,jsx_runtime.jsxs)("div",{ref:setNodeRef,className:"flex gap-2 cursor-move border rounded p-2 items-center bg-bg-light",style:{position:"relative",transform:utilities_esm.ux.Transform.toString(transform),transition,zIndex:isDragging?999999:void 0},...attributes,...listeners,children:[(0,jsx_runtime.jsx)(src.LemonBadge.Number,{count:order+1,maxDigits:3}),(0,jsx_runtime.jsx)(PluginImage.c,{plugin,size:"small"}),(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:pluginConfig.name})]})};function Pipeline(){const{currentTab}=(0,index_esm.useValues)(pipelineLogic.B2);return(0,jsx_runtime.jsxs)("div",{className:"pipeline-scene",children:[(0,jsx_runtime.jsx)(PageHeader.m,{title:"Pipeline",caption:"Add filters or transformations to the events sent to PostHog or export them to other tools.",buttons:(0,jsx_runtime.jsx)(NewButton,{tab:currentTab})}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:currentTab,onChange:tab=>lib.router.actions.push(urls.j.pipeline(tab)),tabs:Object.values(types.OJ).map((tab=>({label:(0,pipelineLogic.$Y)(tab),key:tab})))}),currentTab?currentTab===types.OJ.Transformations?(0,jsx_runtime.jsx)(Transformations,{}):null:(0,jsx_runtime.jsx)(Spinner.$,{})]})}const scene={component:Pipeline,logic:pipelineLogic.B2}},"./frontend/src/scenes/pipeline/pipelineLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$Y:()=>humanFriendlyTabName,B2:()=>pipelineLogic,v9:()=>singularName});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),scenes_urls__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/scenes/urls.ts"),_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/types.ts");const singularName=tab=>{switch(tab){case _types__WEBPACK_IMPORTED_MODULE_3__.OJ.Filters:return"filter";case _types__WEBPACK_IMPORTED_MODULE_3__.OJ.Transformations:return"transformation";case _types__WEBPACK_IMPORTED_MODULE_3__.OJ.Destinations:return"destination"}},humanFriendlyTabName=tab=>{switch(tab){case _types__WEBPACK_IMPORTED_MODULE_3__.OJ.Filters:return"Filters";case _types__WEBPACK_IMPORTED_MODULE_3__.OJ.Transformations:return"Transformations";case _types__WEBPACK_IMPORTED_MODULE_3__.OJ.Destinations:return"Destinations"}},pipelineLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","pipeline","pipelineLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setCurrentTab:function(){return{tab:arguments.length>0&&void 0!==arguments[0]?arguments[0]:_types__WEBPACK_IMPORTED_MODULE_3__.OJ.Destinations}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({currentTab:[_types__WEBPACK_IMPORTED_MODULE_3__.OJ.Destinations,{setCurrentTab:(_,_ref)=>{let{tab}=_ref;return tab}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)((()=>({breadcrumbs:[s=>[s.currentTab],tab=>{const breadcrumbs=[{name:"Pipeline"}];return breadcrumbs.push({name:humanFriendlyTabName(tab)}),breadcrumbs}]}))),(0,kea_router__WEBPACK_IMPORTED_MODULE_1__.actionToUrl)((_ref2=>{let{values}=_ref2;return{setCurrentTab:()=>[scenes_urls__WEBPACK_IMPORTED_MODULE_2__.j.pipeline(values.currentTab)]}})),(0,kea_router__WEBPACK_IMPORTED_MODULE_1__.urlToAction)((_ref3=>{let{actions,values}=_ref3;return{"/pipeline/:tab":_ref4=>{let{tab}=_ref4;tab!==values.currentTab&&actions.setCurrentTab(tab)}}}))]);try{singularName.displayName="singularName",singularName.__docgenInfo={description:"",displayName:"singularName",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/pipeline/pipelineLogic.tsx#singularName"]={docgenInfo:singularName.__docgenInfo,name:"singularName",path:"frontend/src/scenes/pipeline/pipelineLogic.tsx#singularName"})}catch(__react_docgen_typescript_loader_error){}try{humanFriendlyTabName.displayName="humanFriendlyTabName",humanFriendlyTabName.__docgenInfo={description:"",displayName:"humanFriendlyTabName",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/pipeline/pipelineLogic.tsx#humanFriendlyTabName"]={docgenInfo:humanFriendlyTabName.__docgenInfo,name:"humanFriendlyTabName",path:"frontend/src/scenes/pipeline/pipelineLogic.tsx#humanFriendlyTabName"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/plugins/plugin/PluginImage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>PluginImage});var utils=__webpack_require__("./frontend/src/lib/utils.tsx"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const plugin_default=__webpack_require__.p+"images/plugin-default.e3e047768d82d1c3fe24fce102eaef18.svg";var icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function PluginImage(_ref){let{plugin,size="medium"}=_ref;const{plugin_type:pluginType,url,icon}=plugin,[state,setState]=(0,react.useState)({image:plugin_default}),pixelSize={medium:60,large:100,small:30}[size];return(0,react.useEffect)((()=>{if(icon)setState((state=>({...state,image:icon})));else if(url?.includes("github.com")){const{user,repo,path}=(0,utils.iw)(url);setState({...state,image:`https://raw.githubusercontent.com/${user}/${repo}/${path||"main"}/logo.png`})}}),[url]),"source"===pluginType?(0,jsx_runtime.jsx)(icons.Chd,{className:"plugin-image shrink-0",style:{fontSize:pixelSize}}):(0,jsx_runtime.jsx)("div",{className:"plugin-image shrink-0",style:{width:pixelSize,height:pixelSize,backgroundImage:`url(${state.image})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"},onError:()=>setState({...state,image:plugin_default})})}try{PluginImage.displayName="PluginImage",PluginImage.__docgenInfo={description:"",displayName:"PluginImage",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:'Partial<Pick<PluginType, "icon" | "url" | "plugin_type">>'}},size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginImage.tsx#PluginImage"]={docgenInfo:PluginImage.__docgenInfo,name:"PluginImage",path:"frontend/src/scenes/plugins/plugin/PluginImage.tsx#PluginImage"})}catch(__react_docgen_typescript_loader_error){}}}]);