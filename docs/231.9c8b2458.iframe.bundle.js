(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Ke});var ne=e("./node_modules/core-js/modules/es.array.includes.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.array.iterator.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/es.object.to-string.js"),et=e.n(w),X=e("./node_modules/core-js/modules/es.object.values.js"),ae=e.n(X),r=e("./node_modules/core-js/modules/es.string.includes.js"),S=e.n(r),ct=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),G=e.n(ct),V=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),it=e.n(V),ze=e("./node_modules/kea/lib/index.esm.js"),Oe=e("./frontend/src/lib/utils.tsx"),J=e("./frontend/src/types.ts"),D=e("./frontend/src/scenes/insights/sharedUtils.ts"),k=e("./frontend/src/scenes/insights/insightLogic.ts");function Ye(Z,Qe){var Ce=Object.keys(Z);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(Z);Qe&&(Me=Me.filter(function(Ft){return Object.getOwnPropertyDescriptor(Z,Ft).enumerable})),Ce.push.apply(Ce,Me)}return Ce}function fe(Z){for(var Qe=1;Qe<arguments.length;Qe++){var Ce=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?Ye(Object(Ce),!0).forEach(function(Me){it()(Z,Me,Ce[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Ce)):Ye(Object(Ce)).forEach(function(Me){Object.defineProperty(Z,Me,Object.getOwnPropertyDescriptor(Ce,Me))})}return Z}function De(Z){return Object.values(J.o).includes(Z)}var Ke=Object(ze.kea)({props:{},key:Object(D.c)("new"),path:function(Qe){return["lib","components","ChartFilter","chartFilterLogic",Qe]},connect:function(Qe){return{actions:[Object(k.c)(Qe),["setFilters"]],values:[Object(k.c)(Qe),["filters"]]}},actions:function(){return{setChartFilter:function(Ce){return{chartFilter:Ce}}}},selectors:{chartFilter:[function(Z){return[Z.filters]},function(Z){var Qe=Z.display,Ce=Z.funnel_viz_type;return(Qe===J.d.FunnelViz?Ce:Qe)||null}]},listeners:function(Qe){var Ce=Qe.actions,Me=Qe.values;return{setChartFilter:function(_e){var Ot=_e.chartFilter,R=Me.filters,xt=R.display,ye=R.funnel_viz_type;De(Ot)?(ye!==Ot||xt!==J.d.FunnelViz)&&Ce.setFilters(fe(fe({},Me.filters),{},{display:J.d.FunnelViz,funnel_viz_type:Ot})):Object(Oe.mb)(xt,Ot)||Ce.setFilters(fe(fe({},Me.filters),{},{display:Ot}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Oe});var ne=e("./node_modules/core-js/modules/es.array.iterator.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.object.to-string.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),et=e.n(w),X=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ae=e.n(X),r=e("./node_modules/kea/lib/index.esm.js"),S=e("./frontend/src/lib/utils.tsx"),ct=e("./frontend/src/types.ts"),G=e("./frontend/src/scenes/insights/sharedUtils.ts"),V=e("./frontend/src/scenes/insights/insightLogic.ts");function it(J,D){var k=Object.keys(J);if(Object.getOwnPropertySymbols){var Ye=Object.getOwnPropertySymbols(J);D&&(Ye=Ye.filter(function(fe){return Object.getOwnPropertyDescriptor(J,fe).enumerable})),k.push.apply(k,Ye)}return k}function ze(J){for(var D=1;D<arguments.length;D++){var k=arguments[D]!=null?arguments[D]:{};D%2?it(Object(k),!0).forEach(function(Ye){ae()(J,Ye,k[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(k)):it(Object(k)).forEach(function(Ye){Object.defineProperty(J,Ye,Object.getOwnPropertyDescriptor(k,Ye))})}return J}var Oe=Object(r.kea)({props:{},key:Object(G.c)("new"),path:function(D){return["lib","components","CompareFilter","compareFilterLogic",D]},connect:function(D){return{actions:[Object(V.c)(D),["setFilters"]],values:[Object(V.c)(D),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(k){return{compare:k}},toggleCompare:!0}},selectors:{compare:[function(J){return[J.filters]},function(J){return!!(J!=null&&J.compare)}],disabled:[function(J){return[J.filters,J.canEditInsight]},function(J,D){var k=J.insight,Ye=J.date_from;return!D||k===ct.s.LIFECYCLE||Ye==="all"}]},listeners:function(D){var k=D.values,Ye=D.actions;return{setCompare:function(De){var Ke=De.compare;Object(S.mb)(Ke,k.compare)||Ye.setFilters(ze(ze({},k.filters),{},{compare:Ke}))},toggleCompare:function(){Ye.setCompare(!k.compare)}}}})},"./frontend/src/lib/components/CopyToClipboard.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Ke});var ne=e("./node_modules/core-js/modules/es.symbol.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.symbol.description.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/es.object.to-string.js"),et=e.n(w),X=e("./node_modules/core-js/modules/es.regexp.to-string.js"),ae=e.n(X),r=e("./node_modules/@babel/runtime/helpers/extends.js"),S=e.n(r),ct=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),G=e.n(ct),V=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),it=e.n(V),ze=e("./node_modules/react/index.js"),Oe=e.n(ze),J=e("./frontend/src/lib/utils.tsx"),D=e("./frontend/src/lib/components/Tooltip.tsx"),k=e("./frontend/src/lib/components/icons.tsx"),Ye=e("./frontend/src/lib/components/LemonButton/index.ts");function fe(Z,Qe){var Ce=Object.keys(Z);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(Z);Qe&&(Me=Me.filter(function(Ft){return Object.getOwnPropertyDescriptor(Z,Ft).enumerable})),Ce.push.apply(Ce,Me)}return Ce}function De(Z){for(var Qe=1;Qe<arguments.length;Qe++){var Ce=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?fe(Object(Ce),!0).forEach(function(Me){G()(Z,Me,Ce[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Ce)):fe(Object(Ce)).forEach(function(Me){Object.defineProperty(Z,Me,Object.getOwnPropertyDescriptor(Ce,Me))})}return Z}function Ke(Z){var Qe=Z.children,Ce=Z.explicitValue,Me=Z.description,Ft=Z.selectable,_e=Ft===void 0?!1:Ft,Ot=Z.isValueSensitive,R=Ot===void 0?!1:Ot,xt=Z.tooltipMessage,ye=xt===void 0?null:xt,$t=Z.iconStyle,o=$t===void 0?{}:$t,Jt=Z.iconPosition,Mt=Jt===void 0?"end":Jt,Lt=Z.style,_=it()(Z,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),Gt=function(){return Object(J.t)(Ce!=null?Ce:Qe?Qe.toString():"",Me)},ut=Oe.a.createElement("span",S()({className:R?"ph-no-capture":"",style:De({cursor:_e?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:Mt==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},Lt),onClick:_e?void 0:Gt},_),Oe.a.createElement("span",{style:Mt==="start"?{flexGrow:1}:{}},Qe),Oe.a.createElement(Ye.a,{compact:!0,icon:Oe.a.createElement(k.IconCopy,null),className:"copy-icon",onClick:_e?Gt:void 0,style:De(G()({},Mt==="end"?"marginLeft":"marginRight",4),o)}));return!_e||ye!==null?Oe.a.createElement(D.a,{title:ye||"Click to copy"},ut):Oe.a.createElement(Oe.a.Fragment,null,ut)}try{Ke.displayName="CopyToClipboardInline",Ke.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:Ke.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(Z){}},"./frontend/src/lib/components/Drawer.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return X});var ne=e("./node_modules/@babel/runtime/helpers/extends.js"),u=e.n(ne),$e=e("./node_modules/react/index.js"),Xe=e.n($e),w=e("./node_modules/antd/es/drawer/index.js"),et=e("./frontend/src/vars.ts");function X(ae){return Xe.a.createElement(w.a,u()({},ae,{zIndex:et.a.zDrawer}))}try{X.displayName="Drawer",X.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:X.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(ae){}},"./frontend/src/lib/components/PropertiesTable.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return ke});var ne=e("./node_modules/core-js/modules/es.array.filter.js"),u=e("./node_modules/core-js/modules/es.array.includes.js"),$e=e("./node_modules/core-js/modules/es.array.map.js"),Xe=e("./node_modules/core-js/modules/es.object.entries.js"),w=e("./node_modules/core-js/modules/es.string.includes.js"),et=e("./node_modules/core-js/modules/es.string.starts-with.js"),X=e("./node_modules/@babel/runtime/helpers/typeof.js"),ae=e.n(X),r=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),S=e.n(r),ct=e("./node_modules/react/index.js"),G=e.n(ct),V=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),it=e("./node_modules/antd/es/input/index.js"),ze=e("./node_modules/antd/es/dropdown/index.js"),Oe=e("./node_modules/antd/es/menu/index.js"),J=e("./node_modules/antd/es/popconfirm/index.js"),D=e("./frontend/src/lib/utils.tsx"),k=e("./frontend/src/lib/components/icons.tsx"),Ye=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),fe=e.n(Ye),De=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss"),Ke=e.n(De),Z={};Z.insert="head",Z.singleton=!1;var Qe=fe()(Ke.a,Z),Ce=Ke.a.locals||{},Me=e("./frontend/src/lib/components/LemonTable/index.ts"),Ft=e("./frontend/src/lib/components/CopyToClipboard.tsx"),_e=e("./node_modules/kea/lib/index.esm.js"),Ot=e("./frontend/src/models/propertyDefinitionsModel.ts"),R=e("./frontend/src/lib/components/LemonButton/index.ts"),xt=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ye=e.n(xt),$t=e("./node_modules/antd/es/button/index.js"),o=e("./node_modules/antd/es/radio/index.js"),Jt=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),Mt=e("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Lt=e("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),_=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Gt=e("./node_modules/@ant-design/icons/es/icons/StopOutlined.js"),ut=e("./node_modules/antd/lib/modal/Modal.js"),Zt=e.n(ut);function Tt(le,Te){var Fe=Object.keys(le);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(le);Te&&(ge=ge.filter(function(St){return Object.getOwnPropertyDescriptor(le,St).enumerable})),Fe.push.apply(Fe,ge)}return Fe}function vt(le){for(var Te=1;Te<arguments.length;Te++){var Fe=arguments[Te]!=null?arguments[Te]:{};Te%2?Tt(Object(Fe),!0).forEach(function(ge){ye()(le,ge,Fe[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(Fe)):Tt(Object(Fe)).forEach(function(ge){Object.defineProperty(le,ge,Object.getOwnPropertyDescriptor(Fe,ge))})}return le}function Ut(le){var Te=le.editProperty,Fe={creating:!1,propertyType:"string"},ge=Object(ct.useState)(Fe),St=S()(ge,2),te=St[0],Ne=St[1],Ct=function(){te.key&&te.value!==void 0&&(Te(te.key,te.value),Ne(Fe))};return G.a.createElement(G.a.Fragment,null,G.a.createElement("div",{className:"mb"},G.a.createElement("div",{className:"text-right"},G.a.createElement($t.a,{"data-attr":"add-prop-button",onClick:function(){return Ne(vt(vt({},te),{},{creating:!0}))},type:"primary",icon:G.a.createElement(Jt.a,null)},"New property"))),G.a.createElement(Zt.a,{visible:te.creating,destroyOnClose:!0,onCancel:function(){return Ne(Fe)},title:"Adding new property",okText:G.a.createElement(G.a.Fragment,null,G.a.createElement(Mt.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!te.key||te.value===void 0},onOk:Ct},G.a.createElement("div",{className:"input-set"},G.a.createElement("label",{htmlFor:"propertyKey"},"Key"),G.a.createElement(it.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function(me){return Ne(vt(vt({},te),{},{key:me.target.value}))}})),G.a.createElement("div",{className:"input-set"},G.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),G.a.createElement("div",null,G.a.createElement(o.a.Group,{value:te.propertyType,onChange:function(me){return Ne(vt(vt({},te),{},{propertyType:me.target.value,value:me.target.value==="string"?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},G.a.createElement(o.a.Button,{value:"string"},"Text or Number"),G.a.createElement(o.a.Button,{value:"boolean"},"Boolean or Null")))),G.a.createElement("div",{className:"input-set"},G.a.createElement("label",{htmlFor:"propertyValue"},"Value"),te.propertyType==="boolean"?G.a.createElement("div",null,G.a.createElement(o.a.Group,{value:te.value,onChange:function(me){return Ne(vt(vt({},te),{},{value:me.target.value}))},id:"propertyValue",buttonStyle:"solid"},G.a.createElement(o.a.Button,{value:"true",defaultChecked:!0},G.a.createElement(Lt.a,null)," True"),G.a.createElement(o.a.Button,{value:"false"},G.a.createElement(_.a,null)," False"),G.a.createElement(o.a.Button,{value:"null"},G.a.createElement(Gt.a,null)," Null"))):G.a.createElement(it.a,{placeholder:"try email@example.com, gold, 1",onChange:function(me){return Ne(vt(vt({},te),{},{value:me.target.value}))},id:"propertyValue",onKeyDown:function(me){return me.key==="Enter"&&Ct()}}))))}try{Ut.displayName="NewPropertyComponent",Ut.__docgenInfo={description:"",displayName:"NewPropertyComponent",props:{editProperty:{defaultValue:null,description:"",name:"editProperty",required:!0,type:{name:"(key: string, newValue?: string | number | boolean | null | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"]={docgenInfo:Ut.__docgenInfo,name:"NewPropertyComponent",path:"frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"})}catch(le){}function q(le){var Te=le.value,Fe=le.onChange;return G.a.createElement(it.a,{defaultValue:Te,autoFocus:!0,onBlur:function(){return Fe(null,!1)},onPressEnter:function(St){return Fe(St.target.value,!0)}})}function Ie(le){var Te=le.value,Fe=le.rootKey,ge=le.onEdit,St=le.nestingLevel,te=Object(_e.useValues)(Ot.a),Ne=te.describeProperty,Ct=Object(ct.useState)(!1),be=S()(Ct,2),me=be[0],ce=be[1],Le=Fe&&!V.g.includes(Fe)&&(!St||St<=1)&&ge,ot=["string","number","bigint"],Rt=["boolean","null"],wt;Fe&&(wt=Ne(Fe));var It=Te===null?"null":ae()(Te),we=Te===null?"null":String(Te),qe=function(Ze,lt){ce(!1),Fe!==void 0&&lt&&ge&&Ze!=Te&&ge(Fe,Ze,Te)},gt=G.a.createElement("span",{className:Le?"editable ph-no-capture":"ph-no-capture",onClick:function(){return Le&&ot.includes(It)&&ce(!0)}},Object(D.eb)(Te)?G.a.createElement("a",{href:Te,target:"_blank",rel:"noopener noreferrer",className:"value-link"},G.a.createElement("span",null,we),G.a.createElement(k.IconOpenInNew,null)):we);return G.a.createElement("div",{className:"properties-table-value"},me?G.a.createElement(q,{value:Te,onChange:qe}):G.a.createElement(G.a.Fragment,null,Le&&Rt.includes(It)?G.a.createElement(ze.a,{overlay:G.a.createElement(Oe.a,{onClick:function(Ze){var lt=Ze.key,dt=null;lt==="t"?dt=!0:lt==="f"&&(dt=!1),qe(dt,!0)}},G.a.createElement(Oe.a.Item,{key:"t"},"true"),G.a.createElement(Oe.a.Item,{key:"f"},"false"),G.a.createElement(Oe.a.Item,{key:"n",danger:!0},"null"))},gt):G.a.createElement(Ft.a,{description:"property value",explicitValue:we,selectable:!0,isValueSensitive:!0},gt),G.a.createElement("div",{className:"property-value-type"},wt||It)))}function ke(le){var Te=le.properties,Fe=le.rootKey,ge=le.onEdit,St=le.sortProperties,te=St===void 0?!1:St,Ne=le.searchable,Ct=Ne===void 0?!1:Ne,be=le.embedded,me=be===void 0?!0:be,ce=le.nestingLevel,Le=ce===void 0?0:ce,ot=le.onDelete,Rt=le.className,wt=Object(ct.useState)(""),It=S()(wt,2),we=It[0],qe=It[1],gt=Object(ct.useMemo)(function(){if(!(Te instanceof Object))return[];var Ze=Object.entries(Te);if(we){var lt=we.toLowerCase();Ze=Ze.filter(function(dt){var ie=S()(dt,2),B=ie[0],ht=ie[1];return B.toLowerCase().includes(lt)||JSON.stringify(ht).toLowerCase().includes(lt)})}return te&&Ze.sort(function(dt,ie){var B=S()(dt,1),ht=B[0],mt=S()(ie,1),an=mt[0];return ht[0]==="$"&&an[0]!=="$"?1:ht[0]!=="$"&&an[0]==="$"||ht.toLowerCase()<an.toLowerCase()?-1:1}),Ze},[Te,te,we]);if(Array.isArray(Te))return G.a.createElement("div",null,Te.length?Te.map(function(Ze,lt){return G.a.createElement(ke,{key:lt,properties:Ze,nestingLevel:Le+1})}):G.a.createElement("div",{className:"property-value-type"},"ARRAY (EMPTY)"));var tt=[{key:"key",title:"Key",width:"20rem",render:function(lt,dt){return G.a.createElement("div",{className:"properties-table-key"},G.a.createElement(V.b,{value:dt[0]}))},sorter:function(lt,dt){return String(lt[0]).localeCompare(String(dt[0]))}},{key:"value",title:"Value",render:function(lt,dt){return G.a.createElement(ke,{properties:dt[1],rootKey:dt[0],onEdit:ge,nestingLevel:Le+1})}}];return ot&&Le===0&&tt.push({key:"delete",title:"",width:0,render:function(lt,dt){return!V.g.includes(dt[0])&&!String(dt[0]).startsWith("$initial_")&&G.a.createElement(J.a,{onConfirm:function(){return ot(dt[0])},okButtonProps:{danger:!0},okText:"Delete",title:G.a.createElement(G.a.Fragment,null,"Are you sure you want to delete property ",G.a.createElement("code",null,dt[0]),"?"," ",G.a.createElement("b",null,"This cannot be undone.")),placement:"left"},G.a.createElement(R.a,{icon:G.a.createElement(k.IconDeleteForever,null),status:"danger",compact:!0}))}}),Te instanceof Object?G.a.createElement(G.a.Fragment,null,Ct&&G.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"}},G.a.createElement(it.a.Search,{placeholder:"Search for property keys and values",className:"mb",allowClear:!0,enterButton:!0,style:{maxWidth:400,width:"initial",flexGrow:1},value:we,onChange:function(lt){qe(lt.target.value)}}),ge&&G.a.createElement(Ut,{editProperty:ge})),G.a.createElement(Me.a,{columns:tt,showHeader:!me,size:"small",rowKey:"0",embedded:me,dataSource:gt,className:Rt,emptyState:"This property value is an empty object."})):G.a.createElement(Ie,{value:Te,rootKey:Fe,onEdit:ge,nestingLevel:Le})}try{ke.displayName="PropertiesTable",ke.__docgenInfo={description:"",displayName:"PropertiesTable",props:{properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"any"}},sortProperties:{defaultValue:{value:"false"},description:"",name:"sortProperties",required:!1,type:{name:"boolean"}},searchable:{defaultValue:{value:"false"},description:"",name:"searchable",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"true"},description:"Whether this table should be style for being embedded. Default: true.",name:"embedded",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((key: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rootKey:{defaultValue:null,description:"",name:"rootKey",required:!1,type:{name:"string"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((key: string, newValue: any, oldValue?: any) => void)"}},nestingLevel:{defaultValue:{value:"0"},description:"",name:"nestingLevel",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"]={docgenInfo:ke.__docgenInfo,name:"PropertiesTable",path:"frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"})}catch(le){}},"./frontend/src/lib/components/ResizableTable/TableConfig.tsx":function(Pe,z,e){"use strict";e.d(z,"b",function(){return Tt}),e.d(z,"a",function(){return vt});var ne=e("./node_modules/core-js/modules/es.array.includes.js"),u=e("./node_modules/core-js/modules/es.string.includes.js"),$e=e("./node_modules/antd/es/button/index.js"),Xe=e("./node_modules/antd/es/row/index.js"),w=e("./node_modules/antd/es/space/index.js"),et=e("./node_modules/antd/es/col/index.js"),X=e("./node_modules/react/index.js"),ae=e.n(X),r=e("./node_modules/@ant-design/icons/es/icons/ControlOutlined.js"),S=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),ct=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),G=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),V=e.n(G),it=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),ze=e.n(it),Oe={};Oe.insert="head",Oe.singleton=!1;var J=V()(ze.a,Oe),D=ze.a.locals||{},k=e("./node_modules/kea/lib/index.esm.js"),Ye=e("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),fe=e("./node_modules/antd/lib/modal/Modal.js"),De=e.n(fe),Ke=e("./node_modules/react-virtualized/dist/es/List/index.js"),Z=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Qe=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ce=e("./node_modules/clsx/dist/clsx.m.js"),Me=e("./frontend/src/lib/components/Tooltip.tsx"),Ft=e("./node_modules/core-js/modules/es.array.concat.js"),_e=e("./node_modules/core-js/modules/es.array.filter.js"),Ot=e("./node_modules/core-js/modules/es.array.from.js"),R=e("./node_modules/core-js/modules/es.array.iterator.js"),xt=e("./node_modules/core-js/modules/es.object.to-string.js"),ye=e("./node_modules/core-js/modules/es.set.js"),$t=e("./node_modules/core-js/modules/es.string.iterator.js"),o=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Jt=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Mt=e.n(Jt),Lt=Object(k.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},actions:{selectColumn:function(Ie){return{column:Ie}},unselectColumn:function(Ie){return{column:Ie}},resetColumns:function(Ie){return{columns:Ie}},save:!0},reducers:function(Ie){var ke=Ie.props;return{selectedColumns:[ke.selectedColumns,{selectColumn:function(Te,Fe){var ge=Fe.column;return Array.from(new Set([].concat(Mt()(Te),[ge])))},unselectColumn:function(Te,Fe){var ge=Fe.column;return Te.filter(function(St){return St!==ge})},resetColumns:function(Te,Fe){var ge=Fe.columns;return ge}}]}},listeners:function(Ie){var ke=Ie.values;return{save:function(){Ye.a.actions.setSelectedColumns(ke.selectedColumns)}}}}),_=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),Gt=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ut=e("./frontend/src/lib/components/LemonButton/index.ts"),Zt=e("./frontend/src/lib/components/icons.tsx");function Tt(q){var Ie=Object(k.useActions)(Ye.a),ke=Ie.showModal;return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement($e.a,{"data-attr":"events-table-column-selector",onClick:ke,icon:ae.a.createElement(r.a,{rotate:90})},"Customize columns"),ae.a.createElement(Ut,{immutableColumns:q.immutableColumns,defaultColumns:q.defaultColumns}))}function vt(q){var Ie=Object(k.useActions)(Ye.a),ke=Ie.showModal;return ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(ut.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:ke,icon:ae.a.createElement(Zt.IconTuning,{style:{color:"var(--primary)"}})},"Customize columns"),ae.a.createElement(Ut,{immutableColumns:q.immutableColumns,defaultColumns:q.defaultColumns}))}function Ut(q){var Ie=q.immutableColumns,ke=q.defaultColumns,le=36,Te=32,Fe=Object(k.useValues)(Ye.a),ge=Fe.selectedColumns,St=Fe.modalVisible,te=Object(k.useActions)(Ye.a),Ne=te.hideModal,Ct=Lt({selectedColumns:ge==="DEFAULT"?ke:ge}),be=Object(k.useActions)(Ct),me=be.selectColumn,ce=be.unselectColumn,Le=be.resetColumns,ot=be.save,Rt=Object(k.useValues)(Ct),wt=Rt.selectedColumns;function It(we){var qe=we.index,gt=we.style,tt=we.key,Ze=Ie==null?void 0:Ie.includes(wt[qe]);return ae.a.createElement("div",{style:gt,key:tt,onClick:function(){return!Ze&&ce(wt[qe])}},ae.a.createElement("div",{className:Object(Ce.a)(["column-display-item",{selected:!Ze,disabled:Ze}]),style:{height:"".concat(Te,"px")}},ae.a.createElement(Qe.b,{value:wt[qe]}),ae.a.createElement("div",{className:"text-right",style:{flex:1}},ae.a.createElement(Me.a,{title:Ze?"Reserved":"Remove"},Ze?ae.a.createElement(S.a,null):ae.a.createElement(ct.a,{style:{color:"var(--danger)"}})))))}return ae.a.createElement(De.a,{centered:!0,visible:St,title:"Customize columns",onOk:ot,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:Ne,footer:ae.a.createElement(Xe.a,null,ae.a.createElement(w.b,{style:{flexGrow:1},align:"start"},ae.a.createElement($e.a,{className:"text-blue",onClick:function(){return Le(ke)}},"Reset to default")),ae.a.createElement(w.b,null,ae.a.createElement($e.a,{className:"text-blue",type:"text",onClick:Ne},"Cancel"),ae.a.createElement($e.a,{type:"primary",onClick:ot},"Save")))},ae.a.createElement(Xe.a,{gutter:16,className:"mt"},ae.a.createElement(et.a,{xs:24,sm:12},ae.a.createElement("h3",{className:"l3"},"Available columns"),ae.a.createElement("div",{style:{height:320}},ae.a.createElement(Z.a,null,function(we){var qe=we.height,gt=we.width;return ae.a.createElement(_.a,{height:qe,width:gt,taxonomicGroupTypes:[Gt.a.EventProperties],value:void 0,onChange:function(Ze,lt){return lt&&me(String(lt))},popoverEnabled:!1,selectFirstItem:!1})}))),ae.a.createElement(et.a,{xs:24,sm:12},ae.a.createElement("h3",{className:"l3"},"Visible columns (",wt.length,")"),ae.a.createElement("div",{style:{height:320}},ae.a.createElement(Z.a,null,function(we){var qe=we.height,gt=we.width;return ae.a.createElement(Ke.b,{height:qe,rowCount:wt.length,rowRenderer:It,rowHeight:le,width:gt})})))))}try{Tt.displayName="TableConfig",Tt.__docgenInfo={description:`A scene that contains a ResizableTable with many possible columns
can use this to let the user choose which columns they see`,displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"]={docgenInfo:Tt.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"})}catch(q){}try{vt.displayName="LemonTableConfig",vt.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:vt.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(q){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return _}),e.d(z,"b",function(){return Gt});var ne=e("./node_modules/core-js/modules/es.array.for-each.js"),u=e("./node_modules/core-js/modules/es.array.from.js"),$e=e("./node_modules/core-js/modules/es.array.map.js"),Xe=e("./node_modules/core-js/modules/es.array.reduce.js"),w=e("./node_modules/core-js/modules/es.array.slice.js"),et=e("./node_modules/core-js/modules/es.number.constructor.js"),X=e("./node_modules/core-js/modules/es.string.iterator.js"),ae=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r=e("./node_modules/@babel/runtime/helpers/extends.js"),S=e.n(r),ct=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),G=e.n(ct),V=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),it=e.n(V),ze=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Oe=e.n(ze),J=e("./node_modules/react/index.js"),D=e.n(J),k=e("./node_modules/antd/es/table/index.js"),Ye=e("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),fe=e("./frontend/src/lib/utils/responsiveUtils.tsx"),De=e("./node_modules/react-resizable/index.js");function Ke(ut){var Zt=ut.children,Tt=ut.onResize,vt=ut.initialWidth,Ut=ut.height,q=ut.minConstraints,Ie=ut.maxConstraints,ke=D.a.createElement("div",{className:"inner-wrapper"},D.a.createElement("div",{className:"inner-text"},Zt)),le=Object(J.useState)(vt),Te=it()(le,2),Fe=Te[0],ge=Te[1],St=Object(J.useState)(!1),te=it()(St,2),Ne=te[0],Ct=te[1],be=function(ce,Le){ge(Le.size.width),Tt(ce,Le)};return D.a.createElement("div",{className:"react-resizable-wrapper"},D.a.createElement(De.ResizableBox,{width:Fe,height:Ut,minConstraints:q,maxConstraints:Ie,axis:"x",handle:D.a.createElement("span",{className:"resizable-handle","data-drag-active":Ne}),onResize:be,onResizeStart:function(ce){ce.preventDefault(),Ct(!0)},onResizeStop:function(){Ct(!1)},draggableOpts:{enableUserSelectHack:!0}},ke))}function Z(ut){var Zt=ut.columns,Tt=ut.handleResize,vt=ut.layoutEffect,Ut=ut.minColumnWidth,q=ut.expandable,Ie=60;return Object(J.useLayoutEffect)(function(){return typeof vt=="function"?vt():void 0}),D.a.createElement("div",{className:"resizable-virtual-table-header"},!!q&&D.a.createElement("div",{className:"left-spacer",style:{width:(q==null?void 0:q.columnWidth)||_}}),Zt.map(function(ke,le){var Te=ke.title,Fe=ke.width,ge=ke.widthConstraints,St=ge!=null&&ge.length?ge[0]:Ut,te=ge!=null&&ge.length?ge[1]:1/0;return D.a.createElement(Ke,{key:le,initialWidth:Fe!=null?Fe:St,height:Ie,onResize:Tt(le),minConstraints:[St,Ie],maxConstraints:[te,Ie]},Te)}))}var Qe=D.a.memo(Z);try{Z.displayName="VirtualTableHeader",Z.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:Z.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(ut){}var Ce=e("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),Me=e("./frontend/src/lib/hooks/useWindowSize.js"),Ft=function(){var Zt=Object(Me.a)(),Tt=Zt.width,vt=Object(J.useState)(fe.a),Ut=it()(vt,2),q=Ut[0],Ie=Ut[1];return Object(J.useEffect)(function(){Ie(fe.a)},[Tt]),q},_e=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ot=e.n(_e),R=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),xt=e.n(R),ye={};ye.insert="head",ye.singleton=!1;var $t=Ot()(xt.a,ye),o=xt.a.locals||{};function Jt(ut,Zt){var Tt=Object.keys(ut);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(ut);Zt&&(vt=vt.filter(function(Ut){return Object.getOwnPropertyDescriptor(ut,Ut).enumerable})),Tt.push.apply(Tt,vt)}return Tt}function Mt(ut){for(var Zt=1;Zt<arguments.length;Zt++){var Tt=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?Jt(Object(Tt),!0).forEach(function(vt){G()(ut,vt,Tt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(Tt)):Jt(Object(Tt)).forEach(function(vt){Object.defineProperty(ut,vt,Object.getOwnPropertyDescriptor(Tt,vt))})}return ut}var Lt=Ce.b,_=48;function Gt(ut){var Zt=ut.columns,Tt=Zt===void 0?[]:Zt,vt=ut.components,Ut=Oe()(ut,["columns","components"]),q=Ft(),Ie=Object(fe.d)(q),ke=Object(J.useState)(function(){var ie=Tt.length;return Tt.map(function(B,ht){return Mt(Mt({},B),{},{width:ht===ie?void 0:Ie})})}),le=it()(ke,2),Te=le[0],Fe=le[1],ge=Object(J.useState)(Te),St=it()(ge,2),te=St[0],Ne=St[1],Ct=Object(J.useState)(!1),be=it()(Ct,2),me=be[0],ce=be[1],Le=Object(J.useRef)(null),ot=Object(J.useRef)(null),Rt=Object(J.useRef)();function wt(ie){var B;if(ie){var ht;return ot==null||(ht=ot.current)===null||ht===void 0?void 0:ht.classList.add("scrollable-right")}return ot==null||(B=ot.current)===null||B===void 0?void 0:B.classList.remove("scrollable-right")}function It(){if(ot.current){var ie=ot.current;ie.offsetWidth+ie.scrollLeft<ie.scrollWidth?wt(!0):wt(!1)}}function we(){var ie,B=(ie=Le.current)===null||ie===void 0?void 0:ie.querySelectorAll(".ant-table-content colgroup col");if(B){var ht=Array.from(B);return ht.map(function(mt){return mt.style.width?Object(fe.e)(mt.style.width):void 0})}return[]}function qe(ie,B){var ht,mt=(ht=Le.current)===null||ht===void 0?void 0:ht.querySelector(".ant-table-content colgroup col:nth-child(".concat(ie+1+Number(!!Ut.expandable),"):not(:last-child)"));mt==null||mt.setAttribute("style","width: ".concat(B,"px;"))}function gt(){var ie,B=(ie=Le.current)===null||ie===void 0?void 0:ie.querySelector(".ant-table-content colgroup col:last-child");B==null||B.removeAttribute("style")}function tt(){var ie,B=(ie=Le.current)===null||ie===void 0?void 0:ie.querySelector(".resizable-virtual-table-header");if(B!=null&&B.childNodes){var ht=Array.from(B==null?void 0:B.childNodes),mt=ht.reduce(function(rn,yn){var Vt=yn.offsetWidth;return rn+(Vt!=null?Vt:0)},0);if(mt){var an,qt=(an=Le.current)===null||an===void 0?void 0:an.querySelector(".ant-table table");qt==null||qt.setAttribute("style","width: ".concat(mt,"px;"))}}gt()}var Ze=function(B){return function(ht,mt){var an=mt.size.width;Rt.current&&cancelAnimationFrame(Rt.current),Rt.current=requestAnimationFrame(function(){qe(B,an),tt()}),It()}};function lt(ie){var B,ht=(B=Le.current)===null||B===void 0?void 0:B.querySelector(".ant-table table"),mt=ht==null?void 0:ht.clientWidth;if(!(!mt||mt===ie)){Rt.current&&cancelAnimationFrame(Rt.current);var an=ie/mt,qt=we();Rt.current=requestAnimationFrame(function(){ce(!1),Ne(function(rn){var yn=Tt.length-1,Vt=rn.map(function(un,cn){var fn;return cn===yn?un:Mt(Mt({},un),{},{width:Math.max(((fn=qt[cn+Number(!!Ut.expandable)])!==null&&fn!==void 0?fn:0)*an,Ie)})});return Vt.slice(0,yn).forEach(function(un,cn){var fn;qe(cn,(fn=un.width)!==null&&fn!==void 0?fn:Ie)}),tt(),Vt}),ce(!0)})}}var dt=new Ye.a(function(ie){ie.forEach(function(B){var ht=B.contentRect.width;return lt(ht)})});return Object(J.useEffect)(function(){Fe(function(ie){var B=ie.length;return ie.map(function(ht,mt){return mt===B?ht:Mt(Mt({},ht),{},{render:Tt[mt].render})})})},[Tt]),Object(J.useLayoutEffect)(function(){if(Le.current){dt.observe(Le.current);var ie=Le.current.clientWidth,B=Te.reduce(function(mt,an){var qt=an.span;return mt+qt},0),ht=Object(fe.c)(ie,B);Fe(function(mt){var an=mt.length,qt=mt.map(function(rn,yn){return yn===an?rn:Mt(Mt({},rn),{},{width:Math.max(rn.defaultWidth||ht*rn.span,Ie)})});return Ne(qt),qt}),It(),ce(!0)}},[]),D.a.createElement("div",{ref:Le,className:"resizable-table-scroll-container",onScroll:It},D.a.createElement("div",{ref:ot,className:"table-gradient-overlay"},me&&D.a.createElement(Qe,{columns:te,handleResize:Ze,layoutEffect:tt,minColumnWidth:Ie,expandable:Ut.expandable}),D.a.createElement(k.a,S()({columns:Te,components:Mt(Mt({},vt),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},Ut))))}try{Gt.displayName="ResizableTable",Gt.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:Gt.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(ut){}try{Lt.displayName="TableConfig",Lt.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:Lt.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(ut){}},"./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Ye});var ne=e("./node_modules/core-js/modules/es.array.every.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.array.includes.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/es.array.iterator.js"),et=e.n(w),X=e("./node_modules/core-js/modules/es.object.to-string.js"),ae=e.n(X),r=e("./node_modules/core-js/modules/es.string.includes.js"),S=e.n(r),ct=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),G=e.n(ct),V=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),it=e.n(V),ze=e("./node_modules/kea/lib/index.esm.js"),Oe=e("./node_modules/kea-router/lib/index.js"),J=e.n(Oe);function D(fe,De){var Ke=Object.keys(fe);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(fe);De&&(Z=Z.filter(function(Qe){return Object.getOwnPropertyDescriptor(fe,Qe).enumerable})),Ke.push.apply(Ke,Z)}return Ke}function k(fe){for(var De=1;De<arguments.length;De++){var Ke=arguments[De]!=null?arguments[De]:{};De%2?D(Object(Ke),!0).forEach(function(Z){it()(fe,Z,Ke[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(Ke)):D(Object(Ke)).forEach(function(Z){Object.defineProperty(fe,Z,Object.getOwnPropertyDescriptor(Ke,Z))})}return fe}var Ye=Object(ze.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],actions:{showModal:!0,hideModal:!1,setSelectedColumns:function(De){return{columnConfig:De}}},reducers:function(){return{selectedColumns:["DEFAULT",{setSelectedColumns:function(Ke,Z){var Qe=Z.columnConfig;return Qe}}],modalVisible:[!1,{showModal:function(){return!0},save:function(){return!1},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(fe){return[fe.selectedColumns]},function(fe){return fe==="DEFAULT"?7:fe.length+1}]},urlToAction:function(De){var Ke=De.actions,Z=De.values;return{"*":function(Ce,Me){var Ft=Me.tableColumns;if(!(!Ft||!Array.isArray(Ft)||Ft.length===0)){var _e=Z.selectedColumns,Ot=Ft.length===_e.length&&Ft.every(function(R){return _e.includes(R)});(_e==="DEFAULT"||!Ot)&&Ke.setSelectedColumns(Ft)}}}},actionToUrl:function(De){var Ke=De.values;return{setSelectedColumns:function(){return[Oe.router.values.location.pathname,k(k({},Oe.router.values.searchParams),{},{tableColumns:Ke.selectedColumns}),Oe.router.values.hashParams,{replace:!0}]}}}})},"./frontend/src/lib/hooks/useWindowSize.js":function(Pe,z,e){"use strict";e.d(z,"a",function(){return X});var ne=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=e.n(ne),$e=e("./node_modules/@babel/runtime/helpers/typeof.js"),Xe=e.n($e),w=e("./node_modules/react/index.js"),et=e.n(w);function X(){var ae=(typeof window=="undefined"?"undefined":Xe()(window))==="object";function r(){return{width:ae?window.innerWidth:void 0,height:ae?window.innerHeight:void 0}}var S=Object(w.useState)(r),ct=u()(S,2),G=ct[0],V=ct[1];return Object(w.useEffect)(function(){if(!ae)return!1;function it(){V(r())}return window.addEventListener("resize",it),function(){return window.removeEventListener("resize",it)}},[]),G}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return G});var ne=e("./node_modules/core-js/modules/es.array.includes.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.string.includes.js"),Xe=e.n($e),w=e("./node_modules/react/index.js"),et=e.n(w),X=e("./node_modules/kea/lib/index.esm.js"),ae=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),r=e("./node_modules/rc-select/es/index.js"),S=e("./frontend/src/lib/components/Link.tsx"),ct=e("./frontend/src/lib/introductions/groupsAccessLogic.ts");function G(V){var it=V.value,ze=Object(X.useValues)(ct.b),Oe=ze.groupsAccessStatus;return[ct.a.HasAccess,ct.a.HasGroupTypes,ct.a.NoAccess].includes(Oe)?et.a.createElement(r.default.Option,{key:"groups",value:it,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},et.a.createElement(ae.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",et.a.createElement(S.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{G.displayName="GroupsIntroductionOption",G.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:G.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(V){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(Pe,z,e){"use strict";e.d(z,"d",function(){return Z}),e.d(z,"c",function(){return Qe}),e.d(z,"e",function(){return Ce}),e.d(z,"a",function(){return Me}),e.d(z,"b",function(){return Ft});var ne=e("./node_modules/core-js/modules/es.array.filter.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.array.iterator.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/es.array.map.js"),et=e.n(w),X=e("./node_modules/core-js/modules/es.object.entries.js"),ae=e.n(X),r=e("./node_modules/core-js/modules/es.object.from-entries.js"),S=e.n(r),ct=e("./node_modules/core-js/modules/es.object.values.js"),G=e.n(ct),V=e("./node_modules/core-js/modules/es.regexp.exec.js"),it=e.n(V),ze=e("./node_modules/core-js/modules/es.string.replace.js"),Oe=e.n(ze),J=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),D=e.n(J),k=e("./node_modules/antd/lib/_util/responsiveObserve.js"),Ye=e.n(k),fe=e("./frontend/src/lib/components/ResizableTable/index.tsx"),De=Object.fromEntries(Object.entries(k.responsiveMap).map(function(_e){var Ot=D()(_e,2),R=Ot[0],xt=Ot[1];return[R,Ce(xt)]})),Ke=Object.values(De).sort(function(_e,Ot){return _e-Ot});function Z(_e){return _e<576?150:50}function Qe(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,R=_e-fe.a;return Math.floor(R/Ot)}function Ce(_e){return parseFloat(_e.replace(/[^\d.]/g,""))}function Me(){var _e=window.innerWidth,Ot=Ke.filter(function(R){return _e>=R}).pop();return Ot||Ke[0]}function Ft(_e){return De[_e]||-1}try{Z.displayName="getMinColumnWidth",Z.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:Z.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(_e){}try{Ce.displayName="parsePixelValue",Ce.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:Ce.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(_e){}try{Ft.displayName="getBreakpoint",Ft.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:Ft.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(_e){}},"./frontend/src/scenes/experiments/Experiment.tsx":function(Pe,z,e){"use strict";e.r(z),e.d(z,"scene",function(){return oa}),e.d(z,"Experiment_",function(){return ua}),e.d(z,"CodeLanguageSelect",function(){return ea});var ne=e("./node_modules/core-js/modules/es.symbol.js"),u=e("./node_modules/core-js/modules/es.symbol.description.js"),$e=e("./node_modules/core-js/modules/es.array.concat.js"),Xe=e("./node_modules/core-js/modules/es.array.filter.js"),w=e("./node_modules/core-js/modules/es.array.map.js"),et=e("./node_modules/core-js/modules/es.array.reduce.js"),X=e("./node_modules/core-js/modules/es.function.name.js"),ae=e("./node_modules/core-js/modules/es.number.constructor.js"),r=e("./node_modules/core-js/modules/es.number.to-fixed.js"),S=e("./node_modules/core-js/modules/es.object.keys.js"),ct=e("./node_modules/core-js/modules/es.object.to-string.js"),G=e("./node_modules/core-js/modules/es.regexp.to-string.js"),V=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),it=e.n(V),ze=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Oe=e.n(ze),J=e("./node_modules/antd/es/form/index.js"),D=e("./node_modules/antd/es/row/index.js"),k=e("./node_modules/antd/es/col/index.js"),Ye=e("./node_modules/antd/es/input/index.js"),fe=e("./node_modules/antd/es/tooltip/index.js"),De=e("./node_modules/antd/es/button/index.js"),Ke=e("./node_modules/antd/es/select/index.js"),Z=e("./node_modules/antd/es/card/index.js"),Qe=e("./node_modules/antd/es/tag/index.js"),Ce=e("./node_modules/antd/es/collapse/index.js"),Me=e("./node_modules/antd/es/skeleton/index.js"),Ft=e("./node_modules/antd/es/progress/index.js"),_e=e("./node_modules/kea/lib/index.esm.js"),Ot=e("./frontend/src/lib/components/PageHeader.tsx"),R=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),xt=e("./frontend/src/lib/components/PropertyFilters/utils.ts"),ye=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),$t=e("./node_modules/react/index.js"),o=e.n($t),Jt=e("./frontend/src/scenes/funnels/funnelLogic.ts"),Mt=e("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Lt=e("./frontend/src/scenes/insights/insightLogic.ts"),_=e("./frontend/src/types.ts"),Gt=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ut=e.n(Gt),Zt=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss"),Tt=e.n(Zt),vt={};vt.insert="head",vt.singleton=!1;var Ut=ut()(Tt.a,vt),q=Tt.a.locals||{},Ie=e("./node_modules/core-js/modules/es.array.fill.js"),ke=e("./node_modules/core-js/modules/es.array.find.js"),le=e("./node_modules/core-js/modules/es.array.find-index.js"),Te=e("./node_modules/core-js/modules/es.array.iterator.js"),Fe=e("./node_modules/core-js/modules/es.array.splice.js"),ge=e("./node_modules/core-js/modules/es.number.epsilon.js"),St=e("./node_modules/core-js/modules/es.object.values.js"),te=e("./node_modules/core-js/modules/es.promise.js"),Ne=e("./node_modules/core-js/modules/es.string.iterator.js"),Ct=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),be=e("./node_modules/@babel/runtime/regenerator/index.js"),me=e.n(be),ce=e("./node_modules/regenerator-runtime/runtime.js"),Le=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ot=e.n(Le),Rt=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),wt=e.n(Rt),It=e("./frontend/src/lib/api.ts"),we=e("./frontend/src/lib/dayjs.ts"),qe=e("./frontend/src/lib/utils.tsx"),gt=["furry","amusing","charming","tame","swift","clever","pleasant","tiny","wild","herbivorous","admirable","adorable","agile","beautiful","bossy","candid","cold","colorful","cuddly","curious","cute","energetic","fast","feisty","fierce","fluffy","friendly","fuzzy","grumpy","hairy","heavy","large","lazy","loud","lovable","loving","enchanted","maternal","sweet","messy","nocturnal","noisy","nosy","picky","playful","quick","sassy","scaly","short","shy","slow","small","smart","soft","strong","tall","tenacious","glorious","warm","cheerful","gracious"],tt=["aardvark","albatross","alligator","alpaca","ant","anteater","antelope","ape","armadillo","donkey","baboon","badger","barracuda","bat","bear","beaver","bee","bison","boar","buffalo","butterfly","camel","capybara","caribou","cassowary","cat","caterpillar","cattle","chamois","cheetah","chicken","chimpanzee","chinchilla","chough","clam","cobra","cockroach","cod","cormorant","coyote","crab","crane","crocodile","crow","curlew","deer","dinosaur","dog","dogfish","dolphin","dotterel","dove","dragonfly","duck","dugong","dunlin","eagle","echidna","eel","eland","elephant","elk","emu","falcon","ferret","finch","firefox","fish","flamingo","fly","fox","frog","gaur","gazelle","gerbil","giraffe","gnat","gnu","goat","goldfinch","goldfish","goose","gorilla","goshawk","grasshopper","grouse","guanaco","gull","hamster","hare","hawk","hedgehog","heron","herring","hippopotamus","hornet","horse","human","hummingbird","hyena","ibex","ibis","jackal","jaguar","jay","jellyfish","kangaroo","kingfisher","koala","kookabura","kouprey","kudu","lapwing","lark","lemur","leopard","lion","llama","lobster","locust","loris","louse","lyrebird","magpie","mallard","manatee","mandrill","mantis","marten","meerkat","mink","mole","mongoose","monkey","moose","mosquito","mouse","mule","narwhal","newt","nightingale","octopus","okapi","opossum","oryx","ostrich","otter","owl","oyster","panther","parrot","partridge","peafowl","pelican","penguin","pheasant","pig","pigeon","pony","porcupine","porpoise","quail","quelea","quetzal","rabbit","raccoon","rail","ram","rat","raven","reindeer","rhinoceros","rook","salamander","salmon","sandpiper","sardine","scorpion","seahorse","seal","shark","sheep","shrew","skunk","snail","snake","sparrow","spider","spoonbill","squid","squirrel","starling","stingray","stinkbug","stork","swallow","swan","tapir","tarsier","termite","tiger","toad","trout","turkey","turtle","viper","vulture","wallaby","walrus","wasp","weasel","whale","wildcat","wolf","wolverine","wombat","woodcock","woodpecker","worm","wren","yak","zebra"];function Ze(){return"".concat(Object(qe.j)(Object(qe.ub)(gt))," ").concat(Object(qe.j)(Object(qe.ub)(tt)))}var lt=e("./frontend/src/scenes/insights/utils/cleanFilters.ts"),dt=e("./frontend/src/scenes/teamLogic.ts"),ie=e("./frontend/src/scenes/urls.ts"),B=e("./node_modules/kea-router/lib/index.js"),ht=e("./frontend/src/scenes/experiments/experimentsLogic.ts"),mt=e("./frontend/src/lib/constants.tsx"),an=e("./frontend/src/scenes/trends/trendsLogic.ts"),qt=e("./frontend/src/lib/utils/eventUsageLogic.ts"),rn=e("./frontend/src/scenes/userLogic.ts"),yn=e("./frontend/src/lib/components/Tooltip.tsx"),Vt=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),un=e("./frontend/src/models/groupsModel.ts"),cn=e("./frontend/src/lib/components/lemonToast.tsx");function fn(O,b){var P=Object.keys(O);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(O);b&&(N=N.filter(function(Y){return Object.getOwnPropertyDescriptor(O,Y).enumerable})),P.push.apply(P,N)}return P}function He(O){for(var b=1;b<arguments.length;b++){var P=arguments[b]!=null?arguments[b]:{};b%2?fn(Object(P),!0).forEach(function(N){it()(O,N,P[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(P)):fn(Object(P)).forEach(function(N){Object.defineProperty(O,N,Object.getOwnPropertyDescriptor(P,N))})}return O}var Tn=14,sn=Object(_e.kea)({props:{},key:function(b){return b.experimentId||"new"},path:function(b){return["scenes","experiment","experimentLogic",b]},connect:{values:[dt.a,["currentTeamId"],rn.a,["hasAvailableFeature"],un.a,["groupTypes","groupsTaxonomicTypes","aggregationLabel"]],actions:[ht.a,["updateExperiments","addToExperiments"]]},actions:{setExperiment:function(b){return{experiment:b}},createExperiment:function(b,P,N){return{draft:b,runningTime:P,sampleSize:N}},setExperimentInsightId:function(b){return{shortId:b}},createNewExperimentInsight:function(b){return{filters:b}},setFilters:function(b){return{filters:b}},setNewExperimentData:function(b){return{experimentData:b}},updateExperimentGroup:function(b,P){return{variant:b,idx:P}},removeExperimentGroup:function(b){return{idx:b}},setExperimentInsightType:function(b){return{insightType:b}},setEditExperiment:function(b){return{editing:b}},setSecondaryMetrics:function(b){return{secondaryMetrics:b}},resetNewExperiment:!0,launchExperiment:!0,endExperiment:!0,addExperimentGroup:!0,archiveExperiment:!0},reducers:{newExperimentData:[null,{setNewExperimentData:function(b,P){var N=P.experimentData;if(N.filters){var Y=He(He({},b==null?void 0:b.filters),N.filters);return He(He(He({},b),N),{},{filters:Y})}if(N.parameters){var ve=He(He({},b==null?void 0:b.parameters),N.parameters);return He(He(He({},b),N),{},{parameters:ve})}return He(He({},b),N)},updateExperimentGroup:function(b,P){var N,Y=P.variant,ve=P.idx,re=wt()((b==null||(N=b.parameters)===null||N===void 0?void 0:N.feature_flag_variants)||[]);return re[ve]=He(He({},re[ve]),Y),He(He({},b),{},{parameters:He(He({},b==null?void 0:b.parameters),{},{feature_flag_variants:re})})},addExperimentGroup:function(b){var P;if(!(b==null||(P=b.parameters)===null||P===void 0)&&P.feature_flag_variants){var N=Xn(b.parameters.feature_flag_variants.length+1),Y=b.parameters.feature_flag_variants.map(function(ve,re){return He(He({},ve),{},{rollout_percentage:N[re]})});return He(He({},b),{},{parameters:He(He({},b.parameters),{},{feature_flag_variants:[].concat(wt()(Y),[{key:"test_group_".concat(b.parameters.feature_flag_variants.length),rollout_percentage:N[N.length-1]}])})})}return b},removeExperimentGroup:function(b,P){var N,Y,ve=P.idx;if(!b)return b;var re=wt()(((N=b.parameters)===null||N===void 0?void 0:N.feature_flag_variants)||[]);re.splice(ve,1);var L=Xn(((b==null||(Y=b.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)||[]).length-1),pe=re.map(function($,rt){return He(He({},$),{},{rollout_percentage:L[rt]})});return He(He({},b),{},{parameters:He(He({},b.parameters),{},{feature_flag_variants:pe})})},setSecondaryMetrics:function(b,P){var N=P.secondaryMetrics,Y=N.map(function(ve){return ve});return He(He({},b),{},{secondary_metrics:Y})},resetNewExperiment:function(){return{parameters:{feature_flag_variants:[{key:"control",rollout_percentage:50},{key:"test",rollout_percentage:50}]}}}}],experimentInsightType:[_.s.TRENDS,{setExperimentInsightType:function(b,P){var N=P.insightType;return N}}],experimentInsightId:[null,{setExperimentInsightId:function(b,P){var N=P.shortId;return N}}],editingExistingExperiment:[!1,{setEditExperiment:function(b,P){var N=P.editing;return N}}]},listeners:function(b){var P=b.values,N=b.props,Y=b.actions;return{createExperiment:function(){var ve=ot()(me.a.mark(function L(pe){var $,rt,_t,en,st,at,Q,tn,xn,ta;return me.a.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(rt=pe.draft,_t=pe.runningTime,en=pe.sampleSize,st=null,at=!!N.experimentId&&N.experimentId!=="new",yt.prev=3,!at){yt.next=14;break}return yt.next=7,It.a.update("api/projects/".concat(P.currentTeamId,"/experiments/").concat(N.experimentId),He(He({},P.newExperimentData),{},{parameters:He(He({},(Q=P.newExperimentData)===null||Q===void 0?void 0:Q.parameters),{},{recommended_running_time:_t,recommended_sample_size:en})},!rt&&{start_date:Object(we.a)()}));case 7:if(st=yt.sent,!(!((tn=st)===null||tn===void 0)&&tn.id)){yt.next=12;break}return Y.updateExperiments(st),B.router.actions.push(ie.a.experiment(st.id)),yt.abrupt("return");case 12:yt.next=18;break;case 14:return yt.next=16,It.a.create("api/projects/".concat(P.currentTeamId,"/experiments"),He(He({},P.newExperimentData),{},{parameters:He(He({},(xn=P.newExperimentData)===null||xn===void 0?void 0:xn.parameters),{},{recommended_running_time:_t,recommended_sample_size:en})},!rt&&{start_date:Object(we.a)()}));case 16:st=yt.sent,st&&qt.f.actions.reportExperimentCreated(st);case 18:yt.next=24;break;case 20:return yt.prev=20,yt.t0=yt.catch(3),cn.a.error(yt.t0.detail||"Failed to create experiment"),yt.abrupt("return");case 24:!(($=st)===null||$===void 0)&&$.id&&(ta=st.id,B.router.actions.push(ie.a.experiment(ta)),Y.addToExperiments(st),cn.a.success("Experiment ".concat(at?"updated":"created"),{button:{label:"View it",action:function(){B.router.actions.push(ie.a.experiment(ta))}}}));case 25:case"end":return yt.stop()}},L,null,[[3,20]])}));function re(L){return ve.apply(this,arguments)}return re}(),createNewExperimentInsight:function(){var ve=ot()(me.a.mark(function L(pe){var $,rt,_t,en;return me.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return $=pe.filters,P.experimentInsightType===_.s.FUNNELS?rt=Object(lt.a)(He({insight:_.s.FUNNELS,funnel_viz_type:_.o.Steps,display:_.d.FunnelViz,date_from:Object(we.a)().subtract(Tn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(we.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:mt.p.horizontal},$)):rt=Object(lt.a)(He({insight:_.s.TRENDS,date_from:Object(we.a)().subtract(Tn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(we.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},$)),_t={name:Ze(),description:"",tags:[],filters:rt,result:null},at.next=5,It.a.create("api/projects/".concat(P.currentTeamId,"/insights"),_t);case 5:en=at.sent,Y.setExperimentInsightId(en.short_id),Y.setNewExperimentData({filters:He({},_t.filters)});case 8:case"end":return at.stop()}},L)}));function re(L){return ve.apply(this,arguments)}return re}(),setFilters:function(re){var L=re.filters;if(P.experimentInsightType===_.s.FUNNELS){var pe;(pe=Jt.a.findMounted({dashboardItemId:P.experimentInsightId}))===null||pe===void 0||pe.actions.setFilters(L)}else{var $;($=an.a.findMounted({dashboardItemId:P.experimentInsightId}))===null||$===void 0||$.actions.setFilters(L)}},loadExperimentSuccess:function(){var ve=ot()(me.a.mark(function L(pe){var $;return me.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:$=pe.experimentData,$&&qt.f.actions.reportExperimentViewed($),Y.setExperimentInsightType(($==null?void 0:$.filters.insight)||_.s.FUNNELS),$!=null&&$.start_date?(Y.resetNewExperiment(),Y.loadExperimentResults(),Y.loadSecondaryMetricResults()):(Y.setNewExperimentData(He({},$)),Y.createNewExperimentInsight($==null?void 0:$.filters));case 4:case"end":return _t.stop()}},L)}));function re(L){return ve.apply(this,arguments)}return re}(),launchExperiment:function(){var ve=ot()(me.a.mark(function L(){var pe;return me.a.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:pe=Object(we.a)(),Y.updateExperiment({start_date:pe.format("YYYY-MM-DDTHH:mm")}),P.experimentData&&qt.f.actions.reportExperimentLaunched(P.experimentData,pe);case 3:case"end":return rt.stop()}},L)}));function re(){return ve.apply(this,arguments)}return re}(),endExperiment:function(){var ve=ot()(me.a.mark(function L(){var pe,$,rt;return me.a.wrap(function(en){for(;;)switch(en.prev=en.next){case 0:$=Object(we.a)(),Y.updateExperiment({end_date:$.format("YYYY-MM-DDTHH:mm")}),rt=$.diff((pe=P.experimentData)===null||pe===void 0?void 0:pe.start_date,"second"),P.experimentData&&qt.f.actions.reportExperimentCompleted(P.experimentData,$,rt,P.areResultsSignificant);case 4:case"end":return en.stop()}},L)}));function re(){return ve.apply(this,arguments)}return re}(),archiveExperiment:function(){var ve=ot()(me.a.mark(function L(){return me.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:Y.updateExperiment({archived:!0}),P.experimentData&&qt.f.actions.reportExperimentArchived(P.experimentData);case 2:case"end":return $.stop()}},L)}));function re(){return ve.apply(this,arguments)}return re}(),setExperimentInsightType:function(){if(N.experimentId==="new"||P.editingExistingExperiment)Y.createNewExperimentInsight();else{var re;Y.createNewExperimentInsight((re=P.experimentData)===null||re===void 0?void 0:re.filters)}},updateExperimentSuccess:function(){var ve=ot()(me.a.mark(function L(pe){var $;return me.a.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:$=pe.experimentData,Y.updateExperiments($);case 2:case"end":return _t.stop()}},L)}));function re(L){return ve.apply(this,arguments)}return re}()}},loaders:function(b){var P=b.values,N=b.props;return{experimentData:[null,{loadExperiment:function(){var Y=ot()(me.a.mark(function re(){var L;return me.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!(N.experimentId&&N.experimentId!=="new")){$.next=16;break}return $.prev=1,$.next=4,It.a.get("api/projects/".concat(P.currentTeamId,"/experiments/").concat(N.experimentId));case 4:return L=$.sent,$.abrupt("return",L);case 8:if($.prev=8,$.t0=$.catch(1),$.t0.status!==404){$.next=14;break}B.router.actions.push(ie.a.experiments()),$.next=16;break;case 14:throw cn.a.error("Failed to load experiment ".concat(N.experimentId)),new Error("Failed to load experiment ".concat(N.experimentId));case 16:return $.abrupt("return",null);case 17:case"end":return $.stop()}},re,null,[[1,8]])}));function ve(){return Y.apply(this,arguments)}return ve}(),updateExperiment:function(){var Y=ot()(me.a.mark(function re(L){var pe;return me.a.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return rt.next=2,It.a.update("api/projects/".concat(P.currentTeamId,"/experiments/").concat(N.experimentId),L);case 2:return pe=rt.sent,rt.abrupt("return",pe);case 4:case"end":return rt.stop()}},re)}));function ve(re){return Y.apply(this,arguments)}return ve}()}],experimentResults:[null,{loadExperimentResults:function(){var Y=ot()(me.a.mark(function re(){var L;return me.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,$.next=3,It.a.get("api/projects/".concat(P.currentTeamId,"/experiments/").concat(N.experimentId,"/results"));case 3:return L=$.sent,$.abrupt("return",He(He({},L),{},{itemID:Math.random().toString(36).substring(2,15)}));case 7:if($.prev=7,$.t0=$.catch(0),$.t0.code!=="no_data"){$.next=11;break}return $.abrupt("return",null);case 11:return cn.a.error($.t0.detail||"Failed to load experiment results"),$.abrupt("return",null);case 13:case"end":return $.stop()}},re,null,[[0,7]])}));function ve(){return Y.apply(this,arguments)}return ve}()}],secondaryMetricResults:[null,{loadSecondaryMetricResults:function(){var Y=ot()(me.a.mark(function re(){var L;return me.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Promise.all((((L=P.experimentData)===null||L===void 0?void 0:L.secondary_metrics)||[]).map(function(){var rt=ot()(me.a.mark(function _t(en,st){var at;return me.a.wrap(function(tn){for(;;)switch(tn.prev=tn.next){case 0:return tn.prev=0,tn.next=3,It.a.get("api/projects/".concat(P.currentTeamId,"/experiments/").concat(N.experimentId,"/secondary_results?id=").concat(st));case 3:return at=tn.sent,tn.abrupt("return",at.result);case 7:return tn.prev=7,tn.t0=tn.catch(0),tn.abrupt("return",{});case 10:case"end":return tn.stop()}},_t,null,[[0,7]])}));return function(_t,en){return rt.apply(this,arguments)}}()));case 2:return $.abrupt("return",$.sent);case 3:case"end":return $.stop()}},re)}));function ve(){return Y.apply(this,arguments)}return ve}()}]}},selectors:{breadcrumbs:[function(O){return[O.experimentData,function(b,P){return P.experimentId}]},function(O,b){return[{name:"Experiments",path:ie.a.experiments()},{name:(O==null?void 0:O.name)||"New Experiment",path:ie.a.experiment(b||"new")}]}],variants:[function(O){return[O.newExperimentData,O.experimentData]},function(O,b){var P,N;if(b!=null&&b.start_date){var Y;return(b==null||(Y=b.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)||[]}return(O==null||(P=O.parameters)===null||P===void 0?void 0:P.feature_flag_variants)||(b==null||(N=b.parameters)===null||N===void 0?void 0:N.feature_flag_variants)||[]}],taxonomicGroupTypesForSelection:[function(O){return[O.newExperimentData,O.groupsTaxonomicTypes]},function(O,b){var P;return(O==null||(P=O.filters)===null||P===void 0?void 0:P.aggregation_group_type_index)!=null&&b.length>0?[b[O.filters.aggregation_group_type_index]]:[ye.a.PersonProperties,ye.a.Cohorts]}],parsedSecondaryMetrics:[function(O){return[O.newExperimentData,O.experimentData]},function(O,b){var P=(O==null?void 0:O.secondary_metrics)||(b==null?void 0:b.secondary_metrics)||[];return P}],minimumDetectableChange:[function(O){return[O.newExperimentData]},function(O){var b;return(O==null||(b=O.parameters)===null||b===void 0?void 0:b.minimum_detectable_effect)||5}],minimumSampleSizePerVariant:[function(O){return[O.minimumDetectableChange]},function(O){return function(b){return Math.ceil(1600*b*(1-b/100)/(O*O))}}],areResultsSignificant:[function(O){return[O.experimentResults]},function(O){return(O==null?void 0:O.significant)||!1}],significanceBannerDetails:[function(O){return[O.experimentResults]},function(O){if((O==null?void 0:O.significance_code)===_.E.HighLoss){var b;return o.a.createElement(o.a.Fragment,null,"This is because the expected loss in conversion is greater than 1%",o.a.createElement(yn.a,{placement:"right",title:o.a.createElement(o.a.Fragment,null,"Current value is ",(b=((O==null?void 0:O.expected_loss)||0)*100)===null||b===void 0?void 0:b.toFixed(2),"%")},o.a.createElement(Vt.a,{style:{padding:"4px 2px"}})),".")}if((O==null?void 0:O.significance_code)===_.E.HighPValue){var P;return o.a.createElement(o.a.Fragment,null,"This is because the p value is greater than 0.05",o.a.createElement(yn.a,{placement:"right",title:o.a.createElement(o.a.Fragment,null,"Current value is ",(O==null||(P=O.p_value)===null||P===void 0?void 0:P.toFixed(3))||1,".")},o.a.createElement(Vt.a,{style:{padding:"4px 2px"}})),".")}return(O==null?void 0:O.significance_code)===_.E.LowWinProbability?"This is because the win probability of all test variants combined is less than 90%.":(O==null?void 0:O.significance_code)===_.E.NotEnoughExposure?"This is because we need at least 100 people per variant to declare significance.":""}],recommendedExposureForCountData:[function(O){return[O.minimumDetectableChange]},function(O){return function(b){var P=b*O/100,N=b,Y=P+b;return parseFloat((4/Math.pow(Math.sqrt(N/Tn)-Math.sqrt(Y/Tn),2)).toFixed(1))}}],expectedRunningTime:[function(){return[]},function(){return function(O,b){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tn;return parseFloat((b/(O/P)).toFixed(1))}}],conversionRateForVariant:[function(O){return[O.experimentResults]},function(O){return function(b){var P="Can't find variant";if(!O)return P;var N=(O==null?void 0:O.insight).find(function(Y){var ve,re;return((ve=Y[0])===null||ve===void 0||(re=ve.breakdown_value)===null||re===void 0?void 0:re[0])===b});return N?(N[N.length-1].count/N[0].count*100).toFixed(1):P}}],getIndexForVariant:[function(O){return[O.experimentResults]},function(O){return function(b,P){if(!O)return 0;var N=-1;return P===_.s.FUNNELS?N=wt()(O==null?void 0:O.insight).sort(function(Y,ve){var re,L;return((re=ve[0])===null||re===void 0?void 0:re.count)-((L=Y[0])===null||L===void 0?void 0:L.count)}).findIndex(function(Y){var ve,re;return((ve=Y[0])===null||ve===void 0||(re=ve.breakdown_value)===null||re===void 0?void 0:re[0])===b}):N=(O==null?void 0:O.insight).findIndex(function(Y){return Y.breakdown_value===b}),N===-1?0:N}}],countDataForVariant:[function(O){return[O.experimentResults]},function(O){return function(b){var P="Can't find variant";if(!O)return P;var N=(O==null?void 0:O.insight).find(function(Y){return Y.breakdown_value===b});return N?N.count.toString():P}}],highestProbabilityVariant:[function(O){return[O.experimentResults]},function(O){if(O){var b=Math.max.apply(Math,wt()(Object.values(O.probability)));return Object.keys(O.probability).find(function(P){return Math.abs(O.probability[P]-b)<Number.EPSILON})}}],areTrendResultsConfusing:[function(O){return[O.experimentResults,O.highestProbabilityVariant]},function(O,b){if(!O)return!1;var P=(O==null?void 0:O.insight).reduce(function(N,Y){return Y.count>N.count?Y:N},{count:0,breakdown_value:""});return P.count?P.breakdown_value!==b:!1}]},urlToAction:function(b){var P=b.actions,N=b.values,Y=b.props;return{"/experiments/:id":function(re){var L=re.id;if(!N.hasAvailableFeature(_.c.EXPERIMENTATION)){B.router.actions.push("/experiments");return}if(L){var pe=L==="new"?"new":parseInt(L);pe==="new"&&(P.createNewExperimentInsight(),P.resetNewExperiment(),P.setSecondaryMetrics([])),P.setEditExperiment(!1),pe!=="new"&&pe===Y.experimentId&&P.loadExperiment()}}}}});function Xn(O){var b=Math.round(100/O),P=b*O,N=P-100,Y=new Array(O).fill(b);return Y[O-1]=b-N,Y}var Qn=e("./frontend/src/scenes/insights/InsightContainer.tsx"),on=e("./frontend/src/lib/components/icons.tsx"),Nn=e("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),Wn=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),vn=e("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),Sn=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Yt=e("./frontend/src/lib/components/CopyToClipboard.tsx"),_n=e("./frontend/src/scenes/funnels/funnelUtils.ts"),Zn=e("./node_modules/antd/es/modal/index.js"),zt=e("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js");function gn(O,b){var P=Object.keys(O);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(O);b&&(N=N.filter(function(Y){return Object.getOwnPropertyDescriptor(O,Y).enumerable})),P.push.apply(P,N)}return P}function pt(O){for(var b=1;b<arguments.length;b++){var P=arguments[b]!=null?arguments[b]:{};b%2?gn(Object(P),!0).forEach(function(N){it()(O,N,P[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(P)):gn(Object(P)).forEach(function(N){Object.defineProperty(O,N,Object.getOwnPropertyDescriptor(P,N))})}return O}var nt=14,Bt={name:"",filters:{insight:_.s.TRENDS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}]}},bn={name:"",filters:{insight:_.s.FUNNELS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}],layout:mt.p.horizontal}},Mn=Object(_e.kea)({props:{},path:["scenes","experiment","secondaryMetricsLogic"],connect:{values:[dt.a,["currentTeamId"]]},actions:{setSecondaryMetrics:function(b){return{secondaryMetrics:b}},createNewMetric:!0,addNewMetric:function(b){return{metric:b}},updateMetricFilters:function(b){return{filters:b}},setFilters:function(b){return{filters:b}},setPreviewInsightId:function(b){return{shortId:b}},createPreviewInsight:function(b){return{filters:b}},showModal:!0,hideModal:!1,changeInsightType:function(b){return{type:b}},setCurrentMetricName:function(b){return{name:b}},deleteMetric:function(b){return{metricId:b}}},loaders:function(b){var P=b.values;return{experiments:[[],{loadExperiments:function(){var N=ot()(me.a.mark(function ve(){var re;return me.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,It.a.get("api/projects/".concat(P.currentTeamId,"/experiments"));case 2:return re=pe.sent,pe.abrupt("return",re.results);case 4:case"end":return pe.stop()}},ve)}));function Y(){return N.apply(this,arguments)}return Y}()}]}},reducers:function(b){var P=b.props;return{previewInsightId:[null,{setPreviewInsightId:function(Y,ve){var re=ve.shortId;return re}}],metrics:[P.initialMetrics,{addNewMetric:function(Y,ve){var re=ve.metric;return[].concat(wt()(Y),[pt({},re)])},deleteMetric:function(Y,ve){var re=ve.metricId;return Y.filter(function(L,pe){return pe!==re})}}],modalVisible:[!1,{showModal:function(){return!0},hideModal:function(){return!1}}],currentMetricName:["",{setCurrentMetricName:function(Y,ve){var re=ve.name;return re}}],currentMetric:[Bt,{changeInsightType:function(Y,ve){var re=ve.type;return re===_.s.TRENDS?Bt:Y.filters.insight===_.s.TRENDS?bn:Bt},updateMetricFilters:function(Y,ve){var re=ve.filters;return pt(pt({},Y),{},{filters:re})}}]}},listeners:function(b){var P=b.actions,N=b.values,Y=b.props;return{createPreviewInsight:function(){var ve=ot()(me.a.mark(function L(pe){var $,rt,_t,en;return me.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:return $=pe.filters,($==null?void 0:$.insight)===_.s.FUNNELS?rt=Object(lt.a)(pt({insight:_.s.FUNNELS,funnel_viz_type:_.o.Steps,display:_.d.FunnelViz,date_from:Object(we.a)().subtract(nt,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(we.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:mt.p.horizontal},$)):rt=Object(lt.a)(pt({insight:_.s.TRENDS,date_from:Object(we.a)().subtract(nt,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(we.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},$)),_t={description:"",tags:[],filters:rt,result:null},at.next=5,It.a.create("api/projects/".concat(dt.a.values.currentTeamId,"/insights"),_t);case 5:en=at.sent,P.setPreviewInsightId(en.short_id);case 7:case"end":return at.stop()}},L)}));function re(L){return ve.apply(this,arguments)}return re}(),setFilters:function(re){var L=re.filters;if(L.insight===_.s.FUNNELS){var pe;(pe=Jt.a.findMounted({dashboardItemId:N.previewInsightId}))===null||pe===void 0||pe.actions.setFilters(L)}else{var $;($=an.a.findMounted({dashboardItemId:N.previewInsightId}))===null||$===void 0||$.actions.setFilters(L)}},createNewMetric:function(){P.addNewMetric(pt(pt({},N.currentMetric),{},{name:N.currentMetricName})),Y.onMetricsChange(N.metrics),P.changeInsightType(_.s.TRENDS),P.setCurrentMetricName("")},deleteMetric:function(){Y.onMetricsChange(N.metrics)},changeInsightType:function(){return P.createPreviewInsight(N.currentMetric.filters)}}},events:function(b){var P=b.actions;return{afterMount:function(){P.createPreviewInsight()}}}}),wn=e("./frontend/src/lib/components/LemonButton/index.ts"),Dn=e("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx");function Fn(O,b){var P=Object.keys(O);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(O);b&&(N=N.filter(function(Y){return Object.getOwnPropertyDescriptor(O,Y).enumerable})),P.push.apply(P,N)}return P}function mn(O){for(var b=1;b<arguments.length;b++){var P=arguments[b]!=null?arguments[b]:{};b%2?Fn(Object(P),!0).forEach(function(N){it()(O,N,P[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(P)):Fn(Object(P)).forEach(function(N){Object.defineProperty(O,N,Object.getOwnPropertyDescriptor(P,N))})}return O}function Jn(O){var b=O.onMetricsChange,P=O.initialMetrics,N=Mn({onMetricsChange:b,initialMetrics:P}),Y=Object(_e.useValues)(N),ve=Y.previewInsightId,re=Y.metrics,L=Y.modalVisible,pe=Y.currentMetric,$=Object(_e.useActions)(N),rt=$.createNewMetric,_t=$.updateMetricFilters,en=$.setFilters,st=$.showModal,at=$.hideModal,Q=$.changeInsightType,tn=$.setCurrentMetricName,xn=$.deleteMetric,ta=Object(_e.useValues)(Object(Lt.c)({dashboardItemId:ve,syncWithUrl:!1})),Yn=ta.insightProps,yt=Object(_e.useValues)(Object(Jt.a)(Yn)),da=yt.isStepsEmpty,ma=yt.filterSteps;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zn.a,{title:"Add secondary metric",visible:L,destroyOnClose:!0,onCancel:at,footer:null,style:{minWidth:600}},o.a.createElement(J.a,{layout:"vertical",initialValues:{type:_.s.TRENDS},onValuesChange:function(Xt){Xt.name&&tn(Xt.name)},onFinish:function(){rt(),at()},scrollToFirstError:!0,requiredMark:!1},o.a.createElement(J.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"You have to enter a name."}]},o.a.createElement(Ye.a,null)),o.a.createElement(J.a.Item,{name:"type",label:"Type"},o.a.createElement(Ke.a,{style:{display:"flex"},value:pe.filters.insight,onChange:function(){Q()},suffixIcon:o.a.createElement(vn.a,null),dropdownMatchSelectWidth:!1},o.a.createElement(Ke.a.Option,{value:_.s.TRENDS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Trend")))),o.a.createElement(Ke.a.Option,{value:_.s.FUNNELS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Conversion funnel")))))),o.a.createElement(J.a.Item,{name:"query",label:"Query"},o.a.createElement(Z.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},pe.filters.insight===_.s.FUNNELS&&o.a.createElement(Mt.a,{filters:pe.filters,setFilters:function(Xt){var Rn=mn(mn({},pe.filters),{},{insight:_.s.FUNNELS},Xt);_t(Rn),en(Rn)},typeKey:"funnel-preview-metric",mathAvailability:Dn.b.None,hideDeleteBtn:ma.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!da,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ye.a.EventProperties,ye.a.PersonProperties,ye.a.Cohorts,ye.a.Elements],rowClassName:"action-filters-bordered"}),pe.filters.insight===_.s.TRENDS&&o.a.createElement(Mt.a,{entitiesLimit:1,horizontalUI:!0,filters:pe.filters,setFilters:function(Xt){var Rn=mn(mn({},pe.filters),{},{insight:_.s.TRENDS},Xt);_t(Rn),en(Rn)},typeKey:"trend-preview-metric",buttonCopy:"Add graph series",showSeriesIndicator:!0,propertiesTaxonomicGroupTypes:[ye.a.EventProperties,ye.a.PersonProperties,ye.a.Cohorts,ye.a.Elements]}))),o.a.createElement(J.a.Item,{name:"metric-preview",label:"Metric preview"},o.a.createElement(_e.BindLogic,{logic:Lt.c,props:Yn},o.a.createElement(Qn.a,{disableHeader:!0,disableTable:!0}))),o.a.createElement(D.a,{justify:"end"},o.a.createElement(wn.a,{type:"secondary",className:"mr-05",onClick:function(){return at()}},"Cancel"),o.a.createElement(wn.a,{type:"primary",htmlType:"submit"},"Save")))),o.a.createElement(D.a,null,o.a.createElement(k.a,null,re.map(function(bt,Xt){return o.a.createElement(D.a,{key:Xt,className:"mt"},o.a.createElement(D.a,{align:"middle",className:"full-width border-all",style:{padding:8}},o.a.createElement("div",{style:{fontWeight:500}},"Name")," ",o.a.createElement("div",{className:"metric-name"},bt.name),o.a.createElement(zt.a,{className:"text-danger",style:{padding:8},onClick:function(){return xn(Xt)}})),o.a.createElement(Z.a,{className:"full-width",style:{borderTop:"none"},bodyStyle:{padding:0}},bt.filters.insight===_.s.FUNNELS&&o.a.createElement(Mt.a,{filters:bt.filters,setFilters:function(Un){var Pn=mn(mn({},bt.filters),{},{insight:_.s.FUNNELS},Un);_t(Pn),en(Pn)},typeKey:"funnel-preview-".concat(Xt),mathAvailability:Dn.b.None,hideDeleteBtn:ma.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!da,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ye.a.EventProperties,ye.a.PersonProperties,ye.a.Cohorts,ye.a.Elements],rowClassName:"action-filters-bordered",readOnly:!0}),bt.filters.insight===_.s.TRENDS&&o.a.createElement(Mt.a,{horizontalUI:!0,filters:bt.filters,setFilters:function(Un){var Pn=mn(mn({},bt.filters),{},{insight:_.s.TRENDS},Un);_t(Pn),en(Pn)},typeKey:"trend-preview-".concat(Xt),buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,propertiesTaxonomicGroupTypes:[ye.a.EventProperties,ye.a.PersonProperties,ye.a.Cohorts,ye.a.Elements],readOnly:!0})))}),re&&!(re.length>2)&&o.a.createElement(k.a,null,o.a.createElement("div",{className:"mb-05 mt"},o.a.createElement(De.a,{style:{color:"var(--primary)",minWidth:240},onClick:st},"Add metric"))))))}try{Jn.displayName="SecondaryMetrics",Jn.__docgenInfo={description:"",displayName:"SecondaryMetrics",props:{onMetricsChange:{defaultValue:null,description:"",name:"onMetricsChange",required:!0,type:{name:"(metrics: SecondaryExperimentMetric[]) => void"}},initialMetrics:{defaultValue:null,description:"",name:"initialMetrics",required:!0,type:{name:"SecondaryExperimentMetric[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"]={docgenInfo:Jn.__docgenInfo,name:"SecondaryMetrics",path:"frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"})}catch(O){}var kn=e("./frontend/src/lib/colors.ts"),Ln=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),jn=e("./frontend/src/lib/components/EditableField/EditableField.tsx"),zn=e("./frontend/src/lib/components/Link.tsx"),Bn=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Hn=e("./node_modules/antd/es/slider/index.js"),$n=e("./node_modules/antd/es/input-number/index.js"),qn=e("./frontend/src/lib/components/InsightLabel/index.tsx"),In=e("./frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.tsx");function la(){var O=Object($t.useState)(!1),b=Oe()(O,2),P=b[0],N=b[1],Y=Object($t.useState)(!1),ve=Oe()(Y,2),re=ve[0],L=ve[1];return o.a.createElement(Z.a,{className:"experiment-workflow",title:o.a.createElement("span",{className:"card-secondary"},"Experiment workflow")},o.a.createElement(D.a,null,o.a.createElement(k.a,{className:"exp-workflow-step step-completed full-width"},o.a.createElement(D.a,{align:"middle"},o.a.createElement(on.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}),o.a.createElement("b",{className:"ml-05"},"Create experiment")),o.a.createElement("div",{className:"ml-2"},"Set variants, select participants, and add secondary metrics"))),o.a.createElement(D.a,null,o.a.createElement(k.a,{className:"full-width exp-workflow-step ".concat(P?"step-completed":""),onClick:function(){return N(!P)}},o.a.createElement(D.a,{align:"middle"},P?o.a.createElement(on.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):o.a.createElement(on.IconRadioButtonUnchecked,null),o.a.createElement("b",{className:"ml-05"},"Validate experiment")),o.a.createElement("div",{className:"ml-2"},"Once you've written your code, it's a good idea to test that each variant behaves as you'd expect."))),o.a.createElement(D.a,null,o.a.createElement(k.a,{className:"full-width exp-workflow-step ".concat(re?"step-completed":""),onClick:function(){return L(!re)}},o.a.createElement(D.a,{align:"middle"},re?o.a.createElement(on.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):o.a.createElement(on.IconRadioButtonUnchecked,null),o.a.createElement("b",{className:"ml-05"},"Launch experiment")),o.a.createElement("div",{className:"ml-2"},"Run your experiment, monitor results, and decide when to terminate your experiment."))))}function Vn(O){var b,P,N,Y,ve,re,L=O.experiment,pe=O.trendCount,$=O.funnelConversionRate,rt=O.trendExposure,_t=O.funnelSampleSize,en=O.funnelEntrants,st=(L==null?void 0:L.id)||"new",at=Object(_e.useValues)(sn({experimentId:st})),Q=at.experimentInsightType,tn=at.editingExistingExperiment,xn=at.minimumDetectableChange,ta=at.expectedRunningTime,Yn=at.aggregationLabel,yt=Object(_e.useActions)(sn({experimentId:st})),da=yt.setNewExperimentData,ma=Q===_.s.FUNNELS&&100-$<50?100-$:50,bt=Object(we.a)().diff(Object(we.a)(L==null?void 0:L.start_date),"hour"),Xt=0;L!=null&&L.start_date?Xt=ta(en||1,_t||0,bt):Xt=ta(en||1,_t||0);var Rn=Object(we.a)(L==null?void 0:L.start_date).add(Xt,"hour"),Un=!(L!=null&&L.end_date)&&bt>=24&&en&&_t,Pn=Object(qe.s)(L==null||(b=L.filters)===null||b===void 0?void 0:b.properties);return o.a.createElement(D.a,null,o.a.createElement(k.a,{span:!(L!=null&&L.start_date)&&st!=="new"&&!tn?12:24},st==="new"&&o.a.createElement(D.a,{className:"experiment-preview-row"},o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("b",null,"Experiment preview")),o.a.createElement("div",{className:"text-muted"},"Here are the baseline metrics for your experiment. Adjust your minimum detectible threshold to adjust for the smallest conversion value you\u2019ll accept, and the experiment duration."," "))),(st==="new"||tn)&&o.a.createElement(D.a,{className:"mb"},o.a.createElement(k.a,{span:24},o.a.createElement("div",null,o.a.createElement("b",null,"Minimum acceptable improvement"),o.a.createElement(fe.a,{title:"Minimum acceptable improvement is a calculation that estimates the smallest significant improvement you are willing to accept."},o.a.createElement(Vt.a,{style:{marginLeft:4}}))),o.a.createElement(D.a,{className:"mde-slider"},o.a.createElement(k.a,{span:8},o.a.createElement(Hn.a,{defaultValue:5,value:xn,min:1,max:ma,trackStyle:{background:"var(--primary)"},handleStyle:{background:"var(--primary)"},onChange:function(En){da({parameters:{minimum_detectable_effect:En}})},tipFormatter:function(En){return"".concat(En,"%")}})),o.a.createElement($n.a,{min:1,max:ma,defaultValue:5,formatter:function(En){return"".concat(En,"%")},style:{margin:"0 16px"},value:xn,onChange:function(En){da({parameters:{minimum_detectable_effect:En}})}})))),o.a.createElement(D.a,{className:"experiment-preview-row ".concat(L!=null&&L.start_date?"mr":"")},Q===_.s.TRENDS?o.a.createElement(o.a.Fragment,null,!(L!=null&&L.start_date)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{span:6},o.a.createElement("div",{className:"card-secondary"},"Baseline Count"),o.a.createElement("div",{className:"l4"},Object(qe.O)(pe||0))),o.a.createElement(k.a,{span:6},o.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Count"),o.a.createElement("div",{className:"l4"},Object(qe.O)(pe+Math.ceil(pe*(xn/100))||0)))),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Recommended running time"),o.a.createElement("div",null,o.a.createElement("span",{className:"l4"},"~",Object(qe.O)(rt||0))," days"))):o.a.createElement(o.a.Fragment,null,!(L!=null&&L.start_date)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Baseline Conversion Rate"),o.a.createElement("div",{className:"l4"},$.toFixed(1),"%")),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Conversion Rate"),o.a.createElement("div",{className:"l4"},($+xn).toFixed(1),"%"))),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Recommended Sample Size"),o.a.createElement("div",{className:"pb"},o.a.createElement("span",{className:"l4"},"~",Object(qe.O)(_t||0))," persons")),!(L!=null&&L.start_date)&&o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Recommended running time"),o.a.createElement("div",null,o.a.createElement("span",{className:"l4"},"~",Object(qe.O)(Xt||0))," days"))),o.a.createElement(D.a,{className:"full-width mt"},o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Experiment variants"),o.a.createElement("ul",{className:"variants-list"},L==null||(P=L.parameters)===null||P===void 0||(N=P.feature_flag_variants)===null||N===void 0?void 0:N.map(function(Qt,En){return o.a.createElement("li",{key:En},Qt.key)}))),o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary"},"Participants"),o.a.createElement("div",null,Pn!=null&&Pn.length?o.a.createElement("div",null,Pn==null?void 0:Pn.map(function(Qt){return o.a.createElement(In.c,{key:Qt.key,item:Qt,style:{margin:2,cursor:"default"}})})):o.a.createElement(o.a.Fragment,null,"100% of"," ",(L==null||(Y=L.filters)===null||Y===void 0?void 0:Y.aggregation_group_type_index)!=null?Object(qe.j)(Yn(L.filters.aggregation_group_type_index).plural):"users")))),o.a.createElement(D.a,{className:"full-width"},st!=="new"&&!tn&&o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary mt"},"Start date"),L!=null&&L.start_date?o.a.createElement("span",null,Object(we.a)(L==null?void 0:L.start_date).format("D MMM YYYY")):o.a.createElement("span",{className:"description"},"Not started yet")),Q===_.s.FUNNELS&&Un?o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary mt"},"Expected end date"),o.a.createElement("span",null,Rn.isAfter(Object(we.a)())?Rn.format("D MMM YYYY"):Object(we.a)().format("D MMM YYYY"))):null,(L==null?void 0:L.end_date)&&o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"card-secondary mt"},"Completed date"),o.a.createElement("span",null,Object(we.a)(L==null?void 0:L.end_date).format("D MMM YYYY"))))),st!=="new"&&!tn&&o.a.createElement(D.a,{className:"experiment-preview-row"},o.a.createElement(k.a,null,o.a.createElement("div",{className:"card-secondary mb-05"},Q===_.s.FUNNELS?"Conversion goal steps":"Trend goal"),[].concat(wt()((L==null||(ve=L.filters)===null||ve===void 0?void 0:ve.events)||[]),wt()((L==null||(re=L.filters)===null||re===void 0?void 0:re.actions)||[])).sort(function(Qt,En){return(Qt.order||0)-(En.order||0)}).map(function(Qt,En){var ha;return o.a.createElement(k.a,{key:En,className:"mb-05"},o.a.createElement(D.a,{style:{marginBottom:4}},o.a.createElement("div",{className:"preview-conversion-goal-num"},Q===_.s.FUNNELS?(Qt.order||0)+1:En+1),o.a.createElement("b",null,o.a.createElement(qn.b,{action:Qt,showCountedByTag:Q===_.s.TRENDS,hideIcon:!0}))),(ha=Qt.properties)===null||ha===void 0?void 0:ha.map(function(ya){return o.a.createElement(In.c,{key:ya.key,item:ya})}))})))),st!=="new"&&!tn&&!(L!=null&&L.start_date)&&o.a.createElement(k.a,{span:12,className:"pl"},o.a.createElement(la,null)))}try{Vn.displayName="ExperimentPreview",Vn.__docgenInfo={description:"",displayName:"ExperimentPreview",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}},trendCount:{defaultValue:null,description:"",name:"trendCount",required:!0,type:{name:"number"}},trendExposure:{defaultValue:null,description:"",name:"trendExposure",required:!1,type:{name:"number"}},funnelSampleSize:{defaultValue:null,description:"",name:"funnelSampleSize",required:!1,type:{name:"number"}},funnelConversionRate:{defaultValue:null,description:"",name:"funnelConversionRate",required:!0,type:{name:"number"}},funnelEntrants:{defaultValue:null,description:"",name:"funnelEntrants",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"]={docgenInfo:Vn.__docgenInfo,name:"ExperimentPreview",path:"frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"})}catch(O){}var Ea=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx");function ra(O){var b,P,N,Y=O.experiment,ve=Object($t.useState)("control"),re=Oe()(ve,2),L=re[0],pe=re[1];return o.a.createElement(Z.a,{title:o.a.createElement("span",{className:"card-secondary"},"Feature flag usage and implementation"),className:"experiment-implementation-details"},o.a.createElement(D.a,{justify:"space-between",className:"mb-05"},o.a.createElement("div",null,o.a.createElement("span",{className:"mr-05"},"Variant group"),o.a.createElement(Ke.a,{onChange:pe,defaultValue:"control",suffixIcon:o.a.createElement(vn.a,null)},Y==null||(b=Y.parameters)===null||b===void 0||(P=b.feature_flag_variants)===null||P===void 0?void 0:P.map(function($,rt){return o.a.createElement(Ke.a.Option,{key:rt,value:$.key},$.key)}))),o.a.createElement("div",null,o.a.createElement(ea,null))),o.a.createElement("b",null,"Implement your experiment in code"),o.a.createElement(Ea.a,{language:Ea.b.JavaScript,wrap:!0},"if (posthog.getFeatureFlag('".concat((N=Y==null?void 0:Y.feature_flag_key)!==null&&N!==void 0?N:"","') === '").concat(L,`') {
    // where '`).concat(L,`' is the variant, run your code here
}`)),o.a.createElement("b",null,"Test that it works"),o.a.createElement(Ea.a,{language:Ea.b.JavaScript},"posthog.feature_flags.override({'".concat(Y==null?void 0:Y.feature_flag_key,"': '").concat(L,"'})")),o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://posthog.com/docs/user-guides/feature-flags"},o.a.createElement(D.a,{align:"middle"},"Experiment implementation guide",o.a.createElement(on.IconOpenInNew,{className:"ml-05"}))))}try{ra.displayName="ExperimentImplementationDetails",ra.__docgenInfo={description:"",displayName:"ExperimentImplementationDetails",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"]={docgenInfo:ra.__docgenInfo,name:"ExperimentImplementationDetails",path:"frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"})}catch(O){}function Oa(O,b){var P=Object.keys(O);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(O);b&&(N=N.filter(function(Y){return Object.getOwnPropertyDescriptor(O,Y).enumerable})),P.push.apply(P,N)}return P}function ca(O){for(var b=1;b<arguments.length;b++){var P=arguments[b]!=null?arguments[b]:{};b%2?Oa(Object(P),!0).forEach(function(N){it()(O,N,P[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(P)):Oa(Object(P)).forEach(function(N){Object.defineProperty(O,N,Object.getOwnPropertyDescriptor(P,N))})}return O}var oa={component:ua,logic:sn,paramsToProps:function(b){var P=b.params.id;return{experimentId:P==="new"?"new":parseInt(P)}}};function ua(){var O,b,P,N,Y,ve,re,L,pe,$,rt,_t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},en=_t.id,st=Object(_e.useValues)(sn({experimentId:en})),at=st.newExperimentData,Q=st.experimentData,tn=st.experimentInsightId,xn=st.minimumSampleSizePerVariant,ta=st.recommendedExposureForCountData,Yn=st.variants,yt=st.experimentResults,da=st.countDataForVariant,ma=st.editingExistingExperiment,bt=st.experimentInsightType,Xt=st.experimentResultsLoading,Rn=st.parsedSecondaryMetrics,Un=st.areResultsSignificant,Pn=st.conversionRateForVariant,Qt=st.getIndexForVariant,En=st.significanceBannerDetails,ha=st.areTrendResultsConfusing,ya=st.taxonomicGroupTypesForSelection,Ia=st.groupTypes,Ra=st.aggregationLabel,na=st.secondaryMetricResults,ba=st.experimentDataLoading,Aa=st.secondaryMetricResultsLoading,hn=Object(_e.useActions)(sn({experimentId:en})),pa=hn.setNewExperimentData,fa=hn.createExperiment,Ta=hn.launchExperiment,xa=hn.setFilters,ja=hn.setEditExperiment,Na=hn.endExperiment,Ma=hn.addExperimentGroup,Pa=hn.updateExperiment,sa=hn.updateExperimentGroup,Sa=hn.removeExperimentGroup,f=hn.setSecondaryMetrics,p=hn.setExperimentInsightType,x=hn.archiveExperiment,g=Object(_e.useValues)(Bn.a),d=g.featureFlags,v=J.a.useForm(),i=Oe()(v,1),l=i[0],c=Object($t.useState)(!0),y=Oe()(c,2),T=y[0],a=y[1],n=Object(_e.useValues)(Object(Lt.c)({dashboardItemId:tn})),t=n.insightProps,s=Object(_e.useValues)(Object(Jt.a)(t)),m=s.isStepsEmpty,h=s.filterSteps,E=s.filters,C=s.results,j=s.conversionMetrics,M=Object(_e.useValues)(Object(an.a)(t)),W=M.filters,K=M.results,U=j.totalRate*100,de=xn(U),oe=de*Yn.length,Ee=(O=K[0])===null||O===void 0?void 0:O.count,Re=C==null||(b=C[0])===null||b===void 0?void 0:b.count,Ge=ta(Ee),Ae=Math.floor(24/(Yn.length+2)),Be=bt===_.s.FUNNELS&&(yt==null?void 0:yt.insight)?yt.insight.reduce(function(Se,he){var A;return((A=he[0])===null||A===void 0?void 0:A.count)+Se},0):0,xe=bt===_.s.FUNNELS?(Be||0)/((Q==null||(P=Q.parameters)===null||P===void 0?void 0:P.recommended_sample_size)||1)*100:Object(we.a)().diff(Q==null?void 0:Q.start_date,"day")/((Q==null||(N=Q.parameters)===null||N===void 0?void 0:N.recommended_running_time)||1)*100,At={running:"green",draft:"default",complete:"purple"},kt=function(){if(Q!=null&&Q.start_date){if(!(Q!=null&&Q.end_date))return"running"}else return"draft";return"complete"},Kt=[{background:"#35416b",color:"#fff"},{background:"#C278CE66",color:"#35416B"},{background:"#FFE6AE",color:"#35416B"},{background:"#8DA9E74D",color:"#35416B"}];return o.a.createElement(o.a.Fragment,null,en==="new"||ma?o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{align:"middle",justify:"space-between",style:{borderBottom:"1px solid var(--border)",marginBottom:"1rem",paddingBottom:8}},o.a.createElement(Ot.a,{title:"New experiment"}),o.a.createElement(D.a,null,o.a.createElement(wn.a,{type:"secondary",className:"mr-05",onClick:function(){return B.router.actions.push(ie.a.experiments())}},"Cancel"),o.a.createElement(wn.a,{type:"primary",htmlType:"submit",form:"new-experiment"},"Save"))),o.a.createElement(J.a,{name:"new-experiment",layout:"vertical",className:"experiment-form",form:l,onValuesChange:function(he){return pa(he)},initialValues:{name:at==null?void 0:at.name,feature_flag_key:at==null?void 0:at.feature_flag_key,description:at==null?void 0:at.description},onFinish:function(){return fa(!0,Ge,oe)},requiredMark:!1,scrollToFirstError:!0},o.a.createElement("div",null,o.a.createElement(_e.BindLogic,{logic:Lt.c,props:t},o.a.createElement(D.a,null,o.a.createElement(k.a,{span:12,style:{paddingRight:24}},o.a.createElement(D.a,{className:"full-width"},o.a.createElement(J.a.Item,{style:{marginRight:16},label:"Name",name:"name",rules:[{required:!0,message:"You have to enter a name."}]},o.a.createElement(Ye.a,{"data-attr":"experiment-name",className:"ph-ignore-input"})),o.a.createElement(J.a.Item,{style:{marginBottom:"1rem"},label:o.a.createElement("div",null,"Feature flag key"," ",o.a.createElement(fe.a,{title:"Enter a unique key. This will create a new feature flag which will be associated with this experiment."},o.a.createElement(Vt.a,null))),name:"feature_flag_key",rules:[{required:!0,message:"You have to enter a feature flag key name."}]},o.a.createElement(Ye.a,{"data-attr":"experiment-feature-flag-key",disabled:ma}))),o.a.createElement(J.a.Item,{label:o.a.createElement("div",null,"Description ",o.a.createElement("span",{className:"text-muted"},"(optional)")),name:"description"},o.a.createElement(Ye.a.TextArea,{"data-attr":"experiment-description",className:"ph-ignore-input",placeholder:"Adding a helpful description can ensure others know what this experiment is about."})),(at==null||(Y=at.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)&&o.a.createElement(k.a,null,o.a.createElement("label",null,o.a.createElement("b",null,"Experiment variants")),o.a.createElement("div",{className:"text-muted"},"Participants are divided into variant groups evenly. All experiments must consist of a control group and at least one test group. Experiments may have at most 3 test groups. Variant names can only contain letters, numbers, hyphens, and underscores."),o.a.createElement(k.a,{className:"variants"},at.parameters.feature_flag_variants.map(function(Se,he){return o.a.createElement(J.a,{key:"".concat(Se,"-").concat(he),initialValues:{key:Se.key},onValuesChange:function(I){sa(I,he)}},o.a.createElement(D.a,{key:"".concat(Se,"-").concat(he),className:"feature-flag-variant ".concat(he===0?"border-top":he>=3?"border-bottom":"")},o.a.createElement("div",{className:"variant-label",style:ca({},Kt[he])},he===0?"Control":"Test"),o.a.createElement(J.a.Item,{name:"key",rules:[{required:!0,message:"Key should not be empty."},{required:!0,pattern:/^([A-z]|[a-z]|[0-9]|-|_)+$/,message:o.a.createElement(o.a.Fragment,null,o.a.createElement(Nn.a,{style:{color:"#F96132"}})," ","Variant names can only contain letters, numbers, hyphens, and underscores.")}],style:{display:"contents"}},o.a.createElement(Ye.a,{disabled:he===0,"data-attr":"feature-flag-variant-key","data-key-index":he.toString(),className:"ph-ignore-input",placeholder:"example-variant-".concat(he+1),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1})),o.a.createElement("div",{className:"float-right"},!(he===0||he===1)&&o.a.createElement(fe.a,{title:"Delete this variant",placement:"bottomLeft"},o.a.createElement(wn.a,{type:"primary-alt",compact:!0,icon:o.a.createElement(on.IconDelete,null),onClick:function(){return Sa(he)}})))))}),at.parameters.feature_flag_variants.length<4&&o.a.createElement("div",{className:"feature-flag-variant border-bottom"},o.a.createElement(De.a,{style:{color:"var(--primary)",border:"none",boxShadow:"none",paddingLeft:0},icon:o.a.createElement(Wn.a,null),onClick:function(){return Ma()}},"Add test variant")))),o.a.createElement(D.a,{className:"person-selection"},o.a.createElement("div",{className:"mb-05"},o.a.createElement("strong",null,"Select participants")),o.a.createElement(k.a,null,o.a.createElement("div",{className:"text-muted"},"Select the entities who will participate in this experiment. If no filters are set, 100% of participants will be targeted."),o.a.createElement("div",{className:"mt mb-05"},o.a.createElement("strong",null,"Participant type")),o.a.createElement(Ke.a,{value:(at==null||(ve=at.filters)===null||ve===void 0?void 0:ve.aggregation_group_type_index)!=null?at.filters.aggregation_group_type_index:-1,onChange:function(he){var A,I=he!==-1?he:void 0;I!=(at==null||(A=at.filters)===null||A===void 0?void 0:A.aggregation_group_type_index)&&(xa({properties:[],aggregation_group_type_index:I}),pa({filters:{aggregation_group_type_index:I,properties:[]}}))},"data-attr":"participant-aggregation-filter",dropdownMatchSelectWidth:!1},o.a.createElement(Ke.a.Option,{key:-1,value:-1},"Persons"),Ia.map(function(Se){return o.a.createElement(Ke.a.Option,{key:Se.group_type_index,value:Se.group_type_index},Object(qe.j)(Ra(Se.group_type_index).plural))})),o.a.createElement("div",{className:"mt"},o.a.createElement("strong",null,"Filters")),o.a.createElement(R.a,{pageKey:"experiment-participants-property",propertyFilters:bt===_.s.FUNNELS?Object(qe.s)(E.properties):Object(qe.s)(W.properties),onChange:function(he){pa({filters:{properties:he}}),xa({properties:he.filter(xt.b)})},taxonomicGroupTypes:ya})))),o.a.createElement(D.a,{className:"metrics-selection"},o.a.createElement(k.a,{span:12},o.a.createElement("div",{className:"mb-05"},o.a.createElement("b",null,"Goal type"),o.a.createElement("div",{className:"text-muted"},bt===_.s.TRENDS?"Track counts of a specific event or action":"Track how many persons complete a sequence of actions and or events")),o.a.createElement(Ke.a,{style:{display:"flex"},value:bt,onChange:p,suffixIcon:o.a.createElement(vn.a,null),dropdownMatchSelectWidth:!1},o.a.createElement(Ke.a.Option,{value:_.s.TRENDS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Trend")))),o.a.createElement(Ke.a.Option,{value:_.s.FUNNELS},o.a.createElement(k.a,null,o.a.createElement("span",null,o.a.createElement("b",null,"Conversion funnel"))))),o.a.createElement("div",{className:"mb mt"},o.a.createElement("b",null,"Experiment goal"),bt===_.s.TRENDS&&o.a.createElement("div",{className:"text-muted"},"Trend-based experiments can have at most one graph series. This metric is used to track the progress of your experiment.")),o.a.createElement(D.a,null,o.a.createElement(Z.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},bt===_.s.FUNNELS&&o.a.createElement(Mt.a,{filters:E,setFilters:function(he){pa({filters:he}),xa(he)},typeKey:"EditFunnel-action",mathAvailability:Dn.b.None,hideDeleteBtn:h.length===1,buttonCopy:"Add funnel step",buttonType:"link",showSeriesIndicator:!m,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[ye.a.EventProperties,ye.a.PersonProperties,ye.a.Cohorts,ye.a.Elements],rowClassName:"action-filters-bordered"}),bt===_.s.TRENDS&&o.a.createElement(Mt.a,{horizontalUI:!0,filters:W,setFilters:function(he){pa({filters:he}),xa(he)},typeKey:"experiment-trends",buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,propertiesTaxonomicGroupTypes:[ye.a.EventProperties,ye.a.PersonProperties,ye.a.Cohorts,ye.a.Elements],customRowPrefix:W.insight===_.s.LIFECYCLE?o.a.createElement(o.a.Fragment,null,"Showing ",o.a.createElement("b",null,"Unique users")," who did"):void 0}))),d[mt.n.EXPERIMENTS_SECONDARY_METRICS]&&o.a.createElement(k.a,{className:"secondary-metrics"},o.a.createElement("div",null,o.a.createElement("b",null,"Secondary metrics"),o.a.createElement("span",{className:"text-muted ml-05"},"(optional)")),o.a.createElement("div",{className:"text-muted",style:{marginTop:4}},"Use secondary metrics to monitor metrics related to your experiment goal. You can add up to three secondary metrics."," "),o.a.createElement(Jn,{onMetricsChange:function(he){return f(he)},initialMetrics:Rn}))),o.a.createElement(k.a,{span:12,className:"pl"},o.a.createElement("div",{className:"card-secondary mb"},"Goal preview"),o.a.createElement(Qn.a,{disableHeader:bt===_.s.TRENDS,disableTable:!0})))),o.a.createElement(D.a,null,o.a.createElement(Z.a,{className:"experiment-preview"},o.a.createElement(Vn,{experiment:at,trendCount:Ee,trendExposure:Ge,funnelSampleSize:oe,funnelEntrants:Re,funnelConversionRate:U}))))),o.a.createElement(wn.a,{className:"float-right",type:"primary",htmlType:"submit"},"Save"))):!ba&&Q?o.a.createElement("div",{className:"view-experiment"},o.a.createElement(D.a,{className:"draft-header"},o.a.createElement(D.a,{justify:"space-between",align:"middle",className:"full-width pb"},o.a.createElement(k.a,null,o.a.createElement(D.a,null,o.a.createElement(Ot.a,{style:{paddingRight:8},title:"".concat(Q==null?void 0:Q.name),buttons:o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt.a,{explicitValue:Q.feature_flag_key,iconStyle:{color:"var(--text-muted-alt)"}},o.a.createElement("span",{className:"text-muted"},Q.feature_flag_key)),o.a.createElement(Qe.a,{style:{alignSelf:"center"},color:At[kt()]},o.a.createElement("b",{className:"uppercase"},kt())),yt&&Q.end_date&&o.a.createElement(Qe.a,{style:{alignSelf:"center"},color:Un?"green":"geekblue"},o.a.createElement("b",{className:"uppercase"},Un?"Significant Results":"Results not significant")))})),o.a.createElement("span",{className:"exp-description"},Q.start_date?o.a.createElement(jn.a,{multiline:!0,name:"description",value:Q.description||"",placeholder:"Description (optional)",onSave:function(he){return Pa({description:he})},maxLength:400,"data-attr":"experiment-description",compactButtons:!0}):o.a.createElement(o.a.Fragment,null,Q.description||"There is no description for this experiment."))),Q&&!Q.start_date&&o.a.createElement("div",null,o.a.createElement(De.a,{className:"mr-05",onClick:function(){return ja(!0)}},"Edit"),o.a.createElement(De.a,{type:"primary",onClick:function(){return Ta()}},"Launch")),Q&&Q.start_date&&!Q.end_date&&o.a.createElement(De.a,{className:"stop-experiment",onClick:function(){return Na()}},"Stop experiment"),(Q==null?void 0:Q.end_date)&&Object(we.a)().isSameOrAfter(Object(we.a)(Q.end_date),"day")&&!Q.archived&&o.a.createElement(De.a,{className:"archive-experiment",onClick:function(){return x()}},o.a.createElement("b",null,"Archive experiment")))),o.a.createElement(D.a,null,T&&yt&&Un&&!Q.end_date&&o.a.createElement(D.a,{align:"middle",className:"significant-results"},o.a.createElement(k.a,{span:20,style:{fontWeight:500,color:"#497342"}},o.a.createElement("div",null,"Experiment results are significant."," ",Q.end_date?"":"You can end your experiment now or let it run until complete.")),o.a.createElement(k.a,{span:4},Q.end_date?o.a.createElement(Sn.a,{className:"close-button",onClick:function(){return a(!1)}}):o.a.createElement(wn.a,{type:"highlighted",className:"end-experiment-btn",onClick:function(){return Na()}},"End experiment"))),T&&yt&&!Un&&!Q.end_date&&o.a.createElement(D.a,{align:"top",className:"not-significant-results"},o.a.createElement(k.a,{span:23,style:{fontWeight:500,color:"#2D2D2D"}},o.a.createElement("strong",null,"Your results are not statistically significant"),"."," ",En," ",Q!=null&&Q.end_date?"":"We don't recommend ending this experiment yet."," ","See our"," ",o.a.createElement("a",{href:"https://posthog.com/docs/user-guides/experimentation#funnel-experiment-calculations"}," ","experimentation guide"," "),"for more information."," "),o.a.createElement(k.a,{span:1},o.a.createElement(Sn.a,{className:"close-button",onClick:function(){return a(!1)}}))),T&&Q.end_date&&o.a.createElement(D.a,{align:"top",className:"feature-flag-mods"},o.a.createElement(k.a,{span:23,style:{fontWeight:500}},o.a.createElement("strong",null,"Your experiment is complete.")," We recommend removing the feature flag from your code completely, instead of relying on this distribution."," ",o.a.createElement(zn.a,{to:Q.feature_flag?ie.a.featureFlag(Q.feature_flag):void 0},o.a.createElement("b",null,"Adjust feature flag distribution"))),o.a.createElement(k.a,{span:1},o.a.createElement(Sn.a,{className:"close-button",onClick:function(){return a(!1)}})))),o.a.createElement(D.a,null,o.a.createElement(Ce.a,{className:"full-width",defaultActiveKey:"experiment-details"},o.a.createElement(Ce.a.Panel,{header:o.a.createElement("b",null,"Experiment details"),key:"experiment-details"},o.a.createElement(D.a,null,o.a.createElement(k.a,{span:Q!=null&&Q.start_date?12:24},o.a.createElement(Vn,{experiment:Q,trendCount:Ee,trendExposure:Q==null?void 0:Q.parameters.recommended_running_time,funnelSampleSize:Q==null?void 0:Q.parameters.recommended_sample_size,funnelConversionRate:U,funnelEntrants:Q!=null&&Q.start_date?Be:Re})),!Xt&&!yt&&Q.start_date&&o.a.createElement(k.a,{span:12},o.a.createElement(ra,{experiment:Q})),(yt||((re=Q.secondary_metrics)===null||re===void 0?void 0:re.length)>0)&&o.a.createElement(k.a,{className:"secondary-progress",span:Q!=null&&Q.start_date?12:24},d[mt.n.EXPERIMENTS_SECONDARY_METRICS]&&!!(Q!=null&&Q.secondary_metrics.length)&&o.a.createElement(k.a,{className:"border-bottom"},o.a.createElement(D.a,{align:"middle",justify:"space-between",className:"mb-05"},o.a.createElement(k.a,{className:"card-secondary",span:2*Ae},"Secondary metrics"),Q==null||(L=Q.parameters)===null||L===void 0||(pe=L.feature_flag_variants)===null||pe===void 0?void 0:pe.map(function(Se,he){return o.a.createElement(k.a,{key:he,span:Ae,style:{color:"".concat(bt===_.s.FUNNELS?Object(_n.k)(Qt(Se.key,_.s.FUNNELS)+1):Object(kn.c)("white")[Qt(Se.key,_.s.TRENDS)])}},o.a.createElement("span",{className:"text-default"},Object(qe.j)(Se.key)))})),d[mt.n.EXPERIMENTS_SECONDARY_METRICS]&&(Q.start_date?Aa?o.a.createElement(Me.a,{active:!0,paragraph:!1}):o.a.createElement(o.a.Fragment,null,Q.secondary_metrics.map(function(Se,he){var A,I;return o.a.createElement(D.a,{className:"border-top",key:he,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},o.a.createElement(k.a,{span:2*Ae},Object(qe.j)(Se.name)),Q==null||(A=Q.parameters)===null||A===void 0||(I=A.feature_flag_variants)===null||I===void 0?void 0:I.map(function(F,H){return o.a.createElement(k.a,{key:H,span:Ae},na!=null&&na[he][F.key]?Se.filters.insight===_.s.FUNNELS?o.a.createElement(o.a.Fragment,null,((na==null?void 0:na[he][F.key])*100).toFixed(1),"%"):o.a.createElement(o.a.Fragment,null,Object(qe.O)(na==null?void 0:na[he][F.key])):o.a.createElement(o.a.Fragment,null,"--"))}))})):o.a.createElement(o.a.Fragment,null,Q.secondary_metrics.map(function(Se,he){var A,I;return o.a.createElement(D.a,{className:"border-top",key:he,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},o.a.createElement(k.a,{span:2*Ae},Object(qe.j)(Se.name)),Q==null||(A=Q.parameters)===null||A===void 0||(I=A.feature_flag_variants)===null||I===void 0?void 0:I.map(function(F,H){return o.a.createElement(k.a,{key:H,span:Ae},"--")}))})))),yt&&o.a.createElement(k.a,{className:"mt"},o.a.createElement("div",{className:"mb-05"},o.a.createElement("b",null,"Experiment progress")),o.a.createElement(Ft.a,{strokeWidth:20,showInfo:!1,percent:xe,strokeColor:"var(--success)"}),bt===_.s.TRENDS&&Q.start_date&&o.a.createElement(D.a,{justify:"space-between",className:"mt-05"},Q.end_date?o.a.createElement("div",null,"Ran for"," ",o.a.createElement("b",null,Object(we.a)(Q.end_date).diff(Q.start_date,"day"))," ","days"):o.a.createElement("div",null,o.a.createElement("b",null,Object(we.a)().diff(Q.start_date,"day"))," ","days running"),o.a.createElement("div",null,"Goal:"," ",o.a.createElement("b",null,Q==null||($=Q.parameters)===null||$===void 0?void 0:$.recommended_running_time)," ","days")),bt===_.s.FUNNELS&&o.a.createElement(D.a,{justify:"space-between",className:"mt-05"},Q.end_date?o.a.createElement("div",null,"Saw"," ",o.a.createElement("b",null,Object(qe.O)(Be))," ","participants"):o.a.createElement("div",null,o.a.createElement("b",null,Object(qe.O)(Be))," ","participants seen"),o.a.createElement("div",null,"Goal:"," ",o.a.createElement("b",null,Object(qe.O)((Q==null||(rt=Q.parameters)===null||rt===void 0?void 0:rt.recommended_sample_size)||0))," ","participants"))))))),!(Q!=null&&Q.start_date)&&o.a.createElement("div",{className:"mt full-width"},o.a.createElement(ra,{experiment:Q}))),o.a.createElement("div",{className:"experiment-result"},yt?o.a.createElement(o.a.Fragment,null,o.a.createElement(D.a,{justify:"space-around",style:{flexFlow:"nowrap"}},Object.keys(yt.probability).sort(function(Se,he){return yt.probability[he]-yt.probability[Se]}).map(function(Se,he){return o.a.createElement(k.a,{key:he,className:"pr"},o.a.createElement("div",null,o.a.createElement("b",null,Object(qe.j)(Se))),bt===_.s.TRENDS?o.a.createElement(D.a,null,o.a.createElement("b",{style:{paddingRight:4}},o.a.createElement(D.a,null,"action"in yt.insight[0]&&o.a.createElement(Ln.a,{filter:yt.insight[0].action}),o.a.createElement("span",{style:{paddingLeft:4}},"count:")))," ",da(Se)," ",ha&&he===0&&o.a.createElement(fe.a,{placement:"right",title:"It might seem confusing that the best variant has lower absolute count, but this can happen when fewer people are exposed to this variant, so its relative count is higher."},o.a.createElement(Vt.a,{style:{padding:"4px 2px"}}))):o.a.createElement(D.a,null,o.a.createElement("b",{style:{paddingRight:4}},"Conversion rate:")," ",Pn(Se),"%"),o.a.createElement(Ft.a,{percent:Number((yt.probability[Se]*100).toFixed(1)),size:"small",showInfo:!1,strokeColor:bt===_.s.FUNNELS?Object(_n.k)(Qt(Se,_.s.FUNNELS)+1):Object(kn.c)("white")[Qt(Se,_.s.TRENDS)]}),o.a.createElement("div",null,"Probability that this variant is the best:"," ",o.a.createElement("b",null,(yt.probability[Se]*100).toFixed(1),"%")))}))):Xt&&o.a.createElement("div",{className:"text-center"},o.a.createElement(Me.a,{active:!0})),yt?o.a.createElement(_e.BindLogic,{logic:Lt.c,props:{dashboardItemId:yt.itemID,cachedInsight:{short_id:yt.itemID,filters:ca(ca(ca({},yt.filters),{},{insight:bt,display:Q.filters.display},bt===_.s.FUNNELS&&{layout:mt.p.vertical,funnel_viz_type:_.o.Steps}),bt===_.s.TRENDS&&{display:_.d.ActionsLineGraphCumulative}),result:yt.insight},doNotLoad:!0}},o.a.createElement("div",{className:"mt"},o.a.createElement(Qn.a,{disableHeader:bt===_.s.TRENDS,disableTable:bt===_.s.FUNNELS}))):Q.start_date&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"no-experiment-results"},!Xt&&o.a.createElement("div",{className:"text-center"},o.a.createElement("b",null,"There are no results for this experiment yet."),o.a.createElement("div",{className:"text-default"},"Double check your feature flag implementation if you're still not seeing results.")))))):o.a.createElement(Me.a,{active:!0}))}function ea(){return o.a.createElement(Ke.a,{defaultValue:"JavaScript",suffixIcon:o.a.createElement(vn.a,null)},o.a.createElement(Ke.a.Option,{value:"JavaScript"},o.a.createElement(D.a,{align:"middle"},o.a.createElement(on.IconJavascript,{style:{marginRight:6}})," JavaScript")))}try{ua.displayName="Experiment_",ua.__docgenInfo={description:"",displayName:"Experiment_",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/Experiment.tsx#Experiment_"]={docgenInfo:ua.__docgenInfo,name:"Experiment_",path:"frontend/src/scenes/experiments/Experiment.tsx#Experiment_"})}catch(O){}},"./frontend/src/scenes/experiments/experimentsLogic.ts":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Ft});var ne=e("./node_modules/core-js/modules/es.array.concat.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.array.filter.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/es.array.iterator.js"),et=e.n(w),X=e("./node_modules/core-js/modules/es.array.map.js"),ae=e.n(X),r=e("./node_modules/core-js/modules/es.object.to-string.js"),S=e.n(r),ct=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),G=e.n(ct),V=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),it=e.n(V),ze=e("./node_modules/@babel/runtime/regenerator/index.js"),Oe=e.n(ze),J=e("./node_modules/regenerator-runtime/runtime.js"),D=e.n(J),k=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ye=e.n(k),fe=e("./node_modules/kea/lib/index.esm.js"),De=e("./frontend/src/lib/api.ts"),Ke=e("./frontend/src/scenes/teamLogic.ts"),Z=e("./frontend/src/types.ts"),Qe=e("./frontend/src/lib/utils.tsx"),Ce=e("./frontend/src/scenes/userLogic.ts"),Me=e("./frontend/src/lib/components/lemonToast.tsx"),Ft=Object(fe.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[Ke.a,["currentTeamId"],Ce.a,["hasAvailableFeature"]]},actions:{},loaders:function(Ot){var R=Ot.values,xt=Ot.actions;return{experiments:[[],{loadExperiments:function(){var ye=Ye()(Oe.a.mark(function o(Jt){var Mt;return Oe.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(R.hasAvailableFeature(Z.c.EXPERIMENTATION)){_.next=2;break}return _.abrupt("return",[]);case 2:return _.next=4,De.a.get("api/projects/".concat(R.currentTeamId,"/experiments?").concat(Jt||""));case 4:return Mt=_.sent,_.abrupt("return",Mt.results);case 6:case"end":return _.stop()}},o)}));function $t(o){return ye.apply(this,arguments)}return $t}(),deleteExperiment:function(){var ye=Ye()(Oe.a.mark(function o(Jt){return Oe.a.wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,De.a.delete("api/projects/".concat(R.currentTeamId,"/experiments/").concat(Jt));case 2:return Me.a.info("Experiment removed"),Lt.abrupt("return",R.experiments.filter(function(_){return _.id!==Jt}));case 4:case"end":return Lt.stop()}},o)}));function $t(o){return ye.apply(this,arguments)}return $t}(),addToExperiments:function($t){return[].concat(it()(R.experiments),[$t])},updateExperiments:function($t){return R.experiments.map(function(o){return o.id===$t.id?$t:o})}}],tab:[Z.h.All,{setExperimentsFilters:function(){var ye=Ye()(Oe.a.mark(function o(Jt){var Mt,Lt;return Oe.a.wrap(function(Gt){for(;;)switch(Gt.prev=Gt.next){case 0:return Mt=Jt.tab,Lt=Mt===Z.h.Yours?Object(Qe.Ab)({user:!0}):Object(Qe.Ab)({archived:!0}),Mt===Z.h.All?xt.loadExperiments(Object(Qe.Ab)({all:!0})):xt.loadExperiments(Lt),Gt.abrupt("return",Mt);case 4:case"end":return Gt.stop()}},o)}));function $t(o){return ye.apply(this,arguments)}return $t}()}]}},events:function(Ot){var R=Ot.actions;return{afterMount:function(){R.loadExperiments(Object(Qe.Ab)({all:!0}))}}}})},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Ut});var ne=e("./node_modules/core-js/modules/es.array.concat.js"),u=e("./node_modules/core-js/modules/es.array.map.js"),$e=e("./node_modules/core-js/modules/es.array.splice.js"),Xe=e("./node_modules/@babel/runtime/helpers/extends.js"),w=e.n(Xe),et=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),X=e.n(et),ae=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),r=e.n(ae),S=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ct=e.n(S),G=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),V=e.n(G),it={};it.insert="head",it.singleton=!1;var ze=ct()(V.a,it),Oe=V.a.locals||{},J=e("./node_modules/react/index.js"),D=e.n(J),k=e("./node_modules/kea/lib/index.esm.js"),Ye=e("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),fe=e("./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),De=e("./node_modules/antd/es/button/index.js"),Ke=e("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),Z=e("./frontend/src/types.ts"),Qe=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ce=e.n(Qe),Me=e("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),Ft=e("./frontend/src/lib/components/icons.tsx"),_e=Object(Me.c)(function(){return D.a.createElement("span",{className:"action-filter-drag-handle"},D.a.createElement(Ft.SortableDragIcon,null))}),Ot=Object(Me.b)(function(q){var Ie=q.filterCount,ke=q.filterIndex,le=Ce()(q,["filterCount","filterIndex"]),Te=Ie>1;return D.a.createElement("div",{className:"draggable-action-filter ".concat(Te?"drag-handle-visible":"")},Te?D.a.createElement(_e,null):D.a.createElement("span",{style:{marginLeft:4}}),D.a.createElement(fe.a,w()({},le,{filterCount:Ie,index:ke,key:ke})))}),R=Object(Me.a)(function(q){var Ie=q.children;return D.a.createElement("div",null,Ie)});try{Ot.displayName="SortableActionFilterRow",Ot.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:Ot.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(q){}try{R.displayName="SortableContainer",R.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:R.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(q){}var xt=e("./node_modules/core-js/modules/es.function.name.js"),ye=e("./node_modules/antd/es/modal/index.js"),$t=e("./node_modules/antd/es/input/index.js"),o=e("./frontend/src/scenes/insights/utils.ts"),Jt=e("./node_modules/core-js/modules/es.array.filter.js"),Mt=Object(k.kea)({props:{},key:function(Ie){return Ie.typeKey},path:function(Ie){return["scenes","insights","ActionFilter","renameModalLogic",Ie]},connect:{actions:[Ye.a,["selectFilter"]]},actions:function(){return{setName:function(ke){return{name:ke}}}},reducers:function(Ie){var ke,le=Ie.props;return{name:[(ke=Object(o.c)(le.filter))!==null&&ke!==void 0?ke:"",{setName:function(Fe,ge){var St=ge.name;return St},selectFilter:function(Fe,ge){var St,te=ge.filter;return(St=Object(o.c)(te))!==null&&St!==void 0?St:""}}]}}});function Lt(q){var Ie,ke=q.typeKey,le=q.view,Te=Object(k.useValues)(Ye.a),Fe=Te.selectedFilter,ge=Te.modalVisible,St=Object(k.useActions)(Ye.a),te=St.renameFilter,Ne=St.hideModal,Ct=Mt({typeKey:ke,filter:Fe}),be=Object(k.useValues)(Ct),me=be.name,ce=Object(k.useActions)(Ct),Le=ce.setName,ot=Object(J.useRef)(null);_(ot,{cursor:"all"},[ge]);var Rt="Rename ".concat(le===Z.s.FUNNELS?"funnel step":"graph series");return D.a.createElement(ye.a,{"data-attr":"filter-rename-modal",visible:ge,title:Rt,footer:D.a.createElement(D.a.Fragment,null,D.a.createElement(De.a,{type:"link",onClick:Ne},"Cancel"),D.a.createElement(De.a,{type:"primary",onClick:function(){return te(me)}},Rt)),onCancel:Ne},"Query series/steps can be renamed to provide a more"," ",D.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",D.a.createElement("br",null),D.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),D.a.createElement($t.a,{ref:ot,value:me,onPressEnter:function(){return te(me)},onChange:function(It){return Le(It.target.value)},suffix:D.a.createElement("span",{className:"text-muted-alt"},(Ie=Object(o.c)(Fe,!1))!==null&&Ie!==void 0?Ie:"")}))}function _(q,Ie){var ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(J.useEffect)(function(){var le=setTimeout(function(){if(q.current){var Te;(Te=q.current)===null||Te===void 0||Te.focus(Ie)}},0);return function(){return clearTimeout(le)}},ke)}try{Lt.displayName="RenameModal",Lt.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:Lt.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(q){}var Gt=e("./frontend/src/lib/utils/eventUsageLogic.ts"),ut=e("./frontend/src/scenes/teamLogic.ts"),Zt=e("./node_modules/clsx/dist/clsx.m.js");function Tt(q,Ie){var ke=Object.keys(q);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(q);Ie&&(le=le.filter(function(Te){return Object.getOwnPropertyDescriptor(q,Te).enumerable})),ke.push.apply(ke,le)}return ke}function vt(q){for(var Ie=1;Ie<arguments.length;Ie++){var ke=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?Tt(Object(ke),!0).forEach(function(le){X()(q,le,ke[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ke)):Tt(Object(ke)).forEach(function(le){Object.defineProperty(q,le,Object.getOwnPropertyDescriptor(ke,le))})}return q}var Ut=D.a.forwardRef(function(q,Ie){var ke=q.setFilters,le=q.filters,Te=q.typeKey,Fe=q.addFilterDefaultOptions,ge=Fe===void 0?{}:Fe,St=q.mathAvailability,te=St===void 0?fe.b.All:St,Ne=q.hidePropertySelector,Ct=Ne===void 0?!1:Ne,be=q.buttonCopy,me=be===void 0?"":be,ce=q.disabled,Le=ce===void 0?!1:ce,ot=q.sortable,Rt=ot===void 0?!1:ot,wt=q.showSeriesIndicator,It=wt===void 0?!1:wt,we=q.seriesIndicatorType,qe=we===void 0?"alpha":we,gt=q.showOr,tt=gt===void 0?!1:gt,Ze=q.hideFilter,lt=Ze===void 0?!1:Ze,dt=q.hideRename,ie=dt===void 0?!1:dt,B=q.horizontalUI,ht=B===void 0?!1:B,mt=q.fullWidth,an=mt===void 0?!1:mt,qt=q.customRowPrefix,rn=q.customRowSuffix,yn=q.rowClassName,Vt=q.entitiesLimit,un=q.propertyFilterWrapperClassName,cn=q.stripeActionRow,fn=cn===void 0?!0:cn,He=q.customActions,Tn=q.showNestedArrow,sn=Tn===void 0?!1:Tn,Xn=q.actionsTaxonomicGroupTypes,Qn=q.propertiesTaxonomicGroupTypes,on=q.hideDeleteBtn,Nn=q.renderRow,Wn=q.buttonType,vn=Wn===void 0?"dashed":Wn,Sn=q.readOnly,Yt=Sn===void 0?!1:Sn,_n=Object(k.useValues)(ut.a),Zn=_n.currentTeamId,zt=Object(Ye.a)({teamId:Zn,setFilters:ke,filters:le,typeKey:Te,addFilterDefaultOptions:ge}),gn=Object(k.useActions)(Gt.f),pt=gn.reportFunnelStepReordered,nt=Object(k.useValues)(zt),Bt=nt.localFilters,bn=Object(k.useActions)(zt),Mn=bn.addFilter,wn=bn.setLocalFilters,Dn=bn.showModal;Object(J.useEffect)(function(){wn(le)},[le]);function Fn(Ln){var jn=Ln.oldIndex,zn=Ln.newIndex;function Bn(Hn,$n,qn){var In=r()(Hn);return Array.prototype.splice.call(In,qn,0,Array.prototype.splice.call(In,$n,1)[0]),In.map(function(la,Vn){return vt(vt({},la),{},{order:Vn})})}ke(Object(Ye.b)(Bn(Bt,jn,zn))),jn!==zn&&pt()}var mn=Vt===1,Jn={logic:zt,showSeriesIndicator:It,seriesIndicatorType:qe,mathAvailability:te,hidePropertySelector:Ct,customRowPrefix:qt,customRowSuffix:rn,rowClassName:yn,propertyFilterWrapperClassName:un,stripeActionRow:fn,hasBreakdown:!!le.breakdown,fullWidth:an,actionsTaxonomicGroupTypes:Xn,propertiesTaxonomicGroupTypes:Qn,hideDeleteBtn:on,disabled:Le,readOnly:Yt,renderRow:Nn,hideRename:ie,onRenameClick:Dn},kn=Boolean(Vt&&Bt.length>=Vt);return D.a.createElement("div",{ref:Ie},!ie&&!Yt&&D.a.createElement(k.BindLogic,{logic:Ye.a,props:{setFilters:ke,filters:le,typeKey:Te,addFilterDefaultOptions:ge}},D.a.createElement(Lt,{view:le.insight,typeKey:Te})),Bt?Rt?D.a.createElement(R,{onSortEnd:Fn,lockAxis:"y",distance:5},Bt.map(function(Ln,jn){return D.a.createElement(Ot,w()({key:jn,filter:Ln,index:jn,filterIndex:jn,filterCount:Bt.length,showNestedArrow:sn},Jn))})):Bt.map(function(Ln,jn){return D.a.createElement(fe.a,w()({filter:Ln,index:jn,key:jn,singleFilter:mn,showOr:tt,hideFilter:lt||Yt,horizontalUI:ht,filterCount:Bt.length,showNestedArrow:sn},Jn))}):null,(!mn||He)&&D.a.createElement("div",{className:Object(Zt.a)(vn!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!mn&&D.a.createElement(De.a,{type:vn,onClick:function(){return Mn()},"data-attr":"add-action-event-button",icon:D.a.createElement(Ke.a,null),disabled:kn||Le||Yt,className:"add-action-event-button"},kn?"Reached limit of ".concat(Vt," ").concat(le.insight===Z.s.FUNNELS?"steps":"series"):me||"Action or event"),He))});try{Ut.displayName="ActionFilter",Ut.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},mathAvailability:{defaultValue:{value:"MathAvailability.All"},description:"",name:"mathAvailability",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:Ut.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(q){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx":function(Pe,z,e){"use strict";e.d(z,"b",function(){return ke}),e.d(z,"a",function(){return le});var ne=e("./node_modules/core-js/modules/es.symbol.js"),u=e("./node_modules/core-js/modules/es.symbol.description.js"),$e=e("./node_modules/core-js/modules/es.array.concat.js"),Xe=e("./node_modules/core-js/modules/es.array.filter.js"),w=e("./node_modules/core-js/modules/es.array.map.js"),et=e("./node_modules/core-js/modules/es.function.name.js"),X=e("./node_modules/core-js/modules/es.object.keys.js"),ae=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=e.n(ae),S=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ct=e.n(S),G=e("./node_modules/react/index.js"),V=e.n(G),it=e("./node_modules/kea/lib/index.esm.js"),ze=e("./node_modules/antd/es/button/index.js"),Oe=e("./node_modules/antd/es/row/index.js"),J=e("./node_modules/antd/es/col/index.js"),D=e("./node_modules/antd/es/select/index.js"),k=e("./frontend/src/lib/components/Tooltip.tsx"),Ye=e("./frontend/src/types.ts"),fe=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),De=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Ke=e("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),Z=e("./frontend/src/lib/utils.tsx"),Qe=e("./frontend/src/lib/components/SeriesGlyph.tsx"),Ce=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Me=e.n(Ce),Ft=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),_e=e.n(Ft),Ot={};Ot.insert="head",Ot.singleton=!1;var R=Me()(_e.a,Ot),xt=_e.a.locals||{},ye=e("./frontend/src/lib/components/Popup/Popup.tsx"),$t=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),o=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Jt=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),Mt=e("./node_modules/clsx/dist/clsx.m.js"),Lt=e("./frontend/src/scenes/trends/mathsLogic.tsx"),_=e("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),Gt=e("./frontend/src/models/actionsModel.ts"),ut=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Zt=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),Tt=e("./frontend/src/lib/components/icons.tsx"),vt;function Ut(te,Ne){var Ct=Object.keys(te);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(te);Ne&&(be=be.filter(function(me){return Object.getOwnPropertyDescriptor(te,me).enumerable})),Ct.push.apply(Ct,be)}return Ct}function q(te){for(var Ne=1;Ne<arguments.length;Ne++){var Ct=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Ut(Object(Ct),!0).forEach(function(be){ct()(te,be,Ct[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(Ct)):Ut(Object(Ct)).forEach(function(be){Object.defineProperty(te,be,Object.getOwnPropertyDescriptor(Ct,be))})}return te}var Ie=function(Ne,Ct){if(Ne)return"Hide filters";if(Ct.properties&&Object.keys(Ct.properties).length>0){var be;return Object(Z.qb)((be=Ct.properties)===null||be===void 0?void 0:be.length,"filter")}return"Add filters"},ke;(function(te){te[te.All=0]="All",te[te.ActorsOnly=1]="ActorsOnly",te[te.None=2]="None"})(ke||(ke={}));function le(te){var Ne,Ct,be,me=te.logic,ce=te.filter,Le=te.index,ot=te.mathAvailability,Rt=te.hidePropertySelector,wt=te.singleFilter,It=te.showOr,we=te.hideFilter,qe=te.hideRename,gt=te.onRenameClick,tt=gt===void 0?function(){}:gt,Ze=te.showSeriesIndicator,lt=te.seriesIndicatorType,dt=lt===void 0?"alpha":lt,ie=te.horizontalUI,B=ie===void 0?!1:ie,ht=te.fullWidth,mt=ht===void 0?!1:ht,an=te.filterCount,qt=te.customRowPrefix,rn=te.customRowSuffix,yn=te.rowClassName,Vt=te.propertyFilterWrapperClassName,un=te.stripeActionRow,cn=un===void 0?!0:un,fn=te.hasBreakdown,He=te.showNestedArrow,Tn=He===void 0?!1:He,sn=te.hideDeleteBtn,Xn=sn===void 0?!1:sn,Qn=te.actionsTaxonomicGroupTypes,on=Qn===void 0?[o.a.Events,o.a.Actions]:Qn,Nn=te.propertiesTaxonomicGroupTypes,Wn=te.disabled,vn=Wn===void 0?!1:Wn,Sn=te.readOnly,Yt=Sn===void 0?!1:Sn,_n=te.renderRow,Zn=Object(it.useValues)(me),zt=Zn.selectedFilter,gn=Zn.entities,pt=Zn.entityFilterVisible,nt=Object(it.useActions)(me),Bt=nt.updateFilter,bn=nt.selectFilter,Mn=nt.updateFilterMath,wn=nt.removeLocalFilter,Dn=nt.updateFilterProperty,Fn=nt.setEntityFilterVisibility,mn=nt.duplicateFilter,Jn=Object(it.useValues)(Gt.a),kn=Jn.actions,Ln=Object(it.useValues)(Lt.c),jn=Ln.mathDefinitions,zn=typeof ce.order=="number"?pt[ce.order]:!1,Bn,Hn,$n,qn=ce.math,In=ce.math_property,la=ce.math_group_type_index,Vn=function(){wn(q(q({},ce),{},{index:Le}))},Ea=function(pe,$){var rt;Mn(q(q({},Object(Lt.b)($)),{},{math_property:!((rt=jn[$])===null||rt===void 0)&&rt.onProperty?In!=null?In:"$time":void 0,type:ce.type,index:Le}))},ra=function(pe,$){Mn(q(q({},ce),{},{math_property:$,index:Le}))},Oa=Boolean(zt&&(zt==null?void 0:zt.type)===ce.type&&(zt==null?void 0:zt.index)===Le),ca=function(){bn(Oa?null:q(q({},ce),{},{index:Le}))};if(ce.type===Ye.g.NEW_ENTITY)Hn=null,$n=null;else{var oa;Bn=((oa=gn[ce.type])===null||oa===void 0?void 0:oa.filter(function(L){return L.id===ce.id})[0])||{},Hn=Bn.name||ce.name,$n=Bn.id||ce.id}var ua=V.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),ea=dt==="numeric"?V.a.createElement(Qe.a,{style:{borderColor:"var(--border)"}},Le+1):V.a.createElement(Qe.b,{seriesIndex:Le,hasBreakdown:fn}),O=typeof qt=="function"?qt({filter:ce,index:Le,onClose:Vn}):qt,b=V.a.createElement(ye.a,{overlay:V.a.createElement($t.a,{groupType:ce.type,value:ce.type==="actions"&&typeof $n=="string"?parseInt($n):$n||void 0,onChange:function(pe,$,rt){Bt({type:St(pe.type)||void 0,id:"".concat($),name:rt==null?void 0:rt.name,index:Le})},onClose:function(){return bn(null)},taxonomicGroupTypes:on}),visible:Oa,onClickOutside:function(){return bn(null)}},function(L){var pe=L.setRef;return V.a.createElement(ze.a,{"data-attr":"trend-element-subject-"+Le,onClick:ca,block:mt,ref:pe,disabled:vn||Yt,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},V.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},V.a.createElement(Jt.a,{filter:ce})),V.a.createElement(De.a,{style:{fontSize:10}}))}),P=typeof rn=="function"?rn({filter:ce,index:Le,onClose:Vn}):rn,N=V.a.createElement(ze.a,{type:"link",onClick:function(){typeof ce.order=="number"&&Fn(ce.order,!zn)},className:"row-action-btn show-filters".concat(zn?" visible":""),"data-attr":"show-prop-filter-".concat(Le),title:"Show filters",style:{display:"flex",alignItems:"center"}},V.a.createElement(Tt.IconFilter,{fontSize:"1.25em"}),!((Ne=ce.properties)===null||Ne===void 0)&&Ne.length?Object(Z.qb)((Ct=ce.properties)===null||Ct===void 0?void 0:Ct.length,"filter"):null),Y=V.a.createElement(ze.a,{type:"link",onClick:function(){bn(ce),tt()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(Le),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},V.a.createElement(Tt.IconEdit,{fontSize:"1.25em"})),ve=V.a.createElement(ze.a,{type:"link",onClick:function(){mn(ce)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(Le),title:"Duplicate graph series"},V.a.createElement(Tt.IconCopy,{fontSize:"1.25em"})),re=V.a.createElement(ze.a,{type:"link",onClick:Vn,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(Le),title:"Delete graph series"},V.a.createElement(Tt.IconDelete,{fontSize:"1.25em"}));return V.a.createElement("div",{className:Object(Mt.a)({"action-row-striped":B&&cn,"action-row":!B||!cn,"full-width":mt})},!B&&Le>0&&It&&V.a.createElement(Oe.a,{align:"middle",style:{marginTop:12}},ua),V.a.createElement(Oe.a,{gutter:8,align:"middle",className:"".concat(B?"":"mt"," ").concat(yn),wrap:!mt},_n?_n({seriesIndicator:ea,prefix:O,filter:b,suffix:P,propertyFiltersButton:N,renameRowButton:Y,deleteButton:re,orLabel:ua}):V.a.createElement(V.a.Fragment,null,!Xn&&B&&!wt&&an>1&&V.a.createElement(J.a,null,V.a.createElement(ze.a,{type:"link",onClick:Vn,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:V.a.createElement(Ke.a,null)})),Ze&&V.a.createElement(J.a,{className:"action-row-letter"},ea),qt!==void 0?V.a.createElement(J.a,null,O):V.a.createElement(V.a.Fragment,null,B&&V.a.createElement(J.a,null,"Showing")),V.a.createElement(J.a,{className:"column-filter",style:mt?{}:{maxWidth:"calc(".concat(ot===ke.None?"100":"50","% - 16px)")},flex:mt?"auto":void 0},b),rn!==void 0&&V.a.createElement(J.a,{className:"column-row-suffix"},P),ot!==ke.None&&V.a.createElement(V.a.Fragment,null,B&&V.a.createElement(J.a,null,"counted by"),V.a.createElement(J.a,{style:{maxWidth:"calc(50% - 16px".concat(Ze?" - 32px":"",")")}},V.a.createElement(Fe,{math:qn,mathGroupTypeIndex:la,index:Le,onMathSelect:Ea,style:{maxWidth:"100%",width:"initial"},mathAvailability:ot})),((be=jn[qn||""])===null||be===void 0?void 0:be.onProperty)&&V.a.createElement(V.a.Fragment,null,B&&V.a.createElement(J.a,null,"on property"),V.a.createElement(J.a,{style:{maxWidth:"calc(50% - 16px".concat(Ze?" - 32px":"",")")}},V.a.createElement(Zt.c,{groupType:o.a.NumericalEventProperties,value:In,onChange:function(pe){return ra(Le,pe)},eventNames:Hn?[Hn]:[],dataAttr:"math-property-select",renderValue:function(pe){return V.a.createElement(k.a,{title:V.a.createElement(V.a.Fragment,null,"Calculate"," ",jn[qn!=null?qn:""].name.toLowerCase()," from property ",V.a.createElement("code",null,pe),". Note that only"," ",Hn," occurences where ",V.a.createElement("code",null,pe)," is set with a numeric value will be taken into account."),placement:"right"},V.a.createElement("div",null,V.a.createElement(ut.b,{value:pe,disablePopover:!0})))}})))),(B||mt)&&!we&&!Yt&&V.a.createElement(J.a,null,N),(B||mt)&&!qe&&!Yt&&V.a.createElement(J.a,null,Y),(B||mt)&&!we&&!wt&&!Yt&&V.a.createElement(J.a,null,ve),!Xn&&!B&&!wt&&!Yt&&V.a.createElement(J.a,{className:"column-delete-btn"},re),B&&an>1&&Le<an-1&&It&&ua)),(!Rt||ce.properties&&ce.properties.length>0)&&!B&&!mt&&V.a.createElement("div",{style:{paddingTop:6}},V.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),V.a.createElement(ze.a,{className:"ant-btn-md",onClick:function(){return typeof ce.order=="number"?Fn(ce.order,!zn):void 0},"data-attr":"show-prop-filter-"+Le},Ie(zn,ce))),zn&&V.a.createElement("div",{className:"mr property-filter-wrapper ".concat(Vt)},V.a.createElement(fe.a,{pageKey:"".concat(Le,"-").concat($n,"-filter"),propertyFilters:ce.properties,onChange:function(pe){return Dn({properties:pe,index:Le})},disablePopover:B,style:{marginBottom:0},showNestedArrow:Tn,taxonomicGroupTypes:Nn,eventNames:ce.type===o.a.Events&&ce.id?[String(ce.id)]:ce.type===o.a.Actions&&ce.id?Object(Z.I)(parseInt(String(ce.id)),kn):[]})))}var Te="This can only be used on properties that have at least one number type occurence in your events.";function Fe(te){var Ne,Ct=te.math,be=te.mathGroupTypeIndex,me=te.mathAvailability,ce=te.index,Le=te.onMathSelect,ot=te.style,Rt=Object(it.useValues)(Lt.c),wt=Rt.mathDefinitions,It=Rt.eventMathEntries,we=Rt.propertyMathEntries,qe=It;me===ke.ActorsOnly&&(qe=qe.filter(function(tt){var Ze=r()(tt,2),lt=Ze[1];return lt.actor}));var gt=Object(Lt.a)(Ct,be);return me===ke.ActorsOnly&&!(!((Ne=wt[gt])===null||Ne===void 0)&&Ne.actor)&&(gt="dau"),V.a.createElement(D.a,{style:q({width:150},ot),value:gt,onChange:function(Ze){return Le(ce,Ze)},"data-attr":"math-selector-".concat(ce),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},V.a.createElement(D.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},qe.map(function(tt){var Ze=r()(tt,2),lt=Ze[0],dt=Ze[1],ie=dt.name,B=dt.description,ht=dt.onProperty;return V.a.createElement(D.a.Option,{key:lt,value:lt,"data-attr":"math-".concat(lt,"-").concat(ce)},V.a.createElement(k.a,{title:ht?V.a.createElement(V.a.Fragment,null,B,V.a.createElement("br",null),Te):B,placement:"right"},V.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},ie)))}),Object(_.a)({value:""})),me!==ke.ActorsOnly&&V.a.createElement(D.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},we.map(function(tt){var Ze=r()(tt,2),lt=Ze[0],dt=Ze[1],ie=dt.name,B=dt.description,ht=dt.onProperty;return V.a.createElement(D.a.Option,{key:lt,value:lt,"data-attr":"math-".concat(lt,"-").concat(ce)},V.a.createElement(k.a,{title:ht?V.a.createElement(V.a.Fragment,null,B,V.a.createElement("br",null),Te):B,placement:"right"},V.a.createElement("div",{style:{height:"100%",width:"100%"}},ie)))})))}var ge=(vt={},ct()(vt,o.a.Events,Ye.g.EVENTS),ct()(vt,o.a.Actions,Ye.g.ACTIONS),vt);function St(te){return ge[te]||null}try{le.displayName="ActionFilterRow",le.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},mathAvailability:{defaultValue:null,description:"",name:"mathAvailability",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:le.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(te){}try{St.displayName="taxonomicFilterGroupTypeToEntityType",St.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:St.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(te){}},"./frontend/src/scenes/insights/InsightContainer.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return he});var ne=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=e.n(ne),$e=e("./node_modules/antd/es/card/index.js"),Xe=e("./node_modules/antd/es/row/index.js"),w=e("./node_modules/antd/es/col/index.js"),et=e("./node_modules/core-js/modules/es.array.includes.js"),X=e("./node_modules/core-js/modules/es.string.includes.js"),ae=e("./node_modules/react/index.js"),r=e.n(ae),S=e("./node_modules/kea/lib/index.esm.js"),ct=e("./node_modules/antd/es/tag/index.js"),G=e("./node_modules/antd/es/select/index.js"),V=e("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),it=e("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),ze=e("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),Oe=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},D=J,k=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Ye=function(I,F){return ae.createElement(k.a,Object(Oe.a)(Object(Oe.a)({},I),{},{ref:F,icon:D}))};Ye.displayName="AreaChartOutlined";var fe=ae.forwardRef(Ye),De=e("./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js"),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},Z=Ke,Qe=function(I,F){return ae.createElement(k.a,Object(Oe.a)(Object(Oe.a)({},I),{},{ref:F,icon:Z}))};Qe.displayName="TableOutlined";var Ce=ae.forwardRef(Qe),Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},Ft=Me,_e=function(I,F){return ae.createElement(k.a,Object(Oe.a)(Object(Oe.a)({},I),{},{ref:F,icon:Ft}))};_e.displayName="PieChartOutlined";var Ot=ae.forwardRef(_e),R=e("./frontend/src/types.ts"),xt=e("./frontend/src/lib/utils.tsx"),ye=e("./frontend/src/scenes/insights/insightLogic.ts");function $t(A){var I=A.filters,F=A.onChange,H=A.disabled,ue=Object(S.useValues)(ye.c),ee=ue.insightProps,se=Object(S.useValues)(Object(V.a)(ee)),Ve=se.chartFilter,Je=Object(S.useActions)(Object(V.a)(ee)),We=Je.setChartFilter,je=I.insight===R.s.STICKINESS||I.insight===R.s.RETENTION,Ue=!1,jt=I.insight===R.s.RETENTION||I.insight===R.s.STICKINESS,ft=I.insight===R.s.RETENTION,Pt=ft||I.insight===R.s.STICKINESS||I.insight===R.s.RETENTION,Ht=I.insight===R.s.RETENTION?R.d.ActionsTable:I.insight===R.s.FUNNELS?R.d.FunnelViz:R.d.ActionsLineGraph;function Et(Wt){var pn=Wt.icon,ln=Wt.children,Cn=ln===void 0?null:ln;return r.a.createElement(r.a.Fragment,null,pn," ",Cn)}function Nt(Wt){var pn=Wt.children,ln=pn===void 0?null:pn;return r.a.createElement(ct.a,{color:"orange",style:{marginLeft:8,fontSize:10}},ln)}var Dt=I.insight===R.s.FUNNELS?[{value:R.o.Steps,label:r.a.createElement(Et,{icon:r.a.createElement(it.a,null)},"Steps")},{value:R.o.Trends,label:r.a.createElement(Et,{icon:r.a.createElement(ze.a,null)},"Trends",r.a.createElement(Nt,null,"BETA"))}]:[{label:"Line Chart",options:[{value:R.d.ActionsLineGraph,label:r.a.createElement(Et,{icon:r.a.createElement(ze.a,null)},"Linear")},{value:R.d.ActionsLineGraphCumulative,label:r.a.createElement(Et,{icon:r.a.createElement(fe,null)},"Cumulative"),disabled:je}]},{label:"Bar Chart",options:[{value:R.d.ActionsBar,label:r.a.createElement(Et,{icon:r.a.createElement(De.a,null)},"Time"),disabled:ft},{value:R.d.ActionsBarValue,label:r.a.createElement(Et,{icon:r.a.createElement(De.a,null)},"Value"),disabled:Pt}]},{value:R.d.ActionsTable,label:r.a.createElement(Et,{icon:r.a.createElement(Ce,null)},"Table"),disabled:Ue},{value:R.d.ActionsPie,label:r.a.createElement(Et,{icon:r.a.createElement(Ot,null)},"Pie"),disabled:jt}];return r.a.createElement(G.a,{key:"2",defaultValue:I.display||Ht,value:Ve||Ht,onChange:function(pn){We(pn),F==null||F(pn)},bordered:!0,dropdownAlign:xt.a.bottomRight,dropdownMatchSelectWidth:!1,"data-attr":"chart-filter",disabled:H,options:Dt})}try{$t.displayName="ChartFilter",$t.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:$t.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(A){}var o=e("./node_modules/antd/es/checkbox/index.js"),Jt=e("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function Mt(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=Object(S.useValues)(Object(Jt.a)(I)),H=F.compare,ue=F.disabled,ee=Object(S.useActions)(Object(Jt.a)(I)),se=ee.setCompare;return ue?null:r.a.createElement(o.a,{onChange:function(Je){se(Je.target.checked)},checked:H,style:{marginLeft:8,marginRight:6},disabled:ue},"Compare",r.a.createElement("span",{className:"hide-lte-md"}," to previous"))}var Lt=e("./node_modules/core-js/modules/es.array.map.js"),_=e("./node_modules/core-js/modules/es.object.entries.js"),Gt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ut=e.n(Gt),Zt=e("./node_modules/core-js/modules/es.array.iterator.js"),Tt=e("./node_modules/core-js/modules/es.object.to-string.js"),vt=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Ut=e("./frontend/src/scenes/insights/sharedUtils.ts");function q(A,I){var F=Object.keys(A);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(A);I&&(H=H.filter(function(ue){return Object.getOwnPropertyDescriptor(A,ue).enumerable})),F.push.apply(F,H)}return F}function Ie(A){for(var I=1;I<arguments.length;I++){var F=arguments[I]!=null?arguments[I]:{};I%2?q(Object(F),!0).forEach(function(H){u()(A,H,F[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):q(Object(F)).forEach(function(H){Object.defineProperty(A,H,Object.getOwnPropertyDescriptor(F,H))})}return A}var ke=Object(S.kea)({props:{},key:Object(Ut.c)("new"),path:function(I){return["lib","components","IntervalFilter","intervalFilterLogic",I]},connect:function(I){return{actions:[Object(ye.c)(I),["setFilters"]],values:[Object(ye.c)(I),["filters"]]}},actions:function(){return{setInterval:function(F){return{interval:F}}}},listeners:function(I){var F=I.values,H=I.actions;return{setInterval:function(ee){var se=ee.interval;Object(xt.mb)(se,F.filters.interval)||H.setFilters(Ie(Ie({},F.filters),{},{interval:se}))}}},selectors:{interval:[function(A){return[A.filters]},function(A){return A==null?void 0:A.interval}]}}),le=e("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),Te={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function Fe(A){var I=A.disabled,F=Object(S.useValues)(ye.c),H=F.insightProps,ue=Object(S.useValues)(ke(H)),ee=ue.interval,se=Object(S.useActions)(ke(H)),Ve=se.setInterval,Je=Object.entries(Te).map(function(We){var je=ut()(We,2),Ue=je[0],jt=je[1].label;return{key:Ue,value:Ue,label:Ue===ee?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null)," ",jt):jt}});return r.a.createElement(G.a,{bordered:!0,disabled:I,defaultValue:ee||"day",value:ee||void 0,dropdownMatchSelectWidth:!1,onChange:Ve,"data-attr":"interval-filter",options:Je})}try{Fe.displayName="IntervalFilter",Fe.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:Fe.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(A){}var ge=e("./node_modules/@ant-design/icons/es/icons/FundOutlined.js"),St=e("./frontend/src/lib/components/SmoothingFilter/smoothings.ts");function te(A,I){var F=Object.keys(A);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(A);I&&(H=H.filter(function(ue){return Object.getOwnPropertyDescriptor(A,ue).enumerable})),F.push.apply(F,H)}return F}function Ne(A){for(var I=1;I<arguments.length;I++){var F=arguments[I]!=null?arguments[I]:{};I%2?te(Object(F),!0).forEach(function(H){u()(A,H,F[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):te(Object(F)).forEach(function(H){Object.defineProperty(A,H,Object.getOwnPropertyDescriptor(F,H))})}return A}function Ct(){var A=Object(S.useValues)(ye.c),I=A.filters,F=Object(S.useActions)(ye.c),H=F.setFilters,ue=I.interval,ee=I.smoothing_intervals;if(!ue)return null;var se=St.a[ue].map(function(Ve){var Je=Ve.value,We=Ve.label;return{value:Je,label:Je===ee?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,null)," ",We):We}});return se.length?r.a.createElement(G.a,{key:ue,bordered:!0,value:ee||1,dropdownMatchSelectWidth:!1,onChange:function(Je){H(Ne(Ne({},I),{},{smoothing_intervals:Je}))},"data-attr":"smoothing-filter",options:se}):r.a.createElement(r.a.Fragment,null)}var be=e("./frontend/src/lib/constants.tsx"),me=e("./node_modules/@babel/runtime/helpers/extends.js"),ce=e.n(me),Le=e("./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts"),ot=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function Rt(A){var I=Object(S.useValues)(ye.c),F=I.insightProps,H=Object(S.useValues)(Object(Le.a)(F)),ue=H.dates,ee=ue.dateFrom,se=ue.dateTo,Ve=Object(S.useActions)(Object(Le.a)(F)),Je=Ve.setDates;return r.a.createElement(ot.a,ce()({},A,{dateFrom:ee!=null?ee:void 0,dateTo:se!=null?se:void 0,onChange:function(je,Ue){var jt;Je(je,Ue),(jt=A.onChange)===null||jt===void 0||jt.call(A,je,Ue)}}))}try{Rt.displayName="InsightDateFilter",Rt.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string"}},showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},bordered:{defaultValue:null,description:"",name:"bordered",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string, toDate: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"((props: any) => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"Record<string, dateMappingOption>"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}},selectProps:{defaultValue:null,description:"",name:"selectProps",required:!1,type:{name:"SelectProps<any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:Rt.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(A){}var wt=e("./node_modules/rc-picker/lib/generate/dayjs.js"),It=e.n(wt),we=e("./node_modules/antd/lib/date-picker/generatePicker/index.js"),qe=e.n(we),gt=e("./frontend/src/scenes/retention/retentionTableLogic.ts"),tt=e("./frontend/src/lib/components/Tooltip.tsx"),Ze=e("./frontend/src/lib/dayjs.ts"),lt=qe()(It.a);function dt(A){var I=A.disabled,F=Object(S.useValues)(ye.c),H=F.insightProps,ue=Object(S.useValues)(Object(gt.d)(H)),ee=ue.filters,se=Object(S.useActions)(Object(gt.d)(H)),Ve=se.setFilters,Je=ee.date_to&&Object(Ze.a)(ee.date_to).year()!==Object(Ze.a)().year()?", YYYY":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{title:"Cohorts up to this end date"},r.a.createElement("span",{style:{maxWidth:100,display:"inline-flex",alignItems:"center"}},r.a.createElement(le.a,null),r.a.createElement(lt,{showTime:ee.period==="Hour",use12Hours:!0,format:ee.period==="Hour"?"MMM D".concat(Je,", h a"):"MMM D".concat(Je),value:ee.date_to?Object(Ze.a)(ee.date_to):void 0,onChange:function(je){return Ve({date_to:je&&Object(Ze.a)(je).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",suffixIcon:null,disabled:I}))))}try{dt.displayName="RetentionDatePicker",dt.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:dt.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(A){}var ie=e("./frontend/src/scenes/funnels/funnelLogic.ts"),B=e("./node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js");function ht(A){var I=A.disabled,F=Object(S.useValues)(ye.c),H=F.insightProps,ue=Object(S.useValues)(Object(ie.a)(H)),ee=ue.barGraphLayout,se=Object(S.useActions)(Object(ie.a)(H)),Ve=se.setFilters,Je=[{value:be.p.vertical,icon:r.a.createElement(De.a,null),label:"Left to right"},{value:be.p.horizontal,icon:r.a.createElement(B.a,null),label:"Top to bottom"}];return r.a.createElement(G.a,{defaultValue:be.p.vertical,value:ee||be.p.vertical,onChange:function(je){return Ve({layout:je})},bordered:!0,dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",optionLabelProp:"label",disabled:I},r.a.createElement(G.a.OptGroup,{label:"Graph display options"},Je.map(function(We){return r.a.createElement(G.a.Option,{key:We.value,value:We.value,label:r.a.createElement(r.a.Fragment,null,We.icon," ",We.label)},We.label)})))}try{ht.displayName="FunnelDisplayLayoutPicker",ht.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:ht.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(A){}var mt=e("./node_modules/core-js/modules/es.array.filter.js"),an=e("./node_modules/core-js/modules/es.array.from.js"),qt=e("./node_modules/core-js/modules/es.array.slice.js"),rn=e("./node_modules/core-js/modules/es.string.iterator.js"),yn=e("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),Vt=e("./frontend/src/scenes/paths/pathsLogic.ts"),un=e("./frontend/src/scenes/userLogic.ts");function cn(A){var I,F=A.disabled,H=Object(S.useValues)(ye.c),ue=H.insightProps,ee=Object(S.useValues)(Object(Vt.b)(ue)),se=ee.filter,Ve=Object(S.useActions)(Object(Vt.b)(ue)),Je=Ve.setFilter,We=Object(S.useValues)(un.a),je=We.user,Ue=2,jt=!(je==null||(I=je.organization)===null||I===void 0)&&I.available_features.includes(R.c.PATHS_ADVANCED)?20:5,ft=Array.from(Array.from(Array.from(Array(jt+1).keys()).slice(Ue)),function(Pt){return{label:"".concat(Pt," Steps"),value:Pt}});return r.a.createElement(G.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:se.step_limit||Vt.a,onSelect:function(Ht){return Je({step_limit:Ht})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:xt.a.bottomRight,optionLabelProp:"label",disabled:F},ft.map(function(Pt){return r.a.createElement(G.a.Option,{key:Pt.value,value:Pt.value,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(yn.a,null)," ",Pt.label)},Pt.label)}))}try{cn.displayName="PathStepPicker",cn.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:cn.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"})}catch(A){}var fn=e("./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js");function He(A){var I=A.disabled,F=Object(S.useValues)(ye.c),H=F.insightProps,ue=Object(S.useValues)(Object(gt.d)(H)),ee=ue.retentionReference,se=Object(S.useActions)(Object(gt.d)(H)),Ve=se.setRetentionReference;return r.a.createElement(G.a,{value:ee,onChange:Ve,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:I},[{value:"total",icon:r.a.createElement(fn.a,null),label:"Overall cohort"},{value:"previous",icon:r.a.createElement(fn.a,null),label:"Relative to previous period"}].map(function(Je){return r.a.createElement(G.a.Option,{key:Je.value,value:Je.value,label:r.a.createElement(r.a.Fragment,null,Je.icon," ",Je.label)},Je.label)}))}try{He.displayName="ReferencePicker",He.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:He.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"})}catch(A){}var Tn=e("./node_modules/antd/es/tooltip/index.js"),sn=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Xn=e("./node_modules/core-js/modules/es.array.concat.js"),Qn=e("./node_modules/core-js/modules/es.set.js"),on=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Nn=e.n(on),Wn=e("./node_modules/antd/es/input-number/index.js"),vn=e("./node_modules/clsx/dist/clsx.m.js"),Sn=0,Yt=90,_n=new Set([5,15,25,50,90]),Zn=[{label:"Auto bins",value:be.g,display:!0}].concat(Nn()(Array.from(Array.from(Array(Yt+1).keys()),function(A){return{label:"".concat(A," bins"),value:A,display:_n.has(A)}})),[{label:"Custom",value:"custom",display:!0}]);function zt(A){var I=A.disabled,F=Object(S.useValues)(ye.c),H=F.insightProps,ue=Object(S.useValues)(Object(ie.a)(H)),ee=ue.filters,se=ue.numericBinCount,Ve=Object(S.useActions)(Object(ie.a)(H)),Je=Ve.setBinCount;return r.a.createElement(G.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:be.g,value:ee.bin_count||be.g,onSelect:function(je){return Je(je)},dropdownRender:function(je){return r.a.createElement(r.a.Fragment,null,je,r.a.createElement("div",null,r.a.createElement(Wn.a,{className:"funnel-bins-custom-picker",size:"middle",min:Sn,max:Yt,value:se,onChange:function(jt){var ft=typeof jt=="string"?parseInt(jt):jt;ft&&Je(ft)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:xt.a.bottomRight,optionLabelProp:"label",disabled:I},r.a.createElement(G.a.OptGroup,{label:"Bin Count"},Zn.map(function(We){return We.value==="custom"?null:r.a.createElement(G.a.Option,{className:Object(vn.a)({"select-option-hidden":!We.display}),key:We.value,value:We.value,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,null)," ",We.label)},We.label)})))}try{zt.displayName="FunnelBinsPicker",zt.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:zt.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(A){}var gn=e("./frontend/src/lib/logic/featureFlagLogic.ts"),pt,nt,Bt=function(I,F){switch(I){case R.s.FUNNELS:return F.funnel_viz_type===R.o.Trends;case R.s.RETENTION:case R.s.PATHS:return!1;case R.s.TRENDS:case R.s.STICKINESS:case R.s.LIFECYCLE:default:return![be.e,be.f,be.b].includes(F.display||"")}},bn=function(I){switch(I){case R.s.TRENDS:case R.s.STICKINESS:return!0;case R.s.RETENTION:case R.s.FUNNELS:return!1;case R.s.LIFECYCLE:case R.s.PATHS:return!1;default:return!0}},Mn=(pt={},u()(pt,"".concat(R.s.TRENDS),!0),u()(pt,"".concat(R.s.STICKINESS),!0),u()(pt,"".concat(R.s.LIFECYCLE),!0),u()(pt,"".concat(R.s.FUNNELS),!0),u()(pt,"".concat(R.s.RETENTION),!1),u()(pt,"".concat(R.s.PATHS),!0),pt),wn=(nt={},u()(nt,"".concat(R.s.TRENDS),!0),u()(nt,"".concat(R.s.STICKINESS),!0),u()(nt,"".concat(R.s.LIFECYCLE),!1),u()(nt,"".concat(R.s.FUNNELS),!1),u()(nt,"".concat(R.s.RETENTION),!1),u()(nt,"".concat(R.s.PATHS),!1),nt),Dn=function(I){var F,H;return!I.actions&&!I.events||((F=I.actions)===null||F===void 0?void 0:F.length)===0&&((H=I.events)===null||H===void 0?void 0:H.length)===0};function Fn(A){var I=A.filters,F=A.activeView,H=A.disableTable,ue=A.disabled,ee=F===R.s.FUNNELS,se=F===R.s.PATHS,Ve=Object(S.useValues)(gn.a),Je=Ve.featureFlags;return r.a.createElement("div",{className:"display-config-inner"},r.a.createElement("div",{className:"display-config-inner-row"},Mn[F]&&!H&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},"Date range"),r.a.createElement(Rt,{defaultValue:"Last 7 days",disabled:ue||ee&&Dn(I),bordered:!0,makeLabel:function(je){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null)," ",je,je=="All time"&&r.a.createElement(Tn.a,{title:"Only events dated after 2015 will be shown"},r.a.createElement(sn.a,{className:"info-indicator"})))}})),Bt(F,I)&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},r.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),r.a.createElement(Fe,{view:F,disabled:ue})),F===R.s.TRENDS&&!I.breakdown_type&&!I.compare&&(!I.display||I.display===be.d)&&Je[be.n.SMOOTHING_INTERVAL]?r.a.createElement(Ct,null):null,F===R.s.RETENTION&&r.a.createElement(r.a.Fragment,null,r.a.createElement(dt,{disabled:ue}),r.a.createElement(He,{disabled:ue})),se&&r.a.createElement("span",{className:"filter"},r.a.createElement(cn,{disabled:ue})),wn[F]&&r.a.createElement("span",{className:"filter"},r.a.createElement(Mt,null))),r.a.createElement("div",{className:"display-config-inner-row"},bn(F)&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},"Chart type"),r.a.createElement($t,{filters:I,disabled:ue||I.insight===R.s.LIFECYCLE})),ee&&I.funnel_viz_type===R.o.Steps&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"filter"},r.a.createElement(ht,{disabled:ue}))),ee&&I.funnel_viz_type===R.o.TimeToConvert&&r.a.createElement("span",{className:"filter"},r.a.createElement(zt,{disabled:ue}))))}try{Fn.displayName="InsightDisplayConfig",Fn.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:Fn.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(A){}var mn=e("./node_modules/antd/es/button/index.js"),Jn=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),kn=e.n(Jn),Ln=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),jn=e.n(Ln),zn={};zn.insert="head",zn.singleton=!1;var Bn=kn()(jn.a,zn),Hn=jn.a.locals||{},$n=e("./frontend/src/scenes/funnels/funnelUtils.ts"),qn=e("./node_modules/core-js/modules/es.array.find.js"),In=e("./frontend/src/lib/components/EntityFilterInfo.tsx");function la(){var A,I=Object(S.useValues)(ye.c),F=I.insightProps,H=Object(S.useValues)(Object(ie.a)(F)),ue=H.filters,ee=H.numberOfSeries,se=H.areFiltersValid,Ve=H.filterSteps,Je=Object(S.useActions)(Object(ie.a)(F)),We=Je.changeStepRange;if(ue.funnel_viz_type===R.o.Steps)return null;var je=function(Ht,Et){We(Ht,Et)},Ue=se?Array.from(Array(Math.max(ee)).keys()).slice(0,-1):[0],jt=se?Array.from(Array(Math.max(ee)).keys()).slice(((A=ue.funnel_from_step)!==null&&A!==void 0?A:0)+1):[1],ft=function(Ht){return Ht.map(function(Et){var Nt=Ve.find(function(Dt){return Dt.order===Et});return Nt?r.a.createElement(G.a.Option,{key:Et,value:Et,label:"Step ".concat(Et+1)},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("span",{style:{marginRight:4}},"Step ",Et+1,":"),r.a.createElement(In.a,{filter:Nt}))):null})};return r.a.createElement(Xe.a,{className:"funnel-options-inputs"},r.a.createElement("span",{className:"text-muted-alt"},"from"),r.a.createElement(G.a,{disabled:!se,dropdownMatchSelectWidth:!1,dropdownAlign:xt.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:ue.funnel_from_step||0,onChange:function(Ht){return je(Ht,ue.funnel_to_step)},style:{marginLeft:4,marginRight:4}},ft(Ue)),r.a.createElement("span",{className:"text-muted-alt"},"to"),r.a.createElement(G.a,{disabled:!se,dropdownMatchSelectWidth:!1,dropdownAlign:xt.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:ue.funnel_to_step||Math.max(ee-1,1),onChange:function(Ht){return je(ue.funnel_from_step,Ht)},style:{marginLeft:4,marginRight:4}},ft(jt)))}function Vn(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=A.filters,H=A.activeView,ue=Object(S.useValues)(Object(ie.a)(I)),ee=ue.conversionMetrics,se=ue.aggregationTargetLabel,Ve=Object(S.useActions)(Object(V.a)(I)),Je=Ve.setChartFilter;if(H!==R.s.FUNNELS)return null;var We=[].concat(Nn()(F.funnel_viz_type===R.o.Steps?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},r.a.createElement(tt.a,{title:"Overall conversion rate for all ".concat(se.plural," on the entire funnel.")},r.a.createElement(sn.a,{className:"info-indicator left"})),"Total conversion rate"),r.a.createElement("span",{className:"text-muted-alt mr-025"},":"),r.a.createElement("span",{className:"l4"},Object($n.c)(ee.totalRate),"%"))]:[]),Nn()(F.funnel_viz_type!==R.o.Trends?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},r.a.createElement(tt.a,{title:"Average (arithmetic mean) of the total time each ".concat(se.singular," spent in the entire funnel.")},r.a.createElement(sn.a,{className:"info-indicator left"})),"Average time to convert"," "),F.funnel_viz_type===R.o.TimeToConvert&&r.a.createElement(la,null),r.a.createElement("span",{className:"text-muted-alt mr-025"},":"),r.a.createElement(mn.a,{type:"link",onClick:function(){return Je(R.o.TimeToConvert)},disabled:F.funnel_viz_type===R.o.TimeToConvert},r.a.createElement("span",{className:"l4"},Object(xt.N)(ee.averageTime))))]:[]),Nn()(F.funnel_viz_type===R.o.Trends?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),r.a.createElement(la,null))]:[]));return r.a.createElement(Xe.a,{className:"funnel-canvas-label",align:"middle"},We.map(function(je,Ue){return r.a.createElement(r.a.Fragment,{key:Ue},Ue>0&&r.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),je)}))}function Ea(A){var I=Object(ae.useState)(0),F=ut()(I,2),H=F[1];Object(ae.useEffect)(function(){var ue=setInterval(function(){return H(function(ee){return ee+1})},A);return function(){return clearInterval(ue)}})}var ra=3;function Oa(){var A=Object(S.useValues)(ye.c),I=A.lastRefresh,F=Object(S.useActions)(ye.c),H=F.loadResults;return Ea(15e3),r.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",I?Object(Ze.a)(I).fromNow():"a while ago",r.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),r.a.createElement(Tn.a,{title:r.a.createElement(r.a.Fragment,null,"Insights can be refreshed",r.a.createElement("br",null),"every ",ra," minutes.")},r.a.createElement(mn.a,{size:"small",type:"link",onClick:function(){return H(!0)},disabled:!!I&&Object(Ze.a)().subtract(ra-.5,"minutes").isBefore(I),style:{padding:0}},r.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var ca=e("./frontend/src/scenes/trends/PersonsModal.tsx"),oa=e("./frontend/src/scenes/trends/viz/index.ts"),ua=e("./frontend/src/scenes/trends/SaveCohortModal.tsx"),ea=e("./frontend/src/scenes/trends/trendsLogic.ts"),O=e("./frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},showTotalCount:{defaultValue:{value:"false"},description:"",name:"showTotalCount",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"})}catch(A){}var b=e("./frontend/src/scenes/trends/personsModalLogic.ts"),P=e("./frontend/src/lib/utils/eventUsageLogic.ts"),N=e("./frontend/src/scenes/insights/insightSceneLogic.tsx");function Y(A){var I=A.view,F=Object(S.useValues)(N.a),H=F.insightMode,ue=Object(S.useValues)(ye.c),ee=ue.insightProps,se=Object(S.useValues)(b.b),Ve=se.cohortModalVisible,Je=Object(S.useActions)(b.b),We=Je.setCohortModalVisible,je=Object(S.useValues)(Object(ea.a)(ee)),Ue=je.filters,jt=je.loadMoreBreakdownUrl,ft=je.breakdownValuesLoading,Pt=je.showModalActions,Ht=je.aggregationTargetLabel,Et=Object(S.useActions)(Object(ea.a)(ee)),Nt=Et.loadMoreBreakdownValues,Dt=Object(S.useValues)(b.b),Wt=Dt.showingPeople,pn=Object(S.useActions)(b.b),ln=pn.saveCohortWithUrl,Cn=Object(S.useActions)(P.f),va=Cn.reportCohortCreatedFromPersonsModal,ga=function(){if(!Ue.display||Ue.display===be.d||Ue.display===be.c||Ue.display===be.a)return r.a.createElement(oa.b,null);if(Ue.display===be.f)return r.a.createElement(S.BindLogic,{logic:ea.a,props:{dashboardItemId:null,view:I,filters:null}},r.a.createElement(O.b,{embedded:!0,showTotalCount:!0,filterKey:"trends_".concat(I),canEditSeriesNameInline:H===R.t.Edit,isMainInsightView:!0}));if(Ue.display===be.e)return r.a.createElement(oa.c,null);if(Ue.display===be.b)return r.a.createElement(oa.a,null)};return r.a.createElement(r.a.Fragment,null,(Ue.actions||Ue.events)&&r.a.createElement("div",{className:Ue.display!==be.f?"trends-insights-container":void 0},ga()),Ue.breakdown&&r.a.createElement("div",{className:"mt text-center"},jt?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-muted mb"},"For readability, ",r.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),r.a.createElement("div",null,r.a.createElement(mn.a,{style:{textAlign:"center",marginBottom:16},onClick:Nt,loading:ft},"Load more breakdown values"))):r.a.createElement("span",{className:"text-muted"},"Showing ",r.a.createElement("b",null,"all breakdown values"))),r.a.createElement(ca.a,{visible:Wt&&!Ve,view:I,filters:Ue,onSaveCohort:function(){We(!0)},showModalActions:Pt,aggregationTargetLabel:Ht}),r.a.createElement(ua.a,{visible:Ve,onOk:function(Da){ln(Da),We(!1),va(Ue)},onCancel:function(){return We(!1)}}))}try{Y.displayName="TrendInsight",Y.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:Y.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(A){}var ve=e("./frontend/src/scenes/funnels/Funnel.tsx");function re(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=Object(S.useValues)(Object(ie.a)(I)),H=F.isValidFunnel,ue=F.insightLoading,ee=F.filters,se=F.areFiltersValid,Ve=F.barGraphLayout,Je=F.aggregationTargetLabel,We=Object(S.useValues)(b.b),je=We.showingPeople,Ue=We.cohortModalVisible,jt=Object(S.useActions)(b.b),ft=jt.setCohortModalVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ca.a,{visible:je&&!Ue,view:R.s.FUNNELS,filters:ee,onSaveCohort:function(){ft(!0)},showModalActions:ee.aggregation_group_type_index==null,aggregationTargetLabel:Je}),r.a.createElement("div",{className:Object(vn.a)("funnel-insights-container",{"non-empty-state":H&&se||ue,"no-padding":ee.funnel_viz_type==R.o.Steps&&Ve===be.p.vertical})},r.a.createElement(ve.a,null)))}var L=e("./frontend/src/scenes/retention/RetentionContainer.tsx"),pe=e("./frontend/src/scenes/paths/Paths.tsx"),$=e("./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx"),rt=e("./frontend/src/scenes/insights/EmptyStates/index.ts");function _t(){var A=Object(S.useValues)(ye.c),I=A.activeView;return I!==R.s.PATHS?null:r.a.createElement(Xe.a,{className:"funnel-canvas-label",align:"middle"},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var en=e("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),st=e("./node_modules/antd/lib/input/TextArea.js"),at=e.n(st),Q=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss"),tn=e.n(Q),xn={};xn.insert="head",xn.singleton=!1;var ta=kn()(tn.a,xn),Yn=tn.a.locals||{},yt=e("./node_modules/core-js/modules/es.number.constructor.js"),da=e("./node_modules/core-js/modules/es.number.is-integer.js"),ma=e("./node_modules/core-js/modules/es.number.to-fixed.js"),bt=e("./node_modules/core-js/modules/es.regexp.exec.js"),Xt=e("./node_modules/core-js/modules/es.string.split.js"),Rn=e("./node_modules/antd/es/spin/index.js"),Un=e("./node_modules/antd/es/table/index.js"),Pn=e("./node_modules/antd/lib/table/Column.js"),Qt=e.n(Pn),En=e("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},ya=ha,Ia=function(I,F){return ae.createElement(k.a,Object(Oe.a)(Object(Oe.a)({},I),{},{ref:F,icon:ya}))};Ia.displayName="FallOutlined";var Ra=ae.forwardRef(Ia),na=e("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),ba=e("./frontend/src/lib/components/icons.tsx"),Aa=e("./node_modules/antd/lib/checkbox/Checkbox.js"),hn=e.n(Aa),pa=e("./frontend/src/scenes/funnels/FunnelBarGraph.tsx"),fa=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ta=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss"),xa=e.n(Ta),ja={};ja.insert="head",ja.singleton=!1;var Na=kn()(xa.a,ja),Ma=xa.a.locals||{},Pa=e("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function sa(A){var I=A.id,F=A.offset,H=A.children,ue=Object(S.useActions)(Object(Pa.a)({id:I,offset:F})),ee=ue.scrolling,se=Object(ae.useRef)(null);return Object(ae.useEffect)(function(){var Ve=se.current;return document.addEventListener("scroll",function(){return ee(Ve)}),function(){return document.removeEventListener("scroll",function(){return ee(Ve)})}},[se.current]),r.a.createElement("div",{ref:se},H)}try{sa.displayName="VisibilitySensor",sa.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:sa.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(A){}var Sa=e("./frontend/src/lib/components/LemonButton/index.ts"),f=e("./frontend/src/lib/components/Popup/Popup.tsx"),p=e("./node_modules/antd/es/modal/index.js"),x=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),g=e("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),d=e("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),v=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss"),i=e.n(v),l={};l.insert="head",l.singleton=!1;var c=kn()(i.a,l),y=i.a.locals||{},T=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),a=e("./frontend/src/lib/components/Link.tsx"),n=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function t(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=Object(ie.a)(I),H=Object(S.useValues)(F),ue=H.correlationsLoading,ee=H.funnelCorrelationDetails,se=H.parseDisplayNameForCorrelation,Ve=H.correlationMatrixAndScore,Je=Object(S.useActions)(F),We=Je.setFunnelCorrelationDetails,je=Je.openCorrelationPersonsModal,Ue=(ee==null?void 0:ee.result_type)===R.k.Events?"event":"property",jt=(ee==null?void 0:ee.result_type)===R.k.Events?"performed event":"have property",ft=r.a.createElement(r.a.Fragment,null);if(ee){var Pt=se(ee),Ht=Pt.first_value,Et=Pt.second_value;ft=r.a.createElement(r.a.Fragment,null,r.a.createElement(fa.b,{value:Ht}),Et!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(fa.b,{value:Et,disablePopover:!0})))}var Nt=Ve.correlationScore,Dt=Ve.truePositive,Wt=Ve.falsePositive,pn=Ve.trueNegative,ln=Ve.falseNegative,Cn=Ve.correlationScoreStrength,va=Cn==="strong"?r.a.createElement(x.a,{style:{color:"var(--success)"}}):Cn==="moderate"?r.a.createElement(g.a,{style:{color:"var(--warning)"}}):r.a.createElement(d.a,{style:{color:"var(--danger)"}}),ga=function(){return We(null)};return r.a.createElement(p.a,{className:"correlation-matrix",visible:!!ee,onCancel:ga,destroyOnClose:!0,footer:r.a.createElement(mn.a,{onClick:ga},"Dismiss"),width:600,title:"Correlation details"},r.a.createElement("div",{className:"correlation-table-wrapper"},ue?r.a.createElement("div",{className:"mt text-center"},r.a.createElement(T.a,{size:"lg"})):ee?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-muted-alt mb"},"The table below displays the correlation details for users who ",jt," ",r.a.createElement("b",null,ft),"."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-title"},r.a.createElement("td",{colSpan:3},"Results matrix")),r.a.createElement("tr",null,r.a.createElement("td",null,(ee==null?void 0:ee.result_type)===R.k.Events?"Performed event":"Has property"),r.a.createElement("td",null,"Success"),r.a.createElement("td",null,"Dropped off"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"},"Yes"),r.a.createElement("td",null,r.a.createElement(tt.a,{title:"True positive (TP) - Percentage of users who ".concat(jt," and completed the funnel.")},r.a.createElement("div",{className:"percentage"},Dt?Object(xt.ob)(Dt/(Dt+Wt)):"0.00%")),Dt===0?"0 users":r.a.createElement(a.a,{onClick:function(){je(ee,!0)}},Object(xt.qb)(Dt,"user",void 0,!0,!0))),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(tt.a,{title:"False negative (FN) - Percentage of users who ".concat(jt," and did not complete the funnel.")},ln?Object(xt.ob)(ln/(ln+pn)):"0.00%")),ln===0?"0 users":r.a.createElement(a.a,{onClick:function(){je(ee,!1)}},Object(xt.qb)(ln,"user",void 0,!0,!0)))),r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"},"No"),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(tt.a,{title:"False positive (FP) - Percentage of users who did not ".concat(jt," and completed the funnel.")},Wt?Object(xt.ob)(Wt/(Dt+Wt)):"0.00%")),Object(xt.qb)(Wt,"user",void 0,!0,!0)),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(tt.a,{title:"True negative (TN) - Percentage of users who did not ".concat(jt," and did not complete the funnel.")},pn?Object(xt.ob)(pn/(ln+pn)):"0.00%")),Object(xt.qb)(pn,"user",void 0,!0,!0))),r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"}),r.a.createElement("td",null,r.a.createElement("b",null,"100%")),r.a.createElement("td",null,r.a.createElement("b",null,"100%"))))),r.a.createElement("div",{className:"mt text-center"},Object(xt.j)((ee==null?void 0:ee.result_type)||"")," ",r.a.createElement("b",null,ft)," ","has a"," ",(ee==null?void 0:ee.correlation_type)===R.l.Success?r.a.createElement("b",{className:"text-success"},"positive"," ",r.a.createElement(tt.a,{title:"Positive correlation means this ".concat(Ue," is correlated with a successful conversion.")},r.a.createElement(sn.a,{className:"cursor-pointer"}))):r.a.createElement("b",{className:"text-danger"},"negative"," ",r.a.createElement(tt.a,{title:"Negative correlation means this ".concat(Ue," is correlated with an unsuccessful conversion (user dropped off).")},r.a.createElement(sn.a,{className:"cursor-pointer"})))," ","correlation score of"," ",r.a.createElement("b",{style:{color:Cn==="strong"?"var(--success)":Cn==="moderate"?"var(--warning)":"var(--danger)"}},r.a.createElement(tt.a,{title:"This ".concat(Ue," has ").concat(Cn," correlation.")},r.a.createElement("span",{style:{cursor:"pointer"}},va," ",Nt.toFixed(3)))))):r.a.createElement("div",null,r.a.createElement(n.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function s(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=Object(ie.a)(I),H=Object(S.useValues)(F),ue=H.stepsWithCount,ee=H.correlationValues,se=H.correlationTypes,Ve=H.eventHasPropertyCorrelations,Je=H.eventWithPropertyCorrelationsValues,We=H.parseDisplayNameForCorrelation,je=H.correlationsLoading,Ue=H.eventWithPropertyCorrelationsLoading,jt=H.nestedTableExpandedKeys,ft=H.correlationPropKey,Pt=H.filters,Ht=H.aggregationTargetLabel,Et=Object(S.useActions)(F),Nt=Et.setCorrelationTypes,Dt=Et.loadEventWithPropertyCorrelations,Wt=Et.addNestedTableExpandedKey,pn=Et.removeNestedTableExpandedKey,ln=Et.openCorrelationPersonsModal,Cn=Et.loadCorrelations,va=Object(S.useActions)(P.f),ga=va.reportCorrelationInteraction;Object(ae.useEffect)(function(){Cn({})},[Pt]);var Ca=function(nn){se?se.includes(nn)?Nt(se.filter(function(On){return On!==nn})):Nt([].concat(Nn()(se),[nn])):Nt([nn])},Da=function(nn){var On=function(Va){return Va<10&&!Number.isInteger(Va)?Va.toFixed(1):Va.toFixed()},aa=nn.correlation_type===R.l.Success,An=We(nn),wa=An.first_value,Fa=An.second_value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,aa?r.a.createElement(En.a,{style:{color:"green"}}):r.a.createElement(Ra,{style:{color:"red"}})," ",r.a.createElement(fa.b,{value:wa}),Fa!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(fa.b,{value:Fa,disablePopover:!0}))),r.a.createElement("div",null,Object(xt.j)(Ht.plural)," ",Pt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",r.a.createElement("mark",null,r.a.createElement("b",null,On(nn.odds_ratio),"x ",aa?"more":"less"," likely"))," ","to"," ",nn.result_type===R.k.EventWithProperties?"have this event property":"do this event"),r.a.createElement(t,null))},ia=function(nn){return r.a.createElement(pa.c,{onClick:function(){ln(nn,!0)}},nn.success_count)},dn=function(nn){return r.a.createElement(pa.c,{onClick:function(){ln(nn,!1)}},nn.failure_count)},Gn=function(nn){return Ue?r.a.createElement("div",{className:"nested-properties-loading"},r.a.createElement(Rn.a,null),r.a.createElement("h3",null,"Loading correlation results"),r.a.createElement("p",null,"This process can take up to 20 seconds. ")):r.a.createElement("div",null,r.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),r.a.createElement(Un.a,{dataSource:Je[nn],rowKey:function(aa){return aa.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(aa,An){return ga(R.k.EventWithProperties,"pagination change",{page:aa,page_size:An})}}},r.a.createElement(Qt.a,{title:"Property",key:"eventName",render:function(aa,An){return Da(An)},align:"left"}),r.a.createElement(Qt.a,{title:"Completed",key:"success_count",render:function(aa,An){return ia(An)},width:90,align:"center"}),r.a.createElement(Qt.a,{title:"Dropped off",key:"failure_count",render:function(aa,An){return dn(An)},width:120,align:"center"}),r.a.createElement(Qt.a,{title:"",key:"actions",render:function(aa,An){return r.a.createElement(m,{record:An})},align:"center",width:30})))};return ue.length>1?r.a.createElement(sa,{id:ft,offset:152},r.a.createElement("div",{className:"funnel-correlation-table"},r.a.createElement("span",{className:"funnel-correlation-header"},r.a.createElement("span",{className:"table-header"},r.a.createElement(ba.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),r.a.createElement("span",{className:"table-options"},r.a.createElement("p",{className:"title"},"CORRELATION"),r.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return Ca(R.l.Success)}},r.a.createElement(hn.a,{checked:se.includes(R.l.Success),style:{pointerEvents:"none"}},"Success")),r.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return Ca(R.l.Failure)}},r.a.createElement(hn.a,{checked:se.includes(R.l.Failure),style:{pointerEvents:"none"}},"Dropoff")))),r.a.createElement(Un.a,{dataSource:ee,loading:je,size:"small",scroll:{x:"max-content"},rowKey:function(nn){return nn.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return ga(R.k.Events,"load more")}},expandable:{expandedRowRender:function(nn){return Gn(nn.event.event)},expandedRowKeys:jt,rowExpandable:function(){return Pt.aggregation_group_type_index===void 0},expandIcon:function(nn){var On=nn.expanded,aa=nn.onExpand,An=nn.record,wa=nn.expandable;return wa?On?r.a.createElement(tt.a,{title:"Collapse"},r.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(La){pn(An.event.event),aa(An,La)}},r.a.createElement(ba.IconUnfoldLess,null))):r.a.createElement(tt.a,{title:"Expand to see correlated properties for this event"},r.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(La){!Ve(An.event.event)&&Dt(An.event.event),Wt(An.event.event),aa(An,La)}},r.a.createElement(ba.IconUnfoldMore,null))):null}}},r.a.createElement(Qt.a,{title:"Event",key:"eventName",render:function(nn,On){return Da(On)},align:"left",ellipsis:!0}),r.a.createElement(Qt.a,{title:r.a.createElement("div",{className:"flex-center"},"Completed",r.a.createElement(tt.a,{title:"".concat(Object(xt.j)(Ht.plural)," ").concat(Pt.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},r.a.createElement(sn.a,{className:"column-info"}))),key:"success_count",render:function(nn,On){return ia(On)},width:90,align:"center"}),r.a.createElement(Qt.a,{title:r.a.createElement("div",{className:"flex-center"},"Dropped off",r.a.createElement(tt.a,{title:r.a.createElement(r.a.Fragment,null,Object(xt.j)(Ht.plural)," ",Pt.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",r.a.createElement("b",null,"not complete")," the entire funnel.")},r.a.createElement(sn.a,{className:"column-info"}))),key:"failure_count",render:function(nn,On){return dn(On)},width:120,align:"center"}),r.a.createElement(Qt.a,{title:"",key:"actions",render:function(nn,On){return r.a.createElement(m,{record:On})},width:30})))):null}var m=function(I){var F=I.record,H=Object(S.useValues)(ye.c),ue=H.insightProps,ee=Object(ie.a)(ue),se=Object(S.useActions)(ee),Ve=se.excludeEventPropertyFromProject,Je=se.excludeEventFromProject,We=se.setFunnelCorrelationDetails,je=Object(S.useValues)(ee),Ue=je.isEventPropertyExcluded,jt=je.isEventExcluded,ft=F.event.event.split("::"),Pt=Object(ae.useState)(!1),Ht=ut()(Pt,2),Et=Ht[0],Nt=Ht[1];return r.a.createElement(Xe.a,{style:{justifyContent:"flex-end"}},r.a.createElement(f.a,{visible:Et,actionable:!0,onClickOutside:function(){return Nt(!1)},overlay:r.a.createElement(r.a.Fragment,null,F.result_type===R.k.Events&&r.a.createElement(Sa.a,{onClick:function(){return We(F)},fullWidth:!0,type:"stealth"},"View correlation details"),r.a.createElement(Sa.a,{disabled:F.result_type===R.k.EventWithProperties?Ue(ft[1]):jt(ft[0]),onClick:function(){return F.result_type===R.k.EventWithProperties?Ve(ft[0],ft[1]):Je(ft[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",type:"stealth"},"Exclude event from project"))},r.a.createElement(Sa.a,{type:"stealth",onClick:function(){return Nt(!Et)}},r.a.createElement(na.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},h=e("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function E(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=Object(ie.a)(I),H=Object(S.useValues)(F),ue=H.stepsWithCount,ee=H.propertyCorrelationValues,se=H.propertyCorrelationTypes,Ve=H.excludedPropertyNames,Je=H.parseDisplayNameForCorrelation,We=H.propertyCorrelationsLoading,je=H.inversePropertyNames,Ue=H.propertyNames,jt=H.correlationPropKey,ft=H.allProperties,Pt=H.filters,Ht=H.aggregationTargetLabel,Et=Object(S.useActions)(F),Nt=Et.setPropertyCorrelationTypes,Dt=Et.setPropertyNames,Wt=Et.openCorrelationPersonsModal,pn=Et.loadPropertyCorrelations,ln=Object(S.useActions)(P.f),Cn=ln.reportCorrelationInteraction;Object(ae.useEffect)(function(){Ue.length===0&&Dt(ft),pn({})},[Pt]);var va=function(dn){se?se.includes(dn)?Nt(se.filter(function(Gn){return Gn!==dn})):Nt([].concat(Nn()(se),[dn])):Nt([dn])},ga=function(dn){return r.a.createElement(pa.c,{onClick:function(){Wt(dn,!0)}},dn.success_count)},Ca=function(dn){return r.a.createElement(pa.c,{onClick:function(){Wt(dn,!1)}},dn.failure_count)},Da=function(dn){var Gn=function(wa){return wa<10&&!Number.isInteger(wa)?wa.toFixed(1):wa.toFixed()},Kn=dn.correlation_type===R.l.Success,nn=Je(dn),On=nn.first_value,aa=nn.second_value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,Kn?r.a.createElement(En.a,{style:{color:"green"}}):r.a.createElement(Ra,{style:{color:"red"}})," ",r.a.createElement(fa.b,{value:On}),aa!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(fa.b,{value:aa,disablePopover:!0}))),r.a.createElement("div",null,Object(xt.j)(Ht.plural)," ",Pt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",r.a.createElement("mark",null,r.a.createElement("b",null,Gn(dn.odds_ratio),"x ",Kn?"more":"less"," likely"))," ","to have this property value"))};return ue.length>1?r.a.createElement(sa,{offset:150,id:"".concat(jt,"-properties")},r.a.createElement("div",{className:"funnel-correlation-table"},r.a.createElement(Xe.a,{className:"funnel-correlation-header"},r.a.createElement(w.a,{className:"table-header"},r.a.createElement(ba.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),r.a.createElement(w.a,{className:"table-options"},r.a.createElement(Xe.a,{style:{display:"contents"}},ft.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title"},"PROPERTIES "),r.a.createElement(h.a,{value:new Set(Ue),onChange:function(dn){return Dt(dn)},allProperties:je(Ve||[])}))),r.a.createElement(Xe.a,{style:{display:"contents"}},r.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),r.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return va(R.l.Success)}},r.a.createElement(hn.a,{checked:se.includes(R.l.Success),style:{pointerEvents:"none"}},"Success")),r.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return va(R.l.Failure)}},r.a.createElement(hn.a,{checked:se.includes(R.l.Failure),style:{pointerEvents:"none"}},"Dropoff"))))),r.a.createElement(Un.a,{dataSource:ee,loading:We,scroll:{x:"max-content"},size:"small",rowKey:function(dn){return dn.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(dn,Gn){return Cn(R.k.Properties,"pagination change",{page:dn,page_size:Gn})}}},r.a.createElement(Qt.a,{title:"".concat(Object(xt.j)(Ht.singular)," property"),key:"propertName",render:function(dn,Gn){return Da(Gn)},align:"left"}),r.a.createElement(Qt.a,{title:r.a.createElement("div",{className:"flex-center"},"Completed",r.a.createElement(tt.a,{title:"".concat(Object(xt.j)(Ht.plural)," ").concat(Pt.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},r.a.createElement(sn.a,{className:"column-info"}))),key:"success_count",render:function(dn,Gn){return ga(Gn)},width:90,align:"center"}),r.a.createElement(Qt.a,{title:r.a.createElement("div",{className:"flex-center"},"Dropped off",r.a.createElement(tt.a,{title:r.a.createElement(r.a.Fragment,null,Object(xt.j)(Ht.plural)," ",Pt.aggregation_group_type_index!=null?"that":"who"," have this property and did ",r.a.createElement("b",null,"not complete")," the entire funnel.")},r.a.createElement(sn.a,{className:"column-info"}))),key:"failure_count",render:function(dn,Gn){return Ca(Gn)},width:120,align:"center"}),r.a.createElement(Qt.a,{title:"",key:"actions",render:function(dn,Gn){return r.a.createElement(C,{record:Gn})},align:"center",width:30})))):null}var C=function(I){var F=I.record,H=Object(S.useValues)(ye.c),ue=H.insightProps,ee=Object(ie.a)(ue),se=Object(S.useActions)(ee),Ve=se.excludePropertyFromProject,Je=se.setFunnelCorrelationDetails,We=Object(S.useValues)(ee),je=We.isPropertyExcludedFromProject,Ue=(F.event.event||"").split("::")[0],jt=Object(ae.useState)(!1),ft=ut()(jt,2),Pt=ft[0],Ht=ft[1];return r.a.createElement(Xe.a,{style:{justifyContent:"flex-end"}},r.a.createElement(f.a,{visible:Pt,actionable:!0,onClickOutside:function(){return Ht(!1)},overlay:r.a.createElement(r.a.Fragment,null,r.a.createElement(Sa.a,{onClick:function(){return Je(F)},fullWidth:!0,type:"stealth"},"View correlation details"),r.a.createElement(Sa.a,{disabled:je(Ue),onClick:function(){return Ve(Ue)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",type:"stealth"},"Exclude property from project"))},r.a.createElement(Sa.a,{type:"stealth",onClick:function(){return Ht(!Pt)}},r.a.createElement(na.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},j=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),M=e("./frontend/src/lib/components/PayCard/PayCard.tsx"),W=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),K=function(){var I,F=Object(S.useValues)(ye.c),H=F.insightProps,ue=Object(S.useValues)(Object(ie.a)(H)),ee=ue.isSkewed,se=ue.stepsWithCount,Ve=ue.correlationFeedbackHidden,Je=ue.correlationDetailedFeedbackVisible,We=ue.correlationFeedbackRating,je=ue.correlationAnalysisAvailable,Ue=ue.aggregationTargetLabel,jt=Object(S.useActions)(Object(ie.a)(H)),ft=jt.sendCorrelationAnalysisFeedback,Pt=jt.hideSkewWarning,Ht=jt.hideCorrelationAnalysisFeedback,Et=jt.setCorrelationFeedbackRating,Nt=jt.setCorrelationDetailedFeedback,Dt=Object(S.useValues)(W.a),Wt=Dt.preflight,pn=Object(ae.useRef)(null);return se.length<=1?null:!je&&!(!(Wt==null||(I=Wt.instance_preferences)===null||I===void 0)&&I.disable_paid_fs)?r.a.createElement(M.a,{identifier:R.c.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(Ue.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(Ue.plural," are converting or dropping off.")}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"funnel-correlation"},ee&&r.a.createElement($e.a,{className:"skew-warning"},r.a.createElement("h4",null,r.a.createElement(ba.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",r.a.createElement(j.a,{className:"close-button",onClick:Pt})),r.a.createElement("div",null,r.a.createElement("b",null,"Tips for adjusting your funnel:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),r.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),r.a.createElement(s,null),!Ve&&r.a.createElement($e.a,{className:"correlation-feedback"},r.a.createElement(Xe.a,{className:"row-initial"},r.a.createElement(w.a,{span:14},r.a.createElement("h4",null,r.a.createElement(en.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?")),r.a.createElement(w.a,{span:9,style:{alignContent:"right"}},!!We&&r.a.createElement("i",{style:{color:"var(--success)",marginRight:8}},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(ln,Cn){return r.a.createElement(mn.a,{key:Cn,className:"emoji-button",style:We===ln[0]?{background:"#5375FF"}:We?{display:"none"}:{},onClick:function(){We===ln[0]?Et(0):(Et(ln[0]),setTimeout(function(){var ga;return(ga=pn.current)===null||ga===void 0?void 0:ga.focus()},100))}},ln[1])})),r.a.createElement(w.a,{span:1},r.a.createElement(j.a,{className:"close-button",onClick:Ht}))),r.a.createElement("div",{style:{display:Je?void 0:"none"}},r.a.createElement("form",{onSubmit:ft},r.a.createElement(at.a,{onBlur:function(Cn){return Nt(Cn.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",style:{marginTop:16},ref:pn,onKeyDown:function(Cn){if(Cn.key==="Enter"&&Cn.metaKey){var va;(va=pn.current)===null||va===void 0||va.blur(),ft()}}}),r.a.createElement("div",{className:"text-right"},r.a.createElement(mn.a,{className:"feedback-button","data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback"))))),r.a.createElement(E,null)))},U=e("./node_modules/core-js/modules/es.regexp.to-string.js"),de=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss"),oe=e.n(de),Ee={};Ee.insert="head",Ee.singleton=!1;var Re=kn()(oe.a,Ee),Ge=oe.a.locals||{},Ae=e("./frontend/src/lib/components/InsightLabel/index.tsx"),Be=e("./frontend/src/lib/colors.ts"),xe=e("./frontend/src/lib/components/PHCheckbox.tsx");function At(){var A=Object(S.useValues)(ye.c),I=A.filters,F=A.activeView,H=Object(S.useActions)(ye.c),ue=H.toggleInsightLegend,ee=Object(S.useValues)(gn.a),se=ee.featureFlags;return(F===R.s.TRENDS||F===R.s.STICKINESS)&&se[be.n.INSIGHT_LEGENDS]?r.a.createElement(mn.a,{className:"insight-legend-button",onClick:ue},r.a.createElement(ba.IconLegend,null),r.a.createElement("span",{className:"insight-legend-button-title"},I.show_legend?"Hide":"Show"," legend")):null}function kt(){var A=Object(S.useValues)(ye.c),I=A.insightProps,F=A.filters,H=Object(ea.a)(I),ue=Object(S.useValues)(H),ee=ue.indexedResults,se=ue.hiddenLegendKeys,Ve=Object(S.useActions)(H),Je=Ve.toggleVisibility,We=Object(Be.c)("white",ee.length,!!F.compare);return r.a.createElement("div",{className:"insight-legend-menu"},r.a.createElement("div",{className:"insight-legend-menu-scroll"},ee&&ee.map(function(je){var Ue,jt;return r.a.createElement(Xe.a,{key:je.id,className:"insight-legend-menu-item",wrap:!1},r.a.createElement("div",{className:"insight-legend-menu-item-inner",onClick:function(){return Je(je.id)}},r.a.createElement(w.a,null,r.a.createElement(xe.a,{color:We[je.id],checked:!se[je.id],onChange:function(){}})),r.a.createElement(w.a,null,r.a.createElement(Ae.b,{key:je.id,seriesColor:We[je.id],action:je.action,fallbackName:je.breakdown_value===""?"None":je.label,hasMultipleSeries:ee.length>1,breakdownValue:je.breakdown_value===""?"None":(Ue=je.breakdown_value)===null||Ue===void 0?void 0:Ue.toString(),compareValue:F.compare?Object(O.d)(je):void 0,pillMidEllipsis:(je==null||(jt=je.filter)===null||jt===void 0?void 0:jt.breakdown)==="$current_url",hideIcon:!0}))))})))}var Kt,Se=(Kt={},u()(Kt,"".concat(R.s.TRENDS),r.a.createElement(Y,{view:R.s.TRENDS})),u()(Kt,"".concat(R.s.STICKINESS),r.a.createElement(Y,{view:R.s.STICKINESS})),u()(Kt,"".concat(R.s.LIFECYCLE),r.a.createElement(Y,{view:R.s.LIFECYCLE})),u()(Kt,"".concat(R.s.FUNNELS),r.a.createElement(re,null)),u()(Kt,"".concat(R.s.RETENTION),r.a.createElement(L.a,null)),u()(Kt,"".concat(R.s.PATHS),r.a.createElement(pe.a,null)),Kt);function he(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1},I=A.disableHeader,F=A.disableTable,H=Object(S.useValues)(gn.a),ue=H.featureFlags,ee=Object(S.useValues)(N.a),se=ee.insightMode,Ve=Object(S.useValues)(ye.c),Je=Ve.insightProps,We=Ve.canEditInsight,je=Ve.insightLoading,Ue=Ve.activeView,jt=Ve.loadedView,ft=Ve.filters,Pt=Ve.showTimeoutMessage,Ht=Ve.showErrorMessage,Et=Object(S.useValues)(Object(ie.a)(Je)),Nt=Et.areFiltersValid,Dt=Et.isValidFunnel,Wt=Et.areExclusionFiltersValid,pn=Et.correlationAnalysisAvailable,ln=function(){if(Ue!==jt||je&&!Pt)return r.a.createElement(r.a.Fragment,null,ft.display!==be.f&&r.a.createElement("div",{className:"trends-insights-container"}),r.a.createElement(xt.b,null));if(jt===R.s.FUNNELS){if(!Nt)return r.a.createElement(rt.b,{actionable:se===R.t.Edit||F});if(!Wt)return r.a.createElement(rt.a,null);if(!Dt&&!je)return r.a.createElement(rt.c,null)}return Ht?r.a.createElement(rt.d,null):Pt?r.a.createElement(rt.e,{isLoading:je}):null}();function Cn(){return Ue===R.s.FUNNELS&&!Ht&&!Pt&&Nt&&ft.funnel_viz_type===R.o.Steps&&(ft==null?void 0:ft.layout)===be.p.horizontal&&!F?r.a.createElement($.a,null):(!ft.display||(ft==null?void 0:ft.display)!==be.f&&(ft==null?void 0:ft.display)!==be.b)&&Ue===R.s.TRENDS&&!F?r.a.createElement(S.BindLogic,{logic:ea.a,props:Je},r.a.createElement(O.b,{isLegend:!0,showTotalCount:!0,filterKey:Ue===R.s.TRENDS?"trends_".concat(Ue):"",canEditSeriesNameInline:Ue===R.s.TRENDS&&se===R.t.Edit,canCheckUncheckSeries:!We})):null}return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{title:I?null:r.a.createElement(Fn,{activeView:Ue,insightMode:se,filters:ft,disableTable:!!F,disabled:!We}),"data-attr":"insights-graph",className:"insights-graph-container"},r.a.createElement("div",null,r.a.createElement(Xe.a,{className:Object(vn.a)("insights-graph-header",{funnels:Ue===R.s.FUNNELS}),align:"middle",justify:"space-between"},r.a.createElement(w.a,null,r.a.createElement(Oa,null)),r.a.createElement(w.a,null,Ue===R.s.FUNNELS?r.a.createElement(Vn,null):null,Ue===R.s.PATHS?r.a.createElement(_t,null):null,r.a.createElement(At,null))),ln||(ue[be.n.INSIGHT_LEGENDS]&&(Ue===R.s.TRENDS||Ue===R.s.STICKINESS)&&ft.show_legend?r.a.createElement(Xe.a,{className:"insights-graph-container-row",wrap:!1},r.a.createElement(w.a,{className:"insights-graph-container-row-left"},Se[Ue]),r.a.createElement(w.a,{className:"insights-graph-container-row-right"},r.a.createElement(kt,null))):Se[Ue]))),Cn(),!F&&pn&&Ue===R.s.FUNNELS&&r.a.createElement(K,null))}try{he.displayName="InsightContainer",he.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:he.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(A){}},"./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts":function(Pe,z,e){"use strict";e.d(z,"a",function(){return it});var ne=e("./node_modules/core-js/modules/es.array.iterator.js"),u=e.n(ne),$e=e("./node_modules/core-js/modules/es.object.to-string.js"),Xe=e.n($e),w=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),et=e.n(w),X=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ae=e.n(X),r=e("./node_modules/kea/lib/index.esm.js"),S=e("./frontend/src/scenes/insights/insightLogic.ts"),ct=e("./frontend/src/scenes/insights/sharedUtils.ts");function G(ze,Oe){var J=Object.keys(ze);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(ze);Oe&&(D=D.filter(function(k){return Object.getOwnPropertyDescriptor(ze,k).enumerable})),J.push.apply(J,D)}return J}function V(ze){for(var Oe=1;Oe<arguments.length;Oe++){var J=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?G(Object(J),!0).forEach(function(D){ae()(ze,D,J[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ze,Object.getOwnPropertyDescriptors(J)):G(Object(J)).forEach(function(D){Object.defineProperty(ze,D,Object.getOwnPropertyDescriptor(J,D))})}return ze}var it=Object(r.kea)({props:{},key:Object(ct.c)("new"),path:function(Oe){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",Oe]},connect:function(Oe){return{actions:[Object(S.c)(Oe),["setFilters"]],values:[Object(S.c)(Oe),["filters"]]}},actions:function(){return{setDates:function(J,D){return{dateFrom:J,dateTo:D}}}},selectors:{dates:[function(ze){return[ze.filters]},function(ze){return{dateFrom:(ze==null?void 0:ze.date_from)||null,dateTo:(ze==null?void 0:ze.date_to)||null}}]},listeners:function(Oe){var J=Oe.actions,D=Oe.values;return{setDates:function(Ye){var fe=Ye.dateFrom,De=Ye.dateTo;J.setFilters(V(V({},D.filters),{},{date_from:fe||null,date_to:De||null}))}}}})},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return T});var ne=e("./node_modules/react/index.js"),u=e.n(ne),$e=e("./frontend/src/lib/components/Drawer.tsx"),Xe=e("./node_modules/core-js/modules/es.object.to-string.js"),w=e("./node_modules/core-js/modules/es.regexp.to-string.js"),et=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),X=e.n(et),ae=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),r=e.n(ae),S={};S.insert="head",S.singleton=!1;var ct=X()(r.a,S),G=r.a.locals||{},V=e("./node_modules/kea/lib/index.esm.js"),it=e("./node_modules/core-js/modules/es.array.index-of.js"),ze=e("./node_modules/core-js/modules/es.array.iterator.js"),Oe=e("./node_modules/core-js/modules/es.array.slice.js"),J=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),D=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),k=e.n(D),Ye=e("./node_modules/@babel/runtime/regenerator/index.js"),fe=e.n(Ye),De=e("./node_modules/regenerator-runtime/runtime.js"),Ke=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Z=e.n(Ke),Qe=e("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),Ce=e("./frontend/src/lib/utils/eventUsageLogic.ts"),Me=e("./frontend/src/types.ts"),Ft=e("./frontend/src/lib/utils/responsiveUtils.tsx"),_e=e("./node_modules/core-js/modules/es.array.concat.js"),Ot=e("./node_modules/core-js/modules/es.array.for-each.js"),R=e("./node_modules/core-js/modules/es.array.includes.js"),xt=e("./node_modules/core-js/modules/es.array.join.js"),ye=e("./node_modules/core-js/modules/es.array.map.js"),$t=e("./node_modules/core-js/modules/es.object.entries.js"),o=e("./node_modules/core-js/modules/es.object.values.js"),Jt=e("./node_modules/core-js/modules/es.regexp.exec.js"),Mt=e("./node_modules/core-js/modules/es.string.ends-with.js"),Lt=e("./node_modules/core-js/modules/es.string.includes.js"),_=e("./node_modules/core-js/modules/es.string.iterator.js"),Gt=e("./node_modules/core-js/modules/es.string.replace.js"),ut=e("./node_modules/core-js/modules/es.string.search.js"),Zt=e("./node_modules/core-js/modules/es.string.split.js"),Tt=e("./node_modules/core-js/modules/es.string.starts-with.js"),vt=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Ut=e("./node_modules/core-js/modules/web.url.js"),q=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ie=e.n(q),ke=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),le=e.n(ke),Te=e("./node_modules/fuse.js/dist/fuse.esm.js"),Fe=e("./frontend/src/lib/api.ts"),ge=e("./frontend/src/lib/utils.tsx"),St=e("./frontend/src/scenes/teamLogic.ts"),te=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ne=e("./frontend/src/lib/dayjs.ts"),Ct=e("./node_modules/core-js/modules/es.array.from.js"),be=e("./node_modules/core-js/modules/es.function.name.js");function me(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=ce(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var s=0,m=function(){};return{s:m,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(M){throw M},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,E=!1,C;return{s:function(){t=a[Symbol.iterator]()},n:function(){var M=t.next();return h=M.done,M},e:function(M){E=!0,C=M},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(E)throw C}}}}function ce(a,n){if(!!a){if(typeof a=="string")return Le(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Le(a,n)}}function Le(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=a[t];return s}var ot=15,Rt=ot/2;function wt(a){return"touches"in a}function It(a){return"clientX"in a}var we=function(n){if(wt(n)){var t,s,m,h,E;return(t=n==null||(s=n.touches)===null||s===void 0||(m=s[0])===null||m===void 0?void 0:m.pageX)!==null&&t!==void 0?t:n==null||(h=n.changedTouches)===null||h===void 0||(E=h[0])===null||E===void 0?void 0:E.pageX}return It(n)?n==null?void 0:n.clientX:0};function qe(a,n,t){if(a.windowId===n.windowId)return a.time-n.time;var s=me(t),m;try{for(s.s();!(m=s.n()).done;){var h=m.value;if(a.windowId===h.windowId&&a.time>=h.startPlayerPosition.time&&a.time<=h.endPlayerPosition.time)return-1;if(n.windowId===h.windowId&&n.time>=h.startPlayerPosition.time&&n.time<=h.endPlayerPosition.time)return 1}}catch(E){s.e(E)}finally{s.f()}throw"Could not find player positions in segments"}function gt(a,n){var t=me(n),s;try{for(t.s();!(s=t.n()).done;){var m=s.value;if(a.windowId===m.windowId&&a.time>=m.startPlayerPosition.time&&a.time<=m.endPlayerPosition.time)return m}}catch(h){t.e(h)}finally{t.f()}return null}function tt(a,n){var t=0,s=me(n),m;try{for(s.s();!(m=s.n()).done;){var h=m.value;if(a.windowId===h.windowId&&a.time>=h.startPlayerPosition.time&&a.time<=h.endPlayerPosition.time)return t+a.time-h.startPlayerPosition.time;t+=h.durationMs}}catch(E){s.e(E)}finally{s.f()}return null}function Ze(a,n){var t=0,s=me(n),m;try{for(s.s();!(m=s.n()).done;){var h=m.value;if(t+h.durationMs>a)return{windowId:h.windowId,time:a-t+h.startPlayerPosition.time};t+=h.durationMs}}catch(E){s.e(E)}finally{s.f()}return a===t&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function lt(a,n,t){if(t&&n in t){var s=t[n].startTimeEpochMs,m=t[n].endTimeEpochMs;return s>a||m<a?null:{windowId:n,time:a-s}}return null}function dt(a,n){if(a.windowId in n){var t=n[a.windowId].startTimeEpochMs;return t+a.time}return null}var ie=function(n,t,s,m){var h=n/t*m;return Ze(h,s)},B=function(n,t,s,m){var h=tt(n,s);return(h!=null?h:0)/m*t},ht=e("./frontend/src/lib/components/lemonToast.tsx"),mt=e("./node_modules/fast-deep-equal/index.js"),an=e.n(mt),qt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),rn=e("./frontend/src/lib/constants.tsx");function yn(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),t.push.apply(t,s)}return t}function Vt(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?yn(Object(t),!0).forEach(function(s){Ie()(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):yn(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function un(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=cn(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var s=0,m=function(){};return{s:m,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(M){throw M},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,E=!1,C;return{s:function(){t=a[Symbol.iterator]()},n:function(){var M=t.next();return h=M.done,M},e:function(M){E=!0,C=M},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(E)throw C}}}}function cn(a,n){if(!!a){if(typeof a=="string")return fn(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fn(a,n)}}function fn(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=a[t];return s}var He=!1,Tn="rrweb/console@1",sn=function(n){var t=n.segments.map(function(m){var h=+Object(Ne.a)(n.start_and_end_times_by_window_id[m.window_id].start_time),E=+Object(Ne.a)(m==null?void 0:m.start_time),C=+Object(Ne.a)(m==null?void 0:m.end_time),j={windowId:m.window_id,time:E-h},M={windowId:m.window_id,time:C-h},W=C-E;return{startPlayerPosition:j,endPlayerPosition:M,durationMs:W,startTimeEpochMs:E,endTimeEpochMs:C,windowId:m.window_id,isActive:m.is_active}}),s={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(m){var h=le()(m,2),E=h[0],C=h[1];s[E]={startTimeEpochMs:+Object(Ne.a)(C.start_time),endTimeEpochMs:+Object(Ne.a)(C.end_time)}}),{segments:t,startAndEndTimesByWindowId:s,recordingDurationMs:Object(ge.zb)(t.map(function(m){return m.durationMs}))}},Xn=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=null;if(n&&t&&s){var h=un(n),E;try{for(h.s();!(E=h.n()).done;){var C,j=E.value,M=((C=t[j.windowId])!==null&&C!==void 0?C:[]).slice(-1).pop();if(M&&M.timestamp>=j.startTimeEpochMs){var W=s[j.windowId].startTimeEpochMs;m={windowId:j.windowId,time:Math.min(M.timestamp-W,j.endPlayerPosition.time)}}else return m}}catch(K){h.e(K)}finally{h.f()}}return m},Qn=function(n){return n.map(function(t){var s,m,h;return Vt(Vt({},t),{},{queryValue:"".concat((s=(m=(h=Object(te.d)(t.event,"event"))===null||h===void 0?void 0:h.label)!==null&&m!==void 0?m:t.event)!==null&&s!==void 0?s:""," ").concat(Object(ge.B)(t)).replace(/['"]+/g,"")})})},on=Object(V.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[Ce.f],values:[St.a,["currentTeamId"],qt.a,["featureFlags"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,t){return{recordingData:n,loadTime:t}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,t){return{sessionRecordingId:n,url:t}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,t){var s=t.filters;return Vt(Vt({},n),s)}}],sessionRecordingId:[null,{loadRecording:function(n,t){var s=t.sessionRecordingId;return s!=null?s:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,t){var s=t.sessionEventsData;return!!(s!=null&&s.next)}}],source:[Ce.d.Unknown,{setSource:function(n,t){var s=t.source;return s}}]},listeners:function(n){var t=n.values,s=n.actions,m=n.sharedListeners,h=n.cache;return{loadRecordingMetaSuccess:function(){h.eventsStartTime=performance.now(),s.loadEvents()},loadRecordingSnapshotsSuccess:function(){var C;!((C=t.sessionPlayerData)===null||C===void 0)&&C.next?s.loadRecordingSnapshots(void 0,t.sessionPlayerData.next):Ce.f.actions.reportRecording(t.sessionPlayerData,t.source,performance.now()-h.startTime,Me.D.LOADED,0),t.chunkPaginationIndex===1&&s.reportUsage(t.sessionPlayerData,performance.now()-h.startTime)},loadEventsSuccess:function(){var C;if(!((C=t.sessionEventsData)===null||C===void 0)&&C.next)s.loadEvents(t.sessionEventsData.next);else{var j,M,W;Ce.f.actions.reportRecordingEventsFetched((j=(M=t.sessionEventsData)===null||M===void 0||(W=M.events)===null||W===void 0?void 0:W.length)!==null&&j!==void 0?j:0,performance.now()-h.eventsStartTime),h.eventsStartTime=null}},loadRecordingMetaFailure:m.showErrorToast,loadRecordingSnapshotsFailure:m.showErrorToast,loadEventsFailure:m.showErrorToast,reportUsage:function(){var E=Z()(fe.a.mark(function j(M,W){var K,U;return fe.a.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return K=M.recordingData,U=M.loadTime,oe.next=3,W();case 3:return Ce.f.actions.reportRecording(K,t.source,U,Me.D.VIEWED,0),oe.next=6,W(He?1:1e4);case 6:Ce.f.actions.reportRecording(K,t.source,U,Me.D.ANALYZED,10);case 7:case"end":return oe.stop()}},j)}));function C(j,M){return E.apply(this,arguments)}return C}()}},sharedListeners:function(){return{showErrorToast:function(t){var s=t.error;ht.a.error(s)}}},loaders:function(n){var t=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var s=Z()(fe.a.mark(function h(E,C){var j,M,W,K,U,de,oe,Ee,Re,Ge,Ae;return fe.a.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return de=E.sessionRecordingId,oe=Object(ge.Ab)({save_view:!0}),xe.next=4,Fe.a.get("api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(de,"?").concat(oe));case 4:return Ee=xe.sent,Re=(j=Ee.result)===null||j===void 0?void 0:j.session_recording,Ge=sn(Re),Ae=Xn(Ge.segments,(M=t.sessionPlayerData)===null||M===void 0?void 0:M.snapshotsByWindowId,Ge.startAndEndTimesByWindowId),C(),xe.abrupt("return",Vt(Vt({},t.sessionPlayerData),{},{person:(W=Ee.result)===null||W===void 0?void 0:W.person,metadata:Ge,bufferedTo:Ae,snapshotsByWindowId:(K=Vt({},(U=t.sessionPlayerData)===null||U===void 0?void 0:U.snapshotsByWindowId))!==null&&K!==void 0?K:{}}));case 10:case"end":return xe.stop()}},h)}));function m(h,E){return s.apply(this,arguments)}return m}(),loadRecordingSnapshots:function(){var s=Z()(fe.a.mark(function h(E,C){var j,M,W,K,U,de,oe,Ee,Re,Ge,Ae,Be,xe,At,kt;return fe.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Re=E.sessionRecordingId,Ge=E.url,Ae=Ge||"api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(Re,"/snapshots?").concat(Object(ge.Ab)({limit:t.featureFlags[rn.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),Se.next=4,Fe.a.get(Ae);case 4:return Be=Se.sent,C(),xe=Vt({},(j=(M=t.sessionPlayerData)===null||M===void 0?void 0:M.snapshotsByWindowId)!==null&&j!==void 0?j:{}),At=(W=Be.result)===null||W===void 0?void 0:W.snapshot_data_by_window_id,Object.entries(At).forEach(function(he){var A,I=le()(he,2),F=I[0],H=I[1];xe[F]=[].concat(k()((A=xe[F])!==null&&A!==void 0?A:[]),k()(H))}),kt=Xn((K=t.sessionPlayerData)===null||K===void 0||(U=K.metadata)===null||U===void 0?void 0:U.segments,xe,(de=t.sessionPlayerData)===null||de===void 0||(oe=de.metadata)===null||oe===void 0?void 0:oe.startAndEndTimesByWindowId),Se.abrupt("return",Vt(Vt({},t.sessionPlayerData),{},{bufferedTo:kt,snapshotsByWindowId:xe,next:(Ee=Be.result)===null||Ee===void 0?void 0:Ee.next}));case 11:case"end":return Se.stop()}},h)}));function m(h,E){return s.apply(this,arguments)}return m}()},sessionEventsData:{loadEvents:function(){var s=Z()(fe.a.mark(function h(E,C){var j,M,W,K,U,de,oe,Ee,Re;return fe.a.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(K=E.url,t.eventsApiParams){Ae.next=3;break}return Ae.abrupt("return",t.sessionEventsData);case 3:return U=K||"api/projects/".concat(t.currentTeamId,"/events?").concat(Object(ge.Ab)(t.eventsApiParams)),Ae.next=6,Fe.a.get(U);case 6:return de=Ae.sent,C(),oe=[],Ee=[],Re=(j=de.results)!==null&&j!==void 0?j:[],Re.forEach(function(Be){var xe,At,kt,Kt,Se=lt(+Object(Ne.a)(Be.timestamp)-1e3,(xe=(At=Be.properties)===null||At===void 0?void 0:At.$window_id)!==null&&xe!==void 0?xe:"",(kt=t.sessionPlayerData)===null||kt===void 0||(Kt=kt.metadata)===null||Kt===void 0?void 0:Kt.startAndEndTimesByWindowId);if(Se===null){var he,A,I,F;Se=lt(+Object(Ne.a)(Be.timestamp),(he=(A=Be.properties)===null||A===void 0?void 0:A.$window_id)!==null&&he!==void 0?he:"",(I=t.sessionPlayerData)===null||I===void 0||(F=I.metadata)===null||F===void 0?void 0:F.startAndEndTimesByWindowId)}if(Se!==null){var H=tt(Se,t.sessionPlayerData.metadata.segments);H!==null&&Ee.push(Vt(Vt({},Be),{},{playerTime:H,playerPosition:Se,percentageOfRecordingDuration:100*H/t.sessionPlayerData.metadata.recordingDurationMs}))}}),oe=[].concat(k()((M=(W=t.sessionEventsData)===null||W===void 0?void 0:W.events)!==null&&M!==void 0?M:[]),Ee).sort(function(Be,xe){return Be.playerTime-xe.playerTime}),Ae.abrupt("return",Vt(Vt({},t.sessionEventsData),{},{next:de==null?void 0:de.next,events:oe}));case 14:case"end":return Ae.stop()}},h)}));function m(h,E){return s.apply(this,arguments)}return m}()}}},selectors:{eventsToShow:[function(a){return[a.filters,a.sessionEventsData]},function(a,n){var t,s=(t=n==null?void 0:n.events)!==null&&t!==void 0?t:[];return a!=null&&a.query?new Te.a(Qn(s),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(h,E){return s[h.idx].timestamp-s[E.idx].timestamp||h.score-E.score}}).search(a.query).map(function(m){return m.item}):s}],eventsApiParams:[function(a){return[a.sessionPlayerData]},function(a){var n,t,s,m=(n=a.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,h=(t=a.metadata.segments.slice(-1).pop())===null||t===void 0?void 0:t.endTimeEpochMs;if(!(!(a==null||(s=a.person)===null||s===void 0)&&s.id)||!m||!h)return null;var E=6e4;return{person_id:a.person.id,after:Ne.a.utc(m).subtract(E,"ms").format(),before:Ne.a.utc(h).add(E,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(a){return[a.sessionPlayerData]},function(a){var n,t,s=[];return a==null||(n=a.metadata)===null||n===void 0||(t=n.segments)===null||t===void 0||t.forEach(function(m){var h;a==null||(h=a.snapshotsByWindowId[m.windowId])===null||h===void 0||h.forEach(function(E){if(E.type===6&&E.data.plugin===Tn&&E.timestamp>=m.startTimeEpochMs&&E.timestamp<=m.endTimeEpochMs){var C,j,M=E.data.payload,W=M.level,K=M.payload,U=M.trace,de=K==null||(C=K.map)===null||C===void 0?void 0:C.call(K,function(xe){return xe.startsWith('"')&&xe.endsWith('"')?xe.slice(1,-1):xe}).join(" "),oe,Ee;if(U&&U.length>0){var Re=U[0].split("(").slice(-1)[0].replace(")",""),Ge=Re.split(":"),Ae=Ge.slice(-2).join(":");if(Ee=Ge.slice(0,-2).join(":"),Ge.length>=4)try{var Be=new URL(Ee).pathname.split("/").slice(-1)[0];oe="".concat(Be,":").concat(Ae)}catch(xe){oe=":".concat(Ae)}else oe=":".concat(Ae)}s.push({playerPosition:lt(E.timestamp,m.windowId,a==null||(j=a.metadata)===null||j===void 0?void 0:j.startAndEndTimesByWindowId),parsedTraceURL:Ee,parsedTraceString:oe,parsedPayload:de,level:W})}})}),s}],areAllSnapshotsLoaded:[function(a){return[a.sessionPlayerData]},function(a){var n,t;return(a==null?void 0:a.bufferedTo)&&(a==null||(n=a.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&an()(a==null||(t=a.metadata)===null||t===void 0?void 0:t.segments.slice(-1)[0].endPlayerPosition,a==null?void 0:a.bufferedTo)}]},urlToAction:function(n){var t=n.actions,s=n.values,m=n.cache,h=function(C,j,M){var W=j.source,K=M.sessionRecordingId;W&&Object.values(Ce.d).includes(W)&&t.setSource(W),s&&K&&K!==s.sessionRecordingId&&(m.startTime=performance.now(),t.loadRecordingMeta(K),t.loadRecordingSnapshots(K))};return{"/recordings":h,"/person/*":h,"/insights/*":h}}});function Nn(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=Wn(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var s=0,m=function(){};return{s:m,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(M){throw M},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,E=!1,C;return{s:function(){t=a[Symbol.iterator]()},n:function(){var M=t.next();return h=M.done,M},e:function(M){E=!0,C=M},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(E)throw C}}}}function Wn(a,n){if(!!a){if(typeof a=="string")return vn(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vn(a,n)}}function vn(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=a[t];return s}var Sn=[.5,1,2,4,8,16],Yt=Object(V.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[Ce.f],values:[on,["sessionRecordingId","sessionPlayerData"]],actions:[on,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:t}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(t,s){var m=s.frame;return m}}],player:[null,{setPlayer:function(t,s){var m=s.player;return m}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(t,s){var m=s.playerPosition;return m}}],currentSegment:[null,{setCurrentSegment:function(t,s){var m=s.segment;return m}}],speed:[1,{persist:!0},{setSpeed:function(t,s){var m=s.speed;return m}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(t,s){var m=s.skipInactivitySetting;return m}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(t,s){var m=s.isSkippingInactivity;return m}}],scale:[1,{setScale:function(t,s){var m=s.scale;return m}}],playingState:[Me.C.PLAY,{setPlay:function(){return Me.C.PLAY},setPause:function(){return Me.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(a){return[a.playingState,a.isBuffering,a.isScrubbing,a.isSkippingInactivity]},function(a,n,t,s){return t?a:n?Me.C.BUFFER:s&&a!==Me.C.PAUSE?Me.C.SKIP:a}],currentPlayerTime:[function(a){return[a.currentPlayerPosition,a.sessionPlayerData]},function(a,n){var t;if((n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments)&&a){var s;return tt(a,n==null||(s=n.metadata)===null||s===void 0?void 0:s.segments)}return 0}],jumpTimeMs:[function(a){return[a.speed]},function(a){return 10*1e3*a}]},listeners:function(n){var t=n.values,s=n.actions,m=n.cache;return{setRootFrame:function(){s.tryInitReplayer()},tryInitReplayer:function(){var E,C,j=(E=(C=t.currentPlayerPosition)===null||C===void 0?void 0:C.windowId)!==null&&E!==void 0?E:null;if(s.setPlayer(null),t.rootFrame&&(t.rootFrame.innerHTML=""),!t.rootFrame||j===null||!t.sessionPlayerData.snapshotsByWindowId[j]||t.sessionPlayerData.snapshotsByWindowId[j].length<2){s.setPlayer(null);return}var M=new Qe.a(t.sessionPlayerData.snapshotsByWindowId[j],{root:t.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});s.setPlayer({replayer:M,windowId:j})},setPlayer:function(E){var C=E.player;C&&(s.seek(t.currentPlayerPosition),s.syncPlayerSpeed())},setCurrentSegment:function(E){var C=E.segment;if(!C.isActive&&t.skipInactivitySetting?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1),t.player&&t.player.windowId!==C.windowId){var j,M;(j=t.player)===null||j===void 0||(M=j.replayer)===null||M===void 0||M.pause(),s.tryInitReplayer()}s.seek(t.currentPlayerPosition)},setSkipInactivitySetting:function(E){var C,j=E.skipInactivitySetting;Ce.f.actions.reportRecordingPlayerSkipInactivityToggled(j),!(!((C=t.currentSegment)===null||C===void 0)&&C.isActive)&&j?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1)},setSkippingInactivity:function(){s.syncPlayerSpeed()},syncPlayerSpeed:function(){if(t.isSkippingInactivity){var E,C,j,M,W,K,U,de=(((E=(C=t.currentSegment)===null||C===void 0||(j=C.endPlayerPosition)===null||j===void 0?void 0:j.time)!==null&&E!==void 0?E:0)-((M=(W=t.currentPlayerPosition)===null||W===void 0?void 0:W.time)!==null&&M!==void 0?M:0))/1e3,oe=Math.max(50,de);(K=t.player)===null||K===void 0||(U=K.replayer)===null||U===void 0||U.setConfig({speed:oe})}else{var Ee,Re;(Ee=t.player)===null||Ee===void 0||(Re=Ee.replayer)===null||Re===void 0||Re.setConfig({speed:t.speed})}},checkBufferingCompleted:function(){t.currentPlayerPosition&&t.sessionPlayerData.bufferedTo&&t.currentPlayerState===Me.C.BUFFER&&qe(t.currentPlayerPosition,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)<0&&(s.endBuffer(),s.seek(t.currentPlayerPosition))},initializePlayerFromStart:function(){var E,C,j=(E=t.sessionPlayerData)===null||E===void 0||(C=E.metadata)===null||C===void 0?void 0:C.segments[0];j&&(s.setCurrentSegment(j),s.setCurrentPlayerPosition(j.startPlayerPosition),t.player||s.tryInitReplayer())},loadRecordingMetaSuccess:function(){var h=Z()(fe.a.mark(function C(j,M){return fe.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:s.initializePlayerFromStart(),s.checkBufferingCompleted(),M();case 3:case"end":return K.stop()}},C)}));function E(C,j){return h.apply(this,arguments)}return E}(),loadRecordingSnapshotsSuccess:function(){var h=Z()(fe.a.mark(function C(j,M){var W,K,U,de,oe,Ee,Re,Ge,Ae,Be,xe,At,kt,Kt;return fe.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(Ee=(W=(K=t.player)===null||K===void 0||(U=K.replayer)===null||U===void 0?void 0:U.service.state.context.events)!==null&&W!==void 0?W:[],Re=[],((de=t.currentSegment)===null||de===void 0?void 0:de.windowId)!==void 0&&Re.push.apply(Re,k()(((Ge=t.sessionPlayerData.snapshotsByWindowId[(Ae=t.currentSegment)===null||Ae===void 0?void 0:Ae.windowId])!==null&&Ge!==void 0?Ge:[]).slice(Ee.length))),!(!((oe=t.player)===null||oe===void 0)&&oe.replayer)){he.next=23;break}Be=Nn(Re),he.prev=5,Be.s();case 7:if((xe=Be.n()).done){he.next=13;break}return Kt=xe.value,he.next=11,(At=t.player)===null||At===void 0||(kt=At.replayer)===null||kt===void 0?void 0:kt.addEvent(Kt);case 11:he.next=7;break;case 13:he.next=18;break;case 15:he.prev=15,he.t0=he.catch(5),Be.e(he.t0);case 18:return he.prev=18,Be.f(),he.finish(18);case 21:he.next=24;break;case 23:s.initializePlayerFromStart();case 24:s.checkBufferingCompleted(),M();case 26:case"end":return he.stop()}},C,null,[[5,15,18,21]])}));function E(C,j){return h.apply(this,arguments)}return E}(),setPlay:function(){var E;s.stopAnimation(),s.syncPlayerSpeed();var C=t.currentPlayerPosition||((E=t.currentSegment)===null||E===void 0?void 0:E.startPlayerPosition);C&&s.seek(C,!0)},setPause:function(){var E,C;s.stopAnimation(),s.syncPlayerSpeed(),(E=t.player)===null||E===void 0||(C=E.replayer)===null||C===void 0||C.pause()},startBuffer:function(){s.stopAnimation()},startScrub:function(){s.stopAnimation()},setSpeed:function(E){var C=E.speed;Ce.f.actions.reportRecordingPlayerSpeedChanged(C),s.syncPlayerSpeed()},seek:function(){var h=Z()(fe.a.mark(function C(j,M){var W,K,U,de,oe,Ee,Re,Ge,Ae,Be,xe,At,kt;return fe.a.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:U=j.playerPosition,de=j.forcePlay,s.stopAnimation(),s.setCurrentPlayerPosition(U),oe=null,U&&((W=t.sessionPlayerData)===null||W===void 0?void 0:W.metadata)&&(oe=gt(U,t.sessionPlayerData.metadata.segments),oe&&(oe.windowId!==((Ee=t.currentSegment)===null||Ee===void 0?void 0:Ee.windowId)||oe.startTimeEpochMs!==((Re=t.currentSegment)===null||Re===void 0?void 0:Re.startTimeEpochMs))&&s.setCurrentSegment(oe)),!(!((K=t.sessionPlayerData)===null||K===void 0)&&K.bufferedTo)||!U||!t.currentSegment||qe(U,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0?((Ge=t.player)===null||Ge===void 0||(Ae=Ge.replayer)===null||Ae===void 0||Ae.pause(),s.startBuffer()):!de&&t.currentPlayerState===Me.C.PAUSE?((Be=t.player)===null||Be===void 0||(xe=Be.replayer)===null||xe===void 0||xe.pause(U.time),s.endBuffer()):((At=t.player)===null||At===void 0||(kt=At.replayer)===null||kt===void 0||kt.play(U.time),s.updateAnimation(),s.endBuffer()),M();case 7:case"end":return Se.stop()}},C)}));function E(C,j){return h.apply(this,arguments)}return E}(),seekForward:function(){if(t.currentPlayerPosition){var E=tt(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(E!==null){var C=E+t.jumpTimeMs,j=Ze(C,t.sessionPlayerData.metadata.segments);j||(s.setPause(),j=t.sessionPlayerData.metadata.segments[0].startPlayerPosition),s.seek(j)}}},seekBackward:function(){if(t.currentPlayerPosition){var E=tt(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(E!==null){var C=Math.max(E-t.jumpTimeMs,0),j=Ze(C,t.sessionPlayerData.metadata.segments);s.seek(j)}}},togglePlayPause:function(){t.currentPlayerState!==Me.C.BUFFER&&(t.currentPlayerState===Me.C.PAUSE?s.setPlay():s.setPause())},updateAnimation:function(){var E,C,j,M,W=(E=t.player)===null||E===void 0||(C=E.replayer)===null||C===void 0?void 0:C.getCurrentTime(),K=null;if(W!==void 0&&t.currentSegment&&(K={windowId:t.currentSegment.windowId,time:Math.min(W,t.currentSegment.endPlayerPosition.time)}),K&&((j=t.currentSegment)===null||j===void 0?void 0:j.endPlayerPosition)&&qe(K,(M=t.currentSegment)===null||M===void 0?void 0:M.endPlayerPosition,t.sessionPlayerData.metadata.segments)>=0){var U=t.sessionPlayerData.metadata.segments.indexOf(t.currentSegment)+1;if(U<t.sessionPlayerData.metadata.segments.length){var de=t.sessionPlayerData.metadata.segments[U];s.setCurrentPlayerPosition(de.startPlayerPosition),s.setCurrentSegment(de)}else s.setPause(),s.setCurrentPlayerPosition(t.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!t.sessionPlayerData.bufferedTo||!K||!t.currentSegment||qe(K,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0){var oe,Ee;(oe=t.player)===null||oe===void 0||(Ee=oe.replayer)===null||Ee===void 0||Ee.pause(),s.startBuffer()}else s.setCurrentPlayerPosition(K),m.timer=requestAnimationFrame(s.updateAnimation)},stopAnimation:function(){m.timer&&cancelAnimationFrame(m.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(Ft.b)("md")}},events:function(n){var t=n.values,s=n.actions;return{beforeUnmount:function(){var h,E;(h=t.player)===null||h===void 0||(E=h.replayer)===null||E===void 0||E.pause(),s.setPlayer(null)}}}}),_n=e("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Zn=e("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function zt(a){var n=a.children,t=a.onClick,s=t===void 0?function(){}:t,m=a.className,h=m===void 0?"":m;return u.a.createElement("div",{onClick:s,className:"rrweb-controller-icon ".concat(h)},n)}function gn(a){var n=a.onClick,t=a.time;return u.a.createElement(zt,{onClick:n,className:"rrweb-controller-icon-seek"},u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"seek-seconds"},t),u.a.createElement(_n.a,{className:"seek-icon",rotate:90})))}function pt(a){var n=a.onClick,t=a.time;return u.a.createElement(zt,{onClick:n,className:"rrweb-controller-icon-seek"},u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"seek-seconds"},t),u.a.createElement(Zn.a,{className:"seek-icon",rotate:270})))}function nt(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return u.a.createElement(zt,{onClick:n,className:s},u.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Bt(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return u.a.createElement(zt,{onClick:n,className:s},u.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function bn(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return u.a.createElement(zt,{onClick:n,className:s},u.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Mn(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return u.a.createElement(zt,{onClick:n,className:s},u.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function wn(a){var n=a.onClick,t=a.className,s=t===void 0?"":t;return u.a.createElement(zt,{onClick:n,className:s},u.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{gn.displayName="IconSeekBack",gn.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:gn.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(a){}try{pt.displayName="IconSeekForward",pt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:pt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(a){}try{nt.displayName="IconPlay",nt.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:nt.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(a){}try{Bt.displayName="IconPause",Bt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Bt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(a){}try{bn.displayName="IconFullscreen",bn.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:bn.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(a){}try{Mn.displayName="IconStepForward",Mn.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Mn.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(a){}try{wn.displayName="IconStepBackward",wn.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:wn.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(a){}var Dn=u.a.forwardRef(function(n,t){var s=Object(ne.useRef)(),m=Object(V.useValues)(Yt),h=m.currentPlayerState,E=m.player,C=Object(V.useActions)(Yt),j=C.togglePlayPause,M=C.setScale,W=t;Object(ne.useEffect)(function(){if(!!E)return E.replayer.on("resize",U),window.addEventListener("resize",K),function(){return window.removeEventListener("resize",K)}},[E==null?void 0:E.replayer]);var K=function(){U(s.current)},U=function(Ee){var Re;if(!(!Ee||!(!(W==null||(Re=W.current)===null||Re===void 0)&&Re.parentElement)||!(E!=null&&E.replayer))){s.current=Ee;var Ge=W.current.parentElement.getBoundingClientRect(),Ae=Ge.width,Be=Ge.height,xe=Math.min(Ae/Ee.width,Be/Ee.height,1);E.replayer.wrapper.style.transform="scale(".concat(xe,")"),W.current.style.paddingLeft="".concat((Ae-Ee.width*xe)/2,"px"),W.current.style.paddingTop="".concat((Be-Ee.height*xe)/2,"px"),W.current.style.marginBottom="-".concat(Be-Ee.height*xe,"px"),M(xe)}},de=function(){return h===Me.C.BUFFER?u.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):h===Me.C.PAUSE?u.a.createElement("div",{className:"rrweb-overlay"},u.a.createElement(nt,{className:"rrweb-overlay-play-icon"})):h===Me.C.SKIP?u.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return u.a.createElement("div",{className:"rrweb-player",onClick:j},u.a.createElement("div",{ref:t}),u.a.createElement("div",{className:"rrweb-overlay-container"},de()))});try{Dn.displayName="PlayerFrame",Dn.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:Dn.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(a){}var Fn=e("./node_modules/antd/es/select/index.js"),mn=e("./node_modules/antd/es/switch/index.js"),Jn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),kn=e.n(Jn),Ln={};Ln.insert="head",Ln.singleton=!1;var jn=X()(kn.a,Ln),zn=kn.a.locals||{},Bn=e("./node_modules/clsx/dist/clsx.m.js"),Hn=Object(V.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[Yt,["sessionPlayerData","currentPlayerPosition"],on,["eventsToShow"]],actions:[Yt,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,t){return{thumbLeftPos:n,shouldSeek:t}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:t}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-Rt,{setThumbLeftPos:function(n,t){var s=t.thumbLeftPos;return s}}],cursorDiff:[0,{setCursorDiff:function(n,t){var s=t.cursorDiff;return s}}],slider:[null,{setSlider:function(n,t){var s=t.ref;return s.current}}],thumb:[null,{setThumb:function(n,t){var s=t.ref;return s.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(a){return[a.sessionPlayerData]},function(a){var n,t;if((a==null?void 0:a.bufferedTo)&&(a==null||(n=a.metadata)===null||n===void 0?void 0:n.segments)&&(a==null||(t=a.metadata)===null||t===void 0?void 0:t.recordingDurationMs)){var s,m=(s=tt(a.bufferedTo,a.metadata.segments))!==null&&s!==void 0?s:0;return 100*m/a.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(a){return[a.thumbLeftPos,a.slider,a.sessionPlayerData]},function(a,n,t){var s;return a&&n&&(t==null||(s=t.metadata)===null||s===void 0?void 0:s.recordingDurationMs)?(a+Rt)/n.offsetWidth*t.metadata.recordingDurationMs:0}]},listeners:function(n){var t=n.values,s=n.actions;return{setCurrentPlayerPosition:function(){var m=Z()(fe.a.mark(function E(){var C,j,M,W;return fe.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(t.slider){U.next=2;break}return U.abrupt("return");case 2:(!t.isSeeking||t.currentPlayerPosition===((C=t.sessionPlayerData)===null||C===void 0||(j=C.metadata)===null||j===void 0||(M=j.segments[0])===null||M===void 0?void 0:M.startPlayerPosition))&&(W=t.currentPlayerPosition?B(t.currentPlayerPosition,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs):0,s.setThumbLeftPos(W-Rt,!1));case 3:case"end":return U.stop()}},E)}));function h(){return m.apply(this,arguments)}return h}(),setThumbLeftPos:function(h){var E,C=h.thumbLeftPos,j=h.shouldSeek;if(!!t.slider&&j&&((E=t.sessionPlayerData)===null||E===void 0?void 0:E.metadata)){var M=ie(C+Rt,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs);s.seek(M)}},handleSeek:function(){var m=Z()(fe.a.mark(function E(C){var j,M,W,K,U;return fe.a.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return W=C.newX,K=C.shouldSeek,U=(j=(M=t.slider)===null||M===void 0?void 0:M.offsetWidth)!==null&&j!==void 0?j:0,oe.next=4,s.setThumbLeftPos(Object(ge.m)(W,0,U)-Rt,K);case 4:s.endSeeking();case 5:case"end":return oe.stop()}},E)}));function h(E){return m.apply(this,arguments)}return h}(),handleMove:function(){var m=Z()(fe.a.mark(function E(C){var j,M;return fe.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(j=C.event,t.slider){K.next=3;break}return K.abrupt("return");case 3:s.startScrub(),M=we(j)-t.cursorDiff-t.slider.getBoundingClientRect().left,s.handleSeek(M,!1);case 6:case"end":return K.stop()}},E)}));function h(E){return m.apply(this,arguments)}return h}(),handleUp:function(h){var E=h.event;if(!!t.slider){var C=we(E)-t.cursorDiff-t.slider.getBoundingClientRect().left;s.handleSeek(C),s.endScrub(),document.removeEventListener("touchmove",s.handleMove),document.removeEventListener("touchend",s.handleUp),document.removeEventListener("mousemove",s.handleMove),document.removeEventListener("mouseup",s.handleUp)}},handleDown:function(h){var E=h.event;if(!!t.thumb){s.startScrub();var C=we(E),j=C-t.thumb.getBoundingClientRect().left-Rt;Math.abs(j)>ot&&(j=0),s.setCursorDiff(j),document.addEventListener("touchmove",s.handleMove),document.addEventListener("touchend",s.handleUp),document.addEventListener("mousemove",s.handleMove),document.addEventListener("mouseup",s.handleUp)}},handleTickClick:function(h){var E=h.playerPosition;t.isSeeking||s.handleSeek(B(E,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var t=n.actions,s=n.values,m=n.cache;return{afterMount:function(){m.setCurrentPlayerPosition=function(){t.setCurrentPlayerPosition(s.currentPlayerPosition)},window.addEventListener("resize",m.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",m.setCurrentPlayerPosition)}}}});function $n(a){var n=a.event,t=Object(ne.useState)(!1),s=le()(t,2),m=s[0],h=s[1],E=Object(V.useActions)(Hn),C=E.handleTickClick,j=Object(V.useActions)(Ce.f),M=j.reportRecordingPlayerSeekbarEventHovered;return u.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(K){K.stopPropagation(),C(n.playerPosition)},onMouseEnter:function(K){K.stopPropagation(),h(!0),M()},onMouseLeave:function(K){K.stopPropagation(),h(!1)}},u.a.createElement("div",{className:Object(Bn.a)("tick-info",{show:m})},n.event),u.a.createElement("div",{className:"tick-marker"}),u.a.createElement("div",{className:Object(Bn.a)("tick-thumb",{big:m})}))}function qn(){var a,n,t=Object(ne.useRef)(null),s=Object(ne.useRef)(null),m=Object(V.useActions)(Hn),h=m.handleDown,E=m.setSlider,C=m.setThumb,j=Object(V.useValues)(on),M=j.eventsToShow,W=j.sessionPlayerData,K=Object(V.useValues)(Hn),U=K.thumbLeftPos,de=K.bufferPercent;return Object(ne.useEffect)(function(){t.current&&s.current&&(E(t),C(s))},[t.current,s.current]),u.a.createElement("div",{className:"rrweb-controller-slider"},u.a.createElement("div",{className:"slider",ref:t,onMouseDown:h,onTouchStart:h},u.a.createElement("div",{className:"inactivity-bar"},W==null||(a=W.metadata)===null||a===void 0||(n=a.segments)===null||n===void 0?void 0:n.map(function(oe){return u.a.createElement("div",{key:"".concat(oe.windowId,"-").concat(oe.startTimeEpochMs),className:Object(Bn.a)("activity-section",!oe.isActive&&"inactive-section"),style:{width:"".concat(100*oe.durationMs/W.metadata.recordingDurationMs,"%")}})})),u.a.createElement("div",{className:"slider-bar"}),u.a.createElement("div",{className:"thumb",ref:s,style:{transform:"translateX(".concat(U,"px)")}}),u.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(U,0),"px")}}),u.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(de,"% - 2px)")}})),u.a.createElement("div",{className:"ticks"},M.map(function(oe){return u.a.createElement($n,{key:oe.id,event:oe})})))}var In=e("./node_modules/antd/es/tooltip/index.js");function la(){var a,n,t,s=Object(V.useActions)(Yt),m=s.seekBackward,h=s.seekForward,E=Object(V.useValues)(Yt),C=E.jumpTimeMs,j=E.currentPlayerTime,M=E.sessionPlayerData,W=Object(V.useValues)(Hn),K=W.isScrubbing,U=W.scrubbingTime;return u.a.createElement(u.a.Fragment,null,u.a.createElement(In.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(C/1e3,"s (\u2190 left arrow)")},u.a.createElement("span",null,u.a.createElement(gn,{onClick:m,time:C/1e3}))),u.a.createElement(In.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(C/1e3,"s (\u2192 right arrow)")},u.a.createElement("span",null,u.a.createElement(pt,{onClick:h,time:C/1e3}))),u.a.createElement("div",{className:"rrweb-timestamp"},Object(ge.o)(((a=K?U:j)!==null&&a!==void 0?a:0)/1e3)," /"," ",Object(ge.o)(Math.floor(((n=M==null||(t=M.metadata)===null||t===void 0?void 0:t.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function Vn(){var a=Object(V.useActions)(Yt),n=a.togglePlayPause,t=a.setSpeed,s=a.setSkipInactivitySetting,m=Object(V.useValues)(Yt),h=m.currentPlayerState,E=m.speed,C=m.isSmallScreen,j=m.skipInactivitySetting;return u.a.createElement("div",{className:"rrweb-controller"},u.a.createElement("span",null,h===Me.C.PLAY?u.a.createElement(Bt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):u.a.createElement(nt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!C&&u.a.createElement(la,null),u.a.createElement("div",{className:"rrweb-progress"},u.a.createElement(qn,null)),u.a.createElement(Fn.a,{onChange:function(W){return t(W)},value:E,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},u.a.createElement(Fn.a.OptGroup,{label:"Speed"},Sn.map(function(M){return u.a.createElement(Fn.a.Option,{key:M,value:M},M,"x")}))),u.a.createElement("div",{onClick:function(){s(!j)},className:"rrweb-inactivity-toggle"},u.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),u.a.createElement(mn.a,{checked:j,size:"small"})))}var Ea=e("./node_modules/core-js/modules/es.symbol.js"),ra=e("./node_modules/core-js/modules/es.symbol.description.js"),Oa=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),ca=e.n(Oa),oa={};oa.insert="head",oa.singleton=!1;var ua=X()(ca.a,oa),ea=ca.a.locals||{},O=e("./node_modules/antd/es/empty/index.js"),b=e("./node_modules/antd/es/row/index.js"),P=e("./node_modules/antd/es/col/index.js"),N=e("./node_modules/antd/es/skeleton/index.js"),Y=e("./node_modules/antd/es/input/index.js"),ve=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),re=e("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),L=e("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),pe=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),$=e("./node_modules/react-virtualized/dist/es/List/index.js"),rt=e("./node_modules/react-virtualized/dist/es/Grid/index.js"),_t=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),en=e("./node_modules/core-js/modules/es.array.find-index.js");function st(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),t.push.apply(t,s)}return t}function at(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?st(Object(t),!0).forEach(function(s){Ie()(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):st(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}var Q=65,tn=50,xn=150*5,ta=Object(V.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[Ce.f],actions:[on,["setFilters","loadEventsSuccess"],Yt,["seek"]],values:[on,["eventsToShow","sessionEventsDataLoading"],Yt,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,t){var s=t.filters;return at(at({},n),s)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,t){var s=t.renderMeta;return s}}],list:[null,{setList:function(n,t){var s=t.list;return s}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var t=n.actions,s=n.values;return{setLocalFilters:function(){var m=Z()(fe.a.mark(function E(C,j){return fe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,j(250);case 2:t.setFilters(s.localFilters);case 3:case"end":return W.stop()}},E)}));function h(E,C){return m.apply(this,arguments)}return h}(),scrollTo:function(){var m=Z()(fe.a.mark(function E(C,j){var M,W;return fe.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return M=C.rowIndex,W=M!=null?M:s.currentEventsIndices.startIndex,s.list&&(s.list.scrollToPosition(s.list.getOffsetForRow({alignment:"center",index:W})),Ce.f.actions.reportRecordingScrollTo(W)),U.next=5,j(xn);case 5:t.enablePositionFinder();case 6:case"end":return U.stop()}},E)}));function h(E,C){return m.apply(this,arguments)}return h}(),handleEventClick:function(h){var E=h.playerPosition;E&&t.seek(E)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(t){var s;return at(at({},t),{},{colonTimestamp:Object(ge.o)(Math.floor(((s=t.playerTime)!==null&&s!==void 0?s:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,t){var s;if(n.length<1)return{start:0,end:0};var m=n.findIndex(function(C){var j;return((j=C.playerTime)!==null&&j!==void 0?j:0)>=Object(ge.k)(t!=null?t:0)}),h=Math.max(Object(ge.k)(t!=null?t:0),1e3),E=Object(ge.E)((s=n[Object(ge.m)(m===-1?n.length-1:m-1,0,n.length-1)].playerTime)!==null&&s!==void 0?s:0);return{start:E,end:h}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,t){return function(s){var m,h,E,C;return((m=t==null||(h=t[s])===null||h===void 0?void 0:h.playerTime)!==null&&m!==void 0?m:0)>=n.start&&((E=t==null||(C=t[s])===null||C===void 0?void 0:C.playerTime)!==null&&E!==void 0?E:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,t){return{startIndex:Object(ge.m)(n.findIndex(function(s,m){return t(m)}),0,n.length-1),stopIndex:Object(ge.m)(Object(ge.C)(n,function(s,m){return t(m)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,t){if(!t||!t.Grid||n.startIndex>=t.Grid.props.rowCount||n.stopIndex>t.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var s=t.Grid.state,m=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,h=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:m,height:h.offset+h.size-m}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(t){return t>=n.overscanStartIndex&&t<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,t,s){return!s&&(n.stopIndex<t.startIndex||n.startIndex>t.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,t){return n.startIndex>t.stopIndex}]}}}),Yn=e("./frontend/src/lib/components/icons.tsx");function yt(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),t.push.apply(t,s)}return t}function da(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?yt(Object(t),!0).forEach(function(s){Ie()(a,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):yt(Object(t)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(t,s))})}return a}function ma(a){var n=a.cellCount,t=a.overscanCellsCount,s=a.startIndex,m=a.stopIndex,h=Math.floor(t/2),E=t-h;return{overscanStartIndex:Math.max(0,s-h),overscanStopIndex:Math.min(n-1,m+E)}}var bt=function(n){return n.event==="$pageview"?u.a.createElement(Yn.PageviewIcon,null):n.event==="$pageleave"?u.a.createElement(Yn.PageleaveIcon,null):n.event==="$autocapture"?u.a.createElement(Yn.AutocaptureIcon,null):u.a.createElement(Yn.EventIcon,null)};function Xt(){return u.a.createElement("div",{className:"event-list-empty-container"},u.a.createElement(O.a,{image:O.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function Rn(a){var n=a.description,t=Object(ne.useRef)(null);return u.a.createElement("span",{className:Object(Bn.a)("event-item-content-subtitle",Object(ge.U)(t.current)&&"overflowing"),title:n},u.a.createElement("div",{className:"inner",ref:t},n))}function Un(){var a=Object(ne.useRef)(null),n=Object(V.useValues)(ta),t=n.localFilters,s=n.listEvents,m=n.currentEventsBoxSizeAndPosition,h=n.showPositionFinder,E=n.isRowIndexRendered,C=n.isEventCurrent,j=n.isDirectionUp,M=n.renderedRows,W=Object(V.useValues)(on),K=W.sessionEventsDataLoading,U=Object(V.useActions)(ta),de=U.setLocalFilters,oe=U.setRenderedRows,Ee=U.setList,Re=U.scrollTo,Ge=U.disablePositionFinder,Ae=U.handleEventClick;Object(ne.useEffect)(function(){a!=null&&a.current&&Ee(a.current)},[a.current]);var Be=Object(ne.useCallback)(function(kt){var Kt=kt.index,Se=kt.style,he=kt.key,A=s[Kt],I=Object(te.d)(A.event,"event"),F=C(Kt);return u.a.createElement(b.a,{key:he,className:Object(Bn.a)("event-list-item",{"current-event":F}),align:"top",style:da(da({},Se),{},{zIndex:s.length-Kt}),onClick:function(){Ae(A.playerPosition)}},u.a.createElement(P.a,{className:"event-item-icon"},u.a.createElement("div",{className:"event-item-icon-wrapper"},bt(A))),u.a.createElement(P.a,{className:Object(Bn.a)("event-item-content",{rendering:!E(Kt)})},u.a.createElement(b.a,{className:"event-item-content-top-row"},u.a.createElement(te.b,{className:"event-item-content-title",value:A.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),u.a.createElement("span",{className:"event-item-content-timestamp"},A.colonTimestamp)),I&&u.a.createElement(Rn,{description:Object(ge.j)(Object(ge.B)(A,!0))}),u.a.createElement(N.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[s.length,M.startIndex,M.stopIndex,m.top,m.height]),xe=Object(ne.useCallback)(function(kt){var Kt=Object(rt.c)(kt);return s.length>0&&Kt.push(u.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:m.height,transform:"translateY(".concat(m.top,"px)")}})),Kt},[m.top,m.height,K,s.length]);return u.a.createElement(P.a,{className:"player-events-container"},u.a.createElement(Y.a,{prefix:u.a.createElement(ve.a,null),placeholder:"Search for events",value:t.query,onChange:function(kt){return de({query:kt.target.value})}}),u.a.createElement(P.a,{className:"event-list"},K?u.a.createElement(ge.b,null):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Object(Bn.a)("current-events-position-finder",{visible:h})},u.a.createElement(b.a,{className:"left",align:"middle",wrap:!1,onClick:function(){Re()}},j?u.a.createElement(re.a,null):u.a.createElement(L.a,null),"Jump to current time"),u.a.createElement(b.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){Ge()}},u.a.createElement(pe.a,null))),u.a.createElement(_t.a,null,function(At){var kt=At.height,Kt=At.width;return u.a.createElement($.b,{ref:a,className:"event-list-virtual",height:kt,width:Kt,onRowsRendered:oe,noRowsRenderer:Xt,cellRangeRenderer:xe,overscanRowCount:tn,overscanIndicesGetter:ma,rowCount:s.length,rowRenderer:Be,rowHeight:Q})}))))}var Pn=e("./node_modules/antd/es/tabs/index.js"),Qt=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),En=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),ha=e.n(En),ya={};ya.insert="head",ya.singleton=!1;var Ia=X()(ha.a,ya),Ra=ha.a.locals||{},na=e("./node_modules/antd/es/space/index.js"),ba=e("./frontend/src/lib/components/ProfilePicture/index.ts"),Aa=e("./frontend/src/scenes/persons/PersonHeader.tsx"),hn=e("./node_modules/core-js/modules/es.array.filter.js"),pa=e("./node_modules/core-js/modules/es.array.some.js"),fa=function(n,t){return t.some(function(s){var m;return!(!(n==null||(m=n.properties)===null||m===void 0)&&m[s])})?null:t.map(function(s){var m;return n==null||(m=n.properties)===null||m===void 0?void 0:m[s]}).join(", ")},Ta=Object(V.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[on,["sessionPlayerData"],Yt,["currentPlayerPosition","scale"]],actions:[on,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(a){return[a.sessionPlayerData]},function(a){return a==null?void 0:a.person}],description:[function(a){return[a.sessionPerson]},function(a){var n=fa(a,["$geoip_city_name","$geoip_country_code"]),t=fa(a,["$browser","$os"]);return[t,n].filter(function(s){return s}).join(" \xB7 ")}],resolution:[function(a){return[a.sessionPlayerData,a.currentPlayerPosition]},function(a,n){var t,s;if(!n)return null;var m=(t=a.snapshotsByWindowId[n.windowId])!==null&&t!==void 0?t:[],h=(s=dt(n,a.metadata.startAndEndTimesByWindowId))!==null&&s!==void 0?s:0,E=Object(ge.C)(m,function(j){return j.timestamp<h&&"width"in j.data});if(E===-1)return null;var C=m[E];return{width:C.data.width,height:C.data.height}}],recordingStartTime:[function(a){return[a.sessionPlayerData]},function(a){var n,t;return a==null||(n=a.metadata)===null||n===void 0||(t=n.segments[0])===null||t===void 0?void 0:t.startTimeEpochMs}]}}),xa=e("./frontend/src/scenes/funnels/funnelUtils.ts"),ja=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function Na(){var a,n=Object(V.useValues)(Ta),t=n.sessionPerson,s=n.description,m=n.resolution,h=n.scale,E=n.recordingStartTime,C=n.loading;return u.a.createElement(P.a,{className:"player-meta-container"},u.a.createElement(b.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},u.a.createElement(b.a,{className:"player-meta-person-title",align:"middle",wrap:!1},C?u.a.createElement(na.b,null,u.a.createElement(N.a.Avatar,{active:!0,size:"small",shape:"circle"}),u.a.createElement(N.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):u.a.createElement(u.a.Fragment,null,u.a.createElement(ba.a,{name:t==null?void 0:t.name,email:t==null||(a=t.properties)===null||a===void 0?void 0:a.$email,size:"md",style:{marginRight:"0.5rem"}}),u.a.createElement("span",{className:"email"},u.a.createElement(Aa.a,{person:t,withIcon:!1})))),u.a.createElement(P.a,null,C?u.a.createElement(N.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):u.a.createElement("span",{className:"time text-muted"},E&&u.a.createElement(ja.b,{time:Object(Ne.a)(E)})))),u.a.createElement(b.a,{className:"player-meta-other",align:"middle",justify:"start"},u.a.createElement(b.a,{className:"player-meta-other-description"},C?u.a.createElement(N.a,{title:!1,active:!0,paragraph:{rows:1}}):u.a.createElement("span",null,s)),u.a.createElement(b.a,{className:"player-meta-other-resolution mt-05"},C?u.a.createElement(N.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):u.a.createElement("span",null,m?u.a.createElement(u.a.Fragment,null,"Resolution: ",m.width," x ",m.height," (",Object(xa.c)(h),"%)"):u.a.createElement(u.a.Fragment,null,"Resolution: ...")))))}var Ma=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Pa=e.n(Ma),sa={};sa.insert="head",sa.singleton=!1;var Sa=X()(Pa.a,sa),f=Pa.a.locals||{},p=e("./frontend/src/lib/components/LemonButton/index.ts"),x=e("./frontend/src/lib/components/Spinner/Spinner.tsx");function g(){var a=Object(V.useValues)(on),n=a.orderedConsoleLogs,t=a.areAllSnapshotsLoaded,s=Object(V.useActions)(Ce.f),m=s.reportRecordingConsoleFeedback,h=Object(V.useActions)(Yt),E=h.seek,C=Object(ne.useState)(!1),j=le()(C,2),M=j[0],W=j[1],K=function(de,oe){return u.a.createElement("div",{className:"log-line level-".concat(de.level),key:oe,onClick:function(){E(de.playerPosition)}},u.a.createElement("div",{className:"trace-string"},de.parsedTraceURL?u.a.createElement("a",{className:"text-muted",href:de.parsedTraceURL,target:"_blank"},de.parsedTraceString):u.a.createElement("span",{className:"text-muted"},de.parsedTraceString)),u.a.createElement("p",{className:"log-text"},de.parsedPayload))};return u.a.createElement("div",{className:"console-log-container"},u.a.createElement("div",{className:"console-log"},t?n.length>0?u.a.createElement(_t.a,null,function(U){var de=U.height,oe=U.width;return u.a.createElement("div",{style:{height:de,width:oe,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(Ee,Re){return K(Ee,Re)}),u.a.createElement("div",null,n.length>150&&u.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):u.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},u.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),u.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",u.a.createElement("code",null,"posthog-js"),"."),u.a.createElement(p.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):u.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},u.a.createElement(x.a,{size:"lg"}))),u.a.createElement("div",{className:"console-feedback-container"},u.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),M?u.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):u.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(U,de){return u.a.createElement(p.a,{type:"secondary",key:de,style:{margin:"0 8px"},onClick:function(){W(!0),m(n.length,U[0],"Are you finding the console log feature useful?")}},U[1])}))))}var d=e("./frontend/src/lib/components/Tooltip.tsx");function v(){var a=Object(V.useActions)(Yt),n=a.togglePlayPause,t=a.seekForward,s=a.seekBackward,m=a.setSpeed,h=a.setRootFrame,E=Object(V.useValues)(Yt),C=E.isSmallScreen,j=Object(ne.useRef)(null);Object(ne.useEffect)(function(){j.current&&h(j.current)},[j]);var M=function(K){var U;if(!(!((U=K.target)===null||U===void 0)&&U.matches("input")))if(K.key===" ")n(),K.preventDefault();else if(K.key==="ArrowLeft")s();else if(K.key==="ArrowRight")t();else for(var de=0;de<Sn.length;de++)K.key===(de+1).toString()&&m(Sn[de])};return u.a.createElement(P.a,{className:"session-player-v2",onKeyDown:M,tabIndex:0,flex:1},u.a.createElement(b.a,{className:"session-player-body",wrap:!1},u.a.createElement("div",{className:"player-container ph-no-capture"},u.a.createElement(Dn,{ref:j})),!C&&u.a.createElement(l,null)),u.a.createElement(b.a,{className:"player-controller",align:"middle"},u.a.createElement(Vn,null)),C&&u.a.createElement(l,null))}var i=Pn.a.TabPane;function l(){var a=Object(V.useValues)(qt.a),n=a.featureFlags,t=Object(V.useValues)(on),s=t.orderedConsoleLogs,m=Object(V.useActions)(Ce.f),h=m.reportRecordingConsoleViewed,E=n[rn.n.SESSION_CONSOLE];return u.a.createElement(P.a,{className:"player-sidebar"},u.a.createElement("div",{className:"player-meta"},u.a.createElement(Na,null)),u.a.createElement("div",{className:"player-events"},E?u.a.createElement(Pn.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(j){j==="console"&&h(s.length)}},u.a.createElement(i,{tab:"Events",key:"events"},u.a.createElement(Un,null)),u.a.createElement(i,{tab:u.a.createElement("div",null,"Console (beta)",u.a.createElement(d.a,{title:"While console logs are in beta, only 150 logs are displayed."},u.a.createElement(Qt.a,{style:{marginLeft:6}}))),key:"console"},u.a.createElement(g,null))):u.a.createElement(Un,null)))}var c=e("./node_modules/antd/es/button/index.js"),y=e("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function T(a){var n=a.isPersonPage,t=n===void 0?!1:n,s=a.onClose;return u.a.createElement($e.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:s,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},u.a.createElement(P.a,{style:{height:"100vh"}},u.a.createElement(b.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},u.a.createElement(c.a,{type:"link",onClick:s},u.a.createElement(y.a,null)," Back to ",t?"persons":"recordings"),u.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:s},u.a.createElement(Yn.IconClose,null))),u.a.createElement(b.a,{className:"session-drawer-body"},u.a.createElement(v,null))))}try{T.displayName="SessionPlayerDrawer",T.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:T.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(a){}},"./frontend/src/scenes/trends/PersonsModal.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return Ct});var ne=e("./node_modules/core-js/modules/es.array.concat.js"),u=e("./node_modules/core-js/modules/es.array.find.js"),$e=e("./node_modules/core-js/modules/es.array.map.js"),Xe=e("./node_modules/core-js/modules/es.object.keys.js"),w=e("./node_modules/core-js/modules/es.object.to-string.js"),et=e("./node_modules/core-js/modules/es.regexp.exec.js"),X=e("./node_modules/core-js/modules/es.regexp.to-string.js"),ae=e("./node_modules/core-js/modules/es.string.replace.js"),r=e("./node_modules/react/index.js"),S=e.n(r),ct=e("./node_modules/kea/lib/index.esm.js"),G=e("./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js"),V=e("./node_modules/@ant-design/icons/es/icons/UsergroupAddOutlined.js"),it=e("./node_modules/antd/es/modal/index.js"),ze=e("./node_modules/antd/es/button/index.js"),Oe=e("./node_modules/antd/es/skeleton/index.js"),J=e("./node_modules/antd/es/input/index.js"),D=e("./node_modules/antd/es/select/index.js"),k=e("./frontend/src/types.ts"),Ye=e("./frontend/src/scenes/trends/personsModalLogic.ts"),fe=e("./frontend/src/lib/components/CopyToClipboard.tsx"),De=e("./frontend/src/lib/utils.tsx"),Ke=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Z=e.n(Ke),Qe=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss"),Ce=e.n(Qe),Me={};Me.insert="head",Me.singleton=!1;var Ft=Z()(Ce.a,Me),_e=Ce.a.locals||{},Ot=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),R=e("./frontend/src/lib/components/PropertiesTable.tsx"),xt=e("./frontend/src/lib/components/DateDisplay/index.tsx"),ye=e("./frontend/src/scenes/persons/PersonHeader.tsx"),$t=e("./frontend/src/lib/api.ts"),o=e("./frontend/src/lib/components/LemonTable/index.ts"),Jt=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),Mt=e("./frontend/src/lib/components/icons.tsx"),Lt=e("./frontend/src/lib/components/InsightLabel/index.tsx"),_=e("./frontend/src/lib/colors.ts"),Gt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),ut=e("./frontend/src/lib/constants.tsx"),Zt=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),Tt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),vt=e.n(Tt),Ut=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),q=e("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),Ie=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),ke=e("./frontend/src/lib/components/Popup/Popup.tsx"),le=e("./frontend/src/lib/components/Link.tsx"),Te=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss"),Fe=e.n(Te),ge={};ge.insert="head",ge.singleton=!1;var St=Z()(Fe.a,ge),te=Fe.a.locals||{};function Ne(me){var ce=me.sessionRecordings,Le=me.onOpenRecording,ot=Object(r.useState)(!1),Rt=vt()(ot,2),wt=Rt[0],It=Rt[1],we=ce.length===1,qe=Object(r.useCallback)(function(gt){var tt=gt.setRef,Ze=gt.children;return we?S.a.createElement("div",{ref:tt},S.a.createElement(le.a,{onClick:function(dt){dt.stopPropagation(),Le(ce[0])}},Ze)):S.a.createElement("div",{ref:tt,onClick:function(dt){dt.stopPropagation(),It(function(ie){return!ie})}},Ze)},[ce,It]);return S.a.createElement(ke.a,{visible:wt,placement:"bottom-end",fallbackPlacements:["top-end"],className:"session-recordings-popup",overlay:ce.map(function(gt,tt){return S.a.createElement(le.a,{key:gt.session_id,onClick:function(lt){lt.stopPropagation(),It(!1),Le(gt)}},S.a.createElement("div",{className:"session-recordings-popup-row"},S.a.createElement(Ut.a,null),"Recording ",tt+1))}),onClickOutside:function(){It(!1)}},function(gt){var tt=gt.setRef;return S.a.createElement(qe,{setRef:tt},S.a.createElement(ze.a,{className:"session-recordings-button","data-attr":"session-recordings-button",icon:S.a.createElement(Ut.a,null)},"Watch recording",we?S.a.createElement(q.a,null):S.a.createElement(Ie.a,null)))})}try{Ne.displayName="MultiRecordingButton",Ne.__docgenInfo={description:"",displayName:"MultiRecordingButton",props:{sessionRecordings:{defaultValue:null,description:"",name:"sessionRecordings",required:!0,type:{name:"MatchedRecording[]"}},onOpenRecording:{defaultValue:null,description:"",name:"onOpenRecording",required:!0,type:{name:"(sessionRecording: MatchedRecording) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"]={docgenInfo:Ne.__docgenInfo,name:"MultiRecordingButton",path:"frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"})}catch(me){}function Ct(me){var ce,Le,ot,Rt,wt,It,we=me.visible,qe=me.view,gt=me.filters,tt=me.onSaveCohort,Ze=me.showModalActions,lt=Ze===void 0?!0:Ze,dt=me.aggregationTargetLabel,ie=Object(ct.useValues)(Ye.b),B=ie.people,ht=ie.loadingMorePeople,mt=ie.firstLoadedPeople,an=ie.searchTerm,qt=ie.isInitialLoad,rn=ie.peopleParams,yn=ie.actorLabel,Vt=ie.sessionRecordingId,un=Object(ct.useActions)(Ye.b),cn=un.hidePeople,fn=un.loadMorePeople,He=un.setFirstLoadedActors,Tn=un.setPersonsModalFilters,sn=un.setSearchTerm,Xn=un.switchToDataPoint,Qn=un.openRecordingModal,on=un.closeRecordingModal,Nn=Object(ct.useValues)(Gt.a),Wn=Nn.featureFlags,vn=Object(r.useMemo)(function(){var pt,nt,Bt;return qt?"Loading ".concat(dt.plural,"\u2026"):gt.shown_as==="Stickiness"?S.a.createElement(S.a.Fragment,null,S.a.createElement(Ot.b,{value:(B==null?void 0:B.label)||"",disablePopover:!0})," stickiness on day ",B==null?void 0:B.day):gt.display==="ActionsBarValue"||gt.display==="ActionsPie"?S.a.createElement(Ot.b,{value:(B==null?void 0:B.label)||"",disablePopover:!0}):gt.insight===k.s.FUNNELS?S.a.createElement(S.a.Fragment,null,((pt=B==null?void 0:B.funnelStep)!==null&&pt!==void 0?pt:0)>=0?"Completed":"Dropped off at"," step"," ",Math.abs((nt=B==null?void 0:B.funnelStep)!==null&&nt!==void 0?nt:0)," \u2022 ",S.a.createElement(Ot.b,{value:(B==null?void 0:B.label)||"",disablePopover:!0})," ",B!=null&&B.breakdown_value?"\u2022 ".concat(B.breakdown_value):""):gt.insight===k.s.PATHS?S.a.createElement(S.a.Fragment,null,B!=null&&B.pathsDropoff?"Dropped off after":"Completed"," step"," ",S.a.createElement(Ot.b,{value:(B==null?void 0:B.label.replace(/(^[0-9]+_)/,""))||"",disablePopover:!0})):S.a.createElement(S.a.Fragment,null,Object(De.j)(yn)," list on"," ",S.a.createElement(xt.a,{interval:gt.interval||"day",date:(B==null||(Bt=B.day)===null||Bt===void 0?void 0:Bt.toString())||""}))},[gt,B,qt]),Sn=Wn[ut.n.NEW_INSIGHT_COHORTS],Yt=!1,_n=(qe===k.s.TRENDS||qe===k.s.STICKINESS||!!Sn&&(qe===k.s.FUNNELS||qe===k.s.PATHS))&&lt,Zn=Object(_.c)("white",B==null||(ce=B.crossDataset)===null||ce===void 0?void 0:ce.length),zt=!!(!(B==null||(Le=B.crossDataset)===null||Le===void 0)&&Le.find(function(pt){var nt=pt.action;return(nt==null?void 0:nt.math)&&nt.math!=="total"})),gn=!!(!(B==null||(ot=B.crossDataset)===null||ot===void 0)&&ot.find(function(pt){var nt=pt.action;return nt==null?void 0:nt.order}));return S.a.createElement(S.a.Fragment,null,!!Vt&&S.a.createElement(Zt.a,{onClose:on}),S.a.createElement(it.a,{title:vn,visible:we,onCancel:cn,footer:B&&B.count>0&&(Yt||_n)&&S.a.createElement(S.a.Fragment,null,Yt&&S.a.createElement(ze.a,{icon:S.a.createElement(G.a,null),href:$t.a.actions.determinePeopleCsvUrl({label:B.label,action:B.action,date_from:B.day,date_to:B.day,breakdown_value:B.breakdown_value},gt),style:{marginRight:8},"data-attr":"person-modal-download-csv"},"Download CSV"),_n&&S.a.createElement(ze.a,{onClick:tt,icon:S.a.createElement(V.a,null),"data-attr":"person-modal-save-as-cohort"},"Save as cohort")),width:600,className:"person-modal"},qt?S.a.createElement("div",{style:{padding:16}},S.a.createElement(Oe.a,{active:!0})):B&&S.a.createElement(S.a.Fragment,null,S.a.createElement(J.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for persons by email, name, or ID",onChange:function(nt){sn(nt.target.value),nt.target.value||He(mt)},value:an,onSearch:function(nt){return nt?Tn(nt,B,gt):He(mt)}}),Wn[ut.n.MULTI_POINT_PERSON_MODAL]&&!!(!((Rt=B.crossDataset)===null||Rt===void 0)&&Rt.length)&&B.seriesId!==void 0&&S.a.createElement("div",{className:"data-point-selector"},S.a.createElement(D.a,{value:B.seriesId,onChange:function(nt){return Xn(nt)}},B.crossDataset.map(function(pt){var nt,Bt;return S.a.createElement(D.a.Option,{value:pt.id,key:"".concat((nt=pt.action)===null||nt===void 0?void 0:nt.id).concat(pt.breakdown_value)},S.a.createElement(Lt.b,{seriesColor:Zn[pt.id],action:pt.action,breakdownValue:pt.breakdown_value===""?"None":(Bt=pt.breakdown_value)===null||Bt===void 0?void 0:Bt.toString(),showCountedByTag:zt,hasMultipleSeries:gn}))}))),S.a.createElement("div",{className:"user-count-subheader"},S.a.createElement(Mt.IconPersonFilled,{style:{fontSize:"1.125rem",marginRight:"0.5rem"}}),S.a.createElement("span",null,"This list contains"," ",S.a.createElement("b",null,B.count," unique ",dt.plural),(rn==null?void 0:rn.pointValue)!==void 0&&(!(!((wt=rn.action)===null||wt===void 0)&&wt.math)||((It=rn.action)===null||It===void 0?void 0:It.math)==="total")&&S.a.createElement(S.a.Fragment,null," ","who performed the event"," ",S.a.createElement("b",null,rn.pointValue," total"," ",Object(De.qb)(rn.pointValue,"time",void 0,!1))),".")),B.count>0?S.a.createElement(o.a,{columns:[{title:"Person",key:"person",render:function(nt,Bt){return S.a.createElement(be,{actor:Bt})}},{width:0,title:"Recordings",key:"recordings",render:function(nt,Bt){var bn,Mn;if(((bn=Bt.matched_recordings)===null||bn===void 0?void 0:bn.length)&&((Mn=Bt.matched_recordings)===null||Mn===void 0?void 0:Mn.length)>0)return S.a.createElement(Ne,{sessionRecordings:Bt.matched_recordings,onOpenRecording:function(Dn){Qn(Dn.session_id)}})}}],className:"persons-table",rowKey:"id",expandable:{expandedRowRender:function(nt){var Bt=nt.properties;return Object.keys(Bt).length?S.a.createElement(R.a,{properties:Bt}):"This person has no properties."}},embedded:!0,showHeader:!1,dataSource:B.people,nouns:["person","persons"]}):S.a.createElement("div",{className:"person-row-container person-row"},"We couldn't find any matching ",dt.plural," for this data point."),(B==null?void 0:B.next)&&S.a.createElement("div",{style:{margin:"1rem",textAlign:"center"}},S.a.createElement(ze.a,{type:"primary",style:{color:"white"},onClick:fn,loading:ht},"Load more ",dt.plural)))))}function be(me){var ce=me.actor;return Object(De.W)(ce)?S.a.createElement("div",{key:ce.id,className:"person-row"},S.a.createElement("div",{className:"person-ids"},S.a.createElement("strong",null,S.a.createElement(Jt.a,{actor:ce})))):S.a.createElement("div",{key:ce.id,className:"person-ids"},S.a.createElement("strong",null,S.a.createElement(ye.a,{person:ce,withIcon:!1})),S.a.createElement(fe.a,{explicitValue:ce.distinct_ids[0],iconStyle:{color:"var(--primary)"},iconPosition:"end",className:"text-small text-muted-alt"},Object(De.kb)(ce.distinct_ids[0],32)))}try{Ct.displayName="PersonsModal",Ct.__docgenInfo={description:"",displayName:"PersonsModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onSaveCohort:{defaultValue:null,description:"",name:"onSaveCohort",required:!0,type:{name:"() => void"}},showModalActions:{defaultValue:{value:"true"},description:"",name:"showModalActions",required:!1,type:{name:"boolean"}},aggregationTargetLabel:{defaultValue:null,description:"",name:"aggregationTargetLabel",required:!0,type:{name:"{ singular: string; plural: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"]={docgenInfo:Ct.__docgenInfo,name:"PersonsModal",path:"frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"})}catch(me){}try{be.displayName="ActorRow",be.__docgenInfo={description:"",displayName:"ActorRow",props:{actor:{defaultValue:null,description:"",name:"actor",required:!0,type:{name:"ActorType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"]={docgenInfo:be.__docgenInfo,name:"ActorRow",path:"frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"})}catch(me){}},"./frontend/src/scenes/trends/SaveCohortModal.tsx":function(Pe,z,e){"use strict";e.d(z,"a",function(){return X});var ne=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=e.n(ne),$e=e("./node_modules/react/index.js"),Xe=e.n($e),w=e("./node_modules/antd/es/modal/index.js"),et=e("./node_modules/antd/es/input/index.js");function X(ae){var r=ae.onOk,S=ae.onCancel,ct=ae.visible,G=Object($e.useState)(""),V=u()(G,2),it=V[0],ze=V[1];return Xe.a.createElement(w.a,{title:"New Cohort",okText:"Save",cancelText:"Cancel",onOk:function(){r(it),ze("")},onCancel:S,visible:ct},Xe.a.createElement("div",{className:"mb"},Xe.a.createElement(et.a,{required:!0,autoFocus:!0,placeholder:"Cohort name...",value:it,"data-attr":"cohort-name",onChange:function(J){return ze(J.target.value)}})))}try{X.displayName="SaveCohortModal",X.__docgenInfo={description:"",displayName:"SaveCohortModal",props:{onOk:{defaultValue:null,description:"",name:"onOk",required:!0,type:{name:"(title: string) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"]={docgenInfo:X.__docgenInfo,name:"SaveCohortModal",path:"frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"})}catch(ae){}},"./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js":function(Pe,z,e){"use strict";var ne=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},Xe=$e,w=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),et=function(r,S){return u.createElement(w.a,Object(ne.a)(Object(ne.a)({},r),{},{ref:S,icon:Xe}))};et.displayName="BarChartOutlined";var X=z.a=u.forwardRef(et)},"./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js":function(Pe,z,e){"use strict";var ne=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Xe=$e,w=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),et=function(r,S){return u.createElement(w.a,Object(ne.a)(Object(ne.a)({},r),{},{ref:S,icon:Xe}))};et.displayName="DownloadOutlined";var X=z.a=u.forwardRef(et)},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(Pe,z,e){"use strict";var ne=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},Xe=$e,w=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),et=function(r,S){return u.createElement(w.a,Object(ne.a)(Object(ne.a)({},r),{},{ref:S,icon:Xe}))};et.displayName="OrderedListOutlined";var X=z.a=u.forwardRef(et)},"./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js":function(Pe,z,e){"use strict";var ne=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),$e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},Xe=$e,w=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),et=function(r,S){return u.createElement(w.a,Object(ne.a)(Object(ne.a)({},r),{},{ref:S,icon:Xe}))};et.displayName="PercentageOutlined";var X=z.a=u.forwardRef(et)},"./node_modules/antd/es/slider/index.js":function(Pe,z,e){"use strict";var ne=e("./node_modules/@babel/runtime/helpers/esm/typeof.js"),u=e("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),$e=e("./node_modules/@babel/runtime/helpers/esm/extends.js"),Xe=e("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),w=e("./node_modules/react/index.js"),et=e.n(w),X=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ae=e("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=e("./node_modules/@babel/runtime/helpers/esm/createClass.js"),S=e("./node_modules/@babel/runtime/helpers/esm/inherits.js"),ct=e("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),G={};function V(f,p){}function it(f,p){}function ze(){G={}}function Oe(f,p,x){!p&&!G[x]&&(f(!1,x),G[x]=!0)}function J(f,p){Oe(V,f,p)}function D(f,p){Oe(it,f,p)}var k=J,Ye=function(p){var x,g,d=p.className,v=p.included,i=p.vertical,l=p.style,c=p.length,y=p.offset,T=p.reverse;c<0&&(T=!T,c=Math.abs(c),y=100-y);var a=i?(x={},Object(u.a)(x,T?"top":"bottom","".concat(y,"%")),Object(u.a)(x,T?"bottom":"top","auto"),Object(u.a)(x,"height","".concat(c,"%")),x):(g={},Object(u.a)(g,T?"right":"left","".concat(y,"%")),Object(u.a)(g,T?"left":"right","auto"),Object(u.a)(g,"width","".concat(c,"%")),g),n=Object(X.a)(Object(X.a)({},l),a);return v?et.a.createElement("div",{className:d,style:n}):null},fe=Ye,De=e("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Ke=e("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),Z=e("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");function Qe(f,p){for(;!Object.prototype.hasOwnProperty.call(f,p)&&(f=Object(Z.a)(f),f!==null););return f}function Ce(f,p,x){return typeof Reflect!="undefined"&&Reflect.get?Ce=Reflect.get:Ce=function(d,v,i){var l=Qe(d,v);if(!!l){var c=Object.getOwnPropertyDescriptor(l,v);return c.get?c.get.call(i):c.value}},Ce(f,p,x||f)}var Me=e("./node_modules/react-dom/index.js"),Ft=e.n(Me);function _e(f,p,x,g){var d=Ft.a.unstable_batchedUpdates?function(i){Ft.a.unstable_batchedUpdates(x,i)}:x;return f.addEventListener&&f.addEventListener(p,d,g),{remove:function(){f.removeEventListener&&f.removeEventListener(p,d)}}}var Ot=e("./node_modules/classnames/index.js"),R=e.n(Ot),xt=function(p,x,g,d,v,i){k(g?d>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var l=Object.keys(x).map(parseFloat).sort(function(y,T){return y-T});if(g&&d)for(var c=v;c<=i;c+=d)l.indexOf(c)===-1&&l.push(c);return l},ye=function(p){var x=p.prefixCls,g=p.vertical,d=p.reverse,v=p.marks,i=p.dots,l=p.step,c=p.included,y=p.lowerBound,T=p.upperBound,a=p.max,n=p.min,t=p.dotStyle,s=p.activeDotStyle,m=a-n,h=xt(g,v,i,l,n,a).map(function(E){var C,j="".concat(Math.abs(E-n)/m*100,"%"),M=!c&&E===T||c&&E<=T&&E>=y,W=g?Object(X.a)(Object(X.a)({},t),{},Object(u.a)({},d?"top":"bottom",j)):Object(X.a)(Object(X.a)({},t),{},Object(u.a)({},d?"right":"left",j));M&&(W=Object(X.a)(Object(X.a)({},W),s));var K=R()((C={},Object(u.a)(C,"".concat(x,"-dot"),!0),Object(u.a)(C,"".concat(x,"-dot-active"),M),Object(u.a)(C,"".concat(x,"-dot-reverse"),d),C));return et.a.createElement("span",{className:K,style:W,key:E})});return et.a.createElement("div",{className:"".concat(x,"-step")},h)},$t=ye,o=function(p){var x=p.className,g=p.vertical,d=p.reverse,v=p.marks,i=p.included,l=p.upperBound,c=p.lowerBound,y=p.max,T=p.min,a=p.onClickLabel,n=Object.keys(v),t=y-T,s=n.map(parseFloat).sort(function(m,h){return m-h}).map(function(m){var h,E=v[m],C=Object(ne.a)(E)==="object"&&!et.a.isValidElement(E),j=C?E.label:E;if(!j&&j!==0)return null;var M=!i&&m===l||i&&m<=l&&m>=c,W=R()((h={},Object(u.a)(h,"".concat(x,"-text"),!0),Object(u.a)(h,"".concat(x,"-text-active"),M),h)),K=Object(u.a)({marginBottom:"-50%"},d?"top":"bottom","".concat((m-T)/t*100,"%")),U=Object(u.a)({transform:"translateX(".concat(d?"50%":"-50%",")"),msTransform:"translateX(".concat(d?"50%":"-50%",")")},d?"right":"left","".concat((m-T)/t*100,"%")),de=g?K:U,oe=C?Object(X.a)(Object(X.a)({},de),E.style):de;return et.a.createElement("span",{className:W,style:oe,key:m,onMouseDown:function(Re){return a(Re,m)},onTouchStart:function(Re){return a(Re,m)}},j)});return et.a.createElement("div",{className:x},s)},Jt=o,Mt=["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"],Lt=function(f){Object(S.a)(x,f);var p=Object(ct.a)(x);function x(){var g;Object(ae.a)(this,x);for(var d=arguments.length,v=new Array(d),i=0;i<d;i++)v[i]=arguments[i];return g=p.call.apply(p,[this].concat(v)),g.state={clickFocused:!1},g.onMouseUpListener=void 0,g.handle=void 0,g.setHandleRef=function(l){g.handle=l},g.handleMouseUp=function(){document.activeElement===g.handle&&g.setClickFocus(!0)},g.handleMouseDown=function(l){l.preventDefault(),g.focus()},g.handleBlur=function(){g.setClickFocus(!1)},g.handleKeyDown=function(){g.setClickFocus(!1)},g}return Object(r.a)(x,[{key:"componentDidMount",value:function(){this.onMouseUpListener=_e(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(d){this.setState({clickFocused:d})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var d,v,i=this.props,l=i.prefixCls,c=i.vertical,y=i.reverse,T=i.offset,a=i.style,n=i.disabled,t=i.min,s=i.max,m=i.value,h=i.tabIndex,E=i.ariaLabel,C=i.ariaLabelledBy,j=i.ariaValueTextFormatter,M=Object(De.a)(i,Mt),W=R()(this.props.className,Object(u.a)({},"".concat(l,"-handle-click-focused"),this.state.clickFocused)),K=c?(d={},Object(u.a)(d,y?"top":"bottom","".concat(T,"%")),Object(u.a)(d,y?"bottom":"top","auto"),Object(u.a)(d,"transform",y?null:"translateY(+50%)"),d):(v={},Object(u.a)(v,y?"right":"left","".concat(T,"%")),Object(u.a)(v,y?"left":"right","auto"),Object(u.a)(v,"transform","translateX(".concat(y?"+":"-","50%)")),v),U=Object(X.a)(Object(X.a)({},a),K),de=h||0;(n||h===null)&&(de=null);var oe;return j&&(oe=j(m)),et.a.createElement("div",Object($e.a)({ref:this.setHandleRef,tabIndex:de},M,{className:W,style:U,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":t,"aria-valuemax":s,"aria-valuenow":m,"aria-disabled":!!n,"aria-label":E,"aria-labelledby":C,"aria-valuetext":oe}))}}]),x}(et.a.Component),_={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(p){var x=p.keyCode;if(p.altKey&&!p.ctrlKey||p.metaKey||x>=_.F1&&x<=_.F12)return!1;switch(x){case _.ALT:case _.CAPS_LOCK:case _.CONTEXT_MENU:case _.CTRL:case _.DOWN:case _.END:case _.ESC:case _.HOME:case _.INSERT:case _.LEFT:case _.MAC_FF_META:case _.META:case _.NUMLOCK:case _.NUM_CENTER:case _.PAGE_DOWN:case _.PAGE_UP:case _.PAUSE:case _.PRINT_SCREEN:case _.RIGHT:case _.SHIFT:case _.UP:case _.WIN_KEY:case _.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(p){if(p>=_.ZERO&&p<=_.NINE||p>=_.NUM_ZERO&&p<=_.NUM_MULTIPLY||p>=_.A&&p<=_.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&p===0)return!0;switch(p){case _.SPACE:case _.QUESTION_MARK:case _.NUM_PLUS:case _.NUM_MINUS:case _.NUM_PERIOD:case _.NUM_DIVISION:case _.SEMICOLON:case _.DASH:case _.EQUALS:case _.COMMA:case _.PERIOD:case _.SLASH:case _.APOSTROPHE:case _.SINGLE_QUOTE:case _.OPEN_SQUARE_BRACKET:case _.BACKSLASH:case _.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Gt=_;function ut(f,p){try{return Object.keys(p).some(function(x){return f.target===Object(Me.findDOMNode)(p[x])})}catch(x){return!1}}function Zt(f,p){var x=p.min,g=p.max;return f<x||f>g}function Tt(f){return f.touches.length>1||f.type.toLowerCase()==="touchend"&&f.touches.length>0}function vt(f,p){var x=p.marks,g=p.step,d=p.min,v=p.max,i=Object.keys(x).map(parseFloat);if(g!==null){var l=Math.pow(10,Ut(g)),c=Math.floor((v*l-d*l)/(g*l)),y=Math.min((f-d)/g,c),T=Math.round(y)*g+d;i.push(T)}var a=i.map(function(n){return Math.abs(f-n)});return i[a.indexOf(Math.min.apply(Math,Object(Ke.a)(a)))]}function Ut(f){var p=f.toString(),x=0;return p.indexOf(".")>=0&&(x=p.length-p.indexOf(".")-1),x}function q(f,p){return f?p.clientY:p.pageX}function Ie(f,p){return f?p.touches[0].clientY:p.touches[0].pageX}function ke(f,p){var x=p.getBoundingClientRect();return f?x.top+x.height*.5:window.pageXOffset+x.left+x.width*.5}function le(f,p){var x=p.max,g=p.min;return f<=g?g:f>=x?x:f}function Te(f,p){var x=p.step,g=isFinite(vt(f,p))?vt(f,p):0;return x===null?g:parseFloat(g.toFixed(Ut(x)))}function Fe(f){f.stopPropagation(),f.preventDefault()}function ge(f,p,x){var g={increase:function(l,c){return l+c},decrease:function(l,c){return l-c}},d=g[f](Object.keys(x.marks).indexOf(JSON.stringify(p)),1),v=Object.keys(x.marks)[d];return x.step?g[f](p,x.step):!!Object.keys(x.marks).length&&!!x.marks[v]?x.marks[v]:p}function St(f,p,x){var g="increase",d="decrease",v=g;switch(f.keyCode){case Gt.UP:v=p&&x?d:g;break;case Gt.RIGHT:v=!p&&x?d:g;break;case Gt.DOWN:v=p&&x?g:d;break;case Gt.LEFT:v=!p&&x?g:d;break;case Gt.END:return function(i,l){return l.max};case Gt.HOME:return function(i,l){return l.min};case Gt.PAGE_UP:return function(i,l){return i+l.step*2};case Gt.PAGE_DOWN:return function(i,l){return i-l.step*2};default:return}return function(i,l){return ge(v,i,l)}}var te=["index"];function Ne(){}function Ct(f){var p,x;return x=p=function(g){Object(S.a)(v,g);var d=Object(ct.a)(v);function v(i){var l;Object(ae.a)(this,v),l=d.call(this,i),l.handlesRefs=void 0,l.sliderRef=void 0,l.document=void 0,l.dragOffset=void 0,l.prevMovedHandleIndex=void 0,l.onTouchMoveListener=void 0,l.onTouchUpListener=void 0,l.onMouseMoveListener=void 0,l.onMouseUpListener=void 0,l.dragTrack=void 0,l.startBounds=void 0,l.onDown=function(n,t){var s=t,m=l.props,h=m.draggableTrack,E=m.vertical,C=l.state.bounds,j=h&&l.positionGetValue?l.positionGetValue(s)||[]:[],M=ut(n,l.handlesRefs);if(l.dragTrack=h&&C.length>=2&&!M&&!j.map(function(K,U){var de=U?!0:K>=C[U];return U===j.length-1?K<=C[U]:de}).some(function(K){return!K}),l.dragTrack)l.dragOffset=s,l.startBounds=Object(Ke.a)(C);else{if(!M)l.dragOffset=0;else{var W=ke(E,n.target);l.dragOffset=s-W,s=W}l.onStart(s)}},l.onMouseDown=function(n){if(n.button===0){l.removeDocumentEvents();var t=l.props.vertical,s=q(t,n);l.onDown(n,s),l.addDocumentMouseEvents()}},l.onTouchStart=function(n){if(!Tt(n)){var t=l.props.vertical,s=Ie(t,n);l.onDown(n,s),l.addDocumentTouchEvents(),Fe(n)}},l.onFocus=function(n){var t=l.props,s=t.onFocus,m=t.vertical;if(ut(n,l.handlesRefs)&&!l.dragTrack){var h=ke(m,n.target);l.dragOffset=0,l.onStart(h),Fe(n),s&&s(n)}},l.onBlur=function(n){var t=l.props.onBlur;l.dragTrack||l.onEnd(),t&&t(n)},l.onMouseUp=function(){l.handlesRefs[l.prevMovedHandleIndex]&&l.handlesRefs[l.prevMovedHandleIndex].clickFocus()},l.onMouseMove=function(n){if(!l.sliderRef){l.onEnd();return}var t=q(l.props.vertical,n);l.onMove(n,t-l.dragOffset,l.dragTrack,l.startBounds)},l.onTouchMove=function(n){if(Tt(n)||!l.sliderRef){l.onEnd();return}var t=Ie(l.props.vertical,n);l.onMove(n,t-l.dragOffset,l.dragTrack,l.startBounds)},l.onKeyDown=function(n){l.sliderRef&&ut(n,l.handlesRefs)&&l.onKeyboard(n)},l.onClickMarkLabel=function(n,t){n.stopPropagation(),l.onChange({value:t}),l.setState({value:t},function(){return l.onEnd(!0)})},l.saveSlider=function(n){l.sliderRef=n};var c=i.step,y=i.max,T=i.min,a=isFinite(y-T)?(y-T)%c===0:!0;return k(c&&Math.floor(c)===c?a:!0,"Slider[max] - Slider[min] (".concat(y-T,") should be a multiple of Slider[step] (").concat(c,")")),l.handlesRefs={},l}return Object(r.a)(v,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var l=this.props,c=l.autoFocus,y=l.disabled;c&&!y&&this.focus()}},{key:"componentWillUnmount",value:function(){Ce(Object(Z.a)(v.prototype),"componentWillUnmount",this)&&Ce(Object(Z.a)(v.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var l=this.sliderRef,c=this.props,y=c.vertical,T=c.reverse,a=l.getBoundingClientRect();return y?T?a.bottom:a.top:window.pageXOffset+(T?a.right:a.left)}},{key:"getSliderLength",value:function(){var l=this.sliderRef;if(!l)return 0;var c=l.getBoundingClientRect();return this.props.vertical?c.height:c.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=_e(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=_e(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=_e(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=_e(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var l;this.props.disabled||(l=this.handlesRefs[0])===null||l===void 0||l.focus()}},{key:"blur",value:function(){var l=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(c){var y,T;(y=l.handlesRefs[c])===null||y===void 0||(T=y.blur)===null||T===void 0||T.call(y)})}},{key:"calcValue",value:function(l){var c=this.props,y=c.vertical,T=c.min,a=c.max,n=Math.abs(Math.max(l,0)/this.getSliderLength()),t=y?(1-n)*(a-T)+T:n*(a-T)+T;return t}},{key:"calcValueByPos",value:function(l){var c=this.props.reverse?-1:1,y=c*(l-this.getSliderStart()),T=this.trimAlignValue(this.calcValue(y));return T}},{key:"calcOffset",value:function(l){var c=this.props,y=c.min,T=c.max,a=(l-y)/(T-y);return Math.max(0,a*100)}},{key:"saveHandle",value:function(l,c){this.handlesRefs[l]=c}},{key:"render",value:function(){var l,c=this.props,y=c.prefixCls,T=c.className,a=c.marks,n=c.dots,t=c.step,s=c.included,m=c.disabled,h=c.vertical,E=c.reverse,C=c.min,j=c.max,M=c.children,W=c.maximumTrackStyle,K=c.style,U=c.railStyle,de=c.dotStyle,oe=c.activeDotStyle,Ee=Ce(Object(Z.a)(v.prototype),"render",this).call(this),Re=Ee.tracks,Ge=Ee.handles,Ae=R()(y,(l={},Object(u.a)(l,"".concat(y,"-with-marks"),Object.keys(a).length),Object(u.a)(l,"".concat(y,"-disabled"),m),Object(u.a)(l,"".concat(y,"-vertical"),h),Object(u.a)(l,T,T),l));return et.a.createElement("div",{ref:this.saveSlider,className:Ae,onTouchStart:m?Ne:this.onTouchStart,onMouseDown:m?Ne:this.onMouseDown,onMouseUp:m?Ne:this.onMouseUp,onKeyDown:m?Ne:this.onKeyDown,onFocus:m?Ne:this.onFocus,onBlur:m?Ne:this.onBlur,style:K},et.a.createElement("div",{className:"".concat(y,"-rail"),style:Object(X.a)(Object(X.a)({},W),U)}),Re,et.a.createElement($t,{prefixCls:y,vertical:h,reverse:E,marks:a,dots:n,step:t,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:C,dotStyle:de,activeDotStyle:oe}),Ge,et.a.createElement(Jt,{className:"".concat(y,"-mark"),onClickLabel:m?Ne:this.onClickMarkLabel,vertical:h,marks:a,included:s,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:j,min:C,reverse:E}),M)}}]),v}(f),p.displayName="ComponentEnhancer(".concat(f.displayName,")"),p.defaultProps=Object(X.a)(Object(X.a)({},f.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(d){var v=d.index,i=Object(De.a)(d,te);return delete i.dragging,i.value===null?null:et.a.createElement(Lt,Object($e.a)({},i,{key:v}))},onBeforeChange:Ne,onChange:Ne,onAfterChange:Ne,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),x}var be=function(f){Object(S.a)(x,f);var p=Object(ct.a)(x);function x(g){var d;Object(ae.a)(this,x),d=p.call(this,g),d.positionGetValue=function(l){return[]},d.startValue=void 0,d.startPosition=void 0,d.prevMovedHandleIndex=void 0,d.onEnd=function(l){var c=d.state.dragging;d.removeDocumentEvents(),(c||l)&&d.props.onAfterChange(d.getValue()),d.setState({dragging:!1})};var v=g.defaultValue!==void 0?g.defaultValue:g.min,i=g.value!==void 0?g.value:v;return d.state={value:d.trimAlignValue(i),dragging:!1},k(!("minimumTrackStyle"in g),"minimumTrackStyle will be deprecated, please use trackStyle instead."),k(!("maximumTrackStyle"in g),"maximumTrackStyle will be deprecated, please use railStyle instead."),d}return Object(r.a)(x,[{key:"calcValueByPos",value:function(d){return 0}},{key:"calcOffset",value:function(d){return 0}},{key:"saveHandle",value:function(d,v){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(d,v){var i=this.props,l=i.min,c=i.max,y=i.value,T=i.onChange;if("min"in this.props||"max"in this.props){var a=y!==void 0?y:v.value,n=this.trimAlignValue(a,this.props);n!==v.value&&(this.setState({value:n}),!(l===d.min&&c===d.max)&&Zt(a,this.props)&&T(n))}}},{key:"onChange",value:function(d){var v=this.props,i=!("value"in v),l=d.value>this.props.max?Object(X.a)(Object(X.a)({},d),{},{value:this.props.max}):d;i&&this.setState(l);var c=l.value;v.onChange(c)}},{key:"onStart",value:function(d){this.setState({dragging:!0});var v=this.props,i=this.getValue();v.onBeforeChange(i);var l=this.calcValueByPos(d);this.startValue=l,this.startPosition=d,l!==i&&(this.prevMovedHandleIndex=0,this.onChange({value:l}))}},{key:"onMove",value:function(d,v){Fe(d);var i=this.state.value,l=this.calcValueByPos(v);l!==i&&this.onChange({value:l})}},{key:"onKeyboard",value:function(d){var v=this.props,i=v.reverse,l=v.vertical,c=St(d,l,i);if(c){Fe(d);var y=this.state,T=y.value,a=c(T,this.props),n=this.trimAlignValue(a);if(n===T)return;this.onChange({value:n}),this.props.onAfterChange(n),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var d=this.props.startPoint||this.props.min;return this.state.value>d?d:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d===null)return null;var i=Object(X.a)(Object(X.a)({},this.props),v),l=le(d,i);return Te(l,i)}},{key:"render",value:function(){var d=this,v=this.props,i=v.prefixCls,l=v.vertical,c=v.included,y=v.disabled,T=v.minimumTrackStyle,a=v.trackStyle,n=v.handleStyle,t=v.tabIndex,s=v.ariaLabelForHandle,m=v.ariaLabelledByForHandle,h=v.ariaValueTextFormatterForHandle,E=v.min,C=v.max,j=v.startPoint,M=v.reverse,W=v.handle,K=this.state,U=K.value,de=K.dragging,oe=this.calcOffset(U),Ee=W({className:"".concat(i,"-handle"),prefixCls:i,vertical:l,offset:oe,value:U,dragging:de,disabled:y,min:E,max:C,reverse:M,index:0,tabIndex:t,ariaLabel:s,ariaLabelledBy:m,ariaValueTextFormatter:h,style:n[0]||n,ref:function(xe){return d.saveHandle(0,xe)}}),Re=j!==void 0?this.calcOffset(j):0,Ge=a[0]||a,Ae=et.a.createElement(fe,{className:"".concat(i,"-track"),vertical:l,included:c,offset:Re,reverse:M,length:oe-Re,style:Object(X.a)(Object(X.a)({},T),Ge)});return{tracks:Ae,handles:Ee}}}]),x}(et.a.Component),me=Ct(be),ce=function(p){var x=p.value,g=p.handle,d=p.bounds,v=p.props,i=v.allowCross,l=v.pushable,c=Number(l),y=le(x,v),T=y;return!i&&g!=null&&d!==void 0&&(g>0&&y<=d[g-1]+c&&(T=d[g-1]+c),g<d.length-1&&y>=d[g+1]-c&&(T=d[g+1]-c)),Te(T,v)},Le=function(f){Object(S.a)(x,f);var p=Object(ct.a)(x);function x(g){var d;Object(ae.a)(this,x),d=p.call(this,g),d.startValue=void 0,d.startPosition=void 0,d.prevMovedHandleIndex=void 0,d.internalPointsCache=void 0,d.handlesRefs=void 0,d.dragTrack=void 0,d.positionGetValue=function(t){var s=d.getValue(),m=d.calcValueByPos(t),h=d.getClosestBound(m),E=d.getBoundNeedMoving(m,h),C=s[E];if(m===C)return null;var j=Object(Ke.a)(s);return j[E]=m,j},d.onEnd=function(t){var s=d.state.handle;d.removeDocumentEvents(),s||(d.dragTrack=!1),(s!==null||t)&&d.props.onAfterChange(d.getValue()),d.setState({handle:null})};var v=g.count,i=g.min,l=g.max,c=Array.apply(void 0,Object(Ke.a)(Array(v+1))).map(function(){return i}),y="defaultValue"in g?g.defaultValue:c,T=g.value!==void 0?g.value:y,a=T.map(function(t,s){return ce({value:t,handle:s,props:g})}),n=a[0]===l?0:a.length-1;return d.state={handle:null,recent:n,bounds:a},d}return Object(r.a)(x,[{key:"calcValueByPos",value:function(d){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(d){return 0}},{key:"saveHandle",value:function(d,v){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(d,v){var i=this,l=this.props,c=l.onChange,y=l.value,T=l.min,a=l.max;if(("min"in this.props||"max"in this.props)&&!(T===d.min&&a===d.max)){var n=y||v.bounds;if(n.some(function(s){return Zt(s,i.props)})){var t=n.map(function(s){return le(s,i.props)});c(t)}}}},{key:"onChange",value:function(d){var v=this.props,i=!("value"in v);if(i)this.setState(d);else{var l={};["handle","recent"].forEach(function(T){d[T]!==void 0&&(l[T]=d[T])}),Object.keys(l).length&&this.setState(l)}var c=Object(X.a)(Object(X.a)({},this.state),d),y=c.bounds;v.onChange(y)}},{key:"onStart",value:function(d){var v=this.props,i=this.state,l=this.getValue();v.onBeforeChange(l);var c=this.calcValueByPos(d);this.startValue=c,this.startPosition=d;var y=this.getClosestBound(c);this.prevMovedHandleIndex=this.getBoundNeedMoving(c,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var T=l[this.prevMovedHandleIndex];if(c!==T){var a=Object(Ke.a)(i.bounds);a[this.prevMovedHandleIndex]=c,this.onChange({bounds:a})}}},{key:"onMove",value:function(d,v,i,l){Fe(d);var c=this.state,y=this.props,T=y.max||100,a=y.min||0;if(i){var n=y.vertical?-v:v;n=y.reverse?-n:n;var t=T-Math.max.apply(Math,Object(Ke.a)(l)),s=a-Math.min.apply(Math,Object(Ke.a)(l)),m=Math.min(Math.max(n/(this.getSliderLength()/(T-a)),s),t),h=l.map(function(j){return Math.floor(Math.max(Math.min(j+m,T),a))});c.bounds.map(function(j,M){return j===h[M]}).some(function(j){return!j})&&this.onChange({bounds:h});return}var E=this.calcValueByPos(v),C=c.bounds[c.handle];E!==C&&this.moveTo(E)}},{key:"onKeyboard",value:function(d){var v=this.props,i=v.reverse,l=v.vertical,c=St(d,l,i);if(c){Fe(d);var y=this.state,T=this.props,a=y.bounds,n=y.handle,t=a[n===null?y.recent:n],s=c(t,T),m=ce({value:s,handle:n,bounds:y.bounds,props:T});if(m===t)return;var h=!0;this.moveTo(m,h)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(d){for(var v=this.state.bounds,i=0,l=1;l<v.length-1;l+=1)d>=v[l]&&(i=l);return Math.abs(v[i+1]-d)<Math.abs(v[i]-d)&&(i+=1),i}},{key:"getBoundNeedMoving",value:function(d,v){var i=this.state,l=i.bounds,c=i.recent,y=v,T=l[v+1]===l[v];return T&&l[c]===l[v]&&(y=c),T&&d!==l[v+1]&&(y=d<l[v+1]?v:v+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var d=this.state.bounds;return d[d.length-1]}},{key:"getPoints",value:function(){var d=this.props,v=d.marks,i=d.step,l=d.min,c=d.max,y=this.internalPointsCache;if(!y||y.marks!==v||y.step!==i){var T=Object(X.a)({},v);if(i!==null)for(var a=l;a<=c;a+=i)T[a]=a;var n=Object.keys(T).map(parseFloat);n.sort(function(t,s){return t-s}),this.internalPointsCache={marks:v,step:i,points:n}}return this.internalPointsCache.points}},{key:"moveTo",value:function(d,v){var i=this,l=this.state,c=this.props,y=Object(Ke.a)(l.bounds),T=l.handle===null?l.recent:l.handle;y[T]=d;var a=T;c.pushable!==!1?this.pushSurroundingHandles(y,a):c.allowCross&&(y.sort(function(n,t){return n-t}),a=y.indexOf(d)),this.onChange({recent:a,handle:a,bounds:y}),v&&(this.props.onAfterChange(y),this.setState({},function(){i.handlesRefs[a].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(d,v){var i=d[v],l=this.props.pushable,c=Number(l),y=0;if(d[v+1]-i<c&&(y=1),i-d[v-1]<c&&(y=-1),y!==0){var T=v+y,a=y*(d[T]-i);this.pushHandle(d,T,y,c-a)||(d[v]=d[T]-y*c)}}},{key:"pushHandle",value:function(d,v,i,l){for(var c=d[v],y=d[v];i*(y-c)<l;){if(!this.pushHandleOnePoint(d,v,i))return d[v]=c,!1;y=d[v]}return!0}},{key:"pushHandleOnePoint",value:function(d,v,i){var l=this.getPoints(),c=l.indexOf(d[v]),y=c+i;if(y>=l.length||y<0)return!1;var T=v+i,a=l[y],n=this.props.pushable,t=Number(n),s=i*(d[T]-a);return this.pushHandle(d,T,i,t-s)?(d[v]=a,!0):!1}},{key:"trimAlignValue",value:function(d){var v=this.state,i=v.handle,l=v.bounds;return ce({value:d,handle:i,bounds:l,props:this.props})}},{key:"render",value:function(){var d=this,v=this.state,i=v.handle,l=v.bounds,c=this.props,y=c.prefixCls,T=c.vertical,a=c.included,n=c.disabled,t=c.min,s=c.max,m=c.reverse,h=c.handle,E=c.trackStyle,C=c.handleStyle,j=c.tabIndex,M=c.ariaLabelGroupForHandles,W=c.ariaLabelledByGroupForHandles,K=c.ariaValueTextFormatterGroupForHandles,U=l.map(function(Re){return d.calcOffset(Re)}),de="".concat(y,"-handle"),oe=l.map(function(Re,Ge){var Ae,Be=j[Ge]||0;(n||j[Ge]===null)&&(Be=null);var xe=i===Ge;return h({className:R()((Ae={},Object(u.a)(Ae,de,!0),Object(u.a)(Ae,"".concat(de,"-").concat(Ge+1),!0),Object(u.a)(Ae,"".concat(de,"-dragging"),xe),Ae)),prefixCls:y,vertical:T,dragging:xe,offset:U[Ge],value:Re,index:Ge,tabIndex:Be,min:t,max:s,reverse:m,disabled:n,style:C[Ge],ref:function(kt){return d.saveHandle(Ge,kt)},ariaLabel:M[Ge],ariaLabelledBy:W[Ge],ariaValueTextFormatter:K[Ge]})}),Ee=l.slice(0,-1).map(function(Re,Ge){var Ae,Be=Ge+1,xe=R()((Ae={},Object(u.a)(Ae,"".concat(y,"-track"),!0),Object(u.a)(Ae,"".concat(y,"-track-").concat(Be),!0),Ae));return et.a.createElement(fe,{className:xe,vertical:T,reverse:m,included:a,offset:U[Be-1],length:U[Be]-U[Be-1],style:E[Ge],key:Be})});return{tracks:Ee,handles:oe}}}],[{key:"getDerivedStateFromProps",value:function(d,v){if(!("value"in d||"min"in d||"max"in d))return null;var i=d.value||v.bounds,l=i.map(function(c,y){return ce({value:c,handle:y,bounds:v.bounds,props:d})});if(v.bounds.length===l.length){if(l.every(function(c,y){return c===v.bounds[y]}))return null}else l=i.map(function(c,y){return ce({value:c,handle:y,props:d})});return Object(X.a)(Object(X.a)({},v),{},{bounds:l})}}]),x}(et.a.Component);Le.displayName="Range",Le.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var ot=Ct(Le),Rt=e("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),wt=function(p){return+setTimeout(p,16)},It=function(p){return clearTimeout(p)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(wt=function(p){return window.requestAnimationFrame(p)},It=function(p){return window.cancelAnimationFrame(p)});function we(f){return wt(f)}we.cancel=It;function qe(f,p){return f?f.contains(p):!1}function gt(f){return f instanceof HTMLElement?f:Ft.a.findDOMNode(f)}var tt=e("./node_modules/react-is/index.js");function Ze(f,p){typeof f=="function"?f(p):Object(ne.a)(f)==="object"&&f&&"current"in f&&(f.current=p)}function lt(){for(var f=arguments.length,p=new Array(f),x=0;x<f;x++)p[x]=arguments[x];return function(g){p.forEach(function(d){Ze(d,g)})}}function dt(f){var p,x,g=Object(tt.isMemo)(f)?f.type.type:f.type;return!(typeof g=="function"&&!(!((p=g.prototype)===null||p===void 0)&&p.render)||typeof f=="function"&&!(!((x=f.prototype)===null||x===void 0)&&x.render))}function ie(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var B=Object(w.forwardRef)(function(f,p){var x=f.didUpdate,g=f.getContainer,d=f.children,v=Object(w.useRef)();Object(w.useImperativeHandle)(p,function(){return{}});var i=Object(w.useRef)(!1);return!i.current&&ie()&&(v.current=g(),i.current=!0),Object(w.useEffect)(function(){x==null||x(f)}),Object(w.useEffect)(function(){return function(){var l,c;(l=v.current)===null||l===void 0||(c=l.parentNode)===null||c===void 0||c.removeChild(v.current)}},[]),v.current?Ft.a.createPortal(d,v.current):null}),ht=B;function mt(f,p,x){return x?f[0]===p[0]:f[0]===p[0]&&f[1]===p[1]}function an(f,p,x){var g=f[p]||{};return Object(X.a)(Object(X.a)({},g),x)}function qt(f,p,x,g){for(var d=x.points,v=Object.keys(f),i=0;i<v.length;i+=1){var l=v[i];if(mt(f[l].points,d,g))return"".concat(p,"-placement-").concat(l)}return""}var rn=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var f=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(f.substr(0,4)))};function yn(f,p){var x={};return x[f.toLowerCase()]=p.toLowerCase(),x["Webkit".concat(f)]="webkit".concat(p),x["Moz".concat(f)]="moz".concat(p),x["ms".concat(f)]="MS".concat(p),x["O".concat(f)]="o".concat(p.toLowerCase()),x}function Vt(f,p){var x={animationend:yn("Animation","AnimationEnd"),transitionend:yn("Transition","TransitionEnd")};return f&&("AnimationEvent"in p||delete x.animationend.animation,"TransitionEvent"in p||delete x.transitionend.transition),x}var un=Vt(ie(),typeof window!="undefined"?window:{}),cn={};if(ie()){var fn=document.createElement("div");cn=fn.style}var He={};function Tn(f){if(He[f])return He[f];var p=un[f];if(p)for(var x=Object.keys(p),g=x.length,d=0;d<g;d+=1){var v=x[d];if(Object.prototype.hasOwnProperty.call(p,v)&&v in cn)return He[f]=p[v],He[f]}return""}var sn=Tn("animationend"),Xn=Tn("transitionend"),Qn=!!(sn&&Xn),on=sn||"animationend",Nn=Xn||"transitionend";function Wn(f,p){if(!f)return null;if(Object(ne.a)(f)==="object"){var x=p.replace(/-\w/g,function(g){return g[1].toUpperCase()});return f[x]}return"".concat(f,"-").concat(p)}var vn="none",Sn="appear",Yt="enter",_n="leave",Zn="none",zt="prepare",gn="start",pt="active",nt="end";function Bt(f){var p=Object(w.useRef)(!1),x=Object(w.useState)(f),g=Object(Xe.a)(x,2),d=g[0],v=g[1];function i(l){p.current||v(l)}return Object(w.useEffect)(function(){return function(){p.current=!0}},[]),[d,i]}var bn=ie()?w.useLayoutEffect:w.useEffect,Mn=bn,wn=function(){var f=w.useRef(null);function p(){we.cancel(f.current)}function x(g){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;p();var v=we(function(){d<=1?g({isCanceled:function(){return v!==f.current}}):x(g,d-1)});f.current=v}return w.useEffect(function(){return function(){p()}},[]),[x,p]},Dn=[zt,gn,pt,nt],Fn=!1,mn=!0;function Jn(f){return f===pt||f===nt}var kn=function(f,p){var x=w.useState(Zn),g=Object(Xe.a)(x,2),d=g[0],v=g[1],i=wn(),l=Object(Xe.a)(i,2),c=l[0],y=l[1];function T(){v(zt)}return Mn(function(){if(d!==Zn&&d!==nt){var a=Dn.indexOf(d),n=Dn[a+1],t=p(d);t===Fn?v(n):c(function(s){function m(){s.isCanceled()||v(n)}t===!0?m():Promise.resolve(t).then(m)})}},[f,d]),w.useEffect(function(){return function(){y()}},[]),[T,d]},Ln=function(f){var p=Object(w.useRef)(),x=Object(w.useRef)(f);x.current=f;var g=w.useCallback(function(i){x.current(i)},[]);function d(i){i&&(i.removeEventListener(Nn,g),i.removeEventListener(on,g))}function v(i){p.current&&p.current!==i&&d(p.current),i&&i!==p.current&&(i.addEventListener(Nn,g),i.addEventListener(on,g),p.current=i)}return w.useEffect(function(){return function(){d(p.current)}},[]),[v,d]};function jn(f,p,x,g){var d=g.motionEnter,v=d===void 0?!0:d,i=g.motionAppear,l=i===void 0?!0:i,c=g.motionLeave,y=c===void 0?!0:c,T=g.motionDeadline,a=g.motionLeaveImmediately,n=g.onAppearPrepare,t=g.onEnterPrepare,s=g.onLeavePrepare,m=g.onAppearStart,h=g.onEnterStart,E=g.onLeaveStart,C=g.onAppearActive,j=g.onEnterActive,M=g.onLeaveActive,W=g.onAppearEnd,K=g.onEnterEnd,U=g.onLeaveEnd,de=g.onVisibleChanged,oe=Bt(),Ee=Object(Xe.a)(oe,2),Re=Ee[0],Ge=Ee[1],Ae=Bt(vn),Be=Object(Xe.a)(Ae,2),xe=Be[0],At=Be[1],kt=Bt(null),Kt=Object(Xe.a)(kt,2),Se=Kt[0],he=Kt[1],A=Object(w.useRef)(!1),I=Object(w.useRef)(null),F=Object(w.useRef)(!1),H=Object(w.useRef)(null);function ue(){var Nt=x();return Nt||H.current}var ee=Object(w.useRef)(!1);function se(Nt){var Dt=ue();if(!(Nt&&!Nt.deadline&&Nt.target!==Dt)){var Wt;xe===Sn&&ee.current?Wt=W==null?void 0:W(Dt,Nt):xe===Yt&&ee.current?Wt=K==null?void 0:K(Dt,Nt):xe===_n&&ee.current&&(Wt=U==null?void 0:U(Dt,Nt)),Wt!==!1&&!F.current&&(At(vn),he(null))}}var Ve=Ln(se),Je=Object(Xe.a)(Ve,1),We=Je[0],je=w.useMemo(function(){var Nt,Dt,Wt;switch(xe){case"appear":return Nt={},Object(u.a)(Nt,zt,n),Object(u.a)(Nt,gn,m),Object(u.a)(Nt,pt,C),Nt;case"enter":return Dt={},Object(u.a)(Dt,zt,t),Object(u.a)(Dt,gn,h),Object(u.a)(Dt,pt,j),Dt;case"leave":return Wt={},Object(u.a)(Wt,zt,s),Object(u.a)(Wt,gn,E),Object(u.a)(Wt,pt,M),Wt;default:return{}}},[xe]),Ue=kn(xe,function(Nt){if(Nt===zt){var Dt=je[zt];return Dt?Dt(ue()):Fn}if(Pt in je){var Wt;he(((Wt=je[Pt])===null||Wt===void 0?void 0:Wt.call(je,ue(),null))||null)}return Pt===pt&&(We(ue()),T>0&&(clearTimeout(I.current),I.current=setTimeout(function(){se({deadline:!0})},T))),mn}),jt=Object(Xe.a)(Ue,2),ft=jt[0],Pt=jt[1],Ht=Jn(Pt);ee.current=Ht,Mn(function(){if(Ge(p),!!f){var Nt=A.current;A.current=!0;var Dt;!Nt&&p&&l&&(Dt=Sn),Nt&&p&&v&&(Dt=Yt),(Nt&&!p&&y||!Nt&&a&&!p&&y)&&(Dt=_n),Dt&&(At(Dt),ft())}},[p]),Object(w.useEffect)(function(){(xe===Sn&&!l||xe===Yt&&!v||xe===_n&&!y)&&At(vn)},[l,v,y]),Object(w.useEffect)(function(){return function(){clearTimeout(I.current),F.current=!0}},[]),Object(w.useEffect)(function(){Re!==void 0&&xe===vn&&(de==null||de(Re))},[Re,xe]);var Et=Se;return je[zt]&&Pt===gn&&(Et=Object(X.a)({transition:"none"},Et)),[xe,Pt,Et,Re!=null?Re:p]}var zn=function(f){Object(S.a)(x,f);var p=Object(ct.a)(x);function x(){return Object(ae.a)(this,x),p.apply(this,arguments)}return Object(r.a)(x,[{key:"render",value:function(){return this.props.children}}]),x}(w.Component),Bn=zn;function Hn(f){var p=f;Object(ne.a)(f)==="object"&&(p=f.transitionSupport);function x(d){return!!(d.motionName&&p)}var g=w.forwardRef(function(d,v){var i=d.visible,l=i===void 0?!0:i,c=d.removeOnLeave,y=c===void 0?!0:c,T=d.forceRender,a=d.children,n=d.motionName,t=d.leavedClassName,s=d.eventProps,m=x(d),h=Object(w.useRef)(),E=Object(w.useRef)();function C(){try{return gt(h.current||E.current)}catch(xe){return null}}var j=jn(m,l,C,d),M=Object(Xe.a)(j,4),W=M[0],K=M[1],U=M[2],de=M[3],oe=Object(w.useRef)(v);oe.current=v;var Ee=w.useCallback(function(xe){h.current=xe,Ze(oe.current,xe)},[]),Re,Ge=Object(X.a)(Object(X.a)({},s),{},{visible:l});if(!a)Re=null;else if(W===vn||!x(d))de?Re=a(Object(X.a)({},Ge),Ee):y?T?Re=a(Object(X.a)(Object(X.a)({},Ge),{},{style:{display:"none"}}),Ee):Re=null:Re=a(Object(X.a)(Object(X.a)({},Ge),{},{className:t}),Ee);else{var Ae,Be;K===zt?Be="prepare":Jn(K)?Be="active":K===gn&&(Be="start"),Re=a(Object(X.a)(Object(X.a)({},Ge),{},{className:R()(Wn(n,W),(Ae={},Object(u.a)(Ae,Wn(n,"".concat(W,"-").concat(Be)),Be),Object(u.a)(Ae,n,typeof n=="string"),Ae)),style:U}),Ee)}return w.createElement(Bn,{ref:E},Re)});return g.displayName="CSSMotion",g}var $n=Hn(Qn),qn="add",In="keep",la="remove",Vn="removed";function Ea(f){var p;return f&&Object(ne.a)(f)==="object"&&"key"in f?p=f:p={key:f},Object(X.a)(Object(X.a)({},p),{},{key:String(p.key)})}function ra(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f.map(Ea)}function Oa(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=[],g=0,d=p.length,v=ra(f),i=ra(p);v.forEach(function(y){for(var T=!1,a=g;a<d;a+=1){var n=i[a];if(n.key===y.key){g<a&&(x=x.concat(i.slice(g,a).map(function(t){return Object(X.a)(Object(X.a)({},t),{},{status:qn})})),g=a),x.push(Object(X.a)(Object(X.a)({},n),{},{status:In})),g+=1,T=!0;break}}T||x.push(Object(X.a)(Object(X.a)({},y),{},{status:la}))}),g<d&&(x=x.concat(i.slice(g).map(function(y){return Object(X.a)(Object(X.a)({},y),{},{status:qn})})));var l={};x.forEach(function(y){var T=y.key;l[T]=(l[T]||0)+1});var c=Object.keys(l).filter(function(y){return l[y]>1});return c.forEach(function(y){x=x.filter(function(T){var a=T.key,n=T.status;return a!==y||n!==la}),x.forEach(function(T){T.key===y&&(T.status=In)})}),x}var ca=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function oa(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$n,x=function(g){Object(S.a)(v,g);var d=Object(ct.a)(v);function v(){var i;return Object(ae.a)(this,v),i=d.apply(this,arguments),i.state={keyEntities:[]},i.removeKey=function(l){i.setState(function(c){var y=c.keyEntities;return{keyEntities:y.map(function(T){return T.key!==l?T:Object(X.a)(Object(X.a)({},T),{},{status:Vn})})}})},i}return Object(r.a)(v,[{key:"render",value:function(){var l=this,c=this.state.keyEntities,y=this.props,T=y.component,a=y.children,n=y.onVisibleChanged,t=Object(De.a)(y,["component","children","onVisibleChanged"]),s=T||w.Fragment,m={};return ca.forEach(function(h){m[h]=t[h],delete t[h]}),delete t.keys,w.createElement(s,Object.assign({},t),c.map(function(h){var E=h.status,C=Object(De.a)(h,["status"]),j=E===qn||E===In;return w.createElement(p,Object.assign({},m,{key:C.key,visible:j,eventProps:C,onVisibleChanged:function(W){n==null||n(W,{key:C.key}),W||l.removeKey(C.key)}}),a)}))}}],[{key:"getDerivedStateFromProps",value:function(l,c){var y=l.keys,T=c.keyEntities,a=ra(y),n=Oa(T,a);return{keyEntities:n.filter(function(t){var s=T.find(function(m){var h=m.key;return t.key===h});return!(s&&s.status===Vn&&t.status===la)})}}}]),v}(w.Component);return x.defaultProps={component:"div"},x}var ua=oa(Qn),ea=$n;function O(f){var p=f.prefixCls,x=f.motion,g=f.animation,d=f.transitionName;return x||(g?{motionName:"".concat(p,"-").concat(g)}:d?{motionName:d}:null)}function b(f){var p=f.prefixCls,x=f.visible,g=f.zIndex,d=f.mask,v=f.maskMotion,i=f.maskAnimation,l=f.maskTransitionName;if(!d)return null;var c={};return(v||l||i)&&(c=Object(X.a)({motionAppear:!0},O({motion:v,prefixCls:p,transitionName:l,animation:i}))),w.createElement(ea,Object($e.a)({},c,{visible:x,removeOnLeave:!0}),function(y){var T=y.className;return w.createElement("div",{style:{zIndex:g},className:R()("".concat(p,"-mask"),T)})})}var P=e("./node_modules/rc-align/es/index.js"),N=e("./node_modules/@babel/runtime/regenerator/index.js"),Y=e.n(N),ve=e("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),re=["measure","align",null,"motion"],L=function(f,p){var x=Object(w.useState)(null),g=Object(Xe.a)(x,2),d=g[0],v=g[1],i=Object(w.useRef)(),l=Object(w.useRef)(!1);function c(a){l.current||v(a)}function y(){we.cancel(i.current)}function T(a){y(),i.current=we(function(){c(function(n){switch(d){case"align":return"motion";case"motion":return"stable";default:}return n}),a==null||a()})}return Object(w.useEffect)(function(){c("measure")},[f]),Object(w.useEffect)(function(){switch(d){case"measure":p();break;default:}d&&(i.current=we(Object(ve.a)(Y.a.mark(function a(){var n,t;return Y.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:n=re.indexOf(d),t=re[n+1],t&&n!==-1&&c(t);case 3:case"end":return m.stop()}},a)}))))},[d]),Object(w.useEffect)(function(){return function(){l.current=!0,y()}},[]),[d,T]},pe=function(f){var p=w.useState({width:0,height:0}),x=Object(Xe.a)(p,2),g=x[0],d=x[1];function v(l){d({width:l.offsetWidth,height:l.offsetHeight})}var i=w.useMemo(function(){var l={};if(f){var c=g.width,y=g.height;f.indexOf("height")!==-1&&y?l.height=y:f.indexOf("minHeight")!==-1&&y&&(l.minHeight=y),f.indexOf("width")!==-1&&c?l.width=c:f.indexOf("minWidth")!==-1&&c&&(l.minWidth=c)}return l},[f,g]);return[i,v]},$=w.forwardRef(function(f,p){var x=f.visible,g=f.prefixCls,d=f.className,v=f.style,i=f.children,l=f.zIndex,c=f.stretch,y=f.destroyPopupOnHide,T=f.align,a=f.point,n=f.getRootDomNode,t=f.getClassNameFromAlign,s=f.onAlign,m=f.onMouseEnter,h=f.onMouseLeave,E=f.onMouseDown,C=f.onTouchStart,j=Object(w.useRef)(),M=Object(w.useRef)(),W=Object(w.useState)(),K=Object(Xe.a)(W,2),U=K[0],de=K[1],oe=pe(c),Ee=Object(Xe.a)(oe,2),Re=Ee[0],Ge=Ee[1];function Ae(){c&&Ge(n())}var Be=L(x,Ae),xe=Object(Xe.a)(Be,2),At=xe[0],kt=xe[1],Kt=Object(w.useRef)();function Se(){return a||n}function he(){var se;(se=j.current)===null||se===void 0||se.forceAlign()}function A(se,Ve){if(At==="align"){var Je=t(Ve);de(Je),U!==Je?Promise.resolve().then(function(){he()}):kt(function(){var We;(We=Kt.current)===null||We===void 0||We.call(Kt)}),s==null||s(se,Ve)}}var I=Object(X.a)({},O(f));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(se){var Ve=I[se];I[se]=function(Je,We){return kt(),Ve==null?void 0:Ve(Je,We)}});function F(){return new Promise(function(se){Kt.current=se})}w.useEffect(function(){!I.motionName&&At==="motion"&&kt()},[I.motionName,At]),w.useImperativeHandle(p,function(){return{forceAlign:he,getElement:function(){return M.current}}});var H=Object(X.a)(Object(X.a)(Object(X.a)({},Re),{},{zIndex:l},v),{},{opacity:At==="motion"||At==="stable"||!x?void 0:0,pointerEvents:At==="stable"?void 0:"none"}),ue=!0;(T==null?void 0:T.points)&&(At==="align"||At==="stable")&&(ue=!1);var ee=i;return w.Children.count(i)>1&&(ee=w.createElement("div",{className:"".concat(g,"-content")},i)),w.createElement(ea,Object($e.a)({visible:x,ref:M,leavedClassName:"".concat(g,"-hidden")},I,{onAppearPrepare:F,onEnterPrepare:F,removeOnLeave:y}),function(se,Ve){var Je=se.className,We=se.style,je=R()(g,d,U,Je);return w.createElement(P.a,{target:Se(),key:"popup",ref:j,monitorWindowResize:!0,disabled:ue,align:T,onAlign:A},w.createElement("div",{ref:Ve,className:je,onMouseEnter:m,onMouseLeave:h,onMouseDownCapture:E,onTouchStartCapture:C,style:Object(X.a)(Object(X.a)({},We),H)},ee))})});$.displayName="PopupInner";var rt=$,_t=w.forwardRef(function(f,p){var x=f.prefixCls,g=f.visible,d=f.zIndex,v=f.children,i=f.mobile;i=i===void 0?{}:i;var l=i.popupClassName,c=i.popupStyle,y=i.popupMotion,T=y===void 0?{}:y,a=i.popupRender,n=w.useRef();w.useImperativeHandle(p,function(){return{forceAlign:function(){},getElement:function(){return n.current}}});var t=Object(X.a)({zIndex:d},c),s=v;return w.Children.count(v)>1&&(s=w.createElement("div",{className:"".concat(x,"-content")},v)),a&&(s=a(s)),w.createElement(ea,Object($e.a)({visible:g,ref:n,removeOnLeave:!0},T),function(m,h){var E=m.className,C=m.style,j=R()(x,l,E);return w.createElement("div",{ref:h,className:j,style:Object(X.a)(Object(X.a)({},C),t)},s)})});_t.displayName="MobilePopupInner";var en=_t,st=w.forwardRef(function(f,p){var x=f.visible,g=f.mobile,d=Object(De.a)(f,["visible","mobile"]),v=Object(w.useState)(x),i=Object(Xe.a)(v,2),l=i[0],c=i[1],y=Object(w.useState)(!1),T=Object(Xe.a)(y,2),a=T[0],n=T[1],t=Object(X.a)(Object(X.a)({},d),{},{visible:l});Object(w.useEffect)(function(){c(x),x&&g&&n(rn())},[x,g]);var s=a?w.createElement(en,Object($e.a)({},t,{mobile:g,ref:p})):w.createElement(rt,Object($e.a)({},t,{ref:p}));return w.createElement("div",null,w.createElement(b,t),s)});st.displayName="Popup";var at=st,Q=w.createContext(null),tn=Q;function xn(){}function ta(){return""}function Yn(f){return f?f.ownerDocument:window.document}var yt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function da(f){var p=function(x){Object(S.a)(d,x);var g=Object(ct.a)(d);function d(v){var i;Object(ae.a)(this,d),i=g.call(this,v),i.popupRef=w.createRef(),i.triggerRef=w.createRef(),i.onMouseEnter=function(c){var y=i.props.mouseEnterDelay;i.fireEvents("onMouseEnter",c),i.delaySetPopupVisible(!0,y,y?null:c)},i.onMouseMove=function(c){i.fireEvents("onMouseMove",c),i.setPoint(c)},i.onMouseLeave=function(c){i.fireEvents("onMouseLeave",c),i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.onPopupMouseEnter=function(){i.clearDelayTimer()},i.onPopupMouseLeave=function(c){var y;c.relatedTarget&&!c.relatedTarget.setTimeout&&qe((y=i.popupRef.current)===null||y===void 0?void 0:y.getElement(),c.relatedTarget)||i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.onFocus=function(c){i.fireEvents("onFocus",c),i.clearDelayTimer(),i.isFocusToShow()&&(i.focusTime=Date.now(),i.delaySetPopupVisible(!0,i.props.focusDelay))},i.onMouseDown=function(c){i.fireEvents("onMouseDown",c),i.preClickTime=Date.now()},i.onTouchStart=function(c){i.fireEvents("onTouchStart",c),i.preTouchTime=Date.now()},i.onBlur=function(c){i.fireEvents("onBlur",c),i.clearDelayTimer(),i.isBlurToHide()&&i.delaySetPopupVisible(!1,i.props.blurDelay)},i.onContextMenu=function(c){c.preventDefault(),i.fireEvents("onContextMenu",c),i.setPopupVisible(!0,c)},i.onContextMenuClose=function(){i.isContextMenuToShow()&&i.close()},i.onClick=function(c){if(i.fireEvents("onClick",c),i.focusTime){var y;if(i.preClickTime&&i.preTouchTime?y=Math.min(i.preClickTime,i.preTouchTime):i.preClickTime?y=i.preClickTime:i.preTouchTime&&(y=i.preTouchTime),Math.abs(y-i.focusTime)<20)return;i.focusTime=0}i.preClickTime=0,i.preTouchTime=0,i.isClickToShow()&&(i.isClickToHide()||i.isBlurToHide())&&c&&c.preventDefault&&c.preventDefault();var T=!i.state.popupVisible;(i.isClickToHide()&&!T||T&&i.isClickToShow())&&i.setPopupVisible(!i.state.popupVisible,c)},i.onPopupMouseDown=function(){if(i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=window.setTimeout(function(){i.hasPopupMouseDown=!1},0),i.context){var c;(c=i.context).onPopupMouseDown.apply(c,arguments)}},i.onDocumentClick=function(c){if(!(i.props.mask&&!i.props.maskClosable)){var y=c.target,T=i.getRootDomNode(),a=i.getPopupDomNode();!qe(T,y)&&!qe(a,y)&&!i.hasPopupMouseDown&&i.close()}},i.getRootDomNode=function(){var c=i.props.getTriggerDOMNode;if(c)return c(i.triggerRef.current);try{var y=gt(i.triggerRef.current);if(y)return y}catch(T){}return Ft.a.findDOMNode(Object(Rt.a)(i))},i.getPopupClassNameFromAlign=function(c){var y=[],T=i.props,a=T.popupPlacement,n=T.builtinPlacements,t=T.prefixCls,s=T.alignPoint,m=T.getPopupClassNameFromAlign;return a&&n&&y.push(qt(n,t,c,s)),m&&y.push(m(c)),y.join(" ")},i.getComponent=function(){var c=i.props,y=c.prefixCls,T=c.destroyPopupOnHide,a=c.popupClassName,n=c.onPopupAlign,t=c.popupMotion,s=c.popupAnimation,m=c.popupTransitionName,h=c.popupStyle,E=c.mask,C=c.maskAnimation,j=c.maskTransitionName,M=c.maskMotion,W=c.zIndex,K=c.popup,U=c.stretch,de=c.alignPoint,oe=c.mobile,Ee=i.state,Re=Ee.popupVisible,Ge=Ee.point,Ae=i.getPopupAlign(),Be={};return i.isMouseEnterToShow()&&(Be.onMouseEnter=i.onPopupMouseEnter),i.isMouseLeaveToHide()&&(Be.onMouseLeave=i.onPopupMouseLeave),Be.onMouseDown=i.onPopupMouseDown,Be.onTouchStart=i.onPopupMouseDown,w.createElement(at,Object($e.a)({prefixCls:y,destroyPopupOnHide:T,visible:Re,point:de&&Ge,className:a,align:Ae,onAlign:n,animation:s,getClassNameFromAlign:i.getPopupClassNameFromAlign},Be,{stretch:U,getRootDomNode:i.getRootDomNode,style:h,mask:E,zIndex:W,transitionName:m,maskAnimation:C,maskTransitionName:j,maskMotion:M,ref:i.popupRef,motion:t,mobile:oe}),typeof K=="function"?K():K)},i.attachParent=function(c){we.cancel(i.attachId);var y=i.props,T=y.getPopupContainer,a=y.getDocument,n=i.getRootDomNode(),t;T?(n||T.length===0)&&(t=T(n)):t=a(i.getRootDomNode()).body,t?t.appendChild(c):i.attachId=we(function(){i.attachParent(c)})},i.getContainer=function(){var c=i.props.getDocument,y=c(i.getRootDomNode()).createElement("div");return y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",i.attachParent(y),y},i.setPoint=function(c){var y=i.props.alignPoint;!y||!c||i.setState({point:{pageX:c.pageX,pageY:c.pageY}})},i.handlePortalUpdate=function(){i.state.prevPopupVisible!==i.state.popupVisible&&i.props.afterPopupVisibleChange(i.state.popupVisible)};var l;return"popupVisible"in v?l=!!v.popupVisible:l=!!v.defaultPopupVisible,i.state={prevPopupVisible:l,popupVisible:l},yt.forEach(function(c){i["fire".concat(c)]=function(y){i.fireEvents(c,y)}}),i}return Object(r.a)(d,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var i=this.props,l=this.state;if(l.popupVisible){var c;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(c=i.getDocument(this.getRootDomNode()),this.clickOutsideHandler=_e(c,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(c=c||i.getDocument(this.getRootDomNode()),this.touchOutsideHandler=_e(c,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(c=c||i.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=_e(c,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=_e(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),we.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var i;return((i=this.popupRef.current)===null||i===void 0?void 0:i.getElement())||null}},{key:"getPopupAlign",value:function(){var i=this.props,l=i.popupPlacement,c=i.popupAlign,y=i.builtinPlacements;return l&&y?an(y,l,c):c}},{key:"setPopupVisible",value:function(i,l){var c=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==i&&("popupVisible"in this.props||this.setState({popupVisible:i,prevPopupVisible:y}),this.props.onPopupVisibleChange(i)),c&&l&&i&&this.setPoint(l)}},{key:"delaySetPopupVisible",value:function(i,l,c){var y=this,T=l*1e3;if(this.clearDelayTimer(),T){var a=c?{pageX:c.pageX,pageY:c.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(i,a),y.clearDelayTimer()},T)}else this.setPopupVisible(i,c)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(i){var l=this.props.children.props,c=this.props;return l[i]&&c[i]?this["fire".concat(i)]:l[i]||c[i]}},{key:"isClickToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("click")!==-1||c.indexOf("click")!==-1}},{key:"isContextMenuToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("contextMenu")!==-1||c.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("click")!==-1||c.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("hover")!==-1||c.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("hover")!==-1||c.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("focus")!==-1||c.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("focus")!==-1||c.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var i;(i=this.popupRef.current)===null||i===void 0||i.forceAlign()}}},{key:"fireEvents",value:function(i,l){var c=this.props.children.props[i];c&&c(l);var y=this.props[i];y&&y(l)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var i=this.state.popupVisible,l=this.props,c=l.children,y=l.forceRender,T=l.alignPoint,a=l.className,n=l.autoDestroy,t=w.Children.only(c),s={key:"trigger"};this.isContextMenuToShow()?s.onContextMenu=this.onContextMenu:s.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(s.onClick=this.onClick,s.onMouseDown=this.onMouseDown,s.onTouchStart=this.onTouchStart):(s.onClick=this.createTwoChains("onClick"),s.onMouseDown=this.createTwoChains("onMouseDown"),s.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(s.onMouseEnter=this.onMouseEnter,T&&(s.onMouseMove=this.onMouseMove)):s.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?s.onMouseLeave=this.onMouseLeave:s.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(s.onFocus=this.onFocus,s.onBlur=this.onBlur):(s.onFocus=this.createTwoChains("onFocus"),s.onBlur=this.createTwoChains("onBlur"));var m=R()(t&&t.props&&t.props.className,a);m&&(s.className=m);var h=Object(X.a)({},s);dt(t)&&(h.ref=lt(this.triggerRef,t.ref));var E=w.cloneElement(t,h),C;return(i||this.popupRef.current||y)&&(C=w.createElement(f,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!i&&n&&(C=null),w.createElement(tn.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},E,C)}}],[{key:"getDerivedStateFromProps",value:function(i,l){var c=i.popupVisible,y={};return c!==void 0&&l.popupVisible!==c&&(y.popupVisible=c,y.prevPopupVisible=l.popupVisible),y}}]),d}(w.Component);return p.contextType=tn,p.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:ta,getDocument:Yn,onPopupVisibleChange:xn,afterPopupVisibleChange:xn,onPopupAlign:xn,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},p}var ma=da(ht),bt={adjustX:1,adjustY:1},Xt=[0,0],Rn={left:{points:["cr","cl"],overflow:bt,offset:[-4,0],targetOffset:Xt},right:{points:["cl","cr"],overflow:bt,offset:[4,0],targetOffset:Xt},top:{points:["bc","tc"],overflow:bt,offset:[0,-4],targetOffset:Xt},bottom:{points:["tc","bc"],overflow:bt,offset:[0,4],targetOffset:Xt},topLeft:{points:["bl","tl"],overflow:bt,offset:[0,-4],targetOffset:Xt},leftTop:{points:["tr","tl"],overflow:bt,offset:[-4,0],targetOffset:Xt},topRight:{points:["br","tr"],overflow:bt,offset:[0,-4],targetOffset:Xt},rightTop:{points:["tl","tr"],overflow:bt,offset:[4,0],targetOffset:Xt},bottomRight:{points:["tr","br"],overflow:bt,offset:[0,4],targetOffset:Xt},rightBottom:{points:["bl","br"],overflow:bt,offset:[4,0],targetOffset:Xt},bottomLeft:{points:["tl","bl"],overflow:bt,offset:[0,4],targetOffset:Xt},leftBottom:{points:["br","bl"],overflow:bt,offset:[-4,0],targetOffset:Xt}},Un=Rn,Pn=function(p){var x=p.overlay,g=p.prefixCls,d=p.id,v=p.overlayInnerStyle;return w.createElement("div",{className:"".concat(g,"-inner"),id:d,role:"tooltip",style:v},typeof x=="function"?x():x)},Qt=Pn,En=function(p,x){var g=p.overlayClassName,d=p.trigger,v=d===void 0?["hover"]:d,i=p.mouseEnterDelay,l=i===void 0?0:i,c=p.mouseLeaveDelay,y=c===void 0?.1:c,T=p.overlayStyle,a=p.prefixCls,n=a===void 0?"rc-tooltip":a,t=p.children,s=p.onVisibleChange,m=p.afterVisibleChange,h=p.transitionName,E=p.animation,C=p.placement,j=C===void 0?"right":C,M=p.align,W=M===void 0?{}:M,K=p.destroyTooltipOnHide,U=K===void 0?!1:K,de=p.defaultVisible,oe=p.getTooltipContainer,Ee=p.overlayInnerStyle,Re=Object(De.a)(p,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),Ge=Object(w.useRef)(null);Object(w.useImperativeHandle)(x,function(){return Ge.current});var Ae=Object(X.a)({},Re);"visible"in p&&(Ae.popupVisible=p.visible);var Be=function(){var Se=p.arrowContent,he=Se===void 0?null:Se,A=p.overlay,I=p.id;return[w.createElement("div",{className:"".concat(n,"-arrow"),key:"arrow"},he),w.createElement(Qt,{key:"content",prefixCls:n,id:I,overlay:A,overlayInnerStyle:Ee})]},xe=!1,At=!1;if(typeof U=="boolean")xe=U;else if(U&&Object(ne.a)(U)==="object"){var kt=U.keepParent;xe=kt===!0,At=kt===!1}return w.createElement(ma,Object.assign({popupClassName:g,prefixCls:n,popup:Be,action:v,builtinPlacements:Rn,popupPlacement:j,ref:Ge,popupAlign:W,getPopupContainer:oe,onPopupVisibleChange:s,afterPopupVisibleChange:m,popupTransitionName:h,popupAnimation:E,defaultPopupVisible:de,destroyPopupOnHide:xe,autoDestroy:At,mouseLeaveDelay:y,popupStyle:T,mouseEnterDelay:l},Ae),t)},ha=Object(w.forwardRef)(En),ya=ha,Ia=w.forwardRef(function(f,p){var x=f.visible,g=f.overlay,d=w.useRef(null),v=lt(p,d),i=w.useRef(null);function l(){we.cancel(i.current)}function c(){i.current=we(function(){var y;(y=d.current)===null||y===void 0||y.forcePopupAlign()})}return w.useEffect(function(){return x?c():l(),l},[x,g]),w.createElement(ya,Object($e.a)({ref:v},f))}),Ra=Ia,na=["value","dragging","index","disabled"],ba=["prefixCls","overlay","placement","visible"];function Aa(f){var p,x;return x=p=function(g){Object(S.a)(v,g);var d=Object(ct.a)(v);function v(){var i;Object(ae.a)(this,v);for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];return i=d.call.apply(d,[this].concat(c)),i.state={visibles:{}},i.handleTooltipVisibleChange=function(T,a){i.setState(function(n){return{visibles:Object(X.a)(Object(X.a)({},n.visibles),{},Object(u.a)({},T,a))}})},i.handleWithTooltip=function(T){var a=T.value,n=T.dragging,t=T.index,s=T.disabled,m=Object(De.a)(T,na),h=i.props,E=h.tipFormatter,C=h.tipProps,j=h.handleStyle,M=h.getTooltipContainer,W=C.prefixCls,K=W===void 0?"rc-slider-tooltip":W,U=C.overlay,de=U===void 0?E(a):U,oe=C.placement,Ee=oe===void 0?"top":oe,Re=C.visible,Ge=Re===void 0?!1:Re,Ae=Object(De.a)(C,ba),Be;return Array.isArray(j)?Be=j[t]||j[0]:Be=j,et.a.createElement(Ra,Object($e.a)({},Ae,{getTooltipContainer:M,prefixCls:K,overlay:de,placement:Ee,visible:!s&&(i.state.visibles[t]||n)||Ge,key:t}),et.a.createElement(Lt,Object($e.a)({},m,{style:Object(X.a)({},Be),value:a,onMouseEnter:function(){return i.handleTooltipVisibleChange(t,!0)},onMouseLeave:function(){return i.handleTooltipVisibleChange(t,!1)}})))},i}return Object(r.a)(v,[{key:"render",value:function(){return et.a.createElement(f,Object($e.a)({},this.props,{handle:this.handleWithTooltip}))}}]),v}(et.a.Component),p.defaultProps={tipFormatter:function(d){return d},handleStyle:[{}],tipProps:{},getTooltipContainer:function(d){return d.parentNode}},x}var hn=me;hn.Range=ot,hn.Handle=Lt,hn.createSliderWithTooltip=Aa;var pa=hn,fa=e("./node_modules/antd/node_modules/rc-util/es/ref.js"),Ta=e("./node_modules/antd/node_modules/rc-util/es/raf.js"),xa=e("./node_modules/antd/es/tooltip/index.js"),ja=w.forwardRef(function(f,p){var x=f.visible,g=Object(w.useRef)(null),d=Object(w.useRef)(null);function v(){Ta.a.cancel(d.current),d.current=null}function i(){d.current=Object(Ta.a)(function(){var l;(l=g.current)===null||l===void 0||l.forcePopupAlign(),d.current=null})}return w.useEffect(function(){return x?i():v(),v},[x,f.title]),w.createElement(xa.a,Object($e.a)({ref:Object(fa.a)(g,p)},f))}),Na=ja,Ma=e("./node_modules/antd/es/config-provider/context.js"),Pa=function(f,p){var x={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&p.indexOf(g)<0&&(x[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,g=Object.getOwnPropertySymbols(f);d<g.length;d++)p.indexOf(g[d])<0&&Object.prototype.propertyIsEnumerable.call(f,g[d])&&(x[g[d]]=f[g[d]]);return x},sa=w.forwardRef(function(f,p){var x=w.useContext(Ma.b),g=x.getPrefixCls,d=x.direction,v=x.getPopupContainer,i=w.useState({}),l=Object(Xe.a)(i,2),c=l[0],y=l[1],T=function(U,de){y(function(oe){return Object($e.a)(Object($e.a)({},oe),Object(u.a)({},U,de))})},a=function(U,de){return U||(de?d==="rtl"?"left":"right":"top")},n=function(U){var de=U.tooltipPrefixCls,oe=U.prefixCls,Ee=U.info,Re=Ee.value,Ge=Ee.dragging,Ae=Ee.index,Be=Pa(Ee,["value","dragging","index"]),xe=f.tipFormatter,At=f.tooltipVisible,kt=f.tooltipPlacement,Kt=f.getTooltipPopupContainer,Se=f.vertical,he=xe?c[Ae]||Ge:!1,A=At||At===void 0&&he,I=g();return w.createElement(Na,{prefixCls:de,title:xe?xe(Re):"",visible:A,placement:a(kt,Se),transitionName:"".concat(I,"-zoom-down"),key:Ae,overlayClassName:"".concat(oe,"-tooltip"),getPopupContainer:Kt||v},w.createElement(Lt,Object($e.a)({},Be,{value:Re,onMouseEnter:function(){return T(Ae,!0)},onMouseLeave:function(){return T(Ae,!1)}})))},t=f.prefixCls,s=f.tooltipPrefixCls,m=f.range,h=f.className,E=Pa(f,["prefixCls","tooltipPrefixCls","range","className"]),C=g("slider",t),j=g("tooltip",s),M=R()(h,Object(u.a)({},"".concat(C,"-rtl"),d==="rtl"));d==="rtl"&&!E.vertical&&(E.reverse=!E.reverse);var W;return Object(ne.a)(m)==="object"&&(W=m.draggableTrack),m?w.createElement(ot,Object($e.a)({},E,{step:E.step,draggableTrack:W,className:M,ref:p,handle:function(U){return n({tooltipPrefixCls:j,prefixCls:C,info:U})},prefixCls:C})):w.createElement(pa,Object($e.a)({},E,{step:E.step,className:M,ref:p,handle:function(U){return n({tooltipPrefixCls:j,prefixCls:C,info:U})},prefixCls:C}))});sa.displayName="Slider",sa.defaultProps={tipFormatter:function(p){return typeof p=="number"?p.toString():""}};var Sa=z.a=sa},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insight-legend-button{display:flex;align-items:center}.insight-legend-button .insight-legend-button-title{margin-left:.5rem;font-size:14px;font-weight:500}.insight-legend-menu{padding:1rem!important;box-shadow:none!important;border:1px solid rgba(0,0,0,.15);background-color:#fff;border-radius:4px;max-width:300px;width:100%;max-height:100%;overflow-y:auto;overflow-x:auto;display:flex;flex-direction:column}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item{width:100%}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item:not(:last-child){margin-bottom:.5rem}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner{cursor:pointer;display:flex;align-items:center}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner .insights-label{margin-left:.5rem;width:100%;font-size:.75rem}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.properties-table-key{min-width:12rem;display:flex;align-items:center;justify-content:space-between}.property-value-type{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:1.25rem;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;text-transform:uppercase;cursor:default}.property-value-type:not(:first-child){margin-left:.25rem}.properties-table-value{min-width:12rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;align-items:center}.properties-table-value .value-link>*{vertical-align:middle}.properties-table-value .value-link>svg{margin-left:.25rem;font-size:1rem}.properties-table-value .editable{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-color:#5375ff;text-decoration-color:#5375ff;cursor:pointer}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.column-configurator-modal .text-blue{color:#5375ff}.column-configurator-modal .column-display-item{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:4px;margin:2px 0}.column-configurator-modal .column-display-item:hover{background-color:#f2f2f2}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:rgba(0,0,0,.5);background-color:#f2f2f2}.column-configurator-modal .column-display-item.selected{background-color:#839af8}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,'.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.experiment-form .metrics-selection{border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;width:100%}.experiment-form .metrics-selection .action-filters-bordered .draggable-action-filter{border-bottom:1px solid rgba(0,0,0,.15);padding:1rem .25rem;margin-top:0}.experiment-form .metrics-selection .action-filters-bordered .row-action-btn{color:#35416b}.experiment-form .person-selection{width:100%;border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;align-items:center;justify-content:space-between}.experiment-form .insights-graph-container{margin-bottom:1rem;background-color:#fff}.experiment-form .insights-graph-container .ant-card-head{border-bottom:1px solid rgba(0,0,0,.15);min-height:unset;background-color:#fff;padding-left:1rem;padding-right:1rem}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title{padding:.5rem 0}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter{font-size:14px}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter:not(:last-child),.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter span.head-title-item{margin-right:.5rem}.experiment-form .insights-graph-container .display-config-inner{display:flex;align-items:center;justify-content:space-between;overflow-x:auto}.experiment-form .insights-graph-container .ant-card-body{padding:0}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-left{width:100%}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-right{width:100%;height:min(calc(90vh - 16rem),36rem);max-width:300px;padding:0 1rem 1rem 0;display:flex;align-items:center}.experiment-form .insights-graph-container .graph-container{width:calc(100% - 2rem);height:calc(100% - 3rem)}.experiment-form .insights-graph-header{margin-top:0!important;margin-bottom:0!important;padding-left:1rem;padding-right:1rem;min-height:48px}.experiment-form .experiment-preview{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.experiment-form .experiment-preview .mde-slider .ant-slider-handle{border:none}.experiment-form .experiment-preview .mde-slider .ant-slider-rail{background-color:#e5ebff}.experiment-form .variants{margin-top:.5rem;padding-bottom:1rem}.experiment-form .variants .ant-form-horizontal{min-height:32px}.experiment-form .variants .border-top{border-top-left-radius:4px;border-top-right-radius:4px}.experiment-form .variants .border-bottom{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.experiment-form .variants .feature-flag-variant{flex-direction:row;align-items:baseline;padding:12px 8px;background:#fff;border-bottom-width:1px;border-bottom-color:rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);border-left:1px solid rgba(0,0,0,.15);border-right:1px solid rgba(0,0,0,.15)}.experiment-form .variants .feature-flag-variant .ant-form-item-explain-error{margin-top:.5rem;color:#bf411a}.experiment-form .variants .feature-flag-variant .ant-form-item-label{padding:0}.experiment-form .variants .variant-label{display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:4px;color:#fff;min-width:52px;padding:2px 6px;margin-right:8px;font-size:12px;font-weight:500;letter-spacing:.01em}.experiment-form .secondary-metrics{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.15);margin-bottom:1rem}.experiment-form .ant-input-number-disabled,.experiment-form .ant-input[disabled]{color:#000}.view-experiment .draft-header{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.view-experiment .stop-experiment{background-color:#f96132;color:#fff}.view-experiment .archive-experiment{color:#f96132}.view-experiment .exp-description{font-style:italic;color:rgba(0,0,0,.5)}.view-experiment .participants{background-color:#fff}.view-experiment .participants .ant-collapse-header{padding-top:.5rem;padding-bottom:.5rem;padding-left:.75rem}.view-experiment .variants-list{list-style:none;margin:0;padding:0}.view-experiment .variants-list li{display:inline}.view-experiment .variants-list li:after{content:", "}.view-experiment .variants-list li:last-child:after{content:""}.view-experiment .experiment-result{padding-top:1rem}.view-experiment .significant-results{padding:.5rem;width:100%;background:rgba(119,185,108,.1);border-radius:4px;text-align:center;margin-bottom:1rem}.view-experiment .not-significant-results{padding:.5rem;width:100%;background:rgba(83,117,255,.1);border-radius:4px;margin-bottom:1rem}.view-experiment .feature-flag-mods{padding:.5rem;width:100%;background:#f6ebf8;border-radius:4px;margin-bottom:1rem}.view-experiment .ant-collapse-content-box{display:flex;flex-flow:column}.view-experiment .secondary-progress{margin-top:.5rem}.view-experiment .secondary-progress li:before{content:"\u2022";display:inline-block;font-weight:900;margin-right:4px}.view-experiment .secondary-progress .ant-progress-inner,.view-experiment .secondary-progress .ant-progress-inner .ant-progress-bg{border-radius:4px}.view-experiment .no-experiment-results{display:flex;justify-content:center;align-items:center;margin-top:1rem;background-color:#fafaf9;border:1px solid rgba(0,0,0,.15);width:100%;min-height:320px;font-size:24px}.view-experiment .end-experiment-btn{background:#77b96c;color:#fff}.view-experiment .end-experiment-btn:hover{color:#000}.preview-conversion-goal-num{height:24px;width:24px;text-align:center;background-color:#fafaf9;color:#35416b;font-weight:700;margin-right:.5rem}.experiment-preview-row{border-bottom:1px solid rgba(0,0,0,.15);padding-bottom:1rem;margin-bottom:1rem}.experiment-preview-row:last-child{border-bottom:none;padding-bottom:0;margin-bottom:0}.metric-name{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:8px 8px 8px 16px;margin-left:.5rem;flex:1}.experiment-implementation-details,.experiment-workflow{border-color:#d9d9d9}.experiment-implementation-details .ant-card-head,.experiment-workflow .ant-card-head{padding-left:1rem;padding-right:1rem;border:none}.experiment-implementation-details .ant-card-head-title,.experiment-workflow .ant-card-head-title{border-bottom:1px solid rgba(0,0,0,.15)}.experiment-implementation-details .exp-workflow-step,.experiment-workflow .exp-workflow-step{margin-bottom:.5rem;padding:.5rem;border-radius:4px}.experiment-implementation-details .exp-workflow-step:hover,.experiment-workflow .exp-workflow-step:hover{cursor:pointer}.experiment-implementation-details .step-completed,.experiment-workflow .step-completed{background-color:#e5ebff}',""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insights-graph-header.funnels{border-bottom:1px solid rgba(0,0,0,.15)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:#2d2d2d}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid #f7a501}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.15);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:rgba(0,0,0,.5)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:500}.funnel-correlation .correlation-feedback{margin-top:1rem}.funnel-correlation .correlation-feedback .ant-card-body{padding:.5rem 1rem}.funnel-correlation .correlation-feedback h4{padding:0;margin:0;font-weight:700;color:#747ea1}.funnel-correlation .correlation-feedback .emoji-button{margin-right:4px}.funnel-correlation .correlation-feedback .emoji-button:last-of-type{margin-right:0}.funnel-correlation .correlation-feedback .row-initial{display:flex;align-items:center}.funnel-correlation .correlation-feedback .row-initial .ant-col{text-align:right}.funnel-correlation .correlation-feedback .row-initial .ant-col:first-of-type{text-align:left}.funnel-correlation .correlation-feedback .close-button{color:rgba(0,0,0,.5)!important;cursor:pointer;z-index:5}.funnel-correlation .correlation-feedback .feedback-button{margin:1rem 0}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:4px;border:1px solid rgba(0,0,0,.15);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:#747ea1}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:#fafafa;text-transform:uppercase;color:rgba(0,0,0,.5)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation-table{margin-top:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;align-self:stretch;justify-content:space-between;align-content:space-between;border-top-left-radius:4px;border-top-right-radius:4px;padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:#2d2d2d;margin-left:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:#747ea1;cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:#747ea1}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-popup{z-index:1061}.session-recordings-popup .anticon-play-circle{color:#5375ff}.session-recordings-popup .session-recordings-popup-row{display:flex;align-items:center;padding:.5rem;font-weight:500;color:#2d2d2d}.session-recordings-popup .session-recordings-popup-row:hover{color:#5375ff}.session-recordings-popup .session-recordings-popup-row .anticon{font-size:1.25rem;margin-right:.5rem}.session-recordings-button .anticon-play-circle{color:#5375ff}.session-recordings-button .session-recordings-button__indicator{font-size:12px;color:rgba(0,0,0,.5)}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),Pe.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss":function(Pe,z,e){var ne=e("./node_modules/css-loader/dist/runtime/api.js");z=ne(!1),z.push([Pe.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.person-modal .ant-modal-header{padding:1rem}.person-modal .ant-modal-title{overflow:hidden;text-overflow:ellipsis}.person-modal .ant-modal-content{overflow:hidden}.person-modal .ant-modal-body{padding:0;max-height:60vh;overflow-y:auto}.person-modal .ant-modal-footer .ant-btn{color:#5375ff}.person-modal .ant-input-search{padding:1rem}.person-modal .persons-table{border-top:1px solid var(--border);border-bottom:1px solid var(--border)}.person-modal .person-ids{display:flex;flex-direction:column}.person-modal .user-count-subheader{padding:.5rem 1rem;color:var(--muted-alt)}.person-modal .user-count-subheader>*{vertical-align:middle}.person-modal .person-row-container{padding:.5rem 1rem}.person-modal .data-point-selector{padding:.5rem 1rem;border-bottom:1px solid var(--border)}.person-modal .data-point-selector .ant-select{display:block;width:100%}",""]),Pe.exports=z}}]);
