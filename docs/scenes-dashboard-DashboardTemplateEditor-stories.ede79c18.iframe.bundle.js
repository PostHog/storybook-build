"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[47858],{"../../frontend/src/scenes/dashboard/DashboardTemplateEditor.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CreateTemplate:()=>CreateTemplate,EditTemplate:()=>EditTemplate,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DashboardTemplateEditor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/src/scenes/dashboard/DashboardTemplateEditor.tsx"),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardTemplateEditorLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let __WEBPACK_DEFAULT_EXPORT__={title:"Scenes-App/Dashboards",component:_DashboardTemplateEditor__WEBPACK_IMPORTED_MODULE_0__.v,parameters:{testOptions:{waitForLoadersToDisappear:!0}}},CreateTemplate=()=>(_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.mount(),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.actions.clear(),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.actions.openDashboardTemplateEditor(),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.actions.setEditorValue(JSON.stringify({id:"123",template_name:"My Template"},null,4)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"bg-default p-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DashboardTemplateEditor__WEBPACK_IMPORTED_MODULE_0__.v,{inline:!0})})),EditTemplate=()=>(_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.mount(),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.actions.setDashboardTemplateId("123"),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.actions.openDashboardTemplateEditor(),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_1__.X.actions.setEditorValue(JSON.stringify({id:"123",template_name:"My Template"},null,4)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"bg-default p-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DashboardTemplateEditor__WEBPACK_IMPORTED_MODULE_0__.v,{inline:!0})}));CreateTemplate.parameters={...CreateTemplate.parameters,docs:{...CreateTemplate.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  dashboardTemplateEditorLogic.mount();\n  dashboardTemplateEditorLogic.actions.clear();\n  dashboardTemplateEditorLogic.actions.openDashboardTemplateEditor();\n  dashboardTemplateEditorLogic.actions.setEditorValue(JSON.stringify({\n    id: '123',\n    template_name: 'My Template'\n  }, null, 4));\n  return <div className=\"bg-default p-4\">\n            <DashboardTemplateEditor inline={true} />\n        </div>;\n}",...CreateTemplate.parameters?.docs?.source}}},EditTemplate.parameters={...EditTemplate.parameters,docs:{...EditTemplate.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  dashboardTemplateEditorLogic.mount();\n  dashboardTemplateEditorLogic.actions.setDashboardTemplateId('123');\n  dashboardTemplateEditorLogic.actions.openDashboardTemplateEditor();\n  dashboardTemplateEditorLogic.actions.setEditorValue(JSON.stringify({\n    id: '123',\n    template_name: 'My Template'\n  }, null, 4));\n  return <div className=\"bg-default p-4\">\n            <DashboardTemplateEditor inline={true} />\n        </div>;\n}",...EditTemplate.parameters?.docs?.source}}};let __namedExportsOrder=["CreateTemplate","EditTemplate"]},"../../frontend/src/scenes/dashboard/DashboardTemplateEditor.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>DashboardTemplateEditor});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_monaco_CodeEditor__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/monaco/CodeEditor.tsx"),_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardTemplateEditorLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function DashboardTemplateEditor(_ref){let{inline=!1}=_ref,{closeDashboardTemplateEditor,createDashboardTemplate,updateDashboardTemplate,setEditorValue,updateValidationErrors}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_3__.X),{isOpenNewDashboardTemplateModal,editorValue,validationErrors,templateSchema,id}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(_dashboardTemplateEditorLogic__WEBPACK_IMPORTED_MODULE_3__.X);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.fQ,{title:id?"Edit dashboard template":"New dashboard template",isOpen:isOpenNewDashboardTemplateModal,width:1e3,onClose:()=>{closeDashboardTemplateEditor()},inline:inline,footer:id?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{type:"primary","data-attr":"update-dashboard-template-button",onClick:()=>{updateDashboardTemplate({id})},disabledReason:validationErrors.length?`There are ${validationErrors.length} errors to resolve: ${validationErrors.map(e=>" "+e)}`:void 0,children:"Update template"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Jp,{type:"primary","data-attr":"create-dashboard-template-button",onClick:()=>{createDashboardTemplate()},disabledReason:validationErrors.length?`There are ${validationErrors.length} errors to resolve:${validationErrors.map(e=>" "+e)}`:void 0,children:"Create new template"}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(lib_monaco_CodeEditor__WEBPACK_IMPORTED_MODULE_2__.p,{className:"border",language:"json",value:editorValue,onChange:v=>{setEditorValue(null!=v?v:"")},onValidate:markers=>{updateValidationErrors(markers)},path:id?`dashboard-templates/${id}.json`:"dashboard-templates/new.json",schema:templateSchema,height:600})})}}}]);