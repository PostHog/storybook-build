(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[46504],{"../../frontend/src/scenes/data-management/DataManagementScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DataManagementScene:()=>DataManagementScene,DataManagementTab:()=>DataManagementTab,scene:()=>scene});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),ActivityLog=__webpack_require__("../../frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),TitleWithIcon=__webpack_require__("../../frontend/src/lib/components/TitleWithIcon.tsx"),constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),LemonTag=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTag/index.ts"),Tooltip=__webpack_require__("../../frontend/src/lib/lemon-ui/Tooltip/index.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),TextCard=__webpack_require__("../../frontend/src/lib/components/Cards/TextCard/TextCard.tsx"),ProductIntroduction=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),TZLabel=__webpack_require__("../../frontend/src/lib/components/TZLabel/index.tsx"),hedgehogs=__webpack_require__("../../frontend/src/lib/components/hedgehogs.tsx"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonTable=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),columnUtils=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),LemonTag_LemonTag=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTag/LemonTag.tsx"),ProfilePicture=__webpack_require__("../../frontend/src/lib/lemon-ui/ProfilePicture/index.ts"),css_classes=__webpack_require__("../../frontend/src/lib/utils/css-classes.ts"),organizationLogic=__webpack_require__("../../frontend/src/scenes/organizationLogic.tsx"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),scenes=__webpack_require__("../../frontend/src/scenes/scenes.ts"),teamLogic=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),SceneContent=__webpack_require__("../../frontend/src/layout/scenes/components/SceneContent.tsx"),SceneTitleSection=__webpack_require__("../../frontend/src/layout/scenes/components/SceneTitleSection.tsx"),annotationsModel=__webpack_require__("../../frontend/src/models/annotationsModel.ts"),types=__webpack_require__("../../frontend/src/types.ts"),AnnotationModal=__webpack_require__("../../frontend/src/scenes/annotations/AnnotationModal.tsx"),annotationModalLogic=__webpack_require__("../../frontend/src/scenes/annotations/annotationModalLogic.ts");let isValidAnnotationScope=scope=>Object.values(types.dc).includes(scope),annotationScopesMenuOptions=()=>{let scopeOptions=Object.values(types.dc).map(scope=>({value:scope,label:annotationModalLogic.B3[scope]}));return scopeOptions.unshift({value:null,label:"Any"}),scopeOptions},annotationsLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","annotations","annotationsLogic"]),(0,index_esm.connect)(()=>({values:[annotationsModel.AT,["annotations","annotationsLoading","next","loadingNext"],teamLogic.teamLogic,["timezone"]]})),(0,index_esm.actions)({setScope:scope=>({scope})}),(0,index_esm.reducers)(()=>({scope:[null,{setScope:(_,_ref)=>{let{scope}=_ref;return scope}}]})),(0,index_esm.selectors)(()=>({shouldShowEmptyState:[s=>[s.annotations,s.annotationsLoading],(annotations,annotationsLoading)=>0===annotations.length&&!annotationsLoading],filteredAnnotations:[s=>[s.annotations,s.scope],(annotations,scope)=>scope?annotations.filter(annotation=>annotation.scope===scope):annotations]})),(0,lib.actionToUrl)(()=>({setScope:_ref2=>{let{scope}=_ref2;return[lib.router.values.location.pathname,{...lib.router.values.searchParams,scope:scope||void 0},lib.router.values.hashParams,{replace:!0}]}})),(0,lib.urlToAction)(_ref3=>{let{actions,values}=_ref3;return{[urls.j.annotations()]:(_,searchParams)=>{let scope=searchParams.scope;scope&&isValidAnnotationScope(scope)&&scope!==values.scope&&actions.setScope(scope),!scope&&values.scope&&actions.setScope(null)}}})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function Annotations(){let{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{currentOrganization}=(0,index_esm.useValues)(organizationLogic.organizationLogic),{openModalToCreateAnnotation}=(0,index_esm.useActions)(annotationModalLogic.bE),{filteredAnnotations,shouldShowEmptyState,annotationsLoading,scope}=(0,index_esm.useValues)(annotationsLogic),{setScope}=(0,index_esm.useActions)(annotationsLogic),{loadingNext,next}=(0,index_esm.useValues)(annotationsModel.AT),{loadAnnotationsNext}=(0,index_esm.useActions)(annotationsModel.AT),columns=[{title:"Annotation",key:"annotation",width:"30%",render:function RenderAnnotation(_,annotation){var _annotation$content,_annotation$content2,_annotation$content3;let renderedContent=(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:null!==(_annotation$content=annotation.content)&&void 0!==_annotation$content?_annotation$content:""});return(annotation.content||"").trim().length>30&&(renderedContent=(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsx)(TextCard.D7,{text:null!==(_annotation$content2=annotation.content)&&void 0!==_annotation$content2?_annotation$content2:"","data-attr":"annotation-scene-comment-title-rendered-content"}),children:(null!==(_annotation$content3=annotation.content)&&void 0!==_annotation$content3?_annotation$content3:"").slice(0,27)+"..."})),(0,jsx_runtime.jsx)("div",{className:"font-semibold",children:(0,jsx_runtime.jsx)(src.rU,{subtle:!0,to:urls.j.annotation(annotation.id),children:renderedContent})})}},{title:"Timestamp",dataIndex:"date_marker",render:function RenderDateMarker(_,annotation){return annotation.date_marker?(0,jsx_runtime.jsx)(TZLabel.w,{time:annotation.date_marker}):null},sorter:(a,b)=>a.date_marker?.diff(b.date_marker)||1},{title:"Scope",key:"scope",render:function RenderType(_,annotation){let scopeName=annotationModalLogic.B3[annotation.scope],tooltip=annotation.scope===types.dc.Insight?`This annotation only applies to the "${annotation.insight_name}" insight`:annotation.scope===types.dc.Dashboard?`This annotation applies to all insights on the ${annotation.dashboard_name} dashboard`:annotation.scope===types.dc.Project?`This annotation applies to all insights in the ${currentTeam?.name} project`:`This annotation applies to all insights in the ${currentOrganization?.name} organization`;return(0,jsx_runtime.jsx)(Tooltip.u,{title:tooltip,placement:"right",children:(0,jsx_runtime.jsx)(LemonTag_LemonTag.o,{className:"uppercase",children:annotation.scope===types.dc.Insight?(0,jsx_runtime.jsx)(src.rU,{to:urls.j.insightView(annotation.insight_short_id),className:"flex items-center",target:"_blank",targetBlankIcon:!0,children:scopeName}):scopeName})})},sorter:(a,b)=>annotationModalLogic.nO[a.scope]-annotationModalLogic.nO[b.scope]},{title:"CreatedÂ by",dataIndex:"created_by",render:function Render(_,item){let{created_by,creation_type}=item;return(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center",children:(0,jsx_runtime.jsx)(ProfilePicture.Y,{user:"GIT"===creation_type?{first_name:"GitHub Actions"}:created_by,showName:!0,size:"md",type:"GIT"===creation_type?"bot":"person"})})},sorter:(a,b)=>(a.created_by?.first_name||a.created_by?.email||"").localeCompare(b.created_by?.first_name||b.created_by?.email||"")},(0,columnUtils.rw)(),{key:"actions",width:0,render:function RenderActions(_,annotation){return(0,jsx_runtime.jsx)(LemonButton.J,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPencil,{}),size:"small",to:urls.j.annotation(annotation.id)})}}];return(0,jsx_runtime.jsxs)(SceneContent._,{children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:scenes.lc[sceneTypes.x.Annotations].name,description:scenes.lc[sceneTypes.x.Annotations].description,resourceType:{type:scenes.lc[sceneTypes.x.Annotations].iconType||"default_icon_type"},actions:(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",onClick:()=>openModalToCreateAnnotation(),size:"small",children:"New annotation"})}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-2 justify-end",children:[(0,jsx_runtime.jsx)("div",{children:"Scope:"}),(0,jsx_runtime.jsx)(src.Yv,{options:annotationScopesMenuOptions(),value:scope,onSelect:setScope})]}),(0,jsx_runtime.jsxs)("div",{"data-attr":"annotations-content",children:[(0,jsx_runtime.jsx)("div",{className:(0,css_classes.cn)("mt-4 mb-0 empty:hidden"),children:(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Annotations",productKey:types.Md.ANNOTATIONS,thingName:"annotation",description:"Annotations allow you to mark when certain changes happened so you can easily see how they impacted your metrics.",docsURL:"https://posthog.com/docs/data/annotations",action:()=>openModalToCreateAnnotation(),isEmpty:shouldShowEmptyState,customHog:hedgehogs.MicrophoneHog})}),!shouldShowEmptyState&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonTable.g,{"data-attr":"annotations-table",rowKey:"id",dataSource:filteredAnnotations,columns:columns,defaultSorting:{columnKey:"date_marker",order:-1},noSortingCancellation:!0,loading:annotationsLoading,emptyState:"No annotations yet"}),next&&(0,jsx_runtime.jsx)("div",{className:"flex justify-center mt-6",children:(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",loading:loadingNext,onClick:()=>{loadAnnotationsNext()},children:"Load more annotations"})})]})]}),(0,jsx_runtime.jsx)(AnnotationModal.h,{})]})}var MemberSelect=__webpack_require__("../../frontend/src/lib/components/MemberSelect.tsx"),dayjs=__webpack_require__("../../frontend/src/lib/dayjs.ts"),icons=__webpack_require__("../../frontend/src/lib/lemon-ui/icons/index.ts"),userLogic=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),kea_loaders_lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),dist_module=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.290.0/node_modules/posthog-js/dist/module.js"),api=__webpack_require__("../../frontend/src/lib/api.ts");let SCOPE_OPTIONS=Object.values(types.jc).map(scope=>({value:scope,label:(0,utils.fm)(scope)}));SCOPE_OPTIONS.unshift({value:null,label:"Any"});let openUrls={[types.jc.INSIGHT]:c=>c.item_context?.short_id?urls.j.insightView(c.item_context?.short_id):null,[types.jc.REPLAY]:c=>c.item_id?urls.j.replaySingle(c.item_id):null,[types.jc.RECORDING]:c=>c.item_id?urls.j.replaySingle(c.item_id):null,[types.jc.DASHBOARD]:c=>c.item_id?urls.j.dashboard(c.item_id):null,[types.jc.FEATURE_FLAG]:c=>c.item_id?urls.j.featureFlag(c.item_id):null,[types.jc.EXPERIMENT]:c=>c.item_id?urls.j.experiment(c.item_id):null,[types.jc.COHORT]:c=>c.item_id?urls.j.cohort(c.item_id):null,[types.jc.PERSON]:c=>c.item_id?urls.j.personByUUID(c.item_id):null,[types.jc.ACTION]:c=>c.item_id?urls.j.action(c.item_id):null,[types.jc.EVENT_DEFINITION]:c=>c.item_id?urls.j.eventDefinition(c.item_id):null,[types.jc.PROPERTY_DEFINITION]:c=>c.item_id?urls.j.propertyDefinition(c.item_id):null,[types.jc.NOTEBOOK]:c=>c.item_id?urls.j.notebook(c.item_id):null,[types.jc.SURVEY]:c=>c.item_id?urls.j.survey(c.item_id):null,[types.jc.EARLY_ACCESS_FEATURE]:c=>c.item_id?urls.j.earlyAccessFeature(c.item_id):null,[types.jc.ERROR_TRACKING_ISSUE]:c=>c.item_id?urls.j.errorTrackingIssue(c.item_id):null,[types.jc.USER_INTERVIEW]:c=>c.item_id?urls.j.userInterview(c.item_id):null,[types.jc.GROUP]:c=>c.item_context?.group_type_index&&c.item_id?urls.j.group(c.item_context.group_type_index,c.item_id):null,[types.jc.PLUGIN]:c=>c.item_id?urls.j.legacyPlugin(c.item_id):null,[types.jc.HOG_FUNCTION]:c=>c.item_id?urls.j.hogFunction(c.item_id):null,[types.jc.TEAM]:()=>urls.j.settings("project"),[types.jc.DATA_MANAGEMENT]:()=>urls.j.eventDefinitions(),[types.jc.DATA_WAREHOUSE_SAVED_QUERY]:()=>urls.j.database(),[types.jc.PLUGIN_CONFIG]:()=>null,[types.jc.COMMENT]:()=>null},openURLFor=c=>{let commentURLFn=openUrls[c.scope];if(!commentURLFn)return null;let commentURL=commentURLFn(c);return c.scope===types.jc.RECORDING?commentURL:commentURL?`${commentURL}#panel=discussion`:null},commentsLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","data-management","comments","commentsLogic"]),(0,index_esm.connect)(()=>({values:[teamLogic.teamLogic,["currentTeam"],userLogic.userLogic,["user"]]})),(0,index_esm.actions)({setScope:scope=>({scope}),setFilterCreatedBy:createdBy=>({createdBy}),setSearchText:searchText=>({searchText}),deleteComment:id=>({id}),loadComments:!0}),(0,kea_loaders_lib.loaders)(_ref=>{let{values}=_ref;return{comments:[[],{loadComments:async(_,breakpoint)=>{await breakpoint(100);let params={};values.scope&&(params.scope=values.scope),values.filterCreatedBy&&(params.created_by=values.filterCreatedBy),values.searchText.trim()&&(params.search=values.searchText.trim());let response=await api.ZP.comments.list(params);return breakpoint(),response.results||[]},deleteComment:async(_ref2,breakpoint)=>{let{id}=_ref2;return await breakpoint(25),await api.ZP.comments.delete(id),values.comments.filter(c=>c.id!==id)}}]}}),(0,index_esm.reducers)(()=>({scope:[null,{setScope:(_,_ref3)=>{let{scope}=_ref3;return scope}}],filterCreatedBy:[null,{setFilterCreatedBy:(_,_ref4)=>{let{createdBy}=_ref4;return createdBy}}],searchText:["",{setSearchText:(_,_ref5)=>{let{searchText}=_ref5;return searchText}}]})),(0,index_esm.selectors)(()=>({hasAnySearch:[s=>[s.searchText,s.scope,s.filterCreatedBy],(searchText,scope,filterCreatedBy)=>!!searchText||!!scope||!!filterCreatedBy],shouldShowEmptyState:[s=>[s.comments,s.commentsLoading,s.hasAnySearch],(comments,commentsLoading,hasAnySearch)=>0===comments.length&&!commentsLoading&&!hasAnySearch]})),(0,index_esm.listeners)(_ref6=>{let{actions}=_ref6;return{setScope:actions.loadComments,setFilterCreatedBy:actions.loadComments,setSearchText:actions.loadComments,deleteCommentSuccess:()=>{src.UJ.success("Comment deleted")},deleteCommentFailure:e=>{dist_module.ZP.captureException(e,{action:"data management scene deleting comment"}),src.UJ.error("Could not delete comment, refresh and try again")}}})]);function Comments(){let{user}=(0,index_esm.useValues)(userLogic.userLogic),{comments,shouldShowEmptyState,commentsLoading,scope,filterCreatedBy,searchText}=(0,index_esm.useValues)(commentsLogic),{setScope,setFilterCreatedBy,setSearchText,deleteComment,loadComments}=(0,index_esm.useActions)(commentsLogic);(0,react.useEffect)(()=>{loadComments()},[loadComments]);let columns=[{title:"Comment",key:"content",width:"30%",render:function RenderComment(_,comment){var _comment$content,_comment$content2,_comment$content3;let renderedContent=(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:null!==(_comment$content=comment.content)&&void 0!==_comment$content?_comment$content:""});return(comment.content||"").trim().length>50&&(renderedContent=(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsx)("div",{className:"whitespace-pre-wrap break-words","data-attr":"comment-scene-comment-title-rendered-content",children:null!==(_comment$content2=comment.content)&&void 0!==_comment$content2?_comment$content2:""}),children:(null!==(_comment$content3=comment.content)&&void 0!==_comment$content3?_comment$content3:"").slice(0,47)+"..."})),(0,jsx_runtime.jsx)("div",{className:"font-semibold",children:renderedContent})}},{title:"Timestamp",dataIndex:"created_at",render:function RenderCreatedAt(_,comment){return(0,jsx_runtime.jsx)(TZLabel.w,{time:(0,dayjs.Bv)(comment.created_at)})},sorter:(a,b)=>(0,dayjs.Bv)(a.created_at).diff((0,dayjs.Bv)(b.created_at))},{title:"Scope",key:"scope",render:function RenderScope(_,comment){return(0,jsx_runtime.jsx)(LemonTag_LemonTag.o,{className:"uppercase",children:comment.scope})}},{title:"Created by",dataIndex:"created_by",render:function RenderCreatedBy(_,comment){return(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center",children:(0,jsx_runtime.jsx)(ProfilePicture.Y,{user:comment.created_by,showName:!0,size:"md",type:"person"})})},sorter:(a,b)=>(a.created_by?.first_name||a.created_by?.email||"").localeCompare(b.created_by?.first_name||b.created_by?.email||"")},{key:"actions",width:0,render:function RenderActions(_,comment){let canEdit=user?.uuid===comment.created_by?.uuid;return(0,jsx_runtime.jsx)("div",{className:"flex",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),size:"small",status:"danger",onClick:()=>deleteComment(comment.id),disabledReason:canEdit?void 0:"You can only delete your own comments","data-attr":"comment-management-scene-delete"}),(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(icons.UE,{}),size:"small",to:openURLFor(comment)||"",disabledReason:openURLFor(comment)?void 0:"We are not able to link to this comment type ðŸ™ˆtell us you want to be able to!","data-attr":"comment-management-scene-open"})]})})}}];return(0,jsx_runtime.jsxs)(SceneContent._,{"data-attr":"comments-management-scene",children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:scenes.lc[sceneTypes.x.Comments].name,description:scenes.lc[sceneTypes.x.Comments].description,resourceType:{type:scenes.lc[sceneTypes.x.Comments].iconType||"default_icon_type"}}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-4 justify-between",children:[(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search comments...",value:searchText,onChange:setSearchText,size:"small"})}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-4 flex-wrap",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,jsx_runtime.jsx)("div",{children:"Scope:"}),(0,jsx_runtime.jsx)(src.Yv,{options:SCOPE_OPTIONS,value:scope,onSelect:setScope,size:"small"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{children:"Created by:"}),(0,jsx_runtime.jsx)(MemberSelect.a,{value:filterCreatedBy,onChange:user=>{var _user$uuid;setFilterCreatedBy(null!==(_user$uuid=user?.uuid)&&void 0!==_user$uuid?_user$uuid:null)}})]})]})})]}),(0,jsx_runtime.jsxs)("div",{"data-attr":"comments-content",children:[(0,jsx_runtime.jsx)("div",{className:"mt-4",children:(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Comments",productKey:types.Md.COMMENTS,thingName:"comment",description:"Comments allow you to provide context and discussions on various elements in PostHog.",isEmpty:shouldShowEmptyState,customHog:hedgehogs.MicrophoneHog})}),!shouldShowEmptyState&&(0,jsx_runtime.jsx)(LemonTable.g,{"data-attr":"comments-table",rowKey:"id",dataSource:comments,columns:columns,defaultSorting:{columnKey:"created_at",order:-1},noSortingCancellation:!0,loading:commentsLoading,emptyState:"No comments found"})]})]})}var MarketingAnalyticsSettings=__webpack_require__("../../frontend/src/scenes/web-analytics/tabs/marketing-analytics/frontend/components/settings/MarketingAnalyticsSettings.tsx"),sidepanel_types=__webpack_require__("../../frontend/src/layout/navigation-3000/sidepanel/types.ts"),ActionsTable=__webpack_require__("../../products/actions/frontend/components/ActionsTable.tsx"),NewActionButton=__webpack_require__("../../products/actions/frontend/components/NewActionButton.tsx"),AccessControlAction=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),BaseCurrency=__webpack_require__("../../frontend/src/lib/components/BaseCurrency/BaseCurrency.tsx"),dataWarehouseSettingsLogic=__webpack_require__("../../frontend/src/scenes/data-warehouse/settings/dataWarehouseSettingsLogic.ts"),SceneDivider=__webpack_require__("../../frontend/src/layout/scenes/components/SceneDivider.tsx"),DataWarehouseManagedViewsetCard=__webpack_require__("../../frontend/src/scenes/data-management/managed-viewsets/DataWarehouseManagedViewsetCard.tsx"),DataWarehouseManagedViewsetImpactModal=__webpack_require__("../../frontend/src/scenes/data-management/managed-viewsets/DataWarehouseManagedViewsetImpactModal.tsx"),disableDataWarehouseManagedViewsetModalLogic=__webpack_require__("../../frontend/src/scenes/data-management/managed-viewsets/disableDataWarehouseManagedViewsetModalLogic.ts"),SceneSection=__webpack_require__("../../frontend/src/layout/scenes/components/SceneSection.tsx");function DataWarehouseManagedViewsetConfiguration(){var _currentTeam$managed_;let{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{loadCurrentTeam}=(0,index_esm.useActions)(teamLogic.teamLogic),{views}=(0,index_esm.useValues)((0,disableDataWarehouseManagedViewsetModalLogic.M)({type:"ManagedViewsetConfiguration"})),isEnabled=null!==(_currentTeam$managed_=currentTeam?.managed_viewsets?.revenue_analytics)&&void 0!==_currentTeam$managed_&&_currentTeam$managed_,onConfirmDisable=async()=>{try{return await api.ZP.dataWarehouseManagedViewsets.toggle("revenue_analytics",!1),src.UJ.success("Revenue analytics disabled successfully"),loadCurrentTeam(),!0}catch(error){return src.UJ.error(`Failed to disable revenue analytics: ${error.message||"Unknown error"}`),!1}};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(SceneSection.S,{title:"Revenue analytics",description:"Revenue analytics must be enabled to automatically create and maintain optimized database views for your revenue data. Once enabled, you can configure which revenue sources and events to track below.",children:[!isEnabled&&(0,jsx_runtime.jsx)(src.Vp,{type:"warning",className:"mb-4",children:(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:(0,jsx_runtime.jsxs)("span",{children:[(0,jsx_runtime.jsx)("strong",{children:"Revenue analytics is currently disabled."})," Enable it below to start configuring revenue sources and events."]})})}),(0,jsx_runtime.jsx)(DataWarehouseManagedViewsetCard.V,{type:"ManagedViewsetConfiguration",kind:"revenue_analytics",displayConfigLink:!1,resourceType:types.qR.RevenueAnalytics})]}),(0,jsx_runtime.jsx)(DataWarehouseManagedViewsetImpactModal.w,{type:"ManagedViewsetConfiguration",title:"Disable revenue analytics?",action:onConfirmDisable,confirmText:"revenue_analytics",views:views,warningItems:["Permanently delete all revenue views","Break any existing queries, insights, or dashboards that reference these views","Stop all scheduled materialization jobs","Disable all revenue analytics functionality"],infoMessage:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("strong",{children:"Important:"})," Disabling revenue analytics will remove all revenue data views. You can re-enable it later, but views will need to be rebuilt from your configured sources."]}),viewsActionText:"will be deleted",confirmButtonText:"Yes, disable revenue analytics"})]})}var EventConfiguration=__webpack_require__("../../products/revenue_analytics/frontend/settings/EventConfiguration.tsx"),ExternalDataSourceConfiguration=__webpack_require__("../../products/revenue_analytics/frontend/settings/ExternalDataSourceConfiguration.tsx"),FilterTestAccountsConfiguration=__webpack_require__("../../products/revenue_analytics/frontend/settings/FilterTestAccountsConfiguration.tsx"),GoalsConfiguration=__webpack_require__("../../products/revenue_analytics/frontend/settings/GoalsConfiguration.tsx"),Query=__webpack_require__("../../frontend/src/queries/Query/Query.tsx"),schema_general=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),geography_currency=__webpack_require__("../../frontend/src/lib/utils/geography/currency.ts");let Revenue=_ref=>{let{value,currency}=_ref,{symbol,isPrefix}=(0,geography_currency.jK)(null!=currency?currency:schema_general.NE.USD);return(0,jsx_runtime.jsx)("div",{children:`${isPrefix?symbol:""}${(0,utils.Lc)(value,10,2)}${isPrefix?"":" "+symbol}`})},Currency=_ref2=>{let{currency}=_ref2;return(0,jsx_runtime.jsxs)("div",{children:[geography_currency.Bu[currency]," ",currency]})};var revenueAnalyticsSettingsLogic=__webpack_require__("../../products/revenue_analytics/frontend/settings/revenueAnalyticsSettingsLogic.ts");let queryContext={showOpenEditorButton:!0,columns:{original_currency:{render:_ref=>{let{value}=_ref;return(0,jsx_runtime.jsx)(Currency,{currency:value})}},original_revenue:{render:_ref2=>{let{value,record}=_ref2,originalCurrency=record[3];return(0,jsx_runtime.jsx)(Revenue,{value:value,currency:null!=originalCurrency?originalCurrency:schema_general.NE.USD})}},currency:{render:_ref3=>{let{value}=_ref3;return(0,jsx_runtime.jsx)(Currency,{currency:value})}},revenue:{render:_ref4=>{let{value,record}=_ref4,convertedCurrency=record[5];return(0,jsx_runtime.jsx)(Revenue,{value:value,currency:null!=convertedCurrency?convertedCurrency:schema_general.NE.USD})}}}};function RevenueExampleDataWarehouseTablesData(){let{exampleDataWarehouseTablesQuery}=(0,index_esm.useValues)(revenueAnalyticsSettingsLogic.m);return exampleDataWarehouseTablesQuery?(0,jsx_runtime.jsx)(SceneSection.S,{title:"Data warehouse tables revenue data",description:"The following rows of data were imported from your data warehouse tables. This is helpful when you're trying to debug what your revenue data looks like.",children:(0,jsx_runtime.jsx)(Query.A,{attachTo:revenueAnalyticsSettingsLogic.m,query:exampleDataWarehouseTablesQuery,context:queryContext})}):null}let RevenueExampleEventsTable_queryContext={showOpenEditorButton:!0,columns:{original_amount:{title:"Ingested amount"},currency_aware_amount:{title:"Parsed amount",render:_ref=>{let{value,record}=_ref,adjustedCurrency=record[4];return(0,jsx_runtime.jsx)(Revenue,{value:value,currency:null!=adjustedCurrency?adjustedCurrency:schema_general.NE.USD})}},original_currency:{title:"Ingested currency",render:_ref2=>{let{value}=_ref2;return(0,jsx_runtime.jsx)(Currency,{currency:value})}},currency:{render:_ref3=>{let{value}=_ref3;return(0,jsx_runtime.jsx)(Currency,{currency:value})}},amount:{render:_ref4=>{let{value,record}=_ref4,convertedCurrency=record[6];return(0,jsx_runtime.jsx)(Revenue,{value:value,currency:null!=convertedCurrency?convertedCurrency:schema_general.NE.USD})}}}};function RevenueExampleEventsTable(){let{exampleEventsQuery}=(0,index_esm.useValues)(revenueAnalyticsSettingsLogic.m);return exampleEventsQuery?(0,jsx_runtime.jsx)(SceneSection.S,{title:"Revenue events",description:"The following revenue events are available in your data. This is helpful when you're trying to debug what your revenue events look like.",children:(0,jsx_runtime.jsx)(Query.A,{attachTo:revenueAnalyticsSettingsLogic.m,query:exampleEventsQuery,context:RevenueExampleEventsTable_queryContext})}):null}function RevenueAnalyticsSettings(){var _currentTeam$managed_;let[activeTab,setActiveTab]=(0,react.useState)("events"),{events}=(0,index_esm.useValues)(revenueAnalyticsSettingsLogic.m),{dataWarehouseSources,dataWarehouseSourcesLoading}=(0,index_esm.useValues)(dataWarehouseSettingsLogic.T),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),eventsButtonRef=(0,react.useRef)(null),dataWarehouseTablesButtonRef=(0,react.useRef)(null),managedViewsetsEnabled=featureFlags[constants.y8.MANAGED_VIEWSETS],isViewsetEnabled=null!==(_currentTeam$managed_=currentTeam?.managed_viewsets?.revenue_analytics)&&void 0!==_currentTeam$managed_&&_currentTeam$managed_,hasNoEvents=!events.length,hasNoDataWarehouseSources=!dataWarehouseSourcesLoading&&!dataWarehouseSources?.results.filter(source=>"Stripe"===source.source_type).length,shouldBlockSettings=managedViewsetsEnabled&&!isViewsetEnabled;return(0,jsx_runtime.jsxs)(SceneContent._,{children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:scenes.lc[sceneTypes.x.RevenueAnalytics].name,description:scenes.lc[sceneTypes.x.RevenueAnalytics].description,resourceType:{type:scenes.lc[sceneTypes.x.RevenueAnalytics].iconType||"default_icon_type"}}),managedViewsetsEnabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DataWarehouseManagedViewsetConfiguration,{}),(0,jsx_runtime.jsx)(SceneDivider.V,{})]}),shouldBlockSettings?null:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(AccessControlAction.b,{resourceType:types.qR.RevenueAnalytics,minAccessLevel:types.W$.Editor,children:(0,jsx_runtime.jsx)(BaseCurrency.Y,{})}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(FilterTestAccountsConfiguration.Y,{}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(GoalsConfiguration.K,{}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Revenue tracking",thingName:"revenue source",description:scenes.lc[sceneTypes.x.RevenueAnalytics].description||"",isEmpty:hasNoEvents&&hasNoDataWarehouseSources,actionElementOverride:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,jsx_runtime.jsx)(AccessControlAction.b,{resourceType:types.qR.RevenueAnalytics,minAccessLevel:types.W$.Editor,children:(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),onClick:()=>{eventsButtonRef.current?.scrollIntoView({behavior:"smooth"}),eventsButtonRef.current?.click()},"data-attr":"create-revenue-event",children:"Add revenue event"})}),(0,jsx_runtime.jsx)(AccessControlAction.b,{resourceType:types.qR.RevenueAnalytics,minAccessLevel:types.W$.Editor,children:(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),onClick:()=>{dataWarehouseTablesButtonRef.current?.scrollIntoView({behavior:"smooth"}),dataWarehouseTablesButtonRef.current?.click()},"data-attr":"import-revenue-data-warehouse-tables",children:"Import revenue data from data warehouse"})}),(0,jsx_runtime.jsxs)("span",{className:"text-xs text-muted-alt",children:["Only Stripe is supported currently. ",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(src.rU,{to:"https://github.com/PostHog/posthog/issues/new?assignees=&labels=enhancement,feature/revenue-analytics%2C+feature&projects=&template=feature_request.yml&title=New%20revenue%20source:%20%3Cinsert%20source%3E",children:"Request more revenue integrations."})]})]})})}),(0,jsx_runtime.jsx)(ExternalDataSourceConfiguration.S,{buttonRef:dataWarehouseTablesButtonRef}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(EventConfiguration.C,{buttonRef:eventsButtonRef}),(0,jsx_runtime.jsx)(SceneDivider.V,{}),(0,jsx_runtime.jsx)(src.TP,{activeKey:activeTab,onChange:key=>setActiveTab(key),tabs:[{key:"data-warehouse",label:"Data Warehouse revenue events",content:(0,jsx_runtime.jsx)(RevenueExampleDataWarehouseTablesData,{})},{key:"events",label:"Revenue events",content:(0,jsx_runtime.jsx)(RevenueExampleEventsTable,{})}]})]})]})}var ObjectTags=__webpack_require__("../../frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),TagSelect=__webpack_require__("../../frontend/src/lib/components/TagSelect.tsx"),TaxonomicFilter_types=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/types.ts"),LemonBanner=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonBanner/index.ts"),More=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/More.tsx"),DefinitionHeader=__webpack_require__("../../frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),EventDefinitionProperties=__webpack_require__("../../frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx"),eventDefinitionsTableLogic=__webpack_require__("../../frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts");let eventTypeOptions=[{value:types.uW.Event,label:"All events","data-attr":"event-type-option-event"},{value:types.uW.EventCustom,label:"Custom events","data-attr":"event-type-option-event-custom"},{value:types.uW.EventPostHog,label:"PostHog events","data-attr":"event-type-option-event-posthog"}];function EventDefinitionsTable(){var _eventDefinitions$pag,_eventDefinitions$cou;let{eventDefinitions,eventDefinitionsLoading,filters}=(0,index_esm.useValues)(eventDefinitionsTableLogic.qh),{loadEventDefinitions,setFilters}=(0,index_esm.useActions)(eventDefinitionsTableLogic.qh),{hasTagging}=(0,index_esm.useValues)(organizationLogic.organizationLogic),columns=[{key:"icon",width:0,render:function Render(_,definition){return(0,jsx_runtime.jsx)("span",{className:"text-xl text-secondary",children:(0,DefinitionHeader.Kw)(definition)})}},{title:"Name",key:"name",render:function Render(_,definition){return(0,jsx_runtime.jsx)(DefinitionHeader.JH,{definition:definition,to:urls.j.eventDefinition(definition.id),taxonomicGroupType:TaxonomicFilter_types.t.Events})},sorter:!0},{title:"Last seen",key:"last_seen_at",className:"definition-column-last_seen_at",render:function Render(_,definition){return definition.last_seen_at?(0,jsx_runtime.jsx)(TZLabel.w,{time:definition.last_seen_at}):null},sorter:!0},...hasTagging?[{title:"Tags",key:"tags",render:function Render(_,definition){var _definition$tags;return(0,jsx_runtime.jsx)(ObjectTags.D,{tags:null!==(_definition$tags=definition.tags)&&void 0!==_definition$tags?_definition$tags:[],staticOnly:!0})}}]:[],{key:"actions",width:0,render:function RenderActions(_,definition){return(0,jsx_runtime.jsx)(More.T,{"data-attr":`event-definitions-table-more-button-${definition.name}`,overlay:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.Jp,{to:urls.j.replay(types.yd.Home,{filter_group:{type:types.J2.And,values:[{type:types.J2.And,values:[{id:definition.name,type:"events",order:0,name:definition.name}]}]}}),fullWidth:!0,sideIcon:(0,jsx_runtime.jsx)(icons.Ud,{}),"data-attr":"event-definitions-table-view-recordings",targetBlank:!0,children:"View recordings"})})})}}];return(0,jsx_runtime.jsxs)(SceneContent._,{"data-attr":"manage-events-table",children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:scenes.lc[sceneTypes.x.EventDefinition].name,description:scenes.lc[sceneTypes.x.EventDefinition].description,resourceType:{type:scenes.lc[sceneTypes.x.EventDefinition].iconType||"default_icon_type",forceIcon:(0,jsx_runtime.jsx)(posthog_icons_es.IconApps,{})}}),(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"info",children:["Looking for"," ","event_custom"===filters.event_type?"custom ":"event_posthog"===filters.event_type?"PostHog ":"","event usage statistics?"," ",(0,jsx_runtime.jsx)(src.rU,{to:urls.j.insightNewHogQL({query:"SELECT event, count()\nFROM events\nWHERE {filters}\n"+("event_custom"===filters.event_type?"AND event NOT LIKE '$%'\n":"event_posthog"===filters.event_type?"AND event LIKE '$%'\n":"")+"GROUP BY event\nORDER BY count() DESC",filters:{dateRange:{date_from:"-24h"}}}),children:"Query with SQL"})]}),(0,jsx_runtime.jsxs)("div",{className:(0,css_classes.cn)("flex justify-between items-center gap-2"),children:[(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search for events",onChange:v=>setFilters({event:v||""}),value:filters.event}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[hasTagging&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("span",{children:"Tags:"}),(0,jsx_runtime.jsx)(TagSelect.O,{defaultLabel:"Any tags",value:filters.tags||[],onChange:tags=>{setFilters({tags})},"data-attr":"event-tags-filter",size:"small"})]}),(0,jsx_runtime.jsx)("span",{children:"Type:"}),(0,jsx_runtime.jsx)(src.Yv,{value:filters.event_type,options:eventTypeOptions,"data-attr":"event-type-filter",dropdownMatchSelectWidth:!1,onChange:value=>{setFilters({event_type:value})},size:"small"})]})]}),(0,jsx_runtime.jsx)(LemonTable.g,{columns:columns,"data-attr":"events-definition-table",loading:eventDefinitionsLoading,rowKey:"id",pagination:{controlled:!0,currentPage:null!==(_eventDefinitions$pag=eventDefinitions?.page)&&void 0!==_eventDefinitions$pag?_eventDefinitions$pag:1,entryCount:null!==(_eventDefinitions$cou=eventDefinitions?.count)&&void 0!==_eventDefinitions$cou?_eventDefinitions$cou:0,pageSize:constants.H$,onForward:eventDefinitions.next?()=>{loadEventDefinitions(eventDefinitions.next)}:void 0,onBackward:eventDefinitions.previous?()=>{loadEventDefinitions(eventDefinitions.previous)}:void 0},onSort:newSorting=>setFilters({ordering:newSorting?`${-1===newSorting.order?"-":""}${newSorting.columnKey}`:void 0}),expandable:{expandedRowRender:function RenderPropertiesTable(definition){return(0,jsx_runtime.jsx)("div",{className:"p-4",children:(0,jsx_runtime.jsx)(EventDefinitionProperties.Q,{definition:definition})})},rowExpandable:()=>!0,noIndent:!0},dataSource:eventDefinitions.results,useURLForSorting:!1,emptyState:"No event definitions",nouns:["event","events"]})]})}var Sparkline=__webpack_require__("../../frontend/src/lib/components/Sparkline.tsx"),ViewRecordingButton=__webpack_require__("../../frontend/src/lib/components/ViewRecordingButton/ViewRecordingButton.tsx"),Link=__webpack_require__("../../frontend/src/lib/lemon-ui/Link/index.ts"),projectLogic=__webpack_require__("../../frontend/src/scenes/projectLogic.ts");let ingestionWarningsLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","data-management","ingestion-warnings","ingestionWarningsLogic"]),(0,index_esm.connect)(()=>({values:[teamLogic.teamLogic,["timezone"],projectLogic.K,["currentProjectId"]]})),(0,index_esm.actions)({setSearchQuery:search=>({search})}),(0,index_esm.reducers)({searchQuery:["",{setSearchQuery:(_,_ref)=>{let{search}=_ref;return search}}]}),(0,kea_loaders_lib.loaders)(_ref2=>{let{values}=_ref2;return{data:[[],{loadData:async()=>{let q=values.searchQuery?`?q=${values.searchQuery}`:"",{results}=await api.ZP.get(`api/projects/${values.currentProjectId}/ingestion_warnings${q}`);return results}}]}}),(0,index_esm.selectors)({breadcrumbs:[()=>[],()=>[{key:sceneTypes.x.DataManagement,name:"Data management",path:urls.j.eventDefinitions(),iconType:"event_definition"},{key:DataManagementTab.IngestionWarnings,name:"Ingestion warnings",path:urls.j.ingestionWarnings(),iconType:"ingestion_warning"}]],dates:[()=>[],()=>(0,utils.w6)(0,30).map(i=>(0,dayjs.Bv)().subtract(i,"days").format("D MMM YYYY")).reverse()],summaryDatasets:[s=>[s.data,s.timezone],(data,timezone)=>{let summaryDatasets={};return data.forEach(summary=>{let result=Array(30).fill(0);for(let spark of summary.sparkline){let date=(0,dayjs.fp)(spark[1],timezone);result[(0,dayjs.Bv)().diff(date,"days")]=spark[0]}summaryDatasets[summary.type]=result.reverse()}),summaryDatasets}],showProductIntro:[s=>[s.data,s.dataLoading,s.searchQuery],(data,dataLoading,searchQuery)=>0===data.length&&!dataLoading&&!searchQuery.trim().length]}),(0,index_esm.listeners)(_ref3=>{let{actions}=_ref3;return{setSearchQuery:async(_,breakpoint)=>{await breakpoint(100),actions.loadData()}}}),(0,index_esm.afterMount)(_ref4=>{let{actions}=_ref4;actions.loadData()})]),WARNING_TYPE_TO_DESCRIPTION={cannot_merge_already_identified:"Refused to merge an already identified user",cannot_merge_with_illegal_distinct_id:"Refused to merge with an illegal distinct id",skipping_event_invalid_uuid:"Refused to process event with invalid uuid",ignored_invalid_timestamp:"Ignored an invalid timestamp, event was still ingested",event_timestamp_in_future:"An event was sent more than 23 hours in the future",ingestion_capacity_overflow:"Event ingestion has overflowed capacity",message_size_too_large:"Discarded event exceeding 1MB limit",replay_timestamp_invalid:"Replay event timestamp is invalid",replay_timestamp_too_far:"Replay event timestamp was too far in the future",replay_message_too_large:"Replay data was dropped because it was too large to ingest",set_on_exception:"$set or $set_once is ignored on exception events and should not be sent"},WARNING_TYPE_RENDERER={cannot_merge_already_identified:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Refused to merge already identified person"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.sourcePersonDistinctId),children:details.sourcePersonDistinctId})," ","into"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.targetPersonDistinctId),children:details.targetPersonDistinctId})," ","via an $identify or $create_alias call (event uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),")."]})},cannot_merge_with_illegal_distinct_id:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Refused to merge an illegal distinct_id"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.illegalDistinctId),children:details.illegalDistinctId})," with"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.otherDistinctId),children:details.otherDistinctId})," via an $identify or $create_alias call (event uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),")."]})},skipping_event_invalid_uuid:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Refused to process event with invalid uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),"."]})},ignored_invalid_timestamp:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Used server timestamp when ingesting event due to invalid input:",(0,jsx_runtime.jsxs)("ul",{children:[details.eventUuid?(0,jsx_runtime.jsxs)("li",{children:["Event UUID: ",details.eventUuid]}):"",details.field?(0,jsx_runtime.jsxs)("li",{children:["Invalid field: ",details.field]}):"",details.value?(0,jsx_runtime.jsxs)("li",{children:["Invalid value: ",details.value]}):"",details.reason?(0,jsx_runtime.jsxs)("li",{children:["Error: ",details.reason]}):""]})]})},event_timestamp_in_future:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["The event timestamp computed too far in the future, so the capture time was used instead. Event values:",(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsxs)("li",{children:["Computed timestamp: ",details.result]}),details.eventUuid?(0,jsx_runtime.jsxs)("li",{children:["Event UUID: ",details.eventUuid]}):"",details.timestamp?(0,jsx_runtime.jsxs)("li",{children:["Client provided timestamp: ",details.timestamp]}):"",details.sentAt?(0,jsx_runtime.jsxs)("li",{children:["Client provided sent_at: ",details.sentAt]}):"",details.offset?(0,jsx_runtime.jsxs)("li",{children:["Client provided time offset: ",details.offset]}):"",(0,jsx_runtime.jsxs)("li",{children:["PostHog server capture time: ",details.now]})]})]})},ingestion_capacity_overflow:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Event ingestion has overflowed capacity for distinct_id"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.overflowDistinctId),children:details.overflowDistinctId}),". Events will still be processed, but are likely to be delayed longer than usual."]})},message_size_too_large:function Render(warning){let details=warning.details;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Discarded event for distinct_id"," ",(0,jsx_runtime.jsx)(Link.r,{to:urls.j.personByDistinctId(details.distinctId),children:details.distinctId})," that exceeded 1MB in size after processing (event uuid: ",(0,jsx_runtime.jsx)("code",{children:details.eventUuid}),")"]})},replay_timestamp_invalid:function Render(warning){let details={timestamp:warning.details.timestamp,session_id:warning.details.replayRecord.session_id};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Session replay data dropped due to invalid timestamp:",(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsxs)("li",{children:["invalid timestamp: ",details.timestamp]}),(0,jsx_runtime.jsxs)("li",{children:["session_id: ",details.session_id]})]}),(0,jsx_runtime.jsx)("div",{className:"max-w-30 mt-2",children:(0,jsx_runtime.jsx)(ViewRecordingButton.Z,{sessionId:details.session_id,timestamp:details.timestamp,type:"primary",size:"xsmall","data-attr":"skewed-timestamp-view-recording"})})]})},replay_timestamp_too_far:function Render(warning){let details={timestamp:warning.details.timestamp,session_id:warning.details.replayRecord.session_id,daysFromNow:warning.details.daysFromNow};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["The session replay data timestamp was too different from the capture time, so the data was dropped. Event values:",(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsxs)("li",{children:["invalid timestamp: ",details.timestamp]}),(0,jsx_runtime.jsxs)("li",{children:["session_id: ",details.session_id]}),(0,jsx_runtime.jsxs)("li",{children:["skew: ",details.daysFromNow," days"]})]}),(0,jsx_runtime.jsx)("div",{className:"max-w-30 mt-2",children:(0,jsx_runtime.jsx)(ViewRecordingButton.Z,{sessionId:details.session_id,timestamp:details.timestamp,type:"primary",size:"xsmall","data-attr":"skewed-timestamp-view-recording"})})]})},replay_message_too_large:function Render(warning){let details={timestamp:warning.details.timestamp,session_id:warning.details.replayRecord.session_id};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Session replay data dropped due to its size, this can cause playback problems:",(0,jsx_runtime.jsx)("ul",{children:(0,jsx_runtime.jsxs)("li",{children:["session_id: ",details.session_id]})}),(0,jsx_runtime.jsx)("div",{className:"max-w-30 mt-2",children:(0,jsx_runtime.jsx)(ViewRecordingButton.Z,{sessionId:details.session_id,timestamp:details.timestamp,type:"primary",size:"xsmall","data-attr":"message-too-large-view-recording"})})]})},set_on_exception:function Render(warning){let details={event_uuid:warning.details.event_uuid};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" ","Exception ",details.event_uuid," contained $set or $set_once properties, which are ignored on exception events"]})}};function IngestionWarningsView(){let{data,dataLoading,summaryDatasets,dates,searchQuery,showProductIntro}=(0,index_esm.useValues)(ingestionWarningsLogic),{setSearchQuery}=(0,index_esm.useActions)(ingestionWarningsLogic);return(0,jsx_runtime.jsxs)(SceneContent._,{"data-attr":"manage-events-table",children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:scenes.lc[sceneTypes.x.IngestionWarnings].name,description:scenes.lc[sceneTypes.x.IngestionWarnings].description,resourceType:{type:scenes.lc[sceneTypes.x.IngestionWarnings].iconType||"default_icon_type"}}),(0,jsx_runtime.jsxs)(SceneSection.S,{children:[(0,jsx_runtime.jsx)(src.DF,{fullWidth:!0,value:searchQuery,onChange:setSearchQuery,type:"search",placeholder:"Try pasting a person or session id or an ingestion warning type"}),(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:data,loading:dataLoading,columns:[{title:"Warning",dataIndex:"type",render:function Render(_,summary){let type=WARNING_TYPE_TO_DESCRIPTION[summary.type]||summary.type;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[type," (",(0,jsx_runtime.jsx)(Link.r,{to:`https://posthog.com/docs/data#${type.toLowerCase().replace(",","").split(" ").join("-")}`,children:"docs)"})]})}},{title:"Graph",render:function Render(_,summary){return(0,jsx_runtime.jsx)(Sparkline.b,{className:"h-8",labels:dates,data:summaryDatasets[summary.type]})}},{title:"Events",dataIndex:"count",align:"right",sorter:(a,b)=>a.count-b.count},{title:"Last Seen",dataIndex:"lastSeen",render:function Render(_,summary){return(0,jsx_runtime.jsx)(TZLabel.w,{time:summary.lastSeen,showSeconds:!0})},align:"right",sorter:(a,b)=>new Date(a.lastSeen)>new Date(b.lastSeen)?1:-1}],expandable:{expandedRowRender:RenderNestedWarnings},defaultSorting:{columnKey:"lastSeen",order:-1},noSortingCancellation:!0})]}),showProductIntro&&(0,jsx_runtime.jsx)(ProductIntroduction.C,{productName:"Ingestion warnings",thingName:"ingestion warning",productKey:types.Md.INGESTION_WARNINGS,isEmpty:!0,description:"Nice! You've had no ingestion warnings in the past 30 days. If we detect any issues with your data, we'll show them here.",docsURL:"https://posthog.com/docs/data/data-management#ingestion-warnings",customHog:hedgehogs.ReadingHog})]})}function RenderNestedWarnings(warningSummary){return(0,jsx_runtime.jsx)(LemonTable.g,{dataSource:warningSummary.warnings,columns:[{title:"Description",key:"description",render:function Render(_,warning){let renderer=WARNING_TYPE_RENDERER[warning.type];return renderer?renderer(warning):(0,jsx_runtime.jsx)("pre",{children:JSON.stringify(warning.details,null,2)})}},{title:"Time",dataIndex:"timestamp",render:function Render(_,warning){return(0,jsx_runtime.jsx)(TZLabel.w,{time:warning.timestamp,showSeconds:!0})},align:"right"}],embedded:!0,showHeader:!1,pagination:{pageSize:20}})}let RESOURCE_TYPES_MAP={revenue_analytics:types.qR.RevenueAnalytics};function DataWarehouseManagedViewsetsScene(){let{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{kind,views}=(0,index_esm.useValues)((0,disableDataWarehouseManagedViewsetModalLogic.M)({type:"DataWarehouseManagedViewsetsScene"})),{loadCurrentTeam}=(0,index_esm.useActions)(teamLogic.teamLogic),managedViewsets=currentTeam.managed_viewsets,onConfirmDisable=async()=>{if(!kind)return!1;try{return await api.ZP.dataWarehouseManagedViewsets.toggle(kind,!1),src.UJ.success(`${disableDataWarehouseManagedViewsetModalLogic.C[kind]} viewset disabled and views deleted successfully`),loadCurrentTeam(),!0}catch(error){return src.UJ.error(`Failed to disable ${kind} viewset: ${error.message||"Unknown error"}`),!1}};return(0,jsx_runtime.jsxs)(SceneContent._,{children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:"Managed viewsets",resourceType:{type:"managed_viewsets"},description:"Configure automatically managed database views for analytics features. These views are created and maintained by PostHog to provide optimized data access."}),(0,jsx_runtime.jsx)("div",{className:"space-y-4",children:Object.keys(managedViewsets).map(kind=>(0,jsx_runtime.jsx)(DataWarehouseManagedViewsetCard.V,{resourceType:RESOURCE_TYPES_MAP[kind],type:"DataWarehouseManagedViewsetsScene",kind:kind},kind))}),(0,jsx_runtime.jsx)(DataWarehouseManagedViewsetImpactModal.w,{type:"DataWarehouseManagedViewsetsScene",title:`Disable ${kind?disableDataWarehouseManagedViewsetModalLogic.C[kind]:""} viewset?`,action:onConfirmDisable,confirmText:kind||"",views:views,warningItems:["Permanently delete all views created by this managed viewset","Break any existing queries, insights, or dashboards that reference these views","Stop all scheduled materialization jobs for these views"],infoMessage:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("strong",{children:"Important:"})," Before disabling, make sure no queries, insights, or dashboards are using these views. You can re-enable this viewset later, but views might not be available while they're materializing."]}),viewsActionText:"will be deleted",confirmButtonText:"Yes, disable and delete views"})]})}var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),PropertyDefinitionsTable=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.scss"),PropertyDefinitionsTable_default=__webpack_require__.n(PropertyDefinitionsTable),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(PropertyDefinitionsTable_default(),options),PropertyDefinitionsTable_default().locals;var propertyDefinitionsTableLogic=__webpack_require__("../../frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts");function PropertyDefinitionsTable_PropertyDefinitionsTable(){var _filters$group_type_i,_propertyDefinitions$,_propertyDefinitions$2;let{propertyDefinitions,propertyDefinitionsLoading,filters,propertyTypeOptions}=(0,index_esm.useValues)(propertyDefinitionsTableLogic.T),{loadPropertyDefinitions,setFilters,setPropertyType}=(0,index_esm.useActions)(propertyDefinitionsTableLogic.T),{hasTagging}=(0,index_esm.useValues)(organizationLogic.organizationLogic),columns=[{key:"icon",width:0,render:function Render(_,definition){return(0,jsx_runtime.jsx)("span",{className:"text-xl text-secondary",children:(0,DefinitionHeader.Jf)(definition)})}},{title:"Name",key:"name",render:function Render(_,definition){return(0,jsx_runtime.jsx)(DefinitionHeader.JH,{definition:definition,to:urls.j.propertyDefinition(definition.id),taxonomicGroupType:TaxonomicFilter_types.t.EventProperties})},sorter:(a,b)=>a.name.localeCompare(b.name)},{title:"Type",key:"type",render:function RenderType(_,definition){return definition.property_type?(0,jsx_runtime.jsx)(src.oe,{type:"success",className:"uppercase",children:definition.property_type}):(0,jsx_runtime.jsx)("span",{className:"text-secondary",children:"â€”"})}},...hasTagging?[{title:"Tags",key:"tags",render:function Render(_,definition){var _definition$tags;return(0,jsx_runtime.jsx)(ObjectTags.D,{tags:null!==(_definition$tags=definition.tags)&&void 0!==_definition$tags?_definition$tags:[],staticOnly:!0})}}]:[]];return(0,jsx_runtime.jsxs)(SceneContent._,{"data-attr":"manage-events-table",children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:scenes.lc[sceneTypes.x.PropertyDefinition].name,description:scenes.lc[sceneTypes.x.PropertyDefinition].description,resourceType:{type:scenes.lc[sceneTypes.x.PropertyDefinition].iconType||"default_icon_type"}}),(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"info",children:["Looking for ","person"===filters.type?"person ":"","property usage statistics?"," ",(0,jsx_runtime.jsx)(src.rU,{to:urls.j.insightNewHogQL({query:"SELECT arrayJoin(JSONExtractKeys(properties)) AS property_key, count()\n"+("person"===filters.type?"FROM persons\n":"FROM events\n")+("person"===filters.type?"":"WHERE {filters}\n")+"GROUP BY property_key\nORDER BY count() DESC",filters:{dateRange:{date_from:"-24h"}}}),children:"Query with SQL"})]}),(0,jsx_runtime.jsxs)("div",{className:(0,css_classes.cn)("flex gap-2 flex-wrap"),children:[(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search for properties",onChange:e=>setFilters({property:e||""}),value:filters.property}),(0,jsx_runtime.jsx)(src.Yv,{options:propertyTypeOptions,value:`${filters.type}::${null!==(_filters$group_type_i=filters.group_type_index)&&void 0!==_filters$group_type_i?_filters$group_type_i:""}`,onSelect:setPropertyType})]}),(0,jsx_runtime.jsx)(LemonTable.g,{columns:columns,className:"event-properties-definition-table","data-attr":"event-properties-definition-table",loading:propertyDefinitionsLoading,rowKey:"id",pagination:{controlled:!0,currentPage:null!==(_propertyDefinitions$=propertyDefinitions?.page)&&void 0!==_propertyDefinitions$?_propertyDefinitions$:1,entryCount:null!==(_propertyDefinitions$2=propertyDefinitions?.count)&&void 0!==_propertyDefinitions$2?_propertyDefinitions$2:0,pageSize:constants.ld,onForward:propertyDefinitions.next?()=>{loadPropertyDefinitions(propertyDefinitions.next)}:void 0,onBackward:propertyDefinitions.previous?()=>{loadPropertyDefinitions(propertyDefinitions.previous)}:void 0},dataSource:propertyDefinitions.results,emptyState:"No property definitions",nouns:["property","properties"]})]})}var NotFound=__webpack_require__("../../frontend/src/lib/components/NotFound/index.tsx"),PropertyGroupModal=__webpack_require__("../../frontend/src/scenes/data-management/schema/PropertyGroupModal.tsx"),PropertyTypeTag=__webpack_require__("../../frontend/src/scenes/data-management/schema/PropertyTypeTag.tsx"),schemaManagementLogic=__webpack_require__("../../frontend/src/scenes/data-management/schema/schemaManagementLogic.ts");function EventRow(_ref){let{event}=_ref;return(0,jsx_runtime.jsx)("div",{className:"py-3 px-4 border-b last:border-b-0 bg-white",children:(0,jsx_runtime.jsx)(src.rU,{to:urls.j.eventDefinition(event.id),className:"font-semibold",children:event.name})})}function PropertyRow(_ref2){let{property}=_ref2;return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4 py-3 px-4 border-b last:border-b-0 bg-white",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(src.rU,{to:`${urls.j.propertyDefinitions()}?property=${encodeURIComponent(property.name)}`,className:"font-semibold",children:property.name})}),(0,jsx_runtime.jsx)("div",{className:"w-32",children:(0,jsx_runtime.jsx)(PropertyTypeTag.J,{propertyName:property.name,schemaPropertyType:property.property_type})}),(0,jsx_runtime.jsx)("div",{className:"w-24",children:property.is_required?(0,jsx_runtime.jsx)(src.oe,{type:"danger",children:"Required"}):(0,jsx_runtime.jsx)(src.oe,{type:"muted",children:"Optional"})}),(0,jsx_runtime.jsx)("div",{className:"flex-1 text-muted",children:property.description||"â€”"})]})}function SchemaManagement(){let{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),{filteredPropertyGroups,propertyGroupsLoading,searchTerm}=(0,index_esm.useValues)(schemaManagementLogic.z),{setSearchTerm,setPropertyGroupModalOpen,setEditingPropertyGroup,deletePropertyGroup}=(0,index_esm.useActions)(schemaManagementLogic.z);if(!featureFlags[constants.y8.SCHEMA_MANAGEMENT])return(0,jsx_runtime.jsx)(NotFound.T,{object:"page",caption:"Schema management is not available."});let columns=[{key:"expander",width:0},{title:"Name",key:"name",dataIndex:"name",render:name=>(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:name})},{title:"Description",key:"description",dataIndex:"description",render:description=>(0,jsx_runtime.jsx)("span",{className:"text-muted",children:description||"â€”"})},{title:"Properties",key:"property_count",width:120,render:(_,propertyGroup)=>(0,jsx_runtime.jsxs)(src.oe,{type:"default",children:[propertyGroup.properties?.length||0," ",propertyGroup.properties?.length===1?"property":"properties"]})},{key:"actions",width:100,render:(_,propertyGroup)=>(0,jsx_runtime.jsxs)("div",{className:"flex gap-1",children:[(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPencil,{}),size:"small",onClick:()=>{setEditingPropertyGroup(propertyGroup),setPropertyGroupModalOpen(!0)}}),(0,jsx_runtime.jsx)(src.Jp,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),size:"small",status:"danger",onClick:()=>{confirm(`Are you sure you want to delete "${propertyGroup.name}"? This action cannot be undone.`)&&deletePropertyGroup(propertyGroup.id)}})]})}];return(0,jsx_runtime.jsxs)(SceneContent._,{children:[(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:"Property Groups",description:"Define reusable property groups to establish schemas for your events.",resourceType:{type:"schema",forceIcon:(0,jsx_runtime.jsx)(posthog_icons_es.IconApps,{})}}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,jsx_runtime.jsx)(src.DF,{type:"search",placeholder:"Search property groups...",className:"max-w-60",value:searchTerm,onChange:setSearchTerm}),(0,jsx_runtime.jsx)(src.Jp,{type:"primary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{}),onClick:()=>{setEditingPropertyGroup(null),setPropertyGroupModalOpen(!0)},children:"New Property Group"})]}),(0,jsx_runtime.jsx)(LemonTable.g,{columns:columns,dataSource:filteredPropertyGroups,loading:propertyGroupsLoading,rowKey:"id",expandable:{expandedRowRender:propertyGroup=>(0,jsx_runtime.jsxs)("div",{className:"space-y-4 mx-4 mb-2 mt-2",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"Events"}),(0,jsx_runtime.jsx)("div",{className:"border rounded overflow-hidden",children:propertyGroup.events&&propertyGroup.events.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:"flex gap-4 py-2 px-4 bg-accent-3000 border-b text-xs font-semibold uppercase tracking-wider",children:(0,jsx_runtime.jsx)("div",{className:"flex-1",children:"Event Name"})}),propertyGroup.events.map(event=>(0,jsx_runtime.jsx)(EventRow,{event:event},event.id))]}):(0,jsx_runtime.jsx)("div",{className:"text-center text-muted py-4",children:"No events using this property group"})})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"Properties"}),(0,jsx_runtime.jsx)("div",{className:"border rounded overflow-hidden",children:propertyGroup.properties&&propertyGroup.properties.length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 py-2 px-4 bg-accent-3000 border-b text-xs font-semibold uppercase tracking-wider",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:"Property"}),(0,jsx_runtime.jsx)("div",{className:"w-32",children:"Type"}),(0,jsx_runtime.jsx)("div",{className:"w-24",children:"Required"}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:"Description"})]}),propertyGroup.properties.map(property=>(0,jsx_runtime.jsx)(PropertyRow,{property:property},property.id))]}):(0,jsx_runtime.jsx)("div",{className:"text-center text-muted py-4",children:"No properties defined"})})]})]}),rowExpandable:propertyGroup=>propertyGroup.events&&propertyGroup.events.length>0||propertyGroup.properties&&propertyGroup.properties.length>0},emptyState:"No property groups yet. Create one to get started!"})]}),(0,jsx_runtime.jsx)(PropertyGroupModal.l,{})]})}let DataManagementTab=function(DataManagementTab){return DataManagementTab.Actions="actions",DataManagementTab.EventDefinitions="events",DataManagementTab.PropertyDefinitions="properties",DataManagementTab.SchemaManagement="schema",DataManagementTab.Annotations="annotations",DataManagementTab.Comments="comments",DataManagementTab.History="history",DataManagementTab.IngestionWarnings="warnings",DataManagementTab.Revenue="revenue",DataManagementTab.MarketingAnalytics="marketing-analytics",DataManagementTab.DataWarehouseManagedViewsets="data-warehouse-managed-viewsets",DataManagementTab}({}),tabs={[DataManagementTab.EventDefinitions]:{url:urls.j.eventDefinitions(),label:"Event definitions",content:(0,jsx_runtime.jsx)(EventDefinitionsTable,{}),tooltipDocLink:"https://posthog.com/docs/data/events"},[DataManagementTab.Actions]:{url:urls.j.actions(),label:(0,jsx_runtime.jsx)(TitleWithIcon.H,{icon:(0,jsx_runtime.jsx)(Tooltip.u,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards.",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconInfo,{})}),children:"Actions"}),buttons:(0,jsx_runtime.jsx)(NewActionButton.O,{}),content:(0,jsx_runtime.jsx)(ActionsTable.f,{}),tooltipDocLink:"https://posthog.com/docs/data/actions"},[DataManagementTab.PropertyDefinitions]:{url:urls.j.propertyDefinitions(),label:(0,jsx_runtime.jsx)(TitleWithIcon.H,{icon:(0,jsx_runtime.jsx)(Tooltip.u,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them.",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconInfo,{})}),children:"Properties"}),content:(0,jsx_runtime.jsx)(PropertyDefinitionsTable_PropertyDefinitionsTable,{}),tooltipDocLink:"https://posthog.com/docs/new-to-posthog/understand-posthog#properties"},[DataManagementTab.SchemaManagement]:{url:urls.j.schemaManagement(),label:"Property Groups",content:(0,jsx_runtime.jsx)(SchemaManagement,{}),flag:constants.y8.SCHEMA_MANAGEMENT},[DataManagementTab.Annotations]:{url:urls.j.annotations(),content:(0,jsx_runtime.jsx)(Annotations,{}),label:"Annotations",buttons:(0,jsx_runtime.jsx)(AnnotationModal.i,{}),tooltipDocLink:"https://posthog.com/docs/data/annotations",children:{[urls.j.annotation(":id")]:{}}},[DataManagementTab.Comments]:{url:urls.j.comments(),content:(0,jsx_runtime.jsx)(Comments,{}),label:"Comments",buttons:void 0,tooltipDocLink:"https://posthog.com/docs/data/comments"},[DataManagementTab.History]:{url:urls.j.dataManagementHistory(),label:"History",content:(0,jsx_runtime.jsx)(ActivityLog.DA,{scope:types.jc.DATA_MANAGEMENT,caption:"Only actions taken in the UI are captured in History. Automatic creation of definitions by ingestion is not shown here."}),tooltipDocLink:"https://posthog.com/docs/data#history"},[DataManagementTab.Revenue]:{url:urls.j.revenueSettings(),label:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Revenue"," ",(0,jsx_runtime.jsx)(LemonTag.o,{type:"warning",size:"small",className:"ml-2",children:"BETA"})]}),content:(0,jsx_runtime.jsx)(RevenueAnalyticsSettings,{})},[DataManagementTab.IngestionWarnings]:{url:urls.j.ingestionWarnings(),label:"Ingestion warnings",content:(0,jsx_runtime.jsx)(IngestionWarningsView,{}),flag:constants.y8.INGESTION_WARNINGS_ENABLED,tooltipDocLink:"https://posthog.com/docs/data/ingestion-warnings"},[DataManagementTab.MarketingAnalytics]:{url:urls.j.marketingAnalytics(),label:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Marketing"," ",(0,jsx_runtime.jsx)(LemonTag.o,{type:"warning",size:"small",className:"ml-2",children:"BETA"})]}),content:(0,jsx_runtime.jsx)(MarketingAnalyticsSettings.U,{}),flag:constants.y8.WEB_ANALYTICS_MARKETING},[DataManagementTab.DataWarehouseManagedViewsets]:{url:urls.j.dataWarehouseManagedViewsets(),label:"Managed viewsets",content:(0,jsx_runtime.jsx)(DataWarehouseManagedViewsetsScene,{}),flag:constants.y8.MANAGED_VIEWSETS}},dataManagementSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","events","dataManagementSceneLogic"]),(0,index_esm.connect)(()=>({values:[featureFlagLogic.featureFlagLogic,["featureFlags"]]})),(0,index_esm.actions)({setTab:tab=>({tab})}),(0,index_esm.reducers)({tab:[DataManagementTab.EventDefinitions,{setTab:(_,_ref)=>{let{tab}=_ref;return tab}}]}),(0,index_esm.selectors)({breadcrumbs:[s=>[s.tab],tab=>{if(tab===DataManagementTab.EventDefinitions)return[{key:sceneTypes.x.EventDefinition,name:scenes.lc[sceneTypes.x.EventDefinition].name,path:urls.j.eventDefinitions(),iconType:scenes.lc[sceneTypes.x.EventDefinition].iconType||"default_icon_type"}];if(tab===DataManagementTab.Annotations)return[{key:sceneTypes.x.Annotations,name:scenes.lc[sceneTypes.x.Annotations].name,path:urls.j.annotations(),iconType:scenes.lc[sceneTypes.x.Annotations].iconType||"default_icon_type"}];if(tab===DataManagementTab.PropertyDefinitions)return[{key:sceneTypes.x.PropertyDefinition,name:scenes.lc[sceneTypes.x.PropertyDefinition].name,path:urls.j.propertyDefinitions(),iconType:scenes.lc[sceneTypes.x.PropertyDefinition].iconType||"default_icon_type"}];if(tab===DataManagementTab.Revenue)return[{key:sceneTypes.x.RevenueAnalytics,name:scenes.lc[sceneTypes.x.RevenueAnalytics].name,path:urls.j.revenueSettings(),iconType:scenes.lc[sceneTypes.x.RevenueAnalytics].iconType||"default_icon_type"}];if(tab===DataManagementTab.Comments)return[{key:sceneTypes.x.Comments,name:scenes.lc[sceneTypes.x.Comments].name,path:urls.j.comments(),iconType:scenes.lc[sceneTypes.x.Comments].iconType||"default_icon_type"}];else if(tab===DataManagementTab.IngestionWarnings)return[{key:sceneTypes.x.IngestionWarnings,name:scenes.lc[sceneTypes.x.IngestionWarnings].name,path:urls.j.ingestionWarnings(),iconType:scenes.lc[sceneTypes.x.IngestionWarnings].iconType||"default_icon_type"}];else if(tab===DataManagementTab.MarketingAnalytics)return[{key:sceneTypes.x.WebAnalyticsMarketing,name:scenes.lc[sceneTypes.x.WebAnalyticsMarketing].name,path:urls.j.marketingAnalytics(),iconType:scenes.lc[sceneTypes.x.WebAnalyticsMarketing].iconType||"default_icon_type"}];return[{key:tab,name:(0,utils.fm)(tab),path:tabs[tab].url,iconType:"event_definition"}]}],enabledTabs:[s=>[s.featureFlags],featureFlags=>Object.entries(tabs).filter(_ref2=>{let[_,tab]=_ref2;return!tab.flag||!!featureFlags[tab.flag]}).map(_ref3=>{let[tabName,_]=_ref3;return tabName})],[sidepanel_types.f]:[s=>[s.tab],tab=>{let currentScope={[DataManagementTab.EventDefinitions]:types.jc.EVENT_DEFINITION,[DataManagementTab.PropertyDefinitions]:types.jc.PROPERTY_DEFINITION,[DataManagementTab.Actions]:types.jc.ACTION}[tab];return currentScope?{activity_scope:currentScope}:null}]}),(0,lib.actionToUrl)(()=>({setTab:_ref4=>{let{tab}=_ref4,tabUrl=tabs[tab]?.url||tabs.events.url;if((0,lib.combineUrl)(tabUrl).pathname!==lib.router.values.location.pathname)return[tabUrl,lib.router.values.searchParams,lib.router.values.hashParams]}})),(0,lib.urlToAction)(_ref5=>{let{actions,values}=_ref5,mappings={};return Object.entries(tabs).forEach(_ref6=>{let[tabKey,tabConfig]=_ref6;mappings[tabConfig.url]=()=>{values.tab!==tabKey&&actions.setTab(tabKey)},tabConfig.children&&Object.keys(tabConfig.children).forEach(childUrl=>{mappings[childUrl]=()=>{values.tab!==tabKey&&actions.setTab(tabKey)}})}),mappings})]);function DataManagementScene(){let{enabledTabs,tab}=(0,index_esm.useValues)(dataManagementSceneLogic);return enabledTabs.includes(tab)?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:tabs[tab].content}):null}let scene={component:DataManagementScene,logic:dataManagementSceneLogic}},"../../frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>EventDefinitionProperties});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/types.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/constants.tsx"),lib_hooks_useOnMountEffect__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/hooks/useOnMountEffect.ts"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),scenes_organizationLogic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/organizationLogic.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_layout_scenes_components_SceneSection__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/layout/scenes/components/SceneSection.tsx"),_DefinitionHeader__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function EventDefinitionProperties(_ref){var _eventPropertiesCache,_eventPropertiesCache2,_eventPropertiesCache3;let{definition}=_ref,{loadPropertiesForEvent}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__.qh),{eventPropertiesCacheMap,eventDefinitionPropertiesLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__.qh),{hasTagging}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_organizationLogic__WEBPACK_IMPORTED_MODULE_8__.organizationLogic);(0,lib_hooks_useOnMountEffect__WEBPACK_IMPORTED_MODULE_5__.x)(()=>loadPropertiesForEvent(definition));let columns=[{title:"Property",key:"property",render:function Render(_,_definition){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_DefinitionHeader__WEBPACK_IMPORTED_MODULE_11__.JH,{definition:_definition,to:scenes_urls__WEBPACK_IMPORTED_MODULE_9__.j.propertyDefinition(_definition.id),taxonomicGroupType:lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_3__.t.EventProperties})}},{title:"Type",key:"type",render:function Render(_,_definition){var _definition$property_;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.oe,{type:"muted",children:null!==(_definition$property_=_definition.property_type)&&void 0!==_definition$property_?_definition$property_:"â€”"})}},...hasTagging?[{title:"Tags",key:"tags",render:function Render(_,_definition){var _definition$tags;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_2__.D,{tags:null!==(_definition$tags=_definition.tags)&&void 0!==_definition$tags?_definition$tags:[],staticOnly:!0})}}]:[],{title:"Example",key:"example",align:"right",render:function Render(_,_definition){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.oe,{className:"font-mono",type:"muted",children:void 0!==_definition.example?JSON.stringify(_definition.example):"â€”"})}}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(_layout_scenes_components_SceneSection__WEBPACK_IMPORTED_MODULE_10__.S,{title:"Top properties",description:"Please note that description and tags are shared across events. PostHog properties are excluded from this list.",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_6__.g,{id:`event-properties-definition-table-${definition.id}`,"data-attr":"event-properties-definition-nested-table",columns:columns,dataSource:null!==(_eventPropertiesCache=eventPropertiesCacheMap?.[definition.id]?.results)&&void 0!==_eventPropertiesCache?_eventPropertiesCache:[],emptyState:"This event has no properties",nouns:["property definition","property definitions"],pagination:{controlled:!0,pageSize:lib_constants__WEBPACK_IMPORTED_MODULE_4__.N6,currentPage:null!==(_eventPropertiesCache2=eventPropertiesCacheMap?.[definition.id]?.page)&&void 0!==_eventPropertiesCache2?_eventPropertiesCache2:1,entryCount:null!==(_eventPropertiesCache3=eventPropertiesCacheMap?.[definition.id]?.count)&&void 0!==_eventPropertiesCache3?_eventPropertiesCache3:0,onForward:eventPropertiesCacheMap?.[definition.id]?.next?()=>{loadPropertiesForEvent(definition,eventPropertiesCacheMap[definition.id].next)}:void 0,onBackward:eventPropertiesCacheMap?.[definition.id]?.previous?()=>{loadPropertiesForEvent(definition,eventPropertiesCacheMap[definition.id].previous)}:void 0},loading:eventDefinitionPropertiesLoading.includes(definition.id)})})}},"../../frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{oq:()=>normalizePropertyDefinitionEndpointUrl,qh:()=>eventDefinitionsTableLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_components_PropertyFilters_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/PropertyFilters/utils.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/constants.tsx"),lib_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/utils.tsx"),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/types.ts");let DEFAULT_FILTERS={event:"",properties:[],event_type:_types__WEBPACK_IMPORTED_MODULE_8__.uW.Event,ordering:"event",tags:void 0};function normalizePropertyDefinitionEndpointUrl(url){let searchParams=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},full=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return full||url?lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.propertyDefinitions.determineListEndpoint({...url?(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.combineUrl)(url).searchParams:{},...searchParams}):null}function normalizeEventDefinitionEndpointUrl(_ref){let{url,searchParams={},full=!1,eventTypeFilter=_types__WEBPACK_IMPORTED_MODULE_8__.uW.Event}=_ref;if(!full&&!url)return null;let params={...url?{...(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.combineUrl)(url).searchParams,event_type:eventTypeFilter}:{},...searchParams};return lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.eventDefinitions.determineListEndpoint(params)}let eventDefinitionsTableLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(key=>["scenes","data-management","events","eventDefinitionsTableLogic",key]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(props=>props.key||"scene"),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({loadEventDefinitions:function(){let url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{url}},loadEventExample:definition=>({definition}),loadPropertiesForEvent:function(definition){let url=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{definition,url}},setFilters:filters=>({filters}),setLocalEventDefinition:definition=>({definition}),setLocalPropertyDefinition:(event,definition)=>({event,definition}),setEventDefinitionPropertiesLoading:ids=>({ids})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({filters:[DEFAULT_FILTERS,{setFilters:(state,_ref2)=>{var _convertPropertyGroup;let{filters}=_ref2;return{...state,...filters,properties:null!==(_convertPropertyGroup=(0,lib_components_PropertyFilters_utils__WEBPACK_IMPORTED_MODULE_4__.Y4)(filters.properties))&&void 0!==_convertPropertyGroup?_convertPropertyGroup:[]}}}],eventDefinitionPropertiesLoading:[[],{setEventDefinitionPropertiesLoading:(_,_ref3)=>{let{ids}=_ref3;return null!=ids?ids:[]}}]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref4=>{let{values,cache,actions}=_ref4;return{eventDefinitions:[{count:0,next:void 0,current:void 0,previous:void 0,results:[]},{loadEventDefinitions:async(_ref5,breakpoint)=>{var _cache$apiCache,_combineUrl$searchPar;let{url:_url}=_ref5,url=_url;if(url||(url=lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.eventDefinitions.determineListEndpoint(values.paramsFromFilters)),url&&url in(null!==(_cache$apiCache=cache.apiCache)&&void 0!==_cache$apiCache?_cache$apiCache:{}))return cache.apiCache[url];await breakpoint(200),cache.eventsStartTime=performance.now();let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get(url);breakpoint();let result={...response,previous:normalizeEventDefinitionEndpointUrl({url:response.previous,eventTypeFilter:values.filters.event_type}),next:normalizeEventDefinitionEndpointUrl({url:response.next,eventTypeFilter:values.filters.event_type}),current:url,page:Math.floor((null!==(_combineUrl$searchPar=(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.combineUrl)(url).searchParams.offset)&&void 0!==_combineUrl$searchPar?_combineUrl$searchPar:0)/lib_constants__WEBPACK_IMPORTED_MODULE_5__.H$)+1};return cache.apiCache={...cache.apiCache,[url]:result},result},setLocalEventDefinition:_ref6=>{let{definition}=_ref6;if(!values.eventDefinitions.current)return values.eventDefinitions;let result={...values.eventDefinitions,results:values.eventDefinitions.results.map(d=>d.id===definition.id?definition:d)};return cache.apiCache={...cache.apiCache,[values.eventDefinitions.current]:result},result}}],eventPropertiesCacheMap:[{},{loadPropertiesForEvent:async(_ref7,breakpoint)=>{var _cache$apiCache2,_cache$apiCache3,_combineUrl$searchPar2,_await$api$get$result;let exampleEventProperties;let{definition,url}=_ref7;if(url&&url in(null!==(_cache$apiCache2=cache.apiCache)&&void 0!==_cache$apiCache2?_cache$apiCache2:{}))return{...values.eventPropertiesCacheMap,[definition.id]:cache.apiCache[url]};url||(url=lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.propertyDefinitions.determineListEndpoint({event_names:[definition.name],exclude_core_properties:!0,filter_by_event_names:!0,is_feature_flag:!1,limit:lib_constants__WEBPACK_IMPORTED_MODULE_5__.N6})),actions.setEventDefinitionPropertiesLoading(Array.from([...values.eventDefinitionPropertiesLoading,definition.id])),cache.propertiesStartTime=performance.now();let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get(url);breakpoint();let exampleUrl=lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.events.determineListEndpoint({event:definition.name},1);exampleUrl&&exampleUrl in(null!==(_cache$apiCache3=cache.apiCache)&&void 0!==_cache$apiCache3?_cache$apiCache3:{})?exampleEventProperties=cache.apiCache[exampleUrl]:(exampleEventProperties=null!==(_await$api$get$result=(await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get(exampleUrl))?.results?.[0].properties)&&void 0!==_await$api$get$result?_await$api$get$result:{},cache.apiCache={...cache.apiCache,[exampleUrl]:exampleEventProperties});let currentUrl=`${normalizePropertyDefinitionEndpointUrl(url)}`,propertyResult={count:response.count,previous:normalizePropertyDefinitionEndpointUrl(response.previous),next:normalizePropertyDefinitionEndpointUrl(response.next),current:currentUrl,page:Math.floor((null!==(_combineUrl$searchPar2=(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.combineUrl)(currentUrl).searchParams.offset)&&void 0!==_combineUrl$searchPar2?_combineUrl$searchPar2:0)/lib_constants__WEBPACK_IMPORTED_MODULE_5__.N6)+1,results:response.results.map(prop=>({...prop,example:exampleEventProperties?.[prop.name]?.toString()}))};return cache.apiCache={...cache.apiCache,[currentUrl]:propertyResult},actions.setEventDefinitionPropertiesLoading(values.eventDefinitionPropertiesLoading.filter(loadingId=>loadingId!=definition.id)),{...values.eventPropertiesCacheMap,[definition.id]:propertyResult}},setLocalPropertyDefinition:_ref8=>{let{event,definition}=_ref8;if(!values.eventPropertiesCacheMap?.[event.id]?.current)return values.eventPropertiesCacheMap;let eventCacheKey=values.eventPropertiesCacheMap[event.id].current,updatedProperties={...values.eventPropertiesCacheMap[event.id],results:values.eventPropertiesCacheMap[event.id].results.map(p=>p.id===definition.id?definition:p)};return cache.apiCache={...cache.apiCache,[eventCacheKey]:updatedProperties},{...values.eventPropertiesCacheMap,[event.id]:updatedProperties}}}]}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)(()=>({paramsFromFilters:[s=>[s.filters],filters=>{let params={search:filters.event,ordering:filters.ordering,event_type:filters.event_type};return filters.tags&&filters.tags.length>0&&(params.tags=JSON.stringify(filters.tags)),params}]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref9=>{let{actions,values,cache}=_ref9;return{setFilters:async()=>{actions.loadEventDefinitions()},loadEventDefinitionsSuccess:()=>{void 0!==cache.eventsStartTime&&(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_7__.vx.findMounted()?.actions.reportDataManagementEventDefinitionsPageLoadSucceeded(performance.now()-cache.eventsStartTime,values.eventDefinitions.results.length),cache.eventsStartTime=void 0)},loadEventDefinitionsFailure:_ref10=>{let{error}=_ref10;void 0!==cache.eventsStartTime&&(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_7__.vx.findMounted()?.actions.reportDataManagementEventDefinitionsPageLoadFailed(performance.now()-cache.eventsStartTime,null!=error?error:"There was an unknown error fetching event definitions."),cache.eventsStartTime=void 0)},loadPropertiesForEventSuccess:()=>{void 0!==cache.propertiesStartTime&&(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_7__.vx.findMounted()?.actions.reportDataManagementEventDefinitionsPageNestedPropertiesLoadSucceeded(performance.now()-cache.propertiesStartTime),cache.propertiesStartTime=void 0)},loadPropertiesForEventFailure:_ref11=>{let{error}=_ref11;void 0!==cache.propertiesStartTime&&(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_7__.vx.findMounted()?.actions.reportDataManagementEventDefinitionsPageNestedPropertiesLoadFailed(performance.now()-cache.propertiesStartTime,null!=error?error:"There was an unknown error fetching nested property definitions."),cache.propertiesStartTime=void 0)}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.urlToAction)(_ref12=>{let{actions}=_ref12;return{"/data-management/events":(_,searchParams)=>{let{event,event_type,ordering,tags}=searchParams,filtersFromUrl={...DEFAULT_FILTERS,...void 0!==event&&{event},...void 0!==event_type&&{event_type},...void 0!==ordering&&{ordering},...void 0!==(0,lib_utils__WEBPACK_IMPORTED_MODULE_6__.Fq)(tags)&&{tags:(0,lib_utils__WEBPACK_IMPORTED_MODULE_6__.Fq)(tags)}};actions.setFilters(filtersFromUrl)}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.actionToUrl)(_ref13=>{let{values}=_ref13;return{setFilters:()=>[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,values.filters]}})])},"../../frontend/src/scenes/data-management/managed-viewsets/DataWarehouseManagedViewsetCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>DataWarehouseManagedViewsetCard});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),AccessControlAction=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),teamLogic=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),types=__webpack_require__("../../frontend/src/types.ts"),lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("../../frontend/src/lib/api.ts"),LemonToast=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/index.ts"),disableDataWarehouseManagedViewsetModalLogic=__webpack_require__("../../frontend/src/scenes/data-management/managed-viewsets/disableDataWarehouseManagedViewsetModalLogic.ts");let dataWarehouseManagedViewsetsLogic=(0,index_esm.kea)([(0,index_esm.props)({type:"root"}),(0,index_esm.key)(_ref=>{let{type}=_ref;return`dataWarehouseManagedViewsetsLogic-${type}`}),(0,index_esm.path)(key=>["scenes","data-management","managed-viewsets",key]),(0,index_esm.connect)(props=>({values:[teamLogic.teamLogic,["currentTeam"]],actions:[teamLogic.teamLogic,["loadCurrentTeam"],(0,disableDataWarehouseManagedViewsetModalLogic.M)({type:props.type}),["openModal"]]})),(0,index_esm.actions)({toggleViewset:(kind,enabled)=>({kind,enabled})}),(0,index_esm.reducers)({togglingViewset:[null,{toggleViewset:(_,_ref2)=>{let{kind}=_ref2;return kind}}]}),(0,lib.loaders)(_ref3=>{let{actions}=_ref3;return{toggleResult:[null,{toggleViewset:async _ref4=>{let{kind,enabled}=_ref4;if(!enabled){actions.openModal(kind);return}try{await api.ZP.dataWarehouseManagedViewsets.toggle(kind,!0),LemonToast.U.success("Viewset enabled successfully"),actions.loadCurrentTeam()}catch(error){throw LemonToast.U.error(`Failed to enable viewset: ${error.message||"Unknown error"}`),error}}}]}})]);var jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let VIEWSET_DESCRIPTIONS={revenue_analytics:{title:"Revenue Analytics",description:"Track and analyze revenue data from your payment providers and custom events. Automatically creates optimized views for revenue metrics, trends, and customer lifetime value.",docsUrl:"https://posthog.com/docs/revenue-analytics",configUrl:"/data-management/revenue",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPiggyBank,{className:"text-xl"})}};function DataWarehouseManagedViewsetCard(_ref){let{type,kind,resourceType,displayDocsLink=!0,displayConfigLink=!0}=_ref,{currentTeam}=(0,index_esm.useValues)(teamLogic.teamLogic),{toggleViewset}=(0,index_esm.useActions)(dataWarehouseManagedViewsetsLogic({type})),{togglingViewset,toggleResultLoading}=(0,index_esm.useValues)(dataWarehouseManagedViewsetsLogic({type})),{title,description,docsUrl,configUrl,icon}=VIEWSET_DESCRIPTIONS[kind],isEnabled=currentTeam.managed_viewsets[kind];return(0,jsx_runtime.jsx)("div",{className:"border rounded p-4",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[icon,(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-lg mb-0",children:title})]}),(0,jsx_runtime.jsx)("p",{className:"text-muted mb-2",children:description}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[displayConfigLink&&(0,jsx_runtime.jsx)(src.rU,{to:configUrl,className:"text-sm",children:"Configure"}),displayDocsLink&&displayConfigLink&&(0,jsx_runtime.jsx)("span",{children:"|"}),displayDocsLink&&(0,jsx_runtime.jsx)(src.rU,{to:docsUrl,target:"_blank",className:"text-sm",children:"Learn more in the docs"})]})]}),(0,jsx_runtime.jsx)(AccessControlAction.b,{resourceType:resourceType,minAccessLevel:types.W$.Editor,children:(0,jsx_runtime.jsx)(src.f4,{checked:isEnabled,onChange:enabled=>toggleViewset(kind,enabled),disabled:togglingViewset===kind&&toggleResultLoading,label:isEnabled?"Enabled":"Disabled",bordered:!0})})]})})}},"../../frontend/src/scenes/data-management/properties/propertyDefinitionsTableLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>propertyDefinitionsTableLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/constants.tsx"),lib_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/utils.tsx"),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/utils/eventUsageLogic.ts"),scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_models_groupsModel__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/models/groupsModel.ts");function cleanFilters(filter){return{property:"",type:"event",group_type_index:null,...filter}}function removeDefaults(filter){return{property:""!==filter.property?filter.property:void 0,type:"event"!==filter.type?filter.type:void 0,group_type_index:null!==filter.group_type_index?filter.group_type_index:void 0}}let propertyDefinitionsTableLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","data-management","properties","propertyDefinitionsTableLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(props=>props.key||"scene"),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[_models_groupsModel__WEBPACK_IMPORTED_MODULE_9__.$,["groupTypes","aggregationLabel"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({loadPropertyDefinitions:function(){let url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{url}},setFilters:filters=>({filters}),setHoveredDefinition:definitionKey=>({definitionKey}),setOpenedDefinition:id=>({id}),setLocalPropertyDefinition:definition=>({definition}),setPropertyType:propertyType=>({propertyType})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({filters:[{property:"",type:"event"},{setFilters:(state,_ref)=>{let{filters}=_ref;return{...state,...filters}}}],hoveredDefinition:[null,{setHoveredDefinition:(_,_ref2)=>{let{definitionKey}=_ref2;return definitionKey}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({propertyTypeOptions:[s=>[s.groupTypes,s.aggregationLabel],(groupTypes,aggregationLabel)=>[{label:"Event properties",value:"event::"},{label:"Person properties",value:"person::"}].concat(Array.from(groupTypes.values()).map(type=>({label:`${(0,lib_utils__WEBPACK_IMPORTED_MODULE_5__.fm)(aggregationLabel(type.group_type_index).singular)} properties`,value:`group::${type.group_type_index}`})))]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref3=>{let{values,cache}=_ref3;return{propertyDefinitions:[{count:0,next:void 0,current:void 0,previous:void 0,results:[]},{loadPropertyDefinitions:async(_ref4,breakpoint)=>{var _cache$apiCache,_combineUrl$searchPar;let{url}=_ref4;if(url&&url in(null!==(_cache$apiCache=cache.apiCache)&&void 0!==_cache$apiCache?_cache$apiCache:{}))return cache.apiCache[url];url||(url=lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.propertyDefinitions.determineListEndpoint({})),cache.propertiesStartTime=performance.now(),await breakpoint(200);let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get(url);breakpoint();let currentUrl=`${(0,scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__.oq)(url)}`;return cache.apiCache={...cache.apiCache,[currentUrl]:{...response,previous:(0,scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__.oq)(response.previous),next:(0,scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__.oq)(response.next),current:currentUrl,page:Math.floor((null!==(_combineUrl$searchPar=(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.combineUrl)(url).searchParams.offset)&&void 0!==_combineUrl$searchPar?_combineUrl$searchPar:0)/lib_constants__WEBPACK_IMPORTED_MODULE_4__.ld)+1}},cache.apiCache[url]},setLocalPropertyDefinition:_ref5=>{let{definition}=_ref5;return values.propertyDefinitions.current?(cache.apiCache={...cache.apiCache,[values.propertyDefinitions.current]:{...values.propertyDefinitions,results:values.propertyDefinitions.results.map(d=>d.id===definition.id?definition:d)}},cache.apiCache[values.propertyDefinitions.current]):values.propertyDefinitions}}]}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref6=>{let{actions,values,cache}=_ref6;return{setFilters:async(_,breakpoint)=>{await breakpoint(500),actions.loadPropertyDefinitions((0,scenes_data_management_events_eventDefinitionsTableLogic__WEBPACK_IMPORTED_MODULE_7__.oq)(values.propertyDefinitions.current,{offset:0,search:values.filters.property,type:values.filters.type,group_type_index:values.filters.group_type_index},!0))},loadPropertyDefinitionsSuccess:()=>{void 0!==cache.propertiesStartTime&&(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_6__.vx.findMounted()?.actions.reportDataManagementEventPropertyDefinitionsPageLoadSucceeded(performance.now()-cache.propertiesStartTime,values.propertyDefinitions.results.length),cache.propertiesStartTime=void 0)},loadPropertyDefinitionsFailure:_ref7=>{let{error}=_ref7;void 0!==cache.propertiesStartTime&&(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_6__.vx.findMounted()?.actions.reportDataManagementEventPropertyDefinitionsPageLoadFailed(performance.now()-cache.propertiesStartTime,null!=error?error:"There was an unknown error fetching property definitions."),cache.propertiesStartTime=void 0)},setPropertyType:_ref8=>{let{propertyType}=_ref8,[type,index]=propertyType.split("::");actions.setFilters({type:type,group_type_index:index?+index:null})}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.urlToAction)(_ref9=>{let{actions,values}=_ref9;return{[scenes_urls__WEBPACK_IMPORTED_MODULE_8__.j.propertyDefinitions()]:(_,searchParams)=>{!values.propertyDefinitionsLoading&&((0,lib_utils__WEBPACK_IMPORTED_MODULE_5__.h0)(cleanFilters(values.filters),cleanFilters(kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams))?values.propertyDefinitions.results.length||actions.loadPropertyDefinitions():actions.setFilters(searchParams))}}}),(0,kea_router__WEBPACK_IMPORTED_MODULE_2__.actionToUrl)(_ref10=>{let{values}=_ref10;return{setFilters:()=>{let nextValues=cleanFilters(values.filters),urlValues=cleanFilters(kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.searchParams);if(!(0,lib_utils__WEBPACK_IMPORTED_MODULE_5__.h0)(nextValues,urlValues))return[kea_router__WEBPACK_IMPORTED_MODULE_2__.router.values.location.pathname,removeDefaults(nextValues)]}}})])},"../../frontend/src/scenes/data-management/schema/PropertyGroupModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{l:()=>PropertyGroupModal});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.7_react@18.2.0_/node_modules/kea-forms/lib/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),_schemaManagementLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/data-management/schema/schemaManagementLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function isValidPropertyName(name){return!!(name&&name.trim())&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(name.trim())}function PropertyGroupModal(){let{logicKey,onAfterSave}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},logic=(0,_schemaManagementLogic__WEBPACK_IMPORTED_MODULE_6__.z)({key:logicKey||"default"}),{propertyGroupModalOpen,editingPropertyGroup,propertyGroupForm,isPropertyGroupFormSubmitting,propertyGroupFormValidationError}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(logic),{setPropertyGroupModalOpen,addPropertyToForm,updatePropertyInForm,removePropertyFromForm,submitPropertyGroupForm}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(logic),handleClose=()=>{setPropertyGroupModalOpen(!1)},handleAfterSubmit=async()=>{await onAfterSave?.()},columns=[{title:"Name",key:"name",render:(_,property,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.DF,{value:property.name,onChange:value=>updatePropertyInForm(index,{name:value}),placeholder:"Property name",status:isValidPropertyName(property.name)?void 0:"danger",fullWidth:!0})},{title:"Type",key:"property_type",width:150,render:(_,property,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Yv,{value:property.property_type,onChange:value=>updatePropertyInForm(index,{property_type:value}),options:_schemaManagementLogic__WEBPACK_IMPORTED_MODULE_6__.C,fullWidth:!0})},{title:"Required",key:"is_required",width:100,align:"center",render:(_,property,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"flex justify-center items-center cursor-pointer h-full py-2 -my-2",onClick:()=>updatePropertyInForm(index,{is_required:!property.is_required}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Hw,{checked:property.is_required,onChange:checked=>updatePropertyInForm(index,{is_required:checked})})})},{title:"Description",key:"description",render:(_,property,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.DF,{value:property.description,onChange:value=>updatePropertyInForm(index,{description:value}),placeholder:"Optional description",fullWidth:!0})},{key:"actions",width:50,render:(_,_property,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Jp,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconTrash,{}),size:"small",onClick:()=>removePropertyFromForm(index)})}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.fQ,{isOpen:propertyGroupModalOpen,onClose:handleClose,title:editingPropertyGroup?"Edit Property Group":"New Property Group",width:900,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(kea_forms__WEBPACK_IMPORTED_MODULE_1__.Form,{logic:_schemaManagementLogic__WEBPACK_IMPORTED_MODULE_6__.z,props:{key:logicKey||"default"},formKey:"propertyGroupForm",enableFormOnSubmit:!0,className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_4__.D,{name:"name",label:"Name",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.DF,{placeholder:"e.g., Order, Product, User",autoFocus:!0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_4__.D,{name:"description",label:"Description",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__._V,{placeholder:"Describe what this property group represents",rows:2})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"border-t pt-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("h3",{className:"text-base font-semibold mb-0",children:"Properties"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Jp,{type:"secondary",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconPlus,{}),size:"small",onClick:addPropertyToForm,children:"Add property"})]}),propertyGroupForm.properties.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_5__.g,{columns:columns,dataSource:propertyGroupForm.properties,pagination:void 0}),propertyGroupFormValidationError&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"text-danger text-sm mt-2",children:propertyGroupFormValidationError})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{className:"text-center text-muted py-6",children:'No properties yet. Click "Add property" to get started.'})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Jp,{type:"secondary",onClick:handleClose,children:"Cancel"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Jp,{type:"primary",htmlType:"submit",loading:isPropertyGroupFormSubmitting,disabledReason:propertyGroupFormValidationError||void 0,onClick:async()=>{await submitPropertyGroupForm(),await handleAfterSubmit()},children:editingPropertyGroup?"Update":"Create"})]})]})})}},"../../frontend/src/scenes/data-management/schema/PropertyTypeTag.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>PropertyTypeTag});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),_models_propertyDefinitionsModel__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/models/propertyDefinitionsModel.ts"),_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function PropertyTypeTag(_ref){let{propertyName,schemaPropertyType}=_ref,{getPropertyDefinition}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_models_propertyDefinitionsModel__WEBPACK_IMPORTED_MODULE_3__.IP),propertyDefinition=getPropertyDefinition(propertyName,_types__WEBPACK_IMPORTED_MODULE_4__.ll.Event),hasTypeMismatch=propertyDefinition&&propertyDefinition.property_type&&propertyDefinition.property_type!==schemaPropertyType&&("Object"!==schemaPropertyType||"String"!==propertyDefinition.property_type);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.oe,{type:"muted",children:schemaPropertyType}),hasTypeMismatch&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.u,{title:(()=>{if(!propertyDefinition?.property_type)return"";let baseMessage=`Type mismatch: Property management defines this as ${propertyDefinition.property_type}.`;return"Object"===schemaPropertyType?`${baseMessage} Objects expect String type in property management, as they are stored with JSON.stringify`:baseMessage})(),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconWarning,{className:"text-warning text-base"})})]})}},"../../frontend/src/scenes/data-management/schema/schemaManagementLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>PROPERTY_TYPE_OPTIONS,z:()=>schemaManagementLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.7_react@18.2.0_/node_modules/kea-forms/lib/index.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/index.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx");let PROPERTY_TYPE_OPTIONS=[{value:"String",label:"String"},{value:"Numeric",label:"Numeric"},{value:"Boolean",label:"Boolean"},{value:"DateTime",label:"DateTime"},{value:"Object",label:"Object"}];function getErrorMessage(error,defaultMessage){if(error.name)return error.name;if(error.properties)return error.properties;if(error.detail){let detail=error.detail;if("string"==typeof detail&&detail.includes("unique_property_group_property_name")){let nameMatch=detail.match(/\(property_group_id, name\)=\([^,]+, ([^)]+)\)/);return nameMatch?`A property named "${nameMatch[1]}" already exists in this group`:"A property with this name already exists in this group"}if("string"==typeof detail&&detail.includes("unique_property_group_name")){let nameMatch=detail.match(/\(team_id, name\)=\([^,]+, ([^)]+)\)/);return nameMatch?`A property group named "${nameMatch[1]}" already exists`:"A property group with this name already exists"}if("string"==typeof detail&&!detail.includes("IntegrityError")&&!detail.includes("Key ("))return detail}return error.message&&!error.message.includes("IntegrityError")?error.message:defaultMessage}let schemaManagementLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","data-management","schema","schemaManagementLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(props=>props.key||"default"),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)({values:[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__.teamLogic,["currentTeamId"]]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setSearchTerm:searchTerm=>({searchTerm}),setPropertyGroupModalOpen:open=>({open}),setEditingPropertyGroup:propertyGroup=>({propertyGroup}),deletePropertyGroup:id=>({id}),addPropertyToForm:!0,updatePropertyInForm:(index,updates)=>({index,updates}),removePropertyFromForm:index=>({index})}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_2__.loaders)(_ref=>{let{values}=_ref;return{propertyGroups:[[],{loadPropertyGroups:async()=>{let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get("api/projects/@current/schema_property_groups/");return response.results||response||[]},createPropertyGroup:async data=>{try{let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.create("api/projects/@current/schema_property_groups/",data);return lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.success("Property group created"),[response,...values.propertyGroups]}catch(error){let errorMessage=getErrorMessage(error,"Failed to create property group");throw lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.error(errorMessage),Error(errorMessage)}},updatePropertyGroup:async _ref2=>{let{id,data}=_ref2;try{let response=await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.update(`api/projects/@current/schema_property_groups/${id}/`,data);return lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.success("Property group updated"),values.propertyGroups.map(pg=>pg.id===id?response:pg)}catch(error){let errorMessage=getErrorMessage(error,"Failed to update property group");throw lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.error(errorMessage),Error(errorMessage)}}}]}}),(0,kea_forms__WEBPACK_IMPORTED_MODULE_1__.forms)(_ref3=>{let{actions,values}=_ref3;return{propertyGroupForm:{options:{showErrorsOnTouch:!0},defaults:{name:"",description:"",properties:[]},errors:_ref4=>{let{name}=_ref4;return{name:name?.trim()?void 0:"Property group name is required"}},submit:async formValues=>{let validationError=values.propertyGroupFormValidationError;if(validationError)throw lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.error(validationError),Error(validationError);let data={name:formValues.name,description:formValues.description,properties:formValues.properties.map(p=>({...p,name:p.name.trim()}))};try{values.editingPropertyGroup?await actions.updatePropertyGroup({id:values.editingPropertyGroup.id,data}):await actions.createPropertyGroup(data),actions.setPropertyGroupModalOpen(!1)}catch(error){throw error}}}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({searchTerm:["",{setSearchTerm:(_,_ref5)=>{let{searchTerm}=_ref5;return searchTerm}}],propertyGroupModalOpen:[!1,{setPropertyGroupModalOpen:(_,_ref6)=>{let{open}=_ref6;return open}}],editingPropertyGroup:[null,{setEditingPropertyGroup:(_,_ref7)=>{let{propertyGroup}=_ref7;return propertyGroup},setPropertyGroupModalOpen:(state,_ref8)=>{let{open}=_ref8;return open?state:null}}],propertyGroupForm:[{name:"",description:"",properties:[]},{addPropertyToForm:state=>({...state,properties:[...state.properties,{id:`new-${Date.now()}`,name:"",property_type:"String",is_required:!1,description:""}]}),updatePropertyInForm:(state,_ref9)=>{let{index,updates}=_ref9;return{...state,properties:state.properties.map((prop,i)=>i===index?{...prop,...updates}:prop)}},removePropertyFromForm:(state,_ref10)=>{let{index}=_ref10;return{...state,properties:state.properties.filter((_,i)=>i!==index)}},setEditingPropertyGroup:(_,_ref11)=>{let{propertyGroup}=_ref11;return{name:propertyGroup?.name||"",description:propertyGroup?.description||"",properties:propertyGroup?.properties||[]}},setPropertyGroupModalOpen:(state,_ref12)=>{let{open}=_ref12;return open?state:{name:"",description:"",properties:[]}}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({filteredPropertyGroups:[s=>[s.propertyGroups,s.searchTerm],(propertyGroups,searchTerm)=>{if(!searchTerm)return propertyGroups;let lowerSearchTerm=searchTerm.toLowerCase();return propertyGroups.filter(pg=>pg.name.toLowerCase().includes(lowerSearchTerm)||pg.description.toLowerCase().includes(lowerSearchTerm)||pg.properties.some(prop=>prop.name.toLowerCase().includes(lowerSearchTerm)))}],propertyGroupFormValidationError:[s=>[s.propertyGroupForm],form=>0===form.properties.length?null:form.properties.filter(prop=>!prop.name||!prop.name.trim()).length>0?"All properties must have a name":form.properties.filter(prop=>prop.name&&prop.name.trim()&&!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(prop.name.trim())).length>0?"Property names must start with a letter or underscore and contain only letters, numbers, and underscores":null]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref13=>{let{actions}=_ref13;return{deletePropertyGroup:async _ref14=>{let{id}=_ref14;try{await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.delete(`api/projects/@current/schema_property_groups/${id}/`),actions.loadPropertyGroups(),lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.success("Property group deleted")}catch(error){let errorMessage=getErrorMessage(error,"Failed to delete property group");lib_lemon_ui_LemonToast__WEBPACK_IMPORTED_MODULE_4__.U.error(errorMessage)}}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)(_ref15=>{let{actions}=_ref15;actions.loadPropertyGroups()})])},"../../products/actions/frontend/components/ActionsTable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>ActionsTable});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/More.tsx"),lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/index.ts"),lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTable/columnUtils.tsx"),lib_lemon_ui_LemonToast_LemonToast__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/LemonToast.tsx"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../../frontend/src/lib/lemon-ui/icons/index.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../../frontend/src/lib/utils.tsx"),lib_utils_deleteWithUndo__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../../frontend/src/lib/utils/deleteWithUndo.tsx"),lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../../frontend/src/lib/utils/product-intents.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../../frontend/src/scenes/urls.ts"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),_models_actionsModel__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../../frontend/src/models/actionsModel.ts"),_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),_types__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../../frontend/src/types.ts"),_logics_actionsLogic__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../../products/actions/frontend/logics/actionsLogic.ts"),_NewActionButton__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../../products/actions/frontend/components/NewActionButton.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ActionsTable(){let{currentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_18__.teamLogic),{actionsLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)((0,_models_actionsModel__WEBPACK_IMPORTED_MODULE_21__.D)({params:"include_count=1"})),{loadActions,pinAction,unpinAction}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(_models_actionsModel__WEBPACK_IMPORTED_MODULE_21__.D),{addProductIntentForCrossSell}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_18__.teamLogic),{filterType,searchTerm,actionsFiltered,shouldShowEmptyState}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(_logics_actionsLogic__WEBPACK_IMPORTED_MODULE_24__.M),{setFilterType,setSearchTerm}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(_logics_actionsLogic__WEBPACK_IMPORTED_MODULE_24__.M),{hasAvailableFeature}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_20__.userLogic),{updateHasSeenProductIntroFor}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_20__.userLogic),tryInInsightsUrl=action=>{let query={kind:_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_22__.OH.InsightVizNode,source:{kind:_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_22__.OH.TrendsQuery,series:[{id:action.id,name:action.name||void 0,kind:_queries_schema_schema_general__WEBPACK_IMPORTED_MODULE_22__.OH.ActionsNode}],interval:"day",trendsFilter:{display:_types__WEBPACK_IMPORTED_MODULE_23__.Qb.ActionsLineGraph}}};return scenes_urls__WEBPACK_IMPORTED_MODULE_19__.j.insightNew({query})},columns=[{width:0,title:"Pinned",dataIndex:"pinned_at",sorter:(a,b)=>(b.pinned_at?new Date(b.pinned_at).getTime():0)-(a.pinned_at?new Date(a.pinned_at).getTime():0),render:function Render(pinned,action){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{size:"small",onClick:pinned?()=>unpinAction(action):()=>pinAction(action),tooltip:pinned?"Unpin action":"Pin action",icon:pinned?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconPinFilled,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconPin,{})})}},{title:"Name",dataIndex:"name",width:"25%",sorter:(a,b)=>(a.name||"").localeCompare(b.name||""),render:function RenderName(_,action,index){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonTable_LemonTableLink__WEBPACK_IMPORTED_MODULE_11__.i,{"data-attr":"action-link-"+index,to:scenes_urls__WEBPACK_IMPORTED_MODULE_19__.j.action(action.id),title:action.name||(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("i",{children:"Unnamed"}),description:action.description})}},{title:"Type",key:"type",render:function RenderType(_,action){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("span",{children:action.steps?.length?action.steps.map((step,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("div",{children:(()=>{let url=(0,lib_utils__WEBPACK_IMPORTED_MODULE_15__.VV)(step.url||"");switch(url=url.slice(0,40)+(url.length>40?"...":""),step.event){case"$autocapture":return"Autocapture";case"$pageview":switch(step.url_matching){case"regex":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:["Page view URL matches regex ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("strong",{children:url})]});case"exact":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:["Page view URL matches exactly ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("strong",{children:url})]});default:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:["Page view URL contains ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("strong",{children:url})]})}case"":case null:case void 0:return"Any event";default:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:["Event: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("strong",{children:step.event})]})}})()},index)):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)("i",{children:"Empty â€“ set this action up"})})}},...hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_23__.P$.TAGGING)?[{title:"Tags",dataIndex:"tags",width:250,key:"tags",render:function renderTags(tags){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_components_ObjectTags_ObjectTags__WEBPACK_IMPORTED_MODULE_5__.D,{tags:tags,staticOnly:!0})}}]:[],(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_12__.JB)(),(0,lib_lemon_ui_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_12__.rw)(),...currentTeam?.slack_incoming_webhook?[{title:"Webhook",dataIndex:"post_to_slack",sorter:(a,b)=>Number(a.post_to_slack)-Number(b.post_to_slack),render:function RenderActions(post_to_slack){return post_to_slack?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_1__.IconCheckCircle,{}):null}}]:[],{width:0,render:function RenderActions(_,action){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton_More__WEBPACK_IMPORTED_MODULE_8__.T,{overlay:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.b,{resourceType:_types__WEBPACK_IMPORTED_MODULE_23__.qR.Action,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_23__.W$.Editor,userAccessLevel:action.user_access_level,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_19__.j.action(action.id),fullWidth:!0,children:"Edit"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_19__.j.duplicateAction(action),fullWidth:!0,children:"Duplicate"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{to:scenes_urls__WEBPACK_IMPORTED_MODULE_19__.j.replay(_types__WEBPACK_IMPORTED_MODULE_23__.yd.Home,{filter_group:{type:_types__WEBPACK_IMPORTED_MODULE_23__.J2.And,values:[{type:_types__WEBPACK_IMPORTED_MODULE_23__.J2.And,values:[{id:action.id,type:"actions",order:0,name:action.name}]}]}}),onClick:()=>{addProductIntentForCrossSell({from:_types__WEBPACK_IMPORTED_MODULE_23__.Md.ACTIONS,to:_types__WEBPACK_IMPORTED_MODULE_23__.Md.SESSION_REPLAY,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_17__.kp.ACTION_VIEW_RECORDINGS})},sideIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_14__.Ud,{}),fullWidth:!0,"data-attr":"action-table-view-recordings",targetBlank:!0,children:"View recordings"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{to:tryInInsightsUrl(action),fullWidth:!0,targetBlank:!0,children:"Try out in Insights"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_9__.p,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.b,{resourceType:_types__WEBPACK_IMPORTED_MODULE_23__.qR.Action,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_23__.W$.Editor,userAccessLevel:action.user_access_level,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{status:"danger",onClick:()=>{(0,lib_utils_deleteWithUndo__WEBPACK_IMPORTED_MODULE_16__.S)({endpoint:lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.actions.determineDeleteEndpoint(),object:action,callback:loadActions}).catch(e=>{lib_lemon_ui_LemonToast_LemonToast__WEBPACK_IMPORTED_MODULE_13__.UJ.error(`Error deleting action: ${e.detail}`)})},fullWidth:!0,children:"Delete action"})})]})})}}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)("div",{"data-attr":"manage-events-table",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_6__.C,{productName:"Actions",productKey:_types__WEBPACK_IMPORTED_MODULE_23__.Md.ACTIONS,thingName:"action",isEmpty:shouldShowEmptyState,description:"Use actions to combine events that you want to have tracked together or to make detailed Autocapture events easier to reuse.",docsURL:"https://posthog.com/docs/data/actions",actionElementOverride:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_NewActionButton__WEBPACK_IMPORTED_MODULE_25__.O,{onSelectOption:()=>updateHasSeenProductIntroFor(_types__WEBPACK_IMPORTED_MODULE_23__.Md.ACTIONS)})}),shouldShowEmptyState&&"me"===filterType||!shouldShowEmptyState?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.DF,{type:"search",placeholder:"Search for actions",onChange:setSearchTerm,value:searchTerm}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_2__.P4,{value:filterType,onChange:setFilterType,options:[{value:"all",label:"All actions"},{value:"me",label:"My actions"}]})]}):null,(!shouldShowEmptyState||"me"===filterType)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_26__.jsx)(lib_lemon_ui_LemonTable__WEBPACK_IMPORTED_MODULE_10__.g,{columns:columns,loading:actionsLoading,rowKey:"id",pagination:{pageSize:100},"data-attr":"actions-table",dataSource:actionsFiltered,defaultSorting:{columnKey:"created_by",order:-1},emptyState:"No results. Create a new action?"})})]})}},"../../products/actions/frontend/components/NewActionButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>NewActionButton});var kea_router__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/AccessControlAction.tsx"),lib_components_AuthorizedUrlList_AuthorizedUrlList__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"),lib_components_AuthorizedUrlList_authorizedUrlListLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),scenes_urls__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function NewActionButton(_ref){let{onSelectOption}=_ref,[visible,setVisible]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[appUrlsVisible,setAppUrlsVisible]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_components_AccessControlAction__WEBPACK_IMPORTED_MODULE_4__.b,{resourceType:_types__WEBPACK_IMPORTED_MODULE_9__.qR.Action,minAccessLevel:_types__WEBPACK_IMPORTED_MODULE_9__.W$.Editor,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{size:"small",type:"primary",onClick:()=>setVisible(!0),"data-attr":"create-action",children:"New action"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.fQ,{isOpen:visible,onClose:()=>{setVisible(!1),setAppUrlsVisible(!1)},title:"Create new action",footer:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[appUrlsVisible&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{type:"secondary",onClick:()=>setAppUrlsVisible(!1),children:"Back"},"back-button"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{type:"secondary",onClick:()=>{setVisible(!1),setAppUrlsVisible(!1)},children:"Cancel"},"cancel-button")]}),children:appUrlsVisible?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"max-w-160",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_components_AuthorizedUrlList_AuthorizedUrlList__WEBPACK_IMPORTED_MODULE_5__.t,{type:lib_components_AuthorizedUrlList_authorizedUrlListLogic__WEBPACK_IMPORTED_MODULE_6__.uw.TOOLBAR_URLS})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{className:"deprecated-space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{type:"secondary",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconSearch,{}),onClick:()=>setAppUrlsVisible(!0),size:"large",fullWidth:!0,center:!0,"data-attr":"new-action-inspect",children:"Inspect element on your site"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_7__.J,{type:"secondary",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconPencil,{}),onClick:()=>{onSelectOption?.(),kea_router__WEBPACK_IMPORTED_MODULE_0__.router.actions.push(scenes_urls__WEBPACK_IMPORTED_MODULE_8__.j.createAction())},size:"large",fullWidth:!0,center:!0,"data-attr":"new-action-pageview",children:"From event or pageview"})]})})]})}},"../../products/actions/frontend/logics/actionsLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>actionsLogic});var fuse_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_subscriptions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.7_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),scenes_data_management_DataManagementScene__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/data-management/DataManagementScene.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/urls.ts"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/userLogic.ts"),_layout_navigation_3000_sidepanel_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/layout/navigation-3000/sidepanel/types.ts"),_models_actionsModel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/models/actionsModel.ts"),_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/types.ts");let actionsFuse=new fuse_js__WEBPACK_IMPORTED_MODULE_8__.Z([],{keys:[{name:"name",weight:2},"description","tags"],threshold:.3,ignoreLocation:!0,includeMatches:!0}),actionsLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["products","actions","actionsLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[(0,_models_actionsModel__WEBPACK_IMPORTED_MODULE_6__.D)({params:"include_count=1"}),["actions","actionsLoading"],scenes_userLogic__WEBPACK_IMPORTED_MODULE_5__.userLogic,["user"],lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_2__.featureFlagLogic,["featureFlags"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setFilterType:filterType=>({filterType}),setSearchTerm:searchTerm=>({searchTerm})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({filterType:["all",{persist:!0},{setFilterType:(_,_ref)=>{let{filterType}=_ref;return filterType}}],searchTerm:["",{setSearchTerm:(_,_ref2)=>{let{searchTerm}=_ref2;return searchTerm}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({actionsFiltered:[s=>[s.actions,s.filterType,s.searchTerm,s.user],(actions,filterType,searchTerm,user)=>{let data=actions;return searchTerm&&(data=actionsFuse.search(searchTerm).map(result=>result.item)),"me"===filterType&&(data=data.filter(item=>item.created_by?.uuid===user?.uuid)),data}],shouldShowEmptyState:[s=>[s.actionsFiltered,s.actionsLoading,s.searchTerm],(actionsFiltered,actionsLoading,searchTerm)=>0==actionsFiltered.length&&!actionsLoading&&!searchTerm.length],breadcrumbs:[()=>[],()=>[{key:scenes_data_management_DataManagementScene__WEBPACK_IMPORTED_MODULE_3__.DataManagementTab.Actions,name:"Actions",path:scenes_urls__WEBPACK_IMPORTED_MODULE_4__.j.actions(),iconType:"action"}]],[_layout_navigation_3000_sidepanel_types__WEBPACK_IMPORTED_MODULE_9__.f]:[()=>[],()=>({activity_scope:_types__WEBPACK_IMPORTED_MODULE_7__.jc.ACTION})]}),(0,kea_subscriptions__WEBPACK_IMPORTED_MODULE_1__.Vt)({actions:actions=>{actionsFuse.setCollection(actions)}})])},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/data-management/properties/PropertyDefinitionsTable.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon{padding-right:.5rem;width:36px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{align-items:center;display:flex;font-size:1.2rem;justify-content:center;width:30px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--color-text-secondary)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;justify-content:center;min-height:32px;position:relative}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{align-items:center;cursor:pointer;display:flex;font-weight:600;gap:.25rem}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title svg{color:var(--success)}",""]),module.exports=exports}}]);