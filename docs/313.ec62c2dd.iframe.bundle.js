var T=Object.defineProperty;var b=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var p=(i,t,e)=>t in i?T(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,v=(i,t)=>{for(var e in t||(t={}))w.call(t,e)&&p(i,e,t[e]);if(b)for(var e of b(t))F.call(t,e)&&p(i,e,t[e]);return i};var y=(i,t,e)=>new Promise((g,l)=>{var d=s=>{try{r(e.next(s))}catch(m){l(m)}},j=s=>{try{r(e.throw(s))}catch(m){l(m)}},r=s=>s.done?g(s.value):Promise.resolve(s.value).then(d,j);r((e=e.apply(i,t)).next())});(window.webpackJsonp=window.webpackJsonp||[]).push([[313],{"./frontend/src/scenes/organization/ConfirmOrganization/ConfirmOrganization.tsx":function(i,t,e){"use strict";e.r(t),e.d(t,"scene",function(){return P}),e.d(t,"ConfirmOrganization",function(){return O});var g=e("./frontend/src/scenes/organizationLogic.tsx"),l=e("./frontend/src/lib/components/LemonButton/index.ts"),d=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),j=e("./frontend/src/lib/components/LemonDivider/index.ts"),r=e("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),s=e("./frontend/src/lib/api.ts"),m=e("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.0/node_modules/kea-router/lib/index.js"),f=e("./node_modules/.pnpm/kea-forms@3.0.3_kea@3.1.0/node_modules/kea-forms/lib/index.js"),z=e("./frontend/src/lib/components/lemonToast.tsx");const u=Object(r.kea)([Object(r.path)(["scenes","organization","confirmOrganizationLogic"]),Object(r.actions)({setEmail:o=>({email:o}),setShowNewOrgWarning:o=>({show:o})}),Object(r.reducers)({showNewOrgWarning:[!1,{setShowNewOrgWarning:(o,a)=>{let{show:c}=a;return c}}],email:["",{setEmail:(o,a)=>{let{email:c}=a;return c}}]}),Object(f.forms)(()=>({confirmOrganization:{defaults:{},errors:o=>{let{organization_name:a,first_name:c}=o;return{first_name:c?void 0:"Please enter your name",organization_name:a?void 0:"Please enter your organization name"}},submit:o=>y(this,null,function*(){try{const a=yield s.b.create("api/social_signup/",v({},o));location.href=a.success_url||"/"}catch(a){z.d.error(a.detail||"Failed to create organization")}})}})),Object(m.urlToAction)(o=>{let{actions:a}=o;return{"/organization/confirm-creation":(c,x)=>{let{email:A,organization_name:W,first_name:B}=x;a.setConfirmOrganizationValues({organization_name:W,first_name:B}),a.setEmail(A)}}})]);var h=e("./frontend/src/lib/forms/Field.tsx"),N=e("./frontend/src/lib/components/AnimatedCollapsible.tsx"),C=e("./frontend/src/scenes/urls.ts"),L=e("./frontend/src/lib/components/BridgePage/BridgePage.tsx"),S=e("./frontend/src/lib/components/SignupRoleSelect.tsx"),n=e("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const P={component:O,logic:g.a};function O(){const{isConfirmOrganizationSubmitting:o,email:a,showNewOrgWarning:c}=Object(r.useValues)(u),{setShowNewOrgWarning:x}=Object(r.useActions)(u);return Object(n.jsxs)(L.a,{view:"org-creation-confirmation",hedgehog:!0,children:[Object(n.jsx)("h2",{children:"Create a new organization"}),Object(n.jsxs)("div",{className:"flex-1",children:[Object(n.jsx)("p",{className:"text-center",children:Object(n.jsxs)("strong",{children:["Trying to join an existing organization? ",Object(n.jsx)("br",{}),!c&&Object(n.jsx)("a",{onClick:()=>{x(!0)},children:"Read more"})]})}),Object(n.jsx)(N.a,{collapsed:!c,children:Object(n.jsxs)("div",{className:"py-2",children:[Object(n.jsx)("p",{children:"If you're trying to join an existing organization, you should not create a new one. Some reasons that you may accidentally end up here are:"}),Object(n.jsxs)("ul",{className:"list-disc pl-4",children:[Object(n.jsx)("li",{children:"You're logging in with the wrong email address"}),Object(n.jsx)("li",{children:"Your PostHog account is at a different URL"}),Object(n.jsx)("li",{children:"You need an invitation from a colleague"})]})]})})]}),Object(n.jsxs)(f.Form,{logic:u,formKey:"confirmOrganization",enableFormOnSubmit:!0,className:"space-y-4",children:[Object(n.jsx)(h.a,{name:"email",label:"Email",children:Object(n.jsx)(d.a,{className:"ph-ignore-input",value:a,disabled:!0})}),Object(n.jsx)(h.a,{name:"first_name",label:"Your name",children:Object(n.jsx)(d.a,{className:"ph-ignore-input",placeholder:"Jane Doe"})}),Object(n.jsx)(h.a,{name:"organization_name",label:"Organization name",help:"You can always rename your organization later",children:Object(n.jsx)(d.a,{className:"ph-ignore-input",placeholder:"Hogflix Movies"})}),Object(n.jsx)(S.a,{}),Object(n.jsx)(l.a,{htmlType:"submit",fullWidth:!0,center:!0,type:"primary",loading:o,children:"Create organization"}),Object(n.jsx)(l.a,{fullWidth:!0,center:!0,type:"secondary",disabled:o,to:C.a.signup(),children:"Cancel"})]}),Object(n.jsxs)("div",{className:"text-center terms-and-conditions-text mt-4 text-muted",children:["By creating an account, you agree to our"," ",Object(n.jsx)("a",{href:"https://posthog.com/terms",target:"_blank",rel:"noopener",children:"Terms\xA0of\xA0Service"})," ","and"," ",Object(n.jsx)("a",{href:"https://posthog.com/privacy",target:"_blank",rel:"noopener",children:"Privacy\xA0Policy"}),"."]}),Object(n.jsx)(j.a,{thick:!0,dashed:!0,className:"my-6"}),Object(n.jsxs)("div",{className:"text-center terms-and-conditions-text mt-4 text-muted",children:["Have questions?"," ",Object(n.jsx)("a",{href:"https://posthog.com/support",target:"_blank",rel:"noopener",children:"Visit support"})," ","or"," ",Object(n.jsx)("a",{href:"https://posthog.com/docs",target:"_blank",rel:"noopener",children:"read our documentation"}),"."]})]})}}}]);
