(window.webpackJsonp=window.webpackJsonp||[]).push([[230],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(k,g,e){"use strict";e.d(g,"a",function(){return Ae});var I=e("./node_modules/core-js/modules/es.array.includes.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.array.iterator.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/es.object.to-string.js"),Xe=e.n(je),Fe=e("./node_modules/core-js/modules/es.object.values.js"),z=e.n(Fe),n=e("./node_modules/core-js/modules/es.string.includes.js"),u=e.n(n),me=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),D=e.n(me),ne=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),le=e.n(ne),Ce=e("./node_modules/kea/lib/index.esm.js"),se=e("./frontend/src/lib/utils.tsx"),G=e("./frontend/src/types.ts"),p=e("./frontend/src/scenes/insights/sharedUtils.ts"),X=e("./frontend/src/scenes/insights/insightLogic.ts");function Se(N,Y){var q=Object.keys(N);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(N);Y&&(M=M.filter(function(Q){return Object.getOwnPropertyDescriptor(N,Q).enumerable})),q.push.apply(q,M)}return q}function J(N){for(var Y=1;Y<arguments.length;Y++){var q=arguments[Y]!=null?arguments[Y]:{};Y%2?Se(Object(q),!0).forEach(function(M){le()(N,M,q[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(q)):Se(Object(q)).forEach(function(M){Object.defineProperty(N,M,Object.getOwnPropertyDescriptor(q,M))})}return N}function ee(N){return Object.values(G.o).includes(N)}var Ae=Object(Ce.kea)({props:{},key:Object(p.c)("new"),path:function(Y){return["lib","components","ChartFilter","chartFilterLogic",Y]},connect:function(Y){return{actions:[Object(X.c)(Y),["setFilters"]],values:[Object(X.c)(Y),["filters"]]}},actions:function(){return{setChartFilter:function(q){return{chartFilter:q}}}},selectors:{chartFilter:[function(N){return[N.filters]},function(N){var Y=N.display,q=N.funnel_viz_type;return(Y===G.d.FunnelViz?q:Y)||null}]},listeners:function(Y){var q=Y.actions,M=Y.values;return{setChartFilter:function(oe){var Te=oe.chartFilter,y=M.filters,Ve=y.display,we=y.funnel_viz_type;ee(Te)?(we!==Te||Ve!==G.d.FunnelViz)&&q.setFilters(J(J({},M.filters),{},{display:G.d.FunnelViz,funnel_viz_type:Te})):Object(se.mb)(Ve,Te)||q.setFilters(J(J({},M.filters),{},{display:Te}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(k,g,e){"use strict";e.d(g,"a",function(){return se});var I=e("./node_modules/core-js/modules/es.array.iterator.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.object.to-string.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Xe=e.n(je),Fe=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),z=e.n(Fe),n=e("./node_modules/kea/lib/index.esm.js"),u=e("./frontend/src/lib/utils.tsx"),me=e("./frontend/src/types.ts"),D=e("./frontend/src/scenes/insights/sharedUtils.ts"),ne=e("./frontend/src/scenes/insights/insightLogic.ts");function le(G,p){var X=Object.keys(G);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(G);p&&(Se=Se.filter(function(J){return Object.getOwnPropertyDescriptor(G,J).enumerable})),X.push.apply(X,Se)}return X}function Ce(G){for(var p=1;p<arguments.length;p++){var X=arguments[p]!=null?arguments[p]:{};p%2?le(Object(X),!0).forEach(function(Se){z()(G,Se,X[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(X)):le(Object(X)).forEach(function(Se){Object.defineProperty(G,Se,Object.getOwnPropertyDescriptor(X,Se))})}return G}var se=Object(n.kea)({props:{},key:Object(D.c)("new"),path:function(p){return["lib","components","CompareFilter","compareFilterLogic",p]},connect:function(p){return{actions:[Object(ne.c)(p),["setFilters"]],values:[Object(ne.c)(p),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(X){return{compare:X}},toggleCompare:!0}},selectors:{compare:[function(G){return[G.filters]},function(G){return!!(G!=null&&G.compare)}],disabled:[function(G){return[G.filters,G.canEditInsight]},function(G,p){var X=G.insight,Se=G.date_from;return!p||X===me.s.LIFECYCLE||Se==="all"}]},listeners:function(p){var X=p.values,Se=p.actions;return{setCompare:function(ee){var Ae=ee.compare;Object(u.mb)(Ae,X.compare)||Se.setFilters(Ce(Ce({},X.filters),{},{compare:Ae}))},toggleCompare:function(){Se.setCompare(!X.compare)}}}})},"./frontend/src/lib/components/CopyToClipboard.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Ae});var I=e("./node_modules/core-js/modules/es.symbol.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.symbol.description.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/es.object.to-string.js"),Xe=e.n(je),Fe=e("./node_modules/core-js/modules/es.regexp.to-string.js"),z=e.n(Fe),n=e("./node_modules/@babel/runtime/helpers/extends.js"),u=e.n(n),me=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),D=e.n(me),ne=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),le=e.n(ne),Ce=e("./node_modules/react/index.js"),se=e.n(Ce),G=e("./frontend/src/lib/utils.tsx"),p=e("./frontend/src/lib/components/Tooltip.tsx"),X=e("./frontend/src/lib/components/icons.tsx"),Se=e("./frontend/src/lib/components/LemonButton/index.ts");function J(N,Y){var q=Object.keys(N);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(N);Y&&(M=M.filter(function(Q){return Object.getOwnPropertyDescriptor(N,Q).enumerable})),q.push.apply(q,M)}return q}function ee(N){for(var Y=1;Y<arguments.length;Y++){var q=arguments[Y]!=null?arguments[Y]:{};Y%2?J(Object(q),!0).forEach(function(M){D()(N,M,q[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(q)):J(Object(q)).forEach(function(M){Object.defineProperty(N,M,Object.getOwnPropertyDescriptor(q,M))})}return N}function Ae(N){var Y=N.children,q=N.explicitValue,M=N.description,Q=N.selectable,oe=Q===void 0?!1:Q,Te=N.isValueSensitive,y=Te===void 0?!1:Te,Ve=N.tooltipMessage,we=Ve===void 0?null:Ve,$t=N.iconStyle,Qt=$t===void 0?{}:$t,cn=N.iconPosition,Mt=cn===void 0?"end":cn,xn=N.style,Gn=le()(N,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),bt=function(){return Object(G.t)(q!=null?q:Y?Y.toString():"",M)},We=se.a.createElement("span",u()({className:y?"ph-no-capture":"",style:ee({cursor:oe?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:Mt==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},xn),onClick:oe?void 0:bt},Gn),se.a.createElement("span",{style:Mt==="start"?{flexGrow:1}:{}},Y),se.a.createElement(Se.a,{compact:!0,icon:se.a.createElement(X.IconCopy,null),className:"copy-icon",onClick:oe?bt:void 0,style:ee(D()({},Mt==="end"?"marginLeft":"marginRight",4),Qt)}));return!oe||we!==null?se.a.createElement(p.a,{title:we||"Click to copy"},We):se.a.createElement(se.a.Fragment,null,We)}try{Ae.displayName="CopyToClipboardInline",Ae.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:Ae.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(N){}},"./frontend/src/lib/components/Drawer.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Fe});var I=e("./node_modules/@babel/runtime/helpers/extends.js"),t=e.n(I),Ne=e("./node_modules/react/index.js"),h=e.n(Ne),je=e("./node_modules/antd/es/drawer/index.js"),Xe=e("./frontend/src/vars.ts");function Fe(z){return h.a.createElement(je.a,t()({},z,{zIndex:Xe.a.zDrawer}))}try{Fe.displayName="Drawer",Fe.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:Fe.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(z){}},"./frontend/src/lib/components/DropdownSelector/DropdownSelector.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return N});var I=e("./node_modules/core-js/modules/es.symbol.js"),t=e("./node_modules/core-js/modules/es.symbol.description.js"),Ne=e("./node_modules/core-js/modules/es.array.find.js"),h=e("./node_modules/core-js/modules/es.array.map.js"),je=e("./node_modules/@babel/runtime/helpers/extends.js"),Xe=e.n(je),Fe=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),z=e.n(Fe),n=e("./node_modules/antd/es/row/index.js"),u=e("./node_modules/antd/es/menu/index.js"),me=e("./node_modules/antd/es/dropdown/index.js"),D=e("./node_modules/clsx/dist/clsx.m.js"),ne=e("./node_modules/react/index.js"),le=e.n(ne),Ce=e("./frontend/src/lib/components/icons.tsx"),se=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),G=e.n(se),p=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/DropdownSelector/DropdownSelector.scss"),X=e.n(p),Se={};Se.insert="head",Se.singleton=!1;var J=G()(X.a,Se),ee=X.a.locals||{};function Ae(Y){var q=Y.icon,M=Y.label,Q=Y.description,oe=Y.onClick;return le.a.createElement("div",{onClick:oe},le.a.createElement(n.a,{align:"middle"},q,le.a.createElement("div",{style:{fontSize:14,fontWeight:500,marginLeft:8}},M)),Q&&le.a.createElement("div",{style:{fontSize:12,color:"rgba(0, 0, 0, 0.5)"}},Q))}function N(Y){var q=Y.label,M=Y.value,Q=Y.onValueChange,oe=Y.options,Te=Y.hideDescriptionOnDisplay,y=Y.disabled,Ve=Y.compact,we=oe.find(function(Qt){return Qt.key===M}),$t=le.a.createElement(u.a,null,oe.map(function(Qt){var cn=Qt.key,Mt=Qt.hidden,xn=z()(Qt,["key","hidden"]);return Mt?null:le.a.createElement(u.a.Item,{key:cn},le.a.createElement(Ae,Xe()({},xn,{onClick:function(){return Q(cn)}})))}));return le.a.createElement(le.a.Fragment,null,q&&le.a.createElement("label",{className:"ant-form-item-label"},q),le.a.createElement(me.a,{overlay:$t,trigger:["click"],disabled:y},le.a.createElement("div",{className:Object(D.a)("dropdown-selector",y&&" disabled",Ve&&"compact"),onClick:function(cn){return cn.preventDefault()}},le.a.createElement("div",{style:{flexGrow:1}},we&&le.a.createElement(Ae,Xe()({},we,{onClick:function(){},description:Te?void 0:we.description}))),le.a.createElement("div",{className:"dropdown-arrow"},le.a.createElement(Ce.IconArrowDropDown,null)))))}try{N.displayName="DropdownSelector",N.__docgenInfo={description:"",displayName:"DropdownSelector",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string | null"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"(value: string) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"DropdownOption[]"}},hideDescriptionOnDisplay:{defaultValue:null,description:"",name:"hideDescriptionOnDisplay",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},compact:{defaultValue:null,description:"",name:"compact",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/DropdownSelector/DropdownSelector.tsx#DropdownSelector"]={docgenInfo:N.__docgenInfo,name:"DropdownSelector",path:"frontend/src/lib/components/DropdownSelector/DropdownSelector.tsx#DropdownSelector"})}catch(Y){}},"./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return G});var I=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),t=e.n(I),Ne=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),h=e.n(Ne),je=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PathCleanFilters/PathClean.scss"),Xe=e.n(je),Fe={};Fe.insert="head",Fe.singleton=!1;var z=h()(Xe.a,Fe),n=Xe.a.locals||{},u=e("./node_modules/react/index.js"),me=e.n(u),D=e("./node_modules/antd/es/col/index.js"),ne=e("./node_modules/antd/es/divider/index.js"),le=e("./node_modules/antd/es/input/index.js"),Ce=e("./node_modules/antd/es/row/index.js"),se=e("./node_modules/antd/es/button/index.js");function G(p){var X=p.item,Se=p.onComplete,J=p.onClose,ee=Object(u.useState)(X.alias),Ae=t()(ee,2),N=Ae[0],Y=Ae[1],q=Object(u.useState)(X.regex),M=t()(q,2),Q=M[0],oe=M[1];return me.a.createElement("div",{className:"regex-popup"},me.a.createElement(D.a,null,me.a.createElement("b",null,"New Wildcard"),me.a.createElement(ne.a,{style:{marginTop:10,marginBottom:10}}),me.a.createElement("span",null,"Alias"),me.a.createElement(le.a,{defaultValue:N,onChange:function(y){return Y(y.target.value)},onPressEnter:function(){return!1},style:{marginTop:8,marginBottom:12}}),me.a.createElement("span",null,"Regex"),me.a.createElement(le.a,{defaultValue:Q,onChange:function(y){return oe(y.target.value)},onPressEnter:function(){return!1},style:{marginTop:8,marginBottom:0,fontFamily:"monospace"}}),me.a.createElement("div",{className:"text-muted",style:{marginBottom:12}},"For example: ",me.a.createElement("code",null,"\\/merchant\\/\\d+\\/dashboard$")),me.a.createElement(Ce.a,{style:{width:"100%",justifyContent:"flex-end",marginTop:12}},me.a.createElement(se.a,{onClick:J,type:"link"}," ","Cancel"," "),me.a.createElement(se.a,{onClick:function(){return Se({alias:N,regex:Q})},type:"primary"}," ","Save"," "))))}try{G.displayName="PathRegexPopup",G.__docgenInfo={description:"",displayName:"PathRegexPopup",props:{onComplete:{defaultValue:null,description:"",name:"onComplete",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"]={docgenInfo:G.__docgenInfo,name:"PathRegexPopup",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"})}catch(p){}},"./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return z});var I=e("./node_modules/core-js/modules/es.array.map.js"),t=e.n(I),Ne=e("./node_modules/react/index.js"),h=e.n(Ne),je=e("./frontend/src/scenes/actions/Actions.scss"),Xe=e("./frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx"),Fe=e("./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx");function z(n){var u=n.pageKey,me=n.onChange,D=n.onRemove,ne=n.pathCleaningFilters,le=n.showConditionBadge,Ce=le===void 0?!1:le,se=n.disablePopover,G=se===void 0?!1:se,p=n.popoverPlacement,X=p===void 0?null:p,Se=n.taxonomicPopoverPlacement,J=Se===void 0?void 0:Se,ee=n.style,Ae=ee===void 0?{}:ee,N=n.showNestedArrow,Y=N===void 0?!1:N;return h.a.createElement("div",{className:"mb",style:Ae},ne.length>0&&ne.map(function(q,M){return h.a.createElement(Xe.a,{key:M,item:q,index:M,totalCount:ne.length-1,filters:ne,pageKey:u,showConditionBadge:Ce,disablePopover:G,popoverPlacement:X,taxonomicPopoverPlacement:J,showNestedArrow:Y,label:"Add rule",onRemove:D,filterComponent:function(oe){return h.a.createElement(Fe.a,{item:q,onClose:oe,onComplete:function(y){me(y),oe()}})}})}))}try{z.displayName="PathCleanFilters",z.__docgenInfo={description:"",displayName:"PathCleanFilters",props:{endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(index: number) => void"}},pathCleaningFilters:{defaultValue:null,description:"",name:"pathCleaningFilters",required:!0,type:{name:"Record<string, any>[]"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},showConditionBadge:{defaultValue:{value:"false"},description:"",name:"showConditionBadge",required:!1,type:{name:"boolean"}},disablePopover:{defaultValue:{value:"false"},description:"",name:"disablePopover",required:!1,type:{name:"boolean"}},popoverPlacement:{defaultValue:{value:"null"},description:"",name:"popoverPlacement",required:!1,type:{name:"TooltipPlacement | null"}},taxonomicPopoverPlacement:{defaultValue:{value:"undefined"},description:"",name:"taxonomicPopoverPlacement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"]={docgenInfo:z.__docgenInfo,name:"PathCleanFilters",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"})}catch(n){}},"./frontend/src/lib/components/PropertiesTable.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Pt});var I=e("./node_modules/core-js/modules/es.array.filter.js"),t=e("./node_modules/core-js/modules/es.array.includes.js"),Ne=e("./node_modules/core-js/modules/es.array.map.js"),h=e("./node_modules/core-js/modules/es.object.entries.js"),je=e("./node_modules/core-js/modules/es.string.includes.js"),Xe=e("./node_modules/core-js/modules/es.string.starts-with.js"),Fe=e("./node_modules/@babel/runtime/helpers/typeof.js"),z=e.n(Fe),n=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=e.n(n),me=e("./node_modules/react/index.js"),D=e.n(me),ne=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),le=e("./node_modules/antd/es/input/index.js"),Ce=e("./node_modules/antd/es/dropdown/index.js"),se=e("./node_modules/antd/es/menu/index.js"),G=e("./node_modules/antd/es/popconfirm/index.js"),p=e("./frontend/src/lib/utils.tsx"),X=e("./frontend/src/lib/components/icons.tsx"),Se=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),J=e.n(Se),ee=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss"),Ae=e.n(ee),N={};N.insert="head",N.singleton=!1;var Y=J()(Ae.a,N),q=Ae.a.locals||{},M=e("./frontend/src/lib/components/LemonTable/index.ts"),Q=e("./frontend/src/lib/components/CopyToClipboard.tsx"),oe=e("./node_modules/kea/lib/index.esm.js"),Te=e("./frontend/src/models/propertyDefinitionsModel.ts"),y=e("./frontend/src/lib/components/LemonButton/index.ts"),Ve=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),we=e.n(Ve),$t=e("./node_modules/antd/es/button/index.js"),Qt=e("./node_modules/antd/es/radio/index.js"),cn=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),Mt=e("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),xn=e("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),Gn=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),bt=e("./node_modules/@ant-design/icons/es/icons/StopOutlined.js"),We=e("./node_modules/antd/lib/modal/Modal.js"),Kt=e.n(We);function ot(be,Ie){var K=Object.keys(be);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(be);Ie&&(U=U.filter(function(Et){return Object.getOwnPropertyDescriptor(be,Et).enumerable})),K.push.apply(K,U)}return K}function Qe(be){for(var Ie=1;Ie<arguments.length;Ie++){var K=arguments[Ie]!=null?arguments[Ie]:{};Ie%2?ot(Object(K),!0).forEach(function(U){we()(be,U,K[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(K)):ot(Object(K)).forEach(function(U){Object.defineProperty(be,U,Object.getOwnPropertyDescriptor(K,U))})}return be}function $e(be){var Ie=be.editProperty,K={creating:!1,propertyType:"string"},U=Object(me.useState)(K),Et=u()(U,2),it=Et[0],et=Et[1],sn=function(){it.key&&it.value!==void 0&&(Ie(it.key,it.value),et(K))};return D.a.createElement(D.a.Fragment,null,D.a.createElement("div",{className:"mb"},D.a.createElement("div",{className:"text-right"},D.a.createElement($t.a,{"data-attr":"add-prop-button",onClick:function(){return et(Qe(Qe({},it),{},{creating:!0}))},type:"primary",icon:D.a.createElement(cn.a,null)},"New property"))),D.a.createElement(Kt.a,{visible:it.creating,destroyOnClose:!0,onCancel:function(){return et(K)},title:"Adding new property",okText:D.a.createElement(D.a.Fragment,null,D.a.createElement(Mt.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!it.key||it.value===void 0},onOk:sn},D.a.createElement("div",{className:"input-set"},D.a.createElement("label",{htmlFor:"propertyKey"},"Key"),D.a.createElement(le.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function(Ye){return et(Qe(Qe({},it),{},{key:Ye.target.value}))}})),D.a.createElement("div",{className:"input-set"},D.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),D.a.createElement("div",null,D.a.createElement(Qt.a.Group,{value:it.propertyType,onChange:function(Ye){return et(Qe(Qe({},it),{},{propertyType:Ye.target.value,value:Ye.target.value==="string"?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},D.a.createElement(Qt.a.Button,{value:"string"},"Text or Number"),D.a.createElement(Qt.a.Button,{value:"boolean"},"Boolean or Null")))),D.a.createElement("div",{className:"input-set"},D.a.createElement("label",{htmlFor:"propertyValue"},"Value"),it.propertyType==="boolean"?D.a.createElement("div",null,D.a.createElement(Qt.a.Group,{value:it.value,onChange:function(Ye){return et(Qe(Qe({},it),{},{value:Ye.target.value}))},id:"propertyValue",buttonStyle:"solid"},D.a.createElement(Qt.a.Button,{value:"true",defaultChecked:!0},D.a.createElement(xn.a,null)," True"),D.a.createElement(Qt.a.Button,{value:"false"},D.a.createElement(Gn.a,null)," False"),D.a.createElement(Qt.a.Button,{value:"null"},D.a.createElement(bt.a,null)," Null"))):D.a.createElement(le.a,{placeholder:"try email@example.com, gold, 1",onChange:function(Ye){return et(Qe(Qe({},it),{},{value:Ye.target.value}))},id:"propertyValue",onKeyDown:function(Ye){return Ye.key==="Enter"&&sn()}}))))}try{$e.displayName="NewPropertyComponent",$e.__docgenInfo={description:"",displayName:"NewPropertyComponent",props:{editProperty:{defaultValue:null,description:"",name:"editProperty",required:!0,type:{name:"(key: string, newValue?: string | number | boolean | null | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"]={docgenInfo:$e.__docgenInfo,name:"NewPropertyComponent",path:"frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"})}catch(be){}function ye(be){var Ie=be.value,K=be.onChange;return D.a.createElement(le.a,{defaultValue:Ie,autoFocus:!0,onBlur:function(){return K(null,!1)},onPressEnter:function(Et){return K(Et.target.value,!0)}})}function Ue(be){var Ie=be.value,K=be.rootKey,U=be.onEdit,Et=be.nestingLevel,it=Object(oe.useValues)(Te.a),et=it.describeProperty,sn=Object(me.useState)(!1),P=u()(sn,2),Ye=P[0],tt=P[1],ut=K&&!ne.g.includes(K)&&(!Et||Et<=1)&&U,zt=["string","number","bigint"],xt=["boolean","null"],ft;K&&(ft=et(K));var Be=Ie===null?"null":z()(Ie),ct=Ie===null?"null":String(Ie),Ct=function(ke,mt){tt(!1),K!==void 0&&mt&&U&&ke!=Ie&&U(K,ke,Ie)},pe=D.a.createElement("span",{className:ut?"editable ph-no-capture":"ph-no-capture",onClick:function(){return ut&&zt.includes(Be)&&tt(!0)}},Object(p.eb)(Ie)?D.a.createElement("a",{href:Ie,target:"_blank",rel:"noopener noreferrer",className:"value-link"},D.a.createElement("span",null,ct),D.a.createElement(X.IconOpenInNew,null)):ct);return D.a.createElement("div",{className:"properties-table-value"},Ye?D.a.createElement(ye,{value:Ie,onChange:Ct}):D.a.createElement(D.a.Fragment,null,ut&&xt.includes(Be)?D.a.createElement(Ce.a,{overlay:D.a.createElement(se.a,{onClick:function(ke){var mt=ke.key,nt=null;mt==="t"?nt=!0:mt==="f"&&(nt=!1),Ct(nt,!0)}},D.a.createElement(se.a.Item,{key:"t"},"true"),D.a.createElement(se.a.Item,{key:"f"},"false"),D.a.createElement(se.a.Item,{key:"n",danger:!0},"null"))},pe):D.a.createElement(Q.a,{description:"property value",explicitValue:ct,selectable:!0,isValueSensitive:!0},pe),D.a.createElement("div",{className:"property-value-type"},ft||Be)))}function Pt(be){var Ie=be.properties,K=be.rootKey,U=be.onEdit,Et=be.sortProperties,it=Et===void 0?!1:Et,et=be.searchable,sn=et===void 0?!1:et,P=be.embedded,Ye=P===void 0?!0:P,tt=be.nestingLevel,ut=tt===void 0?0:tt,zt=be.onDelete,xt=be.className,ft=Object(me.useState)(""),Be=u()(ft,2),ct=Be[0],Ct=Be[1],pe=Object(me.useMemo)(function(){if(!(Ie instanceof Object))return[];var ke=Object.entries(Ie);if(ct){var mt=ct.toLowerCase();ke=ke.filter(function(nt){var fe=u()(nt,2),V=fe[0],He=fe[1];return V.toLowerCase().includes(mt)||JSON.stringify(He).toLowerCase().includes(mt)})}return it&&ke.sort(function(nt,fe){var V=u()(nt,1),He=V[0],vt=u()(fe,1),qt=vt[0];return He[0]==="$"&&qt[0]!=="$"?1:He[0]!=="$"&&qt[0]==="$"||He.toLowerCase()<qt.toLowerCase()?-1:1}),ke},[Ie,it,ct]);if(Array.isArray(Ie))return D.a.createElement("div",null,Ie.length?Ie.map(function(ke,mt){return D.a.createElement(Pt,{key:mt,properties:ke,nestingLevel:ut+1})}):D.a.createElement("div",{className:"property-value-type"},"ARRAY (EMPTY)"));var St=[{key:"key",title:"Key",width:"20rem",render:function(mt,nt){return D.a.createElement("div",{className:"properties-table-key"},D.a.createElement(ne.b,{value:nt[0]}))},sorter:function(mt,nt){return String(mt[0]).localeCompare(String(nt[0]))}},{key:"value",title:"Value",render:function(mt,nt){return D.a.createElement(Pt,{properties:nt[1],rootKey:nt[0],onEdit:U,nestingLevel:ut+1})}}];return zt&&ut===0&&St.push({key:"delete",title:"",width:0,render:function(mt,nt){return!ne.g.includes(nt[0])&&!String(nt[0]).startsWith("$initial_")&&D.a.createElement(G.a,{onConfirm:function(){return zt(nt[0])},okButtonProps:{danger:!0},okText:"Delete",title:D.a.createElement(D.a.Fragment,null,"Are you sure you want to delete property ",D.a.createElement("code",null,nt[0]),"?"," ",D.a.createElement("b",null,"This cannot be undone.")),placement:"left"},D.a.createElement(y.a,{icon:D.a.createElement(X.IconDeleteForever,null),status:"danger",compact:!0}))}}),Ie instanceof Object?D.a.createElement(D.a.Fragment,null,sn&&D.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"}},D.a.createElement(le.a.Search,{placeholder:"Search for property keys and values",className:"mb",allowClear:!0,enterButton:!0,style:{maxWidth:400,width:"initial",flexGrow:1},value:ct,onChange:function(mt){Ct(mt.target.value)}}),U&&D.a.createElement($e,{editProperty:U})),D.a.createElement(M.a,{columns:St,showHeader:!Ye,size:"small",rowKey:"0",embedded:Ye,dataSource:pe,className:xt,emptyState:"This property value is an empty object."})):D.a.createElement(Ue,{value:Ie,rootKey:K,onEdit:U,nestingLevel:ut})}try{Pt.displayName="PropertiesTable",Pt.__docgenInfo={description:"",displayName:"PropertiesTable",props:{properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"any"}},sortProperties:{defaultValue:{value:"false"},description:"",name:"sortProperties",required:!1,type:{name:"boolean"}},searchable:{defaultValue:{value:"false"},description:"",name:"searchable",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"true"},description:"Whether this table should be style for being embedded. Default: true.",name:"embedded",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((key: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rootKey:{defaultValue:null,description:"",name:"rootKey",required:!1,type:{name:"string"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((key: string, newValue: any, oldValue?: any) => void)"}},nestingLevel:{defaultValue:{value:"0"},description:"",name:"nestingLevel",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"]={docgenInfo:Pt.__docgenInfo,name:"PropertiesTable",path:"frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"})}catch(be){}},"./frontend/src/lib/components/ResizableTable/TableConfig.tsx":function(k,g,e){"use strict";e.d(g,"b",function(){return ot}),e.d(g,"a",function(){return Qe});var I=e("./node_modules/core-js/modules/es.array.includes.js"),t=e("./node_modules/core-js/modules/es.string.includes.js"),Ne=e("./node_modules/antd/es/button/index.js"),h=e("./node_modules/antd/es/row/index.js"),je=e("./node_modules/antd/es/space/index.js"),Xe=e("./node_modules/antd/es/col/index.js"),Fe=e("./node_modules/react/index.js"),z=e.n(Fe),n=e("./node_modules/@ant-design/icons/es/icons/ControlOutlined.js"),u=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),me=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),D=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ne=e.n(D),le=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),Ce=e.n(le),se={};se.insert="head",se.singleton=!1;var G=ne()(Ce.a,se),p=Ce.a.locals||{},X=e("./node_modules/kea/lib/index.esm.js"),Se=e("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),J=e("./node_modules/antd/lib/modal/Modal.js"),ee=e.n(J),Ae=e("./node_modules/react-virtualized/dist/es/List/index.js"),N=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Y=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),q=e("./node_modules/clsx/dist/clsx.m.js"),M=e("./frontend/src/lib/components/Tooltip.tsx"),Q=e("./node_modules/core-js/modules/es.array.concat.js"),oe=e("./node_modules/core-js/modules/es.array.filter.js"),Te=e("./node_modules/core-js/modules/es.array.from.js"),y=e("./node_modules/core-js/modules/es.array.iterator.js"),Ve=e("./node_modules/core-js/modules/es.object.to-string.js"),we=e("./node_modules/core-js/modules/es.set.js"),$t=e("./node_modules/core-js/modules/es.string.iterator.js"),Qt=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),cn=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Mt=e.n(cn),xn=Object(X.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},actions:{selectColumn:function(Ue){return{column:Ue}},unselectColumn:function(Ue){return{column:Ue}},resetColumns:function(Ue){return{columns:Ue}},save:!0},reducers:function(Ue){var Pt=Ue.props;return{selectedColumns:[Pt.selectedColumns,{selectColumn:function(Ie,K){var U=K.column;return Array.from(new Set([].concat(Mt()(Ie),[U])))},unselectColumn:function(Ie,K){var U=K.column;return Ie.filter(function(Et){return Et!==U})},resetColumns:function(Ie,K){var U=K.columns;return U}}]}},listeners:function(Ue){var Pt=Ue.values;return{save:function(){Se.a.actions.setSelectedColumns(Pt.selectedColumns)}}}}),Gn=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),bt=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),We=e("./frontend/src/lib/components/LemonButton/index.ts"),Kt=e("./frontend/src/lib/components/icons.tsx");function ot(ye){var Ue=Object(X.useActions)(Se.a),Pt=Ue.showModal;return z.a.createElement(z.a.Fragment,null,z.a.createElement(Ne.a,{"data-attr":"events-table-column-selector",onClick:Pt,icon:z.a.createElement(n.a,{rotate:90})},"Customize columns"),z.a.createElement($e,{immutableColumns:ye.immutableColumns,defaultColumns:ye.defaultColumns}))}function Qe(ye){var Ue=Object(X.useActions)(Se.a),Pt=Ue.showModal;return z.a.createElement(z.a.Fragment,null,z.a.createElement(We.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:Pt,icon:z.a.createElement(Kt.IconTuning,{style:{color:"var(--primary)"}})},"Customize columns"),z.a.createElement($e,{immutableColumns:ye.immutableColumns,defaultColumns:ye.defaultColumns}))}function $e(ye){var Ue=ye.immutableColumns,Pt=ye.defaultColumns,be=36,Ie=32,K=Object(X.useValues)(Se.a),U=K.selectedColumns,Et=K.modalVisible,it=Object(X.useActions)(Se.a),et=it.hideModal,sn=xn({selectedColumns:U==="DEFAULT"?Pt:U}),P=Object(X.useActions)(sn),Ye=P.selectColumn,tt=P.unselectColumn,ut=P.resetColumns,zt=P.save,xt=Object(X.useValues)(sn),ft=xt.selectedColumns;function Be(ct){var Ct=ct.index,pe=ct.style,St=ct.key,ke=Ue==null?void 0:Ue.includes(ft[Ct]);return z.a.createElement("div",{style:pe,key:St,onClick:function(){return!ke&&tt(ft[Ct])}},z.a.createElement("div",{className:Object(q.a)(["column-display-item",{selected:!ke,disabled:ke}]),style:{height:"".concat(Ie,"px")}},z.a.createElement(Y.b,{value:ft[Ct]}),z.a.createElement("div",{className:"text-right",style:{flex:1}},z.a.createElement(M.a,{title:ke?"Reserved":"Remove"},ke?z.a.createElement(u.a,null):z.a.createElement(me.a,{style:{color:"var(--danger)"}})))))}return z.a.createElement(ee.a,{centered:!0,visible:Et,title:"Customize columns",onOk:zt,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:et,footer:z.a.createElement(h.a,null,z.a.createElement(je.b,{style:{flexGrow:1},align:"start"},z.a.createElement(Ne.a,{className:"text-blue",onClick:function(){return ut(Pt)}},"Reset to default")),z.a.createElement(je.b,null,z.a.createElement(Ne.a,{className:"text-blue",type:"text",onClick:et},"Cancel"),z.a.createElement(Ne.a,{type:"primary",onClick:zt},"Save")))},z.a.createElement(h.a,{gutter:16,className:"mt"},z.a.createElement(Xe.a,{xs:24,sm:12},z.a.createElement("h3",{className:"l3"},"Available columns"),z.a.createElement("div",{style:{height:320}},z.a.createElement(N.a,null,function(ct){var Ct=ct.height,pe=ct.width;return z.a.createElement(Gn.a,{height:Ct,width:pe,taxonomicGroupTypes:[bt.a.EventProperties],value:void 0,onChange:function(ke,mt){return mt&&Ye(String(mt))},popoverEnabled:!1,selectFirstItem:!1})}))),z.a.createElement(Xe.a,{xs:24,sm:12},z.a.createElement("h3",{className:"l3"},"Visible columns (",ft.length,")"),z.a.createElement("div",{style:{height:320}},z.a.createElement(N.a,null,function(ct){var Ct=ct.height,pe=ct.width;return z.a.createElement(Ae.b,{height:Ct,rowCount:ft.length,rowRenderer:Be,rowHeight:be,width:pe})})))))}try{ot.displayName="TableConfig",ot.__docgenInfo={description:`A scene that contains a ResizableTable with many possible columns
can use this to let the user choose which columns they see`,displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"]={docgenInfo:ot.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"})}catch(ye){}try{Qe.displayName="LemonTableConfig",Qe.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:Qe.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(ye){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Gn}),e.d(g,"b",function(){return bt});var I=e("./node_modules/core-js/modules/es.array.for-each.js"),t=e("./node_modules/core-js/modules/es.array.from.js"),Ne=e("./node_modules/core-js/modules/es.array.map.js"),h=e("./node_modules/core-js/modules/es.array.reduce.js"),je=e("./node_modules/core-js/modules/es.array.slice.js"),Xe=e("./node_modules/core-js/modules/es.number.constructor.js"),Fe=e("./node_modules/core-js/modules/es.string.iterator.js"),z=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n=e("./node_modules/@babel/runtime/helpers/extends.js"),u=e.n(n),me=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),D=e.n(me),ne=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),le=e.n(ne),Ce=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),se=e.n(Ce),G=e("./node_modules/react/index.js"),p=e.n(G),X=e("./node_modules/antd/es/table/index.js"),Se=e("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),J=e("./frontend/src/lib/utils/responsiveUtils.tsx"),ee=e("./node_modules/react-resizable/index.js");function Ae(We){var Kt=We.children,ot=We.onResize,Qe=We.initialWidth,$e=We.height,ye=We.minConstraints,Ue=We.maxConstraints,Pt=p.a.createElement("div",{className:"inner-wrapper"},p.a.createElement("div",{className:"inner-text"},Kt)),be=Object(G.useState)(Qe),Ie=le()(be,2),K=Ie[0],U=Ie[1],Et=Object(G.useState)(!1),it=le()(Et,2),et=it[0],sn=it[1],P=function(tt,ut){U(ut.size.width),ot(tt,ut)};return p.a.createElement("div",{className:"react-resizable-wrapper"},p.a.createElement(ee.ResizableBox,{width:K,height:$e,minConstraints:ye,maxConstraints:Ue,axis:"x",handle:p.a.createElement("span",{className:"resizable-handle","data-drag-active":et}),onResize:P,onResizeStart:function(tt){tt.preventDefault(),sn(!0)},onResizeStop:function(){sn(!1)},draggableOpts:{enableUserSelectHack:!0}},Pt))}function N(We){var Kt=We.columns,ot=We.handleResize,Qe=We.layoutEffect,$e=We.minColumnWidth,ye=We.expandable,Ue=60;return Object(G.useLayoutEffect)(function(){return typeof Qe=="function"?Qe():void 0}),p.a.createElement("div",{className:"resizable-virtual-table-header"},!!ye&&p.a.createElement("div",{className:"left-spacer",style:{width:(ye==null?void 0:ye.columnWidth)||Gn}}),Kt.map(function(Pt,be){var Ie=Pt.title,K=Pt.width,U=Pt.widthConstraints,Et=U!=null&&U.length?U[0]:$e,it=U!=null&&U.length?U[1]:1/0;return p.a.createElement(Ae,{key:be,initialWidth:K!=null?K:Et,height:Ue,onResize:ot(be),minConstraints:[Et,Ue],maxConstraints:[it,Ue]},Ie)}))}var Y=p.a.memo(N);try{N.displayName="VirtualTableHeader",N.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:N.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(We){}var q=e("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),M=e("./frontend/src/lib/hooks/useWindowSize.js"),Q=function(){var Kt=Object(M.a)(),ot=Kt.width,Qe=Object(G.useState)(J.a),$e=le()(Qe,2),ye=$e[0],Ue=$e[1];return Object(G.useEffect)(function(){Ue(J.a)},[ot]),ye},oe=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Te=e.n(oe),y=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),Ve=e.n(y),we={};we.insert="head",we.singleton=!1;var $t=Te()(Ve.a,we),Qt=Ve.a.locals||{};function cn(We,Kt){var ot=Object.keys(We);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(We);Kt&&(Qe=Qe.filter(function($e){return Object.getOwnPropertyDescriptor(We,$e).enumerable})),ot.push.apply(ot,Qe)}return ot}function Mt(We){for(var Kt=1;Kt<arguments.length;Kt++){var ot=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?cn(Object(ot),!0).forEach(function(Qe){D()(We,Qe,ot[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(We,Object.getOwnPropertyDescriptors(ot)):cn(Object(ot)).forEach(function(Qe){Object.defineProperty(We,Qe,Object.getOwnPropertyDescriptor(ot,Qe))})}return We}var xn=q.b,Gn=48;function bt(We){var Kt=We.columns,ot=Kt===void 0?[]:Kt,Qe=We.components,$e=se()(We,["columns","components"]),ye=Q(),Ue=Object(J.d)(ye),Pt=Object(G.useState)(function(){var fe=ot.length;return ot.map(function(V,He){return Mt(Mt({},V),{},{width:He===fe?void 0:Ue})})}),be=le()(Pt,2),Ie=be[0],K=be[1],U=Object(G.useState)(Ie),Et=le()(U,2),it=Et[0],et=Et[1],sn=Object(G.useState)(!1),P=le()(sn,2),Ye=P[0],tt=P[1],ut=Object(G.useRef)(null),zt=Object(G.useRef)(null),xt=Object(G.useRef)();function ft(fe){var V;if(fe){var He;return zt==null||(He=zt.current)===null||He===void 0?void 0:He.classList.add("scrollable-right")}return zt==null||(V=zt.current)===null||V===void 0?void 0:V.classList.remove("scrollable-right")}function Be(){if(zt.current){var fe=zt.current;fe.offsetWidth+fe.scrollLeft<fe.scrollWidth?ft(!0):ft(!1)}}function ct(){var fe,V=(fe=ut.current)===null||fe===void 0?void 0:fe.querySelectorAll(".ant-table-content colgroup col");if(V){var He=Array.from(V);return He.map(function(vt){return vt.style.width?Object(J.e)(vt.style.width):void 0})}return[]}function Ct(fe,V){var He,vt=(He=ut.current)===null||He===void 0?void 0:He.querySelector(".ant-table-content colgroup col:nth-child(".concat(fe+1+Number(!!$e.expandable),"):not(:last-child)"));vt==null||vt.setAttribute("style","width: ".concat(V,"px;"))}function pe(){var fe,V=(fe=ut.current)===null||fe===void 0?void 0:fe.querySelector(".ant-table-content colgroup col:last-child");V==null||V.removeAttribute("style")}function St(){var fe,V=(fe=ut.current)===null||fe===void 0?void 0:fe.querySelector(".resizable-virtual-table-header");if(V!=null&&V.childNodes){var He=Array.from(V==null?void 0:V.childNodes),vt=He.reduce(function(Zt,yn){var Vt=yn.offsetWidth;return Zt+(Vt!=null?Vt:0)},0);if(vt){var qt,gt=(qt=ut.current)===null||qt===void 0?void 0:qt.querySelector(".ant-table table");gt==null||gt.setAttribute("style","width: ".concat(vt,"px;"))}}pe()}var ke=function(V){return function(He,vt){var qt=vt.size.width;xt.current&&cancelAnimationFrame(xt.current),xt.current=requestAnimationFrame(function(){Ct(V,qt),St()}),Be()}};function mt(fe){var V,He=(V=ut.current)===null||V===void 0?void 0:V.querySelector(".ant-table table"),vt=He==null?void 0:He.clientWidth;if(!(!vt||vt===fe)){xt.current&&cancelAnimationFrame(xt.current);var qt=fe/vt,gt=ct();xt.current=requestAnimationFrame(function(){tt(!1),et(function(Zt){var yn=ot.length-1,Vt=Zt.map(function(w,Re){var Pe;return Re===yn?w:Mt(Mt({},w),{},{width:Math.max(((Pe=gt[Re+Number(!!$e.expandable)])!==null&&Pe!==void 0?Pe:0)*qt,Ue)})});return Vt.slice(0,yn).forEach(function(w,Re){var Pe;Ct(Re,(Pe=w.width)!==null&&Pe!==void 0?Pe:Ue)}),St(),Vt}),tt(!0)})}}var nt=new Se.a(function(fe){fe.forEach(function(V){var He=V.contentRect.width;return mt(He)})});return Object(G.useEffect)(function(){K(function(fe){var V=fe.length;return fe.map(function(He,vt){return vt===V?He:Mt(Mt({},He),{},{render:ot[vt].render})})})},[ot]),Object(G.useLayoutEffect)(function(){if(ut.current){nt.observe(ut.current);var fe=ut.current.clientWidth,V=Ie.reduce(function(vt,qt){var gt=qt.span;return vt+gt},0),He=Object(J.c)(fe,V);K(function(vt){var qt=vt.length,gt=vt.map(function(Zt,yn){return yn===qt?Zt:Mt(Mt({},Zt),{},{width:Math.max(Zt.defaultWidth||He*Zt.span,Ue)})});return et(gt),gt}),Be(),tt(!0)}},[]),p.a.createElement("div",{ref:ut,className:"resizable-table-scroll-container",onScroll:Be},p.a.createElement("div",{ref:zt,className:"table-gradient-overlay"},Ye&&p.a.createElement(Y,{columns:it,handleResize:ke,layoutEffect:St,minColumnWidth:Ue,expandable:$e.expandable}),p.a.createElement(X.a,u()({columns:Ie,components:Mt(Mt({},Qe),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},$e))))}try{bt.displayName="ResizableTable",bt.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:bt.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(We){}try{xn.displayName="TableConfig",xn.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:xn.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(We){}},"./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts":function(k,g,e){"use strict";e.d(g,"a",function(){return Se});var I=e("./node_modules/core-js/modules/es.array.every.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.array.includes.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/es.array.iterator.js"),Xe=e.n(je),Fe=e("./node_modules/core-js/modules/es.object.to-string.js"),z=e.n(Fe),n=e("./node_modules/core-js/modules/es.string.includes.js"),u=e.n(n),me=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),D=e.n(me),ne=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),le=e.n(ne),Ce=e("./node_modules/kea/lib/index.esm.js"),se=e("./node_modules/kea-router/lib/index.js"),G=e.n(se);function p(J,ee){var Ae=Object.keys(J);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(J);ee&&(N=N.filter(function(Y){return Object.getOwnPropertyDescriptor(J,Y).enumerable})),Ae.push.apply(Ae,N)}return Ae}function X(J){for(var ee=1;ee<arguments.length;ee++){var Ae=arguments[ee]!=null?arguments[ee]:{};ee%2?p(Object(Ae),!0).forEach(function(N){le()(J,N,Ae[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(Ae)):p(Object(Ae)).forEach(function(N){Object.defineProperty(J,N,Object.getOwnPropertyDescriptor(Ae,N))})}return J}var Se=Object(Ce.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],actions:{showModal:!0,hideModal:!1,setSelectedColumns:function(ee){return{columnConfig:ee}}},reducers:function(){return{selectedColumns:["DEFAULT",{setSelectedColumns:function(Ae,N){var Y=N.columnConfig;return Y}}],modalVisible:[!1,{showModal:function(){return!0},save:function(){return!1},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(J){return[J.selectedColumns]},function(J){return J==="DEFAULT"?7:J.length+1}]},urlToAction:function(ee){var Ae=ee.actions,N=ee.values;return{"*":function(q,M){var Q=M.tableColumns;if(!(!Q||!Array.isArray(Q)||Q.length===0)){var oe=N.selectedColumns,Te=Q.length===oe.length&&Q.every(function(y){return oe.includes(y)});(oe==="DEFAULT"||!Te)&&Ae.setSelectedColumns(Q)}}}},actionToUrl:function(ee){var Ae=ee.values;return{setSelectedColumns:function(){return[se.router.values.location.pathname,X(X({},se.router.values.searchParams),{},{tableColumns:Ae.selectedColumns}),se.router.values.hashParams,{replace:!0}]}}}})},"./frontend/src/lib/hooks/useKeyboardHotkeys.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return se});var I=e("./node_modules/core-js/modules/es.array.concat.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.array.includes.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/es.array.some.js"),Xe=e.n(je),Fe=e("./node_modules/core-js/modules/es.object.keys.js"),z=e.n(Fe),n=e("./node_modules/core-js/modules/es.string.includes.js"),u=e.n(n),me=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),D=e.n(me),ne=e("./node_modules/kea/lib/index.esm.js"),le=e("./frontend/src/lib/hooks/useEventListener.ts"),Ce=e("./frontend/src/layout/navigation/navigationLogic.ts"),se=function(ee,Ae,N){return Se(ee,Ae,N)},G=function(ee,Ae){return Se(ee,Ae,!0)},p=function(ee,Ae){var N=ee.composedPath()||ee.path;if(!N)return!1;var Y=N[0],q=Y.tagName||"not an html element";return Ae.includes(q.toLowerCase())},X=[".hotkey-block",".hotkey-block *"];function Se(J,ee,Ae){var N=["input","textarea"],Y=Object(ne.useValues)(Ce.a),q=Y.hotkeyNavigationEngaged;Object(le.a)("keydown",function(M){var Q=M.key;if(!(M.metaKey||M.ctrlKey||M.altKey)&&!X.some(function($t){return M.target.matches($t)})){var oe=N.includes(M.target.tagName.toLowerCase());if(!(Q!=="Escape"&&(oe||p(M,N)))&&!(!Ae&&q))for(var Te=0,y=Object.keys(J);Te<y.length;Te++){var Ve=y[Te],we=J[Ve];if(!(!we||we.disabled)&&Q.toLowerCase()===Ve){M.preventDefault(),we.action();break}}}},void 0,[J].concat(D()(ee||[])))}},"./frontend/src/lib/hooks/useWindowSize.js":function(k,g,e){"use strict";e.d(g,"a",function(){return Fe});var I=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),t=e.n(I),Ne=e("./node_modules/@babel/runtime/helpers/typeof.js"),h=e.n(Ne),je=e("./node_modules/react/index.js"),Xe=e.n(je);function Fe(){var z=(typeof window=="undefined"?"undefined":h()(window))==="object";function n(){return{width:z?window.innerWidth:void 0,height:z?window.innerHeight:void 0}}var u=Object(je.useState)(n),me=t()(u,2),D=me[0],ne=me[1];return Object(je.useEffect)(function(){if(!z)return!1;function le(){ne(n())}return window.addEventListener("resize",le),function(){return window.removeEventListener("resize",le)}},[]),D}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return D});var I=e("./node_modules/core-js/modules/es.array.includes.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.string.includes.js"),h=e.n(Ne),je=e("./node_modules/react/index.js"),Xe=e.n(je),Fe=e("./node_modules/kea/lib/index.esm.js"),z=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),n=e("./node_modules/rc-select/es/index.js"),u=e("./frontend/src/lib/components/Link.tsx"),me=e("./frontend/src/lib/introductions/groupsAccessLogic.ts");function D(ne){var le=ne.value,Ce=Object(Fe.useValues)(me.b),se=Ce.groupsAccessStatus;return[me.a.HasAccess,me.a.HasGroupTypes,me.a.NoAccess].includes(se)?Xe.a.createElement(n.default.Option,{key:"groups",value:le,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},Xe.a.createElement(z.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",Xe.a.createElement(u.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{D.displayName="GroupsIntroductionOption",D.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:D.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(ne){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(k,g,e){"use strict";e.d(g,"d",function(){return N}),e.d(g,"c",function(){return Y}),e.d(g,"e",function(){return q}),e.d(g,"a",function(){return M}),e.d(g,"b",function(){return Q});var I=e("./node_modules/core-js/modules/es.array.filter.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.array.iterator.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/es.array.map.js"),Xe=e.n(je),Fe=e("./node_modules/core-js/modules/es.object.entries.js"),z=e.n(Fe),n=e("./node_modules/core-js/modules/es.object.from-entries.js"),u=e.n(n),me=e("./node_modules/core-js/modules/es.object.values.js"),D=e.n(me),ne=e("./node_modules/core-js/modules/es.regexp.exec.js"),le=e.n(ne),Ce=e("./node_modules/core-js/modules/es.string.replace.js"),se=e.n(Ce),G=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),p=e.n(G),X=e("./node_modules/antd/lib/_util/responsiveObserve.js"),Se=e.n(X),J=e("./frontend/src/lib/components/ResizableTable/index.tsx"),ee=Object.fromEntries(Object.entries(X.responsiveMap).map(function(oe){var Te=p()(oe,2),y=Te[0],Ve=Te[1];return[y,q(Ve)]})),Ae=Object.values(ee).sort(function(oe,Te){return oe-Te});function N(oe){return oe<576?150:50}function Y(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,y=oe-J.a;return Math.floor(y/Te)}function q(oe){return parseFloat(oe.replace(/[^\d.]/g,""))}function M(){var oe=window.innerWidth,Te=Ae.filter(function(y){return oe>=y}).pop();return Te||Ae[0]}function Q(oe){return ee[oe]||-1}try{N.displayName="getMinColumnWidth",N.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:N.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(oe){}try{q.displayName="parsePixelValue",q.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:q.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(oe){}try{Q.displayName="getBreakpoint",Q.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:Q.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(oe){}},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Vt});var I=e("./node_modules/core-js/modules/es.array.concat.js"),t=e("./node_modules/core-js/modules/es.array.map.js"),Ne=e("./node_modules/core-js/modules/es.array.splice.js"),h=e("./node_modules/@babel/runtime/helpers/extends.js"),je=e.n(h),Xe=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Fe=e.n(Xe),z=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),n=e.n(z),u=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),me=e.n(u),D=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),ne=e.n(D),le={};le.insert="head",le.singleton=!1;var Ce=me()(ne.a,le),se=ne.a.locals||{},G=e("./node_modules/react/index.js"),p=e.n(G),X=e("./node_modules/kea/lib/index.esm.js"),Se=e("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),J=e("./node_modules/core-js/modules/es.symbol.js"),ee=e("./node_modules/core-js/modules/es.symbol.description.js"),Ae=e("./node_modules/core-js/modules/es.array.filter.js"),N=e("./node_modules/core-js/modules/es.function.name.js"),Y=e("./node_modules/core-js/modules/es.object.keys.js"),q=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),M=e.n(q),Q=e("./node_modules/antd/es/button/index.js"),oe=e("./node_modules/antd/es/row/index.js"),Te=e("./node_modules/antd/es/col/index.js"),y=e("./node_modules/antd/es/select/index.js"),Ve=e("./frontend/src/lib/components/Tooltip.tsx"),we=e("./frontend/src/types.ts"),$t=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Qt=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),cn=e("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),Mt=e("./frontend/src/lib/utils.tsx"),xn=e("./frontend/src/lib/components/SeriesGlyph.tsx"),Gn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),bt=e.n(Gn),We={};We.insert="head",We.singleton=!1;var Kt=me()(bt.a,We),ot=bt.a.locals||{},Qe=e("./frontend/src/lib/components/Popup/Popup.tsx"),$e=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),ye=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Ue=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),Pt=e("./node_modules/clsx/dist/clsx.m.js"),be=e("./frontend/src/scenes/trends/mathsLogic.tsx"),Ie=e("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),K=e("./frontend/src/models/actionsModel.ts"),U=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Et=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),it=e("./frontend/src/lib/components/icons.tsx"),et;function sn(w,Re){var Pe=Object.keys(w);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(w);Re&&(_e=_e.filter(function(_t){return Object.getOwnPropertyDescriptor(w,_t).enumerable})),Pe.push.apply(Pe,_e)}return Pe}function P(w){for(var Re=1;Re<arguments.length;Re++){var Pe=arguments[Re]!=null?arguments[Re]:{};Re%2?sn(Object(Pe),!0).forEach(function(_e){Fe()(w,_e,Pe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(Pe)):sn(Object(Pe)).forEach(function(_e){Object.defineProperty(w,_e,Object.getOwnPropertyDescriptor(Pe,_e))})}return w}var Ye=function(Re,Pe){if(Re)return"Hide filters";if(Pe.properties&&Object.keys(Pe.properties).length>0){var _e;return Object(Mt.qb)((_e=Pe.properties)===null||_e===void 0?void 0:_e.length,"filter")}return"Add filters"};function tt(w){var Re,Pe,_e,_t=w.logic,xe=w.filter,st=w.index,en=w.hideMathSelector,kt=w.hidePropertySelector,En=w.singleFilter,vn=w.showOr,wt=w.hideFilter,Wt=w.hideRename,dt=w.onRenameClick,un=dt===void 0?function(){}:dt,gn=w.showSeriesIndicator,ln=w.seriesIndicatorType,Rn=ln===void 0?"alpha":ln,Ot=w.horizontalUI,Le=Ot===void 0?!1:Ot,Ft=w.fullWidth,mn=Ft===void 0?!1:Ft,hn=w.filterCount,On=w.customRowPrefix,Ln=w.customRowSuffix,$n=w.rowClassName,Ka=w.propertyFilterWrapperClassName,va=w.stripeActionRow,ga=va===void 0?!0:va,ca=w.hasBreakdown,Qn=w.showNestedArrow,Oa=Qn===void 0?!1:Qn,Yn=w.hideDeleteBtn,Hn=Yn===void 0?!1:Yn,Aa=w.actionsTaxonomicGroupTypes,da=Aa===void 0?[ye.a.Events,ye.a.Actions]:Aa,ua=w.propertiesTaxonomicGroupTypes,ma=w.disabled,wa=ma===void 0?!1:ma,na=w.readOnly,aa=na===void 0?!1:na,Nn=w.renderRow,ra=Object(X.useValues)(_t),Tn=ra.selectedFilter,Cn=ra.entities,ka=ra.entityFilterVisible,_n=Object(X.useActions)(_t),Tt=_n.updateFilter,bn=_n.selectFilter,Sn=_n.updateFilterMath,Xn=_n.removeLocalFilter,ha=_n.updateFilterProperty,Fa=_n.setEntityFilterVisibility,Wa=_n.duplicateFilter,qn=Object(X.useValues)(K.a),ya=qn.actions,Ua=Object(X.useValues)(be.c),pa=Ua.mathDefinitions,Mn=typeof xe.order=="number"?ka[xe.order]:!1,Ca,fn,ea,Zn=xe.math,Dn=xe.math_property,jn=xe.math_group_type_index,Jn=function(){Xn(P(P({},xe),{},{index:st}))},Ra=function(An,fa){var la;Sn(P(P({},Object(be.b)(fa)),{},{math_property:!((la=pa[fa])===null||la===void 0)&&la.onProperty?Dn!=null?Dn:"$time":void 0,type:xe.type,index:st}))},Sa=function(An,fa){Sn(P(P({},xe),{},{math_property:fa,index:st}))},za=Boolean(Tn&&(Tn==null?void 0:Tn.type)===xe.type&&(Tn==null?void 0:Tn.index)===st),In=function(){bn(za?null:P(P({},xe),{},{index:st}))};if(xe.type===we.g.NEW_ENTITY)fn=null,ea=null;else{var oa;Ca=((oa=Cn[xe.type])===null||oa===void 0?void 0:oa.filter(function(Gt){return Gt.id===xe.id})[0])||{},fn=Ca.name||xe.name,ea=Ca.id||xe.id}var ba=p.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),ja=Rn==="numeric"?p.a.createElement(xn.a,{style:{borderColor:"var(--border)"}},st+1):p.a.createElement(xn.b,{seriesIndex:st,hasBreakdown:ca}),La=typeof On=="function"?On({filter:xe,index:st,onClose:Jn}):On,Na=p.a.createElement(Qe.a,{overlay:p.a.createElement($e.a,{groupType:xe.type,value:xe.type==="actions"&&typeof ea=="string"?parseInt(ea):ea||void 0,onChange:function(An,fa,la){Tt({type:xt(An.type)||void 0,id:"".concat(fa),name:la==null?void 0:la.name,index:st})},onClose:function(){return bn(null)},taxonomicGroupTypes:da}),visible:za,onClickOutside:function(){return bn(null)}},function(Gt){var An=Gt.setRef;return p.a.createElement(Q.a,{"data-attr":"trend-element-subject-"+st,onClick:In,block:mn,ref:An,disabled:wa||aa,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},p.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},p.a.createElement(Ue.a,{filter:xe})),p.a.createElement(Qt.a,{style:{fontSize:10}}))}),Pa=typeof Ln=="function"?Ln({filter:xe,index:st,onClose:Jn}):Ln,sa=p.a.createElement(Q.a,{type:"link",onClick:function(){typeof xe.order=="number"&&Fa(xe.order,!Mn)},className:"row-action-btn show-filters".concat(Mn?" visible":""),"data-attr":"show-prop-filter-".concat(st),title:"Show filters",style:{display:"flex",alignItems:"center"}},p.a.createElement(it.IconFilter,{fontSize:"1.25em"}),!((Re=xe.properties)===null||Re===void 0)&&Re.length?Object(Mt.qb)((Pe=xe.properties)===null||Pe===void 0?void 0:Pe.length,"filter"):null),Da=p.a.createElement(Q.a,{type:"link",onClick:function(){bn(xe),un()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(st),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},p.a.createElement(it.IconEdit,{fontSize:"1.25em"})),Ga=p.a.createElement(Q.a,{type:"link",onClick:function(){Wa(xe)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(st),title:"Duplicate graph series"},p.a.createElement(it.IconCopy,{fontSize:"1.25em"})),xa=p.a.createElement(Q.a,{type:"link",onClick:Jn,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(st),title:"Delete graph series"},p.a.createElement(it.IconDelete,{fontSize:"1.25em"}));return p.a.createElement("div",{className:Object(Pt.a)({"action-row-striped":Le&&ga,"action-row":!Le||!ga,"full-width":mn})},!Le&&st>0&&vn&&p.a.createElement(oe.a,{align:"middle",style:{marginTop:12}},ba),p.a.createElement(oe.a,{gutter:8,align:"middle",className:"".concat(Le?"":"mt"," ").concat($n),wrap:!mn},Nn?Nn({seriesIndicator:ja,prefix:La,filter:Na,suffix:Pa,propertyFiltersButton:sa,renameRowButton:Da,deleteButton:xa,orLabel:ba}):p.a.createElement(p.a.Fragment,null,!Hn&&Le&&!En&&hn>1&&p.a.createElement(Te.a,null,p.a.createElement(Q.a,{type:"link",onClick:Jn,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:p.a.createElement(cn.a,null)})),gn&&p.a.createElement(Te.a,{className:"action-row-letter"},ja),On!==void 0?p.a.createElement(Te.a,null,La):p.a.createElement(p.a.Fragment,null,Le&&p.a.createElement(Te.a,null,"Showing")),p.a.createElement(Te.a,{className:"column-filter",style:mn?{}:{maxWidth:"calc(".concat(en?"100":"50","% - 16px)")},flex:mn?"auto":void 0},Na),Ln!==void 0&&p.a.createElement(Te.a,{className:"column-row-suffix"},Pa),!en&&p.a.createElement(p.a.Fragment,null,Le&&p.a.createElement(Te.a,null,"counted by"),p.a.createElement(Te.a,{style:{maxWidth:"calc(50% - 16px".concat(gn?" - 32px":"",")")}},p.a.createElement(ut,{math:Zn,mathGroupTypeIndex:jn,index:st,onMathSelect:Ra,style:{maxWidth:"100%",width:"initial"}})),((_e=pa[Zn||""])===null||_e===void 0?void 0:_e.onProperty)&&p.a.createElement(p.a.Fragment,null,Le&&p.a.createElement(Te.a,null,"on property"),p.a.createElement(Te.a,{style:{maxWidth:"calc(50% - 16px".concat(gn?" - 32px":"",")")}},p.a.createElement(Et.c,{groupType:ye.a.NumericalEventProperties,value:Dn,onChange:function(An){return Sa(st,An)},eventNames:fn?[fn]:[],dataAttr:"math-property-select",renderValue:function(An){return p.a.createElement(Ve.a,{title:p.a.createElement(p.a.Fragment,null,"Calculate"," ",pa[Zn!=null?Zn:""].name.toLowerCase()," from property ",p.a.createElement("code",null,An),". Note that only"," ",fn," occurences where ",p.a.createElement("code",null,An)," is set with a numeric value will be taken into account."),placement:"right"},p.a.createElement("div",null,p.a.createElement(U.b,{value:An,disablePopover:!0})))}})))),(Le||mn)&&!wt&&!aa&&p.a.createElement(Te.a,null,sa),(Le||mn)&&!Wt&&!aa&&p.a.createElement(Te.a,null,Da),(Le||mn)&&!wt&&!En&&!aa&&p.a.createElement(Te.a,null,Ga),!Hn&&!Le&&!En&&!aa&&p.a.createElement(Te.a,{className:"column-delete-btn"},xa),Le&&hn>1&&st<hn-1&&vn&&ba)),(!kt||xe.properties&&xe.properties.length>0)&&!Le&&!mn&&p.a.createElement("div",{style:{paddingTop:6}},p.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),p.a.createElement(Q.a,{className:"ant-btn-md",onClick:function(){return typeof xe.order=="number"?Fa(xe.order,!Mn):void 0},"data-attr":"show-prop-filter-"+st},Ye(Mn,xe))),Mn&&p.a.createElement("div",{className:"mr property-filter-wrapper ".concat(Ka)},p.a.createElement($t.a,{pageKey:"".concat(st,"-").concat(ea,"-filter"),propertyFilters:xe.properties,onChange:function(An){return ha({properties:An,index:st})},disablePopover:Le,style:{marginBottom:0},showNestedArrow:Oa,taxonomicGroupTypes:ua,eventNames:xe.type===ye.a.Events&&xe.id?[String(xe.id)]:xe.type===ye.a.Actions&&xe.id?Object(Mt.I)(parseInt(String(xe.id)),ya):[]})))}function ut(w){var Re=w.math,Pe=w.mathGroupTypeIndex,_e=w.index,_t=w.onMathSelect,xe=w.style,st="This can only be used on properties that have at least one number type occurence in your events.",en=Object(X.useValues)(be.c),kt=en.eventMathEntries,En=en.propertyMathEntries;return p.a.createElement(y.a,{style:P({width:150},xe),value:Object(be.a)(Re,Pe),onChange:function(wt){return _t(_e,wt)},"data-attr":"math-selector-".concat(_e),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},p.a.createElement(y.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},kt.map(function(vn){var wt=M()(vn,2),Wt=wt[0],dt=wt[1],un=dt.name,gn=dt.description,ln=dt.onProperty;return p.a.createElement(y.a.Option,{key:Wt,value:Wt,"data-attr":"math-".concat(Wt,"-").concat(_e)},p.a.createElement(Ve.a,{title:ln?p.a.createElement(p.a.Fragment,null,gn,p.a.createElement("br",null),st):gn,placement:"right"},p.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},un)))}),Object(Ie.a)({value:""})),p.a.createElement(y.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},En.map(function(vn){var wt=M()(vn,2),Wt=wt[0],dt=wt[1],un=dt.name,gn=dt.description,ln=dt.onProperty;return p.a.createElement(y.a.Option,{key:Wt,value:Wt,"data-attr":"math-".concat(Wt,"-").concat(_e)},p.a.createElement(Ve.a,{title:ln?p.a.createElement(p.a.Fragment,null,gn,p.a.createElement("br",null),st):gn,placement:"right"},p.a.createElement("div",{style:{height:"100%",width:"100%"}},un)))})))}var zt=(et={},Fe()(et,ye.a.Events,we.g.EVENTS),Fe()(et,ye.a.Actions,we.g.ACTIONS),et);function xt(w){return zt[w]||null}try{tt.displayName="ActionFilterRow",tt.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:tt.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(w){}try{xt.displayName="taxonomicFilterGroupTypeToEntityType",xt.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:xt.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(w){}var ft=e("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),Be=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),ct=e.n(Be),Ct=e("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),pe=Object(Ct.c)(function(){return p.a.createElement("span",{className:"action-filter-drag-handle"},p.a.createElement(it.SortableDragIcon,null))}),St=Object(Ct.b)(function(w){var Re=w.filterCount,Pe=w.filterIndex,_e=ct()(w,["filterCount","filterIndex"]),_t=Re>1;return p.a.createElement("div",{className:"draggable-action-filter ".concat(_t?"drag-handle-visible":"")},_t?p.a.createElement(pe,null):p.a.createElement("span",{style:{marginLeft:4}}),p.a.createElement(tt,je()({},_e,{filterCount:Re,index:Pe,key:Pe})))}),ke=Object(Ct.a)(function(w){var Re=w.children;return p.a.createElement("div",null,Re)});try{St.displayName="SortableActionFilterRow",St.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:St.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(w){}try{ke.displayName="SortableContainer",ke.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:ke.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(w){}var mt=e("./node_modules/antd/es/modal/index.js"),nt=e("./node_modules/antd/es/input/index.js"),fe=e("./frontend/src/scenes/insights/utils.ts"),V=Object(X.kea)({props:{},key:function(Re){return Re.typeKey},path:function(Re){return["scenes","insights","ActionFilter","renameModalLogic",Re]},connect:{actions:[Se.a,["selectFilter"]]},actions:function(){return{setName:function(Pe){return{name:Pe}}}},reducers:function(Re){var Pe,_e=Re.props;return{name:[(Pe=Object(fe.c)(_e.filter))!==null&&Pe!==void 0?Pe:"",{setName:function(xe,st){var en=st.name;return en},selectFilter:function(xe,st){var en,kt=st.filter;return(en=Object(fe.c)(kt))!==null&&en!==void 0?en:""}}]}}});function He(w){var Re,Pe=w.typeKey,_e=w.view,_t=Object(X.useValues)(Se.a),xe=_t.selectedFilter,st=_t.modalVisible,en=Object(X.useActions)(Se.a),kt=en.renameFilter,En=en.hideModal,vn=V({typeKey:Pe,filter:xe}),wt=Object(X.useValues)(vn),Wt=wt.name,dt=Object(X.useActions)(vn),un=dt.setName,gn=Object(G.useRef)(null);vt(gn,{cursor:"all"},[st]);var ln="Rename ".concat(_e===we.s.FUNNELS?"funnel step":"graph series");return p.a.createElement(mt.a,{"data-attr":"filter-rename-modal",visible:st,title:ln,footer:p.a.createElement(p.a.Fragment,null,p.a.createElement(Q.a,{type:"link",onClick:En},"Cancel"),p.a.createElement(Q.a,{type:"primary",onClick:function(){return kt(Wt)}},ln)),onCancel:En},"Query series/steps can be renamed to provide a more"," ",p.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",p.a.createElement("br",null),p.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),p.a.createElement(nt.a,{ref:gn,value:Wt,onPressEnter:function(){return kt(Wt)},onChange:function(Ot){return un(Ot.target.value)},suffix:p.a.createElement("span",{className:"text-muted-alt"},(Re=Object(fe.c)(xe,!1))!==null&&Re!==void 0?Re:"")}))}function vt(w,Re){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(G.useEffect)(function(){var _e=setTimeout(function(){if(w.current){var _t;(_t=w.current)===null||_t===void 0||_t.focus(Re)}},0);return function(){return clearTimeout(_e)}},Pe)}try{He.displayName="RenameModal",He.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:He.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(w){}var qt=e("./frontend/src/lib/utils/eventUsageLogic.ts"),gt=e("./frontend/src/scenes/teamLogic.ts");function Zt(w,Re){var Pe=Object.keys(w);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(w);Re&&(_e=_e.filter(function(_t){return Object.getOwnPropertyDescriptor(w,_t).enumerable})),Pe.push.apply(Pe,_e)}return Pe}function yn(w){for(var Re=1;Re<arguments.length;Re++){var Pe=arguments[Re]!=null?arguments[Re]:{};Re%2?Zt(Object(Pe),!0).forEach(function(_e){Fe()(w,_e,Pe[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(Pe)):Zt(Object(Pe)).forEach(function(_e){Object.defineProperty(w,_e,Object.getOwnPropertyDescriptor(Pe,_e))})}return w}var Vt=p.a.forwardRef(function(w,Re){var Pe=w.setFilters,_e=w.filters,_t=w.typeKey,xe=w.addFilterDefaultOptions,st=xe===void 0?{}:xe,en=w.hideMathSelector,kt=w.hidePropertySelector,En=kt===void 0?!1:kt,vn=w.buttonCopy,wt=vn===void 0?"":vn,Wt=w.disabled,dt=Wt===void 0?!1:Wt,un=w.sortable,gn=un===void 0?!1:un,ln=w.showSeriesIndicator,Rn=ln===void 0?!1:ln,Ot=w.seriesIndicatorType,Le=Ot===void 0?"alpha":Ot,Ft=w.showOr,mn=Ft===void 0?!1:Ft,hn=w.hideFilter,On=hn===void 0?!1:hn,Ln=w.hideRename,$n=Ln===void 0?!1:Ln,Ka=w.horizontalUI,va=Ka===void 0?!1:Ka,ga=w.fullWidth,ca=ga===void 0?!1:ga,Qn=w.customRowPrefix,Oa=w.customRowSuffix,Yn=w.rowClassName,Hn=w.entitiesLimit,Aa=w.propertyFilterWrapperClassName,da=w.stripeActionRow,ua=da===void 0?!0:da,ma=w.customActions,wa=w.showNestedArrow,na=wa===void 0?!1:wa,aa=w.actionsTaxonomicGroupTypes,Nn=w.propertiesTaxonomicGroupTypes,ra=w.hideDeleteBtn,Tn=w.renderRow,Cn=w.buttonType,ka=Cn===void 0?"dashed":Cn,_n=w.readOnly,Tt=_n===void 0?!1:_n,bn=Object(X.useValues)(gt.a),Sn=bn.currentTeamId,Xn=Object(Se.a)({teamId:Sn,setFilters:Pe,filters:_e,typeKey:_t,addFilterDefaultOptions:st}),ha=Object(X.useActions)(qt.f),Fa=ha.reportFunnelStepReordered,Wa=Object(X.useValues)(Xn),qn=Wa.localFilters,ya=Object(X.useActions)(Xn),Ua=ya.addFilter,pa=ya.setLocalFilters,Mn=ya.showModal;Object(G.useEffect)(function(){pa(_e)},[_e]);function Ca(Dn){var jn=Dn.oldIndex,Jn=Dn.newIndex;function Ra(Sa,za,In){var oa=n()(Sa);return Array.prototype.splice.call(oa,In,0,Array.prototype.splice.call(oa,za,1)[0]),oa.map(function(ba,ja){return yn(yn({},ba),{},{order:ja})})}Pe(Object(Se.b)(Ra(qn,jn,Jn))),jn!==Jn&&Fa()}var fn=Hn===1,ea={logic:Xn,showSeriesIndicator:Rn,seriesIndicatorType:Le,hideMathSelector:en,hidePropertySelector:En,customRowPrefix:Qn,customRowSuffix:Oa,rowClassName:Yn,propertyFilterWrapperClassName:Aa,stripeActionRow:ua,hasBreakdown:!!_e.breakdown,fullWidth:ca,actionsTaxonomicGroupTypes:aa,propertiesTaxonomicGroupTypes:Nn,hideDeleteBtn:ra,disabled:dt,readOnly:Tt,renderRow:Tn,hideRename:$n,onRenameClick:Mn},Zn=Boolean(Hn&&qn.length>=Hn);return p.a.createElement("div",{ref:Re},!$n&&!Tt&&p.a.createElement(X.BindLogic,{logic:Se.a,props:{setFilters:Pe,filters:_e,typeKey:_t,addFilterDefaultOptions:st}},p.a.createElement(He,{view:_e.insight,typeKey:_t})),qn?gn?p.a.createElement(ke,{onSortEnd:Ca,lockAxis:"y",distance:5},qn.map(function(Dn,jn){return p.a.createElement(St,je()({key:jn,filter:Dn,index:jn,filterIndex:jn,filterCount:qn.length,showNestedArrow:na},ea))})):qn.map(function(Dn,jn){return p.a.createElement(tt,je()({filter:Dn,index:jn,key:jn,singleFilter:fn,showOr:mn,hideFilter:On||Tt,horizontalUI:va,filterCount:qn.length,showNestedArrow:na},ea))}):null,(!fn||ma)&&p.a.createElement("div",{className:Object(Pt.a)(ka!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!fn&&p.a.createElement(Q.a,{type:ka,onClick:function(){return Ua()},"data-attr":"add-action-event-button",icon:p.a.createElement(ft.a,null),disabled:Zn||dt||Tt,className:"add-action-event-button"},Zn?"Reached limit of ".concat(Hn," ").concat(_e.insight===we.s.FUNNELS?"steps":"series"):wt||"Action or event"),ma))});try{Vt.displayName="ActionFilter",Vt.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:Vt.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(w){}},"./frontend/src/scenes/insights/InsightContainer.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Ge});var I=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),t=e.n(I),Ne=e("./node_modules/antd/es/card/index.js"),h=e("./node_modules/antd/es/row/index.js"),je=e("./node_modules/antd/es/col/index.js"),Xe=e("./node_modules/core-js/modules/es.array.includes.js"),Fe=e("./node_modules/core-js/modules/es.string.includes.js"),z=e("./node_modules/react/index.js"),n=e.n(z),u=e("./node_modules/kea/lib/index.esm.js"),me=e("./node_modules/antd/es/tag/index.js"),D=e("./node_modules/antd/es/select/index.js"),ne=e("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),le=e("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),Ce=e("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),se=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},p=G,X=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Se=function(S,x){return z.createElement(X.a,Object(se.a)(Object(se.a)({},S),{},{ref:x,icon:p}))};Se.displayName="AreaChartOutlined";var J=z.forwardRef(Se),ee=e("./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js"),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},N=Ae,Y=function(S,x){return z.createElement(X.a,Object(se.a)(Object(se.a)({},S),{},{ref:x,icon:N}))};Y.displayName="TableOutlined";var q=z.forwardRef(Y),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},Q=M,oe=function(S,x){return z.createElement(X.a,Object(se.a)(Object(se.a)({},S),{},{ref:x,icon:Q}))};oe.displayName="PieChartOutlined";var Te=z.forwardRef(oe),y=e("./frontend/src/types.ts"),Ve=e("./frontend/src/lib/utils.tsx"),we=e("./frontend/src/scenes/insights/insightLogic.ts");function $t(T){var S=T.filters,x=T.onChange,F=T.disabled,W=Object(u.useValues)(we.c),B=W.insightProps,te=Object(u.useValues)(Object(ne.a)(B)),ge=te.chartFilter,he=Object(u.useActions)(Object(ne.a)(B)),De=he.setChartFilter,ie=S.insight===y.s.STICKINESS||S.insight===y.s.RETENTION,ce=!1,ze=S.insight===y.s.RETENTION||S.insight===y.s.STICKINESS,Me=S.insight===y.s.RETENTION,rt=Me||S.insight===y.s.STICKINESS||S.insight===y.s.RETENTION,yt=S.insight===y.s.RETENTION?y.d.ActionsTable:S.insight===y.s.FUNNELS?y.d.FunnelViz:y.d.ActionsLineGraph;function Ke(an){var Ht=an.icon,Ut=an.children,pn=Ut===void 0?null:Ut;return n.a.createElement(n.a.Fragment,null,Ht," ",pn)}function nn(an){var Ht=an.children,Ut=Ht===void 0?null:Ht;return n.a.createElement(me.a,{color:"orange",style:{marginLeft:8,fontSize:10}},Ut)}var tn=S.insight===y.s.FUNNELS?[{value:y.o.Steps,label:n.a.createElement(Ke,{icon:n.a.createElement(le.a,null)},"Steps")},{value:y.o.Trends,label:n.a.createElement(Ke,{icon:n.a.createElement(Ce.a,null)},"Trends",n.a.createElement(nn,null,"BETA"))}]:[{label:"Line Chart",options:[{value:y.d.ActionsLineGraph,label:n.a.createElement(Ke,{icon:n.a.createElement(Ce.a,null)},"Linear")},{value:y.d.ActionsLineGraphCumulative,label:n.a.createElement(Ke,{icon:n.a.createElement(J,null)},"Cumulative"),disabled:ie}]},{label:"Bar Chart",options:[{value:y.d.ActionsBar,label:n.a.createElement(Ke,{icon:n.a.createElement(ee.a,null)},"Time"),disabled:Me},{value:y.d.ActionsBarValue,label:n.a.createElement(Ke,{icon:n.a.createElement(ee.a,null)},"Value"),disabled:rt}]},{value:y.d.ActionsTable,label:n.a.createElement(Ke,{icon:n.a.createElement(q,null)},"Table"),disabled:ce},{value:y.d.ActionsPie,label:n.a.createElement(Ke,{icon:n.a.createElement(Te,null)},"Pie"),disabled:ze}];return n.a.createElement(D.a,{key:"2",defaultValue:S.display||yt,value:ge||yt,onChange:function(Ht){De(Ht),x==null||x(Ht)},bordered:!0,dropdownAlign:Ve.a.bottomRight,dropdownMatchSelectWidth:!1,"data-attr":"chart-filter",disabled:F,options:tn})}try{$t.displayName="ChartFilter",$t.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:$t.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(T){}var Qt=e("./node_modules/antd/es/checkbox/index.js"),cn=e("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function Mt(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=Object(u.useValues)(Object(cn.a)(S)),F=x.compare,W=x.disabled,B=Object(u.useActions)(Object(cn.a)(S)),te=B.setCompare;return W?null:n.a.createElement(Qt.a,{onChange:function(he){te(he.target.checked)},checked:F,style:{marginLeft:8,marginRight:6},disabled:W},"Compare",n.a.createElement("span",{className:"hide-lte-md"}," to previous"))}var xn=e("./node_modules/core-js/modules/es.array.map.js"),Gn=e("./node_modules/core-js/modules/es.object.entries.js"),bt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),We=e.n(bt),Kt=e("./node_modules/core-js/modules/es.array.iterator.js"),ot=e("./node_modules/core-js/modules/es.object.to-string.js"),Qe=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),$e=e("./frontend/src/scenes/insights/sharedUtils.ts");function ye(T,S){var x=Object.keys(T);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(T);S&&(F=F.filter(function(W){return Object.getOwnPropertyDescriptor(T,W).enumerable})),x.push.apply(x,F)}return x}function Ue(T){for(var S=1;S<arguments.length;S++){var x=arguments[S]!=null?arguments[S]:{};S%2?ye(Object(x),!0).forEach(function(F){t()(T,F,x[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(x)):ye(Object(x)).forEach(function(F){Object.defineProperty(T,F,Object.getOwnPropertyDescriptor(x,F))})}return T}var Pt=Object(u.kea)({props:{},key:Object($e.c)("new"),path:function(S){return["lib","components","IntervalFilter","intervalFilterLogic",S]},connect:function(S){return{actions:[Object(we.c)(S),["setFilters"]],values:[Object(we.c)(S),["filters"]]}},actions:function(){return{setInterval:function(x){return{interval:x}}}},listeners:function(S){var x=S.values,F=S.actions;return{setInterval:function(B){var te=B.interval;Object(Ve.mb)(te,x.filters.interval)||F.setFilters(Ue(Ue({},x.filters),{},{interval:te}))}}},selectors:{interval:[function(T){return[T.filters]},function(T){return T==null?void 0:T.interval}]}}),be=e("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),Ie={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function K(T){var S=T.disabled,x=Object(u.useValues)(we.c),F=x.insightProps,W=Object(u.useValues)(Pt(F)),B=W.interval,te=Object(u.useActions)(Pt(F)),ge=te.setInterval,he=Object.entries(Ie).map(function(De){var ie=We()(De,2),ce=ie[0],ze=ie[1].label;return{key:ce,value:ce,label:ce===B?n.a.createElement(n.a.Fragment,null,n.a.createElement(be.a,null)," ",ze):ze}});return n.a.createElement(D.a,{bordered:!0,disabled:S,defaultValue:B||"day",value:B||void 0,dropdownMatchSelectWidth:!1,onChange:ge,"data-attr":"interval-filter",options:he})}try{K.displayName="IntervalFilter",K.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:K.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(T){}var U=e("./frontend/src/lib/constants.tsx"),Et=e("./node_modules/@babel/runtime/helpers/extends.js"),it=e.n(Et),et=e("./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts"),sn=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function P(T){var S=Object(u.useValues)(we.c),x=S.insightProps,F=Object(u.useValues)(Object(et.a)(x)),W=F.dates,B=W.dateFrom,te=W.dateTo,ge=Object(u.useActions)(Object(et.a)(x)),he=ge.setDates;return n.a.createElement(sn.a,it()({},T,{dateFrom:B!=null?B:void 0,dateTo:te!=null?te:void 0,onChange:function(ie,ce){var ze;he(ie,ce),(ze=T.onChange)===null||ze===void 0||ze.call(T,ie,ce)}}))}try{P.displayName="InsightDateFilter",P.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string"}},showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},bordered:{defaultValue:null,description:"",name:"bordered",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string, toDate: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"((props: any) => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"Record<string, dateMappingOption>"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}},selectProps:{defaultValue:null,description:"",name:"selectProps",required:!1,type:{name:"SelectProps<any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:P.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(T){}var Ye=e("./node_modules/rc-picker/lib/generate/dayjs.js"),tt=e.n(Ye),ut=e("./node_modules/antd/lib/date-picker/generatePicker/index.js"),zt=e.n(ut),xt=e("./frontend/src/scenes/retention/retentionTableLogic.ts"),ft=e("./frontend/src/lib/components/Tooltip.tsx"),Be=e("./frontend/src/lib/dayjs.ts"),ct=zt()(tt.a);function Ct(T){var S=T.disabled,x=Object(u.useValues)(we.c),F=x.insightProps,W=Object(u.useValues)(Object(xt.d)(F)),B=W.filters,te=Object(u.useActions)(Object(xt.d)(F)),ge=te.setFilters,he=B.date_to&&Object(Be.a)(B.date_to).year()!==Object(Be.a)().year()?", YYYY":"";return n.a.createElement(n.a.Fragment,null,n.a.createElement(ft.a,{title:"Cohorts up to this end date"},n.a.createElement("span",{style:{maxWidth:100,display:"inline-flex",alignItems:"center"}},n.a.createElement(be.a,null),n.a.createElement(ct,{showTime:B.period==="Hour",use12Hours:!0,format:B.period==="Hour"?"MMM D".concat(he,", h a"):"MMM D".concat(he),value:B.date_to?Object(Be.a)(B.date_to):void 0,onChange:function(ie){return ge({date_to:ie&&Object(Be.a)(ie).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",suffixIcon:null,disabled:S}))))}try{Ct.displayName="RetentionDatePicker",Ct.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:Ct.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(T){}var pe=e("./frontend/src/scenes/funnels/funnelLogic.ts"),St=e("./node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js");function ke(T){var S=T.disabled,x=Object(u.useValues)(we.c),F=x.insightProps,W=Object(u.useValues)(Object(pe.a)(F)),B=W.barGraphLayout,te=Object(u.useActions)(Object(pe.a)(F)),ge=te.setFilters,he=[{value:U.p.vertical,icon:n.a.createElement(ee.a,null),label:"Left to right"},{value:U.p.horizontal,icon:n.a.createElement(St.a,null),label:"Top to bottom"}];return n.a.createElement(D.a,{defaultValue:U.p.vertical,value:B||U.p.vertical,onChange:function(ie){return ge({layout:ie})},bordered:!0,dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",optionLabelProp:"label",disabled:S},n.a.createElement(D.a.OptGroup,{label:"Graph display options"},he.map(function(De){return n.a.createElement(D.a.Option,{key:De.value,value:De.value,label:n.a.createElement(n.a.Fragment,null,De.icon," ",De.label)},De.label)})))}try{ke.displayName="FunnelDisplayLayoutPicker",ke.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:ke.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(T){}var mt=e("./node_modules/core-js/modules/es.array.concat.js"),nt=e("./node_modules/core-js/modules/es.array.from.js"),fe=e("./node_modules/core-js/modules/es.set.js"),V=e("./node_modules/core-js/modules/es.string.iterator.js"),He=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),vt=e.n(He),qt=e("./node_modules/antd/es/input-number/index.js"),gt=e("./node_modules/clsx/dist/clsx.m.js"),Zt=0,yn=90,Vt=new Set([5,15,25,50,90]),w=[{label:"Auto bins",value:U.g,display:!0}].concat(vt()(Array.from(Array.from(Array(yn+1).keys()),function(T){return{label:"".concat(T," bins"),value:T,display:Vt.has(T)}})),[{label:"Custom",value:"custom",display:!0}]);function Re(T){var S=T.disabled,x=Object(u.useValues)(we.c),F=x.insightProps,W=Object(u.useValues)(Object(pe.a)(F)),B=W.filters,te=W.numericBinCount,ge=Object(u.useActions)(Object(pe.a)(F)),he=ge.setBinCount;return n.a.createElement(D.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:U.g,value:B.bin_count||U.g,onSelect:function(ie){return he(ie)},dropdownRender:function(ie){return n.a.createElement(n.a.Fragment,null,ie,n.a.createElement("div",null,n.a.createElement(qt.a,{className:"funnel-bins-custom-picker",size:"middle",min:Zt,max:yn,value:te,onChange:function(ze){var Me=typeof ze=="string"?parseInt(ze):ze;Me&&he(Me)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:Ve.a.bottomRight,optionLabelProp:"label",disabled:S},n.a.createElement(D.a.OptGroup,{label:"Bin Count"},w.map(function(De){return De.value==="custom"?null:n.a.createElement(D.a.Option,{className:Object(gt.a)({"select-option-hidden":!De.display}),key:De.value,value:De.value,label:n.a.createElement(n.a.Fragment,null,n.a.createElement(ee.a,null)," ",De.label)},De.label)})))}try{Re.displayName="FunnelBinsPicker",Re.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:Re.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(T){}var Pe=e("./node_modules/core-js/modules/es.array.filter.js"),_e=e("./node_modules/core-js/modules/es.array.slice.js"),_t=e("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),xe=e("./frontend/src/scenes/paths/pathsLogic.ts"),st=e("./frontend/src/scenes/userLogic.ts");function en(T){var S,x=T.disabled,F=Object(u.useValues)(we.c),W=F.insightProps,B=Object(u.useValues)(Object(xe.b)(W)),te=B.filter,ge=Object(u.useActions)(Object(xe.b)(W)),he=ge.setFilter,De=Object(u.useValues)(st.a),ie=De.user,ce=2,ze=!(ie==null||(S=ie.organization)===null||S===void 0)&&S.available_features.includes(y.c.PATHS_ADVANCED)?20:5,Me=Array.from(Array.from(Array.from(Array(ze+1).keys()).slice(ce)),function(rt){return{label:"".concat(rt," Steps"),value:rt}});return n.a.createElement(D.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:te.step_limit||xe.a,onSelect:function(yt){return he({step_limit:yt})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:Ve.a.bottomRight,optionLabelProp:"label",disabled:x},Me.map(function(rt){return n.a.createElement(D.a.Option,{key:rt.value,value:rt.value,label:n.a.createElement(n.a.Fragment,null,n.a.createElement(_t.a,null)," ",rt.label)},rt.label)}))}try{en.displayName="PathStepPicker",en.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:en.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"})}catch(T){}var kt=e("./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js");function En(T){var S=T.disabled,x=Object(u.useValues)(we.c),F=x.insightProps,W=Object(u.useValues)(Object(xt.d)(F)),B=W.retentionReference,te=Object(u.useActions)(Object(xt.d)(F)),ge=te.setRetentionReference;return n.a.createElement(D.a,{value:B,onChange:ge,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:S},[{value:"total",icon:n.a.createElement(kt.a,null),label:"Overall cohort"},{value:"previous",icon:n.a.createElement(kt.a,null),label:"Relative to previous period"}].map(function(he){return n.a.createElement(D.a.Option,{key:he.value,value:he.value,label:n.a.createElement(n.a.Fragment,null,he.icon," ",he.label)},he.label)}))}try{En.displayName="ReferencePicker",En.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:En.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"})}catch(T){}var vn=e("./node_modules/antd/es/tooltip/index.js"),wt=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Wt,dt,un=function(S,x){switch(S){case y.s.FUNNELS:return x.funnel_viz_type===y.o.Trends;case y.s.RETENTION:case y.s.PATHS:return!1;case y.s.TRENDS:case y.s.STICKINESS:case y.s.LIFECYCLE:default:return![U.e,U.f,U.b].includes(x.display||"")}},gn=function(S){switch(S){case y.s.TRENDS:case y.s.STICKINESS:return!0;case y.s.RETENTION:case y.s.FUNNELS:return!1;case y.s.LIFECYCLE:case y.s.PATHS:return!1;default:return!0}},ln=(Wt={},t()(Wt,"".concat(y.s.TRENDS),!0),t()(Wt,"".concat(y.s.STICKINESS),!0),t()(Wt,"".concat(y.s.LIFECYCLE),!0),t()(Wt,"".concat(y.s.FUNNELS),!0),t()(Wt,"".concat(y.s.RETENTION),!1),t()(Wt,"".concat(y.s.PATHS),!0),Wt),Rn=(dt={},t()(dt,"".concat(y.s.TRENDS),!0),t()(dt,"".concat(y.s.STICKINESS),!0),t()(dt,"".concat(y.s.LIFECYCLE),!1),t()(dt,"".concat(y.s.FUNNELS),!1),t()(dt,"".concat(y.s.RETENTION),!1),t()(dt,"".concat(y.s.PATHS),!1),dt),Ot=function(S){var x,F;return!S.actions&&!S.events||((x=S.actions)===null||x===void 0?void 0:x.length)===0&&((F=S.events)===null||F===void 0?void 0:F.length)===0};function Le(T){var S=T.filters,x=T.activeView,F=T.disableTable,W=T.disabled,B=x===y.s.FUNNELS,te=x===y.s.PATHS;return n.a.createElement("div",{className:"display-config-inner"},n.a.createElement("div",{className:"display-config-inner-row"},ln[x]&&!F&&n.a.createElement("span",{className:"filter"},n.a.createElement("span",{className:"head-title-item"},"Date range"),n.a.createElement(P,{defaultValue:"Last 7 days",disabled:W||B&&Ot(S),bordered:!0,makeLabel:function(he){return n.a.createElement(n.a.Fragment,null,n.a.createElement(be.a,null)," ",he,he=="All time"&&n.a.createElement(vn.a,{title:"Only events dated after 2015 will be shown"},n.a.createElement(wt.a,{className:"info-indicator"})))}})),un(x,S)&&n.a.createElement("span",{className:"filter"},n.a.createElement("span",{className:"head-title-item"},n.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),n.a.createElement(K,{view:x,disabled:W})),x===y.s.RETENTION&&n.a.createElement(n.a.Fragment,null,n.a.createElement(Ct,{disabled:W}),n.a.createElement(En,{disabled:W})),te&&n.a.createElement("span",{className:"filter"},n.a.createElement(en,{disabled:W})),Rn[x]&&n.a.createElement("span",{className:"filter"},n.a.createElement(Mt,null))),n.a.createElement("div",{className:"display-config-inner-row"},gn(x)&&n.a.createElement("span",{className:"filter"},n.a.createElement("span",{className:"head-title-item"},"Chart type"),n.a.createElement($t,{filters:S,disabled:W||S.insight===y.s.LIFECYCLE})),B&&S.funnel_viz_type===y.o.Steps&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"filter"},n.a.createElement(ke,{disabled:W}))),B&&S.funnel_viz_type===y.o.TimeToConvert&&n.a.createElement("span",{className:"filter"},n.a.createElement(Re,{disabled:W}))))}try{Le.displayName="InsightDisplayConfig",Le.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:Le.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(T){}var Ft=e("./node_modules/antd/es/button/index.js"),mn=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),hn=e.n(mn),On=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),Ln=e.n(On),$n={};$n.insert="head",$n.singleton=!1;var Ka=hn()(Ln.a,$n),va=Ln.a.locals||{},ga=e("./frontend/src/scenes/funnels/funnelUtils.ts"),ca=e("./node_modules/core-js/modules/es.array.find.js"),Qn=e("./frontend/src/lib/components/EntityFilterInfo.tsx");function Oa(){var T,S=Object(u.useValues)(we.c),x=S.insightProps,F=Object(u.useValues)(Object(pe.a)(x)),W=F.filters,B=F.numberOfSeries,te=F.areFiltersValid,ge=F.filterSteps,he=Object(u.useActions)(Object(pe.a)(x)),De=he.changeStepRange;if(W.funnel_viz_type===y.o.Steps)return null;var ie=function(yt,Ke){De(yt,Ke)},ce=te?Array.from(Array(Math.max(B)).keys()).slice(0,-1):[0],ze=te?Array.from(Array(Math.max(B)).keys()).slice(((T=W.funnel_from_step)!==null&&T!==void 0?T:0)+1):[1],Me=function(yt){return yt.map(function(Ke){var nn=ge.find(function(tn){return tn.order===Ke});return nn?n.a.createElement(D.a.Option,{key:Ke,value:Ke,label:"Step ".concat(Ke+1)},n.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},n.a.createElement("span",{style:{marginRight:4}},"Step ",Ke+1,":"),n.a.createElement(Qn.a,{filter:nn}))):null})};return n.a.createElement(h.a,{className:"funnel-options-inputs"},n.a.createElement("span",{className:"text-muted-alt"},"from"),n.a.createElement(D.a,{disabled:!te,dropdownMatchSelectWidth:!1,dropdownAlign:Ve.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:W.funnel_from_step||0,onChange:function(yt){return ie(yt,W.funnel_to_step)},style:{marginLeft:4,marginRight:4}},Me(ce)),n.a.createElement("span",{className:"text-muted-alt"},"to"),n.a.createElement(D.a,{disabled:!te,dropdownMatchSelectWidth:!1,dropdownAlign:Ve.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:W.funnel_to_step||Math.max(B-1,1),onChange:function(yt){return ie(W.funnel_from_step,yt)},style:{marginLeft:4,marginRight:4}},Me(ze)))}function Yn(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=T.filters,F=T.activeView,W=Object(u.useValues)(Object(pe.a)(S)),B=W.conversionMetrics,te=W.aggregationTargetLabel,ge=Object(u.useActions)(Object(ne.a)(S)),he=ge.setChartFilter;if(F!==y.s.FUNNELS)return null;var De=[].concat(vt()(x.funnel_viz_type===y.o.Steps?[n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-muted-alt"},n.a.createElement(ft.a,{title:"Overall conversion rate for all ".concat(te.plural," on the entire funnel.")},n.a.createElement(wt.a,{className:"info-indicator left"})),"Total conversion rate"),n.a.createElement("span",{className:"text-muted-alt mr-025"},":"),n.a.createElement("span",{className:"l4"},Object(ga.c)(B.totalRate),"%"))]:[]),vt()(x.funnel_viz_type!==y.o.Trends?[n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-muted-alt"},n.a.createElement(ft.a,{title:"Average (arithmetic mean) of the total time each ".concat(te.singular," spent in the entire funnel.")},n.a.createElement(wt.a,{className:"info-indicator left"})),"Average time to convert"," "),x.funnel_viz_type===y.o.TimeToConvert&&n.a.createElement(Oa,null),n.a.createElement("span",{className:"text-muted-alt mr-025"},":"),n.a.createElement(Ft.a,{type:"link",onClick:function(){return he(y.o.TimeToConvert)},disabled:x.funnel_viz_type===y.o.TimeToConvert},n.a.createElement("span",{className:"l4"},Object(Ve.N)(B.averageTime))))]:[]),vt()(x.funnel_viz_type===y.o.Trends?[n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),n.a.createElement(Oa,null))]:[]));return n.a.createElement(h.a,{className:"funnel-canvas-label",align:"middle"},De.map(function(ie,ce){return n.a.createElement(n.a.Fragment,{key:ce},ce>0&&n.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),ie)}))}function Hn(T){var S=Object(z.useState)(0),x=We()(S,2),F=x[1];Object(z.useEffect)(function(){var W=setInterval(function(){return F(function(B){return B+1})},T);return function(){return clearInterval(W)}})}var Aa=3;function da(){var T=Object(u.useValues)(we.c),S=T.lastRefresh,x=Object(u.useActions)(we.c),F=x.loadResults;return Hn(15e3),n.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",S?Object(Be.a)(S).fromNow():"a while ago",n.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),n.a.createElement(vn.a,{title:n.a.createElement(n.a.Fragment,null,"Insights can be refreshed",n.a.createElement("br",null),"every ",Aa," minutes.")},n.a.createElement(Ft.a,{size:"small",type:"link",onClick:function(){return F(!0)},disabled:!!S&&Object(Be.a)().subtract(Aa-.5,"minutes").isBefore(S),style:{padding:0}},n.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var ua=e("./frontend/src/scenes/trends/PersonsModal.tsx"),ma=e("./frontend/src/scenes/trends/viz/index.ts"),wa=e("./frontend/src/scenes/trends/SaveCohortModal.tsx"),na=e("./frontend/src/scenes/trends/trendsLogic.ts"),aa=e("./frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},showTotalCount:{defaultValue:{value:"false"},description:"",name:"showTotalCount",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"})}catch(T){}var Nn=e("./frontend/src/scenes/trends/personsModalLogic.ts"),ra=e("./frontend/src/lib/utils/eventUsageLogic.ts"),Tn=e("./frontend/src/scenes/insights/insightSceneLogic.tsx");function Cn(T){var S=T.view,x=Object(u.useValues)(Tn.a),F=x.insightMode,W=Object(u.useValues)(we.c),B=W.insightProps,te=Object(u.useValues)(Nn.b),ge=te.cohortModalVisible,he=Object(u.useActions)(Nn.b),De=he.setCohortModalVisible,ie=Object(u.useValues)(Object(na.a)(B)),ce=ie.filters,ze=ie.loadMoreBreakdownUrl,Me=ie.breakdownValuesLoading,rt=ie.showModalActions,yt=ie.aggregationTargetLabel,Ke=Object(u.useActions)(Object(na.a)(B)),nn=Ke.loadMoreBreakdownValues,tn=Object(u.useValues)(Nn.b),an=tn.showingPeople,Ht=Object(u.useActions)(Nn.b),Ut=Ht.saveCohortWithUrl,pn=Object(u.useActions)(ra.f),ta=pn.reportCohortCreatedFromPersonsModal,Vn=function(){if(!ce.display||ce.display===U.d||ce.display===U.c||ce.display===U.a)return n.a.createElement(ma.b,null);if(ce.display===U.f)return n.a.createElement(u.BindLogic,{logic:na.a,props:{dashboardItemId:null,view:S,filters:null}},n.a.createElement(aa.b,{embedded:!0,showTotalCount:!0,filterKey:"trends_".concat(S),canEditSeriesNameInline:F===y.t.Edit,isMainInsightView:!0}));if(ce.display===U.e)return n.a.createElement(ma.c,null);if(ce.display===U.b)return n.a.createElement(ma.a,null)};return n.a.createElement(n.a.Fragment,null,(ce.actions||ce.events)&&n.a.createElement("div",{className:ce.display!==U.f?"trends-insights-container":void 0},Vn()),ce.breakdown&&n.a.createElement("div",{className:"mt text-center"},ze?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"text-muted mb"},"For readability, ",n.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),n.a.createElement("div",null,n.a.createElement(Ft.a,{style:{textAlign:"center",marginBottom:16},onClick:nn,loading:Me},"Load more breakdown values"))):n.a.createElement("span",{className:"text-muted"},"Showing ",n.a.createElement("b",null,"all breakdown values"))),n.a.createElement(ua.a,{visible:an&&!ge,view:S,filters:ce,onSaveCohort:function(){De(!0)},showModalActions:rt,aggregationTargetLabel:yt}),n.a.createElement(wa.a,{visible:ge,onOk:function(Qa){Ut(Qa),De(!1),ta(ce)},onCancel:function(){return De(!1)}}))}try{Cn.displayName="TrendInsight",Cn.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:Cn.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(T){}var ka=e("./frontend/src/scenes/funnels/Funnel.tsx");function _n(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=Object(u.useValues)(Object(pe.a)(S)),F=x.isValidFunnel,W=x.insightLoading,B=x.filters,te=x.areFiltersValid,ge=x.barGraphLayout,he=x.aggregationTargetLabel,De=Object(u.useValues)(Nn.b),ie=De.showingPeople,ce=De.cohortModalVisible,ze=Object(u.useActions)(Nn.b),Me=ze.setCohortModalVisible;return n.a.createElement(n.a.Fragment,null,n.a.createElement(ua.a,{visible:ie&&!ce,view:y.s.FUNNELS,filters:B,onSaveCohort:function(){Me(!0)},showModalActions:B.aggregation_group_type_index==null,aggregationTargetLabel:he}),n.a.createElement("div",{className:Object(gt.a)("funnel-insights-container",{"non-empty-state":F&&te||W,"no-padding":B.funnel_viz_type==y.o.Steps&&ge===U.p.vertical})},n.a.createElement(ka.a,null)))}var Tt=e("./frontend/src/scenes/retention/RetentionContainer.tsx"),bn=e("./frontend/src/scenes/paths/Paths.tsx"),Sn=e("./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx"),Xn=e("./frontend/src/scenes/insights/EmptyStates/index.ts"),ha=e("./frontend/src/lib/logic/featureFlagLogic.ts");function Fa(){var T=Object(u.useValues)(we.c),S=T.activeView;return S!==y.s.PATHS?null:n.a.createElement(h.a,{className:"funnel-canvas-label",align:"middle"},n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var Wa=e("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),qn=e("./node_modules/antd/lib/input/TextArea.js"),ya=e.n(qn),Ua=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss"),pa=e.n(Ua),Mn={};Mn.insert="head",Mn.singleton=!1;var Ca=hn()(pa.a,Mn),fn=pa.a.locals||{},ea=e("./node_modules/core-js/modules/es.number.constructor.js"),Zn=e("./node_modules/core-js/modules/es.number.is-integer.js"),Dn=e("./node_modules/core-js/modules/es.number.to-fixed.js"),jn=e("./node_modules/core-js/modules/es.regexp.exec.js"),Jn=e("./node_modules/core-js/modules/es.string.split.js"),Ra=e("./node_modules/antd/es/spin/index.js"),Sa=e("./node_modules/antd/es/table/index.js"),za=e("./node_modules/antd/lib/table/Column.js"),In=e.n(za),oa=e("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},ja=ba,La=function(S,x){return z.createElement(X.a,Object(se.a)(Object(se.a)({},S),{},{ref:x,icon:ja}))};La.displayName="FallOutlined";var Na=z.forwardRef(La),Pa=e("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),sa=e("./frontend/src/lib/components/icons.tsx"),Da=e("./node_modules/antd/lib/checkbox/Checkbox.js"),Ga=e.n(Da),xa=e("./frontend/src/scenes/funnels/FunnelBarGraph.tsx"),Gt=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),An=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss"),fa=e.n(An),la={};la.insert="head",la.singleton=!1;var br=hn()(fa.a,la),nr=fa.a.locals||{},ar=e("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function _a(T){var S=T.id,x=T.offset,F=T.children,W=Object(u.useActions)(Object(ar.a)({id:S,offset:x})),B=W.scrolling,te=Object(z.useRef)(null);return Object(z.useEffect)(function(){var ge=te.current;return document.addEventListener("scroll",function(){return B(ge)}),function(){return document.removeEventListener("scroll",function(){return B(ge)})}},[te.current]),n.a.createElement("div",{ref:te},F)}try{_a.displayName="VisibilitySensor",_a.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:_a.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(T){}var Ta=e("./frontend/src/lib/components/LemonButton/index.ts"),rr=e("./frontend/src/lib/components/Popup/Popup.tsx"),dr=e("./node_modules/antd/es/modal/index.js"),or=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),Xa=e("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),Er=e("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),ur=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss"),$a=e.n(ur),sr={};sr.insert="head",sr.singleton=!1;var Cr=hn()($a.a,sr),Ma=$a.a.locals||{},mr=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),Za=e("./frontend/src/lib/components/Link.tsx"),er=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function Ja(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=Object(pe.a)(S),F=Object(u.useValues)(x),W=F.correlationsLoading,B=F.funnelCorrelationDetails,te=F.parseDisplayNameForCorrelation,ge=F.correlationMatrixAndScore,he=Object(u.useActions)(x),De=he.setFunnelCorrelationDetails,ie=he.openCorrelationPersonsModal,ce=(B==null?void 0:B.result_type)===y.k.Events?"event":"property",ze=(B==null?void 0:B.result_type)===y.k.Events?"performed event":"have property",Me=n.a.createElement(n.a.Fragment,null);if(B){var rt=te(B),yt=rt.first_value,Ke=rt.second_value;Me=n.a.createElement(n.a.Fragment,null,n.a.createElement(Gt.b,{value:yt}),Ke!==void 0&&n.a.createElement(n.a.Fragment,null," :: ",n.a.createElement(Gt.b,{value:Ke,disablePopover:!0})))}var nn=ge.correlationScore,tn=ge.truePositive,an=ge.falsePositive,Ht=ge.trueNegative,Ut=ge.falseNegative,pn=ge.correlationScoreStrength,ta=pn==="strong"?n.a.createElement(or.a,{style:{color:"var(--success)"}}):pn==="moderate"?n.a.createElement(Xa.a,{style:{color:"var(--warning)"}}):n.a.createElement(Er.a,{style:{color:"var(--danger)"}}),Vn=function(){return De(null)};return n.a.createElement(dr.a,{className:"correlation-matrix",visible:!!B,onCancel:Vn,destroyOnClose:!0,footer:n.a.createElement(Ft.a,{onClick:Vn},"Dismiss"),width:600,title:"Correlation details"},n.a.createElement("div",{className:"correlation-table-wrapper"},W?n.a.createElement("div",{className:"mt text-center"},n.a.createElement(mr.a,{size:"lg"})):B?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"text-muted-alt mb"},"The table below displays the correlation details for users who ",ze," ",n.a.createElement("b",null,Me),"."),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",{className:"table-title"},n.a.createElement("td",{colSpan:3},"Results matrix")),n.a.createElement("tr",null,n.a.createElement("td",null,(B==null?void 0:B.result_type)===y.k.Events?"Performed event":"Has property"),n.a.createElement("td",null,"Success"),n.a.createElement("td",null,"Dropped off"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"horizontal-header"},"Yes"),n.a.createElement("td",null,n.a.createElement(ft.a,{title:"True positive (TP) - Percentage of users who ".concat(ze," and completed the funnel.")},n.a.createElement("div",{className:"percentage"},tn?Object(Ve.ob)(tn/(tn+an)):"0.00%")),tn===0?"0 users":n.a.createElement(Za.a,{onClick:function(){ie(B,!0)}},Object(Ve.qb)(tn,"user",void 0,!0,!0))),n.a.createElement("td",null,n.a.createElement("div",{className:"percentage"},n.a.createElement(ft.a,{title:"False negative (FN) - Percentage of users who ".concat(ze," and did not complete the funnel.")},Ut?Object(Ve.ob)(Ut/(Ut+Ht)):"0.00%")),Ut===0?"0 users":n.a.createElement(Za.a,{onClick:function(){ie(B,!1)}},Object(Ve.qb)(Ut,"user",void 0,!0,!0)))),n.a.createElement("tr",null,n.a.createElement("td",{className:"horizontal-header"},"No"),n.a.createElement("td",null,n.a.createElement("div",{className:"percentage"},n.a.createElement(ft.a,{title:"False positive (FP) - Percentage of users who did not ".concat(ze," and completed the funnel.")},an?Object(Ve.ob)(an/(tn+an)):"0.00%")),Object(Ve.qb)(an,"user",void 0,!0,!0)),n.a.createElement("td",null,n.a.createElement("div",{className:"percentage"},n.a.createElement(ft.a,{title:"True negative (TN) - Percentage of users who did not ".concat(ze," and did not complete the funnel.")},Ht?Object(Ve.ob)(Ht/(Ut+Ht)):"0.00%")),Object(Ve.qb)(Ht,"user",void 0,!0,!0))),n.a.createElement("tr",null,n.a.createElement("td",{className:"horizontal-header"}),n.a.createElement("td",null,n.a.createElement("b",null,"100%")),n.a.createElement("td",null,n.a.createElement("b",null,"100%"))))),n.a.createElement("div",{className:"mt text-center"},Object(Ve.j)((B==null?void 0:B.result_type)||"")," ",n.a.createElement("b",null,Me)," ","has a"," ",(B==null?void 0:B.correlation_type)===y.l.Success?n.a.createElement("b",{className:"text-success"},"positive"," ",n.a.createElement(ft.a,{title:"Positive correlation means this ".concat(ce," is correlated with a successful conversion.")},n.a.createElement(wt.a,{className:"cursor-pointer"}))):n.a.createElement("b",{className:"text-danger"},"negative"," ",n.a.createElement(ft.a,{title:"Negative correlation means this ".concat(ce," is correlated with an unsuccessful conversion (user dropped off).")},n.a.createElement(wt.a,{className:"cursor-pointer"})))," ","correlation score of"," ",n.a.createElement("b",{style:{color:pn==="strong"?"var(--success)":pn==="moderate"?"var(--warning)":"var(--danger)"}},n.a.createElement(ft.a,{title:"This ".concat(ce," has ").concat(pn," correlation.")},n.a.createElement("span",{style:{cursor:"pointer"}},ta," ",nn.toFixed(3)))))):n.a.createElement("div",null,n.a.createElement(er.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function pr(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=Object(pe.a)(S),F=Object(u.useValues)(x),W=F.stepsWithCount,B=F.correlationValues,te=F.correlationTypes,ge=F.eventHasPropertyCorrelations,he=F.eventWithPropertyCorrelationsValues,De=F.parseDisplayNameForCorrelation,ie=F.correlationsLoading,ce=F.eventWithPropertyCorrelationsLoading,ze=F.nestedTableExpandedKeys,Me=F.correlationPropKey,rt=F.filters,yt=F.aggregationTargetLabel,Ke=Object(u.useActions)(x),nn=Ke.setCorrelationTypes,tn=Ke.loadEventWithPropertyCorrelations,an=Ke.addNestedTableExpandedKey,Ht=Ke.removeNestedTableExpandedKey,Ut=Ke.openCorrelationPersonsModal,pn=Ke.loadCorrelations,ta=Object(u.useActions)(ra.f),Vn=ta.reportCorrelationInteraction;Object(z.useEffect)(function(){pn({})},[rt]);var ia=function(Lt){te?te.includes(Lt)?nn(te.filter(function(Xt){return Xt!==Lt})):nn([].concat(vt()(te),[Lt])):nn([Lt])},Qa=function(Lt){var Xt=function(i){return i<10&&!Number.isInteger(i)?i.toFixed(1):i.toFixed()},Fn=Lt.correlation_type===y.l.Success,dn=De(Lt),Ia=dn.first_value,lr=dn.second_value;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",null,Fn?n.a.createElement(oa.a,{style:{color:"green"}}):n.a.createElement(Na,{style:{color:"red"}})," ",n.a.createElement(Gt.b,{value:Ia}),lr!==void 0&&n.a.createElement(n.a.Fragment,null," :: ",n.a.createElement(Gt.b,{value:lr,disablePopover:!0}))),n.a.createElement("div",null,Object(Ve.j)(yt.plural)," ",rt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",n.a.createElement("mark",null,n.a.createElement("b",null,Xt(Lt.odds_ratio),"x ",Fn?"more":"less"," likely"))," ","to"," ",Lt.result_type===y.k.EventWithProperties?"have this event property":"do this event"),n.a.createElement(Ja,null))},Bn=function(Lt){return n.a.createElement(xa.c,{onClick:function(){Ut(Lt,!0)}},Lt.success_count)},Jt=function(Lt){return n.a.createElement(xa.c,{onClick:function(){Ut(Lt,!1)}},Lt.failure_count)},wn=function(Lt){return ce?n.a.createElement("div",{className:"nested-properties-loading"},n.a.createElement(Ra.a,null),n.a.createElement("h3",null,"Loading correlation results"),n.a.createElement("p",null,"This process can take up to 20 seconds. ")):n.a.createElement("div",null,n.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),n.a.createElement(Sa.a,{dataSource:he[Lt],rowKey:function(Fn){return Fn.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(Fn,dn){return Vn(y.k.EventWithProperties,"pagination change",{page:Fn,page_size:dn})}}},n.a.createElement(In.a,{title:"Property",key:"eventName",render:function(Fn,dn){return Qa(dn)},align:"left"}),n.a.createElement(In.a,{title:"Completed",key:"success_count",render:function(Fn,dn){return Bn(dn)},width:90,align:"center"}),n.a.createElement(In.a,{title:"Dropped off",key:"failure_count",render:function(Fn,dn){return Jt(dn)},width:120,align:"center"}),n.a.createElement(In.a,{title:"",key:"actions",render:function(Fn,dn){return n.a.createElement(Ya,{record:dn})},align:"center",width:30})))};return W.length>1?n.a.createElement(_a,{id:Me,offset:152},n.a.createElement("div",{className:"funnel-correlation-table"},n.a.createElement("span",{className:"funnel-correlation-header"},n.a.createElement("span",{className:"table-header"},n.a.createElement(sa.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),n.a.createElement("span",{className:"table-options"},n.a.createElement("p",{className:"title"},"CORRELATION"),n.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return ia(y.l.Success)}},n.a.createElement(Ga.a,{checked:te.includes(y.l.Success),style:{pointerEvents:"none"}},"Success")),n.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return ia(y.l.Failure)}},n.a.createElement(Ga.a,{checked:te.includes(y.l.Failure),style:{pointerEvents:"none"}},"Dropoff")))),n.a.createElement(Sa.a,{dataSource:B,loading:ie,size:"small",scroll:{x:"max-content"},rowKey:function(Lt){return Lt.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return Vn(y.k.Events,"load more")}},expandable:{expandedRowRender:function(Lt){return wn(Lt.event.event)},expandedRowKeys:ze,rowExpandable:function(){return rt.aggregation_group_type_index===void 0},expandIcon:function(Lt){var Xt=Lt.expanded,Fn=Lt.onExpand,dn=Lt.record,Ia=Lt.expandable;return Ia?Xt?n.a.createElement(ft.a,{title:"Collapse"},n.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(l){Ht(dn.event.event),Fn(dn,l)}},n.a.createElement(sa.IconUnfoldLess,null))):n.a.createElement(ft.a,{title:"Expand to see correlated properties for this event"},n.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(l){!ge(dn.event.event)&&tn(dn.event.event),an(dn.event.event),Fn(dn,l)}},n.a.createElement(sa.IconUnfoldMore,null))):null}}},n.a.createElement(In.a,{title:"Event",key:"eventName",render:function(Lt,Xt){return Qa(Xt)},align:"left",ellipsis:!0}),n.a.createElement(In.a,{title:n.a.createElement("div",{className:"flex-center"},"Completed",n.a.createElement(ft.a,{title:"".concat(Object(Ve.j)(yt.plural)," ").concat(rt.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},n.a.createElement(wt.a,{className:"column-info"}))),key:"success_count",render:function(Lt,Xt){return Bn(Xt)},width:90,align:"center"}),n.a.createElement(In.a,{title:n.a.createElement("div",{className:"flex-center"},"Dropped off",n.a.createElement(ft.a,{title:n.a.createElement(n.a.Fragment,null,Object(Ve.j)(yt.plural)," ",rt.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",n.a.createElement("b",null,"not complete")," the entire funnel.")},n.a.createElement(wt.a,{className:"column-info"}))),key:"failure_count",render:function(Lt,Xt){return Jt(Xt)},width:120,align:"center"}),n.a.createElement(In.a,{title:"",key:"actions",render:function(Lt,Xt){return n.a.createElement(Ya,{record:Xt})},width:30})))):null}var Ya=function(S){var x=S.record,F=Object(u.useValues)(we.c),W=F.insightProps,B=Object(pe.a)(W),te=Object(u.useActions)(B),ge=te.excludeEventPropertyFromProject,he=te.excludeEventFromProject,De=te.setFunnelCorrelationDetails,ie=Object(u.useValues)(B),ce=ie.isEventPropertyExcluded,ze=ie.isEventExcluded,Me=x.event.event.split("::"),rt=Object(z.useState)(!1),yt=We()(rt,2),Ke=yt[0],nn=yt[1];return n.a.createElement(h.a,{style:{justifyContent:"flex-end"}},n.a.createElement(rr.a,{visible:Ke,actionable:!0,onClickOutside:function(){return nn(!1)},overlay:n.a.createElement(n.a.Fragment,null,x.result_type===y.k.Events&&n.a.createElement(Ta.a,{onClick:function(){return De(x)},fullWidth:!0,type:"stealth"},"View correlation details"),n.a.createElement(Ta.a,{disabled:x.result_type===y.k.EventWithProperties?ce(Me[1]):ze(Me[0]),onClick:function(){return x.result_type===y.k.EventWithProperties?ge(Me[0],Me[1]):he(Me[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",type:"stealth"},"Exclude event from project"))},n.a.createElement(Ta.a,{type:"stealth",onClick:function(){return nn(!Ke)}},n.a.createElement(Pa.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},o=e("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function r(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=Object(pe.a)(S),F=Object(u.useValues)(x),W=F.stepsWithCount,B=F.propertyCorrelationValues,te=F.propertyCorrelationTypes,ge=F.excludedPropertyNames,he=F.parseDisplayNameForCorrelation,De=F.propertyCorrelationsLoading,ie=F.inversePropertyNames,ce=F.propertyNames,ze=F.correlationPropKey,Me=F.allProperties,rt=F.filters,yt=F.aggregationTargetLabel,Ke=Object(u.useActions)(x),nn=Ke.setPropertyCorrelationTypes,tn=Ke.setPropertyNames,an=Ke.openCorrelationPersonsModal,Ht=Ke.loadPropertyCorrelations,Ut=Object(u.useActions)(ra.f),pn=Ut.reportCorrelationInteraction;Object(z.useEffect)(function(){ce.length===0&&tn(Me),Ht({})},[rt]);var ta=function(Jt){te?te.includes(Jt)?nn(te.filter(function(wn){return wn!==Jt})):nn([].concat(vt()(te),[Jt])):nn([Jt])},Vn=function(Jt){return n.a.createElement(xa.c,{onClick:function(){an(Jt,!0)}},Jt.success_count)},ia=function(Jt){return n.a.createElement(xa.c,{onClick:function(){an(Jt,!1)}},Jt.failure_count)},Qa=function(Jt){var wn=function(Ia){return Ia<10&&!Number.isInteger(Ia)?Ia.toFixed(1):Ia.toFixed()},Pn=Jt.correlation_type===y.l.Success,Lt=he(Jt),Xt=Lt.first_value,Fn=Lt.second_value;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h4",null,Pn?n.a.createElement(oa.a,{style:{color:"green"}}):n.a.createElement(Na,{style:{color:"red"}})," ",n.a.createElement(Gt.b,{value:Xt}),Fn!==void 0&&n.a.createElement(n.a.Fragment,null," :: ",n.a.createElement(Gt.b,{value:Fn,disablePopover:!0}))),n.a.createElement("div",null,Object(Ve.j)(yt.plural)," ",rt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",n.a.createElement("mark",null,n.a.createElement("b",null,wn(Jt.odds_ratio),"x ",Pn?"more":"less"," likely"))," ","to have this property value"))};return W.length>1?n.a.createElement(_a,{offset:150,id:"".concat(ze,"-properties")},n.a.createElement("div",{className:"funnel-correlation-table"},n.a.createElement(h.a,{className:"funnel-correlation-header"},n.a.createElement(je.a,{className:"table-header"},n.a.createElement(sa.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),n.a.createElement(je.a,{className:"table-options"},n.a.createElement(h.a,{style:{display:"contents"}},Me.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"title"},"PROPERTIES "),n.a.createElement(o.a,{value:new Set(ce),onChange:function(Jt){return tn(Jt)},allProperties:ie(ge||[])}))),n.a.createElement(h.a,{style:{display:"contents"}},n.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),n.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return ta(y.l.Success)}},n.a.createElement(Ga.a,{checked:te.includes(y.l.Success),style:{pointerEvents:"none"}},"Success")),n.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return ta(y.l.Failure)}},n.a.createElement(Ga.a,{checked:te.includes(y.l.Failure),style:{pointerEvents:"none"}},"Dropoff"))))),n.a.createElement(Sa.a,{dataSource:B,loading:De,scroll:{x:"max-content"},size:"small",rowKey:function(Jt){return Jt.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(Jt,wn){return pn(y.k.Properties,"pagination change",{page:Jt,page_size:wn})}}},n.a.createElement(In.a,{title:"".concat(Object(Ve.j)(yt.singular)," property"),key:"propertName",render:function(Jt,wn){return Qa(wn)},align:"left"}),n.a.createElement(In.a,{title:n.a.createElement("div",{className:"flex-center"},"Completed",n.a.createElement(ft.a,{title:"".concat(Object(Ve.j)(yt.plural)," ").concat(rt.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},n.a.createElement(wt.a,{className:"column-info"}))),key:"success_count",render:function(Jt,wn){return Vn(wn)},width:90,align:"center"}),n.a.createElement(In.a,{title:n.a.createElement("div",{className:"flex-center"},"Dropped off",n.a.createElement(ft.a,{title:n.a.createElement(n.a.Fragment,null,Object(Ve.j)(yt.plural)," ",rt.aggregation_group_type_index!=null?"that":"who"," have this property and did ",n.a.createElement("b",null,"not complete")," the entire funnel.")},n.a.createElement(wt.a,{className:"column-info"}))),key:"failure_count",render:function(Jt,wn){return ia(wn)},width:120,align:"center"}),n.a.createElement(In.a,{title:"",key:"actions",render:function(Jt,wn){return n.a.createElement(a,{record:wn})},align:"center",width:30})))):null}var a=function(S){var x=S.record,F=Object(u.useValues)(we.c),W=F.insightProps,B=Object(pe.a)(W),te=Object(u.useActions)(B),ge=te.excludePropertyFromProject,he=te.setFunnelCorrelationDetails,De=Object(u.useValues)(B),ie=De.isPropertyExcludedFromProject,ce=(x.event.event||"").split("::")[0],ze=Object(z.useState)(!1),Me=We()(ze,2),rt=Me[0],yt=Me[1];return n.a.createElement(h.a,{style:{justifyContent:"flex-end"}},n.a.createElement(rr.a,{visible:rt,actionable:!0,onClickOutside:function(){return yt(!1)},overlay:n.a.createElement(n.a.Fragment,null,n.a.createElement(Ta.a,{onClick:function(){return he(x)},fullWidth:!0,type:"stealth"},"View correlation details"),n.a.createElement(Ta.a,{disabled:ie(ce),onClick:function(){return ge(ce)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",type:"stealth"},"Exclude property from project"))},n.a.createElement(Ta.a,{type:"stealth",onClick:function(){return yt(!rt)}},n.a.createElement(Pa.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},s=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),m=e("./frontend/src/lib/components/PayCard/PayCard.tsx"),f=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),v=function(){var S,x=Object(u.useValues)(we.c),F=x.insightProps,W=Object(u.useValues)(Object(pe.a)(F)),B=W.isSkewed,te=W.stepsWithCount,ge=W.correlationFeedbackHidden,he=W.correlationDetailedFeedbackVisible,De=W.correlationFeedbackRating,ie=W.correlationAnalysisAvailable,ce=W.aggregationTargetLabel,ze=Object(u.useActions)(Object(pe.a)(F)),Me=ze.sendCorrelationAnalysisFeedback,rt=ze.hideSkewWarning,yt=ze.hideCorrelationAnalysisFeedback,Ke=ze.setCorrelationFeedbackRating,nn=ze.setCorrelationDetailedFeedback,tn=Object(u.useValues)(f.a),an=tn.preflight,Ht=Object(z.useRef)(null);return te.length<=1?null:!ie&&!(!(an==null||(S=an.instance_preferences)===null||S===void 0)&&S.disable_paid_fs)?n.a.createElement(m.a,{identifier:y.c.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(ce.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(ce.plural," are converting or dropping off.")}):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"funnel-correlation"},B&&n.a.createElement(Ne.a,{className:"skew-warning"},n.a.createElement("h4",null,n.a.createElement(sa.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",n.a.createElement(s.a,{className:"close-button",onClick:rt})),n.a.createElement("div",null,n.a.createElement("b",null,"Tips for adjusting your funnel:"),n.a.createElement("ol",null,n.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),n.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),n.a.createElement(pr,null),!ge&&n.a.createElement(Ne.a,{className:"correlation-feedback"},n.a.createElement(h.a,{className:"row-initial"},n.a.createElement(je.a,{span:14},n.a.createElement("h4",null,n.a.createElement(Wa.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?")),n.a.createElement(je.a,{span:9,style:{alignContent:"right"}},!!De&&n.a.createElement("i",{style:{color:"var(--success)",marginRight:8}},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(Ut,pn){return n.a.createElement(Ft.a,{key:pn,className:"emoji-button",style:De===Ut[0]?{background:"#5375FF"}:De?{display:"none"}:{},onClick:function(){De===Ut[0]?Ke(0):(Ke(Ut[0]),setTimeout(function(){var Vn;return(Vn=Ht.current)===null||Vn===void 0?void 0:Vn.focus()},100))}},Ut[1])})),n.a.createElement(je.a,{span:1},n.a.createElement(s.a,{className:"close-button",onClick:yt}))),n.a.createElement("div",{style:{display:he?void 0:"none"}},n.a.createElement("form",{onSubmit:Me},n.a.createElement(ya.a,{onBlur:function(pn){return nn(pn.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",style:{marginTop:16},ref:Ht,onKeyDown:function(pn){if(pn.key==="Enter"&&pn.metaKey){var ta;(ta=Ht.current)===null||ta===void 0||ta.blur(),Me()}}}),n.a.createElement("div",{className:"text-right"},n.a.createElement(Ft.a,{className:"feedback-button","data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback"))))),n.a.createElement(r,null)))},O=e("./node_modules/core-js/modules/es.regexp.to-string.js"),E=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss"),_=e.n(E),$={};$.insert="head",$.singleton=!1;var Z=hn()(_.a,$),ae=_.a.locals||{},ve=e("./frontend/src/lib/components/InsightLabel/index.tsx"),Ee=e("./frontend/src/lib/colors.ts"),Ze=e("./frontend/src/lib/components/PHCheckbox.tsx");function ht(){var T=Object(u.useValues)(we.c),S=T.filters,x=T.activeView,F=Object(u.useActions)(we.c),W=F.toggleInsightLegend,B=Object(u.useValues)(ha.a),te=B.featureFlags;return(x===y.s.TRENDS||x===y.s.STICKINESS)&&te[U.n.INSIGHT_LEGENDS]?n.a.createElement(Ft.a,{className:"insight-legend-button",onClick:W},n.a.createElement(sa.IconLegend,null),n.a.createElement("span",{className:"insight-legend-button-title"},S.show_legend?"Hide":"Show"," legend")):null}function Yt(){var T=Object(u.useValues)(we.c),S=T.insightProps,x=T.filters,F=Object(na.a)(S),W=Object(u.useValues)(F),B=W.indexedResults,te=W.hiddenLegendKeys,ge=Object(u.useActions)(F),he=ge.toggleVisibility,De=Object(Ee.c)("white",B.length,!!x.compare);return n.a.createElement("div",{className:"insight-legend-menu"},n.a.createElement("div",{className:"insight-legend-menu-scroll"},B&&B.map(function(ie){var ce,ze;return n.a.createElement(h.a,{key:ie.id,className:"insight-legend-menu-item",wrap:!1},n.a.createElement("div",{className:"insight-legend-menu-item-inner",onClick:function(){return he(ie.id)}},n.a.createElement(je.a,null,n.a.createElement(Ze.a,{color:De[ie.id],checked:!te[ie.id],onChange:function(){}})),n.a.createElement(je.a,null,n.a.createElement(ve.b,{key:ie.id,seriesColor:De[ie.id],action:ie.action,fallbackName:ie.breakdown_value===""?"None":ie.label,hasMultipleSeries:B.length>1,breakdownValue:ie.breakdown_value===""?"None":(ce=ie.breakdown_value)===null||ce===void 0?void 0:ce.toString(),compareValue:x.compare?Object(aa.d)(ie):void 0,pillMidEllipsis:(ie==null||(ze=ie.filter)===null||ze===void 0?void 0:ze.breakdown)==="$current_url",hideIcon:!0}))))})))}var at,Rt=(at={},t()(at,"".concat(y.s.TRENDS),n.a.createElement(Cn,{view:y.s.TRENDS})),t()(at,"".concat(y.s.STICKINESS),n.a.createElement(Cn,{view:y.s.STICKINESS})),t()(at,"".concat(y.s.LIFECYCLE),n.a.createElement(Cn,{view:y.s.LIFECYCLE})),t()(at,"".concat(y.s.FUNNELS),n.a.createElement(_n,null)),t()(at,"".concat(y.s.RETENTION),n.a.createElement(Tt.a,null)),t()(at,"".concat(y.s.PATHS),n.a.createElement(bn.a,null)),at);function Ge(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1},S=T.disableHeader,x=T.disableTable,F=Object(u.useValues)(ha.a),W=F.featureFlags,B=Object(u.useValues)(Tn.a),te=B.insightMode,ge=Object(u.useValues)(we.c),he=ge.insightProps,De=ge.canEditInsight,ie=ge.insightLoading,ce=ge.activeView,ze=ge.loadedView,Me=ge.filters,rt=ge.showTimeoutMessage,yt=ge.showErrorMessage,Ke=Object(u.useValues)(Object(pe.a)(he)),nn=Ke.areFiltersValid,tn=Ke.isValidFunnel,an=Ke.areExclusionFiltersValid,Ht=Ke.correlationAnalysisAvailable,Ut=function(){if(ce!==ze||ie&&!rt)return n.a.createElement(n.a.Fragment,null,Me.display!==U.f&&n.a.createElement("div",{className:"trends-insights-container"}),n.a.createElement(Ve.b,null));if(ze===y.s.FUNNELS){if(!nn)return n.a.createElement(Xn.b,{actionable:te===y.t.Edit||x});if(!an)return n.a.createElement(Xn.a,null);if(!tn&&!ie)return n.a.createElement(Xn.c,null)}return yt?n.a.createElement(Xn.d,null):rt?n.a.createElement(Xn.e,{isLoading:ie}):null}();function pn(){return ce===y.s.FUNNELS&&!yt&&!rt&&nn&&Me.funnel_viz_type===y.o.Steps&&(Me==null?void 0:Me.layout)===U.p.horizontal&&!x?n.a.createElement(Sn.a,null):(!Me.display||(Me==null?void 0:Me.display)!==U.f&&(Me==null?void 0:Me.display)!==U.b)&&ce===y.s.TRENDS&&!x?n.a.createElement(u.BindLogic,{logic:na.a,props:he},n.a.createElement(aa.b,{isLegend:!0,showTotalCount:!0,filterKey:ce===y.s.TRENDS?"trends_".concat(ce):"",canEditSeriesNameInline:ce===y.s.TRENDS&&te===y.t.Edit,canCheckUncheckSeries:!De})):null}return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ne.a,{title:S?null:n.a.createElement(Le,{activeView:ce,insightMode:te,filters:Me,disableTable:!!x,disabled:!De}),"data-attr":"insights-graph",className:"insights-graph-container"},n.a.createElement("div",null,n.a.createElement(h.a,{className:Object(gt.a)("insights-graph-header",{funnels:ce===y.s.FUNNELS}),align:"middle",justify:"space-between"},n.a.createElement(je.a,null,n.a.createElement(da,null)),n.a.createElement(je.a,null,ce===y.s.FUNNELS?n.a.createElement(Yn,null):null,ce===y.s.PATHS?n.a.createElement(Fa,null):null,n.a.createElement(ht,null))),Ut||(W[U.n.INSIGHT_LEGENDS]&&(ce===y.s.TRENDS||ce===y.s.STICKINESS)&&Me.show_legend?n.a.createElement(h.a,{className:"insights-graph-container-row",wrap:!1},n.a.createElement(je.a,{className:"insights-graph-container-row-left"},Rt[ce]),n.a.createElement(je.a,{className:"insights-graph-container-row-right"},n.a.createElement(Yt,null))):Rt[ce]))),pn(),!x&&Ht&&ce===y.s.FUNNELS&&n.a.createElement(v,null))}try{Ge.displayName="InsightContainer",Ge.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:Ge.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(T){}},"./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts":function(k,g,e){"use strict";e.d(g,"a",function(){return le});var I=e("./node_modules/core-js/modules/es.array.iterator.js"),t=e.n(I),Ne=e("./node_modules/core-js/modules/es.object.to-string.js"),h=e.n(Ne),je=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Xe=e.n(je),Fe=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),z=e.n(Fe),n=e("./node_modules/kea/lib/index.esm.js"),u=e("./frontend/src/scenes/insights/insightLogic.ts"),me=e("./frontend/src/scenes/insights/sharedUtils.ts");function D(Ce,se){var G=Object.keys(Ce);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(Ce);se&&(p=p.filter(function(X){return Object.getOwnPropertyDescriptor(Ce,X).enumerable})),G.push.apply(G,p)}return G}function ne(Ce){for(var se=1;se<arguments.length;se++){var G=arguments[se]!=null?arguments[se]:{};se%2?D(Object(G),!0).forEach(function(p){z()(Ce,p,G[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(G)):D(Object(G)).forEach(function(p){Object.defineProperty(Ce,p,Object.getOwnPropertyDescriptor(G,p))})}return Ce}var le=Object(n.kea)({props:{},key:Object(me.c)("new"),path:function(se){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",se]},connect:function(se){return{actions:[Object(u.c)(se),["setFilters"]],values:[Object(u.c)(se),["filters"]]}},actions:function(){return{setDates:function(G,p){return{dateFrom:G,dateTo:p}}}},selectors:{dates:[function(Ce){return[Ce.filters]},function(Ce){return{dateFrom:(Ce==null?void 0:Ce.date_from)||null,dateTo:(Ce==null?void 0:Ce.date_to)||null}}]},listeners:function(se){var G=se.actions,p=se.values;return{setDates:function(Se){var J=Se.dateFrom,ee=Se.dateTo;G.setFilters(ne(ne({},p.filters),{},{date_from:J||null,date_to:ee||null}))}}}})},"./frontend/src/scenes/insights/InsightScene.tsx":function(k,g,e){"use strict";e.r(g),e.d(g,"InsightScene",function(){return Ia}),e.d(g,"scene",function(){return lr});var I=e("./node_modules/react/index.js"),t=e.n(I),Ne=e("./frontend/src/scenes/insights/insightSceneLogic.tsx"),h=e("./node_modules/kea/lib/index.esm.js"),je=e("./node_modules/core-js/modules/es.symbol.js"),Xe=e("./node_modules/core-js/modules/es.symbol.description.js"),Fe=e("./node_modules/core-js/modules/es.function.name.js"),z=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),n=e.n(z),u=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),me=e.n(u),D=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/Insight.scss"),ne=e.n(D),le={};le.insert="head",le.singleton=!1;var Ce=me()(ne.a,le),se=ne.a.locals||{},G=e("./node_modules/antd/es/card/index.js"),p=e("./node_modules/core-js/modules/es.array.concat.js"),X=e("./node_modules/core-js/modules/es.array.map.js"),Se=e("./node_modules/core-js/modules/es.object.entries.js"),J=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ee=e.n(J),Ae=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),N=e.n(Ae),Y=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),q=e("./frontend/src/scenes/retention/retentionTableLogic.ts"),M=e("./node_modules/antd/es/row/index.js"),Q=e("./node_modules/antd/es/col/index.js"),oe=e("./node_modules/antd/es/select/index.js"),Te=e("./node_modules/core-js/modules/es.object.to-string.js"),y=e("./node_modules/core-js/modules/es.regexp.to-string.js"),Ve=e("./frontend/src/scenes/teamLogic.ts"),we=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx");function $t(l){var i=l.filters,c=l.onChange,d=Object(h.useValues)(Ve.a),b=d.currentTeam,C=((b==null?void 0:b.test_account_filters)||[]).length>0;return t.a.createElement(we.a,{disabled:!C,checked:C?!!i.filter_test_accounts:!1,onChange:function(A){localStorage.setItem("default_filter_test_accounts",A.toString()),c({filter_test_accounts:A})},id:"test-account-filter",type:"primary",label:"Filter out internal and test users"})}try{$t.displayName="TestAccountFilter",$t.__docgenInfo={description:"",displayName:"TestAccountFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: Partial<FilterType>) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/TestAccountFilter/TestAccountFilter.tsx#TestAccountFilter"]={docgenInfo:$t.__docgenInfo,name:"TestAccountFilter",path:"frontend/src/scenes/insights/TestAccountFilter/TestAccountFilter.tsx#TestAccountFilter"})}catch(l){}var Qt=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/RetentionTab.scss"),cn=e.n(Qt),Mt={};Mt.insert="head",Mt.singleton=!1;var xn=me()(cn.a,Mt),Gn=cn.a.locals||{},bt=e("./frontend/src/lib/constants.tsx"),We=e("./node_modules/antd/lib/grid/hooks/useBreakpoint.js"),Kt=e.n(We),ot=e("./frontend/src/lib/components/icons.tsx"),Qe=e("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),$e=e("./frontend/src/lib/components/Tooltip.tsx"),ye=e("./frontend/src/scenes/insights/insightLogic.ts"),Ue=e("./frontend/src/models/groupsModel.ts"),Pt=e("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),be=-1;function Ie(l){var i=l.aggregationGroupTypeIndex,c=l.onChange,d=Object(h.useValues)(Ue.a),b=d.groupTypes,C=d.aggregationLabel;return t.a.createElement(oe.a,{value:i===void 0?be:i,onChange:function(A){var L=A===be?void 0:A;c(L)},"data-attr":"retention-aggregation-selector",dropdownMatchSelectWidth:!1},t.a.createElement(oe.a.Option,{key:"unique_users",value:be,"data-attr":"aggregation-selector-users"},t.a.createElement("div",{style:{height:"100%",width:"100%"}},"Unique users")),b.map(function(R){return t.a.createElement(oe.a.Option,{key:R.group_type_index,value:R.group_type_index,"data-attr":"aggregation-selector-group"},t.a.createElement("div",{style:{height:"100%",width:"100%"}},"Unique ",C(R.group_type_index).plural))}),Object(Pt.a)({value:-2}))}try{Ie.displayName="AggregationSelect",Ie.__docgenInfo={description:"",displayName:"AggregationSelect",props:{aggregationGroupTypeIndex:{defaultValue:null,description:"",name:"aggregationGroupTypeIndex",required:!0,type:{name:"number | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(aggregationGroupTypeIndex: number | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/AggregationSelect.tsx#AggregationSelect"]={docgenInfo:Ie.__docgenInfo,name:"AggregationSelect",path:"frontend/src/scenes/insights/AggregationSelect.tsx#AggregationSelect"})}catch(l){}var K=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),U=e("./frontend/src/scenes/insights/BreakdownFilter/index.ts"),Et=e("./frontend/src/lib/logic/featureFlagLogic.ts"),it=e("./node_modules/core-js/modules/es.array.iterator.js"),et=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),sn=e("./frontend/src/scenes/actions/Actions.scss"),P=e("./frontend/src/types.ts"),Ye=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.scss"),tt=e.n(Ye),ut={};ut.insert="head",ut.singleton=!1;var zt=me()(tt.a,ut),xt=tt.a.locals||{},ft=e("./node_modules/core-js/modules/es.array.splice.js"),Be=e("./frontend/src/lib/utils.tsx"),ct=e("./frontend/src/lib/utils/eventUsageLogic.ts");function Ct(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function pe(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?Ct(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):Ct(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}var St=Object(h.kea)({path:function(i){return["lib","components","PropertyGroupFilters","propertyGroupFilterLogic",i]},props:{},key:function(i){return i.pageKey},actions:function(){return{update:function(c){return{propertyGroupIndex:c}},setFilters:function(c){return{filters:c}},removeFilterGroup:function(c){return{filterGroup:c}},setOuterPropertyGroupsType:function(c){return{type:c}},setPropertyFilters:function(c,d){return{properties:c,index:d}},setInnerPropertyGroupType:function(c,d){return{type:c,index:d}},duplicateFilterGroup:function(c){return{propertyGroupIndex:c}},addFilterGroup:!0}},reducers:function(i){var c=i.props;return{filters:[c.propertyFilters?Object(Be.r)(c.propertyFilters):{},{setFilters:function(b,C){var R=C.filters;return R},addFilterGroup:function(b){if(!b.values)return{type:P.i.And,values:[{type:P.i.And,values:[{}]}]};var C=[].concat(ee()(b.values),[{type:P.i.And,values:[{}]}]);return pe(pe({},b),{},{values:C})},removeFilterGroup:function(b,C){var R=C.filterGroup,A=ee()(b.values);return A.splice(R,1),pe(pe({},b),{},{values:A})},setOuterPropertyGroupsType:function(b,C){var R=C.type;return pe(pe({},b),{},{type:R})},setPropertyFilters:function(b,C){var R=C.properties,A=C.index,L=ee()(b.values);return L[A]=pe(pe({},L[A]),{},{values:R}),pe(pe({},b),{},{values:L})},setInnerPropertyGroupType:function(b,C){var R=C.type,A=C.index,L=ee()(b.values);return L[A]=pe(pe({},L[A]),{},{type:R}),pe(pe({},b),{},{values:L})},duplicateFilterGroup:function(b,C){var R=C.propertyGroupIndex,A=b.values.concat([b.values[R]]);return pe(pe({},b),{},{values:A})}}]}},listeners:function(i){var c=i.actions,d=i.props,b=i.values;return{setFilters:function(){return c.update()},setPropertyFilters:function(){return c.update()},setInnerPropertyGroupType:function(R){var A=R.type,L=R.index;ct.f.actions.reportChangeInnerPropertyGroupFiltersType(A,b.filters.values[L].values.length),c.update()},setOuterPropertyGroupsType:function(R){var A=R.type;ct.f.actions.reportChangeOuterPropertyGroupFiltersType(A,b.filters.values.length),c.update()},removeFilterGroup:function(){return c.update()},addFilterGroup:function(){ct.f.actions.reportPropertyGroupFilterAdded(),c.update()},update:function(){d.onChange(b.filters)}}},selectors:{filledFilters:[function(l){return[l.filters]},function(l){return l}],filtersWithNew:[function(l){return[l.filters]},function(l){return l}]}}),ke=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),mt=e("./node_modules/clsx/dist/clsx.m.js");function nt(l){var i=l.unit,c=i===void 0?"series":i,d=l.title,b=d===void 0?"Filters":d,C=l.orFiltering,R=C===void 0?!1:C;return t.a.createElement("h4",{className:Object(mt.a)("secondary",R&&"property-group-title")},b," ",!R&&t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,"These filters will apply to ",t.a.createElement("b",null,"all")," the ",c," in this graph.")},t.a.createElement(Y.a,{className:"info-indicator"})))}try{nt.displayName="GlobalFiltersTitle",nt.__docgenInfo={description:"",displayName:"GlobalFiltersTitle",props:{unit:{defaultValue:{value:"series"},description:"",name:"unit",required:!1,type:{name:"string"}},title:{defaultValue:{value:"Filters"},description:"",name:"title",required:!1,type:{name:"string"}},orFiltering:{defaultValue:{value:"false"},description:"",name:"orFiltering",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/common.tsx#GlobalFiltersTitle"]={docgenInfo:nt.__docgenInfo,name:"GlobalFiltersTitle",path:"frontend/src/scenes/insights/common.tsx#GlobalFiltersTitle"})}catch(l){}var fe=e("./frontend/src/lib/components/LemonButton/index.ts");function V(l){var i,c=l.propertyFilters,d=c===void 0?null:c,b=l.onChange,C=l.pageKey,R=l.taxonomicGroupTypes,A=l.eventNames,L=A===void 0?[]:A,re=l.setTestFilters,j=l.filters,Oe={propertyFilters:d,onChange:b,pageKey:C},de=Object(h.useValues)(St(Oe)),H=de.filtersWithNew,pt=Object(h.useActions)(St(Oe)),lt=pt.setFilters,qe=pt.addFilterGroup,ue=pt.removeFilterGroup,jt=pt.setOuterPropertyGroupsType,Nt=pt.setInnerPropertyGroupType,Bt=pt.setPropertyFilters,Dt=pt.duplicateFilterGroup;return Object(I.useEffect)(function(){lt(d!=null?d:{type:P.i.And,values:[]})},[d]),t.a.createElement(t.a.Fragment,null,H.values&&t.a.createElement("div",{className:"property-group-filters"},t.a.createElement(h.BindLogic,{logic:St,props:Oe},t.a.createElement(M.a,{align:"middle",justify:"space-between",className:"pb pr mb",style:{borderBottom:"1px solid var(--border)"}},t.a.createElement(nt,{orFiltering:!0}),H.type&&H.values.length>1&&t.a.createElement(He,{value:H.type,onChange:function(It){return jt(It)},topLevelFilter:!0})),t.a.createElement($t,{filters:j,onChange:function(It){return re(It)}}),(i=H.values)===null||i===void 0?void 0:i.map(function(rn,It){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"property-group",key:It},t.a.createElement(M.a,{justify:"space-between",align:"middle",className:"mb-05"},t.a.createElement(He,{onChange:function(Kn){return Nt(Kn,It)},value:rn.type}),t.a.createElement("div",{style:{marginLeft:8,marginRight:8,height:1,background:"#d9d9d9",flex:1}}),t.a.createElement(fe.a,{icon:t.a.createElement(ot.IconCopy,null),type:"primary-alt",onClick:function(){return Dt(It)},compact:!0}),t.a.createElement(fe.a,{icon:t.a.createElement(ot.IconDelete,null),type:"primary-alt",onClick:function(){return ue(It)},compact:!0})),t.a.createElement(ke.a,{orFiltering:!0,propertyFilters:rn.values,style:{marginBottom:0},onChange:function(Kn){Bt(Kn,It)},pageKey:"trends-filters-".concat(It),taxonomicGroupTypes:R,eventNames:L,propertyGroupType:rn.type})),It!==H.values.length-1&&t.a.createElement("div",{className:"text-small primary-alt",style:{margin:"-0.5rem 0"}},t.a.createElement("b",null,H.type)))}))),t.a.createElement(fe.a,{"data-attr":"".concat(C,"-add-filter-group"),className:"mb mt",type:"secondary",onClick:function(){return qe()},icon:t.a.createElement(ot.IconPlusMini,{color:"var(--primary)"}),fullWidth:!0},"Add filter group"))}function He(l){var i=l.onChange,c=l.value,d=l.topLevelFilter;return t.a.createElement(M.a,{align:"middle",className:"and-or-filter"},t.a.createElement("span",{className:"ml-05"},"Match"),t.a.createElement(oe.a,{optionLabelProp:"label",dropdownClassName:"and-or-filter-select",style:{marginLeft:8,marginRight:8},defaultValue:c||P.i.And,onChange:function(C){return i(C)},dropdownMatchSelectWidth:!1,placement:d?"bottomRight":"bottomLeft"},t.a.createElement(oe.a.Option,{value:P.i.And,label:"all",className:"condition-option"},t.a.createElement(M.a,null,t.a.createElement("div",{className:"condition-text ".concat(c===P.i.And?"selected":"")},P.i.And),t.a.createElement(Q.a,null,t.a.createElement("div",null,t.a.createElement("b",null,"All filter")," "),t.a.createElement("div",null,"All filters must be met (logical and)")))),t.a.createElement(oe.a.Option,{value:P.i.Or,label:"any",className:"condition-option"},t.a.createElement(M.a,null,t.a.createElement("div",{className:"condition-text ".concat(c===P.i.Or?"selected":"")},P.i.Or),t.a.createElement(Q.a,null,t.a.createElement("div",null,t.a.createElement("b",null,"Any filter")," "),t.a.createElement("div",null,"Any filter can be met (logical or)")))))," ","filters in this group")}try{V.displayName="PropertyGroupFilters",V.__docgenInfo={description:"",displayName:"PropertyGroupFilters",props:{propertyFilters:{defaultValue:{value:"null"},description:"",name:"propertyFilters",required:!1,type:{name:"PropertyGroupFilter | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: PropertyGroupFilter) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},eventNames:{defaultValue:{value:"[]"},description:"",name:"eventNames",required:!1,type:{name:"string[]"}},setTestFilters:{defaultValue:null,description:"",name:"setTestFilters",required:!0,type:{name:"(filters: Partial<FilterType>) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx#PropertyGroupFilters"]={docgenInfo:V.__docgenInfo,name:"PropertyGroupFilters",path:"frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx#PropertyGroupFilters"})}catch(l){}try{He.displayName="AndOrFilterSelect",He.__docgenInfo={description:"",displayName:"AndOrFilterSelect",props:{onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(type: FilterLogicalOperator) => void"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"enum",value:[{value:'"AND"'},{value:'"OR"'}]}},topLevelFilter:{defaultValue:null,description:"",name:"topLevelFilter",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx#AndOrFilterSelect"]={docgenInfo:He.__docgenInfo,name:"AndOrFilterSelect",path:"frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.tsx#AndOrFilterSelect"})}catch(l){}function vt(){var l=Object(h.useValues)(Et.a),i=l.featureFlags,c=Object(h.useValues)(ye.c),d=c.insightProps,b=c.allEventNames,C=Object(h.useValues)(Ue.a),R=C.groupsTaxonomicTypes,A=C.showGroupsOptions,L=Object(h.useValues)(Object(q.d)(d)),re=L.filters,j=L.actionFilterTargetEntity,Oe=L.actionFilterReturningEntity,de=Object(h.useActions)(Object(q.d)(d)),H=de.setFilters,pt=Kt()(),lt=pt.xs||pt.sm&&!pt.md;return t.a.createElement("div",{"data-attr":"retention-tab",className:"retention-tab"},t.a.createElement(M.a,{gutter:i[bt.n.AND_OR_FILTERING]?24:16},t.a.createElement(Q.a,{md:i[bt.n.AND_OR_FILTERING]?12:16,xs:24},t.a.createElement(M.a,{gutter:8,align:"middle"},t.a.createElement(Q.a,null,t.a.createElement(Qe.a,{horizontalUI:!0,entitiesLimit:1,hideMathSelector:!0,hideFilter:!0,hideRename:!0,buttonCopy:"Add graph series",filters:j,setFilters:function(ue){ue.events&&ue.events.length>0?H({target_entity:ue.events[0]}):ue.actions&&ue.actions.length>0?H({target_entity:ue.actions[0]}):H({target_entity:void 0})},typeKey:"retention-table",customRowPrefix:t.a.createElement(t.a.Fragment,null,"Showing"," ",A?t.a.createElement(Ie,{aggregationGroupTypeIndex:re.aggregation_group_type_index,onChange:function(ue){return H({aggregation_group_type_index:ue})}}):t.a.createElement("b",null,"Unique users")," ","who did")})),t.a.createElement(Q.a,null,t.a.createElement("div",{style:{display:"-webkit-inline-box",flexWrap:"wrap"}},t.a.createElement(oe.a,{value:re.retention_type?q.c[re.retention_type]:void 0,onChange:function(ue){return H({retention_type:ue})},dropdownMatchSelectWidth:!1},Object.entries(q.c).map(function(qe){var ue=N()(qe,2),jt=ue[0],Nt=ue[1];return t.a.createElement(oe.a.Option,{key:jt,value:jt},Nt,t.a.createElement($e.a,{placement:"right",title:q.b[jt]},t.a.createElement(Y.a,{className:"info-indicator"})))})))),t.a.createElement(Q.a,null,"grouped by"),t.a.createElement(Q.a,null,t.a.createElement(oe.a,{value:re.period,onChange:function(ue){return H({period:ue})},dropdownMatchSelectWidth:!1},q.a.map(function(qe){return t.a.createElement(oe.a.Option,{key:qe,value:qe},qe)})))),t.a.createElement(M.a,{gutter:8,align:"middle",className:"mt"},t.a.createElement(Q.a,null,t.a.createElement(Qe.a,{horizontalUI:!0,entitiesLimit:1,hideMathSelector:!0,hideFilter:!0,hideRename:!0,buttonCopy:"Add graph series",filters:Oe,setFilters:function(ue){ue.events&&ue.events.length>0?H({returning_entity:ue.events[0]}):ue.actions&&ue.actions.length>0?H({returning_entity:ue.actions[0]}):H({returning_entity:void 0})},typeKey:"retention-table-returning",customRowPrefix:"... who then came back and did"}))),t.a.createElement(M.a,null,t.a.createElement(Q.a,null,t.a.createElement("p",{className:"text-muted mt"},"Want to learn more about retention?"," ",t.a.createElement("a",{href:"https://posthog.com/docs/features/retention?utm_campaign=learn-more-horizontal&utm_medium=in-product",target:"_blank",rel:"noopener",style:{display:"inline-flex",alignItems:"center"}},"Go to docs",t.a.createElement(ot.IconOpenInNew,{style:{marginLeft:4}})))))),t.a.createElement(Q.a,{md:i[bt.n.AND_OR_FILTERING]?12:8,xs:24,style:{marginTop:lt?"2rem":0}},i[bt.n.AND_OR_FILTERING]&&re.properties?t.a.createElement(V,{propertyFilters:Object(Be.r)(re.properties),onChange:function(ue){H({properties:ue})},taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(R),[K.a.Cohorts,K.a.Elements]),pageKey:"insight-retention",eventNames:b,filters:re,setTestFilters:function(ue){return H(ue)}}):t.a.createElement(t.a.Fragment,null,t.a.createElement(nt,{unit:"actions/events"}),t.a.createElement(ke.a,{propertyFilters:Object(Be.s)(re.properties),onChange:function(ue){return H({properties:ue})},pageKey:"insight-retention",taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(R),[K.a.Cohorts,K.a.Elements]),eventNames:b}),t.a.createElement($t,{filters:re,onChange:H})),i[bt.n.RETENTION_BREAKDOWN]&&re.display!==bt.d?t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary"},"Breakdown by",t.a.createElement($e.a,{placement:"right",title:"Use breakdown to see the aggregation (total volume, active users, etc.) for each value of that property. For example, breaking down by Current URL with total volume will give you the event volume for each URL your users have visited."},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement(M.a,{align:"middle"},t.a.createElement(U.a,{filters:re,setFilters:H,useMultiBreakdown:!0}))):null)))}var qt=e("./node_modules/antd/es/checkbox/index.js"),gt=e("./node_modules/antd/es/button/index.js"),Zt=e("./frontend/src/lib/components/CloseButton.tsx"),yn=e("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),Vt=e("./frontend/src/scenes/trends/trendsLogic.ts"),w=e("./node_modules/core-js/modules/es.array.filter.js"),Re=e("./node_modules/core-js/modules/es.array.join.js"),Pe=e("./node_modules/core-js/modules/es.regexp.exec.js"),_e=e("./node_modules/core-js/modules/es.string.split.js"),_t=e("./node_modules/antd/es/input/index.js");function xe(l){var i=l.filters,c=l.onChange,d=l.onFocus,b=l.autoFocus,C=l.allowClear,R=C===void 0?!0:C,A=Object(I.useState)(i.formula),L=N()(A,2),re=L[0],j=L[1];return Object(I.useEffect)(function(){j(i.formula)},[i.formula]),t.a.createElement("div",{style:{maxWidth:300}},t.a.createElement(_t.a.Search,{placeholder:"e.g. (A + B)/(A - B) * 100",allowClear:R,autoFocus:b,value:re,onChange:function(de){var H=de.target.value.toLocaleUpperCase();H=H.split("").filter(function(pt){return/^[a-zA-Z\ \-\*\^0-9\+\/\(\)]+$/g.test(pt)}).join(""),j(H)},onFocus:function(){return d&&d(!0,re)},onBlur:function(){return!i.formula&&d&&d(!1,re)},enterButton:"Apply",onSearch:c}))}try{xe.displayName="Formula",xe.__docgenInfo={description:"",displayName:"Formula",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(formula: string) => void"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"((hasFocus: boolean, localFormula: string) => void)"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},allowClear:{defaultValue:{value:"true"},description:"",name:"allowClear",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/TrendTab/Formula.tsx#Formula"]={docgenInfo:xe.__docgenInfo,name:"Formula",path:"frontend/src/scenes/insights/InsightTabs/TrendTab/Formula.tsx#Formula"})}catch(l){}var st=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.scss"),en=e.n(st),kt={};kt.insert="head",kt.singleton=!1;var En=me()(en.a,kt),vn=en.a.locals||{};function wt(l){var i,c,d=l.view,b=Object(h.useValues)(ye.c),C=b.insightProps,R=b.allEventNames,A=Object(h.useValues)(Object(Vt.a)(C)),L=A.filters,re=Object(h.useActions)(Object(Vt.a)(C)),j=re.setFilters,Oe=re.toggleLifecycle,de=Object(h.useValues)(Ue.a),H=de.groupsTaxonomicTypes,pt=Object(h.useValues)(Et.a),lt=pt.featureFlags,qe=Object(I.useState)(!!L.formula),ue=N()(qe,2),jt=ue[0],Nt=ue[1],Bt=[{name:"new",tooltip:"Users who were first seen on this period and did the activity during the period."},{name:"returning",tooltip:"Users who did activity both this and previous period."},{name:"resurrecting",tooltip:"Users who did the activity this period but did not do the activity on the previous period (i.e. were inactive for 1 or more periods)."},{name:"dormant",tooltip:"Users who went dormant on this period, i.e. users who did not do the activity this period but did the activity on the previous period."}],Dt=Kt()(),rn=Dt.xs||Dt.sm&&!Dt.md,It=!L.insight||L.insight===P.s.TRENDS,on=It,Kn=(((i=L.events)===null||i===void 0?void 0:i.length)||0)+(((c=L.actions)===null||c===void 0?void 0:c.length)||0)>0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{gutter:lt[bt.n.AND_OR_FILTERING]?24:16},t.a.createElement(Q.a,{md:lt[bt.n.AND_OR_FILTERING]?12:16,xs:24},t.a.createElement(Qe.a,{horizontalUI:!0,filters:L,setFilters:function(Wn){return j(Wn)},typeKey:"trends_".concat(d),buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:L.insight===P.s.LIFECYCLE?1:Be.e.length,hideMathSelector:L.insight===P.s.LIFECYCLE,propertiesTaxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(H),[K.a.Cohorts,K.a.Elements]),customRowPrefix:L.insight===P.s.LIFECYCLE?t.a.createElement(t.a.Fragment,null,"Showing ",t.a.createElement("b",null,"Unique users")," who did"):void 0})),t.a.createElement(Q.a,{md:lt[bt.n.AND_OR_FILTERING]?12:8,xs:24,style:{marginTop:rn?"2rem":0}},L.insight===P.s.LIFECYCLE&&t.a.createElement(t.a.Fragment,null,t.a.createElement(nt,{unit:"actions/events"}),t.a.createElement($t,{filters:L,onChange:j}),t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary"},"Lifecycle Toggles"),t.a.createElement("div",{className:"toggles"},Bt.map(function(kn,Wn){return t.a.createElement("div",{key:Wn},kn.name," ",t.a.createElement("div",null,t.a.createElement(qt.a,{defaultChecked:!0,className:kn.name,onChange:function(){return Oe(kn.name)}}),t.a.createElement($e.a,{title:kn.tooltip},t.a.createElement(Y.a,{className:"info-indicator"}))))}))),L.insight!==P.s.LIFECYCLE&&t.a.createElement(t.a.Fragment,null,lt[bt.n.AND_OR_FILTERING]&&L.properties?t.a.createElement(V,{propertyFilters:Object(Be.r)(L.properties),onChange:function(Wn){j({properties:Wn})},taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(H),[K.a.Cohorts,K.a.Elements]),pageKey:"trends-filters",eventNames:R,filters:L,setTestFilters:function(Wn){return j(Wn)}}):t.a.createElement(t.a.Fragment,null,t.a.createElement(nt,null),t.a.createElement(ke.a,{propertyFilters:Object(Be.s)(L.properties),onChange:function(Wn){return j({properties:Wn})},taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(H),[K.a.Cohorts,K.a.Elements]),pageKey:"trends-filters",eventNames:R}),t.a.createElement($t,{filters:L,onChange:j})),on&&t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary"},"Formula"," ",t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,"Apply math operations to your series. You can do operations among series (e.g. ",t.a.createElement("code",null,"A / B"),") or simple arithmetic operations on a single series (e.g. ",t.a.createElement("code",null,"A / 100"),")")},t.a.createElement(Y.a,null))),jt?t.a.createElement(M.a,{align:"middle",gutter:4},t.a.createElement(Q.a,null,t.a.createElement(Zt.a,{onClick:function(){Nt(!1),j({formula:void 0})}})),t.a.createElement(Q.a,null,t.a.createElement(xe,{filters:L,onChange:function(Wn){j({formula:Wn})},autoFocus:!0,allowClear:!1}))):t.a.createElement($e.a,{title:Kn?void 0:"Please add at least one graph series to use formulas",visible:Kn?!1:void 0},t.a.createElement(gt.a,{onClick:function(){return Nt(!0)},disabled:!Kn,type:"link",style:{paddingLeft:0},icon:t.a.createElement(yn.a,null),"data-attr":"btn-add-formula"},"Add formula")))),It&&t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary"},"Breakdown by",t.a.createElement($e.a,{placement:"right",title:"Use breakdown to see the aggregation (total volume, active users, etc.) for each value of that property. For example, breaking down by Current URL with total volume will give you the event volume for each URL your users have visited."},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement(M.a,{align:"middle"},t.a.createElement(U.a,{filters:L,setFilters:j}))))))}try{wt.displayName="TrendTab",wt.__docgenInfo={description:"",displayName:"TrendTab",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.tsx#TrendTab"]={docgenInfo:wt.__docgenInfo,name:"TrendTab",path:"frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.tsx#TrendTab"})}catch(l){}var Wt=e("./node_modules/core-js/modules/es.array.includes.js"),dt=e("./node_modules/core-js/modules/es.string.includes.js"),un=e("./frontend/src/scenes/paths/pathsLogic.ts"),gn=e("./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js"),ln=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/PathTab/PathTab.scss"),Rn=e.n(ln),Ot={};Ot.insert="head",Ot.singleton=!1;var Le=me()(Rn.a,Ot),Ft=Rn.a.locals||{},mn=e("./frontend/src/lib/components/Popup/Popup.tsx"),hn=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx");function On(l){var i=l.pathItem,c=l.onChange,d=l.children,b=l.taxonomicGroupTypes,C=l.disabled,R=l.wildcardOptions,A=Object(I.useState)(!1),L=N()(A,2),re=L[0],j=L[1];return t.a.createElement(mn.a,{visible:re,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return j(!1)},overlay:t.a.createElement(hn.a,{groupType:K.a.PageviewUrls,value:i,onChange:function(de,H){c(H),j(!1)},taxonomicGroupTypes:b,optionsFromProp:{wildcard:R}})},function(Oe){var de=Oe.setRef;return t.a.createElement("div",{ref:de,onClick:C?function(){}:function(){return j(!re)}},d)})}try{On.displayName="PathItemSelector",On.__docgenInfo={description:"",displayName:"PathItemSelector",props:{pathItem:{defaultValue:null,description:"",name:"pathItem",required:!0,type:{name:"TaxonomicFilterValue | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(item: string) => void"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!0,type:{name:"TaxonomicFilterGroupType[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},wildcardOptions:{defaultValue:null,description:"",name:"wildcardOptions",required:!1,type:{name:"SimpleOption[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyFilters/components/PathItemSelector.tsx#PathItemSelector"]={docgenInfo:On.__docgenInfo,name:"PathItemSelector",path:"frontend/src/lib/components/PropertyFilters/components/PathItemSelector.tsx#PathItemSelector"})}catch(l){}var Ln=e("./node_modules/core-js/modules/es.object.keys.js"),$n=e("./frontend/src/lib/components/PropertyFilters/propertyFilterLogic.ts"),Ka=e("./frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.tsx");function va(l){var i=l.propertyFilters,c=l.onChange,d=l.pageKey,b=l.style,C=b===void 0?{}:b,R=l.taxonomicGroupTypes,A=l.wildcardOptions,L={propertyFilters:i,onChange:c,pageKey:d},re=Object(h.useValues)(Object($n.a)(L)),j=re.filtersWithNew,Oe=Object(h.useActions)(Object($n.a)(L)),de=Oe.setFilter,H=Oe.remove,pt=Oe.setFilters;return Object(I.useEffect)(function(){i&&!Object(Be.mb)(i,j)&&pt([].concat(ee()(i),[{}]))},[i]),t.a.createElement("div",{className:"mb",style:C},t.a.createElement(h.BindLogic,{logic:$n.a,props:L},(j==null?void 0:j.length)&&j.map(function(lt,qe){return t.a.createElement("div",{key:qe,style:{margin:"0.25rem 0",padding:"0.25rem 0"}},t.a.createElement(On,{pathItem:lt.value,onChange:function(jt){return de(qe,jt,jt,null,"event")},index:qe,taxonomicGroupTypes:R,wildcardOptions:A},lt.value?t.a.createElement(M.a,{align:"middle"},t.a.createElement(Ka.a,{item:lt},lt.value),!!Object.keys(j[qe]).length&&t.a.createElement(Zt.a,{onClick:function(jt){H(qe),jt.stopPropagation()},style:{cursor:"pointer",float:"none",paddingLeft:8,alignSelf:"center"}})):t.a.createElement(gt.a,{className:"new-prop-filter","data-attr":"new-prop-filter-"+d,type:"link",style:{paddingLeft:0},icon:t.a.createElement(yn.a,null)},"Add exclusion")))})))}try{va.displayName="PathItemFilters",va.__docgenInfo={description:"",displayName:"PathItemFilters",props:{endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string | null"}},propertyFilters:{defaultValue:null,description:"",name:"propertyFilters",required:!1,type:{name:"AnyPropertyFilter[] | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: AnyPropertyFilter[]) => void"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!0,type:{name:"TaxonomicFilterGroupType[]"}},wildcardOptions:{defaultValue:null,description:"",name:"wildcardOptions",required:!1,type:{name:"SimpleOption[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertyFilters/PathItemFilters.tsx#PathItemFilters"]={docgenInfo:va.__docgenInfo,name:"PathItemFilters",path:"frontend/src/lib/components/PropertyFilters/PathItemFilters.tsx#PathItemFilters"})}catch(l){}var ga=e("./frontend/src/scenes/trends/PersonsModal.tsx"),ca=e("./frontend/src/scenes/trends/personsModalLogic.ts"),Qn=e("./node_modules/kea-router/lib/index.js"),Oa=e("./frontend/src/scenes/userLogic.ts"),Yn=e("./frontend/src/lib/components/PayCard/PayCard.tsx"),Hn=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),Aa=e("./node_modules/core-js/modules/es.number.constructor.js"),da=e("./node_modules/antd/es/input-number/index.js"),ua=e("./frontend/src/lib/components/Link.tsx"),ma=e("./node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),wa=e("./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx"),na=e("./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx"),aa=e("./node_modules/antd/es/switch/index.js");function Nn(l){var i=l.filters,c=l.onChange,d=Object(h.useValues)(Ve.a),b=d.currentTeam,C=((b==null?void 0:b.path_cleaning_filters)||[]).length>0;return t.a.createElement($e.a,{title:C?"Clean paths based using regex replacement.":"You don't have path cleaning filters. Click the gear icon to configure it."},t.a.createElement(M.a,{style:{alignItems:"center",flexWrap:"nowrap",justifyContent:"flex-end",paddingRight:0}},t.a.createElement("label",{style:{marginLeft:10,marginRight:10}},"Apply global path URL cleaning"),t.a.createElement(aa.a,{disabled:!C,checked:C?i.path_replacements:!1,onChange:function(A){localStorage.setItem("default_path_clean_filters",A.toString()),c({path_replacements:A})},size:"small"})))}try{Nn.displayName="PathCleanFilterToggle",Nn.__docgenInfo={description:"",displayName:"PathCleanFilterToggle",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: Partial<FilterType>) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/PathTab/PathCleanFilterToggle.tsx#PathCleanFilterToggle"]={docgenInfo:Nn.__docgenInfo,name:"PathCleanFilterToggle",path:"frontend/src/scenes/insights/InsightTabs/PathTab/PathCleanFilterToggle.tsx#PathCleanFilterToggle"})}catch(l){}function ra(){var l=Object(I.useState)(!1),i=N()(l,2),c=i[0],d=i[1],b=Object(h.useValues)(ye.c),C=b.insightProps,R=Object(h.useValues)(Object(un.b)(C)),A=R.filter,L=Object(h.useActions)(Object(un.b)(C)),re=L.setFilter;return t.a.createElement(t.a.Fragment,null,t.a.createElement(wa.a,{style:{paddingLeft:10},pageKey:"pathcleanfilters-local",pathCleaningFilters:A.local_path_cleaning_filters||[],onChange:function(Oe){re({local_path_cleaning_filters:[].concat(ee()(A.local_path_cleaning_filters||[]),[Oe])})},onRemove:function(Oe){var de=(A.local_path_cleaning_filters||[]).filter(function(H,pt){return pt!==Oe});re({local_path_cleaning_filters:de})}}),t.a.createElement(M.a,{align:"middle",justify:"space-between",style:{paddingLeft:0}},t.a.createElement(mn.a,{visible:c,placement:"bottom-end",fallbackPlacements:["bottom-start"],onClickOutside:function(){return d(!1)},overlay:t.a.createElement(na.a,{item:{},onClose:function(){return d(!1)},onComplete:function(Oe){re({local_path_cleaning_filters:[].concat(ee()(A.local_path_cleaning_filters||[]),[Oe])}),d(!1)}})},function(j){var Oe=j.setRef;return t.a.createElement(t.a.Fragment,null,t.a.createElement(gt.a,{ref:Oe,onClick:function(){return d(!c)},className:"new-prop-filter","data-attr":"new-prop-filter-pathcleanfilters-local",type:"link",style:{paddingLeft:0},icon:t.a.createElement(yn.a,null)},"Add Rule"))}),t.a.createElement(Nn,{filters:A,onChange:re})))}function Tn(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function Cn(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?Tn(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):Tn(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}function ka(){var l=Object(h.useValues)(ye.c),i=l.insightProps,c=Object(h.useValues)(Object(un.b)(i)),d=c.filter,b=Object(h.useActions)(Object(un.b)(i)),C=b.setFilter,R=Object(I.useState)({edge_limit:d.edge_limit,min_edge_weight:d.min_edge_weight,max_edge_weight:d.max_edge_weight}),A=N()(R,2),L=A[0],re=A[1],j=function(){(L.edge_limit!==d.edge_limit||L.min_edge_weight!==d.min_edge_weight||L.max_edge_weight!==d.max_edge_weight)&&C(Cn({},L))};return t.a.createElement(M.a,{align:"middle"},t.a.createElement(Q.a,{span:24},t.a.createElement("div",{className:"mb-05"},t.a.createElement("b",null,"Maximum number of paths"),t.a.createElement($e.a,{title:"Determines the maximum number of path nodes that can be generated. If necessary certain items will be grouped."},t.a.createElement(Y.a,{className:"info-indicator",style:{marginRight:4}}))),t.a.createElement(da.a,{style:{marginBottom:16},min:0,max:1e3,defaultValue:50,onChange:function(de){return re(function(H){return Cn(Cn({},H),{},{edge_limit:Number(de)})})},onBlur:j,onPressEnter:j}),t.a.createElement("div",{className:"mb-05"},t.a.createElement("b",null,"Number of people on each path"),t.a.createElement($e.a,{title:"Determines the minimum and maximum number of persons in each path. Helps adjust the density of the visualization."},t.a.createElement(Y.a,{className:"info-indicator",style:{marginRight:4}}))),t.a.createElement("div",null,"between"," ",t.a.createElement(da.a,{style:{marginBottom:16},min:0,max:1e5,onChange:function(de){return re(function(H){return Cn(Cn({},H),{},{min_edge_weight:Number(de)})})},onBlur:j,onPressEnter:j})," ","and"," ",t.a.createElement(da.a,{style:{marginBottom:16},onChange:function(de){return re(function(H){return Cn(Cn({},H),{},{max_edge_weight:Number(de)})})},min:0,max:1e5,onBlur:j,onPressEnter:j})),t.a.createElement("div",{className:"mb-05"},t.a.createElement("div",{style:{display:"flex"}},t.a.createElement("b",null,"Path Cleaning Rules: (optional)"," ",t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,"Cleaning rules are an advanced feature that uses regex to normalize URLS for paths visualization. Rules can be set for all insights in the project settings, or they can be defined specifically for an insight.")},t.a.createElement(Y.a,{className:"info-indicator",style:{marginRight:4}}))),t.a.createElement(ua.a,{style:{flexGrow:1,textAlign:"right"},to:"/project/settings#path_cleaning_filtering"},t.a.createElement(ma.a,null)," Configure Project Rules"))),t.a.createElement(ra,null)))}function _n(){var l,i,c,d,b,C,R=Object(h.useValues)(ye.c),A=R.insightProps,L=R.allEventNames,re=Object(h.useValues)(Object(un.b)(A)),j=re.filter,Oe=re.wildcards,de=Object(h.useActions)(Object(un.b)(A)),H=de.setFilter,pt=de.updateExclusions,lt=Object(h.useValues)(Et.a),qe=lt.featureFlags,ue=Object(I.useState)(!1),jt=N()(ue,2),Nt=jt[0],Bt=jt[1],Dt=Object(h.useValues)(ca.b),rn=Dt.showingPeople,It=Dt.cohortModalVisible,on=Object(h.useActions)(ca.b),Kn=on.setCohortModalVisible,kn=Object(h.useValues)(Hn.a),Wn=kn.preflight,fr=Object(h.useValues)(Oa.a),vr=fr.user,Sr=Object(h.useValues)(Ue.a),Or=Sr.groupsTaxonomicTypes,tr=vr==null||(l=vr.organization)===null||l===void 0||(i=l.available_features)===null||i===void 0?void 0:i.includes(P.c.PATHS_ADVANCED),ir=Kt()(),jr=ir.xs||ir.sm&&!ir.md,cr=j.include_event_types?[].concat(ee()(j.include_event_types.map(function(At){return At===P.w.Screen?K.a.Screens:At===P.w.CustomEvent?K.a.CustomEvents:K.a.PageviewUrls})),[K.a.Wildcards]):[K.a.Wildcards],Va=j.funnel_paths&&[P.m.between,P.m.after].includes(j.funnel_paths),Ba=j.funnel_paths&&[P.m.between,P.m.before].includes(j.funnel_paths),gr=function(Je){j.include_event_types?j.include_event_types.includes(Je)?H({include_event_types:j.include_event_types.filter(function(Un){return Un!==Je})}):H({include_event_types:j.include_event_types?[].concat(ee()(j.include_event_types),[Je]):[Je]}):H({include_event_types:[Je]})};function Pr(At,Je){var Un,qa,yr,zn,Ea=((Un=At.events)===null||Un===void 0||(qa=Un.filter(function(Ha){return Ha.order===Je-1}))===null||qa===void 0?void 0:qa[0])||((yr=At.actions)===null||yr===void 0||(zn=yr.filter(function(Ha){return Ha.order===Je-1}))===null||zn===void 0?void 0:zn[0]);return(Ea==null?void 0:Ea.name)||""}function hr(At,Je){var Un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return At&&Je?t.a.createElement("div",null,t.a.createElement(gn.a,null),t.a.createElement("span",{className:"label"},"".concat(Je>0?"Funnel step "+(Je+Un):"Funnel dropoff "+Je*-1,": ").concat(Pr(At,Je>0?Je+Un:Je*-1)))):t.a.createElement("span",null)}function xr(){if(j.funnel_paths)if(j.funnel_paths===P.m.after){var At;return hr(j.funnel_filter,(At=j.funnel_filter)===null||At===void 0?void 0:At.funnel_step)}else if(j.funnel_paths===P.m.between){var Je;return hr(j.funnel_filter,(Je=j.funnel_filter)===null||Je===void 0?void 0:Je.funnel_step,-1)}else return t.a.createElement("span",null);else return j.start_point?t.a.createElement("span",{className:"label"},j.start_point):t.a.createElement("span",{className:"label",style:{color:"var(--muted)"}},"Add start point")}function Tr(){if(j.funnel_paths)if(j.funnel_paths===P.m.before||j.funnel_paths===P.m.between){var At;return hr(j.funnel_filter,(At=j.funnel_filter)===null||At===void 0?void 0:At.funnel_step)}else return t.a.createElement("span",null);else return j.end_point?t.a.createElement("span",{className:"label"},j.end_point):t.a.createElement("span",{style:{color:"var(--muted)"}},"Add end point")}return t.a.createElement(t.a.Fragment,null,t.a.createElement(ga.a,{visible:rn&&!It,view:P.s.PATHS,filters:j,onSaveCohort:function(){Kn(!0)},aggregationTargetLabel:{singular:"user",plural:"users"}}),t.a.createElement(M.a,null,t.a.createElement(Q.a,{span:12},t.a.createElement(Q.a,{className:"event-types",style:{paddingBottom:16}},t.a.createElement(M.a,{align:"middle"},t.a.createElement(Q.a,{xs:20,sm:20,xl:3},t.a.createElement("b",null,"Events:")),t.a.createElement(Q.a,{xs:20,sm:20,xl:7,className:"tab-btn left ant-btn",onClick:function(){return gr(P.w.PageView)}},t.a.createElement(qt.a,{checked:(c=j.include_event_types)===null||c===void 0?void 0:c.includes(P.w.PageView),style:{pointerEvents:"none"}},"Page views")),t.a.createElement(Q.a,{xs:20,sm:20,xl:7,className:"tab-btn center ant-btn",onClick:function(){return gr(P.w.Screen)}},t.a.createElement(qt.a,{checked:(d=j.include_event_types)===null||d===void 0?void 0:d.includes(P.w.Screen),style:{pointerEvents:"none"}},"Screen views")),t.a.createElement(Q.a,{xs:20,sm:20,xl:7,className:"tab-btn right ant-btn",onClick:function(){return gr(P.w.CustomEvent)}},t.a.createElement(qt.a,{checked:(b=j.include_event_types)===null||b===void 0?void 0:b.includes(P.w.CustomEvent),style:{pointerEvents:"none"}},"Custom events"))),t.a.createElement("hr",null),tr&&t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{align:"middle"},t.a.createElement(Q.a,null,t.a.createElement("b",null,"Wildcard groups: (optional)"),t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,"Use wildcard matching to group events by unique values in path item names. Use an asterisk (*) in place of unique values. For example, instead of /merchant/1234/payment, replace the unique value with an asterisk /merchant/*/payment."," ",t.a.createElement("b",null,"Use a comma to separate multiple wildcards."))},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement(oe.a,{mode:"tags",style:{width:"100%",marginTop:5},onChange:function(Je){return H({path_groupings:Je})},tokenSeparators:[","],value:j.path_groupings||[]})),t.a.createElement("hr",null)),t.a.createElement(M.a,{align:"middle"},t.a.createElement(Q.a,{span:9},t.a.createElement("b",null,"Starting at")),t.a.createElement(Q.a,{span:15},t.a.createElement(On,{pathItem:j.start_point,index:0,onChange:function(Je){return H({start_point:Je})},taxonomicGroupTypes:cr,disabled:Va||Ba,wildcardOptions:Oe},t.a.createElement(gt.a,{"data-attr":"new-prop-filter-"+1,block:!0,className:"paths-endpoint-field",style:{textAlign:"left",backgroundColor:Va||Ba?"var(--border-light)":"white"},disabled:Ba&&!Va,onClick:j.funnel_filter&&Va?function(){Qn.router.actions.push(Object(Qn.combineUrl)("/insights",Object(Qn.encodeParams)(j.funnel_filter,"?")).url)}:function(){}},t.a.createElement("div",{className:"label-container"},xr(),j.start_point||Va?t.a.createElement(Zt.a,{onClick:function(Je){H({start_point:void 0,funnel_filter:void 0,funnel_paths:void 0}),Je.stopPropagation()},className:"close-button"}):null))))),tr&&t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement(M.a,{align:"middle"},t.a.createElement(Q.a,{span:9},t.a.createElement("b",null,"Ending at")),t.a.createElement(Q.a,{span:15},t.a.createElement(On,{pathItem:j.end_point,index:1,onChange:function(Je){return H({end_point:Je})},taxonomicGroupTypes:cr,disabled:Ba||Va,wildcardOptions:Oe},t.a.createElement(gt.a,{"data-attr":"new-prop-filter-"+0,block:!0,className:"paths-endpoint-field",style:{textAlign:"left",backgroundColor:Va||Ba?"var(--border-light)":"white"},disabled:Va&&!Ba,onClick:j.funnel_filter&&Ba?function(){Qn.router.actions.push(Object(Qn.combineUrl)("/insights",Object(Qn.encodeParams)(j.funnel_filter,"?")).url)}:function(){}},t.a.createElement("div",{className:"label-container"},Tr(),j.end_point||Ba?t.a.createElement(Zt.a,{onClick:function(Je){H({end_point:void 0,funnel_filter:void 0,funnel_paths:void 0}),Je.stopPropagation()},className:"close-button"}):null)))))),["control","direct"].includes(qe[bt.n.PATHS_ADVANCED_EXPERIMENT])&&tr&&t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary",style:{display:"flex",cursor:"pointer",alignItems:"center"},onClick:function(){return Bt(!Nt)}},t.a.createElement("span",{style:{flexGrow:1}},"Advanced options"),qe[bt.n.PATHS_ADVANCED_EXPERIMENT]==="control"&&t.a.createElement("div",{className:Object(mt.a)("advanced-options-dropdown",Nt&&"expanded")},t.a.createElement(ot.IconArrowDropDown,null))),qe[bt.n.PATHS_ADVANCED_EXPERIMENT]==="direct"||Nt?t.a.createElement(ka,null):t.a.createElement("div",{className:"text-muted-alt cursor-pointer",onClick:function(){return Bt(!Nt)}},"Adjust maximum number of paths, path density or path cleaning options.")),!tr&&!(!(Wn==null||(C=Wn.instance_preferences)===null||C===void 0)&&C.disable_paid_fs)&&t.a.createElement(M.a,{align:"middle"},t.a.createElement(Q.a,{span:24},t.a.createElement(Yn.a,{identifier:P.c.PATHS_ADVANCED,title:"Get a deeper understanding of your users",caption:"Advanced features such as interconnection with funnels, grouping & wildcarding and exclusions can help you gain deeper insights.",docsLink:"https://posthog.com/docs/user-guides/paths"}))))),t.a.createElement(Q.a,{span:12,style:{marginTop:jr?"2rem":0,paddingLeft:32}},qe[bt.n.AND_OR_FILTERING]&&j.properties?t.a.createElement(V,{propertyFilters:Object(Be.r)(j.properties),onChange:function(Je){H({properties:Je})},taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(Or),[K.a.Cohorts,K.a.Elements]),pageKey:"insight-path",eventNames:L,filters:j,setTestFilters:function(Je){return H(Je)}}):t.a.createElement(t.a.Fragment,null,t.a.createElement(nt,{title:"Filters",unit:"actions/events"}),t.a.createElement(ke.a,{propertyFilters:Object(Be.s)(j.properties),onChange:function(Je){return H({properties:Je})},pageKey:"insight-path",taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(Or),[K.a.Cohorts,K.a.Elements]),eventNames:L}),t.a.createElement($t,{filters:j,onChange:H})),tr&&t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary"},"Exclusions",t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,"Exclude events from Paths visualisation. You can use wildcard groups in exclusions as well.")},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement(va,{taxonomicGroupTypes:cr,pageKey:"exclusion",propertyFilters:j.exclude_events&&j.exclude_events.map(function(At){return{key:At,value:At,operator:null,type:"event"}}),onChange:function(Je){var Un=Je.length>0?Je.map(function(qa){return qa.value}):Je;pt(Un)},wildcardOptions:Oe})))))}var Tt=e("./frontend/src/scenes/funnels/funnelLogic.ts"),bn=e("./node_modules/antd/es/tag/index.js"),Sn=e("./frontend/src/lib/components/CommandPalette/commandPaletteLogic.ts"),Xn=e("./node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js"),ha="funnels",Fa=Object(h.kea)({path:["scenes","insights","InsightTabs","FunnelTab","funnelCommandLogic"],connect:[Sn.a],events:{afterMount:function(){for(var i=[{icon:Xn.a,display:"Clear Funnel",executor:function(){var A;(A=Tt.a.findMounted({syncWithUrl:!0}))===null||A===void 0||A.actions.clearFunnel()}}],c=[{key:ha,resolver:i,scope:ha}],d=0,b=c;d<b.length;d++){var C=b[d];Sn.a.actions.registerCommand(C)}},beforeUnmount:function(){Sn.a.actions.deregisterScope(ha)}}}),Wa=e("./node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),qn=e("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),ya=e("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),Ua=e("./frontend/src/lib/components/DropdownSelector/DropdownSelector.tsx"),pa=function(){};function Mn(l){var i=l.onChange,c=i===void 0?pa:i,d=l.disabled,b=d===void 0?!1:d,C=l.simpleMode,R=Object(h.useValues)(ye.c),A=R.insightProps,L=Object(h.useValues)(Object(Tt.a)(A)),re=L.aggregationTargetLabel,j=Object(h.useValues)(Object(ya.a)(A)),Oe=j.chartFilter,de=Object(h.useActions)(Object(ya.a)(A)),H=de.setChartFilter,pt=P.o.Steps,lt=[{key:P.o.Steps,label:"Conversion steps",description:"Track ".concat(re.plural," progress between steps of the funnel"),icon:t.a.createElement(Xn.a,null)},{key:P.o.TimeToConvert,label:"Time to convert",description:"Track how long it takes for ".concat(re.plural," to convert"),icon:t.a.createElement(Wa.a,null),hidden:!1},{key:P.o.Trends,label:"Historical trends",description:"Track how this funnel's conversion rate is trending over time",icon:t.a.createElement(qn.a,null),hidden:!1}];if(lt.filter(function(ue){return!ue.hidden}).length<=1)return null;var qe=t.a.createElement("div",{className:"funnel-chart-filter"},t.a.createElement(Ua.a,{options:lt,value:Oe||pt,onValueChange:function(jt){var Nt=jt;H(Nt),c(Nt)},disabled:b,hideDescriptionOnDisplay:!0,compact:C}));return C?qe:t.a.createElement("div",null,t.a.createElement("h4",{className:"secondary"},"Graph Type"),qe)}try{Mn.displayName="ToggleButtonChartFilter",Mn.__docgenInfo={description:"",displayName:"ToggleButtonChartFilter",props:{onChange:{defaultValue:{value:"(): void => {}"},description:"",name:"onChange",required:!1,type:{name:"((chartFilter: FunnelVizType) => void)"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},simpleMode:{defaultValue:null,description:"",name:"simpleMode",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx#ToggleButtonChartFilter"]={docgenInfo:Mn.__docgenInfo,name:"ToggleButtonChartFilter",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/ToggleButtonChartFilter.tsx#ToggleButtonChartFilter"})}catch(l){}var Ca=e("./node_modules/use-debounce/esm/useDebouncedCallback.js"),fn;function ea(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function Zn(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?ea(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):ea(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}var Dn=(fn={},n()(fn,P.j.Minute,[1,1440]),n()(fn,P.j.Hour,[1,24]),n()(fn,P.j.Day,[1,365]),n()(fn,P.j.Week,[1,53]),n()(fn,P.j.Month,[1,12]),fn);function jn(l){var i,c=l.horizontal,d=Object(h.useValues)(ye.c),b=d.insightProps,C=Object(h.useValues)(Object(Tt.a)(b)),R=C.conversionWindow,A=C.aggregationTargetLabel,L=C.filters,re=Object(h.useActions)(Object(Tt.a)(b)),j=re.setFilters,Oe=Object(I.useState)(R),de=N()(Oe,2),H=de[0],pt=de[1],lt=Object(I.useRef)(null),qe=Object.keys(Dn).map(function(Nt){var Bt;return{label:Object(Be.qb)((Bt=R.funnel_window_interval)!==null&&Bt!==void 0?Bt:7,Nt,"".concat(Nt,"s"),!1),value:Nt}}),ue=Dn[(i=R.funnel_window_interval_unit)!==null&&i!==void 0?i:P.j.Day],jt=Object(Ca.a)(function(){(H.funnel_window_interval!==R.funnel_window_interval||H.funnel_window_interval_unit!==R.funnel_window_interval_unit)&&j(H)},200);return t.a.createElement("div",{className:Object(mt.a)("funnel-options-container",c&&"flex-center"),style:c?{flexDirection:"row"}:void 0},t.a.createElement("span",{className:"funnel-options-label"},"Conversion window limit"," ",t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,t.a.createElement("b",null,"Recommended!")," Limit to ",A.plural," ",L.aggregation_group_type_index!=null?"that":"who"," converted within a specific time frame. ",Object(Be.j)(A.plural)," ",L.aggregation_group_type_index!=null?"that":"who"," do not convert in this time frame will be considered as drop-offs.")},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement(M.a,{className:"funnel-options-inputs",style:c?{paddingLeft:8}:void 0},t.a.createElement(da.a,{className:"time-value-input",min:ue[0],max:ue[1],defaultValue:R.funnel_window_interval,value:H.funnel_window_interval,onChange:function(Bt){pt(function(Dt){return Zn(Zn({},Dt),{},{funnel_window_interval:Number(Bt)})}),jt()},onBlur:jt,onPressEnter:jt}),t.a.createElement(oe.a,{ref:lt,className:"time-unit-input",defaultValue:R.funnel_window_interval_unit,dropdownMatchSelectWidth:!1,value:H.funnel_window_interval_unit,onChange:function(Bt){pt(function(Dt){return Zn(Zn({},Dt),{},{funnel_window_interval_unit:Bt})}),jt()},onBlur:jt},qe.map(function(Nt){var Bt=Nt.value,Dt=Nt.label;return t.a.createElement(oe.a.Option,{value:Bt,key:Bt},Dt)}))))}try{jn.displayName="FunnelConversionWindowFilter",jn.__docgenInfo={description:"",displayName:"FunnelConversionWindowFilter",props:{horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelConversionWindowFilter.tsx#FunnelConversionWindowFilter"]={docgenInfo:jn.__docgenInfo,name:"FunnelConversionWindowFilter",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelConversionWindowFilter.tsx#FunnelConversionWindowFilter"})}catch(l){}var Jn=[{label:"Sequential",value:P.F.ORDERED},{label:"Strict Order",value:P.F.STRICT},{label:"Any Order",value:P.F.UNORDERED}];function Ra(){var l=Object(h.useValues)(ye.c),i=l.insightProps,c=Object(h.useValues)(Object(Tt.a)(i)),d=c.filters,b=Object(h.useActions)(Object(Tt.a)(i)),C=b.setFilters;return t.a.createElement(oe.a,{id:"funnel-step-order-filter","data-attr":"funnel-step-order-filter",defaultValue:P.F.ORDERED,value:d.funnel_order_type||P.F.ORDERED,onSelect:function(A){return C({funnel_order_type:A})},listHeight:440,dropdownMatchSelectWidth:!1,dropdownAlign:Be.a.bottomRight,optionLabelProp:"label",options:Jn,style:{marginRight:4}})}var Sa=e("./node_modules/core-js/modules/es.array.from.js"),za=e("./node_modules/core-js/modules/es.array.slice.js"),In=e("./node_modules/core-js/modules/es.string.iterator.js"),oa=e("./node_modules/@babel/runtime/helpers/extends.js"),ba=e.n(oa),ja=e("./node_modules/@react-hook/size/dist/module/index.js"),La=e("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js");function Na(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function Pa(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?Na(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):Na(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}function sa(l){var i,c,d,b,C,R,A,L,re=l.filter,j=l.index,Oe=l.onClose,de=l.isVertical,H=Object(h.useValues)(ye.c),pt=H.insightProps,lt=Object(h.useValues)(Object(Tt.a)(pt)),qe=lt.filters,ue=lt.areFiltersValid,jt=lt.numberOfSeries,Nt=lt.exclusionDefaultStepRange,Bt=Object(h.useActions)(Object(Tt.a)(pt)),Dt=Bt.setOneEventExclusionFilter,rn={funnel_from_step:(i=(c=qe.exclusions)===null||c===void 0||(d=c[j])===null||d===void 0?void 0:d.funnel_from_step)!==null&&i!==void 0?i:Nt.funnel_from_step,funnel_to_step:(b=(C=qe.exclusions)===null||C===void 0||(R=C[j])===null||R===void 0?void 0:R.funnel_to_step)!==null&&b!==void 0?b:Nt.funnel_to_step},It=function(){var Kn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rn.funnel_from_step,kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rn.funnel_to_step;Dt(Pa(Pa({},re),{},{funnel_from_step:Kn,funnel_to_step:kn}),j)};return t.a.createElement(M.a,{justify:"space-between",align:"middle",wrap:!1,style:{margin:"".concat(de?4:0,"px 0"),paddingLeft:4,width:de?"100%":"auto"}},"between",t.a.createElement(oe.a,{defaultValue:0,disabled:!ue,dropdownMatchSelectWidth:!1,dropdownAlign:Be.a.bottomRight,"data-attr":"funnel-exclusion-funnel_from_step-selector",optionLabelProp:"label",value:rn.funnel_from_step,onChange:function(Kn){return It(Kn)},onBlur:function(){return It},style:{marginLeft:4,marginRight:4}},Array.from(Array(jt).keys()).slice(0,-1).map(function(on){return t.a.createElement(oe.a.Option,{key:on,value:on,label:"Step ".concat(on+1)},"Step ",on+1)})),"and",t.a.createElement(oe.a,{defaultValue:((A=rn.funnel_from_step)!==null&&A!==void 0?A:0)+1,disabled:!ue,dropdownMatchSelectWidth:!1,dropdownAlign:Be.a.bottomRight,"data-attr":"funnel-exclusion-funnel_to_step-selector",optionLabelProp:"label",value:rn.funnel_to_step,onChange:function(Kn){return It(rn.funnel_from_step,Kn)},onBlur:function(){return It},style:{marginLeft:4}},Array.from(Array(jt).keys()).slice(((L=rn.funnel_from_step)!==null&&L!==void 0?L:0)+1).map(function(on){return t.a.createElement(oe.a.Option,{key:on,value:on,label:"Step ".concat(on+1)},"Step ",on+1)})),t.a.createElement("div",{style:{flex:1}}),t.a.createElement(gt.a,{type:"link",onClick:Oe,className:"row-action-btn delete","data-attr":"delete-prop-exclusion-filter",title:"Delete event exclusion series",style:{marginLeft:4}},t.a.createElement(La.a,null)))}function Da(l){var i=l.seriesIndicator,c=l.filter,d=l.suffix,b=l.isVertical;return t.a.createElement(M.a,{wrap:!1,align:b?"top":"middle",style:{width:"100%"}},t.a.createElement(Q.a,{style:{padding:"".concat(b?5:0,"px 8px")}},i),t.a.createElement(Q.a,{flex:"auto"},t.a.createElement(M.a,{align:"middle",wrap:b},c,d)))}function Ga(){var l=Object(h.useValues)(ye.c),i=l.insightProps,c=Object(h.useValues)(Object(Tt.a)(i)),d=c.exclusionFilters,b=c.areFiltersValid,C=c.exclusionDefaultStepRange,R=Object(h.useActions)(Object(Tt.a)(i)),A=R.setEventExclusionFilters,L=Object(I.useRef)(null),re=Object(ja.a)(L),j=N()(re,1),Oe=j[0],de=!!Oe&&Oe<450;return t.a.createElement(Qe.a,{ref:L,setFilters:A,filters:d,typeKey:"funnel-exclusions-filter",addFilterDefaultOptions:Pa({id:"$pageview",name:"$pageview",type:P.g.EVENTS},C),disabled:!b,buttonCopy:"Add exclusion",buttonType:"default",actionsTaxonomicGroupTypes:[K.a.Events],hideMathSelector:!0,hidePropertySelector:!0,hideFilter:!0,hideRename:!0,hideDeleteBtn:!0,fullWidth:!0,seriesIndicatorType:"alpha",renderRow:function(pt){return t.a.createElement(Da,ba()({},pt,{isVertical:de}))},customRowSuffix:function(pt){return t.a.createElement(sa,ba()({},pt,{isVertical:de}))}})}var xa=e("./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js");function Gt(l){var i=l.bordered,c=i===void 0?!1:i,d=Object(h.useValues)(ye.c),b=d.insightProps,C=Object(h.useValues)(Object(Tt.a)(b)),R=C.stepReference,A=Object(h.useActions)(Object(Tt.a)(b)),L=A.setStepReference,re=[{value:P.n.total,icon:t.a.createElement(xa.a,null),label:"Overall conversion"},{value:P.n.previous,icon:t.a.createElement(xa.a,null),label:"Relative to previous step"}];return t.a.createElement(oe.a,{defaultValue:P.n.total,value:R||P.n.total,onChange:L,bordered:c,dropdownMatchSelectWidth:!1,"data-attr":"funnel-step-reference-selector",optionLabelProp:"label"},re.map(function(j){return t.a.createElement(oe.a.Option,{key:j.value,value:j.value,label:t.a.createElement(t.a.Fragment,null,j.icon," ",j.label)},j.label)}))}try{Gt.displayName="FunnelStepReferencePicker",Gt.__docgenInfo={description:"",displayName:"FunnelStepReferencePicker",props:{bordered:{defaultValue:{value:"false"},description:"",name:"bordered",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepReferencePicker.tsx#FunnelStepReferencePicker"]={docgenInfo:Gt.__docgenInfo,name:"FunnelStepReferencePicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepReferencePicker.tsx#FunnelStepReferencePicker"})}catch(l){}var An=e("./frontend/src/lib/components/PropertyFilters/utils.ts"),fa=20;function la(){var l=Object(h.useValues)(ye.c),i=l.insightProps,c=l.allEventNames,d=Object(h.useActions)(ye.c),b=d.loadResults,C=Object(h.useValues)(Object(Tt.a)(i)),R=C.isStepsEmpty,A=C.filters,L=C.aggregationTargetLabel,re=C.filterSteps,j=C.advancedOptionsUsedCount,Oe=Object(h.useActions)(Object(Tt.a)(i)),de=Oe.setFilters,H=Oe.toggleAdvancedMode,pt=Oe.setStepReference,lt=Object(h.useValues)(Et.a),qe=lt.featureFlags,ue=Object(h.useValues)(Ue.a),jt=ue.groupsTaxonomicTypes,Nt=ue.showGroupsOptions,Bt=Kt()();Object(h.useMountedLogic)(Fa);var Dt=!Bt.xl;return t.a.createElement(M.a,{gutter:16,"data-attr":"funnel-tab",className:"funnel-tab"},t.a.createElement(Q.a,{xs:24,md:16,xl:24},t.a.createElement("div",null,t.a.createElement("form",{onSubmit:function(It){It.preventDefault(),b()}},t.a.createElement(M.a,{className:"mb-05",justify:"space-between",align:"middle"},t.a.createElement("h4",{className:"secondary",style:{marginBottom:0}},"Query steps"),t.a.createElement("div",{className:"flex-center"},t.a.createElement("span",{style:{marginRight:6,textTransform:"none",fontWeight:"normal",color:"var(--muted)"}},"Graph type"),t.a.createElement(Mn,{simpleMode:!0}))),t.a.createElement(G.a,{className:"action-filters-bordered",bodyStyle:{padding:0}},t.a.createElement(Qe.a,{filters:A,setFilters:de,typeKey:"EditFunnel-action",hideMathSelector:!0,hideDeleteBtn:re.length===1,buttonCopy:"Add step",buttonType:"link",showSeriesIndicator:!R,seriesIndicatorType:"numeric",entitiesLimit:fa,fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(jt),[K.a.Cohorts,K.a.Elements]),rowClassName:"action-filters-bordered"}),t.a.createElement("div",{className:"mb-05"})))),Nt&&t.a.createElement(t.a.Fragment,null,t.a.createElement(M.a,{className:"mt",style:{paddingRight:Dt?void 0:16}},t.a.createElement("div",{className:"flex-center text-muted",style:{width:"100%"}},t.a.createElement("span",{style:{marginRight:4}},"Aggregating by"),t.a.createElement(Ie,{aggregationGroupTypeIndex:A.aggregation_group_type_index,onChange:function(It){de({aggregation_group_type_index:It})}})))),t.a.createElement("div",{className:"text-muted"},t.a.createElement(jn,{horizontal:!0}))),t.a.createElement(Q.a,{xs:24,md:8,xl:24},t.a.createElement("hr",null),t.a.createElement("div",{className:"mt"}),qe[bt.n.AND_OR_FILTERING]&&A.properties?t.a.createElement(V,{propertyFilters:Object(Be.r)(A.properties),onChange:function(It){de({properties:It})},taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(jt),[K.a.Cohorts,K.a.Elements]),pageKey:"EditFunnel-property",eventNames:c,filters:A,setTestFilters:function(It){return de(It)}}):t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"flex-center"},t.a.createElement("div",{style:{flexGrow:1}},t.a.createElement(nt,{unit:"steps"}))),t.a.createElement(ke.a,{pageKey:"EditFunnel-property",propertyFilters:Object(Be.s)(A.properties)||[],onChange:function(It){de({properties:It.filter(An.b)})},taxonomicGroupTypes:[K.a.EventProperties,K.a.PersonProperties].concat(ee()(jt),[K.a.Cohorts,K.a.Elements]),eventNames:c}),t.a.createElement("div",{style:{marginBottom:"0.5rem"}},t.a.createElement($t,{filters:A,onChange:de}))),A.funnel_viz_type===P.o.Steps&&t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("h4",{className:"secondary"},"Breakdown",t.a.createElement($e.a,{placement:"right",title:"Use breakdown to see the aggregation (total volume, active users, etc.) for each value of that property. For example, breaking down by Current URL with total volume will give you the event volume for each URL your users have visited."},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement(M.a,{align:"middle"},t.a.createElement(U.a,{filters:A,setFilters:de,buttonType:"default",useMultiBreakdown:!!qe[bt.n.BREAKDOWN_BY_MULTIPLE_PROPERTIES]}))),t.a.createElement(t.a.Fragment,null,t.a.createElement("hr",null),t.a.createElement("div",{className:"flex-center cursor-pointer",onClick:H},t.a.createElement("h4",{className:"secondary",style:{flexGrow:1}},"Advanced options"," ",!A.funnel_advanced&&!!j&&t.a.createElement(bn.a,{className:"lemonade-tag"},j)),t.a.createElement("div",null,t.a.createElement("div",{className:Object(mt.a)("advanced-options-dropdown",A.funnel_advanced&&"expanded")},t.a.createElement(ot.IconArrowDropDown,null)))),A.funnel_advanced?t.a.createElement("div",{className:"funnel-advanced-options"},t.a.createElement("div",{className:"mb-05"},"Step order",t.a.createElement($e.a,{title:t.a.createElement("ul",{style:{paddingLeft:"1.2rem"}},t.a.createElement("li",null,t.a.createElement("b",null,"Sequential")," - Step B must happen after Step A, but any number events can happen between A and B."),t.a.createElement("li",null,t.a.createElement("b",null,"Strict Order")," - Step B must happen directly after Step A without any events in between."),t.a.createElement("li",null,t.a.createElement("b",null,"Any Order")," - Steps can be completed in any sequence."))},t.a.createElement(Y.a,{className:"info-indicator",style:{marginRight:4}}))),t.a.createElement(Ra,null),t.a.createElement("div",{className:"mt"},"Conversion rate calculation"),t.a.createElement(Gt,{bordered:!0}),t.a.createElement("div",{className:"mt"},"Exclusion steps",t.a.createElement($e.a,{title:t.a.createElement(t.a.Fragment,null,"Exclude ",L.plural," ",A.aggregation_group_type_index!=null?"that":"who"," ","completed the specified event between two specific steps. Note that these",L.plural," will be"," ",t.a.createElement("b",null,"completely excluded from the entire funnel"),".")},t.a.createElement(Y.a,{className:"info-indicator"}))),t.a.createElement("div",{className:"funnel-exclusions-filter"},t.a.createElement(Ga,null)),!!j&&t.a.createElement("div",null,t.a.createElement(gt.a,{type:"link",style:{color:"var(--danger)",paddingLeft:0,marginTop:16},onClick:function(){pt(P.n.total),de({funnel_order_type:P.F.ORDERED,exclusions:[]})}},"Reset advanced options"))):t.a.createElement("div",{className:"text-muted-alt cursor-pointer",onClick:H},"Exclude events between steps, custom conversion limit window and allow any step ordering."))))}var br=e("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts"),nr=e("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),ar=e("./frontend/src/scenes/insights/sharedUtils.ts"),_a=e("./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts"),Ta="insights",rr=Object(h.kea)({props:{},key:Object(ar.c)("new"),path:function(i){return["scenes","insights","insightCommandLogic",i]},connect:function(i){return[Sn.a,Object(br.a)(i),Object(_a.a)(i)]},events:function(i){var c=i.props;return{afterMount:function(){for(var b=[{key:"insight-graph",resolver:[{icon:nr.a,display:'Toggle "Compare Previous" on Graph',executor:function(){Object(br.a)(c).actions.toggleCompare()}}].concat(ee()(Object.entries(Be.v).map(function(L){var re=N()(L,2),j=re[0],Oe=re[1].values;return{icon:nr.a,display:"Set Time Range to ".concat(j),executor:function(){Object(_a.a)(c).actions.setDates(Oe[0],Oe[1])}}}))),scope:Ta}],C=0,R=b;C<R.length;C++){var A=R[C];Sn.a.actions.registerCommand(A)}},beforeUnmount:function(){Sn.a.actions.deregisterScope(Ta)}}}}),dr=e("./frontend/src/lib/hooks/useKeyboardHotkeys.tsx"),or=e("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js"),Xa=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Er=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/experimental/NPSPrompt.scss"),ur=e.n(Er),$a={};$a.insert="head",$a.singleton=!1;var sr=me()(ur.a,$a),Cr=ur.a.locals||{},Ma=e("./node_modules/posthog-js/dist/es.js"),mr=e.p+"images/nps.01f8251908e72335482be26ee661ccc7.svg",Za=e("./frontend/src/lib/dayjs.ts");function er(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function Ja(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?er(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):er(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}var pr=1e4,Ya=3500,o="experimental-nps-v8",r=Object(h.kea)({path:["lib","experimental","NPSPrompt"],selectors:{featureFlagEnabled:[function(){return[Et.a.selectors.featureFlags]},function(l){return l[bt.n.NPS_PROMPT]}],userIsOldEnough:[function(){return[Oa.a.selectors.user]},function(l){return l&&Object(Za.a)(l.date_joined).isBefore(Object(Za.a)().add(-15,"day"))}],npsPromptEnabled:[function(l){return[l.featureFlagEnabled,l.userIsOldEnough]},function(l,i){return l&&i}]},actions:{show:!0,hide:!0,setStep:function(i){return{step:i}},stepBack:!0,setPayload:function(i){return{payload:i}},submit:function(i){return{completed:i}},dismiss:!0,send:function(i){return{result:i}}},reducers:{step:[0,{setStep:function(i,c){var d=c.step;return d},stepBack:function(i){return Math.max(i-1,0)},submit:function(){return 3},setPayload:function(i,c){var d=c.payload;return i===0&&typeof(d==null?void 0:d.score)!="undefined"?1:i}}],hidden:[!0,{show:function(){return!1},hide:function(){return!0}}],payload:[null,{setPayload:function(i,c){var d=c.payload;return Ja(Ja({},i),d)}}]},listeners:function(i){var c=i.values,d=i.actions,b=i.cache;return{stepBack:function(){c.step===1&&d.setPayload(null)},dismiss:function(){var R,A=typeof((R=c.payload)===null||R===void 0?void 0:R.score)!="undefined"?"partial":"dismissed";d.hide(),d.send(A)},submit:function(R){var A=R.completed,L=A?"completed":"partial";d.send(L),b.timeout=window.setTimeout(function(){return d.hide()},Ya)},send:function(R){var A=R.result;Ma.a.capture("nps feedback",Ja(Ja({},c.payload),{},{result:A})),Ma.a.people.set({nps_2106:!0}),localStorage.setItem(o,"true")},show:function(){Ma.a.capture("nps modal shown")}}},events:function(i){var c=i.actions,d=i.values,b=i.cache;return{afterMount:function(){d.npsPromptEnabled&&!localStorage.getItem(o)&&(b.timeout=window.setTimeout(function(){return c.show()},pr))},beforeUnmount:function(){window.clearTimeout(b.timeout)}}}});function a(){var l=Object(h.useActions)(r),i=l.setStep,c=l.setPayload,d=l.stepBack,b=l.submit,C=l.dismiss,R=Object(h.useValues)(r),A=R.step,L=R.payload,re=R.hidden,j=R.npsPromptEnabled;if(!j)return null;var Oe=t.a.createElement("div",{className:"nps-header"},t.a.createElement("div",{className:"cursor-pointer",onClick:d},t.a.createElement(or.a,null)),t.a.createElement("div",{className:"nps-progress"},[0,1,2].map(function(de){return t.a.createElement("div",{className:"pg-item".concat(de<=A?" completed":""),key:de})})));return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"nps-prompt".concat(re?" hide":"")},t.a.createElement("span",{className:"nps-dismiss",onClick:C},t.a.createElement(Xa.a,null)),t.a.createElement("div",{className:"prompt-inner"},A===0&&t.a.createElement("div",{"data-attr":"nps-step-0"},t.a.createElement("div",{className:"prompt-title"},"Help us improve PostHog in less than 60 seconds \u{1F64F}"),t.a.createElement("div",{className:"question"},"How would you feel if you could no longer use PostHog?"),t.a.createElement("div",{className:"action-buttons"},t.a.createElement(gt.a,{className:"prompt-button",onClick:function(){return c({score:1})}},"Not disappointed"),t.a.createElement(gt.a,{className:"prompt-button",onClick:function(){return c({score:3})}},"Somewhat disappointed"),t.a.createElement(gt.a,{className:"prompt-button",onClick:function(){return c({score:5})}},"Very disappointed"))),A===1&&t.a.createElement("div",{"data-attr":"nps-step-1"},Oe,t.a.createElement("div",{className:"question"},"What's the main reason behind this score?"),t.a.createElement(_t.a.TextArea,{autoFocus:!0,placeholder:"You can describe the key benefits you get from PostHog, shortcomings or anything else...",value:(L==null?void 0:L.feedback_score)||"",onChange:function(H){return c({feedback_score:H.target.value})},onKeyDown:function(H){return H.key==="Enter"&&H.metaKey&&i(2)}}),t.a.createElement("div",{style:{textAlign:"left"},className:"mt"},t.a.createElement(gt.a,{type:"link",style:{paddingLeft:0},onClick:function(){return b(!1)}},"Finish"),t.a.createElement(gt.a,{style:{float:"right"},onClick:function(){return i(2)}},"Continue"))),A===2&&t.a.createElement("div",{"data-attr":"nps-step-2"},Oe,t.a.createElement("div",{className:"question"},"Last one. What type of person or company do you think could benefit most from PostHog?"),t.a.createElement(_t.a.TextArea,{autoFocus:!0,placeholder:"You can describe their role, background, company or team size, ...",value:(L==null?void 0:L.feedback_persona)||"",onChange:function(H){return c({feedback_persona:H.target.value})},onKeyDown:function(H){return H.key==="Enter"&&H.metaKey&&b(!0)}}),t.a.createElement("div",{style:{textAlign:"left"},className:"mt"},t.a.createElement(gt.a,{style:{float:"right"},onClick:function(){return b(!0)}},"Finish"))),A===3&&t.a.createElement("div",{"data-attr":"nps-step-2",style:{display:"flex",alignItems:"center"}},t.a.createElement("img",{src:mr,alt:"",height:40}),t.a.createElement("div",{className:"prompt-title",style:{margin:0}},"Thanks for helping us improve PostHog!")))))}var s=e("./frontend/src/scenes/trends/SaveCohortModal.tsx"),m=e("./node_modules/antd/es/tabs/index.js"),f=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx"),v=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/TrendTab/FunnelsCue.scss"),O=e.n(v),E={};E.insert="head",E.singleton=!1;var _=me()(O.a,E),$=O.a.locals||{},Z=e("./node_modules/core-js/modules/es.regexp.flags.js"),ae=e("./node_modules/@babel/runtime/regenerator/index.js"),ve=e.n(ae),Ee=e("./node_modules/regenerator-runtime/runtime.js"),Ze=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),ht=e.n(Ze);function Yt(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function at(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?Yt(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):Yt(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}var Rt=Object(h.kea)({props:{},key:Object(ar.c)("new"),path:function(i){return["scenes","insights","InsightTabs","TrendTab","FunnelsCue",i]},connect:function(i){return{values:[Object(ye.c)(i),["filters","isFirstLoad"],Et.a,["featureFlags"]],actions:[Object(ye.c)(i),["setFilters"],Et.a,["setFeatureFlags"]]}},actions:{setDestPath:function(i){return{path:i}},optOut:function(i){return{userOptedOut:i}},setShouldShow:function(i){return{show:i}},setPermanentOptOut:!0},reducers:{destPath:["",{setDestPath:function(i,c){var d=c.path;return d}}],_shouldShow:[!1,{setShouldShow:function(i,c){var d=c.show;return d}}],permanentOptOut:[!1,{setPermanentOptOut:function(){return!0}}]},listeners:function(i){var c=i.actions,d=i.values;return{optOut:function(){var b=ht()(ve.a.mark(function R(A){var L;return ve.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:L=A.userOptedOut,Ma.a.capture("funnel cue 7301 - terminated",{user_opted_out:L}),Ma.a.people.set({funnels_cue_3701_opt_out:!0}),c.setPermanentOptOut();case 4:case"end":return j.stop()}},R)}));function C(R){return b.apply(this,arguments)}return C}(),setFilters:function(){var b=ht()(ve.a.mark(function R(A){var L,re,j,Oe,de,H;return ve.a.wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(de=A.filters,d.featureFlags[bt.n.FUNNELS_CUE_ENABLED]){lt.next=3;break}return lt.abrupt("return");case 3:H=((L=(re=de.events)===null||re===void 0?void 0:re.length)!==null&&L!==void 0?L:0)+((j=(Oe=de.actions)===null||Oe===void 0?void 0:Oe.length)!==null&&j!==void 0?j:0),!d.isFirstLoad&&de.insight===P.s.TRENDS&&H>=3?(c.setShouldShow(!0),!d.permanentOptOut&&Ma.a.capture("funnel cue 7301 - shown",{step_count:H})):d.shown&&de.insight===P.s.FUNNELS?c.optOut(!1):c.setShouldShow(!1);case 5:case"end":return lt.stop()}},R)}));function C(R){return b.apply(this,arguments)}return C}(),setFeatureFlags:function(){var b=ht()(ve.a.mark(function R(A){var L;return ve.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:L=A.flags,L[bt.n.FUNNELS_CUE_OPT_OUT]&&c.setPermanentOptOut();case 2:case"end":return j.stop()}},R)}));function C(R){return b.apply(this,arguments)}return C}()}},selectors:{shown:[function(l){return[l._shouldShow,l.permanentOptOut]},function(l,i){return l&&!i}]},events:function(i){var c=i.actions,d=i.values;return{afterMount:function(){var b=ht()(ve.a.mark(function R(){return ve.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:d.featureFlags[bt.n.FUNNELS_CUE_OPT_OUT]&&c.setPermanentOptOut();case 1:case"end":return L.stop()}},R)}));function C(){return b.apply(this,arguments)}return C}()}},urlToAction:function(i){var c=i.actions;return{"/insights":function(b,C,R){c.setDestPath("/insights?".concat(Object(Be.Ab)(at(at({},C),{},{insight:P.s.FUNNELS})),"#").concat(Object(Be.Ab)(at(at({},R),{},{funnelCue:"7301"}))))}}}});function Ge(l){var i=l.tooltipPosition,c=Object(h.useValues)(ye.c),d=c.insightProps,b=Object(h.useActions)(Rt(d)),C=b.optOut,R=Object(h.useValues)(Rt(d)),A=R.destPath,L=R.shown;return t.a.createElement("div",{className:Object(mt.a)("funnels-product-cue",L&&"shown")},t.a.createElement(f.a,{closable:!0,icon:t.a.createElement(ot.IconLightBulb,{style:{color:"var(--warning)",fontSize:"1.3em"}}),onClose:function(){return C(!0)}},t.a.createElement("div",{className:"flex-center"},t.a.createElement("div",{style:{paddingRight:16}},"Looks like you have multiple events. A funnel can help better visualize your user's progression across each event."),t.a.createElement(ua.a,{to:A,"data-attr":"funnel-cue-7301",tag:t.a.createElement(gt.a,{style:{color:"var(--primary)",fontWeight:500}})},"Try this insight as a funnel"))),i&&t.a.createElement("div",{className:"tooltip-arrow",style:{left:i}}))}try{Ge.displayName="FunnelsCue",Ge.__docgenInfo={description:"",displayName:"FunnelsCue",props:{tooltipPosition:{defaultValue:null,description:"",name:"tooltipPosition",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/TrendTab/FunnelsCue.tsx#FunnelsCue"]={docgenInfo:Ge.__docgenInfo,name:"FunnelsCue",path:"frontend/src/scenes/insights/InsightTabs/TrendTab/FunnelsCue.tsx#FunnelsCue"})}catch(l){}var T=e("./frontend/src/scenes/saved-insights/SavedInsights.tsx"),S=e("./frontend/src/scenes/urls.ts");function x(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function F(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?x(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):x(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}var W=m.a.TabPane;function B(l){var i=l.hotkey;return Object(Be.X)()?t.a.createElement(t.a.Fragment,null):t.a.createElement("span",{className:"hotkey"},i)}function te(){var l=Object(h.useValues)(ye.c),i=l.activeView,c=l.filters,d=Object(h.useActions)(ye.c),b=d.setActiveView,C=Object(I.useRef)(null),R=Object(I.useMemo)(function(){return[{label:"Trends",type:P.s.TRENDS,dataAttr:"insight-trends-tab",hotkey:"t"},{label:"Funnels",type:P.s.FUNNELS,dataAttr:"insight-funnels-tab",hotkey:"f",ref:C},{label:"Retention",type:P.s.RETENTION,dataAttr:"insight-retention-tab",hotkey:"r"},{label:"User Paths",type:P.s.PATHS,dataAttr:"insight-path-tab",hotkey:"p"},{label:"Stickiness",type:P.s.STICKINESS,dataAttr:"insight-stickiness-tab",hotkey:"i"},{label:"Lifecycle",type:P.s.LIFECYCLE,dataAttr:"insight-lifecycle-tab",hotkey:"l"}]},[C]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(Ge,{tooltipPosition:C!=null&&C.current?C.current.getBoundingClientRect().width*1.5+16:void 0}),t.a.createElement(m.a,{activeKey:i,className:"top-bar",onChange:function(L){return b(L)},animated:!1},R.map(function(A){var L=A.label,re=A.type,j=A.dataAttr,Oe=A.hotkey,de=A.ref,H=A.className,pt=function(qe){var ue,jt=qe.children;return!((ue=T.INSIGHT_TYPES_METADATA[re])===null||ue===void 0)&&ue.description?t.a.createElement($e.a,{placement:"top",title:T.INSIGHT_TYPES_METADATA[re].description},jt):t.a.createElement("span",{ref:de},jt)};return t.a.createElement(W,{key:re,tab:t.a.createElement(ua.a,{className:Object(mt.a)("tab-text",H),to:S.a.insightNew(F(F({},c),{},{insight:re})),preventClick:!0,"data-attr":j},t.a.createElement(pt,null,L,t.a.createElement(B,{hotkey:Oe})))})})))}var ge=e("./node_modules/antd/es/modal/index.js"),he=e("./frontend/src/models/dashboardsModel.tsx"),De=e("./frontend/src/lib/logic/prompt.jsx"),ie=e("./frontend/src/scenes/dashboard/newDashboardForm.ts"),ce=Object(h.kea)({path:function(i){return["lib","components","SaveToDashboard","saveToDashboardModalLogic",i]},props:{},key:function(i){var c=i.id;return c||"none"},connect:function(){return[ie.a,he.a,ct.f]},actions:{addNewDashboard:!0,setDashboardId:function(i){return{id:i}}},reducers:{_dashboardId:[null,{setDashboardId:function(i,c){var d=c.id;return d}}]},selectors:{dashboardId:[function(l){return[l._dashboardId,he.a.selectors.lastDashboardId,he.a.selectors.nameSortedDashboards,function(i,c){return c.fromDashboard}]},function(l,i,c,d){return l||d||i||(c.length>0?c[0].id:null)}]},listeners:function(i){var c=i.actions;return n()({setDashboardId:function(b){var C=b.id;he.a.actions.setLastDashboardId(C)},addNewDashboard:function(){var d=ht()(ve.a.mark(function C(){return ve.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:Object(De.a)({key:"saveToDashboardModalLogic-new-dashboard"}).actions.prompt({title:"New dashboard",placeholder:"Please enter a name",value:"",error:"You must enter name",success:function(re){return ie.a.actions.addDashboard({name:re,show:!1})}});case 1:case"end":return A.stop()}},C)}));function b(){return d.apply(this,arguments)}return b}()},he.a.actionTypes.addDashboardSuccess,function(){var d=ht()(ve.a.mark(function b(C){var R;return ve.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:R=C.dashboard,ct.f.actions.reportCreatedDashboardFromModal(),c.setDashboardId(R.id);case 3:case"end":return L.stop()}},b)}));return function(b){return d.apply(this,arguments)}}())}}),ze=e("./frontend/src/lib/components/lemonToast.tsx");function Me(l,i){var c=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);i&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable})),c.push.apply(c,d)}return c}function rt(l){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};i%2?Me(Object(c),!0).forEach(function(d){n()(l,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(c)):Me(Object(c)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(c,d))})}return l}function yt(l){var i=l.visible,c=l.closeModal,d=l.insight,b=ce({id:d.short_id,fromDashboard:d.dashboard||void 0}),C=Object(h.useValues)(he.a),R=C.nameSortedDashboards,A=Object(h.useValues)(b),L=A.dashboardId,re=Object(h.useActions)(b),j=re.addNewDashboard,Oe=re.setDashboardId,de=Object(h.useActions)(ct.f),H=de.reportSavedInsightToDashboard,pt=Object(h.useValues)(ye.c),lt=pt.insightLoading,qe=Object(h.useActions)(ye.c),ue=qe.updateInsight;function jt(Bt){return Nt.apply(this,arguments)}function Nt(){return Nt=ht()(ve.a.mark(function Bt(Dt){return ve.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:Dt.preventDefault(),ue(rt(rt({},d),{},{dashboard:L}),function(){H(),ze.a.success("Insight added to dashboard",{button:{label:"View dashboard",action:function(){return Qn.router.actions.push(S.a.dashboard(L))}}}),c()});case 2:case"end":return It.stop()}},Bt)})),Nt.apply(this,arguments)}return t.a.createElement(ge.a,{onOk:function(Dt){return void jt(Dt)},onCancel:c,afterClose:c,confirmLoading:lt,visible:i,title:"Add to dashboard",okText:"Add insight to dashboard"},t.a.createElement("form",{onSubmit:function(Dt){return void jt(Dt)}},t.a.createElement("label",null,"Dashboard"),t.a.createElement(oe.a,{"data-attr":"add-to-dashboard-select",value:L,onChange:function(Dt){return Dt==="new"?j():Oe(Dt)},style:{width:"100%"}},R.map(function(Bt,Dt){return t.a.createElement(oe.a.Option,{"data-attr":"add-to-dashboard-option-".concat(Dt),key:Bt.id,value:Bt.id},Bt.name)}),t.a.createElement(oe.a.Option,{value:"new"},"+ New Dashboard"))))}try{yt.displayName="SaveToDashboardModal",yt.__docgenInfo={description:"",displayName:"SaveToDashboardModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},closeModal:{defaultValue:null,description:"",name:"closeModal",required:!0,type:{name:"() => void"}},insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/SaveToDashboard/SaveToDashboardModal.tsx#SaveToDashboardModal"]={docgenInfo:yt.__docgenInfo,name:"SaveToDashboardModal",path:"frontend/src/lib/components/SaveToDashboard/SaveToDashboardModal.tsx#SaveToDashboardModal"})}catch(l){}function Ke(l){var i=l.insight,c=l.sourceDashboardId,d=Object(I.useState)(!1),b=N()(d,2),C=b[0],R=b[1],A=Object(h.useValues)(he.a),L=A.rawDashboards,re=i.dashboard?L[i.dashboard]:c?L[c]:null;return t.a.createElement("span",{className:"save-to-dashboard","data-attr":"save-to-dashboard-button"},t.a.createElement(yt,{visible:C,closeModal:function(){return R(!1)},insight:i}),re?t.a.createElement(fe.a,{to:S.a.dashboard(re.id,i.short_id),type:"secondary",className:"btn-save"},"On dashboard: ",re==null?void 0:re.name):t.a.createElement(fe.a,{onClick:function(){return R(!0)},type:"secondary",className:"btn-save"},"Add to dashboard"))}try{Ke.displayName="SaveToDashboard",Ke.__docgenInfo={description:"",displayName:"SaveToDashboard",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"Partial<InsightModel>"}},sourceDashboardId:{defaultValue:null,description:"",name:"sourceDashboardId",required:!0,type:{name:"number | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/SaveToDashboard/SaveToDashboard.tsx#SaveToDashboard"]={docgenInfo:Ke.__docgenInfo,name:"SaveToDashboard",path:"frontend/src/lib/components/SaveToDashboard/SaveToDashboard.tsx#SaveToDashboard"})}catch(l){}var nn=e("./frontend/src/scenes/insights/InsightContainer.tsx"),tn=e("./frontend/src/lib/components/EditableField/EditableField.tsx"),an=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx");function Ht(l){var i=l.saveAs,c=l.saveInsight,d=l.isSaved,b=l.insightChanged,C=l.addingToDashboard,R=d&&!b,A=d&&!C;return t.a.createElement(fe.c,{style:{marginLeft:8},type:"primary",onClick:function(){return c(!0)},"data-attr":"insight-save-button",disabled:R,sideAction:{popup:{overlay:t.a.createElement(t.a.Fragment,null,!R&&t.a.createElement(fe.a,{onClick:function(){return c(!1)},"data-attr":"insight-save-and-continue",type:"stealth",fullWidth:!0},C?"Save, add to dashboard":"Save"," & continue editing"),A&&t.a.createElement(fe.a,{onClick:i,"data-attr":"insight-save-as-new-insight",type:"stealth",fullWidth:!0},"Save as\u2026"))},disabled:R&&!A,"data-attr":"insight-save-dropdown"}},R?"No changes to be saved":C?"Save & add to dashboard":"Save")}try{Ht.displayName="InsightSaveButton",Ht.__docgenInfo={description:"",displayName:"InsightSaveButton",props:{saveAs:{defaultValue:null,description:"",name:"saveAs",required:!0,type:{name:"() => void"}},saveInsight:{defaultValue:null,description:"",name:"saveInsight",required:!0,type:{name:"(redirect: boolean) => void"}},isSaved:{defaultValue:null,description:"",name:"isSaved",required:!0,type:{name:"boolean | undefined"}},insightChanged:{defaultValue:null,description:"",name:"insightChanged",required:!0,type:{name:"boolean"}},addingToDashboard:{defaultValue:null,description:"",name:"addingToDashboard",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightSaveButton.tsx#InsightSaveButton"]={docgenInfo:Ht.__docgenInfo,name:"InsightSaveButton",path:"frontend/src/scenes/insights/InsightSaveButton.tsx#InsightSaveButton"})}catch(l){}var Ut="<this_should_be_changed_when_in_use>",pn=15e3,ta=!0,Vn=[{title:"Experimentation is launching!",description:"Experimentation can help you test which product changes optimize your metrics. Give us feedback on your needs!"},{title:"Want to test product changes before shipping? \u{1F9EA}",description:"Our new A/B testing feature is launching soon and will let you seamlessly run experiments on your product. Interested?"},{title:"Introducing A/B testing \u{1F680}",description:"We are launching our A/B testing suite soon! Share your feedback, help us shape this new feature."}],ia=Object(h.kea)({path:["lib","experimental","FeedbackCallCTA"],selectors:{featureFlagGroup:[function(){return[Et.a.selectors.featureFlags]},function(l){return l[Ut]}],copy:[function(l){return[l.featureFlagGroup]},function(l){return l==="control"?Vn[0]:l==="variant-0"?Vn[1]:l==="variant-1"?Vn[2]:null}]},actions:{reportAndDismiss:function(i){return{result:i}},show:!0,hide:!0},reducers:{hidden:[!0,{show:function(){return!1},hide:function(){return!0}}]},listeners:function(i){var c=i.actions;return{reportAndDismiss:function(b){var C=b.result;Ma.a.capture("experimentation call prompt action",{result:C}),localStorage.setItem(Ut,"true"),c.hide(),C==="more-info"&&ze.a.success("We'll be in touch via email in the next few days!")}}},events:function(i){var c=i.actions,d=i.values,b=i.cache;return{afterMount:function(){d.featureFlagGroup&&!localStorage.getItem(Ut)&&(b.timeout=window.setTimeout(function(){return c.show()},pn))},beforeUnmount:function(){window.clearTimeout(b.timeout)}}}});function Qa(){var l=Object(h.useValues)(ia),i=l.hidden,c=l.copy,d=Object(h.useActions)(ia),b=d.reportAndDismiss;return ta?null:t.a.createElement("div",{className:"nps-prompt".concat(i?" hide":"")},t.a.createElement("span",{className:"nps-dismiss",onClick:function(){return b("dismiss")}},t.a.createElement(Xa.a,null)),c&&t.a.createElement("div",{className:"prompt-inner"},t.a.createElement("div",{className:"prompt-title"},c.title),t.a.createElement("div",{className:"question"},c.description),t.a.createElement("div",{className:"action-buttons",style:{width:240}},t.a.createElement("a",{href:"https://calendly.com/posthog-feedback",target:"_blank",rel:"noreferrer",onClick:function(){return b("call")}},t.a.createElement(gt.a,{className:"prompt-button"},"Schedule call with Eng Team")),t.a.createElement(gt.a,{className:"prompt-button",onClick:function(){return b("more-info")}},"Send me more info"),t.a.createElement(gt.a,{className:"prompt-button",onClick:function(){return b("not-interested")}},"Not interested"))))}var Bn=e("./frontend/src/lib/components/PageHeader.tsx"),Jt=e("./frontend/src/lib/components/InsightCard/LastModified.tsx"),wn=e("./frontend/src/scenes/insights/utils.ts"),Pn=e("./frontend/src/models/cohortsModel.ts"),Lt=e("./frontend/src/scenes/trends/mathsLogic.tsx"),Xt=e("./node_modules/antd/es/skeleton/index.js");function Fn(){return t.a.createElement(t.a.Fragment,null,t.a.createElement(Xt.a,{active:!0,title:!0,paragraph:{rows:3},className:"page-title-row page-caption mb-025"}),t.a.createElement(Xt.a,{active:!0,title:!1,paragraph:{rows:1}}),t.a.createElement(G.a,null,t.a.createElement(M.a,{gutter:16},t.a.createElement(Q.a,{md:18},t.a.createElement(Xt.a,{active:!0})),t.a.createElement(Q.a,{md:6,style:{textAlign:"center"}},t.a.createElement(Xt.a,{active:!0,paragraph:{rows:0}}),t.a.createElement(Xt.a,{active:!0,paragraph:{rows:0}}),t.a.createElement(Xt.a,{active:!0,paragraph:{rows:0}})))),t.a.createElement(G.a,{style:{minHeight:600,marginTop:16}}))}function dn(l){var i,c,d,b=l.insightId,C=Object(h.useValues)(Ne.a),R=C.insightMode,A=Object(h.useActions)(Ne.a),L=A.setInsightMode,re=Object(ye.c)({dashboardItemId:b||"new"}),j=Object(h.useValues)(re),Oe=j.insightProps,de=j.insightLoading,H=j.filtersKnown,pt=j.filters,lt=j.canEditInsight,qe=j.activeView,ue=j.insight,jt=j.insightChanged,Nt=j.tagLoading,Bt=j.sourceDashboardId;Object(h.useMountedLogic)(rr(Oe));var Dt=Object(h.useActions)(re),rn=Dt.setActiveView,It=Dt.saveInsight,on=Dt.setInsightMetadata,Kn=Dt.saveAs,kn=Dt.cancelChanges,Wn=Object(h.useValues)(Oa.a),fr=Wn.hasAvailableFeature,vr=Object(h.useActions)(ct.f),Sr=vr.reportHotkeyNavigation,Or=Object(h.useValues)(ca.b),tr=Or.cohortModalVisible,ir=Object(h.useActions)(ca.b),jr=ir.saveCohortWithUrl,cr=ir.setCohortModalVisible,Va=Object(h.useValues)(Ue.a),Ba=Va.aggregationLabel,gr=Object(h.useValues)(Pn.a),Pr=gr.cohortsById,hr=Object(h.useValues)(Lt.c),xr=hr.mathDefinitions,Tr=Kt()(),At=!Tr.xl,Je=!At&&qe===P.s.FUNNELS,Un=function(Ea,Ha){rn(Ea),Sr("insights",Ha)};if(Object(dr.a)({t:{action:function(){return Un(P.s.TRENDS,"t")}},f:{action:function(){return Un(P.s.FUNNELS,"f")}},r:{action:function(){return Un(P.s.RETENTION,"r")}},p:{action:function(){return Un(P.s.PATHS,"p")}},i:{action:function(){return Un(P.s.STICKINESS,"i")}},l:{action:function(){return Un(P.s.LIFECYCLE,"l")}},e:{action:function(){return L(P.t.Edit,ct.c.Hotkey)},disabled:R!==P.t.View}}),b!=="new"&&de&&!H)return t.a.createElement(Fn,null);var qa=(i={},n()(i,"".concat(P.s.TRENDS),t.a.createElement(wt,{view:P.s.TRENDS})),n()(i,"".concat(P.s.STICKINESS),t.a.createElement(wt,{view:P.s.STICKINESS})),n()(i,"".concat(P.s.LIFECYCLE),t.a.createElement(wt,{view:P.s.LIFECYCLE})),n()(i,"".concat(P.s.FUNNELS),t.a.createElement(la,null)),n()(i,"".concat(P.s.RETENTION),t.a.createElement(vt,null)),n()(i,"".concat(P.s.PATHS),t.a.createElement(_n,null)),i)[qe],yr=t.a.createElement("div",{className:"insights-page"},t.a.createElement(Bn.a,{title:t.a.createElement(tn.a,{name:"name",value:ue.name||"",placeholder:Object(wn.f)(pt,Ba,Pr,xr),onSave:function(Ea){return on({name:Ea})},maxLength:400,mode:lt?void 0:"view","data-attr":"insight-name",notice:lt?void 0:{icon:t.a.createElement(ot.IconLock,null),tooltip:"You don't have edit permissions in the dashboard this insight belongs to. Ask a dashboard collaborator with edit access to add you."}}),buttons:t.a.createElement("div",{className:"insights-tab-actions"},R===P.t.Edit&&ue.saved&&t.a.createElement(fe.a,{type:"secondary",onClick:kn},"Cancel"),R===P.t.View&&ue.short_id&&t.a.createElement(Ke,{insight:ue,sourceDashboardId:Bt}),R===P.t.View?lt&&t.a.createElement(fe.a,{type:"primary",style:{marginLeft:8},onClick:function(){return L(P.t.Edit,null)},"data-attr":"insight-edit-button"},"Edit"):t.a.createElement(Ht,{saveAs:Kn,saveInsight:It,isSaved:ue.saved,addingToDashboard:!!ue.dashboard&&!ue.id,insightChanged:jt})),caption:t.a.createElement(t.a.Fragment,null,!!(lt||ue.description)&&t.a.createElement(tn.a,{multiline:!0,name:"description",value:ue.description||"",placeholder:"Description (optional)",onSave:function(Ea){return on({description:Ea})},maxLength:400,mode:lt?void 0:"view","data-attr":"insight-description",compactButtons:!0,paywall:!fr(P.c.DASHBOARD_COLLABORATION),notice:lt?void 0:{icon:t.a.createElement(ot.IconLock,null),tooltip:"You don't have edit permissions in the dashboard this insight belongs to. Ask a dashboard collaborator with edit access to add you."}}),fr(P.c.TAGGING)&&(lt?t.a.createElement(an.a,{tags:(c=ue.tags)!==null&&c!==void 0?c:[],onChange:function(Ea,Ha){return on({tags:Ha!=null?Ha:[]})},saving:Nt,tagsAvailable:[],className:"insight-metadata-tags","data-attr":"insight-tags"}):!((d=ue.tags)===null||d===void 0)&&d.length?t.a.createElement(an.a,{tags:ue.tags,saving:Nt,className:"insight-metadata-tags","data-attr":"insight-tags",staticOnly:!0}):null),t.a.createElement(Jt.a,{at:ue.last_modified_at,by:ue.last_modified_by}))}),R===P.t.View?t.a.createElement(nn.a,null):t.a.createElement(t.a.Fragment,null,t.a.createElement(te,null),t.a.createElement("div",{style:{display:"flex",flexDirection:Je?"row":"column",marginBottom:Je?64:0}},t.a.createElement("div",{style:{width:Je?"min(32rem, 50%)":"unset",marginRight:Je?"1rem":0}},Je?qa:t.a.createElement(G.a,{className:"insight-controls"},t.a.createElement("div",{className:"tabs-inner"},qa))),t.a.createElement("div",{style:{flexGrow:1,width:Je?"calc(100% - min(32rem, 50%) - 1rem)":"unset"}},t.a.createElement(nn.a,null))),t.a.createElement(a,null),t.a.createElement(Qa,null)),t.a.createElement(s.a,{visible:tr,onOk:function(Ea){jr(Ea),cr(!1)},onCancel:function(){return cr(!1)}}));return t.a.createElement(h.BindLogic,{logic:ye.c,props:Oe},yr)}try{dn.displayName="Insight",dn.__docgenInfo={description:"",displayName:"Insight",props:{insightId:{defaultValue:null,description:"",name:"insightId",required:!0,type:{name:'InsightShortId | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/Insight.tsx#Insight"]={docgenInfo:dn.__docgenInfo,name:"Insight",path:"frontend/src/scenes/insights/Insight.tsx#Insight"})}catch(l){}function Ia(){var l=Object(h.useValues)(Ne.a),i=l.insightId,c=l.insight;return i==="new"||i&&(c==null?void 0:c.id)&&(c==null?void 0:c.short_id)?t.a.createElement(dn,{insightId:i}):t.a.createElement(Fn,null)}var lr={component:Ia,logic:Ne.a}},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Ya});var I=e("./node_modules/react/index.js"),t=e.n(I),Ne=e("./frontend/src/lib/components/Drawer.tsx"),h=e("./node_modules/core-js/modules/es.object.to-string.js"),je=e("./node_modules/core-js/modules/es.regexp.to-string.js"),Xe=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Fe=e.n(Xe),z=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),n=e.n(z),u={};u.insert="head",u.singleton=!1;var me=Fe()(n.a,u),D=n.a.locals||{},ne=e("./node_modules/kea/lib/index.esm.js"),le=e("./node_modules/core-js/modules/es.array.index-of.js"),Ce=e("./node_modules/core-js/modules/es.array.iterator.js"),se=e("./node_modules/core-js/modules/es.array.slice.js"),G=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),p=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),X=e.n(p),Se=e("./node_modules/@babel/runtime/regenerator/index.js"),J=e.n(Se),ee=e("./node_modules/regenerator-runtime/runtime.js"),Ae=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),N=e.n(Ae),Y=e("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),q=e("./frontend/src/lib/utils/eventUsageLogic.ts"),M=e("./frontend/src/types.ts"),Q=e("./frontend/src/lib/utils/responsiveUtils.tsx"),oe=e("./node_modules/core-js/modules/es.array.concat.js"),Te=e("./node_modules/core-js/modules/es.array.for-each.js"),y=e("./node_modules/core-js/modules/es.array.includes.js"),Ve=e("./node_modules/core-js/modules/es.array.join.js"),we=e("./node_modules/core-js/modules/es.array.map.js"),$t=e("./node_modules/core-js/modules/es.object.entries.js"),Qt=e("./node_modules/core-js/modules/es.object.values.js"),cn=e("./node_modules/core-js/modules/es.regexp.exec.js"),Mt=e("./node_modules/core-js/modules/es.string.ends-with.js"),xn=e("./node_modules/core-js/modules/es.string.includes.js"),Gn=e("./node_modules/core-js/modules/es.string.iterator.js"),bt=e("./node_modules/core-js/modules/es.string.replace.js"),We=e("./node_modules/core-js/modules/es.string.search.js"),Kt=e("./node_modules/core-js/modules/es.string.split.js"),ot=e("./node_modules/core-js/modules/es.string.starts-with.js"),Qe=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),$e=e("./node_modules/core-js/modules/web.url.js"),ye=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ue=e.n(ye),Pt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),be=e.n(Pt),Ie=e("./node_modules/fuse.js/dist/fuse.esm.js"),K=e("./frontend/src/lib/api.ts"),U=e("./frontend/src/lib/utils.tsx"),Et=e("./frontend/src/scenes/teamLogic.ts"),it=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),et=e("./frontend/src/lib/dayjs.ts"),sn=e("./node_modules/core-js/modules/es.array.from.js"),P=e("./node_modules/core-js/modules/es.function.name.js");function Ye(o,r){var a;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(a=tt(o))||r&&o&&typeof o.length=="number"){a&&(o=a);var s=0,m=function(){};return{s:m,n:function(){return s>=o.length?{done:!0}:{done:!1,value:o[s++]}},e:function(_){throw _},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,v=!1,O;return{s:function(){a=o[Symbol.iterator]()},n:function(){var _=a.next();return f=_.done,_},e:function(_){v=!0,O=_},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(v)throw O}}}}function tt(o,r){if(!!o){if(typeof o=="string")return ut(o,r);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ut(o,r)}}function ut(o,r){(r==null||r>o.length)&&(r=o.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=o[a];return s}var zt=15,xt=zt/2;function ft(o){return"touches"in o}function Be(o){return"clientX"in o}var ct=function(r){if(ft(r)){var a,s,m,f,v;return(a=r==null||(s=r.touches)===null||s===void 0||(m=s[0])===null||m===void 0?void 0:m.pageX)!==null&&a!==void 0?a:r==null||(f=r.changedTouches)===null||f===void 0||(v=f[0])===null||v===void 0?void 0:v.pageX}return Be(r)?r==null?void 0:r.clientX:0};function Ct(o,r,a){if(o.windowId===r.windowId)return o.time-r.time;var s=Ye(a),m;try{for(s.s();!(m=s.n()).done;){var f=m.value;if(o.windowId===f.windowId&&o.time>=f.startPlayerPosition.time&&o.time<=f.endPlayerPosition.time)return-1;if(r.windowId===f.windowId&&r.time>=f.startPlayerPosition.time&&r.time<=f.endPlayerPosition.time)return 1}}catch(v){s.e(v)}finally{s.f()}throw"Could not find player positions in segments"}function pe(o,r){var a=Ye(r),s;try{for(a.s();!(s=a.n()).done;){var m=s.value;if(o.windowId===m.windowId&&o.time>=m.startPlayerPosition.time&&o.time<=m.endPlayerPosition.time)return m}}catch(f){a.e(f)}finally{a.f()}return null}function St(o,r){var a=0,s=Ye(r),m;try{for(s.s();!(m=s.n()).done;){var f=m.value;if(o.windowId===f.windowId&&o.time>=f.startPlayerPosition.time&&o.time<=f.endPlayerPosition.time)return a+o.time-f.startPlayerPosition.time;a+=f.durationMs}}catch(v){s.e(v)}finally{s.f()}return null}function ke(o,r){var a=0,s=Ye(r),m;try{for(s.s();!(m=s.n()).done;){var f=m.value;if(a+f.durationMs>o)return{windowId:f.windowId,time:o-a+f.startPlayerPosition.time};a+=f.durationMs}}catch(v){s.e(v)}finally{s.f()}return o===a&&r.length>0?r.slice(-1)[0].endPlayerPosition:null}function mt(o,r,a){if(a&&r in a){var s=a[r].startTimeEpochMs,m=a[r].endTimeEpochMs;return s>o||m<o?null:{windowId:r,time:o-s}}return null}function nt(o,r){if(o.windowId in r){var a=r[o.windowId].startTimeEpochMs;return a+o.time}return null}var fe=function(r,a,s,m){var f=r/a*m;return ke(f,s)},V=function(r,a,s,m){var f=St(r,s);return(f!=null?f:0)/m*a},He=e("./frontend/src/lib/components/lemonToast.tsx"),vt=e("./node_modules/fast-deep-equal/index.js"),qt=e.n(vt),gt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),Zt=e("./frontend/src/lib/constants.tsx");function yn(o,r){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);r&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),a.push.apply(a,s)}return a}function Vt(o){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?yn(Object(a),!0).forEach(function(s){Ue()(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):yn(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function w(o,r){var a;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(a=Re(o))||r&&o&&typeof o.length=="number"){a&&(o=a);var s=0,m=function(){};return{s:m,n:function(){return s>=o.length?{done:!0}:{done:!1,value:o[s++]}},e:function(_){throw _},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,v=!1,O;return{s:function(){a=o[Symbol.iterator]()},n:function(){var _=a.next();return f=_.done,_},e:function(_){v=!0,O=_},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(v)throw O}}}}function Re(o,r){if(!!o){if(typeof o=="string")return Pe(o,r);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pe(o,r)}}function Pe(o,r){(r==null||r>o.length)&&(r=o.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=o[a];return s}var _e=!1,_t="rrweb/console@1",xe=function(r){var a=r.segments.map(function(m){var f=+Object(et.a)(r.start_and_end_times_by_window_id[m.window_id].start_time),v=+Object(et.a)(m==null?void 0:m.start_time),O=+Object(et.a)(m==null?void 0:m.end_time),E={windowId:m.window_id,time:v-f},_={windowId:m.window_id,time:O-f},$=O-v;return{startPlayerPosition:E,endPlayerPosition:_,durationMs:$,startTimeEpochMs:v,endTimeEpochMs:O,windowId:m.window_id,isActive:m.is_active}}),s={};return Object.entries(r.start_and_end_times_by_window_id).forEach(function(m){var f=be()(m,2),v=f[0],O=f[1];s[v]={startTimeEpochMs:+Object(et.a)(O.start_time),endTimeEpochMs:+Object(et.a)(O.end_time)}}),{segments:a,startAndEndTimesByWindowId:s,recordingDurationMs:Object(U.zb)(a.map(function(m){return m.durationMs}))}},st=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=null;if(r&&a&&s){var f=w(r),v;try{for(f.s();!(v=f.n()).done;){var O,E=v.value,_=((O=a[E.windowId])!==null&&O!==void 0?O:[]).slice(-1).pop();if(_&&_.timestamp>=E.startTimeEpochMs){var $=s[E.windowId].startTimeEpochMs;m={windowId:E.windowId,time:Math.min(_.timestamp-$,E.endPlayerPosition.time)}}else return m}}catch(Z){f.e(Z)}finally{f.f()}}return m},en=function(r){return r.map(function(a){var s,m,f;return Vt(Vt({},a),{},{queryValue:"".concat((s=(m=(f=Object(it.d)(a.event,"event"))===null||f===void 0?void 0:f.label)!==null&&m!==void 0?m:a.event)!==null&&s!==void 0?s:""," ").concat(Object(U.B)(a)).replace(/['"]+/g,"")})})},kt=Object(ne.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[q.f],values:[Et.a,["currentTeamId"],gt.a,["featureFlags"]]},actions:{setFilters:function(r){return{filters:r}},setSource:function(r){return{source:r}},reportUsage:function(r,a){return{recordingData:r,loadTime:a}},loadRecordingMeta:function(r){return{sessionRecordingId:r}},loadRecordingSnapshots:function(r,a){return{sessionRecordingId:r,url:a}},loadEvents:function(r){return{url:r}}},reducers:{filters:[{},{setFilters:function(r,a){var s=a.filters;return Vt(Vt({},r),s)}}],sessionRecordingId:[null,{loadRecording:function(r,a){var s=a.sessionRecordingId;return s!=null?s:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(r){return r+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(r,a){var s=a.sessionEventsData;return!!(s!=null&&s.next)}}],source:[q.d.Unknown,{setSource:function(r,a){var s=a.source;return s}}]},listeners:function(r){var a=r.values,s=r.actions,m=r.sharedListeners,f=r.cache;return{loadRecordingMetaSuccess:function(){f.eventsStartTime=performance.now(),s.loadEvents()},loadRecordingSnapshotsSuccess:function(){var O;!((O=a.sessionPlayerData)===null||O===void 0)&&O.next?s.loadRecordingSnapshots(void 0,a.sessionPlayerData.next):q.f.actions.reportRecording(a.sessionPlayerData,a.source,performance.now()-f.startTime,M.D.LOADED,0),a.chunkPaginationIndex===1&&s.reportUsage(a.sessionPlayerData,performance.now()-f.startTime)},loadEventsSuccess:function(){var O;if(!((O=a.sessionEventsData)===null||O===void 0)&&O.next)s.loadEvents(a.sessionEventsData.next);else{var E,_,$;q.f.actions.reportRecordingEventsFetched((E=(_=a.sessionEventsData)===null||_===void 0||($=_.events)===null||$===void 0?void 0:$.length)!==null&&E!==void 0?E:0,performance.now()-f.eventsStartTime),f.eventsStartTime=null}},loadRecordingMetaFailure:m.showErrorToast,loadRecordingSnapshotsFailure:m.showErrorToast,loadEventsFailure:m.showErrorToast,reportUsage:function(){var v=N()(J.a.mark(function E(_,$){var Z,ae;return J.a.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Z=_.recordingData,ae=_.loadTime,Ee.next=3,$();case 3:return q.f.actions.reportRecording(Z,a.source,ae,M.D.VIEWED,0),Ee.next=6,$(_e?1:1e4);case 6:q.f.actions.reportRecording(Z,a.source,ae,M.D.ANALYZED,10);case 7:case"end":return Ee.stop()}},E)}));function O(E,_){return v.apply(this,arguments)}return O}()}},sharedListeners:function(){return{showErrorToast:function(a){var s=a.error;He.a.error(s)}}},loaders:function(r){var a=r.values;return{sessionPlayerData:{loadRecordingMeta:function(){var s=N()(J.a.mark(function f(v,O){var E,_,$,Z,ae,ve,Ee,Ze,ht,Yt,at;return J.a.wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return ve=v.sessionRecordingId,Ee=Object(U.Ab)({save_view:!0}),Ge.next=4,K.a.get("api/projects/".concat(a.currentTeamId,"/session_recordings/").concat(ve,"?").concat(Ee));case 4:return Ze=Ge.sent,ht=(E=Ze.result)===null||E===void 0?void 0:E.session_recording,Yt=xe(ht),at=st(Yt.segments,(_=a.sessionPlayerData)===null||_===void 0?void 0:_.snapshotsByWindowId,Yt.startAndEndTimesByWindowId),O(),Ge.abrupt("return",Vt(Vt({},a.sessionPlayerData),{},{person:($=Ze.result)===null||$===void 0?void 0:$.person,metadata:Yt,bufferedTo:at,snapshotsByWindowId:(Z=Vt({},(ae=a.sessionPlayerData)===null||ae===void 0?void 0:ae.snapshotsByWindowId))!==null&&Z!==void 0?Z:{}}));case 10:case"end":return Ge.stop()}},f)}));function m(f,v){return s.apply(this,arguments)}return m}(),loadRecordingSnapshots:function(){var s=N()(J.a.mark(function f(v,O){var E,_,$,Z,ae,ve,Ee,Ze,ht,Yt,at,Rt,Ge,T,S;return J.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return ht=v.sessionRecordingId,Yt=v.url,at=Yt||"api/projects/".concat(a.currentTeamId,"/session_recordings/").concat(ht,"/snapshots?").concat(Object(U.Ab)({limit:a.featureFlags[Zt.n.TUNE_RECORDING_SNAPSHOT_LIMIT]?4:void 0})),F.next=4,K.a.get(at);case 4:return Rt=F.sent,O(),Ge=Vt({},(E=(_=a.sessionPlayerData)===null||_===void 0?void 0:_.snapshotsByWindowId)!==null&&E!==void 0?E:{}),T=($=Rt.result)===null||$===void 0?void 0:$.snapshot_data_by_window_id,Object.entries(T).forEach(function(W){var B,te=be()(W,2),ge=te[0],he=te[1];Ge[ge]=[].concat(X()((B=Ge[ge])!==null&&B!==void 0?B:[]),X()(he))}),S=st((Z=a.sessionPlayerData)===null||Z===void 0||(ae=Z.metadata)===null||ae===void 0?void 0:ae.segments,Ge,(ve=a.sessionPlayerData)===null||ve===void 0||(Ee=ve.metadata)===null||Ee===void 0?void 0:Ee.startAndEndTimesByWindowId),F.abrupt("return",Vt(Vt({},a.sessionPlayerData),{},{bufferedTo:S,snapshotsByWindowId:Ge,next:(Ze=Rt.result)===null||Ze===void 0?void 0:Ze.next}));case 11:case"end":return F.stop()}},f)}));function m(f,v){return s.apply(this,arguments)}return m}()},sessionEventsData:{loadEvents:function(){var s=N()(J.a.mark(function f(v,O){var E,_,$,Z,ae,ve,Ee,Ze,ht;return J.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(Z=v.url,a.eventsApiParams){at.next=3;break}return at.abrupt("return",a.sessionEventsData);case 3:return ae=Z||"api/projects/".concat(a.currentTeamId,"/events?").concat(Object(U.Ab)(a.eventsApiParams)),at.next=6,K.a.get(ae);case 6:return ve=at.sent,O(),Ee=[],Ze=[],ht=(E=ve.results)!==null&&E!==void 0?E:[],ht.forEach(function(Rt){var Ge,T,S,x,F=mt(+Object(et.a)(Rt.timestamp)-1e3,(Ge=(T=Rt.properties)===null||T===void 0?void 0:T.$window_id)!==null&&Ge!==void 0?Ge:"",(S=a.sessionPlayerData)===null||S===void 0||(x=S.metadata)===null||x===void 0?void 0:x.startAndEndTimesByWindowId);if(F===null){var W,B,te,ge;F=mt(+Object(et.a)(Rt.timestamp),(W=(B=Rt.properties)===null||B===void 0?void 0:B.$window_id)!==null&&W!==void 0?W:"",(te=a.sessionPlayerData)===null||te===void 0||(ge=te.metadata)===null||ge===void 0?void 0:ge.startAndEndTimesByWindowId)}if(F!==null){var he=St(F,a.sessionPlayerData.metadata.segments);he!==null&&Ze.push(Vt(Vt({},Rt),{},{playerTime:he,playerPosition:F,percentageOfRecordingDuration:100*he/a.sessionPlayerData.metadata.recordingDurationMs}))}}),Ee=[].concat(X()((_=($=a.sessionEventsData)===null||$===void 0?void 0:$.events)!==null&&_!==void 0?_:[]),Ze).sort(function(Rt,Ge){return Rt.playerTime-Ge.playerTime}),at.abrupt("return",Vt(Vt({},a.sessionEventsData),{},{next:ve==null?void 0:ve.next,events:Ee}));case 14:case"end":return at.stop()}},f)}));function m(f,v){return s.apply(this,arguments)}return m}()}}},selectors:{eventsToShow:[function(o){return[o.filters,o.sessionEventsData]},function(o,r){var a,s=(a=r==null?void 0:r.events)!==null&&a!==void 0?a:[];return o!=null&&o.query?new Ie.a(en(s),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(f,v){return s[f.idx].timestamp-s[v.idx].timestamp||f.score-v.score}}).search(o.query).map(function(m){return m.item}):s}],eventsApiParams:[function(o){return[o.sessionPlayerData]},function(o){var r,a,s,m=(r=o.metadata.segments.slice(0,1).pop())===null||r===void 0?void 0:r.startTimeEpochMs,f=(a=o.metadata.segments.slice(-1).pop())===null||a===void 0?void 0:a.endTimeEpochMs;if(!(!(o==null||(s=o.person)===null||s===void 0)&&s.id)||!m||!f)return null;var v=6e4;return{person_id:o.person.id,after:et.a.utc(m).subtract(v,"ms").format(),before:et.a.utc(f).add(v,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(o){return[o.sessionPlayerData]},function(o){var r,a,s=[];return o==null||(r=o.metadata)===null||r===void 0||(a=r.segments)===null||a===void 0||a.forEach(function(m){var f;o==null||(f=o.snapshotsByWindowId[m.windowId])===null||f===void 0||f.forEach(function(v){if(v.type===6&&v.data.plugin===_t&&v.timestamp>=m.startTimeEpochMs&&v.timestamp<=m.endTimeEpochMs){var O,E,_=v.data.payload,$=_.level,Z=_.payload,ae=_.trace,ve=Z==null||(O=Z.map)===null||O===void 0?void 0:O.call(Z,function(Ge){return Ge.startsWith('"')&&Ge.endsWith('"')?Ge.slice(1,-1):Ge}).join(" "),Ee,Ze;if(ae&&ae.length>0){var ht=ae[0].split("(").slice(-1)[0].replace(")",""),Yt=ht.split(":"),at=Yt.slice(-2).join(":");if(Ze=Yt.slice(0,-2).join(":"),Yt.length>=4)try{var Rt=new URL(Ze).pathname.split("/").slice(-1)[0];Ee="".concat(Rt,":").concat(at)}catch(Ge){Ee=":".concat(at)}else Ee=":".concat(at)}s.push({playerPosition:mt(v.timestamp,m.windowId,o==null||(E=o.metadata)===null||E===void 0?void 0:E.startAndEndTimesByWindowId),parsedTraceURL:Ze,parsedTraceString:Ee,parsedPayload:ve,level:$})}})}),s}],areAllSnapshotsLoaded:[function(o){return[o.sessionPlayerData]},function(o){var r,a;return(o==null?void 0:o.bufferedTo)&&(o==null||(r=o.metadata)===null||r===void 0?void 0:r.segments.slice(-1)[0])&&qt()(o==null||(a=o.metadata)===null||a===void 0?void 0:a.segments.slice(-1)[0].endPlayerPosition,o==null?void 0:o.bufferedTo)}]},urlToAction:function(r){var a=r.actions,s=r.values,m=r.cache,f=function(O,E,_){var $=E.source,Z=_.sessionRecordingId;$&&Object.values(q.d).includes($)&&a.setSource($),s&&Z&&Z!==s.sessionRecordingId&&(m.startTime=performance.now(),a.loadRecordingMeta(Z),a.loadRecordingSnapshots(Z))};return{"/recordings":f,"/person/*":f,"/insights/*":f}}});function En(o,r){var a;if(typeof Symbol=="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(a=vn(o))||r&&o&&typeof o.length=="number"){a&&(o=a);var s=0,m=function(){};return{s:m,n:function(){return s>=o.length?{done:!0}:{done:!1,value:o[s++]}},e:function(_){throw _},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,v=!1,O;return{s:function(){a=o[Symbol.iterator]()},n:function(){var _=a.next();return f=_.done,_},e:function(_){v=!0,O=_},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(v)throw O}}}}function vn(o,r){if(!!o){if(typeof o=="string")return wt(o,r);var a=Object.prototype.toString.call(o).slice(8,-1);if(a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set")return Array.from(o);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return wt(o,r)}}function wt(o,r){(r==null||r>o.length)&&(r=o.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=o[a];return s}var Wt=[.5,1,2,4,8,16],dt=Object(ne.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[q.f],values:[kt,["sessionRecordingId","sessionPlayerData"]],actions:[kt,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(r){return{player:r}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(r){return{skipInactivitySetting:r}},setSkippingInactivity:function(r){return{isSkippingInactivity:r}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(r){return{playerPosition:r}},setSpeed:function(r){return{speed:r}},setScale:function(r){return{scale:r}},togglePlayPause:!0,seek:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:r,forcePlay:a}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(r){return{segment:r}},setRootFrame:function(r){return{frame:r}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(a,s){var m=s.frame;return m}}],player:[null,{setPlayer:function(a,s){var m=s.player;return m}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(a,s){var m=s.playerPosition;return m}}],currentSegment:[null,{setCurrentSegment:function(a,s){var m=s.segment;return m}}],speed:[1,{persist:!0},{setSpeed:function(a,s){var m=s.speed;return m}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(a,s){var m=s.skipInactivitySetting;return m}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(a,s){var m=s.isSkippingInactivity;return m}}],scale:[1,{setScale:function(a,s){var m=s.scale;return m}}],playingState:[M.C.PLAY,{setPlay:function(){return M.C.PLAY},setPause:function(){return M.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(o){return[o.playingState,o.isBuffering,o.isScrubbing,o.isSkippingInactivity]},function(o,r,a,s){return a?o:r?M.C.BUFFER:s&&o!==M.C.PAUSE?M.C.SKIP:o}],currentPlayerTime:[function(o){return[o.currentPlayerPosition,o.sessionPlayerData]},function(o,r){var a;if((r==null||(a=r.metadata)===null||a===void 0?void 0:a.segments)&&o){var s;return St(o,r==null||(s=r.metadata)===null||s===void 0?void 0:s.segments)}return 0}],jumpTimeMs:[function(o){return[o.speed]},function(o){return 10*1e3*o}]},listeners:function(r){var a=r.values,s=r.actions,m=r.cache;return{setRootFrame:function(){s.tryInitReplayer()},tryInitReplayer:function(){var v,O,E=(v=(O=a.currentPlayerPosition)===null||O===void 0?void 0:O.windowId)!==null&&v!==void 0?v:null;if(s.setPlayer(null),a.rootFrame&&(a.rootFrame.innerHTML=""),!a.rootFrame||E===null||!a.sessionPlayerData.snapshotsByWindowId[E]||a.sessionPlayerData.snapshotsByWindowId[E].length<2){s.setPlayer(null);return}var _=new Y.a(a.sessionPlayerData.snapshotsByWindowId[E],{root:a.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});s.setPlayer({replayer:_,windowId:E})},setPlayer:function(v){var O=v.player;O&&(s.seek(a.currentPlayerPosition),s.syncPlayerSpeed())},setCurrentSegment:function(v){var O=v.segment;if(!O.isActive&&a.skipInactivitySetting?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1),a.player&&a.player.windowId!==O.windowId){var E,_;(E=a.player)===null||E===void 0||(_=E.replayer)===null||_===void 0||_.pause(),s.tryInitReplayer()}s.seek(a.currentPlayerPosition)},setSkipInactivitySetting:function(v){var O,E=v.skipInactivitySetting;q.f.actions.reportRecordingPlayerSkipInactivityToggled(E),!(!((O=a.currentSegment)===null||O===void 0)&&O.isActive)&&E?s.setSkippingInactivity(!0):s.setSkippingInactivity(!1)},setSkippingInactivity:function(){s.syncPlayerSpeed()},syncPlayerSpeed:function(){if(a.isSkippingInactivity){var v,O,E,_,$,Z,ae,ve=(((v=(O=a.currentSegment)===null||O===void 0||(E=O.endPlayerPosition)===null||E===void 0?void 0:E.time)!==null&&v!==void 0?v:0)-((_=($=a.currentPlayerPosition)===null||$===void 0?void 0:$.time)!==null&&_!==void 0?_:0))/1e3,Ee=Math.max(50,ve);(Z=a.player)===null||Z===void 0||(ae=Z.replayer)===null||ae===void 0||ae.setConfig({speed:Ee})}else{var Ze,ht;(Ze=a.player)===null||Ze===void 0||(ht=Ze.replayer)===null||ht===void 0||ht.setConfig({speed:a.speed})}},checkBufferingCompleted:function(){a.currentPlayerPosition&&a.sessionPlayerData.bufferedTo&&a.currentPlayerState===M.C.BUFFER&&Ct(a.currentPlayerPosition,a.sessionPlayerData.bufferedTo,a.sessionPlayerData.metadata.segments)<0&&(s.endBuffer(),s.seek(a.currentPlayerPosition))},initializePlayerFromStart:function(){var v,O,E=(v=a.sessionPlayerData)===null||v===void 0||(O=v.metadata)===null||O===void 0?void 0:O.segments[0];E&&(s.setCurrentSegment(E),s.setCurrentPlayerPosition(E.startPlayerPosition),a.player||s.tryInitReplayer())},loadRecordingMetaSuccess:function(){var f=N()(J.a.mark(function O(E,_){return J.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:s.initializePlayerFromStart(),s.checkBufferingCompleted(),_();case 3:case"end":return Z.stop()}},O)}));function v(O,E){return f.apply(this,arguments)}return v}(),loadRecordingSnapshotsSuccess:function(){var f=N()(J.a.mark(function O(E,_){var $,Z,ae,ve,Ee,Ze,ht,Yt,at,Rt,Ge,T,S,x;return J.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(Ze=($=(Z=a.player)===null||Z===void 0||(ae=Z.replayer)===null||ae===void 0?void 0:ae.service.state.context.events)!==null&&$!==void 0?$:[],ht=[],((ve=a.currentSegment)===null||ve===void 0?void 0:ve.windowId)!==void 0&&ht.push.apply(ht,X()(((Yt=a.sessionPlayerData.snapshotsByWindowId[(at=a.currentSegment)===null||at===void 0?void 0:at.windowId])!==null&&Yt!==void 0?Yt:[]).slice(Ze.length))),!(!((Ee=a.player)===null||Ee===void 0)&&Ee.replayer)){W.next=23;break}Rt=En(ht),W.prev=5,Rt.s();case 7:if((Ge=Rt.n()).done){W.next=13;break}return x=Ge.value,W.next=11,(T=a.player)===null||T===void 0||(S=T.replayer)===null||S===void 0?void 0:S.addEvent(x);case 11:W.next=7;break;case 13:W.next=18;break;case 15:W.prev=15,W.t0=W.catch(5),Rt.e(W.t0);case 18:return W.prev=18,Rt.f(),W.finish(18);case 21:W.next=24;break;case 23:s.initializePlayerFromStart();case 24:s.checkBufferingCompleted(),_();case 26:case"end":return W.stop()}},O,null,[[5,15,18,21]])}));function v(O,E){return f.apply(this,arguments)}return v}(),setPlay:function(){var v;s.stopAnimation(),s.syncPlayerSpeed();var O=a.currentPlayerPosition||((v=a.currentSegment)===null||v===void 0?void 0:v.startPlayerPosition);O&&s.seek(O,!0)},setPause:function(){var v,O;s.stopAnimation(),s.syncPlayerSpeed(),(v=a.player)===null||v===void 0||(O=v.replayer)===null||O===void 0||O.pause()},startBuffer:function(){s.stopAnimation()},startScrub:function(){s.stopAnimation()},setSpeed:function(v){var O=v.speed;q.f.actions.reportRecordingPlayerSpeedChanged(O),s.syncPlayerSpeed()},seek:function(){var f=N()(J.a.mark(function O(E,_){var $,Z,ae,ve,Ee,Ze,ht,Yt,at,Rt,Ge,T,S;return J.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:ae=E.playerPosition,ve=E.forcePlay,s.stopAnimation(),s.setCurrentPlayerPosition(ae),Ee=null,ae&&(($=a.sessionPlayerData)===null||$===void 0?void 0:$.metadata)&&(Ee=pe(ae,a.sessionPlayerData.metadata.segments),Ee&&(Ee.windowId!==((Ze=a.currentSegment)===null||Ze===void 0?void 0:Ze.windowId)||Ee.startTimeEpochMs!==((ht=a.currentSegment)===null||ht===void 0?void 0:ht.startTimeEpochMs))&&s.setCurrentSegment(Ee)),!(!((Z=a.sessionPlayerData)===null||Z===void 0)&&Z.bufferedTo)||!ae||!a.currentSegment||Ct(ae,a.sessionPlayerData.bufferedTo,a.sessionPlayerData.metadata.segments)>0?((Yt=a.player)===null||Yt===void 0||(at=Yt.replayer)===null||at===void 0||at.pause(),s.startBuffer()):!ve&&a.currentPlayerState===M.C.PAUSE?((Rt=a.player)===null||Rt===void 0||(Ge=Rt.replayer)===null||Ge===void 0||Ge.pause(ae.time),s.endBuffer()):((T=a.player)===null||T===void 0||(S=T.replayer)===null||S===void 0||S.play(ae.time),s.updateAnimation(),s.endBuffer()),_();case 7:case"end":return F.stop()}},O)}));function v(O,E){return f.apply(this,arguments)}return v}(),seekForward:function(){if(a.currentPlayerPosition){var v=St(a.currentPlayerPosition,a.sessionPlayerData.metadata.segments);if(v!==null){var O=v+a.jumpTimeMs,E=ke(O,a.sessionPlayerData.metadata.segments);E||(s.setPause(),E=a.sessionPlayerData.metadata.segments[0].startPlayerPosition),s.seek(E)}}},seekBackward:function(){if(a.currentPlayerPosition){var v=St(a.currentPlayerPosition,a.sessionPlayerData.metadata.segments);if(v!==null){var O=Math.max(v-a.jumpTimeMs,0),E=ke(O,a.sessionPlayerData.metadata.segments);s.seek(E)}}},togglePlayPause:function(){a.currentPlayerState!==M.C.BUFFER&&(a.currentPlayerState===M.C.PAUSE?s.setPlay():s.setPause())},updateAnimation:function(){var v,O,E,_,$=(v=a.player)===null||v===void 0||(O=v.replayer)===null||O===void 0?void 0:O.getCurrentTime(),Z=null;if($!==void 0&&a.currentSegment&&(Z={windowId:a.currentSegment.windowId,time:Math.min($,a.currentSegment.endPlayerPosition.time)}),Z&&((E=a.currentSegment)===null||E===void 0?void 0:E.endPlayerPosition)&&Ct(Z,(_=a.currentSegment)===null||_===void 0?void 0:_.endPlayerPosition,a.sessionPlayerData.metadata.segments)>=0){var ae=a.sessionPlayerData.metadata.segments.indexOf(a.currentSegment)+1;if(ae<a.sessionPlayerData.metadata.segments.length){var ve=a.sessionPlayerData.metadata.segments[ae];s.setCurrentPlayerPosition(ve.startPlayerPosition),s.setCurrentSegment(ve)}else s.setPause(),s.setCurrentPlayerPosition(a.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!a.sessionPlayerData.bufferedTo||!Z||!a.currentSegment||Ct(Z,a.sessionPlayerData.bufferedTo,a.sessionPlayerData.metadata.segments)>0){var Ee,Ze;(Ee=a.player)===null||Ee===void 0||(Ze=Ee.replayer)===null||Ze===void 0||Ze.pause(),s.startBuffer()}else s.setCurrentPlayerPosition(Z),m.timer=requestAnimationFrame(s.updateAnimation)},stopAnimation:function(){m.timer&&cancelAnimationFrame(m.timer)}}},windowValues:{isSmallScreen:function(r){return r.innerWidth<Object(Q.b)("md")}},events:function(r){var a=r.values,s=r.actions;return{beforeUnmount:function(){var f,v;(f=a.player)===null||f===void 0||(v=f.replayer)===null||v===void 0||v.pause(),s.setPlayer(null)}}}}),un=e("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),gn=e("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function ln(o){var r=o.children,a=o.onClick,s=a===void 0?function(){}:a,m=o.className,f=m===void 0?"":m;return t.a.createElement("div",{onClick:s,className:"rrweb-controller-icon ".concat(f)},r)}function Rn(o){var r=o.onClick,a=o.time;return t.a.createElement(ln,{onClick:r,className:"rrweb-controller-icon-seek"},t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"seek-seconds"},a),t.a.createElement(un.a,{className:"seek-icon",rotate:90})))}function Ot(o){var r=o.onClick,a=o.time;return t.a.createElement(ln,{onClick:r,className:"rrweb-controller-icon-seek"},t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"seek-seconds"},a),t.a.createElement(gn.a,{className:"seek-icon",rotate:270})))}function Le(o){var r=o.onClick,a=o.className,s=a===void 0?"":a;return t.a.createElement(ln,{onClick:r,className:s},t.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Ft(o){var r=o.onClick,a=o.className,s=a===void 0?"":a;return t.a.createElement(ln,{onClick:r,className:s},t.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function mn(o){var r=o.onClick,a=o.className,s=a===void 0?"":a;return t.a.createElement(ln,{onClick:r,className:s},t.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function hn(o){var r=o.onClick,a=o.className,s=a===void 0?"":a;return t.a.createElement(ln,{onClick:r,className:s},t.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function On(o){var r=o.onClick,a=o.className,s=a===void 0?"":a;return t.a.createElement(ln,{onClick:r,className:s},t.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{Rn.displayName="IconSeekBack",Rn.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:Rn.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(o){}try{Ot.displayName="IconSeekForward",Ot.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:Ot.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(o){}try{Le.displayName="IconPlay",Le.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:Le.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(o){}try{Ft.displayName="IconPause",Ft.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Ft.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(o){}try{mn.displayName="IconFullscreen",mn.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:mn.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(o){}try{hn.displayName="IconStepForward",hn.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:hn.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(o){}try{On.displayName="IconStepBackward",On.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:On.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(o){}var Ln=t.a.forwardRef(function(r,a){var s=Object(I.useRef)(),m=Object(ne.useValues)(dt),f=m.currentPlayerState,v=m.player,O=Object(ne.useActions)(dt),E=O.togglePlayPause,_=O.setScale,$=a;Object(I.useEffect)(function(){if(!!v)return v.replayer.on("resize",ae),window.addEventListener("resize",Z),function(){return window.removeEventListener("resize",Z)}},[v==null?void 0:v.replayer]);var Z=function(){ae(s.current)},ae=function(Ze){var ht;if(!(!Ze||!(!($==null||(ht=$.current)===null||ht===void 0)&&ht.parentElement)||!(v!=null&&v.replayer))){s.current=Ze;var Yt=$.current.parentElement.getBoundingClientRect(),at=Yt.width,Rt=Yt.height,Ge=Math.min(at/Ze.width,Rt/Ze.height,1);v.replayer.wrapper.style.transform="scale(".concat(Ge,")"),$.current.style.paddingLeft="".concat((at-Ze.width*Ge)/2,"px"),$.current.style.paddingTop="".concat((Rt-Ze.height*Ge)/2,"px"),$.current.style.marginBottom="-".concat(Rt-Ze.height*Ge,"px"),_(Ge)}},ve=function(){return f===M.C.BUFFER?t.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):f===M.C.PAUSE?t.a.createElement("div",{className:"rrweb-overlay"},t.a.createElement(Le,{className:"rrweb-overlay-play-icon"})):f===M.C.SKIP?t.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return t.a.createElement("div",{className:"rrweb-player",onClick:E},t.a.createElement("div",{ref:a}),t.a.createElement("div",{className:"rrweb-overlay-container"},ve()))});try{Ln.displayName="PlayerFrame",Ln.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:Ln.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(o){}var $n=e("./node_modules/antd/es/select/index.js"),Ka=e("./node_modules/antd/es/switch/index.js"),va=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),ga=e.n(va),ca={};ca.insert="head",ca.singleton=!1;var Qn=Fe()(ga.a,ca),Oa=ga.a.locals||{},Yn=e("./node_modules/clsx/dist/clsx.m.js"),Hn=Object(ne.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[dt,["sessionPlayerData","currentPlayerPosition"],kt,["eventsToShow"]],actions:[dt,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(r,a){return{thumbLeftPos:r,shouldSeek:a}},setCursorDiff:function(r){return{cursorDiff:r}},handleSeek:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:r,shouldSeek:a}},handleMove:function(r){return{event:r}},handleUp:function(r){return{event:r}},handleDown:function(r){return{event:r}},handleClick:function(r){return{event:r}},handleTickClick:function(r){return{playerPosition:r}},setSlider:function(r){return{ref:r}},setThumb:function(r){return{ref:r}},debouncedSetTime:function(r){return{time:r}},endSeeking:!0},reducers:{thumbLeftPos:[-xt,{setThumbLeftPos:function(r,a){var s=a.thumbLeftPos;return s}}],cursorDiff:[0,{setCursorDiff:function(r,a){var s=a.cursorDiff;return s}}],slider:[null,{setSlider:function(r,a){var s=a.ref;return s.current}}],thumb:[null,{setThumb:function(r,a){var s=a.ref;return s.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(o){return[o.sessionPlayerData]},function(o){var r,a;if((o==null?void 0:o.bufferedTo)&&(o==null||(r=o.metadata)===null||r===void 0?void 0:r.segments)&&(o==null||(a=o.metadata)===null||a===void 0?void 0:a.recordingDurationMs)){var s,m=(s=St(o.bufferedTo,o.metadata.segments))!==null&&s!==void 0?s:0;return 100*m/o.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(o){return[o.thumbLeftPos,o.slider,o.sessionPlayerData]},function(o,r,a){var s;return o&&r&&(a==null||(s=a.metadata)===null||s===void 0?void 0:s.recordingDurationMs)?(o+xt)/r.offsetWidth*a.metadata.recordingDurationMs:0}]},listeners:function(r){var a=r.values,s=r.actions;return{setCurrentPlayerPosition:function(){var m=N()(J.a.mark(function v(){var O,E,_,$;return J.a.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(a.slider){ae.next=2;break}return ae.abrupt("return");case 2:(!a.isSeeking||a.currentPlayerPosition===((O=a.sessionPlayerData)===null||O===void 0||(E=O.metadata)===null||E===void 0||(_=E.segments[0])===null||_===void 0?void 0:_.startPlayerPosition))&&($=a.currentPlayerPosition?V(a.currentPlayerPosition,a.slider.offsetWidth,a.sessionPlayerData.metadata.segments,a.sessionPlayerData.metadata.recordingDurationMs):0,s.setThumbLeftPos($-xt,!1));case 3:case"end":return ae.stop()}},v)}));function f(){return m.apply(this,arguments)}return f}(),setThumbLeftPos:function(f){var v,O=f.thumbLeftPos,E=f.shouldSeek;if(!!a.slider&&E&&((v=a.sessionPlayerData)===null||v===void 0?void 0:v.metadata)){var _=fe(O+xt,a.slider.offsetWidth,a.sessionPlayerData.metadata.segments,a.sessionPlayerData.metadata.recordingDurationMs);s.seek(_)}},handleSeek:function(){var m=N()(J.a.mark(function v(O){var E,_,$,Z,ae;return J.a.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return $=O.newX,Z=O.shouldSeek,ae=(E=(_=a.slider)===null||_===void 0?void 0:_.offsetWidth)!==null&&E!==void 0?E:0,Ee.next=4,s.setThumbLeftPos(Object(U.m)($,0,ae)-xt,Z);case 4:s.endSeeking();case 5:case"end":return Ee.stop()}},v)}));function f(v){return m.apply(this,arguments)}return f}(),handleMove:function(){var m=N()(J.a.mark(function v(O){var E,_;return J.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(E=O.event,a.slider){Z.next=3;break}return Z.abrupt("return");case 3:s.startScrub(),_=ct(E)-a.cursorDiff-a.slider.getBoundingClientRect().left,s.handleSeek(_,!1);case 6:case"end":return Z.stop()}},v)}));function f(v){return m.apply(this,arguments)}return f}(),handleUp:function(f){var v=f.event;if(!!a.slider){var O=ct(v)-a.cursorDiff-a.slider.getBoundingClientRect().left;s.handleSeek(O),s.endScrub(),document.removeEventListener("touchmove",s.handleMove),document.removeEventListener("touchend",s.handleUp),document.removeEventListener("mousemove",s.handleMove),document.removeEventListener("mouseup",s.handleUp)}},handleDown:function(f){var v=f.event;if(!!a.thumb){s.startScrub();var O=ct(v),E=O-a.thumb.getBoundingClientRect().left-xt;Math.abs(E)>zt&&(E=0),s.setCursorDiff(E),document.addEventListener("touchmove",s.handleMove),document.addEventListener("touchend",s.handleUp),document.addEventListener("mousemove",s.handleMove),document.addEventListener("mouseup",s.handleUp)}},handleTickClick:function(f){var v=f.playerPosition;a.isSeeking||s.handleSeek(V(v,a.slider.offsetWidth,a.sessionPlayerData.metadata.segments,a.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(r){var a=r.actions,s=r.values,m=r.cache;return{afterMount:function(){m.setCurrentPlayerPosition=function(){a.setCurrentPlayerPosition(s.currentPlayerPosition)},window.addEventListener("resize",m.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",m.setCurrentPlayerPosition)}}}});function Aa(o){var r=o.event,a=Object(I.useState)(!1),s=be()(a,2),m=s[0],f=s[1],v=Object(ne.useActions)(Hn),O=v.handleTickClick,E=Object(ne.useActions)(q.f),_=E.reportRecordingPlayerSeekbarEventHovered;return t.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(r.percentageOfRecordingDuration,"% - 2px)")},onClick:function(Z){Z.stopPropagation(),O(r.playerPosition)},onMouseEnter:function(Z){Z.stopPropagation(),f(!0),_()},onMouseLeave:function(Z){Z.stopPropagation(),f(!1)}},t.a.createElement("div",{className:Object(Yn.a)("tick-info",{show:m})},r.event),t.a.createElement("div",{className:"tick-marker"}),t.a.createElement("div",{className:Object(Yn.a)("tick-thumb",{big:m})}))}function da(){var o,r,a=Object(I.useRef)(null),s=Object(I.useRef)(null),m=Object(ne.useActions)(Hn),f=m.handleDown,v=m.setSlider,O=m.setThumb,E=Object(ne.useValues)(kt),_=E.eventsToShow,$=E.sessionPlayerData,Z=Object(ne.useValues)(Hn),ae=Z.thumbLeftPos,ve=Z.bufferPercent;return Object(I.useEffect)(function(){a.current&&s.current&&(v(a),O(s))},[a.current,s.current]),t.a.createElement("div",{className:"rrweb-controller-slider"},t.a.createElement("div",{className:"slider",ref:a,onMouseDown:f,onTouchStart:f},t.a.createElement("div",{className:"inactivity-bar"},$==null||(o=$.metadata)===null||o===void 0||(r=o.segments)===null||r===void 0?void 0:r.map(function(Ee){return t.a.createElement("div",{key:"".concat(Ee.windowId,"-").concat(Ee.startTimeEpochMs),className:Object(Yn.a)("activity-section",!Ee.isActive&&"inactive-section"),style:{width:"".concat(100*Ee.durationMs/$.metadata.recordingDurationMs,"%")}})})),t.a.createElement("div",{className:"slider-bar"}),t.a.createElement("div",{className:"thumb",ref:s,style:{transform:"translateX(".concat(ae,"px)")}}),t.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(ae,0),"px")}}),t.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(ve,"% - 2px)")}})),t.a.createElement("div",{className:"ticks"},_.map(function(Ee){return t.a.createElement(Aa,{key:Ee.id,event:Ee})})))}var ua=e("./node_modules/antd/es/tooltip/index.js");function ma(){var o,r,a,s=Object(ne.useActions)(dt),m=s.seekBackward,f=s.seekForward,v=Object(ne.useValues)(dt),O=v.jumpTimeMs,E=v.currentPlayerTime,_=v.sessionPlayerData,$=Object(ne.useValues)(Hn),Z=$.isScrubbing,ae=$.scrubbingTime;return t.a.createElement(t.a.Fragment,null,t.a.createElement(ua.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(O/1e3,"s (\u2190 left arrow)")},t.a.createElement("span",null,t.a.createElement(Rn,{onClick:m,time:O/1e3}))),t.a.createElement(ua.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(O/1e3,"s (\u2192 right arrow)")},t.a.createElement("span",null,t.a.createElement(Ot,{onClick:f,time:O/1e3}))),t.a.createElement("div",{className:"rrweb-timestamp"},Object(U.o)(((o=Z?ae:E)!==null&&o!==void 0?o:0)/1e3)," /"," ",Object(U.o)(Math.floor(((r=_==null||(a=_.metadata)===null||a===void 0?void 0:a.recordingDurationMs)!==null&&r!==void 0?r:0)/1e3))))}function wa(){var o=Object(ne.useActions)(dt),r=o.togglePlayPause,a=o.setSpeed,s=o.setSkipInactivitySetting,m=Object(ne.useValues)(dt),f=m.currentPlayerState,v=m.speed,O=m.isSmallScreen,E=m.skipInactivitySetting;return t.a.createElement("div",{className:"rrweb-controller"},t.a.createElement("span",null,f===M.C.PLAY?t.a.createElement(Ft,{onClick:r,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):t.a.createElement(Le,{onClick:r,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!O&&t.a.createElement(ma,null),t.a.createElement("div",{className:"rrweb-progress"},t.a.createElement(da,null)),t.a.createElement($n.a,{onChange:function($){return a($)},value:v,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},t.a.createElement($n.a.OptGroup,{label:"Speed"},Wt.map(function(_){return t.a.createElement($n.a.Option,{key:_,value:_},_,"x")}))),t.a.createElement("div",{onClick:function(){s(!E)},className:"rrweb-inactivity-toggle"},t.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),t.a.createElement(Ka.a,{checked:E,size:"small"})))}var na=e("./node_modules/core-js/modules/es.symbol.js"),aa=e("./node_modules/core-js/modules/es.symbol.description.js"),Nn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),ra=e.n(Nn),Tn={};Tn.insert="head",Tn.singleton=!1;var Cn=Fe()(ra.a,Tn),ka=ra.a.locals||{},_n=e("./node_modules/antd/es/empty/index.js"),Tt=e("./node_modules/antd/es/row/index.js"),bn=e("./node_modules/antd/es/col/index.js"),Sn=e("./node_modules/antd/es/skeleton/index.js"),Xn=e("./node_modules/antd/es/input/index.js"),ha=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),Fa=e("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),Wa=e("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),qn=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),ya=e("./node_modules/react-virtualized/dist/es/List/index.js"),Ua=e("./node_modules/react-virtualized/dist/es/Grid/index.js"),pa=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Mn=e("./node_modules/core-js/modules/es.array.find-index.js");function Ca(o,r){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);r&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),a.push.apply(a,s)}return a}function fn(o){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Ca(Object(a),!0).forEach(function(s){Ue()(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):Ca(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}var ea=65,Zn=50,Dn=150*5,jn=Object(ne.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[q.f],actions:[kt,["setFilters","loadEventsSuccess"],dt,["seek"]],values:[kt,["eventsToShow","sessionEventsDataLoading"],dt,["currentPlayerTime"]]},actions:{setLocalFilters:function(r){return{filters:r}},setRenderedRows:function(r){return{renderMeta:r}},setList:function(r){return{list:r}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(r){return{rowIndex:r}},handleEventClick:function(r){return{playerPosition:r}}},reducers:{localFilters:[{},{setLocalFilters:function(r,a){var s=a.filters;return fn(fn({},r),s)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(r,a){var s=a.renderMeta;return s}}],list:[null,{setList:function(r,a){var s=a.list;return s}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(r){var a=r.actions,s=r.values;return{setLocalFilters:function(){var m=N()(J.a.mark(function v(O,E){return J.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,E(250);case 2:a.setFilters(s.localFilters);case 3:case"end":return $.stop()}},v)}));function f(v,O){return m.apply(this,arguments)}return f}(),scrollTo:function(){var m=N()(J.a.mark(function v(O,E){var _,$;return J.a.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return _=O.rowIndex,$=_!=null?_:s.currentEventsIndices.startIndex,s.list&&(s.list.scrollToPosition(s.list.getOffsetForRow({alignment:"center",index:$})),q.f.actions.reportRecordingScrollTo($)),ae.next=5,E(Dn);case 5:a.enablePositionFinder();case 6:case"end":return ae.stop()}},v)}));function f(v,O){return m.apply(this,arguments)}return f}(),handleEventClick:function(f){var v=f.playerPosition;v&&a.seek(v)}}},selectors:function(){return{listEvents:[function(r){return[r.eventsToShow]},function(r){return r.map(function(a){var s;return fn(fn({},a),{},{colonTimestamp:Object(U.o)(Math.floor(((s=a.playerTime)!==null&&s!==void 0?s:0)/1e3))})})}],currentEventsTimeRange:[function(r){return[r.listEvents,r.currentPlayerTime]},function(r,a){var s;if(r.length<1)return{start:0,end:0};var m=r.findIndex(function(O){var E;return((E=O.playerTime)!==null&&E!==void 0?E:0)>=Object(U.k)(a!=null?a:0)}),f=Math.max(Object(U.k)(a!=null?a:0),1e3),v=Object(U.E)((s=r[Object(U.m)(m===-1?r.length-1:m-1,0,r.length-1)].playerTime)!==null&&s!==void 0?s:0);return{start:v,end:f}}],isEventCurrent:[function(r){return[r.currentEventsTimeRange,r.listEvents]},function(r,a){return function(s){var m,f,v,O;return((m=a==null||(f=a[s])===null||f===void 0?void 0:f.playerTime)!==null&&m!==void 0?m:0)>=r.start&&((v=a==null||(O=a[s])===null||O===void 0?void 0:O.playerTime)!==null&&v!==void 0?v:0)<r.end}}],currentEventsIndices:[function(r){return[r.listEvents,r.isEventCurrent]},function(r,a){return{startIndex:Object(U.m)(r.findIndex(function(s,m){return a(m)}),0,r.length-1),stopIndex:Object(U.m)(Object(U.C)(r,function(s,m){return a(m)}),0,r.length-1)}}],currentEventsBoxSizeAndPosition:[function(r){return[r.currentEventsIndices,r.list]},function(r,a){if(!a||!a.Grid||r.startIndex>=a.Grid.props.rowCount||r.stopIndex>a.Grid.props.rowCount||r.startIndex<1&&r.stopIndex<1||r.stopIndex<r.startIndex)return{top:0,height:0};var s=a.Grid.state,m=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(r.startIndex).offset,f=s.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(r.stopIndex);return{top:m,height:f.offset+f.size-m}}],isRowIndexRendered:[function(r){return[r.renderedRows]},function(r){return function(a){return a>=r.overscanStartIndex&&a<=r.overscanStopIndex}}],showPositionFinder:[function(r){return[r.renderedRows,r.currentEventsIndices,r.shouldHidePositionFinder]},function(r,a,s){return!s&&(r.stopIndex<a.startIndex||r.startIndex>a.stopIndex)}],isDirectionUp:[function(r){return[r.renderedRows,r.currentEventsIndices]},function(r,a){return r.startIndex>a.stopIndex}]}}}),Jn=e("./frontend/src/lib/components/icons.tsx");function Ra(o,r){var a=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);r&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),a.push.apply(a,s)}return a}function Sa(o){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Ra(Object(a),!0).forEach(function(s){Ue()(o,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):Ra(Object(a)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(a,s))})}return o}function za(o){var r=o.cellCount,a=o.overscanCellsCount,s=o.startIndex,m=o.stopIndex,f=Math.floor(a/2),v=a-f;return{overscanStartIndex:Math.max(0,s-f),overscanStopIndex:Math.min(r-1,m+v)}}var In=function(r){return r.event==="$pageview"?t.a.createElement(Jn.PageviewIcon,null):r.event==="$pageleave"?t.a.createElement(Jn.PageleaveIcon,null):r.event==="$autocapture"?t.a.createElement(Jn.AutocaptureIcon,null):t.a.createElement(Jn.EventIcon,null)};function oa(){return t.a.createElement("div",{className:"event-list-empty-container"},t.a.createElement(_n.a,{image:_n.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function ba(o){var r=o.description,a=Object(I.useRef)(null);return t.a.createElement("span",{className:Object(Yn.a)("event-item-content-subtitle",Object(U.U)(a.current)&&"overflowing"),title:r},t.a.createElement("div",{className:"inner",ref:a},r))}function ja(){var o=Object(I.useRef)(null),r=Object(ne.useValues)(jn),a=r.localFilters,s=r.listEvents,m=r.currentEventsBoxSizeAndPosition,f=r.showPositionFinder,v=r.isRowIndexRendered,O=r.isEventCurrent,E=r.isDirectionUp,_=r.renderedRows,$=Object(ne.useValues)(kt),Z=$.sessionEventsDataLoading,ae=Object(ne.useActions)(jn),ve=ae.setLocalFilters,Ee=ae.setRenderedRows,Ze=ae.setList,ht=ae.scrollTo,Yt=ae.disablePositionFinder,at=ae.handleEventClick;Object(I.useEffect)(function(){o!=null&&o.current&&Ze(o.current)},[o.current]);var Rt=Object(I.useCallback)(function(S){var x=S.index,F=S.style,W=S.key,B=s[x],te=Object(it.d)(B.event,"event"),ge=O(x);return t.a.createElement(Tt.a,{key:W,className:Object(Yn.a)("event-list-item",{"current-event":ge}),align:"top",style:Sa(Sa({},F),{},{zIndex:s.length-x}),onClick:function(){at(B.playerPosition)}},t.a.createElement(bn.a,{className:"event-item-icon"},t.a.createElement("div",{className:"event-item-icon-wrapper"},In(B))),t.a.createElement(bn.a,{className:Object(Yn.a)("event-item-content",{rendering:!v(x)})},t.a.createElement(Tt.a,{className:"event-item-content-top-row"},t.a.createElement(it.b,{className:"event-item-content-title",value:B.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),t.a.createElement("span",{className:"event-item-content-timestamp"},B.colonTimestamp)),te&&t.a.createElement(ba,{description:Object(U.j)(Object(U.B)(B,!0))}),t.a.createElement(Sn.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[s.length,_.startIndex,_.stopIndex,m.top,m.height]),Ge=Object(I.useCallback)(function(S){var x=Object(Ua.c)(S);return s.length>0&&x.push(t.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:m.height,transform:"translateY(".concat(m.top,"px)")}})),x},[m.top,m.height,Z,s.length]);return t.a.createElement(bn.a,{className:"player-events-container"},t.a.createElement(Xn.a,{prefix:t.a.createElement(ha.a,null),placeholder:"Search for events",value:a.query,onChange:function(S){return ve({query:S.target.value})}}),t.a.createElement(bn.a,{className:"event-list"},Z?t.a.createElement(U.b,null):t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:Object(Yn.a)("current-events-position-finder",{visible:f})},t.a.createElement(Tt.a,{className:"left",align:"middle",wrap:!1,onClick:function(){ht()}},E?t.a.createElement(Fa.a,null):t.a.createElement(Wa.a,null),"Jump to current time"),t.a.createElement(Tt.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){Yt()}},t.a.createElement(qn.a,null))),t.a.createElement(pa.a,null,function(T){var S=T.height,x=T.width;return t.a.createElement(ya.b,{ref:o,className:"event-list-virtual",height:S,width:x,onRowsRendered:Ee,noRowsRenderer:oa,cellRangeRenderer:Ge,overscanRowCount:Zn,overscanIndicesGetter:za,rowCount:s.length,rowRenderer:Rt,rowHeight:ea})}))))}var La=e("./node_modules/antd/es/tabs/index.js"),Na=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Pa=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),sa=e.n(Pa),Da={};Da.insert="head",Da.singleton=!1;var Ga=Fe()(sa.a,Da),xa=sa.a.locals||{},Gt=e("./node_modules/antd/es/space/index.js"),An=e("./frontend/src/lib/components/ProfilePicture/index.ts"),fa=e("./frontend/src/scenes/persons/PersonHeader.tsx"),la=e("./node_modules/core-js/modules/es.array.filter.js"),br=e("./node_modules/core-js/modules/es.array.some.js"),nr=function(r,a){return a.some(function(s){var m;return!(!(r==null||(m=r.properties)===null||m===void 0)&&m[s])})?null:a.map(function(s){var m;return r==null||(m=r.properties)===null||m===void 0?void 0:m[s]}).join(", ")},ar=Object(ne.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[kt,["sessionPlayerData"],dt,["currentPlayerPosition","scale"]],actions:[kt,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(o){return[o.sessionPlayerData]},function(o){return o==null?void 0:o.person}],description:[function(o){return[o.sessionPerson]},function(o){var r=nr(o,["$geoip_city_name","$geoip_country_code"]),a=nr(o,["$browser","$os"]);return[a,r].filter(function(s){return s}).join(" \xB7 ")}],resolution:[function(o){return[o.sessionPlayerData,o.currentPlayerPosition]},function(o,r){var a,s;if(!r)return null;var m=(a=o.snapshotsByWindowId[r.windowId])!==null&&a!==void 0?a:[],f=(s=nt(r,o.metadata.startAndEndTimesByWindowId))!==null&&s!==void 0?s:0,v=Object(U.C)(m,function(E){return E.timestamp<f&&"width"in E.data});if(v===-1)return null;var O=m[v];return{width:O.data.width,height:O.data.height}}],recordingStartTime:[function(o){return[o.sessionPlayerData]},function(o){var r,a;return o==null||(r=o.metadata)===null||r===void 0||(a=r.segments[0])===null||a===void 0?void 0:a.startTimeEpochMs}]}}),_a=e("./frontend/src/scenes/funnels/funnelUtils.ts"),Ta=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function rr(){var o,r=Object(ne.useValues)(ar),a=r.sessionPerson,s=r.description,m=r.resolution,f=r.scale,v=r.recordingStartTime,O=r.loading;return t.a.createElement(bn.a,{className:"player-meta-container"},t.a.createElement(Tt.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},t.a.createElement(Tt.a,{className:"player-meta-person-title",align:"middle",wrap:!1},O?t.a.createElement(Gt.b,null,t.a.createElement(Sn.a.Avatar,{active:!0,size:"small",shape:"circle"}),t.a.createElement(Sn.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):t.a.createElement(t.a.Fragment,null,t.a.createElement(An.a,{name:a==null?void 0:a.name,email:a==null||(o=a.properties)===null||o===void 0?void 0:o.$email,size:"md",style:{marginRight:"0.5rem"}}),t.a.createElement("span",{className:"email"},t.a.createElement(fa.a,{person:a,withIcon:!1})))),t.a.createElement(bn.a,null,O?t.a.createElement(Sn.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):t.a.createElement("span",{className:"time text-muted"},v&&t.a.createElement(Ta.b,{time:Object(et.a)(v)})))),t.a.createElement(Tt.a,{className:"player-meta-other",align:"middle",justify:"start"},t.a.createElement(Tt.a,{className:"player-meta-other-description"},O?t.a.createElement(Sn.a,{title:!1,active:!0,paragraph:{rows:1}}):t.a.createElement("span",null,s)),t.a.createElement(Tt.a,{className:"player-meta-other-resolution mt-05"},O?t.a.createElement(Sn.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):t.a.createElement("span",null,m?t.a.createElement(t.a.Fragment,null,"Resolution: ",m.width," x ",m.height," (",Object(_a.c)(f),"%)"):t.a.createElement(t.a.Fragment,null,"Resolution: ...")))))}var dr=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),or=e.n(dr),Xa={};Xa.insert="head",Xa.singleton=!1;var Er=Fe()(or.a,Xa),ur=or.a.locals||{},$a=e("./frontend/src/lib/components/LemonButton/index.ts"),sr=e("./frontend/src/lib/components/Spinner/Spinner.tsx");function Cr(){var o=Object(ne.useValues)(kt),r=o.orderedConsoleLogs,a=o.areAllSnapshotsLoaded,s=Object(ne.useActions)(q.f),m=s.reportRecordingConsoleFeedback,f=Object(ne.useActions)(dt),v=f.seek,O=Object(I.useState)(!1),E=be()(O,2),_=E[0],$=E[1],Z=function(ve,Ee){return t.a.createElement("div",{className:"log-line level-".concat(ve.level),key:Ee,onClick:function(){v(ve.playerPosition)}},t.a.createElement("div",{className:"trace-string"},ve.parsedTraceURL?t.a.createElement("a",{className:"text-muted",href:ve.parsedTraceURL,target:"_blank"},ve.parsedTraceString):t.a.createElement("span",{className:"text-muted"},ve.parsedTraceString)),t.a.createElement("p",{className:"log-text"},ve.parsedPayload))};return t.a.createElement("div",{className:"console-log-container"},t.a.createElement("div",{className:"console-log"},a?r.length>0?t.a.createElement(pa.a,null,function(ae){var ve=ae.height,Ee=ae.width;return t.a.createElement("div",{style:{height:ve,width:Ee,overflowY:"scroll",paddingBottom:5}},r.slice(0,150).map(function(Ze,ht){return Z(Ze,ht)}),t.a.createElement("div",null,r.length>150&&t.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):t.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},t.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),t.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",t.a.createElement("code",null,"posthog-js"),"."),t.a.createElement($a.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):t.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},t.a.createElement(sr.a,{size:"lg"}))),t.a.createElement("div",{className:"console-feedback-container"},t.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),_?t.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):t.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(ae,ve){return t.a.createElement($a.a,{type:"secondary",key:ve,style:{margin:"0 8px"},onClick:function(){$(!0),m(r.length,ae[0],"Are you finding the console log feature useful?")}},ae[1])}))))}var Ma=e("./frontend/src/lib/components/Tooltip.tsx");function mr(){var o=Object(ne.useActions)(dt),r=o.togglePlayPause,a=o.seekForward,s=o.seekBackward,m=o.setSpeed,f=o.setRootFrame,v=Object(ne.useValues)(dt),O=v.isSmallScreen,E=Object(I.useRef)(null);Object(I.useEffect)(function(){E.current&&f(E.current)},[E]);var _=function(Z){var ae;if(!(!((ae=Z.target)===null||ae===void 0)&&ae.matches("input")))if(Z.key===" ")r(),Z.preventDefault();else if(Z.key==="ArrowLeft")s();else if(Z.key==="ArrowRight")a();else for(var ve=0;ve<Wt.length;ve++)Z.key===(ve+1).toString()&&m(Wt[ve])};return t.a.createElement(bn.a,{className:"session-player-v2",onKeyDown:_,tabIndex:0,flex:1},t.a.createElement(Tt.a,{className:"session-player-body",wrap:!1},t.a.createElement("div",{className:"player-container ph-no-capture"},t.a.createElement(Ln,{ref:E})),!O&&t.a.createElement(er,null)),t.a.createElement(Tt.a,{className:"player-controller",align:"middle"},t.a.createElement(wa,null)),O&&t.a.createElement(er,null))}var Za=La.a.TabPane;function er(){var o=Object(ne.useValues)(gt.a),r=o.featureFlags,a=Object(ne.useValues)(kt),s=a.orderedConsoleLogs,m=Object(ne.useActions)(q.f),f=m.reportRecordingConsoleViewed,v=r[Zt.n.SESSION_CONSOLE];return t.a.createElement(bn.a,{className:"player-sidebar"},t.a.createElement("div",{className:"player-meta"},t.a.createElement(rr,null)),t.a.createElement("div",{className:"player-events"},v?t.a.createElement(La.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(E){E==="console"&&f(s.length)}},t.a.createElement(Za,{tab:"Events",key:"events"},t.a.createElement(ja,null)),t.a.createElement(Za,{tab:t.a.createElement("div",null,"Console (beta)",t.a.createElement(Ma.a,{title:"While console logs are in beta, only 150 logs are displayed."},t.a.createElement(Na.a,{style:{marginLeft:6}}))),key:"console"},t.a.createElement(Cr,null))):t.a.createElement(ja,null)))}var Ja=e("./node_modules/antd/es/button/index.js"),pr=e("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function Ya(o){var r=o.isPersonPage,a=r===void 0?!1:r,s=o.onClose;return t.a.createElement(Ne.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:s,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},t.a.createElement(bn.a,{style:{height:"100vh"}},t.a.createElement(Tt.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},t.a.createElement(Ja.a,{type:"link",onClick:s},t.a.createElement(pr.a,null)," Back to ",a?"persons":"recordings"),t.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:s},t.a.createElement(Jn.IconClose,null))),t.a.createElement(Tt.a,{className:"session-drawer-body"},t.a.createElement(mr,null))))}try{Ya.displayName="SessionPlayerDrawer",Ya.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:Ya.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(o){}},"./frontend/src/scenes/trends/PersonsModal.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return sn});var I=e("./node_modules/core-js/modules/es.array.concat.js"),t=e("./node_modules/core-js/modules/es.array.find.js"),Ne=e("./node_modules/core-js/modules/es.array.map.js"),h=e("./node_modules/core-js/modules/es.object.keys.js"),je=e("./node_modules/core-js/modules/es.object.to-string.js"),Xe=e("./node_modules/core-js/modules/es.regexp.exec.js"),Fe=e("./node_modules/core-js/modules/es.regexp.to-string.js"),z=e("./node_modules/core-js/modules/es.string.replace.js"),n=e("./node_modules/react/index.js"),u=e.n(n),me=e("./node_modules/kea/lib/index.esm.js"),D=e("./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js"),ne=e("./node_modules/@ant-design/icons/es/icons/UsergroupAddOutlined.js"),le=e("./node_modules/antd/es/modal/index.js"),Ce=e("./node_modules/antd/es/button/index.js"),se=e("./node_modules/antd/es/skeleton/index.js"),G=e("./node_modules/antd/es/input/index.js"),p=e("./node_modules/antd/es/select/index.js"),X=e("./frontend/src/types.ts"),Se=e("./frontend/src/scenes/trends/personsModalLogic.ts"),J=e("./frontend/src/lib/components/CopyToClipboard.tsx"),ee=e("./frontend/src/lib/utils.tsx"),Ae=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),N=e.n(Ae),Y=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss"),q=e.n(Y),M={};M.insert="head",M.singleton=!1;var Q=N()(q.a,M),oe=q.a.locals||{},Te=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),y=e("./frontend/src/lib/components/PropertiesTable.tsx"),Ve=e("./frontend/src/lib/components/DateDisplay/index.tsx"),we=e("./frontend/src/scenes/persons/PersonHeader.tsx"),$t=e("./frontend/src/lib/api.ts"),Qt=e("./frontend/src/lib/components/LemonTable/index.ts"),cn=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),Mt=e("./frontend/src/lib/components/icons.tsx"),xn=e("./frontend/src/lib/components/InsightLabel/index.tsx"),Gn=e("./frontend/src/lib/colors.ts"),bt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),We=e("./frontend/src/lib/constants.tsx"),Kt=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),ot=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Qe=e.n(ot),$e=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),ye=e("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),Ue=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Pt=e("./frontend/src/lib/components/Popup/Popup.tsx"),be=e("./frontend/src/lib/components/Link.tsx"),Ie=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss"),K=e.n(Ie),U={};U.insert="head",U.singleton=!1;var Et=N()(K.a,U),it=K.a.locals||{};function et(Ye){var tt=Ye.sessionRecordings,ut=Ye.onOpenRecording,zt=Object(n.useState)(!1),xt=Qe()(zt,2),ft=xt[0],Be=xt[1],ct=tt.length===1,Ct=Object(n.useCallback)(function(pe){var St=pe.setRef,ke=pe.children;return ct?u.a.createElement("div",{ref:St},u.a.createElement(be.a,{onClick:function(nt){nt.stopPropagation(),ut(tt[0])}},ke)):u.a.createElement("div",{ref:St,onClick:function(nt){nt.stopPropagation(),Be(function(fe){return!fe})}},ke)},[tt,Be]);return u.a.createElement(Pt.a,{visible:ft,placement:"bottom-end",fallbackPlacements:["top-end"],className:"session-recordings-popup",overlay:tt.map(function(pe,St){return u.a.createElement(be.a,{key:pe.session_id,onClick:function(mt){mt.stopPropagation(),Be(!1),ut(pe)}},u.a.createElement("div",{className:"session-recordings-popup-row"},u.a.createElement($e.a,null),"Recording ",St+1))}),onClickOutside:function(){Be(!1)}},function(pe){var St=pe.setRef;return u.a.createElement(Ct,{setRef:St},u.a.createElement(Ce.a,{className:"session-recordings-button","data-attr":"session-recordings-button",icon:u.a.createElement($e.a,null)},"Watch recording",ct?u.a.createElement(ye.a,null):u.a.createElement(Ue.a,null)))})}try{et.displayName="MultiRecordingButton",et.__docgenInfo={description:"",displayName:"MultiRecordingButton",props:{sessionRecordings:{defaultValue:null,description:"",name:"sessionRecordings",required:!0,type:{name:"MatchedRecording[]"}},onOpenRecording:{defaultValue:null,description:"",name:"onOpenRecording",required:!0,type:{name:"(sessionRecording: MatchedRecording) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"]={docgenInfo:et.__docgenInfo,name:"MultiRecordingButton",path:"frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"})}catch(Ye){}function sn(Ye){var tt,ut,zt,xt,ft,Be,ct=Ye.visible,Ct=Ye.view,pe=Ye.filters,St=Ye.onSaveCohort,ke=Ye.showModalActions,mt=ke===void 0?!0:ke,nt=Ye.aggregationTargetLabel,fe=Object(me.useValues)(Se.b),V=fe.people,He=fe.loadingMorePeople,vt=fe.firstLoadedPeople,qt=fe.searchTerm,gt=fe.isInitialLoad,Zt=fe.peopleParams,yn=fe.actorLabel,Vt=fe.sessionRecordingId,w=Object(me.useActions)(Se.b),Re=w.hidePeople,Pe=w.loadMorePeople,_e=w.setFirstLoadedActors,_t=w.setPersonsModalFilters,xe=w.setSearchTerm,st=w.switchToDataPoint,en=w.openRecordingModal,kt=w.closeRecordingModal,En=Object(me.useValues)(bt.a),vn=En.featureFlags,wt=Object(n.useMemo)(function(){var Ot,Le,Ft;return gt?"Loading ".concat(nt.plural,"\u2026"):pe.shown_as==="Stickiness"?u.a.createElement(u.a.Fragment,null,u.a.createElement(Te.b,{value:(V==null?void 0:V.label)||"",disablePopover:!0})," stickiness on day ",V==null?void 0:V.day):pe.display==="ActionsBarValue"||pe.display==="ActionsPie"?u.a.createElement(Te.b,{value:(V==null?void 0:V.label)||"",disablePopover:!0}):pe.insight===X.s.FUNNELS?u.a.createElement(u.a.Fragment,null,((Ot=V==null?void 0:V.funnelStep)!==null&&Ot!==void 0?Ot:0)>=0?"Completed":"Dropped off at"," step"," ",Math.abs((Le=V==null?void 0:V.funnelStep)!==null&&Le!==void 0?Le:0)," \u2022 ",u.a.createElement(Te.b,{value:(V==null?void 0:V.label)||"",disablePopover:!0})," ",V!=null&&V.breakdown_value?"\u2022 ".concat(V.breakdown_value):""):pe.insight===X.s.PATHS?u.a.createElement(u.a.Fragment,null,V!=null&&V.pathsDropoff?"Dropped off after":"Completed"," step"," ",u.a.createElement(Te.b,{value:(V==null?void 0:V.label.replace(/(^[0-9]+_)/,""))||"",disablePopover:!0})):u.a.createElement(u.a.Fragment,null,Object(ee.j)(yn)," list on"," ",u.a.createElement(Ve.a,{interval:pe.interval||"day",date:(V==null||(Ft=V.day)===null||Ft===void 0?void 0:Ft.toString())||""}))},[pe,V,gt]),Wt=vn[We.n.NEW_INSIGHT_COHORTS],dt=!1,un=(Ct===X.s.TRENDS||Ct===X.s.STICKINESS||!!Wt&&(Ct===X.s.FUNNELS||Ct===X.s.PATHS))&&mt,gn=Object(Gn.c)("white",V==null||(tt=V.crossDataset)===null||tt===void 0?void 0:tt.length),ln=!!(!(V==null||(ut=V.crossDataset)===null||ut===void 0)&&ut.find(function(Ot){var Le=Ot.action;return(Le==null?void 0:Le.math)&&Le.math!=="total"})),Rn=!!(!(V==null||(zt=V.crossDataset)===null||zt===void 0)&&zt.find(function(Ot){var Le=Ot.action;return Le==null?void 0:Le.order}));return u.a.createElement(u.a.Fragment,null,!!Vt&&u.a.createElement(Kt.a,{onClose:kt}),u.a.createElement(le.a,{title:wt,visible:ct,onCancel:Re,footer:V&&V.count>0&&(dt||un)&&u.a.createElement(u.a.Fragment,null,dt&&u.a.createElement(Ce.a,{icon:u.a.createElement(D.a,null),href:$t.a.actions.determinePeopleCsvUrl({label:V.label,action:V.action,date_from:V.day,date_to:V.day,breakdown_value:V.breakdown_value},pe),style:{marginRight:8},"data-attr":"person-modal-download-csv"},"Download CSV"),un&&u.a.createElement(Ce.a,{onClick:St,icon:u.a.createElement(ne.a,null),"data-attr":"person-modal-save-as-cohort"},"Save as cohort")),width:600,className:"person-modal"},gt?u.a.createElement("div",{style:{padding:16}},u.a.createElement(se.a,{active:!0})):V&&u.a.createElement(u.a.Fragment,null,u.a.createElement(G.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for persons by email, name, or ID",onChange:function(Le){xe(Le.target.value),Le.target.value||_e(vt)},value:qt,onSearch:function(Le){return Le?_t(Le,V,pe):_e(vt)}}),vn[We.n.MULTI_POINT_PERSON_MODAL]&&!!(!((xt=V.crossDataset)===null||xt===void 0)&&xt.length)&&V.seriesId!==void 0&&u.a.createElement("div",{className:"data-point-selector"},u.a.createElement(p.a,{value:V.seriesId,onChange:function(Le){return st(Le)}},V.crossDataset.map(function(Ot){var Le,Ft;return u.a.createElement(p.a.Option,{value:Ot.id,key:"".concat((Le=Ot.action)===null||Le===void 0?void 0:Le.id).concat(Ot.breakdown_value)},u.a.createElement(xn.b,{seriesColor:gn[Ot.id],action:Ot.action,breakdownValue:Ot.breakdown_value===""?"None":(Ft=Ot.breakdown_value)===null||Ft===void 0?void 0:Ft.toString(),showCountedByTag:ln,hasMultipleSeries:Rn}))}))),u.a.createElement("div",{className:"user-count-subheader"},u.a.createElement(Mt.IconPersonFilled,{style:{fontSize:"1.125rem",marginRight:"0.5rem"}}),u.a.createElement("span",null,"This list contains"," ",u.a.createElement("b",null,V.count," unique ",nt.plural),(Zt==null?void 0:Zt.pointValue)!==void 0&&(!(!((ft=Zt.action)===null||ft===void 0)&&ft.math)||((Be=Zt.action)===null||Be===void 0?void 0:Be.math)==="total")&&u.a.createElement(u.a.Fragment,null," ","who performed the event"," ",u.a.createElement("b",null,Zt.pointValue," total"," ",Object(ee.qb)(Zt.pointValue,"time",void 0,!1))),".")),V.count>0?u.a.createElement(Qt.a,{columns:[{title:"Person",key:"person",render:function(Le,Ft){return u.a.createElement(P,{actor:Ft})}},{width:0,title:"Recordings",key:"recordings",render:function(Le,Ft){var mn,hn;if(((mn=Ft.matched_recordings)===null||mn===void 0?void 0:mn.length)&&((hn=Ft.matched_recordings)===null||hn===void 0?void 0:hn.length)>0)return u.a.createElement(et,{sessionRecordings:Ft.matched_recordings,onOpenRecording:function(Ln){en(Ln.session_id)}})}}],className:"persons-table",rowKey:"id",expandable:{expandedRowRender:function(Le){var Ft=Le.properties;return Object.keys(Ft).length?u.a.createElement(y.a,{properties:Ft}):"This person has no properties."}},embedded:!0,showHeader:!1,dataSource:V.people,nouns:["person","persons"]}):u.a.createElement("div",{className:"person-row-container person-row"},"We couldn't find any matching ",nt.plural," for this data point."),(V==null?void 0:V.next)&&u.a.createElement("div",{style:{margin:"1rem",textAlign:"center"}},u.a.createElement(Ce.a,{type:"primary",style:{color:"white"},onClick:Pe,loading:He},"Load more ",nt.plural)))))}function P(Ye){var tt=Ye.actor;return Object(ee.W)(tt)?u.a.createElement("div",{key:tt.id,className:"person-row"},u.a.createElement("div",{className:"person-ids"},u.a.createElement("strong",null,u.a.createElement(cn.a,{actor:tt})))):u.a.createElement("div",{key:tt.id,className:"person-ids"},u.a.createElement("strong",null,u.a.createElement(we.a,{person:tt,withIcon:!1})),u.a.createElement(J.a,{explicitValue:tt.distinct_ids[0],iconStyle:{color:"var(--primary)"},iconPosition:"end",className:"text-small text-muted-alt"},Object(ee.kb)(tt.distinct_ids[0],32)))}try{sn.displayName="PersonsModal",sn.__docgenInfo={description:"",displayName:"PersonsModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onSaveCohort:{defaultValue:null,description:"",name:"onSaveCohort",required:!0,type:{name:"() => void"}},showModalActions:{defaultValue:{value:"true"},description:"",name:"showModalActions",required:!1,type:{name:"boolean"}},aggregationTargetLabel:{defaultValue:null,description:"",name:"aggregationTargetLabel",required:!0,type:{name:"{ singular: string; plural: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"]={docgenInfo:sn.__docgenInfo,name:"PersonsModal",path:"frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"})}catch(Ye){}try{P.displayName="ActorRow",P.__docgenInfo={description:"",displayName:"ActorRow",props:{actor:{defaultValue:null,description:"",name:"actor",required:!0,type:{name:"ActorType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"]={docgenInfo:P.__docgenInfo,name:"ActorRow",path:"frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"})}catch(Ye){}},"./frontend/src/scenes/trends/SaveCohortModal.tsx":function(k,g,e){"use strict";e.d(g,"a",function(){return Fe});var I=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),t=e.n(I),Ne=e("./node_modules/react/index.js"),h=e.n(Ne),je=e("./node_modules/antd/es/modal/index.js"),Xe=e("./node_modules/antd/es/input/index.js");function Fe(z){var n=z.onOk,u=z.onCancel,me=z.visible,D=Object(Ne.useState)(""),ne=t()(D,2),le=ne[0],Ce=ne[1];return h.a.createElement(je.a,{title:"New Cohort",okText:"Save",cancelText:"Cancel",onOk:function(){n(le),Ce("")},onCancel:u,visible:me},h.a.createElement("div",{className:"mb"},h.a.createElement(Xe.a,{required:!0,autoFocus:!0,placeholder:"Cohort name...",value:le,"data-attr":"cohort-name",onChange:function(G){return Ce(G.target.value)}})))}try{Fe.displayName="SaveCohortModal",Fe.__docgenInfo={description:"",displayName:"SaveCohortModal",props:{onOk:{defaultValue:null,description:"",name:"onOk",required:!0,type:{name:"(title: string) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"]={docgenInfo:Fe.__docgenInfo,name:"SaveCohortModal",path:"frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"})}catch(z){}},"./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js":function(k,g,e){"use strict";var I=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),t=e("./node_modules/react/index.js"),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},h=Ne,je=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(n,u){return t.createElement(je.a,Object(I.a)(Object(I.a)({},n),{},{ref:u,icon:h}))};Xe.displayName="BarChartOutlined";var Fe=g.a=t.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js":function(k,g,e){"use strict";var I=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),t=e("./node_modules/react/index.js"),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},h=Ne,je=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(n,u){return t.createElement(je.a,Object(I.a)(Object(I.a)({},n),{},{ref:u,icon:h}))};Xe.displayName="DownloadOutlined";var Fe=g.a=t.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(k,g,e){"use strict";var I=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),t=e("./node_modules/react/index.js"),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},h=Ne,je=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(n,u){return t.createElement(je.a,Object(I.a)(Object(I.a)({},n),{},{ref:u,icon:h}))};Xe.displayName="OrderedListOutlined";var Fe=g.a=t.forwardRef(Xe)},"./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js":function(k,g,e){"use strict";var I=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),t=e("./node_modules/react/index.js"),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},h=Ne,je=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Xe=function(n,u){return t.createElement(je.a,Object(I.a)(Object(I.a)({},n),{},{ref:u,icon:h}))};Xe.displayName="PercentageOutlined";var Fe=g.a=t.forwardRef(Xe)},"./node_modules/core-js/modules/es.regexp.flags.js":function(k,g,e){var I=e("./node_modules/core-js/internals/descriptors.js"),t=e("./node_modules/core-js/internals/object-define-property.js"),Ne=e("./node_modules/core-js/internals/regexp-flags.js"),h=e("./node_modules/core-js/internals/fails.js"),je=I&&h(function(){return Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});je&&t.f(RegExp.prototype,"flags",{configurable:!0,get:Ne})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/DropdownSelector/DropdownSelector.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.dropdown-selector{padding:.5rem;border:1px solid rgba(0,0,0,.08);border-radius:4px;display:flex;align-items:center;cursor:pointer}.dropdown-selector.disabled{color:rgba(0,0,0,.5);cursor:not-allowed}.dropdown-selector.compact{padding:.3333333333rem .5rem}.dropdown-selector .dropdown-arrow{display:flex;align-items:center;padding-left:4px;font-size:1.2em;color:#747ea1}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insight-legend-button{display:flex;align-items:center}.insight-legend-button .insight-legend-button-title{margin-left:.5rem;font-size:14px;font-weight:500}.insight-legend-menu{padding:1rem!important;box-shadow:none!important;border:1px solid rgba(0,0,0,.15);background-color:#fff;border-radius:4px;max-width:300px;width:100%;max-height:100%;overflow-y:auto;overflow-x:auto;display:flex;flex-direction:column}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item{width:100%}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item:not(:last-child){margin-bottom:.5rem}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner{cursor:pointer;display:flex;align-items:center}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner .insights-label{margin-left:.5rem;width:100%;font-size:.75rem}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PathCleanFilters/PathClean.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".regex-popup{max-width:350px;padding-left:8px;padding-right:8px}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.properties-table-key{min-width:12rem;display:flex;align-items:center;justify-content:space-between}.property-value-type{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:1.25rem;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;text-transform:uppercase;cursor:default}.property-value-type:not(:first-child){margin-left:.25rem}.properties-table-value{min-width:12rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;align-items:center}.properties-table-value .value-link>*{vertical-align:middle}.properties-table-value .value-link>svg{margin-left:.25rem;font-size:1rem}.properties-table-value .editable{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-color:#5375ff;text-decoration-color:#5375ff;cursor:pointer}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertyGroupFilters/PropertyGroupFilters.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-group-filters .property-group{background-color:#fafaf9;padding:.5rem;border-radius:4px;margin-top:1rem;margin-bottom:1rem}.property-group-title{margin-bottom:0;font-weight:600;font-size:12px;color:#000}.and-or-filter{font-weight:500}.and-or-filter-select{padding-top:.5rem;padding-bottom:.5rem}.and-or-filter-select .condition-text{font-weight:700;display:flex;width:40px;height:40px;margin-right:12px;justify-content:center;align-items:center;border-radius:4px;background-color:#f2f2f2;color:#35416b;font-size:12px}.and-or-filter-select .condition-text.selected{background-color:#5375ff;color:#fff}.and-or-filter-select .condition-option{background-color:#fff;padding:.5rem;margin-left:.5rem;margin-right:.5rem;border-radius:4px}.and-or-filter-select .ant-select-item-option-active:not(.ant-select-item-option-disabled){background:#e5ebff}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.column-configurator-modal .text-blue{color:#5375ff}.column-configurator-modal .column-display-item{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:4px;margin:2px 0}.column-configurator-modal .column-display-item:hover{background-color:#f2f2f2}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:rgba(0,0,0,.5);background-color:#f2f2f2}.column-configurator-modal .column-display-item.selected{background-color:#839af8}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/experimental/NPSPrompt.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.nps-prompt{background-color:#2c3035;border-radius:4px;padding:6px 1rem 1rem;color:hsla(0,0%,100%,.88);position:fixed;bottom:16px;right:16px;width:calc(100% - 32px);max-width:360px;z-index:5200;font-size:.85rem;text-align:center;transition:transform 1s ease-in-out;transform:translateY(0)}.nps-prompt.hide{transform:translateY(150%)}.nps-prompt .prompt-title{font-size:1rem;font-weight:700;margin-bottom:1rem;max-width:90%;margin-left:auto;margin-right:auto;padding-top:10px}.nps-prompt .nps-dismiss{position:absolute;top:6px;right:6px;cursor:pointer}.nps-prompt .nps-header{display:flex;align-items:center;margin-bottom:.5rem}.nps-prompt .nps-progress{flex-grow:1;display:flex;justify-content:center}.nps-prompt .nps-progress .pg-item{width:12px;height:12px;border-radius:50%;background-color:rgba(0,0,0,.15);margin-right:.5rem}.nps-prompt .nps-progress .pg-item:last-of-type{margin-right:0}.nps-prompt .nps-progress .pg-item.completed{background-color:#77b96c}.nps-prompt .question{text-align:left;padding-bottom:.5rem}.nps-prompt .action-buttons{width:200px;margin:0 auto;padding-top:.5rem}.nps-prompt .action-buttons .ant-btn{margin-bottom:.5rem;width:100%}.nps-prompt .ant-btn:not(.ant-btn-link){background-color:#0f0f0f;border:1px solid #000;color:hsla(0,0%,100%,.88)}.nps-prompt textarea{color:hsla(0,0%,100%,.88);background-color:#0f0f0f;border-color:#000}.nps-prompt .ant-btn-link span{color:hsla(0,0%,100%,.88);text-decoration:underline!important}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insights-graph-header.funnels{border-bottom:1px solid rgba(0,0,0,.15)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:#2d2d2d}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid #f7a501}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.15);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:rgba(0,0,0,.5)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:500}.funnel-correlation .correlation-feedback{margin-top:1rem}.funnel-correlation .correlation-feedback .ant-card-body{padding:.5rem 1rem}.funnel-correlation .correlation-feedback h4{padding:0;margin:0;font-weight:700;color:#747ea1}.funnel-correlation .correlation-feedback .emoji-button{margin-right:4px}.funnel-correlation .correlation-feedback .emoji-button:last-of-type{margin-right:0}.funnel-correlation .correlation-feedback .row-initial{display:flex;align-items:center}.funnel-correlation .correlation-feedback .row-initial .ant-col{text-align:right}.funnel-correlation .correlation-feedback .row-initial .ant-col:first-of-type{text-align:left}.funnel-correlation .correlation-feedback .close-button{color:rgba(0,0,0,.5)!important;cursor:pointer;z-index:5}.funnel-correlation .correlation-feedback .feedback-button{margin:1rem 0}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/Insight.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".insights-page .ant-card-bordered{border-radius:var(--radius);box-shadow:none;border:1px solid var(--border)}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insights-page .top-bar,.insights-page .top-bar .ant-tabs,.insights-page .top-bar .ant-tabs-nav-list{width:100%}.insights-page .top-bar .ant-btn-loading-icon{display:none}.insights-page .top-bar .ant-tabs-tab{padding:0}.insights-page .top-bar .ant-tabs-tab .ant-tabs-tab-btn,.insights-page .top-bar .ant-tabs-tab .ant-tabs-tab-btn .tab-text{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.insights-page .top-bar .ant-tabs-tab .ant-tabs-tab-btn .tab-text{padding-bottom:6px;color:inherit}.insights-page .insight-history-button{padding-right:0;padding-left:0;border-radius:0;border:0;border-bottom:2px solid transparent}.insights-page .insight-history-button.active{border-bottom:2px solid #5375ff}.insights-page .LastModified{margin-top:.5rem}.insights-page hr{margin:1rem 0}.insights-page .ant-tabs-tab .hotkey{margin-bottom:0;background-color:rgba(83,117,255,.1)!important;border-color:rgba(83,117,255,.1)!important}.insights-page .ant-tabs-tab .deprecated{color:rgba(0,0,0,.5)}.insights-page .ant-tabs-tab .deprecated .hotkey{margin-bottom:0;background-color:rgba(0,0,0,.1)!important;border-color:rgba(0,0,0,.15)!important;color:rgba(0,0,0,.5)}.insights-page .ant-tabs-tab.ant-tabs-tab-active .deprecated{color:#5375ff}.insights-page .ant-tabs-tab:not(.ant-tabs-tab-active):hover .hotkey{background-color:rgba(83,117,255,.2)!important}.insights-page .ant-tabs-tab:not(.ant-tabs-tab-active):hover .deprecated .hotkey{background-color:rgba(0,0,0,.2)!important}.insights-page .insight-controls{overflow:visible;position:relative;margin-bottom:1rem}.insights-page .insight-controls .ant-card-body{padding:.8rem 1rem}.insights-page .insights-graph-container{background:#fff;margin-bottom:1rem}.insights-page .insights-graph-container .ant-card-head{border-bottom:1px solid rgba(0,0,0,.15);min-height:unset;background-color:#fff;padding-left:1rem;padding-right:1rem}.insights-page .insights-graph-container .ant-card-head .ant-card-head-title{padding:0}.insights-page .insights-graph-container .ant-card-head .ant-card-head-title span.filter{font-size:14px}.insights-page .insights-graph-container .ant-card-head .ant-card-head-title span.filter:not(:last-child),.insights-page .insights-graph-container .ant-card-head .ant-card-head-title span.filter span.head-title-item{margin-right:.5rem}.insights-page .insights-graph-container .display-config-inner{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.insights-page .insights-graph-container .display-config-inner .display-config-inner-row{flex-wrap:wrap;display:flex;align-items:center;margin:.5rem 0}.insights-page .insights-graph-container .ant-card-body{padding:0}.insights-page .insights-graph-container .insights-graph-container-row .insights-graph-container-row-left{width:100%}.insights-page .insights-graph-container .insights-graph-container-row .insights-graph-container-row-right{width:100%;height:min(calc(90vh - 16rem),36rem);max-width:300px;padding:0 1rem 1rem 0;display:flex;align-items:center}.insights-page .insights-graph-container .graph-container{width:calc(100% - 3rem);height:calc(100% - 3rem)}.insights-page .insight-title-container{display:flex;align-items:center}.insights-page .insight-title-container .insight-title-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.insights-page .insights-tab-actions{margin-left:auto;padding-left:1rem;display:flex;flex-wrap:nowrap;justify-content:flex-end}.insights-page .action-filters-bordered .draggable-action-filter{border-bottom:1px solid rgba(0,0,0,.15);padding:1rem .25rem;margin-top:0}.insights-page .action-filters-bordered .row-action-btn{color:#35416b}.insights-page .advanced-options-dropdown{font-size:1.4em;color:#35416b}.insights-page .advanced-options-dropdown.expanded{transform:rotateX(180deg)}.insights-page .funnel-advanced-options .funnel-exclusions-filter .mt:first-of-type{margin-top:.5rem}.insights-page .retention-date-picker{background-color:transparent;border:0}.insights-page .retention-date-picker input::-moz-placeholder{color:#2d2d2d}.insights-page .retention-date-picker input:-ms-input-placeholder{color:#2d2d2d}.insights-page .retention-date-picker input::placeholder{color:#2d2d2d}.insights-page .insights-graph-header{margin-top:0!important;margin-bottom:0!important;padding-left:1rem;padding-right:1rem;min-height:48px}.insight-metadata-tags{margin-top:.5rem}.insight-metadata-tags .ant-tag{margin-top:0}.trends-insights-container{position:relative;min-height:min(calc(90vh - 16rem),36rem);display:flex;justify-content:center}.trends-insights-container .graph-container{height:calc(100% - 1rem)!important}.funnel-insights-container{padding:24px;background-color:#fff}.funnel-insights-container.no-padding{padding:0}.funnel-insights-container.non-empty-state{min-height:400px;position:relative;margin-bottom:0}.funnel-insights-container .ant-table-wrapper{margin-top:0!important}.funnel-tab-btn-popover .ant-popover-inner-content{padding:4px 15px}.funnel-tab-btn-popover .ant-popover-inner-content button.ant-btn-link{padding:0;margin:0 0 0 4px}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:4px;border:1px solid rgba(0,0,0,.15);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:#747ea1}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:#fafafa;text-transform:uppercase;color:rgba(0,0,0,.5)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation-table{margin-top:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;align-self:stretch;justify-content:space-between;align-content:space-between;border-top-left-radius:4px;border-top-right-radius:4px;padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:#2d2d2d;margin-left:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:#747ea1;cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:#747ea1}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/PathTab/PathTab.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.event-types .ant-row{padding:2px 10px}.tab-btn{padding-top:20px;padding-bottom:20px;display:flex;justify-content:center;align-items:center}.tab-btn.left{border-top-right-radius:0;border-bottom-right-radius:0}.tab-btn.center{border-radius:0}.tab-btn.right{border-top-left-radius:0;border-bottom-left-radius:0}.path-filters .ant-collapse>.ant-collapse-item>.ant-collapse-header{padding-left:0;color:#35416b;font-weight:600}.path-filters .ant-collapse-content>.ant-collapse-content-box{padding:0}.paths-endpoint-field .label-container{display:flex;width:100%;justify-content:space-between}.paths-endpoint-field .label{margin-left:4px;overflow:hidden;text-overflow:ellipsis}.paths-endpoint-field .close-button{cursor:pointer;padding-left:8px;align-self:center}.paths-endpoint-field .close-button:hover{border-radius:4px 4px 0 0;color:#000;z-index:999}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/RetentionTab.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.retention-tab .btn-retention-dropdown{display:flex}.retention-tab .dropdown-indicator{color:rgba(0,0,0,.5);padding-left:4px;margin-top:2px;color:#bdbdbd;margin-right:-6px}.retention-tab .dropdown-indicator svg{height:10px;width:10px;vertical-align:-webkit-baseline-middle}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/TrendTab/FunnelsCue.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnels-product-cue{margin-bottom:0;max-height:0;position:relative;overflow:hidden}.funnels-product-cue.shown{height:auto;max-height:600px;overflow:visible;margin-bottom:1rem}.funnels-product-cue .inline-message{border:1px solid #5375ff;background-color:#fff;max-width:800px}.funnels-product-cue .tooltip-arrow{position:absolute;bottom:-5px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #5375ff}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/TrendTab/TrendTab.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".toggles{text-transform:uppercase}.toggles div{font-size:12px;display:flex;justify-content:space-between;padding-bottom:4px;align-items:center}.toggles .new .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-new);background-color:var(--lifecycle-new)}.toggles .returning .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-returning);background-color:var(--lifecycle-returning)}.toggles .resurrecting .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-resurrecting);background-color:var(--lifecycle-resurrecting)}.toggles .dormant .ant-checkbox-checked .ant-checkbox-inner{border-color:var(--lifecycle-dormant);background-color:var(--lifecycle-dormant)}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-popup{z-index:1061}.session-recordings-popup .anticon-play-circle{color:#5375ff}.session-recordings-popup .session-recordings-popup-row{display:flex;align-items:center;padding:.5rem;font-weight:500;color:#2d2d2d}.session-recordings-popup .session-recordings-popup-row:hover{color:#5375ff}.session-recordings-popup .session-recordings-popup-row .anticon{font-size:1.25rem;margin-right:.5rem}.session-recordings-button .anticon-play-circle{color:#5375ff}.session-recordings-button .session-recordings-button__indicator{font-size:12px;color:rgba(0,0,0,.5)}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),k.exports=g},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss":function(k,g,e){var I=e("./node_modules/css-loader/dist/runtime/api.js");g=I(!1),g.push([k.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.person-modal .ant-modal-header{padding:1rem}.person-modal .ant-modal-title{overflow:hidden;text-overflow:ellipsis}.person-modal .ant-modal-content{overflow:hidden}.person-modal .ant-modal-body{padding:0;max-height:60vh;overflow-y:auto}.person-modal .ant-modal-footer .ant-btn{color:#5375ff}.person-modal .ant-input-search{padding:1rem}.person-modal .persons-table{border-top:1px solid var(--border);border-bottom:1px solid var(--border)}.person-modal .person-ids{display:flex;flex-direction:column}.person-modal .user-count-subheader{padding:.5rem 1rem;color:var(--muted-alt)}.person-modal .user-count-subheader>*{vertical-align:middle}.person-modal .person-row-container{padding:.5rem 1rem}.person-modal .data-point-selector{padding:.5rem 1rem;border-bottom:1px solid var(--border)}.person-modal .data-point-selector .ant-select{display:block;width:100%}",""]),k.exports=g}}]);
