(window.webpackJsonp=window.webpackJsonp||[]).push([[278],{"./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ProjectHomePageCompactListItem}));var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"));function ProjectHomePageCompactListItem(_ref){let{to:to,onClick:onClick,title:title,subtitle:subtitle,prefix:prefix,suffix:suffix}=_ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonButton,{fullWidth:!0,to:to,onClick:onClick,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"flex items-center justify-between h-10 overflow-hidden gap-2 flex-1",children:[prefix?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"shrink-0",children:prefix}):null,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"truncate space-y-1 flex-1",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"text-primary font-semibold truncate",children:title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"truncate text-default font-normal",children:subtitle})]}),suffix?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"shrink-0",children:suffix}):null]})})}try{ProjectHomePageCompactListItem.displayName="ProjectHomePageCompactListItem",ProjectHomePageCompactListItem.__docgenInfo={description:"",displayName:"ProjectHomePageCompactListItem",props:{to:{defaultValue:null,description:"URL to link to.",name:"to",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!0,type:{name:"string"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!1,type:{name:"ReactNode"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx#ProjectHomePageCompactListItem"]={docgenInfo:ProjectHomePageCompactListItem.__docgenInfo,name:"ProjectHomePageCompactListItem",path:"frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx#ProjectHomePageCompactListItem"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__),options={insert:"head",singleton:!1};_node_modules_pnpm_style_loader_2_0_0_webpack_4_46_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default.a,options),_node_modules_pnpm_css_loader_3_6_0_webpack_4_46_0_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_4_18_webpack_4_46_0_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_4_46_0_node_modules_sass_loader_dist_cjs_js_ref_6_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default.a.locals},"./frontend/src/scenes/project-homepage/ProjectHomepage.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ProjectHomepage",(function(){return ProjectHomepage_ProjectHomepage})),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene}));var react=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),PageHeader=(__webpack_require__("./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),__webpack_require__("./frontend/src/lib/components/PageHeader.tsx")),Dashboard=__webpack_require__("./frontend/src/scenes/dashboard/Dashboard.tsx"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),teamLogic=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),types=__webpack_require__("./frontend/src/types.ts"),inviteLogic=__webpack_require__("./frontend/src/scenes/organization/Settings/inviteLogic.ts"),LemonDivider=__webpack_require__("./frontend/src/lib/lemon-ui/LemonDivider/index.ts"),dashboardsModel=__webpack_require__("./frontend/src/models/dashboardsModel.tsx"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),fuse_esm=__webpack_require__("./node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),eventUsageLogic=__webpack_require__("./frontend/src/lib/utils/eventUsageLogic.ts");const primaryDashboardModalLogic=Object(index_esm.kea)({path:["scenes","project-homepage","primaryDashboardModalLogic"],connect:{logic:[eventUsageLogic.e],actions:[teamLogic.b,["updateCurrentTeam"]],values:[teamLogic.b,["currentTeam"]]},actions:{showPrimaryDashboardModal:()=>!0,closePrimaryDashboardModal:()=>!0,setPrimaryDashboard:dashboardId=>({dashboardId:dashboardId}),setSearchTerm:searchTerm=>({searchTerm:searchTerm})},selectors:{primaryDashboardId:[s=>[s.currentTeam],currentTeam=>null==currentTeam?void 0:currentTeam.primary_dashboard],dashboards:[selectors=>[dashboardsModel.a.selectors.nameSortedDashboards,selectors.searchTerm],(dashboards,searchTerm)=>(dashboards=dashboards.filter((d=>!d.deleted)).sort(((a,b)=>{var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")})),searchTerm?new fuse_esm.a(dashboards,{keys:["key","name","description","tags"],threshold:.3}).search(searchTerm).map((result=>result.item)):dashboards)]},reducers:{searchTerm:{setSearchTerm:(_,_ref)=>{let{searchTerm:searchTerm}=_ref;return searchTerm}},isOpen:[!1,{showPrimaryDashboardModal:()=>!0,closePrimaryDashboardModal:()=>!1}]},listeners:_ref2=>{let{actions:actions}=_ref2;return{setPrimaryDashboard:async _ref3=>{let{dashboardId:dashboardId}=_ref3;actions.updateCurrentTeam({primary_dashboard:dashboardId}),eventUsageLogic.e.actions.reportPrimaryDashboardChanged()},showPrimaryDashboardModal:async()=>{eventUsageLogic.e.actions.reportPrimaryDashboardModalOpened()}}}});var icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),LemonRow=__webpack_require__("./frontend/src/lib/lemon-ui/LemonRow/index.ts"),LemonModal=__webpack_require__("./frontend/src/lib/lemon-ui/LemonModal/index.ts"),LemonSkeleton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSkeleton/index.tsx"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function PrimaryDashboardModal(){const{isOpen:isOpen,primaryDashboardId:primaryDashboardId,dashboards:dashboards,searchTerm:searchTerm}=Object(index_esm.useValues)(primaryDashboardModalLogic),{closePrimaryDashboardModal:closePrimaryDashboardModal,setPrimaryDashboard:setPrimaryDashboard,setSearchTerm:setSearchTerm}=Object(index_esm.useActions)(primaryDashboardModalLogic),{dashboardsLoading:dashboardsLoading}=Object(index_esm.useValues)(dashboardsModel.a);return Object(jsx_runtime.jsx)(LemonModal.a,{isOpen:isOpen,onClose:closePrimaryDashboardModal,title:"Select a default dashboard for the project",footer:Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)(LemonButton.a,{type:"secondary","data-attr":"close-primary-dashboard-modal",onClick:closePrimaryDashboardModal,children:"Close"})}),children:dashboardsLoading?Object(jsx_runtime.jsx)("div",{className:"space-y-2",children:Object(jsx_runtime.jsx)(LemonSkeleton.a.Row,{repeat:4})}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(src.LemonInput,{type:"search",placeholder:"Search for dashboards",onChange:setSearchTerm,value:searchTerm,fullWidth:!0,allowClear:!0,className:"mb-4"}),Object(jsx_runtime.jsx)(src.LemonDivider,{}),Object(jsx_runtime.jsx)("div",{className:"space-y-2 min-h-100",children:dashboards.map((dashboard=>{const isPrimary=dashboard.id===primaryDashboardId,rowContents=Object(jsx_runtime.jsxs)("div",{className:"flex flex-1 items-center justify-between overflow-hidden",children:[Object(jsx_runtime.jsxs)("div",{className:"flex-1 flex flex-col justify-center overflow-hidden",children:[Object(jsx_runtime.jsx)("strong",{children:dashboard.name}),Object(jsx_runtime.jsx)("span",{className:"text-default font-normal text-ellipsis",children:dashboard.description})]}),isPrimary?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(icons.L,{className:"mr-2 text-warning text-lg"}),Object(jsx_runtime.jsx)("span",{children:"Default"})]}):Object(jsx_runtime.jsx)("strong",{className:"set-default-text",children:"Set as default"})]});return isPrimary?Object(jsx_runtime.jsx)(LemonRow.a,{fullWidth:!0,status:"muted",className:"dashboard-row",children:rowContents},dashboard.id):Object(jsx_runtime.jsx)(LemonButton.a,{fullWidth:!0,className:"dashboard-row",onClick:()=>{setPrimaryDashboard(dashboard.id),setSearchTerm(""),closePrimaryDashboardModal()},children:rowContents},dashboard.id)}))})]})})}var projectHomepageLogic=__webpack_require__("./frontend/src/scenes/project-homepage/projectHomepageLogic.tsx"),dayjs=__webpack_require__("./frontend/src/lib/dayjs.ts"),CompactList=__webpack_require__("./frontend/src/lib/components/CompactList/CompactList.tsx"),ProfilePicture=__webpack_require__("./frontend/src/lib/lemon-ui/ProfilePicture/index.ts"),PersonHeader=__webpack_require__("./frontend/src/scenes/persons/PersonHeader.tsx"),sessionRecordingsListLogic=__webpack_require__("./frontend/src/scenes/session-recordings/playlist/sessionRecordingsListLogic.ts"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),SessionPlayerModal=__webpack_require__("./frontend/src/scenes/session-recordings/player/modal/SessionPlayerModal.tsx"),sessionPlayerModalLogic=__webpack_require__("./frontend/src/scenes/session-recordings/player/modal/sessionPlayerModalLogic.ts"),ProjectHomePageCompactListItem=__webpack_require__("./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx");function RecordingRow(_ref){let{recording:recording}=_ref;const{openSessionPlayer:openSessionPlayer}=Object(index_esm.useActions)(sessionPlayerModalLogic.a),{reportRecordingOpenedFromRecentRecordingList:reportRecordingOpenedFromRecentRecordingList}=Object(index_esm.useActions)(eventUsageLogic.e);return Object(jsx_runtime.jsx)(ProjectHomePageCompactListItem.a,{title:Object(PersonHeader.b)(recording.person),subtitle:`Recorded ${Object(dayjs.a)(recording.start_time).fromNow()}`,prefix:Object(jsx_runtime.jsx)(ProfilePicture.b,{name:Object(PersonHeader.b)(recording.person)}),suffix:Object(jsx_runtime.jsxs)("div",{className:"flex items-center justify-end text-default",children:[Object(jsx_runtime.jsx)("span",{children:Object(utils.O)(recording.recording_duration)}),Object(jsx_runtime.jsx)(icons.pc,{className:"text-2xl ml-2"})]}),onClick:()=>{openSessionPlayer({id:recording.id,matching_events:recording.matching_events}),reportRecordingOpenedFromRecentRecordingList()}})}function RecentRecordings(){const{currentTeam:currentTeam}=Object(index_esm.useValues)(teamLogic.b),sessionRecordingsListLogicInstance=Object(sessionRecordingsListLogic.e)({key:"projectHomepage"}),{sessionRecordings:sessionRecordings,sessionRecordingsResponseLoading:sessionRecordingsResponseLoading}=Object(index_esm.useValues)(sessionRecordingsListLogicInstance);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(SessionPlayerModal.a,{}),Object(jsx_runtime.jsx)(CompactList.a,{title:"Recent recordings",viewAllURL:urls.a.sessionRecordings(),loading:sessionRecordingsResponseLoading,emptyMessage:null!=currentTeam&&currentTeam.session_recording_opt_in?{title:"There are no recordings for this project",description:"Make sure you have the javascript snippet setup in your website.",buttonText:"Learn more",buttonTo:"https://posthog.com/docs/user-guides/recordings"}:{title:"Recordings are not enabled for this project",description:"Once recordings are enabled, new recordings will display here.",buttonText:"Enable recordings",buttonTo:urls.a.projectSettings()+"#recordings"},items:sessionRecordings.slice(0,5),renderRow:(recording,index)=>Object(jsx_runtime.jsx)(RecordingRow,{recording:recording},index)})]})}try{RecordingRow.displayName="RecordingRow",RecordingRow.__docgenInfo={description:"",displayName:"RecordingRow",props:{recording:{defaultValue:null,description:"",name:"recording",required:!0,type:{name:"SessionRecordingType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project-homepage/RecentRecordings.tsx#RecordingRow"]={docgenInfo:RecordingRow.__docgenInfo,name:"RecordingRow",path:"frontend/src/scenes/project-homepage/RecentRecordings.tsx#RecordingRow"})}catch(__react_docgen_typescript_loader_error){}var RecentInsights=__webpack_require__("./frontend/src/scenes/project-homepage/RecentInsights.tsx");function PersonRow(_ref){let{person:person}=_ref;const{reportPersonOpenedFromNewlySeenPersonsList:reportPersonOpenedFromNewlySeenPersonsList}=Object(index_esm.useActions)(eventUsageLogic.e);return Object(jsx_runtime.jsx)(ProjectHomePageCompactListItem.a,{to:urls.a.person(person.distinct_ids[0]),title:Object(PersonHeader.b)(person),subtitle:`First seen ${Object(dayjs.a)(person.created_at).fromNow()}`,prefix:Object(jsx_runtime.jsx)(ProfilePicture.b,{name:Object(PersonHeader.b)(person)}),onClick:()=>{reportPersonOpenedFromNewlySeenPersonsList()}})}function NewlySeenPersons(){const{persons:persons,personsLoading:personsLoading}=Object(index_esm.useValues)(projectHomepageLogic.a);return Object(jsx_runtime.jsx)(CompactList.a,{title:"Newly seen persons",viewAllURL:urls.a.persons(),loading:personsLoading,emptyMessage:{title:"There are no newly seen persons",description:"Learn more about identifying persons and ingesting data in the documentation.",buttonText:"Documentation",buttonTo:"https://posthog.com/docs/integrate/identifying-users"},items:persons.slice(0,5),renderRow:(person,index)=>Object(jsx_runtime.jsx)(PersonRow,{person:person},index)})}var dist_module=__webpack_require__("./node_modules/.pnpm/@react-hook+size@2.1.2_react@16.14.0/node_modules/@react-hook/size/dist/module/index.js"),SavedInsights=__webpack_require__("./frontend/src/scenes/saved-insights/SavedInsights.tsx"),dashboardLogic=__webpack_require__("./frontend/src/scenes/dashboard/dashboardLogic.tsx"),featureFlagLogic=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),constants=__webpack_require__("./frontend/src/lib/constants.tsx");function ProjectHomepage_ProjectHomepage(){const{dashboardLogicProps:dashboardLogicProps}=Object(index_esm.useValues)(projectHomepageLogic.a),{currentTeam:currentTeam}=Object(index_esm.useValues)(teamLogic.b),{allItems:dashboard}=Object(index_esm.useValues)(Object(dashboardLogic.f)(dashboardLogicProps)),{showInviteModal:showInviteModal}=Object(index_esm.useActions)(inviteLogic.a),{showPrimaryDashboardModal:showPrimaryDashboardModal}=Object(index_esm.useActions)(primaryDashboardModalLogic),{featureFlags:featureFlags}=Object(index_esm.useValues)(featureFlagLogic.a),topListContainerRef=Object(react.useRef)(null),[topListContainerWidth]=Object(dist_module.a)(topListContainerRef),headerButtons=Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(LemonButton.a,{"data-attr":"project-home-invite-team-members",onClick:()=>{showInviteModal()},type:"secondary",children:"Invite members"}),Object(jsx_runtime.jsx)(SavedInsights.NewInsightButton,{dataAttr:"project-home-new-insight"})]});return Object(jsx_runtime.jsxs)("div",{className:"project-homepage",children:[!featureFlags[constants.i.POSTHOG_3000]&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(PageHeader.a,{title:(null==currentTeam?void 0:currentTeam.name)||"",delimited:!0,buttons:headerButtons}),Object(jsx_runtime.jsxs)("div",{ref:topListContainerRef,className:topListContainerWidth&&topListContainerWidth<600?"top-list-container-vertical":"top-list-container-horizontal",children:[Object(jsx_runtime.jsx)("div",{className:"top-list",children:Object(jsx_runtime.jsx)(RecentInsights.b,{})}),Object(jsx_runtime.jsx)("div",{className:"spacer"}),Object(jsx_runtime.jsx)("div",{className:"top-list",children:Object(jsx_runtime.jsx)(NewlySeenPersons,{})}),Object(jsx_runtime.jsx)("div",{className:"spacer"}),Object(jsx_runtime.jsx)("div",{className:"top-list",children:Object(jsx_runtime.jsx)(RecentRecordings,{})})]})]}),null!=currentTeam&&currentTeam.primary_dashboard?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[!featureFlags[constants.i.POSTHOG_3000]&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{className:"homepage-dashboard-header",children:[Object(jsx_runtime.jsxs)("div",{className:"dashboard-title-container",children:[!dashboard&&Object(jsx_runtime.jsx)(LemonSkeleton.a,{className:"w-20"}),(null==dashboard?void 0:dashboard.name)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(icons.L,{className:"mr-2 text-warning text-2xl"}),Object(jsx_runtime.jsx)(src.Link,{className:"font-semibold text-xl text-default",to:urls.a.dashboard(dashboard.id),children:null==dashboard?void 0:dashboard.name})]})]}),Object(jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[Object(jsx_runtime.jsx)(LemonButton.a,{type:"secondary","data-attr":"project-home-new-insight",onClick:showPrimaryDashboardModal,children:"Change dashboard"}),featureFlags[constants.i.POSTHOG_3000]&&headerButtons]})]}),Object(jsx_runtime.jsx)(LemonDivider.a,{className:"my-4"})]}),Object(jsx_runtime.jsx)(Dashboard.Dashboard,{id:currentTeam.primary_dashboard.toString(),placement:types.n.ProjectHomepage})]}):Object(jsx_runtime.jsxs)("div",{className:"empty-state-container",children:[Object(jsx_runtime.jsx)(icons.L,{className:"mb-2 text-warning",style:{fontSize:"2rem"}}),Object(jsx_runtime.jsx)("h1",{children:"There isn’t a default dashboard set for this project"}),Object(jsx_runtime.jsx)("p",{className:"mb-4",children:"Default dashboards are shown to everyone in the project. When you set a default, it’ll show up here."}),Object(jsx_runtime.jsx)(LemonButton.a,{type:"primary","data-attr":"project-home-new-insight",onClick:()=>{showPrimaryDashboardModal()},children:"Select a default dashboard"})]}),Object(jsx_runtime.jsx)(PrimaryDashboardModal,{})]})}const scene={component:ProjectHomepage_ProjectHomepage,logic:projectHomepageLogic.a}},"./frontend/src/scenes/project-homepage/RecentInsights.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InsightRow})),__webpack_require__.d(__webpack_exports__,"b",(function(){return RecentInsights}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),kea__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js")),lib_dayjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/dayjs.ts"),lib_components_CompactList_CompactList__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/components/CompactList/CompactList.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/urls.ts"),scenes_saved_insights_SavedInsights__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/scenes/saved-insights/SavedInsights.tsx"),_projectHomepageLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/scenes/project-homepage/projectHomepageLogic.tsx"),lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/lib/utils/eventUsageLogic.ts"),_ProjectHomePageCompactListItem__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/scenes/project-homepage/ProjectHomePageCompactListItem.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function InsightRow(_ref){let{insight:insight}=_ref;const{reportInsightOpenedFromRecentInsightList:reportInsightOpenedFromRecentInsightList}=Object(kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(lib_utils_eventUsageLogic__WEBPACK_IMPORTED_MODULE_8__.e);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_ProjectHomePageCompactListItem__WEBPACK_IMPORTED_MODULE_9__.a,{title:insight.name||insight.derived_name||"Insight",subtitle:`Last modified ${Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_3__.a)(insight.last_modified_at).fromNow()}`,prefix:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(scenes_saved_insights_SavedInsights__WEBPACK_IMPORTED_MODULE_6__.InsightIcon,{insight:insight}),to:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.a.insightView(insight.short_id),onClick:()=>{reportInsightOpenedFromRecentInsightList()}})}function RecentInsights(){const{recentInsights:recentInsights,recentInsightsLoading:recentInsightsLoading}=Object(kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_projectHomepageLogic__WEBPACK_IMPORTED_MODULE_7__.a),{loadRecentInsights:loadRecentInsights}=Object(kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(_projectHomepageLogic__WEBPACK_IMPORTED_MODULE_7__.a);return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{loadRecentInsights()}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_components_CompactList_CompactList__WEBPACK_IMPORTED_MODULE_4__.a,{title:"Your recently viewed insights",viewAllURL:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.a.savedInsights(),loading:recentInsightsLoading,emptyMessage:{title:"You have no recently viewed insights",description:"Explore this project's insights by clicking below.",buttonText:"View insights",buttonTo:scenes_urls__WEBPACK_IMPORTED_MODULE_5__.a.savedInsights()},items:recentInsights.slice(0,5),renderRow:(insight,index)=>Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(InsightRow,{insight:insight},index)})})}try{InsightRow.displayName="InsightRow",InsightRow.__docgenInfo={description:"",displayName:"InsightRow",props:{insight:{defaultValue:null,description:"",name:"insight",required:!0,type:{name:"InsightModel"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project-homepage/RecentInsights.tsx#InsightRow"]={docgenInfo:InsightRow.__docgenInfo,name:"InsightRow",path:"frontend/src/scenes/project-homepage/RecentInsights.tsx#InsightRow"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/project-homepage/projectHomepageLogic.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return projectHomepageLogic}));var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/scenes/teamLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/types.ts"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/api.ts"),kea_loaders__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),lib_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/lib/constants.tsx");const projectHomepageLogic=Object(kea__WEBPACK_IMPORTED_MODULE_0__.kea)([Object(kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","project-homepage","projectHomepageLogic"]),Object(kea__WEBPACK_IMPORTED_MODULE_0__.connect)({values:[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_1__.b,["currentTeamId","currentTeam"],lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_5__.a,["featureFlags"]]}),Object(kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({primaryDashboardId:[()=>[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_1__.b.selectors.currentTeam],currentTeam=>null==currentTeam?void 0:currentTeam.primary_dashboard],dashboardLogicProps:[s=>[s.primaryDashboardId],primaryDashboardId=>({id:null!=primaryDashboardId?primaryDashboardId:void 0,placement:_types__WEBPACK_IMPORTED_MODULE_2__.n.ProjectHomepage})],allowQueryInsights:[s=>[s.featureFlags],featureFlags=>!!featureFlags[lib_constants__WEBPACK_IMPORTED_MODULE_6__.i.HOGQL]]}),Object(kea_loaders__WEBPACK_IMPORTED_MODULE_4__.loaders)((_ref=>{let{values:values}=_ref;return{recentInsights:[[],{loadRecentInsights:async()=>await lib_api__WEBPACK_IMPORTED_MODULE_3__.b.get(`api/projects/${values.currentTeamId}/insights/my_last_viewed?include_query_insights=${values.allowQueryInsights}`)}],persons:[[],{loadPersons:async()=>(await lib_api__WEBPACK_IMPORTED_MODULE_3__.b.persons.list()).results}]}})),Object(kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)((_ref2=>{let{actions:actions}=_ref2;actions.loadPersons()}))])},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@4.46.0/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".project-homepage .homepage-dashboard-header{margin-top:1rem;display:flex;justify-content:space-between;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container{display:flex;flex-direction:row;align-items:center}.project-homepage .homepage-dashboard-header .dashboard-title-container .ant-skeleton{width:300px}.project-homepage .homepage-dashboard-header .dashboard-title-container .ant-skeleton h3{margin:0}.project-homepage .top-list-container-horizontal{display:flex}.project-homepage .top-list-container-horizontal .top-list{margin-bottom:1.5rem;width:33%}.project-homepage .top-list-container-horizontal .spacer{width:1rem}.project-homepage .top-list-container-vertical{margin-bottom:1.5rem}.project-homepage .top-list-container-vertical .spacer{height:1rem}.project-homepage .empty-state-container{background-color:var(--side);width:100%;justify-content:center;align-items:center;padding:4rem;display:flex;flex-direction:column}",""]),module.exports=exports}}]);