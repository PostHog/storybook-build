"use strict";(self.webpackChunk_posthog_frontend=self.webpackChunk_posthog_frontend||[]).push([[18974],{"./src/scenes/settings/SettingsScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SettingsScene:()=>SettingsScene,scene:()=>scene});var index_esm=__webpack_require__("../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function useAnchor(hash){(0,react.useEffect)(()=>{hash&&document.getElementById(hash.slice(1))&&setTimeout(()=>{let element=document.getElementById(hash.slice(1));element&&(element.classList.add("highlighted"),element.scrollIntoView())},1e3/60)},[hash])}var Settings=__webpack_require__("./src/scenes/settings/Settings.tsx"),constants=__webpack_require__("./src/lib/constants.tsx"),featureFlagLogic=__webpack_require__("./src/lib/logic/featureFlagLogic.ts"),utils=__webpack_require__("./src/lib/utils.tsx"),copyToClipboard=__webpack_require__("./src/lib/utils/copyToClipboard.tsx"),sceneTypes=__webpack_require__("./src/scenes/sceneTypes.ts"),urls=__webpack_require__("./src/scenes/urls.ts"),settingsLogic=__webpack_require__("./src/scenes/settings/settingsLogic.ts");let SettingLevelIds=["environment","project","organization","user"],settingsSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","settings","settingsSceneLogic"]),(0,index_esm.connect)(()=>({values:[featureFlagLogic.h,["featureFlags"],(0,settingsLogic.h)({logicKey:"settingsScene"}),["selectedLevel","selectedSectionId","sections","settings","sections"]],actions:[(0,settingsLogic.h)({logicKey:"settingsScene"}),["selectLevel","selectSection","selectSetting"]]})),(0,index_esm.selectors)({breadcrumbs:[s=>[s.selectedLevel,s.selectedSectionId,s.sections],(selectedLevel,selectedSectionId,sections)=>[{key:sceneTypes.x.Settings,name:"Settings",path:urls.j.settings("project")},{key:[sceneTypes.x.Settings,selectedSectionId||selectedLevel],name:selectedSectionId?sections.find(x=>x.id===selectedSectionId)?.title:(0,utils.fm)(selectedLevel)}]]}),(0,index_esm.listeners)(_ref=>{let{values}=_ref;return{async selectSetting(_ref2){var _values$selectedSecti;let{setting}=_ref2,url=urls.j.absolute(urls.j.currentProject(urls.j.settings(null!==(_values$selectedSecti=values.selectedSectionId)&&void 0!==_values$selectedSecti?_values$selectedSecti:values.selectedLevel,setting)));await (0,copyToClipboard.v)(url)}}}),(0,lib.urlToAction)(_ref3=>{let{actions,values}=_ref3;return{"/settings/:section":_ref4=>{let{section}=_ref4;section&&(section.endsWith("-details")||section.endsWith("-danger-zone")||(section=values.featureFlags[constants.y8.ENVIRONMENTS]?section.replace(/^project/,"environment"):section.replace(/^environment/,"project")),SettingLevelIds.includes(section)?(section!==values.selectedLevel||values.selectedSectionId)&&actions.selectLevel(section):section!==values.selectedSectionId&&actions.selectSection(section,values.sections.find(x=>x.id===section)?.level||"user"))}}}),(0,lib.actionToUrl)(_ref5=>{let{values}=_ref5;return{selectLevel(_ref6){let{level}=_ref6;return[urls.j.settings(level),lib.router.values.searchParams,lib.router.values.hashParams,{replace:!0}]},selectSection(_ref7){let{section}=_ref7;return[urls.j.settings(section),lib.router.values.searchParams,lib.router.values.hashParams,{replace:!0}]},selectSetting(_ref8){var _values$selectedSecti2;let{setting}=_ref8;return[urls.j.settings(null!==(_values$selectedSecti2=values.selectedSectionId)&&void 0!==_values$selectedSecti2?_values$selectedSecti2:values.selectedLevel,setting),void 0,void 0,{replace:!0}]}}})]);var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:SettingsScene,logic:settingsSceneLogic};function SettingsScene(){let{location}=(0,index_esm.useValues)(lib.router);return useAnchor(location.hash),(0,jsx_runtime.jsx)(Settings.Z,{logicKey:"settingsScene",handleLocally:!0})}}}]);