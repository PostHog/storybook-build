(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{"./frontend/src/lib/api.mock.ts":function(z,p,e){"use strict";e.d(p,"a",function(){return H});var A=e("./node_modules/core-js/modules/es.array.concat.js"),w=e.n(A),B=e("./node_modules/core-js/modules/es.array.includes.js"),D=e.n(B),v=e("./node_modules/core-js/modules/es.array.join.js"),G=e.n(v),M=e("./node_modules/core-js/modules/es.function.name.js"),k=e.n(M),R=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),K=e.n(R),r=e("./node_modules/@babel/runtime/regenerator/index.js"),_=e.n(r),U=e("./node_modules/regenerator-runtime/runtime.js"),V=e.n(U),q=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),c=e.n(q),E=e("./frontend/src/lib/api.ts"),$=e("./node_modules/kea-router/lib/index.js"),N=e.n($),L=e("./frontend/src/lib/constants.tsx");function W(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),n.push.apply(n,s)}return n}function P(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?W(Object(n),!0).forEach(function(s){K()(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function h(t,a){var n;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=I(t))||a&&t&&typeof t.length=="number"){n&&(t=n);var s=0,d=function(){};return{s:d,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(m){throw m},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,y=!1,X;return{s:function(){n=t[Symbol.iterator]()},n:function(){var m=n.next();return l=m.done,m},e:function(m){y=!0,X=m},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(y)throw X}}}}function I(t,a){if(!!t){if(typeof t=="string")return T(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,a)}}function T(t,a){(a==null||a>t.length)&&(a=t.length);for(var n=0,s=new Array(a);n<a;n++)s[n]=t[n];return s}var b;(function(t){t.Create="create",t.Get="get",t.Update="update",t.Delete="delete"})(b||(b={}));var ee=[b.Create,b.Get,b.Update,b.Delete],f=997,Y="ABCD",H=E.a,te={id:f,ingested_event:!0,completed_snippet_onboarding:!0,effective_membership_level:L.s.Admin},ae={id:Y,membership_level:L.s.Admin},J=function(a,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];beforeEach(c()(_.a.mark(function d(){var l,y,X,O,m,i;return _.a.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:l=h(ee);try{for(X=function(){var re=y.value;H[re].mockImplementation(function(){var ce=c()(_.a.mark(function de(ie,se){var F,x;return _.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return x=P(P({},Object($.combineUrl)(ie)),{},{data:se,method:re}),o.next=3,a==null?void 0:a(x);case 3:if(o.t1=F=o.sent,o.t0=o.t1!==null,!o.t0){o.next=7;break}o.t0=F!==void 0;case 7:if(!o.t0){o.next=11;break}o.t2=F,o.next=12;break;case 11:o.t2=g(x,s);case 12:return o.abrupt("return",o.t2);case 13:case"end":return o.stop()}},de)}));return function(de,ie){return ce.apply(this,arguments)}}())},l.s();!(y=l.n()).done;)X()}catch(le){l.e(le)}finally{l.f()}for(O=function(){var re=i[m];H[re]=new Proxy({},{get:function(de,ie){var se,F=[re,ie].join(".");return(n==null||(se=n.constructor)===null||se===void 0?void 0:se.name)==="AsyncFunction"?c()(_.a.mark(function x(){var Q,o,S,oe,ue=arguments;return _.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:for(o=ue.length,S=new Array(o),oe=0;oe<o;oe++)S[oe]=ue[oe];return u.next=3,n==null?void 0:n(F,S);case 3:if(u.t1=Q=u.sent,u.t0=u.t1!==null,!u.t0){u.next=7;break}u.t0=Q!==void 0;case 7:if(!u.t0){u.next=11;break}u.t2=Q,u.next=12;break;case 11:u.t2=C(F,S);case 12:return u.abrupt("return",u.t2);case 13:case"end":return u.stop()}},x)})):function(){for(var x,Q=arguments.length,o=new Array(Q),S=0;S<Q;S++)o[S]=arguments[S];return(x=n==null?void 0:n(F,o))!==null&&x!==void 0?x:C(F,o)}}})},m=0,i=["actions","cohorts","pluginLogs","events","eventDefinitions","propertyDefinitions"];m<i.length;m++)O();case 4:case"end":return ne.stop()}},d)})))};function g(t){var a=t.pathname,n=t.searchParams,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=P(P({},ae),{},{available_features:s});if(a==="_preflight/")return{};if(a==="api/users/@me/")return{organization:d,team:te};if(a==="api/projects/@current")return te;if(a==="api/organizations/@current")return d;if(["api/projects/".concat(f,"/actions/"),"api/projects/".concat(f,"/annotations/"),"api/projects/".concat(f,"/event_definitions/"),"api/projects/".concat(f,"/dashboards/"),"api/projects/".concat(f,"/dashboards"),"api/projects/".concat(f,"/groups/"),"api/projects/".concat(f,"/insights/"),"api/projects/".concat(f,"/annotations/"),"api/projects/".concat(f,"/property_definitions/")].includes(a))return{results:[],next:null};j("Unmocked fetch to: ".concat(a," with params: ").concat(JSON.stringify(n)))}function C(t,a){if(["actions.list","cohorts.list","events.list","eventDefinitions.list","propertyDefinitions.list"].includes(t))return{results:[],next:null};j("Unmocked API call on: api.".concat(t,"() with args: ").concat(JSON.stringify(a)))}function j(t){throw console.error(t),new Error(t)}},"./frontend/src/lib/components/PayGatePage/PayGatePage.tsx":function(z,p,e){"use strict";e.d(p,"a",function(){return c});var A=e("./node_modules/core-js/modules/es.array.concat.js"),w=e("./node_modules/kea/lib/index.esm.js"),B=e("./node_modules/react/index.js"),D=e.n(B),v=e("./frontend/src/lib/components/LinkButton.tsx"),G=e("./frontend/src/scenes/userLogic.tsx"),M=e("./frontend/src/lib/utils.tsx"),k=e("./frontend/src/lib/components/icons.tsx"),R=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),K=e.n(R),r=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss"),_=e.n(r),U={};U.insert="head",U.singleton=!1;var V=K()(_.a,U),q=_.a.locals||{};function c(E){var $=E.header,N=E.caption,L=E.hideUpgradeButton,W=E.docsLink,P=E.featureKey,h=Object(w.useValues)(G.a),I=h.upgradeLink,T=Object(M.Q)(P,"title");return D.a.createElement("div",{className:"pay-gate-page"},D.a.createElement("h2",null,$),D.a.createElement("div",{className:"pay-caption"},N),D.a.createElement("div",{className:"pay-buttons"},!L&&D.a.createElement(v.a,{to:I,type:"primary","data-attr":"".concat(P,"-upgrade"),className:"LemonLinkButton"},"Upgrade now to get ",T),W&&D.a.createElement(v.a,{type:L?"primary":void 0,to:"".concat(W,"?utm_medium=in-product&utm_campaign=").concat(P,"-upgrade-learn-more"),target:"_blank","data-attr":"".concat(P,"-learn-more"),className:"LemonLinkButton"},"Learn more about ",T," ",D.a.createElement(k.IconOpenInNew,{style:{marginLeft:8}}))))}try{c.displayName="PayGatePage",c.__docgenInfo={description:"",displayName:"PayGatePage",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string | Element"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string | Element"}},hideUpgradeButton:{defaultValue:null,description:"",name:"hideUpgradeButton",required:!1,type:{name:"boolean"}},docsLink:{defaultValue:null,description:"",name:"docsLink",required:!1,type:{name:"string"}},featureKey:{defaultValue:null,description:"",name:"featureKey",required:!0,type:{name:"enum",value:[{value:'"experimentation"'},{value:'"group-analytics"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"]={docgenInfo:c.__docgenInfo,name:"PayGatePage",path:"frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"})}catch(E){}},"./frontend/src/lib/components/Table/utils.tsx":function(z,p,e){"use strict";e.d(p,"a",function(){return v});var A=e("./node_modules/react/index.js"),w=e.n(A),B=e("./frontend/src/lib/hooks/useWindowSize.js"),D=e("./frontend/src/lib/utils/responsiveUtils.tsx");function v(M){return w.a.createElement("span",{style:{whiteSpace:"nowrap"}},M)}var G=function(k){var R=Object(B.a)(),K=R.width,r=Object(D.b)(k),_=!!K&&K<=r;return{isTableScrolling:_,tableScrollBreakpoint:r,tableScrollX:_?"max-content":"".concat(r,"px")}};try{v.displayName="normalizeColumnTitle",v.__docgenInfo={description:"",displayName:"normalizeColumnTitle",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"]={docgenInfo:v.__docgenInfo,name:"normalizeColumnTitle",path:"frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"})}catch(M){}try{G.displayName="useIsTableScrolling",G.__docgenInfo={description:"",displayName:"useIsTableScrolling",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"]={docgenInfo:G.__docgenInfo,name:"useIsTableScrolling",path:"frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"})}catch(M){}},"./frontend/src/scenes/experiments/Experiments.tsx":function(z,p,e){"use strict";e.r(p),e.d(p,"scene",function(){return J}),e.d(p,"Experiments",function(){return g});var A=e("./node_modules/core-js/modules/es.symbol.js"),w=e.n(A),B=e("./node_modules/core-js/modules/es.symbol.description.js"),D=e.n(B),v=e("./node_modules/core-js/modules/es.array.concat.js"),G=e.n(v),M=e("./node_modules/core-js/modules/es.function.name.js"),k=e.n(M),R=e("./frontend/src/lib/components/PageHeader.tsx"),K=e("./node_modules/react/index.js"),r=e.n(K),_=e("./frontend/src/scenes/experiments/experimentsLogic.tsx"),U=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),V=e("./node_modules/kea/lib/index.esm.js"),q=e("./frontend/src/lib/components/LemonTable/index.ts"),c=e("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),E=e("./frontend/src/types.ts"),$=e("./frontend/src/lib/components/Table/utils.tsx"),N=e("./frontend/src/scenes/urls.ts"),L=e("./frontend/src/lib/utils/stringWithWBR.tsx"),W=e("./frontend/src/lib/components/Link.tsx"),P=e("./frontend/src/lib/components/LinkButton.tsx"),h=e("./frontend/src/lib/dayjs.ts"),I=e("./node_modules/antd/es/tag/index.js"),T=e("./node_modules/antd/es/tabs/index.js"),b=e("./frontend/src/lib/components/LemonButton/More.tsx"),ee=e("./frontend/src/lib/components/LemonButton/index.ts"),f=e("./frontend/src/lib/components/LemonRow/index.ts"),Y=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),H=e("./frontend/src/scenes/userLogic.tsx"),te=e("./frontend/src/lib/components/PayGatePage/PayGatePage.tsx"),ae=e("./frontend/src/lib/components/icons.tsx"),J={component:g,logic:_.a};function g(){var C=Object(V.useValues)(_.a),j=C.experiments,t=C.experimentsLoading,a=C.tab,n=Object(V.useActions)(_.a),s=n.setExperimentsFilters,d=n.deleteExperiment,l=Object(V.useValues)(H.a),y=l.hasAvailableFeature,X=[{title:Object($.a)("Name"),dataIndex:"name",className:"ph-no-capture",sticky:!0,width:"40%",render:function(m,i){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{to:i.id?N.a.experiment(i.id):void 0},r.a.createElement("h4",{className:"row-name"},Object(L.a)(i.name,17))),i.description&&r.a.createElement("span",{className:"row-description"},i.description))}},Object(c.b)(),Object(c.a)(),{title:"Duration",render:function(m,i){var Z=i.end_date?Object(h.a)(i.end_date).diff(Object(h.a)(i.start_date),"day"):i.start_date?Object(h.a)().diff(Object(h.a)(i.start_date),"day"):void 0;return r.a.createElement("div",null,Z!==void 0?"".concat(Z," day").concat(Z>1?"s":""):"N.A")}},{title:"Status",render:function(m,i){var Z={running:"green",draft:"default",complete:"purple"},ne=function(){if(i.start_date){if(!i.end_date)return"running"}else return"draft";return"complete"};return r.a.createElement(I.a,{color:Z[ne()],style:{fontWeight:600}},ne().toUpperCase())}},{width:0,render:function(m,i){return r.a.createElement(b.a,{overlay:r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{type:"stealth",to:N.a.experiment("".concat(i.id)),compact:!0,fullWidth:!0},"View"),r.a.createElement(f.b,null),r.a.createElement(ee.a,{type:"stealth",style:{color:"var(--danger)"},onClick:function(){return d(i.id)},"data-attr":"experiment-".concat(i.id,"-dropdown-remove"),fullWidth:!0},"Delete experiment"))})}}];return r.a.createElement("div",null,r.a.createElement(R.a,{title:r.a.createElement("div",{className:"flex-center"},"Experimentation",r.a.createElement(Y.a,{type:"warning",style:{marginLeft:6,lineHeight:"1.4em"}},"BETA")),buttons:y(E.c.EXPERIMENTATION)?r.a.createElement(P.a,{type:"primary","data-attr":"create-experiment",to:N.a.experiment("new"),icon:r.a.createElement(U.a,null)},"New Experiment"):void 0}),y(E.c.EXPERIMENTATION)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderBottom:"1px solid var(--border)",paddingBottom:"0.5rem",marginBottom:"1rem"}},"If you're confused, check out our",r.a.createElement("a",{"data-attr":"experiment-help",href:"https://posthog.com/docs/user-guides/experimentation?utm_medium=in-product&utm_campaign=new-experiment",target:"_blank",rel:"noopener"}," ","Experimentation user guide",r.a.createElement(ae.IconOpenInNew,{style:{marginLeft:4,fontSize:"0.85em"}}))),r.a.createElement(T.a,{activeKey:a,style:{borderColor:"#D9D9D9"},onChange:function(m){return s({tab:m})}},r.a.createElement(T.a.TabPane,{tab:"All Experiments",key:E.h.All}),r.a.createElement(T.a.TabPane,{tab:"Your Experiments",key:E.h.Yours}),r.a.createElement(T.a.TabPane,{tab:"Archived Experiments",key:E.h.Archived})),r.a.createElement(q.a,{dataSource:j,columns:X,rowKey:"id",loading:t,defaultSorting:{columnKey:"id",order:1},pagination:{pageSize:100},nouns:["Experiment","Experiments"],"data-attr":"experiment-table"})):r.a.createElement(te.a,{featureKey:"experimentation",header:r.a.createElement(r.a.Fragment,null,"Introducing ",r.a.createElement("span",{className:"highlight"},"Experimentation"),"!"),caption:"Improve your product by A/B testing new features to discover what works best for your users.",docsLink:"https://posthog.com/docs/user-guides/experimentation"}))}},"./frontend/src/scenes/experiments/experimentsLogic.tsx":function(z,p,e){"use strict";e.d(p,"a",function(){return te});var A=e("./node_modules/core-js/modules/es.array.concat.js"),w=e.n(A),B=e("./node_modules/core-js/modules/es.array.filter.js"),D=e.n(B),v=e("./node_modules/core-js/modules/es.array.iterator.js"),G=e.n(v),M=e("./node_modules/core-js/modules/es.array.map.js"),k=e.n(M),R=e("./node_modules/core-js/modules/es.object.to-string.js"),K=e.n(R),r=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),_=e.n(r),U=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),V=e.n(U),q=e("./node_modules/@babel/runtime/regenerator/index.js"),c=e.n(q),E=e("./node_modules/regenerator-runtime/runtime.js"),$=e.n(E),N=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),L=e.n(N),W=e("./node_modules/kea/lib/index.esm.js"),P=e("./frontend/src/lib/api.mock.ts"),h=e("./frontend/src/scenes/teamLogic.tsx"),I=e("./frontend/src/types.ts"),T=e("./node_modules/@ant-design/icons/es/icons/CheckCircleOutlined.js"),b=e("./node_modules/react-toastify/esm/react-toastify.js"),ee=e("./node_modules/react/index.js"),f=e.n(ee),Y=e("./frontend/src/lib/utils.tsx"),H=e("./frontend/src/scenes/userLogic.tsx"),te=Object(W.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[h.a,["currentTeamId"],H.a,["hasAvailableFeature"]]},actions:{},loaders:function(J){var g=J.values,C=J.actions;return{experiments:[[],{loadExperiments:function(){var j=L()(c.a.mark(function a(n){var s;return c.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(g.hasAvailableFeature(I.c.EXPERIMENTATION)){l.next=2;break}return l.abrupt("return",[]);case 2:return l.next=4,P.a.get("api/projects/".concat(g.currentTeamId,"/experiments?").concat(n||""));case 4:return s=l.sent,l.abrupt("return",s.results);case 6:case"end":return l.stop()}},a)}));function t(a){return j.apply(this,arguments)}return t}(),deleteExperiment:function(){var j=L()(c.a.mark(function a(n){return c.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,P.a.delete("api/projects/".concat(g.currentTeamId,"/experiments/").concat(n));case 2:return Object(b.c)(f.a.createElement("div",null,f.a.createElement("h1",{className:"text-success"},f.a.createElement(T.a,null)," Experiment removed"))),d.abrupt("return",g.experiments.filter(function(l){return l.id!==n}));case 4:case"end":return d.stop()}},a)}));function t(a){return j.apply(this,arguments)}return t}(),addToExperiments:function(t){return[].concat(V()(g.experiments),[t])},updateExperiments:function(t){return g.experiments.map(function(a){return a.id===t.id?t:a})}}],tab:[I.h.All,{setExperimentsFilters:function(){var j=L()(c.a.mark(function a(n){var s,d;return c.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=n.tab,d=s===I.h.Yours?Object(Y.zb)({user:!0}):Object(Y.zb)({archived:!0}),s===I.h.All?C.loadExperiments(Object(Y.zb)({all:!0})):C.loadExperiments(d),y.abrupt("return",s);case 4:case"end":return y.stop()}},a)}));function t(a){return j.apply(this,arguments)}return t}()}]}},events:function(J){var g=J.actions;return{afterMount:function(){g.loadExperiments()}}}})},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PayGatePage/PayGatePage.scss":function(z,p,e){var A=e("./node_modules/css-loader/dist/runtime/api.js");p=A(!1),p.push([z.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.pay-gate-page{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:1rem}.pay-gate-page h2{font-size:32px;font-weight:600;margin-bottom:8px}.pay-gate-page h2 .highlight{font-weight:700;color:#f96132}.pay-gate-page .pay-caption{max-width:500px}.pay-gate-page .pay-buttons{margin-top:1rem;width:320px;max-width:90%}.pay-gate-page .pay-buttons .ant-btn{margin-bottom:1rem}",""]),z.exports=p}}]);
