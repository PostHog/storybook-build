(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(K,u,e){"use strict";e.d(u,"b",function(){return r}),e.d(u,"a",function(){return L});var T=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),f=e.n(T),S=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),I=e.n(S),H=e("./node_modules/core-js/modules/es.array.iterator.js"),Q=e.n(H),F=e("./node_modules/core-js/modules/es.object.to-string.js"),J=e.n(F),O=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),G=e.n(O),v=e("./node_modules/core-js/modules/es.object.from-entries.js"),N=e.n(v),t=e("./node_modules/core-js/modules/es.array.map.js"),R=e.n(t),Y=e("./node_modules/core-js/modules/es.object.entries.js"),V=e.n(Y),h=e("./node_modules/react/index.js"),i=e.n(h),U=e("./node_modules/kea/lib/index.esm.js"),p=e("./node_modules/antd/es/tabs/index.js"),b=e("./frontend/src/scenes/urls.ts"),M=e("./frontend/src/lib/components/Tooltip.tsx"),j=e("./frontend/src/lib/components/icons.tsx"),x=e("./frontend/src/lib/components/TitleWithIcon.tsx"),g,r;(function(l){l.Actions="actions",l.EventDefinitions="events",l.EventPropertyDefinitions="properties"})(r||(r={}));var C=(g={},I()(g,r.EventPropertyDefinitions,b.a.eventPropertyDefinitions()),I()(g,r.EventDefinitions,b.a.eventDefinitions()),I()(g,r.Actions,b.a.actions()),g),s=Object(U.kea)({path:["scenes","events","eventsTabsLogic"],actions:{setTab:function(_){return{tab:_}}},reducers:{tab:[r.EventDefinitions,{setTab:function(_,n){var E=n.tab;return E}}]},actionToUrl:function(){return{setTab:function(n){var E=n.tab;return C[E]||b.a.events()}}},urlToAction:function(_){var n=_.actions,E=_.values;return Object.fromEntries(Object.entries(C).map(function(W){var y=f()(W,2),A=y[0],d=y[1];return[d,function(){E.tab!==A&&n.setTab(A)}]}))}});function L(l){var _=l.tab,n=Object(U.useActions)(s),E=n.setTab;return i.a.createElement(p.a,{tabPosition:"top",animated:!1,activeKey:_,onTabClick:function(y){return E(y)}},i.a.createElement(p.a.TabPane,{tab:i.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:r.EventDefinitions}),i.a.createElement(p.a.TabPane,{tab:i.a.createElement(x.a,{icon:i.a.createElement(M.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},i.a.createElement(j.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:r.Actions}),i.a.createElement(p.a.TabPane,{tab:i.a.createElement(x.a,{icon:i.a.createElement(M.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},i.a.createElement(j.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Event Properties"),key:r.EventPropertyDefinitions}))}try{L.displayName="DataManagementPageTabs",L.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:L.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(l){}},"./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx":function(K,u,e){"use strict";e.d(u,"a",function(){return i});var T=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),f=e.n(T),S=e("./node_modules/core-js/modules/es.array.concat.js"),I=e.n(S),H=e("./node_modules/core-js/modules/es.array.includes.js"),Q=e.n(H),F=e("./node_modules/core-js/modules/es.string.includes.js"),J=e.n(F),O=e("./node_modules/kea/lib/index.esm.js"),G=e("./node_modules/react/index.js"),v=e.n(G),N=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),t=e("./frontend/src/lib/components/LemonTable/index.ts"),R=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),Y=e("./frontend/src/scenes/organizationLogic.tsx"),V=e("./frontend/src/lib/utils.tsx"),h=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx");function i(U){var p,b,M,j,x,g,r,C,s=U.definition,L=Object(O.useActions)(N.c),l=L.loadPropertiesForEvent,_=Object(O.useValues)(N.c),n=_.eventPropertiesCacheMap,E=_.eventDefinitionPropertiesLoading,W=Object(O.useValues)(Y.a),y=W.hasDashboardCollaboration,A=W.hasIngestionTaxonomy;Object(G.useEffect)(function(){l(s)},[]);var d=[{title:"Property",key:"property",className:"definition-column-name",render:function(B,c){return v.a.createElement(h.b,{definition:c,event:s,hideIcon:!0,asLink:!0})}},{title:"Type",key:"type",className:"definition-column-type",render:function(B,c){return c.property_type?v.a.createElement("div",{className:"definition-pill-value",style:{textTransform:"uppercase"}},c.property_type):v.a.createElement("span",{className:"text-muted"},"\u2014")}}].concat(f()(y?[{title:"Tags",key:"tags",render:function(B,c){var z;return v.a.createElement(R.a,{tags:(z=c.tags)!==null&&z!==void 0?z:[],staticOnly:!0})}}]:[]),f()(A?[{title:"30 day queries",key:"query_usage_30_day",align:"right",render:function(B,c){return c.query_usage_30_day?Object(V.P)(c.query_usage_30_day):v.a.createElement("span",{className:"text-muted"},"\u2014")}}]:[]),[{title:"Example",key:"example",align:"right",className:"definition-example-type",render:function(B,c){return c.example?v.a.createElement("div",{className:"definition-pill-value",style:{fontFamily:"monospace"}},c.example):v.a.createElement("span",{className:"text-muted"},"\u2014")}}]);return v.a.createElement("div",{className:"event-properties-wrapper"},v.a.createElement("span",{className:"event-properties-header"},"Top properties"),v.a.createElement("p",{className:"event-properties-subtext"},"Please note that description and tags are shared across events. Posthog properties are excluded from this list."),v.a.createElement(t.a,{id:"event-properties-definition-table-".concat(s.id),"data-attr":"event-properties-definition-nested-table",columns:d,className:"event-properties-definition-table-".concat(s.id),dataSource:(p=n==null||(b=n[s.id])===null||b===void 0?void 0:b.results)!==null&&p!==void 0?p:[],emptyState:"This event has no properties",nouns:["property definition","property definitions"],pagination:{controlled:!0,pageSize:N.b,currentPage:(M=n==null||(j=n[s.id])===null||j===void 0?void 0:j.page)!==null&&M!==void 0?M:1,entryCount:(x=n==null||(g=n[s.id])===null||g===void 0?void 0:g.count)!==null&&x!==void 0?x:0,onForward:n!=null&&(r=n[s.id])!==null&&r!==void 0&&r.next?function(){l(s,n[s.id].next)}:void 0,onBackward:n!=null&&(C=n[s.id])!==null&&C!==void 0&&C.previous?function(){l(s,n[s.id].previous)}:void 0},loading:E.includes(s.id)}))}try{i.displayName="EventDefinitionProperties",i.__docgenInfo={description:"",displayName:"EventDefinitionProperties",props:{definition:{defaultValue:null,description:"",name:"definition",required:!0,type:{name:"EventDefinition"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"]={docgenInfo:i.__docgenInfo,name:"EventDefinitionProperties",path:"frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx#EventDefinitionProperties"})}catch(U){}},"./frontend/src/scenes/data-management/events/EventDefinitionsTable.tsx":function(K,u,e){"use strict";e.r(u),e.d(u,"scene",function(){return l}),e.d(u,"EventDefinitionsTable",function(){return _});var T=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),f=e.n(T),S=e("./node_modules/core-js/modules/es.array.concat.js"),I=e("./node_modules/core-js/modules/es.function.name.js"),H=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Q=e.n(H),F=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss"),J=e.n(F),O={};O.insert="head",O.singleton=!1;var G=Q()(J.a,O),v=J.a.locals||{},N=e("./node_modules/react/index.js"),t=e.n(N),R=e("./node_modules/kea/lib/index.esm.js"),Y=e("./frontend/src/lib/components/LemonTable/index.ts"),V=e("./frontend/src/types.ts"),h=e("./frontend/src/scenes/data-management/events/eventDefinitionsTableLogic.ts"),i=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),U=e("./frontend/src/scenes/organizationLogic.tsx"),p=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),b=e("./frontend/src/lib/utils.tsx"),M=e("./frontend/src/scenes/data-management/events/EventDefinitionProperties.tsx"),j=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),x=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),g=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),r=e("./frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx"),C=e("./frontend/src/lib/components/PageHeader.tsx"),s=e("./frontend/@posthog/lemon-ui/src/index.ts"),L=[{value:V.o.Event,label:"All events","data-attr":"event-type-option-event"},{value:V.o.EventCustom,label:"Custom events","data-attr":"event-type-option-event-custom"},{value:V.o.EventPostHog,label:"PostHog events","data-attr":"event-type-option-event-posthog"}],l={component:_,logic:h.c,paramsToProps:function(){return{syncWithUrl:!0}}};function _(){var n,E,W=Object(R.useValues)(g.a),y=W.preflight,A=Object(R.useValues)(h.c),d=A.eventDefinitions,$=A.eventDefinitionsLoading,B=A.filters,c=Object(R.useActions)(h.c),z=c.loadEventDefinitions,Z=c.setFilters,w=Object(R.useValues)(U.a),k=w.hasDashboardCollaboration,q=w.hasIngestionTaxonomy,ee=[{key:"icon",className:"definition-column-icon",render:function(o,a){return t.a.createElement(p.a,{definition:a,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(o,a){return t.a.createElement(p.a,{definition:a,hideIcon:!0,asLink:!0})},sorter:function(o,a){var m,D,X;return(m=(D=o.name)===null||D===void 0?void 0:D.localeCompare((X=a.name)!==null&&X!==void 0?X:""))!==null&&m!==void 0?m:0}}].concat(f()(k?[{title:"Tags",key:"tags",render:function(o,a){var m;return t.a.createElement(i.a,{tags:(m=a.tags)!==null&&m!==void 0?m:[],staticOnly:!0})}}]:[]),f()(q?[{title:t.a.createElement(r.c,{tooltipPlacement:"bottom"}),key:"volume_30_day",align:"right",render:function(o,a){return a.volume_30_day?Object(b.P)(a.volume_30_day):t.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(o,a){var m,D;return((m=o==null?void 0:o.volume_30_day)!==null&&m!==void 0?m:0)-((D=a==null?void 0:a.volume_30_day)!==null&&D!==void 0?D:0)}},{title:t.a.createElement(r.b,{tooltipPlacement:"bottom"}),key:"query_usage_30_day",align:"right",render:function(o,a){return a.query_usage_30_day?Object(b.P)(a.query_usage_30_day):t.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(o,a){var m,D;return((m=o==null?void 0:o.query_usage_30_day)!==null&&m!==void 0?m:0)-((D=a==null?void 0:a.query_usage_30_day)!==null&&D!==void 0?D:0)}}]:[]));return t.a.createElement("div",{"data-attr":"manage-events-table"},t.a.createElement(C.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),y&&!(y!=null&&y.is_event_property_usage_enabled)&&t.a.createElement(x.a,null),t.a.createElement(j.a,{tab:j.b.EventDefinitions}),t.a.createElement("div",{className:"flex justify-between items-center gap-2 mb-4"},t.a.createElement(s.LemonInput,{type:"search",placeholder:"Search for events",onChange:function(o){return Z({event:o||""})},value:B.event}),t.a.createElement("div",{className:"flex items-center gap-2"},t.a.createElement("span",null,"Type:"),t.a.createElement(s.LemonSelect,{value:B.event_type,options:L,"data-attr":"event-type-filter",dropdownMatchSelectWidth:!1,onChange:function(o){Z({event_type:o})},size:"small"}))),t.a.createElement(Y.a,{columns:ee,className:"events-definition-table","data-attr":"events-definition-table",loading:$,rowKey:"id",pagination:{controlled:!0,currentPage:(n=d==null?void 0:d.page)!==null&&n!==void 0?n:1,entryCount:(E=d==null?void 0:d.count)!==null&&E!==void 0?E:0,pageSize:h.a,onForward:d.next?function(){z(d.next)}:void 0,onBackward:d.previous?function(){z(d.previous)}:void 0},expandable:{expandedRowRender:function(o){return t.a.createElement(M.a,{definition:o})},rowExpandable:function(){return!0},noIndent:!0},dataSource:d.results,emptyState:"No event definitions",nouns:["event","events"]}))}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(K,u,e){"use strict";e.d(u,"a",function(){return I});var T=e("./node_modules/react/index.js"),f=e.n(T),S=e("./frontend/src/lib/components/AlertMessage/index.ts");function I(){return f.a.createElement(S.a,{type:"info"},f.a.createElement("div",{className:"text-base mb-1"},"Event usage information is not enabled for your instance."),f.a.createElement("p",{className:"font-normal"},"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",f.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",f.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events."))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/events/EventDefinitionsTable.scss":function(K,u,e){var T=e("./node_modules/css-loader/dist/runtime/api.js");u=T(!1),u.push([K.i,'.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--muted-alt)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name{display:flex;flex-direction:row;align-items:center}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer;position:relative;overflow:visible}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;bottom:-5px;left:-10px;right:-50px;height:22px}.events-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--muted);text-overflow:ellipsis}.events-definition-table .LemonTable__content>table>tbody td.definition-example-type .definition-pill-value{float:right}.events-definition-table .LemonTable__content>table>tbody .definition-pill-value{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;word-break:break-all;max-width:300px;cursor:text}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper{padding:1rem 0 1rem 1rem}.events-definition-table .LemonTable__content>table>tbody .LemonTable__expansion .event-properties-wrapper .event-properties-header{font-weight:600}',""]),K.exports=u}}]);
