(window.webpackJsonp=window.webpackJsonp||[]).push([[2,9],{"./frontend/src/scenes/apps/AppMetricsScene.tsx":function(W,E,e){"use strict";e.r(E),e.d(E,"scene",function(){return I}),e.d(E,"AppMetrics",function(){return L});var v=e("./node_modules/core-js/modules/es.function.name.js"),K=e.n(v),j=e("./node_modules/antd/es/tabs/index.js"),r=e("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),T=e("./frontend/src/lib/components/PageHeader.tsx"),f=e("./node_modules/kea/lib/index.esm.js"),P=e("./frontend/src/scenes/apps/MetricsTab.tsx"),C=e("./frontend/src/scenes/apps/HistoricalExportsTab.tsx"),u=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),x=e("./frontend/src/scenes/apps/ErrorDetailsDrawer.tsx"),t=e("./node_modules/react/jsx-runtime.js"),p=e.n(t),I={component:L,logic:r.appMetricsSceneLogic,paramsToProps:function(m){var d,D=m.params.pluginConfigId;return{pluginConfigId:(d=parseInt(D))!==null&&d!==void 0?d:0}}};function L(){var i=Object(f.useValues)(r.appMetricsSceneLogic),m=i.activeTab,d=i.pluginConfig,D=i.pluginConfigLoading,l=i.showTab,O=Object(f.useActions)(r.appMetricsSceneLogic),M=O.setActiveTab;return Object(t.jsxs)("div",{children:[Object(t.jsx)(T.a,{title:d?d.plugin_info.name:Object(t.jsx)(u.a,{}),caption:"An overview of metrics and export for this app."}),D||!m?Object(t.jsx)(u.a,{}):Object(t.jsxs)(j.a,{tabPosition:"top",animated:!1,activeKey:m,onTabClick:function(b){return M(b)},children:[l(r.AppMetricsTab.ProcessEvent)&&Object(t.jsx)(j.a.TabPane,{tab:"processEvent metrics",children:Object(t.jsx)(P.MetricsTab,{tab:r.AppMetricsTab.ProcessEvent})},r.AppMetricsTab.ProcessEvent),l(r.AppMetricsTab.OnEvent)&&Object(t.jsx)(j.a.TabPane,{tab:"onEvent metrics",children:Object(t.jsx)(P.MetricsTab,{tab:r.AppMetricsTab.OnEvent})},r.AppMetricsTab.OnEvent),l(r.AppMetricsTab.ExportEvents)&&Object(t.jsx)(j.a.TabPane,{tab:"exportEvents metrics",children:Object(t.jsx)(P.MetricsTab,{tab:r.AppMetricsTab.ExportEvents})},r.AppMetricsTab.ExportEvents),l(r.AppMetricsTab.HistoricalExports)&&Object(t.jsx)(j.a.TabPane,{tab:"Historical Exports",children:Object(t.jsx)(C.HistoricalExportsTab,{})},r.AppMetricsTab.HistoricalExports)]}),Object(t.jsx)(x.ErrorDetailsDrawer,{})]})}},"./frontend/src/scenes/apps/ErrorDetailsDrawer.tsx":function(W,E,e){"use strict";e.r(E),e.d(E,"ErrorDetailsDrawer",function(){return S});var v=e("./node_modules/core-js/modules/es.object.keys.js"),K=e.n(v),j=e("./node_modules/core-js/modules/es.symbol.js"),r=e.n(j),T=e("./node_modules/core-js/modules/es.array.filter.js"),f=e.n(T),P=e("./node_modules/core-js/modules/es.object.to-string.js"),C=e.n(P),u=e("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),x=e.n(u),t=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),p=e.n(t),I=e("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),L=e.n(I),i=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=e.n(i),d=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),D=e.n(d),l=e("./node_modules/kea/lib/index.esm.js"),O=e("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),M=e("./frontend/src/lib/components/Drawer.tsx"),g=e("./frontend/src/lib/components/LemonSkeleton/index.tsx"),b=e("./frontend/src/lib/components/TimezoneAware/index.tsx"),A=e("./frontend/src/lib/components/PaginationControl/index.tsx"),R=e("./node_modules/antd/es/tabs/index.js"),h=e("./frontend/src/lib/components/LemonLabel/LemonLabel.tsx"),U=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),s=e("./node_modules/react/jsx-runtime.js"),V=e.n(s);function B(a,c){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(a);c&&(_=_.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,_)}return n}function y(a){for(var c=1;c<arguments.length;c++){var n=arguments[c]!=null?arguments[c]:{};c%2?B(Object(n),!0).forEach(function(_){m()(a,_,n[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(_){Object.defineProperty(a,_,Object.getOwnPropertyDescriptor(n,_))})}return a}function S(){var a=Object(l.useValues)(O.appMetricsSceneLogic),c=a.errorDetailsDrawerError,n=a.errorDetailsLoading,_=Object(l.useActions)(O.appMetricsSceneLogic),o=_.closeErrorDetailsDrawer;return Object(s.jsx)(M.a,{visible:!!c,onClose:o,title:"Viewing error details: ".concat(c),width:"min(50vw, 80rem)",destroyOnClose:!0,children:n?Object(s.jsx)(g.a,{className:"h-10"}):Object(s.jsx)(H,{})})}function H(){var a=Object(l.useValues)(O.appMetricsSceneLogic),c=a.errorDetails,n=Object(A.c)(c,{pageSize:1}),_=D()(n.dataSourcePage,1),o=_[0];return Object(s.jsxs)("div",{children:[Object(s.jsx)(A.a,y(y({},n),{},{nouns:["sample error","sample errors"]})),Object(s.jsxs)(R.a,{children:[Object(s.jsxs)(R.a.TabPane,{tab:"Overview",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(h.a,{children:"Error:"})," ",o.error_type]}),o.error_details.error.message&&Object(s.jsxs)("div",{children:[Object(s.jsx)(h.a,{children:"Error message:"})," ",o.error_details.error.message]}),Object(s.jsxs)("div",{children:[Object(s.jsx)(h.a,{children:"When:"})," ",Object(s.jsx)(b.b,{time:o.timestamp,showSeconds:!0})]}),o.error_details.eventCount&&Object(s.jsxs)("div",{children:[Object(s.jsx)(h.a,{children:"Event count:"})," ",o.error_details.eventCount]})]},"overview"),o.error_details.event&&Object(s.jsx)(R.a.TabPane,{tab:"Event",children:Object(s.jsx)(U.a,{language:U.b.JSON,children:JSON.stringify(o.error_details.event,null,2)})},"event"),o.error_details.error.stack&&Object(s.jsx)(R.a.TabPane,{tab:"Stack trace",children:Object(s.jsx)(U.a,{wrap:!0,language:U.b.JavaScript,children:o.error_details.error.stack})},"stacktrace")]})]})}},"./frontend/src/scenes/apps/HistoricalExportsTab.tsx":function(W,E,e){"use strict";e.r(E),e.d(E,"HistoricalExportsTab",function(){return L});var v=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),K=e.n(v),j=e("./node_modules/core-js/modules/es.array.concat.js"),r=e.n(j),T=e("./node_modules/kea/lib/index.esm.js"),f=e("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),P=e("./frontend/src/lib/components/LemonTable/index.ts"),C=e("./frontend/src/scenes/apps/HistoricalExport.tsx"),u=e("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),x=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),t=e("./node_modules/antd/es/progress/index.js"),p=e("./node_modules/react/jsx-runtime.js"),I=e.n(p);function L(){var i=Object(T.useValues)(f.appMetricsSceneLogic),m=i.historicalExports,d=i.historicalExportsLoading,D=i.pluginConfig;return Object(p.jsx)(P.a,{dataSource:m,loading:d,columns:[{title:"Dates exported",render:function(O,M){var g=K()(M.payload.dateRange,2),b=g[0],A=g[1];return b===A?b:"".concat(b," - ").concat(A)}},{title:"Progress",width:130,render:function(O,M){switch(M.status){case"success":return Object(p.jsx)(x.a,{type:"success",className:"uppercase",children:"Success"});case"fail":return Object(p.jsx)(x.a,{type:"danger",className:"uppercase",children:"Failed"});case"not_finished":return Object(p.jsx)(t.a,{percent:Math.floor((M.progress||0)*100)})}},align:"right"},Object(u.b)(),Object(u.a)()],expandable:{expandedRowRender:function(O){if(!!D)return Object(p.jsx)(C.HistoricalExport,{pluginConfigId:D.id,jobId:O.job_id})}},useURLForSorting:!1,noSortingCancellation:!0})}}}]);
