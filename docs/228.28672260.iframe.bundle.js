(window.webpackJsonp=window.webpackJsonp||[]).push([[228],{4391:function(module,exports,__webpack_require__){(exports=__webpack_require__(49)(!1)).push([module.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.pay-gate-page{display:flex;flex-direction:column;align-items:center;text-align:center;margin-top:1rem}.pay-gate-page h2{font-size:32px;font-weight:600;margin-bottom:8px}.pay-gate-page h2 .highlight{font-weight:700;color:#f96132}.pay-gate-page .pay-caption{max-width:500px}.pay-gate-page .pay-buttons{margin-top:1rem;width:320px;max-width:90%}.pay-gate-page .pay-buttons .ant-btn{margin-bottom:1rem}",""]),module.exports=exports},4392:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return normalizeColumnTitle}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),lib_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(716),lib_utils_responsiveUtils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(494);function normalizeColumnTitle(title){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{style:{whiteSpace:"nowrap"}},title)}var useIsTableScrolling=function useIsTableScrolling(scrollBreakpoint){var width=Object(lib_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_1__.a)().width,tableScrollBreakpoint=Object(lib_utils_responsiveUtils__WEBPACK_IMPORTED_MODULE_2__.b)(scrollBreakpoint),isTableScrolling=!!width&&width<=tableScrollBreakpoint;return{isTableScrolling:isTableScrolling,tableScrollBreakpoint:tableScrollBreakpoint,tableScrollX:isTableScrolling?"max-content":"".concat(tableScrollBreakpoint,"px")}};try{normalizeColumnTitle.displayName="normalizeColumnTitle",normalizeColumnTitle.__docgenInfo={description:"",displayName:"normalizeColumnTitle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"]={docgenInfo:normalizeColumnTitle.__docgenInfo,name:"normalizeColumnTitle",path:"frontend/src/lib/components/Table/utils.tsx#normalizeColumnTitle"})}catch(__react_docgen_typescript_loader_error){}try{useIsTableScrolling.displayName="useIsTableScrolling",useIsTableScrolling.__docgenInfo={description:"",displayName:"useIsTableScrolling",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"]={docgenInfo:useIsTableScrolling.__docgenInfo,name:"useIsTableScrolling",path:"frontend/src/lib/components/Table/utils.tsx#useIsTableScrolling"})}catch(__react_docgen_typescript_loader_error){}},4397:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PayGatePage_PayGatePage_PayGatePage}));__webpack_require__(42);var index_esm=__webpack_require__(1),react=__webpack_require__(0),react_default=__webpack_require__.n(react),LinkButton=__webpack_require__(344),userLogic=__webpack_require__(66),utils=__webpack_require__(10),icons=__webpack_require__(34),injectStylesIntoStyleTag=__webpack_require__(18),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),PayGatePage=__webpack_require__(4391),PayGatePage_default=__webpack_require__.n(PayGatePage),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(PayGatePage_default.a,options),PayGatePage_default.a.locals;function PayGatePage_PayGatePage_PayGatePage(_ref){var header=_ref.header,caption=_ref.caption,hideUpgradeButton=_ref.hideUpgradeButton,docsLink=_ref.docsLink,featureKey=_ref.featureKey,upgradeLink=Object(index_esm.useValues)(userLogic.a).upgradeLink,featureName=Object(utils.P)(featureKey,"title");return react_default.a.createElement("div",{className:"pay-gate-page"},react_default.a.createElement("h2",null,header),react_default.a.createElement("div",{className:"pay-caption"},caption),react_default.a.createElement("div",{className:"pay-buttons"},!hideUpgradeButton&&react_default.a.createElement(LinkButton.a,{to:upgradeLink,type:"primary","data-attr":"".concat(featureKey,"-upgrade"),className:"LemonLinkButton"},"Upgrade now to get ",featureName),docsLink&&react_default.a.createElement(LinkButton.a,{type:hideUpgradeButton?"primary":void 0,to:"".concat(docsLink,"?utm_medium=in-product&utm_campaign=").concat(featureKey,"-upgrade-learn-more"),target:"_blank","data-attr":"".concat(featureKey,"-learn-more"),className:"LemonLinkButton"},"Learn more about ",featureName," ",react_default.a.createElement(icons.IconOpenInNew,{style:{marginLeft:8}}))))}try{PayGatePage_PayGatePage_PayGatePage.displayName="PayGatePage",PayGatePage_PayGatePage_PayGatePage.__docgenInfo={description:"",displayName:"PayGatePage",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string | Element"}},caption:{defaultValue:null,description:"",name:"caption",required:!0,type:{name:"string | Element"}},hideUpgradeButton:{defaultValue:null,description:"",name:"hideUpgradeButton",required:!1,type:{name:"boolean"}},docsLink:{defaultValue:null,description:"",name:"docsLink",required:!1,type:{name:"string"}},featureKey:{defaultValue:null,description:"",name:"featureKey",required:!0,type:{name:"enum",value:[{value:'"experimentation"'},{value:'"group-analytics"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"]={docgenInfo:PayGatePage_PayGatePage_PayGatePage.__docgenInfo,name:"PayGatePage",path:"frontend/src/lib/components/PayGatePage/PayGatePage.tsx#PayGatePage"})}catch(__react_docgen_typescript_loader_error){}},4398:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return experimentsLogic}));__webpack_require__(42),__webpack_require__(63),__webpack_require__(48),__webpack_require__(35),__webpack_require__(41),__webpack_require__(53);var APIMethod,toConsumableArray=__webpack_require__(15),toConsumableArray_default=__webpack_require__.n(toConsumableArray),regenerator=__webpack_require__(8),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(69),__webpack_require__(13)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),index_esm=__webpack_require__(1),api=(__webpack_require__(85),__webpack_require__(162),__webpack_require__(3),__webpack_require__(22)),constants=(__webpack_require__(31),__webpack_require__(21));!function(APIMethod){APIMethod.Create="create",APIMethod.Get="get",APIMethod.Update="update",APIMethod.Delete="delete"}(APIMethod||(APIMethod={}));APIMethod.Create,APIMethod.Get,APIMethod.Update,APIMethod.Delete;var api_mock_api=api.a;constants.r.Admin,constants.r.Admin;var teamLogic=__webpack_require__(33),types=__webpack_require__(5),CheckCircleOutlined=__webpack_require__(509),react_toastify=__webpack_require__(70),react=__webpack_require__(0),react_default=__webpack_require__.n(react),utils=__webpack_require__(10),userLogic=__webpack_require__(66),experimentsLogic=Object(index_esm.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[teamLogic.a,["currentTeamId"],userLogic.a,["hasAvailableFeature"]]},actions:{},loaders:function loaders(_ref){var _setExperimentsFilters,_deleteExperiment,_loadExperiments,values=_ref.values,actions=_ref.actions;return{experiments:[[],{loadExperiments:(_loadExperiments=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(filter){var response;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(values.hasAvailableFeature(types.c.EXPERIMENTATION)){_context.next=2;break}return _context.abrupt("return",[]);case 2:return _context.next=4,api_mock_api.get("api/projects/".concat(values.currentTeamId,"/experiments?").concat(filter||""));case 4:return response=_context.sent,_context.abrupt("return",response.results);case 6:case"end":return _context.stop()}}),_callee)}))),function loadExperiments(_x){return _loadExperiments.apply(this,arguments)}),deleteExperiment:(_deleteExperiment=asyncToGenerator_default()(regenerator_default.a.mark((function _callee2(id){return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api_mock_api.delete("api/projects/".concat(values.currentTeamId,"/experiments/").concat(id));case 2:return Object(react_toastify.c)(react_default.a.createElement("div",null,react_default.a.createElement("h1",{className:"text-success"},react_default.a.createElement(CheckCircleOutlined.a,null)," Experiment removed"))),_context2.abrupt("return",values.experiments.filter((function(experiment){return experiment.id!==id})));case 4:case"end":return _context2.stop()}}),_callee2)}))),function deleteExperiment(_x2){return _deleteExperiment.apply(this,arguments)}),addToExperiments:function addToExperiments(experiment){return[].concat(toConsumableArray_default()(values.experiments),[experiment])},updateExperiments:function updateExperiments(experiment){return values.experiments.map((function(exp){return exp.id===experiment.id?experiment:exp}))}}],tab:[types.g.All,{setExperimentsFilters:(_setExperimentsFilters=asyncToGenerator_default()(regenerator_default.a.mark((function _callee3(_ref2){var tab,tabFilter;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return tab=_ref2.tab,tabFilter=tab===types.g.Yours?Object(utils.yb)({user:!0}):Object(utils.yb)({archived:!0}),tab===types.g.All?actions.loadExperiments(Object(utils.yb)({all:!0})):actions.loadExperiments(tabFilter),_context3.abrupt("return",tab);case 4:case"end":return _context3.stop()}}),_callee3)}))),function setExperimentsFilters(_x3){return _setExperimentsFilters.apply(this,arguments)})}]}},events:function events(_ref3){var actions=_ref3.actions;return{afterMount:function afterMount(){actions.loadExperiments()}}}})},4529:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"scene",(function(){return scene})),__webpack_require__.d(__webpack_exports__,"Experiments",(function(){return Experiments}));__webpack_require__(190),__webpack_require__(206),__webpack_require__(42),__webpack_require__(64);var lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(205),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_experimentsLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4398),_ant_design_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1875),kea__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1),_lib_components_LemonTable__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(244),_lib_components_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1251),_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5),lib_components_Table_utils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4392),scenes_urls__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(19),lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1902),lib_components_Link__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(55),lib_components_LinkButton__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(344),lib_dayjs__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(32),antd__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(910),antd__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(571),lib_components_LemonButton_More__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(514),lib_components_LemonButton__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(61),lib_components_LemonRow__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(101),lib_components_LemonTag_LemonTag__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(573),scenes_userLogic__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(66),lib_components_PayGatePage_PayGatePage__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(4397),lib_components_icons__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(34),scene={component:Experiments,logic:_experimentsLogic__WEBPACK_IMPORTED_MODULE_6__.a};function Experiments(){var _useValues=Object(kea__WEBPACK_IMPORTED_MODULE_8__.useValues)(_experimentsLogic__WEBPACK_IMPORTED_MODULE_6__.a),experiments=_useValues.experiments,experimentsLoading=_useValues.experimentsLoading,tab=_useValues.tab,_useActions=Object(kea__WEBPACK_IMPORTED_MODULE_8__.useActions)(_experimentsLogic__WEBPACK_IMPORTED_MODULE_6__.a),setExperimentsFilters=_useActions.setExperimentsFilters,deleteExperiment=_useActions.deleteExperiment,hasAvailableFeature=Object(kea__WEBPACK_IMPORTED_MODULE_8__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_24__.a).hasAvailableFeature,columns=[{title:Object(lib_components_Table_utils__WEBPACK_IMPORTED_MODULE_12__.a)("Name"),dataIndex:"name",className:"ph-no-capture",sticky:!0,width:"40%",render:function Render(_,experiment){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_Link__WEBPACK_IMPORTED_MODULE_15__.a,{to:experiment.id?scenes_urls__WEBPACK_IMPORTED_MODULE_13__.a.experiment(experiment.id):void 0},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h4",{className:"row-name"},Object(lib_utils_stringWithWBR__WEBPACK_IMPORTED_MODULE_14__.a)(experiment.name,17))),experiment.description&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"row-description"},experiment.description))}},Object(_lib_components_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_10__.b)(),Object(_lib_components_LemonTable_columnUtils__WEBPACK_IMPORTED_MODULE_10__.a)(),{title:"Duration",render:function Render(_,experiment){var duration=experiment.end_date?Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_17__.a)(experiment.end_date).diff(Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_17__.a)(experiment.start_date),"day"):experiment.start_date?Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_17__.a)().diff(Object(lib_dayjs__WEBPACK_IMPORTED_MODULE_17__.a)(experiment.start_date),"day"):void 0;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,void 0!==duration?"".concat(duration," day").concat(duration>1?"s":""):"N.A")}},{title:"Status",render:function Render(_,experiment){var status=function status(){return experiment.start_date?experiment.end_date?"complete":"running":"draft"};return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_18__.a,{color:{running:"green",draft:"default",complete:"purple"}[status()],style:{fontWeight:600}},status().toUpperCase())}},{width:0,render:function Render(_,experiment){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_LemonButton_More__WEBPACK_IMPORTED_MODULE_20__.a,{overlay:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_LemonButton__WEBPACK_IMPORTED_MODULE_21__.a,{type:"stealth",to:scenes_urls__WEBPACK_IMPORTED_MODULE_13__.a.experiment("".concat(experiment.id)),compact:!0,fullWidth:!0},"View"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_LemonRow__WEBPACK_IMPORTED_MODULE_22__.b,null),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_LemonButton__WEBPACK_IMPORTED_MODULE_21__.a,{type:"stealth",style:{color:"var(--danger)"},onClick:function onClick(){return deleteExperiment(experiment.id)},"data-attr":"experiment-".concat(experiment.id,"-dropdown-remove"),fullWidth:!0},"Delete experiment"))})}}];return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_PageHeader__WEBPACK_IMPORTED_MODULE_4__.a,{title:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"flex-center"},"Experimentation",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_LemonTag_LemonTag__WEBPACK_IMPORTED_MODULE_23__.a,{type:"warning",style:{marginLeft:6,lineHeight:"1.4em"}},"BETA")),buttons:hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_11__.c.EXPERIMENTATION)?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_LinkButton__WEBPACK_IMPORTED_MODULE_16__.a,{type:"primary","data-attr":"create-experiment",to:scenes_urls__WEBPACK_IMPORTED_MODULE_13__.a.experiment("new"),icon:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_7__.a,null)},"New Experiment"):void 0}),hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_11__.c.EXPERIMENTATION)?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{style:{borderBottom:"1px solid var(--border)",paddingBottom:"0.5rem",marginBottom:"1rem"}},"If you're confused, check out our",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("a",{"data-attr":"experiment-help",href:"https://posthog.com/docs/user-guides/experimentation?utm_medium=in-product&utm_campaign=new-experiment",target:"_blank",rel:"noopener"}," ","Experimentation user guide",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_icons__WEBPACK_IMPORTED_MODULE_26__.IconOpenInNew,{style:{marginLeft:4,fontSize:"0.85em"}}))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_19__.a,{activeKey:tab,style:{borderColor:"#D9D9D9"},onChange:function onChange(t){return setExperimentsFilters({tab:t})}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_19__.a.TabPane,{tab:"All Experiments",key:_types__WEBPACK_IMPORTED_MODULE_11__.g.All}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_19__.a.TabPane,{tab:"Your Experiments",key:_types__WEBPACK_IMPORTED_MODULE_11__.g.Yours}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_19__.a.TabPane,{tab:"Archived Experiments",key:_types__WEBPACK_IMPORTED_MODULE_11__.g.Archived})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_lib_components_LemonTable__WEBPACK_IMPORTED_MODULE_9__.a,{dataSource:experiments,columns:columns,rowKey:"id",loading:experimentsLoading,defaultSorting:{columnKey:"id",order:1},pagination:{pageSize:100},nouns:["Experiment","Experiments"],"data-attr":"experiment-table"})):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(lib_components_PayGatePage_PayGatePage__WEBPACK_IMPORTED_MODULE_25__.a,{featureKey:"experimentation",header:react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment,null,"Introducing ",react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"highlight"},"Experimentation"),"!"),caption:"Improve your product by A/B testing new features to discover what works best for your users.",docsLink:"https://posthog.com/docs/user-guides/experimentation"}))}}}]);