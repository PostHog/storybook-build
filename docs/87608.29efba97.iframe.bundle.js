"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[87608],{"./frontend/src/scenes/error-tracking/ErrorTrackingScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingScene:()=>ErrorTrackingScene,scene:()=>scene});var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),LemonTableLink=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTable/LemonTableLink.tsx"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("./frontend/src/lib/api.ts"),schema=__webpack_require__("./frontend/src/queries/schema.ts"),utils=__webpack_require__("./frontend/src/queries/utils.ts");let errorTrackingSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","error-tracking","errorTrackingSceneLogic"]),(0,lib.loaders)(()=>({errorGroups:[[],{loadErrorGroups:async()=>{let query={kind:schema.OH.HogQLQuery,query:(0,utils.zP)`SELECT first_value(properties), count(), count(distinct e.$session_id), count(distinct e.distinct_id)
                                FROM events e
                                WHERE event = '$exception'
                                -- grouping by message for now, will eventually be predefined $exception_group_id
                                GROUP BY e.properties.$exception_type`},res=await api.ZP.query(query);return res.results.map(r=>{let eventProperties=JSON.parse(r[0]);return{id:eventProperties.$exception_type,title:eventProperties.$exception_type||"Error",description:eventProperties.$exception_message,occurrences:r[1],uniqueSessions:r[2],uniqueUsers:r[3]}})}}]})),(0,index_esm.afterMount)(_ref=>{let{actions}=_ref;actions.loadErrorGroups()})]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:ErrorTrackingScene,logic:errorTrackingSceneLogic};function ErrorTrackingScene(){let{errorGroups,errorGroupsLoading}=(0,index_esm.useValues)(errorTrackingSceneLogic);return(0,jsx_runtime.jsx)(src.LemonTable,{columns:[{dataIndex:"title",width:"50%",render:(_,group)=>(0,jsx_runtime.jsx)(LemonTableLink.i,{title:group.title,description:(0,jsx_runtime.jsx)("div",{className:"line-clamp-1",children:group.description}),to:urls.j.errorTrackingGroup(group.id)})},{title:"Occurrences",dataIndex:"occurrences",sorter:(a,b)=>a.occurrences-b.occurrences},{title:"Sessions",dataIndex:"uniqueSessions",sorter:(a,b)=>a.uniqueSessions-b.uniqueSessions},{title:"Users",dataIndex:"uniqueUsers",sorter:(a,b)=>a.uniqueUsers-b.uniqueUsers}],loading:errorGroupsLoading,dataSource:errorGroups})}}}]);
//# sourceMappingURL=87608.29efba97.iframe.bundle.js.map