(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[99040],{"../../frontend/src/scenes/heatmaps/components/FilterPanel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>FilterPanel});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),_posthog_icons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.2_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/DateFilter/DateFilter.tsx"),lib_components_IframedToolbarBrowser_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/components/IframedToolbarBrowser/utils.ts"),lib_components_heatmaps_HeatMapsSettings__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/components/heatmaps/HeatMapsSettings.tsx"),lib_components_heatmaps_heatmapDataLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/components/heatmaps/heatmapDataLogic.ts"),lib_lemon_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/lib/lemon-ui/LoadingBar/index.ts"),lib_lemon_ui_Popover__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/lib/lemon-ui/Popover/index.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/lib/utils.tsx"),scenes_heatmaps_scenes_heatmap_heatmapLogic__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/scenes/heatmaps/scenes/heatmap/heatmapLogic.ts"),scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/scenes/insights/filters/TestAccountFilter/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let useDebounceLoading=function(loading){let delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,[debouncedLoading,setDebouncedLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let timer=setTimeout(()=>{setDebouncedLoading(loading)},delay);return()=>clearTimeout(timer)},[loading,delay]),debouncedLoading};function ViewportChooser(){let{widthOverride}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_heatmaps_scenes_heatmap_heatmapLogic__WEBPACK_IMPORTED_MODULE_11__.X),{setIframeWidth}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)(scenes_heatmaps_scenes_heatmap_heatmapLogic__WEBPACK_IMPORTED_MODULE_11__.X),options=[{value:320,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconPhone,{})},{value:375,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconPhone,{})},{value:425,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconPhone,{})},{value:768,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconTabletPortrait,{})},{value:1024,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconTabletLandscape,{})},{value:1440,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconLaptop,{})},{value:1920,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconLaptop,{})}],allOptions=[...options];return widthOverride&&!options.some(option=>option.value===widthOverride)&&allOptions.push({value:widthOverride,icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconLaptop,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{children:"Screen width:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Yv,{size:"small",onChange:setIframeWidth,value:widthOverride||void 0,"data-attr":"viewport-chooser",options:allOptions.map(_ref=>{let{value,icon}=_ref;return{value,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center gap-1",children:[icon,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"text-xs",children:[value," px"]})]})}})})]})}function FilterPanel(){let[isSettingsOpen,setIsSettingsOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),{heatmapFilters,heatmapColorPalette,heatmapFixedPositionMode,viewportRange,commonFilters,rawHeatmapLoading,heatmapEmpty}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)((0,lib_components_heatmaps_heatmapDataLogic__WEBPACK_IMPORTED_MODULE_7__.y)({context:"in-app"})),{patchHeatmapFilters,setHeatmapColorPalette,setHeatmapFixedPositionMode,setCommonFilters}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useActions)((0,lib_components_heatmaps_heatmapDataLogic__WEBPACK_IMPORTED_MODULE_7__.y)({context:"in-app"})),debouncedLoading=useDebounceLoading(null!=rawHeatmapLoading&&rawHeatmapLoading);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[debouncedLoading&&!(0,lib_utils__WEBPACK_IMPORTED_MODULE_10__.MD)()&&!(0,lib_utils__WEBPACK_IMPORTED_MODULE_10__.es)()&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_8__.F,{wrapperClassName:"absolute top-0 left-0 w-full overflow-hidden rounded-none my-0",className:"h-1 rounded-none"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex-none md:flex justify-between items-center gap-2 my-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex-none md:flex items-center gap-2 my-2 md:my-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_DateFilter_DateFilter__WEBPACK_IMPORTED_MODULE_4__.f,{dateFrom:commonFilters?.date_from,dateTo:commonFilters?.date_to,onChange:(fromDate,toDate)=>{setCommonFilters?.({...commonFilters,date_from:fromDate,date_to:toDate})},dateOptions:lib_components_IframedToolbarBrowser_utils__WEBPACK_IMPORTED_MODULE_5__.PJ}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"mt-2 md:mt-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_Popover__WEBPACK_IMPORTED_MODULE_9__.J2,{overlay:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"p-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_heatmaps_HeatMapsSettings__WEBPACK_IMPORTED_MODULE_6__.s,{heatmapFilters:heatmapFilters,patchHeatmapFilters:patchHeatmapFilters,viewportRange:viewportRange,heatmapColorPalette:heatmapColorPalette,setHeatmapColorPalette:setHeatmapColorPalette,heatmapFixedPositionMode:heatmapFixedPositionMode,setHeatmapFixedPositionMode:setHeatmapFixedPositionMode}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_heatmaps_HeatMapsSettings__WEBPACK_IMPORTED_MODULE_6__.g,{title:"Internal and test users filter",info:"Filter out internal and test users",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(scenes_insights_filters_TestAccountFilter__WEBPACK_IMPORTED_MODULE_12__.z,{size:"small",filters:{filter_test_accounts:commonFilters?.filter_test_accounts},onChange:value=>{setCommonFilters?.({...commonFilters,filter_test_accounts:value.filter_test_accounts})}})})]}),visible:isSettingsOpen,onClickOutside:()=>{setIsSettingsOpen(!1)},placement:"bottom",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Jp,{type:"secondary",size:"small",onClick:()=>setIsSettingsOpen(!isSettingsOpen),icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_2__.IconGear,{}),tooltip:"Heatmap settings","data-attr":"heatmap-settings",children:"Heatmap settings"})})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(ViewportChooser,{})})]}),heatmapEmpty?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_3__.Vp,{type:"info",className:"mb-2",children:"No data found. Try changing your filters or the URL above."}):null]})}},"../../node_modules/.pnpm/heatmap.js@2.0.5_patch_hash=d95e6638894935a75bd93b60b5243cb825892a1eedcc4c9a125a3e7dce8b64f0/node_modules/heatmap.js/build/heatmap.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,factory;factory=function(){var Store,defaultRadius,rendererFn,HeatmapConfig={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},Store1=(Store=function Store(config){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=config.xField||config.defaultXField,this._yField=config.yField||config.defaultYField,this._valueField=config.valueField||config.defaultValueField,config.radius&&(this._cfgRadius=config.radius)},defaultRadius=HeatmapConfig.defaultRadius,Store.prototype={_organiseData:function(dataPoint,forceRender){var x=dataPoint[this._xField],y=dataPoint[this._yField],radi=this._radi,store=this._data,max=this._max,min=this._min,value=dataPoint[this._valueField]||1,radius=dataPoint.radius||this._cfgRadius||defaultRadius;store[x]||(store[x]=[],radi[x]=[]),store[x][y]?store[x][y]+=value:(store[x][y]=value,radi[x][y]=radius);var storedVal=store[x][y];return storedVal>max?(forceRender?this.setDataMax(storedVal):this._max=storedVal,!1):storedVal<min?(forceRender?this.setDataMin(storedVal):this._min=storedVal,!1):{x:x,y:y,value:value,radius:radius,min:min,max:max}},_unOrganizeData:function(){var unorganizedData=[],data=this._data,radi=this._radi;for(var x in data)for(var y in data[x])unorganizedData.push({x:x,y:y,radius:radi[x][y],value:data[x][y]});return{min:this._min,max:this._max,data:unorganizedData}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var dataArr=arguments[0],dataLen=dataArr.length;dataLen--;)this.addData.call(this,dataArr[dataLen]);else{var organisedEntry=this._organiseData(arguments[0],!0);organisedEntry&&(0===this._data.length&&(this._min=this._max=organisedEntry.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[organisedEntry]}))}return this},setData:function(data){var dataPoints=data.data,pointsLen=dataPoints.length;this._data=[],this._radi=[];for(var i=0;i<pointsLen;i++)this._organiseData(dataPoints[i],!1);return this._max=data.max,this._min=data.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(max){return this._max=max,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(min){return this._min=min,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(coordinator){this._coordinator=coordinator},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},Store),Canvas2dRenderer=function Canvas2dRendererClosure(){var _getColorPalette=function(config){var gradientConfig=config.gradient||config.defaultGradient,paletteCanvas=document.createElement("canvas"),paletteCtx=paletteCanvas.getContext("2d");paletteCanvas.width=256,paletteCanvas.height=1;var gradient=paletteCtx.createLinearGradient(0,0,256,1);for(var key in gradientConfig)gradient.addColorStop(key,gradientConfig[key]);return paletteCtx.fillStyle=gradient,paletteCtx.fillRect(0,0,256,1),paletteCtx.getImageData(0,0,256,1).data},_getPointTemplate=function(radius,blurFactor){var tplCanvas=document.createElement("canvas"),tplCtx=tplCanvas.getContext("2d");if(tplCanvas.width=tplCanvas.height=2*radius,1==blurFactor)tplCtx.beginPath(),tplCtx.arc(radius,radius,radius,0,2*Math.PI,!1),tplCtx.fillStyle="rgba(0,0,0,1)",tplCtx.fill();else{var gradient=tplCtx.createRadialGradient(radius,radius,radius*blurFactor,radius,radius,radius);gradient.addColorStop(0,"rgba(0,0,0,1)"),gradient.addColorStop(1,"rgba(0,0,0,0)"),tplCtx.fillStyle=gradient,tplCtx.fillRect(0,0,2*radius,2*radius)}return tplCanvas},_prepareData=function(data){for(var renderData=[],min=data.min,max=data.max,radi=data.radi,data=data.data,xValues=Object.keys(data),xValuesLen=xValues.length;xValuesLen--;)for(var xValue=xValues[xValuesLen],yValues=Object.keys(data[xValue]),yValuesLen=yValues.length;yValuesLen--;){var yValue=yValues[yValuesLen],value=data[xValue][yValue],radius=radi[xValue][yValue];renderData.push({x:xValue,y:yValue,value:value,radius:radius})}return{min:min,max:max,data:renderData}};function Canvas2dRenderer(config){var container=config.container,shadowCanvas=this.shadowCanvas=document.createElement("canvas"),canvas=this.canvas=config.canvas||document.createElement("canvas");this._renderBoundaries=[1e4,1e4,0,0];var computed=getComputedStyle(config.container)||{};canvas.className="heatmap-canvas",this._width=canvas.width=shadowCanvas.width=config.width||+computed.width.replace(/px/,""),this._height=canvas.height=shadowCanvas.height=config.height||+computed.height.replace(/px/,""),this.shadowCtx=shadowCanvas.getContext("2d"),this.ctx=canvas.getContext("2d"),canvas.style.cssText=shadowCanvas.style.cssText="position:absolute;left:0;top:0;",container.style.position="relative",container.appendChild(canvas),this._palette=_getColorPalette(config),this._templates={},this._setStyles(config)}return Canvas2dRenderer.prototype={renderPartial:function(data){data.data.length>0&&(this._drawAlpha(data),this._colorize())},renderAll:function(data){this._clear(),data.data.length>0&&(this._drawAlpha(_prepareData(data)),this._colorize())},_updateGradient:function(config){this._palette=_getColorPalette(config)},updateConfig:function(config){config.gradient&&this._updateGradient(config),this._setStyles(config)},setDimensions:function(width,height){this._width=width,this._height=height,this.canvas.width=this.shadowCanvas.width=width,this.canvas.height=this.shadowCanvas.height=height},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(config){this._blur=0==config.blur?0:config.blur||config.defaultBlur,config.backgroundColor&&(this.canvas.style.backgroundColor=config.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=config.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=config.height||this._height,this._opacity=255*(config.opacity||0),this._maxOpacity=255*(config.maxOpacity||config.defaultMaxOpacity),this._minOpacity=255*(config.minOpacity||config.defaultMinOpacity),this._useGradientOpacity=!!config.useGradientOpacity},_drawAlpha:function(data){for(var min=this._min=data.min,max=this._max=data.max,data=data.data||[],dataLen=data.length,blur=1-this._blur;dataLen--;){var tpl,point=data[dataLen],x=point.x,y=point.y,radius=point.radius,value=Math.min(point.value,max),rectX=x-radius,rectY=y-radius,shadowCtx=this.shadowCtx;this._templates[radius]?tpl=this._templates[radius]:this._templates[radius]=tpl=_getPointTemplate(radius,blur);var templateAlpha=(value-min)/(max-min);shadowCtx.globalAlpha=templateAlpha<.01?.01:templateAlpha,shadowCtx.drawImage(tpl,rectX,rectY),rectX<this._renderBoundaries[0]&&(this._renderBoundaries[0]=rectX),rectY<this._renderBoundaries[1]&&(this._renderBoundaries[1]=rectY),rectX+2*radius>this._renderBoundaries[2]&&(this._renderBoundaries[2]=rectX+2*radius),rectY+2*radius>this._renderBoundaries[3]&&(this._renderBoundaries[3]=rectY+2*radius)}},_colorize:function(){var x=this._renderBoundaries[0],y=this._renderBoundaries[1],width=this._renderBoundaries[2]-x,height=this._renderBoundaries[3]-y,maxWidth=this._width,maxHeight=this._height,opacity=this._opacity,maxOpacity=this._maxOpacity,minOpacity=this._minOpacity,useGradientOpacity=this._useGradientOpacity;x<0&&(x=0),y<0&&(y=0),x+width>maxWidth&&(width=maxWidth-x),y+height>maxHeight&&(height=maxHeight-y);for(var img=this.shadowCtx.getImageData(x,y,width,height),imgData=img.data,len=imgData.length,palette=this._palette,i=3;i<len;i+=4){var finalAlpha,alpha=imgData[i],offset=4*alpha;offset&&(finalAlpha=opacity>0?opacity:alpha<maxOpacity?alpha<minOpacity?minOpacity:alpha:maxOpacity,imgData[i-3]=palette[offset],imgData[i-2]=palette[offset+1],imgData[i-1]=palette[offset+2],imgData[i]=useGradientOpacity?palette[offset+3]:finalAlpha)}this.ctx.putImageData(img,x,y),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(point){return this.shadowCtx.getImageData(point.x,point.y,1,1).data[3]/255*Math.abs(this._max-this._min)>>0},getDataURL:function(){return this.canvas.toDataURL()}},Canvas2dRenderer}(),Renderer=(rendererFn=!1,"canvas2d"===HeatmapConfig.defaultRenderer&&(rendererFn=Canvas2dRenderer),rendererFn),Util_merge=function(){for(var merged={},argsLen=arguments.length,i=0;i<argsLen;i++){var obj=arguments[i];for(var key in obj)merged[key]=obj[key]}return merged},Heatmap=function HeatmapClosure(){var Coordinator=function CoordinatorClosure(){function Coordinator(){this.cStore={}}return Coordinator.prototype={on:function(evtName,callback,scope){var cStore=this.cStore;cStore[evtName]||(cStore[evtName]=[]),cStore[evtName].push(function(data){return callback.call(scope,data)})},emit:function(evtName,data){var cStore=this.cStore;if(cStore[evtName])for(var len=cStore[evtName].length,i=0;i<len;i++)(0,cStore[evtName][i])(data)}},Coordinator}(),_connect=function(scope){var renderer=scope._renderer,coordinator=scope._coordinator,store=scope._store;coordinator.on("renderpartial",renderer.renderPartial,renderer),coordinator.on("renderall",renderer.renderAll,renderer),coordinator.on("extremachange",function(data){scope._config.onExtremaChange&&scope._config.onExtremaChange({min:data.min,max:data.max,gradient:scope._config.gradient||scope._config.defaultGradient})}),store.setCoordinator(coordinator)};function Heatmap(){var config=this._config=Util_merge(HeatmapConfig,arguments[0]||{});if(this._coordinator=new Coordinator,config.plugin){var pluginToLoad=config.plugin;if(HeatmapConfig.plugins[pluginToLoad]){var plugin=HeatmapConfig.plugins[pluginToLoad];this._renderer=new plugin.renderer(config),this._store=new plugin.store(config)}else throw Error("Plugin '"+pluginToLoad+"' not found. Maybe it was not registered.")}else this._renderer=new Renderer(config),this._store=new Store1(config);_connect(this)}return Heatmap.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(config){return this._config=Util_merge(this._config,config),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(point){return this._store.getValueAt?this._store.getValueAt(point):this._renderer.getValueAt?this._renderer.getValueAt(point):null}},Heatmap}();return{create:function(config){return new Heatmap(config)},register:function(pluginKey,plugin){HeatmapConfig.plugins[pluginKey]=plugin}}},module.exports?module.exports=factory():void 0===(__WEBPACK_AMD_DEFINE_RESULT__=factory.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}}]);