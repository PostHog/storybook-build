"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[2960],{"../../frontend/src/scenes/experiments/ExperimentMetricForm.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>ExperimentMetricForm});var LemonLabel=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonLabel/index.ts"),LemonRadio=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonRadio/index.ts"),ActionFilter=__webpack_require__("../../frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),Query=__webpack_require__("../../frontend/src/queries/Query/Query.tsx"),schema_general=__webpack_require__("../../frontend/src/queries/schema/schema-general.ts"),LemonInput=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonInput/index.ts"),LemonSelect=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSelect/index.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),FunnelConversionWindowFilter=__webpack_require__("../../frontend/src/scenes/insights/views/Funnels/FunnelConversionWindowFilter.tsx"),types=__webpack_require__("../../frontend/src/types.ts"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function ExperimentMetricConversionWindowFilter(_ref){var _metric$conversion_wi2;let{metric,handleSetMetric}=_ref,options=Object.keys(FunnelConversionWindowFilter.V).map(unit=>{var _metric$conversion_wi;return{label:(0,utils.fm)((0,utils.Zi)(null!==(_metric$conversion_wi=metric.conversion_window)&&void 0!==_metric$conversion_wi?_metric$conversion_wi:72,unit,`${unit}s`,!1)),value:unit}}),intervalBounds=FunnelConversionWindowFilter.V[null!==(_metric$conversion_wi2=metric.conversion_window_unit)&&void 0!==_metric$conversion_wi2?_metric$conversion_wi2:types.ih.Day];return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(LemonLabel.H,{className:"mb-1",info:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Controls how long a metric value is considered relevant to an experiment exposure:",(0,jsx_runtime.jsxs)("ul",{className:"list-disc pl-4",children:[(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("strong",{children:"Experiment duration"})," considers any data from when a user is first exposed until the experiment ends."]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("strong",{children:"Time window"})," only includes data that occurs within the specified time window after a user's first exposure (also ignoring the experiment end date)."]})]})]}),children:"Conversion window limit"}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(LemonRadio._,{className:"my-1.5",value:void 0===metric.conversion_window_unit?"experiment_duration":"time_window",orientation:"horizontal",onChange:value=>handleSetMetric({...metric,conversion_window:"experiment_duration"===value?void 0:14,conversion_window_unit:"experiment_duration"===value?void 0:types.ih.Day}),options:[{value:"experiment_duration",label:"Experiment duration"},{value:"time_window",label:"Time window"}]}),(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(LemonInput.D,{type:"number",className:"max-w-20",fullWidth:!1,min:intervalBounds[0],max:intervalBounds[1],value:void 0===metric.conversion_window_unit?14:metric.conversion_window||1,onChange:value=>{handleSetMetric({...metric,conversion_window:value||void 0})}}),(0,jsx_runtime.jsx)(LemonSelect.Yv,{dropdownMatchSelectWidth:!1,value:metric.conversion_window_unit||types.ih.Day,onChange:value=>handleSetMetric({...metric,conversion_window_unit:value||void 0}),options:options})]})})]})]})}var src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts");function ExperimentMetricOutlierHandling(_ref){let{metric,handleSetMetric}=_ref;return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(LemonLabel.H,{className:"mb-1",info:"Prevent outliers from skewing results by capping the lower and upper bounds of a metric.",children:"Outlier handling"}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-muted-alt",children:"Set winsorization lower and upper bounds to cap metric values at the specified percentiles."}),(0,jsx_runtime.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.Hw,{label:(0,jsx_runtime.jsx)("span",{className:"text-muted",children:"Lower bound percentile"}),checked:void 0!==metric.lower_bound_percentile,onChange:checked=>handleSetMetric({...metric,lower_bound_percentile:checked?.05:void 0})}),(0,jsx_runtime.jsx)(LemonInput.D,{value:void 0!==metric.lower_bound_percentile?100*metric.lower_bound_percentile:0,onChange:value=>void 0!==metric.lower_bound_percentile&&handleSetMetric({...metric,lower_bound_percentile:(null!=value?value:0)/100}),type:"number",step:1,suffix:(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"%"}),size:"small",className:`w-20 transition-opacity ${void 0===metric.lower_bound_percentile?"opacity-0 invisible":"opacity-100 visible"}`})]}),(0,jsx_runtime.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.Hw,{label:(0,jsx_runtime.jsx)("span",{className:"text-muted",children:"Upper bound percentile"}),checked:void 0!==metric.upper_bound_percentile,onChange:checked=>handleSetMetric({...metric,upper_bound_percentile:checked?.95:void 0})}),(0,jsx_runtime.jsx)(LemonInput.D,{value:void 0!==metric.upper_bound_percentile?100*metric.upper_bound_percentile:0,onChange:value=>void 0!==metric.upper_bound_percentile&&handleSetMetric({...metric,upper_bound_percentile:(null!=value?value:0)/100}),type:"number",step:1,suffix:(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"%"}),size:"small",className:`w-20 transition-opacity ${void 0===metric.upper_bound_percentile?"opacity-0 invisible":"opacity-100 visible"}`})]})]})}var Selectors=__webpack_require__("../../frontend/src/scenes/experiments/Metrics/Selectors.tsx"),experiments_utils=__webpack_require__("../../frontend/src/scenes/experiments/utils.ts");let dataWarehousePopoverFields=[{key:"timestamp_field",label:"Timestamp Field"},{key:"data_warehouse_join_key",label:"Data Warehouse Join Key",allowHogQL:!0},{key:"events_join_key",label:"Events Join Key",allowHogQL:!0,hogQLOnly:!0,tableName:"events"}];function ExperimentMetricForm(_ref){let{metric,handleSetMetric,filterTestAccounts}=_ref,mathAvailability=(0,experiments_utils.Vb)(metric.metric_type),allowedMathTypes=(0,experiments_utils.dR)(metric.metric_type),handleSetFilters=_ref2=>{let{actions,events,data_warehouse}=_ref2,metricConfig=(0,experiments_utils.jG)(metric.metric_type,actions,events,data_warehouse);metricConfig&&handleSetMetric({...metric,...metricConfig})},radioOptions=[{value:schema_general.Tu.FUNNEL,label:"Funnel",description:"Calculates the percentage of users for whom the metric occurred at least once, useful for measuring conversion rates."},{value:schema_general.Tu.MEAN,label:"Mean",description:"Tracks the value of the metric per user, useful for measuring count of clicks, revenue, or other numeric metrics such as session length."}],metricFilter=(0,experiments_utils.d9)(metric),previewQuery=(0,experiments_utils.PI)(metric,filterTestAccounts),queryConfig={kind:schema_general.OH.InsightVizNode,source:previewQuery,showTable:!1,showLastComputation:!0,showLastComputationRefresh:!1};return(0,jsx_runtime.jsxs)("div",{className:"deprecated-space-y-4",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(LemonLabel.H,{className:"mb-1",children:"Type"}),(0,jsx_runtime.jsx)(LemonRadio._,{"data-attr":"metrics-selector",value:metric.metric_type,onChange:newMetricType=>{handleSetMetric((0,experiments_utils.FN)(newMetricType))},options:radioOptions})]}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(LemonLabel.H,{className:"mb-1",children:"Metric"}),metric.metric_type===schema_general.Tu.MEAN&&(0,jsx_runtime.jsx)(ActionFilter.T,{bordered:!0,filters:metricFilter,setFilters:handleSetFilters,typeKey:"experiment-metric",buttonCopy:"Add graph series",showSeriesIndicator:!1,hideRename:!0,entitiesLimit:1,showNumericalPropsOnly:!0,mathAvailability:mathAvailability,allowedMathTypes:allowedMathTypes,dataWarehousePopoverFields:dataWarehousePopoverFields,...Selectors.dF}),metric.metric_type===schema_general.Tu.FUNNEL&&(0,jsx_runtime.jsx)(ActionFilter.T,{bordered:!0,filters:metricFilter,setFilters:handleSetFilters,typeKey:"experiment-metric",buttonCopy:"Add step",showSeriesIndicator:!1,hideRename:!0,hideDeleteBtn:(_,index)=>0===index,sortable:!0,showNestedArrow:!0,mathAvailability:mathAvailability,allowedMathTypes:allowedMathTypes,dataWarehousePopoverFields:dataWarehousePopoverFields,...Selectors.dF})]}),(0,jsx_runtime.jsx)(ExperimentMetricConversionWindowFilter,{metric:metric,handleSetMetric:handleSetMetric}),metric.metric_type===schema_general.Tu.MEAN&&(0,jsx_runtime.jsx)(ExperimentMetricOutlierHandling,{metric:metric,handleSetMetric:handleSetMetric}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(LemonLabel.H,{className:"mb-1",info:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["The preview uses data from the past 14 days to show how the metric will appear.",(0,jsx_runtime.jsx)("br",{}),"For funnel metrics, we simulate experiment exposure by inserting a page-view event at the start of the funnel. In the experiment evaluation, this will be replaced by the actual experiment-exposure event."]}),children:"Preview"})}),metric.metric_type===schema_general.Tu.MEAN&&metric.source.kind!==schema_general.OH.ExperimentDataWarehouseNode&&(0,jsx_runtime.jsx)(Query.A,{query:queryConfig,readOnly:!0}),metric.metric_type===schema_general.Tu.FUNNEL&&(0,jsx_runtime.jsx)(Query.A,{query:queryConfig,readOnly:!0})]})}},"../../frontend/src/scenes/experiments/Metrics/Selectors.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{IF:()=>FunnelConversionWindowFilter,dF:()=>commonActionFilterProps,f$:()=>FunnelAttributionSelect,xE:()=>FunnelAggregationSelect});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.14.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_HogQLEditor_HogQLEditor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/HogQLEditor/HogQLEditor.tsx"),lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/types.ts"),lib_introductions_groupsAccessLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/introductions/groupsAccessLogic.ts"),lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/lib/lemon-ui/Tooltip/index.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/lib/utils.tsx"),scenes_groups_GroupsIntroduction__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/scenes/groups/GroupsIntroduction.tsx"),scenes_insights_EditorFilters_FunnelsQuerySteps__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/insights/EditorFilters/FunnelsQuerySteps.tsx"),scenes_insights_views_Funnels_FunnelConversionWindowFilter__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../frontend/src/scenes/insights/views/Funnels/FunnelConversionWindowFilter.tsx"),_models_groupsModel__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../frontend/src/models/groupsModel.ts"),_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../frontend/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let commonActionFilterProps={actionsTaxonomicGroupTypes:[lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.Events,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.Actions,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.DataWarehouse],propertiesTaxonomicGroupTypes:[lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.EventProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.PersonProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.EventFeatureFlags,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.Cohorts,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.Elements,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.SessionProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.HogQLExpression,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.DataWarehouseProperties,lib_components_TaxonomicFilter_types__WEBPACK_IMPORTED_MODULE_4__.t.DataWarehousePersonProperties]};function FunnelAggregationSelect(_ref){let{value,onChange}=_ref,{groupTypes,aggregationLabel}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_models_groupsModel__WEBPACK_IMPORTED_MODULE_11__.$),{needsUpgradeForGroups,canStartUsingGroups}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(lib_introductions_groupsAccessLogic__WEBPACK_IMPORTED_MODULE_5__.e),UNIQUE_USERS="person_id",baseValues=[UNIQUE_USERS],optionSections=[{title:"Event Aggregation",options:[{value:UNIQUE_USERS,label:"Unique users"}]}];return needsUpgradeForGroups||canStartUsingGroups?optionSections[0].footer=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(scenes_groups_GroupsIntroduction__WEBPACK_IMPORTED_MODULE_8__.b,{needsUpgrade:needsUpgradeForGroups}):Array.from(groupTypes.values()).forEach(groupType=>{baseValues.push(`$group_${groupType.group_type_index}`),optionSections[0].options.push({value:`$group_${groupType.group_type_index}`,label:`Unique ${aggregationLabel(groupType.group_type_index).plural}`})}),baseValues.push("properties.$session_id"),optionSections[0].options.push({value:"properties.$session_id",label:"Unique sessions"}),optionSections[0].options.push({label:"Custom SQL expression",options:[{value:!value||baseValues.includes(value)?"":value,label:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{className:"font-mono",children:value}),labelInMenu:function CustomHogQLOptionWrapped(_ref2){let{onSelect}=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{className:"w-120",style:{maxWidth:"max(60vw, 20rem)"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_components_HogQLEditor_HogQLEditor__WEBPACK_IMPORTED_MODULE_3__.E,{onChange:onSelect,value:value,placeholder:"Enter SQL expression, such as:\n- distinct_id\n- properties.$session_id\n- concat(distinct_id, ' ', properties.$session_id)\n- if(1 < 2, 'one', 'two')"})})}}]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{children:"Aggregating by"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Yv,{className:"flex-1",value:value,onChange:onChange,options:optionSections,dropdownMatchSelectWidth:!1})]})}function FunnelConversionWindowFilter(_ref3){let{funnelWindowInterval,funnelWindowIntervalUnit,onFunnelWindowIntervalChange,onFunnelWindowIntervalUnitChange}=_ref3,options=Object.keys(scenes_insights_views_Funnels_FunnelConversionWindowFilter__WEBPACK_IMPORTED_MODULE_10__.V).map(unit=>({label:(0,lib_utils__WEBPACK_IMPORTED_MODULE_7__.fm)((0,lib_utils__WEBPACK_IMPORTED_MODULE_7__.Zi)(null!=funnelWindowInterval?funnelWindowInterval:7,unit,`${unit}s`,!1)),value:unit})),intervalBounds=scenes_insights_views_Funnels_FunnelConversionWindowFilter__WEBPACK_IMPORTED_MODULE_10__.V[null!=funnelWindowIntervalUnit?funnelWindowIntervalUnit:_types__WEBPACK_IMPORTED_MODULE_12__.ih.Day];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("span",{className:"flex whitespace-nowrap",children:["Conversion window limit",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_6__.u,{title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("b",{children:"Recommended!"})," Limit to participants that converted within a specific time frame. Participants that do not convert in this time frame will be considered as drop-offs."]}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconInfo,{className:"w-4 info-indicator"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.DF,{type:"number",className:"max-w-20",fullWidth:!1,min:intervalBounds[0],max:intervalBounds[1],value:funnelWindowInterval,onChange:onFunnelWindowIntervalChange}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Yv,{dropdownMatchSelectWidth:!1,value:funnelWindowIntervalUnit,onChange:onFunnelWindowIntervalUnitChange,options:options})]})]})}function FunnelAttributionSelect(_ref4){let{value,onChange,stepsLength}=_ref4,funnelOrderType=void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{children:"Attribution type"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_6__.u,{closeDelayMs:200,title:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:"deprecated-space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:"When breaking down funnels, it's possible that the same properties don't exist on every event. For example, if you want to break down by browser on a funnel that contains both frontend and backend events."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:"In this case, you can choose from which step the properties should be selected from by modifying the attribution type. There are four modes to choose from:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("ul",{className:"list-disc pl-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("li",{children:"First touchpoint: the first property value seen in any of the steps is chosen."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("li",{children:"Last touchpoint: the last property value seen from all steps is chosen."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("li",{children:"All steps: the property value must be seen in all steps to be considered in the funnel."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("li",{children:"Specific step: only the property value seen at the selected step is chosen."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{children:["Read more in the"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.rU,{to:"https://posthog.com/docs/product-analytics/funnels#attribution-types",children:"documentation."})]})]}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconInfo,{className:"text-xl text-secondary shrink-0 ml-1"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Yv,{value:value,placeholder:"Attribution",options:[{value:_types__WEBPACK_IMPORTED_MODULE_12__.q9.FirstTouch,label:"First touchpoint"},{value:_types__WEBPACK_IMPORTED_MODULE_12__.q9.LastTouch,label:"Last touchpoint"},{value:_types__WEBPACK_IMPORTED_MODULE_12__.q9.AllSteps,label:"All steps"},{value:_types__WEBPACK_IMPORTED_MODULE_12__.q9.Step,label:"Any step",hidden:funnelOrderType!==_types__WEBPACK_IMPORTED_MODULE_12__.kO.UNORDERED},{label:"Specific step",options:Array(scenes_insights_EditorFilters_FunnelsQuerySteps__WEBPACK_IMPORTED_MODULE_9__.i).fill(null).map((_,stepIndex)=>({value:`${_types__WEBPACK_IMPORTED_MODULE_12__.q9.Step}/${stepIndex}`,label:`Step ${stepIndex+1}`,hidden:stepIndex>=stepsLength})),hidden:funnelOrderType===_types__WEBPACK_IMPORTED_MODULE_12__.kO.UNORDERED}],onChange:onChange,dropdownMaxContentWidth:!0,"data-attr":"breakdown-attributions"})]})}}}]);