(window.webpackJsonp=window.webpackJsonp||[]).push([[240],{"./frontend/src/scenes/project-homepage/ProjectHomepage.tsx":function(m,t,e){"use strict";e.r(t),e.d(t,"ProjectHomepage",function(){return T}),e.d(t,"scene",function(){return k});var p=e("./node_modules/core-js/modules/es.function.name.js"),q=e("./node_modules/core-js/modules/es.object.to-string.js"),_=e("./node_modules/core-js/modules/es.regexp.to-string.js"),H=e("./node_modules/react/index.js"),a=e.n(H),w=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),E=e.n(w),O=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss"),M=e.n(O),j={};j.insert="head",j.singleton=!1;var ee=E()(M.a,j),ae=M.a.locals||{},A=e("./frontend/src/lib/components/PageHeader.tsx"),R=e("./frontend/src/scenes/dashboard/Dashboard.tsx"),d=e("./node_modules/kea/lib/index.esm.js"),g=e("./frontend/src/scenes/teamLogic.ts"),N=e("./frontend/src/types.ts"),v=e("./node_modules/antd/es/button/index.js"),V=e("./node_modules/antd/es/row/index.js"),B=e("./node_modules/antd/es/typography/index.js"),G=e("./frontend/src/scenes/organization/Settings/inviteLogic.ts"),W=e("./node_modules/kea-router/lib/index.js"),J=e("./frontend/src/scenes/urls.ts"),C=e("./frontend/src/lib/components/LemonRow/index.ts"),$=e("./frontend/src/scenes/dashboard/dashboardLogic.ts"),se=e("./node_modules/core-js/modules/es.symbol.js"),oe=e("./node_modules/core-js/modules/es.symbol.description.js"),re=e("./node_modules/core-js/modules/es.array.map.js"),z=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/PrimaryDashboardModal.scss"),I=e.n(z),P={};P.insert="head",P.singleton=!1;var te=E()(I.a,P),de=I.a.locals||{},F=e("./frontend/src/models/dashboardsModel.tsx"),K=e("./frontend/src/lib/components/LemonModal/LemonModal.tsx"),L=e("./frontend/src/lib/components/LemonButton/index.ts"),Q=e("./node_modules/antd/es/skeleton/index.js"),U=e("./node_modules/@babel/runtime/regenerator/index.js"),S=e.n(U),ne=e("./node_modules/regenerator-runtime/runtime.js"),X=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Y=e.n(X),x=Object(d.kea)({path:["scenes","project-homepage","primaryDashboardModalLogic"],connect:{actions:[g.a,["updateCurrentTeam"]],values:[g.a,["currentTeam"]]},actions:{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!0},setPrimaryDashboard:function(l){return{dashboardId:l}}},selectors:{primaryDashboardId:[function(s){return[s.currentTeam]},function(s){return s==null?void 0:s.primary_dashboard}]},reducers:{visible:[!1,{showPrimaryDashboardModal:function(){return!0},closePrimaryDashboardModal:function(){return!1}}]},listeners:function(l){var r=l.actions;return{setPrimaryDashboard:function(){var c=Y()(S.a.mark(function n(h){var u;return S.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:u=h.dashboardId,r.updateCurrentTeam({primary_dashboard:u});case 2:case"end":return o.stop()}},n)}));function i(n){return c.apply(this,arguments)}return i}()}}}),D=e("./frontend/src/lib/components/icons.tsx");function Z(){var s=Object(d.useValues)(x),l=s.visible,r=s.primaryDashboardId,c=Object(d.useActions)(x),i=c.closePrimaryDashboardModal,n=c.setPrimaryDashboard,h=Object(d.useValues)(F.a),u=h.nameSortedDashboards,y=h.dashboardsLoading;return a.a.createElement(K.a,{className:"primary-dashboard-modal",visible:l,onCancel:function(){i()},title:"Select a default dashboard for the project",destroyOnClose:!0,bodyStyle:{padding:0},footer:a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{type:"secondary","data-attr":"close-primary-dashboard-modal",style:{marginRight:"0.5rem"},onClick:i},"Close"))},y?a.a.createElement("div",{className:"loading-skeleton-container"},a.a.createElement(Q.a,{active:!0})):a.a.createElement("div",{className:"dashboard-list"},u.map(function(o){var f=o.id===r,b=[a.a.createElement("div",{key:1,className:"dashboard-label-container"},a.a.createElement("strong",null,o.name),o.description&&a.a.createElement("p",{className:"text-small text-muted-alt dashboard-description"},o.description)),a.a.createElement("div",{key:2},f?a.a.createElement("div",{className:"default-indicator"},a.a.createElement(D.HomeIcon,{className:"mr-05",style:{width:18}}),a.a.createElement("span",null,"Default")):a.a.createElement("strong",{className:"set-default-text"},"Set as default"))];return f?a.a.createElement(C.a,{key:o.id,fullWidth:!0,className:"dashboard-row primary-dashboard-row"},b):a.a.createElement(L.a,{key:o.id,fullWidth:!0,className:"dashboard-row",onClick:function(){n(o.id),i()}},b)})))}function T(){var s,l=Object(d.useValues)(g.a),r=l.currentTeam,c=Object($.c)({id:(s=r==null?void 0:r.primary_dashboard)!==null&&s!==void 0?s:void 0}),i=Object(d.useValues)(c),n=i.dashboard,h=Object(d.useActions)(G.a),u=h.showInviteModal,y=Object(d.useActions)(x),o=y.showPrimaryDashboardModal,f=a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(v.a,{"data-attr":"project-home-invite-team-members",onClick:function(){u()},className:"mr-05"},"Invite members"),a.a.createElement(v.a,{"data-attr":"project-home-new-insight",onClick:function(){W.router.actions.push(J.a.insightNew({insight:N.s.TRENDS}))}},"New insight"));return a.a.createElement("div",{className:"project-homepage"},a.a.createElement(A.a,{title:(r==null?void 0:r.name)||"",delimited:!0,buttons:f}),r!=null&&r.primary_dashboard?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(V.a,{className:"dashboard-header"},a.a.createElement("div",{className:"dashboard-title-container"},a.a.createElement(D.HomeIcon,{className:"mr-05",style:{width:18}}),a.a.createElement(B.a.Title,{className:"dashboard-name",level:4},n==null?void 0:n.name)),a.a.createElement(v.a,{"data-attr":"project-home-new-insight",onClick:o},"Change dashboard")),a.a.createElement(C.b,null)),a.a.createElement(R.Dashboard,{id:r.primary_dashboard.toString(),placement:N.f.ProjectHomepage})):a.a.createElement("div",{className:"empty-state-container"},a.a.createElement(D.HomeIcon,{className:"mb"}),a.a.createElement("h1",null,"There isn\u2019t a default dashboard set for this project"),a.a.createElement("p",{className:"mb"},"Default dashboards are shown to everyone in the project. When you set a default, it\u2019ll show up here."),a.a.createElement(v.a,{type:"primary","data-attr":"project-home-new-insight",onClick:function(){o()}},"Select a default dashboard")),a.a.createElement(Z,null))}var k={component:T}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/PrimaryDashboardModal.scss":function(m,t,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");t=p(!1),t.push([m.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.primary-dashboard-modal .loading-skeleton-container{padding:1rem}.primary-dashboard-modal .dashboard-list{max-height:350px;overflow-y:scroll;padding:.5rem 1rem .25rem}.primary-dashboard-modal .dashboard-list .dashboard-row{display:flex;flex:1;height:60px;padding:.5rem;margin-bottom:.25rem}.primary-dashboard-modal .dashboard-list .dashboard-row.primary-dashboard-row{background-color:#fafaf9}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-label-container{color:#2d2d2d;flex:1}.primary-dashboard-modal .dashboard-list .dashboard-row .dashboard-description{margin:0}.primary-dashboard-modal .dashboard-list .dashboard-row .set-default-text{color:#5375ff}.primary-dashboard-modal .dashboard-list .dashboard-row .default-indicator{color:#2d2d2d;display:flex;align-items:center}",""]),m.exports=t},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/project-homepage/ProjectHomepage.scss":function(m,t,e){var p=e("./node_modules/css-loader/dist/runtime/api.js");t=p(!1),t.push([m.i,'.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.project-homepage .dashboard-header{justify-content:"space-between";align-items:center}.project-homepage .dashboard-header .dashboard-title-container{display:flex;flex-direction:row;align-items:center}.project-homepage .dashboard-header .dashboard-title-container .dashboard-name{margin:0}.project-homepage .empty-state-container{background-color:#fafaf9;width:100%;justify-content:center;align-items:center;padding:4rem;display:flex;flex-direction:column}',""]),m.exports=t}}]);
