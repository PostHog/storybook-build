(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{"./frontend/src/scenes/data-management/DataManagementPageTabs.tsx":function(T,r,e){"use strict";e.d(r,"b",function(){return s}),e.d(r,"a",function(){return b});var E=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=e.n(E),I=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),_=e.n(I),R=e("./node_modules/core-js/modules/es.array.iterator.js"),z=e.n(R),U=e("./node_modules/core-js/modules/es.object.to-string.js"),B=e.n(U),j=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),X=e.n(j),H=e("./node_modules/core-js/modules/es.object.from-entries.js"),Y=e.n(H),a=e("./node_modules/core-js/modules/es.array.map.js"),O=e.n(a),K=e("./node_modules/core-js/modules/es.object.entries.js"),G=e.n(K),S=e("./node_modules/react/index.js"),o=e.n(S),M=e("./node_modules/kea/lib/index.esm.js"),u=e("./node_modules/antd/es/tabs/index.js"),v=e("./frontend/src/scenes/urls.ts"),x=e("./frontend/src/lib/components/Tooltip.tsx"),C=e("./frontend/src/lib/components/icons.tsx"),W=e("./frontend/src/lib/components/TitleWithIcon.tsx"),N=e("./frontend/src/lib/constants.tsx"),V=e("./frontend/src/lib/logic/featureFlagLogic.ts"),g,s;(function(n){n.Actions="actions",n.EventDefinitions="events",n.EventPropertyDefinitions="properties",n.IngestionWarnings="warnings"})(s||(s={}));var h=(g={},_()(g,s.EventPropertyDefinitions,v.a.eventPropertyDefinitions()),_()(g,s.EventDefinitions,v.a.eventDefinitions()),_()(g,s.Actions,v.a.actions()),_()(g,s.IngestionWarnings,v.a.ingestionWarnings()),g),p=Object(M.kea)({path:["scenes","events","eventsTabsLogic"],connect:{values:[V.a,["featureFlags"]]},actions:{setTab:function(l){return{tab:l}}},reducers:{tab:[s.EventDefinitions,{setTab:function(l,f){var d=f.tab;return d}}]},selectors:{showWarningsTab:[function(n){return[n.featureFlags]},function(n){return!!n[N.i.INGESTION_WARNINGS_ENABLED]}]},actionToUrl:function(){return{setTab:function(f){var d=f.tab;return h[d]||v.a.events()}}},urlToAction:function(l){var f=l.actions,d=l.values;return Object.fromEntries(Object.entries(h).map(function(y){var t=m()(y,2),A=t[0],L=t[1];return[L,function(){d.tab!==A&&f.setTab(A)}]}))}});function b(n){var l=n.tab,f=Object(M.useValues)(p),d=f.showWarningsTab,y=Object(M.useActions)(p),t=y.setTab;return o.a.createElement(u.a,{tabPosition:"top",animated:!1,activeKey:l,onTabClick:function(L){return t(L)}},o.a.createElement(u.a.TabPane,{tab:o.a.createElement("span",{"data-attr":"data-management-events-tab"},"Events"),key:s.EventDefinitions}),o.a.createElement(u.a.TabPane,{tab:o.a.createElement(W.a,{icon:o.a.createElement(x.a,{title:"Actions consist of one or more events that you have decided to put into a deliberately-labeled bucket. They're used in insights and dashboards."},o.a.createElement(C.IconInfo,null)),"data-attr":"data-management-actions-tab"},"Actions"),key:s.Actions}),o.a.createElement(u.a.TabPane,{tab:o.a.createElement(W.a,{icon:o.a.createElement(x.a,{title:"Properties are additional data sent along with an event capture. Use properties to understand additional information about events and the actors that generate them."},o.a.createElement(C.IconInfo,null)),"data-attr":"data-management-event-properties-tab"},"Event Properties"),key:s.EventPropertyDefinitions}),d&&o.a.createElement(u.a.TabPane,{tab:o.a.createElement("span",{"data-attr":"data-management-warnings-tab"},"Ingestion Warnings"),key:s.IngestionWarnings}))}try{b.displayName="DataManagementPageTabs",b.__docgenInfo={description:"",displayName:"DataManagementPageTabs",props:{tab:{defaultValue:null,description:"",name:"tab",required:!0,type:{name:"enum",value:[{value:'"actions"'},{value:'"events"'},{value:'"properties"'},{value:'"warnings"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"]={docgenInfo:b.__docgenInfo,name:"DataManagementPageTabs",path:"frontend/src/scenes/data-management/DataManagementPageTabs.tsx#DataManagementPageTabs"})}catch(n){}},"./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.tsx":function(T,r,e){"use strict";e.r(r),e.d(r,"scene",function(){return s}),e.d(r,"EventPropertyDefinitionsTable",function(){return h});var E=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),m=e.n(E),I=e("./node_modules/core-js/modules/es.array.concat.js"),_=e("./node_modules/core-js/modules/es.function.name.js"),R=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),z=e.n(R),U=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss"),B=e.n(U),j={};j.insert="head",j.singleton=!1;var X=z()(B.a,j),H=B.a.locals||{},Y=e("./node_modules/react/index.js"),a=e.n(Y),O=e("./node_modules/kea/lib/index.esm.js"),K=e("./frontend/src/lib/components/LemonTable/index.ts"),G=e("./frontend/src/lib/components/ObjectTags/ObjectTags.tsx"),S=e("./frontend/src/scenes/organizationLogic.tsx"),o=e("./frontend/src/scenes/data-management/events/DefinitionHeader.tsx"),M=e("./frontend/src/lib/utils.tsx"),u=e("./frontend/src/scenes/data-management/event-properties/eventPropertyDefinitionsTableLogic.ts"),v=e("./frontend/src/scenes/data-management/DataManagementPageTabs.tsx"),x=e("./frontend/src/scenes/events/UsageDisabledWarning.tsx"),C=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),W=e("./frontend/src/lib/components/PageHeader.tsx"),N=e("./frontend/@posthog/lemon-ui/src/index.ts"),V=e("./frontend/src/lib/components/AlertMessage/index.ts"),g=e("./frontend/src/lib/components/DefinitionPopup/DefinitionPopupContents.tsx"),s={component:h,logic:u.b,paramsToProps:function(){return{syncWithUrl:!0}}};function h(){var p,b,n,l,f=Object(O.useValues)(C.a),d=f.preflight,y=Object(O.useValues)(u.b),t=y.eventPropertyDefinitions,A=y.eventPropertyDefinitionsLoading,L=y.filters,$=Object(O.useActions)(u.b),J=$.loadEventPropertyDefinitions,Z=$.setFilters,Q=Object(O.useValues)(S.a),w=Q.hasDashboardCollaboration,k=Q.hasIngestionTaxonomy,q=[{key:"icon",className:"definition-column-icon",render:function(c,i){return a.a.createElement(o.b,{definition:i,hideText:!0})}},{title:"Name",key:"name",className:"definition-column-name",render:function(c,i){return a.a.createElement(o.b,{definition:i,hideIcon:!0,asLink:!0})},sorter:function(c,i){return c.name.localeCompare(i.name)}}].concat(m()(w?[{title:"Tags",key:"tags",render:function(c,i){var P;return a.a.createElement(G.a,{tags:(P=i.tags)!==null&&P!==void 0?P:[],staticOnly:!0})}}]:[]),m()(k?[{title:a.a.createElement(g.b,{tooltipPlacement:"bottom"}),key:"query_usage_30_day",align:"right",render:function(c,i){return i.query_usage_30_day?Object(M.P)(i.query_usage_30_day):a.a.createElement("span",{className:"text-muted"},"\u2014")},sorter:function(c,i){var P,F;return((P=c==null?void 0:c.query_usage_30_day)!==null&&P!==void 0?P:0)-((F=i==null?void 0:i.query_usage_30_day)!==null&&F!==void 0?F:0)}}]:[]));return a.a.createElement("div",{"data-attr":"manage-events-table"},a.a.createElement(W.a,{title:"Data Management",caption:"Use data management to organize events that come into PostHog. Reduce noise, clarify usage, and help collaborators get the most value from your data.",tabbedPage:!0}),d&&!(d!=null&&d.is_event_property_usage_enabled)?a.a.createElement(x.a,null):((p=t.results)===null||p===void 0||(b=p[0])===null||b===void 0?void 0:b.query_usage_30_day)===null&&a.a.createElement("div",{className:"mb-4"},a.a.createElement(V.a,{type:"warning"},"We haven't been able to get usage and volume data yet. Please check back later.")),a.a.createElement(v.a,{tab:v.b.EventPropertyDefinitions}),a.a.createElement("div",{className:"mb-4"},a.a.createElement(N.LemonInput,{type:"search",placeholder:"Search for properties",onChange:function(c){return Z({property:c||""})},value:L.property})),a.a.createElement(K.a,{columns:q,className:"event-properties-definition-table","data-attr":"event-properties-definition-table",loading:A,rowKey:"id",pagination:{controlled:!0,currentPage:(n=t==null?void 0:t.page)!==null&&n!==void 0?n:1,entryCount:(l=t==null?void 0:t.count)!==null&&l!==void 0?l:0,pageSize:u.a,onForward:t.next?function(){J(t.next)}:void 0,onBackward:t.previous?function(){J(t.previous)}:void 0},dataSource:t.results,emptyState:"No event property definitions",nouns:["property","properties"]}))}},"./frontend/src/scenes/events/UsageDisabledWarning.tsx":function(T,r,e){"use strict";e.d(r,"a",function(){return _});var E=e("./node_modules/react/index.js"),m=e.n(E),I=e("./frontend/src/lib/components/AlertMessage/index.ts");function _(){return m.a.createElement(I.a,{type:"info"},m.a.createElement("div",{className:"text-base mb-1"},"Event usage information is not enabled for your instance."),m.a.createElement("p",{className:"font-normal"},"You will still see the list of events and properties, but usage information will be unavailable. If you want to enable event usage please set the follow environment variable:"," ",m.a.createElement("pre",{style:{display:"inline"}},"ASYNC_EVENT_PROPERTY_USAGE=1"),". Please note, enabling this environment variable ",m.a.createElement("b",null,"may increase load considerably in your infrastructure"),", particularly if you have a large volume of events."))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/data-management/event-properties/EventPropertyDefinitionsTable.scss":function(T,r,e){var E=e("./node_modules/css-loader/dist/runtime/api.js");r=E(!1),r.push([T.i,'.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon{width:36px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon{display:flex;align-items:center;justify-content:center;width:30px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon{flex-shrink:0}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-muted{color:var(--muted-alt)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-icon .definition-column-name-icon svg.taxonomy-icon.taxonomy-icon-verified{color:var(--success)}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content{display:flex;flex-direction:column;position:relative}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title{font-weight:600;cursor:pointer}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-title:before{content:"";position:absolute;top:-5px;left:-10px;right:-50px;height:22px}.event-properties-definition-table .LemonTable__content>table>tbody td.definition-column-name .definition-column-name-content .definition-column-name-content-description{font-size:13px;color:var(--muted);text-overflow:ellipsis}',""]),T.exports=r}}]);
