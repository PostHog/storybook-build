(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(be,z,e){"use strict";e.d(z,"a",function(){return Ne});var ae=e("./node_modules/core-js/modules/es.array.includes.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.array.iterator.js"),He=e.n(De),N=e("./node_modules/core-js/modules/es.object.to-string.js"),$e=e.n(N),X=e("./node_modules/core-js/modules/es.object.values.js"),oe=e.n(X),r=e("./node_modules/core-js/modules/es.string.includes.js"),j=e.n(r),st=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Q=e.n(st),Ce=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ut=e.n(Ce),Ze=e("./node_modules/kea/lib/index.esm.js"),he=e("./frontend/src/lib/utils.tsx"),ce=e("./frontend/src/types.ts"),x=e("./frontend/src/scenes/insights/sharedUtils.ts"),K=e("./frontend/src/scenes/insights/insightLogic.ts");function Ke(te,Ye){var Ee=Object.keys(te);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(te);Ye&&(Pe=Pe.filter(function(mt){return Object.getOwnPropertyDescriptor(te,mt).enumerable})),Ee.push.apply(Ee,Pe)}return Ee}function ve(te){for(var Ye=1;Ye<arguments.length;Ye++){var Ee=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?Ke(Object(Ee),!0).forEach(function(Pe){ut()(te,Pe,Ee[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(Ee)):Ke(Object(Ee)).forEach(function(Pe){Object.defineProperty(te,Pe,Object.getOwnPropertyDescriptor(Ee,Pe))})}return te}function we(te){return Object.values(ce.o).includes(te)}var Ne=Object(Ze.kea)({props:{},key:Object(x.c)("new"),path:function(Ye){return["lib","components","ChartFilter","chartFilterLogic",Ye]},connect:function(Ye){return{actions:[Object(K.b)(Ye),["setFilters"]],values:[Object(K.b)(Ye),["filters"]]}},actions:function(){return{setChartFilter:function(Ee){return{chartFilter:Ee}}}},selectors:{chartFilter:[function(te){return[te.filters]},function(te){var Ye=te.display,Ee=te.funnel_viz_type;return(Ye===ce.d.FunnelViz?Ee:Ye)||null}]},listeners:function(Ye){var Ee=Ye.actions,Pe=Ye.values;return{setChartFilter:function(Te){var et=Te.chartFilter,M=Pe.filters,it=M.display,pe=M.funnel_viz_type;we(et)?(pe!==et||it!==ce.d.FunnelViz)&&Ee.setFilters(ve(ve({},Pe.filters),{},{display:ce.d.FunnelViz,funnel_viz_type:et})):Object(he.mb)(it,et)||Ee.setFilters(ve(ve({},Pe.filters),{},{display:et}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(be,z,e){"use strict";e.d(z,"a",function(){return he});var ae=e("./node_modules/core-js/modules/es.array.iterator.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.object.to-string.js"),He=e.n(De),N=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),$e=e.n(N),X=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),oe=e.n(X),r=e("./node_modules/kea/lib/index.esm.js"),j=e("./frontend/src/lib/utils.tsx"),st=e("./frontend/src/types.ts"),Q=e("./frontend/src/scenes/insights/sharedUtils.ts"),Ce=e("./frontend/src/scenes/insights/insightLogic.ts");function ut(ce,x){var K=Object.keys(ce);if(Object.getOwnPropertySymbols){var Ke=Object.getOwnPropertySymbols(ce);x&&(Ke=Ke.filter(function(ve){return Object.getOwnPropertyDescriptor(ce,ve).enumerable})),K.push.apply(K,Ke)}return K}function Ze(ce){for(var x=1;x<arguments.length;x++){var K=arguments[x]!=null?arguments[x]:{};x%2?ut(Object(K),!0).forEach(function(Ke){oe()(ce,Ke,K[Ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(K)):ut(Object(K)).forEach(function(Ke){Object.defineProperty(ce,Ke,Object.getOwnPropertyDescriptor(K,Ke))})}return ce}var he=Object(r.kea)({props:{},key:Object(Q.c)("new"),path:function(x){return["lib","components","CompareFilter","compareFilterLogic",x]},connect:function(x){return{actions:[Object(Ce.b)(x),["setFilters"]],values:[Object(Ce.b)(x),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(K){return{compare:K}},toggleCompare:!0}},selectors:{compare:[function(ce){return[ce.filters]},function(ce){return!!(ce!=null&&ce.compare)}],disabled:[function(ce){return[ce.filters,ce.canEditInsight]},function(ce,x){var K=ce.insight,Ke=ce.date_from;return!x||K===st.s.LIFECYCLE||Ke==="all"}]},listeners:function(x){var K=x.values,Ke=x.actions;return{setCompare:function(we){var Ne=we.compare;Object(j.mb)(Ne,K.compare)||Ke.setFilters(Ze(Ze({},K.filters),{},{compare:Ne}))},toggleCompare:function(){Ke.setCompare(!K.compare)}}}})},"./frontend/src/lib/components/CopyToClipboard.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return Ne});var ae=e("./node_modules/core-js/modules/es.symbol.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.symbol.description.js"),He=e.n(De),N=e("./node_modules/core-js/modules/es.object.to-string.js"),$e=e.n(N),X=e("./node_modules/core-js/modules/es.regexp.to-string.js"),oe=e.n(X),r=e("./node_modules/@babel/runtime/helpers/extends.js"),j=e.n(r),st=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Q=e.n(st),Ce=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),ut=e.n(Ce),Ze=e("./node_modules/react/index.js"),he=e.n(Ze),ce=e("./frontend/src/lib/utils.tsx"),x=e("./frontend/src/lib/components/Tooltip.tsx"),K=e("./frontend/src/lib/components/icons.tsx"),Ke=e("./frontend/src/lib/components/LemonButton/index.ts");function ve(te,Ye){var Ee=Object.keys(te);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(te);Ye&&(Pe=Pe.filter(function(mt){return Object.getOwnPropertyDescriptor(te,mt).enumerable})),Ee.push.apply(Ee,Pe)}return Ee}function we(te){for(var Ye=1;Ye<arguments.length;Ye++){var Ee=arguments[Ye]!=null?arguments[Ye]:{};Ye%2?ve(Object(Ee),!0).forEach(function(Pe){Q()(te,Pe,Ee[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(Ee)):ve(Object(Ee)).forEach(function(Pe){Object.defineProperty(te,Pe,Object.getOwnPropertyDescriptor(Ee,Pe))})}return te}function Ne(te){var Ye=te.children,Ee=te.explicitValue,Pe=te.description,mt=te.selectable,Te=mt===void 0?!1:mt,et=te.isValueSensitive,M=et===void 0?!1:et,it=te.tooltipMessage,pe=it===void 0?null:it,Gt=te.iconStyle,s=Gt===void 0?{}:Gt,rn=te.iconPosition,It=rn===void 0?"end":rn,Ht=te.style,L=ut()(te,["children","explicitValue","description","selectable","isValueSensitive","tooltipMessage","iconStyle","iconPosition","style"]),Xt=function(){return Object(ce.t)(Ee!=null?Ee:Ye?Ye.toString():"",Pe)},rt=he.a.createElement("span",j()({className:M?"ph-no-capture":"",style:we({cursor:Te?"text":"pointer",display:"inline-flex",alignItems:"center",flexDirection:It==="end"?"row":"row-reverse",flexWrap:"nowrap",width:"fit-content",wordBreak:"break-all"},Ht),onClick:Te?void 0:Xt},L),he.a.createElement("span",{style:It==="start"?{flexGrow:1}:{}},Ye),he.a.createElement(Ke.a,{compact:!0,icon:he.a.createElement(K.IconCopy,null),className:"copy-icon",onClick:Te?Xt:void 0,style:we(Q()({},It==="end"?"marginLeft":"marginRight",4),s)}));return!Te||pe!==null?he.a.createElement(x.a,{title:pe||"Click to copy"},rt):he.a.createElement(he.a.Fragment,null,rt)}try{Ne.displayName="CopyToClipboardInline",Ne.__docgenInfo={description:"",displayName:"CopyToClipboardInline",props:{explicitValue:{defaultValue:null,description:"",name:"explicitValue",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},selectable:{defaultValue:{value:"false"},description:"Makes text selectable instead of copying on click anywhere",name:"selectable",required:!1,type:{name:"boolean"}},isValueSensitive:{defaultValue:{value:"false"},description:"",name:"isValueSensitive",required:!1,type:{name:"boolean"}},tooltipMessage:{defaultValue:{value:"null"},description:"",name:"tooltipMessage",required:!1,type:{name:"string | null"}},iconStyle:{defaultValue:{value:"{}"},description:"",name:"iconStyle",required:!1,type:{name:"Record<string, string | number>"}},iconPosition:{defaultValue:{value:"end"},description:"",name:"iconPosition",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"end"'}]}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"]={docgenInfo:Ne.__docgenInfo,name:"CopyToClipboardInline",path:"frontend/src/lib/components/CopyToClipboard.tsx#CopyToClipboardInline"})}catch(te){}},"./frontend/src/lib/components/Drawer.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return X});var ae=e("./node_modules/@babel/runtime/helpers/extends.js"),u=e.n(ae),De=e("./node_modules/react/index.js"),He=e.n(De),N=e("./node_modules/antd/es/drawer/index.js"),$e=e("./frontend/src/vars.ts");function X(oe){return He.a.createElement(N.a,u()({},oe,{zIndex:$e.a.zDrawer}))}try{X.displayName="Drawer",X.__docgenInfo={description:"",displayName:"Drawer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Drawer.tsx#Drawer"]={docgenInfo:X.__docgenInfo,name:"Drawer",path:"frontend/src/lib/components/Drawer.tsx#Drawer"})}catch(oe){}},"./frontend/src/lib/components/PropertiesTable.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return Wt});var ae=e("./node_modules/core-js/modules/es.array.filter.js"),u=e("./node_modules/core-js/modules/es.array.includes.js"),De=e("./node_modules/core-js/modules/es.array.map.js"),He=e("./node_modules/core-js/modules/es.object.entries.js"),N=e("./node_modules/core-js/modules/es.string.includes.js"),$e=e("./node_modules/core-js/modules/es.string.starts-with.js"),X=e("./node_modules/@babel/runtime/helpers/typeof.js"),oe=e.n(X),r=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),j=e.n(r),st=e("./node_modules/react/index.js"),Q=e.n(st),Ce=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),ut=e("./node_modules/antd/es/input/index.js"),Ze=e("./node_modules/antd/es/dropdown/index.js"),he=e("./node_modules/antd/es/menu/index.js"),ce=e("./node_modules/antd/es/popconfirm/index.js"),x=e("./frontend/src/lib/utils.tsx"),K=e("./frontend/src/lib/components/icons.tsx"),Ke=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),ve=e.n(Ke),we=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss"),Ne=e.n(we),te={};te.insert="head",te.singleton=!1;var Ye=ve()(Ne.a,te),Ee=Ne.a.locals||{},Pe=e("./frontend/src/lib/components/LemonTable/index.ts"),mt=e("./frontend/src/lib/components/CopyToClipboard.tsx"),Te=e("./node_modules/kea/lib/index.esm.js"),et=e("./frontend/src/models/propertyDefinitionsModel.ts"),M=e("./frontend/src/lib/components/LemonButton/index.ts"),it=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),pe=e.n(it),Gt=e("./node_modules/antd/es/button/index.js"),s=e("./node_modules/antd/es/radio/index.js"),rn=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),It=e("./node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Ht=e("./node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),L=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Xt=e("./node_modules/@ant-design/icons/es/icons/StopOutlined.js"),rt=e("./node_modules/antd/lib/modal/Modal.js"),sn=e.n(rt);function Ut(Me,Qe){var Fe=Object.keys(Me);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(Me);Qe&&(se=se.filter(function(Zt){return Object.getOwnPropertyDescriptor(Me,Zt).enumerable})),Fe.push.apply(Fe,se)}return Fe}function xt(Me){for(var Qe=1;Qe<arguments.length;Qe++){var Fe=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?Ut(Object(Fe),!0).forEach(function(se){pe()(Me,se,Fe[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(Fe)):Ut(Object(Fe)).forEach(function(se){Object.defineProperty(Me,se,Object.getOwnPropertyDescriptor(Fe,se))})}return Me}function qt(Me){var Qe=Me.editProperty,Fe={creating:!1,propertyType:"string"},se=Object(st.useState)(Fe),Zt=j()(se,2),Rt=Zt[0],tt=Zt[1],ot=function(){Rt.key&&Rt.value!==void 0&&(Qe(Rt.key,Rt.value),tt(Fe))};return Q.a.createElement(Q.a.Fragment,null,Q.a.createElement("div",{className:"mb"},Q.a.createElement("div",{className:"text-right"},Q.a.createElement(Gt.a,{"data-attr":"add-prop-button",onClick:function(){return tt(xt(xt({},Rt),{},{creating:!0}))},type:"primary",icon:Q.a.createElement(rn.a,null)},"New property"))),Q.a.createElement(sn.a,{visible:Rt.creating,destroyOnClose:!0,onCancel:function(){return tt(Fe)},title:"Adding new property",okText:Q.a.createElement(Q.a.Fragment,null,Q.a.createElement(It.a,{style:{marginRight:4}}),"Save Property"),okButtonProps:{disabled:!Rt.key||Rt.value===void 0},onOk:ot},Q.a.createElement("div",{className:"input-set"},Q.a.createElement("label",{htmlFor:"propertyKey"},"Key"),Q.a.createElement(ut.a,{id:"propertyKey",autoFocus:!0,placeholder:"try email, first_name, is_verified, membership_level, total_revenue",onChange:function(pt){return tt(xt(xt({},Rt),{},{key:pt.target.value}))}})),Q.a.createElement("div",{className:"input-set"},Q.a.createElement("label",{htmlFor:"propertyType"},"Type of Property"),Q.a.createElement("div",null,Q.a.createElement(s.a.Group,{value:Rt.propertyType,onChange:function(pt){return tt(xt(xt({},Rt),{},{propertyType:pt.target.value,value:pt.target.value==="string"?void 0:"true"}))},id:"propertyType",buttonStyle:"solid"},Q.a.createElement(s.a.Button,{value:"string"},"Text or Number"),Q.a.createElement(s.a.Button,{value:"boolean"},"Boolean or Null")))),Q.a.createElement("div",{className:"input-set"},Q.a.createElement("label",{htmlFor:"propertyValue"},"Value"),Rt.propertyType==="boolean"?Q.a.createElement("div",null,Q.a.createElement(s.a.Group,{value:Rt.value,onChange:function(pt){return tt(xt(xt({},Rt),{},{value:pt.target.value}))},id:"propertyValue",buttonStyle:"solid"},Q.a.createElement(s.a.Button,{value:"true",defaultChecked:!0},Q.a.createElement(Ht.a,null)," True"),Q.a.createElement(s.a.Button,{value:"false"},Q.a.createElement(L.a,null)," False"),Q.a.createElement(s.a.Button,{value:"null"},Q.a.createElement(Xt.a,null)," Null"))):Q.a.createElement(ut.a,{placeholder:"try email@example.com, gold, 1",onChange:function(pt){return tt(xt(xt({},Rt),{},{value:pt.target.value}))},id:"propertyValue",onKeyDown:function(pt){return pt.key==="Enter"&&ot()}}))))}try{qt.displayName="NewPropertyComponent",qt.__docgenInfo={description:"",displayName:"NewPropertyComponent",props:{editProperty:{defaultValue:null,description:"",name:"editProperty",required:!0,type:{name:"(key: string, newValue?: string | number | boolean | null | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"]={docgenInfo:qt.__docgenInfo,name:"NewPropertyComponent",path:"frontend/src/scenes/persons/NewPropertyComponent.tsx#NewPropertyComponent"})}catch(Me){}function Ct(Me){var Qe=Me.value,Fe=Me.onChange;return Q.a.createElement(ut.a,{defaultValue:Qe,autoFocus:!0,onBlur:function(){return Fe(null,!1)},onPressEnter:function(Zt){return Fe(Zt.target.value,!0)}})}function ht(Me){var Qe=Me.value,Fe=Me.rootKey,se=Me.onEdit,Zt=Me.nestingLevel,Rt=Object(Te.useValues)(et.a),tt=Rt.describeProperty,ot=Object(st.useState)(!1),St=j()(ot,2),pt=St[0],We=St[1],At=Fe&&!Ce.g.includes(Fe)&&(!Zt||Zt<=1)&&se,Lt=["string","number","bigint"],yt=["boolean","null"],Ie;Fe&&(Ie=tt(Fe));var nt=Qe===null?"null":oe()(Qe),bt=Qe===null?"null":String(Qe),Vt=function(lt,jt){We(!1),Fe!==void 0&&jt&&se&&lt!=Qe&&se(Fe,lt,Qe)},Je=Q.a.createElement("span",{className:At?"editable ph-no-capture":"ph-no-capture",onClick:function(){return At&&Lt.includes(nt)&&We(!0)}},Object(x.eb)(Qe)?Q.a.createElement("a",{href:Qe,target:"_blank",rel:"noopener noreferrer",className:"value-link"},Q.a.createElement("span",null,bt),Q.a.createElement(K.IconOpenInNew,null)):bt);return Q.a.createElement("div",{className:"properties-table-value"},pt?Q.a.createElement(Ct,{value:Qe,onChange:Vt}):Q.a.createElement(Q.a.Fragment,null,At&&yt.includes(nt)?Q.a.createElement(Ze.a,{overlay:Q.a.createElement(he.a,{onClick:function(lt){var jt=lt.key,Nt=null;jt==="t"?Nt=!0:jt==="f"&&(Nt=!1),Vt(Nt,!0)}},Q.a.createElement(he.a.Item,{key:"t"},"true"),Q.a.createElement(he.a.Item,{key:"f"},"false"),Q.a.createElement(he.a.Item,{key:"n",danger:!0},"null"))},Je):Q.a.createElement(mt.a,{description:"property value",explicitValue:bt,selectable:!0,isValueSensitive:!0},Je),Q.a.createElement("div",{className:"property-value-type"},Ie||nt)))}function Wt(Me){var Qe=Me.properties,Fe=Me.rootKey,se=Me.onEdit,Zt=Me.sortProperties,Rt=Zt===void 0?!1:Zt,tt=Me.searchable,ot=tt===void 0?!1:tt,St=Me.embedded,pt=St===void 0?!0:St,We=Me.nestingLevel,At=We===void 0?0:We,Lt=Me.onDelete,yt=Me.className,Ie=Object(st.useState)(""),nt=j()(Ie,2),bt=nt[0],Vt=nt[1],Je=Object(st.useMemo)(function(){if(!(Qe instanceof Object))return[];var lt=Object.entries(Qe);if(bt){var jt=bt.toLowerCase();lt=lt.filter(function(Nt){var Ve=j()(Nt,2),J=Ve[0],Et=Ve[1];return J.toLowerCase().includes(jt)||JSON.stringify(Et).toLowerCase().includes(jt)})}return Rt&&lt.sort(function(Nt,Ve){var J=j()(Nt,1),Et=J[0],Pt=j()(Ve,1),hn=Pt[0];return Et[0]==="$"&&hn[0]!=="$"?1:Et[0]!=="$"&&hn[0]==="$"||Et.toLowerCase()<hn.toLowerCase()?-1:1}),lt},[Qe,Rt,bt]);if(Array.isArray(Qe))return Q.a.createElement("div",null,Qe.length?Qe.map(function(lt,jt){return Q.a.createElement(Wt,{key:jt,properties:lt,nestingLevel:At+1})}):Q.a.createElement("div",{className:"property-value-type"},"ARRAY (EMPTY)"));var _t=[{key:"key",title:"Key",width:"20rem",render:function(jt,Nt){return Q.a.createElement("div",{className:"properties-table-key"},Q.a.createElement(Ce.b,{value:Nt[0]}))},sorter:function(jt,Nt){return String(jt[0]).localeCompare(String(Nt[0]))}},{key:"value",title:"Value",render:function(jt,Nt){return Q.a.createElement(Wt,{properties:Nt[1],rootKey:Nt[0],onEdit:se,nestingLevel:At+1})}}];return Lt&&At===0&&_t.push({key:"delete",title:"",width:0,render:function(jt,Nt){return!Ce.g.includes(Nt[0])&&!String(Nt[0]).startsWith("$initial_")&&Q.a.createElement(ce.a,{onConfirm:function(){return Lt(Nt[0])},okButtonProps:{danger:!0},okText:"Delete",title:Q.a.createElement(Q.a.Fragment,null,"Are you sure you want to delete property ",Q.a.createElement("code",null,Nt[0]),"?"," ",Q.a.createElement("b",null,"This cannot be undone.")),placement:"left"},Q.a.createElement(M.a,{icon:Q.a.createElement(K.IconDeleteForever,null),status:"danger",compact:!0}))}}),Qe instanceof Object?Q.a.createElement(Q.a.Fragment,null,ot&&Q.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"1rem"}},Q.a.createElement(ut.a.Search,{placeholder:"Search for property keys and values",className:"mb",allowClear:!0,enterButton:!0,style:{maxWidth:400,width:"initial",flexGrow:1},value:bt,onChange:function(jt){Vt(jt.target.value)}}),se&&Q.a.createElement(qt,{editProperty:se})),Q.a.createElement(Pe.a,{columns:_t,showHeader:!pt,size:"small",rowKey:"0",embedded:pt,dataSource:Je,className:yt,emptyState:"This property value is an empty object."})):Q.a.createElement(ht,{value:Qe,rootKey:Fe,onEdit:se,nestingLevel:At})}try{Wt.displayName="PropertiesTable",Wt.__docgenInfo={description:"",displayName:"PropertiesTable",props:{properties:{defaultValue:null,description:"",name:"properties",required:!0,type:{name:"any"}},sortProperties:{defaultValue:{value:"false"},description:"",name:"sortProperties",required:!1,type:{name:"boolean"}},searchable:{defaultValue:{value:"false"},description:"",name:"searchable",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"true"},description:"Whether this table should be style for being embedded. Default: true.",name:"embedded",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((key: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},rootKey:{defaultValue:null,description:"",name:"rootKey",required:!1,type:{name:"string"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"((key: string, newValue: any, oldValue?: any) => void)"}},nestingLevel:{defaultValue:{value:"0"},description:"",name:"nestingLevel",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"]={docgenInfo:Wt.__docgenInfo,name:"PropertiesTable",path:"frontend/src/lib/components/PropertiesTable.tsx#PropertiesTable"})}catch(Me){}},"./frontend/src/lib/components/ResizableTable/TableConfig.tsx":function(be,z,e){"use strict";e.d(z,"b",function(){return Ut}),e.d(z,"a",function(){return xt});var ae=e("./node_modules/core-js/modules/es.array.includes.js"),u=e("./node_modules/core-js/modules/es.string.includes.js"),De=e("./node_modules/antd/es/button/index.js"),He=e("./node_modules/antd/es/row/index.js"),N=e("./node_modules/antd/es/space/index.js"),$e=e("./node_modules/antd/es/col/index.js"),X=e("./node_modules/react/index.js"),oe=e.n(X),r=e("./node_modules/@ant-design/icons/es/icons/ControlOutlined.js"),j=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),st=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Q=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ce=e.n(Q),ut=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss"),Ze=e.n(ut),he={};he.insert="head",he.singleton=!1;var ce=Ce()(Ze.a,he),x=Ze.a.locals||{},K=e("./node_modules/kea/lib/index.esm.js"),Ke=e("./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts"),ve=e("./node_modules/antd/lib/modal/Modal.js"),we=e.n(ve),Ne=e("./node_modules/react-virtualized/dist/es/List/index.js"),te=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),Ye=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ee=e("./node_modules/clsx/dist/clsx.m.js"),Pe=e("./frontend/src/lib/components/Tooltip.tsx"),mt=e("./node_modules/core-js/modules/es.array.concat.js"),Te=e("./node_modules/core-js/modules/es.array.filter.js"),et=e("./node_modules/core-js/modules/es.array.from.js"),M=e("./node_modules/core-js/modules/es.array.iterator.js"),it=e("./node_modules/core-js/modules/es.object.to-string.js"),pe=e("./node_modules/core-js/modules/es.set.js"),Gt=e("./node_modules/core-js/modules/es.string.iterator.js"),s=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),rn=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),It=e.n(rn),Ht=Object(K.kea)({path:["lib","components","ResizableTable","columnConfiguratorLogic"],props:{selectedColumns:[]},actions:{selectColumn:function(ht){return{column:ht}},unselectColumn:function(ht){return{column:ht}},resetColumns:function(ht){return{columns:ht}},save:!0},reducers:function(ht){var Wt=ht.props;return{selectedColumns:[Wt.selectedColumns,{selectColumn:function(Qe,Fe){var se=Fe.column;return Array.from(new Set([].concat(It()(Qe),[se])))},unselectColumn:function(Qe,Fe){var se=Fe.column;return Qe.filter(function(Zt){return Zt!==se})},resetColumns:function(Qe,Fe){var se=Fe.columns;return se}}]}},listeners:function(ht){var Wt=ht.values;return{save:function(){Ke.a.actions.setSelectedColumns(Wt.selectedColumns)}}}}),L=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),Xt=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),rt=e("./frontend/src/lib/components/LemonButton/index.ts"),sn=e("./frontend/src/lib/components/icons.tsx");function Ut(Ct){var ht=Object(K.useActions)(Ke.a),Wt=ht.showModal;return oe.a.createElement(oe.a.Fragment,null,oe.a.createElement(De.a,{"data-attr":"events-table-column-selector",onClick:Wt,icon:oe.a.createElement(r.a,{rotate:90})},"Customize columns"),oe.a.createElement(qt,{immutableColumns:Ct.immutableColumns,defaultColumns:Ct.defaultColumns}))}function xt(Ct){var ht=Object(K.useActions)(Ke.a),Wt=ht.showModal;return oe.a.createElement(oe.a.Fragment,null,oe.a.createElement(rt.a,{type:"secondary","data-attr":"events-table-column-selector",onClick:Wt,icon:oe.a.createElement(sn.IconTuning,{style:{color:"var(--primary)"}})},"Customize columns"),oe.a.createElement(qt,{immutableColumns:Ct.immutableColumns,defaultColumns:Ct.defaultColumns}))}function qt(Ct){var ht=Ct.immutableColumns,Wt=Ct.defaultColumns,Me=36,Qe=32,Fe=Object(K.useValues)(Ke.a),se=Fe.selectedColumns,Zt=Fe.modalVisible,Rt=Object(K.useActions)(Ke.a),tt=Rt.hideModal,ot=Ht({selectedColumns:se==="DEFAULT"?Wt:se}),St=Object(K.useActions)(ot),pt=St.selectColumn,We=St.unselectColumn,At=St.resetColumns,Lt=St.save,yt=Object(K.useValues)(ot),Ie=yt.selectedColumns;function nt(bt){var Vt=bt.index,Je=bt.style,_t=bt.key,lt=ht==null?void 0:ht.includes(Ie[Vt]);return oe.a.createElement("div",{style:Je,key:_t,onClick:function(){return!lt&&We(Ie[Vt])}},oe.a.createElement("div",{className:Object(Ee.a)(["column-display-item",{selected:!lt,disabled:lt}]),style:{height:"".concat(Qe,"px")}},oe.a.createElement(Ye.b,{value:Ie[Vt]}),oe.a.createElement("div",{className:"text-right",style:{flex:1}},oe.a.createElement(Pe.a,{title:lt?"Reserved":"Remove"},lt?oe.a.createElement(j.a,null):oe.a.createElement(st.a,{style:{color:"var(--danger)"}})))))}return oe.a.createElement(we.a,{centered:!0,visible:Zt,title:"Customize columns",onOk:Lt,width:700,bodyStyle:{padding:"16px 16px 0 16px"},className:"column-configurator-modal",okButtonProps:{"data-attr":"items-selector-confirm"},okText:"Save",onCancel:tt,footer:oe.a.createElement(He.a,null,oe.a.createElement(N.b,{style:{flexGrow:1},align:"start"},oe.a.createElement(De.a,{className:"text-blue",onClick:function(){return At(Wt)}},"Reset to default")),oe.a.createElement(N.b,null,oe.a.createElement(De.a,{className:"text-blue",type:"text",onClick:tt},"Cancel"),oe.a.createElement(De.a,{type:"primary",onClick:Lt},"Save")))},oe.a.createElement(He.a,{gutter:16,className:"mt"},oe.a.createElement($e.a,{xs:24,sm:12},oe.a.createElement("h3",{className:"l3"},"Available columns"),oe.a.createElement("div",{style:{height:320}},oe.a.createElement(te.a,null,function(bt){var Vt=bt.height,Je=bt.width;return oe.a.createElement(L.a,{height:Vt,width:Je,taxonomicGroupTypes:[Xt.a.EventProperties],value:void 0,onChange:function(lt,jt){return jt&&pt(String(jt))},popoverEnabled:!1,selectFirstItem:!1})}))),oe.a.createElement($e.a,{xs:24,sm:12},oe.a.createElement("h3",{className:"l3"},"Visible columns (",Ie.length,")"),oe.a.createElement("div",{style:{height:320}},oe.a.createElement(te.a,null,function(bt){var Vt=bt.height,Je=bt.width;return oe.a.createElement(Ne.b,{height:Vt,rowCount:Ie.length,rowRenderer:nt,rowHeight:Me,width:Je})})))))}try{Ut.displayName="TableConfig",Ut.__docgenInfo={description:`A scene that contains a ResizableTable with many possible columns
can use this to let the user choose which columns they see`,displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"]={docgenInfo:Ut.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#TableConfig"})}catch(Ct){}try{xt.displayName="LemonTableConfig",xt.__docgenInfo={description:"",displayName:"LemonTableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"]={docgenInfo:xt.__docgenInfo,name:"LemonTableConfig",path:"frontend/src/lib/components/ResizableTable/TableConfig.tsx#LemonTableConfig"})}catch(Ct){}},"./frontend/src/lib/components/ResizableTable/index.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return L}),e.d(z,"b",function(){return Xt});var ae=e("./node_modules/core-js/modules/es.array.for-each.js"),u=e("./node_modules/core-js/modules/es.array.from.js"),De=e("./node_modules/core-js/modules/es.array.map.js"),He=e("./node_modules/core-js/modules/es.array.reduce.js"),N=e("./node_modules/core-js/modules/es.array.slice.js"),$e=e("./node_modules/core-js/modules/es.number.constructor.js"),X=e("./node_modules/core-js/modules/es.string.iterator.js"),oe=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),r=e("./node_modules/@babel/runtime/helpers/extends.js"),j=e.n(r),st=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),Q=e.n(st),Ce=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),ut=e.n(Ce),Ze=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),he=e.n(Ze),ce=e("./node_modules/react/index.js"),x=e.n(ce),K=e("./node_modules/antd/es/table/index.js"),Ke=e("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),ve=e("./frontend/src/lib/utils/responsiveUtils.tsx"),we=e("./node_modules/react-resizable/index.js");function Ne(rt){var sn=rt.children,Ut=rt.onResize,xt=rt.initialWidth,qt=rt.height,Ct=rt.minConstraints,ht=rt.maxConstraints,Wt=x.a.createElement("div",{className:"inner-wrapper"},x.a.createElement("div",{className:"inner-text"},sn)),Me=Object(ce.useState)(xt),Qe=ut()(Me,2),Fe=Qe[0],se=Qe[1],Zt=Object(ce.useState)(!1),Rt=ut()(Zt,2),tt=Rt[0],ot=Rt[1],St=function(We,At){se(At.size.width),Ut(We,At)};return x.a.createElement("div",{className:"react-resizable-wrapper"},x.a.createElement(we.ResizableBox,{width:Fe,height:qt,minConstraints:Ct,maxConstraints:ht,axis:"x",handle:x.a.createElement("span",{className:"resizable-handle","data-drag-active":tt}),onResize:St,onResizeStart:function(We){We.preventDefault(),ot(!0)},onResizeStop:function(){ot(!1)},draggableOpts:{enableUserSelectHack:!0}},Wt))}function te(rt){var sn=rt.columns,Ut=rt.handleResize,xt=rt.layoutEffect,qt=rt.minColumnWidth,Ct=rt.expandable,ht=60;return Object(ce.useLayoutEffect)(function(){return typeof xt=="function"?xt():void 0}),x.a.createElement("div",{className:"resizable-virtual-table-header"},!!Ct&&x.a.createElement("div",{className:"left-spacer",style:{width:(Ct==null?void 0:Ct.columnWidth)||L}}),sn.map(function(Wt,Me){var Qe=Wt.title,Fe=Wt.width,se=Wt.widthConstraints,Zt=se!=null&&se.length?se[0]:qt,Rt=se!=null&&se.length?se[1]:1/0;return x.a.createElement(Ne,{key:Me,initialWidth:Fe!=null?Fe:Zt,height:ht,onResize:Ut(Me),minConstraints:[Zt,ht],maxConstraints:[Rt,ht]},Qe)}))}var Ye=x.a.memo(te);try{te.displayName="VirtualTableHeader",te.__docgenInfo={description:"",displayName:"VirtualTableHeader",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"InternalColumnType<RecordType>[]"}},handleResize:{defaultValue:null,description:"",name:"handleResize",required:!0,type:{name:"(index: number) => (e: SyntheticEvent<Element, Event>, data: ResizeCallbackData) => any"}},layoutEffect:{defaultValue:null,description:"",name:"layoutEffect",required:!1,type:{name:"CallableFunction"}},minColumnWidth:{defaultValue:null,description:"",name:"minColumnWidth",required:!0,type:{name:"number"}},expandable:{defaultValue:null,description:"",name:"expandable",required:!1,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"]={docgenInfo:te.__docgenInfo,name:"VirtualTableHeader",path:"frontend/src/lib/components/ResizableTable/VirtualTableHeader.tsx#VirtualTableHeader"})}catch(rt){}var Ee=e("./frontend/src/lib/components/ResizableTable/TableConfig.tsx"),Pe=e("./frontend/src/lib/hooks/useWindowSize.js"),mt=function(){var sn=Object(Pe.a)(),Ut=sn.width,xt=Object(ce.useState)(ve.a),qt=ut()(xt,2),Ct=qt[0],ht=qt[1];return Object(ce.useEffect)(function(){ht(ve.a)},[Ut]),Ct},Te=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),et=e.n(Te),M=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss"),it=e.n(M),pe={};pe.insert="head",pe.singleton=!1;var Gt=et()(it.a,pe),s=it.a.locals||{};function rn(rt,sn){var Ut=Object.keys(rt);if(Object.getOwnPropertySymbols){var xt=Object.getOwnPropertySymbols(rt);sn&&(xt=xt.filter(function(qt){return Object.getOwnPropertyDescriptor(rt,qt).enumerable})),Ut.push.apply(Ut,xt)}return Ut}function It(rt){for(var sn=1;sn<arguments.length;sn++){var Ut=arguments[sn]!=null?arguments[sn]:{};sn%2?rn(Object(Ut),!0).forEach(function(xt){Q()(rt,xt,Ut[xt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(Ut)):rn(Object(Ut)).forEach(function(xt){Object.defineProperty(rt,xt,Object.getOwnPropertyDescriptor(Ut,xt))})}return rt}var Ht=Ee.b,L=48;function Xt(rt){var sn=rt.columns,Ut=sn===void 0?[]:sn,xt=rt.components,qt=he()(rt,["columns","components"]),Ct=mt(),ht=Object(ve.d)(Ct),Wt=Object(ce.useState)(function(){var Ve=Ut.length;return Ut.map(function(J,Et){return It(It({},J),{},{width:Et===Ve?void 0:ht})})}),Me=ut()(Wt,2),Qe=Me[0],Fe=Me[1],se=Object(ce.useState)(Qe),Zt=ut()(se,2),Rt=Zt[0],tt=Zt[1],ot=Object(ce.useState)(!1),St=ut()(ot,2),pt=St[0],We=St[1],At=Object(ce.useRef)(null),Lt=Object(ce.useRef)(null),yt=Object(ce.useRef)();function Ie(Ve){var J;if(Ve){var Et;return Lt==null||(Et=Lt.current)===null||Et===void 0?void 0:Et.classList.add("scrollable-right")}return Lt==null||(J=Lt.current)===null||J===void 0?void 0:J.classList.remove("scrollable-right")}function nt(){if(Lt.current){var Ve=Lt.current;Ve.offsetWidth+Ve.scrollLeft<Ve.scrollWidth?Ie(!0):Ie(!1)}}function bt(){var Ve,J=(Ve=At.current)===null||Ve===void 0?void 0:Ve.querySelectorAll(".ant-table-content colgroup col");if(J){var Et=Array.from(J);return Et.map(function(Pt){return Pt.style.width?Object(ve.e)(Pt.style.width):void 0})}return[]}function Vt(Ve,J){var Et,Pt=(Et=At.current)===null||Et===void 0?void 0:Et.querySelector(".ant-table-content colgroup col:nth-child(".concat(Ve+1+Number(!!qt.expandable),"):not(:last-child)"));Pt==null||Pt.setAttribute("style","width: ".concat(J,"px;"))}function Je(){var Ve,J=(Ve=At.current)===null||Ve===void 0?void 0:Ve.querySelector(".ant-table-content colgroup col:last-child");J==null||J.removeAttribute("style")}function _t(){var Ve,J=(Ve=At.current)===null||Ve===void 0?void 0:Ve.querySelector(".resizable-virtual-table-header");if(J!=null&&J.childNodes){var Et=Array.from(J==null?void 0:J.childNodes),Pt=Et.reduce(function(Mt,_n){var Rn=_n.offsetWidth;return Mt+(Rn!=null?Rn:0)},0);if(Pt){var hn,fn=(hn=At.current)===null||hn===void 0?void 0:hn.querySelector(".ant-table table");fn==null||fn.setAttribute("style","width: ".concat(Pt,"px;"))}}Je()}var lt=function(J){return function(Et,Pt){var hn=Pt.size.width;yt.current&&cancelAnimationFrame(yt.current),yt.current=requestAnimationFrame(function(){Vt(J,hn),_t()}),nt()}};function jt(Ve){var J,Et=(J=At.current)===null||J===void 0?void 0:J.querySelector(".ant-table table"),Pt=Et==null?void 0:Et.clientWidth;if(!(!Pt||Pt===Ve)){yt.current&&cancelAnimationFrame(yt.current);var hn=Ve/Pt,fn=bt();yt.current=requestAnimationFrame(function(){We(!1),tt(function(Mt){var _n=Ut.length-1,Rn=Mt.map(function(W,ne){var Re;return ne===_n?W:It(It({},W),{},{width:Math.max(((Re=fn[ne+Number(!!qt.expandable)])!==null&&Re!==void 0?Re:0)*hn,ht)})});return Rn.slice(0,_n).forEach(function(W,ne){var Re;Vt(ne,(Re=W.width)!==null&&Re!==void 0?Re:ht)}),_t(),Rn}),We(!0)})}}var Nt=new Ke.a(function(Ve){Ve.forEach(function(J){var Et=J.contentRect.width;return jt(Et)})});return Object(ce.useEffect)(function(){Fe(function(Ve){var J=Ve.length;return Ve.map(function(Et,Pt){return Pt===J?Et:It(It({},Et),{},{render:Ut[Pt].render})})})},[Ut]),Object(ce.useLayoutEffect)(function(){if(At.current){Nt.observe(At.current);var Ve=At.current.clientWidth,J=Qe.reduce(function(Pt,hn){var fn=hn.span;return Pt+fn},0),Et=Object(ve.c)(Ve,J);Fe(function(Pt){var hn=Pt.length,fn=Pt.map(function(Mt,_n){return _n===hn?Mt:It(It({},Mt),{},{width:Math.max(Mt.defaultWidth||Et*Mt.span,ht)})});return tt(fn),fn}),nt(),We(!0)}},[]),x.a.createElement("div",{ref:At,className:"resizable-table-scroll-container",onScroll:nt},x.a.createElement("div",{ref:Lt,className:"table-gradient-overlay"},pt&&x.a.createElement(Ye,{columns:Rt,handleResize:lt,layoutEffect:_t,minColumnWidth:ht,expandable:qt.expandable}),x.a.createElement(K.a,j()({columns:Qe,components:It(It({},xt),{},{header:{cell:function(){return null}}}),tableLayout:"fixed"},qt))))}try{Xt.displayName="ResizableTable",Xt.__docgenInfo={description:"",displayName:"ResizableTable",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ResizableColumnType<RecordType>[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"]={docgenInfo:Xt.__docgenInfo,name:"ResizableTable",path:"frontend/src/lib/components/ResizableTable/index.tsx#ResizableTable"})}catch(rt){}try{Ht.displayName="TableConfig",Ht.__docgenInfo={description:"",displayName:"TableConfig",props:{immutableColumns:{defaultValue:null,description:"",name:"immutableColumns",required:!1,type:{name:"string[]"}},defaultColumns:{defaultValue:null,description:"",name:"defaultColumns",required:!0,type:{name:"string[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"]={docgenInfo:Ht.__docgenInfo,name:"TableConfig",path:"frontend/src/lib/components/ResizableTable/index.tsx#TableConfig"})}catch(rt){}},"./frontend/src/lib/components/ResizableTable/tableConfigLogic.ts":function(be,z,e){"use strict";e.d(z,"a",function(){return Ke});var ae=e("./node_modules/core-js/modules/es.array.every.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.array.includes.js"),He=e.n(De),N=e("./node_modules/core-js/modules/es.array.iterator.js"),$e=e.n(N),X=e("./node_modules/core-js/modules/es.object.to-string.js"),oe=e.n(X),r=e("./node_modules/core-js/modules/es.string.includes.js"),j=e.n(r),st=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Q=e.n(st),Ce=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ut=e.n(Ce),Ze=e("./node_modules/kea/lib/index.esm.js"),he=e("./node_modules/kea-router/lib/index.js"),ce=e.n(he);function x(ve,we){var Ne=Object.keys(ve);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ve);we&&(te=te.filter(function(Ye){return Object.getOwnPropertyDescriptor(ve,Ye).enumerable})),Ne.push.apply(Ne,te)}return Ne}function K(ve){for(var we=1;we<arguments.length;we++){var Ne=arguments[we]!=null?arguments[we]:{};we%2?x(Object(Ne),!0).forEach(function(te){ut()(ve,te,Ne[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(Ne)):x(Object(Ne)).forEach(function(te){Object.defineProperty(ve,te,Object.getOwnPropertyDescriptor(Ne,te))})}return ve}var Ke=Object(Ze.kea)({path:["lib","components","ResizableTable","tableConfigLogic"],actions:{showModal:!0,hideModal:!1,setSelectedColumns:function(we){return{columnConfig:we}}},reducers:function(){return{selectedColumns:["DEFAULT",{setSelectedColumns:function(Ne,te){var Ye=te.columnConfig;return Ye}}],modalVisible:[!1,{showModal:function(){return!0},save:function(){return!1},hideModal:function(){return!1},setSelectedColumns:function(){return!1}}]}},selectors:{tableWidth:[function(ve){return[ve.selectedColumns]},function(ve){return ve==="DEFAULT"?7:ve.length+1}]},urlToAction:function(we){var Ne=we.actions,te=we.values;return{"*":function(Ee,Pe){var mt=Pe.tableColumns;if(!(!mt||!Array.isArray(mt)||mt.length===0)){var Te=te.selectedColumns,et=mt.length===Te.length&&mt.every(function(M){return Te.includes(M)});(Te==="DEFAULT"||!et)&&Ne.setSelectedColumns(mt)}}}},actionToUrl:function(we){var Ne=we.values;return{setSelectedColumns:function(){return[he.router.values.location.pathname,K(K({},he.router.values.searchParams),{},{tableColumns:Ne.selectedColumns}),he.router.values.hashParams,{replace:!0}]}}}})},"./frontend/src/lib/hooks/useWindowSize.js":function(be,z,e){"use strict";e.d(z,"a",function(){return X});var ae=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=e.n(ae),De=e("./node_modules/@babel/runtime/helpers/typeof.js"),He=e.n(De),N=e("./node_modules/react/index.js"),$e=e.n(N);function X(){var oe=(typeof window=="undefined"?"undefined":He()(window))==="object";function r(){return{width:oe?window.innerWidth:void 0,height:oe?window.innerHeight:void 0}}var j=Object(N.useState)(r),st=u()(j,2),Q=st[0],Ce=st[1];return Object(N.useEffect)(function(){if(!oe)return!1;function ut(){Ce(r())}return window.addEventListener("resize",ut),function(){return window.removeEventListener("resize",ut)}},[]),Q}},"./frontend/src/lib/introductions/GroupsIntroductionOption.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return Q});var ae=e("./node_modules/core-js/modules/es.array.includes.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.string.includes.js"),He=e.n(De),N=e("./node_modules/react/index.js"),$e=e.n(N),X=e("./node_modules/kea/lib/index.esm.js"),oe=e("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),r=e("./node_modules/rc-select/es/index.js"),j=e("./frontend/src/lib/components/Link.tsx"),st=e("./frontend/src/lib/introductions/groupsAccessLogic.ts");function Q(Ce){var ut=Ce.value,Ze=Object(X.useValues)(st.b),he=Ze.groupsAccessStatus;return[st.a.HasAccess,st.a.HasGroupTypes,st.a.NoAccess].includes(he)?$e.a.createElement(r.default.Option,{key:"groups",value:ut,disabled:!0,style:{height:"100%",width:"100%",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"var(--bg-side)",color:"var(--text-muted)"}},$e.a.createElement(oe.a,{style:{marginRight:6,color:"var(--warning)"}}),"Unique groups \u2013"," ",$e.a.createElement(j.a,{to:"https://posthog.com/docs/user-guides/group-analytics?utm_medium=in-product&utm_campaign=group-analytics-learn-more",target:"_blank","data-attr":"group-analytics-learn-more",style:{fontWeight:600}},"Learn more")):null}try{Q.displayName="GroupsIntroductionOption",Q.__docgenInfo={description:"",displayName:"GroupsIntroductionOption",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"any"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"]={docgenInfo:Q.__docgenInfo,name:"GroupsIntroductionOption",path:"frontend/src/lib/introductions/GroupsIntroductionOption.tsx#GroupsIntroductionOption"})}catch(Ce){}},"./frontend/src/lib/utils/responsiveUtils.tsx":function(be,z,e){"use strict";e.d(z,"d",function(){return te}),e.d(z,"c",function(){return Ye}),e.d(z,"e",function(){return Ee}),e.d(z,"a",function(){return Pe}),e.d(z,"b",function(){return mt});var ae=e("./node_modules/core-js/modules/es.array.filter.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.array.iterator.js"),He=e.n(De),N=e("./node_modules/core-js/modules/es.array.map.js"),$e=e.n(N),X=e("./node_modules/core-js/modules/es.object.entries.js"),oe=e.n(X),r=e("./node_modules/core-js/modules/es.object.from-entries.js"),j=e.n(r),st=e("./node_modules/core-js/modules/es.object.values.js"),Q=e.n(st),Ce=e("./node_modules/core-js/modules/es.regexp.exec.js"),ut=e.n(Ce),Ze=e("./node_modules/core-js/modules/es.string.replace.js"),he=e.n(Ze),ce=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),x=e.n(ce),K=e("./node_modules/antd/lib/_util/responsiveObserve.js"),Ke=e.n(K),ve=e("./frontend/src/lib/components/ResizableTable/index.tsx"),we=Object.fromEntries(Object.entries(K.responsiveMap).map(function(Te){var et=x()(Te,2),M=et[0],it=et[1];return[M,Ee(it)]})),Ne=Object.values(we).sort(function(Te,et){return Te-et});function te(Te){return Te<576?150:50}function Ye(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1200,et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:24,M=Te-ve.a;return Math.floor(M/et)}function Ee(Te){return parseFloat(Te.replace(/[^\d.]/g,""))}function Pe(){var Te=window.innerWidth,et=Ne.filter(function(M){return Te>=M}).pop();return et||Ne[0]}function mt(Te){return we[Te]||-1}try{te.displayName="getMinColumnWidth",te.__docgenInfo={description:"",displayName:"getMinColumnWidth",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"]={docgenInfo:te.__docgenInfo,name:"getMinColumnWidth",path:"frontend/src/lib/utils/responsiveUtils.tsx#getMinColumnWidth"})}catch(Te){}try{Ee.displayName="parsePixelValue",Ee.__docgenInfo={description:"",displayName:"parsePixelValue",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"]={docgenInfo:Ee.__docgenInfo,name:"parsePixelValue",path:"frontend/src/lib/utils/responsiveUtils.tsx#parsePixelValue"})}catch(Te){}try{mt.displayName="getBreakpoint",mt.__docgenInfo={description:"",displayName:"getBreakpoint",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"]={docgenInfo:mt.__docgenInfo,name:"getBreakpoint",path:"frontend/src/lib/utils/responsiveUtils.tsx#getBreakpoint"})}catch(Te){}},"./frontend/src/scenes/experiments/Experiment.tsx":function(be,z,e){"use strict";e.r(z),e.d(z,"scene",function(){return Kn}),e.d(z,"Experiment_",function(){return Dn}),e.d(z,"CodeLanguageSelect",function(){return na});var ae=e("./node_modules/core-js/modules/es.symbol.js"),u=e("./node_modules/core-js/modules/es.symbol.description.js"),De=e("./node_modules/core-js/modules/es.array.concat.js"),He=e("./node_modules/core-js/modules/es.array.filter.js"),N=e("./node_modules/core-js/modules/es.array.map.js"),$e=e("./node_modules/core-js/modules/es.array.reduce.js"),X=e("./node_modules/core-js/modules/es.function.name.js"),oe=e("./node_modules/core-js/modules/es.number.constructor.js"),r=e("./node_modules/core-js/modules/es.number.to-fixed.js"),j=e("./node_modules/core-js/modules/es.object.keys.js"),st=e("./node_modules/core-js/modules/es.object.to-string.js"),Q=e("./node_modules/core-js/modules/es.regexp.to-string.js"),Ce=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ut=e.n(Ce),Ze=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),he=e.n(Ze),ce=e("./node_modules/antd/es/form/index.js"),x=e("./node_modules/antd/es/row/index.js"),K=e("./node_modules/antd/es/col/index.js"),Ke=e("./node_modules/antd/es/input/index.js"),ve=e("./node_modules/antd/es/tooltip/index.js"),we=e("./node_modules/antd/es/button/index.js"),Ne=e("./node_modules/antd/es/select/index.js"),te=e("./node_modules/antd/es/card/index.js"),Ye=e("./node_modules/antd/es/tag/index.js"),Ee=e("./node_modules/antd/es/collapse/index.js"),Pe=e("./node_modules/antd/es/progress/index.js"),mt=e("./node_modules/antd/es/skeleton/index.js"),Te=e("./node_modules/kea/lib/index.esm.js"),et=e("./frontend/src/lib/components/PageHeader.tsx"),M=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),it=e("./frontend/src/lib/components/PropertyFilters/utils.ts"),pe=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),Gt=e("./node_modules/react/index.js"),s=e.n(Gt),rn=e("./frontend/src/scenes/funnels/funnelLogic.ts"),It=e("./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx"),Ht=e("./frontend/src/scenes/insights/insightLogic.ts"),L=e("./frontend/src/types.ts"),Xt=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),rt=e.n(Xt),sn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss"),Ut=e.n(sn),xt={};xt.insert="head",xt.singleton=!1;var qt=rt()(Ut.a,xt),Ct=Ut.a.locals||{},ht=e("./node_modules/core-js/modules/es.array.fill.js"),Wt=e("./node_modules/core-js/modules/es.array.find.js"),Me=e("./node_modules/core-js/modules/es.array.find-index.js"),Qe=e("./node_modules/core-js/modules/es.array.iterator.js"),Fe=e("./node_modules/core-js/modules/es.array.splice.js"),se=e("./node_modules/core-js/modules/es.number.epsilon.js"),Zt=e("./node_modules/core-js/modules/es.object.values.js"),Rt=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),tt=e("./node_modules/@babel/runtime/regenerator/index.js"),ot=e.n(tt),St=e("./node_modules/regenerator-runtime/runtime.js"),pt=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),We=e.n(pt),At=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Lt=e.n(At),yt=e("./frontend/src/lib/api.ts"),Ie=e("./frontend/src/lib/dayjs.ts"),nt=e("./frontend/src/lib/utils.tsx"),bt=["furry","amusing","charming","tame","swift","clever","pleasant","tiny","wild","herbivorous","admirable","adorable","agile","beautiful","bossy","candid","cold","colorful","cuddly","curious","cute","energetic","fast","feisty","fierce","fluffy","friendly","fuzzy","grumpy","hairy","heavy","large","lazy","loud","lovable","loving","enchanted","maternal","sweet","messy","nocturnal","noisy","nosy","picky","playful","quick","sassy","scaly","short","shy","slow","small","smart","soft","strong","tall","tenacious","glorious","warm","cheerful","gracious"],Vt=["aardvark","albatross","alligator","alpaca","ant","anteater","antelope","ape","armadillo","donkey","baboon","badger","barracuda","bat","bear","beaver","bee","bison","boar","buffalo","butterfly","camel","capybara","caribou","cassowary","cat","caterpillar","cattle","chamois","cheetah","chicken","chimpanzee","chinchilla","chough","clam","cobra","cockroach","cod","cormorant","coyote","crab","crane","crocodile","crow","curlew","deer","dinosaur","dog","dogfish","dolphin","dotterel","dove","dragonfly","duck","dugong","dunlin","eagle","echidna","eel","eland","elephant","elk","emu","falcon","ferret","finch","firefox","fish","flamingo","fly","fox","frog","gaur","gazelle","gerbil","giraffe","gnat","gnu","goat","goldfinch","goldfish","goose","gorilla","goshawk","grasshopper","grouse","guanaco","gull","hamster","hare","hawk","hedgehog","heron","herring","hippopotamus","hornet","horse","human","hummingbird","hyena","ibex","ibis","jackal","jaguar","jay","jellyfish","kangaroo","kingfisher","koala","kookabura","kouprey","kudu","lapwing","lark","lemur","leopard","lion","llama","lobster","locust","loris","louse","lyrebird","magpie","mallard","manatee","mandrill","mantis","marten","meerkat","mink","mole","mongoose","monkey","moose","mosquito","mouse","mule","narwhal","newt","nightingale","octopus","okapi","opossum","oryx","ostrich","otter","owl","oyster","panther","parrot","partridge","peafowl","pelican","penguin","pheasant","pig","pigeon","pony","porcupine","porpoise","quail","quelea","quetzal","rabbit","raccoon","rail","ram","rat","raven","reindeer","rhinoceros","rook","salamander","salmon","sandpiper","sardine","scorpion","seahorse","seal","shark","sheep","shrew","skunk","snail","snake","sparrow","spider","spoonbill","squid","squirrel","starling","stingray","stinkbug","stork","swallow","swan","tapir","tarsier","termite","tiger","toad","trout","turkey","turtle","viper","vulture","wallaby","walrus","wasp","weasel","whale","wildcat","wolf","wolverine","wombat","woodcock","woodpecker","worm","wren","yak","zebra"];function Je(){return"".concat(Object(nt.j)(Object(nt.ub)(bt))," ").concat(Object(nt.j)(Object(nt.ub)(Vt)))}var _t=e("./frontend/src/scenes/insights/utils/cleanFilters.ts"),lt=e("./frontend/src/scenes/teamLogic.ts"),jt=e("./frontend/src/scenes/urls.ts"),Nt=e("./node_modules/kea-router/lib/index.js"),Ve=e("./frontend/src/scenes/experiments/experimentsLogic.ts"),J=e("./frontend/src/lib/constants.tsx"),Et=e("./frontend/src/scenes/trends/trendsLogic.ts"),Pt=e("./frontend/src/lib/utils/eventUsageLogic.ts"),hn=e("./frontend/src/scenes/userLogic.ts"),fn=e("./frontend/src/lib/components/Tooltip.tsx"),Mt=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),_n=e("./frontend/src/models/groupsModel.ts"),Rn=e("./frontend/src/lib/components/lemonToast.tsx");function W(E,O){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);O&&(I=I.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),T.push.apply(T,I)}return T}function ne(E){for(var O=1;O<arguments.length;O++){var T=arguments[O]!=null?arguments[O]:{};O%2?W(Object(T),!0).forEach(function(I){ut()(E,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):W(Object(T)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(T,I))})}return E}var Re=14,Le=Object(Te.kea)({props:{},key:function(O){return O.experimentId||"new"},path:function(O){return["scenes","experiment","experimentLogic",O]},connect:{values:[lt.a,["currentTeamId"],hn.a,["hasAvailableFeature"],_n.a,["groupTypes","groupsTaxonomicTypes","aggregationLabel"]],actions:[Ve.a,["updateExperiments","addToExperiments"]]},actions:{setExperiment:function(O){return{experiment:O}},createExperiment:function(O,T,I){return{draft:O,runningTime:T,sampleSize:I}},setExperimentInsightId:function(O){return{shortId:O}},createNewExperimentInsight:function(O){return{filters:O}},setFilters:function(O){return{filters:O}},setNewExperimentData:function(O){return{experimentData:O}},updateExperimentGroup:function(O,T){return{variant:O,idx:T}},removeExperimentGroup:function(O){return{idx:O}},setExperimentInsightType:function(O){return{insightType:O}},setEditExperiment:function(O){return{editing:O}},setSecondaryMetrics:function(O){return{secondaryMetrics:O}},resetNewExperiment:!0,launchExperiment:!0,endExperiment:!0,addExperimentGroup:!0,archiveExperiment:!0},reducers:{newExperimentData:[null,{setNewExperimentData:function(O,T){var I=T.experimentData;if(I.filters){var Y=ne(ne({},O==null?void 0:O.filters),I.filters);return ne(ne(ne({},O),I),{},{filters:Y})}if(I.parameters){var de=ne(ne({},O==null?void 0:O.parameters),I.parameters);return ne(ne(ne({},O),I),{},{parameters:de})}return ne(ne({},O),I)},updateExperimentGroup:function(O,T){var I,Y=T.variant,de=T.idx,re=Lt()((O==null||(I=O.parameters)===null||I===void 0?void 0:I.feature_flag_variants)||[]);return re[de]=ne(ne({},re[de]),Y),ne(ne({},O),{},{parameters:ne(ne({},O==null?void 0:O.parameters),{},{feature_flag_variants:re})})},addExperimentGroup:function(O){var T;if(!(O==null||(T=O.parameters)===null||T===void 0)&&T.feature_flag_variants){var I=$t(O.parameters.feature_flag_variants.length+1),Y=O.parameters.feature_flag_variants.map(function(de,re){return ne(ne({},de),{},{rollout_percentage:I[re]})});return ne(ne({},O),{},{parameters:ne(ne({},O.parameters),{},{feature_flag_variants:[].concat(Lt()(Y),[{key:"test_group_".concat(O.parameters.feature_flag_variants.length),rollout_percentage:I[I.length-1]}])})})}return O},removeExperimentGroup:function(O,T){var I,Y,de=T.idx;if(!O)return O;var re=Lt()(((I=O.parameters)===null||I===void 0?void 0:I.feature_flag_variants)||[]);re.splice(de,1);var V=$t(((O==null||(Y=O.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)||[]).length-1),fe=re.map(function(G,ct){return ne(ne({},G),{},{rollout_percentage:V[ct]})});return ne(ne({},O),{},{parameters:ne(ne({},O.parameters),{},{feature_flag_variants:fe})})},setSecondaryMetrics:function(O,T){var I=T.secondaryMetrics,Y=I.map(function(de){return de});return ne(ne({},O),{},{secondary_metrics:Y})},resetNewExperiment:function(){return{parameters:{feature_flag_variants:[{key:"control",rollout_percentage:50},{key:"test",rollout_percentage:50}]}}}}],experimentInsightType:[L.s.TRENDS,{setExperimentInsightType:function(O,T){var I=T.insightType;return I}}],experimentInsightId:[null,{setExperimentInsightId:function(O,T){var I=T.shortId;return I}}],editingExistingExperiment:[!1,{setEditExperiment:function(O,T){var I=T.editing;return I}}]},listeners:function(O){var T=O.values,I=O.props,Y=O.actions;return{createExperiment:function(){var de=We()(ot.a.mark(function V(fe){var G,ct,Ot,gt,at,ze,H,Tn,yn,wn;return ot.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(ct=fe.draft,Ot=fe.runningTime,gt=fe.sampleSize,at=null,ze=!!I.experimentId&&I.experimentId!=="new",je.prev=3,!ze){je.next=14;break}return je.next=7,yt.a.update("api/projects/".concat(T.currentTeamId,"/experiments/").concat(I.experimentId),ne(ne({},T.newExperimentData),{},{parameters:ne(ne({},(H=T.newExperimentData)===null||H===void 0?void 0:H.parameters),{},{recommended_running_time:Ot,recommended_sample_size:gt})},!ct&&{start_date:Object(Ie.a)()}));case 7:if(at=je.sent,!(!((Tn=at)===null||Tn===void 0)&&Tn.id)){je.next=12;break}return Y.updateExperiments(at),Nt.router.actions.push(jt.a.experiment(at.id)),je.abrupt("return");case 12:je.next=18;break;case 14:return je.next=16,yt.a.create("api/projects/".concat(T.currentTeamId,"/experiments"),ne(ne({},T.newExperimentData),{},{parameters:ne(ne({},(yn=T.newExperimentData)===null||yn===void 0?void 0:yn.parameters),{},{recommended_running_time:Ot,recommended_sample_size:gt})},!ct&&{start_date:Object(Ie.a)()}));case 16:at=je.sent,at&&Pt.f.actions.reportExperimentCreated(at);case 18:je.next=24;break;case 20:return je.prev=20,je.t0=je.catch(3),Rn.a.error(je.t0.detail||"Failed to create experiment"),je.abrupt("return");case 24:!((G=at)===null||G===void 0)&&G.id&&(wn=at.id,Nt.router.actions.push(jt.a.experiment(wn)),Y.addToExperiments(at),Rn.a.success("Experiment ".concat(ze?"updated":"created"),{button:{label:"View it",action:function(){Nt.router.actions.push(jt.a.experiment(wn))}}}));case 25:case"end":return je.stop()}},V,null,[[3,20]])}));function re(V){return de.apply(this,arguments)}return re}(),createNewExperimentInsight:function(){var de=We()(ot.a.mark(function V(fe){var G,ct,Ot,gt;return ot.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return G=fe.filters,T.experimentInsightType===L.s.FUNNELS?ct=Object(_t.a)(ne({insight:L.s.FUNNELS,funnel_viz_type:L.o.Steps,display:L.d.FunnelViz,date_from:Object(Ie.a)().subtract(Re,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ie.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:J.p.horizontal},G)):ct=Object(_t.a)(ne({insight:L.s.TRENDS,date_from:Object(Ie.a)().subtract(Re,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ie.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},G)),Ot={name:Je(),description:"",tags:[],filters:ct,result:null},ze.next=5,yt.a.create("api/projects/".concat(T.currentTeamId,"/insights"),Ot);case 5:gt=ze.sent,Y.setExperimentInsightId(gt.short_id),Y.setNewExperimentData({filters:ne({},Ot.filters)});case 8:case"end":return ze.stop()}},V)}));function re(V){return de.apply(this,arguments)}return re}(),setFilters:function(re){var V=re.filters;if(T.experimentInsightType===L.s.FUNNELS){var fe;(fe=rn.a.findMounted({dashboardItemId:T.experimentInsightId}))===null||fe===void 0||fe.actions.setFilters(V)}else{var G;(G=Et.a.findMounted({dashboardItemId:T.experimentInsightId}))===null||G===void 0||G.actions.setFilters(V)}},loadExperimentSuccess:function(){var de=We()(ot.a.mark(function V(fe){var G;return ot.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:G=fe.experimentData,G&&Pt.f.actions.reportExperimentViewed(G),Y.setExperimentInsightType((G==null?void 0:G.filters.insight)||L.s.FUNNELS),G!=null&&G.start_date?(Y.resetNewExperiment(),Y.loadExperimentResults(),Y.loadSecondaryMetricResults()):(Y.setNewExperimentData(ne({},G)),Y.createNewExperimentInsight(G==null?void 0:G.filters));case 4:case"end":return Ot.stop()}},V)}));function re(V){return de.apply(this,arguments)}return re}(),launchExperiment:function(){var de=We()(ot.a.mark(function V(){var fe;return ot.a.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:fe=Object(Ie.a)(),Y.updateExperiment({start_date:fe.format("YYYY-MM-DDTHH:mm")}),T.experimentData&&Pt.f.actions.reportExperimentLaunched(T.experimentData,fe);case 3:case"end":return ct.stop()}},V)}));function re(){return de.apply(this,arguments)}return re}(),endExperiment:function(){var de=We()(ot.a.mark(function V(){var fe,G,ct;return ot.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:G=Object(Ie.a)(),Y.updateExperiment({end_date:G.format("YYYY-MM-DDTHH:mm")}),ct=G.diff((fe=T.experimentData)===null||fe===void 0?void 0:fe.start_date,"second"),T.experimentData&&Pt.f.actions.reportExperimentCompleted(T.experimentData,G,ct,T.areResultsSignificant);case 4:case"end":return gt.stop()}},V)}));function re(){return de.apply(this,arguments)}return re}(),archiveExperiment:function(){var de=We()(ot.a.mark(function V(){return ot.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:Y.updateExperiment({archived:!0}),T.experimentData&&Pt.f.actions.reportExperimentArchived(T.experimentData);case 2:case"end":return G.stop()}},V)}));function re(){return de.apply(this,arguments)}return re}(),setExperimentInsightType:function(){if(I.experimentId==="new"||T.editingExistingExperiment)Y.createNewExperimentInsight();else{var re;Y.createNewExperimentInsight((re=T.experimentData)===null||re===void 0?void 0:re.filters)}},updateExperimentSuccess:function(){var de=We()(ot.a.mark(function V(fe){var G;return ot.a.wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:G=fe.experimentData,Y.updateExperiments(G);case 2:case"end":return Ot.stop()}},V)}));function re(V){return de.apply(this,arguments)}return re}()}},loaders:function(O){var T=O.values,I=O.props;return{experimentData:[null,{loadExperiment:function(){var Y=We()(ot.a.mark(function re(){var V;return ot.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(I.experimentId&&I.experimentId!=="new")){G.next=16;break}return G.prev=1,G.next=4,yt.a.get("api/projects/".concat(T.currentTeamId,"/experiments/").concat(I.experimentId));case 4:return V=G.sent,G.abrupt("return",V);case 8:if(G.prev=8,G.t0=G.catch(1),G.t0.status!==404){G.next=14;break}Nt.router.actions.push(jt.a.experiments()),G.next=16;break;case 14:throw Rn.a.error("Failed to load experiment ".concat(I.experimentId)),new Error("Failed to load experiment ".concat(I.experimentId));case 16:return G.abrupt("return",null);case 17:case"end":return G.stop()}},re,null,[[1,8]])}));function de(){return Y.apply(this,arguments)}return de}(),updateExperiment:function(){var Y=We()(ot.a.mark(function re(V){var fe;return ot.a.wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return ct.next=2,yt.a.update("api/projects/".concat(T.currentTeamId,"/experiments/").concat(I.experimentId),V);case 2:return fe=ct.sent,ct.abrupt("return",fe);case 4:case"end":return ct.stop()}},re)}));function de(re){return Y.apply(this,arguments)}return de}()}],experimentResults:[null,{loadExperimentResults:function(){var Y=We()(ot.a.mark(function re(){var V;return ot.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.prev=0,G.next=3,yt.a.get("api/projects/".concat(T.currentTeamId,"/experiments/").concat(I.experimentId,"/results"));case 3:return V=G.sent,G.abrupt("return",ne(ne({},V),{},{itemID:Math.random().toString(36).substring(2,15)}));case 7:if(G.prev=7,G.t0=G.catch(0),G.t0.code!=="no_data"){G.next=11;break}return G.abrupt("return",null);case 11:return Rn.a.error(G.t0.detail||"Failed to load experiment results"),G.abrupt("return",null);case 13:case"end":return G.stop()}},re,null,[[0,7]])}));function de(){return Y.apply(this,arguments)}return de}()}],secondaryMetricResults:[null,{loadSecondaryMetricResults:function(){var Y=We()(ot.a.mark(function re(){var V,fe,G,ct;return ot.a.wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:V=[],fe=0;case 2:if(!(fe<(((G=T.experimentData)===null||G===void 0?void 0:G.secondary_metrics.length)||0))){gt.next=10;break}return gt.next=5,yt.a.get("api/projects/".concat(T.currentTeamId,"/experiments/").concat(I.experimentId,"/secondary_results?id=").concat(fe));case 5:ct=gt.sent,V.push(ct.result);case 7:fe++,gt.next=2;break;case 10:return gt.abrupt("return",V);case 11:case"end":return gt.stop()}},re)}));function de(){return Y.apply(this,arguments)}return de}()}]}},selectors:{breadcrumbs:[function(E){return[E.experimentData,function(O,T){return T.experimentId}]},function(E,O){return[{name:"Experiments",path:jt.a.experiments()},{name:(E==null?void 0:E.name)||"New Experiment",path:jt.a.experiment(O||"new")}]}],variants:[function(E){return[E.newExperimentData,E.experimentData]},function(E,O){var T,I;if(O!=null&&O.start_date){var Y;return(O==null||(Y=O.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)||[]}return(E==null||(T=E.parameters)===null||T===void 0?void 0:T.feature_flag_variants)||(O==null||(I=O.parameters)===null||I===void 0?void 0:I.feature_flag_variants)||[]}],taxonomicGroupTypesForSelection:[function(E){return[E.newExperimentData,E.groupsTaxonomicTypes]},function(E,O){var T;return(E==null||(T=E.filters)===null||T===void 0?void 0:T.aggregation_group_type_index)!=null&&O.length>0?[O[E.filters.aggregation_group_type_index]]:[pe.a.PersonProperties,pe.a.Cohorts]}],parsedSecondaryMetrics:[function(E){return[E.newExperimentData,E.experimentData]},function(E,O){var T=(E==null?void 0:E.secondary_metrics)||(O==null?void 0:O.secondary_metrics)||[];return T}],minimumDetectableChange:[function(E){return[E.newExperimentData]},function(E){var O;return(E==null||(O=E.parameters)===null||O===void 0?void 0:O.minimum_detectable_effect)||5}],minimumSampleSizePerVariant:[function(E){return[E.minimumDetectableChange]},function(E){return function(O){return Math.ceil(1600*O*(1-O/100)/(E*E))}}],areResultsSignificant:[function(E){return[E.experimentResults]},function(E){return(E==null?void 0:E.significant)||!1}],significanceBannerDetails:[function(E){return[E.experimentResults]},function(E){if((E==null?void 0:E.significance_code)===L.E.HighLoss){var O;return s.a.createElement(s.a.Fragment,null,"This is because the expected loss in conversion is greater than 1%",s.a.createElement(fn.a,{placement:"right",title:s.a.createElement(s.a.Fragment,null,"Current value is ",(O=((E==null?void 0:E.expected_loss)||0)*100)===null||O===void 0?void 0:O.toFixed(2),"%")},s.a.createElement(Mt.a,{style:{padding:"4px 2px"}})),".")}if((E==null?void 0:E.significance_code)===L.E.HighPValue){var T;return s.a.createElement(s.a.Fragment,null,"This is because the p value is greater than 0.05",s.a.createElement(fn.a,{placement:"right",title:s.a.createElement(s.a.Fragment,null,"Current value is ",(E==null||(T=E.p_value)===null||T===void 0?void 0:T.toFixed(3))||1,".")},s.a.createElement(Mt.a,{style:{padding:"4px 2px"}})),".")}return(E==null?void 0:E.significance_code)===L.E.LowWinProbability?"This is because the win probability of all test variants combined is less than 90%.":(E==null?void 0:E.significance_code)===L.E.NotEnoughExposure?"This is because we need at least 100 people per variant to declare significance.":""}],recommendedExposureForCountData:[function(E){return[E.minimumDetectableChange]},function(E){return function(O){var T=O*E/100,I=O,Y=T+O;return parseFloat((4/Math.pow(Math.sqrt(I/Re)-Math.sqrt(Y/Re),2)).toFixed(1))}}],expectedRunningTime:[function(){return[]},function(){return function(E,O){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re;return parseFloat((O/(E/T)).toFixed(1))}}],conversionRateForVariant:[function(E){return[E.experimentResults]},function(E){return function(O){var T="Can't find variant";if(!E)return T;var I=(E==null?void 0:E.insight).find(function(Y){var de,re;return((de=Y[0])===null||de===void 0||(re=de.breakdown_value)===null||re===void 0?void 0:re[0])===O});return I?(I[I.length-1].count/I[0].count*100).toFixed(1):T}}],getIndexForVariant:[function(E){return[E.experimentResults]},function(E){return function(O,T){if(!E)return 0;var I=-1;return T===L.s.FUNNELS?I=Lt()(E==null?void 0:E.insight).sort(function(Y,de){var re,V;return((re=de[0])===null||re===void 0?void 0:re.count)-((V=Y[0])===null||V===void 0?void 0:V.count)}).findIndex(function(Y){var de,re;return((de=Y[0])===null||de===void 0||(re=de.breakdown_value)===null||re===void 0?void 0:re[0])===O}):I=(E==null?void 0:E.insight).findIndex(function(Y){return Y.breakdown_value===O}),I===-1?0:I}}],countDataForVariant:[function(E){return[E.experimentResults]},function(E){return function(O){var T="Can't find variant";if(!E)return T;var I=(E==null?void 0:E.insight).find(function(Y){return Y.breakdown_value===O});return I?I.count.toString():T}}],highestProbabilityVariant:[function(E){return[E.experimentResults]},function(E){if(E){var O=Math.max.apply(Math,Lt()(Object.values(E.probability)));return Object.keys(E.probability).find(function(T){return Math.abs(E.probability[T]-O)<Number.EPSILON})}}],areTrendResultsConfusing:[function(E){return[E.experimentResults,E.highestProbabilityVariant]},function(E,O){if(!E)return!1;var T=(E==null?void 0:E.insight).reduce(function(I,Y){return Y.count>I.count?Y:I},{count:0,breakdown_value:""});return T.count?T.breakdown_value!==O:!1}]},urlToAction:function(O){var T=O.actions,I=O.values,Y=O.props;return{"/experiments/:id":function(re){var V=re.id;if(!I.hasAvailableFeature(L.c.EXPERIMENTATION)){Nt.router.actions.push("/experiments");return}if(V){var fe=V==="new"?"new":parseInt(V);fe==="new"&&(T.createNewExperimentInsight(),T.resetNewExperiment(),T.setSecondaryMetrics([])),T.setEditExperiment(!1),fe!=="new"&&fe===Y.experimentId&&T.loadExperiment()}}}}});function $t(E){var O=Math.round(100/E),T=O*E,I=T-100,Y=new Array(E).fill(O);return Y[E-1]=O-I,Y}var _e=e("./frontend/src/scenes/insights/InsightContainer.tsx"),ke=e("./frontend/src/lib/components/icons.tsx"),dn=e("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),Mn=e("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),vn=e("./node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),un=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),vt=e("./frontend/src/lib/components/CopyToClipboard.tsx"),Yt=e("./frontend/src/scenes/funnels/funnelUtils.ts"),Qt=e("./node_modules/antd/es/modal/index.js"),mn=e("./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js");function pn(E,O){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);O&&(I=I.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),T.push.apply(T,I)}return T}function zt(E){for(var O=1;O<arguments.length;O++){var T=arguments[O]!=null?arguments[O]:{};O%2?pn(Object(T),!0).forEach(function(I){ut()(E,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):pn(Object(T)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(T,I))})}return E}var Cn=14,Tt={name:"",filters:{insight:L.s.TRENDS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}]}},Ge={name:"",filters:{insight:L.s.FUNNELS,events:[{id:"$pageview",name:"$pageview",type:"events",order:0}],layout:J.p.horizontal}},Kt=Object(Te.kea)({props:{},path:["scenes","experiment","secondaryMetricsLogic"],connect:{values:[lt.a,["currentTeamId"]]},actions:{setSecondaryMetrics:function(O){return{secondaryMetrics:O}},createNewMetric:!0,addNewMetric:function(O){return{metric:O}},updateMetricFilters:function(O){return{filters:O}},setFilters:function(O){return{filters:O}},setPreviewInsightId:function(O){return{shortId:O}},createPreviewInsight:function(O){return{filters:O}},showModal:!0,hideModal:!1,changeInsightType:function(O){return{type:O}},setCurrentMetricName:function(O){return{name:O}},deleteMetric:function(O){return{metricId:O}}},loaders:function(O){var T=O.values;return{experiments:[[],{loadExperiments:function(){var I=We()(ot.a.mark(function de(){var re;return ot.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,yt.a.get("api/projects/".concat(T.currentTeamId,"/experiments"));case 2:return re=fe.sent,fe.abrupt("return",re.results);case 4:case"end":return fe.stop()}},de)}));function Y(){return I.apply(this,arguments)}return Y}()}]}},reducers:function(O){var T=O.props;return{previewInsightId:[null,{setPreviewInsightId:function(Y,de){var re=de.shortId;return re}}],metrics:[T.initialMetrics,{addNewMetric:function(Y,de){var re=de.metric;return[].concat(Lt()(Y),[zt({},re)])},deleteMetric:function(Y,de){var re=de.metricId;return Y.filter(function(V,fe){return fe!==re})}}],modalVisible:[!1,{showModal:function(){return!0},hideModal:function(){return!1}}],currentMetricName:["",{setCurrentMetricName:function(Y,de){var re=de.name;return re}}],currentMetric:[Tt,{changeInsightType:function(Y,de){var re=de.type;return re===L.s.TRENDS?Tt:Y.filters.insight===L.s.TRENDS?Ge:Tt},updateMetricFilters:function(Y,de){var re=de.filters;return zt(zt({},Y),{},{filters:re})}}]}},listeners:function(O){var T=O.actions,I=O.values,Y=O.props;return{createPreviewInsight:function(){var de=We()(ot.a.mark(function V(fe){var G,ct,Ot,gt;return ot.a.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return G=fe.filters,(G==null?void 0:G.insight)===L.s.FUNNELS?ct=Object(_t.a)(zt({insight:L.s.FUNNELS,funnel_viz_type:L.o.Steps,display:L.d.FunnelViz,date_from:Object(Ie.a)().subtract(Cn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ie.a)().endOf("d").format("YYYY-MM-DDTHH:mm"),layout:J.p.horizontal},G)):ct=Object(_t.a)(zt({insight:L.s.TRENDS,date_from:Object(Ie.a)().subtract(Cn,"day").format("YYYY-MM-DDTHH:mm"),date_to:Object(Ie.a)().endOf("d").format("YYYY-MM-DDTHH:mm")},G)),Ot={name:Je(),description:"",tags:[],filters:ct,result:null},ze.next=5,yt.a.create("api/projects/".concat(lt.a.values.currentTeamId,"/insights"),Ot);case 5:gt=ze.sent,T.setPreviewInsightId(gt.short_id);case 7:case"end":return ze.stop()}},V)}));function re(V){return de.apply(this,arguments)}return re}(),setFilters:function(re){var V=re.filters;if(V.insight===L.s.FUNNELS){var fe;(fe=rn.a.findMounted({dashboardItemId:I.previewInsightId}))===null||fe===void 0||fe.actions.setFilters(V)}else{var G;(G=Et.a.findMounted({dashboardItemId:I.previewInsightId}))===null||G===void 0||G.actions.setFilters(V)}},createNewMetric:function(){T.addNewMetric(zt(zt({},I.currentMetric),{},{name:I.currentMetricName})),Y.onMetricsChange(I.metrics),T.changeInsightType(L.s.TRENDS),T.setCurrentMetricName("")},deleteMetric:function(){Y.onMetricsChange(I.metrics)},changeInsightType:function(){return T.createPreviewInsight(I.currentMetric.filters)}}},events:function(O){var T=O.actions;return{afterMount:function(){T.createPreviewInsight()}}}});function Sn(E,O){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);O&&(I=I.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),T.push.apply(T,I)}return T}function en(E){for(var O=1;O<arguments.length;O++){var T=arguments[O]!=null?arguments[O]:{};O%2?Sn(Object(T),!0).forEach(function(I){ut()(E,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):Sn(Object(T)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(T,I))})}return E}function kn(E){var O=E.onMetricsChange,T=E.initialMetrics,I=Kt({onMetricsChange:O,initialMetrics:T}),Y=Object(Te.useValues)(I),de=Y.previewInsightId,re=Y.metrics,V=Y.modalVisible,fe=Y.currentMetric,G=Object(Te.useActions)(I),ct=G.createNewMetric,Ot=G.updateMetricFilters,gt=G.setFilters,at=G.showModal,ze=G.hideModal,H=G.changeInsightType,Tn=G.setCurrentMetricName,yn=G.deleteMetric,wn=Object(Te.useValues)(Object(Ht.b)({dashboardItemId:de,syncWithUrl:!1})),Fn=wn.insightProps,je=Object(Te.useValues)(Object(rn.a)(Fn)),jn=je.isStepsEmpty,Vn=je.filterSteps;return s.a.createElement(s.a.Fragment,null,s.a.createElement(Qt.a,{title:"Add secondary metric",visible:V,destroyOnClose:!0,onCancel:ze,onOk:function(){ct(),ze()},okText:"Save",style:{minWidth:600}},s.a.createElement(ce.a,{layout:"vertical",initialValues:{name:"",type:L.s.TRENDS},onValuesChange:function(ln){ln.name&&Tn(ln.name)}},s.a.createElement(ce.a.Item,{name:"name",label:"Name"},s.a.createElement(Ke.a,null)),s.a.createElement(ce.a.Item,{name:"type",label:"Type"},s.a.createElement(Ne.a,{style:{display:"flex"},value:fe.filters.insight,onChange:function(){H()},suffixIcon:s.a.createElement(vn.a,null),dropdownMatchSelectWidth:!1},s.a.createElement(Ne.a.Option,{value:L.s.TRENDS},s.a.createElement(K.a,null,s.a.createElement("span",null,s.a.createElement("b",null,"Trend")))),s.a.createElement(Ne.a.Option,{value:L.s.FUNNELS},s.a.createElement(K.a,null,s.a.createElement("span",null,s.a.createElement("b",null,"Conversion funnel")))))),s.a.createElement(ce.a.Item,{name:"query",label:"Query"},s.a.createElement(te.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},fe.filters.insight===L.s.FUNNELS&&s.a.createElement(It.a,{filters:fe.filters,setFilters:function(ln){var An=en(en({},fe.filters),{},{insight:L.s.FUNNELS},ln);Ot(An),gt(An)},typeKey:"funnel-preview-metric",hideMathSelector:!0,hideDeleteBtn:Vn.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!jn,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[pe.a.EventProperties,pe.a.PersonProperties,pe.a.Cohorts,pe.a.Elements],rowClassName:"action-filters-bordered"}),fe.filters.insight===L.s.TRENDS&&s.a.createElement(It.a,{entitiesLimit:1,horizontalUI:!0,filters:fe.filters,setFilters:function(ln){var An=en(en({},fe.filters),{},{insight:L.s.TRENDS},ln);Ot(An),gt(An)},typeKey:"trend-preview-metric",buttonCopy:"Add graph series",showSeriesIndicator:!0,hideMathSelector:!1,propertiesTaxonomicGroupTypes:[pe.a.EventProperties,pe.a.PersonProperties,pe.a.Cohorts,pe.a.Elements]}))),s.a.createElement(ce.a.Item,{name:"metric-preview",label:"Metric preview"},s.a.createElement(Te.BindLogic,{logic:Ht.b,props:Fn},s.a.createElement(_e.a,{disableHeader:!0,disableTable:!0}))))),s.a.createElement(x.a,null,s.a.createElement(K.a,null,re.map(function(wt,ln){return s.a.createElement(x.a,{key:ln,className:"mt"},s.a.createElement(x.a,{align:"middle",className:"full-width border-all",style:{padding:8}},s.a.createElement("div",{style:{fontWeight:500}},"Name")," ",s.a.createElement("div",{className:"metric-name"},wt.name?wt.name:"".concat(wt.filters.insight," metric")),s.a.createElement(mn.a,{className:"text-danger",style:{padding:8},onClick:function(){return yn(ln)}})),s.a.createElement(te.a,{className:"full-width",style:{borderTop:"none"},bodyStyle:{padding:0}},wt.filters.insight===L.s.FUNNELS&&s.a.createElement(It.a,{filters:wt.filters,setFilters:function(kt){var Bt=en(en({},wt.filters),{},{insight:L.s.FUNNELS},kt);Ot(Bt),gt(Bt)},typeKey:"funnel-preview-".concat(ln),hideMathSelector:!0,hideDeleteBtn:Vn.length===1,buttonCopy:"Add funnel step",showSeriesIndicator:!jn,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[pe.a.EventProperties,pe.a.PersonProperties,pe.a.Cohorts,pe.a.Elements],rowClassName:"action-filters-bordered",readOnly:!0}),wt.filters.insight===L.s.TRENDS&&s.a.createElement(It.a,{horizontalUI:!0,filters:wt.filters,setFilters:function(kt){var Bt=en(en({},wt.filters),{},{insight:L.s.TRENDS},kt);Ot(Bt),gt(Bt)},typeKey:"trend-preview-".concat(ln),buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,hideMathSelector:!1,propertiesTaxonomicGroupTypes:[pe.a.EventProperties,pe.a.PersonProperties,pe.a.Cohorts,pe.a.Elements],readOnly:!0})))}),re&&!(re.length>2)&&s.a.createElement(K.a,null,s.a.createElement("div",{className:"mb-05 mt"},s.a.createElement(we.a,{style:{color:"var(--primary)",minWidth:240},onClick:at},"Add metric"))))))}try{kn.displayName="SecondaryMetrics",kn.__docgenInfo={description:"",displayName:"SecondaryMetrics",props:{onMetricsChange:{defaultValue:null,description:"",name:"onMetricsChange",required:!0,type:{name:"(metrics: SecondaryExperimentMetric[]) => void"}},initialMetrics:{defaultValue:null,description:"",name:"initialMetrics",required:!0,type:{name:"SecondaryExperimentMetric[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"]={docgenInfo:kn.__docgenInfo,name:"SecondaryMetrics",path:"frontend/src/scenes/experiments/SecondaryMetrics.tsx#SecondaryMetrics"})}catch(E){}var Bn=e("./frontend/src/lib/colors.ts"),qn=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),ma=e("./frontend/src/lib/components/EditableField/EditableField.tsx"),sa=e("./frontend/src/lib/components/Link.tsx"),pa=e("./frontend/src/lib/logic/featureFlagLogic.ts"),ba=e("./node_modules/antd/es/slider/index.js"),Yn=e("./node_modules/antd/es/input-number/index.js"),ea=e("./frontend/src/lib/components/InsightLabel/index.tsx"),ca=e("./frontend/src/lib/components/PropertyFilters/components/PropertyFilterButton.tsx");function ta(){var E=Object(Gt.useState)(!1),O=he()(E,2),T=O[0],I=O[1],Y=Object(Gt.useState)(!1),de=he()(Y,2),re=de[0],V=de[1];return s.a.createElement(te.a,{className:"experiment-workflow",title:s.a.createElement("span",{className:"card-secondary"},"Experiment workflow")},s.a.createElement(x.a,null,s.a.createElement(K.a,{className:"exp-workflow-step step-completed full-width"},s.a.createElement(x.a,{align:"middle"},s.a.createElement(ke.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}),s.a.createElement("b",{className:"ml-05"},"Create experiment")),s.a.createElement("div",{className:"ml-2"},"Set variants, select participants, and add secondary metrics"))),s.a.createElement(x.a,null,s.a.createElement(K.a,{className:"full-width exp-workflow-step ".concat(T?"step-completed":""),onClick:function(){return I(!T)}},s.a.createElement(x.a,{align:"middle"},T?s.a.createElement(ke.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):s.a.createElement(ke.IconRadioButtonUnchecked,null),s.a.createElement("b",{className:"ml-05"},"Validate experiment")),s.a.createElement("div",{className:"ml-2"},"Once you've written your code, it's a good idea to test that each variant behaves as you'd expect."))),s.a.createElement(x.a,null,s.a.createElement(K.a,{className:"full-width exp-workflow-step ".concat(re?"step-completed":""),onClick:function(){return V(!re)}},s.a.createElement(x.a,{align:"middle"},re?s.a.createElement(ke.IconCheckmark,{style:{color:"var(--primary)",fontSize:24}}):s.a.createElement(ke.IconRadioButtonUnchecked,null),s.a.createElement("b",{className:"ml-05"},"Launch experiment")),s.a.createElement("div",{className:"ml-2"},"Run your experiment, monitor results, and decide when to terminate your experiment."))))}function Hn(E){var O,T,I,Y,de,re,V=E.experiment,fe=E.trendCount,G=E.funnelConversionRate,ct=E.trendExposure,Ot=E.funnelSampleSize,gt=E.funnelEntrants,at=(V==null?void 0:V.id)||"new",ze=Object(Te.useValues)(Le({experimentId:at})),H=ze.experimentInsightType,Tn=ze.editingExistingExperiment,yn=ze.minimumDetectableChange,wn=ze.expectedRunningTime,Fn=ze.aggregationLabel,je=Object(Te.useActions)(Le({experimentId:at})),jn=je.setNewExperimentData,Vn=H===L.s.FUNNELS&&100-G<50?100-G:50,wt=Object(Ie.a)().diff(Object(Ie.a)(V==null?void 0:V.start_date),"hour"),ln=0;V!=null&&V.start_date?ln=wn(gt||1,Ot||0,wt):ln=wn(gt||1,Ot||0);var An=Object(Ie.a)(V==null?void 0:V.start_date).add(ln,"hour"),kt=!(V!=null&&V.end_date)&&wt>=24&&gt&&Ot,Bt=Object(nt.s)(V==null||(O=V.filters)===null||O===void 0?void 0:O.properties);return s.a.createElement(x.a,null,s.a.createElement(K.a,{span:!(V!=null&&V.start_date)&&at!=="new"&&!Tn?12:24},at==="new"&&s.a.createElement(x.a,{className:"experiment-preview-row"},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("b",null,"Experiment preview")),s.a.createElement("div",{className:"text-muted"},"Here are the baseline metrics for your experiment. Adjust your minimum detectible threshold to adjust for the smallest conversion value you\u2019ll accept, and the experiment duration."," "))),(at==="new"||Tn)&&s.a.createElement(x.a,{className:"mb"},s.a.createElement(K.a,{span:24},s.a.createElement("div",null,s.a.createElement("b",null,"Minimum acceptable improvement"),s.a.createElement(ve.a,{title:"Minimum acceptable improvement is a calculation that estimates the smallest significant improvement you are willing to accept."},s.a.createElement(Mt.a,{style:{marginLeft:4}}))),s.a.createElement(x.a,{className:"mde-slider"},s.a.createElement(K.a,{span:8},s.a.createElement(ba.a,{defaultValue:5,value:yn,min:1,max:Vn,trackStyle:{background:"var(--primary)"},handleStyle:{background:"var(--primary)"},onChange:function(Pn){jn({parameters:{minimum_detectable_effect:Pn}})},tipFormatter:function(Pn){return"".concat(Pn,"%")}})),s.a.createElement(Yn.a,{min:1,max:Vn,defaultValue:5,formatter:function(Pn){return"".concat(Pn,"%")},style:{margin:"0 16px"},value:yn,onChange:function(Pn){jn({parameters:{minimum_detectable_effect:Pn}})}})))),s.a.createElement(x.a,{className:"experiment-preview-row ".concat(V!=null&&V.start_date?"mr":"")},H===L.s.TRENDS?s.a.createElement(s.a.Fragment,null,!(V!=null&&V.start_date)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(K.a,{span:6},s.a.createElement("div",{className:"card-secondary"},"Baseline Count"),s.a.createElement("div",{className:"l4"},Object(nt.O)(fe||0))),s.a.createElement(K.a,{span:6},s.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Count"),s.a.createElement("div",{className:"l4"},Object(nt.O)(fe+Math.ceil(fe*(yn/100))||0)))),s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Recommended running time"),s.a.createElement("div",null,s.a.createElement("span",{className:"l4"},"~",Object(nt.O)(ct||0))," days"))):s.a.createElement(s.a.Fragment,null,!(V!=null&&V.start_date)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Baseline Conversion Rate"),s.a.createElement("div",{className:"l4"},G.toFixed(1),"%")),s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Minimum Acceptable Conversion Rate"),s.a.createElement("div",{className:"l4"},(G+yn).toFixed(1),"%"))),s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Recommended Sample Size"),s.a.createElement("div",{className:"pb"},s.a.createElement("span",{className:"l4"},"~",Object(nt.O)(Ot||0))," persons")),!(V!=null&&V.start_date)&&s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Recommended running time"),s.a.createElement("div",null,s.a.createElement("span",{className:"l4"},"~",Object(nt.O)(ln||0))," days"))),s.a.createElement(x.a,{className:"full-width mt"},s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Experiment variants"),s.a.createElement("ul",{className:"variants-list"},V==null||(T=V.parameters)===null||T===void 0||(I=T.feature_flag_variants)===null||I===void 0?void 0:I.map(function(tn,Pn){return s.a.createElement("li",{key:Pn},tn.key)}))),s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary"},"Participants"),s.a.createElement("div",null,Bt!=null&&Bt.length?s.a.createElement("div",null,Bt==null?void 0:Bt.map(function(tn){return s.a.createElement(ca.c,{key:tn.key,item:tn,style:{margin:2,cursor:"default"}})})):s.a.createElement(s.a.Fragment,null,"100% of"," ",(V==null||(Y=V.filters)===null||Y===void 0?void 0:Y.aggregation_group_type_index)!=null?Object(nt.j)(Fn(V.filters.aggregation_group_type_index).plural):"users")))),s.a.createElement(x.a,{className:"full-width"},at!=="new"&&!Tn&&s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary mt"},"Start date"),V!=null&&V.start_date?s.a.createElement("span",null,Object(Ie.a)(V==null?void 0:V.start_date).format("D MMM YYYY")):s.a.createElement("span",{className:"description"},"Not started yet")),H===L.s.FUNNELS&&kt?s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary mt"},"Expected end date"),s.a.createElement("span",null,An.isAfter(Object(Ie.a)())?An.format("D MMM YYYY"):Object(Ie.a)().format("D MMM YYYY"))):null,(V==null?void 0:V.end_date)&&s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"card-secondary mt"},"Completed date"),s.a.createElement("span",null,Object(Ie.a)(V==null?void 0:V.end_date).format("D MMM YYYY"))))),at!=="new"&&!Tn&&s.a.createElement(x.a,{className:"experiment-preview-row"},s.a.createElement(K.a,null,s.a.createElement("div",{className:"card-secondary mb-05"},H===L.s.FUNNELS?"Conversion goal steps":"Trend goal"),[].concat(Lt()((V==null||(de=V.filters)===null||de===void 0?void 0:de.events)||[]),Lt()((V==null||(re=V.filters)===null||re===void 0?void 0:re.actions)||[])).sort(function(tn,Pn){return(tn.order||0)-(Pn.order||0)}).map(function(tn,Pn){var aa;return s.a.createElement(K.a,{key:Pn,className:"mb-05"},s.a.createElement(x.a,{style:{marginBottom:4}},s.a.createElement("div",{className:"preview-conversion-goal-num"},H===L.s.FUNNELS?(tn.order||0)+1:Pn+1),s.a.createElement("b",null,s.a.createElement(ea.b,{action:tn,showCountedByTag:H===L.s.TRENDS,hideIcon:!0}))),(aa=tn.properties)===null||aa===void 0?void 0:aa.map(function(ra){return s.a.createElement(ca.c,{key:ra.key,item:ra})}))})))),at!=="new"&&!Tn&&!(V!=null&&V.start_date)&&s.a.createElement(K.a,{span:12,className:"pl"},s.a.createElement(ta,null)))}try{Hn.displayName="ExperimentPreview",Hn.__docgenInfo={description:"",displayName:"ExperimentPreview",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}},trendCount:{defaultValue:null,description:"",name:"trendCount",required:!0,type:{name:"number"}},trendExposure:{defaultValue:null,description:"",name:"trendExposure",required:!1,type:{name:"number"}},funnelSampleSize:{defaultValue:null,description:"",name:"funnelSampleSize",required:!1,type:{name:"number"}},funnelConversionRate:{defaultValue:null,description:"",name:"funnelConversionRate",required:!0,type:{name:"number"}},funnelEntrants:{defaultValue:null,description:"",name:"funnelEntrants",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"]={docgenInfo:Hn.__docgenInfo,name:"ExperimentPreview",path:"frontend/src/scenes/experiments/ExperimentPreview.tsx#ExperimentPreview"})}catch(E){}var Zn=e("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx");function Gn(E){var O,T,I,Y=E.experiment,de=Object(Gt.useState)("control"),re=he()(de,2),V=re[0],fe=re[1];return s.a.createElement(te.a,{title:s.a.createElement("span",{className:"card-secondary"},"Feature flag usage and implementation"),className:"experiment-implementation-details"},s.a.createElement(x.a,{justify:"space-between",className:"mb-05"},s.a.createElement("div",null,s.a.createElement("span",{className:"mr-05"},"Variant group"),s.a.createElement(Ne.a,{onChange:fe,defaultValue:"control",suffixIcon:s.a.createElement(vn.a,null)},Y==null||(O=Y.parameters)===null||O===void 0||(T=O.feature_flag_variants)===null||T===void 0?void 0:T.map(function(G,ct){return s.a.createElement(Ne.a.Option,{key:ct,value:G.key},G.key)}))),s.a.createElement("div",null,s.a.createElement(na,null))),s.a.createElement("b",null,"Implement your experiment in code"),s.a.createElement(Zn.a,{language:Zn.b.JavaScript,wrap:!0},"if (posthog.getFeatureFlag('".concat((I=Y==null?void 0:Y.feature_flag_key)!==null&&I!==void 0?I:"","') === '").concat(V,`') {
    // where '`).concat(V,`' is the variant, run your code here
}`)),s.a.createElement("b",null,"Test that it works"),s.a.createElement(Zn.a,{language:Zn.b.JavaScript},"posthog.feature_flags.override({'".concat(Y==null?void 0:Y.feature_flag_key,"': '").concat(V,"'})")),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://posthog.com/docs/user-guides/feature-flags"},s.a.createElement(x.a,{align:"middle"},"Experiment implementation guide",s.a.createElement(ke.IconOpenInNew,{className:"ml-05"}))))}try{Gn.displayName="ExperimentImplementationDetails",Gn.__docgenInfo={description:"",displayName:"ExperimentImplementationDetails",props:{experiment:{defaultValue:null,description:"",name:"experiment",required:!0,type:{name:"Partial<Experiment> | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"]={docgenInfo:Gn.__docgenInfo,name:"ExperimentImplementationDetails",path:"frontend/src/scenes/experiments/ExperimentImplementationDetails.tsx#ExperimentImplementationDetails"})}catch(E){}var $n=e("./frontend/src/lib/components/LemonButton/index.ts");function da(E,O){var T=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);O&&(I=I.filter(function(Y){return Object.getOwnPropertyDescriptor(E,Y).enumerable})),T.push.apply(T,I)}return T}function Un(E){for(var O=1;O<arguments.length;O++){var T=arguments[O]!=null?arguments[O]:{};O%2?da(Object(T),!0).forEach(function(I){ut()(E,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(T)):da(Object(T)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(T,I))})}return E}var Kn={component:Dn,logic:Le,paramsToProps:function(O){var T=O.params.id;return{experimentId:T==="new"?"new":parseInt(T)}}};function Dn(){var E,O,T,I,Y,de,re,V,fe,G,ct,Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},gt=Ot.id,at=Object(Te.useValues)(Le({experimentId:gt})),ze=at.newExperimentData,H=at.experimentData,Tn=at.experimentInsightId,yn=at.minimumSampleSizePerVariant,wn=at.recommendedExposureForCountData,Fn=at.variants,je=at.experimentResults,jn=at.countDataForVariant,Vn=at.editingExistingExperiment,wt=at.experimentInsightType,ln=at.experimentResultsLoading,An=at.parsedSecondaryMetrics,kt=at.areResultsSignificant,Bt=at.conversionRateForVariant,tn=at.getIndexForVariant,Pn=at.significanceBannerDetails,aa=at.areTrendResultsConfusing,ra=at.taxonomicGroupTypesForSelection,ua=at.groupTypes,ia=at.aggregationLabel,ga=at.secondaryMetricResults,fa=at.experimentDataLoading,In=Object(Te.useActions)(Le({experimentId:gt})),Jt=In.setNewExperimentData,Wn=In.createExperiment,la=In.launchExperiment,Nn=In.setFilters,Ta=In.setEditExperiment,wa=In.endExperiment,xa=In.addExperimentGroup,ha=In.updateExperiment,va=In.updateExperimentGroup,Ea=In.removeExperimentGroup,Oa=In.setSecondaryMetrics,ja=In.setExperimentInsightType,Ca=In.archiveExperiment,Pa=Object(Te.useValues)(pa.a),f=Pa.featureFlags,p=ce.a.useForm(),C=he()(p,1),g=C[0],d=Object(Gt.useState)(!0),v=he()(d,2),i=v[0],l=v[1],c=Object(Te.useValues)(Object(Ht.b)({dashboardItemId:Tn})),y=c.insightProps,w=Object(Te.useValues)(Object(rn.a)(y)),a=w.isStepsEmpty,n=w.filterSteps,t=w.filters,o=w.results,m=w.conversionMetrics,h=Object(Te.useValues)(Object(Et.a)(y)),b=h.filters,S=h.results,P=m.totalRate*100,D=yn(P),U=D*Fn.length,k=(E=S[0])===null||E===void 0?void 0:E.count,B=o==null||(O=o[0])===null||O===void 0?void 0:O.count,ue=wn(k),ie=wt===L.s.FUNNELS&&(je==null?void 0:je.insight)?je.insight.reduce(function(q,$){var R;return((R=$[0])===null||R===void 0?void 0:R.count)+q},0):0,ge=wt===L.s.FUNNELS?(ie||0)/((H==null||(T=H.parameters)===null||T===void 0?void 0:T.recommended_sample_size)||1)*100:Object(Ie.a)().diff(H==null?void 0:H.start_date,"day")/((H==null||(I=H.parameters)===null||I===void 0?void 0:I.recommended_running_time)||1)*100,Oe={running:"green",draft:"default",complete:"purple"},Ae=function(){if(H!=null&&H.start_date){if(!(H!=null&&H.end_date))return"running"}else return"draft";return"complete"},ye=[{background:"#35416b",color:"#fff"},{background:"#C278CE66",color:"#35416B"},{background:"#FFE6AE",color:"#35416B"},{background:"#8DA9E74D",color:"#35416B"}];return s.a.createElement(s.a.Fragment,null,gt==="new"||Vn?s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{align:"middle",justify:"space-between",style:{borderBottom:"1px solid var(--border)",marginBottom:"1rem",paddingBottom:8}},s.a.createElement(et.a,{title:"New experiment"}),s.a.createElement(x.a,null,s.a.createElement($n.a,{type:"secondary",className:"mr-05",onClick:function(){return Nt.router.actions.push(jt.a.experiments())}},"Cancel"),s.a.createElement($n.a,{type:"primary",htmlType:"submit",form:"new-experiment"},"Save"))),s.a.createElement(ce.a,{name:"new-experiment",layout:"vertical",className:"experiment-form",form:g,onValuesChange:function($){return Jt($)},initialValues:{name:ze==null?void 0:ze.name,feature_flag_key:ze==null?void 0:ze.feature_flag_key,description:ze==null?void 0:ze.description},onFinish:function(){return Wn(!0,ue,U)},requiredMark:!1,scrollToFirstError:!0},s.a.createElement("div",null,s.a.createElement(Te.BindLogic,{logic:Ht.b,props:y},s.a.createElement(x.a,null,s.a.createElement(K.a,{span:12,style:{paddingRight:24}},s.a.createElement(x.a,{className:"full-width"},s.a.createElement(ce.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"You have to enter a name."}]},s.a.createElement(Ke.a,{"data-attr":"experiment-name",className:"ph-ignore-input"})),s.a.createElement(ce.a.Item,{style:{paddingLeft:16},label:s.a.createElement("div",null,"Feature flag key"," ",s.a.createElement(ve.a,{title:"Enter a unique key. This will create a new feature flag which will be associated with this experiment."},s.a.createElement(Mt.a,null))),name:"feature_flag_key",rules:[{required:!0,message:"You have to enter a feature flag key name."}]},s.a.createElement(Ke.a,{"data-attr":"experiment-feature-flag-key",disabled:Vn}))),s.a.createElement(ce.a.Item,{label:s.a.createElement("div",null,"Description ",s.a.createElement("span",{className:"text-muted"},"(optional)")),name:"description"},s.a.createElement(Ke.a.TextArea,{"data-attr":"experiment-description",className:"ph-ignore-input",placeholder:"Adding a helpful description can ensure others know what this experiment is about."})),(ze==null||(Y=ze.parameters)===null||Y===void 0?void 0:Y.feature_flag_variants)&&s.a.createElement(K.a,null,s.a.createElement("label",null,s.a.createElement("b",null,"Experiment variants")),s.a.createElement("div",{className:"text-muted"},"Participants are divided into variant groups evenly. All experiments must consist of a control group and at least one test group. Experiments may have at most 3 test groups. Variant names can only contain letters, numbers, hyphens, and underscores."),s.a.createElement(K.a,{className:"variants"},ze.parameters.feature_flag_variants.map(function(q,$){return s.a.createElement(ce.a,{key:"".concat(q,"-").concat($),initialValues:{key:q.key},onValuesChange:function(A){va(A,$)}},s.a.createElement(x.a,{key:"".concat(q,"-").concat($),className:"feature-flag-variant ".concat($===0?"border-top":$>=3?"border-bottom":"")},s.a.createElement("div",{className:"variant-label",style:Un({},ye[$])},$===0?"Control":"Test"),s.a.createElement(ce.a.Item,{name:"key",rules:[{required:!0,message:"Key should not be empty."},{required:!0,pattern:/^([A-z]|[a-z]|[0-9]|-|_)+$/,message:s.a.createElement(s.a.Fragment,null,s.a.createElement(dn.a,{style:{color:"#F96132"}})," ","Variant names can only contain letters, numbers, hyphens, and underscores.")}],style:{display:"contents"}},s.a.createElement(Ke.a,{disabled:$===0,"data-attr":"feature-flag-variant-key","data-key-index":$.toString(),className:"ph-ignore-input",placeholder:"example-variant-".concat($+1),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1})),s.a.createElement("div",{className:"float-right"},!($===0||$===1)&&s.a.createElement(ve.a,{title:"Delete this variant",placement:"bottomLeft"},s.a.createElement($n.a,{type:"primary-alt",compact:!0,icon:s.a.createElement(ke.IconDelete,null),onClick:function(){return Ea($)}})))))}),ze.parameters.feature_flag_variants.length<4&&s.a.createElement("div",{className:"feature-flag-variant border-bottom"},s.a.createElement(we.a,{style:{color:"var(--primary)",border:"none",boxShadow:"none",paddingLeft:0},icon:s.a.createElement(Mn.a,null),onClick:function(){return xa()}},"Add test variant")))),s.a.createElement(x.a,{className:"person-selection"},s.a.createElement("div",{className:"mb-05"},s.a.createElement("strong",null,"Select participants")),s.a.createElement(K.a,null,s.a.createElement("div",{className:"text-muted"},"Select the entities who will participate in this experiment. If no filters are set, 100% of participants will be targeted."),s.a.createElement("div",{className:"mt mb-05"},s.a.createElement("strong",null,"Participant type")),s.a.createElement(Ne.a,{value:(ze==null||(de=ze.filters)===null||de===void 0?void 0:de.aggregation_group_type_index)!=null?ze.filters.aggregation_group_type_index:-1,onChange:function($){var R,A=$!==-1?$:void 0;A!=(ze==null||(R=ze.filters)===null||R===void 0?void 0:R.aggregation_group_type_index)&&(Nn({properties:[],aggregation_group_type_index:A}),Jt({filters:{aggregation_group_type_index:A,properties:[]}}))},"data-attr":"participant-aggregation-filter",dropdownMatchSelectWidth:!1},s.a.createElement(Ne.a.Option,{key:-1,value:-1},"Persons"),ua.map(function(q){return s.a.createElement(Ne.a.Option,{key:q.group_type_index,value:q.group_type_index},Object(nt.j)(ia(q.group_type_index).plural))})),s.a.createElement("div",{className:"mt"},s.a.createElement("strong",null,"Filters")),s.a.createElement(M.a,{pageKey:"experiment-participants-property",propertyFilters:wt===L.s.FUNNELS?Object(nt.s)(t.properties):Object(nt.s)(b.properties),onChange:function($){Jt({filters:{properties:$}}),Nn({properties:$.filter(it.b)})},taxonomicGroupTypes:ra})))),s.a.createElement(x.a,{className:"metrics-selection"},s.a.createElement(K.a,{span:12},s.a.createElement("div",{className:"mb-05"},s.a.createElement("b",null,"Goal type"),s.a.createElement("div",{className:"text-muted"},wt===L.s.TRENDS?"Track counts of a specific event or action":"Track how many persons complete a sequence of actions and or events")),s.a.createElement(Ne.a,{style:{display:"flex"},value:wt,onChange:ja,suffixIcon:s.a.createElement(vn.a,null),dropdownMatchSelectWidth:!1},s.a.createElement(Ne.a.Option,{value:L.s.TRENDS},s.a.createElement(K.a,null,s.a.createElement("span",null,s.a.createElement("b",null,"Trend")))),s.a.createElement(Ne.a.Option,{value:L.s.FUNNELS},s.a.createElement(K.a,null,s.a.createElement("span",null,s.a.createElement("b",null,"Conversion funnel"))))),s.a.createElement("div",{className:"mb mt"},s.a.createElement("b",null,"Experiment goal"),wt===L.s.TRENDS&&s.a.createElement("div",{className:"text-muted"},"Trend-based experiments can have at most one graph series. This metric is used to track the progress of your experiment.")),s.a.createElement(x.a,null,s.a.createElement(te.a,{className:"action-filters-bordered",style:{width:"100%",marginRight:8},bodyStyle:{padding:0}},wt===L.s.FUNNELS&&s.a.createElement(It.a,{filters:t,setFilters:function($){Jt({filters:$}),Nn($)},typeKey:"EditFunnel-action",hideMathSelector:!0,hideDeleteBtn:n.length===1,buttonCopy:"Add funnel step",buttonType:"link",showSeriesIndicator:!a,seriesIndicatorType:"numeric",fullWidth:!0,sortable:!0,showNestedArrow:!0,propertiesTaxonomicGroupTypes:[pe.a.EventProperties,pe.a.PersonProperties,pe.a.Cohorts,pe.a.Elements],rowClassName:"action-filters-bordered"}),wt===L.s.TRENDS&&s.a.createElement(It.a,{horizontalUI:!0,filters:b,setFilters:function($){Jt({filters:$}),Nn($)},typeKey:"experiment-trends",buttonCopy:"Add graph series",showSeriesIndicator:!0,entitiesLimit:1,hideMathSelector:!1,propertiesTaxonomicGroupTypes:[pe.a.EventProperties,pe.a.PersonProperties,pe.a.Cohorts,pe.a.Elements],customRowPrefix:b.insight===L.s.LIFECYCLE?s.a.createElement(s.a.Fragment,null,"Showing ",s.a.createElement("b",null,"Unique users")," who did"):void 0}))),f[J.n.EXPERIMENTS_SECONDARY_METRICS]&&s.a.createElement(K.a,{className:"secondary-metrics"},s.a.createElement("div",null,s.a.createElement("b",null,"Secondary metrics"),s.a.createElement("span",{className:"text-muted ml-05"},"(optional)")),s.a.createElement("div",{className:"text-muted",style:{marginTop:4}},"Use secondary metrics to monitor metrics related to your experiment goal. You can add up to three secondary metrics."," "),s.a.createElement(kn,{onMetricsChange:function($){return Oa($)},initialMetrics:An}))),s.a.createElement(K.a,{span:12,className:"pl"},s.a.createElement("div",{className:"card-secondary mb"},"Goal preview"),s.a.createElement(_e.a,{disableHeader:wt===L.s.TRENDS,disableTable:!0})))),s.a.createElement(x.a,null,s.a.createElement(te.a,{className:"experiment-preview"},s.a.createElement(Hn,{experiment:ze,trendCount:k,trendExposure:ue,funnelSampleSize:U,funnelEntrants:B,funnelConversionRate:P}))))),s.a.createElement($n.a,{className:"float-right",type:"primary",htmlType:"submit"},"Save"))):!fa&&H?s.a.createElement("div",{className:"view-experiment"},s.a.createElement(x.a,{className:"draft-header"},s.a.createElement(x.a,{justify:"space-between",align:"middle",className:"full-width pb"},s.a.createElement(K.a,null,s.a.createElement(x.a,null,s.a.createElement(et.a,{style:{paddingRight:8},title:"".concat(H==null?void 0:H.name),buttons:s.a.createElement(s.a.Fragment,null,s.a.createElement(vt.a,{explicitValue:H.feature_flag_key,iconStyle:{color:"var(--text-muted-alt)"}},s.a.createElement("span",{className:"text-muted"},H.feature_flag_key)),s.a.createElement(Ye.a,{style:{alignSelf:"center"},color:Oe[Ae()]},s.a.createElement("b",{className:"uppercase"},Ae())),je&&H.end_date&&s.a.createElement(Ye.a,{style:{alignSelf:"center"},color:kt?"green":"geekblue"},s.a.createElement("b",{className:"uppercase"},kt?"Significant Results":"Results not significant")))})),s.a.createElement("span",{className:"exp-description"},H.start_date?s.a.createElement(ma.a,{multiline:!0,name:"description",value:H.description||"",placeholder:"Description (optional)",onSave:function($){return ha({description:$})},maxLength:400,"data-attr":"experiment-description",compactButtons:!0}):s.a.createElement(s.a.Fragment,null,H.description||"There is no description for this experiment."))),H&&!H.start_date&&s.a.createElement("div",null,s.a.createElement(we.a,{className:"mr-05",onClick:function(){return Ta(!0)}},"Edit"),s.a.createElement(we.a,{type:"primary",onClick:function(){return la()}},"Launch")),H&&H.start_date&&!H.end_date&&s.a.createElement(we.a,{className:"stop-experiment",onClick:function(){return wa()}},"Stop experiment"),(H==null?void 0:H.end_date)&&Object(Ie.a)().isSameOrAfter(Object(Ie.a)(H.end_date),"day")&&!H.archived&&s.a.createElement(we.a,{className:"archive-experiment",onClick:function(){return Ca()}},s.a.createElement("b",null,"Archive experiment")))),s.a.createElement(x.a,null,i&&je&&kt&&!H.end_date&&s.a.createElement(x.a,{align:"middle",className:"significant-results"},s.a.createElement(K.a,{span:19,style:{color:"#497342"}},"Your results are ",s.a.createElement("b",null,"statistically significant"),"."," ",H.end_date?"":"You can end this experiment now or let it run to completion."),s.a.createElement(K.a,{span:5},s.a.createElement(we.a,{style:{color:"#497342"},onClick:function(){return l(!1)}},"Dismiss"))),i&&je&&!kt&&!H.end_date&&s.a.createElement(x.a,{align:"middle",className:"not-significant-results"},s.a.createElement(K.a,{span:23,style:{color:"#2D2D2D"}},s.a.createElement("b",null,"Your results are not statistically significant"),". ",Pn," ",H!=null&&H.end_date?"":"We don't recommend ending this experiment yet."," ","See our"," ",s.a.createElement("a",{href:"https://posthog.com/docs/user-guides/experimentation#funnel-experiment-calculations"}," ","experimentation guide"," "),"for more information."," "),s.a.createElement(K.a,{span:1},s.a.createElement(un.a,{className:"close-button",onClick:function(){return l(!1)}}))),i&&H.end_date&&s.a.createElement(x.a,{align:"middle",className:"feature-flag-mods"},s.a.createElement(K.a,{span:23},s.a.createElement("b",null,"Your experiment is complete.")," We recommend removing the feature flag from your code completely, instead of relying on this distribution:"," ",s.a.createElement(sa.a,{to:H.feature_flag?jt.a.featureFlag(H.feature_flag):void 0},s.a.createElement("b",null,"Adjust feature flag distribution."))),s.a.createElement(K.a,{span:1},s.a.createElement(un.a,{className:"close-button",onClick:function(){return l(!1)}})))),s.a.createElement(x.a,null,s.a.createElement(Ee.a,{className:"full-width",defaultActiveKey:"experiment-details"},s.a.createElement(Ee.a.Panel,{header:s.a.createElement("b",null,"Experiment details"),key:"experiment-details"},s.a.createElement(x.a,null,s.a.createElement(K.a,{span:H!=null&&H.start_date?12:24},s.a.createElement(Hn,{experiment:H,trendCount:k,trendExposure:H==null?void 0:H.parameters.recommended_running_time,funnelSampleSize:H==null?void 0:H.parameters.recommended_sample_size,funnelConversionRate:P,funnelEntrants:H!=null&&H.start_date?ie:B})),!je&&H.start_date&&s.a.createElement(K.a,{span:12},s.a.createElement(Gn,{experiment:H})),(je||((re=H.secondary_metrics)===null||re===void 0?void 0:re.length)>0)&&s.a.createElement(K.a,{className:"secondary-progress",span:H!=null&&H.start_date?12:24},f[J.n.EXPERIMENTS_SECONDARY_METRICS]&&!!(H!=null&&H.secondary_metrics.length)&&s.a.createElement(K.a,{className:"border-bottom"},s.a.createElement(x.a,{align:"middle",justify:"space-between",className:"mb-05"},s.a.createElement("div",{className:"card-secondary"},"Secondary metrics"),H==null||(V=H.parameters)===null||V===void 0||(fe=V.feature_flag_variants)===null||fe===void 0?void 0:fe.map(function(q,$){return s.a.createElement("li",{key:$,style:{color:"".concat(wt===L.s.FUNNELS?Object(Yt.k)(tn(q.key,L.s.FUNNELS)+1):Object(Bn.c)("white")[tn(q.key,L.s.TRENDS)])},className:"pr"},s.a.createElement("span",{className:"text-default"},Object(nt.j)(q.key)))})),f[J.n.EXPERIMENTS_SECONDARY_METRICS]&&(H.start_date?s.a.createElement(s.a.Fragment,null,H.secondary_metrics.map(function(q,$){var R,A;return s.a.createElement(x.a,{className:"border-top",key:$,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},s.a.createElement("div",null,Object(nt.j)(q.name)),H==null||(R=H.parameters)===null||R===void 0||(A=R.feature_flag_variants)===null||A===void 0?void 0:A.map(function(F,_){return s.a.createElement("div",{key:_},ga==null?void 0:ga[$][F.key])}))})):s.a.createElement(s.a.Fragment,null,H.secondary_metrics.map(function(q,$){var R,A;return s.a.createElement(x.a,{className:"border-top",key:$,justify:"space-between",style:{paddingTop:8,paddingBottom:8}},s.a.createElement("div",null,Object(nt.j)(q.name)),H==null||(R=H.parameters)===null||R===void 0||(A=R.feature_flag_variants)===null||A===void 0?void 0:A.map(function(F,_){return s.a.createElement("div",{key:_},"--")}))})))),je&&s.a.createElement(K.a,{className:"mt"},s.a.createElement("div",{className:"mb-05"},s.a.createElement("b",null,"Experiment progress")),s.a.createElement(Pe.a,{strokeWidth:20,showInfo:!1,percent:ge,strokeColor:"var(--success)"}),wt===L.s.TRENDS&&H.start_date&&s.a.createElement(x.a,{justify:"space-between",className:"mt-05"},H.end_date?s.a.createElement("div",null,"Ran for"," ",s.a.createElement("b",null,Object(Ie.a)(H.end_date).diff(H.start_date,"day"))," ","days"):s.a.createElement("div",null,s.a.createElement("b",null,Object(Ie.a)().diff(H.start_date,"day"))," ","days running"),s.a.createElement("div",null,"Goal:"," ",s.a.createElement("b",null,H==null||(G=H.parameters)===null||G===void 0?void 0:G.recommended_running_time)," ","days")),wt===L.s.FUNNELS&&s.a.createElement(x.a,{justify:"space-between",className:"mt-05"},H.end_date?s.a.createElement("div",null,"Saw"," ",s.a.createElement("b",null,Object(nt.O)(ie))," ","participants"):s.a.createElement("div",null,s.a.createElement("b",null,Object(nt.O)(ie))," ","participants seen"),s.a.createElement("div",null,"Goal:"," ",s.a.createElement("b",null,Object(nt.O)((H==null||(ct=H.parameters)===null||ct===void 0?void 0:ct.recommended_sample_size)||0))," ","participants"))))))),!(H!=null&&H.start_date)&&s.a.createElement("div",{className:"mt full-width"},s.a.createElement(Gn,{experiment:H}))),s.a.createElement("div",{className:"experiment-result"},je?s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{justify:"space-around",style:{flexFlow:"nowrap"}},Object.keys(je.probability).sort(function(q,$){return je.probability[$]-je.probability[q]}).map(function(q,$){return s.a.createElement(K.a,{key:$,className:"pr"},s.a.createElement("div",null,s.a.createElement("b",null,Object(nt.j)(q))),wt===L.s.TRENDS?s.a.createElement(x.a,null,s.a.createElement("b",{style:{paddingRight:4}},s.a.createElement(x.a,null,"action"in je.insight[0]&&s.a.createElement(qn.a,{filter:je.insight[0].action}),s.a.createElement("span",{style:{paddingLeft:4}},"count:")))," ",jn(q)," ",aa&&$===0&&s.a.createElement(ve.a,{placement:"right",title:"It might seem confusing that the best variant has lower absolute count, but this can happen when fewer people are exposed to this variant, so its relative count is higher."},s.a.createElement(Mt.a,{style:{padding:"4px 2px"}}))):s.a.createElement(x.a,null,s.a.createElement("b",{style:{paddingRight:4}},"Conversion rate:")," ",Bt(q),"%"),s.a.createElement(Pe.a,{percent:Number((je.probability[q]*100).toFixed(1)),size:"small",showInfo:!1,strokeColor:wt===L.s.FUNNELS?Object(Yt.k)(tn(q,L.s.FUNNELS)+1):Object(Bn.c)("white")[tn(q,L.s.TRENDS)]}),s.a.createElement("div",null,"Probability that this variant is the best:"," ",s.a.createElement("b",null,(je.probability[q]*100).toFixed(1),"%")))}))):ln&&s.a.createElement("div",{className:"text-center"},s.a.createElement(mt.a,{active:!0})),je?s.a.createElement(Te.BindLogic,{logic:Ht.b,props:{dashboardItemId:je.itemID,cachedInsight:{short_id:je.itemID,filters:Un(Un(Un({},je.filters),{},{insight:wt,display:H.filters.display},wt===L.s.FUNNELS&&{layout:J.p.vertical,funnel_viz_type:L.o.Steps}),wt===L.s.TRENDS&&{display:L.d.ActionsLineGraphCumulative}),result:je.insight},doNotLoad:!0}},s.a.createElement("div",{className:"mt"},s.a.createElement(_e.a,{disableHeader:wt===L.s.TRENDS,disableTable:wt===L.s.FUNNELS}))):H.start_date&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"no-experiment-results"},!ln&&s.a.createElement("div",{className:"text-center"},s.a.createElement("b",null,"There are no results for this experiment yet."),s.a.createElement("div",{className:"text-default"},"Double check your feature flag implementation if you're still not seeing results.")))))):s.a.createElement(mt.a,{active:!0}))}function na(){return s.a.createElement(Ne.a,{defaultValue:"JavaScript",suffixIcon:s.a.createElement(vn.a,null)},s.a.createElement(Ne.a.Option,{value:"JavaScript"},s.a.createElement(x.a,{align:"middle"},s.a.createElement(ke.IconJavascript,{style:{marginRight:6}})," JavaScript")))}try{Dn.displayName="Experiment_",Dn.__docgenInfo={description:"",displayName:"Experiment_",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:'number | "new"'}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/experiments/Experiment.tsx#Experiment_"]={docgenInfo:Dn.__docgenInfo,name:"Experiment_",path:"frontend/src/scenes/experiments/Experiment.tsx#Experiment_"})}catch(E){}},"./frontend/src/scenes/experiments/experimentsLogic.ts":function(be,z,e){"use strict";e.d(z,"a",function(){return mt});var ae=e("./node_modules/core-js/modules/es.array.concat.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.array.filter.js"),He=e.n(De),N=e("./node_modules/core-js/modules/es.array.iterator.js"),$e=e.n(N),X=e("./node_modules/core-js/modules/es.array.map.js"),oe=e.n(X),r=e("./node_modules/core-js/modules/es.object.to-string.js"),j=e.n(r),st=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),Q=e.n(st),Ce=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ut=e.n(Ce),Ze=e("./node_modules/@babel/runtime/regenerator/index.js"),he=e.n(Ze),ce=e("./node_modules/regenerator-runtime/runtime.js"),x=e.n(ce),K=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),Ke=e.n(K),ve=e("./node_modules/kea/lib/index.esm.js"),we=e("./frontend/src/lib/api.ts"),Ne=e("./frontend/src/scenes/teamLogic.ts"),te=e("./frontend/src/types.ts"),Ye=e("./frontend/src/lib/utils.tsx"),Ee=e("./frontend/src/scenes/userLogic.ts"),Pe=e("./frontend/src/lib/components/lemonToast.tsx"),mt=Object(ve.kea)({path:["scenes","experiments","experimentsLogic"],connect:{values:[Ne.a,["currentTeamId"],Ee.a,["hasAvailableFeature"]]},actions:{},loaders:function(et){var M=et.values,it=et.actions;return{experiments:[[],{loadExperiments:function(){var pe=Ke()(he.a.mark(function s(rn){var It;return he.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(M.hasAvailableFeature(te.c.EXPERIMENTATION)){L.next=2;break}return L.abrupt("return",[]);case 2:return L.next=4,we.a.get("api/projects/".concat(M.currentTeamId,"/experiments?").concat(rn||""));case 4:return It=L.sent,L.abrupt("return",It.results);case 6:case"end":return L.stop()}},s)}));function Gt(s){return pe.apply(this,arguments)}return Gt}(),deleteExperiment:function(){var pe=Ke()(he.a.mark(function s(rn){return he.a.wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.next=2,we.a.delete("api/projects/".concat(M.currentTeamId,"/experiments/").concat(rn));case 2:return Pe.a.info("Experiment removed"),Ht.abrupt("return",M.experiments.filter(function(L){return L.id!==rn}));case 4:case"end":return Ht.stop()}},s)}));function Gt(s){return pe.apply(this,arguments)}return Gt}(),addToExperiments:function(Gt){return[].concat(ut()(M.experiments),[Gt])},updateExperiments:function(Gt){return M.experiments.map(function(s){return s.id===Gt.id?Gt:s})}}],tab:[te.h.All,{setExperimentsFilters:function(){var pe=Ke()(he.a.mark(function s(rn){var It,Ht;return he.a.wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:return It=rn.tab,Ht=It===te.h.Yours?Object(Ye.Ab)({user:!0}):Object(Ye.Ab)({archived:!0}),It===te.h.All?it.loadExperiments(Object(Ye.Ab)({all:!0})):it.loadExperiments(Ht),Xt.abrupt("return",It);case 4:case"end":return Xt.stop()}},s)}));function Gt(s){return pe.apply(this,arguments)}return Gt}()}]}},events:function(et){var M=et.actions;return{afterMount:function(){M.loadExperiments(Object(Ye.Ab)({all:!0}))}}}})},"./frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return Rn});var ae=e("./node_modules/core-js/modules/es.array.concat.js"),u=e("./node_modules/core-js/modules/es.array.map.js"),De=e("./node_modules/core-js/modules/es.array.splice.js"),He=e("./node_modules/@babel/runtime/helpers/extends.js"),N=e.n(He),$e=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),X=e.n($e),oe=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),r=e.n(oe),j=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),st=e.n(j),Q=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss"),Ce=e.n(Q),ut={};ut.insert="head",ut.singleton=!1;var Ze=st()(Ce.a,ut),he=Ce.a.locals||{},ce=e("./node_modules/react/index.js"),x=e.n(ce),K=e("./node_modules/kea/lib/index.esm.js"),Ke=e("./frontend/src/scenes/insights/ActionFilter/entityFilterLogic.ts"),ve=e("./node_modules/core-js/modules/es.symbol.js"),we=e("./node_modules/core-js/modules/es.symbol.description.js"),Ne=e("./node_modules/core-js/modules/es.array.filter.js"),te=e("./node_modules/core-js/modules/es.function.name.js"),Ye=e("./node_modules/core-js/modules/es.object.keys.js"),Ee=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Pe=e.n(Ee),mt=e("./node_modules/antd/es/button/index.js"),Te=e("./node_modules/antd/es/row/index.js"),et=e("./node_modules/antd/es/col/index.js"),M=e("./node_modules/antd/es/select/index.js"),it=e("./frontend/src/lib/components/Tooltip.tsx"),pe=e("./frontend/src/types.ts"),Gt=e("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),s=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),rn=e("./node_modules/@ant-design/icons/es/icons/CloseSquareOutlined.js"),It=e("./frontend/src/lib/utils.tsx"),Ht=e("./frontend/src/lib/components/SeriesGlyph.tsx"),L=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss"),Xt=e.n(L),rt={};rt.insert="head",rt.singleton=!1;var sn=st()(Xt.a,rt),Ut=Xt.a.locals||{},xt=e("./frontend/src/lib/components/Popup/Popup.tsx"),qt=e("./frontend/src/lib/components/TaxonomicFilter/TaxonomicFilter.tsx"),Ct=e("./frontend/src/lib/components/TaxonomicFilter/types.ts"),ht=e("./frontend/src/lib/components/EntityFilterInfo.tsx"),Wt=e("./node_modules/clsx/dist/clsx.m.js"),Me=e("./frontend/src/scenes/trends/mathsLogic.tsx"),Qe=e("./frontend/src/lib/introductions/GroupsIntroductionOption.tsx"),Fe=e("./frontend/src/models/actionsModel.ts"),se=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Zt=e("./frontend/src/lib/components/TaxonomicPopup/TaxonomicPopup.tsx"),Rt=e("./frontend/src/lib/components/icons.tsx"),tt;function ot(W,ne){var Re=Object.keys(W);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(W);ne&&(Le=Le.filter(function($t){return Object.getOwnPropertyDescriptor(W,$t).enumerable})),Re.push.apply(Re,Le)}return Re}function St(W){for(var ne=1;ne<arguments.length;ne++){var Re=arguments[ne]!=null?arguments[ne]:{};ne%2?ot(Object(Re),!0).forEach(function(Le){X()(W,Le,Re[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(Re)):ot(Object(Re)).forEach(function(Le){Object.defineProperty(W,Le,Object.getOwnPropertyDescriptor(Re,Le))})}return W}var pt=function(ne,Re){if(ne)return"Hide filters";if(Re.properties&&Object.keys(Re.properties).length>0){var Le;return Object(It.qb)((Le=Re.properties)===null||Le===void 0?void 0:Le.length,"filter")}return"Add filters"};function We(W){var ne,Re,Le,$t=W.logic,_e=W.filter,ke=W.index,dn=W.hideMathSelector,Mn=W.hidePropertySelector,vn=W.singleFilter,un=W.showOr,vt=W.hideFilter,Yt=W.hideRename,Qt=W.onRenameClick,mn=Qt===void 0?function(){}:Qt,pn=W.showSeriesIndicator,zt=W.seriesIndicatorType,Cn=zt===void 0?"alpha":zt,Tt=W.horizontalUI,Ge=Tt===void 0?!1:Tt,Kt=W.fullWidth,Sn=Kt===void 0?!1:Kt,en=W.filterCount,kn=W.customRowPrefix,Bn=W.customRowSuffix,qn=W.rowClassName,ma=W.propertyFilterWrapperClassName,sa=W.stripeActionRow,pa=sa===void 0?!0:sa,ba=W.hasBreakdown,Yn=W.showNestedArrow,ea=Yn===void 0?!1:Yn,ca=W.hideDeleteBtn,ta=ca===void 0?!1:ca,Hn=W.actionsTaxonomicGroupTypes,Zn=Hn===void 0?[Ct.a.Events,Ct.a.Actions]:Hn,Gn=W.propertiesTaxonomicGroupTypes,$n=W.disabled,da=$n===void 0?!1:$n,Un=W.readOnly,Kn=Un===void 0?!1:Un,Dn=W.renderRow,na=Object(K.useValues)($t),E=na.selectedFilter,O=na.entities,T=na.entityFilterVisible,I=Object(K.useActions)($t),Y=I.updateFilter,de=I.selectFilter,re=I.updateFilterMath,V=I.removeLocalFilter,fe=I.updateFilterProperty,G=I.setEntityFilterVisibility,ct=I.duplicateFilter,Ot=Object(K.useValues)(Fe.a),gt=Ot.actions,at=Object(K.useValues)(Me.c),ze=at.mathDefinitions,H=typeof _e.order=="number"?T[_e.order]:!1,Tn,yn,wn,Fn=_e.math,je=_e.math_property,jn=_e.math_group_type_index,Vn=function(){V(St(St({},_e),{},{index:ke}))},wt=function(Wn,la){var Nn;re(St(St({},Object(Me.b)(la)),{},{math_property:!((Nn=ze[la])===null||Nn===void 0)&&Nn.onProperty?je!=null?je:"$time":void 0,type:_e.type,index:ke}))},ln=function(Wn,la){re(St(St({},_e),{},{math_property:la,index:ke}))},An=Boolean(E&&(E==null?void 0:E.type)===_e.type&&(E==null?void 0:E.index)===ke),kt=function(){de(An?null:St(St({},_e),{},{index:ke}))};if(_e.type===pe.g.NEW_ENTITY)yn=null,wn=null;else{var Bt;Tn=((Bt=O[_e.type])===null||Bt===void 0?void 0:Bt.filter(function(Jt){return Jt.id===_e.id})[0])||{},yn=Tn.name||_e.name,wn=Tn.id||_e.id}var tn=x.a.createElement("div",{className:"stateful-badge or width-locked"},"OR"),Pn=Cn==="numeric"?x.a.createElement(Ht.a,{style:{borderColor:"var(--border)"}},ke+1):x.a.createElement(Ht.b,{seriesIndex:ke,hasBreakdown:ba}),aa=typeof kn=="function"?kn({filter:_e,index:ke,onClose:Vn}):kn,ra=x.a.createElement(xt.a,{overlay:x.a.createElement(qt.a,{groupType:_e.type,value:_e.type==="actions"&&typeof wn=="string"?parseInt(wn):wn||void 0,onChange:function(Wn,la,Nn){Y({type:yt(Wn.type)||void 0,id:"".concat(la),name:Nn==null?void 0:Nn.name,index:ke})},onClose:function(){return de(null)},taxonomicGroupTypes:Zn}),visible:An,onClickOutside:function(){return de(null)}},function(Jt){var Wn=Jt.setRef;return x.a.createElement(mt.a,{"data-attr":"trend-element-subject-"+ke,onClick:kt,block:Sn,ref:Wn,disabled:da||Kn,style:{maxWidth:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},x.a.createElement("span",{className:"text-overflow",style:{maxWidth:"100%"}},x.a.createElement(ht.a,{filter:_e})),x.a.createElement(s.a,{style:{fontSize:10}}))}),ua=typeof Bn=="function"?Bn({filter:_e,index:ke,onClose:Vn}):Bn,ia=x.a.createElement(mt.a,{type:"link",onClick:function(){typeof _e.order=="number"&&G(_e.order,!H)},className:"row-action-btn show-filters".concat(H?" visible":""),"data-attr":"show-prop-filter-".concat(ke),title:"Show filters",style:{display:"flex",alignItems:"center"}},x.a.createElement(Rt.IconFilter,{fontSize:"1.25em"}),!((ne=_e.properties)===null||ne===void 0)&&ne.length?Object(It.qb)((Re=_e.properties)===null||Re===void 0?void 0:Re.length,"filter"):null),ga=x.a.createElement(mt.a,{type:"link",onClick:function(){de(_e),mn()},className:"row-action-btn show-rename","data-attr":"show-prop-rename-".concat(ke),title:"Rename graph series",style:{display:"flex",alignItems:"center"}},x.a.createElement(Rt.IconEdit,{fontSize:"1.25em"})),fa=x.a.createElement(mt.a,{type:"link",onClick:function(){ct(_e)},style:{display:"flex",alignItems:"center"},className:"row-action-btn","data-attr":"show-prop-duplicate-".concat(ke),title:"Duplicate graph series"},x.a.createElement(Rt.IconCopy,{fontSize:"1.25em"})),In=x.a.createElement(mt.a,{type:"link",onClick:Vn,style:{display:"flex",alignItems:"center"},className:"row-action-btn delete","data-attr":"delete-prop-filter-".concat(ke),title:"Delete graph series"},x.a.createElement(Rt.IconDelete,{fontSize:"1.25em"}));return x.a.createElement("div",{className:Object(Wt.a)({"action-row-striped":Ge&&pa,"action-row":!Ge||!pa,"full-width":Sn})},!Ge&&ke>0&&un&&x.a.createElement(Te.a,{align:"middle",style:{marginTop:12}},tn),x.a.createElement(Te.a,{gutter:8,align:"middle",className:"".concat(Ge?"":"mt"," ").concat(qn),wrap:!Sn},Dn?Dn({seriesIndicator:Pn,prefix:aa,filter:ra,suffix:ua,propertyFiltersButton:ia,renameRowButton:ga,deleteButton:In,orLabel:tn}):x.a.createElement(x.a.Fragment,null,!ta&&Ge&&!vn&&en>1&&x.a.createElement(et.a,null,x.a.createElement(mt.a,{type:"link",onClick:Vn,className:"row-action-btn delete",title:"Remove graph series",danger:!0,icon:x.a.createElement(rn.a,null)})),pn&&x.a.createElement(et.a,{className:"action-row-letter"},Pn),kn!==void 0?x.a.createElement(et.a,null,aa):x.a.createElement(x.a.Fragment,null,Ge&&x.a.createElement(et.a,null,"Showing")),x.a.createElement(et.a,{className:"column-filter",style:Sn?{}:{maxWidth:"calc(".concat(dn?"100":"50","% - 16px)")},flex:Sn?"auto":void 0},ra),Bn!==void 0&&x.a.createElement(et.a,{className:"column-row-suffix"},ua),!dn&&x.a.createElement(x.a.Fragment,null,Ge&&x.a.createElement(et.a,null,"counted by"),x.a.createElement(et.a,{style:{maxWidth:"calc(50% - 16px".concat(pn?" - 32px":"",")")}},x.a.createElement(At,{math:Fn,mathGroupTypeIndex:jn,index:ke,onMathSelect:wt,style:{maxWidth:"100%",width:"initial"}})),((Le=ze[Fn||""])===null||Le===void 0?void 0:Le.onProperty)&&x.a.createElement(x.a.Fragment,null,Ge&&x.a.createElement(et.a,null,"on property"),x.a.createElement(et.a,{style:{maxWidth:"calc(50% - 16px".concat(pn?" - 32px":"",")")}},x.a.createElement(Zt.c,{groupType:Ct.a.NumericalEventProperties,value:je,onChange:function(Wn){return ln(ke,Wn)},eventNames:yn?[yn]:[],dataAttr:"math-property-select",renderValue:function(Wn){return x.a.createElement(it.a,{title:x.a.createElement(x.a.Fragment,null,"Calculate"," ",ze[Fn!=null?Fn:""].name.toLowerCase()," from property ",x.a.createElement("code",null,Wn),". Note that only"," ",yn," occurences where ",x.a.createElement("code",null,Wn)," is set with a numeric value will be taken into account."),placement:"right"},x.a.createElement("div",null,x.a.createElement(se.b,{value:Wn,disablePopover:!0})))}})))),(Ge||Sn)&&!vt&&!Kn&&x.a.createElement(et.a,null,ia),(Ge||Sn)&&!Yt&&!Kn&&x.a.createElement(et.a,null,ga),(Ge||Sn)&&!vt&&!vn&&!Kn&&x.a.createElement(et.a,null,fa),!ta&&!Ge&&!vn&&!Kn&&x.a.createElement(et.a,{className:"column-delete-btn"},In),Ge&&en>1&&ke<en-1&&un&&tn)),(!Mn||_e.properties&&_e.properties.length>0)&&!Ge&&!Sn&&x.a.createElement("div",{style:{paddingTop:6}},x.a.createElement("span",{style:{color:"#C4C4C4",fontSize:18,paddingLeft:6,paddingRight:2}},"\u21B3"),x.a.createElement(mt.a,{className:"ant-btn-md",onClick:function(){return typeof _e.order=="number"?G(_e.order,!H):void 0},"data-attr":"show-prop-filter-"+ke},pt(H,_e))),H&&x.a.createElement("div",{className:"mr property-filter-wrapper ".concat(ma)},x.a.createElement(Gt.a,{pageKey:"".concat(ke,"-").concat(wn,"-filter"),propertyFilters:_e.properties,onChange:function(Wn){return fe({properties:Wn,index:ke})},disablePopover:Ge,style:{marginBottom:0},showNestedArrow:ea,taxonomicGroupTypes:Gn,eventNames:_e.type===Ct.a.Events&&_e.id?[String(_e.id)]:_e.type===Ct.a.Actions&&_e.id?Object(It.I)(parseInt(String(_e.id)),gt):[]})))}function At(W){var ne=W.math,Re=W.mathGroupTypeIndex,Le=W.index,$t=W.onMathSelect,_e=W.style,ke="This can only be used on properties that have at least one number type occurence in your events.",dn=Object(K.useValues)(Me.c),Mn=dn.eventMathEntries,vn=dn.propertyMathEntries;return x.a.createElement(M.a,{style:St({width:150},_e),value:Object(Me.a)(ne,Re),onChange:function(vt){return $t(Le,vt)},"data-attr":"math-selector-".concat(Le),dropdownMatchSelectWidth:!1,dropdownStyle:{maxWidth:320},listHeight:280},x.a.createElement(M.a.OptGroup,{key:"event aggregates",label:"Event aggregation"},Mn.map(function(un){var vt=Pe()(un,2),Yt=vt[0],Qt=vt[1],mn=Qt.name,pn=Qt.description,zt=Qt.onProperty;return x.a.createElement(M.a.Option,{key:Yt,value:Yt,"data-attr":"math-".concat(Yt,"-").concat(Le)},x.a.createElement(it.a,{title:zt?x.a.createElement(x.a.Fragment,null,pn,x.a.createElement("br",null),ke):pn,placement:"right"},x.a.createElement("div",{style:{height:"100%",width:"100%",paddingRight:8,overflow:"hidden",textOverflow:"ellipsis"}},mn)))}),Object(Qe.a)({value:""})),x.a.createElement(M.a.OptGroup,{key:"property aggregates",label:"Property aggregation"},vn.map(function(un){var vt=Pe()(un,2),Yt=vt[0],Qt=vt[1],mn=Qt.name,pn=Qt.description,zt=Qt.onProperty;return x.a.createElement(M.a.Option,{key:Yt,value:Yt,"data-attr":"math-".concat(Yt,"-").concat(Le)},x.a.createElement(it.a,{title:zt?x.a.createElement(x.a.Fragment,null,pn,x.a.createElement("br",null),ke):pn,placement:"right"},x.a.createElement("div",{style:{height:"100%",width:"100%"}},mn)))})))}var Lt=(tt={},X()(tt,Ct.a.Events,pe.g.EVENTS),X()(tt,Ct.a.Actions,pe.g.ACTIONS),tt);function yt(W){return Lt[W]||null}try{We.displayName="ActionFilterRow",We.__docgenInfo={description:"",displayName:"ActionFilterRow",props:{logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:{value:"() => {}"},description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:{value:"[TaxonomicFilterGroupType.Events, TaxonomicFilterGroupType.Actions]"},description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:{value:"false"},description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"]={docgenInfo:We.__docgenInfo,name:"ActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#ActionFilterRow"})}catch(W){}try{yt.displayName="taxonomicFilterGroupTypeToEntityType",yt.__docgenInfo={description:"",displayName:"taxonomicFilterGroupTypeToEntityType",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"]={docgenInfo:yt.__docgenInfo,name:"taxonomicFilterGroupTypeToEntityType",path:"frontend/src/scenes/insights/ActionFilter/ActionFilterRow/ActionFilterRow.tsx#taxonomicFilterGroupTypeToEntityType"})}catch(W){}var Ie=e("./node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),nt=e("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),bt=e.n(nt),Vt=e("./node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js"),Je=Object(Vt.c)(function(){return x.a.createElement("span",{className:"action-filter-drag-handle"},x.a.createElement(Rt.SortableDragIcon,null))}),_t=Object(Vt.b)(function(W){var ne=W.filterCount,Re=W.filterIndex,Le=bt()(W,["filterCount","filterIndex"]),$t=ne>1;return x.a.createElement("div",{className:"draggable-action-filter ".concat($t?"drag-handle-visible":"")},$t?x.a.createElement(Je,null):x.a.createElement("span",{style:{marginLeft:4}}),x.a.createElement(We,N()({},Le,{filterCount:ne,index:Re,key:Re})))}),lt=Object(Vt.a)(function(W){var ne=W.children;return x.a.createElement("div",null,ne)});try{_t.displayName="SortableActionFilterRow",_t.__docgenInfo={description:"",displayName:"SortableActionFilterRow",props:{filterIndex:{defaultValue:null,description:"",name:"filterIndex",required:!0,type:{name:"number"}},logic:{defaultValue:null,description:"",name:"logic",required:!0,type:{name:"any"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"ActionFilter"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:null,description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},singleFilter:{defaultValue:null,description:"",name:"singleFilter",required:!1,type:{name:"boolean"}},showOr:{defaultValue:null,description:"",name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:null,description:"",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:null,description:"",name:"hideRename",required:!1,type:{name:"boolean"}},onRenameClick:{defaultValue:null,description:"",name:"onRenameClick",required:!1,type:{name:"(() => void)"}},showSeriesIndicator:{defaultValue:null,description:"",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:null,description:"",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},horizontalUI:{defaultValue:null,description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},filterCount:{defaultValue:null,description:"",name:"filterCount",required:!0,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:null,description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},hasBreakdown:{defaultValue:null,description:"",name:"hasBreakdown",required:!0,type:{name:"boolean"}},showNestedArrow:{defaultValue:null,description:"",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, renameRowButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"]={docgenInfo:_t.__docgenInfo,name:"SortableActionFilterRow",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableActionFilterRow"})}catch(W){}try{lt.displayName="SortableContainer",lt.__docgenInfo={description:"",displayName:"SortableContainer",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"]={docgenInfo:lt.__docgenInfo,name:"SortableContainer",path:"frontend/src/scenes/insights/ActionFilter/Sortable.tsx#SortableContainer"})}catch(W){}var jt=e("./node_modules/antd/es/modal/index.js"),Nt=e("./node_modules/antd/es/input/index.js"),Ve=e("./frontend/src/scenes/insights/utils.ts"),J=Object(K.kea)({props:{},key:function(ne){return ne.typeKey},path:function(ne){return["scenes","insights","ActionFilter","renameModalLogic",ne]},connect:{actions:[Ke.a,["selectFilter"]]},actions:function(){return{setName:function(Re){return{name:Re}}}},reducers:function(ne){var Re,Le=ne.props;return{name:[(Re=Object(Ve.c)(Le.filter))!==null&&Re!==void 0?Re:"",{setName:function(_e,ke){var dn=ke.name;return dn},selectFilter:function(_e,ke){var dn,Mn=ke.filter;return(dn=Object(Ve.c)(Mn))!==null&&dn!==void 0?dn:""}}]}}});function Et(W){var ne,Re=W.typeKey,Le=W.view,$t=Object(K.useValues)(Ke.a),_e=$t.selectedFilter,ke=$t.modalVisible,dn=Object(K.useActions)(Ke.a),Mn=dn.renameFilter,vn=dn.hideModal,un=J({typeKey:Re,filter:_e}),vt=Object(K.useValues)(un),Yt=vt.name,Qt=Object(K.useActions)(un),mn=Qt.setName,pn=Object(ce.useRef)(null);Pt(pn,{cursor:"all"},[ke]);var zt="Rename ".concat(Le===pe.s.FUNNELS?"funnel step":"graph series");return x.a.createElement(jt.a,{"data-attr":"filter-rename-modal",visible:ke,title:zt,footer:x.a.createElement(x.a.Fragment,null,x.a.createElement(mt.a,{type:"link",onClick:vn},"Cancel"),x.a.createElement(mt.a,{type:"primary",onClick:function(){return Mn(Yt)}},zt)),onCancel:vn},"Query series/steps can be renamed to provide a more"," ",x.a.createElement("strong",null,"meaningful label for you and your team members"),". Custom names are also shown on dashboards.",x.a.createElement("br",null),x.a.createElement("div",{className:"l4 mt-05 mb-05"},"Name"),x.a.createElement(Nt.a,{ref:pn,value:Yt,onPressEnter:function(){return Mn(Yt)},onChange:function(Tt){return mn(Tt.target.value)},suffix:x.a.createElement("span",{className:"text-muted-alt"},(ne=Object(Ve.c)(_e,!1))!==null&&ne!==void 0?ne:"")}))}function Pt(W,ne){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];Object(ce.useEffect)(function(){var Le=setTimeout(function(){if(W.current){var $t;($t=W.current)===null||$t===void 0||$t.focus(ne)}},0);return function(){return clearTimeout(Le)}},Re)}try{Et.displayName="RenameModal",Et.__docgenInfo={description:"",displayName:"RenameModal",props:{typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"]={docgenInfo:Et.__docgenInfo,name:"RenameModal",path:"frontend/src/scenes/insights/ActionFilter/RenameModal.tsx#RenameModal"})}catch(W){}var hn=e("./frontend/src/lib/utils/eventUsageLogic.ts"),fn=e("./frontend/src/scenes/teamLogic.ts");function Mt(W,ne){var Re=Object.keys(W);if(Object.getOwnPropertySymbols){var Le=Object.getOwnPropertySymbols(W);ne&&(Le=Le.filter(function($t){return Object.getOwnPropertyDescriptor(W,$t).enumerable})),Re.push.apply(Re,Le)}return Re}function _n(W){for(var ne=1;ne<arguments.length;ne++){var Re=arguments[ne]!=null?arguments[ne]:{};ne%2?Mt(Object(Re),!0).forEach(function(Le){X()(W,Le,Re[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(Re)):Mt(Object(Re)).forEach(function(Le){Object.defineProperty(W,Le,Object.getOwnPropertyDescriptor(Re,Le))})}return W}var Rn=x.a.forwardRef(function(W,ne){var Re=W.setFilters,Le=W.filters,$t=W.typeKey,_e=W.addFilterDefaultOptions,ke=_e===void 0?{}:_e,dn=W.hideMathSelector,Mn=W.hidePropertySelector,vn=Mn===void 0?!1:Mn,un=W.buttonCopy,vt=un===void 0?"":un,Yt=W.disabled,Qt=Yt===void 0?!1:Yt,mn=W.sortable,pn=mn===void 0?!1:mn,zt=W.showSeriesIndicator,Cn=zt===void 0?!1:zt,Tt=W.seriesIndicatorType,Ge=Tt===void 0?"alpha":Tt,Kt=W.showOr,Sn=Kt===void 0?!1:Kt,en=W.hideFilter,kn=en===void 0?!1:en,Bn=W.hideRename,qn=Bn===void 0?!1:Bn,ma=W.horizontalUI,sa=ma===void 0?!1:ma,pa=W.fullWidth,ba=pa===void 0?!1:pa,Yn=W.customRowPrefix,ea=W.customRowSuffix,ca=W.rowClassName,ta=W.entitiesLimit,Hn=W.propertyFilterWrapperClassName,Zn=W.stripeActionRow,Gn=Zn===void 0?!0:Zn,$n=W.customActions,da=W.showNestedArrow,Un=da===void 0?!1:da,Kn=W.actionsTaxonomicGroupTypes,Dn=W.propertiesTaxonomicGroupTypes,na=W.hideDeleteBtn,E=W.renderRow,O=W.buttonType,T=O===void 0?"dashed":O,I=W.readOnly,Y=I===void 0?!1:I,de=Object(K.useValues)(fn.a),re=de.currentTeamId,V=Object(Ke.a)({teamId:re,setFilters:Re,filters:Le,typeKey:$t,addFilterDefaultOptions:ke}),fe=Object(K.useActions)(hn.f),G=fe.reportFunnelStepReordered,ct=Object(K.useValues)(V),Ot=ct.localFilters,gt=Object(K.useActions)(V),at=gt.addFilter,ze=gt.setLocalFilters,H=gt.showModal;Object(ce.useEffect)(function(){ze(Le)},[Le]);function Tn(je){var jn=je.oldIndex,Vn=je.newIndex;function wt(ln,An,kt){var Bt=r()(ln);return Array.prototype.splice.call(Bt,kt,0,Array.prototype.splice.call(Bt,An,1)[0]),Bt.map(function(tn,Pn){return _n(_n({},tn),{},{order:Pn})})}Re(Object(Ke.b)(wt(Ot,jn,Vn))),jn!==Vn&&G()}var yn=ta===1,wn={logic:V,showSeriesIndicator:Cn,seriesIndicatorType:Ge,hideMathSelector:dn,hidePropertySelector:vn,customRowPrefix:Yn,customRowSuffix:ea,rowClassName:ca,propertyFilterWrapperClassName:Hn,stripeActionRow:Gn,hasBreakdown:!!Le.breakdown,fullWidth:ba,actionsTaxonomicGroupTypes:Kn,propertiesTaxonomicGroupTypes:Dn,hideDeleteBtn:na,disabled:Qt,readOnly:Y,renderRow:E,hideRename:qn,onRenameClick:H},Fn=Boolean(ta&&Ot.length>=ta);return x.a.createElement("div",{ref:ne},!qn&&!Y&&x.a.createElement(K.BindLogic,{logic:Ke.a,props:{setFilters:Re,filters:Le,typeKey:$t,addFilterDefaultOptions:ke}},x.a.createElement(Et,{view:Le.insight,typeKey:$t})),Ot?pn?x.a.createElement(lt,{onSortEnd:Tn,lockAxis:"y",distance:5},Ot.map(function(je,jn){return x.a.createElement(_t,N()({key:jn,filter:je,index:jn,filterIndex:jn,filterCount:Ot.length,showNestedArrow:Un},wn))})):Ot.map(function(je,jn){return x.a.createElement(We,N()({filter:je,index:jn,key:jn,singleFilter:yn,showOr:Sn,hideFilter:kn||Y,horizontalUI:sa,filterCount:Ot.length,showNestedArrow:Un},wn))}):null,(!yn||$n)&&x.a.createElement("div",{className:Object(Wt.a)(T!=="link"?"mt":"mt-05"),style:{display:"flex",alignItems:"center"}},!yn&&x.a.createElement(mt.a,{type:T,onClick:function(){return at()},"data-attr":"add-action-event-button",icon:x.a.createElement(Ie.a,null),disabled:Fn||Qt||Y,className:"add-action-event-button"},Fn?"Reached limit of ".concat(ta," ").concat(Le.insight===pe.s.FUNNELS?"steps":"series"):vt||"Action or event"),$n))});try{Rn.displayName="ActionFilter",Rn.__docgenInfo={description:"",displayName:"ActionFilter",props:{setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: FilterType) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:'Optional<FilterType, "type">'}},typeKey:{defaultValue:null,description:"",name:"typeKey",required:!0,type:{name:"string"}},addFilterDefaultOptions:{defaultValue:{value:"{}"},description:"",name:"addFilterDefaultOptions",required:!1,type:{name:"Record<string, any>"}},hideMathSelector:{defaultValue:null,description:"",name:"hideMathSelector",required:!1,type:{name:"boolean"}},hidePropertySelector:{defaultValue:{value:"false"},description:"",name:"hidePropertySelector",required:!1,type:{name:"boolean"}},buttonCopy:{defaultValue:{value:""},description:"Text copy for the action button to add more events/actions (graph series)",name:"buttonCopy",required:!1,type:{name:"string"}},buttonType:{defaultValue:{value:"dashed"},description:"",name:"buttonType",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"link"'},{value:'"text"'},{value:'"primary"'},{value:'"ghost"'},{value:'"dashed"'}]}},disabled:{defaultValue:{value:"false"},description:"Whether the full control is enabled or not",name:"disabled",required:!1,type:{name:"boolean"}},sortable:{defaultValue:{value:"false"},description:"Whether actions/events can be sorted (used mainly for funnel step reordering)",name:"sortable",required:!1,type:{name:"boolean"}},showSeriesIndicator:{defaultValue:{value:"false"},description:"Whether to show an indicator identifying each graph",name:"showSeriesIndicator",required:!1,type:{name:"boolean"}},seriesIndicatorType:{defaultValue:{value:"alpha"},description:"Series badge shows A, B, C | 1, 2, 3",name:"seriesIndicatorType",required:!1,type:{name:"enum",value:[{value:'"numeric"'},{value:'"alpha"'}]}},showOr:{defaultValue:{value:"false"},description:'Whether to show the "OR" label after each filter',name:"showOr",required:!1,type:{name:"boolean"}},hideFilter:{defaultValue:{value:"false"},description:"Hide local filtering (currently used for retention insight)",name:"hideFilter",required:!1,type:{name:"boolean"}},hideRename:{defaultValue:{value:"false"},description:"Hides the rename option",name:"hideRename",required:!1,type:{name:"boolean"}},entitiesLimit:{defaultValue:null,description:"A limit of entities (series or funnel steps) beyond which more can't be added",name:"entitiesLimit",required:!1,type:{name:"number"}},customRowPrefix:{defaultValue:null,description:"Custom prefix element to show in each ActionFilterRow",name:"customRowPrefix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},customRowSuffix:{defaultValue:null,description:"Custom suffix element to show in each ActionFilterRow",name:"customRowSuffix",required:!1,type:{name:"string | Element | ((props: { filter: FunnelStepRangeEntityFilter | ActionFilter; index: number; onClose: () => void; }) => Element)"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string"}},propertyFilterWrapperClassName:{defaultValue:null,description:"",name:"propertyFilterWrapperClassName",required:!1,type:{name:"string"}},stripeActionRow:{defaultValue:{value:"true"},description:"",name:"stripeActionRow",required:!1,type:{name:"boolean"}},customActions:{defaultValue:null,description:"Custom actions to be added next to the add series button",name:"customActions",required:!1,type:{name:"Element"}},horizontalUI:{defaultValue:{value:"false"},description:"",name:"horizontalUI",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:{value:"false"},description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},showNestedArrow:{defaultValue:{value:"false"},description:"Show nested arrows to the left of property filter buttons",name:"showNestedArrow",required:!1,type:{name:"boolean"}},actionsTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for actions selector",name:"actionsTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},propertiesTaxonomicGroupTypes:{defaultValue:null,description:"Which tabs to show for property filters",name:"propertiesTaxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}},hideDeleteBtn:{defaultValue:null,description:"",name:"hideDeleteBtn",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!1,type:{name:"(({ seriesIndicator, prefix, filter, suffix, propertyFiltersButton, deleteButton, orLabel, }: Record<string, string | Element>) => Element)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"]={docgenInfo:Rn.__docgenInfo,name:"ActionFilter",path:"frontend/src/scenes/insights/ActionFilter/ActionFilter.tsx#ActionFilter"})}catch(W){}},"./frontend/src/scenes/insights/InsightContainer.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return $});var ae=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=e.n(ae),De=e("./node_modules/antd/es/card/index.js"),He=e("./node_modules/antd/es/row/index.js"),N=e("./node_modules/antd/es/col/index.js"),$e=e("./node_modules/core-js/modules/es.array.includes.js"),X=e("./node_modules/core-js/modules/es.string.includes.js"),oe=e("./node_modules/react/index.js"),r=e.n(oe),j=e("./node_modules/kea/lib/index.esm.js"),st=e("./node_modules/antd/es/tag/index.js"),Q=e("./node_modules/antd/es/select/index.js"),Ce=e("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),ut=e("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),Ze=e("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),he=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},x=ce,K=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Ke=function(A,F){return oe.createElement(K.a,Object(he.a)(Object(he.a)({},A),{},{ref:F,icon:x}))};Ke.displayName="AreaChartOutlined";var ve=oe.forwardRef(Ke),we=e("./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js"),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},te=Ne,Ye=function(A,F){return oe.createElement(K.a,Object(he.a)(Object(he.a)({},A),{},{ref:F,icon:te}))};Ye.displayName="TableOutlined";var Ee=oe.forwardRef(Ye),Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},mt=Pe,Te=function(A,F){return oe.createElement(K.a,Object(he.a)(Object(he.a)({},A),{},{ref:F,icon:mt}))};Te.displayName="PieChartOutlined";var et=oe.forwardRef(Te),M=e("./frontend/src/types.ts"),it=e("./frontend/src/lib/utils.tsx"),pe=e("./frontend/src/scenes/insights/insightLogic.ts");function Gt(R){var A=R.filters,F=R.onChange,_=R.disabled,ee=Object(j.useValues)(pe.b),Z=ee.insightProps,le=Object(j.useValues)(Object(Ce.a)(Z)),Se=le.chartFilter,Be=Object(j.useActions)(Object(Ce.a)(Z)),Ue=Be.setChartFilter,xe=A.insight===M.s.STICKINESS||A.insight===M.s.RETENTION,me=!1,qe=A.insight===M.s.RETENTION||A.insight===M.s.STICKINESS,Xe=A.insight===M.s.RETENTION,dt=Xe||A.insight===M.s.STICKINESS||A.insight===M.s.RETENTION,Dt=A.insight===M.s.RETENTION?M.d.ActionsTable:A.insight===M.s.FUNNELS?M.d.FunnelViz:M.d.ActionsLineGraph;function ft(cn){var On=cn.icon,on=cn.children,Ft=on===void 0?null:on;return r.a.createElement(r.a.Fragment,null,On," ",Ft)}function bn(cn){var On=cn.children,on=On===void 0?null:On;return r.a.createElement(st.a,{color:"orange",style:{marginLeft:8,fontSize:10}},on)}var En=A.insight===M.s.FUNNELS?[{value:M.o.Steps,label:r.a.createElement(ft,{icon:r.a.createElement(ut.a,null)},"Steps")},{value:M.o.Trends,label:r.a.createElement(ft,{icon:r.a.createElement(Ze.a,null)},"Trends",r.a.createElement(bn,null,"BETA"))}]:[{label:"Line Chart",options:[{value:M.d.ActionsLineGraph,label:r.a.createElement(ft,{icon:r.a.createElement(Ze.a,null)},"Linear")},{value:M.d.ActionsLineGraphCumulative,label:r.a.createElement(ft,{icon:r.a.createElement(ve,null)},"Cumulative"),disabled:xe}]},{label:"Bar Chart",options:[{value:M.d.ActionsBar,label:r.a.createElement(ft,{icon:r.a.createElement(we.a,null)},"Time"),disabled:Xe},{value:M.d.ActionsBarValue,label:r.a.createElement(ft,{icon:r.a.createElement(we.a,null)},"Value"),disabled:dt}]},{value:M.d.ActionsTable,label:r.a.createElement(ft,{icon:r.a.createElement(Ee,null)},"Table"),disabled:me},{value:M.d.ActionsPie,label:r.a.createElement(ft,{icon:r.a.createElement(et,null)},"Pie"),disabled:qe}];return r.a.createElement(Q.a,{key:"2",defaultValue:A.display||Dt,value:Se||Dt,onChange:function(On){Ue(On),F==null||F(On)},bordered:!0,dropdownAlign:it.a.bottomRight,dropdownMatchSelectWidth:!1,"data-attr":"chart-filter",disabled:_,options:En})}try{Gt.displayName="ChartFilter",Gt.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:Gt.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(R){}var s=e("./node_modules/antd/es/checkbox/index.js"),rn=e("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function It(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=Object(j.useValues)(Object(rn.a)(A)),_=F.compare,ee=F.disabled,Z=Object(j.useActions)(Object(rn.a)(A)),le=Z.setCompare;return ee?null:r.a.createElement(s.a,{onChange:function(Be){le(Be.target.checked)},checked:_,style:{marginLeft:8,marginRight:6},disabled:ee},"Compare",r.a.createElement("span",{className:"hide-lte-md"}," to previous"))}var Ht=e("./node_modules/core-js/modules/es.array.map.js"),L=e("./node_modules/core-js/modules/es.object.entries.js"),Xt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),rt=e.n(Xt),sn=e("./node_modules/core-js/modules/es.array.iterator.js"),Ut=e("./node_modules/core-js/modules/es.object.to-string.js"),xt=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),qt=e("./frontend/src/scenes/insights/sharedUtils.ts");function Ct(R,A){var F=Object.keys(R);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(R);A&&(_=_.filter(function(ee){return Object.getOwnPropertyDescriptor(R,ee).enumerable})),F.push.apply(F,_)}return F}function ht(R){for(var A=1;A<arguments.length;A++){var F=arguments[A]!=null?arguments[A]:{};A%2?Ct(Object(F),!0).forEach(function(_){u()(R,_,F[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(F)):Ct(Object(F)).forEach(function(_){Object.defineProperty(R,_,Object.getOwnPropertyDescriptor(F,_))})}return R}var Wt=Object(j.kea)({props:{},key:Object(qt.c)("new"),path:function(A){return["lib","components","IntervalFilter","intervalFilterLogic",A]},connect:function(A){return{actions:[Object(pe.b)(A),["setFilters"]],values:[Object(pe.b)(A),["filters"]]}},actions:function(){return{setInterval:function(F){return{interval:F}}}},listeners:function(A){var F=A.values,_=A.actions;return{setInterval:function(Z){var le=Z.interval;Object(it.mb)(le,F.filters.interval)||_.setFilters(ht(ht({},F.filters),{},{interval:le}))}}},selectors:{interval:[function(R){return[R.filters]},function(R){return R==null?void 0:R.interval}]}}),Me=e("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),Qe={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function Fe(R){var A=R.disabled,F=Object(j.useValues)(pe.b),_=F.insightProps,ee=Object(j.useValues)(Wt(_)),Z=ee.interval,le=Object(j.useActions)(Wt(_)),Se=le.setInterval,Be=Object.entries(Qe).map(function(Ue){var xe=rt()(Ue,2),me=xe[0],qe=xe[1].label;return{key:me,value:me,label:me===Z?r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,null)," ",qe):qe}});return r.a.createElement(Q.a,{bordered:!0,disabled:A,defaultValue:Z||"day",value:Z||void 0,dropdownMatchSelectWidth:!1,onChange:Se,"data-attr":"interval-filter",options:Be})}try{Fe.displayName="IntervalFilter",Fe.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:Fe.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(R){}var se=e("./frontend/src/lib/constants.tsx"),Zt=e("./node_modules/@babel/runtime/helpers/extends.js"),Rt=e.n(Zt),tt=e("./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts"),ot=e("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function St(R){var A=Object(j.useValues)(pe.b),F=A.insightProps,_=Object(j.useValues)(Object(tt.a)(F)),ee=_.dates,Z=ee.dateFrom,le=ee.dateTo,Se=Object(j.useActions)(Object(tt.a)(F)),Be=Se.setDates;return r.a.createElement(ot.a,Rt()({},R,{dateFrom:Z!=null?Z:void 0,dateTo:le!=null?le:void 0,onChange:function(xe,me){var qe;Be(xe,me),(qe=R.onChange)===null||qe===void 0||qe.call(R,xe,me)}}))}try{St.displayName="InsightDateFilter",St.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"string"}},showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},bordered:{defaultValue:null,description:"",name:"bordered",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string, toDate: string) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"((props: any) => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"Record<string, dateMappingOption>"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}},selectProps:{defaultValue:null,description:"",name:"selectProps",required:!1,type:{name:"SelectProps<any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:St.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(R){}var pt=e("./node_modules/rc-picker/lib/generate/dayjs.js"),We=e.n(pt),At=e("./node_modules/antd/lib/date-picker/generatePicker/index.js"),Lt=e.n(At),yt=e("./frontend/src/scenes/retention/retentionTableLogic.ts"),Ie=e("./frontend/src/lib/components/Tooltip.tsx"),nt=e("./frontend/src/lib/dayjs.ts"),bt=Lt()(We.a);function Vt(R){var A=R.disabled,F=Object(j.useValues)(pe.b),_=F.insightProps,ee=Object(j.useValues)(Object(yt.d)(_)),Z=ee.filters,le=Object(j.useActions)(Object(yt.d)(_)),Se=le.setFilters,Be=Z.date_to&&Object(nt.a)(Z.date_to).year()!==Object(nt.a)().year()?", YYYY":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie.a,{title:"Cohorts up to this end date"},r.a.createElement("span",{style:{maxWidth:100,display:"inline-flex",alignItems:"center"}},r.a.createElement(Me.a,null),r.a.createElement(bt,{showTime:Z.period==="Hour",use12Hours:!0,format:Z.period==="Hour"?"MMM D".concat(Be,", h a"):"MMM D".concat(Be),value:Z.date_to?Object(nt.a)(Z.date_to):void 0,onChange:function(xe){return Se({date_to:xe&&Object(nt.a)(xe).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",suffixIcon:null,disabled:A}))))}try{Vt.displayName="RetentionDatePicker",Vt.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:Vt.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(R){}var Je=e("./frontend/src/scenes/funnels/funnelLogic.ts"),_t=e("./node_modules/@ant-design/icons/es/icons/FunnelPlotOutlined.js");function lt(R){var A=R.disabled,F=Object(j.useValues)(pe.b),_=F.insightProps,ee=Object(j.useValues)(Object(Je.a)(_)),Z=ee.barGraphLayout,le=Object(j.useActions)(Object(Je.a)(_)),Se=le.setFilters,Be=[{value:se.p.vertical,icon:r.a.createElement(we.a,null),label:"Left to right"},{value:se.p.horizontal,icon:r.a.createElement(_t.a,null),label:"Top to bottom"}];return r.a.createElement(Q.a,{defaultValue:se.p.vertical,value:Z||se.p.vertical,onChange:function(xe){return Se({layout:xe})},bordered:!0,dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",optionLabelProp:"label",disabled:A},r.a.createElement(Q.a.OptGroup,{label:"Graph display options"},Be.map(function(Ue){return r.a.createElement(Q.a.Option,{key:Ue.value,value:Ue.value,label:r.a.createElement(r.a.Fragment,null,Ue.icon," ",Ue.label)},Ue.label)})))}try{lt.displayName="FunnelDisplayLayoutPicker",lt.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:lt.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(R){}var jt=e("./node_modules/core-js/modules/es.array.concat.js"),Nt=e("./node_modules/core-js/modules/es.array.from.js"),Ve=e("./node_modules/core-js/modules/es.set.js"),J=e("./node_modules/core-js/modules/es.string.iterator.js"),Et=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Pt=e.n(Et),hn=e("./node_modules/antd/es/input-number/index.js"),fn=e("./node_modules/clsx/dist/clsx.m.js"),Mt=0,_n=90,Rn=new Set([5,15,25,50,90]),W=[{label:"Auto bins",value:se.g,display:!0}].concat(Pt()(Array.from(Array.from(Array(_n+1).keys()),function(R){return{label:"".concat(R," bins"),value:R,display:Rn.has(R)}})),[{label:"Custom",value:"custom",display:!0}]);function ne(R){var A=R.disabled,F=Object(j.useValues)(pe.b),_=F.insightProps,ee=Object(j.useValues)(Object(Je.a)(_)),Z=ee.filters,le=ee.numericBinCount,Se=Object(j.useActions)(Object(Je.a)(_)),Be=Se.setBinCount;return r.a.createElement(Q.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:se.g,value:Z.bin_count||se.g,onSelect:function(xe){return Be(xe)},dropdownRender:function(xe){return r.a.createElement(r.a.Fragment,null,xe,r.a.createElement("div",null,r.a.createElement(hn.a,{className:"funnel-bins-custom-picker",size:"middle",min:Mt,max:_n,value:le,onChange:function(qe){var Xe=typeof qe=="string"?parseInt(qe):qe;Xe&&Be(Xe)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:it.a.bottomRight,optionLabelProp:"label",disabled:A},r.a.createElement(Q.a.OptGroup,{label:"Bin Count"},W.map(function(Ue){return Ue.value==="custom"?null:r.a.createElement(Q.a.Option,{className:Object(fn.a)({"select-option-hidden":!Ue.display}),key:Ue.value,value:Ue.value,label:r.a.createElement(r.a.Fragment,null,r.a.createElement(we.a,null)," ",Ue.label)},Ue.label)})))}try{ne.displayName="FunnelBinsPicker",ne.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:ne.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(R){}var Re=e("./node_modules/core-js/modules/es.array.filter.js"),Le=e("./node_modules/core-js/modules/es.array.slice.js"),$t=e("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),_e=e("./frontend/src/scenes/paths/pathsLogic.ts"),ke=e("./frontend/src/scenes/userLogic.ts");function dn(R){var A,F=R.disabled,_=Object(j.useValues)(pe.b),ee=_.insightProps,Z=Object(j.useValues)(Object(_e.b)(ee)),le=Z.filter,Se=Object(j.useActions)(Object(_e.b)(ee)),Be=Se.setFilter,Ue=Object(j.useValues)(ke.a),xe=Ue.user,me=2,qe=!(xe==null||(A=xe.organization)===null||A===void 0)&&A.available_features.includes(M.c.PATHS_ADVANCED)?20:5,Xe=Array.from(Array.from(Array.from(Array(qe+1).keys()).slice(me)),function(dt){return{label:"".concat(dt," Steps"),value:dt}});return r.a.createElement(Q.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:le.step_limit||_e.a,onSelect:function(Dt){return Be({step_limit:Dt})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:it.a.bottomRight,optionLabelProp:"label",disabled:F},Xe.map(function(dt){return r.a.createElement(Q.a.Option,{key:dt.value,value:dt.value,label:r.a.createElement(r.a.Fragment,null,r.a.createElement($t.a,null)," ",dt.label)},dt.label)}))}try{dn.displayName="PathStepPicker",dn.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:dn.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/InsightTabs/PathTab/PathStepPicker.tsx#PathStepPicker"})}catch(R){}var Mn=e("./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js");function vn(R){var A=R.disabled,F=Object(j.useValues)(pe.b),_=F.insightProps,ee=Object(j.useValues)(Object(yt.d)(_)),Z=ee.retentionReference,le=Object(j.useActions)(Object(yt.d)(_)),Se=le.setRetentionReference;return r.a.createElement(Q.a,{value:Z,onChange:Se,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:A},[{value:"total",icon:r.a.createElement(Mn.a,null),label:"Overall cohort"},{value:"previous",icon:r.a.createElement(Mn.a,null),label:"Relative to previous period"}].map(function(Be){return r.a.createElement(Q.a.Option,{key:Be.value,value:Be.value,label:r.a.createElement(r.a.Fragment,null,Be.icon," ",Be.label)},Be.label)}))}try{vn.displayName="ReferencePicker",vn.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:vn.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/InsightTabs/RetentionTab/ReferencePicker.tsx#ReferencePicker"})}catch(R){}var un=e("./node_modules/antd/es/tooltip/index.js"),vt=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),Yt,Qt,mn=function(A,F){switch(A){case M.s.FUNNELS:return F.funnel_viz_type===M.o.Trends;case M.s.RETENTION:case M.s.PATHS:return!1;case M.s.TRENDS:case M.s.STICKINESS:case M.s.LIFECYCLE:default:return![se.e,se.f,se.b].includes(F.display||"")}},pn=function(A){switch(A){case M.s.TRENDS:case M.s.STICKINESS:return!0;case M.s.RETENTION:case M.s.FUNNELS:return!1;case M.s.LIFECYCLE:case M.s.PATHS:return!1;default:return!0}},zt=(Yt={},u()(Yt,"".concat(M.s.TRENDS),!0),u()(Yt,"".concat(M.s.STICKINESS),!0),u()(Yt,"".concat(M.s.LIFECYCLE),!0),u()(Yt,"".concat(M.s.FUNNELS),!0),u()(Yt,"".concat(M.s.RETENTION),!1),u()(Yt,"".concat(M.s.PATHS),!0),Yt),Cn=(Qt={},u()(Qt,"".concat(M.s.TRENDS),!0),u()(Qt,"".concat(M.s.STICKINESS),!0),u()(Qt,"".concat(M.s.LIFECYCLE),!1),u()(Qt,"".concat(M.s.FUNNELS),!1),u()(Qt,"".concat(M.s.RETENTION),!1),u()(Qt,"".concat(M.s.PATHS),!1),Qt),Tt=function(A){var F,_;return!A.actions&&!A.events||((F=A.actions)===null||F===void 0?void 0:F.length)===0&&((_=A.events)===null||_===void 0?void 0:_.length)===0};function Ge(R){var A=R.filters,F=R.activeView,_=R.disableTable,ee=R.disabled,Z=F===M.s.FUNNELS,le=F===M.s.PATHS;return r.a.createElement("div",{className:"display-config-inner"},r.a.createElement("div",{className:"display-config-inner-row"},zt[F]&&!_&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},"Date range"),r.a.createElement(St,{defaultValue:"Last 7 days",disabled:ee||Z&&Tt(A),bordered:!0,makeLabel:function(Be){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,null)," ",Be,Be=="All time"&&r.a.createElement(un.a,{title:"Only events dated after 2015 will be shown"},r.a.createElement(vt.a,{className:"info-indicator"})))}})),mn(F,A)&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},r.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),r.a.createElement(Fe,{view:F,disabled:ee})),F===M.s.RETENTION&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Vt,{disabled:ee}),r.a.createElement(vn,{disabled:ee})),le&&r.a.createElement("span",{className:"filter"},r.a.createElement(dn,{disabled:ee})),Cn[F]&&r.a.createElement("span",{className:"filter"},r.a.createElement(It,null))),r.a.createElement("div",{className:"display-config-inner-row"},pn(F)&&r.a.createElement("span",{className:"filter"},r.a.createElement("span",{className:"head-title-item"},"Chart type"),r.a.createElement(Gt,{filters:A,disabled:ee||A.insight===M.s.LIFECYCLE})),Z&&A.funnel_viz_type===M.o.Steps&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"filter"},r.a.createElement(lt,{disabled:ee}))),Z&&A.funnel_viz_type===M.o.TimeToConvert&&r.a.createElement("span",{className:"filter"},r.a.createElement(ne,{disabled:ee}))))}try{Ge.displayName="InsightDisplayConfig",Ge.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:Ge.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightTabs/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(R){}var Kt=e("./node_modules/antd/es/button/index.js"),Sn=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),en=e.n(Sn),kn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),Bn=e.n(kn),qn={};qn.insert="head",qn.singleton=!1;var ma=en()(Bn.a,qn),sa=Bn.a.locals||{},pa=e("./frontend/src/scenes/funnels/funnelUtils.ts"),ba=e("./node_modules/core-js/modules/es.array.find.js"),Yn=e("./frontend/src/lib/components/EntityFilterInfo.tsx");function ea(){var R,A=Object(j.useValues)(pe.b),F=A.insightProps,_=Object(j.useValues)(Object(Je.a)(F)),ee=_.filters,Z=_.numberOfSeries,le=_.areFiltersValid,Se=_.filterSteps,Be=Object(j.useActions)(Object(Je.a)(F)),Ue=Be.changeStepRange;if(ee.funnel_viz_type===M.o.Steps)return null;var xe=function(Dt,ft){Ue(Dt,ft)},me=le?Array.from(Array(Math.max(Z)).keys()).slice(0,-1):[0],qe=le?Array.from(Array(Math.max(Z)).keys()).slice(((R=ee.funnel_from_step)!==null&&R!==void 0?R:0)+1):[1],Xe=function(Dt){return Dt.map(function(ft){var bn=Se.find(function(En){return En.order===ft});return bn?r.a.createElement(Q.a.Option,{key:ft,value:ft,label:"Step ".concat(ft+1)},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("span",{style:{marginRight:4}},"Step ",ft+1,":"),r.a.createElement(Yn.a,{filter:bn}))):null})};return r.a.createElement(He.a,{className:"funnel-options-inputs"},r.a.createElement("span",{className:"text-muted-alt"},"from"),r.a.createElement(Q.a,{disabled:!le,dropdownMatchSelectWidth:!1,dropdownAlign:it.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:ee.funnel_from_step||0,onChange:function(Dt){return xe(Dt,ee.funnel_to_step)},style:{marginLeft:4,marginRight:4}},Xe(me)),r.a.createElement("span",{className:"text-muted-alt"},"to"),r.a.createElement(Q.a,{disabled:!le,dropdownMatchSelectWidth:!1,dropdownAlign:it.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:ee.funnel_to_step||Math.max(Z-1,1),onChange:function(Dt){return xe(ee.funnel_from_step,Dt)},style:{marginLeft:4,marginRight:4}},Xe(qe)))}function ca(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=R.filters,_=R.activeView,ee=Object(j.useValues)(Object(Je.a)(A)),Z=ee.conversionMetrics,le=ee.aggregationTargetLabel,Se=Object(j.useActions)(Object(Ce.a)(A)),Be=Se.setChartFilter;if(_!==M.s.FUNNELS)return null;var Ue=[].concat(Pt()(F.funnel_viz_type===M.o.Steps?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},r.a.createElement(Ie.a,{title:"Overall conversion rate for all ".concat(le.plural," on the entire funnel.")},r.a.createElement(vt.a,{className:"info-indicator left"})),"Total conversion rate"),r.a.createElement("span",{className:"text-muted-alt mr-025"},":"),r.a.createElement("span",{className:"l4"},Object(pa.c)(Z.totalRate),"%"))]:[]),Pt()(F.funnel_viz_type!==M.o.Trends?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},r.a.createElement(Ie.a,{title:"Average (arithmetic mean) of the total time each ".concat(le.singular," spent in the entire funnel.")},r.a.createElement(vt.a,{className:"info-indicator left"})),"Average time to convert"," "),F.funnel_viz_type===M.o.TimeToConvert&&r.a.createElement(ea,null),r.a.createElement("span",{className:"text-muted-alt mr-025"},":"),r.a.createElement(Kt.a,{type:"link",onClick:function(){return Be(M.o.TimeToConvert)},disabled:F.funnel_viz_type===M.o.TimeToConvert},r.a.createElement("span",{className:"l4"},Object(it.N)(Z.averageTime))))]:[]),Pt()(F.funnel_viz_type===M.o.Trends?[r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),r.a.createElement(ea,null))]:[]));return r.a.createElement(He.a,{className:"funnel-canvas-label",align:"middle"},Ue.map(function(xe,me){return r.a.createElement(r.a.Fragment,{key:me},me>0&&r.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),xe)}))}function ta(R){var A=Object(oe.useState)(0),F=rt()(A,2),_=F[1];Object(oe.useEffect)(function(){var ee=setInterval(function(){return _(function(Z){return Z+1})},R);return function(){return clearInterval(ee)}})}var Hn=3;function Zn(){var R=Object(j.useValues)(pe.b),A=R.lastRefresh,F=Object(j.useActions)(pe.b),_=F.loadResults;return ta(15e3),r.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",A?Object(nt.a)(A).fromNow():"a while ago",r.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),r.a.createElement(un.a,{title:r.a.createElement(r.a.Fragment,null,"Insights can be refreshed",r.a.createElement("br",null),"every ",Hn," minutes.")},r.a.createElement(Kt.a,{size:"small",type:"link",onClick:function(){return _(!0)},disabled:!!A&&Object(nt.a)().subtract(Hn-.5,"minutes").isBefore(A),style:{padding:0}},r.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var Gn=e("./frontend/src/scenes/trends/PersonsModal.tsx"),$n=e("./frontend/src/scenes/trends/viz/index.ts"),da=e("./frontend/src/scenes/trends/SaveCohortModal.tsx"),Un=e("./frontend/src/scenes/trends/trendsLogic.ts"),Kn=e("./frontend/src/scenes/insights/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},showTotalCount:{defaultValue:{value:"false"},description:"",name:"showTotalCount",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/InsightsTable/index.tsx#InsightsTable"})}catch(R){}var Dn=e("./frontend/src/scenes/trends/personsModalLogic.ts"),na=e("./frontend/src/lib/utils/eventUsageLogic.ts"),E=e("./frontend/src/scenes/insights/insightSceneLogic.tsx");function O(R){var A=R.view,F=Object(j.useValues)(E.a),_=F.insightMode,ee=Object(j.useValues)(pe.b),Z=ee.insightProps,le=Object(j.useValues)(Dn.b),Se=le.cohortModalVisible,Be=Object(j.useActions)(Dn.b),Ue=Be.setCohortModalVisible,xe=Object(j.useValues)(Object(Un.a)(Z)),me=xe.filters,qe=xe.loadMoreBreakdownUrl,Xe=xe.breakdownValuesLoading,dt=xe.showModalActions,Dt=xe.aggregationTargetLabel,ft=Object(j.useActions)(Object(Un.a)(Z)),bn=ft.loadMoreBreakdownValues,En=Object(j.useValues)(Dn.b),cn=En.showingPeople,On=Object(j.useActions)(Dn.b),on=On.saveCohortWithUrl,Ft=Object(j.useActions)(na.f),nn=Ft.reportCohortCreatedFromPersonsModal,gn=function(){if(!me.display||me.display===se.d||me.display===se.c||me.display===se.a)return r.a.createElement($n.b,null);if(me.display===se.f)return r.a.createElement(j.BindLogic,{logic:Un.a,props:{dashboardItemId:null,view:A,filters:null}},r.a.createElement(Kn.b,{embedded:!0,showTotalCount:!0,filterKey:"trends_".concat(A),canEditSeriesNameInline:_===M.t.Edit,isMainInsightView:!0}));if(me.display===se.e)return r.a.createElement($n.c,null);if(me.display===se.b)return r.a.createElement($n.a,null)};return r.a.createElement(r.a.Fragment,null,(me.actions||me.events)&&r.a.createElement("div",{className:me.display!==se.f?"trends-insights-container":void 0},gn()),me.breakdown&&r.a.createElement("div",{className:"mt text-center"},qe?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-muted mb"},"For readability, ",r.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),r.a.createElement("div",null,r.a.createElement(Kt.a,{style:{textAlign:"center",marginBottom:16},onClick:bn,loading:Xe},"Load more breakdown values"))):r.a.createElement("span",{className:"text-muted"},"Showing ",r.a.createElement("b",null,"all breakdown values"))),r.a.createElement(Gn.a,{visible:cn&&!Se,view:A,filters:me,onSaveCohort:function(){Ue(!0)},showModalActions:dt,aggregationTargetLabel:Dt}),r.a.createElement(da.a,{visible:Se,onOk:function(Ia){on(Ia),Ue(!1),nn(me)},onCancel:function(){return Ue(!1)}}))}try{O.displayName="TrendInsight",O.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:O.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(R){}var T=e("./frontend/src/scenes/funnels/Funnel.tsx");function I(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=Object(j.useValues)(Object(Je.a)(A)),_=F.isValidFunnel,ee=F.insightLoading,Z=F.filters,le=F.areFiltersValid,Se=F.barGraphLayout,Be=F.aggregationTargetLabel,Ue=Object(j.useValues)(Dn.b),xe=Ue.showingPeople,me=Ue.cohortModalVisible,qe=Object(j.useActions)(Dn.b),Xe=qe.setCohortModalVisible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gn.a,{visible:xe&&!me,view:M.s.FUNNELS,filters:Z,onSaveCohort:function(){Xe(!0)},showModalActions:Z.aggregation_group_type_index==null,aggregationTargetLabel:Be}),r.a.createElement("div",{className:Object(fn.a)("funnel-insights-container",{"non-empty-state":_&&le||ee,"no-padding":Z.funnel_viz_type==M.o.Steps&&Se===se.p.vertical})},r.a.createElement(T.a,null)))}var Y=e("./frontend/src/scenes/retention/RetentionContainer.tsx"),de=e("./frontend/src/scenes/paths/Paths.tsx"),re=e("./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelStepTable.tsx"),V=e("./frontend/src/scenes/insights/EmptyStates/index.ts"),fe=e("./frontend/src/lib/logic/featureFlagLogic.ts");function G(){var R=Object(j.useValues)(pe.b),A=R.activeView;return A!==M.s.PATHS?null:r.a.createElement(He.a,{className:"funnel-canvas-label",align:"middle"},r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var ct=e("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),Ot=e("./node_modules/antd/lib/input/TextArea.js"),gt=e.n(Ot),at=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss"),ze=e.n(at),H={};H.insert="head",H.singleton=!1;var Tn=en()(ze.a,H),yn=ze.a.locals||{},wn=e("./node_modules/core-js/modules/es.number.constructor.js"),Fn=e("./node_modules/core-js/modules/es.number.is-integer.js"),je=e("./node_modules/core-js/modules/es.number.to-fixed.js"),jn=e("./node_modules/core-js/modules/es.regexp.exec.js"),Vn=e("./node_modules/core-js/modules/es.string.split.js"),wt=e("./node_modules/antd/es/spin/index.js"),ln=e("./node_modules/antd/es/table/index.js"),An=e("./node_modules/antd/lib/table/Column.js"),kt=e.n(An),Bt=e("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},Pn=tn,aa=function(A,F){return oe.createElement(K.a,Object(he.a)(Object(he.a)({},A),{},{ref:F,icon:Pn}))};aa.displayName="FallOutlined";var ra=oe.forwardRef(aa),ua=e("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),ia=e("./frontend/src/lib/components/icons.tsx"),ga=e("./node_modules/antd/lib/checkbox/Checkbox.js"),fa=e.n(ga),In=e("./frontend/src/scenes/funnels/FunnelBarGraph.tsx"),Jt=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Wn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss"),la=e.n(Wn),Nn={};Nn.insert="head",Nn.singleton=!1;var Ta=en()(la.a,Nn),wa=la.a.locals||{},xa=e("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function ha(R){var A=R.id,F=R.offset,_=R.children,ee=Object(j.useActions)(Object(xa.a)({id:A,offset:F})),Z=ee.scrolling,le=Object(oe.useRef)(null);return Object(oe.useEffect)(function(){var Se=le.current;return document.addEventListener("scroll",function(){return Z(Se)}),function(){return document.removeEventListener("scroll",function(){return Z(Se)})}},[le.current]),r.a.createElement("div",{ref:le},_)}try{ha.displayName="VisibilitySensor",ha.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:ha.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(R){}var va=e("./frontend/src/lib/components/LemonButton/index.ts"),Ea=e("./frontend/src/lib/components/Popup/Popup.tsx"),Oa=e("./node_modules/antd/es/modal/index.js"),ja=e("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),Ca=e("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),Pa=e("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),f=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss"),p=e.n(f),C={};C.insert="head",C.singleton=!1;var g=en()(p.a,C),d=p.a.locals||{},v=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),i=e("./frontend/src/lib/components/Link.tsx"),l=e("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function c(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=Object(Je.a)(A),_=Object(j.useValues)(F),ee=_.correlationsLoading,Z=_.funnelCorrelationDetails,le=_.parseDisplayNameForCorrelation,Se=_.correlationMatrixAndScore,Be=Object(j.useActions)(F),Ue=Be.setFunnelCorrelationDetails,xe=Be.openCorrelationPersonsModal,me=(Z==null?void 0:Z.result_type)===M.k.Events?"event":"property",qe=(Z==null?void 0:Z.result_type)===M.k.Events?"performed event":"have property",Xe=r.a.createElement(r.a.Fragment,null);if(Z){var dt=le(Z),Dt=dt.first_value,ft=dt.second_value;Xe=r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt.b,{value:Dt}),ft!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(Jt.b,{value:ft,disablePopover:!0})))}var bn=Se.correlationScore,En=Se.truePositive,cn=Se.falsePositive,On=Se.trueNegative,on=Se.falseNegative,Ft=Se.correlationScoreStrength,nn=Ft==="strong"?r.a.createElement(ja.a,{style:{color:"var(--success)"}}):Ft==="moderate"?r.a.createElement(Ca.a,{style:{color:"var(--warning)"}}):r.a.createElement(Pa.a,{style:{color:"var(--danger)"}}),gn=function(){return Ue(null)};return r.a.createElement(Oa.a,{className:"correlation-matrix",visible:!!Z,onCancel:gn,destroyOnClose:!0,footer:r.a.createElement(Kt.a,{onClick:gn},"Dismiss"),width:600,title:"Correlation details"},r.a.createElement("div",{className:"correlation-table-wrapper"},ee?r.a.createElement("div",{className:"mt text-center"},r.a.createElement(v.a,{size:"lg"})):Z?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-muted-alt mb"},"The table below displays the correlation details for users who ",qe," ",r.a.createElement("b",null,Xe),"."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-title"},r.a.createElement("td",{colSpan:3},"Results matrix")),r.a.createElement("tr",null,r.a.createElement("td",null,(Z==null?void 0:Z.result_type)===M.k.Events?"Performed event":"Has property"),r.a.createElement("td",null,"Success"),r.a.createElement("td",null,"Dropped off"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"},"Yes"),r.a.createElement("td",null,r.a.createElement(Ie.a,{title:"True positive (TP) - Percentage of users who ".concat(qe," and completed the funnel.")},r.a.createElement("div",{className:"percentage"},En?Object(it.ob)(En/(En+cn)):"0.00%")),En===0?"0 users":r.a.createElement(i.a,{onClick:function(){xe(Z,!0)}},Object(it.qb)(En,"user",void 0,!0,!0))),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(Ie.a,{title:"False negative (FN) - Percentage of users who ".concat(qe," and did not complete the funnel.")},on?Object(it.ob)(on/(on+On)):"0.00%")),on===0?"0 users":r.a.createElement(i.a,{onClick:function(){xe(Z,!1)}},Object(it.qb)(on,"user",void 0,!0,!0)))),r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"},"No"),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(Ie.a,{title:"False positive (FP) - Percentage of users who did not ".concat(qe," and completed the funnel.")},cn?Object(it.ob)(cn/(En+cn)):"0.00%")),Object(it.qb)(cn,"user",void 0,!0,!0)),r.a.createElement("td",null,r.a.createElement("div",{className:"percentage"},r.a.createElement(Ie.a,{title:"True negative (TN) - Percentage of users who did not ".concat(qe," and did not complete the funnel.")},On?Object(it.ob)(On/(on+On)):"0.00%")),Object(it.qb)(On,"user",void 0,!0,!0))),r.a.createElement("tr",null,r.a.createElement("td",{className:"horizontal-header"}),r.a.createElement("td",null,r.a.createElement("b",null,"100%")),r.a.createElement("td",null,r.a.createElement("b",null,"100%"))))),r.a.createElement("div",{className:"mt text-center"},Object(it.j)((Z==null?void 0:Z.result_type)||"")," ",r.a.createElement("b",null,Xe)," ","has a"," ",(Z==null?void 0:Z.correlation_type)===M.l.Success?r.a.createElement("b",{className:"text-success"},"positive"," ",r.a.createElement(Ie.a,{title:"Positive correlation means this ".concat(me," is correlated with a successful conversion.")},r.a.createElement(vt.a,{className:"cursor-pointer"}))):r.a.createElement("b",{className:"text-danger"},"negative"," ",r.a.createElement(Ie.a,{title:"Negative correlation means this ".concat(me," is correlated with an unsuccessful conversion (user dropped off).")},r.a.createElement(vt.a,{className:"cursor-pointer"})))," ","correlation score of"," ",r.a.createElement("b",{style:{color:Ft==="strong"?"var(--success)":Ft==="moderate"?"var(--warning)":"var(--danger)"}},r.a.createElement(Ie.a,{title:"This ".concat(me," has ").concat(Ft," correlation.")},r.a.createElement("span",{style:{cursor:"pointer"}},nn," ",bn.toFixed(3)))))):r.a.createElement("div",null,r.a.createElement(l.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function y(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=Object(Je.a)(A),_=Object(j.useValues)(F),ee=_.stepsWithCount,Z=_.correlationValues,le=_.correlationTypes,Se=_.eventHasPropertyCorrelations,Be=_.eventWithPropertyCorrelationsValues,Ue=_.parseDisplayNameForCorrelation,xe=_.correlationsLoading,me=_.eventWithPropertyCorrelationsLoading,qe=_.nestedTableExpandedKeys,Xe=_.correlationPropKey,dt=_.filters,Dt=_.aggregationTargetLabel,ft=Object(j.useActions)(F),bn=ft.setCorrelationTypes,En=ft.loadEventWithPropertyCorrelations,cn=ft.addNestedTableExpandedKey,On=ft.removeNestedTableExpandedKey,on=ft.openCorrelationPersonsModal,Ft=ft.loadCorrelations,nn=Object(j.useActions)(na.f),gn=nn.reportCorrelationInteraction;Object(oe.useEffect)(function(){Ft()},[dt]);var ya=function(an){le?le.includes(an)?bn(le.filter(function(Ln){return Ln!==an})):bn([].concat(Pt()(le),[an])):bn([an])},Ia=function(an){var Ln=function(Na){return Na<10&&!Number.isInteger(Na)?Na.toFixed(1):Na.toFixed()},Jn=an.correlation_type===M.l.Success,zn=Ue(an),Sa=zn.first_value,Ra=zn.second_value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,Jn?r.a.createElement(Bt.a,{style:{color:"green"}}):r.a.createElement(ra,{style:{color:"red"}})," ",r.a.createElement(Jt.b,{value:Sa}),Ra!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(Jt.b,{value:Ra,disablePopover:!0}))),r.a.createElement("div",null,Object(it.j)(Dt.plural)," ",dt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",r.a.createElement("mark",null,r.a.createElement("b",null,Ln(an.odds_ratio),"x ",Jn?"more":"less"," likely"))," ","to"," ",an.result_type===M.k.EventWithProperties?"have this event property":"do this event"),r.a.createElement(c,null))},oa=function(an){return r.a.createElement(In.c,{onClick:function(){on(an,!0)}},an.success_count)},xn=function(an){return r.a.createElement(In.c,{onClick:function(){on(an,!1)}},an.failure_count)},Qn=function(an){return me?r.a.createElement("div",{className:"nested-properties-loading"},r.a.createElement(wt.a,null),r.a.createElement("h3",null,"Loading correlation results"),r.a.createElement("p",null,"This process can take up to 20 seconds. ")):r.a.createElement("div",null,r.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),r.a.createElement(ln.a,{dataSource:Be[an],rowKey:function(Jn){return Jn.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(Jn,zn){return gn(M.k.EventWithProperties,"pagination change",{page:Jn,page_size:zn})}}},r.a.createElement(kt.a,{title:"Property",key:"eventName",render:function(Jn,zn){return Ia(zn)},align:"left"}),r.a.createElement(kt.a,{title:"Completed",key:"success_count",render:function(Jn,zn){return oa(zn)},width:90,align:"center"}),r.a.createElement(kt.a,{title:"Dropped off",key:"failure_count",render:function(Jn,zn){return xn(zn)},width:120,align:"center"}),r.a.createElement(kt.a,{title:"",key:"actions",render:function(Jn,zn){return r.a.createElement(w,{record:zn})},align:"center",width:30})))};return ee.length>1?r.a.createElement(ha,{id:Xe,offset:152},r.a.createElement("div",{className:"funnel-correlation-table"},r.a.createElement("span",{className:"funnel-correlation-header"},r.a.createElement("span",{className:"table-header"},r.a.createElement(ia.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),r.a.createElement("span",{className:"table-options"},r.a.createElement("p",{className:"title"},"CORRELATION"),r.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return ya(M.l.Success)}},r.a.createElement(fa.a,{checked:le.includes(M.l.Success),style:{pointerEvents:"none"}},"Success")),r.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return ya(M.l.Failure)}},r.a.createElement(fa.a,{checked:le.includes(M.l.Failure),style:{pointerEvents:"none"}},"Dropoff")))),r.a.createElement(ln.a,{dataSource:Z,loading:xe,size:"small",scroll:{x:"max-content"},rowKey:function(an){return an.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return gn(M.k.Events,"load more")}},expandable:{expandedRowRender:function(an){return Qn(an.event.event)},expandedRowKeys:qe,rowExpandable:function(){return dt.aggregation_group_type_index===void 0},expandIcon:function(an){var Ln=an.expanded,Jn=an.onExpand,zn=an.record,Sa=an.expandable;return Sa?Ln?r.a.createElement(Ie.a,{title:"Collapse"},r.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(Aa){On(zn.event.event),Jn(zn,Aa)}},r.a.createElement(ia.IconUnfoldLess,null))):r.a.createElement(Ie.a,{title:"Expand to see correlated properties for this event"},r.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(Aa){!Se(zn.event.event)&&En(zn.event.event),cn(zn.event.event),Jn(zn,Aa)}},r.a.createElement(ia.IconUnfoldMore,null))):null}}},r.a.createElement(kt.a,{title:"Event",key:"eventName",render:function(an,Ln){return Ia(Ln)},align:"left",ellipsis:!0}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Completed",r.a.createElement(Ie.a,{title:"".concat(Object(it.j)(Dt.plural)," ").concat(dt.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},r.a.createElement(vt.a,{className:"column-info"}))),key:"success_count",render:function(an,Ln){return oa(Ln)},width:90,align:"center"}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Dropped off",r.a.createElement(Ie.a,{title:r.a.createElement(r.a.Fragment,null,Object(it.j)(Dt.plural)," ",dt.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",r.a.createElement("b",null,"not complete")," the entire funnel.")},r.a.createElement(vt.a,{className:"column-info"}))),key:"failure_count",render:function(an,Ln){return xn(Ln)},width:120,align:"center"}),r.a.createElement(kt.a,{title:"",key:"actions",render:function(an,Ln){return r.a.createElement(w,{record:Ln})},width:30})))):null}var w=function(A){var F=A.record,_=Object(j.useValues)(pe.b),ee=_.insightProps,Z=Object(Je.a)(ee),le=Object(j.useActions)(Z),Se=le.excludeEventPropertyFromProject,Be=le.excludeEventFromProject,Ue=le.setFunnelCorrelationDetails,xe=Object(j.useValues)(Z),me=xe.isEventPropertyExcluded,qe=xe.isEventExcluded,Xe=F.event.event.split("::"),dt=Object(oe.useState)(!1),Dt=rt()(dt,2),ft=Dt[0],bn=Dt[1];return r.a.createElement(He.a,{style:{justifyContent:"flex-end"}},r.a.createElement(Ea.a,{visible:ft,actionable:!0,onClickOutside:function(){return bn(!1)},overlay:r.a.createElement(r.a.Fragment,null,F.result_type===M.k.Events&&r.a.createElement(va.a,{onClick:function(){return Ue(F)},fullWidth:!0,type:"stealth"},"View correlation details"),r.a.createElement(va.a,{disabled:F.result_type===M.k.EventWithProperties?me(Xe[1]):qe(Xe[0]),onClick:function(){return F.result_type===M.k.EventWithProperties?Se(Xe[0],Xe[1]):Be(Xe[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",type:"stealth"},"Exclude event from project"))},r.a.createElement(va.a,{type:"stealth",onClick:function(){return bn(!ft)}},r.a.createElement(ua.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},a=e("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function n(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=Object(Je.a)(A),_=Object(j.useValues)(F),ee=_.stepsWithCount,Z=_.propertyCorrelationValues,le=_.propertyCorrelationTypes,Se=_.excludedPropertyNames,Be=_.parseDisplayNameForCorrelation,Ue=_.propertyCorrelationsLoading,xe=_.inversePropertyNames,me=_.propertyNames,qe=_.correlationPropKey,Xe=_.allProperties,dt=_.filters,Dt=_.aggregationTargetLabel,ft=Object(j.useActions)(F),bn=ft.setPropertyCorrelationTypes,En=ft.setPropertyNames,cn=ft.openCorrelationPersonsModal,On=ft.loadPropertyCorrelations,on=Object(j.useActions)(na.f),Ft=on.reportCorrelationInteraction;Object(oe.useEffect)(function(){me.length===0&&En(Xe),On()},[dt]);var nn=function(xn){le?le.includes(xn)?bn(le.filter(function(Qn){return Qn!==xn})):bn([].concat(Pt()(le),[xn])):bn([xn])},gn=function(xn){return r.a.createElement(In.c,{onClick:function(){cn(xn,!0)}},xn.success_count)},ya=function(xn){return r.a.createElement(In.c,{onClick:function(){cn(xn,!1)}},xn.failure_count)},Ia=function(xn){var Qn=function(Sa){return Sa<10&&!Number.isInteger(Sa)?Sa.toFixed(1):Sa.toFixed()},Xn=xn.correlation_type===M.l.Success,an=Be(xn),Ln=an.first_value,Jn=an.second_value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,Xn?r.a.createElement(Bt.a,{style:{color:"green"}}):r.a.createElement(ra,{style:{color:"red"}})," ",r.a.createElement(Jt.b,{value:Ln}),Jn!==void 0&&r.a.createElement(r.a.Fragment,null," :: ",r.a.createElement(Jt.b,{value:Jn,disablePopover:!0}))),r.a.createElement("div",null,Object(it.j)(Dt.plural)," ",dt.aggregation_group_type_index!=null?"that":"who"," converted were"," ",r.a.createElement("mark",null,r.a.createElement("b",null,Qn(xn.odds_ratio),"x ",Xn?"more":"less"," likely"))," ","to have this property value"))};return ee.length>1?r.a.createElement(ha,{offset:150,id:"".concat(qe,"-properties")},r.a.createElement("div",{className:"funnel-correlation-table"},r.a.createElement("span",{className:"funnel-correlation-header"},r.a.createElement("span",{className:"table-header"},r.a.createElement(ia.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),r.a.createElement("span",{className:"table-options"},Xe.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"title"},"PROPERTIES "),r.a.createElement(a.a,{value:new Set(me),onChange:function(xn){return En(xn)},allProperties:xe(Se||[])})),r.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),r.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return nn(M.l.Success)}},r.a.createElement(fa.a,{checked:le.includes(M.l.Success),style:{pointerEvents:"none"}},"Success")),r.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return nn(M.l.Failure)}},r.a.createElement(fa.a,{checked:le.includes(M.l.Failure),style:{pointerEvents:"none"}},"Dropoff")))),r.a.createElement(ln.a,{dataSource:Z,loading:Ue,scroll:{x:"max-content"},size:"small",rowKey:function(xn){return xn.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(xn,Qn){return Ft(M.k.Properties,"pagination change",{page:xn,page_size:Qn})}}},r.a.createElement(kt.a,{title:"".concat(Object(it.j)(Dt.singular)," property"),key:"propertName",render:function(xn,Qn){return Ia(Qn)},align:"left"}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Completed",r.a.createElement(Ie.a,{title:"".concat(Object(it.j)(Dt.plural)," ").concat(dt.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},r.a.createElement(vt.a,{className:"column-info"}))),key:"success_count",render:function(xn,Qn){return gn(Qn)},width:90,align:"center"}),r.a.createElement(kt.a,{title:r.a.createElement("div",{className:"flex-center"},"Dropped off",r.a.createElement(Ie.a,{title:r.a.createElement(r.a.Fragment,null,Object(it.j)(Dt.plural)," ",dt.aggregation_group_type_index!=null?"that":"who"," have this property and did ",r.a.createElement("b",null,"not complete")," the entire funnel.")},r.a.createElement(vt.a,{className:"column-info"}))),key:"failure_count",render:function(xn,Qn){return ya(Qn)},width:120,align:"center"}),r.a.createElement(kt.a,{title:"",key:"actions",render:function(xn,Qn){return r.a.createElement(t,{record:Qn})},align:"center",width:30})))):null}var t=function(A){var F=A.record,_=Object(j.useValues)(pe.b),ee=_.insightProps,Z=Object(Je.a)(ee),le=Object(j.useActions)(Z),Se=le.excludePropertyFromProject,Be=le.setFunnelCorrelationDetails,Ue=Object(j.useValues)(Z),xe=Ue.isPropertyExcludedFromProject,me=(F.event.event||"").split("::")[0],qe=Object(oe.useState)(!1),Xe=rt()(qe,2),dt=Xe[0],Dt=Xe[1];return r.a.createElement(He.a,{style:{justifyContent:"flex-end"}},r.a.createElement(Ea.a,{visible:dt,actionable:!0,onClickOutside:function(){return Dt(!1)},overlay:r.a.createElement(r.a.Fragment,null,r.a.createElement(va.a,{onClick:function(){return Be(F)},fullWidth:!0,type:"stealth"},"View correlation details"),r.a.createElement(va.a,{disabled:xe(me),onClick:function(){return Se(me)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",type:"stealth"},"Exclude property from project"))},r.a.createElement(va.a,{type:"stealth",onClick:function(){return Dt(!dt)}},r.a.createElement(ua.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},o=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),m=e("./frontend/src/lib/components/PayCard/PayCard.tsx"),h=e("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),b=function(){var A,F=Object(j.useValues)(pe.b),_=F.insightProps,ee=Object(j.useValues)(Object(Je.a)(_)),Z=ee.isSkewed,le=ee.stepsWithCount,Se=ee.correlationFeedbackHidden,Be=ee.correlationDetailedFeedbackVisible,Ue=ee.correlationFeedbackRating,xe=ee.correlationAnalysisAvailable,me=ee.aggregationTargetLabel,qe=Object(j.useActions)(Object(Je.a)(_)),Xe=qe.sendCorrelationAnalysisFeedback,dt=qe.hideSkewWarning,Dt=qe.hideCorrelationAnalysisFeedback,ft=qe.setCorrelationFeedbackRating,bn=qe.setCorrelationDetailedFeedback,En=Object(j.useValues)(h.a),cn=En.preflight,On=Object(oe.useRef)(null);return le.length<=1?null:!xe&&!(!(cn==null||(A=cn.instance_preferences)===null||A===void 0)&&A.disable_paid_fs)?r.a.createElement(m.a,{identifier:M.c.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(me.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(me.plural," are converting or dropping off.")}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"funnel-correlation"},Z&&r.a.createElement(De.a,{className:"skew-warning"},r.a.createElement("h4",null,r.a.createElement(ia.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",r.a.createElement(o.a,{className:"close-button",onClick:dt})),r.a.createElement("div",null,r.a.createElement("b",null,"Tips for adjusting your funnel:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),r.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),r.a.createElement(y,null),!Se&&r.a.createElement(De.a,{className:"correlation-feedback"},r.a.createElement(He.a,{className:"row-initial"},r.a.createElement(N.a,{span:14},r.a.createElement("h4",null,r.a.createElement(ct.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?")),r.a.createElement(N.a,{span:9,style:{alignContent:"right"}},!!Ue&&r.a.createElement("i",{style:{color:"var(--success)",marginRight:8}},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(on,Ft){return r.a.createElement(Kt.a,{key:Ft,className:"emoji-button",style:Ue===on[0]?{background:"#5375FF"}:Ue?{display:"none"}:{},onClick:function(){Ue===on[0]?ft(0):(ft(on[0]),setTimeout(function(){var gn;return(gn=On.current)===null||gn===void 0?void 0:gn.focus()},100))}},on[1])})),r.a.createElement(N.a,{span:1},r.a.createElement(o.a,{className:"close-button",onClick:Dt}))),r.a.createElement("div",{style:{display:Be?void 0:"none"}},r.a.createElement("form",{onSubmit:Xe},r.a.createElement(gt.a,{onBlur:function(Ft){return bn(Ft.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",style:{marginTop:16},ref:On,onKeyDown:function(Ft){if(Ft.key==="Enter"&&Ft.metaKey){var nn;(nn=On.current)===null||nn===void 0||nn.blur(),Xe()}}}),r.a.createElement("div",{className:"text-right"},r.a.createElement(Kt.a,{className:"feedback-button","data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback"))))),r.a.createElement(n,null)))},S=e("./node_modules/core-js/modules/es.regexp.to-string.js"),P=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss"),D=e.n(P),U={};U.insert="head",U.singleton=!1;var k=en()(D.a,U),B=D.a.locals||{},ue=e("./frontend/src/lib/components/InsightLabel/index.tsx"),ie=e("./frontend/src/lib/colors.ts"),ge=e("./frontend/src/lib/components/PHCheckbox.tsx");function Oe(){var R=Object(j.useValues)(pe.b),A=R.filters,F=R.activeView,_=Object(j.useActions)(pe.b),ee=_.toggleInsightLegend,Z=Object(j.useValues)(fe.a),le=Z.featureFlags;return(F===M.s.TRENDS||F===M.s.STICKINESS)&&le[se.n.INSIGHT_LEGENDS]?r.a.createElement(Kt.a,{className:"insight-legend-button",onClick:ee},r.a.createElement(ia.IconLegend,null),r.a.createElement("span",{className:"insight-legend-button-title"},A.show_legend?"Hide":"Show"," legend")):null}function Ae(){var R=Object(j.useValues)(pe.b),A=R.insightProps,F=R.filters,_=Object(Un.a)(A),ee=Object(j.useValues)(_),Z=ee.indexedResults,le=ee.hiddenLegendKeys,Se=Object(j.useActions)(_),Be=Se.toggleVisibility,Ue=Object(ie.c)("white",Z.length,!!F.compare);return r.a.createElement("div",{className:"insight-legend-menu"},r.a.createElement("div",{className:"insight-legend-menu-scroll"},Z&&Z.map(function(xe){var me,qe;return r.a.createElement(He.a,{key:xe.id,className:"insight-legend-menu-item",wrap:!1},r.a.createElement("div",{className:"insight-legend-menu-item-inner",onClick:function(){return Be(xe.id)}},r.a.createElement(N.a,null,r.a.createElement(ge.a,{color:Ue[xe.id],checked:!le[xe.id],onChange:function(){}})),r.a.createElement(N.a,null,r.a.createElement(ue.b,{key:xe.id,seriesColor:Ue[xe.id],action:xe.action,fallbackName:xe.breakdown_value===""?"None":xe.label,hasMultipleSeries:Z.length>1,breakdownValue:xe.breakdown_value===""?"None":(me=xe.breakdown_value)===null||me===void 0?void 0:me.toString(),compareValue:F.compare?Object(Kn.d)(xe):void 0,pillMidEllipsis:(xe==null||(qe=xe.filter)===null||qe===void 0?void 0:qe.breakdown)==="$current_url",hideIcon:!0}))))})))}var ye,q=(ye={},u()(ye,"".concat(M.s.TRENDS),r.a.createElement(O,{view:M.s.TRENDS})),u()(ye,"".concat(M.s.STICKINESS),r.a.createElement(O,{view:M.s.STICKINESS})),u()(ye,"".concat(M.s.LIFECYCLE),r.a.createElement(O,{view:M.s.LIFECYCLE})),u()(ye,"".concat(M.s.FUNNELS),r.a.createElement(I,null)),u()(ye,"".concat(M.s.RETENTION),r.a.createElement(Y.a,null)),u()(ye,"".concat(M.s.PATHS),r.a.createElement(de.a,null)),ye);function $(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1},A=R.disableHeader,F=R.disableTable,_=Object(j.useValues)(fe.a),ee=_.featureFlags,Z=Object(j.useValues)(E.a),le=Z.insightMode,Se=Object(j.useValues)(pe.b),Be=Se.insightProps,Ue=Se.canEditInsight,xe=Se.insightLoading,me=Se.activeView,qe=Se.loadedView,Xe=Se.filters,dt=Se.showTimeoutMessage,Dt=Se.showErrorMessage,ft=Object(j.useValues)(Object(Je.a)(Be)),bn=ft.areFiltersValid,En=ft.isValidFunnel,cn=ft.areExclusionFiltersValid,On=ft.correlationAnalysisAvailable,on=function(){if(me!==qe||xe&&!dt)return r.a.createElement(r.a.Fragment,null,Xe.display!==se.f&&r.a.createElement("div",{className:"trends-insights-container"}),r.a.createElement(it.b,null));if(qe===M.s.FUNNELS){if(!bn)return r.a.createElement(V.b,{actionable:le===M.t.Edit||F});if(!cn)return r.a.createElement(V.a,null);if(!En&&!xe)return r.a.createElement(V.c,null)}return Dt?r.a.createElement(V.d,null):dt?r.a.createElement(V.e,{isLoading:xe}):null}();function Ft(){return me===M.s.FUNNELS&&!Dt&&!dt&&bn&&Xe.funnel_viz_type===M.o.Steps&&(Xe==null?void 0:Xe.layout)===se.p.horizontal&&!F?r.a.createElement(re.a,null):(!Xe.display||(Xe==null?void 0:Xe.display)!==se.f&&(Xe==null?void 0:Xe.display)!==se.b)&&me===M.s.TRENDS&&!F?r.a.createElement(j.BindLogic,{logic:Un.a,props:Be},r.a.createElement(Kn.b,{isLegend:!0,showTotalCount:!0,filterKey:me===M.s.TRENDS?"trends_".concat(me):"",canEditSeriesNameInline:me===M.s.TRENDS&&le===M.t.Edit,canCheckUncheckSeries:!Ue})):null}return r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,{title:A?null:r.a.createElement(Ge,{activeView:me,insightMode:le,filters:Xe,disableTable:!!F,disabled:!Ue}),"data-attr":"insights-graph",className:"insights-graph-container"},r.a.createElement("div",null,r.a.createElement(He.a,{className:Object(fn.a)("insights-graph-header",{funnels:me===M.s.FUNNELS}),align:"middle",justify:"space-between"},r.a.createElement(N.a,null,r.a.createElement(Zn,null)),r.a.createElement(N.a,null,me===M.s.FUNNELS?r.a.createElement(ca,null):null,me===M.s.PATHS?r.a.createElement(G,null):null,r.a.createElement(Oe,null))),on||(ee[se.n.INSIGHT_LEGENDS]&&(me===M.s.TRENDS||me===M.s.STICKINESS)&&Xe.show_legend?r.a.createElement(He.a,{className:"insights-graph-container-row",wrap:!1},r.a.createElement(N.a,{className:"insights-graph-container-row-left"},q[me]),r.a.createElement(N.a,{className:"insights-graph-container-row-right"},r.a.createElement(Ae,null))):q[me]))),Ft(),!F&&On&&me===M.s.FUNNELS&&r.a.createElement(b,null))}try{$.displayName="InsightContainer",$.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:$.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(R){}},"./frontend/src/scenes/insights/InsightDateFilter/insightDateFilterLogic.ts":function(be,z,e){"use strict";e.d(z,"a",function(){return ut});var ae=e("./node_modules/core-js/modules/es.array.iterator.js"),u=e.n(ae),De=e("./node_modules/core-js/modules/es.object.to-string.js"),He=e.n(De),N=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),$e=e.n(N),X=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),oe=e.n(X),r=e("./node_modules/kea/lib/index.esm.js"),j=e("./frontend/src/scenes/insights/insightLogic.ts"),st=e("./frontend/src/scenes/insights/sharedUtils.ts");function Q(Ze,he){var ce=Object.keys(Ze);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(Ze);he&&(x=x.filter(function(K){return Object.getOwnPropertyDescriptor(Ze,K).enumerable})),ce.push.apply(ce,x)}return ce}function Ce(Ze){for(var he=1;he<arguments.length;he++){var ce=arguments[he]!=null?arguments[he]:{};he%2?Q(Object(ce),!0).forEach(function(x){oe()(Ze,x,ce[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(ce)):Q(Object(ce)).forEach(function(x){Object.defineProperty(Ze,x,Object.getOwnPropertyDescriptor(ce,x))})}return Ze}var ut=Object(r.kea)({props:{},key:Object(st.c)("new"),path:function(he){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",he]},connect:function(he){return{actions:[Object(j.b)(he),["setFilters"]],values:[Object(j.b)(he),["filters"]]}},actions:function(){return{setDates:function(ce,x){return{dateFrom:ce,dateTo:x}}}},selectors:{dates:[function(Ze){return[Ze.filters]},function(Ze){return{dateFrom:(Ze==null?void 0:Ze.date_from)||null,dateTo:(Ze==null?void 0:Ze.date_to)||null}}]},listeners:function(he){var ce=he.actions,x=he.values;return{setDates:function(Ke){var ve=Ke.dateFrom,we=Ke.dateTo;ce.setFilters(Ce(Ce({},x.filters),{},{date_from:ve||null,date_to:we||null}))}}}})},"./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return w});var ae=e("./node_modules/react/index.js"),u=e.n(ae),De=e("./frontend/src/lib/components/Drawer.tsx"),He=e("./node_modules/core-js/modules/es.object.to-string.js"),N=e("./node_modules/core-js/modules/es.regexp.to-string.js"),$e=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),X=e.n($e),oe=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss"),r=e.n(oe),j={};j.insert="head",j.singleton=!1;var st=X()(r.a,j),Q=r.a.locals||{},Ce=e("./node_modules/kea/lib/index.esm.js"),ut=e("./node_modules/core-js/modules/es.array.index-of.js"),Ze=e("./node_modules/core-js/modules/es.array.iterator.js"),he=e("./node_modules/core-js/modules/es.array.slice.js"),ce=e("./node_modules/core-js/modules/web.dom-collections.iterator.js"),x=e("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),K=e.n(x),Ke=e("./node_modules/@babel/runtime/regenerator/index.js"),ve=e.n(Ke),we=e("./node_modules/regenerator-runtime/runtime.js"),Ne=e("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),te=e.n(Ne),Ye=e("./node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/index.js"),Ee=e("./frontend/src/lib/utils/eventUsageLogic.ts"),Pe=e("./frontend/src/types.ts"),mt=e("./frontend/src/lib/utils/responsiveUtils.tsx"),Te=e("./node_modules/core-js/modules/es.array.concat.js"),et=e("./node_modules/core-js/modules/es.array.for-each.js"),M=e("./node_modules/core-js/modules/es.array.includes.js"),it=e("./node_modules/core-js/modules/es.array.join.js"),pe=e("./node_modules/core-js/modules/es.array.map.js"),Gt=e("./node_modules/core-js/modules/es.object.entries.js"),s=e("./node_modules/core-js/modules/es.object.values.js"),rn=e("./node_modules/core-js/modules/es.regexp.exec.js"),It=e("./node_modules/core-js/modules/es.string.ends-with.js"),Ht=e("./node_modules/core-js/modules/es.string.includes.js"),L=e("./node_modules/core-js/modules/es.string.iterator.js"),Xt=e("./node_modules/core-js/modules/es.string.replace.js"),rt=e("./node_modules/core-js/modules/es.string.search.js"),sn=e("./node_modules/core-js/modules/es.string.split.js"),Ut=e("./node_modules/core-js/modules/es.string.starts-with.js"),xt=e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),qt=e("./node_modules/core-js/modules/web.url.js"),Ct=e("./node_modules/@babel/runtime/helpers/defineProperty.js"),ht=e.n(Ct),Wt=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Me=e.n(Wt),Qe=e("./node_modules/fuse.js/dist/fuse.esm.js"),Fe=e("./frontend/src/lib/api.ts"),se=e("./frontend/src/lib/utils.tsx"),Zt=e("./frontend/src/scenes/teamLogic.ts"),Rt=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),tt=e("./frontend/src/lib/dayjs.ts"),ot=e("./node_modules/core-js/modules/es.array.from.js"),St=e("./node_modules/core-js/modules/es.function.name.js");function pt(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=We(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var o=0,m=function(){};return{s:m,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(D){throw D},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,b=!1,S;return{s:function(){t=a[Symbol.iterator]()},n:function(){var D=t.next();return h=D.done,D},e:function(D){b=!0,S=D},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(b)throw S}}}}function We(a,n){if(!!a){if(typeof a=="string")return At(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return At(a,n)}}function At(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=a[t];return o}var Lt=15,yt=Lt/2;function Ie(a){return"touches"in a}function nt(a){return"clientX"in a}var bt=function(n){if(Ie(n)){var t,o,m,h,b;return(t=n==null||(o=n.touches)===null||o===void 0||(m=o[0])===null||m===void 0?void 0:m.pageX)!==null&&t!==void 0?t:n==null||(h=n.changedTouches)===null||h===void 0||(b=h[0])===null||b===void 0?void 0:b.pageX}return nt(n)?n==null?void 0:n.clientX:0};function Vt(a,n,t){if(a.windowId===n.windowId)return a.time-n.time;var o=pt(t),m;try{for(o.s();!(m=o.n()).done;){var h=m.value;if(a.windowId===h.windowId&&a.time>=h.startPlayerPosition.time&&a.time<=h.endPlayerPosition.time)return-1;if(n.windowId===h.windowId&&n.time>=h.startPlayerPosition.time&&n.time<=h.endPlayerPosition.time)return 1}}catch(b){o.e(b)}finally{o.f()}throw"Could not find player positions in segments"}function Je(a,n){var t=pt(n),o;try{for(t.s();!(o=t.n()).done;){var m=o.value;if(a.windowId===m.windowId&&a.time>=m.startPlayerPosition.time&&a.time<=m.endPlayerPosition.time)return m}}catch(h){t.e(h)}finally{t.f()}return null}function _t(a,n){var t=0,o=pt(n),m;try{for(o.s();!(m=o.n()).done;){var h=m.value;if(a.windowId===h.windowId&&a.time>=h.startPlayerPosition.time&&a.time<=h.endPlayerPosition.time)return t+a.time-h.startPlayerPosition.time;t+=h.durationMs}}catch(b){o.e(b)}finally{o.f()}return null}function lt(a,n){var t=0,o=pt(n),m;try{for(o.s();!(m=o.n()).done;){var h=m.value;if(t+h.durationMs>a)return{windowId:h.windowId,time:a-t+h.startPlayerPosition.time};t+=h.durationMs}}catch(b){o.e(b)}finally{o.f()}return a===t&&n.length>0?n.slice(-1)[0].endPlayerPosition:null}function jt(a,n,t){if(t&&n in t){var o=t[n].startTimeEpochMs,m=t[n].endTimeEpochMs;return o>a||m<a?null:{windowId:n,time:a-o}}return null}function Nt(a,n){if(a.windowId in n){var t=n[a.windowId].startTimeEpochMs;return t+a.time}return null}var Ve=function(n,t,o,m){var h=n/t*m;return lt(h,o)},J=function(n,t,o,m){var h=_t(n,o);return(h!=null?h:0)/m*t},Et=e("./frontend/src/lib/components/lemonToast.tsx"),Pt=e("./node_modules/fast-deep-equal/index.js"),hn=e.n(Pt);function fn(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);n&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),t.push.apply(t,o)}return t}function Mt(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?fn(Object(t),!0).forEach(function(o){ht()(a,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(t,o))})}return a}function _n(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=Rn(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var o=0,m=function(){};return{s:m,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(D){throw D},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,b=!1,S;return{s:function(){t=a[Symbol.iterator]()},n:function(){var D=t.next();return h=D.done,D},e:function(D){b=!0,S=D},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(b)throw S}}}}function Rn(a,n){if(!!a){if(typeof a=="string")return W(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(a,n)}}function W(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=a[t];return o}var ne=!1,Re="rrweb/console@1",Le=function(n){var t=n.segments.map(function(m){var h=+Object(tt.a)(n.start_and_end_times_by_window_id[m.window_id].start_time),b=+Object(tt.a)(m==null?void 0:m.start_time),S=+Object(tt.a)(m==null?void 0:m.end_time),P={windowId:m.window_id,time:b-h},D={windowId:m.window_id,time:S-h},U=S-b;return{startPlayerPosition:P,endPlayerPosition:D,durationMs:U,startTimeEpochMs:b,endTimeEpochMs:S,windowId:m.window_id,isActive:m.is_active}}),o={};return Object.entries(n.start_and_end_times_by_window_id).forEach(function(m){var h=Me()(m,2),b=h[0],S=h[1];o[b]={startTimeEpochMs:+Object(tt.a)(S.start_time),endTimeEpochMs:+Object(tt.a)(S.end_time)}}),{segments:t,startAndEndTimesByWindowId:o,recordingDurationMs:Object(se.zb)(t.map(function(m){return m.durationMs}))}},$t=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=null;if(n&&t&&o){var h=_n(n),b;try{for(h.s();!(b=h.n()).done;){var S,P=b.value,D=((S=t[P.windowId])!==null&&S!==void 0?S:[]).slice(-1).pop();if(D&&D.timestamp>=P.startTimeEpochMs){var U=o[P.windowId].startTimeEpochMs;m={windowId:P.windowId,time:Math.min(D.timestamp-U,P.endPlayerPosition.time)}}else return m}}catch(k){h.e(k)}finally{h.f()}}return m},_e=function(n){return n.map(function(t){var o,m,h;return Mt(Mt({},t),{},{queryValue:"".concat((o=(m=(h=Object(Rt.d)(t.event,"event"))===null||h===void 0?void 0:h.label)!==null&&m!==void 0?m:t.event)!==null&&o!==void 0?o:""," ").concat(Object(se.B)(t)).replace(/['"]+/g,"")})})},ke=Object(Ce.kea)({path:["scenes","session-recordings","sessionRecordingLogic"],connect:{logic:[Ee.f],values:[Zt.a,["currentTeamId"]]},actions:{setFilters:function(n){return{filters:n}},setSource:function(n){return{source:n}},reportUsage:function(n,t){return{recordingData:n,loadTime:t}},loadRecordingMeta:function(n){return{sessionRecordingId:n}},loadRecordingSnapshots:function(n,t){return{sessionRecordingId:n,url:t}},loadEvents:function(n){return{url:n}}},reducers:{filters:[{},{setFilters:function(n,t){var o=t.filters;return Mt(Mt({},n),o)}}],sessionRecordingId:[null,{loadRecording:function(n,t){var o=t.sessionRecordingId;return o!=null?o:null}}],chunkPaginationIndex:[0,{loadRecordingSnapshotsSuccess:function(n){return n+1}}],sessionEventsDataLoading:[!1,{loadEventsSuccess:function(n,t){var o=t.sessionEventsData;return!!(o!=null&&o.next)}}],source:[Ee.d.Unknown,{setSource:function(n,t){var o=t.source;return o}}]},listeners:function(n){var t=n.values,o=n.actions,m=n.sharedListeners,h=n.cache;return{loadRecordingMetaSuccess:function(){h.eventsStartTime=performance.now(),o.loadEvents()},loadRecordingSnapshotsSuccess:function(){var S;!((S=t.sessionPlayerData)===null||S===void 0)&&S.next?o.loadRecordingSnapshots(void 0,t.sessionPlayerData.next):Ee.f.actions.reportRecording(t.sessionPlayerData,t.source,performance.now()-h.startTime,Pe.D.LOADED,0),t.chunkPaginationIndex===1&&o.reportUsage(t.sessionPlayerData,performance.now()-h.startTime)},loadEventsSuccess:function(){var S;if(!((S=t.sessionEventsData)===null||S===void 0)&&S.next)o.loadEvents(t.sessionEventsData.next);else{var P,D,U;Ee.f.actions.reportRecordingEventsFetched((P=(D=t.sessionEventsData)===null||D===void 0||(U=D.events)===null||U===void 0?void 0:U.length)!==null&&P!==void 0?P:0,performance.now()-h.eventsStartTime),h.eventsStartTime=null}},loadRecordingMetaFailure:m.showErrorToast,loadRecordingSnapshotsFailure:m.showErrorToast,loadEventsFailure:m.showErrorToast,reportUsage:function(){var b=te()(ve.a.mark(function P(D,U){var k,B;return ve.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return k=D.recordingData,B=D.loadTime,ie.next=3,U();case 3:return Ee.f.actions.reportRecording(k,t.source,B,Pe.D.VIEWED,0),ie.next=6,U(ne?1:1e4);case 6:Ee.f.actions.reportRecording(k,t.source,B,Pe.D.ANALYZED,10);case 7:case"end":return ie.stop()}},P)}));function S(P,D){return b.apply(this,arguments)}return S}()}},sharedListeners:function(){return{showErrorToast:function(t){var o=t.error;Et.a.error(o)}}},loaders:function(n){var t=n.values;return{sessionPlayerData:{loadRecordingMeta:function(){var o=te()(ve.a.mark(function h(b,S){var P,D,U,k,B,ue,ie,ge,Oe,Ae,ye;return ve.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return ue=b.sessionRecordingId,ie=Object(se.Ab)({save_view:!0}),$.next=4,Fe.a.get("api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(ue,"?").concat(ie));case 4:return ge=$.sent,Oe=(P=ge.result)===null||P===void 0?void 0:P.session_recording,Ae=Le(Oe),ye=$t(Ae.segments,(D=t.sessionPlayerData)===null||D===void 0?void 0:D.snapshotsByWindowId,Ae.startAndEndTimesByWindowId),S(),$.abrupt("return",Mt(Mt({},t.sessionPlayerData),{},{person:(U=ge.result)===null||U===void 0?void 0:U.person,metadata:Ae,bufferedTo:ye,snapshotsByWindowId:(k=Mt({},(B=t.sessionPlayerData)===null||B===void 0?void 0:B.snapshotsByWindowId))!==null&&k!==void 0?k:{}}));case 10:case"end":return $.stop()}},h)}));function m(h,b){return o.apply(this,arguments)}return m}(),loadRecordingSnapshots:function(){var o=te()(ve.a.mark(function h(b,S){var P,D,U,k,B,ue,ie,ge,Oe,Ae,ye,q,$,R,A;return ve.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return Oe=b.sessionRecordingId,Ae=b.url,ye=Ae||"api/projects/".concat(t.currentTeamId,"/session_recordings/").concat(Oe,"/snapshots"),_.next=4,Fe.a.get(ye);case 4:return q=_.sent,S(),$=Mt({},(P=(D=t.sessionPlayerData)===null||D===void 0?void 0:D.snapshotsByWindowId)!==null&&P!==void 0?P:{}),R=(U=q.result)===null||U===void 0?void 0:U.snapshot_data_by_window_id,Object.entries(R).forEach(function(ee){var Z,le=Me()(ee,2),Se=le[0],Be=le[1];$[Se]=[].concat(K()((Z=$[Se])!==null&&Z!==void 0?Z:[]),K()(Be))}),A=$t((k=t.sessionPlayerData)===null||k===void 0||(B=k.metadata)===null||B===void 0?void 0:B.segments,$,(ue=t.sessionPlayerData)===null||ue===void 0||(ie=ue.metadata)===null||ie===void 0?void 0:ie.startAndEndTimesByWindowId),_.abrupt("return",Mt(Mt({},t.sessionPlayerData),{},{bufferedTo:A,snapshotsByWindowId:$,next:(ge=q.result)===null||ge===void 0?void 0:ge.next}));case 11:case"end":return _.stop()}},h)}));function m(h,b){return o.apply(this,arguments)}return m}()},sessionEventsData:{loadEvents:function(){var o=te()(ve.a.mark(function h(b,S){var P,D,U,k,B,ue,ie,ge,Oe;return ve.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(k=b.url,t.eventsApiParams){ye.next=3;break}return ye.abrupt("return",t.sessionEventsData);case 3:return B=k||"api/projects/".concat(t.currentTeamId,"/events?").concat(Object(se.Ab)(t.eventsApiParams)),ye.next=6,Fe.a.get(B);case 6:return ue=ye.sent,S(),ie=[],ge=[],Oe=(P=ue.results)!==null&&P!==void 0?P:[],Oe.forEach(function(q){var $,R,A,F,_=jt(+Object(tt.a)(q.timestamp)-1e3,($=(R=q.properties)===null||R===void 0?void 0:R.$window_id)!==null&&$!==void 0?$:"",(A=t.sessionPlayerData)===null||A===void 0||(F=A.metadata)===null||F===void 0?void 0:F.startAndEndTimesByWindowId);if(_===null){var ee,Z,le,Se;_=jt(+Object(tt.a)(q.timestamp),(ee=(Z=q.properties)===null||Z===void 0?void 0:Z.$window_id)!==null&&ee!==void 0?ee:"",(le=t.sessionPlayerData)===null||le===void 0||(Se=le.metadata)===null||Se===void 0?void 0:Se.startAndEndTimesByWindowId)}if(_!==null){var Be=_t(_,t.sessionPlayerData.metadata.segments);Be!==null&&ge.push(Mt(Mt({},q),{},{playerTime:Be,playerPosition:_,percentageOfRecordingDuration:100*Be/t.sessionPlayerData.metadata.recordingDurationMs}))}}),ie=[].concat(K()((D=(U=t.sessionEventsData)===null||U===void 0?void 0:U.events)!==null&&D!==void 0?D:[]),ge).sort(function(q,$){return q.playerTime-$.playerTime}),ye.abrupt("return",Mt(Mt({},t.sessionEventsData),{},{next:ue==null?void 0:ue.next,events:ie}));case 14:case"end":return ye.stop()}},h)}));function m(h,b){return o.apply(this,arguments)}return m}()}}},selectors:{eventsToShow:[function(a){return[a.filters,a.sessionEventsData]},function(a,n){var t,o=(t=n==null?void 0:n.events)!==null&&t!==void 0?t:[];return a!=null&&a.query?new Qe.a(_e(o),{threshold:.3,keys:["queryValue"],findAllMatches:!0,ignoreLocation:!0,sortFn:function(h,b){return o[h.idx].timestamp-o[b.idx].timestamp||h.score-b.score}}).search(a.query).map(function(m){return m.item}):o}],eventsApiParams:[function(a){return[a.sessionPlayerData]},function(a){var n,t,o,m=(n=a.metadata.segments.slice(0,1).pop())===null||n===void 0?void 0:n.startTimeEpochMs,h=(t=a.metadata.segments.slice(-1).pop())===null||t===void 0?void 0:t.endTimeEpochMs;if(!(!(a==null||(o=a.person)===null||o===void 0)&&o.id)||!m||!h)return null;var b=6e4;return{person_id:a.person.id,after:tt.a.utc(m).subtract(b,"ms").format(),before:tt.a.utc(h).add(b,"ms").format(),orderBy:["timestamp"]}}],orderedConsoleLogs:[function(a){return[a.sessionPlayerData]},function(a){var n,t,o=[];return a==null||(n=a.metadata)===null||n===void 0||(t=n.segments)===null||t===void 0||t.forEach(function(m){var h;a==null||(h=a.snapshotsByWindowId[m.windowId])===null||h===void 0||h.forEach(function(b){if(b.type===6&&b.data.plugin===Re&&b.timestamp>=m.startTimeEpochMs&&b.timestamp<=m.endTimeEpochMs){var S,P,D=b.data.payload,U=D.level,k=D.payload,B=D.trace,ue=k==null||(S=k.map)===null||S===void 0?void 0:S.call(k,function($){return $.startsWith('"')&&$.endsWith('"')?$.slice(1,-1):$}).join(" "),ie,ge;if(B&&B.length>0){var Oe=B[0].split("(").slice(-1)[0].replace(")",""),Ae=Oe.split(":"),ye=Ae.slice(-2).join(":");if(ge=Ae.slice(0,-2).join(":"),Ae.length>=4)try{var q=new URL(ge).pathname.split("/").slice(-1)[0];ie="".concat(q,":").concat(ye)}catch($){ie=":".concat(ye)}else ie=":".concat(ye)}o.push({playerPosition:jt(b.timestamp,m.windowId,a==null||(P=a.metadata)===null||P===void 0?void 0:P.startAndEndTimesByWindowId),parsedTraceURL:ge,parsedTraceString:ie,parsedPayload:ue,level:U})}})}),o}],areAllSnapshotsLoaded:[function(a){return[a.sessionPlayerData]},function(a){var n,t;return(a==null?void 0:a.bufferedTo)&&(a==null||(n=a.metadata)===null||n===void 0?void 0:n.segments.slice(-1)[0])&&hn()(a==null||(t=a.metadata)===null||t===void 0?void 0:t.segments.slice(-1)[0].endPlayerPosition,a==null?void 0:a.bufferedTo)}]},urlToAction:function(n){var t=n.actions,o=n.values,m=n.cache,h=function(S,P,D){var U=P.source,k=D.sessionRecordingId;U&&Object.values(Ee.d).includes(U)&&t.setSource(U),o&&k&&k!==o.sessionRecordingId&&(m.startTime=performance.now(),t.loadRecordingMeta(k),t.loadRecordingSnapshots(k))};return{"/recordings":h,"/person/*":h,"/insights/*":h}}});function dn(a,n){var t;if(typeof Symbol=="undefined"||a[Symbol.iterator]==null){if(Array.isArray(a)||(t=Mn(a))||n&&a&&typeof a.length=="number"){t&&(a=t);var o=0,m=function(){};return{s:m,n:function(){return o>=a.length?{done:!0}:{done:!1,value:a[o++]}},e:function(D){throw D},f:m}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h=!0,b=!1,S;return{s:function(){t=a[Symbol.iterator]()},n:function(){var D=t.next();return h=D.done,D},e:function(D){b=!0,S=D},f:function(){try{!h&&t.return!=null&&t.return()}finally{if(b)throw S}}}}function Mn(a,n){if(!!a){if(typeof a=="string")return vn(a,n);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vn(a,n)}}function vn(a,n){(n==null||n>a.length)&&(n=a.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=a[t];return o}var un=[.5,1,2,4,8,16],vt=Object(Ce.kea)({path:["scenes","session-recordings","player","sessionRecordingPlayerLogic"],connect:{logic:[Ee.f],values:[ke,["sessionRecordingId","sessionPlayerData"]],actions:[ke,["loadRecordingSnapshotsSuccess","loadRecordingMetaSuccess"]]},actions:{tryInitReplayer:function(){return!0},setPlayer:function(n){return{player:n}},setPlay:!0,setPause:!0,startBuffer:!0,endBuffer:!0,startScrub:!0,endScrub:!0,setSkipInactivitySetting:function(n){return{skipInactivitySetting:n}},setSkippingInactivity:function(n){return{isSkippingInactivity:n}},syncPlayerSpeed:!0,setCurrentPlayerPosition:function(n){return{playerPosition:n}},setSpeed:function(n){return{speed:n}},setScale:function(n){return{scale:n}},togglePlayPause:!0,seek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{playerPosition:n,forcePlay:t}},seekForward:!0,seekBackward:!0,resolvePlayerState:!0,updateAnimation:!0,stopAnimation:!0,setCurrentSegment:function(n){return{segment:n}},setRootFrame:function(n){return{frame:n}},checkBufferingCompleted:!0,initializePlayerFromStart:!0},reducers:function(){return{rootFrame:[null,{setRootFrame:function(t,o){var m=o.frame;return m}}],player:[null,{setPlayer:function(t,o){var m=o.player;return m}}],currentPlayerPosition:[null,{setCurrentPlayerPosition:function(t,o){var m=o.playerPosition;return m}}],currentSegment:[null,{setCurrentSegment:function(t,o){var m=o.segment;return m}}],speed:[1,{persist:!0},{setSpeed:function(t,o){var m=o.speed;return m}}],skipInactivitySetting:[!0,{persist:!0},{setSkipInactivitySetting:function(t,o){var m=o.skipInactivitySetting;return m}}],isSkippingInactivity:[!1,{setSkippingInactivity:function(t,o){var m=o.isSkippingInactivity;return m}}],scale:[1,{setScale:function(t,o){var m=o.scale;return m}}],playingState:[Pe.C.PLAY,{setPlay:function(){return Pe.C.PLAY},setPause:function(){return Pe.C.PAUSE}}],isBuffering:[!0,{startBuffer:function(){return!0},endBuffer:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]}},selectors:{currentPlayerState:[function(a){return[a.playingState,a.isBuffering,a.isScrubbing,a.isSkippingInactivity]},function(a,n,t,o){return t?a:n?Pe.C.BUFFER:o&&a!==Pe.C.PAUSE?Pe.C.SKIP:a}],currentPlayerTime:[function(a){return[a.currentPlayerPosition,a.sessionPlayerData]},function(a,n){var t;if((n==null||(t=n.metadata)===null||t===void 0?void 0:t.segments)&&a){var o;return _t(a,n==null||(o=n.metadata)===null||o===void 0?void 0:o.segments)}return 0}],jumpTimeMs:[function(a){return[a.speed]},function(a){return 10*1e3*a}]},listeners:function(n){var t=n.values,o=n.actions,m=n.cache;return{setRootFrame:function(){o.tryInitReplayer()},tryInitReplayer:function(){var b,S,P=(b=(S=t.currentPlayerPosition)===null||S===void 0?void 0:S.windowId)!==null&&b!==void 0?b:null;if(o.setPlayer(null),t.rootFrame&&(t.rootFrame.innerHTML=""),!t.rootFrame||P===null||!t.sessionPlayerData.snapshotsByWindowId[P]||t.sessionPlayerData.snapshotsByWindowId[P].length<2){o.setPlayer(null);return}var D=new Ye.a(t.sessionPlayerData.snapshotsByWindowId[P],{root:t.rootFrame,triggerFocus:!1,insertStyleRules:['.ph-no-capture {   background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="); }']});o.setPlayer({replayer:D,windowId:P})},setPlayer:function(b){var S=b.player;S&&(o.seek(t.currentPlayerPosition),o.syncPlayerSpeed())},setCurrentSegment:function(b){var S=b.segment;if(!S.isActive&&t.skipInactivitySetting?o.setSkippingInactivity(!0):o.setSkippingInactivity(!1),t.player&&t.player.windowId!==S.windowId){var P,D;(P=t.player)===null||P===void 0||(D=P.replayer)===null||D===void 0||D.pause(),o.tryInitReplayer()}o.seek(t.currentPlayerPosition)},setSkipInactivitySetting:function(b){var S,P=b.skipInactivitySetting;Ee.f.actions.reportRecordingPlayerSkipInactivityToggled(P),!(!((S=t.currentSegment)===null||S===void 0)&&S.isActive)&&P?o.setSkippingInactivity(!0):o.setSkippingInactivity(!1)},setSkippingInactivity:function(){o.syncPlayerSpeed()},syncPlayerSpeed:function(){if(t.isSkippingInactivity){var b,S,P,D,U,k,B,ue=(((b=(S=t.currentSegment)===null||S===void 0||(P=S.endPlayerPosition)===null||P===void 0?void 0:P.time)!==null&&b!==void 0?b:0)-((D=(U=t.currentPlayerPosition)===null||U===void 0?void 0:U.time)!==null&&D!==void 0?D:0))/1e3,ie=Math.max(50,ue);(k=t.player)===null||k===void 0||(B=k.replayer)===null||B===void 0||B.setConfig({speed:ie})}else{var ge,Oe;(ge=t.player)===null||ge===void 0||(Oe=ge.replayer)===null||Oe===void 0||Oe.setConfig({speed:t.speed})}},checkBufferingCompleted:function(){t.currentPlayerPosition&&t.sessionPlayerData.bufferedTo&&t.currentPlayerState===Pe.C.BUFFER&&Vt(t.currentPlayerPosition,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)<0&&(o.endBuffer(),o.seek(t.currentPlayerPosition))},initializePlayerFromStart:function(){var b,S,P=(b=t.sessionPlayerData)===null||b===void 0||(S=b.metadata)===null||S===void 0?void 0:S.segments[0];P&&(o.setCurrentSegment(P),o.setCurrentPlayerPosition(P.startPlayerPosition),t.player||o.tryInitReplayer())},loadRecordingMetaSuccess:function(){var h=te()(ve.a.mark(function S(P,D){return ve.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:o.initializePlayerFromStart(),o.checkBufferingCompleted(),D();case 3:case"end":return k.stop()}},S)}));function b(S,P){return h.apply(this,arguments)}return b}(),loadRecordingSnapshotsSuccess:function(){var h=te()(ve.a.mark(function S(P,D){var U,k,B,ue,ie,ge,Oe,Ae,ye,q,$,R,A,F;return ve.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(ge=(U=(k=t.player)===null||k===void 0||(B=k.replayer)===null||B===void 0?void 0:B.service.state.context.events)!==null&&U!==void 0?U:[],Oe=[],((ue=t.currentSegment)===null||ue===void 0?void 0:ue.windowId)!==void 0&&Oe.push.apply(Oe,K()(((Ae=t.sessionPlayerData.snapshotsByWindowId[(ye=t.currentSegment)===null||ye===void 0?void 0:ye.windowId])!==null&&Ae!==void 0?Ae:[]).slice(ge.length))),!(!((ie=t.player)===null||ie===void 0)&&ie.replayer)){ee.next=23;break}q=dn(Oe),ee.prev=5,q.s();case 7:if(($=q.n()).done){ee.next=13;break}return F=$.value,ee.next=11,(R=t.player)===null||R===void 0||(A=R.replayer)===null||A===void 0?void 0:A.addEvent(F);case 11:ee.next=7;break;case 13:ee.next=18;break;case 15:ee.prev=15,ee.t0=ee.catch(5),q.e(ee.t0);case 18:return ee.prev=18,q.f(),ee.finish(18);case 21:ee.next=24;break;case 23:o.initializePlayerFromStart();case 24:o.checkBufferingCompleted(),D();case 26:case"end":return ee.stop()}},S,null,[[5,15,18,21]])}));function b(S,P){return h.apply(this,arguments)}return b}(),setPlay:function(){var b;o.stopAnimation(),o.syncPlayerSpeed();var S=t.currentPlayerPosition||((b=t.currentSegment)===null||b===void 0?void 0:b.startPlayerPosition);S&&o.seek(S,!0)},setPause:function(){var b,S;o.stopAnimation(),o.syncPlayerSpeed(),(b=t.player)===null||b===void 0||(S=b.replayer)===null||S===void 0||S.pause()},startBuffer:function(){o.stopAnimation()},startScrub:function(){o.stopAnimation()},setSpeed:function(b){var S=b.speed;Ee.f.actions.reportRecordingPlayerSpeedChanged(S),o.syncPlayerSpeed()},seek:function(){var h=te()(ve.a.mark(function S(P,D){var U,k,B,ue,ie,ge,Oe,Ae,ye,q,$,R,A;return ve.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:B=P.playerPosition,ue=P.forcePlay,o.stopAnimation(),o.setCurrentPlayerPosition(B),ie=null,B&&((U=t.sessionPlayerData)===null||U===void 0?void 0:U.metadata)&&(ie=Je(B,t.sessionPlayerData.metadata.segments),ie&&(ie.windowId!==((ge=t.currentSegment)===null||ge===void 0?void 0:ge.windowId)||ie.startTimeEpochMs!==((Oe=t.currentSegment)===null||Oe===void 0?void 0:Oe.startTimeEpochMs))&&o.setCurrentSegment(ie)),!(!((k=t.sessionPlayerData)===null||k===void 0)&&k.bufferedTo)||!B||!t.currentSegment||Vt(B,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0?((Ae=t.player)===null||Ae===void 0||(ye=Ae.replayer)===null||ye===void 0||ye.pause(),o.startBuffer()):!ue&&t.currentPlayerState===Pe.C.PAUSE?((q=t.player)===null||q===void 0||($=q.replayer)===null||$===void 0||$.pause(B.time),o.endBuffer()):((R=t.player)===null||R===void 0||(A=R.replayer)===null||A===void 0||A.play(B.time),o.updateAnimation(),o.endBuffer()),D();case 7:case"end":return _.stop()}},S)}));function b(S,P){return h.apply(this,arguments)}return b}(),seekForward:function(){if(t.currentPlayerPosition){var b=_t(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(b!==null){var S=b+t.jumpTimeMs,P=lt(S,t.sessionPlayerData.metadata.segments);P||(o.setPause(),P=t.sessionPlayerData.metadata.segments[0].startPlayerPosition),o.seek(P)}}},seekBackward:function(){if(t.currentPlayerPosition){var b=_t(t.currentPlayerPosition,t.sessionPlayerData.metadata.segments);if(b!==null){var S=Math.max(b-t.jumpTimeMs,0),P=lt(S,t.sessionPlayerData.metadata.segments);o.seek(P)}}},togglePlayPause:function(){t.currentPlayerState!==Pe.C.BUFFER&&(t.currentPlayerState===Pe.C.PAUSE?o.setPlay():o.setPause())},updateAnimation:function(){var b,S,P,D,U=(b=t.player)===null||b===void 0||(S=b.replayer)===null||S===void 0?void 0:S.getCurrentTime(),k=null;if(U!==void 0&&t.currentSegment&&(k={windowId:t.currentSegment.windowId,time:Math.min(U,t.currentSegment.endPlayerPosition.time)}),k&&((P=t.currentSegment)===null||P===void 0?void 0:P.endPlayerPosition)&&Vt(k,(D=t.currentSegment)===null||D===void 0?void 0:D.endPlayerPosition,t.sessionPlayerData.metadata.segments)>=0){var B=t.sessionPlayerData.metadata.segments.indexOf(t.currentSegment)+1;if(B<t.sessionPlayerData.metadata.segments.length){var ue=t.sessionPlayerData.metadata.segments[B];o.setCurrentPlayerPosition(ue.startPlayerPosition),o.setCurrentSegment(ue)}else o.setPause(),o.setCurrentPlayerPosition(t.sessionPlayerData.metadata.segments[0].startPlayerPosition)}else if(!t.sessionPlayerData.bufferedTo||!k||!t.currentSegment||Vt(k,t.sessionPlayerData.bufferedTo,t.sessionPlayerData.metadata.segments)>0){var ie,ge;(ie=t.player)===null||ie===void 0||(ge=ie.replayer)===null||ge===void 0||ge.pause(),o.startBuffer()}else o.setCurrentPlayerPosition(k),m.timer=requestAnimationFrame(o.updateAnimation)},stopAnimation:function(){m.timer&&cancelAnimationFrame(m.timer)}}},windowValues:{isSmallScreen:function(n){return n.innerWidth<Object(mt.b)("md")}},events:function(n){var t=n.values,o=n.actions;return{beforeUnmount:function(){var h,b;(h=t.player)===null||h===void 0||(b=h.replayer)===null||b===void 0||b.pause(),o.setPlayer(null)}}}}),Yt=e("./node_modules/@ant-design/icons/es/icons/UndoOutlined.js"),Qt=e("./node_modules/@ant-design/icons/es/icons/RedoOutlined.js");function mn(a){var n=a.children,t=a.onClick,o=t===void 0?function(){}:t,m=a.className,h=m===void 0?"":m;return u.a.createElement("div",{onClick:o,className:"rrweb-controller-icon ".concat(h)},n)}function pn(a){var n=a.onClick,t=a.time;return u.a.createElement(mn,{onClick:n,className:"rrweb-controller-icon-seek"},u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"seek-seconds"},t),u.a.createElement(Yt.a,{className:"seek-icon",rotate:90})))}function zt(a){var n=a.onClick,t=a.time;return u.a.createElement(mn,{onClick:n,className:"rrweb-controller-icon-seek"},u.a.createElement(u.a.Fragment,null,u.a.createElement("span",{className:"seek-seconds"},t),u.a.createElement(Qt.a,{className:"seek-icon",rotate:270})))}function Cn(a){var n=a.onClick,t=a.className,o=t===void 0?"":t;return u.a.createElement(mn,{onClick:n,className:o},u.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0 16L12.4444 8L0 0V16Z",fill:"currentcolor"})))}function Tt(a){var n=a.onClick,t=a.className,o=t===void 0?"":t;return u.a.createElement(mn,{onClick:n,className:o},u.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M0 16H4V0H0V16ZM8 16H12V0H8V16Z",fill:"currentcolor"})))}function Ge(a){var n=a.onClick,t=a.className,o=t===void 0?"":t;return u.a.createElement(mn,{onClick:n,className:o},u.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M9.06247 7.38754L10.4343 6.01567C10.4674 5.98246 10.4905 5.94064 10.5009 5.89498C10.5114 5.84931 10.5088 5.80163 10.4935 5.75735C10.4782 5.71307 10.4508 5.67397 10.4143 5.64451C10.3779 5.61504 10.334 5.59639 10.2875 5.59067L5.28122 5.00004C5.12184 4.98129 4.98434 5.11567 5.00309 5.27817L5.59372 10.2844C5.61872 10.4907 5.87184 10.5782 6.01872 10.4313L7.38434 9.06567L11.5625 13.2407C11.6593 13.3375 11.8187 13.3375 11.9156 13.2407L13.2406 11.9188C13.3375 11.8219 13.3375 11.6625 13.2406 11.5657L9.06247 7.38754ZM20.0843 13.2407C20.1812 13.3375 20.3406 13.3375 20.4375 13.2407L24.6156 9.06567L25.9812 10.4313C26.0144 10.4643 26.0562 10.4874 26.1019 10.4979C26.1476 10.5083 26.1953 10.5057 26.2395 10.4904C26.2838 10.4751 26.3229 10.4477 26.3524 10.4113C26.3818 10.3749 26.4005 10.3309 26.4062 10.2844L26.9968 5.28129C27.0156 5.12192 26.8812 4.98442 26.7187 5.00317L21.7125 5.59379C21.5062 5.61879 21.4187 5.87192 21.5656 6.01879L22.9375 7.39067L18.7593 11.5625C18.7128 11.6095 18.6867 11.673 18.6867 11.7391C18.6867 11.8052 18.7128 11.8687 18.7593 11.9157L20.0843 13.2407V13.2407ZM26.4062 21.7157C26.3812 21.5094 26.1281 21.4219 25.9812 21.5688L24.6156 22.9344L20.4375 18.7594C20.3905 18.7129 20.327 18.6868 20.2609 18.6868C20.1948 18.6868 20.1313 18.7129 20.0843 18.7594L18.7593 20.0813C18.7128 20.1283 18.6867 20.1917 18.6867 20.2579C18.6867 20.324 18.7128 20.3874 18.7593 20.4344L22.9375 24.6125L21.5656 25.9844C21.5325 26.0176 21.5095 26.0594 21.499 26.1051C21.4886 26.1508 21.4911 26.1985 21.5064 26.2427C21.5217 26.287 21.5492 26.3261 21.5856 26.3556C21.622 26.385 21.666 26.4037 21.7125 26.4094L26.7187 27C26.8781 27.0188 27.0156 26.8844 26.9968 26.7219L26.4062 21.7157ZM11.9156 18.7594C11.8686 18.7129 11.8052 18.6868 11.739 18.6868C11.6729 18.6868 11.6095 18.7129 11.5625 18.7594L7.38434 22.9344L6.01872 21.5688C5.98551 21.5357 5.9437 21.5127 5.89803 21.5022C5.85236 21.4918 5.80468 21.4943 5.7604 21.5096C5.71612 21.5249 5.67702 21.5524 5.64756 21.5888C5.61809 21.6252 5.59944 21.6692 5.59372 21.7157L5.00309 26.7188C4.98434 26.8782 5.11872 27.0157 5.28122 26.9969L10.2875 26.4063C10.4937 26.3813 10.5812 26.1282 10.4343 25.9813L9.06247 24.6125L13.2406 20.4375C13.3375 20.3407 13.3375 20.1813 13.2406 20.0844L11.9156 18.7594V18.7594Z",fill:"currentColor"})))}function Kt(a){var n=a.onClick,t=a.className,o=t===void 0?"":t;return u.a.createElement(mn,{onClick:n,className:o},u.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M21.1375 16.5297L9.1625 25.9366C8.71719 26.2866 8.0625 25.9709 8.0625 25.4069V6.59281C8.0625 6.02875 8.71719 5.71344 9.1625 6.06344L21.1375 15.4703C21.2179 15.5333 21.2828 15.6137 21.3275 15.7054C21.3722 15.7972 21.3955 15.8979 21.3955 16C21.3955 16.1021 21.3722 16.2028 21.3275 16.2946C21.2828 16.3864 21.2179 16.4667 21.1375 16.5297V16.5297ZM21.6875 27H23.6875C23.7538 27 23.8174 26.9737 23.8643 26.9268C23.9112 26.8799 23.9375 26.8163 23.9375 26.75V5.25C23.9375 5.1837 23.9112 5.12011 23.8643 5.07322C23.8174 5.02634 23.7538 5 23.6875 5H21.6875C21.6212 5 21.5576 5.02634 21.5107 5.07322C21.4638 5.12011 21.4375 5.1837 21.4375 5.25V26.75C21.4375 26.8163 21.4638 26.8799 21.5107 26.9268C21.5576 26.9737 21.6212 27 21.6875 27Z",fill:"currentColor"})))}function Sn(a){var n=a.onClick,t=a.className,o=t===void 0?"":t;return u.a.createElement(mn,{onClick:n,className:o},u.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("path",{d:"M10.8625 16.5297L22.8375 25.9366C23.2828 26.2866 23.9375 25.9709 23.9375 25.4069V6.59281C23.9375 6.02875 23.2828 5.71344 22.8375 6.06344L10.8625 15.4703C10.7821 15.5333 10.7172 15.6137 10.6725 15.7054C10.6278 15.7972 10.6045 15.8979 10.6045 16C10.6045 16.1021 10.6278 16.2028 10.6725 16.2946C10.7172 16.3864 10.7821 16.4667 10.8625 16.5297V16.5297ZM10.3125 27H8.3125C8.2462 27 8.18261 26.9737 8.13572 26.9268C8.08884 26.8799 8.0625 26.8163 8.0625 26.75V5.25C8.0625 5.1837 8.08884 5.12011 8.13572 5.07322C8.18261 5.02634 8.2462 5 8.3125 5H10.3125C10.3788 5 10.4424 5.02634 10.4893 5.07322C10.5362 5.12011 10.5625 5.1837 10.5625 5.25V26.75C10.5625 26.8163 10.5362 26.8799 10.4893 26.9268C10.4424 26.9737 10.3788 27 10.3125 27Z",fill:"currentColor"})))}try{pn.displayName="IconSeekBack",pn.__docgenInfo={description:"",displayName:"IconSeekBack",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"]={docgenInfo:pn.__docgenInfo,name:"IconSeekBack",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekBack"})}catch(a){}try{zt.displayName="IconSeekForward",zt.__docgenInfo={description:"",displayName:"IconSeekForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},time:{defaultValue:null,description:"",name:"time",required:!0,type:{name:"number"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"]={docgenInfo:zt.__docgenInfo,name:"IconSeekForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconSeekForward"})}catch(a){}try{Cn.displayName="IconPlay",Cn.__docgenInfo={description:"",displayName:"IconPlay",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"]={docgenInfo:Cn.__docgenInfo,name:"IconPlay",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPlay"})}catch(a){}try{Tt.displayName="IconPause",Tt.__docgenInfo={description:"",displayName:"IconPause",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"]={docgenInfo:Tt.__docgenInfo,name:"IconPause",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconPause"})}catch(a){}try{Ge.displayName="IconFullscreen",Ge.__docgenInfo={description:"",displayName:"IconFullscreen",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"]={docgenInfo:Ge.__docgenInfo,name:"IconFullscreen",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconFullscreen"})}catch(a){}try{Kt.displayName="IconStepForward",Kt.__docgenInfo={description:"",displayName:"IconStepForward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"]={docgenInfo:Kt.__docgenInfo,name:"IconStepForward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepForward"})}catch(a){}try{Sn.displayName="IconStepBackward",Sn.__docgenInfo={description:"",displayName:"IconStepBackward",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"]={docgenInfo:Sn.__docgenInfo,name:"IconStepBackward",path:"frontend/src/scenes/session-recordings/player/icons.tsx#IconStepBackward"})}catch(a){}var en=u.a.forwardRef(function(n,t){var o=Object(ae.useRef)(),m=Object(Ce.useValues)(vt),h=m.currentPlayerState,b=m.player,S=Object(Ce.useActions)(vt),P=S.togglePlayPause,D=S.setScale,U=t;Object(ae.useEffect)(function(){if(!!b)return b.replayer.on("resize",B),window.addEventListener("resize",k),function(){return window.removeEventListener("resize",k)}},[b==null?void 0:b.replayer]);var k=function(){B(o.current)},B=function(ge){var Oe;if(!(!ge||!(!(U==null||(Oe=U.current)===null||Oe===void 0)&&Oe.parentElement)||!(b!=null&&b.replayer))){o.current=ge;var Ae=U.current.parentElement.getBoundingClientRect(),ye=Ae.width,q=Ae.height,$=Math.min(ye/ge.width,q/ge.height,1);b.replayer.wrapper.style.transform="scale(".concat($,")"),U.current.style.paddingLeft="".concat((ye-ge.width*$)/2,"px"),U.current.style.paddingTop="".concat((q-ge.height*$)/2,"px"),U.current.style.marginBottom="-".concat(q-ge.height*$,"px"),D($)}},ue=function(){return h===Pe.C.BUFFER?u.a.createElement("div",{className:"rrweb-overlay"},"Buffering..."):h===Pe.C.PAUSE?u.a.createElement("div",{className:"rrweb-overlay"},u.a.createElement(Cn,{className:"rrweb-overlay-play-icon"})):h===Pe.C.SKIP?u.a.createElement("div",{className:"rrweb-overlay"},"Skipping inactivity"):null};return u.a.createElement("div",{className:"rrweb-player",onClick:P},u.a.createElement("div",{ref:t}),u.a.createElement("div",{className:"rrweb-overlay-container"},ue()))});try{en.displayName="PlayerFrame",en.__docgenInfo={description:"",displayName:"PlayerFrame",props:{}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"]={docgenInfo:en.__docgenInfo,name:"PlayerFrame",path:"frontend/src/scenes/session-recordings/player/PlayerFrame.tsx#PlayerFrame"})}catch(a){}var kn=e("./node_modules/antd/es/select/index.js"),Bn=e("./node_modules/antd/es/switch/index.js"),qn=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss"),ma=e.n(qn),sa={};sa.insert="head",sa.singleton=!1;var pa=X()(ma.a,sa),ba=ma.a.locals||{},Yn=e("./node_modules/clsx/dist/clsx.m.js"),ea=Object(Ce.kea)({path:["scenes","session-recordings","player","seekbarLogic"],connect:{values:[vt,["sessionPlayerData","currentPlayerPosition"],ke,["eventsToShow"]],actions:[vt,["seek","startScrub","endScrub","setCurrentPlayerPosition"]]},actions:{setThumbLeftPos:function(n,t){return{thumbLeftPos:n,shouldSeek:t}},setCursorDiff:function(n){return{cursorDiff:n}},handleSeek:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{newX:n,shouldSeek:t}},handleMove:function(n){return{event:n}},handleUp:function(n){return{event:n}},handleDown:function(n){return{event:n}},handleClick:function(n){return{event:n}},handleTickClick:function(n){return{playerPosition:n}},setSlider:function(n){return{ref:n}},setThumb:function(n){return{ref:n}},debouncedSetTime:function(n){return{time:n}},endSeeking:!0},reducers:{thumbLeftPos:[-yt,{setThumbLeftPos:function(n,t){var o=t.thumbLeftPos;return o}}],cursorDiff:[0,{setCursorDiff:function(n,t){var o=t.cursorDiff;return o}}],slider:[null,{setSlider:function(n,t){var o=t.ref;return o.current}}],thumb:[null,{setThumb:function(n,t){var o=t.ref;return o.current}}],isSeeking:[!1,{handleSeek:function(){return!0},endSeeking:function(){return!1}}],isScrubbing:[!1,{startScrub:function(){return!0},endScrub:function(){return!1}}]},selectors:{bufferPercent:[function(a){return[a.sessionPlayerData]},function(a){var n,t;if((a==null?void 0:a.bufferedTo)&&(a==null||(n=a.metadata)===null||n===void 0?void 0:n.segments)&&(a==null||(t=a.metadata)===null||t===void 0?void 0:t.recordingDurationMs)){var o,m=(o=_t(a.bufferedTo,a.metadata.segments))!==null&&o!==void 0?o:0;return 100*m/a.metadata.recordingDurationMs}return 0}],scrubbingTime:[function(a){return[a.thumbLeftPos,a.slider,a.sessionPlayerData]},function(a,n,t){var o;return a&&n&&(t==null||(o=t.metadata)===null||o===void 0?void 0:o.recordingDurationMs)?(a+yt)/n.offsetWidth*t.metadata.recordingDurationMs:0}]},listeners:function(n){var t=n.values,o=n.actions;return{setCurrentPlayerPosition:function(){var m=te()(ve.a.mark(function b(){var S,P,D,U;return ve.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(t.slider){B.next=2;break}return B.abrupt("return");case 2:(!t.isSeeking||t.currentPlayerPosition===((S=t.sessionPlayerData)===null||S===void 0||(P=S.metadata)===null||P===void 0||(D=P.segments[0])===null||D===void 0?void 0:D.startPlayerPosition))&&(U=t.currentPlayerPosition?J(t.currentPlayerPosition,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs):0,o.setThumbLeftPos(U-yt,!1));case 3:case"end":return B.stop()}},b)}));function h(){return m.apply(this,arguments)}return h}(),setThumbLeftPos:function(h){var b,S=h.thumbLeftPos,P=h.shouldSeek;if(!!t.slider&&P&&((b=t.sessionPlayerData)===null||b===void 0?void 0:b.metadata)){var D=Ve(S+yt,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs);o.seek(D)}},handleSeek:function(){var m=te()(ve.a.mark(function b(S){var P,D,U,k,B;return ve.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return U=S.newX,k=S.shouldSeek,B=(P=(D=t.slider)===null||D===void 0?void 0:D.offsetWidth)!==null&&P!==void 0?P:0,ie.next=4,o.setThumbLeftPos(Object(se.m)(U,0,B)-yt,k);case 4:o.endSeeking();case 5:case"end":return ie.stop()}},b)}));function h(b){return m.apply(this,arguments)}return h}(),handleMove:function(){var m=te()(ve.a.mark(function b(S){var P,D;return ve.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(P=S.event,t.slider){k.next=3;break}return k.abrupt("return");case 3:o.startScrub(),D=bt(P)-t.cursorDiff-t.slider.getBoundingClientRect().left,o.handleSeek(D,!1);case 6:case"end":return k.stop()}},b)}));function h(b){return m.apply(this,arguments)}return h}(),handleUp:function(h){var b=h.event;if(!!t.slider){var S=bt(b)-t.cursorDiff-t.slider.getBoundingClientRect().left;o.handleSeek(S),o.endScrub(),document.removeEventListener("touchmove",o.handleMove),document.removeEventListener("touchend",o.handleUp),document.removeEventListener("mousemove",o.handleMove),document.removeEventListener("mouseup",o.handleUp)}},handleDown:function(h){var b=h.event;if(!!t.thumb){o.startScrub();var S=bt(b),P=S-t.thumb.getBoundingClientRect().left-yt;Math.abs(P)>Lt&&(P=0),o.setCursorDiff(P),document.addEventListener("touchmove",o.handleMove),document.addEventListener("touchend",o.handleUp),document.addEventListener("mousemove",o.handleMove),document.addEventListener("mouseup",o.handleUp)}},handleTickClick:function(h){var b=h.playerPosition;t.isSeeking||o.handleSeek(J(b,t.slider.offsetWidth,t.sessionPlayerData.metadata.segments,t.sessionPlayerData.metadata.recordingDurationMs))}}},events:function(n){var t=n.actions,o=n.values,m=n.cache;return{afterMount:function(){m.setCurrentPlayerPosition=function(){t.setCurrentPlayerPosition(o.currentPlayerPosition)},window.addEventListener("resize",m.setCurrentPlayerPosition)},beforeUnmount:function(){window.removeEventListener("resize",m.setCurrentPlayerPosition)}}}});function ca(a){var n=a.event,t=Object(ae.useState)(!1),o=Me()(t,2),m=o[0],h=o[1],b=Object(Ce.useActions)(ea),S=b.handleTickClick,P=Object(Ce.useActions)(Ee.f),D=P.reportRecordingPlayerSeekbarEventHovered;return u.a.createElement("div",{className:"tick-hover-box",style:{left:"calc(".concat(n.percentageOfRecordingDuration,"% - 2px)")},onClick:function(k){k.stopPropagation(),S(n.playerPosition)},onMouseEnter:function(k){k.stopPropagation(),h(!0),D()},onMouseLeave:function(k){k.stopPropagation(),h(!1)}},u.a.createElement("div",{className:Object(Yn.a)("tick-info",{show:m})},n.event),u.a.createElement("div",{className:"tick-marker"}),u.a.createElement("div",{className:Object(Yn.a)("tick-thumb",{big:m})}))}function ta(){var a,n,t=Object(ae.useRef)(null),o=Object(ae.useRef)(null),m=Object(Ce.useActions)(ea),h=m.handleDown,b=m.setSlider,S=m.setThumb,P=Object(Ce.useValues)(ke),D=P.eventsToShow,U=P.sessionPlayerData,k=Object(Ce.useValues)(ea),B=k.thumbLeftPos,ue=k.bufferPercent;return Object(ae.useEffect)(function(){t.current&&o.current&&(b(t),S(o))},[t.current,o.current]),u.a.createElement("div",{className:"rrweb-controller-slider"},u.a.createElement("div",{className:"slider",ref:t,onMouseDown:h,onTouchStart:h},u.a.createElement("div",{className:"inactivity-bar"},U==null||(a=U.metadata)===null||a===void 0||(n=a.segments)===null||n===void 0?void 0:n.map(function(ie){return u.a.createElement("div",{key:"".concat(ie.windowId,"-").concat(ie.startTimeEpochMs),className:Object(Yn.a)("activity-section",!ie.isActive&&"inactive-section"),style:{width:"".concat(100*ie.durationMs/U.metadata.recordingDurationMs,"%")}})})),u.a.createElement("div",{className:"slider-bar"}),u.a.createElement("div",{className:"thumb",ref:o,style:{transform:"translateX(".concat(B,"px)")}}),u.a.createElement("div",{className:"current-bar",style:{width:"".concat(Math.max(B,0),"px")}}),u.a.createElement("div",{className:"buffer-bar",style:{width:"calc(".concat(ue,"% - 2px)")}})),u.a.createElement("div",{className:"ticks"},D.map(function(ie){return u.a.createElement(ca,{key:ie.id,event:ie})})))}var Hn=e("./node_modules/antd/es/tooltip/index.js");function Zn(){var a,n,t,o=Object(Ce.useActions)(vt),m=o.seekBackward,h=o.seekForward,b=Object(Ce.useValues)(vt),S=b.jumpTimeMs,P=b.currentPlayerTime,D=b.sessionPlayerData,U=Object(Ce.useValues)(ea),k=U.isScrubbing,B=U.scrubbingTime;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Hn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Back ".concat(S/1e3,"s (\u2190 left arrow)")},u.a.createElement("span",null,u.a.createElement(pn,{onClick:m,time:S/1e3}))),u.a.createElement(Hn.a,{placement:"top",overlayInnerStyle:{minHeight:"auto"},overlay:"Forward ".concat(S/1e3,"s (\u2192 right arrow)")},u.a.createElement("span",null,u.a.createElement(zt,{onClick:h,time:S/1e3}))),u.a.createElement("div",{className:"rrweb-timestamp"},Object(se.o)(((a=k?B:P)!==null&&a!==void 0?a:0)/1e3)," /"," ",Object(se.o)(Math.floor(((n=D==null||(t=D.metadata)===null||t===void 0?void 0:t.recordingDurationMs)!==null&&n!==void 0?n:0)/1e3))))}function Gn(){var a=Object(Ce.useActions)(vt),n=a.togglePlayPause,t=a.setSpeed,o=a.setSkipInactivitySetting,m=Object(Ce.useValues)(vt),h=m.currentPlayerState,b=m.speed,S=m.isSmallScreen,P=m.skipInactivitySetting;return u.a.createElement("div",{className:"rrweb-controller"},u.a.createElement("span",null,h===Pe.C.PLAY?u.a.createElement(Tt,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"}):u.a.createElement(Cn,{onClick:n,className:"rrweb-controller-icon ph-rrweb-controller-icon-play-pause"})),!S&&u.a.createElement(Zn,null),u.a.createElement("div",{className:"rrweb-progress"},u.a.createElement(ta,null)),u.a.createElement(kn.a,{onChange:function(U){return t(U)},value:b,dropdownMatchSelectWidth:!1,size:"small",defaultValue:1,className:"rrweb-speed-toggle"},u.a.createElement(kn.a.OptGroup,{label:"Speed"},un.map(function(D){return u.a.createElement(kn.a.Option,{key:D,value:D},D,"x")}))),u.a.createElement("div",{onClick:function(){o(!P)},className:"rrweb-inactivity-toggle"},u.a.createElement("span",{className:"inactivity-label"},"Skip inactivity"),u.a.createElement(Bn.a,{checked:P,size:"small"})))}var $n=e("./node_modules/core-js/modules/es.symbol.js"),da=e("./node_modules/core-js/modules/es.symbol.description.js"),Un=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss"),Kn=e.n(Un),Dn={};Dn.insert="head",Dn.singleton=!1;var na=X()(Kn.a,Dn),E=Kn.a.locals||{},O=e("./node_modules/antd/es/empty/index.js"),T=e("./node_modules/antd/es/row/index.js"),I=e("./node_modules/antd/es/col/index.js"),Y=e("./node_modules/antd/es/skeleton/index.js"),de=e("./node_modules/antd/es/input/index.js"),re=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),V=e("./node_modules/@ant-design/icons/es/icons/ArrowUpOutlined.js"),fe=e("./node_modules/@ant-design/icons/es/icons/ArrowDownOutlined.js"),G=e("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),ct=e("./node_modules/react-virtualized/dist/es/List/index.js"),Ot=e("./node_modules/react-virtualized/dist/es/Grid/index.js"),gt=e("./node_modules/react-virtualized/dist/es/AutoSizer/index.js"),at=e("./node_modules/core-js/modules/es.array.find-index.js");function ze(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);n&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),t.push.apply(t,o)}return t}function H(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ze(Object(t),!0).forEach(function(o){ht()(a,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(t,o))})}return a}var Tn=65,yn=50,wn=150*5,Fn=Object(Ce.kea)({path:["scenes","session-recordings","player","eventsListLogic"],connect:{logics:[Ee.f],actions:[ke,["setFilters","loadEventsSuccess"],vt,["seek"]],values:[ke,["eventsToShow","sessionEventsDataLoading"],vt,["currentPlayerTime"]]},actions:{setLocalFilters:function(n){return{filters:n}},setRenderedRows:function(n){return{renderMeta:n}},setList:function(n){return{list:n}},enablePositionFinder:!0,disablePositionFinder:!0,scrollTo:function(n){return{rowIndex:n}},handleEventClick:function(n){return{playerPosition:n}}},reducers:{localFilters:[{},{setLocalFilters:function(n,t){var o=t.filters;return H(H({},n),o)}}],renderedRows:[{startIndex:0,stopIndex:0,overscanStartIndex:0,overscanStopIndex:0},{setRenderedRows:function(n,t){var o=t.renderMeta;return o}}],list:[null,{setList:function(n,t){var o=t.list;return o}}],shouldHidePositionFinder:[!1,{scrollTo:function(){return!0},enablePositionFinder:function(){return!1},disablePositionFinder:function(){return!0}}]},listeners:function(n){var t=n.actions,o=n.values;return{setLocalFilters:function(){var m=te()(ve.a.mark(function b(S,P){return ve.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,P(250);case 2:t.setFilters(o.localFilters);case 3:case"end":return U.stop()}},b)}));function h(b,S){return m.apply(this,arguments)}return h}(),scrollTo:function(){var m=te()(ve.a.mark(function b(S,P){var D,U;return ve.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return D=S.rowIndex,U=D!=null?D:o.currentEventsIndices.startIndex,o.list&&(o.list.scrollToPosition(o.list.getOffsetForRow({alignment:"center",index:U})),Ee.f.actions.reportRecordingScrollTo(U)),B.next=5,P(wn);case 5:t.enablePositionFinder();case 6:case"end":return B.stop()}},b)}));function h(b,S){return m.apply(this,arguments)}return h}(),handleEventClick:function(h){var b=h.playerPosition;b&&t.seek(b)}}},selectors:function(){return{listEvents:[function(n){return[n.eventsToShow]},function(n){return n.map(function(t){var o;return H(H({},t),{},{colonTimestamp:Object(se.o)(Math.floor(((o=t.playerTime)!==null&&o!==void 0?o:0)/1e3))})})}],currentEventsTimeRange:[function(n){return[n.listEvents,n.currentPlayerTime]},function(n,t){var o;if(n.length<1)return{start:0,end:0};var m=n.findIndex(function(S){var P;return((P=S.playerTime)!==null&&P!==void 0?P:0)>=Object(se.k)(t!=null?t:0)}),h=Math.max(Object(se.k)(t!=null?t:0),1e3),b=Object(se.E)((o=n[Object(se.m)(m===-1?n.length-1:m-1,0,n.length-1)].playerTime)!==null&&o!==void 0?o:0);return{start:b,end:h}}],isEventCurrent:[function(n){return[n.currentEventsTimeRange,n.listEvents]},function(n,t){return function(o){var m,h,b,S;return((m=t==null||(h=t[o])===null||h===void 0?void 0:h.playerTime)!==null&&m!==void 0?m:0)>=n.start&&((b=t==null||(S=t[o])===null||S===void 0?void 0:S.playerTime)!==null&&b!==void 0?b:0)<n.end}}],currentEventsIndices:[function(n){return[n.listEvents,n.isEventCurrent]},function(n,t){return{startIndex:Object(se.m)(n.findIndex(function(o,m){return t(m)}),0,n.length-1),stopIndex:Object(se.m)(Object(se.C)(n,function(o,m){return t(m)}),0,n.length-1)}}],currentEventsBoxSizeAndPosition:[function(n){return[n.currentEventsIndices,n.list]},function(n,t){if(!t||!t.Grid||n.startIndex>=t.Grid.props.rowCount||n.stopIndex>t.Grid.props.rowCount||n.startIndex<1&&n.stopIndex<1||n.stopIndex<n.startIndex)return{top:0,height:0};var o=t.Grid.state,m=o.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.startIndex).offset,h=o.instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(n.stopIndex);return{top:m,height:h.offset+h.size-m}}],isRowIndexRendered:[function(n){return[n.renderedRows]},function(n){return function(t){return t>=n.overscanStartIndex&&t<=n.overscanStopIndex}}],showPositionFinder:[function(n){return[n.renderedRows,n.currentEventsIndices,n.shouldHidePositionFinder]},function(n,t,o){return!o&&(n.stopIndex<t.startIndex||n.startIndex>t.stopIndex)}],isDirectionUp:[function(n){return[n.renderedRows,n.currentEventsIndices]},function(n,t){return n.startIndex>t.stopIndex}]}}}),je=e("./frontend/src/lib/components/icons.tsx");function jn(a,n){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);n&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),t.push.apply(t,o)}return t}function Vn(a){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?jn(Object(t),!0).forEach(function(o){ht()(a,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(t,o))})}return a}function wt(a){var n=a.cellCount,t=a.overscanCellsCount,o=a.startIndex,m=a.stopIndex,h=Math.floor(t/2),b=t-h;return{overscanStartIndex:Math.max(0,o-h),overscanStopIndex:Math.min(n-1,m+b)}}var ln=function(n){return n.event==="$pageview"?u.a.createElement(je.PageviewIcon,null):n.event==="$pageleave"?u.a.createElement(je.PageleaveIcon,null):n.event==="$autocapture"?u.a.createElement(je.AutocaptureIcon,null):u.a.createElement(je.EventIcon,null)};function An(){return u.a.createElement("div",{className:"event-list-empty-container"},u.a.createElement(O.a,{image:O.a.PRESENTED_IMAGE_SIMPLE,description:"No events fired in this recording."}))}function kt(a){var n=a.description,t=Object(ae.useRef)(null);return u.a.createElement("span",{className:Object(Yn.a)("event-item-content-subtitle",Object(se.U)(t.current)&&"overflowing"),title:n},u.a.createElement("div",{className:"inner",ref:t},n))}function Bt(){var a=Object(ae.useRef)(null),n=Object(Ce.useValues)(Fn),t=n.localFilters,o=n.listEvents,m=n.currentEventsBoxSizeAndPosition,h=n.showPositionFinder,b=n.isRowIndexRendered,S=n.isEventCurrent,P=n.isDirectionUp,D=n.renderedRows,U=Object(Ce.useValues)(ke),k=U.sessionEventsDataLoading,B=Object(Ce.useActions)(Fn),ue=B.setLocalFilters,ie=B.setRenderedRows,ge=B.setList,Oe=B.scrollTo,Ae=B.disablePositionFinder,ye=B.handleEventClick;Object(ae.useEffect)(function(){a!=null&&a.current&&ge(a.current)},[a.current]);var q=Object(ae.useCallback)(function(A){var F=A.index,_=A.style,ee=A.key,Z=o[F],le=Object(Rt.d)(Z.event,"event"),Se=S(F);return u.a.createElement(T.a,{key:ee,className:Object(Yn.a)("event-list-item",{"current-event":Se}),align:"top",style:Vn(Vn({},_),{},{zIndex:o.length-F}),onClick:function(){ye(Z.playerPosition)}},u.a.createElement(I.a,{className:"event-item-icon"},u.a.createElement("div",{className:"event-item-icon-wrapper"},ln(Z))),u.a.createElement(I.a,{className:Object(Yn.a)("event-item-content",{rendering:!b(F)})},u.a.createElement(T.a,{className:"event-item-content-top-row"},u.a.createElement(Rt.b,{className:"event-item-content-title",value:Z.event,disableIcon:!0,disablePopover:!0,ellipsis:!0}),u.a.createElement("span",{className:"event-item-content-timestamp"},Z.colonTimestamp)),le&&u.a.createElement(kt,{description:Object(se.j)(Object(se.B)(Z,!0))}),u.a.createElement(Y.a,{active:!0,paragraph:{rows:2,width:["40%","100%"]},title:!1})))},[o.length,D.startIndex,D.stopIndex,m.top,m.height]),$=Object(ae.useCallback)(function(A){var F=Object(Ot.c)(A);return o.length>0&&F.push(u.a.createElement("div",{key:"highlight-box",className:"current-events-highlight-box",style:{height:m.height,transform:"translateY(".concat(m.top,"px)")}})),F},[m.top,m.height,k,o.length]);return u.a.createElement(I.a,{className:"player-events-container"},u.a.createElement(de.a,{prefix:u.a.createElement(re.a,null),placeholder:"Search for events",value:t.query,onChange:function(A){return ue({query:A.target.value})}}),u.a.createElement(I.a,{className:"event-list"},k?u.a.createElement(se.b,null):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Object(Yn.a)("current-events-position-finder",{visible:h})},u.a.createElement(T.a,{className:"left",align:"middle",wrap:!1,onClick:function(){Oe()}},P?u.a.createElement(V.a,null):u.a.createElement(fe.a,null),"Jump to current time"),u.a.createElement(T.a,{className:"right",align:"middle",justify:"center",wrap:!1,onClick:function(){Ae()}},u.a.createElement(G.a,null))),u.a.createElement(gt.a,null,function(R){var A=R.height,F=R.width;return u.a.createElement(ct.b,{ref:a,className:"event-list-virtual",height:A,width:F,onRowsRendered:ie,noRowsRenderer:An,cellRangeRenderer:$,overscanRowCount:yn,overscanIndicesGetter:wt,rowCount:o.length,rowRenderer:q,rowHeight:Tn})}))))}var tn=e("./node_modules/antd/es/tabs/index.js"),Pn=e("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),aa=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss"),ra=e.n(aa),ua={};ua.insert="head",ua.singleton=!1;var ia=X()(ra.a,ua),ga=ra.a.locals||{},fa=e("./node_modules/antd/es/space/index.js"),In=e("./frontend/src/lib/components/ProfilePicture/index.ts"),Jt=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Wn=e("./node_modules/core-js/modules/es.array.filter.js"),la=e("./node_modules/core-js/modules/es.array.some.js"),Nn=function(n,t){return t.some(function(o){var m;return!(!(n==null||(m=n.properties)===null||m===void 0)&&m[o])})?null:t.map(function(o){var m;return n==null||(m=n.properties)===null||m===void 0?void 0:m[o]}).join(", ")},Ta=Object(Ce.kea)({path:["scenes","session-recordings","player","metaLogic"],connect:{values:[ke,["sessionPlayerData"],vt,["currentPlayerPosition","scale"]],actions:[ke,["loadRecordingMetaSuccess"]]},reducers:{loading:[!0,{loadRecordingMetaSuccess:function(){return!1}}]},selectors:{sessionPerson:[function(a){return[a.sessionPlayerData]},function(a){return a==null?void 0:a.person}],description:[function(a){return[a.sessionPerson]},function(a){var n=Nn(a,["$geoip_city_name","$geoip_country_code"]),t=Nn(a,["$browser","$os"]);return[t,n].filter(function(o){return o}).join(" \xB7 ")}],resolution:[function(a){return[a.sessionPlayerData,a.currentPlayerPosition]},function(a,n){var t,o;if(!n)return null;var m=(t=a.snapshotsByWindowId[n.windowId])!==null&&t!==void 0?t:[],h=(o=Nt(n,a.metadata.startAndEndTimesByWindowId))!==null&&o!==void 0?o:0,b=Object(se.C)(m,function(P){return P.timestamp<h&&"width"in P.data});if(b===-1)return null;var S=m[b];return{width:S.data.width,height:S.data.height}}],recordingStartTime:[function(a){return[a.sessionPlayerData]},function(a){var n,t;return a==null||(n=a.metadata)===null||n===void 0||(t=n.segments[0])===null||t===void 0?void 0:t.startTimeEpochMs}]}}),wa=e("./frontend/src/scenes/funnels/funnelUtils.ts"),xa=e("./frontend/src/lib/components/TimezoneAware/index.tsx");function ha(){var a,n=Object(Ce.useValues)(Ta),t=n.sessionPerson,o=n.description,m=n.resolution,h=n.scale,b=n.recordingStartTime,S=n.loading;return u.a.createElement(I.a,{className:"player-meta-container"},u.a.createElement(T.a,{className:"player-meta-person",align:"middle",justify:"space-between",wrap:!1},u.a.createElement(T.a,{className:"player-meta-person-title",align:"middle",wrap:!1},S?u.a.createElement(fa.b,null,u.a.createElement(Y.a.Avatar,{active:!0,size:"small",shape:"circle"}),u.a.createElement(Y.a,{title:!1,active:!0,paragraph:{rows:1,width:160}})):u.a.createElement(u.a.Fragment,null,u.a.createElement(In.a,{name:t==null?void 0:t.name,email:t==null||(a=t.properties)===null||a===void 0?void 0:a.$email,size:"md",style:{marginRight:"0.5rem"}}),u.a.createElement("span",{className:"email"},u.a.createElement(Jt.a,{person:t,withIcon:!1})))),u.a.createElement(I.a,null,S?u.a.createElement(Y.a,{title:!1,active:!0,paragraph:{rows:1,width:80}}):u.a.createElement("span",{className:"time text-muted"},b&&u.a.createElement(xa.b,{time:Object(tt.a)(b)})))),u.a.createElement(T.a,{className:"player-meta-other",align:"middle",justify:"start"},u.a.createElement(T.a,{className:"player-meta-other-description"},S?u.a.createElement(Y.a,{title:!1,active:!0,paragraph:{rows:1}}):u.a.createElement("span",null,o)),u.a.createElement(T.a,{className:"player-meta-other-resolution mt-05"},S?u.a.createElement(Y.a,{title:!1,active:!0,paragraph:{rows:1,width:"100%"}}):u.a.createElement("span",null,m?u.a.createElement(u.a.Fragment,null,"Resolution: ",m.width," x ",m.height," (",Object(wa.c)(h),"%)"):u.a.createElement(u.a.Fragment,null,"Resolution: ...")))))}var va=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss"),Ea=e.n(va),Oa={};Oa.insert="head",Oa.singleton=!1;var ja=X()(Ea.a,Oa),Ca=Ea.a.locals||{},Pa=e("./frontend/src/lib/components/LemonButton/index.ts"),f=e("./frontend/src/lib/components/Spinner/Spinner.tsx");function p(){var a=Object(Ce.useValues)(ke),n=a.orderedConsoleLogs,t=a.areAllSnapshotsLoaded,o=Object(Ce.useActions)(Ee.f),m=o.reportRecordingConsoleFeedback,h=Object(Ce.useActions)(vt),b=h.seek,S=Object(ae.useState)(!1),P=Me()(S,2),D=P[0],U=P[1],k=function(ue,ie){return u.a.createElement("div",{className:"log-line level-".concat(ue.level),key:ie,onClick:function(){b(ue.playerPosition)}},u.a.createElement("div",{className:"trace-string"},ue.parsedTraceURL?u.a.createElement("a",{className:"text-muted",href:ue.parsedTraceURL,target:"_blank"},ue.parsedTraceString):u.a.createElement("span",{className:"text-muted"},ue.parsedTraceString)),u.a.createElement("p",{className:"log-text"},ue.parsedPayload))};return u.a.createElement("div",{className:"console-log-container"},u.a.createElement("div",{className:"console-log"},t?n.length>0?u.a.createElement(gt.a,null,function(B){var ue=B.height,ie=B.width;return u.a.createElement("div",{style:{height:ue,width:ie,overflowY:"scroll",paddingBottom:5}},n.slice(0,150).map(function(ge,Oe){return k(ge,Oe)}),u.a.createElement("div",null,n.length>150&&u.a.createElement("div",{className:"more-logs-available"},"While console logs are in beta, only 150 logs are displayed.")))}):u.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center",margin:20}},u.a.createElement("h3",{style:{textAlign:"center"}},"There are no console logs for this recording"),u.a.createElement("p",{className:"text-muted",style:{textAlign:"center"}},"For logs to appear, the feature must first be enabled in ",u.a.createElement("code",null,"posthog-js"),"."),u.a.createElement(Pa.a,{type:"secondary",style:{margin:"0 8px"},href:"https://posthog.com/docs/user-guides/recordings?utm_campaign=session-recording&utm_medium=in-product"},"Learn more")):u.a.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}},u.a.createElement(f.a,{size:"lg"}))),u.a.createElement("div",{className:"console-feedback-container"},u.a.createElement("p",{style:{marginBottom:8,textAlign:"center"}},"Are you finding the console log feature useful?"),D?u.a.createElement("p",{className:"text-muted",style:{marginBottom:8,textAlign:"center"}},"Thanks for the input!"):u.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center"}},[["Yes","\u{1F44D} Yes!"],["No","\u{1F44E} Not really"]].map(function(B,ue){return u.a.createElement(Pa.a,{type:"secondary",key:ue,style:{margin:"0 8px"},onClick:function(){U(!0),m(n.length,B[0],"Are you finding the console log feature useful?")}},B[1])}))))}var C=e("./frontend/src/lib/constants.tsx"),g=e("./frontend/src/lib/logic/featureFlagLogic.ts"),d=e("./frontend/src/lib/components/Tooltip.tsx");function v(){var a=Object(Ce.useActions)(vt),n=a.togglePlayPause,t=a.seekForward,o=a.seekBackward,m=a.setSpeed,h=a.setRootFrame,b=Object(Ce.useValues)(vt),S=b.isSmallScreen,P=Object(ae.useRef)(null);Object(ae.useEffect)(function(){P.current&&h(P.current)},[P]);var D=function(k){var B;if(!(!((B=k.target)===null||B===void 0)&&B.matches("input")))if(k.key===" ")n(),k.preventDefault();else if(k.key==="ArrowLeft")o();else if(k.key==="ArrowRight")t();else for(var ue=0;ue<un.length;ue++)k.key===(ue+1).toString()&&m(un[ue])};return u.a.createElement(I.a,{className:"session-player-v2",onKeyDown:D,tabIndex:0,flex:1},u.a.createElement(T.a,{className:"session-player-body",wrap:!1},u.a.createElement("div",{className:"player-container ph-no-capture"},u.a.createElement(en,{ref:P})),!S&&u.a.createElement(l,null)),u.a.createElement(T.a,{className:"player-controller",align:"middle"},u.a.createElement(Gn,null)),S&&u.a.createElement(l,null))}var i=tn.a.TabPane;function l(){var a=Object(Ce.useValues)(g.a),n=a.featureFlags,t=Object(Ce.useValues)(ke),o=t.orderedConsoleLogs,m=Object(Ce.useActions)(Ee.f),h=m.reportRecordingConsoleViewed,b=n[C.n.SESSION_CONSOLE];return u.a.createElement(I.a,{className:"player-sidebar"},u.a.createElement("div",{className:"player-meta"},u.a.createElement(ha,null)),u.a.createElement("div",{className:"player-events"},b?u.a.createElement(tn.a,{"data-attr":"event-details",defaultActiveKey:"events",style:{display:"flex",flexDirection:"column",height:"100%"},tabBarStyle:{margin:0,marginBottom:8},onChange:function(P){P==="console"&&h(o.length)}},u.a.createElement(i,{tab:"Events",key:"events"},u.a.createElement(Bt,null)),u.a.createElement(i,{tab:u.a.createElement("div",null,"Console (beta)",u.a.createElement(d.a,{title:"While console logs are in beta, only 150 logs are displayed."},u.a.createElement(Pn.a,{style:{marginLeft:6}}))),key:"console"},u.a.createElement(p,null))):u.a.createElement(Bt,null)))}var c=e("./node_modules/antd/es/button/index.js"),y=e("./node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js");function w(a){var n=a.isPersonPage,t=n===void 0?!1:n,o=a.onClose;return u.a.createElement(De.a,{destroyOnClose:!0,visible:!0,width:"100%",onClose:o,className:"session-player-drawer-v2",closable:!1,style:{zIndex:1061}},u.a.createElement(I.a,{style:{height:"100vh"}},u.a.createElement(T.a,{style:{height:48,borderBottom:"1px solid var(--border)"},align:"middle",justify:"space-between"},u.a.createElement(c.a,{type:"link",onClick:o},u.a.createElement(y.a,null)," Back to ",t?"persons":"recordings"),u.a.createElement("div",{className:"text-muted cursor-pointer flex-center",style:{fontSize:"1.5em",paddingRight:8},onClick:o},u.a.createElement(je.IconClose,null))),u.a.createElement(T.a,{className:"session-drawer-body"},u.a.createElement(v,null))))}try{w.displayName="SessionPlayerDrawer",w.__docgenInfo={description:"",displayName:"SessionPlayerDrawer",props:{isPersonPage:{defaultValue:{value:"false"},description:"",name:"isPersonPage",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"]={docgenInfo:w.__docgenInfo,name:"SessionPlayerDrawer",path:"frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx#SessionPlayerDrawer"})}catch(a){}},"./frontend/src/scenes/trends/PersonsModal.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return ot});var ae=e("./node_modules/core-js/modules/es.array.concat.js"),u=e("./node_modules/core-js/modules/es.array.find.js"),De=e("./node_modules/core-js/modules/es.array.map.js"),He=e("./node_modules/core-js/modules/es.object.keys.js"),N=e("./node_modules/core-js/modules/es.object.to-string.js"),$e=e("./node_modules/core-js/modules/es.regexp.exec.js"),X=e("./node_modules/core-js/modules/es.regexp.to-string.js"),oe=e("./node_modules/core-js/modules/es.string.replace.js"),r=e("./node_modules/react/index.js"),j=e.n(r),st=e("./node_modules/kea/lib/index.esm.js"),Q=e("./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js"),Ce=e("./node_modules/@ant-design/icons/es/icons/UsergroupAddOutlined.js"),ut=e("./node_modules/antd/es/modal/index.js"),Ze=e("./node_modules/antd/es/button/index.js"),he=e("./node_modules/antd/es/skeleton/index.js"),ce=e("./node_modules/antd/es/input/index.js"),x=e("./node_modules/antd/es/select/index.js"),K=e("./frontend/src/types.ts"),Ke=e("./frontend/src/scenes/trends/personsModalLogic.ts"),ve=e("./frontend/src/lib/components/CopyToClipboard.tsx"),we=e("./frontend/src/lib/utils.tsx"),Ne=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),te=e.n(Ne),Ye=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss"),Ee=e.n(Ye),Pe={};Pe.insert="head",Pe.singleton=!1;var mt=te()(Ee.a,Pe),Te=Ee.a.locals||{},et=e("./frontend/src/lib/components/PropertyKeyInfo.tsx"),M=e("./frontend/src/lib/components/PropertiesTable.tsx"),it=e("./frontend/src/lib/components/DateDisplay/index.tsx"),pe=e("./frontend/src/scenes/persons/PersonHeader.tsx"),Gt=e("./frontend/src/lib/api.ts"),s=e("./frontend/src/lib/components/LemonTable/index.ts"),rn=e("./frontend/src/scenes/persons/GroupActorHeader.tsx"),It=e("./frontend/src/lib/components/icons.tsx"),Ht=e("./frontend/src/lib/components/InsightLabel/index.tsx"),L=e("./frontend/src/lib/colors.ts"),Xt=e("./frontend/src/lib/logic/featureFlagLogic.ts"),rt=e("./frontend/src/lib/constants.tsx"),sn=e("./frontend/src/scenes/session-recordings/SessionPlayerDrawer.tsx"),Ut=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),xt=e.n(Ut),qt=e("./node_modules/@ant-design/icons/es/icons/PlayCircleOutlined.js"),Ct=e("./node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js"),ht=e("./node_modules/@ant-design/icons/es/icons/DownOutlined.js"),Wt=e("./frontend/src/lib/components/Popup/Popup.tsx"),Me=e("./frontend/src/lib/components/Link.tsx"),Qe=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss"),Fe=e.n(Qe),se={};se.insert="head",se.singleton=!1;var Zt=te()(Fe.a,se),Rt=Fe.a.locals||{};function tt(pt){var We=pt.sessionRecordings,At=pt.onOpenRecording,Lt=Object(r.useState)(!1),yt=xt()(Lt,2),Ie=yt[0],nt=yt[1],bt=We.length===1,Vt=Object(r.useCallback)(function(Je){var _t=Je.setRef,lt=Je.children;return bt?j.a.createElement("div",{ref:_t},j.a.createElement(Me.a,{onClick:function(Nt){Nt.stopPropagation(),At(We[0])}},lt)):j.a.createElement("div",{ref:_t,onClick:function(Nt){Nt.stopPropagation(),nt(function(Ve){return!Ve})}},lt)},[We,nt]);return j.a.createElement(Wt.a,{visible:Ie,placement:"bottom-end",fallbackPlacements:["top-end"],className:"session-recordings-popup",overlay:We.map(function(Je,_t){return j.a.createElement(Me.a,{key:Je.session_id,onClick:function(jt){jt.stopPropagation(),nt(!1),At(Je)}},j.a.createElement("div",{className:"session-recordings-popup-row"},j.a.createElement(qt.a,null),"Recording ",_t+1))}),onClickOutside:function(){nt(!1)}},function(Je){var _t=Je.setRef;return j.a.createElement(Vt,{setRef:_t},j.a.createElement(Ze.a,{className:"session-recordings-button","data-attr":"session-recordings-button",icon:j.a.createElement(qt.a,null)},"Watch recording",bt?j.a.createElement(Ct.a,null):j.a.createElement(ht.a,null)))})}try{tt.displayName="MultiRecordingButton",tt.__docgenInfo={description:"",displayName:"MultiRecordingButton",props:{sessionRecordings:{defaultValue:null,description:"",name:"sessionRecordings",required:!0,type:{name:"MatchedRecording[]"}},onOpenRecording:{defaultValue:null,description:"",name:"onOpenRecording",required:!0,type:{name:"(sessionRecording: MatchedRecording) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"]={docgenInfo:tt.__docgenInfo,name:"MultiRecordingButton",path:"frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.tsx#MultiRecordingButton"})}catch(pt){}function ot(pt){var We,At,Lt,yt,Ie,nt,bt=pt.visible,Vt=pt.view,Je=pt.filters,_t=pt.onSaveCohort,lt=pt.showModalActions,jt=lt===void 0?!0:lt,Nt=pt.aggregationTargetLabel,Ve=Object(st.useValues)(Ke.b),J=Ve.people,Et=Ve.loadingMorePeople,Pt=Ve.firstLoadedPeople,hn=Ve.searchTerm,fn=Ve.isInitialLoad,Mt=Ve.peopleParams,_n=Ve.actorLabel,Rn=Ve.sessionRecordingId,W=Object(st.useActions)(Ke.b),ne=W.hidePeople,Re=W.loadMorePeople,Le=W.setFirstLoadedActors,$t=W.setPersonsModalFilters,_e=W.setSearchTerm,ke=W.switchToDataPoint,dn=W.openRecordingModal,Mn=W.closeRecordingModal,vn=Object(st.useValues)(Xt.a),un=vn.featureFlags,vt=Object(r.useMemo)(function(){var Tt,Ge,Kt;return fn?"Loading ".concat(Nt.plural,"\u2026"):Je.shown_as==="Stickiness"?j.a.createElement(j.a.Fragment,null,j.a.createElement(et.b,{value:(J==null?void 0:J.label)||"",disablePopover:!0})," stickiness on day ",J==null?void 0:J.day):Je.display==="ActionsBarValue"||Je.display==="ActionsPie"?j.a.createElement(et.b,{value:(J==null?void 0:J.label)||"",disablePopover:!0}):Je.insight===K.s.FUNNELS?j.a.createElement(j.a.Fragment,null,((Tt=J==null?void 0:J.funnelStep)!==null&&Tt!==void 0?Tt:0)>=0?"Completed":"Dropped off at"," step"," ",Math.abs((Ge=J==null?void 0:J.funnelStep)!==null&&Ge!==void 0?Ge:0)," \u2022 ",j.a.createElement(et.b,{value:(J==null?void 0:J.label)||"",disablePopover:!0})," ",J!=null&&J.breakdown_value?"\u2022 ".concat(J.breakdown_value):""):Je.insight===K.s.PATHS?j.a.createElement(j.a.Fragment,null,J!=null&&J.pathsDropoff?"Dropped off after":"Completed"," step"," ",j.a.createElement(et.b,{value:(J==null?void 0:J.label.replace(/(^[0-9]+_)/,""))||"",disablePopover:!0})):j.a.createElement(j.a.Fragment,null,Object(we.j)(_n)," list on"," ",j.a.createElement(it.a,{interval:Je.interval||"day",date:(J==null||(Kt=J.day)===null||Kt===void 0?void 0:Kt.toString())||""}))},[Je,J,fn]),Yt=un[rt.n.NEW_INSIGHT_COHORTS],Qt=!1,mn=(Vt===K.s.TRENDS||Vt===K.s.STICKINESS||!!Yt&&(Vt===K.s.FUNNELS||Vt===K.s.PATHS))&&jt,pn=Object(L.c)("white",J==null||(We=J.crossDataset)===null||We===void 0?void 0:We.length),zt=!!(!(J==null||(At=J.crossDataset)===null||At===void 0)&&At.find(function(Tt){var Ge=Tt.action;return(Ge==null?void 0:Ge.math)&&Ge.math!=="total"})),Cn=!!(!(J==null||(Lt=J.crossDataset)===null||Lt===void 0)&&Lt.find(function(Tt){var Ge=Tt.action;return Ge==null?void 0:Ge.order}));return j.a.createElement(j.a.Fragment,null,!!Rn&&j.a.createElement(sn.a,{onClose:Mn}),j.a.createElement(ut.a,{title:vt,visible:bt,onCancel:ne,footer:J&&J.count>0&&(Qt||mn)&&j.a.createElement(j.a.Fragment,null,Qt&&j.a.createElement(Ze.a,{icon:j.a.createElement(Q.a,null),href:Gt.a.actions.determinePeopleCsvUrl({label:J.label,action:J.action,date_from:J.day,date_to:J.day,breakdown_value:J.breakdown_value},Je),style:{marginRight:8},"data-attr":"person-modal-download-csv"},"Download CSV"),mn&&j.a.createElement(Ze.a,{onClick:_t,icon:j.a.createElement(Ce.a,null),"data-attr":"person-modal-save-as-cohort"},"Save as cohort")),width:600,className:"person-modal"},fn?j.a.createElement("div",{style:{padding:16}},j.a.createElement(he.a,{active:!0})):J&&j.a.createElement(j.a.Fragment,null,j.a.createElement(ce.a.Search,{allowClear:!0,enterButton:!0,placeholder:"Search for persons by email, name, or ID",onChange:function(Ge){_e(Ge.target.value),Ge.target.value||Le(Pt)},value:hn,onSearch:function(Ge){return Ge?$t(Ge,J,Je):Le(Pt)}}),un[rt.n.MULTI_POINT_PERSON_MODAL]&&!!(!((yt=J.crossDataset)===null||yt===void 0)&&yt.length)&&J.seriesId!==void 0&&j.a.createElement("div",{className:"data-point-selector"},j.a.createElement(x.a,{value:J.seriesId,onChange:function(Ge){return ke(Ge)}},J.crossDataset.map(function(Tt){var Ge,Kt;return j.a.createElement(x.a.Option,{value:Tt.id,key:"".concat((Ge=Tt.action)===null||Ge===void 0?void 0:Ge.id).concat(Tt.breakdown_value)},j.a.createElement(Ht.b,{seriesColor:pn[Tt.id],action:Tt.action,breakdownValue:Tt.breakdown_value===""?"None":(Kt=Tt.breakdown_value)===null||Kt===void 0?void 0:Kt.toString(),showCountedByTag:zt,hasMultipleSeries:Cn}))}))),j.a.createElement("div",{className:"user-count-subheader"},j.a.createElement(It.IconPersonFilled,{style:{fontSize:"1.125rem",marginRight:"0.5rem"}}),j.a.createElement("span",null,"This list contains"," ",j.a.createElement("b",null,J.count," unique ",Nt.plural),(Mt==null?void 0:Mt.pointValue)!==void 0&&(!(!((Ie=Mt.action)===null||Ie===void 0)&&Ie.math)||((nt=Mt.action)===null||nt===void 0?void 0:nt.math)==="total")&&j.a.createElement(j.a.Fragment,null," ","who performed the event"," ",j.a.createElement("b",null,Mt.pointValue," total"," ",Object(we.qb)(Mt.pointValue,"time",void 0,!1))),".")),J.count>0?j.a.createElement(s.a,{columns:[{title:"Person",key:"person",render:function(Ge,Kt){return j.a.createElement(St,{actor:Kt})}},{width:0,title:"Recordings",key:"recordings",render:function(Ge,Kt){var Sn,en;if(((Sn=Kt.matched_recordings)===null||Sn===void 0?void 0:Sn.length)&&((en=Kt.matched_recordings)===null||en===void 0?void 0:en.length)>0)return j.a.createElement(tt,{sessionRecordings:Kt.matched_recordings,onOpenRecording:function(Bn){dn(Bn.session_id)}})}}],className:"persons-table",rowKey:"id",expandable:{expandedRowRender:function(Ge){var Kt=Ge.properties;return Object.keys(Kt).length?j.a.createElement(M.a,{properties:Kt}):"This person has no properties."}},embedded:!0,showHeader:!1,dataSource:J.people,nouns:["person","persons"]}):j.a.createElement("div",{className:"person-row-container person-row"},"We couldn't find any matching ",Nt.plural," for this data point."),(J==null?void 0:J.next)&&j.a.createElement("div",{style:{margin:"1rem",textAlign:"center"}},j.a.createElement(Ze.a,{type:"primary",style:{color:"white"},onClick:Re,loading:Et},"Load more ",Nt.plural)))))}function St(pt){var We=pt.actor;return Object(we.W)(We)?j.a.createElement("div",{key:We.id,className:"person-row"},j.a.createElement("div",{className:"person-ids"},j.a.createElement("strong",null,j.a.createElement(rn.a,{actor:We})))):j.a.createElement("div",{key:We.id,className:"person-ids"},j.a.createElement("strong",null,j.a.createElement(pe.a,{person:We,withIcon:!1})),j.a.createElement(ve.a,{explicitValue:We.distinct_ids[0],iconStyle:{color:"var(--primary)"},iconPosition:"end",className:"text-small text-muted-alt"},Object(we.kb)(We.distinct_ids[0],32)))}try{ot.displayName="PersonsModal",ot.__docgenInfo={description:"",displayName:"PersonsModal",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"Partial<FilterType>"}},onSaveCohort:{defaultValue:null,description:"",name:"onSaveCohort",required:!0,type:{name:"() => void"}},showModalActions:{defaultValue:{value:"true"},description:"",name:"showModalActions",required:!1,type:{name:"boolean"}},aggregationTargetLabel:{defaultValue:null,description:"",name:"aggregationTargetLabel",required:!0,type:{name:"{ singular: string; plural: string; }"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"]={docgenInfo:ot.__docgenInfo,name:"PersonsModal",path:"frontend/src/scenes/trends/PersonsModal.tsx#PersonsModal"})}catch(pt){}try{St.displayName="ActorRow",St.__docgenInfo={description:"",displayName:"ActorRow",props:{actor:{defaultValue:null,description:"",name:"actor",required:!0,type:{name:"ActorType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"]={docgenInfo:St.__docgenInfo,name:"ActorRow",path:"frontend/src/scenes/trends/PersonsModal.tsx#ActorRow"})}catch(pt){}},"./frontend/src/scenes/trends/SaveCohortModal.tsx":function(be,z,e){"use strict";e.d(z,"a",function(){return X});var ae=e("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=e.n(ae),De=e("./node_modules/react/index.js"),He=e.n(De),N=e("./node_modules/antd/es/modal/index.js"),$e=e("./node_modules/antd/es/input/index.js");function X(oe){var r=oe.onOk,j=oe.onCancel,st=oe.visible,Q=Object(De.useState)(""),Ce=u()(Q,2),ut=Ce[0],Ze=Ce[1];return He.a.createElement(N.a,{title:"New Cohort",okText:"Save",cancelText:"Cancel",onOk:function(){r(ut),Ze("")},onCancel:j,visible:st},He.a.createElement("div",{className:"mb"},He.a.createElement($e.a,{required:!0,autoFocus:!0,placeholder:"Cohort name...",value:ut,"data-attr":"cohort-name",onChange:function(ce){return Ze(ce.target.value)}})))}try{X.displayName="SaveCohortModal",X.__docgenInfo={description:"",displayName:"SaveCohortModal",props:{onOk:{defaultValue:null,description:"",name:"onOk",required:!0,type:{name:"(title: string) => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"]={docgenInfo:X.__docgenInfo,name:"SaveCohortModal",path:"frontend/src/scenes/trends/SaveCohortModal.tsx#SaveCohortModal"})}catch(oe){}},"./node_modules/@ant-design/icons/es/icons/BarChartOutlined.js":function(be,z,e){"use strict";var ae=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},He=De,N=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),$e=function(r,j){return u.createElement(N.a,Object(ae.a)(Object(ae.a)({},r),{},{ref:j,icon:He}))};$e.displayName="BarChartOutlined";var X=z.a=u.forwardRef($e)},"./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js":function(be,z,e){"use strict";var ae=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},He=De,N=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),$e=function(r,j){return u.createElement(N.a,Object(ae.a)(Object(ae.a)({},r),{},{ref:j,icon:He}))};$e.displayName="DownloadOutlined";var X=z.a=u.forwardRef($e)},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(be,z,e){"use strict";var ae=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},He=De,N=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),$e=function(r,j){return u.createElement(N.a,Object(ae.a)(Object(ae.a)({},r),{},{ref:j,icon:He}))};$e.displayName="OrderedListOutlined";var X=z.a=u.forwardRef($e)},"./node_modules/@ant-design/icons/es/icons/PercentageOutlined.js":function(be,z,e){"use strict";var ae=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),u=e("./node_modules/react/index.js"),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},He=De,N=e("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),$e=function(r,j){return u.createElement(N.a,Object(ae.a)(Object(ae.a)({},r),{},{ref:j,icon:He}))};$e.displayName="PercentageOutlined";var X=z.a=u.forwardRef($e)},"./node_modules/antd/es/slider/index.js":function(be,z,e){"use strict";var ae=e("./node_modules/@babel/runtime/helpers/esm/typeof.js"),u=e("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),De=e("./node_modules/@babel/runtime/helpers/esm/extends.js"),He=e("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),N=e("./node_modules/react/index.js"),$e=e.n(N),X=e("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),oe=e("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),r=e("./node_modules/@babel/runtime/helpers/esm/createClass.js"),j=e("./node_modules/@babel/runtime/helpers/esm/inherits.js"),st=e("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),Q={};function Ce(f,p){}function ut(f,p){}function Ze(){Q={}}function he(f,p,C){!p&&!Q[C]&&(f(!1,C),Q[C]=!0)}function ce(f,p){he(Ce,f,p)}function x(f,p){he(ut,f,p)}var K=ce,Ke=function(p){var C,g,d=p.className,v=p.included,i=p.vertical,l=p.style,c=p.length,y=p.offset,w=p.reverse;c<0&&(w=!w,c=Math.abs(c),y=100-y);var a=i?(C={},Object(u.a)(C,w?"top":"bottom","".concat(y,"%")),Object(u.a)(C,w?"bottom":"top","auto"),Object(u.a)(C,"height","".concat(c,"%")),C):(g={},Object(u.a)(g,w?"right":"left","".concat(y,"%")),Object(u.a)(g,w?"left":"right","auto"),Object(u.a)(g,"width","".concat(c,"%")),g),n=Object(X.a)(Object(X.a)({},l),a);return v?$e.a.createElement("div",{className:d,style:n}):null},ve=Ke,we=e("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Ne=e("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),te=e("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");function Ye(f,p){for(;!Object.prototype.hasOwnProperty.call(f,p)&&(f=Object(te.a)(f),f!==null););return f}function Ee(f,p,C){return typeof Reflect!="undefined"&&Reflect.get?Ee=Reflect.get:Ee=function(d,v,i){var l=Ye(d,v);if(!!l){var c=Object.getOwnPropertyDescriptor(l,v);return c.get?c.get.call(i):c.value}},Ee(f,p,C||f)}var Pe=e("./node_modules/react-dom/index.js"),mt=e.n(Pe);function Te(f,p,C,g){var d=mt.a.unstable_batchedUpdates?function(i){mt.a.unstable_batchedUpdates(C,i)}:C;return f.addEventListener&&f.addEventListener(p,d,g),{remove:function(){f.removeEventListener&&f.removeEventListener(p,d)}}}var et=e("./node_modules/classnames/index.js"),M=e.n(et),it=function(p,C,g,d,v,i){K(g?d>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var l=Object.keys(C).map(parseFloat).sort(function(y,w){return y-w});if(g&&d)for(var c=v;c<=i;c+=d)l.indexOf(c)===-1&&l.push(c);return l},pe=function(p){var C=p.prefixCls,g=p.vertical,d=p.reverse,v=p.marks,i=p.dots,l=p.step,c=p.included,y=p.lowerBound,w=p.upperBound,a=p.max,n=p.min,t=p.dotStyle,o=p.activeDotStyle,m=a-n,h=it(g,v,i,l,n,a).map(function(b){var S,P="".concat(Math.abs(b-n)/m*100,"%"),D=!c&&b===w||c&&b<=w&&b>=y,U=g?Object(X.a)(Object(X.a)({},t),{},Object(u.a)({},d?"top":"bottom",P)):Object(X.a)(Object(X.a)({},t),{},Object(u.a)({},d?"right":"left",P));D&&(U=Object(X.a)(Object(X.a)({},U),o));var k=M()((S={},Object(u.a)(S,"".concat(C,"-dot"),!0),Object(u.a)(S,"".concat(C,"-dot-active"),D),Object(u.a)(S,"".concat(C,"-dot-reverse"),d),S));return $e.a.createElement("span",{className:k,style:U,key:b})});return $e.a.createElement("div",{className:"".concat(C,"-step")},h)},Gt=pe,s=function(p){var C=p.className,g=p.vertical,d=p.reverse,v=p.marks,i=p.included,l=p.upperBound,c=p.lowerBound,y=p.max,w=p.min,a=p.onClickLabel,n=Object.keys(v),t=y-w,o=n.map(parseFloat).sort(function(m,h){return m-h}).map(function(m){var h,b=v[m],S=Object(ae.a)(b)==="object"&&!$e.a.isValidElement(b),P=S?b.label:b;if(!P&&P!==0)return null;var D=!i&&m===l||i&&m<=l&&m>=c,U=M()((h={},Object(u.a)(h,"".concat(C,"-text"),!0),Object(u.a)(h,"".concat(C,"-text-active"),D),h)),k=Object(u.a)({marginBottom:"-50%"},d?"top":"bottom","".concat((m-w)/t*100,"%")),B=Object(u.a)({transform:"translateX(".concat(d?"50%":"-50%",")"),msTransform:"translateX(".concat(d?"50%":"-50%",")")},d?"right":"left","".concat((m-w)/t*100,"%")),ue=g?k:B,ie=S?Object(X.a)(Object(X.a)({},ue),b.style):ue;return $e.a.createElement("span",{className:U,style:ie,key:m,onMouseDown:function(Oe){return a(Oe,m)},onTouchStart:function(Oe){return a(Oe,m)}},P)});return $e.a.createElement("div",{className:C},o)},rn=s,It=["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"],Ht=function(f){Object(j.a)(C,f);var p=Object(st.a)(C);function C(){var g;Object(oe.a)(this,C);for(var d=arguments.length,v=new Array(d),i=0;i<d;i++)v[i]=arguments[i];return g=p.call.apply(p,[this].concat(v)),g.state={clickFocused:!1},g.onMouseUpListener=void 0,g.handle=void 0,g.setHandleRef=function(l){g.handle=l},g.handleMouseUp=function(){document.activeElement===g.handle&&g.setClickFocus(!0)},g.handleMouseDown=function(l){l.preventDefault(),g.focus()},g.handleBlur=function(){g.setClickFocus(!1)},g.handleKeyDown=function(){g.setClickFocus(!1)},g}return Object(r.a)(C,[{key:"componentDidMount",value:function(){this.onMouseUpListener=Te(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(d){this.setState({clickFocused:d})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var d,v,i=this.props,l=i.prefixCls,c=i.vertical,y=i.reverse,w=i.offset,a=i.style,n=i.disabled,t=i.min,o=i.max,m=i.value,h=i.tabIndex,b=i.ariaLabel,S=i.ariaLabelledBy,P=i.ariaValueTextFormatter,D=Object(we.a)(i,It),U=M()(this.props.className,Object(u.a)({},"".concat(l,"-handle-click-focused"),this.state.clickFocused)),k=c?(d={},Object(u.a)(d,y?"top":"bottom","".concat(w,"%")),Object(u.a)(d,y?"bottom":"top","auto"),Object(u.a)(d,"transform",y?null:"translateY(+50%)"),d):(v={},Object(u.a)(v,y?"right":"left","".concat(w,"%")),Object(u.a)(v,y?"left":"right","auto"),Object(u.a)(v,"transform","translateX(".concat(y?"+":"-","50%)")),v),B=Object(X.a)(Object(X.a)({},a),k),ue=h||0;(n||h===null)&&(ue=null);var ie;return P&&(ie=P(m)),$e.a.createElement("div",Object(De.a)({ref:this.setHandleRef,tabIndex:ue},D,{className:U,style:B,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":t,"aria-valuemax":o,"aria-valuenow":m,"aria-disabled":!!n,"aria-label":b,"aria-labelledby":S,"aria-valuetext":ie}))}}]),C}($e.a.Component),L={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(p){var C=p.keyCode;if(p.altKey&&!p.ctrlKey||p.metaKey||C>=L.F1&&C<=L.F12)return!1;switch(C){case L.ALT:case L.CAPS_LOCK:case L.CONTEXT_MENU:case L.CTRL:case L.DOWN:case L.END:case L.ESC:case L.HOME:case L.INSERT:case L.LEFT:case L.MAC_FF_META:case L.META:case L.NUMLOCK:case L.NUM_CENTER:case L.PAGE_DOWN:case L.PAGE_UP:case L.PAUSE:case L.PRINT_SCREEN:case L.RIGHT:case L.SHIFT:case L.UP:case L.WIN_KEY:case L.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(p){if(p>=L.ZERO&&p<=L.NINE||p>=L.NUM_ZERO&&p<=L.NUM_MULTIPLY||p>=L.A&&p<=L.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&p===0)return!0;switch(p){case L.SPACE:case L.QUESTION_MARK:case L.NUM_PLUS:case L.NUM_MINUS:case L.NUM_PERIOD:case L.NUM_DIVISION:case L.SEMICOLON:case L.DASH:case L.EQUALS:case L.COMMA:case L.PERIOD:case L.SLASH:case L.APOSTROPHE:case L.SINGLE_QUOTE:case L.OPEN_SQUARE_BRACKET:case L.BACKSLASH:case L.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Xt=L;function rt(f,p){try{return Object.keys(p).some(function(C){return f.target===Object(Pe.findDOMNode)(p[C])})}catch(C){return!1}}function sn(f,p){var C=p.min,g=p.max;return f<C||f>g}function Ut(f){return f.touches.length>1||f.type.toLowerCase()==="touchend"&&f.touches.length>0}function xt(f,p){var C=p.marks,g=p.step,d=p.min,v=p.max,i=Object.keys(C).map(parseFloat);if(g!==null){var l=Math.pow(10,qt(g)),c=Math.floor((v*l-d*l)/(g*l)),y=Math.min((f-d)/g,c),w=Math.round(y)*g+d;i.push(w)}var a=i.map(function(n){return Math.abs(f-n)});return i[a.indexOf(Math.min.apply(Math,Object(Ne.a)(a)))]}function qt(f){var p=f.toString(),C=0;return p.indexOf(".")>=0&&(C=p.length-p.indexOf(".")-1),C}function Ct(f,p){return f?p.clientY:p.pageX}function ht(f,p){return f?p.touches[0].clientY:p.touches[0].pageX}function Wt(f,p){var C=p.getBoundingClientRect();return f?C.top+C.height*.5:window.pageXOffset+C.left+C.width*.5}function Me(f,p){var C=p.max,g=p.min;return f<=g?g:f>=C?C:f}function Qe(f,p){var C=p.step,g=isFinite(xt(f,p))?xt(f,p):0;return C===null?g:parseFloat(g.toFixed(qt(C)))}function Fe(f){f.stopPropagation(),f.preventDefault()}function se(f,p,C){var g={increase:function(l,c){return l+c},decrease:function(l,c){return l-c}},d=g[f](Object.keys(C.marks).indexOf(JSON.stringify(p)),1),v=Object.keys(C.marks)[d];return C.step?g[f](p,C.step):!!Object.keys(C.marks).length&&!!C.marks[v]?C.marks[v]:p}function Zt(f,p,C){var g="increase",d="decrease",v=g;switch(f.keyCode){case Xt.UP:v=p&&C?d:g;break;case Xt.RIGHT:v=!p&&C?d:g;break;case Xt.DOWN:v=p&&C?g:d;break;case Xt.LEFT:v=!p&&C?g:d;break;case Xt.END:return function(i,l){return l.max};case Xt.HOME:return function(i,l){return l.min};case Xt.PAGE_UP:return function(i,l){return i+l.step*2};case Xt.PAGE_DOWN:return function(i,l){return i-l.step*2};default:return}return function(i,l){return se(v,i,l)}}var Rt=["index"];function tt(){}function ot(f){var p,C;return C=p=function(g){Object(j.a)(v,g);var d=Object(st.a)(v);function v(i){var l;Object(oe.a)(this,v),l=d.call(this,i),l.handlesRefs=void 0,l.sliderRef=void 0,l.document=void 0,l.dragOffset=void 0,l.prevMovedHandleIndex=void 0,l.onTouchMoveListener=void 0,l.onTouchUpListener=void 0,l.onMouseMoveListener=void 0,l.onMouseUpListener=void 0,l.dragTrack=void 0,l.startBounds=void 0,l.onDown=function(n,t){var o=t,m=l.props,h=m.draggableTrack,b=m.vertical,S=l.state.bounds,P=h&&l.positionGetValue?l.positionGetValue(o)||[]:[],D=rt(n,l.handlesRefs);if(l.dragTrack=h&&S.length>=2&&!D&&!P.map(function(k,B){var ue=B?!0:k>=S[B];return B===P.length-1?k<=S[B]:ue}).some(function(k){return!k}),l.dragTrack)l.dragOffset=o,l.startBounds=Object(Ne.a)(S);else{if(!D)l.dragOffset=0;else{var U=Wt(b,n.target);l.dragOffset=o-U,o=U}l.onStart(o)}},l.onMouseDown=function(n){if(n.button===0){l.removeDocumentEvents();var t=l.props.vertical,o=Ct(t,n);l.onDown(n,o),l.addDocumentMouseEvents()}},l.onTouchStart=function(n){if(!Ut(n)){var t=l.props.vertical,o=ht(t,n);l.onDown(n,o),l.addDocumentTouchEvents(),Fe(n)}},l.onFocus=function(n){var t=l.props,o=t.onFocus,m=t.vertical;if(rt(n,l.handlesRefs)&&!l.dragTrack){var h=Wt(m,n.target);l.dragOffset=0,l.onStart(h),Fe(n),o&&o(n)}},l.onBlur=function(n){var t=l.props.onBlur;l.dragTrack||l.onEnd(),t&&t(n)},l.onMouseUp=function(){l.handlesRefs[l.prevMovedHandleIndex]&&l.handlesRefs[l.prevMovedHandleIndex].clickFocus()},l.onMouseMove=function(n){if(!l.sliderRef){l.onEnd();return}var t=Ct(l.props.vertical,n);l.onMove(n,t-l.dragOffset,l.dragTrack,l.startBounds)},l.onTouchMove=function(n){if(Ut(n)||!l.sliderRef){l.onEnd();return}var t=ht(l.props.vertical,n);l.onMove(n,t-l.dragOffset,l.dragTrack,l.startBounds)},l.onKeyDown=function(n){l.sliderRef&&rt(n,l.handlesRefs)&&l.onKeyboard(n)},l.onClickMarkLabel=function(n,t){n.stopPropagation(),l.onChange({value:t}),l.setState({value:t},function(){return l.onEnd(!0)})},l.saveSlider=function(n){l.sliderRef=n};var c=i.step,y=i.max,w=i.min,a=isFinite(y-w)?(y-w)%c===0:!0;return K(c&&Math.floor(c)===c?a:!0,"Slider[max] - Slider[min] (".concat(y-w,") should be a multiple of Slider[step] (").concat(c,")")),l.handlesRefs={},l}return Object(r.a)(v,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var l=this.props,c=l.autoFocus,y=l.disabled;c&&!y&&this.focus()}},{key:"componentWillUnmount",value:function(){Ee(Object(te.a)(v.prototype),"componentWillUnmount",this)&&Ee(Object(te.a)(v.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var l=this.sliderRef,c=this.props,y=c.vertical,w=c.reverse,a=l.getBoundingClientRect();return y?w?a.bottom:a.top:window.pageXOffset+(w?a.right:a.left)}},{key:"getSliderLength",value:function(){var l=this.sliderRef;if(!l)return 0;var c=l.getBoundingClientRect();return this.props.vertical?c.height:c.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=Te(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Te(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=Te(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Te(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var l;this.props.disabled||(l=this.handlesRefs[0])===null||l===void 0||l.focus()}},{key:"blur",value:function(){var l=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(c){var y,w;(y=l.handlesRefs[c])===null||y===void 0||(w=y.blur)===null||w===void 0||w.call(y)})}},{key:"calcValue",value:function(l){var c=this.props,y=c.vertical,w=c.min,a=c.max,n=Math.abs(Math.max(l,0)/this.getSliderLength()),t=y?(1-n)*(a-w)+w:n*(a-w)+w;return t}},{key:"calcValueByPos",value:function(l){var c=this.props.reverse?-1:1,y=c*(l-this.getSliderStart()),w=this.trimAlignValue(this.calcValue(y));return w}},{key:"calcOffset",value:function(l){var c=this.props,y=c.min,w=c.max,a=(l-y)/(w-y);return Math.max(0,a*100)}},{key:"saveHandle",value:function(l,c){this.handlesRefs[l]=c}},{key:"render",value:function(){var l,c=this.props,y=c.prefixCls,w=c.className,a=c.marks,n=c.dots,t=c.step,o=c.included,m=c.disabled,h=c.vertical,b=c.reverse,S=c.min,P=c.max,D=c.children,U=c.maximumTrackStyle,k=c.style,B=c.railStyle,ue=c.dotStyle,ie=c.activeDotStyle,ge=Ee(Object(te.a)(v.prototype),"render",this).call(this),Oe=ge.tracks,Ae=ge.handles,ye=M()(y,(l={},Object(u.a)(l,"".concat(y,"-with-marks"),Object.keys(a).length),Object(u.a)(l,"".concat(y,"-disabled"),m),Object(u.a)(l,"".concat(y,"-vertical"),h),Object(u.a)(l,w,w),l));return $e.a.createElement("div",{ref:this.saveSlider,className:ye,onTouchStart:m?tt:this.onTouchStart,onMouseDown:m?tt:this.onMouseDown,onMouseUp:m?tt:this.onMouseUp,onKeyDown:m?tt:this.onKeyDown,onFocus:m?tt:this.onFocus,onBlur:m?tt:this.onBlur,style:k},$e.a.createElement("div",{className:"".concat(y,"-rail"),style:Object(X.a)(Object(X.a)({},U),B)}),Oe,$e.a.createElement(Gt,{prefixCls:y,vertical:h,reverse:b,marks:a,dots:n,step:t,included:o,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:P,min:S,dotStyle:ue,activeDotStyle:ie}),Ae,$e.a.createElement(rn,{className:"".concat(y,"-mark"),onClickLabel:m?tt:this.onClickMarkLabel,vertical:h,marks:a,included:o,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:P,min:S,reverse:b}),D)}}]),v}(f),p.displayName="ComponentEnhancer(".concat(f.displayName,")"),p.defaultProps=Object(X.a)(Object(X.a)({},f.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(d){var v=d.index,i=Object(we.a)(d,Rt);return delete i.dragging,i.value===null?null:$e.a.createElement(Ht,Object(De.a)({},i,{key:v}))},onBeforeChange:tt,onChange:tt,onAfterChange:tt,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),C}var St=function(f){Object(j.a)(C,f);var p=Object(st.a)(C);function C(g){var d;Object(oe.a)(this,C),d=p.call(this,g),d.positionGetValue=function(l){return[]},d.startValue=void 0,d.startPosition=void 0,d.prevMovedHandleIndex=void 0,d.onEnd=function(l){var c=d.state.dragging;d.removeDocumentEvents(),(c||l)&&d.props.onAfterChange(d.getValue()),d.setState({dragging:!1})};var v=g.defaultValue!==void 0?g.defaultValue:g.min,i=g.value!==void 0?g.value:v;return d.state={value:d.trimAlignValue(i),dragging:!1},K(!("minimumTrackStyle"in g),"minimumTrackStyle will be deprecated, please use trackStyle instead."),K(!("maximumTrackStyle"in g),"maximumTrackStyle will be deprecated, please use railStyle instead."),d}return Object(r.a)(C,[{key:"calcValueByPos",value:function(d){return 0}},{key:"calcOffset",value:function(d){return 0}},{key:"saveHandle",value:function(d,v){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(d,v){var i=this.props,l=i.min,c=i.max,y=i.value,w=i.onChange;if("min"in this.props||"max"in this.props){var a=y!==void 0?y:v.value,n=this.trimAlignValue(a,this.props);n!==v.value&&(this.setState({value:n}),!(l===d.min&&c===d.max)&&sn(a,this.props)&&w(n))}}},{key:"onChange",value:function(d){var v=this.props,i=!("value"in v),l=d.value>this.props.max?Object(X.a)(Object(X.a)({},d),{},{value:this.props.max}):d;i&&this.setState(l);var c=l.value;v.onChange(c)}},{key:"onStart",value:function(d){this.setState({dragging:!0});var v=this.props,i=this.getValue();v.onBeforeChange(i);var l=this.calcValueByPos(d);this.startValue=l,this.startPosition=d,l!==i&&(this.prevMovedHandleIndex=0,this.onChange({value:l}))}},{key:"onMove",value:function(d,v){Fe(d);var i=this.state.value,l=this.calcValueByPos(v);l!==i&&this.onChange({value:l})}},{key:"onKeyboard",value:function(d){var v=this.props,i=v.reverse,l=v.vertical,c=Zt(d,l,i);if(c){Fe(d);var y=this.state,w=y.value,a=c(w,this.props),n=this.trimAlignValue(a);if(n===w)return;this.onChange({value:n}),this.props.onAfterChange(n),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var d=this.props.startPoint||this.props.min;return this.state.value>d?d:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(d===null)return null;var i=Object(X.a)(Object(X.a)({},this.props),v),l=Me(d,i);return Qe(l,i)}},{key:"render",value:function(){var d=this,v=this.props,i=v.prefixCls,l=v.vertical,c=v.included,y=v.disabled,w=v.minimumTrackStyle,a=v.trackStyle,n=v.handleStyle,t=v.tabIndex,o=v.ariaLabelForHandle,m=v.ariaLabelledByForHandle,h=v.ariaValueTextFormatterForHandle,b=v.min,S=v.max,P=v.startPoint,D=v.reverse,U=v.handle,k=this.state,B=k.value,ue=k.dragging,ie=this.calcOffset(B),ge=U({className:"".concat(i,"-handle"),prefixCls:i,vertical:l,offset:ie,value:B,dragging:ue,disabled:y,min:b,max:S,reverse:D,index:0,tabIndex:t,ariaLabel:o,ariaLabelledBy:m,ariaValueTextFormatter:h,style:n[0]||n,ref:function($){return d.saveHandle(0,$)}}),Oe=P!==void 0?this.calcOffset(P):0,Ae=a[0]||a,ye=$e.a.createElement(ve,{className:"".concat(i,"-track"),vertical:l,included:c,offset:Oe,reverse:D,length:ie-Oe,style:Object(X.a)(Object(X.a)({},w),Ae)});return{tracks:ye,handles:ge}}}]),C}($e.a.Component),pt=ot(St),We=function(p){var C=p.value,g=p.handle,d=p.bounds,v=p.props,i=v.allowCross,l=v.pushable,c=Number(l),y=Me(C,v),w=y;return!i&&g!=null&&d!==void 0&&(g>0&&y<=d[g-1]+c&&(w=d[g-1]+c),g<d.length-1&&y>=d[g+1]-c&&(w=d[g+1]-c)),Qe(w,v)},At=function(f){Object(j.a)(C,f);var p=Object(st.a)(C);function C(g){var d;Object(oe.a)(this,C),d=p.call(this,g),d.startValue=void 0,d.startPosition=void 0,d.prevMovedHandleIndex=void 0,d.internalPointsCache=void 0,d.handlesRefs=void 0,d.dragTrack=void 0,d.positionGetValue=function(t){var o=d.getValue(),m=d.calcValueByPos(t),h=d.getClosestBound(m),b=d.getBoundNeedMoving(m,h),S=o[b];if(m===S)return null;var P=Object(Ne.a)(o);return P[b]=m,P},d.onEnd=function(t){var o=d.state.handle;d.removeDocumentEvents(),o||(d.dragTrack=!1),(o!==null||t)&&d.props.onAfterChange(d.getValue()),d.setState({handle:null})};var v=g.count,i=g.min,l=g.max,c=Array.apply(void 0,Object(Ne.a)(Array(v+1))).map(function(){return i}),y="defaultValue"in g?g.defaultValue:c,w=g.value!==void 0?g.value:y,a=w.map(function(t,o){return We({value:t,handle:o,props:g})}),n=a[0]===l?0:a.length-1;return d.state={handle:null,recent:n,bounds:a},d}return Object(r.a)(C,[{key:"calcValueByPos",value:function(d){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(d){return 0}},{key:"saveHandle",value:function(d,v){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(d,v){var i=this,l=this.props,c=l.onChange,y=l.value,w=l.min,a=l.max;if(("min"in this.props||"max"in this.props)&&!(w===d.min&&a===d.max)){var n=y||v.bounds;if(n.some(function(o){return sn(o,i.props)})){var t=n.map(function(o){return Me(o,i.props)});c(t)}}}},{key:"onChange",value:function(d){var v=this.props,i=!("value"in v);if(i)this.setState(d);else{var l={};["handle","recent"].forEach(function(w){d[w]!==void 0&&(l[w]=d[w])}),Object.keys(l).length&&this.setState(l)}var c=Object(X.a)(Object(X.a)({},this.state),d),y=c.bounds;v.onChange(y)}},{key:"onStart",value:function(d){var v=this.props,i=this.state,l=this.getValue();v.onBeforeChange(l);var c=this.calcValueByPos(d);this.startValue=c,this.startPosition=d;var y=this.getClosestBound(c);this.prevMovedHandleIndex=this.getBoundNeedMoving(c,y),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var w=l[this.prevMovedHandleIndex];if(c!==w){var a=Object(Ne.a)(i.bounds);a[this.prevMovedHandleIndex]=c,this.onChange({bounds:a})}}},{key:"onMove",value:function(d,v,i,l){Fe(d);var c=this.state,y=this.props,w=y.max||100,a=y.min||0;if(i){var n=y.vertical?-v:v;n=y.reverse?-n:n;var t=w-Math.max.apply(Math,Object(Ne.a)(l)),o=a-Math.min.apply(Math,Object(Ne.a)(l)),m=Math.min(Math.max(n/(this.getSliderLength()/(w-a)),o),t),h=l.map(function(P){return Math.floor(Math.max(Math.min(P+m,w),a))});c.bounds.map(function(P,D){return P===h[D]}).some(function(P){return!P})&&this.onChange({bounds:h});return}var b=this.calcValueByPos(v),S=c.bounds[c.handle];b!==S&&this.moveTo(b)}},{key:"onKeyboard",value:function(d){var v=this.props,i=v.reverse,l=v.vertical,c=Zt(d,l,i);if(c){Fe(d);var y=this.state,w=this.props,a=y.bounds,n=y.handle,t=a[n===null?y.recent:n],o=c(t,w),m=We({value:o,handle:n,bounds:y.bounds,props:w});if(m===t)return;var h=!0;this.moveTo(m,h)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(d){for(var v=this.state.bounds,i=0,l=1;l<v.length-1;l+=1)d>=v[l]&&(i=l);return Math.abs(v[i+1]-d)<Math.abs(v[i]-d)&&(i+=1),i}},{key:"getBoundNeedMoving",value:function(d,v){var i=this.state,l=i.bounds,c=i.recent,y=v,w=l[v+1]===l[v];return w&&l[c]===l[v]&&(y=c),w&&d!==l[v+1]&&(y=d<l[v+1]?v:v+1),y}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var d=this.state.bounds;return d[d.length-1]}},{key:"getPoints",value:function(){var d=this.props,v=d.marks,i=d.step,l=d.min,c=d.max,y=this.internalPointsCache;if(!y||y.marks!==v||y.step!==i){var w=Object(X.a)({},v);if(i!==null)for(var a=l;a<=c;a+=i)w[a]=a;var n=Object.keys(w).map(parseFloat);n.sort(function(t,o){return t-o}),this.internalPointsCache={marks:v,step:i,points:n}}return this.internalPointsCache.points}},{key:"moveTo",value:function(d,v){var i=this,l=this.state,c=this.props,y=Object(Ne.a)(l.bounds),w=l.handle===null?l.recent:l.handle;y[w]=d;var a=w;c.pushable!==!1?this.pushSurroundingHandles(y,a):c.allowCross&&(y.sort(function(n,t){return n-t}),a=y.indexOf(d)),this.onChange({recent:a,handle:a,bounds:y}),v&&(this.props.onAfterChange(y),this.setState({},function(){i.handlesRefs[a].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(d,v){var i=d[v],l=this.props.pushable,c=Number(l),y=0;if(d[v+1]-i<c&&(y=1),i-d[v-1]<c&&(y=-1),y!==0){var w=v+y,a=y*(d[w]-i);this.pushHandle(d,w,y,c-a)||(d[v]=d[w]-y*c)}}},{key:"pushHandle",value:function(d,v,i,l){for(var c=d[v],y=d[v];i*(y-c)<l;){if(!this.pushHandleOnePoint(d,v,i))return d[v]=c,!1;y=d[v]}return!0}},{key:"pushHandleOnePoint",value:function(d,v,i){var l=this.getPoints(),c=l.indexOf(d[v]),y=c+i;if(y>=l.length||y<0)return!1;var w=v+i,a=l[y],n=this.props.pushable,t=Number(n),o=i*(d[w]-a);return this.pushHandle(d,w,i,t-o)?(d[v]=a,!0):!1}},{key:"trimAlignValue",value:function(d){var v=this.state,i=v.handle,l=v.bounds;return We({value:d,handle:i,bounds:l,props:this.props})}},{key:"render",value:function(){var d=this,v=this.state,i=v.handle,l=v.bounds,c=this.props,y=c.prefixCls,w=c.vertical,a=c.included,n=c.disabled,t=c.min,o=c.max,m=c.reverse,h=c.handle,b=c.trackStyle,S=c.handleStyle,P=c.tabIndex,D=c.ariaLabelGroupForHandles,U=c.ariaLabelledByGroupForHandles,k=c.ariaValueTextFormatterGroupForHandles,B=l.map(function(Oe){return d.calcOffset(Oe)}),ue="".concat(y,"-handle"),ie=l.map(function(Oe,Ae){var ye,q=P[Ae]||0;(n||P[Ae]===null)&&(q=null);var $=i===Ae;return h({className:M()((ye={},Object(u.a)(ye,ue,!0),Object(u.a)(ye,"".concat(ue,"-").concat(Ae+1),!0),Object(u.a)(ye,"".concat(ue,"-dragging"),$),ye)),prefixCls:y,vertical:w,dragging:$,offset:B[Ae],value:Oe,index:Ae,tabIndex:q,min:t,max:o,reverse:m,disabled:n,style:S[Ae],ref:function(A){return d.saveHandle(Ae,A)},ariaLabel:D[Ae],ariaLabelledBy:U[Ae],ariaValueTextFormatter:k[Ae]})}),ge=l.slice(0,-1).map(function(Oe,Ae){var ye,q=Ae+1,$=M()((ye={},Object(u.a)(ye,"".concat(y,"-track"),!0),Object(u.a)(ye,"".concat(y,"-track-").concat(q),!0),ye));return $e.a.createElement(ve,{className:$,vertical:w,reverse:m,included:a,offset:B[q-1],length:B[q]-B[q-1],style:b[Ae],key:q})});return{tracks:ge,handles:ie}}}],[{key:"getDerivedStateFromProps",value:function(d,v){if(!("value"in d||"min"in d||"max"in d))return null;var i=d.value||v.bounds,l=i.map(function(c,y){return We({value:c,handle:y,bounds:v.bounds,props:d})});if(v.bounds.length===l.length){if(l.every(function(c,y){return c===v.bounds[y]}))return null}else l=i.map(function(c,y){return We({value:c,handle:y,props:d})});return Object(X.a)(Object(X.a)({},v),{},{bounds:l})}}]),C}($e.a.Component);At.displayName="Range",At.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var Lt=ot(At),yt=e("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),Ie=function(p){return+setTimeout(p,16)},nt=function(p){return clearTimeout(p)};typeof window!="undefined"&&"requestAnimationFrame"in window&&(Ie=function(p){return window.requestAnimationFrame(p)},nt=function(p){return window.cancelAnimationFrame(p)});function bt(f){return Ie(f)}bt.cancel=nt;function Vt(f,p){return f?f.contains(p):!1}function Je(f){return f instanceof HTMLElement?f:mt.a.findDOMNode(f)}var _t=e("./node_modules/react-is/index.js");function lt(f,p){typeof f=="function"?f(p):Object(ae.a)(f)==="object"&&f&&"current"in f&&(f.current=p)}function jt(){for(var f=arguments.length,p=new Array(f),C=0;C<f;C++)p[C]=arguments[C];return function(g){p.forEach(function(d){lt(d,g)})}}function Nt(f){var p,C,g=Object(_t.isMemo)(f)?f.type.type:f.type;return!(typeof g=="function"&&!(!((p=g.prototype)===null||p===void 0)&&p.render)||typeof f=="function"&&!(!((C=f.prototype)===null||C===void 0)&&C.render))}function Ve(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var J=Object(N.forwardRef)(function(f,p){var C=f.didUpdate,g=f.getContainer,d=f.children,v=Object(N.useRef)();Object(N.useImperativeHandle)(p,function(){return{}});var i=Object(N.useRef)(!1);return!i.current&&Ve()&&(v.current=g(),i.current=!0),Object(N.useEffect)(function(){C==null||C(f)}),Object(N.useEffect)(function(){return function(){var l,c;(l=v.current)===null||l===void 0||(c=l.parentNode)===null||c===void 0||c.removeChild(v.current)}},[]),v.current?mt.a.createPortal(d,v.current):null}),Et=J;function Pt(f,p,C){return C?f[0]===p[0]:f[0]===p[0]&&f[1]===p[1]}function hn(f,p,C){var g=f[p]||{};return Object(X.a)(Object(X.a)({},g),C)}function fn(f,p,C,g){for(var d=C.points,v=Object.keys(f),i=0;i<v.length;i+=1){var l=v[i];if(Pt(f[l].points,d,g))return"".concat(p,"-placement-").concat(l)}return""}var Mt=function(){if(typeof navigator=="undefined"||typeof window=="undefined")return!1;var f=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(f)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(f.substr(0,4)))};function _n(f,p){var C={};return C[f.toLowerCase()]=p.toLowerCase(),C["Webkit".concat(f)]="webkit".concat(p),C["Moz".concat(f)]="moz".concat(p),C["ms".concat(f)]="MS".concat(p),C["O".concat(f)]="o".concat(p.toLowerCase()),C}function Rn(f,p){var C={animationend:_n("Animation","AnimationEnd"),transitionend:_n("Transition","TransitionEnd")};return f&&("AnimationEvent"in p||delete C.animationend.animation,"TransitionEvent"in p||delete C.transitionend.transition),C}var W=Rn(Ve(),typeof window!="undefined"?window:{}),ne={};if(Ve()){var Re=document.createElement("div");ne=Re.style}var Le={};function $t(f){if(Le[f])return Le[f];var p=W[f];if(p)for(var C=Object.keys(p),g=C.length,d=0;d<g;d+=1){var v=C[d];if(Object.prototype.hasOwnProperty.call(p,v)&&v in ne)return Le[f]=p[v],Le[f]}return""}var _e=$t("animationend"),ke=$t("transitionend"),dn=!!(_e&&ke),Mn=_e||"animationend",vn=ke||"transitionend";function un(f,p){if(!f)return null;if(Object(ae.a)(f)==="object"){var C=p.replace(/-\w/g,function(g){return g[1].toUpperCase()});return f[C]}return"".concat(f,"-").concat(p)}var vt="none",Yt="appear",Qt="enter",mn="leave",pn="none",zt="prepare",Cn="start",Tt="active",Ge="end";function Kt(f){var p=Object(N.useRef)(!1),C=Object(N.useState)(f),g=Object(He.a)(C,2),d=g[0],v=g[1];function i(l){p.current||v(l)}return Object(N.useEffect)(function(){return function(){p.current=!0}},[]),[d,i]}var Sn=Ve()?N.useLayoutEffect:N.useEffect,en=Sn,kn=function(){var f=N.useRef(null);function p(){bt.cancel(f.current)}function C(g){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;p();var v=bt(function(){d<=1?g({isCanceled:function(){return v!==f.current}}):C(g,d-1)});f.current=v}return N.useEffect(function(){return function(){p()}},[]),[C,p]},Bn=[zt,Cn,Tt,Ge],qn=!1,ma=!0;function sa(f){return f===Tt||f===Ge}var pa=function(f,p){var C=N.useState(pn),g=Object(He.a)(C,2),d=g[0],v=g[1],i=kn(),l=Object(He.a)(i,2),c=l[0],y=l[1];function w(){v(zt)}return en(function(){if(d!==pn&&d!==Ge){var a=Bn.indexOf(d),n=Bn[a+1],t=p(d);t===qn?v(n):c(function(o){function m(){o.isCanceled()||v(n)}t===!0?m():Promise.resolve(t).then(m)})}},[f,d]),N.useEffect(function(){return function(){y()}},[]),[w,d]},ba=function(f){var p=Object(N.useRef)(),C=Object(N.useRef)(f);C.current=f;var g=N.useCallback(function(i){C.current(i)},[]);function d(i){i&&(i.removeEventListener(vn,g),i.removeEventListener(Mn,g))}function v(i){p.current&&p.current!==i&&d(p.current),i&&i!==p.current&&(i.addEventListener(vn,g),i.addEventListener(Mn,g),p.current=i)}return N.useEffect(function(){return function(){d(p.current)}},[]),[v,d]};function Yn(f,p,C,g){var d=g.motionEnter,v=d===void 0?!0:d,i=g.motionAppear,l=i===void 0?!0:i,c=g.motionLeave,y=c===void 0?!0:c,w=g.motionDeadline,a=g.motionLeaveImmediately,n=g.onAppearPrepare,t=g.onEnterPrepare,o=g.onLeavePrepare,m=g.onAppearStart,h=g.onEnterStart,b=g.onLeaveStart,S=g.onAppearActive,P=g.onEnterActive,D=g.onLeaveActive,U=g.onAppearEnd,k=g.onEnterEnd,B=g.onLeaveEnd,ue=g.onVisibleChanged,ie=Kt(),ge=Object(He.a)(ie,2),Oe=ge[0],Ae=ge[1],ye=Kt(vt),q=Object(He.a)(ye,2),$=q[0],R=q[1],A=Kt(null),F=Object(He.a)(A,2),_=F[0],ee=F[1],Z=Object(N.useRef)(!1),le=Object(N.useRef)(null),Se=Object(N.useRef)(!1),Be=Object(N.useRef)(null);function Ue(){var Ft=C();return Ft||Be.current}var xe=Object(N.useRef)(!1);function me(Ft){var nn=Ue();if(!(Ft&&!Ft.deadline&&Ft.target!==nn)){var gn;$===Yt&&xe.current?gn=U==null?void 0:U(nn,Ft):$===Qt&&xe.current?gn=k==null?void 0:k(nn,Ft):$===mn&&xe.current&&(gn=B==null?void 0:B(nn,Ft)),gn!==!1&&!Se.current&&(R(vt),ee(null))}}var qe=ba(me),Xe=Object(He.a)(qe,1),dt=Xe[0],Dt=N.useMemo(function(){var Ft,nn,gn;switch($){case"appear":return Ft={},Object(u.a)(Ft,zt,n),Object(u.a)(Ft,Cn,m),Object(u.a)(Ft,Tt,S),Ft;case"enter":return nn={},Object(u.a)(nn,zt,t),Object(u.a)(nn,Cn,h),Object(u.a)(nn,Tt,P),nn;case"leave":return gn={},Object(u.a)(gn,zt,o),Object(u.a)(gn,Cn,b),Object(u.a)(gn,Tt,D),gn;default:return{}}},[$]),ft=pa($,function(Ft){if(Ft===zt){var nn=Dt[zt];return nn?nn(Ue()):qn}if(cn in Dt){var gn;ee(((gn=Dt[cn])===null||gn===void 0?void 0:gn.call(Dt,Ue(),null))||null)}return cn===Tt&&(dt(Ue()),w>0&&(clearTimeout(le.current),le.current=setTimeout(function(){me({deadline:!0})},w))),ma}),bn=Object(He.a)(ft,2),En=bn[0],cn=bn[1],On=sa(cn);xe.current=On,en(function(){if(Ae(p),!!f){var Ft=Z.current;Z.current=!0;var nn;!Ft&&p&&l&&(nn=Yt),Ft&&p&&v&&(nn=Qt),(Ft&&!p&&y||!Ft&&a&&!p&&y)&&(nn=mn),nn&&(R(nn),En())}},[p]),Object(N.useEffect)(function(){($===Yt&&!l||$===Qt&&!v||$===mn&&!y)&&R(vt)},[l,v,y]),Object(N.useEffect)(function(){return function(){clearTimeout(le.current),Se.current=!0}},[]),Object(N.useEffect)(function(){Oe!==void 0&&$===vt&&(ue==null||ue(Oe))},[Oe,$]);var on=_;return Dt[zt]&&cn===Cn&&(on=Object(X.a)({transition:"none"},on)),[$,cn,on,Oe!=null?Oe:p]}var ea=function(f){Object(j.a)(C,f);var p=Object(st.a)(C);function C(){return Object(oe.a)(this,C),p.apply(this,arguments)}return Object(r.a)(C,[{key:"render",value:function(){return this.props.children}}]),C}(N.Component),ca=ea;function ta(f){var p=f;Object(ae.a)(f)==="object"&&(p=f.transitionSupport);function C(d){return!!(d.motionName&&p)}var g=N.forwardRef(function(d,v){var i=d.visible,l=i===void 0?!0:i,c=d.removeOnLeave,y=c===void 0?!0:c,w=d.forceRender,a=d.children,n=d.motionName,t=d.leavedClassName,o=d.eventProps,m=C(d),h=Object(N.useRef)(),b=Object(N.useRef)();function S(){try{return Je(h.current||b.current)}catch($){return null}}var P=Yn(m,l,S,d),D=Object(He.a)(P,4),U=D[0],k=D[1],B=D[2],ue=D[3],ie=Object(N.useRef)(v);ie.current=v;var ge=N.useCallback(function($){h.current=$,lt(ie.current,$)},[]),Oe,Ae=Object(X.a)(Object(X.a)({},o),{},{visible:l});if(!a)Oe=null;else if(U===vt||!C(d))ue?Oe=a(Object(X.a)({},Ae),ge):y?w?Oe=a(Object(X.a)(Object(X.a)({},Ae),{},{style:{display:"none"}}),ge):Oe=null:Oe=a(Object(X.a)(Object(X.a)({},Ae),{},{className:t}),ge);else{var ye,q;k===zt?q="prepare":sa(k)?q="active":k===Cn&&(q="start"),Oe=a(Object(X.a)(Object(X.a)({},Ae),{},{className:M()(un(n,U),(ye={},Object(u.a)(ye,un(n,"".concat(U,"-").concat(q)),q),Object(u.a)(ye,n,typeof n=="string"),ye)),style:B}),ge)}return N.createElement(ca,{ref:b},Oe)});return g.displayName="CSSMotion",g}var Hn=ta(dn),Zn="add",Gn="keep",$n="remove",da="removed";function Un(f){var p;return f&&Object(ae.a)(f)==="object"&&"key"in f?p=f:p={key:f},Object(X.a)(Object(X.a)({},p),{},{key:String(p.key)})}function Kn(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f.map(Un)}function Dn(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=[],g=0,d=p.length,v=Kn(f),i=Kn(p);v.forEach(function(y){for(var w=!1,a=g;a<d;a+=1){var n=i[a];if(n.key===y.key){g<a&&(C=C.concat(i.slice(g,a).map(function(t){return Object(X.a)(Object(X.a)({},t),{},{status:Zn})})),g=a),C.push(Object(X.a)(Object(X.a)({},n),{},{status:Gn})),g+=1,w=!0;break}}w||C.push(Object(X.a)(Object(X.a)({},y),{},{status:$n}))}),g<d&&(C=C.concat(i.slice(g).map(function(y){return Object(X.a)(Object(X.a)({},y),{},{status:Zn})})));var l={};C.forEach(function(y){var w=y.key;l[w]=(l[w]||0)+1});var c=Object.keys(l).filter(function(y){return l[y]>1});return c.forEach(function(y){C=C.filter(function(w){var a=w.key,n=w.status;return a!==y||n!==$n}),C.forEach(function(w){w.key===y&&(w.status=Gn)})}),C}var na=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function E(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hn,C=function(g){Object(j.a)(v,g);var d=Object(st.a)(v);function v(){var i;return Object(oe.a)(this,v),i=d.apply(this,arguments),i.state={keyEntities:[]},i.removeKey=function(l){i.setState(function(c){var y=c.keyEntities;return{keyEntities:y.map(function(w){return w.key!==l?w:Object(X.a)(Object(X.a)({},w),{},{status:da})})}})},i}return Object(r.a)(v,[{key:"render",value:function(){var l=this,c=this.state.keyEntities,y=this.props,w=y.component,a=y.children,n=y.onVisibleChanged,t=Object(we.a)(y,["component","children","onVisibleChanged"]),o=w||N.Fragment,m={};return na.forEach(function(h){m[h]=t[h],delete t[h]}),delete t.keys,N.createElement(o,Object.assign({},t),c.map(function(h){var b=h.status,S=Object(we.a)(h,["status"]),P=b===Zn||b===Gn;return N.createElement(p,Object.assign({},m,{key:S.key,visible:P,eventProps:S,onVisibleChanged:function(U){n==null||n(U,{key:S.key}),U||l.removeKey(S.key)}}),a)}))}}],[{key:"getDerivedStateFromProps",value:function(l,c){var y=l.keys,w=c.keyEntities,a=Kn(y),n=Dn(w,a);return{keyEntities:n.filter(function(t){var o=w.find(function(m){var h=m.key;return t.key===h});return!(o&&o.status===da&&t.status===$n)})}}}]),v}(N.Component);return C.defaultProps={component:"div"},C}var O=E(dn),T=Hn;function I(f){var p=f.prefixCls,C=f.motion,g=f.animation,d=f.transitionName;return C||(g?{motionName:"".concat(p,"-").concat(g)}:d?{motionName:d}:null)}function Y(f){var p=f.prefixCls,C=f.visible,g=f.zIndex,d=f.mask,v=f.maskMotion,i=f.maskAnimation,l=f.maskTransitionName;if(!d)return null;var c={};return(v||l||i)&&(c=Object(X.a)({motionAppear:!0},I({motion:v,prefixCls:p,transitionName:l,animation:i}))),N.createElement(T,Object(De.a)({},c,{visible:C,removeOnLeave:!0}),function(y){var w=y.className;return N.createElement("div",{style:{zIndex:g},className:M()("".concat(p,"-mask"),w)})})}var de=e("./node_modules/rc-align/es/index.js"),re=e("./node_modules/@babel/runtime/regenerator/index.js"),V=e.n(re),fe=e("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),G=["measure","align",null,"motion"],ct=function(f,p){var C=Object(N.useState)(null),g=Object(He.a)(C,2),d=g[0],v=g[1],i=Object(N.useRef)(),l=Object(N.useRef)(!1);function c(a){l.current||v(a)}function y(){bt.cancel(i.current)}function w(a){y(),i.current=bt(function(){c(function(n){switch(d){case"align":return"motion";case"motion":return"stable";default:}return n}),a==null||a()})}return Object(N.useEffect)(function(){c("measure")},[f]),Object(N.useEffect)(function(){switch(d){case"measure":p();break;default:}d&&(i.current=bt(Object(fe.a)(V.a.mark(function a(){var n,t;return V.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:n=G.indexOf(d),t=G[n+1],t&&n!==-1&&c(t);case 3:case"end":return m.stop()}},a)}))))},[d]),Object(N.useEffect)(function(){return function(){l.current=!0,y()}},[]),[d,w]},Ot=function(f){var p=N.useState({width:0,height:0}),C=Object(He.a)(p,2),g=C[0],d=C[1];function v(l){d({width:l.offsetWidth,height:l.offsetHeight})}var i=N.useMemo(function(){var l={};if(f){var c=g.width,y=g.height;f.indexOf("height")!==-1&&y?l.height=y:f.indexOf("minHeight")!==-1&&y&&(l.minHeight=y),f.indexOf("width")!==-1&&c?l.width=c:f.indexOf("minWidth")!==-1&&c&&(l.minWidth=c)}return l},[f,g]);return[i,v]},gt=N.forwardRef(function(f,p){var C=f.visible,g=f.prefixCls,d=f.className,v=f.style,i=f.children,l=f.zIndex,c=f.stretch,y=f.destroyPopupOnHide,w=f.align,a=f.point,n=f.getRootDomNode,t=f.getClassNameFromAlign,o=f.onAlign,m=f.onMouseEnter,h=f.onMouseLeave,b=f.onMouseDown,S=f.onTouchStart,P=Object(N.useRef)(),D=Object(N.useRef)(),U=Object(N.useState)(),k=Object(He.a)(U,2),B=k[0],ue=k[1],ie=Ot(c),ge=Object(He.a)(ie,2),Oe=ge[0],Ae=ge[1];function ye(){c&&Ae(n())}var q=ct(C,ye),$=Object(He.a)(q,2),R=$[0],A=$[1],F=Object(N.useRef)();function _(){return a||n}function ee(){var me;(me=P.current)===null||me===void 0||me.forceAlign()}function Z(me,qe){if(R==="align"){var Xe=t(qe);ue(Xe),B!==Xe?Promise.resolve().then(function(){ee()}):A(function(){var dt;(dt=F.current)===null||dt===void 0||dt.call(F)}),o==null||o(me,qe)}}var le=Object(X.a)({},I(f));["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach(function(me){var qe=le[me];le[me]=function(Xe,dt){return A(),qe==null?void 0:qe(Xe,dt)}});function Se(){return new Promise(function(me){F.current=me})}N.useEffect(function(){!le.motionName&&R==="motion"&&A()},[le.motionName,R]),N.useImperativeHandle(p,function(){return{forceAlign:ee,getElement:function(){return D.current}}});var Be=Object(X.a)(Object(X.a)(Object(X.a)({},Oe),{},{zIndex:l},v),{},{opacity:R==="motion"||R==="stable"||!C?void 0:0,pointerEvents:R==="stable"?void 0:"none"}),Ue=!0;(w==null?void 0:w.points)&&(R==="align"||R==="stable")&&(Ue=!1);var xe=i;return N.Children.count(i)>1&&(xe=N.createElement("div",{className:"".concat(g,"-content")},i)),N.createElement(T,Object(De.a)({visible:C,ref:D,leavedClassName:"".concat(g,"-hidden")},le,{onAppearPrepare:Se,onEnterPrepare:Se,removeOnLeave:y}),function(me,qe){var Xe=me.className,dt=me.style,Dt=M()(g,d,B,Xe);return N.createElement(de.a,{target:_(),key:"popup",ref:P,monitorWindowResize:!0,disabled:Ue,align:w,onAlign:Z},N.createElement("div",{ref:qe,className:Dt,onMouseEnter:m,onMouseLeave:h,onMouseDownCapture:b,onTouchStartCapture:S,style:Object(X.a)(Object(X.a)({},dt),Be)},xe))})});gt.displayName="PopupInner";var at=gt,ze=N.forwardRef(function(f,p){var C=f.prefixCls,g=f.visible,d=f.zIndex,v=f.children,i=f.mobile;i=i===void 0?{}:i;var l=i.popupClassName,c=i.popupStyle,y=i.popupMotion,w=y===void 0?{}:y,a=i.popupRender,n=N.useRef();N.useImperativeHandle(p,function(){return{forceAlign:function(){},getElement:function(){return n.current}}});var t=Object(X.a)({zIndex:d},c),o=v;return N.Children.count(v)>1&&(o=N.createElement("div",{className:"".concat(C,"-content")},v)),a&&(o=a(o)),N.createElement(T,Object(De.a)({visible:g,ref:n,removeOnLeave:!0},w),function(m,h){var b=m.className,S=m.style,P=M()(C,l,b);return N.createElement("div",{ref:h,className:P,style:Object(X.a)(Object(X.a)({},S),t)},o)})});ze.displayName="MobilePopupInner";var H=ze,Tn=N.forwardRef(function(f,p){var C=f.visible,g=f.mobile,d=Object(we.a)(f,["visible","mobile"]),v=Object(N.useState)(C),i=Object(He.a)(v,2),l=i[0],c=i[1],y=Object(N.useState)(!1),w=Object(He.a)(y,2),a=w[0],n=w[1],t=Object(X.a)(Object(X.a)({},d),{},{visible:l});Object(N.useEffect)(function(){c(C),C&&g&&n(Mt())},[C,g]);var o=a?N.createElement(H,Object(De.a)({},t,{mobile:g,ref:p})):N.createElement(at,Object(De.a)({},t,{ref:p}));return N.createElement("div",null,N.createElement(Y,t),o)});Tn.displayName="Popup";var yn=Tn,wn=N.createContext(null),Fn=wn;function je(){}function jn(){return""}function Vn(f){return f?f.ownerDocument:window.document}var wt=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];function ln(f){var p=function(C){Object(j.a)(d,C);var g=Object(st.a)(d);function d(v){var i;Object(oe.a)(this,d),i=g.call(this,v),i.popupRef=N.createRef(),i.triggerRef=N.createRef(),i.onMouseEnter=function(c){var y=i.props.mouseEnterDelay;i.fireEvents("onMouseEnter",c),i.delaySetPopupVisible(!0,y,y?null:c)},i.onMouseMove=function(c){i.fireEvents("onMouseMove",c),i.setPoint(c)},i.onMouseLeave=function(c){i.fireEvents("onMouseLeave",c),i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.onPopupMouseEnter=function(){i.clearDelayTimer()},i.onPopupMouseLeave=function(c){var y;c.relatedTarget&&!c.relatedTarget.setTimeout&&Vt((y=i.popupRef.current)===null||y===void 0?void 0:y.getElement(),c.relatedTarget)||i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.onFocus=function(c){i.fireEvents("onFocus",c),i.clearDelayTimer(),i.isFocusToShow()&&(i.focusTime=Date.now(),i.delaySetPopupVisible(!0,i.props.focusDelay))},i.onMouseDown=function(c){i.fireEvents("onMouseDown",c),i.preClickTime=Date.now()},i.onTouchStart=function(c){i.fireEvents("onTouchStart",c),i.preTouchTime=Date.now()},i.onBlur=function(c){i.fireEvents("onBlur",c),i.clearDelayTimer(),i.isBlurToHide()&&i.delaySetPopupVisible(!1,i.props.blurDelay)},i.onContextMenu=function(c){c.preventDefault(),i.fireEvents("onContextMenu",c),i.setPopupVisible(!0,c)},i.onContextMenuClose=function(){i.isContextMenuToShow()&&i.close()},i.onClick=function(c){if(i.fireEvents("onClick",c),i.focusTime){var y;if(i.preClickTime&&i.preTouchTime?y=Math.min(i.preClickTime,i.preTouchTime):i.preClickTime?y=i.preClickTime:i.preTouchTime&&(y=i.preTouchTime),Math.abs(y-i.focusTime)<20)return;i.focusTime=0}i.preClickTime=0,i.preTouchTime=0,i.isClickToShow()&&(i.isClickToHide()||i.isBlurToHide())&&c&&c.preventDefault&&c.preventDefault();var w=!i.state.popupVisible;(i.isClickToHide()&&!w||w&&i.isClickToShow())&&i.setPopupVisible(!i.state.popupVisible,c)},i.onPopupMouseDown=function(){if(i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=window.setTimeout(function(){i.hasPopupMouseDown=!1},0),i.context){var c;(c=i.context).onPopupMouseDown.apply(c,arguments)}},i.onDocumentClick=function(c){if(!(i.props.mask&&!i.props.maskClosable)){var y=c.target,w=i.getRootDomNode(),a=i.getPopupDomNode();!Vt(w,y)&&!Vt(a,y)&&!i.hasPopupMouseDown&&i.close()}},i.getRootDomNode=function(){var c=i.props.getTriggerDOMNode;if(c)return c(i.triggerRef.current);try{var y=Je(i.triggerRef.current);if(y)return y}catch(w){}return mt.a.findDOMNode(Object(yt.a)(i))},i.getPopupClassNameFromAlign=function(c){var y=[],w=i.props,a=w.popupPlacement,n=w.builtinPlacements,t=w.prefixCls,o=w.alignPoint,m=w.getPopupClassNameFromAlign;return a&&n&&y.push(fn(n,t,c,o)),m&&y.push(m(c)),y.join(" ")},i.getComponent=function(){var c=i.props,y=c.prefixCls,w=c.destroyPopupOnHide,a=c.popupClassName,n=c.onPopupAlign,t=c.popupMotion,o=c.popupAnimation,m=c.popupTransitionName,h=c.popupStyle,b=c.mask,S=c.maskAnimation,P=c.maskTransitionName,D=c.maskMotion,U=c.zIndex,k=c.popup,B=c.stretch,ue=c.alignPoint,ie=c.mobile,ge=i.state,Oe=ge.popupVisible,Ae=ge.point,ye=i.getPopupAlign(),q={};return i.isMouseEnterToShow()&&(q.onMouseEnter=i.onPopupMouseEnter),i.isMouseLeaveToHide()&&(q.onMouseLeave=i.onPopupMouseLeave),q.onMouseDown=i.onPopupMouseDown,q.onTouchStart=i.onPopupMouseDown,N.createElement(yn,Object(De.a)({prefixCls:y,destroyPopupOnHide:w,visible:Oe,point:ue&&Ae,className:a,align:ye,onAlign:n,animation:o,getClassNameFromAlign:i.getPopupClassNameFromAlign},q,{stretch:B,getRootDomNode:i.getRootDomNode,style:h,mask:b,zIndex:U,transitionName:m,maskAnimation:S,maskTransitionName:P,maskMotion:D,ref:i.popupRef,motion:t,mobile:ie}),typeof k=="function"?k():k)},i.attachParent=function(c){bt.cancel(i.attachId);var y=i.props,w=y.getPopupContainer,a=y.getDocument,n=i.getRootDomNode(),t;w?(n||w.length===0)&&(t=w(n)):t=a(i.getRootDomNode()).body,t?t.appendChild(c):i.attachId=bt(function(){i.attachParent(c)})},i.getContainer=function(){var c=i.props.getDocument,y=c(i.getRootDomNode()).createElement("div");return y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",i.attachParent(y),y},i.setPoint=function(c){var y=i.props.alignPoint;!y||!c||i.setState({point:{pageX:c.pageX,pageY:c.pageY}})},i.handlePortalUpdate=function(){i.state.prevPopupVisible!==i.state.popupVisible&&i.props.afterPopupVisibleChange(i.state.popupVisible)};var l;return"popupVisible"in v?l=!!v.popupVisible:l=!!v.defaultPopupVisible,i.state={prevPopupVisible:l,popupVisible:l},wt.forEach(function(c){i["fire".concat(c)]=function(y){i.fireEvents(c,y)}}),i}return Object(r.a)(d,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var i=this.props,l=this.state;if(l.popupVisible){var c;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextMenuToShow())&&(c=i.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Te(c,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(c=c||i.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Te(c,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(c=c||i.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Te(c,"scroll",this.onContextMenuClose)),!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Te(window,"blur",this.onContextMenuClose));return}this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),bt.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var i;return((i=this.popupRef.current)===null||i===void 0?void 0:i.getElement())||null}},{key:"getPopupAlign",value:function(){var i=this.props,l=i.popupPlacement,c=i.popupAlign,y=i.builtinPlacements;return l&&y?hn(y,l,c):c}},{key:"setPopupVisible",value:function(i,l){var c=this.props.alignPoint,y=this.state.popupVisible;this.clearDelayTimer(),y!==i&&("popupVisible"in this.props||this.setState({popupVisible:i,prevPopupVisible:y}),this.props.onPopupVisibleChange(i)),c&&l&&i&&this.setPoint(l)}},{key:"delaySetPopupVisible",value:function(i,l,c){var y=this,w=l*1e3;if(this.clearDelayTimer(),w){var a=c?{pageX:c.pageX,pageY:c.pageY}:null;this.delayTimer=window.setTimeout(function(){y.setPopupVisible(i,a),y.clearDelayTimer()},w)}else this.setPopupVisible(i,c)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(i){var l=this.props.children.props,c=this.props;return l[i]&&c[i]?this["fire".concat(i)]:l[i]||c[i]}},{key:"isClickToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("click")!==-1||c.indexOf("click")!==-1}},{key:"isContextMenuToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("contextMenu")!==-1||c.indexOf("contextMenu")!==-1}},{key:"isClickToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("click")!==-1||c.indexOf("click")!==-1}},{key:"isMouseEnterToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("hover")!==-1||c.indexOf("mouseEnter")!==-1}},{key:"isMouseLeaveToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("hover")!==-1||c.indexOf("mouseLeave")!==-1}},{key:"isFocusToShow",value:function(){var i=this.props,l=i.action,c=i.showAction;return l.indexOf("focus")!==-1||c.indexOf("focus")!==-1}},{key:"isBlurToHide",value:function(){var i=this.props,l=i.action,c=i.hideAction;return l.indexOf("focus")!==-1||c.indexOf("blur")!==-1}},{key:"forcePopupAlign",value:function(){if(this.state.popupVisible){var i;(i=this.popupRef.current)===null||i===void 0||i.forceAlign()}}},{key:"fireEvents",value:function(i,l){var c=this.props.children.props[i];c&&c(l);var y=this.props[i];y&&y(l)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var i=this.state.popupVisible,l=this.props,c=l.children,y=l.forceRender,w=l.alignPoint,a=l.className,n=l.autoDestroy,t=N.Children.only(c),o={key:"trigger"};this.isContextMenuToShow()?o.onContextMenu=this.onContextMenu:o.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMouseDown=this.onMouseDown,o.onTouchStart=this.onTouchStart):(o.onClick=this.createTwoChains("onClick"),o.onMouseDown=this.createTwoChains("onMouseDown"),o.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(o.onMouseEnter=this.onMouseEnter,w&&(o.onMouseMove=this.onMouseMove)):o.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?o.onMouseLeave=this.onMouseLeave:o.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=this.createTwoChains("onBlur"));var m=M()(t&&t.props&&t.props.className,a);m&&(o.className=m);var h=Object(X.a)({},o);Nt(t)&&(h.ref=jt(this.triggerRef,t.ref));var b=N.cloneElement(t,h),S;return(i||this.popupRef.current||y)&&(S=N.createElement(f,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!i&&n&&(S=null),N.createElement(Fn.Provider,{value:{onPopupMouseDown:this.onPopupMouseDown}},b,S)}}],[{key:"getDerivedStateFromProps",value:function(i,l){var c=i.popupVisible,y={};return c!==void 0&&l.popupVisible!==c&&(y.popupVisible=c,y.prevPopupVisible=l.popupVisible),y}}]),d}(N.Component);return p.contextType=Fn,p.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:jn,getDocument:Vn,onPopupVisibleChange:je,afterPopupVisibleChange:je,onPopupAlign:je,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},p}var An=ln(Et),kt={adjustX:1,adjustY:1},Bt=[0,0],tn={left:{points:["cr","cl"],overflow:kt,offset:[-4,0],targetOffset:Bt},right:{points:["cl","cr"],overflow:kt,offset:[4,0],targetOffset:Bt},top:{points:["bc","tc"],overflow:kt,offset:[0,-4],targetOffset:Bt},bottom:{points:["tc","bc"],overflow:kt,offset:[0,4],targetOffset:Bt},topLeft:{points:["bl","tl"],overflow:kt,offset:[0,-4],targetOffset:Bt},leftTop:{points:["tr","tl"],overflow:kt,offset:[-4,0],targetOffset:Bt},topRight:{points:["br","tr"],overflow:kt,offset:[0,-4],targetOffset:Bt},rightTop:{points:["tl","tr"],overflow:kt,offset:[4,0],targetOffset:Bt},bottomRight:{points:["tr","br"],overflow:kt,offset:[0,4],targetOffset:Bt},rightBottom:{points:["bl","br"],overflow:kt,offset:[4,0],targetOffset:Bt},bottomLeft:{points:["tl","bl"],overflow:kt,offset:[0,4],targetOffset:Bt},leftBottom:{points:["br","bl"],overflow:kt,offset:[-4,0],targetOffset:Bt}},Pn=tn,aa=function(p){var C=p.overlay,g=p.prefixCls,d=p.id,v=p.overlayInnerStyle;return N.createElement("div",{className:"".concat(g,"-inner"),id:d,role:"tooltip",style:v},typeof C=="function"?C():C)},ra=aa,ua=function(p,C){var g=p.overlayClassName,d=p.trigger,v=d===void 0?["hover"]:d,i=p.mouseEnterDelay,l=i===void 0?0:i,c=p.mouseLeaveDelay,y=c===void 0?.1:c,w=p.overlayStyle,a=p.prefixCls,n=a===void 0?"rc-tooltip":a,t=p.children,o=p.onVisibleChange,m=p.afterVisibleChange,h=p.transitionName,b=p.animation,S=p.placement,P=S===void 0?"right":S,D=p.align,U=D===void 0?{}:D,k=p.destroyTooltipOnHide,B=k===void 0?!1:k,ue=p.defaultVisible,ie=p.getTooltipContainer,ge=p.overlayInnerStyle,Oe=Object(we.a)(p,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),Ae=Object(N.useRef)(null);Object(N.useImperativeHandle)(C,function(){return Ae.current});var ye=Object(X.a)({},Oe);"visible"in p&&(ye.popupVisible=p.visible);var q=function(){var _=p.arrowContent,ee=_===void 0?null:_,Z=p.overlay,le=p.id;return[N.createElement("div",{className:"".concat(n,"-arrow"),key:"arrow"},ee),N.createElement(ra,{key:"content",prefixCls:n,id:le,overlay:Z,overlayInnerStyle:ge})]},$=!1,R=!1;if(typeof B=="boolean")$=B;else if(B&&Object(ae.a)(B)==="object"){var A=B.keepParent;$=A===!0,R=A===!1}return N.createElement(An,Object.assign({popupClassName:g,prefixCls:n,popup:q,action:v,builtinPlacements:tn,popupPlacement:P,ref:Ae,popupAlign:U,getPopupContainer:ie,onPopupVisibleChange:o,afterPopupVisibleChange:m,popupTransitionName:h,popupAnimation:b,defaultPopupVisible:ue,destroyPopupOnHide:$,autoDestroy:R,mouseLeaveDelay:y,popupStyle:w,mouseEnterDelay:l},ye),t)},ia=Object(N.forwardRef)(ua),ga=ia,fa=N.forwardRef(function(f,p){var C=f.visible,g=f.overlay,d=N.useRef(null),v=jt(p,d),i=N.useRef(null);function l(){bt.cancel(i.current)}function c(){i.current=bt(function(){var y;(y=d.current)===null||y===void 0||y.forcePopupAlign()})}return N.useEffect(function(){return C?c():l(),l},[C,g]),N.createElement(ga,Object(De.a)({ref:v},f))}),In=fa,Jt=["value","dragging","index","disabled"],Wn=["prefixCls","overlay","placement","visible"];function la(f){var p,C;return C=p=function(g){Object(j.a)(v,g);var d=Object(st.a)(v);function v(){var i;Object(oe.a)(this,v);for(var l=arguments.length,c=new Array(l),y=0;y<l;y++)c[y]=arguments[y];return i=d.call.apply(d,[this].concat(c)),i.state={visibles:{}},i.handleTooltipVisibleChange=function(w,a){i.setState(function(n){return{visibles:Object(X.a)(Object(X.a)({},n.visibles),{},Object(u.a)({},w,a))}})},i.handleWithTooltip=function(w){var a=w.value,n=w.dragging,t=w.index,o=w.disabled,m=Object(we.a)(w,Jt),h=i.props,b=h.tipFormatter,S=h.tipProps,P=h.handleStyle,D=h.getTooltipContainer,U=S.prefixCls,k=U===void 0?"rc-slider-tooltip":U,B=S.overlay,ue=B===void 0?b(a):B,ie=S.placement,ge=ie===void 0?"top":ie,Oe=S.visible,Ae=Oe===void 0?!1:Oe,ye=Object(we.a)(S,Wn),q;return Array.isArray(P)?q=P[t]||P[0]:q=P,$e.a.createElement(In,Object(De.a)({},ye,{getTooltipContainer:D,prefixCls:k,overlay:ue,placement:ge,visible:!o&&(i.state.visibles[t]||n)||Ae,key:t}),$e.a.createElement(Ht,Object(De.a)({},m,{style:Object(X.a)({},q),value:a,onMouseEnter:function(){return i.handleTooltipVisibleChange(t,!0)},onMouseLeave:function(){return i.handleTooltipVisibleChange(t,!1)}})))},i}return Object(r.a)(v,[{key:"render",value:function(){return $e.a.createElement(f,Object(De.a)({},this.props,{handle:this.handleWithTooltip}))}}]),v}($e.a.Component),p.defaultProps={tipFormatter:function(d){return d},handleStyle:[{}],tipProps:{},getTooltipContainer:function(d){return d.parentNode}},C}var Nn=pt;Nn.Range=Lt,Nn.Handle=Ht,Nn.createSliderWithTooltip=la;var Ta=Nn,wa=e("./node_modules/antd/node_modules/rc-util/es/ref.js"),xa=e("./node_modules/antd/node_modules/rc-util/es/raf.js"),ha=e("./node_modules/antd/es/tooltip/index.js"),va=N.forwardRef(function(f,p){var C=f.visible,g=Object(N.useRef)(null),d=Object(N.useRef)(null);function v(){xa.a.cancel(d.current),d.current=null}function i(){d.current=Object(xa.a)(function(){var l;(l=g.current)===null||l===void 0||l.forcePopupAlign(),d.current=null})}return N.useEffect(function(){return C?i():v(),v},[C,f.title]),N.createElement(ha.a,Object(De.a)({ref:Object(wa.a)(g,p)},f))}),Ea=va,Oa=e("./node_modules/antd/es/config-provider/context.js"),ja=function(f,p){var C={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&p.indexOf(g)<0&&(C[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,g=Object.getOwnPropertySymbols(f);d<g.length;d++)p.indexOf(g[d])<0&&Object.prototype.propertyIsEnumerable.call(f,g[d])&&(C[g[d]]=f[g[d]]);return C},Ca=N.forwardRef(function(f,p){var C=N.useContext(Oa.b),g=C.getPrefixCls,d=C.direction,v=C.getPopupContainer,i=N.useState({}),l=Object(He.a)(i,2),c=l[0],y=l[1],w=function(B,ue){y(function(ie){return Object(De.a)(Object(De.a)({},ie),Object(u.a)({},B,ue))})},a=function(B,ue){return B||(ue?d==="rtl"?"left":"right":"top")},n=function(B){var ue=B.tooltipPrefixCls,ie=B.prefixCls,ge=B.info,Oe=ge.value,Ae=ge.dragging,ye=ge.index,q=ja(ge,["value","dragging","index"]),$=f.tipFormatter,R=f.tooltipVisible,A=f.tooltipPlacement,F=f.getTooltipPopupContainer,_=f.vertical,ee=$?c[ye]||Ae:!1,Z=R||R===void 0&&ee,le=g();return N.createElement(Ea,{prefixCls:ue,title:$?$(Oe):"",visible:Z,placement:a(A,_),transitionName:"".concat(le,"-zoom-down"),key:ye,overlayClassName:"".concat(ie,"-tooltip"),getPopupContainer:F||v},N.createElement(Ht,Object(De.a)({},q,{value:Oe,onMouseEnter:function(){return w(ye,!0)},onMouseLeave:function(){return w(ye,!1)}})))},t=f.prefixCls,o=f.tooltipPrefixCls,m=f.range,h=f.className,b=ja(f,["prefixCls","tooltipPrefixCls","range","className"]),S=g("slider",t),P=g("tooltip",o),D=M()(h,Object(u.a)({},"".concat(S,"-rtl"),d==="rtl"));d==="rtl"&&!b.vertical&&(b.reverse=!b.reverse);var U;return Object(ae.a)(m)==="object"&&(U=m.draggableTrack),m?N.createElement(Lt,Object(De.a)({},b,{step:b.step,draggableTrack:U,className:D,ref:p,handle:function(B){return n({tooltipPrefixCls:P,prefixCls:S,info:B})},prefixCls:S})):N.createElement(Ta,Object(De.a)({},b,{step:b.step,className:D,ref:p,handle:function(B){return n({tooltipPrefixCls:P,prefixCls:S,info:B})},prefixCls:S}))});Ca.displayName="Slider",Ca.defaultProps={tipFormatter:function(p){return typeof p=="number"?p.toString():""}};var Pa=z.a=Ca},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InsightLegend/InsightLegend.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insight-legend-button{display:flex;align-items:center}.insight-legend-button .insight-legend-button-title{margin-left:.5rem;font-size:14px;font-weight:500}.insight-legend-menu{padding:1rem!important;box-shadow:none!important;border:1px solid rgba(0,0,0,.15);background-color:#fff;border-radius:4px;max-width:300px;width:100%;max-height:100%;overflow-y:auto;overflow-x:auto;display:flex;flex-direction:column}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item{width:100%}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item:not(:last-child){margin-bottom:.5rem}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner{cursor:pointer;display:flex;align-items:center}.insight-legend-menu .insight-legend-menu-scroll .insight-legend-menu-item .insight-legend-menu-item-inner .insights-label{margin-left:.5rem;width:100%;font-size:.75rem}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/PropertiesTable.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.properties-table-key{min-width:12rem;display:flex;align-items:center;justify-content:space-between}.property-value-type{display:flex;align-items:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:1.25rem;padding:.125rem .25rem;letter-spacing:.25px;border-radius:var(--radius);border:1px solid var(--border-light);background:var(--bg-mid);color:var(--muted-alt);font-size:.625rem;font-weight:500;text-transform:uppercase;cursor:default}.property-value-type:not(:first-child){margin-left:.25rem}.properties-table-value{min-width:12rem;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content;display:flex;align-items:center}.properties-table-value .value-link>*{vertical-align:middle}.properties-table-value .value-link>svg{margin-left:.25rem;font-size:1rem}.properties-table-value .editable{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-color:#5375ff;text-decoration-color:#5375ff;cursor:pointer}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/TableConfig.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.column-configurator-modal .text-blue{color:#5375ff}.column-configurator-modal .column-display-item{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;padding:.5rem;overflow:hidden;border-radius:4px;margin:2px 0}.column-configurator-modal .column-display-item:hover{background-color:#f2f2f2}.column-configurator-modal .column-display-item.disabled{cursor:not-allowed;color:rgba(0,0,0,.5);background-color:#f2f2f2}.column-configurator-modal .column-display-item.selected{background-color:#839af8}.column-configurator-modal .column-display-item .property-key-info{flex-grow:0;overflow:hidden;text-overflow:ellipsis}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/ResizableTable/index.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,'.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{content:"";width:3rem;height:100%;background:linear-gradient(270deg,#fff,transparent);position:absolute;pointer-events:none;bottom:0}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.resizable-table-scroll-container{max-width:100%;overflow-x:auto;position:relative}.resizable-table-scroll-container .table-gradient-overlay{overflow-y:hidden}.resizable-table-scroll-container .table-gradient-overlay.scrollable-right:after{z-index:99;right:0;width:150px}.resizable-table-scroll-container .ant-table table{border-collapse:collapse;table-layout:fixed}.resizable-virtual-table-header{display:flex}.resizable-virtual-table-header .react-resizable-wrapper{background:#fafafa;border-bottom:1px solid #f0f0f0}.resizable-virtual-table-header .react-resizable-wrapper:last-child .resizable-handle{display:none}.resizable-virtual-table-header .left-spacer{background:#fafafa;border-bottom:1px solid #f0f0f0;flex-grow:0;flex-shrink:0}.react-resizable{position:relative}.react-resizable .inner-wrapper{height:100%;display:flex;align-items:center}.react-resizable .inner-text{max-height:8rem;overflow:hidden;padding:8px;font-weight:medium}.react-resizable .resizable-handle{position:absolute;right:0;top:0;z-index:1;width:10px;height:100%;cursor:col-resize;border-right:1px solid #f0f0f0;transition:border-color .2s ease}.react-resizable .resizable-handle:hover{border-color:#8da9e7}.react-resizable .resizable-handle[data-drag-active=true]{border-color:#5375ff}',""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/experiments/Experiment.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,'.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.experiment-form .metrics-selection{border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;width:100%}.experiment-form .metrics-selection .action-filters-bordered .draggable-action-filter{border-bottom:1px solid rgba(0,0,0,.15);padding:1rem .25rem;margin-top:0}.experiment-form .metrics-selection .action-filters-bordered .row-action-btn{color:#35416b}.experiment-form .person-selection{width:100%;border-top:1px solid rgba(0,0,0,.15);padding-top:1rem;align-items:center;justify-content:space-between}.experiment-form .insights-graph-container{margin-bottom:1rem;background-color:#fff}.experiment-form .insights-graph-container .ant-card-head{border-bottom:1px solid rgba(0,0,0,.15);min-height:unset;background-color:#fff;padding-left:1rem;padding-right:1rem}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title{padding:.5rem 0}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter{font-size:14px}.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter:not(:last-child),.experiment-form .insights-graph-container .ant-card-head .ant-card-head-title span.filter span.head-title-item{margin-right:.5rem}.experiment-form .insights-graph-container .display-config-inner{display:flex;align-items:center;justify-content:space-between;overflow-x:auto}.experiment-form .insights-graph-container .ant-card-body{padding:0}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-left{width:100%}.experiment-form .insights-graph-container .insights-graph-container-row .insights-graph-container-row-right{width:100%;height:min(calc(90vh - 16rem),36rem);max-width:300px;padding:0 1rem 1rem 0;display:flex;align-items:center}.experiment-form .insights-graph-container .graph-container{width:calc(100% - 2rem);height:calc(100% - 3rem)}.experiment-form .insights-graph-header{margin-top:0!important;margin-bottom:0!important;padding-left:1rem;padding-right:1rem;min-height:48px}.experiment-form .experiment-preview{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.experiment-form .experiment-preview .mde-slider .ant-slider-handle{border:none}.experiment-form .experiment-preview .mde-slider .ant-slider-rail{background-color:#e5ebff}.experiment-form .variants{margin-top:.5rem;padding-bottom:1rem}.experiment-form .variants .ant-form-horizontal{min-height:32px}.experiment-form .variants .border-top{border-top-left-radius:4px;border-top-right-radius:4px}.experiment-form .variants .border-bottom{border-bottom-left-radius:4px;border-bottom-right-radius:4px}.experiment-form .variants .feature-flag-variant{flex-direction:row;align-items:baseline;padding:12px 8px;background:#fff;border-bottom-width:1px;border-bottom-color:rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);border-left:1px solid rgba(0,0,0,.15);border-right:1px solid rgba(0,0,0,.15)}.experiment-form .variants .feature-flag-variant .ant-form-item-explain-error{margin-top:.5rem;color:#bf411a}.experiment-form .variants .feature-flag-variant .ant-form-item-label{padding:0}.experiment-form .variants .variant-label{display:flex;flex-direction:row;justify-content:center;align-items:center;border-radius:4px;color:#fff;min-width:52px;padding:2px 6px;margin-right:8px;font-size:12px;font-weight:500;letter-spacing:.01em}.experiment-form .secondary-metrics{margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(0,0,0,.15);margin-bottom:1rem}.experiment-form .ant-input-number-disabled,.experiment-form .ant-input[disabled]{color:#000}.view-experiment .draft-header{margin-bottom:1rem;border-bottom:1px solid rgba(0,0,0,.15)}.view-experiment .stop-experiment{background-color:#f96132;color:#fff}.view-experiment .archive-experiment{color:#f96132}.view-experiment .exp-description{font-style:italic;color:rgba(0,0,0,.5)}.view-experiment .participants{background-color:#fff}.view-experiment .participants .ant-collapse-header{padding-top:.5rem;padding-bottom:.5rem;padding-left:.75rem}.view-experiment .variants-list{list-style:none;margin:0;padding:0}.view-experiment .variants-list li{display:inline}.view-experiment .variants-list li:after{content:", "}.view-experiment .variants-list li:last-child:after{content:""}.view-experiment .experiment-result{padding-top:1rem}.view-experiment .significant-results{padding:.5rem;width:100%;background:rgba(119,185,108,.1);border-radius:4px;text-align:center;margin-bottom:1rem}.view-experiment .not-significant-results{padding:.5rem;width:100%;background:rgba(83,117,255,.1);border-radius:4px;margin-bottom:1rem}.view-experiment .feature-flag-mods{padding:.5rem;width:100%;background:#f6ebf8;border-radius:4px;margin-bottom:1rem}.view-experiment .ant-collapse-content-box{display:flex;flex-flow:column}.view-experiment .secondary-progress{margin-top:.5rem}.view-experiment .secondary-progress li:before{content:"\u2022";display:inline-block;font-weight:900;margin-right:4px}.view-experiment .secondary-progress .ant-progress-inner,.view-experiment .secondary-progress .ant-progress-inner .ant-progress-bg{border-radius:4px}.view-experiment .no-experiment-results{display:flex;justify-content:center;align-items:center;margin-top:1rem;background-color:#fafaf9;border:1px solid rgba(0,0,0,.15);width:100%;min-height:320px;font-size:24px}.preview-conversion-goal-num{height:24px;width:24px;text-align:center;background-color:#fafaf9;color:#35416b;font-weight:700;margin-right:.5rem}.experiment-preview-row{border-bottom:1px solid rgba(0,0,0,.15);padding-bottom:1rem;margin-bottom:1rem}.experiment-preview-row:last-child{border-bottom:none;padding-bottom:0;margin-bottom:0}.metric-name{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:8px 8px 8px 16px;margin-left:.5rem;flex:1}.experiment-implementation-details,.experiment-workflow{border-color:#d9d9d9}.experiment-implementation-details .ant-card-head,.experiment-workflow .ant-card-head{padding-left:1rem;padding-right:1rem;border:none}.experiment-implementation-details .ant-card-head-title,.experiment-workflow .ant-card-head-title{border-bottom:1px solid rgba(0,0,0,.15)}.experiment-implementation-details .exp-workflow-step,.experiment-workflow .exp-workflow-step{margin-bottom:.5rem;padding:.5rem;border-radius:4px}.experiment-implementation-details .exp-workflow-step:hover,.experiment-workflow .exp-workflow-step:hover{cursor:pointer}.experiment-implementation-details .step-completed,.experiment-workflow .step-completed{background-color:#e5ebff}',""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.insights-graph-header.funnels{border-bottom:1px solid rgba(0,0,0,.15)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:#2d2d2d}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilter.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.draggable-action-filter{margin-top:16px;display:flex}.draggable-action-filter .action-filter-drag-handle{cursor:move;padding:4px 2px 0 0;color:#2d2d2d;font-size:1.2em}.draggable-action-filter .action-filter-drag-handle svg{transform:rotate(90deg)}.draggable-action-filter .ant-row.mt{margin-top:0}.add-action-event-button:not(.ant-btn-link){border-color:rgba(0,0,0,.24);color:#5375ff;padding-left:2.5rem;padding-right:2.5rem}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/ActionFilter/ActionFilterRow/index.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.property-select{cursor:pointer;width:150px;margin-top:6px}.property-select .ant-select-selector{border-color:#d9d9d9!important;cursor:pointer!important}.property-select .ant-select-arrow{color:#2d2d2d;font-size:10px}.property-select:not(.ant-select-open) input{cursor:pointer!important}.property-select:hover .ant-select-arrow,.property-select:hover .ant-select-selection-item,.property-select:hover .ant-select-selection-placeholder{color:#7d9bff!important}.property-select:hover .ant-select-selector{border-color:#7d9bff!important}.property-select .ant-select-selection-placeholder,.property-select .ant-select-selection-search-input,.property-select .ant-select-selector{font-size:13px;height:28px!important}.property-select .ant-select-selection-item{line-height:26px!important}.property-select .ant-select-selection-placeholder{line-height:24px!important;color:#2d2d2d}.property-select.horizontal-ui{width:unset!important;min-width:120px;margin-top:0}.property-select.horizontal-ui .ant-select-selection-placeholder,.property-select.horizontal-ui .ant-select-selection-search-input,.property-select.horizontal-ui .ant-select-selector{font-size:inherit;height:32px!important}.property-select.horizontal-ui .ant-select-selection-item,.property-select.horizontal-ui .ant-select-selection-placeholder{line-height:30px!important}.row-action-btn{padding:0 4px}.row-action-btn.visible,.row-action-btn:focus,.row-action-btn:hover{border:1px solid #5375ff}.action-row-striped.full-width,.action-row.full-width{flex-basis:100%}.draggable-action-filter.drag-handle-visible .action-row-striped.full-width,.draggable-action-filter.drag-handle-visible .action-row.full-width{width:calc(100% - 16px);flex-basis:calc(100% - 16px)}.action-row-striped{padding:0 .25rem;margin:.25rem 0}.action-row-striped:nth-child(2n){padding:.25rem;background-color:#f6f6f6}.full-width .property-filter-button-label{max-width:300px}.horizontal-ui .row-action-btn.delete{padding:0;width:unset;color:rgba(249,97,50,.6)}.action-row-letter{padding-right:1px}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/FunnelCorrelation.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid #f7a501}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid rgba(0,0,0,.15);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:rgba(0,0,0,.5)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:500}.funnel-correlation .correlation-feedback{margin-top:1rem}.funnel-correlation .correlation-feedback .ant-card-body{padding:.5rem 1rem}.funnel-correlation .correlation-feedback h4{padding:0;margin:0;font-weight:700;color:#747ea1}.funnel-correlation .correlation-feedback .emoji-button{margin-right:4px}.funnel-correlation .correlation-feedback .emoji-button:last-of-type{margin-right:0}.funnel-correlation .correlation-feedback .row-initial{display:flex;align-items:center}.funnel-correlation .correlation-feedback .row-initial .ant-col{text-align:right}.funnel-correlation .correlation-feedback .row-initial .ant-col:first-of-type{text-align:left}.funnel-correlation .correlation-feedback .close-button{color:rgba(0,0,0,.5)!important;cursor:pointer;z-index:5}.funnel-correlation .correlation-feedback .feedback-button{margin:1rem 0}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/CorrelationMatrix.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:4px;border:1px solid rgba(0,0,0,.15);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid rgba(0,0,0,.15);border-top:1px solid rgba(0,0,0,.15);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:#747ea1}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:#fafafa;text-transform:uppercase;color:rgba(0,0,0,.5)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/InsightTabs/FunnelTab/FunnelCorrelationTable.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.funnel-correlation-table{margin-top:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;order:0;align-self:stretch;flex-grow:1;justify-content:space-between;align-content:space-between;border-top-left-radius:4px;border-top-right-radius:4px;padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:#2d2d2d;flex:none;flex-grow:4;margin-left:1rem;margin-right:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{float:right;display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:#747ea1;cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid rgba(0,0,0,.15);border-radius:4px}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid rgba(0,0,0,.15)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:#747ea1}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/multiRecordingButton/multiRecordingButton.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-recordings-popup{z-index:1061}.session-recordings-popup .anticon-play-circle{color:#5375ff}.session-recordings-popup .session-recordings-popup-row{display:flex;align-items:center;padding:.5rem;font-weight:500;color:#2d2d2d}.session-recordings-popup .session-recordings-popup-row:hover{color:#5375ff}.session-recordings-popup .session-recordings-popup-row .anticon{font-size:1.25rem;margin-right:.5rem}.session-recordings-button .anticon-play-circle{color:#5375ff}.session-recordings-button .session-recordings-button__indicator{font-size:12px;color:rgba(0,0,0,.5)}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Console.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.console-log-container{display:flex;flex-direction:column;height:100%}.console-log{flex:1;border:1px solid rgba(0,0,0,.15);border-radius:4px}.log-line{border-bottom:1px solid rgba(0,0,0,.15);font-size:12px;cursor:pointer;padding:.25rem .5rem;width:100%}.log-line .log-text{margin:0}.log-line .trace-string{float:right;margin-left:.25rem}.log-line .trace-string a{text-decoration:underline}.log-line.level-error{background:#fcf1f0;color:red}.log-line.level-warn{background:#fefbe7}.log-line:hover{background:rgba(83,117,255,.1)}.more-logs-available{text-align:center;margin:.5rem}.console-feedback-container{border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:1rem;margin-top:1rem}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerEvents.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{box-shadow:0 2px 3px rgba(0,0,0,.02),0 5px 7px rgba(0,0,0,.03),0 11px 16px rgba(0,0,0,.03),0 32px 48px rgba(0,0,0,.05)!important}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-events-container{display:flex;flex-direction:column;background-color:#fff;height:100%;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}@media(max-width:768px){.player-events-container{height:100vh}}.player-events-container .event-list{flex:1;margin-top:.6666666667rem}.player-events-container .event-list .event-list-empty-container{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.player-events-container .event-list .event-list-empty-container .ant-empty{margin-bottom:5rem}.player-events-container .event-list .current-events-highlight-box{position:absolute;width:100%;transition:height .2s ease-in-out,transform .3s ease-in-out;top:0;left:0;right:0;height:0;background-color:rgba(83,117,255,.1);border-radius:4px;z-index:0}.player-events-container .event-list .current-events-position-finder{display:none;flex-direction:row;justify-content:space-around;position:absolute;top:.6666666667rem;left:50%;transform:translateX(-50%);height:35px;width:240px;z-index:10;text-align:center;overflow:hidden;border-radius:100px;color:#fff}.player-events-container .event-list .current-events-position-finder.visible{display:flex}.player-events-container .event-list .current-events-position-finder .left{cursor:pointer;flex:1;background-color:#5375ff}.player-events-container .event-list .current-events-position-finder .left:hover{background-color:#869eff}.player-events-container .event-list .current-events-position-finder .left span.anticon{margin:0 .6666666667rem 0 1rem}.player-events-container .event-list .current-events-position-finder .right{cursor:pointer;width:calc(35px + .16667rem);background-color:#6d89ff}.player-events-container .event-list .current-events-position-finder .right:hover{background-color:#a0b2ff}.player-events-container .event-list .current-events-position-finder .right span.anticon{margin-right:.1666666667rem}.player-events-container .event-list .event-list-virtual{scroll-behavior:smooth}.player-events-container .event-list .event-list-item{padding:.6666666667rem;cursor:pointer;border-radius:4px}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper{background-color:#5375ff}.player-events-container .event-list .event-list-item.current-event .event-item-icon .event-item-icon-wrapper svg path,.player-events-container .event-list .event-list-item:hover .event-item-icon .event-item-icon-wrapper svg path{fill:#fff}.player-events-container .event-list .event-list-item:hover{background-color:rgba(83,117,255,.1)}.player-events-container .event-list .event-list-item.current-event:hover{background-color:rgba(83,117,255,.2)}.player-events-container .event-list .event-list-item .event-item-icon{display:flex;margin-right:.6666666667rem}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper{display:flex;justify-content:center;align-items:center;transition:background-color .1s;background-color:#f2f2f2;border-radius:4px;height:44px;width:44px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg{width:16px;height:16px}.player-events-container .event-list .event-list-item .event-item-icon .event-item-icon-wrapper svg path{transition:fill .1s;fill:#0f0f0f}.player-events-container .event-list .event-list-item .event-item-content{display:flex;flex-direction:column;flex:1;min-width:0}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row{justify-content:space-between;flex-wrap:nowrap}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-top-row .event-item-content-title{font-weight:600;padding-right:.3333333333rem}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle .inner{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;z-index:2}.player-events-container .event-list .event-list-item .event-item-content .event-item-content-subtitle.overflowing:hover .inner{overflow:visible;white-space:unset;position:relative;background-color:#fff;padding:1px 2px;top:-1px;left:-2px;border-radius:4px}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton{position:absolute;display:none}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph{margin:0}.player-events-container .event-list .event-list-item .event-item-content .ant-skeleton .ant-skeleton-paragraph li:not(:first-child){margin-top:14px}.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-subtitle,.player-events-container .event-list .event-list-item .event-item-content.rendering .event-item-content-title{visibility:hidden}.player-events-container .event-list .event-list-item .event-item-content.rendering .ant-skeleton{display:table}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/PlayerMeta.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.player-meta-container{display:flex;flex-direction:column;background-color:#fff;border:1px solid rgba(0,0,0,.15);border-radius:4px;padding:.6666666667rem}.player-meta-container .player-meta-person{margin-bottom:.5rem}.player-meta-container .player-meta-person .player-meta-person-title{flex:1}.player-meta-container .player-meta-person .player-meta-person-title .email{font-weight:600;width:100%}.player-meta-container .player-meta-person .player-meta-person-title .time{font-weight:600}.player-meta-container .player-meta-other{flex-direction:column}.player-meta-container .player-meta-other .player-meta-other-description,.player-meta-container .player-meta-other .player-meta-other-resolution{width:100%;height:20px}.player-meta-container .ant-skeleton-paragraph{margin:0}.player-meta-container .ant-skeleton-paragraph li{height:12px}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/Seekbar.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.rrweb-controller-slider{width:100%;height:16px;position:relative}.rrweb-controller-slider .slider{z-index:2;position:relative;height:100%}.rrweb-controller-slider .slider .thumb{z-index:5;-webkit-backface-visibility:hidden;backface-visibility:hidden;top:0;position:absolute;border-radius:50%;width:15px;height:15px;border:2px solid #fff;background-color:#f54e00;transform-origin:center;transform:translateX(-7.5px);transition:transform 50ms}.rrweb-controller-slider .slider .buffer-bar,.rrweb-controller-slider .slider .current-bar,.rrweb-controller-slider .slider .slider-bar{width:100%;border-radius:4px;position:absolute}.rrweb-controller-slider .slider .slider-bar{z-index:1;background-color:rgba(0,0,0,.15);height:4px;top:6px}.rrweb-controller-slider .slider .buffer-bar{z-index:2;transition:width .2s;background-color:#faaf8c;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .current-bar{z-index:3;background-color:#f54e00;position:absolute;height:2px;top:7px;left:1px;width:0}.rrweb-controller-slider .slider .inactivity-bar{z-index:4;position:absolute;height:2px;top:7px;left:1px;width:100%}.rrweb-controller-slider .slider .inactivity-bar .activity-section{float:left;height:100%}.rrweb-controller-slider .slider .inactivity-bar .inactive-section{background:repeating-linear-gradient(325deg,transparent,transparent 2px,#fff 0,#fff 4px)}.rrweb-controller-slider .ticks{z-index:1;position:relative;width:100%;bottom:100%}.rrweb-controller-slider .ticks .tick-hover-box{cursor:pointer;position:absolute;height:100%;top:-12px;width:5px;background-color:green;right:-3px}.rrweb-controller-slider .ticks .tick-hover-box .tick-marker{position:absolute;width:1px;height:21px;background-color:#797973;right:2px}.rrweb-controller-slider .ticks .tick-hover-box .tick-info{border-radius:4px;padding:.25rem .5rem;position:absolute;top:-36px;background-color:#2d2d2d;display:none;color:hsla(0,0%,100%,.88);white-space:nowrap;left:50%;transform:translate(-50%)}.rrweb-controller-slider .ticks .tick-hover-box .tick-info.show{display:flex}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb{position:absolute;width:9px;height:9px;border-radius:50%;right:-2px;top:-4px;border:.5px solid #797973;background-color:#fff;transform-origin:center;transition:transform .2s}.rrweb-controller-slider .ticks .tick-hover-box .tick-thumb.big{transform:scale(1.3)}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/session-recordings/player/styles.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.session-drawer-body{height:calc(100vh - 40px)}@media(max-width:768px){.session-drawer-body{height:unset}}.session-player-v2{display:flex;flex-direction:column;height:100%;width:100%}.session-player-v2 .session-player-body{display:flex;flex-wrap:wrap;flex-direction:row;flex:1;background-color:#fff;height:calc(100% - 40px - 1.33333rem)}@media(max-width:768px){.session-player-v2 .session-player-body{flex:unset;height:calc(100vh - 80px - 1.33333rem)}}.session-player-v2 .session-player-body .player-container{height:100%;flex:1;min-width:1px;position:relative;padding:.6666666667rem .6666666667rem 0}@media(max-width:768px){.session-player-v2 .session-player-body .player-container{width:100%}}.session-player-v2 .session-player-body .player-sidebar{display:flex;flex-direction:column;width:350px;padding:.6666666667rem .6666666667rem 0 0}.session-player-v2 .session-player-body .player-sidebar .player-meta{margin-bottom:.6666666667rem}.session-player-v2 .session-player-body .player-sidebar .player-events{width:100%;height:100%;position:relative}.session-player-v2 .player-sidebar{width:100%;min-width:unset;max-width:unset;padding:0 .6666666667rem .6666666667rem}.session-player-v2 .player-controller{padding:.6666666667rem;background-color:#fff}.session-player-v2 .rrweb-player{height:100%;width:100%;overflow:hidden;border:1px solid rgba(0,0,0,.15);border-radius:4px;background-color:#0f0f0f;box-shadow:0 4px 4px 0 rgba(0,0,0,.25);position:relative}.session-player-v2 .rrweb-player .replayer-wrapper{transform-origin:top left}.session-player-v2 .rrweb-player iframe{border:0;background-color:#fff}.session-player-v2 .rrweb-player .rrweb-overlay-container{position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:10}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay{transition:all .2s;position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:100%;background-color:#333;opacity:.2;font-size:40px;color:#fff;cursor:pointer}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay:hover{opacity:.5}.session-player-v2 .rrweb-player .rrweb-overlay-container .rrweb-overlay .rrweb-overlay-play-icon svg{width:5rem;height:5rem}.session-player-v2 .rrweb-timestamp{white-space:nowrap;font-size:14px;margin-right:1rem}.session-player-v2 .rrweb-progress{width:100%;cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-controller{display:flex;width:100%;background-color:#fff;border-radius:4px;border:1px solid rgba(0,0,0,.15);padding:0 1rem;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:40px;color:#000}.session-player-v2 .rrweb-controller>*{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.session-player-v2 .rrweb-controller .rrweb-controller-icon{margin-right:1rem;cursor:pointer;display:flex;justify-content:center;align-items:center}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-play-pause{margin-right:0}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek{height:18px;width:18px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek span.seek-seconds{position:absolute;font-size:6px}.session-player-v2 .rrweb-controller .rrweb-controller-icon.rrweb-controller-icon-seek .seek-icon{position:absolute;font-size:18px}.session-player-v2 .rrweb-speed-toggle{cursor:pointer;margin-right:1rem}.session-player-v2 .rrweb-inactivity-toggle{display:flex;flex-direction:row;align-items:center;white-space:nowrap;cursor:pointer}.session-player-v2 .rrweb-inactivity-toggle .inactivity-label{font-size:14px;margin-right:.6666666667rem}.ant-drawer.session-player-drawer-v2 .ant-drawer-body{padding:0}.ant-drawer.session-player-drawer-v2 .ant-drawer-close{padding:1rem}.ant-tabs-content,.ant-tabs-tabpane{height:100%}",""]),be.exports=z},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/trends/PersonsModal.scss":function(be,z,e){var ae=e("./node_modules/css-loader/dist/runtime/api.js");z=ae(!1),z.push([be.i,".text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 8px)}.person-modal .ant-modal-header{padding:1rem}.person-modal .ant-modal-title{overflow:hidden;text-overflow:ellipsis}.person-modal .ant-modal-content{overflow:hidden}.person-modal .ant-modal-body{padding:0;max-height:60vh;overflow-y:auto}.person-modal .ant-modal-footer .ant-btn{color:#5375ff}.person-modal .ant-input-search{padding:1rem}.person-modal .persons-table{border-top:1px solid var(--border);border-bottom:1px solid var(--border)}.person-modal .person-ids{display:flex;flex-direction:column}.person-modal .user-count-subheader{padding:.5rem 1rem;color:var(--muted-alt)}.person-modal .user-count-subheader>*{vertical-align:middle}.person-modal .person-row-container{padding:.5rem 1rem}.person-modal .data-point-selector{padding:.5rem 1rem;border-bottom:1px solid var(--border)}.person-modal .data-point-selector .ant-select{display:block;width:100%}",""]),be.exports=z}}]);
