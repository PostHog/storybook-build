"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[71841],{"../../products/error_tracking/frontend/components/ErrorTrackingSetupPrompt/ErrorTrackingSetupPrompt.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>ErrorTrackingSetupPrompt});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.27.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/utils/product-intents.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/types.ts"),_errorIngestionLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../products/error_tracking/frontend/components/ErrorTrackingSetupPrompt/errorIngestionLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let ErrorTrackingSetupPrompt=_ref=>{let{children}=_ref,{hasSentExceptionEvent,hasSentExceptionEventLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_errorIngestionLogic__WEBPACK_IMPORTED_MODULE_7__.T),{currentTeam,currentTeamLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__.teamLogic),exceptionAutocaptureEnabled=currentTeam&&currentTeam.autocapture_exceptions_opt_in;return hasSentExceptionEventLoading||currentTeamLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"flex justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.$j,{})}):hasSentExceptionEvent||exceptionAutocaptureEnabled?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:children}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(IngestionStatusCheck,{})},IngestionStatusCheck=()=>{let{addProductIntent,updateCurrentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_5__.teamLogic);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__.C,{productName:"Error tracking",thingName:"issue",titleOverride:"You haven't captured any exceptions",description:"To start capturing exceptions you need to enable exception autocapture. Exception autocapture only applies to the JS SDK. Installation for other platforms are described in the docs.",isEmpty:!0,productKey:_types__WEBPACK_IMPORTED_MODULE_6__.Md.ERROR_TRACKING,actionElementOverride:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{type:"primary",onClick:()=>{addProductIntent({product_type:_types__WEBPACK_IMPORTED_MODULE_6__.Md.ERROR_TRACKING,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_4__.kp.ERROR_TRACKING_EXCEPTION_AUTOCAPTURE_ENABLED}),updateCurrentTeam({autocapture_exceptions_opt_in:!0})},children:"Enable exception autocapture"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{targetBlank:!0,sideIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconExternal,{className:"w-5 h-5"}),to:"https://posthog.com/docs/error-tracking/installation",onClick:()=>{addProductIntent({product_type:_types__WEBPACK_IMPORTED_MODULE_6__.Md.ERROR_TRACKING,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_4__.kp.ERROR_TRACKING_DOCS_VIEWED})},children:"Read the docs"})]})})}},"../../products/error_tracking/frontend/components/ErrorTrackingSetupPrompt/errorIngestionLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>errorIngestionLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_utils_definitions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/utils/definitions.ts"),_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/types.ts");let errorIngestionLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","error-tracking","errorIngestionLogic"]),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)({hasSentExceptionEvent:{__default:void 0,loadExceptionEventDefinition:async()=>{let definition=(await lib_api__WEBPACK_IMPORTED_MODULE_2__.ZP.eventDefinitions.list({event_type:_types__WEBPACK_IMPORTED_MODULE_4__.uW.Event,search:"$exception"})).results.find(r=>"$exception"===r.name);return!!definition&&!(0,lib_utils_definitions__WEBPACK_IMPORTED_MODULE_3__.U)(definition)}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)(_ref=>{let{actions}=_ref;actions.loadExceptionEventDefinition()})])},"../../products/error_tracking/frontend/impact/ErrorTrackingImpactScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingImpactScene:()=>ErrorTrackingImpactScene,scene:()=>scene});var ErrorTrackingSetupPrompt=__webpack_require__("../../products/error_tracking/frontend/components/ErrorTrackingSetupPrompt/ErrorTrackingSetupPrompt.tsx"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),api=__webpack_require__("../../frontend/src/lib/api.ts"),queries=__webpack_require__("../../products/error_tracking/frontend/queries.ts");let errorTrackingImpactSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","error-tracking","configuration","errorTrackingImpactSceneLogic"]),(0,index_esm.actions)({setEvent:event=>({event})}),(0,index_esm.reducers)({event:[null,{setEvent:(_,_ref)=>{let{event}=_ref;return event}}]}),(0,lib.loaders)(_ref2=>{let{values}=_ref2;return{issues:[[],{loadIssues:async()=>values.event?(await api.ZP.query((0,queries.x3)({events:[values.event]}),{refresh:"force_blocking"})).results:[]}]}}),(0,index_esm.listeners)(_ref3=>{let{actions}=_ref3;return{setEvent:()=>actions.loadIssues()}}),(0,index_esm.selectors)({breadcrumbs:[()=>[],()=>[{key:sceneTypes.x.ErrorTracking,path:urls.j.errorTracking(),name:"Error tracking"},{key:sceneTypes.x.ErrorTrackingImpact,path:urls.j.errorTrackingImpact(),name:"Impact"}]]})]);var EventName=__webpack_require__("../../products/actions/frontend/components/EventName.tsx"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),useFeatureFlag=__webpack_require__("../../frontend/src/lib/hooks/useFeatureFlag.ts"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:ErrorTrackingImpactScene,logic:errorTrackingImpactSceneLogic};function ErrorTrackingImpactScene(){let{issues,event,issuesLoading}=(0,index_esm.useValues)(errorTrackingImpactSceneLogic),{setEvent}=(0,index_esm.useActions)(errorTrackingImpactSceneLogic);return(0,useFeatureFlag.y)("ERROR_TRACKING_ISSUE_CORRELATION")?(0,jsx_runtime.jsxs)(ErrorTrackingSetupPrompt.n,{children:[(0,jsx_runtime.jsx)(EventName.B,{value:event,onChange:setEvent,allEventsOption:"clear"}),issuesLoading?(0,jsx_runtime.jsx)(src.$j,{}):(0,jsx_runtime.jsx)("div",{children:JSON.stringify(issues)})]}):null}}}]);