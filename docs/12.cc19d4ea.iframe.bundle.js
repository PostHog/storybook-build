(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts":function(oe,C,t){"use strict";t.d(C,"a",function(){return q});var R=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),V=t.n(R),de=t("./node_modules/core-js/modules/es.array.includes.js"),ae=t.n(de),Z=t("./node_modules/core-js/modules/es.string.includes.js"),Oe=t.n(Z),ue=t("./node_modules/core-js/modules/es.object.values.js"),B=t.n(ue),e=t("./node_modules/core-js/modules/es.array.iterator.js"),i=t.n(e),Ee=t("./node_modules/core-js/modules/es.object.to-string.js"),Fe=t.n(Ee),je=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),ce=t.n(je),pe=t("./node_modules/core-js/modules/es.object.keys.js"),he=t.n(pe),F=t("./node_modules/core-js/modules/es.symbol.js"),re=t.n(F),j=t("./node_modules/core-js/modules/es.array.filter.js"),P=t.n(j),K=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),M=t.n(K),k=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),ie=t.n(k),me=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ye=t.n(me),G=t("./node_modules/kea/lib/index.esm.js"),ne=t("./frontend/src/lib/utils.tsx"),O=t("./frontend/src/types.ts"),_=t("./frontend/src/scenes/insights/sharedUtils.ts"),I=t("./frontend/src/scenes/insights/insightLogic.ts");function se(ee,r){var b=Object.keys(ee);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(ee);r&&(U=U.filter(function(Be){return Object.getOwnPropertyDescriptor(ee,Be).enumerable})),b.push.apply(b,U)}return b}function ve(ee){for(var r=1;r<arguments.length;r++){var b=arguments[r]!=null?arguments[r]:{};r%2?se(Object(b),!0).forEach(function(U){V()(ee,U,b[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(b)):se(Object(b)).forEach(function(U){Object.defineProperty(ee,U,Object.getOwnPropertyDescriptor(b,U))})}return ee}function Se(ee){return Object.values(O.z).includes(ee)}var q=Object(G.kea)({props:{},key:Object(_.c)("new"),path:function(r){return["lib","components","ChartFilter","chartFilterLogic",r]},connect:function(r){return{actions:[Object(I.c)(r),["setFilters"]],values:[Object(I.c)(r),["filters"]]}},actions:function(){return{setChartFilter:function(b){return{chartFilter:b}}}},selectors:{chartFilter:[function(ee){return[ee.filters]},function(ee){var r=ee.display,b=ee.funnel_viz_type;return(r===O.j.FunnelViz?b:r)||null}]},listeners:function(r){var b=r.actions,U=r.values;return{setChartFilter:function(_e){var Ce=_e.chartFilter,ke=U.filters,Ye=ke.display,Qe=ke.funnel_viz_type;Se(Ce)?(Qe!==Ce||Ye!==O.j.FunnelViz)&&b.setFilters(ve(ve({},U.filters),{},{display:O.j.FunnelViz,funnel_viz_type:Ce})):Object(ne.pb)(Ye,Ce)||b.setFilters(ve(ve({},U.filters),{},{display:Ce}))}}}})},"./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts":function(oe,C,t){"use strict";t.d(C,"a",function(){return ne});var R=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),V=t.n(R),de=t("./node_modules/core-js/modules/es.array.iterator.js"),ae=t.n(de),Z=t("./node_modules/core-js/modules/es.object.to-string.js"),Oe=t.n(Z),ue=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),B=t.n(ue),e=t("./node_modules/core-js/modules/es.object.keys.js"),i=t.n(e),Ee=t("./node_modules/core-js/modules/es.symbol.js"),Fe=t.n(Ee),je=t("./node_modules/core-js/modules/es.array.filter.js"),ce=t.n(je),pe=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),he=t.n(pe),F=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),re=t.n(F),j=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),P=t.n(j),K=t("./node_modules/kea/lib/index.esm.js"),M=t("./frontend/src/lib/utils.tsx"),k=t("./frontend/src/types.ts"),ie=t("./frontend/src/scenes/insights/sharedUtils.ts"),me=t("./frontend/src/scenes/insights/insightLogic.ts");function ye(O,_){var I=Object.keys(O);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(O);_&&(se=se.filter(function(ve){return Object.getOwnPropertyDescriptor(O,ve).enumerable})),I.push.apply(I,se)}return I}function G(O){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?ye(Object(I),!0).forEach(function(se){V()(O,se,I[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(I)):ye(Object(I)).forEach(function(se){Object.defineProperty(O,se,Object.getOwnPropertyDescriptor(I,se))})}return O}var ne=Object(K.kea)({props:{},key:Object(ie.c)("new"),path:function(_){return["lib","components","CompareFilter","compareFilterLogic",_]},connect:function(_){return{actions:[Object(me.c)(_),["setFilters"]],values:[Object(me.c)(_),["filters","canEditInsight"]]}},actions:function(){return{setCompare:function(I){return{compare:I}},toggleCompare:!0}},selectors:{compare:[function(O){return[O.filters]},function(O){return!!(O!=null&&O.compare)}],disabled:[function(O){return[O.filters,O.canEditInsight]},function(O,_){var I=O.insight,se=O.date_from,ve=O.display;return!_||I===k.D.LIFECYCLE||ve===k.j.WorldMap||se==="all"}]},listeners:function(_){var I=_.values,se=_.actions;return{setCompare:function(Se){var q=Se.compare;Object(M.pb)(q,I.compare)||se.setFilters(G(G({},I.filters),{},{compare:q}))},toggleCompare:function(){se.setCompare(!I.compare)}}}})},"./frontend/src/lib/components/InlineMessage/InlineMessage.tsx":function(oe,C,t){"use strict";t.d(C,"a",function(){return pe});var R=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),V=t.n(R),de=t("./node_modules/react/index.js"),ae=t.n(de),Z=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Oe=t.n(Z),ue=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss"),B=t.n(ue),e={};e.insert="head",e.singleton=!1;var i=Oe()(B.a,e),Ee=B.a.locals||{},Fe=t("./node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js"),je=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),ce=t("./node_modules/clsx/dist/clsx.m.js");function pe(he){var F=he.children,re=he.style,j=he.icon,P=j===void 0?ae.a.createElement(Fe.a,null):j,K=he.type,M=K===void 0?"info":K,k=he.closable,ie=he.onClose,me=Object(de.useState)(!0),ye=V()(me,2),G=ye[0],ne=ye[1],O=function(){ne(!1),ie==null||ie()};return ae.a.createElement("div",{className:Object(ce.a)("inline-message",M,k&&"closable",!G&&"hidden"),style:re},ae.a.createElement("div",{className:"inline-icon"},P),ae.a.createElement("div",{className:"inline-main"},F),k&&ae.a.createElement("div",{className:"closable",onClick:O},ae.a.createElement(je.a,null)))}try{pe.displayName="InlineMessage",pe.__docgenInfo={description:"",displayName:"InlineMessage",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},icon:{defaultValue:{value:"<ExclamationCircleFilled />"},description:"",name:"icon",required:!1,type:{name:"Element"}},type:{defaultValue:{value:"info"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"warning"'},{value:'"danger"'},{value:'"info"'}]}},closable:{defaultValue:null,description:"",name:"closable",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"]={docgenInfo:pe.__docgenInfo,name:"InlineMessage",path:"frontend/src/lib/components/InlineMessage/InlineMessage.tsx#InlineMessage"})}catch(he){}},"./frontend/src/scenes/insights/InsightContainer.tsx":function(oe,C,t){"use strict";t.d(C,"a",function(){return ht});var R=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),V=t.n(R),de=t("./node_modules/antd/es/card/index.js"),ae=t("./node_modules/antd/es/row/index.js"),Z=t("./node_modules/antd/es/col/index.js"),Oe=t("./node_modules/core-js/modules/es.array.includes.js"),ue=t("./node_modules/core-js/modules/es.string.includes.js"),B=t("./node_modules/react/index.js"),e=t.n(B),i=t("./node_modules/kea/lib/index.esm.js"),Ee=t("./frontend/src/lib/components/ChartFilter/chartFilterLogic.ts"),Fe=t("./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),je=t("./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),ce=t("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-616-64h536c4.4 0 8-3.6 8-8V284c0-7.2-8.7-10.7-13.7-5.7L592 488.6l-125.4-124a8.03 8.03 0 00-11.3 0l-189 189.6a7.87 7.87 0 00-2.3 5.6V720c0 4.4 3.6 8 8 8z"}}]},name:"area-chart",theme:"outlined"},he=pe,F=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),re=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:he}))};re.displayName="AreaChartOutlined";var j=B.forwardRef(re),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},K=P,M=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:K}))};M.displayName="BarChartOutlined";var k=B.forwardRef(M),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"},me=ie,ye=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:me}))};ye.displayName="NumberOutlined";var G=B.forwardRef(ye),ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},O=ne,_=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:O}))};_.displayName="TableOutlined";var I=B.forwardRef(_),se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},ve=se,Se=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:ve}))};Se.displayName="PieChartOutlined";var q=B.forwardRef(Se),ee=t("./node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),r=t("./frontend/src/types.ts"),b=t("./frontend/src/scenes/insights/insightLogic.ts"),U=t("./frontend/src/lib/components/Tooltip.tsx"),Be=t("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),_e=t("./frontend/@posthog/lemon-ui/src/index.ts");function Ce(s){var n=s.filters,a=s.onChange,l=s.disabled,u=Object(i.useValues)(b.c),c=u.insightProps,d=u.isSingleSeries,o=Object(i.useValues)(Object(Ee.a)(c)),m=o.chartFilter,p=Object(i.useActions)(Object(Ee.a)(c)),E=p.setChartFilter,f=n.insight===r.D.STICKINESS||n.insight===r.D.RETENTION,S=n.insight===r.D.STICKINESS||n.insight===r.D.RETENTION,y=n.insight===r.D.STICKINESS||n.insight===r.D.RETENTION&&!!n.breakdown&&n.breakdown!=="$geoip_country_code"&&n.breakdown!=="$geoip_country_name"||!d||!!n.formula,x=n.insight===r.D.STICKINESS||n.insight===r.D.RETENTION||!d,L=n.insight===r.D.RETENTION,D=L||n.insight===r.D.STICKINESS||n.insight===r.D.RETENTION,J=n.insight===r.D.RETENTION?r.j.ActionsTable:n.insight===r.D.FUNNELS?r.j.FunnelViz:r.j.ActionsLineGraph;function A(te){var h=te.icon,N=te.tooltip,W=te.children,Q=W===void 0?null:W;return e.a.createElement(U.a,{title:N,placement:"left"},e.a.createElement("div",{className:"w-full"},h," ",Q))}var le=n.insight===r.D.FUNNELS?[{value:r.z.Steps,label:e.a.createElement(A,{icon:e.a.createElement(Fe.a,null)},"Steps")},{value:r.z.Trends,label:e.a.createElement(A,{icon:e.a.createElement(je.a,null)},"Trends",e.a.createElement(Be.a,{type:"warning",className:"uppercase",style:{marginLeft:6,lineHeight:"1.4em"}},"BETA"))}]:[{title:"Line Chart",options:[{value:r.j.ActionsLineGraph,label:e.a.createElement(A,{icon:e.a.createElement(je.a,null)},"Linear")},{value:r.j.ActionsLineGraphCumulative,label:e.a.createElement(A,{icon:e.a.createElement(j,null)},"Cumulative"),disabled:f}]},{title:"Bar Chart",options:[{value:r.j.ActionsBar,label:e.a.createElement(A,{icon:e.a.createElement(k,null)},"Time"),disabled:L},{value:r.j.ActionsBarValue,label:e.a.createElement(A,{icon:e.a.createElement(k,null)},"Value"),disabled:D}]},{options:[{value:r.j.BoldNumber,label:e.a.createElement(A,{icon:e.a.createElement(G,null),tooltip:"Big and bold. Only works with one series at a time."},"Number"),disabled:x},{value:r.j.ActionsTable,label:e.a.createElement(A,{icon:e.a.createElement(I,null)},"Table")},{value:r.j.ActionsPie,label:e.a.createElement(A,{icon:e.a.createElement(q,null)},"Pie"),disabled:S},{value:r.j.WorldMap,label:e.a.createElement(A,{icon:e.a.createElement(ee.a,null),tooltip:"Visualize data by country. Only works with one series at a time."},"World Map"),disabled:y}]}];return e.a.createElement(_e.LemonSelect,{key:"2",value:m||J||n.display,onChange:function(h){E(h),a==null||a(h)},dropdownPlacement:"bottom-end",dropdownMatchSelectWidth:!1,"data-attr":"chart-filter",disabled:l,options:le,size:"small"})}try{Ce.displayName="ChartFilter",Ce.__docgenInfo={description:"",displayName:"ChartFilter",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((chartFilter: ChartDisplayType | FunnelVizType) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"]={docgenInfo:Ce.__docgenInfo,name:"ChartFilter",path:"frontend/src/lib/components/ChartFilter/ChartFilter.tsx#ChartFilter"})}catch(s){}var ke=t("./frontend/src/lib/components/CompareFilter/compareFilterLogic.ts");function Ye(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=Object(i.useValues)(Object(ke.a)(n)),l=a.compare,u=a.disabled,c=Object(i.useActions)(Object(ke.a)(n)),d=c.setCompare;return u?null:e.a.createElement(_e.LemonCheckbox,{onChange:d,checked:l,disabled:u,label:e.a.createElement("span",{className:"font-normal"},"Compare to previous time period"),bordered:!0,size:"small"})}var Qe=t("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Le=t.n(Qe),tt=t("./node_modules/core-js/modules/es.array.map.js"),Vt=t("./node_modules/core-js/modules/es.object.entries.js"),Bt=t("./node_modules/core-js/modules/es.array.iterator.js"),wt=t("./node_modules/core-js/modules/es.object.to-string.js"),Pe=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),xe=t("./node_modules/core-js/modules/es.object.keys.js"),He=t("./node_modules/core-js/modules/es.symbol.js"),$e=t("./node_modules/core-js/modules/es.array.filter.js"),Ot=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),nt=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Kt=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),Ut=t("./node_modules/core-js/modules/es.array.slice.js"),Wt=t("./node_modules/core-js/modules/es.function.name.js"),at=t("./node_modules/core-js/modules/es.array.from.js"),Xa=t("./node_modules/core-js/modules/es.string.iterator.js"),Qa=t("./node_modules/core-js/modules/es.regexp.exec.js"),Za=t("./node_modules/core-js/modules/es.symbol.description.js"),qa=t("./node_modules/core-js/modules/es.symbol.iterator.js"),$=t("./frontend/src/lib/utils.tsx"),xn=t("./frontend/src/scenes/insights/sharedUtils.ts"),Te=t("./frontend/src/lib/dayjs.ts"),jt=t("./frontend/src/lib/logic/featureFlagLogic.ts");function Tn(s,n){var a=typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(!a){if(Array.isArray(s)||(a=Dn(s))||n&&s&&typeof s.length=="number"){a&&(s=a);var l=0,u=function(){};return{s:u,n:function(){return l>=s.length?{done:!0}:{done:!1,value:s[l++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c=!0,d=!1,o;return{s:function(){a=a.call(s)},n:function(){var p=a.next();return c=p.done,p},e:function(p){d=!0,o=p},f:function(){try{!c&&a.return!=null&&a.return()}finally{if(d)throw o}}}}function Dn(s,n){if(!!s){if(typeof s=="string")return zt(s,n);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(s);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return zt(s,n)}}function zt(s,n){(n==null||n>s.length)&&(n=s.length);for(var a=0,l=new Array(n);a<n;a++)l[a]=s[a];return l}function kt(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),a.push.apply(a,l)}return a}function Ht(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?kt(Object(a),!0).forEach(function(l){V()(s,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):kt(Object(a)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(a,l))})}return s}var $t=Object(i.kea)({props:{},key:Object(xn.c)("new"),path:function(n){return["lib","components","IntervalFilter","intervalFilterLogic",n]},connect:function(n){return{actions:[Object(b.c)(n),["setFilters"]],values:[Object(b.c)(n),["filters"],jt.a,["featureFlags"]]}},actions:function(){return{setInterval:function(a){return{interval:a}}}},listeners:function(n){var a=n.values,l=n.actions,u=n.selectors;return{setInterval:function(d){var o=d.interval;Object($.pb)(o,a.filters.interval)||l.setFilters(Ht(Ht({},a.filters),{},{interval:o}))},setFilters:function(d,o,m,p){var E=d.filters,f=E.date_from,S=E.date_to,y=u.filters(p);if(!(!f||Object($.pb)(f,y.date_from)&&Object($.pb)(S,y.date_to))){if(f&&S&&Object(Te.a)(E.date_from).isValid()&&Object(Te.a)(E.date_to).isValid()){Object(Te.a)(S).diff(Object(Te.a)(f),"day")<=3?l.setInterval("hour"):Object(Te.a)(S).diff(Object(Te.a)(f),"month")<=3?l.setInterval("day"):l.setInterval("month");return}var x="day",L=Tn($.u),D;try{for(L.s();!(D=L.n()).done;){var J=D.value,A=J.key,le=J.values,te=J.defaultInterval;if(le[0]===f&&le[1]===(S||void 0)&&A!=="Custom"&&te){x=te;break}}}catch(h){L.e(h)}finally{L.f()}l.setInterval(x)}}}},selectors:{interval:[function(s){return[s.filters]},function(s){return s==null?void 0:s.interval}]}}),Fn={hour:{label:"Hour",newDateFrom:"dStart"},day:{label:"Day",newDateFrom:void 0},week:{label:"Week",newDateFrom:"-30d"},month:{label:"Month",newDateFrom:"-90d"}};function rt(s){var n=s.disabled,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)($t(l)),c=u.interval,d=Object(i.useActions)($t(l)),o=d.setInterval;return e.a.createElement(_e.LemonSelect,{size:"small",disabled:n,value:c||void 0,dropdownMatchSelectWidth:!1,onChange:function(p){p&&o(String(p))},"data-attr":"interval-filter",options:Object.entries(Fn).map(function(m){var p=Le()(m,2),E=p[0],f=p[1].label;return{value:E,label:f}})})}try{rt.displayName="IntervalFilter",rt.__docgenInfo={description:"",displayName:"IntervalFilter",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"]={docgenInfo:rt.__docgenInfo,name:"IntervalFilter",path:"frontend/src/lib/components/IntervalFilter/IntervalFilter.tsx#IntervalFilter"})}catch(s){}var Ie=t("./node_modules/antd/es/select/index.js"),In=t("./node_modules/@ant-design/icons/es/icons/FundOutlined.js"),Ln=t("./frontend/src/lib/components/SmoothingFilter/smoothings.ts");function Yt(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),a.push.apply(a,l)}return a}function Gt(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Yt(Object(a),!0).forEach(function(l){V()(s,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Yt(Object(a)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(a,l))})}return s}function An(){var s=Object(i.useValues)(b.c),n=s.filters,a=Object(i.useActions)(b.c),l=a.setFilters,u=n.interval,c=n.smoothing_intervals;if(!u)return null;var d=Ln.a[u].map(function(o){var m=o.value,p=o.label;return{value:m,label:m===c?e.a.createElement(e.a.Fragment,null,e.a.createElement(In.a,null)," ",p):p}});return d.length?e.a.createElement(Ie.a,{key:u,bordered:!0,value:c||1,dropdownMatchSelectWidth:!1,onChange:function(m){l(Gt(Gt({},n),{},{smoothing_intervals:m}))},"data-attr":"smoothing-filter",options:d}):e.a.createElement(e.a.Fragment,null)}var Ne=t("./frontend/src/lib/constants.tsx"),Rn=t("./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js"),Nn=t("./node_modules/@babel/runtime/helpers/extends.js"),Mn=t.n(Nn),Jt=t("./frontend/src/scenes/insights/filters/InsightDateFilter/insightDateFilterLogic.ts"),Vn=t("./frontend/src/lib/components/DateFilter/DateFilter.tsx");function st(s){var n,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)(Object(Jt.a)(l)),c=u.dates,d=c.dateFrom,o=c.dateTo,m=Object(i.useActions)(Object(Jt.a)(l)),p=m.setDates;return e.a.createElement(Vn.a,Mn()({},s,{dateFrom:(n=d!=null?d:"-7d")!==null&&n!==void 0?n:void 0,dateTo:o!=null?o:void 0,onChange:function(f,S){var y;p(f,S),(y=s.onChange)===null||y===void 0||y.call(s,f,S)}}))}try{st.displayName="InsightDateFilter",st.__docgenInfo={description:"",displayName:"InsightDateFilter",props:{showCustom:{defaultValue:null,description:"",name:"showCustom",required:!1,type:{name:"boolean"}},showRollingRangePicker:{defaultValue:null,description:"",name:"showRollingRangePicker",required:!1,type:{name:"boolean"}},makeLabel:{defaultValue:null,description:"",name:"makeLabel",required:!1,type:{name:"((key: ReactNode) => ReactNode)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((fromDate: string | null, toDate: string | null) => void)"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},getPopupContainer:{defaultValue:null,description:"",name:"getPopupContainer",required:!1,type:{name:"(() => HTMLElement)"}},dateOptions:{defaultValue:null,description:"",name:"dateOptions",required:!1,type:{name:"DateMappingOption[]"}},isDateFormatted:{defaultValue:null,description:"",name:"isDateFormatted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/filters/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"]={docgenInfo:st.__docgenInfo,name:"InsightDateFilter",path:"frontend/src/scenes/insights/filters/InsightDateFilter/InsightDateFilter.tsx#InsightDateFilter"})}catch(s){}var lt=t("./frontend/src/scenes/retention/retentionTableLogic.ts"),Bn=t("./frontend/src/lib/components/DatePicker.tsx");function ot(s){var n=s.disabled,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)(Object(lt.e)(l)),c=u.filters,d=Object(i.useActions)(Object(lt.e)(l)),o=d.setFilters,m=c.date_to&&Object(Te.a)(c.date_to).year()!==Object(Te.a)().year()?", YYYY":"";return e.a.createElement(e.a.Fragment,null,e.a.createElement(U.a,{title:"Cohorts up to this end date"},e.a.createElement("span",{style:{maxWidth:100},className:"flex inline-flex items-center pl-2"},e.a.createElement(Bn.a,{showTime:c.period==="Hour",use12Hours:!0,format:c.period==="Hour"?"MMM D".concat(m,", h a"):"MMM D".concat(m),value:c.date_to?Object(Te.a)(c.date_to):void 0,onChange:function(E){return o({date_to:E&&Object(Te.a)(E).toISOString()})},allowClear:!0,placeholder:"Today",className:"retention-date-picker",disabled:n}))))}try{ot.displayName="RetentionDatePicker",ot.__docgenInfo={description:"",displayName:"RetentionDatePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"]={docgenInfo:ot.__docgenInfo,name:"RetentionDatePicker",path:"frontend/src/scenes/insights/RetentionDatePicker.tsx#RetentionDatePicker"})}catch(s){}var ge=t("./frontend/src/scenes/funnels/funnelLogic.ts"),Ae=t("./frontend/src/lib/components/icons.tsx");function it(s){var n=s.disabled,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)(Object(ge.a)(l)),c=u.barGraphLayout,d=Object(i.useActions)(Object(ge.a)(l)),o=d.setFilters,m=[{title:"Graph Display Options",options:[{value:Ne.l.vertical,icon:e.a.createElement(Ae.IconFunnelVertical,null),label:"Left to right"},{value:Ne.l.horizontal,icon:e.a.createElement(Ae.IconFunnelHorizontal,null),label:"Top to bottom"}]}];return e.a.createElement(_e.LemonSelect,{value:c||Ne.l.vertical,onChange:function(E){return E&&o({layout:E})},dropdownMatchSelectWidth:!1,"data-attr":"funnel-bar-layout-selector",disabled:n,options:m,size:"small"})}try{it.displayName="FunnelDisplayLayoutPicker",it.__docgenInfo={description:"",displayName:"FunnelDisplayLayoutPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Funnels/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"]={docgenInfo:it.__docgenInfo,name:"FunnelDisplayLayoutPicker",path:"frontend/src/scenes/insights/views/Funnels/FunnelDisplayLayoutPicker.tsx#FunnelDisplayLayoutPicker"})}catch(s){}var wn=t("./node_modules/@ant-design/icons/es/icons/BarsOutlined.js"),_t=t("./frontend/src/scenes/paths/pathsLogic.ts"),Kn=t("./frontend/src/scenes/userLogic.ts");function ct(s){var n,a=s.disabled,l=Object(i.useValues)(b.c),u=l.insightProps,c=Object(i.useValues)(Object(_t.b)(u)),d=c.filter,o=Object(i.useActions)(Object(_t.b)(u)),m=o.setFilter,p=Object(i.useValues)(Kn.a),E=p.user,f=2,S=E!=null&&(n=E.organization)!==null&&n!==void 0&&n.available_features.includes(r.d.PATHS_ADVANCED)?20:5,y=Array.from(Array.from(Array.from(Array(S+1).keys()).slice(f)),function(x){return{label:"".concat(x," Steps"),value:x}});return e.a.createElement(Ie.a,{id:"path-step-filter","data-attr":"path-step-filter",defaultValue:5,value:d.step_limit||_t.a,onSelect:function(L){return m({step_limit:L})},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!0,dropdownAlign:$.a.bottomRight,optionLabelProp:"label",disabled:a},y.map(function(x){return e.a.createElement(Ie.a.Option,{key:x.value,value:x.value,label:e.a.createElement(e.a.Fragment,null,e.a.createElement(wn.a,null)," ",x.label)},x.label)}))}try{ct.displayName="PathStepPicker",ct.__docgenInfo={description:"",displayName:"PathStepPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx#PathStepPicker"]={docgenInfo:ct.__docgenInfo,name:"PathStepPicker",path:"frontend/src/scenes/insights/views/Paths/PathStepPicker.tsx#PathStepPicker"})}catch(s){}var Un={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},Wn=Un,Xt=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:Wn}))};Xt.displayName="PercentageOutlined";var Qt=B.forwardRef(Xt);function dt(s){var n=s.disabled,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)(Object(lt.e)(l)),c=u.retentionReference,d=Object(i.useActions)(Object(lt.e)(l)),o=d.setRetentionReference;return e.a.createElement(Ie.a,{value:c,onChange:o,bordered:!1,dropdownMatchSelectWidth:!1,"data-attr":"reference-selector",optionLabelProp:"label",disabled:n},[{value:"total",icon:e.a.createElement(Qt,null),label:"Overall cohort"},{value:"previous",icon:e.a.createElement(Qt,null),label:"Relative to previous period"}].map(function(m){return e.a.createElement(Ie.a.Option,{key:m.value,value:m.value,label:e.a.createElement(e.a.Fragment,null,m.icon," ",m.label)},m.label)}))}try{dt.displayName="ReferencePicker",dt.__docgenInfo={description:"",displayName:"ReferencePicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/filters/ReferencePicker.tsx#ReferencePicker"]={docgenInfo:dt.__docgenInfo,name:"ReferencePicker",path:"frontend/src/scenes/insights/filters/ReferencePicker.tsx#ReferencePicker"})}catch(s){}var Zt=t("./node_modules/antd/es/tooltip/index.js"),Me=t("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),zn=t("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Ve=t.n(zn),er=t("./node_modules/core-js/modules/es.set.js"),tr=t("./node_modules/core-js/modules/es.array.concat.js"),kn=t("./node_modules/antd/es/input-number/index.js"),Ct=t("./node_modules/clsx/dist/clsx.m.js"),Hn=0,qt=90,$n=new Set([5,15,25,50,90]),Yn=[{label:"Auto bins",value:Ne.a,display:!0}].concat(Ve()(Array.from(Array.from(Array(qt+1).keys()),function(s){return{label:"".concat(s," bins"),value:s,display:$n.has(s)}})),[{label:"Custom",value:"custom",display:!0}]);function ut(s){var n=s.disabled,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)(Object(ge.a)(l)),c=u.filters,d=u.numericBinCount,o=Object(i.useActions)(Object(ge.a)(l)),m=o.setBinCount;return e.a.createElement(Ie.a,{id:"funnel-bin-filter",dropdownClassName:"funnel-bin-filter-dropdown","data-attr":"funnel-bin-filter",defaultValue:Ne.a,value:c.bin_count||Ne.a,onSelect:function(E){return m(E)},dropdownRender:function(E){return e.a.createElement(e.a.Fragment,null,E,e.a.createElement("div",null,e.a.createElement(kn.a,{className:"funnel-bins-custom-picker",size:"middle",min:Hn,max:qt,value:d,onChange:function(S){var y=typeof S=="string"?parseInt(S):S;y&&m(y)}})," ","bins"))},listHeight:440,bordered:!1,dropdownMatchSelectWidth:!1,dropdownAlign:$.a.bottomRight,optionLabelProp:"label",disabled:n},e.a.createElement(Ie.a.OptGroup,{label:"Bin Count"},Yn.map(function(p){return p.value==="custom"?null:e.a.createElement(Ie.a.Option,{className:Object(Ct.a)({"select-option-hidden":!p.display}),key:p.value,value:p.value,label:e.a.createElement(e.a.Fragment,null,e.a.createElement(k,null)," ",p.label)},p.label)})))}try{ut.displayName="FunnelBinsPicker",ut.__docgenInfo={description:"",displayName:"FunnelBinsPicker",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx#FunnelBinsPicker"]={docgenInfo:ut.__docgenInfo,name:"FunnelBinsPicker",path:"frontend/src/scenes/insights/views/Funnels/FunnelBinsPicker.tsx#FunnelBinsPicker"})}catch(s){}var Gn=t("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Ze=t.n(Gn),Jn=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/UnitPicker/UnitPicker.scss"),en=t.n(Jn),Pt={};Pt.insert="head",Pt.singleton=!1;var nr=Ze()(en.a,Pt),ar=en.a.locals||{},St=t("./frontend/src/scenes/insights/aggregationAxisFormat.ts"),we=t("./frontend/src/lib/components/LemonButton/index.ts"),Xn=t("./frontend/src/lib/components/LemonDivider/index.ts"),tn=t("./frontend/src/lib/forms/Field.tsx"),nn=t("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),an=t("./node_modules/use-debounce/esm/useDebouncedCallback.js"),Qn=t("./frontend/src/lib/hooks/useKeyboardHotkeys.tsx"),xt=t("./frontend/src/lib/utils/eventUsageLogic.ts");function rn(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),a.push.apply(a,l)}return a}function sn(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?rn(Object(a),!0).forEach(function(l){V()(s,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):rn(Object(a)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(a,l))})}return s}var Zn=St.a.reduce(function(s,n){return s[n.value]=n.label,s},{});function mt(s){var n=s.filters,a=s.setFilters,l=Object(i.useValues)(jt.a),u=l.featureFlags,c=Object(i.useActions)(xt.e),d=c.reportAxisUnitsChanged,o=Object(B.useState)(!1),m=Le()(o,2),p=m[0],E=m[1],f=Object(B.useState)(n.aggregation_axis_format||void 0),S=Le()(f,2),y=S[0],x=S[1],L=Object(B.useState)(n.aggregation_axis_prefix||""),D=Le()(L,2),J=D[0],A=D[1],le=Object(B.useState)(n.aggregation_axis_postfix||""),te=Le()(le,2),h=te[0],N=te[1],W=Object(an.a)(function(){E(!p)},200),Q=Object(an.a)(function(g){var v=g.format,w=g.prefix,Y=g.postfix;a(sn(sn({},n),{},{aggregation_axis_format:v,aggregation_axis_prefix:w,aggregation_axis_postfix:Y}))},200);Object(Qn.a)({escape:{action:W}},[]);var z=function(v){var w=v.format,Y=v.prefix,T=v.postfix,H=v.close;x(w),A(Y||""),N(T||""),Q({format:w,prefix:Y,postfix:T}),H&&W(),d({format:w,prefix:Y,postfix:T,display:n.display,unitIsSet:!!Y||!!T||w&&w!=="numeric"})},X=Object(B.useMemo)(function(){var g="None";return y&&(g=Zn[y]),J!=null&&J.length&&(g="prefix: ".concat(J)),h!=null&&h.length&&(g="postfix: ".concat(h)),g},[y,J,h]);return e.a.createElement(e.a.Fragment,null,e.a.createElement("span",null,Object(St.b)(n.display)),e.a.createElement(we.b,{onClick:function(){return E(!p)},size:"small",type:"secondary",status:"stealth","data-attr":"chart-aggregation-axis-format",popup:{onClickOutside:close,visible:p,className:"UnitPopup",overlay:e.a.createElement(e.a.Fragment,null,St.a.map(function(g,v){var w=g.value,Y=g.label;return e.a.createElement(we.a,{key:v,onClick:function(){return z({format:w,close:!0})},status:"stealth",active:w===y,fullWidth:!0},Y)}),!!u[Ne.j.CURRENCY_UNITS]&&e.a.createElement(e.a.Fragment,null,e.a.createElement(Xn.a,null),e.a.createElement(tn.b,{label:"prefix:"},e.a.createElement(nn.a,{value:J,onChange:function(v){return z({prefix:v})},onPressEnter:function(v){return z({prefix:v,close:!0})}})),e.a.createElement(tn.b,{label:"postfix:"},e.a.createElement(nn.a,{value:h,onChange:function(v){return z({postfix:v})},onPressEnter:function(v){return z({postfix:v,close:!0})}})))),placement:"bottom-start",actionable:!0,closeOnClickInside:!1}},X))}try{mt.displayName="UnitPicker",mt.__docgenInfo={description:"",displayName:"UnitPicker",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},setFilters:{defaultValue:null,description:"",name:"setFilters",required:!0,type:{name:"(filters: Partial<FilterType>, insightMode?: ItemMode | undefined) => void"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/UnitPicker/UnitPicker.tsx#UnitPicker"]={docgenInfo:mt.__docgenInfo,name:"UnitPicker",path:"frontend/src/lib/components/UnitPicker/UnitPicker.tsx#UnitPicker"})}catch(s){}var Ke,Ue,qn=function(n,a){switch(n){case r.D.FUNNELS:return a.funnel_viz_type===r.z.Trends;case r.D.RETENTION:case r.D.PATHS:return!1;case r.D.TRENDS:case r.D.STICKINESS:case r.D.LIFECYCLE:default:return!a.display||!Ne.p.includes(a.display)}},ea=function(n){switch(n){case r.D.TRENDS:case r.D.STICKINESS:return!0;case r.D.RETENTION:case r.D.FUNNELS:return!1;case r.D.LIFECYCLE:case r.D.PATHS:return!1;default:return!0}},ta=(Ke={},V()(Ke,"".concat(r.D.TRENDS),!0),V()(Ke,"".concat(r.D.STICKINESS),!0),V()(Ke,"".concat(r.D.LIFECYCLE),!0),V()(Ke,"".concat(r.D.FUNNELS),!0),V()(Ke,"".concat(r.D.RETENTION),!1),V()(Ke,"".concat(r.D.PATHS),!0),Ke),na=(Ue={},V()(Ue,"".concat(r.D.TRENDS),!0),V()(Ue,"".concat(r.D.STICKINESS),!0),V()(Ue,"".concat(r.D.LIFECYCLE),!1),V()(Ue,"".concat(r.D.FUNNELS),!1),V()(Ue,"".concat(r.D.RETENTION),!1),V()(Ue,"".concat(r.D.PATHS),!1),Ue),aa=function(n){var a,l;return!n.actions&&!n.events||((a=n.actions)===null||a===void 0?void 0:a.length)===0&&((l=n.events)===null||l===void 0?void 0:l.length)===0};function Re(s){return e.a.createElement("span",{className:"space-x-2 flex items-center text-sm"},s.children)}function ft(s){var n=s.filters,a=s.activeView,l=s.disableTable,u=a===r.D.FUNNELS,c=a===r.D.PATHS,d=Object(i.useValues)(jt.a),o=d.featureFlags,m=Object(i.useActions)(b.c),p=m.setFilters;return e.a.createElement("div",{className:"flex justify-between items-center flex-wrap","data-attr":"insight-filters"},e.a.createElement("div",{className:"flex items-center space-x-2 flex-wrap my-2"},ta[a]&&!l&&e.a.createElement(Re,null,e.a.createElement("span",null,"Date range"),e.a.createElement(st,{disabled:u&&aa(n),makeLabel:function(f){return e.a.createElement(e.a.Fragment,null,e.a.createElement(Rn.a,null)," ",f,f=="All time"&&e.a.createElement(Zt.a,{title:"Only events dated after 2015 will be shown"},e.a.createElement(Me.a,{className:"info-indicator"})))}})),qn(a,n)&&e.a.createElement(Re,null,e.a.createElement("span",null,e.a.createElement("span",{className:"hide-lte-md"},"grouped "),"by"),e.a.createElement(rt,{view:a})),a===r.D.TRENDS&&!n.breakdown_type&&!n.compare&&(!n.display||n.display===r.j.ActionsLineGraph)&&o[Ne.j.SMOOTHING_INTERVAL]?e.a.createElement(Re,null,e.a.createElement(An,null)):null,a===r.D.RETENTION&&e.a.createElement(Re,null,e.a.createElement(ot,null),e.a.createElement(dt,null)),c&&e.a.createElement(Re,null,e.a.createElement(ct,null)),na[a]&&e.a.createElement(Re,null,e.a.createElement(Ye,null))),e.a.createElement("div",{className:"flex items-center space-x-4 flex-wrap my-2"},ea(a)&&e.a.createElement(e.a.Fragment,null,a===r.D.TRENDS&&e.a.createElement(Re,null,e.a.createElement(mt,{filters:n,setFilters:p})),e.a.createElement(Re,null,e.a.createElement("span",null,"Chart type"),e.a.createElement(Ce,{filters:n}))),u&&n.funnel_viz_type===r.z.Steps&&e.a.createElement(e.a.Fragment,null,e.a.createElement(Re,null,e.a.createElement(it,null))),u&&n.funnel_viz_type===r.z.TimeToConvert&&e.a.createElement(Re,null,e.a.createElement(ut,null))))}try{ft.displayName="InsightDisplayConfig",ft.__docgenInfo={description:"",displayName:"InsightDisplayConfig",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterType"}},activeView:{defaultValue:null,description:"",name:"activeView",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}},insightMode:{defaultValue:null,description:"",name:"insightMode",required:!0,type:{name:"enum",value:[{value:'"edit"'},{value:'"view"'},{value:'"subscriptions"'},{value:'"sharing"'}]}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!0,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightDisplayConfig.tsx#InsightDisplayConfig"]={docgenInfo:ft.__docgenInfo,name:"InsightDisplayConfig",path:"frontend/src/scenes/insights/InsightDisplayConfig.tsx#InsightDisplayConfig"})}catch(s){}var Tt=t("./node_modules/antd/es/button/index.js"),ra=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss"),ln=t.n(ra),Dt={};Dt.insert="head",Dt.singleton=!1;var rr=Ze()(ln.a,Dt),sr=ln.a.locals||{},lr=t("./node_modules/core-js/modules/es.array.find.js"),on=t("./frontend/src/lib/components/EntityFilterInfo.tsx");function cn(){var s,n=Object(i.useValues)(b.c),a=n.insightProps,l=Object(i.useValues)(Object(ge.a)(a)),u=l.filters,c=l.numberOfSeries,d=l.areFiltersValid,o=l.filterSteps,m=Object(i.useActions)(Object(ge.a)(a)),p=m.changeStepRange;if(u.funnel_viz_type===r.z.Steps)return null;var E=function(L,D){p(L,D)},f=d?Array.from(Array(Math.max(c)).keys()).slice(0,-1):[0],S=d?Array.from(Array(Math.max(c)).keys()).slice(((s=u.funnel_from_step)!==null&&s!==void 0?s:0)+1):[1],y=function(L){return L.map(function(D){var J=o.find(function(A){return A.order===D});return J?e.a.createElement(Ie.a.Option,{key:D,value:D,label:"Step ".concat(D+1)},e.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},e.a.createElement("span",{style:{marginRight:4}},"Step ",D+1,":"),e.a.createElement(on.a,{filter:J}))):null})};return e.a.createElement(ae.a,{className:"funnel-options-inputs"},e.a.createElement("span",{className:"text-muted-alt"},"from"),e.a.createElement(Ie.a,{disabled:!d,dropdownMatchSelectWidth:!1,dropdownAlign:$.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_from_step-selector",optionLabelProp:"label",value:u.funnel_from_step||0,onChange:function(L){return E(L,u.funnel_to_step)},style:{marginLeft:4,marginRight:4}},y(f)),e.a.createElement("span",{className:"text-muted-alt"},"to"),e.a.createElement(Ie.a,{disabled:!d,dropdownMatchSelectWidth:!1,dropdownAlign:$.a.bottomLeft,"data-attr":"funnel-header-steps-funnel_to_step-selector",optionLabelProp:"label",value:u.funnel_to_step||Math.max(c-1,1),onChange:function(L){return E(u.funnel_from_step,L)},style:{marginLeft:4,marginRight:4}},y(S)))}function sa(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=s.filters,l=s.activeView,u=Object(i.useValues)(Object(ge.a)(n)),c=u.conversionMetrics,d=u.aggregationTargetLabel,o=Object(i.useActions)(Object(Ee.a)(n)),m=o.setChartFilter;if(l!==r.D.FUNNELS)return null;var p=[].concat(Ve()(a.funnel_viz_type===r.z.Steps?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},e.a.createElement(U.a,{title:"Overall conversion rate for all ".concat(d.plural," on the entire funnel.")},e.a.createElement(Me.a,{className:"info-indicator left"})),"Total conversion rate"),e.a.createElement("span",{className:"text-muted-alt mr-1"},":"),e.a.createElement("span",{className:"l4"},Object($.rb)(c.totalRate,2,!0)))]:[]),Ve()(a.funnel_viz_type!==r.z.Trends?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},e.a.createElement(U.a,{title:"Average (arithmetic mean) of the total time each ".concat(d.singular," spent in the entire funnel.")},e.a.createElement(Me.a,{className:"info-indicator left"})),"Average time to convert"," "),a.funnel_viz_type===r.z.TimeToConvert&&e.a.createElement(cn,null),e.a.createElement("span",{className:"text-muted-alt mr-1"},":"),e.a.createElement(Tt.a,{type:"link",onClick:function(){return m(r.z.TimeToConvert)},disabled:a.funnel_viz_type===r.z.TimeToConvert},e.a.createElement("span",{className:"l4"},Object($.O)(c.averageTime))))]:[]),Ve()(a.funnel_viz_type===r.z.Trends?[e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},"Conversion rate "),e.a.createElement(cn,null))]:[]));return e.a.createElement(ae.a,{className:"funnel-canvas-label",align:"middle"},p.map(function(E,f){return e.a.createElement(e.a.Fragment,{key:f},f>0&&e.a.createElement("span",{style:{margin:"2px 8px",borderLeft:"1px solid var(--border)",height:14}}),E)}))}var la=t("./frontend/src/lib/hooks/usePeriodicRerender.ts"),dn=3;function oa(){var s=Object(i.useValues)(b.c),n=s.lastRefresh,a=Object(i.useActions)(b.c),l=a.loadResults;return Object(la.a)(15e3),e.a.createElement("div",{className:"text-muted-alt",style:{height:32,display:"flex",alignItems:"center"}},"Computed ",n?Object(Te.a)(n).fromNow():"a while ago",e.a.createElement("span",{style:{padding:"0 4px"}},"\u2022"),e.a.createElement(Zt.a,{title:e.a.createElement(e.a.Fragment,null,"Insights can be refreshed",e.a.createElement("br",null),"every ",dn," minutes.")},e.a.createElement(Tt.a,{size:"small",type:"link",onClick:function(){return l(!0)},disabled:!!n&&Object(Te.a)().subtract(dn-.5,"minutes").isBefore(n),style:{padding:0}},e.a.createElement("span",{style:{fontSize:14}},"Refresh"))))}var Ft=t("./frontend/src/scenes/trends/viz/index.ts"),pt=t("./frontend/src/scenes/trends/trendsLogic.ts"),un=t("./frontend/src/scenes/insights/views/InsightsTable/InsightsTable.tsx");try{InsightsTable.displayName="InsightsTable",InsightsTable.__docgenInfo={description:"",displayName:"InsightsTable",props:{isLegend:{defaultValue:{value:"false"},description:"Whether this is just a legend instead of standalone insight viz. Default: false.",name:"isLegend",required:!1,type:{name:"boolean"}},embedded:{defaultValue:{value:"false"},description:"Whether this is table is embedded in another card or whether it should be a card of its own. Default: false.",name:"embedded",required:!1,type:{name:"boolean"}},filterKey:{defaultValue:null,description:"Key for the entityFilterLogic",name:"filterKey",required:!0,type:{name:"string"}},canEditSeriesNameInline:{defaultValue:{value:"false"},description:"",name:"canEditSeriesNameInline",required:!1,type:{name:"boolean"}},canCheckUncheckSeries:{defaultValue:{value:"true"},description:"(Un)checking series updates the insight via the API, so it should be disabled if updates aren't desired.",name:"canCheckUncheckSeries",required:!1,type:{name:"boolean"}},isMainInsightView:{defaultValue:{value:"false"},description:"",name:"isMainInsightView",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/views/InsightsTable/index.tsx#InsightsTable"]={docgenInfo:InsightsTable.__docgenInfo,name:"InsightsTable",path:"frontend/src/scenes/insights/views/InsightsTable/index.tsx#InsightsTable"})}catch(s){}var mn=t("./frontend/src/scenes/insights/insightSceneLogic.tsx"),ia=t("./frontend/src/scenes/insights/views/WorldMap/index.ts"),ca=t("./frontend/src/scenes/insights/views/BoldNumber/index.ts");function Ge(s){var n=s.view,a=Object(i.useValues)(mn.a),l=a.insightMode,u=Object(i.useValues)(b.c),c=u.insightProps,d=Object(i.useValues)(Object(pt.a)(c)),o=d.filters,m=d.loadMoreBreakdownUrl,p=d.breakdownValuesLoading,E=Object(i.useActions)(Object(pt.a)(c)),f=E.loadMoreBreakdownValues,S=function(){if(!o.display||o.display===r.j.ActionsLineGraph||o.display===r.j.ActionsLineGraphCumulative||o.display===r.j.ActionsBar)return e.a.createElement(Ft.b,null);if(o.display===r.j.BoldNumber)return e.a.createElement(ca.a,null);if(o.display===r.j.ActionsTable)return e.a.createElement(i.BindLogic,{logic:pt.a,props:{dashboardItemId:null,view:n,filters:null}},e.a.createElement(un.b,{embedded:!0,filterKey:"trends_".concat(n),canEditSeriesNameInline:l===r.E.Edit,isMainInsightView:!0}));if(o.display===r.j.ActionsPie)return e.a.createElement(Ft.c,null);if(o.display===r.j.ActionsBarValue)return e.a.createElement(Ft.a,null);if(o.display===r.j.WorldMap)return e.a.createElement(ia.a,null)};return e.a.createElement(e.a.Fragment,null,(o.actions||o.events)&&e.a.createElement("div",{className:o.display!==r.j.ActionsTable&&o.display!==r.j.WorldMap&&o.display!==r.j.BoldNumber?"trends-insights-container":void 0},S()),o.breakdown&&m&&e.a.createElement("div",{className:"my-4 flex flex-col items-center"},e.a.createElement("div",{className:"text-muted mb-2"},"For readability, ",e.a.createElement("b",null,"not all breakdown values are displayed"),". Click below to load them."),e.a.createElement(_e.LemonButton,{onClick:f,loading:p,size:"small",type:"secondary"},"Load more breakdown values")))}try{Ge.displayName="TrendInsight",Ge.__docgenInfo={description:"",displayName:"TrendInsight",props:{view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"TRENDS"'},{value:'"STICKINESS"'},{value:'"LIFECYCLE"'},{value:'"FUNNELS"'},{value:'"RETENTION"'},{value:'"PATHS"'}]}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/trends/Trends.tsx#TrendInsight"]={docgenInfo:Ge.__docgenInfo,name:"TrendInsight",path:"frontend/src/scenes/trends/Trends.tsx#TrendInsight"})}catch(s){}var da=t("./frontend/src/scenes/retention/RetentionContainer.tsx"),ua=t("./frontend/src/scenes/paths/Paths.tsx"),qe=t("./frontend/src/scenes/insights/EmptyStates/index.ts");function ma(){var s=Object(i.useValues)(b.c),n=s.activeView;return n!==r.D.PATHS?null:e.a.createElement(ae.a,{className:"funnel-canvas-label",align:"middle"},e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:"text-muted-alt"},"Large path items are shown by default. View smaller items by hovering over a node")))}var fn=t("./frontend/src/lib/components/InsightLegend/InsightLegend.tsx"),or=t("./node_modules/core-js/modules/es.object.from-entries.js"),ir=t("./node_modules/core-js/modules/es.array.flat-map.js"),cr=t("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),fa=t("./frontend/src/lib/components/LemonTable/index.ts"),vt=t("./frontend/src/scenes/funnels/funnelUtils.ts"),It=t("./frontend/src/scenes/insights/views/Funnels/funnelStepTableUtils.tsx"),pa=t("./frontend/src/models/cohortsModel.ts"),pn=t("./frontend/src/lib/components/LemonCheckbox/index.ts"),vn=t("./frontend/src/lib/components/Lettermark/Lettermark.tsx"),Lt=t("./frontend/src/lib/components/LemonRow/index.ts"),Je=t("./frontend/src/scenes/funnels/ValueInspectorButton.tsx"),va=t("./frontend/src/lib/colors.ts"),ga=t("./frontend/src/models/propertyDefinitionsModel.ts"),ha=t("./frontend/src/scenes/insights/utils.tsx");function ba(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=Object(ge.a)(n),l=Object(i.useValues)(a),u=l.insightLoading,c=l.filters,d=l.steps,o=l.flattenedBreakdowns,m=l.hiddenLegendKeys,p=l.visibleStepsWithConversionMetrics,E=l.isOnlySeries,f=Object(i.useActions)(a),S=f.setHiddenById,y=f.toggleVisibilityByBreakdown,x=f.openPersonsModalForSeries,L=Object(i.useValues)(pa.a),D=L.cohorts,J=Object(i.useValues)(ga.a),A=J.formatPropertyValueForDisplay,le=o==null?void 0:o.every(function(h){return!m[Object(vt.l)(h.breakdown_value)]}),te=[{children:[{title:E?"Breakdown":e.a.createElement(pn.a,{checked:le||(o!=null&&o.some(function(h){return!m[Object(vt.l)(h.breakdown_value)]})?"indeterminate":!1),onChange:function(){S(Object.fromEntries(p.flatMap(function(){return o.map(function(N){return[Object(vt.l)(N.breakdown_value),le]})})))},label:e.a.createElement("span",{className:"font-bold"},"Breakdown"),size:"small"}),dataIndex:"breakdown_value",render:function(N,W){var Q,z=((Q=W.breakdown_value)===null||Q===void 0?void 0:Q.length)==1?W.breakdown_value[0]:W.breakdown_value,X=Object(ha.d)(D,A,z,W.breakdown,c.breakdown_type);return E?e.a.createElement("span",{className:"font-medium"},X):e.a.createElement(pn.a,{checked:!m[Object(vt.l)(W.breakdown_value)],onChange:function(){return y(W.breakdown_value)},label:X})}},{title:e.a.createElement(e.a.Fragment,null,"Total",e.a.createElement("br",null),"conversion"),render:function(N,W){var Q,z;return Object($.rb)((Q=W==null||(z=W.conversionRates)===null||z===void 0?void 0:z.total)!==null&&Q!==void 0?Q:0,2,!0)},align:"right"}]}].concat(Ve()(d.map(function(h,N){return{title:e.a.createElement(Lt.a,{icon:e.a.createElement(vn.a,{name:N+1,color:vn.b.Gray}),style:{font:"inherit",padding:0},size:"small"},e.a.createElement(on.a,{filter:Object(It.a)(h)})),children:[{title:N===0?"Entered":"Converted",render:function(Q,z){var X,g,v=(X=z.steps)===null||X===void 0?void 0:X[N];return v&&e.a.createElement(Je.a,{onClick:function(){return x({step:h,series:v,converted:!0})},style:{padding:0}},Object($.P)((g=v.count)!==null&&g!==void 0?g:0))},align:"right"}].concat(Ve()(N===0?[]:[{title:"Dropped\xA0off",render:function(Q,z){var X,g,v=(X=z.steps)===null||X===void 0?void 0:X[N];return v&&e.a.createElement(Je.a,{onClick:function(){return x({step:h,series:v,converted:!1})},style:{padding:0}},Object($.P)((g=v.droppedOffFromPrevious)!==null&&g!==void 0?g:0))},align:"right"}]),[{title:e.a.createElement(e.a.Fragment,null,"Conversion",e.a.createElement("br",null),"so\xA0far"),render:function(Q,z){var X,g,v,w,Y,T,H=Object(It.b)(z,h.order);return H!=null&&H.total?e.a.createElement(Lt.a,{className:"significance-highlight",tooltip:"Significantly different from other breakdown values",icon:e.a.createElement(Ae.IconFlag,null),size:"small"},Object($.rb)((X=(g=z.steps)===null||g===void 0||(v=g[h.order])===null||v===void 0?void 0:v.conversionRates.total)!==null&&X!==void 0?X:0,2,!0)):Object($.rb)((w=(Y=z.steps)===null||Y===void 0||(T=Y[h.order])===null||T===void 0?void 0:T.conversionRates.total)!==null&&w!==void 0?w:0,2,!0)},align:"right"}],Ve()(N===0?[]:[{title:e.a.createElement(e.a.Fragment,null,"Conversion",e.a.createElement("br",null),"from\xA0previous"),render:function(Q,z){var X,g,v,w,Y,T,H=Object(It.b)(z,h.order);return!(H!=null&&H.total)&&H!==null&&H!==void 0&&H.fromPrevious?e.a.createElement(Lt.a,{className:"significance-highlight",tooltip:"Significantly different from other breakdown values",icon:e.a.createElement(Ae.IconFlag,null),size:"small"},Object($.rb)((X=(g=z.steps)===null||g===void 0||(v=g[h.order])===null||v===void 0?void 0:v.conversionRates.fromPrevious)!==null&&X!==void 0?X:0,2,!0)):Object($.rb)((w=(Y=z.steps)===null||Y===void 0||(T=Y[h.order])===null||T===void 0?void 0:T.conversionRates.fromPrevious)!==null&&w!==void 0?w:0,2,!0)},align:"right"},{title:e.a.createElement(e.a.Fragment,null,"Median",e.a.createElement("br",null),"time"),render:function(Q,z){var X,g;return((X=z.steps)===null||X===void 0||(g=X[h.order])===null||g===void 0?void 0:g.median_conversion_time)!=null?Object($.O)(z.steps[h.order].median_conversion_time,3):"\u2013"},align:"right",width:0,className:"whitespace-nowrap"},{title:e.a.createElement(e.a.Fragment,null,"Average",e.a.createElement("br",null),"time"),render:function(Q,z){var X,g;return((X=z.steps)===null||X===void 0||(g=X[h.order])===null||g===void 0?void 0:g.average_conversion_time)!=null?Object($.O)(z.steps[h.order].average_conversion_time,3):"\u2013"},align:"right",width:0,className:"whitespace-nowrap"}]))}})));return e.a.createElement(fa.a,{dataSource:o,columns:te,loading:u,rowKey:"breakdownIndex",rowStatus:function(N){return N.significant?"highlighted":null},rowRibbonColor:function(N){var W;return Object(va.d)((W=N==null?void 0:N.breakdownIndex)!==null&&W!==void 0?W:0)}})}var Ea=t("./frontend/src/lib/components/Animation/Animation.tsx"),ya=t("./frontend/src/lib/animations/animations.ts"),Oa=t("./node_modules/@ant-design/icons/es/icons/CommentOutlined.js"),ja=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelation.scss"),gn=t.n(ja),At={};At.insert="head",At.singleton=!1;var dr=Ze()(gn.a,At),ur=gn.a.locals||{},_a=t("./node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Ca=t("./frontend/src/lib/components/PayCard/PayCard.tsx"),Pa=t("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),mr=t("./node_modules/core-js/modules/es.number.is-integer.js"),fr=t("./node_modules/core-js/modules/es.number.constructor.js"),pr=t("./node_modules/core-js/modules/es.number.to-fixed.js"),vr=t("./node_modules/core-js/modules/es.string.split.js"),Sa=t("./node_modules/antd/es/spin/index.js"),Rt=t("./node_modules/antd/es/table/index.js"),xa=t("./node_modules/antd/lib/table/Column.js"),De=t.n(xa),hn=t("./node_modules/@ant-design/icons/es/icons/RiseOutlined.js"),Ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M925.9 804l-24-199.2c-.8-6.6-8.9-9.4-13.6-4.7L829 659.5 557.7 388.3c-6.3-6.2-16.4-6.2-22.6 0L433.3 490 156.6 213.3a8.03 8.03 0 00-11.3 0l-45 45.2a8.03 8.03 0 000 11.3L422 591.7c6.2 6.3 16.4 6.3 22.6 0L546.4 490l226.1 226-59.3 59.3a8.01 8.01 0 004.7 13.6l199.2 24c5.1.7 9.5-3.7 8.8-8.9z"}}]},name:"fall",theme:"outlined"},Da=Ta,bn=function(n,a){return B.createElement(F.a,Object(ce.a)(Object(ce.a)({},n),{},{ref:a,icon:Da}))};bn.displayName="FallOutlined";var En=B.forwardRef(bn),yn=t("./node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js"),Fa=t("./node_modules/antd/lib/checkbox/Checkbox.js"),gt=t.n(Fa),Xe=t("./frontend/src/lib/components/PropertyKeyInfo.tsx"),Ia=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelationTable.scss"),On=t.n(Ia),Nt={};Nt.insert="head",Nt.singleton=!1;var gr=Ze()(On.a,Nt),hr=On.a.locals||{},La=t("./frontend/src/lib/components/VisibilitySensor/visibilitySensorLogic.tsx");function et(s){var n=s.id,a=s.offset,l=s.children,u=Object(i.useActions)(Object(La.a)({id:n,offset:a})),c=u.scrolling,d=Object(B.useRef)(null);return Object(B.useEffect)(function(){var o=d.current;return document.addEventListener("scroll",function(){return o&&c(o)}),function(){return document.removeEventListener("scroll",function(){return o&&c(o)})}},[d.current]),e.a.createElement("div",{ref:d},l)}try{et.displayName="VisibilitySensor",et.__docgenInfo={description:"",displayName:"VisibilitySensor",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"]={docgenInfo:et.__docgenInfo,name:"VisibilitySensor",path:"frontend/src/lib/components/VisibilitySensor/VisibilitySensor.tsx#VisibilitySensor"})}catch(s){}var jn=t("./frontend/src/lib/components/Popup/Popup.tsx"),Aa=t("./node_modules/antd/es/modal/index.js"),Ra=t("./node_modules/@ant-design/icons/es/icons/CheckCircleFilled.js"),Na=t("./node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),Ma=t("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),Va=t("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.scss"),_n=t.n(Va),Mt={};Mt.insert="head",Mt.singleton=!1;var br=Ze()(_n.a,Mt),Er=_n.a.locals||{},Ba=t("./frontend/src/lib/components/Spinner/Spinner.tsx"),Cn=t("./frontend/src/lib/components/Link.tsx"),wa=t("./frontend/src/lib/components/InlineMessage/InlineMessage.tsx");function Ka(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=Object(ge.a)(n),l=Object(i.useValues)(a),u=l.correlationsLoading,c=l.funnelCorrelationDetails,d=l.parseDisplayNameForCorrelation,o=l.correlationMatrixAndScore,m=Object(i.useActions)(a),p=m.setFunnelCorrelationDetails,E=m.openCorrelationPersonsModal,f=(c==null?void 0:c.result_type)===r.v.Events?"event":"property",S=(c==null?void 0:c.result_type)===r.v.Events?"performed event":"have property",y=e.a.createElement(e.a.Fragment,null);if(c){var x=d(c),L=x.first_value,D=x.second_value;y=e.a.createElement(e.a.Fragment,null,e.a.createElement(Xe.a,{value:L}),D!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(Xe.a,{value:D,disablePopover:!0})))}var J=o.correlationScore,A=o.truePositive,le=o.falsePositive,te=o.trueNegative,h=o.falseNegative,N=o.correlationScoreStrength,W=N==="strong"?e.a.createElement(Ra.a,{style:{color:"var(--success)"}}):N==="moderate"?e.a.createElement(Na.a,{style:{color:"var(--warning)"}}):e.a.createElement(Ma.a,{style:{color:"var(--danger)"}}),Q=function(){return p(null)};return e.a.createElement(Aa.a,{className:"correlation-matrix",visible:!!c,onCancel:Q,destroyOnClose:!0,footer:e.a.createElement(Tt.a,{onClick:Q},"Dismiss"),width:600,title:"Correlation details"},e.a.createElement("div",{className:"correlation-table-wrapper"},u?e.a.createElement("div",{className:"mt-4 text-center"},e.a.createElement(Ba.a,{className:"text-4xl"})):c?e.a.createElement(e.a.Fragment,null,e.a.createElement("p",{className:"text-muted-alt mb-4"},"The table below displays the correlation details for users who ",S," ",e.a.createElement("b",null,y),"."),e.a.createElement("table",null,e.a.createElement("thead",null,e.a.createElement("tr",{className:"table-title"},e.a.createElement("td",{colSpan:3},"Results matrix")),e.a.createElement("tr",null,e.a.createElement("td",null,(c==null?void 0:c.result_type)===r.v.Events?"Performed event":"Has property"),e.a.createElement("td",null,"Success"),e.a.createElement("td",null,"Dropped off"))),e.a.createElement("tbody",null,e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"},"Yes"),e.a.createElement("td",null,e.a.createElement(U.a,{title:"True positive (TP) - Percentage of users who ".concat(S," and completed the funnel.")},e.a.createElement("div",{className:"percentage"},A?Object($.rb)(A/(A+le)):"0.00%")),A===0?"0 users":e.a.createElement(Cn.a,{onClick:function(){E(c,!0)}},Object($.sb)(A,"user",void 0,!0))),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(U.a,{title:"False negative (FN) - Percentage of users who ".concat(S," and did not complete the funnel.")},h?Object($.rb)(h/(h+te)):"0.00%")),h===0?"0 users":e.a.createElement(Cn.a,{onClick:function(){E(c,!1)}},Object($.sb)(h,"user",void 0,!0)))),e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"},"No"),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(U.a,{title:"False positive (FP) - Percentage of users who did not ".concat(S," and completed the funnel.")},le?Object($.rb)(le/(A+le)):"0.00%")),Object($.sb)(le,"user",void 0,!0)),e.a.createElement("td",null,e.a.createElement("div",{className:"percentage"},e.a.createElement(U.a,{title:"True negative (TN) - Percentage of users who did not ".concat(S," and did not complete the funnel.")},te?Object($.rb)(te/(h+te)):"0.00%")),Object($.sb)(te,"user",void 0,!0))),e.a.createElement("tr",null,e.a.createElement("td",{className:"horizontal-header"}),e.a.createElement("td",null,e.a.createElement("b",null,"100%")),e.a.createElement("td",null,e.a.createElement("b",null,"100%"))))),e.a.createElement("div",{className:"mt-4 text-center"},Object($.i)((c==null?void 0:c.result_type)||"")," ",e.a.createElement("b",null,y)," ","has a"," ",(c==null?void 0:c.correlation_type)===r.w.Success?e.a.createElement("b",{className:"text-success"},"positive"," ",e.a.createElement(U.a,{title:"Positive correlation means this ".concat(f," is correlated with a successful conversion.")},e.a.createElement(Me.a,{className:"cursor-pointer"}))):e.a.createElement("b",{className:"text-danger"},"negative"," ",e.a.createElement(U.a,{title:"Negative correlation means this ".concat(f," is correlated with an unsuccessful conversion (user dropped off).")},e.a.createElement(Me.a,{className:"cursor-pointer"})))," ","correlation score of"," ",e.a.createElement("b",{style:{color:N==="strong"?"var(--success)":N==="moderate"?"var(--warning)":"var(--danger)"}},e.a.createElement(U.a,{title:"This ".concat(f," has ").concat(N," correlation.")},e.a.createElement("span",{style:{cursor:"pointer"}},W," ",J.toFixed(3)))))):e.a.createElement("div",null,e.a.createElement(wa.a,{type:"danger"},"We could not load the details for this correlation value. Please recreate your funnel and try again."))))}function Ua(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=Object(ge.a)(n),l=Object(i.useValues)(a),u=l.stepsWithCount,c=l.correlationValues,d=l.correlationTypes,o=l.eventHasPropertyCorrelations,m=l.eventWithPropertyCorrelationsValues,p=l.parseDisplayNameForCorrelation,E=l.correlationsLoading,f=l.eventWithPropertyCorrelationsLoading,S=l.nestedTableExpandedKeys,y=l.correlationPropKey,x=l.filters,L=l.aggregationTargetLabel,D=Object(i.useActions)(a),J=D.setCorrelationTypes,A=D.loadEventWithPropertyCorrelations,le=D.addNestedTableExpandedKey,te=D.removeNestedTableExpandedKey,h=D.openCorrelationPersonsModal,N=D.loadCorrelations,W=Object(i.useActions)(xt.e),Q=W.reportCorrelationInteraction;Object(B.useEffect)(function(){N({})},[x]);var z=function(T){d?d.includes(T)?J(d.filter(function(H){return H!==T})):J([].concat(Ve()(d),[T])):J([T])},X=function(T){var H=function(yt){return yt<10&&!Number.isInteger(yt)?yt.toFixed(1):yt.toFixed()},be=T.correlation_type===r.w.Success,fe=p(T),ze=fe.first_value,bt=fe.second_value;return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,be?e.a.createElement(hn.a,{style:{color:"green"}}):e.a.createElement(En,{style:{color:"red"}})," ",e.a.createElement(Xe.a,{value:ze}),bt!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(Xe.a,{value:bt,disablePopover:!0}))),e.a.createElement("div",null,Object($.i)(L.plural)," ",x.aggregation_group_type_index!=null?"that":"who"," converted were"," ",e.a.createElement("mark",null,e.a.createElement("b",null,H(T.odds_ratio),"x ",be?"more":"less"," likely"))," ","to"," ",T.result_type===r.v.EventWithProperties?"have this event property":"do this event"),e.a.createElement(Ka,null))},g=function(T){return e.a.createElement(Je.a,{onClick:function(){h(T,!0)}},T.success_count)},v=function(T){return e.a.createElement(Je.a,{onClick:function(){h(T,!1)}},T.failure_count)},w=function(T){return f?e.a.createElement("div",{className:"nested-properties-loading"},e.a.createElement(Sa.a,null),e.a.createElement("h3",null,"Loading correlation results"),e.a.createElement("p",null,"This process can take up to 20 seconds. ")):e.a.createElement("div",null,e.a.createElement("h4",{style:{paddingLeft:16}},"Correlated properties"),e.a.createElement(Rt.a,{dataSource:m[T],rowKey:function(be){return be.event.event},className:"nested-properties-table",scroll:{x:"max-content"},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(be,fe){return Q(r.v.EventWithProperties,"pagination change",{page:be,page_size:fe})}}},e.a.createElement(De.a,{title:"Property",key:"eventName",render:function(be,fe){return X(fe)},align:"left"}),e.a.createElement(De.a,{title:"Completed",key:"success_count",render:function(be,fe){return g(fe)},width:90,align:"center"}),e.a.createElement(De.a,{title:"Dropped off",key:"failure_count",render:function(be,fe){return v(fe)},width:120,align:"center"}),e.a.createElement(De.a,{title:"",key:"actions",render:function(be,fe){return e.a.createElement(Pn,{record:fe})},align:"center",width:30})))};return u.length>1?e.a.createElement(et,{id:y,offset:152},e.a.createElement("div",{className:"funnel-correlation-table"},e.a.createElement("span",{className:"funnel-correlation-header"},e.a.createElement("span",{className:"table-header"},e.a.createElement(Ae.IconSelectEvents,{style:{marginRight:4,fontSize:24,opacity:.5}}),"CORRELATED EVENTS"),e.a.createElement("span",{className:"table-options"},e.a.createElement("p",{className:"title"},"CORRELATION"),e.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return z(r.w.Success)}},e.a.createElement(gt.a,{checked:d.includes(r.w.Success),style:{pointerEvents:"none"}},"Success")),e.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return z(r.w.Failure)}},e.a.createElement(gt.a,{checked:d.includes(r.w.Failure),style:{pointerEvents:"none"}},"Dropoff")))),e.a.createElement(Rt.a,{dataSource:c,loading:E,size:"small",scroll:{x:"max-content"},rowKey:function(T){return T.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(){return Q(r.v.Events,"load more")}},expandable:{expandedRowRender:function(T){return w(T.event.event)},expandedRowKeys:S,rowExpandable:function(){return x.aggregation_group_type_index===void 0},expandIcon:function(T){var H=T.expanded,be=T.onExpand,fe=T.record,ze=T.expandable;return ze?H?e.a.createElement(U.a,{title:"Collapse"},e.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(Et){te(fe.event.event),be(fe,Et)}},e.a.createElement(Ae.IconUnfoldLess,null))):e.a.createElement(U.a,{title:"Expand to see correlated properties for this event"},e.a.createElement("div",{style:{cursor:"pointer",opacity:.5,fontSize:24},onClick:function(Et){!o(fe.event.event)&&A(fe.event.event),le(fe.event.event),be(fe,Et)}},e.a.createElement(Ae.IconUnfoldMore,null))):null}}},e.a.createElement(De.a,{title:"Event",key:"eventName",render:function(T,H){return X(H)},align:"left",ellipsis:!0}),e.a.createElement(De.a,{title:e.a.createElement("div",{className:"flex items-center"},"Completed",e.a.createElement(U.a,{title:"".concat(Object($.i)(L.plural)," ").concat(x.aggregation_group_type_index!=null?"that":"who"," performed the event and completed the entire funnel.")},e.a.createElement(Me.a,{className:"column-info"}))),key:"success_count",render:function(T,H){return g(H)},width:90,align:"center"}),e.a.createElement(De.a,{title:e.a.createElement("div",{className:"flex items-center"},"Dropped off",e.a.createElement(U.a,{title:e.a.createElement(e.a.Fragment,null,Object($.i)(L.plural)," ",x.aggregation_group_type_index!=null?"that":"who"," ","performed the event and did ",e.a.createElement("b",null,"not complete")," the entire funnel.")},e.a.createElement(Me.a,{className:"column-info"}))),key:"failure_count",render:function(T,H){return v(H)},width:120,align:"center"}),e.a.createElement(De.a,{title:"",key:"actions",render:function(T,H){return e.a.createElement(Pn,{record:H})},width:30})))):null}var Pn=function(n){var a=n.record,l=Object(i.useValues)(b.c),u=l.insightProps,c=Object(ge.a)(u),d=Object(i.useActions)(c),o=d.excludeEventPropertyFromProject,m=d.excludeEventFromProject,p=d.setFunnelCorrelationDetails,E=Object(i.useValues)(c),f=E.isEventPropertyExcluded,S=E.isEventExcluded,y=a.event.event.split("::"),x=Object(B.useState)(!1),L=Le()(x,2),D=L[0],J=L[1];return e.a.createElement(ae.a,{style:{justifyContent:"flex-end"}},e.a.createElement(jn.a,{visible:D,actionable:!0,onClickOutside:function(){return J(!1)},overlay:e.a.createElement(e.a.Fragment,null,a.result_type===r.v.Events&&e.a.createElement(we.a,{onClick:function(){return p(a)},fullWidth:!0,status:"stealth"},"View correlation details"),e.a.createElement(we.a,{disabled:a.result_type===r.v.EventWithProperties?f(y[1]):S(y[0]),onClick:function(){return a.result_type===r.v.EventWithProperties?o(y[0],y[1]):m(y[0])},fullWidth:!0,title:"Remove this event from any correlation analysis report in this project.",status:"stealth"},"Exclude event from project"))},e.a.createElement(we.a,{status:"stealth",onClick:function(){return J(!D)}},e.a.createElement(yn.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},Wa=t("./frontend/src/lib/components/PropertyNamesSelect/PropertyNamesSelect.tsx");function za(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=Object(ge.a)(n),l=Object(i.useValues)(a),u=l.stepsWithCount,c=l.propertyCorrelationValues,d=l.propertyCorrelationTypes,o=l.excludedPropertyNames,m=l.parseDisplayNameForCorrelation,p=l.propertyCorrelationsLoading,E=l.inversePropertyNames,f=l.propertyNames,S=l.correlationPropKey,y=l.allProperties,x=l.filters,L=l.aggregationTargetLabel,D=Object(i.useActions)(a),J=D.setPropertyCorrelationTypes,A=D.setPropertyNames,le=D.openCorrelationPersonsModal,te=D.loadPropertyCorrelations,h=Object(i.useActions)(xt.e),N=h.reportCorrelationInteraction;Object(B.useEffect)(function(){f.length===0&&A(y),te({})},[x]);var W=function(v){d?d.includes(v)?J(d.filter(function(w){return w!==v})):J([].concat(Ve()(d),[v])):J([v])},Q=function(v){return e.a.createElement(Je.a,{onClick:function(){le(v,!0)}},v.success_count)},z=function(v){return e.a.createElement(Je.a,{onClick:function(){le(v,!1)}},v.failure_count)},X=function(v){var w=function(ze){return ze<10&&!Number.isInteger(ze)?ze.toFixed(1):ze.toFixed()},Y=v.correlation_type===r.w.Success,T=m(v),H=T.first_value,be=T.second_value;return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,Y?e.a.createElement(hn.a,{style:{color:"green"}}):e.a.createElement(En,{style:{color:"red"}})," ",e.a.createElement(Xe.a,{value:H}),be!==void 0&&e.a.createElement(e.a.Fragment,null," :: ",e.a.createElement(Xe.a,{value:be,disablePopover:!0}))),e.a.createElement("div",null,Object($.i)(L.plural)," ",x.aggregation_group_type_index!=null?"that":"who"," converted were"," ",e.a.createElement("mark",null,e.a.createElement("b",null,w(v.odds_ratio),"x ",Y?"more":"less"," likely"))," ","to have this property value"))};return u.length>1?e.a.createElement(et,{offset:150,id:"".concat(S,"-properties")},e.a.createElement("div",{className:"funnel-correlation-table"},e.a.createElement(ae.a,{className:"funnel-correlation-header"},e.a.createElement(Z.a,{className:"table-header"},e.a.createElement(Ae.IconSelectProperties,{style:{marginRight:4,opacity:.5,fontSize:24}}),"CORRELATED PROPERTIES"),e.a.createElement(Z.a,{className:"table-options"},e.a.createElement(ae.a,{style:{display:"contents"}},y.length>0&&e.a.createElement(e.a.Fragment,null,e.a.createElement("p",{className:"title"},"PROPERTIES "),e.a.createElement(Wa.a,{value:new Set(f),onChange:function(v){return A(v)},allProperties:E(o||[])}))),e.a.createElement(ae.a,{style:{display:"contents"}},e.a.createElement("p",{className:"title",style:{marginLeft:8}},"CORRELATION"),e.a.createElement("div",{className:"tab-btn ant-btn",style:{paddingTop:"1px",paddingBottom:"1px",borderTopRightRadius:0,borderBottomRightRadius:0},onClick:function(){return W(r.w.Success)}},e.a.createElement(gt.a,{checked:d.includes(r.w.Success),style:{pointerEvents:"none"}},"Success")),e.a.createElement("div",{className:"tab-btn ant-btn",style:{marginRight:"8px",paddingTop:"1px",paddingBottom:"1px",borderTopLeftRadius:0,borderBottomLeftRadius:0},onClick:function(){return W(r.w.Failure)}},e.a.createElement(gt.a,{checked:d.includes(r.w.Failure),style:{pointerEvents:"none"}},"Dropoff"))))),e.a.createElement(Rt.a,{dataSource:c,loading:p,scroll:{x:"max-content"},size:"small",rowKey:function(v){return v.event.event},pagination:{pageSize:5,hideOnSinglePage:!0,onChange:function(v,w){return N(r.v.Properties,"pagination change",{page:v,page_size:w})}}},e.a.createElement(De.a,{title:"".concat(Object($.i)(L.singular)," property"),key:"propertName",render:function(v,w){return X(w)},align:"left"}),e.a.createElement(De.a,{title:e.a.createElement("div",{className:"flex items-center"},"Completed",e.a.createElement(U.a,{title:"".concat(Object($.i)(L.plural)," ").concat(x.aggregation_group_type_index!=null?"that":"who"," have this property and completed the entire funnel.")},e.a.createElement(Me.a,{className:"column-info"}))),key:"success_count",render:function(v,w){return Q(w)},width:90,align:"center"}),e.a.createElement(De.a,{title:e.a.createElement("div",{className:"flex items-center"},"Dropped off",e.a.createElement(U.a,{title:e.a.createElement(e.a.Fragment,null,Object($.i)(L.plural)," ",x.aggregation_group_type_index!=null?"that":"who"," have this property and did ",e.a.createElement("b",null,"not complete")," the entire funnel.")},e.a.createElement(Me.a,{className:"column-info"}))),key:"failure_count",render:function(v,w){return z(w)},width:120,align:"center"}),e.a.createElement(De.a,{title:"",key:"actions",render:function(v,w){return e.a.createElement(ka,{record:w})},align:"center",width:30})))):null}var ka=function(n){var a=n.record,l=Object(i.useValues)(b.c),u=l.insightProps,c=Object(ge.a)(u),d=Object(i.useActions)(c),o=d.excludePropertyFromProject,m=d.setFunnelCorrelationDetails,p=Object(i.useValues)(c),E=p.isPropertyExcludedFromProject,f=(a.event.event||"").split("::")[0],S=Object(B.useState)(!1),y=Le()(S,2),x=y[0],L=y[1];return e.a.createElement(ae.a,{style:{justifyContent:"flex-end"}},e.a.createElement(jn.a,{visible:x,actionable:!0,onClickOutside:function(){return L(!1)},overlay:e.a.createElement(e.a.Fragment,null,e.a.createElement(we.a,{onClick:function(){return m(a)},fullWidth:!0,status:"stealth"},"View correlation details"),e.a.createElement(we.a,{disabled:E(f),onClick:function(){return o(f)},fullWidth:!0,title:"Remove this property from any correlation analysis report in this project.",status:"stealth"},"Exclude property from project"))},e.a.createElement(we.a,{status:"stealth",onClick:function(){return L(!x)}},e.a.createElement(yn.a,{style:{color:"var(--primary)",fontSize:24},className:"insight-dropdown-actions"}))))},Ha=function(){var n,a=Object(i.useValues)(b.c),l=a.insightProps,u=Object(i.useValues)(Object(ge.a)(l)),c=u.isSkewed,d=u.stepsWithCount,o=u.correlationFeedbackHidden,m=u.correlationDetailedFeedbackVisible,p=u.correlationFeedbackRating,E=u.correlationAnalysisAvailable,f=u.aggregationTargetLabel,S=Object(i.useActions)(Object(ge.a)(l)),y=S.sendCorrelationAnalysisFeedback,x=S.hideSkewWarning,L=S.hideCorrelationAnalysisFeedback,D=S.setCorrelationFeedbackRating,J=S.setCorrelationDetailedFeedback,A=Object(i.useValues)(Pa.a),le=A.preflight,te=Object(B.useRef)(null);return d.length<=1?null:!E&&!(le!=null&&(n=le.instance_preferences)!==null&&n!==void 0&&n.disable_paid_fs)?e.a.createElement(Ca.a,{identifier:r.d.CORRELATION_ANALYSIS,title:"Get a deeper understanding of why your ".concat(f.plural," are not converting"),caption:"Correlation analysis automatically finds signals for why ".concat(f.plural," are converting or dropping off.")}):e.a.createElement(e.a.Fragment,null,e.a.createElement("h2",{style:{margin:"1rem 0"}},"Correlation analysis"),e.a.createElement("div",{className:"funnel-correlation"},c&&e.a.createElement(de.a,{className:"skew-warning"},e.a.createElement("h4",null,e.a.createElement(Ae.IconFeedbackWarning,{style:{fontSize:24,marginRight:4,color:"var(--warning)"}})," ","Adjust your funnel definition to improve correlation analysis",e.a.createElement(_a.a,{className:"close-button",onClick:x})),e.a.createElement("div",null,e.a.createElement("b",null,"Tips for adjusting your funnel:"),e.a.createElement("ol",null,e.a.createElement("li",null,"Adjust your first funnel step to be more specific. For example, choose a page or an event that occurs less frequently."),e.a.createElement("li",null,"Choose an event that happens more frequently for subsequent funnels steps.")))),e.a.createElement(Ua,null),!o&&e.a.createElement("div",{className:"border rounded p-4 space-y-2 mt-4"},e.a.createElement("div",{className:"flex items-center justify-between"},e.a.createElement("h4",{className:"text-muted-alt"},e.a.createElement(Oa.a,{style:{marginRight:4}}),"Was this correlation analysis report useful?"),e.a.createElement("div",{className:"flex items-center gap-2"},!!p&&e.a.createElement("i",{className:"text-success mr-2"},"Thanks for your feedback!"),[[5,"\u{1F60D}"],[4,"\u{1F600}"],[3,"\u{1F634}"],[2,"\u{1F614}"],[1,"\u{1F44E}"]].map(function(h,N){return e.a.createElement(_e.LemonButton,{key:N,active:p===h[0],onClick:function(){p===h[0]?D(0):(D(h[0]),setTimeout(function(){var Q;return(Q=te.current)===null||Q===void 0?void 0:Q.focus()},100))}},h[1])}),e.a.createElement(_e.LemonButton,{icon:e.a.createElement(Ae.IconClose,null),onClick:L,status:"stealth"}))),m?e.a.createElement(e.a.Fragment,null,e.a.createElement("form",{onSubmit:y,className:"space-y-2"},e.a.createElement(_e.LemonTextArea,{onBlur:function(N){return J(N.target.value)},placeholder:"Optional. Help us by sharing details around your experience...",ref:te,onPressCmdEnter:function(){var N;(N=te.current)===null||N===void 0||N.blur(),y()}}),e.a.createElement("div",{className:"flex justify-end"},e.a.createElement(_e.LemonButton,{"data-attr":"correlation-analysis-share-feedback",type:"primary",htmlType:"submit"},"Share feedback")))):null),e.a.createElement(za,null)))},$a=t("./frontend/src/scenes/funnels/Funnel.tsx");function Ya(){var s=Object(i.useValues)(b.c),n=s.insightProps,a=Object(i.useValues)(Object(ge.a)(n)),l=a.isValidFunnel,u=a.insightLoading,c=a.areFiltersValid,d=l&&c||u;return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:Object(Ct.a)("funnel-insights-container",{"non-empty-state":d})},e.a.createElement($a.a,null)))}var Ga=t("./frontend/src/lib/components/ExportButton/ExportButton.tsx"),Ja=t("./frontend/src/lib/components/AlertMessage/index.ts"),We,Sn=(We={},V()(We,"".concat(r.D.TRENDS),e.a.createElement(Ge,{view:r.D.TRENDS})),V()(We,"".concat(r.D.STICKINESS),e.a.createElement(Ge,{view:r.D.STICKINESS})),V()(We,"".concat(r.D.LIFECYCLE),e.a.createElement(Ge,{view:r.D.LIFECYCLE})),V()(We,"".concat(r.D.FUNNELS),e.a.createElement(Ya,null)),V()(We,"".concat(r.D.RETENTION),e.a.createElement(da.a,null)),V()(We,"".concat(r.D.PATHS),e.a.createElement(ua.a,null)),We);function ht(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{disableHeader:!1,disableTable:!1,disableCorrelationTable:!1,disableLastComputation:!1},n=s.disableHeader,a=s.disableTable,l=s.disableCorrelationTable,u=s.disableLastComputation,c=Object(i.useValues)(mn.a),d=c.insightMode,o=Object(i.useValues)(b.c),m=o.insightProps,p=o.canEditInsight,E=o.insightLoading,f=o.activeView,S=o.loadedView,y=o.filters,x=o.showTimeoutMessage,L=o.showErrorMessage,D=o.exporterResourceParams,J=o.isUsingSessionAnalysis,A=Object(i.useValues)(Object(ge.a)(m)),le=A.areFiltersValid,te=A.isValidFunnel,h=A.areExclusionFiltersValid,N=A.correlationAnalysisAvailable,W=function(){if(f!==S||E&&!x)return e.a.createElement("div",{className:"text-center"},e.a.createElement(Ea.a,{type:ya.a.LaptopHog}));if(S===r.D.FUNNELS){if(!le)return e.a.createElement(qe.b,{actionable:d===r.E.Edit||a});if(!h)return e.a.createElement(qe.a,null);if(!te&&!E)return e.a.createElement(qe.c,null)}return L?e.a.createElement(qe.d,null):x?e.a.createElement(qe.e,{isLoading:E}):null}();function Q(){return f===r.D.FUNNELS&&!L&&!x&&le&&te&&y.funnel_viz_type===r.z.Steps&&!a?e.a.createElement(e.a.Fragment,null,e.a.createElement("h2",{className:"my-4 mx-0"},"Detailed results"),e.a.createElement(ba,null)):(!y.display||(y==null?void 0:y.display)!==r.j.ActionsTable&&(y==null?void 0:y.display)!==r.j.ActionsBarValue)&&f===r.D.TRENDS&&!a?e.a.createElement(e.a.Fragment,null,D&&e.a.createElement("div",{className:"flex items-center justify-between my-4 mx-0"},e.a.createElement("h2",{className:"m-0"},"Detailed results"),e.a.createElement(U.a,{title:"Export this table in CSV format",placement:"left"},e.a.createElement(Ga.a,{type:"secondary",status:"primary",items:[{export_format:r.r.CSV,export_context:D}]}))),e.a.createElement(i.BindLogic,{logic:pt.a,props:m},e.a.createElement(un.b,{isLegend:!0,filterKey:f===r.D.TRENDS?"trends_".concat(f):"",canEditSeriesNameInline:f===r.D.TRENDS&&d===r.E.Edit,canCheckUncheckSeries:p}))):null}return e.a.createElement(e.a.Fragment,null,J?e.a.createElement("div",{className:"mb-4"},e.a.createElement(Ja.a,{type:"info"},"When using sessions and session properties, events without session IDs will be excluded from the set of results."," ",e.a.createElement("a",{href:"https://posthog.com/docs/user-guides/sessions"},"Learn more about sessions."))):null,e.a.createElement(de.a,{title:n?null:e.a.createElement(ft,{activeView:f,insightMode:d,filters:y,disableTable:!!a}),"data-attr":"insights-graph",className:"insights-graph-container"},e.a.createElement("div",null,e.a.createElement(ae.a,{className:Object(Ct.a)("insights-graph-header",{funnels:f===r.D.FUNNELS}),align:"middle",justify:"space-between"},!u&&e.a.createElement(Z.a,null,e.a.createElement(oa,null)),e.a.createElement(Z.a,null,f===r.D.FUNNELS?e.a.createElement(sa,null):null,f===r.D.PATHS?e.a.createElement(ma,null):null,e.a.createElement(fn.b,null))),W||((f===r.D.TRENDS||f===r.D.STICKINESS)&&y.show_legend?e.a.createElement(ae.a,{className:"insights-graph-container-row",wrap:!1},e.a.createElement(Z.a,{className:"insights-graph-container-row-left"},Sn[f]),e.a.createElement(Z.a,{className:"insights-graph-container-row-right"},e.a.createElement(fn.a,null))):Sn[f]))),Q(),!l&&N&&f===r.D.FUNNELS&&e.a.createElement(Ha,null))}try{ht.displayName="InsightContainer",ht.__docgenInfo={description:"",displayName:"InsightContainer",props:{disableHeader:{defaultValue:null,description:"",name:"disableHeader",required:!1,type:{name:"boolean"}},disableTable:{defaultValue:null,description:"",name:"disableTable",required:!1,type:{name:"boolean"}},disableCorrelationTable:{defaultValue:null,description:"",name:"disableCorrelationTable",required:!1,type:{name:"boolean"}},disableLastComputation:{defaultValue:null,description:"",name:"disableLastComputation",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"]={docgenInfo:ht.__docgenInfo,name:"InsightContainer",path:"frontend/src/scenes/insights/InsightContainer.tsx#InsightContainer"})}catch(s){}},"./frontend/src/scenes/insights/filters/InsightDateFilter/insightDateFilterLogic.ts":function(oe,C,t){"use strict";t.d(C,"a",function(){return ye});var R=t("./node_modules/@babel/runtime/helpers/defineProperty.js"),V=t.n(R),de=t("./node_modules/core-js/modules/es.array.iterator.js"),ae=t.n(de),Z=t("./node_modules/core-js/modules/es.object.to-string.js"),Oe=t.n(Z),ue=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),B=t.n(ue),e=t("./node_modules/core-js/modules/es.object.keys.js"),i=t.n(e),Ee=t("./node_modules/core-js/modules/es.symbol.js"),Fe=t.n(Ee),je=t("./node_modules/core-js/modules/es.array.filter.js"),ce=t.n(je),pe=t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),he=t.n(pe),F=t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),re=t.n(F),j=t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),P=t.n(j),K=t("./node_modules/kea/lib/index.esm.js"),M=t("./frontend/src/scenes/insights/insightLogic.ts"),k=t("./frontend/src/scenes/insights/sharedUtils.ts");function ie(G,ne){var O=Object.keys(G);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(G);ne&&(_=_.filter(function(I){return Object.getOwnPropertyDescriptor(G,I).enumerable})),O.push.apply(O,_)}return O}function me(G){for(var ne=1;ne<arguments.length;ne++){var O=arguments[ne]!=null?arguments[ne]:{};ne%2?ie(Object(O),!0).forEach(function(_){V()(G,_,O[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(O)):ie(Object(O)).forEach(function(_){Object.defineProperty(G,_,Object.getOwnPropertyDescriptor(O,_))})}return G}var ye=Object(K.kea)({props:{},key:Object(k.c)("new"),path:function(ne){return["scenes","insights","InsightDateFilter","insightDateFilterLogic",ne]},connect:function(ne){return{actions:[Object(M.c)(ne),["setFilters"]],values:[Object(M.c)(ne),["filters"]]}},actions:function(){return{setDates:function(O,_){return{dateFrom:O,dateTo:_}}}},selectors:{dates:[function(G){return[G.filters]},function(G){return{dateFrom:(G==null?void 0:G.date_from)||null,dateTo:(G==null?void 0:G.date_to)||null}}]},listeners:function(ne){var O=ne.actions,_=ne.values;return{setDates:function(se){var ve=se.dateFrom,Se=se.dateTo;O.setFilters(me(me({},_.filters),{},{date_from:ve||null,date_to:Se||null}))}}}})},"./node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js":function(oe,C,t){"use strict";var R=t("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),V=t("./node_modules/react/index.js"),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},ae=de,Z=t("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),Oe=function(e,i){return V.createElement(Z.a,Object(R.a)(Object(R.a)({},e),{},{ref:i,icon:ae}))};Oe.displayName="OrderedListOutlined";var ue=C.a=V.forwardRef(Oe)},"./node_modules/antd/lib/checkbox/Checkbox.js":function(oe,C,t){"use strict";var R=t("./node_modules/antd/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),V=t("./node_modules/antd/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var de=R(t("./node_modules/antd/node_modules/@babel/runtime/helpers/defineProperty.js")),ae=R(t("./node_modules/antd/node_modules/@babel/runtime/helpers/extends.js")),Z=Fe(t("./node_modules/react/index.js")),Oe=R(t("./node_modules/classnames/index.js")),ue=R(t("./node_modules/rc-checkbox/es/index.js")),B=t("./node_modules/antd/lib/checkbox/Group.js"),e=t("./node_modules/antd/lib/config-provider/index.js"),i=R(t("./node_modules/antd/lib/_util/devWarning.js"));function Ee(F){if(typeof WeakMap!="function")return null;var re=new WeakMap,j=new WeakMap;return(Ee=function(K){return K?j:re})(F)}function Fe(F,re){if(!re&&F&&F.__esModule)return F;if(F===null||V(F)!=="object"&&typeof F!="function")return{default:F};var j=Ee(re);if(j&&j.has(F))return j.get(F);var P={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in F)if(M!=="default"&&Object.prototype.hasOwnProperty.call(F,M)){var k=K?Object.getOwnPropertyDescriptor(F,M):null;k&&(k.get||k.set)?Object.defineProperty(P,M,k):P[M]=F[M]}return P.default=F,j&&j.set(F,P),P}var je=function(F,re){var j={};for(var P in F)Object.prototype.hasOwnProperty.call(F,P)&&re.indexOf(P)<0&&(j[P]=F[P]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,P=Object.getOwnPropertySymbols(F);K<P.length;K++)re.indexOf(P[K])<0&&Object.prototype.propertyIsEnumerable.call(F,P[K])&&(j[P[K]]=F[P[K]]);return j},ce=function(re,j){var P,K=re.prefixCls,M=re.className,k=re.children,ie=re.indeterminate,me=ie===void 0?!1:ie,ye=re.style,G=re.onMouseEnter,ne=re.onMouseLeave,O=re.skipGroup,_=O===void 0?!1:O,I=je(re,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),se=Z.useContext(e.ConfigContext),ve=se.getPrefixCls,Se=se.direction,q=Z.useContext(B.GroupContext),ee=Z.useRef(I.value);Z.useEffect(function(){q==null||q.registerValue(I.value),(0,i.default)("checked"in I||!!q||!("value"in I),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),Z.useEffect(function(){if(!_)return I.value!==ee.current&&(q==null||q.cancelValue(ee.current),q==null||q.registerValue(I.value)),function(){return q==null?void 0:q.cancelValue(I.value)}},[I.value]);var r=ve("checkbox",K),b=(0,ae.default)({},I);q&&!_&&(b.onChange=function(){I.onChange&&I.onChange.apply(I,arguments),q.toggleOption&&q.toggleOption({label:k,value:I.value})},b.name=q.name,b.checked=q.value.indexOf(I.value)!==-1,b.disabled=I.disabled||q.disabled);var U=(0,Oe.default)((P={},(0,de.default)(P,"".concat(r,"-wrapper"),!0),(0,de.default)(P,"".concat(r,"-rtl"),Se==="rtl"),(0,de.default)(P,"".concat(r,"-wrapper-checked"),b.checked),(0,de.default)(P,"".concat(r,"-wrapper-disabled"),b.disabled),P),M),Be=(0,Oe.default)((0,de.default)({},"".concat(r,"-indeterminate"),me));return Z.createElement("label",{className:U,style:ye,onMouseEnter:G,onMouseLeave:ne},Z.createElement(ue.default,(0,ae.default)({},b,{prefixCls:r,className:Be,ref:j})),k!==void 0&&Z.createElement("span",null,k))},pe=Z.forwardRef(ce);pe.displayName="Checkbox";var he=pe;C.default=he},"./node_modules/antd/lib/checkbox/Group.js":function(oe,C,t){"use strict";var R=t("./node_modules/antd/node_modules/@babel/runtime/helpers/interopRequireDefault.js"),V=t("./node_modules/antd/node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(C,"__esModule",{value:!0}),C.default=C.GroupContext=void 0;var de=R(t("./node_modules/antd/node_modules/@babel/runtime/helpers/extends.js")),ae=R(t("./node_modules/antd/node_modules/@babel/runtime/helpers/defineProperty.js")),Z=R(t("./node_modules/antd/node_modules/@babel/runtime/helpers/toConsumableArray.js")),Oe=R(t("./node_modules/antd/node_modules/@babel/runtime/helpers/slicedToArray.js")),ue=je(t("./node_modules/react/index.js")),B=R(t("./node_modules/classnames/index.js")),e=R(t("./node_modules/antd/node_modules/rc-util/lib/omit.js")),i=R(t("./node_modules/antd/lib/checkbox/Checkbox.js")),Ee=t("./node_modules/antd/lib/config-provider/index.js");function Fe(j){if(typeof WeakMap!="function")return null;var P=new WeakMap,K=new WeakMap;return(Fe=function(k){return k?K:P})(j)}function je(j,P){if(!P&&j&&j.__esModule)return j;if(j===null||V(j)!=="object"&&typeof j!="function")return{default:j};var K=Fe(P);if(K&&K.has(j))return K.get(j);var M={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ie in j)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(j,ie)){var me=k?Object.getOwnPropertyDescriptor(j,ie):null;me&&(me.get||me.set)?Object.defineProperty(M,ie,me):M[ie]=j[ie]}return M.default=j,K&&K.set(j,M),M}var ce=function(j,P){var K={};for(var M in j)Object.prototype.hasOwnProperty.call(j,M)&&P.indexOf(M)<0&&(K[M]=j[M]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,M=Object.getOwnPropertySymbols(j);k<M.length;k++)P.indexOf(M[k])<0&&Object.prototype.propertyIsEnumerable.call(j,M[k])&&(K[M[k]]=j[M[k]]);return K},pe=ue.createContext(null);C.GroupContext=pe;var he=function(P,K){var M=P.defaultValue,k=P.children,ie=P.options,me=ie===void 0?[]:ie,ye=P.prefixCls,G=P.className,ne=P.style,O=P.onChange,_=ce(P,["defaultValue","children","options","prefixCls","className","style","onChange"]),I=ue.useContext(Ee.ConfigContext),se=I.getPrefixCls,ve=I.direction,Se=ue.useState(_.value||M||[]),q=(0,Oe.default)(Se,2),ee=q[0],r=q[1],b=ue.useState([]),U=(0,Oe.default)(b,2),Be=U[0],_e=U[1];ue.useEffect(function(){"value"in _&&r(_.value||[])},[_.value]);var Ce=function(){return me.map(function(xe){return typeof xe=="string"?{label:xe,value:xe}:xe})},ke=function(xe){_e(function(He){return He.filter(function($e){return $e!==xe})})},Ye=function(xe){_e(function(He){return[].concat((0,Z.default)(He),[xe])})},Qe=function(xe){var He=ee.indexOf(xe.value),$e=(0,Z.default)(ee);He===-1?$e.push(xe.value):$e.splice(He,1),"value"in _||r($e);var Ot=Ce();O==null||O($e.filter(function(nt){return Be.indexOf(nt)!==-1}).sort(function(nt,Kt){var Ut=Ot.findIndex(function(at){return at.value===nt}),Wt=Ot.findIndex(function(at){return at.value===Kt});return Ut-Wt}))},Le=se("checkbox",ye),tt="".concat(Le,"-group"),Vt=(0,e.default)(_,["value","disabled"]);me&&me.length>0&&(k=Ce().map(function(Pe){return ue.createElement(i.default,{prefixCls:Le,key:Pe.value.toString(),disabled:"disabled"in Pe?Pe.disabled:_.disabled,value:Pe.value,checked:ee.indexOf(Pe.value)!==-1,onChange:Pe.onChange,className:"".concat(tt,"-item"),style:Pe.style},Pe.label)}));var Bt={toggleOption:Qe,value:ee,disabled:_.disabled,name:_.name,registerValue:Ye,cancelValue:ke},wt=(0,B.default)(tt,(0,ae.default)({},"".concat(tt,"-rtl"),ve==="rtl"),G);return ue.createElement("div",(0,de.default)({className:wt,style:ne},Vt,{ref:K}),ue.createElement(pe.Provider,{value:Bt},k))},F=ue.forwardRef(he),re=ue.memo(F);C.default=re},"./node_modules/antd/lib/table/Column.js":function(oe,C,t){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;function R(de){return null}var V=R;C.default=V},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/InlineMessage/InlineMessage.scss":function(oe,C,t){var R=t("./node_modules/css-loader/dist/runtime/api.js");C=R(!1),C.push([oe.i,".inline-message{background-color:var(--bg-mid);border-radius:var(--radius);padding:.5rem 1rem;font-weight:var(--font-medium);display:flex;align-items:center;color:var(--primary-alt)}.inline-message.danger{background-color:var(--danger-highlight);color:var(--danger)}.inline-message.closable{padding-right:.5rem}.inline-message.hidden{display:none}.inline-message .inline-icon{margin-right:6px;display:flex;align-items:center}.inline-message .inline-main{flex-grow:1}.inline-message .closable{color:var(--muted);align-self:flex-start;padding-left:1rem;cursor:pointer}",""]),oe.exports=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/lib/components/UnitPicker/UnitPicker.scss":function(oe,C,t){var R=t("./node_modules/css-loader/dist/runtime/api.js");C=R(!1),C.push([oe.i,".UnitPopup{width:20rem}",""]),oe.exports=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/funnels/FunnelCanvasLabel.scss":function(oe,C,t){var R=t("./node_modules/css-loader/dist/runtime/api.js");C=R(!1),C.push([oe.i,".insights-graph-header.funnels{border-bottom:1px solid var(--border)}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link{padding:0}.insights-graph-header.funnels .funnel-canvas-label .ant-btn-link:disabled{cursor:default;color:var(--default)}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-label{padding:4px}.insights-graph-header.funnels .funnel-canvas-label .funnel-options-inputs{align-items:center;padding:4px}",""]),oe.exports=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/CorrelationMatrix.scss":function(oe,C,t){var R=t("./node_modules/css-loader/dist/runtime/api.js");C=R(!1),C.push([oe.i,".correlation-matrix .ant-modal-body{display:flex;justify-content:center}.correlation-matrix .correlation-table-wrapper table{border-radius:var(--radius);border:1px solid var(--border);border-collapse:separate;border-spacing:0;margin:0 auto}.correlation-matrix .correlation-table-wrapper table td{padding:.5rem 1rem;border-left:1px solid var(--border);border-top:1px solid var(--border);text-align:center}.correlation-matrix .correlation-table-wrapper table td .percentage{font-weight:700;padding-bottom:.25rem}.correlation-matrix .correlation-table-wrapper table td:first-child{border-left:none}.correlation-matrix .correlation-table-wrapper table .table-title{color:var(--muted-alt)}.correlation-matrix .correlation-table-wrapper table .table-title td{border-top:none}.correlation-matrix .correlation-table-wrapper table .horizontal-header,.correlation-matrix .correlation-table-wrapper table thead{font-weight:700;background-color:var(--antd-table-background-dark);text-transform:uppercase;color:var(--muted)}.correlation-matrix .correlation-table-wrapper table tbody td:not(.horizontal-header){text-align:right}",""]),oe.exports=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelation.scss":function(oe,C,t){var R=t("./node_modules/css-loader/dist/runtime/api.js");C=R(!1),C.push([oe.i,".funnel-correlation{margin-bottom:3rem}.funnel-correlation .skew-warning{margin-top:1rem;line-height:2em;border:1px solid var(--warning)}.funnel-correlation .skew-warning .ant-card-body{padding:.5rem 1rem}.funnel-correlation .skew-warning h4{font-size:1.1em;display:flex;align-items:center;border-bottom:1px solid var(--border);padding:.5rem 1rem;margin-left:-1rem;margin-right:-1rem;position:relative}.funnel-correlation .skew-warning h4 .close-button{position:absolute;right:16px;color:var(--muted)!important;cursor:pointer}.funnel-correlation .skew-warning b{padding-bottom:.5rem;font-weight:var(--font-medium)}",""]),oe.exports=C},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/insights/views/Funnels/FunnelCorrelationTable.scss":function(oe,C,t){var R=t("./node_modules/css-loader/dist/runtime/api.js");C=R(!1),C.push([oe.i,".funnel-correlation-table{margin-top:1rem;border:1px solid var(--border);border-radius:var(--radius)}.funnel-correlation-table .ant-table thead th{border-bottom:1px solid var(--border)}.funnel-correlation-table .funnel-correlation-header{background:#f2f2f2;display:flex;align-self:stretch;justify-content:space-between;align-content:space-between;border-top-left-radius:var(--radius);border-top-right-radius:var(--radius);padding-bottom:5px}.funnel-correlation-table .funnel-correlation-header .table-header{font-style:normal;font-weight:700;font-size:11px;line-height:16px;padding-bottom:4px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;color:var(--default);margin-left:1rem;margin-top:.5rem}.funnel-correlation-table .funnel-correlation-header .table-options{display:flex;flex-grow:1;justify-content:flex-end;align-items:center;margin-top:5px}.funnel-correlation-table .funnel-correlation-header .table-options .title{font-family:Inter;font-style:normal;font-weight:600;font-size:11px;line-height:16px;display:flex;align-items:center;letter-spacing:.02em;text-transform:uppercase;margin:5px;color:rgba(0,0,0,.5)}.funnel-correlation-table .column-info{color:var(--muted-alt);cursor:pointer;padding-left:4px}.funnel-correlation-table .nested-properties-table{margin:1rem;border:1px solid var(--border);border-radius:var(--radius)}.funnel-correlation-table .nested-properties-table thead th{border-bottom:1px solid var(--border)}.funnel-correlation-table .nested-properties-loading{text-align:center;padding:2rem 0}.funnel-correlation-table .nested-properties-loading h3{font-size:1rem;font-weight:700;margin-bottom:0}.funnel-correlation-table .nested-properties-loading h3 p{color:var(--muted-alt)}",""]),oe.exports=C}}]);
