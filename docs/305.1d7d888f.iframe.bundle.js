(window.webpackJsonp=window.webpackJsonp||[]).push([[305],{"./frontend/src/scenes/annotations/Annotations.tsx":function(H,c,n){"use strict";n.r(c),n.d(c,"scene",function(){return R}),n.d(c,"Annotations",function(){return f});var g=n("./node_modules/core-js/modules/es.function.name.js"),J=n.n(g),P=n("./node_modules/react/index.js"),t=n.n(P),r=n("./node_modules/kea/lib/index.esm.js"),o=n("./frontend/src/scenes/annotations/annotationModalLogic.ts"),D=n("./frontend/src/lib/components/PageHeader.tsx"),l=n("./frontend/src/types.ts"),A=n("./frontend/src/lib/components/LemonTable/index.ts"),M=n("./frontend/src/lib/components/LemonTable/columnUtils.tsx"),d=n("./frontend/src/lib/components/LemonButton/index.ts"),L=n("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),O=n("./frontend/src/lib/components/icons.tsx"),T=n("./frontend/@posthog/lemon-ui/src/index.ts"),p=n("./frontend/src/scenes/urls.ts"),v=n("./frontend/src/lib/components/Tooltip.tsx"),C=n("./frontend/src/scenes/teamLogic.tsx"),h=n("./frontend/src/scenes/organizationLogic.tsx"),I=n("./frontend/src/scenes/annotations/AnnotationModal.tsx"),x=n("./frontend/src/lib/utils.tsx"),R={component:f,logic:o.b};function f(){var B=Object(r.useValues)(C.a),m=B.currentTeam,K=Object(r.useValues)(h.a),_=K.currentOrganization,i=Object(r.useValues)(o.b),U=i.annotations,W=i.annotationsLoading,j=i.next,y=i.loadingNext,b=i.timezone,E=Object(r.useActions)(o.b),N=E.loadAnnotationsNext,z=E.openModalToCreateAnnotation,V=E.openModalToEditAnnotation,S=[{title:"Annotation",key:"annotation",width:"30%",render:function(s,e){return t.a.createElement("div",{className:"ph-no-capture"},e.content)}},{title:"Date\xA0and\xA0time (".concat(Object(x.zb)(b),")"),dataIndex:"date_marker",render:function(s,e){return e.date_marker.format(o.a)},sorter:function(s,e){return s.date_marker.diff(e.date_marker)}},{title:"Scope",key:"scope",render:function(s,e){var u=o.d[e.scope],F=e.scope===l.c.Insight?'This annotation only applies to the "'.concat(e.insight_name,'" insight'):e.scope===l.c.Project?"This annotation applies to all insights in the ".concat(m==null?void 0:m.name," project"):"This annotation applies to all insights in the ".concat(_==null?void 0:_.name," organization");return t.a.createElement(v.a,{title:F,placement:"right"},t.a.createElement(L.a,{className:"uppercase"},e.scope===l.c.Insight?t.a.createElement(T.Link,{to:p.a.insightView(e.insight_short_id),className:"flex items-center",target:"_blank"},u,t.a.createElement(O.IconOpenInNew,{className:"ml-1"})):u))},sorter:function(s,e){return o.c[s.scope]-o.c[e.scope]}},Object(M.b)(),Object(M.a)(),{key:"actions",width:0,render:function(s,e){return t.a.createElement(d.a,{icon:t.a.createElement(O.IconEdit,null),size:"small",type:"tertiary",status:"stealth",onClick:function(){return V(e)}})}}];return t.a.createElement(t.a.Fragment,null,t.a.createElement(D.a,{title:"Annotations",caption:t.a.createElement(t.a.Fragment,null,"Annotations add time-specific context to insights and dashboards.",t.a.createElement("br",null),"Manage all of this project's annotations from this page."),buttons:t.a.createElement(d.a,{type:"primary","data-attr":"create-annotation",onClick:function(){return z()}},"New annotation")}),t.a.createElement(A.a,{"data-attr":"annotations-table",rowKey:"id",dataSource:U,columns:S,defaultSorting:{columnKey:"date_marker",order:-1},noSortingCancellation:!0,loading:W,emptyState:"No annotations yet"}),j&&t.a.createElement("div",{className:"flex justify-center mt-6"},t.a.createElement(d.a,{type:"primary",loading:y,onClick:function(){N()}},"Load more annotations")),t.a.createElement(I.a,null))}}}]);
