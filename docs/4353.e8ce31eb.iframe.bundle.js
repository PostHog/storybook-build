(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[4353],{"./frontend/src/lib/components/BridgePage/BridgePage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>BridgePage_BridgePage_BridgePage});var clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),react=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js");const posthog_logo_cloud=__webpack_require__.p+"images/posthog-logo-cloud.ff39f38d10e1d8769248bd773fc42a24.svg",posthog_logo_demo=__webpack_require__.p+"images/posthog-logo-demo.a5b7691e421e187226625869bf85673a.svg",posthog_logo=__webpack_require__.p+"images/posthog-logo.1e8f704e9f5c893139d4ad8dcb7e2954.svg";var preflightLogic=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function WelcomeLogo(_ref){let{view}=_ref;const UTM_TAGS=`utm_campaign=in-product&utm_tag=${view||"welcome"}-header`,{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic);return(0,jsx_runtime.jsx)(src.Link,{to:`https://posthog.com?${UTM_TAGS}`,children:(0,jsx_runtime.jsx)("div",{className:"header-logo",children:(0,jsx_runtime.jsx)("img",{src:preflight?.demo?posthog_logo_demo:preflight?.cloud?posthog_logo_cloud:posthog_logo,alt:"PostHog"+(preflight?.cloud?" Cloud":"")})})})}try{WelcomeLogo.displayName="WelcomeLogo",WelcomeLogo.__docgenInfo={description:"",displayName:"WelcomeLogo",props:{view:{defaultValue:null,description:"",name:"view",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/authentication/WelcomeLogo.tsx#WelcomeLogo"]={docgenInfo:WelcomeLogo.__docgenInfo,name:"WelcomeLogo",path:"frontend/src/scenes/authentication/WelcomeLogo.tsx#WelcomeLogo"})}catch(__react_docgen_typescript_loader_error){}var CSSTransition=__webpack_require__("./node_modules/.pnpm/react-transition-group@4.4.5_react-dom@16.14.0_react@16.14.0/node_modules/react-transition-group/esm/CSSTransition.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),BridgePage=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/BridgePage/BridgePage.scss"),BridgePage_default=__webpack_require__.n(BridgePage),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(BridgePage_default(),options);BridgePage_default().locals;var hedgehogs=__webpack_require__("./frontend/src/lib/components/hedgehogs.tsx"),types=__webpack_require__("./frontend/src/types.ts");function BridgePage_BridgePage_BridgePage(_ref){let{children,className,header,footer,view,message,noLogo=!1,sideLogo=!1,fixedWidth=!0,leftContainerContent,hedgehog=!1,fullScreen=!0}=_ref;const[messageShowing,setMessageShowing]=(0,react.useState)(!1),{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic);return(0,react.useEffect)((()=>{const t=setTimeout((()=>{setMessageShowing(!0)}),200);return()=>clearTimeout(t)}),[]),(0,jsx_runtime.jsxs)("div",{className:(0,clsx_m.default)("BridgePage",fixedWidth&&"BridgePage--fixed-width",fullScreen&&"h-screen overflow-hidden",className),children:[(0,jsx_runtime.jsxs)("div",{className:"BridgePage__main",children:[leftContainerContent||hedgehog?(0,jsx_runtime.jsx)("div",{className:"BridgePage__left-wrapper",children:(0,jsx_runtime.jsxs)("div",{className:"BridgePage__left",children:[!noLogo&&sideLogo&&(0,jsx_runtime.jsx)("div",{className:"BridgePage__header-logo mb-4",children:(0,jsx_runtime.jsx)(WelcomeLogo,{view})}),leftContainerContent&&leftContainerContent,hedgehog&&(0,jsx_runtime.jsxs)("div",{className:"BridgePage__left__art",children:[preflight?.region===types.yp.EU?(0,jsx_runtime.jsx)(hedgehogs.LaptopHogEU,{alt:"",draggable:"false"}):(0,jsx_runtime.jsx)(hedgehogs.LaptopHog4,{alt:"",draggable:"false"}),message?(0,jsx_runtime.jsx)(CSSTransition.Z,{in:messageShowing,timeout:200,classNames:"BridgePage__left__message-",children:(0,jsx_runtime.jsx)("div",{className:"BridgePage__left__message",children:message})}):null]})]})}):null,(0,jsx_runtime.jsxs)("div",{className:"BridgePage__content-wrapper",children:[!noLogo&&(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("BridgePage__header-logo",{mobile:sideLogo}),children:(0,jsx_runtime.jsx)(WelcomeLogo,{view})}),(0,jsx_runtime.jsx)("div",{className:"BridgePage__header",children:header}),(0,jsx_runtime.jsx)("div",{className:"BridgePage__content",children})]})]}),(0,jsx_runtime.jsx)("div",{className:"BridgePage__footer",children:footer})]})}try{BridgePage_BridgePage_BridgePage.displayName="BridgePage",BridgePage_BridgePage_BridgePage.__docgenInfo={description:"",displayName:"BridgePage",props:{hedgehog:{defaultValue:{value:"false"},description:"",name:"hedgehog",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"",name:"message",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},footer:{defaultValue:null,description:"",name:"footer",required:!1,type:{name:"ReactNode"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"string"}},noLogo:{defaultValue:{value:"false"},description:"",name:"noLogo",required:!1,type:{name:"boolean"}},sideLogo:{defaultValue:{value:"false"},description:"",name:"sideLogo",required:!1,type:{name:"boolean"}},fixedWidth:{defaultValue:{value:"true"},description:"",name:"fixedWidth",required:!1,type:{name:"boolean"}},leftContainerContent:{defaultValue:null,description:"",name:"leftContainerContent",required:!1,type:{name:"Element"}},fullScreen:{defaultValue:{value:"true"},description:"",name:"fullScreen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/BridgePage/BridgePage.tsx#BridgePage"]={docgenInfo:BridgePage_BridgePage_BridgePage.__docgenInfo,name:"BridgePage",path:"frontend/src/lib/components/BridgePage/BridgePage.tsx#BridgePage"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{NN:()=>SocialLoginButtons,mB:()=>SSOEnforcedLoginButton});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),clsx__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),_SocialLoginIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/components/SocialLoginButton/SocialLoginIcon.tsx"),lib_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/constants.tsx"),scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonDivider/index.ts"),kea_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function SocialLoginLink(_ref){let{provider,extraQueryParams,children}=_ref;const{searchParams}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(kea_router__WEBPACK_IMPORTED_MODULE_6__.router),loginParams={...extraQueryParams};searchParams.next&&(loginParams.next=searchParams.next),"saml"===provider&&(loginParams.idp="posthog_custom");const loginUrl=(0,kea_router__WEBPACK_IMPORTED_MODULE_6__.combineUrl)(`/login/${provider}/`,loginParams).url;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_7__.Link,{className:"block",to:loginUrl,children})}function SocialLoginButton(_ref2){let{provider,redirectQueryParams}=_ref2;const{preflight}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_3__.preflightLogic);return preflight?.available_social_auth_providers[provider]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(SocialLoginLink,{provider,extraQueryParams:redirectQueryParams,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_4__.Jp,{size:"medium",icon:(0,_SocialLoginIcon__WEBPACK_IMPORTED_MODULE_1__.T)(provider),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("span",{className:"text-default",children:lib_constants__WEBPACK_IMPORTED_MODULE_2__.mi[provider]})})}):null}function SocialLoginButtons(_ref3){let{title,caption,captionLocation="top",className,topDivider,bottomDivider,...props}=_ref3;const{preflight}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_3__.preflightLogic),order=Object.keys(lib_constants__WEBPACK_IMPORTED_MODULE_2__.mi);return preflight?.available_social_auth_providers&&Object.values(preflight.available_social_auth_providers).filter((val=>!!val)).length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Fragment,{children:[topDivider?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_5__.p,{dashed:!0,className:"my-4"}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:(0,clsx__WEBPACK_IMPORTED_MODULE_9__.default)(className,"text-center space-y-4"),children:[title&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("h3",{children:title}),caption&&"top"===captionLocation&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("p",{className:"text-muted",children:caption}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{className:"flex gap-2 justify-center flex-wrap",children:Object.keys(preflight.available_social_auth_providers).sort(((a,b)=>order.indexOf(a)-order.indexOf(b))).map((provider=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(SocialLoginButton,{provider,...props},provider)))}),caption&&"bottom"===captionLocation&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("p",{className:"text-muted",children:caption})]}),bottomDivider?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(lib_lemon_ui_LemonDivider__WEBPACK_IMPORTED_MODULE_5__.p,{dashed:!0,className:"my-6"}):null]}):null}function SSOEnforcedLoginButton(_ref4){let{provider,email}=_ref4;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(SocialLoginLink,{provider,extraQueryParams:{email},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_4__.Jp,{className:"btn-bridge","data-attr":"sso-login",htmlType:"button",type:"secondary",fullWidth:!0,center:!0,icon:(0,_SocialLoginIcon__WEBPACK_IMPORTED_MODULE_1__.T)(provider),children:["Log in with ",lib_constants__WEBPACK_IMPORTED_MODULE_2__.mi[provider]]})})}try{SocialLoginButton.displayName="SocialLoginButton",SocialLoginButton.__docgenInfo={description:"",displayName:"SocialLoginButton",props:{provider:{defaultValue:null,description:"",name:"provider",required:!0,type:{name:"enum",value:[{value:'"google-oauth2"'},{value:'"github"'},{value:'"gitlab"'},{value:'"saml"'}]}},redirectQueryParams:{defaultValue:null,description:"",name:"redirectQueryParams",required:!1,type:{name:"Record<string, string>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx#SocialLoginButton"]={docgenInfo:SocialLoginButton.__docgenInfo,name:"SocialLoginButton",path:"frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx#SocialLoginButton"})}catch(__react_docgen_typescript_loader_error){}try{SocialLoginButtons.displayName="SocialLoginButtons",SocialLoginButtons.__docgenInfo={description:"",displayName:"SocialLoginButtons",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"string"}},captionLocation:{defaultValue:{value:"top"},description:"",name:"captionLocation",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'}]}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},topDivider:{defaultValue:null,description:"",name:"topDivider",required:!1,type:{name:"boolean"}},bottomDivider:{defaultValue:null,description:"",name:"bottomDivider",required:!1,type:{name:"boolean"}},redirectQueryParams:{defaultValue:null,description:"",name:"redirectQueryParams",required:!1,type:{name:"Record<string, string>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx#SocialLoginButtons"]={docgenInfo:SocialLoginButtons.__docgenInfo,name:"SocialLoginButtons",path:"frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx#SocialLoginButtons"})}catch(__react_docgen_typescript_loader_error){}try{SSOEnforcedLoginButton.displayName="SSOEnforcedLoginButton",SSOEnforcedLoginButton.__docgenInfo={description:"",displayName:"SSOEnforcedLoginButton",props:{provider:{defaultValue:null,description:"",name:"provider",required:!0,type:{name:"enum",value:[{value:'"google-oauth2"'},{value:'"github"'},{value:'"gitlab"'},{value:'"saml"'}]}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx#SSOEnforcedLoginButton"]={docgenInfo:SSOEnforcedLoginButton.__docgenInfo,name:"SSOEnforcedLoginButton",path:"frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx#SSOEnforcedLoginButton"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/lib/components/SocialLoginButton/SocialLoginIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>SocialLoginIcon});var lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const SocialLoginIcon=provider=>"google-oauth2"===provider?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_0__._8Z,{}):"github"===provider?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_0__.ETn,{}):"gitlab"===provider?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_0__.Ts0,{}):"saml"===provider?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_0__.Ol,{}):void 0;try{SocialLoginIcon.displayName="SocialLoginIcon",SocialLoginIcon.__docgenInfo={description:"",displayName:"SocialLoginIcon",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/SocialLoginButton/SocialLoginIcon.tsx#SocialLoginIcon"]={docgenInfo:SocialLoginIcon.__docgenInfo,name:"SocialLoginIcon",path:"frontend/src/lib/components/SocialLoginButton/SocialLoginIcon.tsx#SocialLoginIcon"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/authentication/Login.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ERROR_MESSAGES:()=>ERROR_MESSAGES,Login:()=>Login_Login,scene:()=>scene});var react=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),Login=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/authentication/Login.scss"),Login_default=__webpack_require__.n(Login),options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Login_default(),options);Login_default().locals;var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),loginLogic=__webpack_require__("./frontend/src/scenes/authentication/loginLogic.ts"),Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link/index.ts"),preflightLogic=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),SocialLoginButton=__webpack_require__("./frontend/src/lib/components/SocialLoginButton/SocialLoginButton.tsx"),clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-forms@3.0.3_kea@3.1.5/node_modules/kea-forms/lib/index.js"),Field=__webpack_require__("./frontend/src/lib/forms/Field.tsx"),LemonBanner=__webpack_require__("./frontend/src/lib/lemon-ui/LemonBanner/index.ts"),BridgePage=__webpack_require__("./frontend/src/lib/components/BridgePage/BridgePage.tsx"),types=__webpack_require__("./frontend/src/types.ts"),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),kea_router_lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),featureFlagLogic=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const sections=[{title:"US hosting",features:["Faster if you and your users are based in the US","Easier to comply with some US regulations","Hosted in Virginia, USA"]},{title:"EU hosting",features:["Faster if you and your users are based in Europe","Keeps data in the EU to comply with GDPR requirements","Hosted in Frankfurt, Germany"]}];function WhyCloudModal(_ref){let{setOpen,open}=_ref;return(0,jsx_runtime.jsx)(src.LemonModal,{title:"Which region would you like to choose?",isOpen:open,onClose:()=>setOpen(!1),children:(0,jsx_runtime.jsxs)("div",{className:"bg-bg-light w-full max-w-lg h-full ml-auto relative z-10 overflow-auto",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg text-semibold opacity-50 m-0",children:"A particular region can have advantages, but you can migrate regions at any time for free."}),(0,jsx_runtime.jsx)("ul",{className:"list-none m-0 p-0 mt-6",children:sections.map((section=>(0,jsx_runtime.jsxs)("li",{className:"border-t first:border-t-0 border-dashed border-gray-accent mt-4 pt-2 first:mt-0",children:[(0,jsx_runtime.jsx)("h4",{className:"text-lg m-0 mt-4",children:section.title}),(0,jsx_runtime.jsx)("ul",{className:"list-none p-0 my-2 space-y-1",children:section.features.map((feature=>(0,jsx_runtime.jsxs)("li",{className:"flex items-center space-x-2 text-gray-accent-light align-center",children:[(0,jsx_runtime.jsx)(icons.DLh,{className:"w-[20px] flex-shrink-0"}),(0,jsx_runtime.jsx)("span",{className:"text-black font-medium",children:feature})]},feature)))})]},section.title)))})]})})}const authentication_RegionSelect=()=>{const{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.h),[regionModalOpen,setRegionModalOpen]=(0,react.useState)(!1);return featureFlags[constants.y8.REGION_SELECT]&&preflight?.cloud&&preflight?.region?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Field.e,{label:"Data region",onExplanationClick:()=>setRegionModalOpen(!0),children:(0,jsx_runtime.jsx)(src.LemonSelect,{onChange:region=>{if(!region)return;const{pathname,search,hash}=kea_router_lib.router.values.currentLocation,newUrl=`https://${constants.Yr[region]}${pathname}${search}${hash}`;window.location.href=newUrl},value:preflight?.region,options:[{label:"United States",value:types.yp.US},{label:"European Union",value:types.yp.EU}],fullWidth:!0})}),(0,jsx_runtime.jsx)(WhyCloudModal,{open:regionModalOpen,setOpen:setRegionModalOpen})]}):null};var api=__webpack_require__("./frontend/src/lib/api.ts");const PH_CURRENT_INSTANCE="ph_current_instance",REDIRECT_TIMEOUT=2500,SUBDOMAIN_TO_NAME={eu:"EU",app:"US"};var esm_exports=__webpack_require__("./node_modules/.pnpm/@sentry+core@7.22.0/node_modules/@sentry/core/esm/exports.js"),SupportModalButton=__webpack_require__("./frontend/src/scenes/authentication/SupportModalButton.tsx");const ERROR_MESSAGES={no_new_organizations:"Your email address is not associated with an account. Please ask your administrator for an invite.",invalid_sso_provider:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["The SSO provider you specified is invalid. Visit"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/sso",target:"_blank",children:"https://posthog.com/sso"})," ","for details."]}),improperly_configured_sso:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Cannot login with SSO provider because the provider is not configured, or your instance does not have the required license. Please visit"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://posthog.com/sso",target:"_blank",children:"https://posthog.com/sso"})," ","for details."]}),jit_not_enabled:"We could not find an account with your email address and your organization does not support automatic enrollment. Please contact your administrator for an invite."},scene={component:Login_Login,logic:loginLogic.l};function Login_Login(){const{precheck}=(0,index_esm.useActions)(loginLogic.l),{precheckResponse,precheckResponseLoading,login,isLoginSubmitting,generalError}=(0,index_esm.useValues)(loginLogic.l),{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.h),passwordInputRef=(0,react.useRef)(null),isPasswordHidden="pending"===precheckResponse.status||precheckResponse.sso_enforcement;return(0,react.useEffect)((()=>{try{featureFlags[constants.y8.AUTO_REDIRECT]&&function redirectIfLoggedInOtherInstance(){const currentSubdomain=window.location.hostname.split(".")[0],loggedInInstance=(0,api.ej)(PH_CURRENT_INSTANCE),loggedInSubdomain=loggedInInstance?new URL(loggedInInstance.replace('"',"")).host.split(".")[0]:null;if(!loggedInSubdomain)return;if(!SUBDOMAIN_TO_NAME[loggedInSubdomain])return;if(loggedInSubdomain!==currentSubdomain){const newUrl=new URL(window.location.href);newUrl.hostname=newUrl.hostname.replace(currentSubdomain,loggedInSubdomain);let cancelClicked=!1;const closeToastAction=()=>{cancelClicked||window.location.assign(newUrl.href)};src.lemonToast.info(`Redirecting to your logged-in account in the Cloud ${SUBDOMAIN_TO_NAME[loggedInSubdomain]} region`,{button:{label:"Cancel",action:()=>{cancelClicked=!0}},onClose:closeToastAction,closeButton:!1,autoClose:REDIRECT_TIMEOUT})}}()}catch(e){(0,esm_exports.Tb)(e)}}),[]),(0,react.useEffect)((()=>{isPasswordHidden||passwordInputRef.current?.focus()}),[isPasswordHidden]),(0,jsx_runtime.jsx)(BridgePage.N,{view:"login",hedgehog:!0,message:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Welcome to",(0,jsx_runtime.jsx)("br",{})," PostHog",preflight?.cloud?" Cloud":"","!"]}),footer:(0,jsx_runtime.jsx)(SupportModalButton.J,{}),children:(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("h2",{children:"Log in"}),generalError&&(0,jsx_runtime.jsx)(LemonBanner.V,{type:"error",children:generalError.detail||ERROR_MESSAGES[generalError.code]||(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Could not complete your login.",(0,jsx_runtime.jsx)("br",{}),"Please try again."]})}),(0,jsx_runtime.jsxs)(lib.Form,{logic:loginLogic.l,formKey:"login",enableFormOnSubmit:!0,className:"space-y-4",children:[(0,jsx_runtime.jsx)(authentication_RegionSelect,{}),(0,jsx_runtime.jsx)(Field.g,{name:"email",label:"Email",children:(0,jsx_runtime.jsx)(src.LemonInput,{className:"ph-ignore-input",autoFocus:!0,"data-attr":"login-email",placeholder:"email@yourcompany.com",type:"email",onBlur:()=>precheck({email:login.email}),onPressEnter:e=>{precheck({email:login.email}),isPasswordHidden&&(e.preventDefault(),passwordInputRef.current?.focus())}})}),(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("PasswordWrapper",isPasswordHidden&&"zero-height"),children:(0,jsx_runtime.jsx)(Field.g,{name:"password",label:(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 items-center justify-between gap-2",children:[(0,jsx_runtime.jsx)("span",{children:"Password"}),(0,jsx_runtime.jsx)(Link.r,{to:"/reset","data-attr":"forgot-password",children:"Forgot your password?"})]}),children:(0,jsx_runtime.jsx)(src.LemonInput,{type:"password",ref:passwordInputRef,className:"ph-ignore-input","data-attr":"password",placeholder:"••••••••••",autoComplete:"current-password"})})}),"pending"!==precheckResponse.status&&precheckResponse.sso_enforcement?(0,jsx_runtime.jsx)(SocialLoginButton.mB,{provider:precheckResponse.sso_enforcement,email:login.email}):(0,jsx_runtime.jsx)(src.LemonButton,{htmlType:"submit","data-attr":"password-login",fullWidth:!0,type:"primary",center:!0,loading:isLoginSubmitting||precheckResponseLoading,children:"Log in"}),precheckResponse.saml_available&&!precheckResponse.sso_enforcement&&(0,jsx_runtime.jsx)(SocialLoginButton.mB,{provider:"saml",email:login.email})]}),preflight?.cloud&&(0,jsx_runtime.jsxs)("div",{className:"text-center mt-4",children:["Don't have an account?"," ",(0,jsx_runtime.jsx)(Link.r,{to:"/signup","data-attr":"signup",className:"font-bold",children:"Create an account"})]}),!precheckResponse.saml_available&&!precheckResponse.sso_enforcement&&(0,jsx_runtime.jsx)(SocialLoginButton.NN,{caption:"Or log in with",topDivider:!0})]})})}},"./frontend/src/scenes/authentication/SupportModalButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>SupportModalButton});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),lib_components_Support_SupportModal__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/components/Support/SupportModal.tsx"),lib_components_Support_supportLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/components/Support/supportLogic.ts"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function SupportModalButton(_ref){let{name,email}=_ref;const{openSupportLoggedOutForm}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useActions)(lib_components_Support_supportLogic__WEBPACK_IMPORTED_MODULE_3__.Pw),{preflight}=(0,kea__WEBPACK_IMPORTED_MODULE_1__.useValues)(scenes_PreflightCheck_preflightLogic__WEBPACK_IMPORTED_MODULE_5__.preflightLogic);return preflight?.cloud?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",{className:"text-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.LemonButton,{onClick:()=>{openSupportLoggedOutForm(name,email,null,"login")},status:"stealth",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_4__.z2e,{}),size:"small",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{className:"text-muted",children:"Report an issue"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(lib_components_Support_SupportModal__WEBPACK_IMPORTED_MODULE_2__.a,{loggedIn:!1})]}):null}try{SupportModalButton.displayName="SupportModalButton",SupportModalButton.__docgenInfo={description:"",displayName:"SupportModalButton",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},email:{defaultValue:null,description:"",name:"email",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/authentication/SupportModalButton.tsx#SupportModalButton"]={docgenInfo:SupportModalButton.__docgenInfo,name:"SupportModalButton",path:"frontend/src/scenes/authentication/SupportModalButton.tsx#SupportModalButton"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/BridgePage/BridgePage.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'.BridgePage{background-color:var(--bg-bridge);position:relative;display:flex;flex-direction:column;flex:1;overflow:scroll;-ms-overflow-style:none}.BridgePage::-webkit-scrollbar{width:0!important}.BridgePage .BridgePage__main{display:flex;justify-content:center;align-items:center;flex:1;padding:1rem}.BridgePage .BridgePage__content-wrapper{max-width:100%}.BridgePage .BridgePage__left-wrapper{margin-right:60px;display:none}@media screen and (min-width:768px){.BridgePage .BridgePage__left-wrapper{display:block;visibility:visible}}.BridgePage .BridgePage__content{position:relative;box-shadow:var(--shadow-elevation);width:100%;padding:2rem;background-color:#fff;border-radius:var(--radius)}.BridgePage .BridgePage__content h2{font-weight:700;text-align:center}.BridgePage .BridgePage__footer{display:flex;justify-content:center;gap:10%;margin:1rem 0;color:var(--muted);font-weight:500;width:100%}.BridgePage .BridgePage__left{position:relative;visibility:none;display:none}.BridgePage .BridgePage__left img{height:300px}.BridgePage .BridgePage__left .BridgePage__left__art{margin-top:50px}.BridgePage .BridgePage__left .BridgePage__left__message{position:absolute;left:265px;bottom:220px;max-width:150px;background-color:var(--default);border-radius:.75rem;padding:.5rem .75rem;color:#fff;font-size:.8em;font-weight:600;opacity:0;transition-timing-function:cubic-bezier(.455,.03,.31,1.585)}.BridgePage .BridgePage__left .BridgePage__left__message:after{position:absolute;top:100%;left:20px;margin-top:-10px;content:" ";border:10px solid transparent;border-left:10px solid var(--default)}.BridgePage .BridgePage__left .BridgePage__left__message.BridgePage__left__message--enter{opacity:0;transform:translateY(50px) rotate(0deg) scale(.5)}.BridgePage .BridgePage__left .BridgePage__left__message.BridgePage__left__message--enter-active,.BridgePage .BridgePage__left .BridgePage__left__message.BridgePage__left__message--enter-done{opacity:1;transform:translateY(0) rotate(5deg) scale(1);transition:opacity .2s,transform .2s}@media(prefers-reduced-motion){.BridgePage .BridgePage__left .BridgePage__left__message{transition:none}}@media screen and (min-width:768px){.BridgePage .BridgePage__left{display:block;visibility:visible}}.BridgePage .BridgePage__cta{max-width:400px}.BridgePage .BridgePage__header-logo.mobile{display:block}@media screen and (min-width:768px){.BridgePage .BridgePage__header-logo.mobile{display:none}}.BridgePage .BridgePage__header-logo .header-logo{padding-bottom:3rem;text-align:center}.BridgePage .BridgePage__header-logo .header-logo img{height:24px}@media screen and (min-width:768px){.BridgePage.BridgePage--fixed-width .BridgePage__content{max-width:400px;width:400px}}',""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/authentication/Login.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".PasswordWrapper{overflow:hidden;transition:max-height .8s ease-in-out;max-height:1000px}.PasswordWrapper.zero-height{max-height:0;margin:0!important}",""]),module.exports=exports}}]);