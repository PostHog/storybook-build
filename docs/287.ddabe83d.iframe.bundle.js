(window.webpackJsonp=window.webpackJsonp||[]).push([[287],{"./frontend/src/lib/CommunityTag.tsx":function(ne,L,s){"use strict";s.d(L,"a",function(){return k});var F=s("./frontend/src/lib/components/Tooltip.tsx"),je=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tag/index.js"),D=s("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js"),me=s.n(D);function k(be){let{isCommunity:te,noun:Y="app"}=be;return Object(D.jsx)(F.a,{title:te?`This ${Y} was built by a community member, not the PostHog team.`:`This ${Y} was built by the PostHog team.`,children:Object(D.jsx)(je.a,{color:te?"cyan":"geekblue",children:te?"Community":"Official"})})}try{k.displayName="CommunityTag",k.__docgenInfo={description:"",displayName:"CommunityTag",props:{isCommunity:{defaultValue:null,description:"",name:"isCommunity",required:!1,type:{name:"boolean"}},noun:{defaultValue:{value:"app"},description:"",name:"noun",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/CommunityTag.tsx#CommunityTag"]={docgenInfo:k.__docgenInfo,name:"CommunityTag",path:"frontend/src/lib/CommunityTag.tsx#CommunityTag"})}catch(be){}},"./frontend/src/scenes/plugins/Plugins.tsx":function(ne,L,s){"use strict";s.r(L),s.d(L,"scene",function(){return Yn}),s.d(L,"Plugins",function(){return Fe});var F=s("./node_modules/.pnpm/style-loader@2.0.0_webpack@4.46.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),je=s.n(F),D=s("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss"),me=s.n(D),k={};k.insert="head",k.singleton=!1;var be=je()(me.a,k),te=me.a.locals||{},Y=s("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),Ke=s("./frontend/src/scenes/plugins/edit/PluginDrawer.tsx"),h=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/row/index.js"),p=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/col/index.js"),c=s("./node_modules/.pnpm/kea@3.1.0_react@16.14.0/node_modules/kea/lib/index.esm.js"),r=s("./frontend/src/scenes/plugins/pluginsLogic.ts"),$=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/space/index.js"),m=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/button/index.js"),K=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/card/index.js"),C=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tag/index.js"),Me=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js"),we=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/DownOutlined.js"),He=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/GlobalOutlined.js"),We=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/WarningOutlined.js"),Ae=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),ke=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CheckOutlined.js"),Ge=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/LineChartOutlined.js"),Je=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ClockCircleOutlined.js"),Qe=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/UnorderedListOutlined.js"),Xe=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SettingOutlined.js"),M=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CloudDownloadOutlined.js"),Ze=s("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),qe=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/popover/index.js"),_e=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/ClearOutlined.js"),se=s("./frontend/src/lib/components/CodeSnippet/index.tsx"),Ee=s("./frontend/src/lib/dayjs.ts"),e=s("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function H(t){let{error:n,reset:a}=t;return n?Object(e.jsx)(qe.a,{title:Object(e.jsx)("div",{style:{textAlign:"center"},children:Object(Ee.a)(n.time).format("YYYY-MM-DD - HH:mm:ss")}),content:Object(e.jsxs)(e.Fragment,{children:[a?Object(e.jsxs)(m.a,{size:"small",onClick:a,style:{float:"right",marginLeft:10},children:[Object(e.jsx)(_e.a,{})," Delete"]}):null,Object(e.jsxs)("div",{children:[n.name?Object(e.jsxs)("strong",{children:[n.name,": "]}):"",n.message]}),n.stack?Object(e.jsx)(se.a,{wrap:!0,style:{fontSize:10},language:se.b.JavaScript,children:n.stack}):null,n.event?Object(e.jsx)(se.a,{wrap:!0,style:{fontSize:10},language:se.b.JSON,children:JSON.stringify(n.event,null,2)}):null]}),trigger:"click",placement:"top",children:Object(e.jsx)(C.a,{color:"red",style:{cursor:"pointer"},children:"ERROR"})}):null}try{H.displayName="PluginError",H.__docgenInfo={description:"",displayName:"PluginError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"PluginErrorType"}},reset:{defaultValue:null,description:"",name:"reset",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"]={docgenInfo:H.__docgenInfo,name:"PluginError",path:"frontend/src/scenes/plugins/plugin/PluginError.tsx#PluginError"})}catch(t){}var en=s("./frontend/src/scenes/plugins/plugin/LocalPluginTag.tsx"),x=s("./frontend/src/scenes/plugins/types.ts"),nn=s("./frontend/src/scenes/plugins/plugin/SourcePluginTag.tsx"),f=s("./frontend/src/lib/components/Tooltip.tsx");function Ie(t){let{tag:n}=t;return n.match(/^[a-f0-9]{40}$/)?Object(e.jsx)("code",{children:n.substring(0,7)}):Object(e.jsx)("code",{children:n})}function ae(t){let{url:n,tag:a,latestTag:l}=t,i="";return n.match(/^https:\/\/(www.|)github.com\//)&&(i=`${n}/compare/${a}...${l}`),n.match(/^https:\/\/(www.|)gitlab.com\//)&&(i=`${n}/-/compare/${a}...${l}`),Object(e.jsx)(f.a,{title:Object(e.jsxs)("div",{children:["Installed: ",Object(e.jsx)(Ie,{tag:a}),Object(e.jsx)("br",{}),"Latest: ",Object(e.jsx)(Ie,{tag:l}),i?Object(e.jsx)("div",{style:{marginTop:10},children:"Click to see the diff"}):null]}),children:i?Object(e.jsx)("a",{href:i,target:"_blank",rel:"noreferrer noopener",children:Object(e.jsxs)(C.a,{color:"volcano",style:{cursor:"pointer"},children:[Object(e.jsx)(M.a,{})," Update available!"]})}):Object(e.jsxs)(C.a,{color:"volcano",children:[Object(e.jsx)(M.a,{})," Update available!"]})})}try{ae.displayName="UpdateAvailable",ae.__docgenInfo={description:"",displayName:"UpdateAvailable",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},tag:{defaultValue:null,description:"",name:"tag",required:!0,type:{name:"string"}},latestTag:{defaultValue:null,description:"",name:"latestTag",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"]={docgenInfo:ae.__docgenInfo,name:"UpdateAvailable",path:"frontend/src/scenes/plugins/plugin/UpdateAvailable.tsx#UpdateAvailable"})}catch(t){}var W=s("./frontend/src/scenes/userLogic.ts"),Re=s("./frontend/src/lib/utils.tsx"),E=s("./frontend/src/scenes/plugins/access.ts");const le=t=>{let{updateStatus:n,pluginId:a,rearranging:l}=t;const{editPlugin:i,updatePlugin:u}=Object(c.useActions)(r.b),{pluginsUpdating:O}=Object(c.useValues)(r.b);return Object(e.jsx)(m.a,{type:n!=null&&n.updated?"default":"primary",className:"padding-under-500",onClick:()=>n!=null&&n.updated?i(a):u(a),loading:O.includes(a),icon:n!=null&&n.updated?Object(e.jsx)(ke.a,{}):Object(e.jsx)(M.a,{}),disabled:l,"data-attr":"plugin-update",children:Object(e.jsx)("span",{className:"show-over-500",children:n!=null&&n.updated?"Updated":"Update"})})};try{le.displayName="PluginUpdateButton",le.__docgenInfo={description:"",displayName:"PluginUpdateButton",props:{updateStatus:{defaultValue:null,description:"",name:"updateStatus",required:!0,type:{name:"PluginUpdateStatusType | undefined"}},pluginId:{defaultValue:null,description:"",name:"pluginId",required:!0,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!0,type:{name:"boolean | undefined"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"]={docgenInfo:le.__docgenInfo,name:"PluginUpdateButton",path:"frontend/src/scenes/plugins/plugin/PluginUpdateButton.tsx#PluginUpdateButton"})}catch(t){}var N=s("./frontend/@posthog/lemon-ui/src/index.ts"),tn=s("./frontend/src/scenes/organizationLogic.tsx"),sn=s("./frontend/src/lib/constants.tsx"),he=s("./frontend/src/scenes/urls.ts"),an=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/badge/index.js"),ln=s("./frontend/src/lib/components/Link.tsx");function ie(t){let{deliveryRate:n,pluginConfigId:a}=t;const[l,i]=rn(n);return Object(e.jsx)(f.a,{title:i,children:Object(e.jsx)(ln.a,{to:he.a.appMetrics(a),children:Object(e.jsx)(an.a,{color:l})})})}function rn(t){if(t===null)return["grey","No events processed by this app in the past 24 hours"];{let n="red";return t>=.99?n="green":t>=.75&&(n="yellow"),[n,`Success rate for past 24 hours: ${Math.floor(t*1e3)/10}%`]}}try{ie.displayName="SuccessRateBadge",ie.__docgenInfo={description:"",displayName:"SuccessRateBadge",props:{deliveryRate:{defaultValue:null,description:"",name:"deliveryRate",required:!0,type:{name:"number | null"}},pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"]={docgenInfo:ie.__docgenInfo,name:"SuccessRateBadge",path:"frontend/src/scenes/plugins/plugin/SuccessRateBadge.tsx#SuccessRateBadge"})}catch(t){}var ze=s("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),on=s("./frontend/src/lib/CommunityTag.tsx");function re(t){let{url:n,disabled:a=!1}=t;return Object(e.jsx)($.b,{children:Object(e.jsx)(f.a,{title:"About",children:Object(e.jsx)(N.Link,{to:n,target:"_blank",children:Object(e.jsx)(m.a,{disabled:a,children:Object(e.jsx)(Me.a,{})})})})})}function B(t){var n,a;let{plugin:l,error:i,maintainer:u,showUpdateButton:O,order:o,maxOrder:v,rearranging:j,DragColumn:R=Hn=>{let{children:Wn}=Hn;return Object(e.jsx)(p.a,{className:"order-handle",children:Wn})},unorderedPlugin:y=!1}=t;const{name:z,description:ve,url:b,icon:ce,plugin_type:w,pluginConfig:d,tag:Q,latest_tag:X,id:A,updateStatus:g,hasMoved:T,is_global:Z,organization_id:de,organization_name:Ce}=l,{editPlugin:Pe,toggleEnabled:ue,installPlugin:q,resetPluginConfigError:_,rearrange:Se,showPluginLogs:ee}=Object(c.useActions)(r.b),{loading:ge,installingPluginUrl:pe,checkingForUpdates:Te,pluginUrlToMaintainer:De,showAppMetricsForPlugin:Ye}=Object(c.useValues)(r.b),{currentOrganization:$e}=Object(c.useValues)(tn.a),{user:Le}=Object(c.useValues)(W.a),Kn=u||l.url&&De[l.url],Mn=u||De[l.url||""];return Object(e.jsx)(p.a,{style:{width:"100%",marginBottom:20},className:`plugins-scene-plugin-card-col${j?" rearranging":""}`,"data-attr":`plugin-card-${d?"installed":"available"}`,children:Object(e.jsx)(K.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(h.a,{align:"middle",className:"plugin-card-row",children:[typeof o=="number"&&typeof v=="number"?Object(e.jsxs)(R,{children:[Object(e.jsx)("div",{className:Object(ze.default)("arrow",o===1&&"invisible"),children:Object(e.jsx)(we.a,{})}),Object(e.jsx)("div",{children:Object(e.jsx)(C.a,{color:T?"#bd0225":"#555",onClick:Se,children:o})}),Object(e.jsx)("div",{className:Object(ze.default)("arrow",o===v&&"invisible"),children:Object(e.jsx)(we.a,{})})]}):null,y?Object(e.jsx)(f.a,{title:"This app does not do any processing in order.",placement:"topRight",children:Object(e.jsx)(p.a,{children:Object(e.jsx)(C.a,{color:"#555",children:"-"})})}):null,d&&Object(e.jsx)(p.a,{children:d.id?Object(e.jsx)(N.LemonSwitch,{checked:(n=d.enabled)!==null&&n!==void 0?n:!1,disabled:j,onChange:()=>ue({id:d.id,enabled:!d.enabled})}):Object(e.jsx)(f.a,{title:"Please configure this plugin before enabling it",children:Object(e.jsx)(N.LemonSwitch,{checked:!1,disabled:!0})})}),Object(e.jsx)(p.a,{className:d?"hide-plugin-image-below-500":"",children:Object(e.jsx)(Ze.a,{pluginType:w,icon:ce,url:b})}),Object(e.jsxs)(p.a,{style:{flex:1},children:[Object(e.jsxs)("div",{children:[Object(e.jsxs)("strong",{style:{marginRight:8},children:[Ye(l)&&(d==null?void 0:d.id)&&Object(e.jsx)(ie,{deliveryRate:(a=d.delivery_rate_24h)!==null&&a!==void 0?a:null,pluginConfigId:d.id}),z]}),Kn&&Object(e.jsx)(on.a,{isCommunity:Mn==="community"}),d!=null&&d.error?Object(e.jsx)(H,{error:d.error,reset:()=>_((d==null?void 0:d.id)||0)}):i?Object(e.jsx)(H,{error:i}):null,Z&&!!$e&&$e.plugins_access_level>=sn.t.Install&&Object(e.jsx)(f.a,{title:`This plugin is managed by the ${Ce} organization`,children:Object(e.jsx)(C.a,{color:"blue",icon:Object(e.jsx)(He.a,{}),children:"Global"})}),Object(E.c)(Le==null?void 0:Le.organization,de)&&Object(e.jsxs)(e.Fragment,{children:[b!=null&&b.startsWith("file:")?Object(e.jsx)(en.a,{url:b,title:"Local"}):null,g!=null&&g.error?Object(e.jsxs)(C.a,{color:"red",children:[Object(e.jsx)(We.a,{})," Error checking for updates"]}):Te&&!g&&w!==x.a.Source&&!(b!=null&&b.startsWith("file:"))?Object(e.jsxs)(C.a,{color:"blue",children:[Object(e.jsx)(Ae.a,{})," Checking for updates\u2026"]}):b&&X&&Q?Q===X?Object(e.jsxs)(C.a,{color:"green",children:[Object(e.jsx)(ke.a,{})," Up to date"]}):Object(e.jsx)(ae,{url:b,tag:Q,latestTag:X}):null,w===x.a.Source?Object(e.jsx)(nn.a,{}):null]})]}),Object(e.jsx)("div",{children:Object(Re.z)(ve)})]}),Object(e.jsx)(p.a,{children:Object(e.jsxs)($.b,{children:[b&&Object(e.jsx)(re,{url:b,disabled:j}),O&&A?Object(e.jsx)(le,{updateStatus:g,pluginId:A,rearranging:j}):A?Object(e.jsxs)(e.Fragment,{children:[Ye(l)&&d!==null&&d!==void 0&&d.id?Object(e.jsx)(f.a,{title:"App metrics",children:Object(e.jsx)(m.a,{className:"padding-under-500",disabled:j,"data-attr":"app-metrics",children:Object(e.jsx)(N.Link,{to:he.a.appMetrics(d.id),children:Object(e.jsx)(Ge.a,{})})})}):null,d!=null&&d.id?Object(e.jsx)(f.a,{title:"Activity history",children:Object(e.jsx)(m.a,{className:"padding-under-500",disabled:j,"data-attr":"plugin-history",children:Object(e.jsx)(N.Link,{to:he.a.appHistory(d.id),children:Object(e.jsx)(Je.a,{})})})}):null,Object(e.jsx)(f.a,{title:d!=null&&d.id?"Logs":"Logs \u2013 enable the app for the first time to view them",children:Object(e.jsx)(m.a,{className:"padding-under-500",disabled:j||!(d!=null&&d.id),onClick:()=>ee(A),"data-attr":"plugin-logs",children:Object(e.jsx)(Qe.a,{})})}),Object(e.jsx)(f.a,{title:"Configure",children:Object(e.jsx)(m.a,{type:"primary",className:"padding-under-500",disabled:j,onClick:()=>Pe(A),"data-attr":"plugin-configure",children:Object(e.jsx)(Xe.a,{})})})]}):A?null:Object(e.jsx)(m.a,{type:"primary",className:"padding-under-500",loading:ge&&pe===b,disabled:ge&&pe!==b,onClick:b?()=>q(b,x.a.Repository):void 0,icon:Object(e.jsx)(M.a,{}),"data-attr":"plugin-install",children:Object(e.jsx)("span",{className:"show-over-500",children:"Install"})})]})})]})})})}try{re.displayName="PluginAboutButton",re.__docgenInfo={description:"",displayName:"PluginAboutButton",props:{url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"]={docgenInfo:re.__docgenInfo,name:"PluginAboutButton",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginAboutButton"})}catch(t){}try{B.displayName="PluginCard",B.__docgenInfo={description:"",displayName:"PluginCard",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"Partial<PluginTypeWithConfig>"}},pluginConfig:{defaultValue:null,description:"",name:"pluginConfig",required:!1,type:{name:"PluginConfigType"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"PluginErrorType"}},maintainer:{defaultValue:null,description:"",name:"maintainer",required:!1,type:{name:"string"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:{value:'({ children }) => <Col className="order-handle">{children}</Col>'},description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"]={docgenInfo:B.__docgenInfo,name:"PluginCard",path:"frontend/src/scenes/plugins/plugin/PluginCard.tsx#PluginCard"})}catch(t){}var P=s("./frontend/src/lib/components/PageHeader.tsx"),G=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/skeleton/index.js");function Ne(){return Object(e.jsx)(e.Fragment,{children:[1,2,3].map(t=>Object(e.jsx)(p.a,{style:{marginBottom:20,width:"100%"},className:"plugins-scene-plugin-card-col",children:Object(e.jsx)(K.a,{className:"plugins-scene-plugin-card",children:Object(e.jsxs)(h.a,{align:"middle",className:"plugin-card-row",children:[Object(e.jsx)(p.a,{className:"hide-plugin-image-below-500",children:Object(e.jsx)(G.a.Avatar,{active:!0,size:"large",shape:"square"})}),Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(G.a,{title:!1,paragraph:{rows:2},active:!0})}),Object(e.jsxs)(p.a,{children:[Object(e.jsx)("span",{className:"show-over-500",children:Object(e.jsx)(G.a.Button,{style:{width:100}})}),Object(e.jsx)("span",{className:"hide-over-500",children:Object(e.jsx)(G.a.Button,{style:{width:32}})})]})]})})},t))})}function Be(){const{searchTerm:t,rearranging:n}=Object(c.useValues)(r.b),{setSearchTerm:a}=Object(c.useActions)(r.b);return Object(e.jsx)(N.LemonInput,{type:"search","data-attr":"plugins-search",placeholder:"Start typing to search for an app",autoFocus:!0,value:t||"",onChange:a,disabled:n})}var J=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CaretDownOutlined.js"),U=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CaretRightOutlined.js");let S;(function(t){t.Official="official",t.Community="community"})(S||(S={}));function cn(){const{repositoryLoading:t,filteredUninstalledPlugins:n}=Object(c.useValues)(r.b),[a,l]=Object(Y.useState)([S.Official,S.Community]),i=n.filter(o=>o.maintainer==="official"),u=n.filter(o=>o.maintainer==="community"),O=o=>{if(a.includes(o)){l(a.filter(v=>o!==v));return}l([...a,o])};return Object(e.jsxs)("div",{children:[Object(e.jsx)(P.b,{subtitle:"App Repository"}),Object(e.jsx)(Be,{}),Object(e.jsx)("div",{children:(!t||n.length>0)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)(h.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:()=>O(S.Official),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[a.includes(S.Official)?Object(e.jsx)(J.a,{}):Object(e.jsx)(U.a,{}),` Official apps (${i.length})`]})})}),a.includes(S.Official)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(p.a,{span:24,children:i.length>0?"Official apps are built and maintained by the PostHog team.":"You have already installed all official apps!"}),Object(e.jsx)("br",{}),i.map(o=>Object(e.jsx)(B,{plugin:{name:o.name,url:o.url,icon:o.icon,description:o.description},maintainer:o.maintainer},o.url))]})]}),Object(e.jsxs)(h.a,{gutter:16,style:{marginTop:16,display:"block"},children:[Object(e.jsx)("div",{className:"plugins-repository-tab-section-header",onClick:()=>O(S.Community),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[a.includes(S.Community)?Object(e.jsx)(J.a,{}):Object(e.jsx)(U.a,{}),` Community apps (${u.length})`]})})}),a.includes(S.Community)&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(p.a,{span:24,children:u.length>0?Object(e.jsxs)("span",{children:["Community apps are not built nor maintained by the PostHog team."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",rel:"noopener",children:"Anyone, including you, can build an app."})]}):"You have already installed all community apps!"}),Object(e.jsx)("br",{}),u.map(o=>Object(e.jsx)(B,{plugin:{name:o.name,url:o.url,icon:o.icon,description:o.description},maintainer:o.maintainer},o.url))]})]})]})}),t&&n.length===0&&Object(e.jsx)(h.a,{gutter:16,children:Object(e.jsx)(Ne,{})})]})}var dn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/checkbox/index.js"),un=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/input/Search.js"),gn=s.n(un),pn=s("./frontend/src/lib/components/ResizableTable/index.tsx"),V=s("./frontend/src/types.ts"),Ue=s("./frontend/src/scenes/plugins/plugin/pluginLogsLogic.ts");function jn(t){let n;switch(t){case V.L.Debug:n="var(--muted)";break;case V.L.Log:n="var(--default)";break;case V.L.Info:n="var(--blue)";break;case V.L.Warn:n="var(--warning)";break;case V.L.Error:n="var(--danger)";break;default:break}return Object(e.jsx)("span",{style:{color:n},children:t})}const mn=[{title:"Timestamp",key:"timestamp",dataIndex:"timestamp",span:3,render:t=>Object(Ee.a)(t).format("YYYY-MM-DD HH:mm:ss.SSS UTC")},{title:"Source",key:"source",dataIndex:"source",span:1},{title:"Type",key:"type",dataIndex:"type",span:1,render:jn},{title:"Message",key:"message",dataIndex:"message",span:6}];function oe(t){let{pluginConfigId:n}=t;const a=Object(Ue.b)({pluginConfigId:n}),{pluginLogs:l,pluginLogsLoading:i,pluginLogsBackground:u,isThereMoreToLoad:O,pluginLogsTypes:o}=Object(c.useValues)(a),{revealBackground:v,loadPluginLogsMore:j,setPluginLogsTypes:R,setSearchTerm:y}=Object(c.useActions)(a);return Object(e.jsxs)($.b,{direction:"vertical",style:{flexGrow:1},className:"ph-no-capture plugin-logs",children:[Object(e.jsx)(h.a,{children:Object(e.jsx)(gn.a,{loading:i,onSearch:y,placeholder:"Search for messages containing\u2026",allowClear:!0})}),Object(e.jsx)(h.a,{children:Object(e.jsxs)($.b,{children:[Object(e.jsx)("span",{children:"Show logs of type:\xA0"}),Object(e.jsx)(dn.a.Group,{options:Object.values(V.L),value:o,onChange:R,style:{marginLeft:"8px"}})]})}),Object(e.jsx)(h.a,{children:Object(e.jsx)(m.a,{onClick:v,loading:i,style:{flexGrow:1},disabled:!u.length,icon:Object(e.jsx)(Ae.a,{}),children:u.length?`Load ${Object(Re.vb)(u.length,"newer entry","newer entries")}`:"No new entries"})}),Object(e.jsx)(pn.b,{dataSource:l,columns:mn,loading:i,size:"small",className:"ph-no-capture",rowKey:"id",style:{flexGrow:1,whiteSpace:"pre-wrap",overflowWrap:"anywhere"},pagination:{pageSize:200,hideOnSinglePage:!0}}),!!l.length&&Object(e.jsx)(h.a,{children:Object(e.jsx)(m.a,{onClick:j,loading:i,style:{flexGrow:1},disabled:!O,children:O?`Load up to ${Ue.a} older entries`:"No older entries"})})]})}try{oe.displayName="PluginLogs",oe.__docgenInfo={description:"",displayName:"PluginLogs",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"]={docgenInfo:oe.__docgenInfo,name:"PluginLogs",path:"frontend/src/scenes/plugins/plugin/PluginLogs.tsx#PluginLogs"})}catch(t){}var bn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/drawer/index.js");function hn(){const{showingLogsPlugin:t,lastShownLogsPlugin:n}=Object(c.useValues)(r.b),{hidePluginLogs:a}=Object(c.useActions)(r.b);return Object(e.jsx)(bn.a,{visible:!!t,onClose:a,width:"min(90vw, 80rem)",title:`Viewing App Logs: ${n==null?void 0:n.name}`,placement:"left",destroyOnClose:!0,children:!!(n!=null&&n.pluginConfig.id)&&Object(e.jsx)(oe,{pluginConfigId:n.pluginConfig.id})})}var On=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/empty/index.js");function xn(){const{setPluginTab:t}=Object(c.useActions)(r.b),{loading:n}=Object(c.useValues)(r.b),{user:a}=Object(c.useValues)(W.a);return Object(e.jsx)(e.Fragment,{children:n?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[" ",Object(e.jsx)(U.a,{})," ","Enabled apps"," "]}),buttons:Object(e.jsx)(G.a.Button,{style:{width:150}})}),Object(e.jsx)(Ne,{})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(P.b,{subtitle:"Installed apps"}),Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:Object(e.jsx)(p.a,{span:24,children:Object(e.jsx)(On.a,{description:Object(e.jsx)("span",{children:"You haven't installed any apps yet"}),children:Object(E.b)(a==null?void 0:a.organization)&&Object(e.jsx)(m.a,{type:"default",onClick:()=>t(x.c.Repository),children:"Open the App Repository"})})})})]})})}function I(t){let{plugin:n,showUpdateButton:a,order:l,maxOrder:i,rearranging:u,DragColumn:O,unorderedPlugin:o=!1}=t;return Object(e.jsx)(B,{plugin:n,showUpdateButton:a,order:l,maxOrder:i,rearranging:u,DragColumn:O,unorderedPlugin:o},n.id)}try{I.displayName="InstalledPlugin",I.__docgenInfo={description:"",displayName:"InstalledPlugin",props:{plugin:{defaultValue:null,description:"",name:"plugin",required:!0,type:{name:"PluginTypeWithConfig"}},showUpdateButton:{defaultValue:null,description:"",name:"showUpdateButton",required:!1,type:{name:"boolean"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"number"}},maxOrder:{defaultValue:null,description:"",name:"maxOrder",required:!1,type:{name:"number"}},rearranging:{defaultValue:null,description:"",name:"rearranging",required:!1,type:{name:"boolean"}},DragColumn:{defaultValue:null,description:"",name:"DragColumn",required:!1,type:{name:"ComponentClass<{}, any> | FC<{}>"}},unorderedPlugin:{defaultValue:{value:"false"},description:"",name:"unorderedPlugin",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"]={docgenInfo:I.__docgenInfo,name:"InstalledPlugin",path:"frontend/src/scenes/plugins/tabs/installed/InstalledPlugin.tsx#InstalledPlugin"})}catch(t){}function yn(){const{filteredDisabledPlugins:t,sectionsOpen:n,disabledPlugins:a}=Object(c.useValues)(r.b),{toggleSectionOpen:l}=Object(c.useActions)(r.b);return a.length===0?Object(e.jsx)(e.Fragment,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>l(r.a.Disabled),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[n.includes(r.a.Disabled)?Object(e.jsx)(J.a,{}):Object(e.jsx)(U.a,{}),` Installed apps (${t.length})`]})})}),n.includes(r.a.Disabled)?Object(e.jsx)(e.Fragment,{children:t.length>0?Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:t.map(i=>Object(e.jsx)(I,{plugin:i},i.id))}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):null]})}var fn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SyncOutlined.js");function vn(){const{checkForUpdates:t,toggleSectionOpen:n}=Object(c.useActions)(r.b),{sectionsOpen:a}=Object(c.useValues)(r.b),{user:l}=Object(c.useValues)(W.a),{filteredPluginsNeedingUpdates:i,pluginsNeedingUpdates:u,checkingForUpdates:O,installedPluginUrls:o,updateStatus:v,rearranging:j,hasUpdatablePlugins:R}=Object(c.useValues)(r.b),y=Object(E.c)(l==null?void 0:l.organization)&&R&&Object(e.jsx)(m.a,{type:"default",icon:u.length>0?Object(e.jsx)(fn.a,{}):Object(e.jsx)(M.a,{}),onClick:z=>{z.stopPropagation(),t(!0)},loading:O,children:O?`Checking app ${Object.keys(v).length+1} out of ${Object.keys(o).length}`:u.length>0?"Check again for updates":"Check for updates"});return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>n(r.a.Upgrade),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[a.includes(r.a.Upgrade)?Object(e.jsx)(J.a,{}):Object(e.jsx)(U.a,{}),` Apps to update (${i.length})`]}),buttons:!j&&y})}),a.includes(r.a.Upgrade)?Object(e.jsx)(e.Fragment,{children:u.length>0?Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:i.length>0?Object(e.jsx)(e.Fragment,{children:i.map(z=>Object(e.jsx)(I,{plugin:z,showUpdateButton:!0},z.id))}):Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."})}):Object(e.jsx)("p",{style:{margin:10},children:"All your apps are up to date. Great work!"})}):null]})}var Cn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/SaveOutlined.js"),Pn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),Sn=s("./node_modules/.pnpm/@ant-design+icons@4.7.0_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/@ant-design/icons/es/icons/OrderedListOutlined.js"),Oe=s("./node_modules/.pnpm/react-sortable-hoc@1.11.0_ccrd4luiijsxnlhe6bgkvyy2z4/node_modules/react-sortable-hoc/dist/react-sortable-hoc.esm.js");const Tn=Object(Oe.c)(t=>{let{children:n}=t;return Object(e.jsx)(p.a,{className:"order-handle",children:n})}),Ln=Object(Oe.b)(t=>{let{plugin:n,order:a,maxOrder:l,rearranging:i}=t;return Object(e.jsx)(I,{plugin:n,order:a,maxOrder:l,rearranging:i,DragColumn:Tn})}),wn=Object(Oe.a)(t=>{let{children:n}=t;return Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:n})});function An(){const{user:t}=Object(c.useValues)(W.a),{rearrange:n,setTemporaryOrder:a,cancelRearranging:l,savePluginOrders:i,makePluginOrderSaveable:u,toggleSectionOpen:O}=Object(c.useActions)(r.b),{enabledPlugins:o,filteredEnabledPlugins:v,sortableEnabledPlugins:j,unsortableEnabledPlugins:R,rearranging:y,loading:z,temporaryOrder:ve,pluginOrderSaveable:b,searchTerm:ce,sectionsOpen:w}=Object(c.useValues)(r.b),d=Object(E.a)(t==null?void 0:t.organization)&&j.length>1,Q=y?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.a,{type:"primary",icon:Object(e.jsx)(Cn.a,{}),loading:z,onClick:g=>{g.stopPropagation(),i(ve)},disabled:!b,children:"Save order"}),Object(e.jsx)(m.a,{type:"default",icon:Object(e.jsx)(Pn.a,{}),onClick:g=>{l(),g.stopPropagation()},children:"Cancel"})]}):Object(e.jsx)(f.a,{title:o.length<=1?"At least two apps need to be enabled for reordering.":Object(e.jsx)(e.Fragment,{children:ce?"Editing the order of apps is disabled when searching.":Object(e.jsxs)(e.Fragment,{children:["Order matters because event processing with apps works like a pipe: the event is processed by every enabled app ",Object(e.jsx)("b",{children:"in sequence"}),"."]})}),placement:"top",children:Object(e.jsx)(m.a,{icon:Object(e.jsx)(Sn.a,{}),onClick:g=>{g.stopPropagation(),n()},disabled:!!ce||j.length<=1,children:"Edit order"})}),X=g=>{var T;let{oldIndex:Z,newIndex:de}=g;if(Z===de)return;const Ce=(q,_,Se)=>{const ee=[...q];return Array.prototype.splice.call(ee,Se,0,Array.prototype.splice.call(ee,_,1)[0]),ee.map((ge,pe)=>{let{id:Te}=ge;return{id:Te,order:pe+1}})},Pe=(T=o[Z])===null||T===void 0?void 0:T.id,ue={};for(const{id:q,order:_}of Ce(o,Z,de))ue[q]=_;y||n(),a(ue,Pe)},A=()=>Object(e.jsx)("div",{className:"plugins-installed-tab-section-header",onClick:()=>O(r.a.Enabled),children:Object(e.jsx)(P.b,{subtitle:Object(e.jsxs)(e.Fragment,{children:[w.includes(r.a.Enabled)?Object(e.jsx)(J.a,{}):Object(e.jsx)(U.a,{}),` Enabled apps (${v.length})`,y&&w.includes(r.a.Enabled)&&Object(e.jsx)(C.a,{color:"red",style:{fontWeight:"normal",marginLeft:10},children:"Reordering in progress"})]}),buttons:Object(e.jsx)($.b,{children:w.includes(r.a.Enabled)&&Q})})});return o.length===0?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(A,{}),w.includes(r.a.Enabled)&&Object(e.jsx)("p",{style:{margin:10},children:"No apps enabled."})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(A,{}),w.includes(r.a.Enabled)&&Object(e.jsxs)(e.Fragment,{children:[j.length===0&&R.length===0&&Object(e.jsx)("p",{style:{margin:10},children:"No apps match your search."}),d||y?Object(e.jsx)(e.Fragment,{children:j.length>0&&Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(wn,{useDragHandle:!0,onSortEnd:X,onSortOver:u,children:j.map((g,T)=>Object(e.jsx)(Ln,{plugin:g,index:T,order:T+1,maxOrder:o.length,rearranging:y},g.id))})})}):Object(e.jsx)(h.a,{gutter:16,style:{marginTop:16},children:j.length>0&&Object(e.jsx)(e.Fragment,{children:j.map((g,T)=>Object(e.jsx)(I,{plugin:g,order:T+1,maxOrder:v.length},g.id))})}),R.map(g=>Object(e.jsx)(I,{plugin:g,maxOrder:o.length,rearranging:y,unorderedPlugin:!0},g.id))]})]})}function kn(){const{installedPlugins:t}=Object(c.useValues)(r.b);return t.length===0?Object(e.jsx)(xn,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{children:[Object(e.jsx)(Be,{}),Object(e.jsx)(vn,{}),Object(e.jsx)(An,{}),Object(e.jsx)(yn,{})]}),Object(e.jsx)(hn,{})]})}var Ve=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/tabs/index.js"),En=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/alert/index.js"),xe=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/es/input/index.js"),In=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/typography/Title.js"),ye=s.n(In),Rn=s("./node_modules/.pnpm/antd@4.17.1_wcqkhtmu7mswc6yz4uyexck3ty/node_modules/antd/lib/typography/Paragraph.js"),fe=s.n(Rn);function zn(){const{sourcePluginName:t,pluginError:n,loading:a}=Object(c.useValues)(r.b),{setSourcePluginName:l,installPlugin:i}=Object(c.useActions)(r.b);return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(K.a,{children:[Object(e.jsx)(ye.a,{level:5,children:"App editor"}),Object(e.jsxs)(fe.a,{children:["Write your app directly in PostHog."," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps",target:"_blank",children:"Read the documentation for more information!"})]}),Object(e.jsxs)(h.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(xe.a,{value:t,disabled:a,onChange:u=>l(u.target.value),placeholder:'For example: "Hourly Weather Sync App"'})}),Object(e.jsx)(p.a,{children:Object(e.jsx)(m.a,{disabled:a||!t,loading:a,type:"default",onClick:()=>i(t,x.a.Source),children:"Start coding"})})]}),n?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:n}):null]})})}function Nn(){const{customPluginUrl:t,pluginError:n,loading:a}=Object(c.useValues)(r.b),{setCustomPluginUrl:l,installPlugin:i}=Object(c.useActions)(r.b);return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(K.a,{children:[Object(e.jsx)(ye.a,{level:5,children:"Install from GitHub, GitLab or npm"}),Object(e.jsxs)(fe.a,{children:["To install a third-party or custom app, paste its URL below. For"," ",Object(e.jsx)("a",{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", ",Object(e.jsx)("a",{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",rel:"noopener noreferrer",children:"GitLab"})," and ",Object(e.jsx)("a",{href:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",rel:"noopener noreferrer",children:"npm"})," ","private repositories, append ",Object(e.jsx)("code",{children:"?private_token=TOKEN"})," to the end of the URL.",Object(e.jsx)("br",{}),Object(e.jsx)("b",{className:"text-warning",children:"Warning: Only install apps from trusted sources."})]}),Object(e.jsxs)(h.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(xe.a,{value:t,disabled:a,onChange:u=>l(u.target.value),placeholder:"https://github.com/user/repo"})}),Object(e.jsx)(p.a,{children:Object(e.jsx)(m.a,{disabled:a||!t,loading:a,type:"default",onClick:()=>i(t,x.a.Custom),children:"Fetch and install"})})]}),n?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:n}):null]})})}function Bn(){const{localPluginUrl:t,pluginError:n,loading:a}=Object(c.useValues)(r.b),{setLocalPluginUrl:l,installPlugin:i}=Object(c.useActions)(r.b);return Object(e.jsx)("div",{style:{marginTop:16},children:Object(e.jsxs)(K.a,{children:[Object(e.jsx)(ye.a,{level:5,children:"Install Local App"}),Object(e.jsx)(fe.a,{children:"To install a local app from this computer/server, give its full path below."}),Object(e.jsxs)(h.a,{style:{width:"100%"},gutter:16,children:[Object(e.jsx)(p.a,{style:{flex:1},children:Object(e.jsx)(xe.a,{value:t,disabled:a,onChange:u=>l(u.target.value),placeholder:"/var/posthog/plugins/helloworldplugin"})}),Object(e.jsx)(p.a,{children:Object(e.jsx)(m.a,{disabled:a||!t,loading:a,type:"default",onClick:()=>i(t,x.a.Local),children:"Install"})})]}),n?Object(e.jsx)("p",{style:{color:"var(--red)",marginTop:10},children:n}):null]})})}var Un=s("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function Vn(){const{preflight:t}=Object(c.useValues)(Un.a),{setPluginTab:n}=Object(c.useActions)(r.b);return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(En.a,{message:"Advanced features ahead",description:Object(e.jsxs)(e.Fragment,{children:["Create and install your ",Object(e.jsx)("b",{children:"own apps"})," or apps from ",Object(e.jsx)("b",{children:"third-parties"}),". If you're looking for officially supported apps, try the"," ",Object(e.jsx)("a",{href:"#",onClick:a=>{a.preventDefault(),n(x.c.Repository)},children:"App Repository"}),"."]}),type:"warning",showIcon:!0}),Object(e.jsx)(P.b,{subtitle:"Advanced Options"}),Object(e.jsx)(zn,{}),Object(e.jsx)(Nn,{}),t&&!t.cloud&&Object(e.jsx)(Bn,{})]})}var Fn=s("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),Dn=s("./frontend/src/lib/components/ActivityLog/humanizeActivity.tsx");const Yn={component:Fe,logic:r.b},$n=()=>Object(e.jsx)(N.LemonTag,{type:"warning",className:"uppercase",style:{verticalAlign:"0.125em",marginLeft:6},children:"BETA"});function Fe(){const{user:t}=Object(c.useValues)(W.a),{pluginTab:n}=Object(c.useValues)(r.b),{setPluginTab:a}=Object(c.useActions)(r.b),{TabPane:l}=Ve.a;return Object(Y.useEffect)(()=>{Object(E.d)(t==null?void 0:t.organization)||(window.location.href="/")},[t]),!t||!Object(E.d)(t==null?void 0:t.organization)?null:Object(e.jsxs)("div",{className:"plugins-scene",children:[Object(e.jsx)(P.a,{title:"Apps",caption:Object(e.jsxs)(e.Fragment,{children:["Apps enable you to extend PostHog's core data processing functionality.",Object(e.jsx)("br",{}),"Make use of verified apps from the"," ",Object(e.jsx)("a",{href:"https://posthog.com/apps",target:"_blank",children:"App Library"})," ","\u2013 or"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/apps/build",target:"_blank",children:"build your own"}),"."]})}),Object(e.jsxs)(Ve.a,{"data-attr":"apps-tabs",activeKey:n,onChange:i=>a(i),children:[Object(e.jsx)(l,{tab:"Installed",children:Object(e.jsx)(kn,{})},x.c.Installed),Object(E.b)(t.organization)?Object(e.jsx)(l,{tab:"Repository",children:Object(e.jsx)(cn,{})},x.c.Repository):null,Object(e.jsx)(l,{tab:Object(e.jsxs)(e.Fragment,{children:["History ",Object(e.jsx)($n,{})," "]}),children:Object(e.jsx)(Fn.a,{scope:Dn.a.PLUGIN})},x.c.History),Object(E.c)(t.organization)?Object(e.jsx)(l,{tab:"Advanced",children:Object(e.jsx)(Vn,{})},x.c.Advanced):null]}),Object(e.jsx)(Ke.a,{})]})}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_dhonik3q6ff6ozbzdscnovq2ka/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0+webpack@4.46.0/node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/plugins/Plugins.scss":function(ne,L,s){var F=s("./node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/runtime/api.js");L=F(!1),L.push([ne.i,".plugins-scene{padding-bottom:60px}.plugins-installed-tab-section-header:hover,.plugins-repository-tab-section-header:hover{cursor:pointer}.plugins-repository-tab-section-header{margin-left:5px}.plugin-capabilities-tag{cursor:default}.plugins-scene-plugin-card>.ant-card-body{padding:15px}.plugins-scene-plugin-card .plugin-card-row>.ant-col{margin-right:14px}.plugins-scene-plugin-card .plugin-card-row>.ant-col:last-child{margin-right:0}.plugins-scene-plugin-card a.plugin-title-link{color:var(--color-text)}.plugins-scene-plugin-card a.plugin-title-link:hover{text-decoration:underline}.plugins-scene-plugin-card .plugin-image{width:60px;height:60px;display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;border:none;padding:4px}.plugins-scene-plugin-card .order-handle{cursor:move;text-align:center;height:100%;margin-top:-10px;margin-bottom:-10px}.plugins-scene-plugin-card .order-handle .ant-tag{margin-right:0;cursor:move}.plugins-scene-plugin-card .order-handle .arrow{color:#888;height:19px}.plugins-scene-plugin-card .hide-over-500{display:none}@media(max-width:500px){.plugins-scene-plugin-card .show-over-500{display:none}.plugins-scene-plugin-card .hide-over-500{display:inline-block}.plugins-scene-plugin-card button.ant-btn.padding-under-500{padding:4px 8px}.plugins-scene-plugin-card .hide-plugin-image-below-500{display:none}}.plugins-popconfirm{z-index:var(--z-plugins-popconfirm)}.plugin-job-json-editor{border:1px solid #efefef}.plugin-run-job-button{color:var(--success);cursor:pointer}.plugin-run-job-button-disabled{color:#9a9a9a;cursor:default}",""]),ne.exports=L}}]);
