(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[6067],{"../../frontend/src/scenes/project-homepage/ProjectHomepage.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ProjectHomepage:()=>ProjectHomepage_ProjectHomepage,scene:()=>scene}),__webpack_require__("../../frontend/src/scenes/project-homepage/ProjectHomepage.scss");var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.4.1_kea@3.1.7_react@18.2.0_/node_modules/kea-router/lib/index.js"),posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.35.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),SceneDashboardChoiceModal=__webpack_require__("../../frontend/src/lib/components/SceneDashboardChoice/SceneDashboardChoiceModal.tsx"),SceneIcon=__webpack_require__("../../frontend/src/lib/components/SceneDashboardChoice/SceneIcon.tsx"),sceneDashboardChoiceModalLogic=__webpack_require__("../../frontend/src/lib/components/SceneDashboardChoice/sceneDashboardChoiceModalLogic.ts"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function SceneDashboardChoiceRequired(props){return(0,jsx_runtime.jsxs)("div",{className:"empty-state-container flex flex-col items-center",children:[(0,jsx_runtime.jsxs)("h1",{children:[(0,jsx_runtime.jsx)(SceneIcon.m,{scene:props.scene,size:"large"})," There isn’t a"," ",props.scene===sceneTypes.x.ProjectHomepage?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"default "}):null,"dashboard set for"," ",sceneDashboardChoiceModalLogic.o[props.scene]]}),props.scene===sceneTypes.x.ProjectHomepage?(0,jsx_runtime.jsx)("p",{className:"mb-4",children:"Default dashboards are shown to everyone in the project. When you set a default, it’ll show up here."}):null,(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary","data-attr":`${props.scene}-choose-dashboard-from-empty`,onClick:props.open,children:"Select a dashboard"})]})}var constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),Dashboard=__webpack_require__("../../frontend/src/scenes/dashboard/Dashboard.tsx"),dashboardLogic=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardLogic.tsx"),NewTabScene=__webpack_require__("../../frontend/src/scenes/new-tab/NewTabScene.tsx"),projectHomepageLogic=__webpack_require__("../../frontend/src/scenes/project-homepage/projectHomepageLogic.tsx"),inviteLogic=__webpack_require__("../../frontend/src/scenes/settings/organization/inviteLogic.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),SceneContent=__webpack_require__("../../frontend/src/layout/scenes/components/SceneContent.tsx"),SceneDivider=__webpack_require__("../../frontend/src/layout/scenes/components/SceneDivider.tsx"),SceneTitleSection=__webpack_require__("../../frontend/src/layout/scenes/components/SceneTitleSection.tsx"),types=__webpack_require__("../../frontend/src/types.ts");let scene={component:ProjectHomepage_ProjectHomepage,logic:projectHomepageLogic.I};function HomePageContent(){var _dashboard$name;let{dashboardLogicProps}=(0,index_esm.useValues)(projectHomepageLogic.I),{showInviteModal}=(0,index_esm.useActions)(inviteLogic.n),{showSceneDashboardChoiceModal}=(0,index_esm.useActions)((0,sceneDashboardChoiceModalLogic.F)({scene:sceneTypes.x.ProjectHomepage})),{dashboard}=(0,index_esm.useValues)((0,dashboardLogic.BM)(dashboardLogicProps)),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),aaTestBayesianLegacy=featureFlags[constants.y8.AA_TEST_BAYESIAN_LEGACY],aaTestBayesianNew=featureFlags[constants.y8.AA_TEST_BAYESIAN_NEW],personReadTestFlag=featureFlags[constants.y8.PERSON_READ_TEST_FLAG];return(0,jsx_runtime.jsxs)(SceneContent._,{className:"ProjectHomepage",children:[(0,jsx_runtime.jsxs)("span",{className:"hidden","data-attr":"aa-test-flag-result",children:["AA test flag result: ",String(aaTestBayesianLegacy)," ",String(aaTestBayesianNew)]}),personReadTestFlag&&(0,jsx_runtime.jsxs)("span",{className:"hidden","data-attr":"person-read-test-flag-active",children:["Person read test flag is active: ",String(personReadTestFlag)]}),(0,jsx_runtime.jsx)(SceneTitleSection.s,{name:null!==(_dashboard$name=dashboard?.name)&&void 0!==_dashboard$name?_dashboard$name:"Project Homepage",resourceType:{type:"project",forceIcon:(0,jsx_runtime.jsx)(posthog_icons_es.IconHome,{})},actions:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",size:"small","data-attr":"project-home-edit-dashboard",onClick:()=>{var _dashboard$id;lib.router.actions.push(urls.j.dashboard(null!==(_dashboard$id=dashboard?.id)&&void 0!==_dashboard$id?_dashboard$id:""))},children:"View dashboard"}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"secondary",size:"small","data-attr":"project-home-customize-homepage",onClick:showSceneDashboardChoiceModal,children:"Customize homepage"}),(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"project-home-invite-team-members",onClick:()=>{showInviteModal()},type:"secondary",size:"small",children:"Invite members"})]})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(SceneDivider.V,{}),dashboardLogicProps?(0,jsx_runtime.jsx)(Dashboard.Dashboard,{id:dashboardLogicProps.id.toString(),placement:types.F4.ProjectHomepage}):(0,jsx_runtime.jsx)(SceneDashboardChoiceRequired,{open:()=>{showSceneDashboardChoiceModal()},scene:sceneTypes.x.ProjectHomepage})]}),(0,jsx_runtime.jsx)(SceneDashboardChoiceModal.q,{scene:sceneTypes.x.ProjectHomepage})]})}function ProjectHomepage_ProjectHomepage(){let{dashboardLogicProps}=(0,index_esm.useValues)(projectHomepageLogic.I);return dashboardLogicProps?.id?(0,jsx_runtime.jsx)("div",{className:"p-4",children:(0,jsx_runtime.jsx)(HomePageContent,{})}):(0,jsx_runtime.jsx)(NewTabScene.NewTabScene,{source:"homepage"})}},"../../frontend/src/scenes/project-homepage/projectHomepageLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>projectHomepageLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.7_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.1.1_kea@3.1.7_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),kea_subscriptions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea-subscriptions@3.0.1_kea@3.1.7_react@18.2.0_/node_modules/kea-subscriptions/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/api.ts"),scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/dashboard/dashboardLogic.tsx"),scenes_max_maxTypes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/scenes/max/maxTypes.ts"),scenes_projectLogic__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../frontend/src/scenes/projectLogic.ts"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/utils.ts"),_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/types.ts");let projectHomepageLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","project-homepage","projectHomepageLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__.teamLogic,["currentTeam"],scenes_projectLogic__WEBPACK_IMPORTED_MODULE_6__.K,["currentProjectId"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({primaryDashboardId:[()=>[scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__.teamLogic.selectors.currentTeam],currentTeam=>currentTeam?.primary_dashboard],dashboardLogicProps:[s=>[s.primaryDashboardId],primaryDashboardId=>primaryDashboardId?{id:primaryDashboardId,placement:_types__WEBPACK_IMPORTED_MODULE_9__.F4.ProjectHomepage}:null],maxContext:[s=>[state=>{let dashboardLogicProps=s.dashboardLogicProps(state);if(!dashboardLogicProps)return null;let logic=scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_4__.BM.findMounted(dashboardLogicProps);return logic?logic.selectors.dashboard(state):null}],dashboard=>dashboard?[scenes_max_maxTypes__WEBPACK_IMPORTED_MODULE_5__.s.dashboard(dashboard)]:[]],breadcrumbs:[()=>[],()=>[{key:"home",name:"Home",iconType:"home"}]]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)(_ref=>{let{values}=_ref;return{recentInsights:[[],{loadRecentInsights:async()=>(await lib_api__WEBPACK_IMPORTED_MODULE_3__.ZP.get(`api/environments/${values.currentProjectId}/insights/my_last_viewed`)).map(legacyInsight=>(0,_queries_nodes_InsightViz_utils__WEBPACK_IMPORTED_MODULE_8__.Q0)(legacyInsight))}]}}),(0,kea_subscriptions__WEBPACK_IMPORTED_MODULE_2__.Vt)(_ref2=>{let{cache}=_ref2;return{dashboardLogicProps:dashboardLogicProps=>{if(dashboardLogicProps){let unmount=(0,scenes_dashboard_dashboardLogic__WEBPACK_IMPORTED_MODULE_4__.BM)(dashboardLogicProps).mount();cache.unmountDashboardLogic?.(),cache.unmountDashboardLogic=unmount}else cache.unmountDashboardLogic&&(cache.unmountDashboardLogic?.(),cache.unmountDashboardLogic=null)}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.beforeUnmount)(_ref3=>{let{cache}=_ref3;cache.unmountDashboardLogic?.(),cache.unmountDashboardLogic=null})])},"../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/project-homepage/ProjectHomepage.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".ProjectHomepage{container-type:inline-size}.ProjectHomepage .ProjectHomepage__dashboardheader{align-items:center;display:flex;justify-content:space-between;margin-top:1rem}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title{align-items:center;display:flex;flex-direction:row}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a{color:var(--text-3000)}.ProjectHomepage .ProjectHomepage__dashboardheader .ProjectHomepage__dashboardheader__title a:hover{color:var(--color-accent)}.ProjectHomepage .ProjectHomepage__lists{display:flex;gap:1rem}@container (max-width: 800px){.ProjectHomepage .ProjectHomepage__lists{flex-direction:column}}.ProjectHomepage .empty-state-container{align-items:center;background-color:var(--color-bg-primary);display:flex;flex-direction:column;justify-content:center;padding:4rem;width:100%}",""]),module.exports=exports},"../../frontend/src/scenes/project-homepage/ProjectHomepage.scss":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!../../node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.5.6_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!../../node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!../../frontend/src/scenes/project-homepage/ProjectHomepage.scss"),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1__),options={};options.insert="head",options.singleton=!1,_node_modules_pnpm_style_loader_2_0_0_webpack_5_88_2_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default(),options),_node_modules_pnpm_css_loader_3_6_0_webpack_5_88_2_node_modules_css_loader_dist_cjs_js_node_modules_pnpm_postcss_loader_4_3_0_postcss_8_5_6_webpack_5_88_2_node_modules_postcss_loader_dist_cjs_js_node_modules_pnpm_sass_loader_10_3_1_sass_1_56_0_webpack_5_88_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_3_ProjectHomepage_scss__WEBPACK_IMPORTED_MODULE_1___default().locals}}]);