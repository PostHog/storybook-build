"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[10894],{"../../products/llm_observability/frontend/LLMObservabilityTraceScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LLMObservabilityTraceScene:()=>LLMObservabilityTraceScene,renderModelRow:()=>renderModelRow,scene:()=>scene});var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.21.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),classnames=__webpack_require__("../../node_modules/.pnpm/classnames@2.5.1/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),clsx_m=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),JSONViewer=__webpack_require__("../../frontend/src/lib/components/JSONViewer.tsx"),NotFound=__webpack_require__("../../frontend/src/lib/components/NotFound/index.tsx"),constants=__webpack_require__("../../frontend/src/lib/constants.tsx"),icons=__webpack_require__("../../frontend/src/lib/lemon-ui/icons/index.ts"),featureFlagLogic=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx"),css_classes=__webpack_require__("../../frontend/src/lib/utils/css-classes.ts"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),EmptyStates=__webpack_require__("../../frontend/src/scenes/insights/EmptyStates/index.ts"),PersonDisplay=__webpack_require__("../../frontend/src/scenes/persons/PersonDisplay.tsx"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),CopyToClipboard=__webpack_require__("../../frontend/src/lib/components/CopyToClipboard.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function FeedbackTag(_ref){let{properties}=_ref,{$ai_feedback_text:feedbackText}=properties,feedbackPreview="string"==typeof feedbackText?feedbackText.slice(0,5):"",text=feedbackText||"No feedback provided";return(0,jsx_runtime.jsx)(src.oe,{className:"bg-surface-primary cursor-default",children:(0,jsx_runtime.jsx)(CopyToClipboard.D,{iconSize:"xsmall",description:"user feedback",tooltipMessage:text,explicitValue:String(feedbackText),children:`User feedback${feedbackPreview?`: ${feedbackPreview}...`:""}`})})}function MetricTag(_ref){let{properties}=_ref,{$ai_metric_name:metricName,$ai_metric_value:metricValue}=properties,strValue=String(metricValue),isValueLong=strValue.length>10,name=metricName?(0,utils.UV)(metricName):"Metric",value=isValueLong?`${strValue.slice(0,10)}...`:strValue,title=`${name}: ${value}`,description=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[metricName&&(0,jsx_runtime.jsxs)("span",{children:["Metric: ",metricName,(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{})]}),metricValue,(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("span",{children:"Click to copy the value"})]});return(0,jsx_runtime.jsx)(src.oe,{className:"bg-surface-primary cursor-default",children:(0,jsx_runtime.jsx)(CopyToClipboard.D,{iconSize:"xsmall",description:"metric",explicitValue:strValue,tooltipMessage:isValueLong?description:"Click to copy the value",children:title})})}var ConversationMessagesDisplay=__webpack_require__("../../products/llm_observability/frontend/ConversationDisplay/ConversationMessagesDisplay.tsx"),MetadataHeader=__webpack_require__("../../products/llm_observability/frontend/ConversationDisplay/MetadataHeader.tsx");function ParametersHeader(_ref){let{eventProperties}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex flex-row flex-wrap gap-2",children:eventProperties.$ai_model_parameters&&Object.entries(eventProperties.$ai_model_parameters).map(_ref2=>{let[key,value]=_ref2;return null!==value&&(0,jsx_runtime.jsxs)(src.oe,{type:"muted",children:[key,": ",`${value}`]},key)})})}var LLMInputOutput=__webpack_require__("../../products/llm_observability/frontend/LLMInputOutput.tsx"),llmObservabilityPlaygroundLogic=__webpack_require__("../../products/llm_observability/frontend/llmObservabilityPlaygroundLogic.ts"),dataNodeLogic=__webpack_require__("../../frontend/src/queries/nodes/DataNode/dataNodeLogic.ts"),InsightViz=__webpack_require__("../../frontend/src/queries/nodes/InsightViz/InsightViz.tsx"),llmObservabilityTraceLogic=__webpack_require__("../../products/llm_observability/frontend/llmObservabilityTraceLogic.ts");function getDataNodeLogicProps(_ref){let{traceId,query,cachedResults}=_ref,insightProps={dashboardItemId:`new-Trace.${traceId}`,dataNodeCollectionId:traceId},vizKey=(0,InsightViz.gG)(insightProps);return{query:query.source,key:vizKey,dataNodeCollectionId:traceId,cachedResults:cachedResults||void 0}}let FEEDBACK_EVENTS=new Set(["$ai_feedback","$ai_metric"]),llmObservabilityTraceDataLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","llm-observability","llmObservabilityTraceLogic"]),(0,index_esm.props)({}),(0,index_esm.connect)(props=>({values:[llmObservabilityTraceLogic.T,["eventId"],(0,dataNodeLogic.M)(getDataNodeLogicProps(props)),["response","responseLoading","responseError"]]})),(0,index_esm.selectors)({trace:[s=>[s.response],response=>response?.results?.[0]],showableEvents:[s=>[s.trace],trace=>trace?trace.events.filter(event=>!FEEDBACK_EVENTS.has(event.event)):[]],metricEvents:[s=>[s.trace],trace=>trace?.events.filter(event=>"$ai_metric"===event.event&&event.properties.$ai_metric_value)],feedbackEvents:[s=>[s.trace],trace=>trace?.events.filter(event=>"$ai_feedback"===event.event&&event.properties.$ai_feedback_text)],metricsAndFeedbackEvents:[s=>[s.metricEvents,s.feedbackEvents],(metricEvents,feedbackEvents)=>[...null!=metricEvents?metricEvents:[],...null!=feedbackEvents?feedbackEvents:[]].map(event=>{var _event$properties$$ai,_event$properties$$ai2;return{metric:"$ai_metric"===event.event?null!==(_event$properties$$ai=event.properties.$ai_metric_name)&&void 0!==_event$properties$$ai?_event$properties$$ai:"Metric":"User feedback",value:null!==(_event$properties$$ai2=event.properties.$ai_metric_value)&&void 0!==_event$properties$$ai2?_event$properties$$ai2:event.properties.$ai_feedback_text}})],event:[(s,p)=>[p.traceId,s.eventId,s.trace,s.showableEvents],(traceId,eventId,trace,showableEvents)=>eventId&&eventId!==traceId?showableEvents?.length&&showableEvents.find(event=>event.id===eventId)||null:trace||null],tree:[(s,p)=>[p.traceId,s.trace],(traceId,trace)=>restoreTree(trace?.events||[],traceId)]})]);function restoreTree(events,traceId){let childrenMap=new Map,idMap=new Map,visitedNodes=new Set;for(let event of events){var _ref2,_event$properties$$ai3,_event$properties$$ai4;if(FEEDBACK_EVENTS.has(event.event))continue;let eventId=null!==(_ref2=null!==(_event$properties$$ai3=event.properties.$ai_generation_id)&&void 0!==_event$properties$$ai3?_event$properties$$ai3:event.properties.$ai_span_id)&&void 0!==_ref2?_ref2:event.id;idMap.set(eventId,event);let parentId=null!==(_event$properties$$ai4=event.properties.$ai_parent_id)&&void 0!==_event$properties$$ai4?_event$properties$$ai4:event.properties.$ai_trace_id;if(null!=parentId){let existingEvents=childrenMap.get(parentId);existingEvents?existingEvents.push(eventId):childrenMap.set(parentId,[eventId])}}function traverse(spanId){if(visitedNodes.has(spanId))return console.warn("Circular reference detected in trace tree:",spanId),null;let event=idMap.get(spanId);if(!event)return null;visitedNodes.add(spanId);let children=childrenMap.get(spanId),result={event,children:children?.map(child=>traverse(child)).filter(node=>null!==node)};return visitedNodes.delete(spanId),result}return(childrenMap.get(traceId)||[]).map(childId=>traverse(childId)).filter(node=>null!==node)}var frontend_utils=__webpack_require__("../../products/llm_observability/frontend/utils.ts");let scene={component:LLMObservabilityTraceScene,logic:llmObservabilityTraceLogic.T};function LLMObservabilityTraceScene(){let{traceId,query}=(0,index_esm.useValues)(llmObservabilityTraceLogic.T);return(0,jsx_runtime.jsx)(index_esm.BindLogic,{logic:llmObservabilityTraceDataLogic,props:{traceId,query},children:(0,jsx_runtime.jsx)(TraceSceneWrapper,{})})}function TraceSceneWrapper(){let{eventId}=(0,index_esm.useValues)(llmObservabilityTraceLogic.T),{tree,trace,event,responseLoading,responseError,feedbackEvents,metricEvents}=(0,index_esm.useValues)(llmObservabilityTraceDataLogic);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:responseLoading?(0,jsx_runtime.jsx)(src.t2,{}):responseError?(0,jsx_runtime.jsx)(EmptyStates.jC,{}):trace?(0,jsx_runtime.jsxs)("div",{className:"relative deprecated-space-y-4 flex flex-col md:h-[calc(100vh_-_var(--breadcrumbs-height-full)_-_var(--scene-padding)_-_var(--scene-padding-bottom))] ",children:[(0,jsx_runtime.jsx)(TraceMetadata,{trace:trace,metricEvents:metricEvents,feedbackEvents:feedbackEvents}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 min-h-0 gap-4 flex-col md:flex-row",children:[(0,jsx_runtime.jsx)(TraceSidebar,{trace:trace,eventId:eventId,tree:tree}),(0,jsx_runtime.jsx)(EventContent,{event:event})]})]}):(0,jsx_runtime.jsx)(NotFound.T,{object:"trace"})})}function Chip(_ref){let{title,children,icon}=_ref;return(0,jsx_runtime.jsx)(src.u,{title:title,children:(0,jsx_runtime.jsxs)(src.oe,{size:"medium",className:"bg-surface-primary",icon:icon,children:[(0,jsx_runtime.jsx)("span",{className:"sr-only",children:title}),children]})})}function UsageChip(_ref2){let{event}=_ref2,usage=(0,frontend_utils.Pz)(event);return usage?(0,jsx_runtime.jsx)(Chip,{title:"Usage",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconAIText,{}),children:usage}):null}function TraceMetadata(_ref3){let{trace,metricEvents,feedbackEvents}=_ref3;return(0,jsx_runtime.jsxs)("header",{className:"flex gap-2 flex-wrap",children:["person"in trace&&(0,jsx_runtime.jsx)(Chip,{title:"Person",children:(0,jsx_runtime.jsx)(PersonDisplay.I,{withIcon:"sm",person:trace.person})}),(0,jsx_runtime.jsx)(UsageChip,{event:trace}),"number"==typeof trace.inputCost&&(0,jsx_runtime.jsx)(Chip,{title:"Input cost",icon:(0,jsx_runtime.jsx)(icons.Cz,{}),children:(0,frontend_utils.K7)(trace.inputCost)}),"number"==typeof trace.outputCost&&(0,jsx_runtime.jsx)(Chip,{title:"Output cost",icon:(0,jsx_runtime.jsx)(icons.BD,{}),children:(0,frontend_utils.K7)(trace.outputCost)}),"number"==typeof trace.totalCost&&(0,jsx_runtime.jsx)(Chip,{title:"Total cost",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconReceipt,{}),children:(0,frontend_utils.K7)(trace.totalCost)}),metricEvents.map(metric=>(0,jsx_runtime.jsx)(MetricTag,{properties:metric.properties},metric.id)),feedbackEvents.map(feedback=>(0,jsx_runtime.jsx)(FeedbackTag,{properties:feedback.properties},feedback.id))]})}function TraceSidebar(_ref4){let{trace,eventId,tree}=_ref4,ref=(0,react.useRef)(null);return(0,react.useEffect)(()=>{if(eventId&&ref.current){let selectedNode=ref.current.querySelector("[aria-current=true]");selectedNode&&selectedNode.scrollIntoView({block:"center"})}},[eventId]),(0,jsx_runtime.jsxs)("aside",{className:"border-primary max-h-fit bg-surface-primary border rounded overflow-hidden flex flex-col md:w-80",ref:ref,children:[(0,jsx_runtime.jsx)("h3",{className:"font-medium text-sm px-2 my-2",children:"Tree"}),(0,jsx_runtime.jsx)(src.p2,{className:"m-0"}),(0,jsx_runtime.jsxs)("ul",{className:"overflow-y-auto p-1 *:first:mt-0 overflow-x-hidden",children:[(0,jsx_runtime.jsx)(TreeNode,{topLevelTrace:trace,item:trace,isSelected:!eventId||eventId===trace.id}),(0,jsx_runtime.jsx)(TreeNodeChildren,{tree:tree,trace:trace,selectedEventId:eventId})]})]})}function NestingGroup(_ref5){let{onToggle,isCollapsed,children}=_ref5;return(0,jsx_runtime.jsxs)("li",{className:(0,clsx_m.default)("flex items-stretch min-w-0",isCollapsed&&"text-border hover:text-muted"),children:[(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("mb-1 ml-1 cursor-pointer",!isCollapsed&&"text-border hover:text-muted"),onClick:onToggle,children:(0,jsx_runtime.jsx)("div",{className:(0,clsx_m.default)("w-0 h-full my-0 ml-1 mr-2 border-l border-current",isCollapsed&&"border-dashed")})}),(0,jsx_runtime.jsx)("ul",{className:"flex-1 min-w-0",children:children})]})}let TreeNode=react.memo(function TraceNode(_ref6){let{topLevelTrace,item,isSelected}=_ref6,totalCost="properties"in item?item.properties.$ai_total_cost_usd:item.totalCost,latency="properties"in item?item.properties.$ai_latency:item.totalLatency,usage=(0,frontend_utils.Pz)(item),children=[(0,frontend_utils.A_)(item)&&item.properties.$ai_is_error&&(0,jsx_runtime.jsx)(src.oe,{type:"danger",children:"Error"},"error-tag"),latency>=.01&&(0,jsx_runtime.jsx)(src.oe,{type:"muted",children:(0,frontend_utils.DB)(latency)},"latency-tag"),(null!=usage||null!=totalCost)&&(0,jsx_runtime.jsxs)("span",{children:[usage,null!=usage&&null!=totalCost&&(0,jsx_runtime.jsx)("span",{children:" / "}),null!=totalCost&&(0,frontend_utils.K7)(totalCost)]},"usage-tag")],hasChildren=children.some(child=>!!child);return(0,jsx_runtime.jsx)("li",{className:"mt-0.5","aria-current":isSelected,children:(0,jsx_runtime.jsxs)(src.rU,{to:urls.j.llmObservabilityTrace(topLevelTrace.id,{event:item.id,timestamp:(0,frontend_utils.sl)(topLevelTrace.createdAt)}),className:classnames_default()("flex flex-col gap-1 p-1 text-xs rounded min-h-8 justify-center hover:!bg-accent-highlight-secondary",isSelected&&"!bg-accent-highlight-secondary"),children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-1.5",children:[(0,jsx_runtime.jsx)(EventTypeTag,{event:item,size:"small"}),(0,jsx_runtime.jsx)(src.u,{title:(0,frontend_utils.hG)(item),children:(0,jsx_runtime.jsx)("span",{className:"flex-1 truncate",children:(0,frontend_utils.hG)(item)})})]}),renderModelRow(item),hasChildren&&(0,jsx_runtime.jsx)("div",{className:"flex flex-row flex-wrap text-secondary items-center gap-1.5",children:children})]})},item.id)});function renderModelRow(event){if((0,frontend_utils.A_)(event)&&"$ai_generation"===event.event){if(!event.properties.$ai_span_name)return null;let model=event.properties.$ai_model;return event.properties.$ai_provider&&(model=`${model} (${event.properties.$ai_provider})`),(0,jsx_runtime.jsxs)("span",{className:"flex-1 truncate",children:[" ",model," "]})}return null}function TreeNodeChildren(_ref7){let{tree,trace,selectedEventId}=_ref7,[isCollapsed,setIsCollapsed]=(0,react.useState)(!1);return(0,jsx_runtime.jsx)(NestingGroup,{isCollapsed:isCollapsed,onToggle:()=>setIsCollapsed(!isCollapsed),children:isCollapsed?(0,jsx_runtime.jsxs)("div",{className:"text-secondary hover:text-default text-xxs cursor-pointer p-1",onClick:()=>setIsCollapsed(!1),children:["Show ",(0,utils.Zi)(tree.length,"collapsed child","collapsed children")]}):tree.map(_ref8=>{let{event,children}=_ref8;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(TreeNode,{topLevelTrace:trace,item:event,isSelected:!!selectedEventId&&selectedEventId===event.id}),children&&(0,jsx_runtime.jsx)(TreeNodeChildren,{tree:children,trace:trace,selectedEventId:selectedEventId})]},event.id)})})}function EventContentDisplay(_ref9){let{input,output,raisedError}=_ref9;return input||output?(0,jsx_runtime.jsx)(LLMInputOutput.D,{inputDisplay:(0,jsx_runtime.jsx)("div",{className:"p-2 text-xs border rounded bg-[var(--bg-fill-secondary)]",children:(0,utils.Kn)(input)?(0,jsx_runtime.jsx)(JSONViewer.C,{src:input,collapsed:4}):(0,jsx_runtime.jsx)("span",{className:"font-mono",children:JSON.stringify(null!=input?input:null)})}),outputDisplay:(0,jsx_runtime.jsx)("div",{className:(0,css_classes.cn)("p-2 text-xs border rounded",raisedError?"bg-[var(--bg-fill-error-tertiary)]":"bg-[var(--bg-fill-success-tertiary)]"),children:(0,utils.Kn)(output)?(0,jsx_runtime.jsx)(JSONViewer.C,{src:output,collapsed:4}):(0,jsx_runtime.jsx)("span",{className:"font-mono",children:JSON.stringify(null!=output?output:null)})})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}let EventContent=react.memo(_ref10=>{var _getSessionID,_event$properties$$ai2,_event$properties$$ai3;let{event}=_ref10,{setupPlaygroundFromEvent}=(0,index_esm.useActions)(llmObservabilityPlaygroundLogic.x),{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.featureFlagLogic),showPlaygroundButton=event&&(0,frontend_utils.A_)(event)&&"$ai_generation"===event.event&&featureFlags[constants.y8.LLM_OBSERVABILITY_PLAYGROUND];return(0,jsx_runtime.jsx)("div",{className:"flex-1 bg-surface-primary max-h-fit border rounded flex flex-col border-primary p-4 overflow-y-auto",children:event?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("header",{className:"deprecated-space-y-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex-row flex items-center gap-2",children:[(0,jsx_runtime.jsx)(EventTypeTag,{event:event}),(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold p-0 m-0 truncate flex-1",children:(0,frontend_utils.hG)(event)})]}),(0,frontend_utils.A_)(event)?(0,jsx_runtime.jsx)(MetadataHeader.I,{isError:event.properties.$ai_is_error,inputTokens:event.properties.$ai_input_tokens,outputTokens:event.properties.$ai_output_tokens,totalCostUsd:event.properties.$ai_total_cost_usd,model:event.properties.$ai_model,latency:event.properties.$ai_latency}):(0,jsx_runtime.jsx)(MetadataHeader.I,{inputTokens:event.inputTokens,outputTokens:event.outputTokens,totalCostUsd:event.totalCost,latency:event.totalLatency}),(0,frontend_utils.A_)(event)&&(0,jsx_runtime.jsx)(ParametersHeader,{eventProperties:event.properties}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[showPlaygroundButton&&(0,jsx_runtime.jsx)(src.Jp,{type:"secondary",size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconChat,{}),onClick:()=>{let model,input;if(event){if((0,frontend_utils.A_)(event)){var _event$properties$$ai;model=event.properties.$ai_model,input=null!==(_event$properties$$ai=event.properties.$ai_input)&&void 0!==_event$properties$$ai?_event$properties$$ai:event.properties.$ai_input_state}setupPlaygroundFromEvent({model,input})}},tooltip:"Try this prompt in the playground",children:"Try in Playground"}),(0,frontend_utils.W$)(event)&&(0,jsx_runtime.jsx)("div",{className:"flex flex-row items-center gap-2",children:(0,jsx_runtime.jsxs)(src.rU,{to:urls.j.replay(void 0,void 0,null!==(_getSessionID=(0,frontend_utils.mL)(event))&&void 0!==_getSessionID?_getSessionID:""),className:"flex flex-row gap-1 items-center",children:[(0,jsx_runtime.jsx)(icons.pF,{}),(0,jsx_runtime.jsx)("span",{children:"View session recording"})]})})]})]}),(0,frontend_utils.A_)(event)?"$ai_generation"===event.event?(0,jsx_runtime.jsx)(ConversationMessagesDisplay.F4,{tools:event.properties.$ai_tools,input:event.properties.$ai_input,output:event.properties.$ai_is_error?event.properties.$ai_error:null!==(_event$properties$$ai2=event.properties.$ai_output_choices)&&void 0!==_event$properties$$ai2?_event$properties$$ai2:event.properties.$ai_output,httpStatus:event.properties.$ai_http_status,raisedError:event.properties.$ai_is_error}):(0,jsx_runtime.jsx)(EventContentDisplay,{input:event.properties.$ai_input_state,output:null!==(_event$properties$$ai3=event.properties.$ai_output_state)&&void 0!==_event$properties$$ai3?_event$properties$$ai3:event.properties.$ai_error,raisedError:event.properties.$ai_is_error}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(TraceMetricsTable,{}),(0,jsx_runtime.jsx)(EventContentDisplay,{input:event.inputState,output:event.outputState})]})]}):(0,jsx_runtime.jsx)(EmptyStates.dV,{heading:"Event not found",detail:"Check if the event ID is correct."})})});function EventTypeTag(_ref11){let{event,size}=_ref11,eventType="trace";return(0,frontend_utils.A_)(event)&&(eventType="$ai_generation"===event.event?"generation":"span"),(0,jsx_runtime.jsx)(src.oe,{className:"uppercase",type:"trace"===eventType?"completion":"span"===eventType?"default":"success",size:size,children:eventType})}function TraceMetricsTable(){let{metricsAndFeedbackEvents}=(0,index_esm.useValues)(llmObservabilityTraceDataLogic);return metricsAndFeedbackEvents?.length?(0,jsx_runtime.jsxs)("div",{className:"mb-3",children:[(0,jsx_runtime.jsxs)("h4",{className:"flex items-center gap-x-1.5 text-xs font-semibold mb-2",children:[(0,jsx_runtime.jsx)(posthog_icons_es.IconMessage,{className:"text-base"}),"Metrics and user feedback"]}),(0,jsx_runtime.jsx)(src.g3,{columns:[{title:"Metric",key:"metric",render:(_,_ref12)=>{let{metric}=_ref12;return(0,jsx_runtime.jsx)("span",{children:(0,utils.UV)(metric)})},width:"40%"},{title:"Value",key:"value",render:(_,_ref13)=>{let{value}=_ref13;return(0,jsx_runtime.jsx)("span",{children:null!=value?value:"â€“"})},width:"60%"}],dataSource:metricsAndFeedbackEvents})]}):null}EventContent.displayName="EventContent"}}]);