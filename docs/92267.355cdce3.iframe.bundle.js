(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[92267,60676],{"./frontend/src/scenes/batch_exports/BatchExportsListScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BatchExportsList:()=>BatchExportsList,BatchExportsListScene:()=>BatchExportsListScene,scene:()=>scene});var posthog_icons_es=__webpack_require__("./node_modules/.pnpm/@posthog+icons@0.6.3_react-dom@18.2.0_react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),LemonMenu=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMenu/index.ts"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("./frontend/src/lib/api.ts");let batchExportsListLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","batch_exports","batchExportsListLogic"]),(0,index_esm.actions)({loadBatchExports:offset=>({offset})}),(0,index_esm.reducers)({offset:[0,{loadBatchExports:(_,_ref)=>{let{offset}=_ref;return offset||0}}]}),(0,lib.loaders)(_ref2=>{let{values}=_ref2;return{batchExportConfigs:[null,{loadBatchExports:async(_ref3,breakpoint)=>{let{offset}=_ref3;await breakpoint(100);let res=await api.ZP.batchExports.list({offset:offset||0,limit:10});return res},pause:async batchExport=>{await api.ZP.batchExports.pause(batchExport.id),src.lemonToast.success("Batch export paused. No future runs will be scheduled");let found=values.batchExportConfigs?.results.find(config=>config.id===batchExport.id);return found&&(found.paused=!0),values.batchExportConfigs},unpause:async batchExport=>{await api.ZP.batchExports.unpause(batchExport.id),src.lemonToast.success("Batch export unpaused. Future runs will be scheduled");let found=values.batchExportConfigs?.results.find(config=>config.id===batchExport.id);return found&&(found.paused=!1),values.batchExportConfigs}}]}}),(0,index_esm.listeners)(_ref4=>{let{actions,values,cache}=_ref4;return{loadBatchExportsSuccess:()=>{clearTimeout(cache.refreshTimeout),cache.refreshTimeout=setTimeout(()=>{actions.loadBatchExports(values.offset)},1e4)}}}),(0,index_esm.beforeUnmount)(_ref5=>{let{cache}=_ref5;clearTimeout(cache.refreshTimeout)}),(0,index_esm.afterMount)(_ref6=>{let{actions}=_ref6;actions.loadBatchExports()}),(0,index_esm.selectors)(_ref7=>{let{actions}=_ref7;return{pagination:[s=>[s.offset,s.batchExportConfigs],(offset,configs)=>{var _configs$count;return{controlled:!0,pageSize:10,currentPage:Math.floor(offset/10)+1,entryCount:null!==(_configs$count=configs?.count)&&void 0!==_configs$count?_configs$count:0,onBackward:()=>actions.loadBatchExports(offset-10),onForward:()=>actions.loadBatchExports(offset+10)}}]}})]);var components=__webpack_require__("./frontend/src/scenes/batch_exports/components.tsx"),utils=__webpack_require__("./frontend/src/scenes/batch_exports/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let scene={component:BatchExportsListScene};function BatchExportsListScene(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:(0,utils.dv)()&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",to:urls.j.batchExportNew(),children:"Create export workflow"})})}),(0,jsx_runtime.jsx)("p",{children:"Batch exports allow you to export your data to a destination of your choice."}),(0,jsx_runtime.jsx)(BatchExportsList,{})]})}function BatchExportsList(){var _batchExportConfigs$r;let{batchExportConfigs,batchExportConfigsLoading,pagination}=(0,index_esm.useValues)(batchExportsListLogic),{unpause,pause}=(0,index_esm.useActions)(batchExportsListLogic),{user}=(0,index_esm.useValues)(userLogic.userLogic),hasDataPipelines=(0,utils.dv)(),configs=null!==(_batchExportConfigs$r=batchExportConfigs?.results.filter(config=>"HTTP"!==config.destination.type||user?.is_impersonated))&&void 0!==_batchExportConfigs$r?_batchExportConfigs$r:[];return 0!==configs.length||hasDataPipelines?(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.LemonTable,{dataSource:configs,loading:batchExportConfigsLoading,pagination:pagination,columns:[{title:"Name",key:"name",width:0,render:function RenderName(_,batchExport){return(0,jsx_runtime.jsx)(src.Link,{className:"font-semibold truncate",to:urls.j.batchExport(batchExport.id),children:batchExport.name})}},{title:"Latest runs",key:"runs",render:function RenderStatus(_,batchExport){return(0,jsx_runtime.jsx)("div",{className:"flex gap-2",children:[...batchExport.latest_runs||[]].reverse()?.map(run=>jsx_runtime.jsx(src.LemonButton,{to:urls.j.batchExport(batchExport.id),className:"flex gap-1",noPadding:!0,children:jsx_runtime.jsx(components.pP,{runs:[run]})},run.id))})}},{title:"Destination",key:"destination",render:function RenderType(_,batchExport){return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:batchExport.destination.type})}},{title:"Frequency",key:"frequency",dataIndex:"interval"},{title:"Status",key:"status",width:0,render:function RenderStatus(_,batchExport){return(0,jsx_runtime.jsx)(components.$o,{batchExportConfig:batchExport})}},{width:0,render:function Render(_,batchExport){let menuItems=[{label:"View",to:urls.j.batchExport(batchExport.id)},{label:"Edit",to:urls.j.batchExportEdit(batchExport.id)}];return(hasDataPipelines||!batchExport.paused)&&menuItems.push({label:batchExport.paused?"Resume":"Pause",status:batchExport.paused?"default":"danger",onClick:()=>{batchExport.paused?unpause(batchExport):pause(batchExport)}}),(0,jsx_runtime.jsx)(LemonMenu.d,{items:menuItems,placement:"left",children:(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",noPadding:!0,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconEllipsis,{})})})}}]})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}},"./frontend/src/scenes/batch_exports/components.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{pP:()=>BatchExportRunIcon,$o:()=>BatchExportTag});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),BatchExports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/batch_exports/BatchExports.scss"),BatchExports_default=__webpack_require__.n(BatchExports),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(BatchExports_default(),options),BatchExports_default().locals;var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),clsx_m=__webpack_require__("./node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function BatchExportTag(_ref){let{batchExportConfig}=_ref;return(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:batchExportConfig.paused?"This export is paused - no future export runs will be scheduled ":"This export is active - new runs will be triggered at the configured interval."}),children:(0,jsx_runtime.jsx)(src.LemonTag,{type:batchExportConfig.paused?"default":"primary",children:batchExportConfig.paused?"Paused":"Active"})})}let combineFailedStatuses=status=>"FailedRetryable"===status?"Failed":status,colorForStatus=status=>{switch(status){case"Completed":return"success";case"ContinuedAsNew":case"Running":case"Starting":return"primary";case"Cancelled":case"Terminated":case"TimedOut":return"warning";case"Failed":case"FailedRetryable":return"danger";default:return"default"}};function BatchExportRunIcon(_ref2){let{runs,showLabel=!1}=_ref2,latestRun=runs[0],status=combineFailedStatuses(latestRun.status),color=colorForStatus(status);return(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Run status: ",status,runs.length>1&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("br",{}),"Attempts: ",runs.length]})]}),children:(0,jsx_runtime.jsx)("span",{className:(0,clsx_m.default)(`BatchExportRunIcon h-6 p-2 border-2 flex items-center justify-center rounded-full font-semibold text-xs border-${color} text-${color}-dark select-none`,"primary"===color&&"BatchExportRunIcon--pulse",showLabel?"":"w-6"),children:showLabel?(0,jsx_runtime.jsx)("span",{className:"text-center",children:status}):runs.length})})}},"./frontend/src/scenes/batch_exports/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J0:()=>intervalToFrequency,WT:()=>isRunInProgress,dv:()=>showBatchExports,qY:()=>humanizeDestination});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/scenes/userLogic.ts"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/types.ts");function intervalToFrequency(interval){return({day:"daily",hour:"hourly","every 5 minutes":"every 5 minutes"})[interval]}function isRunInProgress(run){return["Running","Starting"].includes(run.status)}function humanizeDestination(destination){return"S3"===destination.type?`s3://${destination.config.bucket_name}/${destination.config.prefix}`:"Snowflake"===destination.type?`snowflake:${destination.config.account}:${destination.config.database}:${destination.config.table_name}`:"Postgres"===destination.type?`postgresql://${destination.config.user}:***@${destination.config.host}:${destination.config.port}/${destination.config.database}`:"Redshift"===destination.type?`redshift://${destination.config.user}:***@${destination.config.host}:${destination.config.port}/${destination.config.database}`:"BigQuery"===destination.type?`bigquery:${destination.config.project_id}:${destination.config.dataset_id}:${destination.config.table_id}`:"Unknown"}function showBatchExports(){let{user}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_1__.userLogic),{hasAvailableFeature}=(0,kea__WEBPACK_IMPORTED_MODULE_0__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_1__.userLogic);return hasAvailableFeature(_types__WEBPACK_IMPORTED_MODULE_2__.P$.DATA_PIPELINES)||user?.is_impersonated==!0}},"./frontend/src/scenes/pipeline/appCodeLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>appsCodeLogic,g:()=>formatSource});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea-forms@3.1.2_kea@3.1.5/node_modules/kea-forms/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/api.ts");let appsCodeLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(_ref=>{let{pluginId}=_ref;return pluginId}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(id=>["scenes","pipeline","appsCodeLogic",id]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setCurrentFile:currentFile=>({currentFile}),editAppCode:!0,cancelEditing:!0,fetchPluginSource:!0,fetchPluginSourceComplete:!0,setFilenames:code=>({code})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({currentFile:["plugin.json",{setCurrentFile:(_,_ref2)=>{let{currentFile}=_ref2;return currentFile}}],editingAppCode:[!1,{editAppCode:()=>!0,cancelEditing:()=>!1,submitPluginSourceSuccess:()=>!1}],pluginSourceLoading:[!1,{fetchPluginSource:()=>!0,fetchPluginSourceComplete:()=>!1}],filenames:[[],{setFilenames:(_,_ref3)=>{let{code}=_ref3;return code?Object.keys(code):[]}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref4=>{let{actions,props}=_ref4;return{cancelEditing:async()=>{actions.fetchPluginSource()},fetchPluginSource:async()=>{try{let response=await lib_api__WEBPACK_IMPORTED_MODULE_2__.ZP.get(`api/organizations/@current/plugins/${props.pluginId}/source`),formattedCode={};for(let[file,source]of Object.entries(response||{}))if(source&&file.match(/\.(ts|tsx|js|jsx|json)$/))try{let prettySource=await formatSource(file,source);formattedCode[file]=prettySource}catch(e){formattedCode[file]=source}actions.setPluginSourceValues(formattedCode),actions.setFilenames(formattedCode)}finally{actions.fetchPluginSourceComplete()}}}}),(0,kea_forms__WEBPACK_IMPORTED_MODULE_1__.forms)(_ref5=>{let{actions,props,values}=_ref5;return{pluginSource:{defaults:{},preSubmit:async()=>{let changes={},errors={};for(let[file,source]of Object.entries(values.pluginSource))if(source&&file.match(/\.(ts|tsx|js|jsx|json)$/))try{let prettySource=await formatSource(file,source);prettySource!==source&&(changes[file]=prettySource)}catch(e){errors[file]=e.message}Object.keys(changes).length>0&&actions.setPluginSourceValues(changes),actions.setPluginSourceManualErrors(errors)},submit:async()=>{let response=await lib_api__WEBPACK_IMPORTED_MODULE_2__.ZP.update(`api/organizations/@current/plugins/${props.pluginId}/update_source`,values.pluginSource);actions.setPluginSourceValues(response)}}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)(_ref6=>{let{actions}=_ref6;actions.fetchPluginSource()})]);async function formatSource(filename,source){if(filename.endsWith(".json"))return JSON.stringify(JSON.parse(source),null,4)+"\n";let prettier=(await __webpack_require__.e(77192).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/.pnpm/prettier@2.8.8/node_modules/prettier/standalone.js",23))).default,parserTypeScript=(await __webpack_require__.e(70775).then(__webpack_require__.t.bind(__webpack_require__,"./node_modules/.pnpm/prettier@2.8.8/node_modules/prettier/parser-typescript.js",23))).default;return prettier.format(source,{filepath:filename,parser:"typescript",plugins:[parserTypeScript],semi:!1,trailingComma:"es5",singleQuote:!0,tabWidth:4,printWidth:120})}},"./frontend/src/scenes/plugins/AppsScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AppsScene:()=>AppsScene,scene:()=>scene});var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),Plugins=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/plugins/Plugins.scss"),Plugins_default=__webpack_require__.n(Plugins),options={};options.insert="head",options.singleton=!1,injectStylesIntoStyleTag_default()(Plugins_default(),options),Plugins_default().locals;var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),ActivityLog=__webpack_require__("./frontend/src/lib/components/ActivityLog/ActivityLog.tsx"),PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),LemonTabs=__webpack_require__("./frontend/src/lib/lemon-ui/LemonTabs/index.ts"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),urls=__webpack_require__("./frontend/src/scenes/urls.ts"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts"),types=__webpack_require__("./frontend/src/types.ts"),access=__webpack_require__("./frontend/src/scenes/plugins/access.ts"),pluginsLogic=__webpack_require__("./frontend/src/scenes/plugins/pluginsLogic.ts"),posthog_icons_es=__webpack_require__("./node_modules/.pnpm/@posthog+icons@0.6.3_react-dom@18.2.0_react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function PluginsSearch(){let{searchTerm}=(0,index_esm.useValues)(pluginsLogic.C),{setSearchTerm}=(0,index_esm.useActions)(pluginsLogic.C);return(0,jsx_runtime.jsx)(src.LemonInput,{type:"search","data-attr":"plugins-search",placeholder:"Search for apps",autoFocus:!0,value:searchTerm||"",onChange:setSearchTerm})}var LemonBanner=__webpack_require__("./frontend/src/lib/lemon-ui/LemonBanner/index.ts"),LemonModal=__webpack_require__("./frontend/src/lib/lemon-ui/LemonModal/index.ts"),preflightLogic=__webpack_require__("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx");function AdvancedInstallModal(){let{preflight}=(0,index_esm.useValues)(preflightLogic.preflightLogic),{advancedInstallModalOpen,pluginError,loading,sourcePluginName,customPluginUrl,localPluginUrl}=(0,index_esm.useValues)(pluginsLogic.C),{closeAdvancedInstallModal,installPlugin,setSourcePluginName,setCustomPluginUrl,setLocalPluginUrl}=(0,index_esm.useActions)(pluginsLogic.C);return(0,jsx_runtime.jsx)(LemonModal.f,{onClose:closeAdvancedInstallModal,isOpen:advancedInstallModalOpen,width:600,title:"Advanced app installation",footer:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:closeAdvancedInstallModal,children:"Cancel"})}),children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(LemonBanner.V,{type:"warning",children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("b",{children:"Advanced features ahead"}),(0,jsx_runtime.jsx)("br",{}),"Create and install your ",(0,jsx_runtime.jsx)("b",{children:"own apps"})," or apps from ",(0,jsx_runtime.jsx)("b",{children:"third-parties"}),"."]})}),pluginError?(0,jsx_runtime.jsx)(LemonBanner.V,{type:"error",children:pluginError}):null,(0,jsx_runtime.jsxs)("div",{className:"",children:[(0,jsx_runtime.jsx)(src.LemonLabel,{children:"Code your own app"}),(0,jsx_runtime.jsxs)("p",{children:["Write your app directly in PostHog."," ",(0,jsx_runtime.jsx)(src.Link,{to:"https://posthog.com/docs/apps",target:"_blank",children:"Read the documentation for more information!"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.LemonInput,{value:sourcePluginName,disabled:loading,onChange:setSourcePluginName,placeholder:'For example: "Hourly Weather Sync App"',className:"flex-1"}),(0,jsx_runtime.jsx)(src.LemonButton,{disabledReason:sourcePluginName?void 0:"Please enter a name",loading:loading,type:"primary",onClick:()=>installPlugin(sourcePluginName,types.ak.Source),children:"Start coding"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"",children:[(0,jsx_runtime.jsx)(src.LemonLabel,{children:"Install from GitHub, GitLab or npm"}),(0,jsx_runtime.jsxs)("p",{children:["To install a third-party or custom app, paste its URL below. For"," ",(0,jsx_runtime.jsx)(src.Link,{to:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",children:"GitHub"}),", ",(0,jsx_runtime.jsx)(src.Link,{to:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",children:"GitLab"})," and ",(0,jsx_runtime.jsx)(src.Link,{to:"https://docs.npmjs.com/creating-and-viewing-access-tokens",target:"_blank",children:"npm"})," ","private repositories, append ",(0,jsx_runtime.jsx)("code",{children:"?private_token=TOKEN"})," to the end of the URL.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("b",{className:"text-warning",children:"Warning: Only install apps from trusted sources."})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.LemonInput,{value:customPluginUrl,disabled:loading,onChange:setCustomPluginUrl,placeholder:"https://github.com/user/repo",className:"flex-1"}),(0,jsx_runtime.jsx)(src.LemonButton,{disabledReason:customPluginUrl?void 0:"Please enter a url",loading:loading,type:"primary",onClick:()=>installPlugin(customPluginUrl,types.ak.Custom),children:"Fetch and install"})]})]}),preflight&&!preflight.cloud&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)("div",{className:"",children:[(0,jsx_runtime.jsx)(src.LemonLabel,{children:"Install Local App"}),(0,jsx_runtime.jsx)("p",{children:"To install a local app from this computer/server, give its full path below."}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.LemonInput,{value:localPluginUrl,disabled:loading,onChange:setLocalPluginUrl,placeholder:"/var/posthog/plugins/helloworldplugin",className:"flex-1"}),(0,jsx_runtime.jsx)(src.LemonButton,{disabledReason:localPluginUrl?void 0:"Please enter a path",loading:loading,type:"primary",onClick:()=>installPlugin(localPluginUrl,types.ak.Local),children:"Install"})]})]})})]})})}var popconfirm=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/popconfirm/index.js"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip/index.ts"),PluginImage=__webpack_require__("./frontend/src/scenes/plugins/plugin/PluginImage.tsx"),constants=__webpack_require__("./frontend/src/lib/constants.tsx"),copyToClipboard=__webpack_require__("./frontend/src/lib/utils/copyToClipboard.tsx"),organizationLogic=__webpack_require__("./frontend/src/scenes/organizationLogic.tsx"),plugins_types=__webpack_require__("./frontend/src/scenes/plugins/types.ts");function RepositoryTag(_ref){let{plugin}=_ref,{pluginUrlToMaintainer}=(0,index_esm.useValues)(pluginsLogic.C),pluginMaintainer=plugin.maintainer||pluginUrlToMaintainer[plugin.url||""],isOfficial="official"===pluginMaintainer;if("plugin_type"in plugin){if("source"===plugin.plugin_type)return(0,jsx_runtime.jsx)(src.LemonTag,{children:"Source code"});if("local"===plugin.plugin_type&&plugin.url)return(0,jsx_runtime.jsx)(src.LemonTag,{type:"completion",onClick:()=>void(0,copyToClipboard.v)(plugin.url?.substring(5)||""),children:"Installed Locally"})}return pluginMaintainer?(0,jsx_runtime.jsx)(Tooltip.u,{title:isOfficial?"This app was built by the PostHog team.":"This app was built by a community member, not the PostHog team.",children:(0,jsx_runtime.jsx)(src.LemonTag,{type:isOfficial?"primary":"highlight",children:isOfficial?"Official":"Community"})}):null}function PluginTags(_ref2){let{plugin}=_ref2,{currentOrganization}=(0,index_esm.useValues)(organizationLogic.p);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(RepositoryTag,{plugin:plugin}),"is_global"in plugin&&plugin.is_global&&!!currentOrganization&&currentOrganization.plugins_access_level>=constants.zB.Install&&(0,jsx_runtime.jsx)(Tooltip.u,{title:`This plugin is managed by the ${plugin.organization_name} organization`,children:(0,jsx_runtime.jsx)(src.LemonTag,{type:"success",children:"Global"})})]})}function BatchExportsAlternativeWarning(){let{searchTerm}=(0,index_esm.useValues)(pluginsLogic.C);return searchTerm&&["export","batch","s3","snowflake","redshift","bigquery"].includes(searchTerm?.toLowerCase())?(0,jsx_runtime.jsxs)(LemonBanner.V,{type:"warning",children:["It looks like you're trying to search for an exporter. There is now a dedicated"," ",(0,jsx_runtime.jsx)(src.Link,{to:urls.j.projectApps(plugins_types.x.BatchExports),children:"Batch Exports"})," area for these."]}):null}function AppManagementView(_ref){let{plugin}=_ref,{user}=(0,index_esm.useValues)(userLogic.userLogic);if(!(0,access.YU)(user?.organization))return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});let{installingPluginUrl,pluginsNeedingUpdates,pluginsUpdating,loading,unusedPlugins}=(0,index_esm.useValues)(pluginsLogic.C),{installPlugin,editPlugin,updatePlugin,uninstallPlugin,patchPlugin}=(0,index_esm.useActions)(pluginsLogic.C);return(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[(0,jsx_runtime.jsx)(PluginImage.c,{plugin:plugin}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold truncate",children:(0,jsx_runtime.jsx)(src.Link,{to:plugin.url,target:"blank",children:plugin.name})}),(0,jsx_runtime.jsx)(PluginTags,{plugin:plugin})]}),(0,jsx_runtime.jsx)("div",{className:"text-sm",children:plugin.description})]})]}),(0,jsx_runtime.jsx)("div",{className:"flex gap-2 whitespace-nowrap items-center justify-end",children:"id"in plugin?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["updateStatus"in plugin&&pluginsNeedingUpdates.find(x=>x.id===plugin.id)&&(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:"small",onClick:()=>{plugin.updateStatus?.updated?editPlugin(plugin.id):updatePlugin(plugin.id)},loading:pluginsUpdating.includes(plugin.id),icon:plugin.updateStatus?.updated?(0,jsx_runtime.jsx)(posthog_icons_es.IconCheckCircle,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconDownload,{}),children:plugin.updateStatus?.updated?"Updated":"Update"}),(0,jsx_runtime.jsx)(popconfirm.Z,{placement:"topLeft",title:"Are you sure you wish to uninstall this app completely?",onConfirm:()=>uninstallPlugin(plugin.id),okText:"Uninstall",cancelText:"Cancel",className:"Plugins__Popconfirm",children:(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",status:"danger",size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),disabledReason:unusedPlugins.includes(plugin.id)?void 0:"This app is still in use.","data-attr":"plugin-uninstall",children:"Uninstall"})}),plugin.is_global?(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["This app can currently be used by other organizations in this instance of PostHog. This action will ",(0,jsx_runtime.jsx)("b",{children:"disable and hide it"})," for all organizations other than yours."]}),children:(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:"small",icon:(0,jsx_runtime.jsx)(icons.ys,{}),onClick:()=>patchPlugin(plugin.id,{is_global:!1}),children:"Make local"})}):(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["This action will mark this app as installed for ",(0,jsx_runtime.jsx)("b",{children:"all organizations"})," in this instance of PostHog."]}),children:(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:"small",icon:(0,jsx_runtime.jsx)(icons.Sc,{}),onClick:()=>patchPlugin(plugin.id,{is_global:!0}),children:"Make global"})})]}):(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",loading:loading&&installingPluginUrl===plugin.url,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconDownload,{}),size:"small",onClick:()=>plugin.url?installPlugin(plugin.url,types.ak.Repository):void 0,children:"Install"})})]})}function AppsTable(_ref){let{title="Apps",plugins,loading,renderfn}=_ref,[expanded,setExpanded]=(0,react.useState)(!0),{searchTerm}=(0,index_esm.useValues)(pluginsLogic.C);return(0,jsx_runtime.jsx)(src.LemonTable,{dataSource:expanded?plugins:[],loading:loading,columns:[{title:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",sideIcon:expanded?(0,jsx_runtime.jsx)(posthog_icons_es.IconExpand,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconCollapse,{}),onClick:()=>setExpanded(!expanded),className:"-ml-2 mr-2"}),title]}),key:"app",render:(_,plugin)=>renderfn(plugin)}],emptyState:expanded?searchTerm?"No apps matching your search criteria":"No apps found":(0,jsx_runtime.jsx)("span",{className:"flex gap-2 items-center",children:(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",onClick:()=>setExpanded(!0),children:"Show apps"})})})}function AppsManagementTab(){let{user}=(0,index_esm.useValues)(userLogic.userLogic);if(!(0,access.YU)(user?.organization))return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});let{checkForUpdates,openAdvancedInstallModal}=(0,index_esm.useActions)(pluginsLogic.C),{installedPlugins,installedPluginUrls,filteredPluginsNeedingUpdates,loading,filteredUninstalledPlugins,repositoryLoading,pluginsNeedingUpdates,hasUpdatablePlugins,checkingForUpdates,updateStatus}=(0,index_esm.useValues)(pluginsLogic.C),officialPlugins=(0,react.useMemo)(()=>filteredUninstalledPlugins.filter(plugin=>"official"===plugin.maintainer),[filteredUninstalledPlugins]),communityPlugins=(0,react.useMemo)(()=>filteredUninstalledPlugins.filter(plugin=>"community"===plugin.maintainer),[filteredUninstalledPlugins]),renderfn=plugin=>(0,jsx_runtime.jsx)(AppManagementView,{plugin:plugin});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center justify-between",children:[(0,jsx_runtime.jsx)(PluginsSearch,{}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[hasUpdatablePlugins&&(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",icon:pluginsNeedingUpdates.length>0?(0,jsx_runtime.jsx)(posthog_icons_es.IconRedo,{}):(0,jsx_runtime.jsx)(posthog_icons_es.IconDownload,{}),onClick:e=>{e.stopPropagation(),checkForUpdates(!0)},loading:checkingForUpdates,children:checkingForUpdates?`Checking app ${Object.keys(updateStatus).length+1} out of ${Object.keys(installedPluginUrls).length}`:pluginsNeedingUpdates.length>0?"Check again for updates":"Check for updates"}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:openAdvancedInstallModal,children:"Install app (advanced)"})]})]}),filteredPluginsNeedingUpdates.length>0&&(0,jsx_runtime.jsx)(AppsTable,{title:"Apps to Update",plugins:filteredPluginsNeedingUpdates,loading:loading||checkingForUpdates,renderfn:renderfn}),(0,jsx_runtime.jsx)(AppsTable,{title:"Installed Apps",plugins:installedPlugins,loading:loading,renderfn:renderfn}),(0,access.YU)(user?.organization)&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.LemonDivider,{className:"my-8"}),(0,jsx_runtime.jsx)(AppsTable,{title:"Repository - Official",plugins:officialPlugins,loading:repositoryLoading,renderfn:renderfn}),(0,jsx_runtime.jsx)(AppsTable,{title:"Repository - Community",plugins:communityPlugins,loading:repositoryLoading,renderfn:renderfn})]})]}),(0,jsx_runtime.jsx)(AdvancedInstallModal,{})]})}var es_form=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/form/index.js"),drawer=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/drawer/index.js");function Drawer(props){return(0,jsx_runtime.jsx)(drawer.Z,{...props,zIndex:950})}var LemonMarkdown=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMarkdown/index.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),configUtils=__webpack_require__("./frontend/src/scenes/pipeline/configUtils.ts"),PluginField=__webpack_require__("./frontend/src/scenes/plugins/edit/PluginField.tsx"),PluginSource=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/plugins/source/PluginSource.scss"),PluginSource_default=__webpack_require__.n(PluginSource),PluginSource_options={};PluginSource_options.insert="head",PluginSource_options.singleton=!1,injectStylesIntoStyleTag_default()(PluginSource_default(),PluginSource_options),PluginSource_default().locals;var es=__webpack_require__("./node_modules/.pnpm/@monaco-editor+react@4.4.6_monaco-editor@0.39.0_react-dom@18.2.0_react@18.2.0/node_modules/@monaco-editor/react/lib/es/index.js"),skeleton=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@18.2.0_react@18.2.0/node_modules/antd/es/skeleton/index.js"),lib=__webpack_require__("./node_modules/.pnpm/kea-forms@3.1.2_kea@3.1.5/node_modules/kea-forms/lib/index.js"),CodeEditors=__webpack_require__("./frontend/src/lib/components/CodeEditors.tsx"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonField=__webpack_require__("./frontend/src/lib/lemon-ui/LemonField/index.ts"),createDefaultPluginSource=__webpack_require__("./frontend/src/scenes/plugins/source/createDefaultPluginSource.ts"),kea_loaders_lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),kea_router_lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.4_kea@3.1.5/node_modules/kea-router/lib/index.js"),api=__webpack_require__("./frontend/src/lib/api.ts"),LemonToast=__webpack_require__("./frontend/src/lib/lemon-ui/LemonToast/LemonToast.tsx"),frontendAppsLogic=__webpack_require__("./frontend/src/scenes/apps/frontendAppsLogic.tsx"),appCodeLogic=__webpack_require__("./frontend/src/scenes/pipeline/appCodeLogic.tsx");let LEAVE_WARNING="You have unsaved changes in your plugin. Are you sure you want to exit?",pluginSourceLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","plugins","edit","pluginSourceLogic"]),(0,index_esm.props)({}),(0,index_esm.key)(props=>{var _props$pluginConfigId;return null!==(_props$pluginConfigId=props.pluginConfigId)&&void 0!==_props$pluginConfigId?_props$pluginConfigId:`plugin-${props.pluginId}`}),(0,index_esm.connect)({logic:[pluginsLogic.C]}),(0,index_esm.actions)({setCurrentFile:currentFile=>({currentFile}),closePluginSource:!0,resetAndClose:!0}),(0,index_esm.reducers)({currentFile:["plugin.json",{setCurrentFile:(_,_ref)=>{let{currentFile}=_ref;return currentFile}}]}),(0,lib.forms)(_ref2=>{let{actions,props,values}=_ref2;return{pluginSource:{defaults:{},errors:values=>({"plugin.json":(0,utils.XA)(values["plugin.json"])?"":"Not valid JSON"}),preSubmit:async()=>{let changes={},errors={};for(let[file,source]of Object.entries(values.pluginSource))if(source&&file.match(/\.(ts|tsx|js|jsx|json)$/))try{let prettySource=await (0,appCodeLogic.g)(file,source);prettySource!==source&&(changes[file]=prettySource)}catch(e){errors[file]=e.message}Object.keys(changes).length>0&&actions.setPluginSourceValues(changes),actions.setPluginSourceManualErrors(errors)},submit:async()=>{let response=await api.ZP.update(`api/organizations/@current/plugins/${props.pluginId}/update_source`,values.pluginSource);actions.resetPluginSource(response),pluginsLogic.C.findMounted()?.actions.loadPlugins();let appsLogic=frontendAppsLogic.$.findMounted();if(appsLogic&&props.pluginConfigId){let appConfig=appsLogic.values.appConfigs[props.pluginConfigId];appConfig&&(appsLogic.actions.unloadFrontendApp(appConfig.pluginConfigId),(!pluginsLogic.C.findMounted()||pluginsLogic.C.values.getPluginConfig(props.pluginConfigId)?.enabled)&&appsLogic.actions.loadFrontendApp(appConfig.pluginConfigId,appConfig.pluginId,!0))}}}}}),(0,kea_loaders_lib.loaders)(_ref3=>{let{props}=_ref3;return{pluginSource:{fetchPluginSource:async()=>{let response=await api.ZP.get(`api/organizations/@current/plugins/${props.pluginId}/source`);return null!=response?response:{}}}}}),(0,index_esm.selectors)({name:[s=>[s.pluginSource],pluginSource=>{try{return JSON.parse(pluginSource["plugin.json"]).name}catch(e){return}}],fileNames:[()=>[],()=>Array.from(new Set(["plugin.json","index.ts","frontend.tsx","site.ts"]))]}),(0,kea_router_lib.beforeUnload)(_ref4=>{let{values}=_ref4;return{enabled:()=>values.pluginSourceChanged,message:LEAVE_WARNING}}),(0,index_esm.listeners)(_ref5=>{let{actions,props,values}=_ref5;return{resetAndClose:()=>{actions.resetPluginSource(),props.onClose?.()},closePluginSource:()=>{values.pluginSourceChanged?confirm(LEAVE_WARNING)&&actions.resetAndClose():actions.resetAndClose()},submitPluginSourceSuccess:()=>{LemonToast.UJ.success("App saved!",{button:{label:"Close drawer",action:actions.closePluginSource},position:"top-right",toastId:`submit-plugin-${props.pluginConfigId}`})},submitPluginSourceFailure:_ref6=>{let{error}=_ref6;LemonToast.UJ.error((0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{children:"Please fix the following errors:"}),(0,jsx_runtime.jsx)("pre",{children:String(error?.message||error)})]}),{position:"top-right"})},[pluginsLogic.C.actionTypes.setEditingSource]:()=>{pluginsLogic.C.values.editingPluginId===props.pluginId&&(actions.resetPluginSource(),actions.fetchPluginSource())}}}),(0,index_esm.afterMount)(_ref7=>{let{actions}=_ref7;actions.resetPluginSource(),actions.fetchPluginSource()})]);function PluginSourceTabs(_ref){let{logic}=_ref,{setCurrentFile}=(0,index_esm.useActions)(logic),{currentFile,fileNames,pluginSourceAllErrors}=(0,index_esm.useValues)(logic);return(0,jsx_runtime.jsx)("div",{className:"flex items-center mb-2 space-x-2 w-full",children:fileNames.map(fileName=>(0,jsx_runtime.jsx)(react.Fragment,{children:(0,jsx_runtime.jsx)(LemonButton.J,{active:currentFile===fileName,onClick:()=>setCurrentFile(fileName),size:"small",status:pluginSourceAllErrors[fileName]?"danger":void 0,children:fileName})},fileName))})}function PluginSource_PluginSource(_ref){let{pluginId,pluginConfigId,visible,close,placement}=_ref,monaco=(0,es.Ik)(),{user}=(0,index_esm.useValues)(userLogic.userLogic),logicProps={pluginId,pluginConfigId,onClose:close},logic=pluginSourceLogic(logicProps),{submitPluginSource,closePluginSource}=(0,index_esm.useActions)(logic),{isPluginSourceSubmitting,pluginSourceLoading,currentFile,name}=(0,index_esm.useValues)(pluginSourceLogic(logicProps));return((0,react.useEffect)(()=>{monaco&&monaco.languages.typescript.typescriptDefaults.setCompilerOptions({jsx:currentFile.endsWith(".tsx")?monaco.languages.typescript.JsxEmit.React:monaco.languages.typescript.JsxEmit.Preserve,esModuleInterop:!0})},[monaco,currentFile]),(0,react.useEffect)(()=>{monaco&&__webpack_require__.e(79917).then(__webpack_require__.t.bind(__webpack_require__,"./frontend/src/scenes/plugins/source/types/packages.json",19)).then(files=>{for(let[fileName,fileContents]of Object.entries(files).filter(_ref2=>{let[fileName]=_ref2;return"default"!==fileName})){let fakePath=`file:///node_modules/${fileName}`;monaco?.languages.typescript.typescriptDefaults.addExtraLib(fileContents,fakePath)}})},[monaco]),(0,access.YU)(user?.organization))?(0,jsx_runtime.jsx)(Drawer,{forceRender:!0,visible:visible,onClose:closePluginSource,width:"min(90vw, 64rem)",title:pluginSourceLoading?"Loading...":`Edit App: ${name}`,placement:null!=placement?placement:"left",footer:(0,jsx_runtime.jsxs)("div",{className:"text-right space-x-2",children:[(0,jsx_runtime.jsx)(LemonButton.J,{onClick:closePluginSource,children:"Close"}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",loading:isPluginSourceSubmitting,onClick:submitPluginSource,children:"Save"})]}),children:(0,jsx_runtime.jsx)(lib.Form,{logic:pluginSourceLogic,props:logicProps,formKey:"pluginSource",className:"PluginSource",children:visible?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:["Read our"," ",(0,jsx_runtime.jsx)(src.Link,{to:"https://posthog.com/docs/apps/build",target:"_blank",children:"app building overview in PostHog Docs"})," ","for a good grasp of possibilities.",(0,jsx_runtime.jsx)("br",{}),"Once satisfied with your app, feel free to"," ",(0,jsx_runtime.jsx)(src.Link,{to:"https://posthog.com/docs/apps/build/tutorial#submitting-your-app",target:"_blank",children:"submit it to the official App Store"}),"."]}),pluginSourceLoading?(0,jsx_runtime.jsx)(skeleton.Z,{}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PluginSourceTabs,{logic:logic}),(0,jsx_runtime.jsx)(LemonField.D,{name:[currentFile],children:_ref3=>{let{value,onChange}=_ref3;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(CodeEditors.p,{path:currentFile,language:currentFile.endsWith(".json")?"json":"typescript",value:value,onChange:v=>onChange(null!=v?v:""),height:700,options:{minimap:{enabled:!1}}}),!value&&(0,createDefaultPluginSource.N)(name)[currentFile]?(0,jsx_runtime.jsx)("div",{className:"mt-2",children:(0,jsx_runtime.jsxs)(LemonButton.J,{type:"primary",onClick:()=>onChange((0,createDefaultPluginSource.N)(name)[currentFile]),children:['Add example "',currentFile,'"']})}):null]})}})]})]}):null})}):null}let capabilitiesInfo={processEvent:"Read + modify access to events before ingestion",processEventBatch:"Read + modify access to events before ingestion, in batches",onEvent:"Read-only access to events",exportEvents:"Read-only access to events, optimized for export",runEveryMinute:"Runs a task every minute",runEveryHour:"Runs a task every hour",runEveryDay:"Runs a task every day"};var Link=__webpack_require__("./frontend/src/lib/lemon-ui/Link/index.ts"),featureFlagLogic=__webpack_require__("./frontend/src/lib/logic/featureFlagLogic.ts"),PluginJobConfiguration=__webpack_require__("./frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx");function PluginJobOptions(_ref){let{pluginId,pluginConfigId,capabilities,publicJobs,onSubmit}=_ref,{featureFlags}=(0,index_esm.useValues)(featureFlagLogic.h),jobs=(0,react.useMemo)(()=>(capabilities?.jobs||[]).filter(jobName=>jobName in publicJobs).filter(jobName=>(jobName!==PluginJobConfiguration.$f||!featureFlags[constants.y8.HISTORICAL_EXPORTS_V2])&&(jobName!==PluginJobConfiguration._F||!!featureFlags[constants.y8.HISTORICAL_EXPORTS_V2])),[capabilities,publicJobs,featureFlags]);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("h3",{className:"l3 mt-8",children:["Jobs",(0,jsx_runtime.jsx)(src.LemonTag,{type:"warning",className:"uppercase",style:{verticalAlign:"0.125em",marginLeft:6},children:"BETA"})]}),jobs.map(jobName=>(0,jsx_runtime.jsx)("div",{children:jobName.includes("Export historical events")?(0,jsx_runtime.jsxs)("i",{children:["Currently unavailable, see"," ",(0,jsx_runtime.jsx)(Link.r,{to:"https://github.com/PostHog/posthog/issues/15997",children:"GitHub issue"})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("i",{children:jobName}),(0,jsx_runtime.jsx)(PluginJobConfiguration.QZ,{jobName:jobName,jobSpec:publicJobs[jobName],pluginConfigId:pluginConfigId,pluginId:pluginId,onSubmit:onSubmit})]})},jobName))]})}function EnabledDisabledSwitch(_ref){let{value,onChange}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(src.LemonSwitch,{checked:value||!1,onChange:onChange}),(0,jsx_runtime.jsx)("strong",{children:value?"Enabled":"Disabled"})]})}window.process=constants.TH;let SecretFieldIcon=()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(Tooltip.u,{placement:"top-start",title:"This is a secret write-only field. Its value is not available after saving.",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconLock,{style:{marginRight:5}})})});function PluginDrawer(){let{user}=(0,index_esm.useValues)(userLogic.userLogic),{editingPlugin,loading,editingSource,editingPluginInitialChanges}=(0,index_esm.useValues)(pluginsLogic.C),{editPlugin,savePluginConfig,setEditingSource,generateApiKeysIfNeeded,showPluginLogs}=(0,index_esm.useActions)(pluginsLogic.C),[form]=es_form.Z.useForm(),[invisibleFields,setInvisibleFields]=(0,react.useState)([]),[requiredFields,setRequiredFields]=(0,react.useState)([]),updateInvisibleAndRequiredFields=()=>{setInvisibleFields(editingPlugin?(0,configUtils.zl)(form.getFieldValue,editingPlugin):[]),setRequiredFields(editingPlugin?(0,configUtils.fY)(form.getFieldValue,editingPlugin):[])};return(0,react.useEffect)(()=>{editingPlugin?(form.setFieldsValue({...editingPlugin.pluginConfig.config||(0,configUtils.NM)(editingPlugin),__enabled:editingPlugin.pluginConfig.enabled,...editingPluginInitialChanges}),generateApiKeysIfNeeded(form)):form.resetFields(),updateInvisibleAndRequiredFields()},[editingPlugin?.id,editingPlugin?.config_schema]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Drawer,{forceRender:!0,visible:!!editingPlugin,onClose:()=>editPlugin(null),width:"min(90vw, 500px)",title:editingPlugin?.name,"data-attr":"plugin-drawer",footer:(0,jsx_runtime.jsxs)("div",{className:"flex space-x-2",children:[(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",onClick:()=>editPlugin(null),"data-attr":"plugin-drawer-cancel",children:"Cancel"}),(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",type:"primary",loading:loading,onClick:form.submit,"data-attr":"plugin-drawer-save",children:"Save"})]}),children:(0,jsx_runtime.jsx)(es_form.Z,{form:form,layout:"vertical",name:"basic",onFinish:savePluginConfig,children:editingPlugin?(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-4",children:[(0,jsx_runtime.jsx)(PluginImage.c,{plugin:editingPlugin,size:"large"}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col grow gap-2",children:[(0,jsx_runtime.jsx)("span",{children:(0,utils.ne)(editingPlugin.description)}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)(PluginTags,{plugin:editingPlugin}),editingPlugin.url&&(0,jsx_runtime.jsx)(src.Link,{to:editingPlugin.url,children:(0,jsx_runtime.jsx)("i",{children:"â¤· Learn more"})})]}),(0,jsx_runtime.jsx)("div",{className:"flex items-center",children:(0,jsx_runtime.jsx)(es_form.Z.Item,{fieldKey:"__enabled",name:"__enabled",style:{display:"inline-block",marginBottom:0},"data-attr":"plugin-enabled-switch",children:(0,jsx_runtime.jsx)(EnabledDisabledSwitch,{})})})]})]}),"source"===editingPlugin.plugin_type&&(0,access.YU)(user?.organization)?(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(src.LemonButton,{icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconCode,{}),onClick:()=>setEditingSource(!editingSource),"data-attr":"plugin-edit-source",children:"Edit source"})}):null,editingPlugin.capabilities&&Object.keys(editingPlugin.capabilities).length>0?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h3",{className:"l3 mt-8",children:"Capabilities"}),(0,jsx_runtime.jsxs)("div",{className:"mt-1.5",children:[[...editingPlugin.capabilities.methods||[],...editingPlugin.capabilities.scheduled_tasks||[]].filter(capability=>!["setupPlugin","teardownPlugin"].includes(capability)).map(capability=>(0,jsx_runtime.jsx)(Tooltip.u,{title:capabilitiesInfo[capability]||"",children:(0,jsx_runtime.jsx)(src.LemonTag,{className:"cursor-default",children:capability})},capability)),(editingPlugin.capabilities?.jobs||[]).map(jobName=>(0,jsx_runtime.jsx)(Tooltip.u,{title:"Custom job",children:(0,jsx_runtime.jsx)(src.LemonTag,{className:"cursor-default",children:jobName})},jobName))]})]}):null,!!(editingPlugin.pluginConfig.id&&editingPlugin.capabilities?.jobs?.length&&editingPlugin.public_jobs&&Object.keys(editingPlugin.public_jobs).length)&&(0,jsx_runtime.jsx)(PluginJobOptions,{pluginId:editingPlugin.id,pluginConfigId:editingPlugin.pluginConfig.id,capabilities:editingPlugin.capabilities,publicJobs:editingPlugin.public_jobs,onSubmit:()=>showPluginLogs(editingPlugin.id)}),(0,jsx_runtime.jsx)("h3",{className:"l3 mt-8",children:"Configuration"}),0===(0,configUtils.fN)(editingPlugin.config_schema).length?(0,jsx_runtime.jsx)("div",{children:"This app is not configurable."}):null,(0,configUtils.fN)(editingPlugin.config_schema).map((fieldConfig,index)=>(0,jsx_runtime.jsxs)(react.Fragment,{children:[fieldConfig.markdown&&(0,jsx_runtime.jsx)(LemonMarkdown.j,{children:fieldConfig.markdown}),fieldConfig.type&&(0,configUtils.Zs)(fieldConfig)?(0,jsx_runtime.jsx)(es_form.Z.Item,{hidden:!!fieldConfig.key&&invisibleFields.includes(fieldConfig.key),label:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[fieldConfig.secret&&(0,jsx_runtime.jsx)(SecretFieldIcon,{}),fieldConfig.name||fieldConfig.key]}),extra:fieldConfig.hint&&(0,jsx_runtime.jsx)("small",{children:(0,jsx_runtime.jsx)(LemonMarkdown.j,{className:"mt-0.5",children:fieldConfig.hint})}),name:fieldConfig.key,required:fieldConfig.required||!!fieldConfig.key&&requiredFields.includes(fieldConfig.key),rules:[{required:fieldConfig.required||!!fieldConfig.key&&requiredFields.includes(fieldConfig.key),message:"Please enter a value!"}],children:(0,jsx_runtime.jsx)(PluginField.B,{fieldConfig:fieldConfig,onChange:updateInvisibleAndRequiredFields})}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:fieldConfig.type?(0,jsx_runtime.jsxs)("p",{className:"text-danger",children:["Invalid config field ",(0,jsx_runtime.jsx)("i",{children:fieldConfig.name||fieldConfig.key}),"."]}):null})]},fieldConfig.key||`__key__${index}`))]}):null})}),editingPlugin?.plugin_type==="source"&&editingPlugin.id?(0,jsx_runtime.jsx)(PluginSource_PluginSource,{visible:editingSource,close:()=>setEditingSource(!1),pluginId:editingPlugin.id,pluginConfigId:editingPlugin.pluginConfig?.id}):null]})}var LemonMenu=__webpack_require__("./frontend/src/lib/lemon-ui/LemonMenu/index.ts"),pipeline_utils=__webpack_require__("./frontend/src/scenes/pipeline/utils.tsx");function SuccessRateBadge(_ref){var deliveryRate;let{deliveryRate:deliveryRate1,pluginConfigId}=_ref,[status,tooltip]=null===(deliveryRate=deliveryRate1)?["muted","No events processed by this app in the past 24 hours"]:[deliveryRate>=.99?"success":deliveryRate>=.75?"warning":"danger",`Success rate for past 24 hours: ${Math.floor(1e3*deliveryRate)/10}%`];return(0,jsx_runtime.jsx)(Tooltip.u,{title:tooltip,children:(0,jsx_runtime.jsx)(Link.r,{to:urls.j.appMetrics(pluginConfigId),children:(0,jsx_runtime.jsx)(src.LemonBadge,{status:status})})})}function AppView(_ref){var _pluginConfig$deliver;let{plugin}=_ref,{showAppMetricsForPlugin,sortableEnabledPlugins}=(0,index_esm.useValues)(pluginsLogic.C),{editPlugin,toggleEnabled,openReorderModal}=(0,index_esm.useActions)(pluginsLogic.C),{hasAvailableFeature}=(0,index_esm.useValues)(userLogic.userLogic),pluginConfig="pluginConfig"in plugin?plugin.pluginConfig:null,isConfigured=!!pluginConfig?.id;if(!hasAvailableFeature(types.P$.DATA_PIPELINES)&&!pluginConfig?.enabled&&(!plugin.url||!pipeline_utils.C4.has(plugin.url)))return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});let orderedIndex=sortableEnabledPlugins.indexOf(plugin)+1,menuItems=[];return plugin.url&&menuItems.push({label:"Source",sideIcon:(0,jsx_runtime.jsx)(icons.JH,{}),to:plugin.url,targetBlank:!0}),isConfigured&&menuItems.push({label:pluginConfig?.enabled?"Disable":"Enable",status:pluginConfig.enabled?"danger":"default",onClick:()=>toggleEnabled({id:pluginConfig.id,enabled:!pluginConfig.enabled})}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[isConfigured&&pluginConfig.enabled&&(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(Tooltip.u,{title:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:orderedIndex?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Apps that react to incoming events run in order. This app runs in position"," ",orderedIndex,".",(0,jsx_runtime.jsx)("br",{}),"Click to change the order of the plugins."]}):(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"As this app is not part of the processing flow, the order is unimportant "})}),children:(0,jsx_runtime.jsx)(src.LemonButton,{onClick:openReorderModal,noPadding:!0,children:orderedIndex?(0,jsx_runtime.jsx)(src.LemonBadge.Number,{status:"primary",count:orderedIndex,maxDigits:3}):(0,jsx_runtime.jsx)(src.LemonBadge,{status:"primary",content:"-"})})})}),(0,jsx_runtime.jsx)(PluginImage.c,{plugin:plugin}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 items-center",children:[pluginConfig&&showAppMetricsForPlugin(plugin)&&pluginConfig.id&&(0,jsx_runtime.jsx)(SuccessRateBadge,{deliveryRate:null!==(_pluginConfig$deliver=pluginConfig.delivery_rate_24h)&&void 0!==_pluginConfig$deliver?_pluginConfig$deliver:null,pluginConfigId:pluginConfig.id}),(0,jsx_runtime.jsx)("span",{className:"font-semibold truncate",children:isConfigured?(0,jsx_runtime.jsx)(src.Link,{to:isConfigured?urls.j.appMetrics(pluginConfig.id||""):plugin.url,target:isConfigured?void 0:"blank",children:plugin.name}):plugin.name}),(0,jsx_runtime.jsx)(PluginTags,{plugin:plugin})]}),(0,jsx_runtime.jsx)("div",{className:"text-sm",children:plugin.description})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2 whitespace-nowrap items-center justify-end",children:["id"in plugin&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[pluginConfig&&!pluginConfig.enabled&&isConfigured&&(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:"small",onClick:()=>toggleEnabled({id:pluginConfig.id,enabled:!0}),children:"Enable"}),pluginConfig&&pluginConfig.id&&(pluginConfig.error?(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",status:"danger",size:"small",icon:(0,jsx_runtime.jsx)(icons.b8,{}),to:urls.j.appLogs(pluginConfig.id),children:"Errors"}):(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",size:"small",icon:(0,jsx_runtime.jsx)(icons._y,{}),to:urls.j.appLogs(pluginConfig.id),children:"Logs & metrics"})),(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconGear,{}),onClick:()=>editPlugin(plugin.id),children:"Configure"})]}),(0,jsx_runtime.jsx)(LemonMenu.d,{items:menuItems,placement:"bottom-end",children:(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconEllipsis,{})})})]})]})}var core_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+core@6.0.8_react-dom@18.2.0_react@18.2.0/node_modules/@dnd-kit/core/dist/core.esm.js"),modifiers_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+modifiers@6.0.1_@dnd-kit+core@6.0.8_react@18.2.0/node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js"),sortable_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+sortable@7.0.2_@dnd-kit+core@6.0.8_react@18.2.0/node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),utilities_esm=__webpack_require__("./node_modules/.pnpm/@dnd-kit+utilities@3.2.1_react@18.2.0/node_modules/@dnd-kit/utilities/dist/utilities.esm.js");let MinimalAppView=_ref=>{let{plugin,order}=_ref,{attributes,listeners,setNodeRef,transform,transition,isDragging}=(0,sortable_esm.nB)({id:plugin.id});return(0,jsx_runtime.jsxs)("div",{ref:setNodeRef,className:"flex gap-2 cursor-move border rounded p-2 items-center bg-bg-light",style:{position:"relative",transform:utilities_esm.ux.Transform.toString(transform),transition,zIndex:isDragging?999999:void 0},...attributes,...listeners,children:[(0,jsx_runtime.jsx)(src.LemonBadge.Number,{count:order+1,maxDigits:3}),(0,jsx_runtime.jsx)(PluginImage.c,{plugin:plugin,size:"small"}),(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:plugin.name})]})};function InstalledAppsReorderModal(){let{reorderModalOpen,sortableEnabledPlugins,temporaryOrder,pluginConfigsLoading}=(0,index_esm.useValues)(pluginsLogic.C),{closeReorderModal,setTemporaryOrder,cancelRearranging,savePluginOrders}=(0,index_esm.useActions)(pluginsLogic.C),onClose=()=>{cancelRearranging(),closeReorderModal()};return(0,jsx_runtime.jsx)(LemonModal.f,{onClose:onClose,isOpen:reorderModalOpen,width:600,title:"Re-order processing apps",description:(0,jsx_runtime.jsxs)("p",{children:["The order of some apps is important as they are processed sequentially. You can"," ",(0,jsx_runtime.jsx)("b",{children:"drag and drop the apps below"})," to change their order."]}),footer:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(src.LemonButton,{type:"secondary",onClick:onClose,children:"Cancel"}),(0,jsx_runtime.jsx)(src.LemonButton,{loading:pluginConfigsLoading,type:"primary",onClick:()=>savePluginOrders(temporaryOrder),children:"Save order"})]}),children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-2",children:(0,jsx_runtime.jsx)(core_esm.LB,{modifiers:[modifiers_esm.DL,modifiers_esm.F4],onDragEnd:_ref2=>{let{active,over}=_ref2,itemIds=sortableEnabledPlugins.map(item=>item.id);if(over&&active.id!==over.id){let oldIndex=itemIds.indexOf(Number(active.id)),newIndex=itemIds.indexOf(Number(over.id)),newOrder=(0,sortable_esm.Rp)(sortableEnabledPlugins,oldIndex,newIndex),newTemporaryOrder=newOrder.reduce((acc,plugin,index)=>({...acc,[plugin.id]:index+1}),{});setTemporaryOrder(newTemporaryOrder,Number(active.id))}},children:(0,jsx_runtime.jsx)(sortable_esm.Fo,{items:sortableEnabledPlugins,strategy:sortable_esm.qw,children:sortableEnabledPlugins.map((item,index)=>(0,jsx_runtime.jsx)(MinimalAppView,{plugin:item,order:index},item.id))})})})})}function AppsTab(){let{sortableEnabledPlugins,unsortableEnabledPlugins,filteredDisabledPlugins,loading}=(0,index_esm.useValues)(pluginsLogic.C),renderfn=plugin=>(0,jsx_runtime.jsx)(AppView,{plugin:plugin});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex gap-2 items-center justify-between",children:(0,jsx_runtime.jsx)(PluginsSearch,{})}),(0,jsx_runtime.jsx)(BatchExportsAlternativeWarning,{}),(0,jsx_runtime.jsx)(AppsTable,{title:"Enabled apps",plugins:[...sortableEnabledPlugins,...unsortableEnabledPlugins],loading:loading,renderfn:renderfn}),(0,jsx_runtime.jsx)(AppsTable,{title:"Available apps",plugins:filteredDisabledPlugins,loading:loading,renderfn:renderfn})]}),(0,jsx_runtime.jsx)(PluginDrawer,{}),(0,jsx_runtime.jsx)(InstalledAppsReorderModal,{})]})}var PayGateMini=__webpack_require__("./frontend/src/lib/components/PayGateMini/PayGateMini.tsx"),BatchExportsListScene=__webpack_require__("./frontend/src/scenes/batch_exports/BatchExportsListScene.tsx");function BatchExportsTab(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PayGateMini.E,{feature:types.P$.DATA_PIPELINES,children:(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}),(0,jsx_runtime.jsx)(BatchExportsListScene.BatchExportsList,{})," "]})}let scene={component:AppsScene,logic:pluginsLogic.C};function AppsScene(){let{user,hasAvailableFeature}=(0,index_esm.useValues)(userLogic.userLogic),{pluginTab}=(0,index_esm.useValues)(pluginsLogic.C),{setPluginTab}=(0,index_esm.useActions)(pluginsLogic.C),hasDataPipelines=hasAvailableFeature(types.P$.DATA_PIPELINES)||user?.is_impersonated==!0;return((0,react.useEffect)(()=>{(0,access.XW)(user?.organization)||(window.location.href="/")},[user]),user&&(0,access.XW)(user?.organization))?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{tabbedPage:!0,buttons:hasDataPipelines&&pluginTab===plugins_types.x.BatchExports?(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",to:urls.j.batchExportNew(),children:"Create export workflow"}):void 0}),(0,jsx_runtime.jsx)(LemonTabs.T,{"data-attr":"apps-tabs",activeKey:pluginTab,onChange:newKey=>setPluginTab(newKey),tabs:[{key:plugins_types.x.Apps,label:"Apps",content:(0,jsx_runtime.jsx)(AppsTab,{})},{key:plugins_types.x.BatchExports,label:"Batch Exports",content:(0,jsx_runtime.jsx)(BatchExportsTab,{})},{key:plugins_types.x.History,label:"History",content:(0,jsx_runtime.jsx)(ActivityLog.D,{scope:types.jc.PLUGIN})},(0,access.YU)(user?.organization)&&{key:plugins_types.x.AppsManagement,label:"Manage apps",content:(0,jsx_runtime.jsx)(AppsManagementTab,{})}]})]}):null}},"./frontend/src/scenes/plugins/edit/PluginField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>PluginField});var posthog_icons_es=__webpack_require__("./node_modules/.pnpm/@posthog+icons@0.6.3_react-dom@18.2.0_react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),CodeEditors=__webpack_require__("./frontend/src/lib/components/CodeEditors.tsx"),react=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),AutoSizer=__webpack_require__("./node_modules/.pnpm/react-virtualized@9.22.5_react-dom@18.2.0_react@18.2.0/node_modules/react-virtualized/dist/es/AutoSizer/index.js"),configUtils=__webpack_require__("./frontend/src/scenes/pipeline/configUtils.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function UploadField(_ref){let{value,onChange}=_ref;return(0,jsx_runtime.jsx)(src.LemonFileInput,{accept:"*",multiple:!1,onChange:files=>onChange?.(files[0]),value:value?.size?[value]:[],showUploadedFiles:!1})}function JsonConfigField(props){return(0,jsx_runtime.jsx)(AutoSizer.q,{disableWidth:!0,className:"min-h-60",children:_ref=>{let{height}=_ref;return(0,jsx_runtime.jsx)(CodeEditors.p,{className:"border",language:"json",value:props.value,onChange:v=>props.onChange?.(null!=v?v:""),height:height,options:{minimap:{enabled:!1}}})}})}function PluginField(_ref2){let{value,onChange,fieldConfig}=_ref2,[editingSecret,setEditingSecret]=(0,react.useState)(!1);return fieldConfig.secret&&!editingSecret&&value&&(value===configUtils.ue||value.name===configUtils.ue)?(0,jsx_runtime.jsxs)(src.LemonButton,{type:"secondary",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconPencil,{}),onClick:()=>{onChange?.(fieldConfig.default||""),setEditingSecret(!0)},children:["Reset secret ","attachment"===fieldConfig.type?"attachment":"field"]}):"attachment"===fieldConfig.type?(0,jsx_runtime.jsx)(UploadField,{value:value,onChange:onChange}):"string"===fieldConfig.type?(0,jsx_runtime.jsx)(src.LemonInput,{value:value,onChange:onChange,autoFocus:editingSecret,className:"ph-no-capture"}):"json"===fieldConfig.type?(0,jsx_runtime.jsx)(JsonConfigField,{value:value,onChange:onChange,autoFocus:editingSecret,className:"ph-no-capture"}):"choice"===fieldConfig.type?(0,jsx_runtime.jsx)(src.LemonSelect,{fullWidth:!0,value:value,className:"ph-no-capture",onChange:onChange,options:fieldConfig.choices.map(choice=>({label:choice,value:choice}))}):(0,jsx_runtime.jsxs)("strong",{className:"text-danger",children:['Unknown field type "',(0,jsx_runtime.jsx)("code",{children:fieldConfig.type}),'".',(0,jsx_runtime.jsx)("br",{}),"You may need to upgrade PostHog!"]})}},"./frontend/src/scenes/plugins/edit/interface-jobs/PluginJobConfiguration.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$f:()=>HISTORICAL_EXPORT_JOB_NAME,CC:()=>PluginJobModal,QZ:()=>PluginJobConfiguration,_F:()=>HISTORICAL_EXPORT_JOB_NAME_V2});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@posthog+icons@0.6.3_react-dom@18.2.0_react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_forms__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/kea-forms@3.1.2_kea@3.1.5/node_modules/kea-forms/lib/index.js"),lib_components_CodeEditors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/components/CodeEditors.tsx"),lib_components_DatePicker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./frontend/src/lib/components/DatePicker.tsx"),lib_dayjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./frontend/src/lib/dayjs.ts"),lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts"),lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),lib_lemon_ui_LemonCalendarRange_LemonCalendarRangeInline__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonCalendarRange/LemonCalendarRangeInline.tsx"),lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonField/index.ts"),lib_lemon_ui_LemonInput_LemonInput__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx"),lib_lemon_ui_LemonModal__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonModal/index.ts"),lib_utils__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./frontend/src/lib/utils.tsx"),react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),scenes_userLogic__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./frontend/src/scenes/userLogic.ts"),_interfaceJobsLogic__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let HISTORICAL_EXPORT_JOB_NAME="Export historical events",HISTORICAL_EXPORT_JOB_NAME_V2="Export historical events V2";function PluginJobConfiguration(props){let{jobName,jobSpec,pluginConfigId,pluginId}=props,{playButtonOnClick}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)((0,_interfaceJobsLogic__WEBPACK_IMPORTED_MODULE_16__.D)(props)),{runJobAvailable}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)((0,_interfaceJobsLogic__WEBPACK_IMPORTED_MODULE_16__.D)(props)),jobHasEmptyPayload=0===Object.keys(jobSpec.payload||{}).length,configureOrRunJobTooltip=runJobAvailable?jobHasEmptyPayload?"Run job":"Configure and run job":"You already ran this job recently.";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("span",{className:"ml-1",onClick:()=>playButtonOnClick(jobHasEmptyPayload),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Tooltip,{title:configureOrRunJobTooltip,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("span",{children:jobHasEmptyPayload?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_icons__WEBPACK_IMPORTED_MODULE_7__.Ud,{className:runJobAvailable?"Plugin__RunJobButton":"Plugin__RunJobButton--disabled"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconGear,{className:runJobAvailable?"Plugin__RunJobButton":"Plugin__RunJobButton--disabled"})})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(PluginJobModal,{jobName:jobName,jobSpec:jobSpec,pluginConfigId:pluginConfigId,pluginId:pluginId})]})}function PluginJobModal(props){let{jobName,jobSpec}=props,{setIsJobModalOpen,submitJobPayload}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)((0,_interfaceJobsLogic__WEBPACK_IMPORTED_MODULE_16__.D)(props)),{isJobModalOpen}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)((0,_interfaceJobsLogic__WEBPACK_IMPORTED_MODULE_16__.D)(props)),{user}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_userLogic__WEBPACK_IMPORTED_MODULE_15__.userLogic),shownFields=(0,react__WEBPACK_IMPORTED_MODULE_14__.useMemo)(()=>Object.entries(jobSpec.payload||{}).filter(_ref=>{let[,options]=_ref;return!options.staff_only||user?.is_staff||user?.is_impersonated}).sort((a,b)=>a[0].localeCompare(b[0])),[jobSpec,user]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonModal__WEBPACK_IMPORTED_MODULE_12__.f,{isOpen:isJobModalOpen,onClose:()=>setIsJobModalOpen(!1),title:`Configuring job '${jobName}'`,footer:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_8__.J,{type:"secondary",className:"mr-2",onClick:()=>setIsJobModalOpen(!1),children:"Cancel"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonButton__WEBPACK_IMPORTED_MODULE_8__.J,{"data-attr":"run-job",type:"primary",onClick:()=>submitJobPayload(),children:"Run job now"})]}),children:shownFields.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(kea_forms__WEBPACK_IMPORTED_MODULE_3__.Form,{logic:_interfaceJobsLogic__WEBPACK_IMPORTED_MODULE_16__.D,props:props,formKey:"jobPayload",children:shownFields.map(_ref2=>{let[key,options]=_ref2;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonField__WEBPACK_IMPORTED_MODULE_10__.D,{name:key,label:options.title||key,className:"mb-4",children:props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(FieldInput,{options:options,...props})},key)})}):null})}function FieldInput(_ref3){let{options,value,onChange}=_ref3;switch(options.type){case"string":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonInput_LemonInput__WEBPACK_IMPORTED_MODULE_11__.D,{value:value||"",onChange:onChange});case"number":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonInput_LemonInput__WEBPACK_IMPORTED_MODULE_11__.D,{type:"number",value:value,onChange:onChange});case"json":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_components_CodeEditors__WEBPACK_IMPORTED_MODULE_4__.p,{options:{codeLens:!1,lineNumbers:"off"},className:"Plugin__JobJsonEditor",language:"json",height:200,value:value,onChange:onChange});case"boolean":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.LemonSegmentedButton,{onChange:onChange,value:value,options:[{value:!0,label:"True",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconCheck,{})},{value:!1,label:"False",icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconX,{})}]});case"date":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_components_DatePicker__WEBPACK_IMPORTED_MODULE_5__.M,{popupStyle:{zIndex:1061},allowClear:!0,placeholder:"Choose a date",className:"retention-date-picker",suffixIcon:null,use12Hours:!0,showTime:!0,value:value?(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(value):null,onChange:date=>onChange(date?.toISOString())});case"daterange":return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"border rounded p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("div",{className:"pb-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)(lib_lemon_ui_LemonCalendarRange_LemonCalendarRangeInline__WEBPACK_IMPORTED_MODULE_9__.S,{value:value?[(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(value[0]),(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(value[1])]:null,onChange:_ref4=>{let[rangeStart,rangeEnd]=_ref4;return onChange([rangeStart.format("YYYY-MM-DD"),rangeEnd.format("YYYY-MM-DD")])}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsxs)("div",{className:"border-t pt-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("span",{className:"text-muted",children:"Selected period:"})," ",value?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("span",{children:value[0]===value[1]?(0,lib_utils__WEBPACK_IMPORTED_MODULE_13__.p6)((0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(value[0])):(0,lib_utils__WEBPACK_IMPORTED_MODULE_13__._Q)((0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(value[0]),(0,lib_dayjs__WEBPACK_IMPORTED_MODULE_6__.Bv)(value[1]))}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_17__.jsx)("span",{className:"italic",children:"No period selected."})]})]})}}},"./frontend/src/scenes/plugins/edit/interface-jobs/interfaceJobsLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>interfaceJobsLogic});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/kea-forms@3.1.2_kea@3.1.5/node_modules/kea-forms/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./frontend/src/lib/api.ts"),lib_lemon_ui_LemonToast_LemonToast__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./frontend/src/lib/lemon-ui/LemonToast/LemonToast.tsx"),lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./frontend/src/lib/utils.tsx");let interfaceJobsLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","plugins","edit","interface-jobs","interfaceJobsLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.props)({}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.key)(props=>`${props.pluginId}_${props.jobName}`),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setIsJobModalOpen:isOpen=>({isOpen}),setRunJobAvailable:isAvailable=>({isAvailable}),runJob:form=>({form}),playButtonOnClick:jobHasEmptyPayload=>({jobHasEmptyPayload}),setRunJobAvailableTimeout:timeout=>({timeout})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({isJobModalOpen:[!1,{setIsJobModalOpen:(_,_ref)=>{let{isOpen}=_ref;return isOpen}}],runJobAvailable:[!0,{setRunJobAvailable:(_,_ref2)=>{let{isAvailable}=_ref2;return isAvailable}}],runJobAvailableTimeout:[null,{setRunJobAvailableTimeout:(_,_ref3)=>{let{timeout}=_ref3;return timeout}}]}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.listeners)(_ref4=>{let{actions,values}=_ref4;return{playButtonOnClick:_ref5=>{let{jobHasEmptyPayload}=_ref5;if(values.runJobAvailable){if(jobHasEmptyPayload){actions.submitJobPayload();return}actions.setIsJobModalOpen(!0)}}}}),(0,kea_forms__WEBPACK_IMPORTED_MODULE_1__.forms)(_ref6=>{let{actions,props,values}=_ref6;return{jobPayload:{defaults:Object.fromEntries(Object.entries(props.jobSpec.payload||{}).filter(_ref7=>{let[,spec]=_ref7;return"default"in spec}).map(_ref8=>{let[key,spec]=_ref8;return[key,spec.default]})),errors:payload=>{let errors={};for(let key of Object.keys(props.jobSpec.payload||{})){let spec=props.jobSpec.payload?.[key];spec?.required&&void 0==payload[key]?errors[key]="Please enter a value":spec?.type!="json"||(0,lib_utils__WEBPACK_IMPORTED_MODULE_4__.XA)(payload[key])||(errors[key]="Please enter valid JSON")}return errors},submit:async payload=>{actions.setIsJobModalOpen(!1);try{await lib_api__WEBPACK_IMPORTED_MODULE_2__.ZP.create(`api/plugin_config/${props.pluginConfigId}/job`,{job:{type:props.jobName,payload}})}catch(error){lib_lemon_ui_LemonToast_LemonToast__WEBPACK_IMPORTED_MODULE_3__.UJ.error(`Enqueuing job "${props.jobName}" failed`);return}props.onSubmit?.(),actions.setRunJobAvailable(!1),values.runJobAvailableTimeout&&clearTimeout(values.runJobAvailableTimeout);let timeout=window.setTimeout(()=>{actions.setRunJobAvailable(!0)},15e3);actions.setRunJobAvailableTimeout(timeout),lib_lemon_ui_LemonToast_LemonToast__WEBPACK_IMPORTED_MODULE_3__.UJ.success("Job has been enqueued")}}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.events)(_ref9=>{let{values}=_ref9;return{beforeUnmount:()=>{values.runJobAvailableTimeout&&clearTimeout(values.runJobAvailableTimeout)}}})])},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/batch_exports/BatchExports.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".BatchExportRunIcon--pulse{animation:BatchExportRunIcon__pulse 2s ease-out infinite;outline:2px solid transparent;outline-offset:0}@keyframes BatchExportRunIcon__pulse{0%{outline-color:var(--primary-3000-hover);outline-offset:0}80%{outline-color:transparent;outline-offset:20px}to{outline-color:transparent;outline-offset:20px}}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/plugins/Plugins.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".Plugin__JobJsonEditor{border:1px solid #efefef}.Plugin__RunJobButton{color:var(--success);cursor:pointer}.Plugin__RunJobButton--disabled{color:#9a9a9a;cursor:default}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.31_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/scenes/plugins/source/PluginSource.scss":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".PluginSource .ant-form-item-explain-error{font-family:var(--font-mono);white-space:pre-wrap}",""]),module.exports=exports}}]);