"use strict";(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[81353],{"../../frontend/src/scenes/error-tracking/ErrorTrackingSetupPrompt.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>ErrorTrackingSetupPrompt});var _posthog_icons__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.11.7_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),kea__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/components/ProductIntroduction/ProductIntroduction.tsx"),lib_hooks_useFeatureFlag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/hooks/useFeatureFlag.ts"),lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/lib/utils/product-intents.ts"),posthog_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/.pnpm/posthog-js@1.234.10_@rrweb+types@2.0.0-alpha.17/node_modules/posthog-js/dist/module.js"),scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../frontend/src/scenes/teamLogic.tsx"),_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../frontend/src/types.ts"),_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../frontend/src/scenes/error-tracking/errorTrackingLogic.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let ErrorTrackingSetupPrompt=_ref=>{let{children}=_ref,{hasSentExceptionEvent,hasSentExceptionEventLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(_errorTrackingLogic__WEBPACK_IMPORTED_MODULE_9__.HT),{currentTeam,currentTeamLoading}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useValues)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__.teamLogic),hasErrorTracking=(0,lib_hooks_useFeatureFlag__WEBPACK_IMPORTED_MODULE_4__.y)("ERROR_TRACKING"),exceptionAutocaptureEnabled=currentTeam&&currentTeam.autocapture_exceptions_opt_in;return hasSentExceptionEventLoading||currentTeamLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{className:"flex justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.$j,{})}):hasErrorTracking?hasSentExceptionEvent||exceptionAutocaptureEnabled?children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(IngestionStatusCheck,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(BetaAccessBanner,{})},IngestionStatusCheck=()=>{let{addProductIntent,updateCurrentTeam}=(0,kea__WEBPACK_IMPORTED_MODULE_2__.useActions)(scenes_teamLogic__WEBPACK_IMPORTED_MODULE_7__.teamLogic);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__.C,{productName:"Error tracking",thingName:"issue",titleOverride:"You haven't captured any exceptions",description:"To start capturing exceptions you need to enable exception autocapture. Exception autocapture only applies to the JS SDK. Installation for other platforms are described in the docs.",isEmpty:!0,productKey:_types__WEBPACK_IMPORTED_MODULE_8__.Md.ERROR_TRACKING,actionElementOverride:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{type:"primary",onClick:()=>{addProductIntent({product_type:_types__WEBPACK_IMPORTED_MODULE_8__.Md.ERROR_TRACKING,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_5__.kp.ERROR_TRACKING_EXCEPTION_AUTOCAPTURE_ENABLED}),updateCurrentTeam({autocapture_exceptions_opt_in:!0})},children:"Enable exception autocapture"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{targetBlank:!0,sideIcon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_icons__WEBPACK_IMPORTED_MODULE_0__.IconExternal,{className:"w-5 h-5"}),to:"https://posthog.com/docs/error-tracking/installation",onClick:()=>{addProductIntent({product_type:_types__WEBPACK_IMPORTED_MODULE_8__.Md.ERROR_TRACKING,intent_context:lib_utils_product_intents__WEBPACK_IMPORTED_MODULE_5__.kp.ERROR_TRACKING_DOCS_VIEWED})},children:"Read the docs"})]})})},BetaAccessBanner=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(lib_components_ProductIntroduction_ProductIntroduction__WEBPACK_IMPORTED_MODULE_3__.C,{productName:"Error tracking",thingName:"issue",titleOverride:"Welcome to Error Tracking",description:"Error tracking is in beta for our JS, Node and Python SDKs.",isEmpty:!0,docsURL:"https://posthog.com/docs/error-tracking",productKey:_types__WEBPACK_IMPORTED_MODULE_8__.Md.ERROR_TRACKING,actionElementOverride:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_1__.Jp,{type:"primary",onClick:()=>posthog_js__WEBPACK_IMPORTED_MODULE_6__.ZP.updateEarlyAccessFeatureEnrollment("error-tracking",!0),children:"Get started"})})},"../../frontend/src/scenes/error-tracking/configuration/ErrorTrackingConfigurationScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ErrorTrackingConfigurationScene:()=>ErrorTrackingConfigurationScene,errorTrackingConfigurationSceneLogic:()=>errorTrackingConfigurationSceneLogic,scene:()=>scene});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts"),scenes_settings_Settings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/scenes/settings/Settings.tsx"),scenes_urls__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/scenes/urls.ts"),_ErrorTrackingSetupPrompt__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/scenes/error-tracking/ErrorTrackingSetupPrompt.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");let errorTrackingConfigurationSceneLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","error-tracking","configuration","errorTrackingConfigurationSceneLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.selectors)({breadcrumbs:[()=>[],()=>[{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_1__.x.ErrorTracking,path:scenes_urls__WEBPACK_IMPORTED_MODULE_3__.j.errorTracking(),name:"Error tracking"},{key:scenes_sceneTypes__WEBPACK_IMPORTED_MODULE_1__.x.ErrorTrackingConfiguration,path:scenes_urls__WEBPACK_IMPORTED_MODULE_3__.j.errorTrackingConfiguration(),name:"Configuration"}]]})]),scene={component:ErrorTrackingConfigurationScene,logic:errorTrackingConfigurationSceneLogic};function ErrorTrackingConfigurationScene(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ErrorTrackingSetupPrompt__WEBPACK_IMPORTED_MODULE_4__.n,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(scenes_settings_Settings__WEBPACK_IMPORTED_MODULE_2__.Z,{logicKey:"errorTracking",sectionId:"environment-error-tracking",settingId:"error-tracking-exception-autocapture",handleLocally:!0})})}},"../../frontend/src/scenes/error-tracking/errorTrackingLogic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HT:()=>errorTrackingLogic,Kg:()=>DEFAULT_ERROR_TRACKING_FILTER_GROUP,O3:()=>DEFAULT_ERROR_TRACKING_DATE_RANGE});var kea__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),kea_loaders__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),lib_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../frontend/src/lib/api.ts"),lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../frontend/src/lib/logic/featureFlagLogic.ts"),lib_utils_definitions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../frontend/src/lib/utils/definitions.ts"),_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../frontend/src/types.ts");let DEFAULT_ERROR_TRACKING_DATE_RANGE={date_from:"-7d",date_to:null},DEFAULT_ERROR_TRACKING_FILTER_GROUP={type:_types__WEBPACK_IMPORTED_MODULE_5__.J2.And,values:[{type:_types__WEBPACK_IMPORTED_MODULE_5__.J2.And,values:[]}]},errorTrackingLogic=(0,kea__WEBPACK_IMPORTED_MODULE_0__.kea)([(0,kea__WEBPACK_IMPORTED_MODULE_0__.path)(["scenes","error-tracking","errorTrackingLogic"]),(0,kea__WEBPACK_IMPORTED_MODULE_0__.connect)(()=>({values:[lib_logic_featureFlagLogic__WEBPACK_IMPORTED_MODULE_3__.featureFlagLogic,["featureFlags"]]})),(0,kea__WEBPACK_IMPORTED_MODULE_0__.actions)({setDateRange:dateRange=>({dateRange}),setAssignee:assignee=>({assignee}),setSearchQuery:searchQuery=>({searchQuery}),setFilterGroup:filterGroup=>({filterGroup}),setFilterTestAccounts:filterTestAccounts=>({filterTestAccounts})}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.reducers)({dateRange:[DEFAULT_ERROR_TRACKING_DATE_RANGE,{persist:!0},{setDateRange:(_,_ref)=>{let{dateRange}=_ref;return dateRange}}],assignee:[null,{setAssignee:(_,_ref2)=>{let{assignee}=_ref2;return assignee}}],filterGroup:[DEFAULT_ERROR_TRACKING_FILTER_GROUP,{persist:!0},{setFilterGroup:(_,_ref3)=>{let{filterGroup}=_ref3;return filterGroup}}],filterTestAccounts:[!1,{persist:!0},{setFilterTestAccounts:(_,_ref4)=>{let{filterTestAccounts}=_ref4;return filterTestAccounts}}],searchQuery:["",{setSearchQuery:(_,_ref5)=>{let{searchQuery}=_ref5;return searchQuery}}]}),(0,kea_loaders__WEBPACK_IMPORTED_MODULE_1__.loaders)({hasSentExceptionEvent:{__default:void 0,loadExceptionEventDefinition:async()=>{let definition=(await lib_api__WEBPACK_IMPORTED_MODULE_2__.ZP.eventDefinitions.list({event_type:_types__WEBPACK_IMPORTED_MODULE_5__.uW.Event,search:"$exception"})).results.find(r=>"$exception"===r.name);return!!definition&&!(0,lib_utils_definitions__WEBPACK_IMPORTED_MODULE_4__.U)(definition)}}}),(0,kea__WEBPACK_IMPORTED_MODULE_0__.afterMount)(_ref6=>{let{actions}=_ref6;actions.loadExceptionEventDefinition()})])}}]);