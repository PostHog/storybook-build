(window.webpackJsonp=window.webpackJsonp||[]).push([[9,13],{"./frontend/src/scenes/apps/HistoricalExport.tsx":function(x,_,t){"use strict";t.r(_),t.d(_,"HistoricalExport",function(){return e});var l=t("./node_modules/antd/es/card/index.js"),j=t("./node_modules/kea/lib/index.esm.js"),v=t("./frontend/src/scenes/apps/AppMetricsGraph.tsx"),c=t("./frontend/src/scenes/apps/appMetricsSceneLogic.ts"),M=t("./frontend/src/scenes/apps/historicalExportLogic.ts"),D=t("./frontend/src/scenes/apps/MetricsTab.tsx"),s=t("./node_modules/react/jsx-runtime.js"),L=t.n(s);function e(P){var E,m,r,a,p,O=Object(j.useValues)(Object(M.historicalExportLogic)(P)),o=O.data,u=O.dataLoading;return Object(s.jsxs)("div",{className:"mt-4 mb-4 mr-8",children:[Object(s.jsx)(l.a,{title:"Overview",children:Object(s.jsx)(D.MetricsOverview,{tab:c.AppMetricsTab.HistoricalExports,metrics:(E=o==null?void 0:o.metrics)!==null&&E!==void 0?E:null,metricsLoading:u,exportDuration:o==null||(m=o.summary)===null||m===void 0?void 0:m.duration,exportFailureReason:o==null||(r=o.summary)===null||r===void 0?void 0:r.failure_reason})}),Object(s.jsx)(l.a,{title:"Delivery trends",className:"mt-4",children:Object(s.jsx)(v.AppMetricsGraph,{tab:c.AppMetricsTab.HistoricalExports,metrics:(a=o==null?void 0:o.metrics)!==null&&a!==void 0?a:null,metricsLoading:u})}),Object(s.jsx)(l.a,{title:"Errors",className:"mt-4",children:Object(s.jsx)(D.ErrorsOverview,{errors:(o==null?void 0:o.errors)||[],loading:u,category:"exportEvents",jobId:o==null||(p=o.summary)===null||p===void 0?void 0:p.job_id})})]})}try{e.displayName="HistoricalExport",e.__docgenInfo={description:"",displayName:"HistoricalExport",props:{pluginConfigId:{defaultValue:null,description:"",name:"pluginConfigId",required:!0,type:{name:"number"}},jobId:{defaultValue:null,description:"",name:"jobId",required:!0,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/apps/HistoricalExport.tsx#HistoricalExport"]={docgenInfo:e.__docgenInfo,name:"HistoricalExport",path:"frontend/src/scenes/apps/HistoricalExport.tsx#HistoricalExport"})}catch(P){}},"./frontend/src/scenes/apps/historicalExportLogic.ts":function(x,_,t){"use strict";t.r(_),t.d(_,"historicalExportLogic",function(){return u});var l=t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),j=t.n(l),v=t("./node_modules/@babel/runtime/regenerator/index.js"),c=t.n(v),M=t("./node_modules/core-js/modules/es.array.concat.js"),D=t.n(M),s=t("./node_modules/core-js/modules/es.array.iterator.js"),L=t.n(s),e=t("./node_modules/core-js/modules/es.object.to-string.js"),P=t.n(e),E=t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),m=t.n(E),r=t("./node_modules/kea/lib/index.esm.js"),a=t("./node_modules/kea-loaders/lib/index.js"),p=t.n(a),O=t("./frontend/src/lib/api.ts"),o=t("./frontend/src/scenes/teamLogic.tsx"),u=Object(r.kea)([Object(r.path)(["scenes","apps","historicalExportLogic"]),Object(r.props)({}),Object(r.key)(function(n){var i=n.pluginConfigId,f=n.jobId;return"".concat(i,"_").concat(f)}),Object(a.loaders)(function(n){var i=n.props;return{data:[null,{loadExportData:function(){var f=j()(c.a.mark(function I(){return c.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,O.b.get("api/projects/".concat(o.a.values.currentTeamId,"/app_metrics/").concat(i.pluginConfigId,"/historical_exports/").concat(i.jobId));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},I)}));function g(){return f.apply(this,arguments)}return g}()}]}}),Object(r.events)(function(n){var i=n.actions;return{afterMount:i.loadExportData}})])}}]);
