(window.webpackJsonp=window.webpackJsonp||[]).push([[293],{"./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx":function(ce,S,n){"use strict";n.d(S,"a",function(){return e});var P=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),y=n.n(P),F=n("./node_modules/react/index.js"),E=n.n(F),A=n("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),f=n("./frontend/src/lib/components/LemonButton/index.ts"),j=n("./frontend/src/lib/components/LemonDivider/index.ts"),p=n("./node_modules/react/jsx-runtime.js"),m=n.n(p);function e(I){var w=I.item,R=I.onComplete,D=I.onClose,U=Object(F.useState)(w.alias),T=y()(U,2),z=T[0],K=T[1],W=Object(F.useState)(w.regex),H=y()(W,2),N=H[0],Q=H[1];return Object(p.jsxs)("div",{className:"px-2",children:[Object(p.jsx)("b",{children:"New Wildcard"}),Object(p.jsx)(j.a,{}),Object(p.jsxs)("div",{className:"space-y-2",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"Alias"}),Object(p.jsx)(A.a,{defaultValue:z,onChange:function(G){return K(G)},onPressEnter:function(){return!1}})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"Regex"}),Object(p.jsx)(A.a,{defaultValue:N,onChange:function(G){return Q(G)},onPressEnter:function(){return!1}}),Object(p.jsxs)("div",{className:"text-muted",style:{marginBottom:12},children:["For example: ",Object(p.jsx)("code",{children:"\\/merchant\\/\\d+\\/dashboard$"})]})]})]}),Object(p.jsxs)("div",{className:"flex justify-end gap-2",children:[Object(p.jsx)(f.a,{type:"secondary",onClick:D,children:"Cancel"}),Object(p.jsx)(f.a,{type:"primary",onClick:function(){return R({alias:z,regex:N})},children:"Save"})]})]})}try{e.displayName="PathRegexPopup",e.__docgenInfo={description:"",displayName:"PathRegexPopup",props:{onComplete:{defaultValue:null,description:"",name:"onComplete",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Record<string, any>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"]={docgenInfo:e.__docgenInfo,name:"PathRegexPopup",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx#PathRegexPopup"})}catch(I){}},"./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx":function(ce,S,n){"use strict";n.d(S,"a",function(){return p});var P=n("./node_modules/core-js/modules/es.array.map.js"),y=n.n(P),F=n("./frontend/src/scenes/actions/Actions.scss"),E=n("./frontend/src/lib/components/PropertyFilters/components/FilterRow.tsx"),A=n("./frontend/src/lib/components/PathCleanFilters/PathCleanFilter.tsx"),f=n("./node_modules/react/jsx-runtime.js"),j=n.n(f);function p(m){var e=m.pageKey,I=m.onChange,w=m.onRemove,R=m.pathCleaningFilters,D=m.showConditionBadge,U=D===void 0?!1:D,T=m.disablePopover,z=T===void 0?!1:T;return Object(f.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:R.length>0&&R.map(function(K,W){return Object(f.jsx)(E.a,{item:K,index:W,totalCount:R.length-1,filters:R,pageKey:e,showConditionBadge:U,disablePopover:z,label:"Add rule",onRemove:w,filterComponent:function(N){return Object(f.jsx)(A.a,{item:K,onClose:N,onComplete:function(L){I(L),N()}})}},W)})})}try{p.displayName="PathCleanFilters",p.__docgenInfo={description:"",displayName:"PathCleanFilters",props:{endpoint:{defaultValue:null,description:"",name:"endpoint",required:!1,type:{name:"string | null"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newItem: Record<string, any>) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(index: number) => void"}},pathCleaningFilters:{defaultValue:null,description:"",name:"pathCleaningFilters",required:!0,type:{name:"Record<string, any>[]"}},pageKey:{defaultValue:null,description:"",name:"pageKey",required:!0,type:{name:"string"}},showConditionBadge:{defaultValue:{value:"false"},description:"",name:"showConditionBadge",required:!1,type:{name:"boolean"}},disablePopover:{defaultValue:{value:"false"},description:"",name:"disablePopover",required:!1,type:{name:"boolean"}},taxonomicGroupTypes:{defaultValue:null,description:"",name:"taxonomicGroupTypes",required:!1,type:{name:"TaxonomicFilterGroupType[]"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"]={docgenInfo:p.__docgenInfo,name:"PathCleanFilters",path:"frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx#PathCleanFilters"})}catch(m){}},"./frontend/src/lib/hooks/useAnchor.ts":function(ce,S,n){"use strict";n.d(S,"a",function(){return F});var P=n("./node_modules/react/index.js"),y=n.n(P);function F(E){Object(P.useEffect)(function(){if(E&&document.getElementById(E.substr(1))){var A=document.getElementById(E.substr(1));if(!A)return;A.classList.add("highlighted");var f=A.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:f-50-32,behavior:"smooth"})}},[E])}},"./frontend/src/scenes/project/Settings/index.tsx":function(ce,S,n){"use strict";n.r(S),n.d(S,"scene",function(){return vt}),n.d(S,"ProjectSettings",function(){return Pe});var P=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),y=n.n(P),F=n("./node_modules/core-js/modules/es.function.name.js"),E=n("./node_modules/core-js/modules/es.array.includes.js"),A=n("./node_modules/core-js/modules/es.string.includes.js"),f=n("./node_modules/react/index.js"),j=n("./node_modules/kea/lib/index.esm.js"),p=n("./frontend/src/scenes/teamLogic.tsx"),m=n("./frontend/@posthog/lemon-ui/src/index.ts"),e=n("./node_modules/react/jsx-runtime.js");function I(){var t=Object(j.useActions)(p.a),s=t.updateCurrentTeam,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.currentTeamLoading;return Object(e.jsx)(m.LemonSwitch,{onChange:function(l){s({anonymize_ips:l})},checked:!!(o!=null&&o.anonymize_ips),disabled:a,label:"Discard client IP data",bordered:!0})}var w=n("./frontend/src/scenes/project/Settings/SessionRecording.tsx"),R=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),D=n.n(R),U=n("./node_modules/@babel/runtime/regenerator/index.js"),T=n.n(U),z=n("./node_modules/core-js/modules/es.regexp.exec.js"),K=n("./node_modules/core-js/modules/es.string.replace.js"),W=n("./frontend/src/lib/api.ts"),H=n("./frontend/src/lib/components/lemonToast.tsx"),N=n("./frontend/src/lib/utils.tsx");function Q(t){return t.replace(/\/*(?:posthog|slack)?\/?$/,"/slack")}var L=Object(j.kea)({path:["scenes","project","Settings","webhookIntegrationLogic"],loaders:function(s){var r=s.actions;return{testedWebhook:[null,{testWebhook:function(){var o=D()(T.a.mark(function u(l){var i,c;return T.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((i=l)!==null&&i!==void 0&&i.includes("discord.com/")&&(l=Q(l)),!l){d.next=16;break}return d.prev=2,d.next=5,W.b.create("api/user/test_slack_webhook",{webhook:l});case 5:if(c=d.sent,!c.success){d.next=10;break}return d.abrupt("return",l);case 10:r.testWebhookFailure(c.error);case 11:d.next=16;break;case 13:d.prev=13,d.t0=d.catch(2),r.testWebhookFailure(d.t0.message);case 16:return d.abrupt("return",null);case 17:case"end":return d.stop()}},u,null,[[2,13]])}));function a(u){return o.apply(this,arguments)}return a}()}],removedWebhook:[null,{removeWebhook:function(){return p.a.actions.updateCurrentTeam({slack_incoming_webhook:""}),null}}]}},listeners:function(){return{testWebhookSuccess:function(){var s=D()(T.a.mark(function o(a){var u;return T.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:u=a.testedWebhook,u&&p.a.actions.updateCurrentTeam({slack_incoming_webhook:u});case 2:case"end":return i.stop()}},o)}));function r(o){return s.apply(this,arguments)}return r}(),testWebhookFailure:function(r){var o=r.error;H.d.error(Object(N.i)(o))}}},selectors:{loading:[function(t){return[t.testedWebhookLoading,p.a.selectors.currentTeamLoading]},function(t,s){return t||s}]}});function G(){var t=Object(f.useState)(""),s=y()(t,2),r=s[0],o=s[1],a=Object(j.useActions)(L),u=a.testWebhook,l=a.removeWebhook,i=Object(j.useValues)(L),c=i.loading,h=Object(j.useValues)(p.a),d=h.currentTeam;return Object(f.useEffect)(function(){d!=null&&d.slack_incoming_webhook&&o(d==null?void 0:d.slack_incoming_webhook)},[d]),Object(e.jsxs)("div",{children:[Object(e.jsxs)("p",{children:["Send notifications when selected actions are performed by users.",Object(e.jsx)("br",{}),"Guidance on integrating with webhooks available in our docs,"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrate/third-party/slack",children:"for Slack"})," and"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations/microsoft-teams",children:"for Microsoft Teams"}),". Discord is also supported."]}),Object(e.jsxs)("div",{className:"space-y-4",style:{maxWidth:"40rem"},children:[Object(e.jsx)(m.LemonInput,{value:r,onChange:o,type:"url",placeholder:d!=null&&d.slack_incoming_webhook?"":"integration disabled - enter URL, then Test & Save",disabled:c,onPressEnter:function(){return u(r)}}),Object(e.jsxs)("div",{className:"flex items-center gap-2",children:[Object(e.jsx)(m.LemonButton,{type:"primary",disabled:!r,onClick:function(b){b.preventDefault(),u(r)},loading:c,children:"Test & Save"}),Object(e.jsx)(m.LemonButton,{status:"danger",type:"secondary",onClick:function(b){b.preventDefault(),l(),o("")},disabled:!(d!=null&&d.slack_incoming_webhook),children:"Clear & Disable"})]})]})]})}var Ee=n("./frontend/src/lib/hooks/useAnchor.ts"),Ie=n("./node_modules/kea-router/lib/index.js"),k=n("./frontend/src/scenes/userLogic.ts");function Re(){var t=Object(j.useValues)(k.a),s=t.user,r=t.userLoading,o=Object(j.useActions)(k.a),a=o.updateUser;return Object(e.jsx)(m.LemonSwitch,{id:"posthog-toolbar-switch",onChange:function(){a({toolbar_mode:(s==null?void 0:s.toolbar_mode)==="disabled"?"toolbar":"disabled"})},checked:(s==null?void 0:s.toolbar_mode)!=="disabled",disabled:r,label:"Enable PostHog Toolbar",bordered:!0})}var M=n("./frontend/src/lib/components/icons.tsx");function X(t){var s=t.isOpen,r=t.setIsOpen,o=Object(j.useValues)(p.a),a=o.currentTeam,u=o.teamBeingDeleted,l=Object(j.useActions)(p.a),i=l.deleteTeam,c=Object(f.useState)(!1),h=y()(c,2),d=h[0],g=h[1],b=!!a&&(u==null?void 0:u.id)===a.id;return Object(e.jsxs)(m.LemonModal,{title:"Delete the project and its data?",onClose:b?void 0:function(){return r(!1)},footer:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.LemonButton,{disabled:b,type:"secondary",onClick:function(){return r(!1)},children:"Cancel"}),Object(e.jsx)(m.LemonButton,{type:"primary",disabled:!d,loading:b,"data-attr":"delete-project-ok",status:"danger",onClick:a?function(){return i(a)}:void 0,children:"Delete ".concat(a?a.name:"the current project")})]}),isOpen:s,children:[Object(e.jsxs)("p",{children:["Project deletion ",Object(e.jsx)("b",{children:"cannot be undone"}),". You will lose all data, ",Object(e.jsx)("b",{children:"including events"}),", related to the project."]}),Object(e.jsxs)("p",{children:["Please type ",Object(e.jsx)("strong",{children:a?a.name:"this project's name"})," to confirm."]}),Object(e.jsx)(m.LemonInput,{type:"text",onChange:function(O){a&&g(O.toLowerCase()===a.name.toLowerCase())}})]})}function q(t){var s=t.isRestricted,r=Object(j.useValues)(p.a),o=r.currentTeam,a=Object(f.useState)(!1),u=y()(a,2),l=u[0],i=u[1];return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("div",{className:"text-danger",children:[Object(e.jsx)("h2",{className:"text-danger subtitle",children:"Danger Zone"}),Object(e.jsxs)("div",{className:"mt-4",children:[!s&&Object(e.jsxs)("p",{className:"text-danger",children:["This is ",Object(e.jsx)("b",{children:"irreversible"}),". Please be certain."]}),Object(e.jsxs)(m.LemonButton,{status:"danger",type:"secondary",onClick:function(){return i(!0)},"data-attr":"delete-project-button",icon:Object(e.jsx)(M.IconDelete,{}),disabled:s,children:["Delete ",(o==null?void 0:o.name)||"the current project"]})]})]}),Object(e.jsx)(X,{isOpen:l,setIsOpen:i})]})}try{X.displayName="DeleteProjectModal",X.__docgenInfo={description:"",displayName:"DeleteProjectModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/DangerZone.tsx#DeleteProjectModal"]={docgenInfo:X.__docgenInfo,name:"DeleteProjectModal",path:"frontend/src/scenes/project/Settings/DangerZone.tsx#DeleteProjectModal"})}catch(t){}try{q.displayName="DangerZone",q.__docgenInfo={description:"",displayName:"DangerZone",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/DangerZone.tsx#DangerZone"]={docgenInfo:q.__docgenInfo,name:"DangerZone",path:"frontend/src/scenes/project/Settings/DangerZone.tsx#DangerZone"})}catch(t){}var De=n("./frontend/src/lib/components/PageHeader.tsx"),le=n("./frontend/src/lib/components/Link.tsx"),Y=n("./frontend/src/lib/components/RestrictedArea.tsx"),B=n("./frontend/src/lib/constants.tsx"),Ne=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),je=n.n(Ne),yt=n("./node_modules/core-js/modules/es.array.concat.js"),Ct=n("./node_modules/core-js/modules/es.object.to-string.js"),Tt=n("./node_modules/core-js/modules/es.regexp.to-string.js"),Me=n("./frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),Ve=n("./frontend/src/lib/utils/eventUsageLogic.ts"),J=n("./frontend/src/lib/components/TaxonomicFilter/types.ts"),de=n("./frontend/src/models/groupsModel.ts");function Fe(){var t=Object(j.useActions)(p.a),s=t.updateCurrentTeam,r=Object(j.useActions)(Ve.e),o=r.reportTestAccountFiltersUpdated,a=Object(j.useValues)(p.a),u=a.currentTeam,l=a.currentTeamLoading,i=Object(j.useValues)(de.a),c=i.groupsTaxonomicTypes,h=function(g){s({test_account_filters:g}),o(g)};return Object(e.jsxs)("div",{className:"mb-4 flex flex-col gap-2",children:[Object(e.jsx)("div",{className:"mb-4",children:u&&Object(e.jsx)(Me.a,{pageKey:"testaccountfilters",propertyFilters:u==null?void 0:u.test_account_filters,onChange:h,taxonomicGroupTypes:[J.a.EventProperties,J.a.PersonProperties,J.a.EventFeatureFlags].concat(je()(c),[J.a.Cohorts,J.a.Elements])})}),Object(e.jsx)(m.LemonSwitch,{onChange:function(g){localStorage.setItem("default_filter_test_accounts",g.toString()),s({test_account_filters_default_checked:g})},checked:!!(u!=null&&u.test_account_filters_default_checked),disabled:l,label:"Enable this filter on all new insights",bordered:!0})]})}var St=n("./node_modules/core-js/modules/es.array.map.js"),At=n("./node_modules/core-js/modules/es.object.entries.js"),Be=n("./frontend/src/scenes/PreflightCheck/preflightLogic.tsx"),ee=n("./frontend/src/lib/components/LemonSelectMultiple/LemonSelectMultiple.tsx"),pe=n("./frontend/src/lib/components/LemonDialog/index.ts"),te=n("./frontend/src/lib/components/LemonSkeleton/index.tsx");function _e(){var t=Object(j.useValues)(Be.a),s=t.preflight,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.currentTeamLoading,u=Object(j.useActions)(p.a),l=u.updateCurrentTeam;if(!(s!=null&&s.available_timezones)||!o)return Object(e.jsx)(te.a,{className:"w-1/2"});function i(h){pe.a.open({title:"Do you want to change the timezone of this project?",description:"This will change how every graph in this project is calculated, which means your data will look different than it did before.",primaryButton:{children:"Change timezone",status:"danger",onClick:function(){return l({timezone:h})}},secondaryButton:{children:"Cancel"}})}var c=Object.entries(s.available_timezones).map(function(h){var d=y()(h,2),g=d[0],b=d[1],v="".concat(g.replace(/\//g," / ").replace(/_/g," ")," (UTC").concat(b===0?"\xB1":b>0?"+":"-").concat(Math.abs(b),")");return{key:g,label:v}});return Object(e.jsx)(ee.a,{mode:"single",placeholder:"Select a timezone",loading:a,disabled:a,value:[o.timezone],onChange:function(d){return i(d)},options:c,"data-attr":"timezone-select"})}var Lt=n("./node_modules/core-js/modules/es.array.filter.js"),Pt=n("./node_modules/core-js/modules/es.string.trim.js"),we=n("./node_modules/antd/es/skeleton/index.js");function We(){var t=Object(j.useValues)(p.a),s=t.currentTeam,r=t.currentTeamLoading,o=Object(j.useActions)(p.a),a=o.updateCurrentTeam,u=Object(f.useState)([]),l=y()(u,2),i=l[0],c=l[1];return Object(f.useEffect)(function(){return c((s==null?void 0:s.data_attributes)||[])},[s]),s?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("p",{children:["Specify a comma-separated list of"," ",Object(e.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes",rel:"noreferrer noopener",children:"data attributes"})," ","used in your app. For example: ",Object(e.jsx)("code",{children:"data-attr, data-custom-id, data-myref-*"}),". These attributes will be used when using the toolbar and defining actions to match unique elements on your pages. You can use ",Object(e.jsx)("code",{children:"*"})," as a wildcard."]}),Object(e.jsxs)("p",{children:["For example, when creating an action on your CTA button, the best selector could be something like:"," ",Object(e.jsx)("code",{children:"div > form > button:nth-child(2)"}),". However all buttons in your app have a"," ",Object(e.jsx)("code",{children:"data-custom-id"})," attribute. If you whitelist it here, the selector for your button will instead be ",Object(e.jsx)("code",{children:"button[data-custom-id='cta-button']"}),"."]}),Object(e.jsxs)("div",{className:"space-y-4",style:{maxWidth:"40rem"},children:[Object(e.jsx)(ee.a,{mode:"multiple-custom",onChange:function(d){return c(d||[])},value:i,"data-attr":"data-attribute-select",placeholder:"data-attr, ...",loading:r,disabled:r}),Object(e.jsx)(m.LemonButton,{type:"primary",onClick:function(){return a({data_attributes:i.map(function(d){return d.trim()}).filter(function(d){return d})||[]})},children:"Save"})]})]}):Object(e.jsx)(we.a,{paragraph:{rows:0},active:!0})}var Z=n("./frontend/src/types.ts"),_=n("./frontend/src/scenes/project/Settings/teamMembersLogic.tsx"),ne=n("./node_modules/@ant-design/icons/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zM512 734.2c-62.1 0-112.6-50.5-112.6-112.6S449.9 509 512 509s112.6 50.5 112.6 112.6S574.1 734.2 512 734.2zm0-160.9c-26.6 0-48.2 21.6-48.2 48.3 0 26.6 21.6 48.3 48.2 48.3s48.2-21.6 48.2-48.3c0-26.6-21.6-48.3-48.2-48.3z"}}]},name:"crown",theme:"filled"},Ue=ke,he=n("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),be=function(s,r){return f.createElement(he.a,Object(ne.a)(Object(ne.a)({},s),{},{ref:r,icon:Ue}))};be.displayName="CrownFilled";var ze=f.forwardRef(be),Ke=n("./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js"),He=n("./node_modules/@ant-design/icons/es/icons/LogoutOutlined.js"),Ge=n("./frontend/src/lib/components/ProfilePicture/index.ts"),V=n("./frontend/src/lib/utils/permissioning.ts"),Ye=n("./frontend/src/lib/components/UserSelectItem.tsx"),Je=n("./node_modules/kea-forms/lib/index.js"),ge=n("./frontend/src/lib/forms/Field.tsx");function se(t){var s=t.isRestricted,r=Object(j.useValues)(_.b),o=r.addableMembers,a=r.allMembersLoading,u=Object(j.useValues)(p.a),l=u.currentTeam,i=Object(f.useState)(!1),c=y()(i,2),h=c[0],d=c[1];function g(){d(!1)}return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.LemonButton,{type:"primary","data-attr":"add-project-members-button",onClick:function(){d(!0)},icon:Object(e.jsx)(M.IconPlus,{}),disabled:s,children:"Add members to project"}),Object(e.jsx)(m.LemonModal,{title:"",onClose:g,isOpen:h,simple:!0,children:Object(e.jsxs)(Je.Form,{logic:_.b,formKey:"addMembers",enableFormOnSubmit:!0,children:[Object(e.jsx)(m.LemonModal.Header,{children:Object(e.jsx)("h3",{children:"Adding members".concat(l!=null&&l.name?" to project ".concat(l.name):"")})}),Object(e.jsxs)(m.LemonModal.Content,{className:"space-y-2",children:[Object(e.jsx)(ge.a,{name:"userUuids",children:Object(e.jsx)(ee.a,{mode:"multiple",placeholder:"Organization members",loading:a,options:Object(Ye.a)(o.map(function(b){return b.user}),"uuid")})}),Object(e.jsx)(ge.a,{name:"level",label:"With project-specific access level",children:Object(e.jsx)(m.LemonSelect,{fullWidth:!0,options:V.d.map(function(b){return{value:b,label:V.b.get(b)}})})})]}),Object(e.jsxs)(m.LemonModal.Footer,{children:[Object(e.jsx)(m.LemonButton,{type:"secondary",onClick:g,children:"Cancel"}),Object(e.jsx)(m.LemonButton,{type:"primary","data-attr":"add-project-members-submit",htmlType:"submit",children:"Add members to project"})]})]})})]})}try{se.displayName="AddMembersModalWithButton",se.__docgenInfo={description:"",displayName:"AddMembersModalWithButton",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/AddMembersModal.tsx#AddMembersModalWithButton"]={docgenInfo:se.__docgenInfo,name:"AddMembersModalWithButton",path:"frontend/src/scenes/project/Settings/AddMembersModal.tsx#AddMembersModalWithButton"})}catch(t){}var ue=n("./frontend/src/lib/components/Tooltip.tsx");function Ze(t){var s,r=Object(j.useValues)(k.a),o=r.user,a=Object(j.useValues)(p.a),u=a.currentTeam,l=Object(j.useActions)(_.b),i=l.changeUserAccessLevel,c=u?u.effective_membership_level:null;if(!o)return null;var h=t.organization_level>=B.p.Admin,d=(s=V.b.get(t.level))!==null&&s!==void 0?s:"unknown (".concat(t.level,")"),g=V.d.filter(function(C){return!Object(V.a)(c,o,t,C)}),b=t.explicit_team_level?g.concat([t.explicit_team_level]):g,v=h?"This user is a member of the project implicitly due to being an organization ".concat(d,"."):Object(V.a)(c,o,t,g),O=v?Object(e.jsxs)("div",{className:"border rounded px-3 py-2 flex inline-flex items-center",children:[t.level===B.p.Owner&&Object(e.jsx)(ze,{className:"mr-2"}),d]}):Object(e.jsx)(m.LemonSelect,{dropdownMatchSelectWidth:!1,onChange:function(x){x!==null&&i(t.user,x)},options:b.map(function(C){return{value:C,disabled:C===t.explicit_team_level,label:(C>t.level,V.b.get(C))}}),value:t.explicit_team_level});return v?Object(e.jsx)(ue.a,{title:v,children:O}):O}function $e(t){var s=Object(j.useValues)(k.a),r=s.user,o=Object(j.useValues)(p.a),a=o.currentTeam,u=Object(j.useActions)(_.b),l=u.removeMember;if(!r)return null;function i(){pe.a.open({title:"".concat(t.user.uuid==(r==null?void 0:r.uuid)?"Leave":"Remove ".concat(t.user.first_name," (").concat(t.user.email,") from")," project ").concat(a==null?void 0:a.name,"?"),secondaryButton:{children:"Cancel"},primaryButton:{status:"danger",children:t.user.uuid==(r==null?void 0:r.uuid)?"Leave":"Remove",onClick:function(){return l({member:t})}}})}var c=((a==null?void 0:a.effective_membership_level)&&a.effective_membership_level>=B.p.Admin||t.user.uuid===r.uuid)&&t.organization_level<_.a;return c?Object(e.jsx)(m.LemonButton,{status:"danger",onClick:i,"data-attr":"delete-team-membership",children:t.user.uuid!==r.uuid?Object(e.jsx)(Ke.a,{title:"Remove from project"}):Object(e.jsx)(He.a,{title:"Leave project"})}):null}function re(t){var s=t.user,r=Object(j.useValues)(_.b),o=r.allMembers,a=r.allMembersLoading,u=[{key:"user_profile_picture",render:function(i,c){return Object(e.jsx)(Ge.b,{name:c.user.first_name,email:c.user.email})},width:32},{title:"Name",key:"user_first_name",render:function(i,c){return c.user.uuid==s.uuid?"".concat(c.user.first_name," (me)"):c.user.first_name},sorter:function(i,c){return i.user.first_name.localeCompare(c.user.first_name)}},{title:"Email",key:"user_email",render:function(i,c){return c.user.email},sorter:function(i,c){return i.user.email.localeCompare(c.user.email)}},{title:"Level",key:"level",render:function(i,c){return Ze(c)},sorter:function(i,c){return i.level-c.level}},{title:"Joined\xA0At",dataIndex:"joined_at",key:"joined_at",render:function(i,c){return Object(N.O)(c.joined_at)},sorter:function(i,c){return i.joined_at.localeCompare(c.joined_at)}},{key:"actions",align:"center",render:function(i,c){return $e(c)}}];return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("h2",{className:"subtitle flex justify-between items-center",id:"members-with-project-access",children:["Members with Project Access",Object(e.jsx)(Y.a,{Component:se,minimumAccessLevel:B.p.Admin,scope:Y.b.Project})]}),Object(e.jsx)(m.LemonTable,{columns:u,dataSource:o,loading:a,"data-attr":"team-members-table"})]})}try{re.displayName="TeamMembers",re.__docgenInfo={description:"",displayName:"TeamMembers",props:{user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"UserType"}},team:{defaultValue:null,description:"",name:"team",required:!0,type:{name:"TeamType"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/TeamMembers.tsx#TeamMembers"]={docgenInfo:re.__docgenInfo,name:"TeamMembers",path:"frontend/src/scenes/project/Settings/TeamMembers.tsx#TeamMembers"})}catch(t){}var Qe=n("./frontend/src/scenes/organizationLogic.tsx"),Xe=n("./frontend/src/scenes/sceneLogic.ts"),qe=n("./node_modules/@ant-design/icons/es/icons/LockOutlined.js"),et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},tt=et,fe=function(s,r){return f.createElement(he.a,Object(ne.a)(Object(ne.a)({},s),{},{ref:r,icon:tt}))};fe.displayName="UnlockOutlined";var nt=f.forwardRef(fe);function oe(t){var s=t.isRestricted,r=Object(j.useValues)(Qe.a),o=r.currentOrganization,a=r.currentOrganizationLoading,u=Object(j.useValues)(p.a),l=u.currentTeam,i=u.currentTeamLoading,c=Object(j.useActions)(p.a),h=c.updateCurrentTeam,d=Object(j.useActions)(Xe.a),g=d.guardAvailableFeature,b=Object(j.useValues)(k.a),v=b.hasAvailableFeature,O=v(Z.e.PROJECT_BASED_PERMISSIONING)&&(l==null?void 0:l.access_control);return Object(e.jsxs)("div",{children:[Object(e.jsx)("h2",{className:"subtitle",id:"access-control",children:"Access Control"}),Object(e.jsx)("p",{children:O?Object(e.jsxs)(e.Fragment,{children:["This project is"," ",Object(e.jsxs)("b",{children:[Object(e.jsx)(qe.a,{style:{color:"var(--warning)",marginRight:5}}),"private"]}),". Only members listed below are allowed to access it."]}):Object(e.jsxs)(e.Fragment,{children:["This project is"," ",Object(e.jsxs)("b",{children:[Object(e.jsx)(nt,{style:{marginRight:5}}),"open"]}),". Any member of the organization can access it. To enable granular access control, make it private."]})}),Object(e.jsx)(m.LemonSwitch,{onChange:function(x){g(Z.e.PROJECT_BASED_PERMISSIONING,"project-based permissioning","Set permissions granularly for each project. Make sure only the right people have access to protected data.",function(){return h({access_control:x})})},checked:!!O,disabled:s||!o||!l||a||i,bordered:!0,label:"Make project private"})]})}try{oe.displayName="AccessControl",oe.__docgenInfo={description:"",displayName:"AccessControl",props:{isRestricted:{defaultValue:null,description:"",name:"isRestricted",required:!0,type:{name:"boolean"}},restrictionReason:{defaultValue:null,description:"",name:"restrictionReason",required:!0,type:{name:"string | null"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/AccessControl.tsx#AccessControl"]={docgenInfo:oe.__docgenInfo,name:"AccessControl",path:"frontend/src/scenes/project/Settings/AccessControl.tsx#AccessControl"})}catch(t){}var st=n("./frontend/src/lib/components/PathCleanFilters/PathCleanFilters.tsx");function rt(){var t=Object(j.useActions)(p.a),s=t.updateCurrentTeam,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.pathCleaningFiltersWithNew,u=function(c){s({path_cleaning_filters:c})},l=function(c){var h=((o==null?void 0:o.path_cleaning_filters)||[]).filter(function(d,g){return g!==c});u(h)};return Object(e.jsx)("div",{children:o&&Object(e.jsx)(st.a,{pageKey:"pathcleanfilters",pathCleaningFilters:a,onChange:function(c){u([].concat(je()((o==null?void 0:o.path_cleaning_filters)||[]),[c]))},onRemove:l})})}var Et=n("./node_modules/core-js/modules/es.object.keys.js"),It=n("./node_modules/core-js/modules/es.symbol.js"),Rt=n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),Dt=n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),Nt=n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),ot=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),ae=n.n(ot),ve=n("./frontend/src/lib/components/PersonPropertySelect/PersonPropertySelect.tsx"),at=n("./frontend/src/lib/components/EventSelect/EventSelect.tsx"),Oe=n("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),it=n("./frontend/src/lib/components/AlertMessage/index.ts");function xe(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);s&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function ct(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?xe(Object(r),!0).forEach(function(o){ae()(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function lt(){var t=Object(j.useActions)(p.a),s=t.updateCurrentTeam,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.funnelCorrelationConfig,u=function(i,c,h){if(o){var d=ct({},a);i!==void 0&&(d.excluded_person_property_names=i),h!==void 0&&(d.excluded_event_property_names=h),c!==void 0&&(d.excluded_event_names=c),d&&JSON.stringify(d)!==JSON.stringify(a)&&s({correlation_config:d})}};return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("h2",{className:"subtitle",id:"internal-users-filtering",children:["Correlation analysis exclusions"," ",Object(e.jsx)(Oe.a,{type:"warning",className:"uppercase ml-2",children:"Beta"})]}),Object(e.jsx)("p",{children:"Globally exclude events or properties that do not provide relevant signals for your conversions."}),Object(e.jsx)(it.a,{type:"info",children:"Correlation analysis can automatically surface relevant signals for conversion, and help you understand why your users dropped off and what makes them convert."}),o&&Object(e.jsxs)("div",{className:"mt-4 space-y-2",children:[Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{className:"flex items-center gap-2",children:[Object(e.jsx)(M.IconSelectProperties,{className:"text-lg"}),"Excluded person properties"]}),Object(e.jsx)(ve.a,{onChange:function(i){return u(i)},selectedProperties:a.excluded_person_property_names||[],addText:"Add exclusion"})]}),Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{className:"flex items-center gap-2",children:[Object(e.jsx)(M.IconSelectEvents,{className:"text-lg"}),"Excluded events"]}),Object(e.jsx)(at.a,{onChange:function(i){return u(void 0,i)},selectedEvents:a.excluded_event_names||[],addElement:Object(e.jsx)(m.LemonButton,{size:"small",type:"secondary",icon:Object(e.jsx)(M.IconPlus,{}),children:"Add exclusion"})})]}),Object(e.jsxs)("div",{children:[Object(e.jsxs)("h3",{className:"flex items-center gap-2",children:[Object(e.jsx)(M.IconSelectEvents,{className:"text-lg"}),"Excluded event properties"]}),Object(e.jsx)("div",{style:{maxWidth:"40rem"},children:Object(e.jsx)(ee.a,{mode:"multiple-custom",onChange:function(i){return u(void 0,void 0,i)},value:a.excluded_event_property_names||[]})})]})]})]})}var ye=n("./frontend/src/scenes/urls.ts"),dt=n("./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"),ut=n("./frontend/src/lib/components/LemonTable/index.ts"),Ce=n("./frontend/src/lib/introductions/groupsAccessLogic.ts"),Mt=n("./node_modules/core-js/modules/es.array.iterator.js"),Vt=n("./node_modules/core-js/modules/web.dom-collections.iterator.js");function Te(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);s&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,o)}return r}function $(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Te(Object(r),!0).forEach(function(o){ae()(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}var Se=Object(j.kea)({path:["scenes","project","Settings","groupAnalyticsConfigLogic"],connect:{values:[de.a,["groupTypes","groupTypesLoading"]],actions:[de.a,["updateGroupTypesMetadata"]]},actions:{setSingular:function(s,r){return{groupTypeIndex:s,value:r}},setPlural:function(s,r){return{groupTypeIndex:s,value:r}},reset:!0,save:!0},reducers:{singularChanges:[{},{setSingular:function(s,r){var o=r.groupTypeIndex,a=r.value;return $($({},s),{},ae()({},o,a))},reset:function(){return{}},updateGroupTypesMetadataSuccess:function(){return{}}}],pluralChanges:[{},{setPlural:function(s,r){var o=r.groupTypeIndex,a=r.value;return $($({},s),{},ae()({},o,a))},reset:function(){return{}},updateGroupTypesMetadataSuccess:function(){return{}}}]},selectors:{hasChanges:[function(t){return[t.singularChanges,t.pluralChanges]},function(t,s){return Object.keys(t).length>0||Object.keys(s).length>0}]},listeners:function(s){var r=s.values,o=s.actions;return{save:function(){var a=D()(T.a.mark(function l(){var i,c,h,d;return T.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:i=r.groupTypes,c=r.singularChanges,h=r.pluralChanges,d=i.map(function(v){var O=$({},v);return c[v.group_type_index]&&(O.name_singular=c[v.group_type_index]),h[v.group_type_index]&&(O.name_plural=h[v.group_type_index]),O}),o.updateGroupTypesMetadata(d);case 3:case"end":return b.stop()}},l)}));function u(){return a.apply(this,arguments)}return u}()}}}),mt=n("./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js");function jt(){var t=Object(j.useValues)(Se),s=t.groupTypes,r=t.groupTypesLoading,o=t.singularChanges,a=t.pluralChanges,u=t.hasChanges,l=Object(j.useActions)(Se),i=l.setSingular,c=l.setPlural,h=l.reset,d=l.save,g=Object(j.useValues)(Ce.b),b=g.groupsAccessStatus;if(b!==Ce.a.AlreadyUsing)return null;var v=[{title:Object(e.jsxs)(ue.a,{title:"As used in code",children:["Group type",Object(e.jsx)(mt.a,{className:"ml-2"})]}),dataIndex:"group_type",key:"name",render:function(C){return C}},{title:"Singular name",key:"singular",render:function(C,x){return Object(e.jsx)(m.LemonInput,{value:o[x.group_type_index]||x.name_singular||x.group_type,onChange:function(me){return i(x.group_type_index,me)}})}},{title:"Plural name",key:"plural",render:function(C,x){return Object(e.jsx)(m.LemonInput,{value:a[x.group_type_index]||x.name_plural||"".concat(x.group_type,"(s)"),onChange:function(me){return c(x.group_type_index,me)}})}}];return Object(e.jsxs)("div",{id:"group-analytics",children:[Object(e.jsx)("h2",{className:"subtitle",children:"Group Analytics"}),Object(e.jsx)("p",{children:"This project has access to group analytics. Below you can configure how various group types are displayed throughout the app."}),Object(e.jsx)(ut.a,{columns:v,dataSource:s,loading:r}),Object(e.jsxs)("div",{className:"flex gap-2 mt-4",children:[Object(e.jsx)(m.LemonButton,{type:"primary",disabled:!u,onClick:d,children:"Save"}),Object(e.jsx)(m.LemonButton,{disabled:!u,onClick:h,children:"Cancel"})]}),Object(e.jsx)(m.LemonDivider,{className:"my-6"})]})}function pt(){var t=Object(j.useValues)(p.a),s=t.currentTeam,r=Object(j.useActions)(p.a),o=r.updateCurrentTeam,a=Object(f.useState)([]),u=y()(a,2),l=u[0],i=u[1];return Object(f.useEffect)(function(){return i((s==null?void 0:s.person_display_name_properties)||B.q)},[s]),s?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsxs)("p",{children:["Choose which properties of an identified Person will be used for their ",Object(e.jsx)("b",{children:"Display Name"}),". The first property to be found on the Person will be used. Drag the items to re-order the priority."]}),Object(e.jsxs)("div",{className:"space-y-4",children:[Object(e.jsx)(ve.a,{onChange:function(h){return i(h)},selectedProperties:l||[],addText:"Add",sortable:!0}),Object(e.jsx)(m.LemonButton,{type:"primary",onClick:function(){return o({person_display_name_properties:l.map(function(h){return h.trim()}).filter(function(h){return h})||[]})},children:"Save"})]})]}):Object(e.jsx)(te.a,{className:"w-1/2"})}var ht=n("./frontend/src/scenes/project/Settings/SlackIntegration.tsx"),bt=n("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),gt=n("./frontend/src/lib/components/JSSnippet.tsx"),ft=n("./frontend/src/lib/components/JSBookmarklet.tsx"),Ae=n("./frontend/src/lib/components/LemonDivider/index.ts"),Le=n("./frontend/src/lib/components/CodeSnippet/index.tsx");function ie(t){var s=t.loadingComponent,r=Object(j.useValues)(p.a),o=r.currentTeam,a=r.currentTeamLoading,u=r.isTeamTokenResetAvailable,l=Object(j.useActions)(p.a),i=l.resetToken;return o!=null&&o.is_demo?Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h2",{id:"snippet",className:"subtitle",children:"Event Ingestion"}),Object(e.jsx)("p",{children:"PostHog can ingest events from almost anywhere - JavaScript, Android, iOS, React Native, Node.js, Ruby, Go, and more."}),Object(e.jsxs)("p",{children:["Demo projects like this one can't ingest any more events, but you can"," ",Object(e.jsx)(le.a,{to:"https://posthog.com/docs/integrations",children:"read about ingestion in our Docs"})," and use a non-demo project to ingest your own events."]})]}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h2",{id:"snippet",className:"subtitle",children:"Website event autocapture"}),Object(e.jsxs)("p",{children:["To integrate PostHog into your website and get event autocapture with no additional work, include the following snippet in your\xA0website's\xA0HTML. Ideally, put it just above the\xA0",Object(e.jsx)("code",{children:"</head>"}),"\xA0tag."]}),Object(e.jsx)("br",{}),Object(e.jsxs)("p",{children:["For more guidance, including on identifying users,"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations/js-integration",children:"see PostHog Docs"}),"."]}),a&&!o?s:Object(e.jsx)(gt.a,{}),Object(e.jsxs)("p",{children:["You can even test PostHog out on a live site without changing any code.",Object(e.jsx)("br",{}),"Just drag the bookmarklet below to your bookmarks bar, open the website you want to test PostHog on and click it.",Object(e.jsx)("br",{}),"This will enable our tracking, on the currently loaded page only. The data will show up in this project.",Object(e.jsx)("br",{})]}),Object(e.jsx)("div",{children:o&&Object(e.jsx)(ft.a,{team:o})}),Object(e.jsx)(Ae.a,{className:"my-6"}),Object(e.jsx)("h2",{id:"custom-events",className:"subtitle",children:"Send custom events"}),"To send custom events ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations",children:"visit PostHog Docs"})," and integrate the library for the specific language or platform you're using. We support Python, Ruby, Node, Go, PHP, iOS, Android, and more.",Object(e.jsx)(Ae.a,{className:"my-6"}),Object(e.jsx)("h2",{id:"project-variables",className:"subtitle mb-4",children:"Project Variables"}),Object(e.jsx)("h3",{id:"project-api-key",className:"l3",children:"Project API Key"}),Object(e.jsxs)("p",{children:["You can use this write-only key in any one of"," ",Object(e.jsx)("a",{href:"https://posthog.com/docs/integrations",children:"our libraries"}),"."]}),Object(e.jsx)(Le.a,{actions:u?[{icon:Object(e.jsx)(M.IconRefresh,{}),title:"Reset project API key",popconfirmProps:{title:Object(e.jsxs)(e.Fragment,{children:["Reset the project's API key?"," ",Object(e.jsx)("b",{children:"This will invalidate the current API key and cannot be undone."})]}),okText:"Reset key",okType:"danger",placement:"left"},callback:i}]:[],copyDescription:"project API key",children:(o==null?void 0:o.api_token)||""}),Object(e.jsx)("p",{children:"Write-only means it can only create new events. It can't read events or any of your other data stored with PostHog, so it's safe to use in public apps."}),Object(e.jsx)("h3",{id:"project-id",className:"l3 mt-4",children:"Project ID"}),Object(e.jsxs)("p",{children:["You can use this ID to reference your project in our ",Object(e.jsx)("a",{href:"https://posthog.com/docs/api",children:"API"}),"."]}),Object(e.jsx)(Le.a,{copyDescription:"project ID",children:String((o==null?void 0:o.id)||"")})]})}try{ie.displayName="IngestionInfo",ie.__docgenInfo={description:"",displayName:"IngestionInfo",props:{loadingComponent:{defaultValue:null,description:"",name:"loadingComponent",required:!0,type:{name:"Element"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/project/Settings/IngestionInfo.tsx#IngestionInfo"]={docgenInfo:ie.__docgenInfo,name:"IngestionInfo",path:"frontend/src/scenes/project/Settings/IngestionInfo.tsx#IngestionInfo"})}catch(t){}var vt={component:Pe};function Ot(){var t=Object(j.useValues)(p.a),s=t.currentTeam,r=t.currentTeamLoading,o=Object(j.useActions)(p.a),a=o.updateCurrentTeam,u=Object(f.useState)((s==null?void 0:s.name)||""),l=y()(u,2),i=l[0],c=l[1];return s!=null&&s.is_demo?Object(e.jsx)("p",{children:Object(e.jsx)("i",{children:"The demo project cannot be renamed."})}):Object(e.jsxs)("div",{className:"space-y-4",style:{maxWidth:"40rem"},children:[Object(e.jsx)(m.LemonInput,{value:i,onChange:c,disabled:r}),Object(e.jsx)(m.LemonButton,{type:"primary",onClick:function(){return a({name:i})},disabled:!i||!s||i===s.name,loading:r,children:"Rename Project"})]})}function Pe(){var t,s,r,o=Object(j.useValues)(p.a),a=o.currentTeam,u=o.currentTeamLoading,l=Object(j.useValues)(Ie.router),i=l.location,c=Object(j.useValues)(k.a),h=c.user,d=c.hasAvailableFeature,g=h==null||(t=h.organization)===null||t===void 0||(s=t.available_features)===null||s===void 0?void 0:s.includes(Z.e.PATHS_ADVANCED);Object(Ee.a)(i.hash);var b=function(){return Object(e.jsxs)("div",{className:"space-y-4",children:[Object(e.jsx)(te.a,{className:"w-1/2"}),Object(e.jsx)(te.a,{repeat:3})]})};return Object(e.jsxs)("div",{children:[Object(e.jsx)(De.a,{title:"Project settings",caption:"Organize your analytics within the project. These settings only apply to ".concat((r=a==null?void 0:a.name)!==null&&r!==void 0?r:"the current project",".")}),Object(e.jsxs)("div",{className:"border rounded p-6",children:[Object(e.jsx)("h2",{id:"name",className:"subtitle mt-0",children:"Display name"}),u&&!a?Object(e.jsx)(b,{}):Object(e.jsx)(Ot,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),u&&!a?Object(e.jsx)(b,{}):Object(e.jsx)(ie,{loadingComponent:Object(e.jsx)(b,{})}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"timezone",children:"Timezone"}),Object(e.jsx)("p",{children:"Set the timezone for your project. All charts will be based on this timezone, including how PostHog buckets data in day/week/month intervals."}),Object(e.jsx)("div",{style:{maxWidth:"40rem"},children:Object(e.jsx)(_e,{})}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsxs)("h2",{className:"subtitle",id:"internal-users-filtering",children:["Filter out internal and test users"," ",Object(e.jsx)(ue.a,{title:'Events will still be ingested and saved, but they will be excluded from any queries where the "Filter out internal and test users" toggle is set.',children:Object(e.jsx)(M.IconInfo,{style:{fontSize:"1em",color:"var(--muted-alt)",marginTop:4,marginLeft:5}})})]}),Object(e.jsxs)("p",{children:["Increase the quality of your analytics results by filtering out events from internal sources, such as team members, test accounts, or development environments."," ",Object(e.jsx)("strong",{children:"The filters you apply here are added as extra filters when the toggle is switched on."})," ","So, if you apply a cohort, it means you will only match users in that cohort."]}),Object(e.jsx)("strong",{children:"Example filters"}),Object(e.jsxs)("ul",{className:"list-disc pl-4 mb-2",children:[Object(e.jsxs)("li",{children:['"',Object(e.jsx)("strong",{children:"Email"})," does not contain ",Object(e.jsx)("strong",{children:"yourcompany.com"}),`" to exclude all events from your company's team members.`]}),Object(e.jsxs)("li",{children:['"',Object(e.jsx)("strong",{children:"Host"})," does not contain ",Object(e.jsx)("strong",{children:"localhost"}),'" to exclude all events from local development environments.']})]}),Object(e.jsx)(Fe,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)(lt,{}),g&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsxs)("h2",{className:"subtitle",id:"path_cleaning_filtering",children:["Path cleaning rules",Object(e.jsx)(Oe.a,{type:"warning",className:"uppercase",style:{marginLeft:8},children:"Beta"})]}),Object(e.jsxs)("p",{children:["Make your ",Object(e.jsx)(le.a,{to:ye.a.insightNew({insight:Z.F.PATHS}),children:"Paths"})," clearer by aliasing one or multiple URLs."," ",Object(e.jsxs)("i",{children:["Example: ",Object(e.jsx)("code",{children:"http://tenant-one.mydomain.com/accounts"})," and"," ",Object(e.jsx)("code",{children:"http://tenant-two.mydomain.com/accounts"})," can become a single"," ",Object(e.jsx)("code",{children:"/accounts"})," path."]})]}),Object(e.jsx)("p",{children:"Each rule is composed of an alias and a regex pattern. Any pattern in a URL or event name that matches the regex will be replaced with the alias. Rules are applied in the order that they're listed."}),Object(e.jsx)("p",{children:Object(e.jsx)("b",{children:"Rules that you set here will be applied before wildcarding and other regex replacement if the toggle is switched on."})}),Object(e.jsx)(rt,{})]}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("div",{id:"authorized-urls"}),Object(e.jsx)("h2",{className:"subtitle",id:"urls",children:"Authorized URLs"}),Object(e.jsxs)("p",{children:["These are the URLs where the"," ",Object(e.jsxs)("b",{children:[Object(e.jsx)(le.a,{to:ye.a.toolbarLaunch(),children:"Toolbar"})," will automatically launch"]})," ","(if you're logged in)."]}),Object(e.jsxs)("p",{children:[Object(e.jsx)("b",{children:"Domains and wilcard subdomains are allowed"})," (example: ",Object(e.jsx)("code",{children:"https://*.example.com"}),"). However, wildcarded top-level domains cannot be used (for security reasons)."]}),Object(e.jsx)(dt.a,{type:bt.a.TOOLBAR_URLS}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"attributes",children:"Data attributes"}),Object(e.jsx)(We,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"person-display-name",children:"Person Display Name"}),Object(e.jsx)(pt,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",id:"webhook",children:"Webhook integration"}),Object(e.jsx)(G,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("h2",{className:"subtitle",id:"slack",children:"Slack integration"}),Object(e.jsx)(ht.a,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"})]}),Object(e.jsx)("h2",{className:"subtitle",id:"datacapture",children:"Data capture configuration"}),Object(e.jsx)(I,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)("h2",{className:"subtitle",children:"PostHog Toolbar"}),Object(e.jsx)("p",{children:"Enable PostHog Toolbar, which gives access to heatmaps, stats and allows you to create actions, right there on your website!"}),Object(e.jsx)(Re,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)(w.a,{}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),Object(e.jsx)(jt,{}),Object(e.jsx)(Y.a,{Component:oe,minimumAccessLevel:B.p.Admin}),Object(e.jsx)(m.LemonDivider,{className:"my-6"}),(a==null?void 0:a.access_control)&&d(Z.e.PROJECT_BASED_PERMISSIONING)&&Object(e.jsxs)(j.BindLogic,{logic:_.b,props:{team:a},children:[h&&Object(e.jsx)(re,{user:h,team:a}),Object(e.jsx)(m.LemonDivider,{className:"my-6"})]}),Object(e.jsx)(Y.a,{Component:q,minimumAccessLevel:B.p.Admin,scope:Y.b.Project})]})]})}}}]);
