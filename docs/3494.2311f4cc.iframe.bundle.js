"use strict";(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[3494],{"./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/switch/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return es_switch}});var esm_extends=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/extends.js"),defineProperty=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.22.10/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classnames=__webpack_require__("./node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useMergedState=__webpack_require__("./node_modules/.pnpm/rc-util@5.24.4_react-dom@16.14.0_react@16.14.0/node_modules/rc-util/es/hooks/useMergedState.js"),KeyCode=__webpack_require__("./node_modules/.pnpm/rc-util@5.24.4_react-dom@16.14.0_react@16.14.0/node_modules/rc-util/es/KeyCode.js"),Switch=react.forwardRef((function(_ref,ref){var _classNames,_ref$prefixCls=_ref.prefixCls,prefixCls=void 0===_ref$prefixCls?"rc-switch":_ref$prefixCls,className=_ref.className,checked=_ref.checked,defaultChecked=_ref.defaultChecked,disabled=_ref.disabled,loadingIcon=_ref.loadingIcon,checkedChildren=_ref.checkedChildren,unCheckedChildren=_ref.unCheckedChildren,onClick=_ref.onClick,onChange=_ref.onChange,onKeyDown=_ref.onKeyDown,restProps=(0,objectWithoutProperties.Z)(_ref,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),_useMergedState=(0,useMergedState.Z)(!1,{value:checked,defaultValue:defaultChecked}),_useMergedState2=(0,slicedToArray.Z)(_useMergedState,2),innerChecked=_useMergedState2[0],setInnerChecked=_useMergedState2[1];function triggerChange(newChecked,event){var mergedChecked=innerChecked;return disabled||(setInnerChecked(mergedChecked=newChecked),null==onChange||onChange(mergedChecked,event)),mergedChecked}var switchClassName=classnames_default()(prefixCls,className,(_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-checked"),innerChecked),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-disabled"),disabled),_classNames));return react.createElement("button",Object.assign({},restProps,{type:"button",role:"switch","aria-checked":innerChecked,disabled:disabled,className:switchClassName,ref:ref,onKeyDown:function onInternalKeyDown(e){e.which===KeyCode.Z.LEFT?triggerChange(!1,e):e.which===KeyCode.Z.RIGHT&&triggerChange(!0,e),null==onKeyDown||onKeyDown(e)},onClick:function onInternalClick(e){var ret=triggerChange(!innerChecked,e);null==onClick||onClick(ret,e)}}),loadingIcon,react.createElement("span",{className:"".concat(prefixCls,"-inner")},innerChecked?checkedChildren:unCheckedChildren))}));Switch.displayName="Switch";var es=Switch,node_modules_classnames=__webpack_require__("./node_modules/.pnpm/classnames@2.3.1/node_modules/classnames/index.js"),node_modules_classnames_default=__webpack_require__.n(node_modules_classnames),LoadingOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),wave=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/_util/wave.js"),context=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/config-provider/context.js"),SizeContext=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/config-provider/SizeContext.js"),devWarning=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/_util/devWarning.js"),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},switch_Switch=react.forwardRef((function(_a,ref){var _classNames,customizePrefixCls=_a.prefixCls,customizeSize=_a.size,loading=_a.loading,_a$className=_a.className,className=void 0===_a$className?"":_a$className,disabled=_a.disabled,props=__rest(_a,["prefixCls","size","loading","className","disabled"]);(0,devWarning.Z)("checked"in props||!("value"in props),"Switch","`value` is not a valid prop, do you mean `checked`?");var _React$useContext=react.useContext(context.E_),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,size=react.useContext(SizeContext.Z),prefixCls=getPrefixCls("switch",customizePrefixCls),loadingIcon=react.createElement("div",{className:"".concat(prefixCls,"-handle")},loading&&react.createElement(LoadingOutlined.Z,{className:"".concat(prefixCls,"-loading-icon")})),classes=node_modules_classnames_default()((_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-small"),"small"===(customizeSize||size)),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-loading"),loading),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),_classNames),className);return react.createElement(wave.Z,{insertExtraNode:!0},react.createElement(es,(0,esm_extends.Z)({},props,{prefixCls:prefixCls,className:classes,disabled:disabled||loading,ref:ref,loadingIcon:loadingIcon})))}));switch_Switch.__ANT_SWITCH=!0,switch_Switch.displayName="Switch";var es_switch=switch_Switch},"./frontend/src/lib/components/PasswordStrength.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return PasswordStrength}});var antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/progress/index.js"),zxcvbn__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/zxcvbn@4.4.2/node_modules/zxcvbn/lib/main.js"),zxcvbn__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(zxcvbn__WEBPACK_IMPORTED_MODULE_0__),lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function PasswordStrength(_ref){let{password:password="",className:className}=_ref;const passwordScore=password.length&&20*zxcvbn__WEBPACK_IMPORTED_MODULE_0___default()(password).score+20;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(lib_lemon_ui_Tooltip__WEBPACK_IMPORTED_MODULE_1__.u,{title:"Password strength",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_3__.Z,{percent:passwordScore,size:"small",strokeColor:passwordScore<=50?"var(--danger)":passwordScore<=75?"var(--warning)":"var(--success)",className:className,showInfo:!1})})}try{PasswordStrength.displayName="PasswordStrength",PasswordStrength.__docgenInfo={description:"",displayName:"PasswordStrength",props:{password:{defaultValue:{value:""},description:"",name:"password",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/PasswordStrength.tsx#PasswordStrength"]={docgenInfo:PasswordStrength.__docgenInfo,name:"PasswordStrength",path:"frontend/src/lib/components/PasswordStrength.tsx#PasswordStrength"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/lib/hooks/useAnchor.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{W:function(){return useAnchor}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js");function useAnchor(hash){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(hash&&document.getElementById(hash.substr(1))){const element=document.getElementById(hash.substr(1));if(!element)return;element.classList.add("highlighted"),window.requestAnimationFrame((()=>{element.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})}))}}),[hash])}},"./frontend/src/scenes/me/Settings/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MySettings:function(){return MySettings},scene:function(){return scene}});var index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),divider=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/divider/index.js"),useAnchor=__webpack_require__("./frontend/src/lib/hooks/useAnchor.ts"),lib=__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"),userLogic=__webpack_require__("./frontend/src/scenes/userLogic.ts"),src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function UpdateEmailPreferences(){const{user:user,userLoading:userLoading}=(0,index_esm.useValues)(userLogic.userLogic),{updateUser:updateUser}=(0,index_esm.useActions)(userLogic.userLogic);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(src.LemonSwitch,{"data-attr":"email-preferences",onChange:()=>{updateUser({email_opt_in:!user?.email_opt_in})},checked:user?.email_opt_in||!1,disabled:userLoading,label:"Receive security and feature updates via email. You can easily unsubscribe at any time.",fullWidth:!0,bordered:!0}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(src.LemonSwitch,{id:"plugin-disabled","data-attr":"plugin_disabled",onChange:()=>{user?.notification_settings&&updateUser({notification_settings:{...user?.notification_settings,plugin_disabled:!user?.notification_settings.plugin_disabled}})},checked:user?.notification_settings.plugin_disabled||!1,disabled:userLoading,fullWidth:!0,bordered:!0,label:"Get notified when plugins are disabled due to errors."})]})}var kea_forms_lib=__webpack_require__("./node_modules/.pnpm/kea-forms@3.0.3_kea@3.1.5/node_modules/kea-forms/lib/index.js"),Field=__webpack_require__("./frontend/src/lib/forms/Field.tsx"),PasswordStrength=__webpack_require__("./frontend/src/lib/components/PasswordStrength.tsx"),api=__webpack_require__("./frontend/src/lib/api.ts");const changePasswordLogic=(0,index_esm.kea)([(0,index_esm.path)(["scenes","me","settings","changePasswordLogic"]),(0,index_esm.connect)({values:[userLogic.userLogic,["user"]]}),(0,kea_forms_lib.forms)((_ref=>{let{values:values,actions:actions}=_ref;return{changePassword:{defaults:{},errors:_ref2=>{let{current_password:current_password,password:password}=_ref2;return{current_password:values.user&&!values.user.has_password||current_password?void 0:"Please enter your current password",password:password?password.length<8?"Password must be at least 8 characters":void 0:"Please enter your password to continue"}},submit:async(_ref3,breakpoint)=>{let{password:password,current_password:current_password}=_ref3;await breakpoint(150);try{await api.ZP.update("api/users/@me/",{current_password:current_password,password:password}),actions.resetChangePassword({password:"",current_password:""}),src.lemonToast.success("Password changed")}catch(e){actions.setChangePasswordManualErrors({[e.attr]:e.detail})}}}}}))]);function ChangePassword(){const{changePassword:changePassword,isChangePasswordSubmitting:isChangePasswordSubmitting}=(0,index_esm.useValues)(changePasswordLogic);return(0,jsx_runtime.jsxs)(kea_forms_lib.Form,{logic:changePasswordLogic,formKey:"changePassword",enableFormOnSubmit:!0,className:"space-y-4 max-w-160",children:[(0,jsx_runtime.jsx)(Field.g,{name:"current_password",label:"Current Password",children:(0,jsx_runtime.jsx)(src.LemonInput,{autoComplete:"current-password",type:"password",className:"ph-ignore-input",placeholder:"••••••••••"})}),(0,jsx_runtime.jsx)(Field.g,{name:"password",label:(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,jsx_runtime.jsx)("span",{children:"Password"}),(0,jsx_runtime.jsx)("span",{className:"w-20",children:(0,jsx_runtime.jsx)(PasswordStrength.Z,{password:changePassword.password})})]}),children:(0,jsx_runtime.jsx)(src.LemonInput,{autoComplete:"current-password",type:"password",className:"ph-ignore-input",placeholder:"••••••••••"})}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",htmlType:"submit",loading:isChangePasswordSubmitting,children:"Change password"})]})}var react=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),popconfirm=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/popconfirm/index.js"),table=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/table/index.js"),ExclamationCircleOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js"),personalAPIKeysLogic=__webpack_require__("./frontend/src/lib/components/PersonalAPIKeys/personalAPIKeysLogic.ts"),utils=__webpack_require__("./frontend/src/lib/utils.tsx"),CopyToClipboard=__webpack_require__("./frontend/src/lib/components/CopyToClipboard.tsx"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonBanner=__webpack_require__("./frontend/src/lib/lemon-ui/LemonBanner/index.ts"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts");function CreateKeyModal(_ref){let{isOpen:isOpen,setIsOpen:setIsOpen}=_ref;const{createKey:createKey}=(0,index_esm.useActions)(personalAPIKeysLogic.a),[errorMessage,setErrorMessage]=(0,react.useState)(null),[label,setLabel]=(0,react.useState)(""),closeModal=(0,react.useCallback)((()=>{setErrorMessage(null),setIsOpen(!1)}),[setIsOpen]);return(0,jsx_runtime.jsx)(src.LemonModal,{title:"Creating a Personal API Key",onClose:closeModal,isOpen:isOpen,footer:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",onClick:closeModal,children:"Cancel"}),(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"primary",onClick:()=>{label?(setErrorMessage(null),createKey(label),setLabel(""),closeModal()):setErrorMessage("Your key needs a label!")},children:"Create key"})]}),children:(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)(src.LemonInput,{placeholder:'for example "Zapier"',maxLength:40,onChange:setLabel,value:label}),errorMessage&&(0,jsx_runtime.jsx)(LemonBanner.V,{type:"error",children:errorMessage}),(0,jsx_runtime.jsxs)("p",{children:["Key value ",(0,jsx_runtime.jsx)("b",{children:"will only ever be shown once"}),", immediately after creation.",(0,jsx_runtime.jsx)("br",{}),"Copy it to your destination right away."]})]})})}function RowValue(value){return value?(0,jsx_runtime.jsx)(CopyToClipboard.D,{description:"personal API key value",children:value}):(0,jsx_runtime.jsx)("i",{children:"secret"})}function RowActionsCreator(deleteKey){return function RowActions(personalAPIKey){return(0,jsx_runtime.jsx)(popconfirm.Z,{title:`Permanently delete key "${personalAPIKey.label}"?`,okText:"Delete Key",okType:"danger",icon:(0,jsx_runtime.jsx)(ExclamationCircleOutlined.Z,{style:{color:"var(--danger)"}}),placement:"left",onConfirm:()=>{deleteKey(personalAPIKey)},children:(0,jsx_runtime.jsx)("a",{className:"text-danger",children:"Delete"})})}}function PersonalAPIKeysTable(){const{keys:keys}=(0,index_esm.useValues)(personalAPIKeysLogic.a),{deleteKey:deleteKey}=(0,index_esm.useActions)(personalAPIKeysLogic.a),columns=[{title:"Label",dataIndex:"label",key:"label"},{title:"Value",dataIndex:"value",key:"value",className:"ph-no-capture",render:RowValue},{title:"Last Used",dataIndex:"last_used_at",key:"lastUsedAt",render:lastUsedAt=>(0,utils.bo)(lastUsedAt,"MMMM DD, YYYY","h A")},{title:"Created",dataIndex:"created_at",key:"createdAt",render:createdAt=>(0,utils.bo)(createdAt)},{title:"",key:"actions",align:"center",render:RowActionsCreator(deleteKey)}];return(0,jsx_runtime.jsx)(table.Z,{dataSource:keys,columns:columns,rowKey:"id",pagination:{pageSize:50,hideOnSinglePage:!0},style:{marginTop:"1rem"}})}function PersonalAPIKeys(){const[modalIsOpen,setModalIsOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("p",{children:["These keys allow full access to your personal account through the API, as if you were logged in. You can also use them in integrations, such as"," ",(0,jsx_runtime.jsx)("a",{href:"https://zapier.com/apps/posthog/",children:"our premium Zapier one"}),".",(0,jsx_runtime.jsx)("br",{}),"Try not to keep disused keys around. If you have any suspicion that one of these may be compromised, delete it and use a new one.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("a",{href:"https://posthog.com/docs/api/overview#authentication",children:"More about API authentication in PostHog Docs."})]}),(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"primary",onClick:()=>{setModalIsOpen(!0)},icon:(0,jsx_runtime.jsx)(icons.SC9,{}),children:"Create personal API key"}),(0,jsx_runtime.jsx)(CreateKeyModal,{isOpen:modalIsOpen,setIsOpen:setModalIsOpen}),(0,jsx_runtime.jsx)(PersonalAPIKeysTable,{})]})}var es_switch=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/switch/index.js");function OptOutCapture(){const{user:user,userLoading:userLoading}=(0,index_esm.useValues)(userLogic.userLogic),{updateUser:updateUser}=(0,index_esm.useActions)(userLogic.userLogic);return(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{children:"PostHog uses PostHog (unsurprisingly!) to capture information about how people are using the product. We believe that product analytics is crucial to making PostHog the most useful it can be, for everyone."}),(0,jsx_runtime.jsx)("p",{children:"We also understand there are many reasons why people don't want to or aren't allowed to send this usage data. If you would like to anonymize your personal usage data, just tick the box below."}),(0,jsx_runtime.jsx)(es_switch.Z,{"data-attr":"anonymize-data-collection",onChange:checked=>updateUser({anonymize_data:checked}),defaultChecked:user?.anonymize_data,loading:userLoading,disabled:userLoading}),(0,jsx_runtime.jsx)("label",{htmlFor:"anonymize-data-collection",style:{marginLeft:"10px"},children:"Anonymize my data"})]})}var PageHeader=__webpack_require__("./frontend/src/lib/components/PageHeader.tsx"),LemonInput=__webpack_require__("./frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx");function UserDetails(){const{userLoading:userLoading,isUserDetailsSubmitting:isUserDetailsSubmitting,userDetailsChanged:userDetailsChanged,user:user}=(0,index_esm.useValues)(userLogic.userLogic);return(0,jsx_runtime.jsxs)(kea_forms_lib.Form,{logic:userLogic.userLogic,formKey:"userDetails",enableFormOnSubmit:!0,className:"space-y-4",style:{maxWidth:"28rem"},children:[(0,jsx_runtime.jsx)(Field.g,{name:"first_name",label:"Your name",children:(0,jsx_runtime.jsx)(LemonInput.D,{className:"ph-ignore-input","data-attr":"settings-update-first-name",placeholder:"Jane Doe",disabled:userLoading})}),(0,jsx_runtime.jsx)(Field.g,{name:"email",label:"Your email",children:(0,jsx_runtime.jsx)(LemonInput.D,{className:"ph-ignore-input","data-attr":"settings-update-email",placeholder:"email@yourcompany.com",disabled:userLoading})}),user?.pending_email&&(0,jsx_runtime.jsxs)(src.LemonTag,{type:"highlight",children:["Pending verification for ",user.pending_email]}),(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"primary",htmlType:"submit",loading:isUserDetailsSubmitting,disabled:!userDetailsChanged,"data-attr":"user-details-submit-bottom",children:"Save name and email"})]})}var Setup2FA=__webpack_require__("./frontend/src/scenes/authentication/Setup2FA.tsx"),membersLogic=__webpack_require__("./frontend/src/scenes/organization/Settings/membersLogic.tsx");function TwoFactorAuthentication(){const{user:user}=(0,index_esm.useValues)(userLogic.userLogic),{updateUser:updateUser}=(0,index_esm.useActions)(userLogic.userLogic),{loadMembers:loadMembers}=(0,index_esm.useActions)(membersLogic.m),[modalVisible,setModalVisible]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-start",children:[modalVisible&&(0,jsx_runtime.jsx)(src.LemonModal,{title:"Set up or manage 2FA",onClose:()=>setModalVisible(!1),children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("b",{children:"Use an authenticator app like Google Authenticator or 1Password to scan the QR code below."}),(0,jsx_runtime.jsx)(Setup2FA.g,{onSuccess:()=>{setModalVisible(!1),updateUser({}),loadMembers()}})]})}),user?.is_2fa_enabled?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,jsx_runtime.jsx)(icons.DLh,{color:"green",className:"text-xl mr-2"}),(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"2FA enabled."})]}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",to:"/account/two_factor/",targetBlank:!0,children:"Manage or disable 2FA"})]}):(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,jsx_runtime.jsx)(icons.FCX,{color:"orange",className:"text-xl mr-2"}),(0,jsx_runtime.jsx)("span",{className:"font-medium",children:"2FA is not enabled."})]}),(0,jsx_runtime.jsx)(src.LemonButton,{type:"primary",onClick:()=>setModalVisible(!0),children:"Set up 2FA"})]})]})}const scene={component:MySettings};function MySettings(){const{location:location}=(0,index_esm.useValues)(lib.router);return(0,useAnchor.W)(location.hash),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(PageHeader.m,{title:"My settings"}),(0,jsx_runtime.jsxs)("div",{className:"border rounded p-6 mt-4",children:[(0,jsx_runtime.jsx)(UserDetails,{}),(0,jsx_runtime.jsx)(divider.Z,{}),(0,jsx_runtime.jsx)("h2",{id:"password",className:"subtitle",children:"Change Password"}),(0,jsx_runtime.jsx)(ChangePassword,{}),(0,jsx_runtime.jsx)(divider.Z,{}),(0,jsx_runtime.jsx)("h2",{id:"personal-api-keys",className:"subtitle",children:"Personal API Keys"}),(0,jsx_runtime.jsx)(PersonalAPIKeys,{}),(0,jsx_runtime.jsx)(divider.Z,{}),(0,jsx_runtime.jsx)("h2",{id:"2fa",className:"subtitle",children:"Two-Factor Authentication"}),(0,jsx_runtime.jsx)(TwoFactorAuthentication,{}),(0,jsx_runtime.jsx)(divider.Z,{}),(0,jsx_runtime.jsxs)("div",{id:"notifications",children:[(0,jsx_runtime.jsx)("h2",{className:"subtitle",children:"Notifications"}),(0,jsx_runtime.jsx)(UpdateEmailPreferences,{})]}),(0,jsx_runtime.jsx)(divider.Z,{}),(0,jsx_runtime.jsx)("h2",{id:"optout",className:"subtitle",children:"Anonymize Data Collection"}),(0,jsx_runtime.jsx)(OptOutCapture,{})]})]})}}}]);