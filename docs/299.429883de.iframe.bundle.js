(window.webpackJsonp=window.webpackJsonp||[]).push([[299],{"./frontend/src/scenes/groups/Groups.tsx":function(h,O,s){"use strict";s.r(O),s.d(O,"scene",function(){return n}),s.d(O,"Groups",function(){return o});var l=s("./node_modules/core-js/modules/es.object.to-string.js"),I=s.n(l),R=s("./node_modules/core-js/modules/es.regexp.to-string.js"),C=s.n(R),y=s("./node_modules/core-js/modules/es.object.keys.js"),b=s.n(y),c=s("./node_modules/kea/lib/index.esm.js"),T=s("./frontend/src/scenes/groups/groupsListLogic.ts"),M=s("./frontend/src/lib/components/PropertiesTable.tsx"),v=s("./frontend/src/scenes/persons/PersonPageHeader.tsx"),a=s("./frontend/src/lib/components/TimezoneAware/index.tsx"),K=s("./frontend/src/lib/components/LemonTable/index.ts"),p=s("./frontend/src/lib/components/Link.tsx"),E=s("./frontend/src/scenes/urls.ts"),m=s("./frontend/src/scenes/groups/GroupsIntroduction.tsx"),d=s("./frontend/src/lib/introductions/groupsAccessLogic.ts"),_=s("./frontend/src/scenes/persons/GroupActorHeader.tsx"),i=s("./frontend/src/scenes/ingestion/frameworks/CodeSnippet.tsx"),A=s("./frontend/src/lib/components/AlertMessage/index.ts"),r=s("./node_modules/react/jsx-runtime.js"),e=s.n(r),n={component:o,logic:T.a};function o(){var t=Object(c.useValues)(T.a),j=t.currentTabName,P=t.groupName,f=P.singular,D=P.plural,L=t.groups,g=t.groupsLoading,G=Object(c.useActions)(T.a),W=G.loadGroups,H=Object(c.useValues)(d.b),B=H.groupsAccessStatus;if(B==d.a.HasAccess||B==d.a.HasGroupTypes||B==d.a.NoAccess)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v.a,{}),Object(r.jsx)(m.b,{access:B})]});var S=[{title:j,key:"group_key",render:function(x,u){return Object(r.jsx)(p.a,{to:E.a.group(u.group_type_index.toString(),u.group_key),children:Object(_.b)(u.group_key,u.group_properties)})}},{title:"First seen",key:"created_at",render:function(x,u){return Object(r.jsx)(a.b,{time:u.created_at})}}];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v.a,{}),Object(r.jsx)(K.a,{columns:S,rowKey:"group_key",loading:g,dataSource:L.results,expandable:{expandedRowRender:function(x){var u=x.group_properties;return Object(r.jsx)(M.a,{properties:u})},rowExpandable:function(x){var u=x.group_properties;return!!u&&Object.keys(u).length>0}},pagination:{controlled:!0,onBackward:L.previous?function(){W(L.previous),window.scrollTo(0,0)}:void 0,onForward:L.next?function(){W(L.next),window.scrollTo(0,0)}:void 0},emptyState:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(A.a,{type:"info",children:["No ",D," found. Make sure to send properties with your ",f," for them to show up in the list."," ",Object(r.jsx)("a",{href:"https://posthog.com/docs/user-guides/group-analytics",rel:"noopener",target:"_blank",children:"Read more here."})]}),Object(r.jsx)(i.a,{language:i.b.JavaScript,wrap:!0,children:"posthog.group('".concat(f,`', 'id:5', {
`)+"    name: 'Awesome ".concat(j,`',
`)+`    value: 11
});`})]})})]})}},"./frontend/src/scenes/groups/groupsListLogic.ts":function(h,O,s){"use strict";s.d(O,"a",function(){return r});var l=s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),I=s.n(l),R=s("./node_modules/@babel/runtime/regenerator/index.js"),C=s.n(R),y=s("./node_modules/core-js/modules/es.array.iterator.js"),b=s.n(y),c=s("./node_modules/core-js/modules/es.object.to-string.js"),T=s.n(c),M=s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),v=s.n(M),a=s("./node_modules/core-js/modules/es.array.concat.js"),K=s.n(a),p=s("./node_modules/kea/lib/index.esm.js"),E=s("./frontend/src/lib/api.ts"),m=s("./frontend/src/lib/introductions/groupsAccessLogic.ts"),d=s("./frontend/src/lib/utils.tsx"),_=s("./frontend/src/scenes/teamLogic.tsx"),i=s("./frontend/src/scenes/urls.ts"),A=s("./frontend/src/models/groupsModel.ts"),r=Object(p.kea)({path:["groups","groupsListLogic"],connect:{values:[_.a,["currentTeamId"],A.a,["groupTypes","aggregationLabel"],m.b,["groupsEnabled"]]},actions:function(){return{loadGroups:function(o){return{url:o}},setTab:function(o){return{tab:o}}}},loaders:function(n){var o=n.values;return{groups:[{next:null,previous:null,results:[]},{loadGroups:function(){var t=I()(C.a.mark(function P(f){var D;return C.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(D=f.url,!o.groupsEnabled){g.next=6;break}return D=D||"api/projects/".concat(o.currentTeamId,"/groups/?group_type_index=").concat(o.currentTab),g.next=5,E.b.get(D);case 5:return g.abrupt("return",g.sent);case 6:case"end":return g.stop()}},P)}));function j(P){return t.apply(this,arguments)}return j}()}]}},reducers:{currentTab:["-1",{setTab:function(n,o){var t=o.tab;return t}}]},selectors:{currentTabName:[function(e){return[e.currentTab,e.groupTypes,e.aggregationLabel]},function(e,n,o){return e==="-1"?"Persons":n!=null&&n.length?Object(d.i)(o(parseInt(e)).singular):""}],groupName:[function(e){return[e.currentTab,e.aggregationLabel]},function(e,n){return e==="-1"?{singular:"person",plural:"persons"}:n(parseInt(e))}],breadcrumbs:[function(e){return[e.currentTabName,e.currentTab]},function(e,n){return[{name:e,path:i.a.groups(n)}]}]},actionToUrl:function(){return{setTab:function(o){var t=o.tab;return t!=="-1"?i.a.groups(t):i.a.persons()}}},urlToAction:function(n){var o=n.actions,t=n.values;return{"/groups/:id":function(P){var f=P.id;f&&(o.setTab(f),o.loadGroups())},"/persons":function(){t.currentTab!=="-1"&&o.setTab("-1")}}}})},"./frontend/src/scenes/persons/PersonPageHeader.tsx":function(h,O,s){"use strict";s.d(O,"a",function(){return p});var l=s("./node_modules/kea/lib/index.esm.js"),I=s("./frontend/src/lib/components/PageHeader.tsx"),R=s("./node_modules/core-js/modules/es.array.includes.js"),C=s("./node_modules/core-js/modules/es.string.includes.js"),y=s("./node_modules/core-js/modules/es.array.map.js"),b=s("./node_modules/antd/es/tabs/index.js"),c=s("./frontend/src/lib/introductions/groupsAccessLogic.ts"),T=s("./frontend/src/lib/utils.tsx"),M=s("./frontend/src/models/groupsModel.ts"),v=s("./frontend/src/scenes/groups/groupsListLogic.ts"),a=s("./node_modules/react/jsx-runtime.js");function K(){var E=Object(l.useActions)(v.a),m=E.setTab,d=Object(l.useValues)(v.a),_=d.currentTab,i=Object(l.useValues)(M.a),A=i.groupTypes,r=i.aggregationLabel,e=Object(l.useValues)(c.b),n=e.groupsAccessStatus,o=[c.a.HasAccess,c.a.HasGroupTypes,c.a.NoAccess].includes(n);return Object(a.jsxs)(b.a,{activeKey:_,onChange:function(j){return m(j)},children:[Object(a.jsx)(b.a.TabPane,{tab:"Persons"},"-1"),o?Object(a.jsx)(b.a.TabPane,{tab:"Introducing Group Analytics"},"0"):A.map(function(t){return Object(a.jsx)(b.a.TabPane,{tab:Object(T.i)(r(t.group_type_index).plural)},t.group_type_index)})]})}function p(E){var m=E.hideGroupTabs,d=Object(l.useValues)(M.a),_=d.showGroupsOptions;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(I.a,{title:"Persons".concat(_?" & Groups":""),caption:"A catalog of your product's end users".concat(_?" and groups":"",".")}),!m&&_&&Object(a.jsx)(K,{})]})}try{p.displayName="PersonPageHeader",p.__docgenInfo={description:"",displayName:"PersonPageHeader",props:{hideGroupTabs:{defaultValue:null,description:"",name:"hideGroupTabs",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"]={docgenInfo:p.__docgenInfo,name:"PersonPageHeader",path:"frontend/src/scenes/persons/PersonPageHeader.tsx#PersonPageHeader"})}catch(E){}}}]);
