(self.webpackChunk_posthog_storybook=self.webpackChunk_posthog_storybook||[]).push([[76626],{"../../products/messaging/frontend/Campaigns/CampaignScene.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CampaignScene:()=>CampaignScene,scene:()=>scene});var index_esm=__webpack_require__("../../node_modules/.pnpm/kea@3.1.5_react@18.2.0/node_modules/kea/lib/index.esm.js"),lib=__webpack_require__("../../node_modules/.pnpm/kea-router@3.2.1_kea@3.1.5_react@18.2.0_/node_modules/kea-router/lib/index.js"),PageHeader=__webpack_require__("../../frontend/src/lib/components/PageHeader.tsx"),LemonButton=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonTabs=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonTabs/index.ts"),urls=__webpack_require__("../../frontend/src/scenes/urls.ts"),kea_forms_lib=__webpack_require__("../../node_modules/.pnpm/kea-forms@3.2.0_kea@3.1.5_react@18.2.0_/node_modules/kea-forms/lib/index.js"),kea_loaders_lib=__webpack_require__("../../node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5_react@18.2.0_/node_modules/kea-loaders/lib/index.js"),api=__webpack_require__("../../frontend/src/lib/api.ts"),LemonToast=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonToast/index.ts"),sceneTypes=__webpack_require__("../../frontend/src/scenes/sceneTypes.ts");let campaignSceneLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","campaignSceneLogic"]),(0,index_esm.props)({id:"new"}),(0,index_esm.actions)({setCurrentTab:tab=>({tab})}),(0,index_esm.reducers)({currentTab:["overview",{setCurrentTab:(_,_ref)=>{let{tab}=_ref;return tab}}]}),(0,index_esm.selectors)({breadcrumbs:[()=>[(_,props)=>props.id],id=>[{key:sceneTypes.x.MessagingCampaigns,name:"Messaging",path:urls.j.messagingCampaigns()},{key:"campaigns",name:"Campaigns",path:urls.j.messagingCampaigns()},{key:"campaign",name:"new"==id?"New campaign":"Manage campaign"}]]}),(0,lib.actionToUrl)(_ref2=>{let{props,values}=_ref2;return{setCurrentTab:()=>[urls.j.messagingCampaign(props.id||"new",values.currentTab)]}}),(0,lib.urlToAction)(_ref3=>{let{actions,values}=_ref3;return{"/messaging/campaigns/:id/:tab":_ref4=>{let{tab}=_ref4;tab!==values.currentTab&&actions.setCurrentTab(tab)}}})]),NEW_CAMPAIGN={id:"new",name:"",edges:[{type:"continue",from:"trigger_node",to:"exit_node",index:0}],actions:[{id:"trigger_node",type:"trigger",description:"",config:{inputs:{}},created_at:0,updated_at:0},{id:"exit_node",type:"exit",description:"",config:{inputs:{}},created_at:0,updated_at:0}],trigger:{type:"event"},trigger_masking:{ttl:0,hash:"",threshold:0},conversion:{window_minutes:0,filters:[]},exit_condition:"exit_only_at_end",version:1,status:"draft",team_id:-1},campaignLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","Campaigns","campaignLogic"]),(0,index_esm.props)({id:"new"}),(0,index_esm.key)(props=>props.id||"new"),(0,index_esm.actions)({setOriginalCampaign:campaign=>({campaign})}),(0,kea_loaders_lib.loaders)(_ref=>{let{props}=_ref;return{campaign:{loadCampaign:async()=>props.id&&"new"!==props.id?api.ZP.hogFlows.getHogFlow(props.id):{...NEW_CAMPAIGN},saveCampaign:async updates=>props.id&&"new"!==props.id?api.ZP.hogFlows.updateHogFlow(props.id,updates):api.ZP.hogFlows.createHogFlow(updates)}}}),(0,kea_forms_lib.forms)(_ref2=>{let{actions}=_ref2;return{campaign:{defaults:{...NEW_CAMPAIGN},submit:async values=>{actions.saveCampaign(values)}}}}),(0,index_esm.reducers)({originalCampaign:[{...NEW_CAMPAIGN},{setOriginalCampaign:(_,_ref3)=>{let{campaign}=_ref3;return campaign},loadCampaignSuccess:(_,_ref4)=>{let{campaign}=_ref4;return campaign}}]}),(0,index_esm.listeners)(_ref5=>{let{actions}=_ref5;return{saveCampaignSuccess:async _ref6=>{let{campaign}=_ref6;LemonToast.U.success("Campaign saved"),campaign.id&&lib.router.actions.replace(urls.j.messagingCampaign(campaign.id,campaignSceneLogic.findMounted()?.values.currentTab)),actions.resetCampaign(campaign),actions.setOriginalCampaign(campaign)}}}),(0,index_esm.afterMount)(_ref7=>{let{actions,props}=_ref7;props.id&&"new"!==props.id&&actions.loadCampaign()})]);__webpack_require__("../../node_modules/.pnpm/@xyflow+react@12.6.0_@types+react@17.0.52_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@xyflow/react/dist/style.css");var PropertyFilters=__webpack_require__("../../frontend/src/lib/components/PropertyFilters/PropertyFilters.tsx"),types=__webpack_require__("../../frontend/src/lib/components/TaxonomicFilter/types.ts"),LemonDivider=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonDivider/index.ts"),LemonField=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonField/index.ts"),LemonInput=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonInput/index.ts"),LemonRadio=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonRadio/index.ts"),LemonSelect=__webpack_require__("../../frontend/src/lib/lemon-ui/LemonSelect/index.ts"),ActionFilter=__webpack_require__("../../frontend/src/scenes/insights/filters/ActionFilter/ActionFilter.tsx"),ActionFilterRow=__webpack_require__("../../frontend/src/scenes/insights/filters/ActionFilter/ActionFilterRow/ActionFilterRow.tsx"),jsx_runtime=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");function CampaignOverview(_ref){let{id}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-4",children:(0,jsx_runtime.jsx)(kea_forms_lib.Form,{id:"campaign-overview",logic:campaignLogic,props:{id},formKey:"campaign",enableFormOnSubmit:!0,children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col flex-wrap gap-4 items-start mb-72",children:[(0,jsx_runtime.jsx)(BasicInfoSection,{}),(0,jsx_runtime.jsx)(TriggerSection,{}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 w-full",children:[(0,jsx_runtime.jsx)(ConversionGoalSection,{}),(0,jsx_runtime.jsx)(ExitConditionSection,{})]})]})})})}function BasicInfoSection(){return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 w-full rounded border bg-surface-primary p-3",children:[(0,jsx_runtime.jsx)(LemonField.D,{name:"name",label:"Name",children:(0,jsx_runtime.jsx)(LemonInput.D,{})}),(0,jsx_runtime.jsx)(LemonField.D,{name:"description",label:"Description",children:(0,jsx_runtime.jsx)(LemonInput.D,{})})]})}function TriggerSection(){return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 w-full rounded border bg-surface-primary p-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("p",{className:"text-lg font-semibold mb-1",children:"Campaign trigger event"}),(0,jsx_runtime.jsx)("p",{className:"mb-0",children:"Choose which events or actions will enter a user into the campaign."})]}),(0,jsx_runtime.jsx)(LemonField.D,{name:"triggerEvents",children:_ref2=>{let{value,onChange}=_ref2;return(0,jsx_runtime.jsx)(ActionFilter.T,{filters:null!=value?value:{},setFilters:onChange,typeKey:"campaign-trigger",mathAvailability:ActionFilterRow.Qq.None,hideRename:!0,hideDuplicate:!0,showNestedArrow:!1,actionsTaxonomicGroupTypes:[types.t.Events,types.t.Actions],propertiesTaxonomicGroupTypes:[types.t.EventProperties,types.t.EventFeatureFlags,types.t.Elements,types.t.PersonProperties,types.t.HogQLExpression],propertyFiltersPopover:!0,addFilterDefaultOptions:{id:"$pageview",name:"$pageview",type:"events"},buttonProps:{type:"secondary"},buttonCopy:"Add trigger event"})}})]})}function ConversionGoalSection(){return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 w-1/2 rounded border bg-surface-primary p-3 h-fit",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("p",{className:"text-lg font-semibold mb-1",children:"Conversion goal"}),(0,jsx_runtime.jsx)("p",{className:"mb-0",children:"Define what properties a user must have to be considered converted."})]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-1",children:[(0,jsx_runtime.jsx)("div",{className:"w-2/3",children:(0,jsx_runtime.jsx)(LemonField.D,{name:["conversion","filters"],label:"Conversion properties",children:_ref3=>{let{value,onChange}=_ref3;return(0,jsx_runtime.jsx)(PropertyFilters.t,{propertyFilters:null!=value?value:[],taxonomicGroupTypes:[types.t.PersonProperties,types.t.Cohorts,types.t.HogQLExpression],onChange:onChange,pageKey:"campaign-conversion-properties",hideBehavioralCohorts:!0})}})}),(0,jsx_runtime.jsx)(LemonDivider.p,{vertical:!0}),(0,jsx_runtime.jsx)("div",{className:"w-1/3",children:(0,jsx_runtime.jsx)(LemonField.D,{name:["conversion","window"],label:"Conversion window",info:"How long after entering the campaign should we check for conversion? After this window, users will be considered for conversion.",children:_ref4=>{let{value,onChange}=_ref4;return(0,jsx_runtime.jsx)(LemonSelect.Yv,{value:value,onChange:onChange,options:[{value:86400,label:"24 hours"},{value:604800,label:"7 days"},{value:1209600,label:"14 days"},{value:2592e3,label:"30 days"}]})}})})]})]})}function ExitConditionSection(){return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2 w-1/2 rounded border bg-surface-primary p-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("p",{className:"text-lg font-semibold mb-1",children:"Exit condition"}),(0,jsx_runtime.jsx)("p",{className:"mb-0",children:"Choose how your users move through the campaign."})]}),(0,jsx_runtime.jsx)(LemonField.D,{name:"exit_condition",children:_ref5=>{let{value,onChange}=_ref5;return(0,jsx_runtime.jsx)(LemonRadio._,{value:value,onChange:onChange,options:[{value:"exit_only_at_end",label:"Exit at end of workflow"},{value:"exit_on_trigger_not_matched",label:"Exit on trigger not matched"},{value:"exit_on_conversion",label:"Exit on conversion"},{value:"exit_on_trigger_not_matched_or_conversion",label:"Exit on trigger not matched or conversion"}]})}})]})}var src=__webpack_require__("../../frontend/@posthog/lemon-ui/src/index.ts"),esm=__webpack_require__("../../node_modules/.pnpm/@xyflow+react@12.6.0_@types+react@17.0.52_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@xyflow/react/dist/esm/index.js"),dist_esm=__webpack_require__("../../node_modules/.pnpm/@xyflow+system@0.0.57/node_modules/@xyflow/system/dist/esm/index.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),themeLogic=__webpack_require__("../../frontend/src/layout/navigation-3000/themeLogic.ts"),elk_bundled=__webpack_require__("../../node_modules/.pnpm/elkjs@0.10.0/node_modules/elkjs/lib/elk.bundled.js"),elk_bundled_default=__webpack_require__.n(elk_bundled);let getDefaultNodeOptions=isEntryOrExit=>({deletable:!isEntryOrExit,selectable:!isEntryOrExit,draggable:!1,connectable:!1}),getDefaultEdgeOptions=()=>({type:"smoothstep",deletable:!1,reconnectable:!1,selectable:!1,focusable:!1,markerEnd:{type:dist_esm.QZ.ArrowClosed},labelShowBg:!1}),TOP_HANDLE_POSITION={x:50,y:0},BOTTOM_HANDLE_POSITION={x:50,y:34},LEFT_HANDLE_POSITION={x:0,y:17},RIGHT_HANDLE_POSITION={x:100,y:17},getElkPortSide=position=>{switch(position){case dist_esm.Ly.Top:return"NORTH";case dist_esm.Ly.Bottom:return"SOUTH";case dist_esm.Ly.Left:return"WEST";case dist_esm.Ly.Right:return"EAST"}},elk=new(elk_bundled_default()),getFormattedNodes=async(nodes,edges)=>{let graph={id:"root",layoutOptions:{"elk.algorithm":"layered","elk.layered.spacing.nodeNodeBetweenLayers":"100","elk.spacing.nodeNode":"100","elk.spacing.edgeEdge":"100","elk.spacing.edgeNode":"100","elk.direction":"DOWN","elk.alignment":"CENTER","elk.layered.nodePlacement.bk.fixedAlignment":"BALANCED","elk.padding":"[left=0, top=0, right=0, bottom=0]"},children:nodes.map(node=>{let handles=node.handles?.map(h=>({id:h.id||`${node.id}_${h.type}`,properties:{side:getElkPortSide(h.position)}}))||[];return{...node,width:100,height:34,properties:{"org.eclipse.elk.portConstraints":"FIXED_ORDER"},ports:[{id:node.id},...handles]}}),edges:edges.map(edge=>({...edge,id:edge.id,sources:[edge.sourceHandle||edge.source],targets:[edge.targetHandle||edge.target]}))},layoutedGraph=await elk.layout(graph),triggerNode=layoutedGraph.children?.find(node=>"trigger_node"===node.id),offsetX=triggerNode?.x||0,offsetY=triggerNode?.y||0;return layoutedGraph.children?.forEach(node=>{node.x=(node.x||0)-offsetX,node.y=(node.y||0)-offsetY}),layoutedGraph.children?.map(node=>({...node,position:{x:node.x,y:node.y}}))};var posthog_icons_es=__webpack_require__("../../node_modules/.pnpm/@posthog+icons@0.22.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/@posthog/icons/dist/posthog-icons.es.js"),CyclotronJobInputs=__webpack_require__("../../frontend/src/lib/components/CyclotronJob/CyclotronJobInputs.tsx"),utils=__webpack_require__("../../frontend/src/lib/utils.tsx");let nodeLogic=(0,index_esm.kea)([(0,index_esm.path)(["products","messaging","frontend","Campaigns","Workflows","Nodes","nodeLogic"]),(0,index_esm.props)({node:{}}),(0,index_esm.key)(props=>props.node.id),(0,kea_forms_lib.forms)(_ref=>{let{props}=_ref;return{inputs:{defaults:{...props.node.data.config.inputs}}}})]);var constants=__webpack_require__("../../products/messaging/frontend/TemplateLibrary/constants.ts");let addDropzoneNodes=(nodes,edges)=>{let newNodes=[...nodes];return edges.forEach(edge=>{let sourceNode=nodes.find(n=>n.id===edge.source),targetNode=nodes.find(n=>n.id===edge.target);if(sourceNode&&targetNode){let sourceHandle=sourceNode.handles?.find(h=>h.id===edge.sourceHandle),targetHandle=targetNode.handles?.find(h=>h.id===edge.targetHandle),[,labelX,labelY]=(0,dist_esm.OW)({sourceX:sourceNode.position.x+(sourceHandle?.x||0),sourceY:sourceNode.position.y+(sourceHandle?.y||0),targetX:targetNode.position.x+(targetHandle?.x||0),targetY:targetNode.position.y+(targetHandle?.y||0),sourcePosition:sourceHandle?.position||dist_esm.Ly.Bottom,targetPosition:targetHandle?.position||dist_esm.Ly.Top}),dropzoneId=`dropzone_edge_${edge.id}`;newNodes.push({id:dropzoneId,type:"dropzone",position:{x:labelX,y:labelY},data:{id:dropzoneId,description:"",type:"delay",config:{inputs:{}},on_error:"continue",created_at:0,updated_at:0},draggable:!1,selectable:!1})}}),newNodes},getNodeHandles=(nodeId,nodeType)=>{switch(nodeType){case"trigger":return[{id:`${nodeId}_source`,type:"source",position:dist_esm.Ly.Bottom,...BOTTOM_HANDLE_POSITION}];case"exit":return[{id:`${nodeId}_target`,type:"target",position:dist_esm.Ly.Top,...TOP_HANDLE_POSITION}];case"message":return[{id:`${nodeId}_target`,type:"target",position:dist_esm.Ly.Top,...TOP_HANDLE_POSITION},{id:`${nodeId}_on_success`,type:"source",position:dist_esm.Ly.Left,label:"Successful delivery",...LEFT_HANDLE_POSITION},{id:`${nodeId}_on_error`,type:"source",position:dist_esm.Ly.Right,label:"Delivery failed",...RIGHT_HANDLE_POSITION}];case"wait_for_condition":return[{id:`${nodeId}_target`,type:"target",position:dist_esm.Ly.Top,...TOP_HANDLE_POSITION},{id:`${nodeId}_on_success`,type:"source",position:dist_esm.Ly.Left,label:"Match",...LEFT_HANDLE_POSITION},{id:`${nodeId}_on_error`,type:"source",position:dist_esm.Ly.Right,label:"Max checks reached",...RIGHT_HANDLE_POSITION}];case"conditional_branch":return[{id:`${nodeId}_target`,type:"target",position:dist_esm.Ly.Top,...TOP_HANDLE_POSITION},{id:`${nodeId}_on_match_condition_0`,type:"source",position:dist_esm.Ly.Left,label:"Match condition 1",...LEFT_HANDLE_POSITION},{id:`${nodeId}_on_error`,type:"source",position:dist_esm.Ly.Right,label:"No match",...RIGHT_HANDLE_POSITION}];default:return[{id:`${nodeId}_target`,type:"target",position:dist_esm.Ly.Top,...TOP_HANDLE_POSITION},{id:`${nodeId}_source`,type:"source",position:dist_esm.Ly.Bottom,...BOTTOM_HANDLE_POSITION}]}},getNodeInputs=node=>{switch(node.type){case"message":return{name:{value:"config"in node&&node.config.inputs.name.value||""},email:{value:"config"in node&&node.config.inputs.email.value||constants.r}};case"delay":return{name:{value:"config"in node&&node.config.inputs.name.value||""},duration:{value:"config"in node&&node.config.inputs.duration.value||15}};case"wait_for_condition":case"conditional_branch":return{name:{value:"config"in node&&node.config.inputs.name.value||""}};default:return{}}},getNodeInputsSchema=node=>{switch(node.type){case"message":return[{type:"string",key:"name",label:"Name",required:!1},{type:"email",key:"email",label:"Email",required:!0}];case"delay":return[{type:"string",key:"name",label:"Name",required:!1},{type:"string",key:"duration",label:"Duration (minutes)",required:!0}];case"wait_for_condition":default:return[];case"conditional_branch":return[{type:"string",key:"name",label:"Name",required:!1}]}},createNewNode=(toolbarNode,nodeId,position)=>{let id=nodeId||`${toolbarNode.type}_${Date.now()}`;return{id,type:toolbarNode.type,data:{id,description:"",config:{inputs:getNodeInputs(toolbarNode)},type:toolbarNode.type,on_error:"continue",created_at:0,updated_at:0},handles:getNodeHandles(id,toolbarNode.type),position:{x:position?.x||0,y:position?.y||0},...getDefaultNodeOptions(!1)}},createEdgesForNewNode=(nodeId,nodeType,edgeToInsertNodeInto)=>getNodeHandles(nodeId,nodeType).map(handle=>"target"===handle.type?{id:`${edgeToInsertNodeInto.source}->${nodeId}${handle.id?`:${handle.id}`:""}`,source:edgeToInsertNodeInto.source,target:nodeId,sourceHandle:edgeToInsertNodeInto.sourceHandle,targetHandle:handle.id,...getDefaultEdgeOptions(),label:edgeToInsertNodeInto?.label}:{id:`${nodeId}->${edgeToInsertNodeInto.target}${handle.id?`:${handle.id}`:""}`,source:nodeId,target:edgeToInsertNodeInto.target,sourceHandle:handle.id,targetHandle:edgeToInsertNodeInto.targetHandle,...getDefaultEdgeOptions(),label:handle.label});getNodeHandles("trigger_node","trigger"),getDefaultNodeOptions(!0),getNodeHandles("exit_node","exit"),getDefaultNodeOptions(!0),getDefaultEdgeOptions();let getNodesFromHogFlow=hogFlow=>hogFlow.actions.map(action=>({id:action.id,type:action.type,data:action,position:{x:0,y:0},...getDefaultNodeOptions(["trigger","exit"].includes(action.type))})),getEdgesFromHogFlow=hogFlow=>hogFlow.edges.map(edge=>({id:`${edge.from}->${edge.to}`,source:edge.from,target:edge.to,...getDefaultEdgeOptions()}));function NodeDetailsPanel(_ref){let{node,onChange,onDelete,onClose}=_ref,nodes=(0,esm.SM)(),edges=(0,esm.Mi)();return(0,jsx_runtime.jsx)(esm.s_,{position:"top-right",children:(0,jsx_runtime.jsxs)(kea_forms_lib.Form,{logic:nodeLogic,props:{node},formKey:"inputs",className:"bg-surface-primary rounded-md shadow-md p-4 gap-2 flex flex-col z-10 min-w-[300px] max-w-[500px] max-h-3/4 overflow-y-scroll",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jsx_runtime.jsxs)("h3",{className:"font-semibold",children:["Edit ",(0,utils.fm)(node.data.type)," step"]}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-1 items-center",children:[node.deletable&&(0,jsx_runtime.jsx)(src.Jp,{size:"small",status:"danger",onClick:()=>onDelete(node),icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconTrash,{}),disabledReason:(()=>{let outgoingNodes=(0,dist_esm.xA)(node,nodes,edges);return 1===outgoingNodes.length||1===new Set(outgoingNodes.map(node=>node.id)).size})()?void 0:"Clean up branching steps first"}),(0,jsx_runtime.jsx)(src.Jp,{size:"small",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconX,{}),onClick:onClose,"aria-label":"close"})]})]}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-2",children:(0,jsx_runtime.jsx)(CyclotronJobInputs.c,{configuration:{inputs:node.data.config.inputs,inputs_schema:getNodeInputsSchema(node.data)},onInputChange:(key,value)=>{onChange({...node,data:{...node.data,config:{...node.data.config,inputs:{...node.data.config.inputs,[key]:value}}}})},showSource:!1})})]})})}let REACT_FLOW_NODE_TYPES={dropzone:DropzoneNode,dropzone_highlighted:DropzoneNode,trigger:TriggerNode,message:EmailNode,conditional_branch:ConditionNode,delay:DelayNode,wait_for_condition:DelayUntilNode,exit:ExitNode},DROPZONE_NODE_TYPES=["dropzone","dropzone_highlighted"];function DropzoneNode(_ref){let{type}=_ref;return(0,jsx_runtime.jsx)("div",{className:`w-[100px] h-[34px] bg-surface-secondary border ${"dropzone_highlighted"===type?"border-secondary bg-surface-primary":"border-primary"} border-dashed rounded p-2 cursor-pointer`,children:(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center gap-1",children:(0,jsx_runtime.jsx)(posthog_icons_es.IconPlus,{})})})}function BaseNode(_ref2){let{id,icon,selected,type,data,children}=_ref2,updateNodeInternals=(0,esm.Bn)(),handles=getNodeHandles(id,type);return(0,react.useEffect)(()=>{updateNodeInternals(id)},[id,updateNodeInternals]),(0,jsx_runtime.jsxs)("div",{className:`w-[100px] h-[34px] bg-surface-primary border ${selected?"border-secondary":"border-primary"} rounded p-2 hover:bg-surface-secondary transition-transform duration-300 cursor-pointer`,children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[icon,(0,jsx_runtime.jsx)("div",{className:"text-xs",children:data.config.inputs.name?.value||(0,utils.fm)(type||"Untitled")})]}),children,handles?.map(handle=>jsx_runtime.jsx(esm.HH,{...handle,isConnectable:!1,className:"opacity-0"},handle.id))]})}function TriggerNode(props){return(0,jsx_runtime.jsx)(BaseNode,{...props,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconBolt,{className:"text-green-400"})})}function EmailNode(props){return(0,jsx_runtime.jsx)(BaseNode,{...props,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconSend,{className:"text-muted"})})}function ConditionNode(props){return(0,jsx_runtime.jsx)(BaseNode,{...props,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconDecisionTree,{className:"text-muted"})})}function DelayNode(props){return(0,jsx_runtime.jsx)(BaseNode,{...props,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconHourglass,{className:"text-muted"})})}function DelayUntilNode(props){return(0,jsx_runtime.jsx)(BaseNode,{...props,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconRevert,{className:"text-muted"})})}function ExitNode(props){return(0,jsx_runtime.jsx)(BaseNode,{...props,icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconLeave,{className:"text-red-500"})})}let TOOLBAR_NODES=[{type:"message",name:"Message",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconSend,{})},{type:"conditional_branch",name:"Condition",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconDecisionTree,{})},{type:"delay",name:"Wait",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconClock,{})},{type:"wait_for_condition",name:"Wait for condition",icon:(0,jsx_runtime.jsx)(posthog_icons_es.IconHourglass,{})}];function ToolbarNode(_ref){let{node,setNewNode}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"bg-surface-primary border rounded flex justify-between items-center p-2 cursor-grab hover:bg-surface-secondary",draggable:!0,onDragStart:event=>{setNewNode(node),event.dataTransfer.setData("application/reactflow",node.type),event.dataTransfer.effectAllowed="move"},children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1",children:[node.icon,node.name]}),(0,jsx_runtime.jsx)(posthog_icons_es.IconDrag,{className:"text-lg"})]})}function Toolbar(_ref2){let{setNewNode}=_ref2;return(0,jsx_runtime.jsx)(esm.s_,{position:"top-left",children:(0,jsx_runtime.jsxs)("div",{className:"bg-surface-primary rounded-md shadow-md flex flex-col gap-2 p-4 z-10 w-[200px]",children:[(0,jsx_runtime.jsx)("h3",{className:"font-semibold nodrag",children:"Workflow steps"}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-2",children:TOOLBAR_NODES.map(node=>(0,jsx_runtime.jsx)(ToolbarNode,{node:node,setNewNode:setNewNode},node.type))})]})})}function WorkflowEditorContent(_ref){let{initialValues,onChange}=_ref,{isDarkModeOn}=(0,index_esm.useValues)(themeLogic.b),initialNodes=(0,react.useMemo)(()=>getNodesFromHogFlow(initialValues),[initialValues]),initialEdges=(0,react.useMemo)(()=>getEdgesFromHogFlow(initialValues),[initialValues]),[nodes,setNodes,onNodesChange]=(0,esm.Rr)(initialNodes),[edges,setEdges,onEdgesChange]=(0,esm.ll)(initialEdges);(0,react.useEffect)(()=>{onChange({actions:nodes.map(node=>node.data),edges:edges.map(edge=>({from:edge.source,to:edge.target,type:"continue",index:edge.data?.index||0}))})},[nodes.length,edges.length]);let reactFlowWrapper=(0,react.useRef)(null),[toolbarNodeUsed,setToolbarNodeUsed]=(0,react.useState)(),[selectedNode,setSelectedNode]=(0,react.useState)(),{screenToFlowPosition,deleteElements,setCenter,getIntersectingNodes,fitView}=(0,esm._K)(),nodeTypes=(0,react.useMemo)(()=>REACT_FLOW_NODE_TYPES,[]),updateAndLayout=(0,react.useCallback)(async _ref2=>{let{nodes,edges}=_ref2;(async()=>{setNodes(await getFormattedNodes(nodes,edges)),setEdges(edges),fitView()})()},[]);(0,react.useLayoutEffect)(()=>{updateAndLayout({nodes:initialNodes,edges:initialEdges})},[]),(0,react.useEffect)(()=>{selectedNode&&setCenter((selectedNode?.position.x||0)+(selectedNode?.measured?.width||0)/2,(selectedNode?.position.y||0)+100,{duration:300,zoom:2})},[selectedNode,setCenter]);let findIntersectingDropzone=(0,react.useCallback)(event=>{let position=screenToFlowPosition({x:event.clientX,y:event.clientY});return getIntersectingNodes({x:position.x,y:position.y,width:10,height:10},!0).find(node=>DROPZONE_NODE_TYPES.includes(node.type||""))},[getIntersectingNodes,screenToFlowPosition]),onDragOver=(0,react.useCallback)(event=>{event.preventDefault(),event.dataTransfer.dropEffect="move";let intersectingDropzone=findIntersectingDropzone(event);setNodes(nds=>nds.map(nd=>DROPZONE_NODE_TYPES.includes(nd.type||"")?{...nd,type:nd.id===intersectingDropzone?.id?"dropzone_highlighted":"dropzone"}:nd))},[findIntersectingDropzone,setNodes]),onDrop=(0,react.useCallback)(async event=>{event.preventDefault();let intersectingDropzone=findIntersectingDropzone(event),edgeIdToInsertNodeInto=intersectingDropzone?.id.replace("dropzone_edge_",""),edgeToInsertNodeInto=edges.find(edge=>edge.id===edgeIdToInsertNodeInto),updatedNodes=[...nodes.filter(nd=>!DROPZONE_NODE_TYPES.includes(nd.type||""))];if(!toolbarNodeUsed||!intersectingDropzone||!edgeToInsertNodeInto){setNodes(updatedNodes);return}let newNodeId=`${toolbarNodeUsed.type}_${Date.now()}`,newNode=createNewNode(toolbarNodeUsed,newNodeId,{x:intersectingDropzone.position.x,y:intersectingDropzone.position.y});updatedNodes.push({...newNode});let updatedEdges=[...edges.filter(edge=>edge.id!==edgeIdToInsertNodeInto)],newEdges=createEdgesForNewNode(newNodeId,toolbarNodeUsed.type,edgeToInsertNodeInto);updatedEdges.push(...newEdges),updateAndLayout({nodes:updatedNodes,edges:updatedEdges})},[findIntersectingDropzone,edges,nodes,toolbarNodeUsed,updateAndLayout,setNodes]),onNodesDelete=(0,react.useCallback)(deleted=>{deleted.some(node=>node.id===selectedNode?.id)&&setSelectedNode(void 0);let newEdges=deleted.reduce((acc,node)=>{let incomers=(0,dist_esm.vG)(node,nodes,edges),outgoers=(0,dist_esm.xA)(node,nodes,edges),connectedEdges=(0,dist_esm.my)([node],edges),sourceHandle=connectedEdges.find(e=>e.target===node.id)?.sourceHandle,sourceLabel=connectedEdges.find(e=>e.target===node.id)?.label,targetHandle=connectedEdges.find(e=>e.source===node.id)?.targetHandle;return[...acc.filter(edge=>!connectedEdges.includes(edge)),...incomers.flatMap(_ref3=>{let{id:source}=_ref3;return outgoers.map(_ref4=>{let{id:target}=_ref4;return{id:`${source}->${target}${sourceHandle?`:${sourceHandle}`:""}`,source,target,sourceHandle,targetHandle,label:sourceLabel,...getDefaultEdgeOptions()}})})]},edges);updateAndLayout({nodes:nodes.filter(node=>!deleted.includes(node)),edges:newEdges})},[nodes,edges,selectedNode?.id,setSelectedNode,updateAndLayout]);return(0,jsx_runtime.jsx)("div",{ref:reactFlowWrapper,className:"h-full w-full",children:(0,jsx_runtime.jsxs)(esm.x$,{fitView:!0,nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onNodesDelete:onNodesDelete,onDragStart:()=>{setNodes(addDropzoneNodes(nodes,edges))},onDragOver:onDragOver,onNodeClick:(_,node)=>{node.selectable&&setSelectedNode(node)},onDrop:event=>{onDrop(event)},nodeTypes:nodeTypes,nodesDraggable:!1,colorMode:isDarkModeOn?"dark":"light",children:[(0,jsx_runtime.jsx)(esm.ZX,{showInteractive:!1}),(0,jsx_runtime.jsx)(esm.Aq,{gap:36,variant:esm.T7.Dots}),(0,jsx_runtime.jsx)(Toolbar,{setNewNode:setToolbarNodeUsed}),selectedNode&&(0,jsx_runtime.jsx)(NodeDetailsPanel,{node:selectedNode,onChange:node=>setNodes(nds=>nds.map(n=>n.id===node.id?node:n)),onDelete:node=>{deleteElements({nodes:[node]})},onClose:()=>setSelectedNode(void 0)})]})})}function WorkflowEditor(_ref5){let{initialValues,onChange}=_ref5;return(0,jsx_runtime.jsx)(esm.tV,{children:(0,jsx_runtime.jsx)(WorkflowEditorContent,{initialValues:initialValues,onChange:onChange})})}function CampaignWorkflow(props){let logic=(0,index_esm.useMountedLogic)(campaignLogic(props)),{campaign,campaignLoading}=(0,index_esm.useValues)(logic),{setCampaignValues}=(0,index_esm.useActions)(logic);return(0,jsx_runtime.jsx)("div",{className:"relative h-[calc(100vh-220px)] border rounded-md",children:campaignLoading?(0,jsx_runtime.jsx)(src.t2,{}):(0,jsx_runtime.jsx)(WorkflowEditor,{initialValues:campaign,onChange:_ref=>{let{actions,edges}=_ref;return setCampaignValues({actions,edges})}})})}let scene={component:CampaignScene,logic:campaignSceneLogic,paramsToProps:_ref=>{let{params:{id,tab}}=_ref;return{id:id||"new",tab:tab||"overview"}}};function CampaignScene(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{currentTab}=(0,index_esm.useValues)(campaignSceneLogic),logic=campaignLogic(props),{campaignChanged,originalCampaign,isCampaignSubmitting}=(0,index_esm.useValues)(logic),{submitCampaign,resetCampaign}=(0,index_esm.useActions)(logic),tabs=[{label:"Overview",key:"overview",content:(0,jsx_runtime.jsx)(CampaignOverview,{...props})},{label:"Workflow",key:"workflow",content:(0,jsx_runtime.jsx)(CampaignWorkflow,{...props})}];return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,jsx_runtime.jsx)(PageHeader.m,{buttons:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[campaignChanged&&(0,jsx_runtime.jsx)(LemonButton.J,{"data-attr":"discard-campaign-changes",type:"secondary",onClick:()=>resetCampaign(originalCampaign),children:"Discard changes"}),(0,jsx_runtime.jsx)(LemonButton.J,{type:"primary",htmlType:"submit",form:"campaign",onClick:submitCampaign,loading:isCampaignSubmitting,disabledReason:campaignChanged?void 0:"No changes to save",children:"new"===props.id?"Create":"Save"})]})}),(0,jsx_runtime.jsx)(LemonTabs.T,{activeKey:currentTab,onChange:tab=>lib.router.actions.push(urls.j.messagingCampaignTab(props.id,tab)),tabs:tabs})]})}},"../../products/messaging/frontend/TemplateLibrary/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>NEW_TEMPLATE});let NEW_TEMPLATE={id:"new",name:"",description:"",content:{templating:"hog",email:{from:"",to:"",subject:"",html:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional //EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office"><head>\n\x3c!--[if gte mso 9]>\n<xml>\n  <o:OfficeDocumentSettings>\n    <o:AllowPNG/>\n    <o:PixelsPerInch>96</o:PixelsPerInch>\n  </o:OfficeDocumentSettings>\n</xml>\n<![endif]--\x3e\n  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n  <meta name="x-apple-disable-message-reformatting" />\n  \x3c!--[if !mso]>\x3c!--\x3e<meta http-equiv="X-UA-Compatible" content="IE=edge" />\x3c!--<![endif]--\x3e\n  <title></title>\n  \n    <style type="text/css">\n      \n      @media only screen and (min-width: 520px) \\{\n        .u-row \\{\n          width: 500px !important;\n        }\n\n        .u-row .u-col \\{\n          vertical-align: top;\n        }\n\n        \n            .u-row .u-col-100 \\{\n              width: 500px !important;\n            }\n          \n      }\n\n      @media only screen and (max-width: 520px) \\{\n        .u-row-container \\{\n          max-width: 100% !important;\n          padding-left: 0px !important;\n          padding-right: 0px !important;\n        }\n\n        .u-row \\{\n          width: 100% !important;\n        }\n\n        .u-row .u-col \\{\n          display: block !important;\n          width: 100% !important;\n          min-width: 320px !important;\n          max-width: 100% !important;\n        }\n\n        .u-row .u-col &gt; div \\{\n          margin: 0 auto;\n        }\n\n\n}\n    \nbody \\{\n  margin: 0;\n  padding: 0;\n}\n\ntable,\ntr,\ntd \\{\n  vertical-align: top;\n  border-collapse: collapse;\n}\n\np \\{\n  margin: 0;\n}\n\n.ie-container table,\n.mso-container table \\{\n  table-layout: fixed;\n}\n\n* \\{\n  line-height: inherit;\n}\n\na[x-apple-data-detectors=\'true\'] \\{\n  color: inherit !important;\n  text-decoration: none !important;\n}\n\n\n\ntable, td \\{ color: #000000; } #u_body a \\{ color: #0000ee; text-decoration: underline; }\n    </style>\n  \n  \n\n</head>\n\n<body class="clean-body u_body" style="margin: 0;padding: 0;-webkit-text-size-adjust: 100%;background-color: #F7F8F9;color: #000000">\n  \x3c!--[if IE]><div class="ie-container"><![endif]--\x3e\n  \x3c!--[if mso]><div class="mso-container"><![endif]--\x3e\n  <table id="u_body" style="border-collapse: collapse;table-layout: fixed;border-spacing: 0;mso-table-lspace: 0pt;mso-table-rspace: 0pt;vertical-align: top;min-width: 320px;Margin: 0 auto;background-color: #F7F8F9;width:100%" cellpadding="0" cellspacing="0">\n  <tbody>\n  <tr style="vertical-align: top">\n    <td style="word-break: break-word;border-collapse: collapse !important;vertical-align: top">\n    \x3c!--[if (mso)|(IE)]><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td align="center" style="background-color: #F7F8F9;"><![endif]--\x3e\n    \n  \n  \n<div class="u-row-container" style="padding: 0px;background-color: transparent">\n  <div class="u-row" style="margin: 0 auto;min-width: 320px;max-width: 500px;overflow-wrap: break-word;word-wrap: break-word;word-break: break-word;background-color: transparent;">\n    <div style="border-collapse: collapse;display: table;width: 100%;height: 100%;background-color: transparent;">\n      \x3c!--[if (mso)|(IE)]><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td style="padding: 0px;background-color: transparent;" align="center"><table cellpadding="0" cellspacing="0" border="0" style="width:500px;"><tr style="background-color: transparent;"><![endif]--\x3e\n      \n\x3c!--[if (mso)|(IE)]><td align="center" width="500" style="width: 500px;padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;border-radius: 0px;-webkit-border-radius: 0px; -moz-border-radius: 0px;" valign="top"><![endif]--\x3e\n<div class="u-col u-col-100" style="max-width: 320px;min-width: 500px;display: table-cell;vertical-align: top;">\n  <div style="height: 100%;width: 100% !important;border-radius: 0px;-webkit-border-radius: 0px; -moz-border-radius: 0px;">\n  \x3c!--[if (!mso)&(!IE)]>\x3c!--\x3e<div style="box-sizing: border-box; height: 100%; padding: 0px;border-top: 0px solid transparent;border-left: 0px solid transparent;border-right: 0px solid transparent;border-bottom: 0px solid transparent;border-radius: 0px;-webkit-border-radius: 0px; -moz-border-radius: 0px;">\x3c!--<![endif]--\x3e\n  \n<table style="font-family:arial,helvetica,sans-serif;" role="presentation" cellpadding="0" cellspacing="0" width="100%" border="0">\n  <tbody>\n    <tr>\n      <td style="overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:arial,helvetica,sans-serif;" align="left">\n        \n  <div style="font-size: 14px; line-height: 140%; text-align: left; word-wrap: break-word;">\n    <p style="line-height: 140%;">Hello from PostHog!</p>\n  </div>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<table style="font-family:arial,helvetica,sans-serif;" role="presentation" cellpadding="0" cellspacing="0" width="100%" border="0">\n  <tbody>\n    <tr>\n      <td style="overflow-wrap:break-word;word-break:break-word;padding:10px;font-family:arial,helvetica,sans-serif;" align="left">\n        \n  \x3c!--[if mso]><style>.v-button \\{background: transparent !important;}</style><![endif]--\x3e\n<div align="center">\n  \x3c!--[if mso]><v:roundrect xmlns:v="urn:schemas-microsoft-com:vml" xmlns:w="urn:schemas-microsoft-com:office:word" href="https://posthog.com/" style="height:37px; v-text-anchor:middle; width:112px;" arcsize="11%"  stroke="f" fillcolor="#3AAEE0"><w:anchorlock/><center style="color:#FFFFFF;"><![endif]--\x3e\n    <a href="https://posthog.com/" target="_blank" class="v-button" style="box-sizing: border-box;display: inline-block;text-decoration: none;-webkit-text-size-adjust: none;text-align: center;color: #FFFFFF; background-color: #3AAEE0; border-radius: 4px;-webkit-border-radius: 4px; -moz-border-radius: 4px; width:auto; max-width:100%; overflow-wrap: break-word; word-break: break-word; word-wrap:break-word; mso-border-alt: none;font-size: 14px;">\n      <span style="display:block;padding:10px 20px;line-height:120%;">Learn more</span>\n    </a>\n    \x3c!--[if mso]></center></v:roundrect><![endif]--\x3e\n</div>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \x3c!--[if (!mso)&(!IE)]>\x3c!--\x3e</div>\x3c!--<![endif]--\x3e\n  </div>\n</div>\n\x3c!--[if (mso)|(IE)]></td><![endif]--\x3e\n      \x3c!--[if (mso)|(IE)]></tr></table></td></tr></table><![endif]--\x3e\n    </div>\n  </div>\n  </div>\n  \n\n\n    \x3c!--[if (mso)|(IE)]></td></tr></table><![endif]--\x3e\n    </td>\n  </tr>\n  </tbody>\n  </table>\n  \x3c!--[if mso]></div><![endif]--\x3e\n  \x3c!--[if IE]></div><![endif]--\x3e\n\n\n\n</body></html>',design:{body:{id:"TlJ2GekAva",rows:[{id:"-sL7LJ6rhD",cells:[1],values:{_meta:{htmlID:"u_row_1",htmlClassNames:"u_row"},anchor:"",columns:!1,padding:"0px",hideable:!0,deletable:!0,draggable:!0,selectable:!0,_styleGuide:null,hideDesktop:!1,duplicatable:!0,backgroundColor:"",backgroundImage:{url:"",size:"custom",repeat:"no-repeat",position:"center",fullWidth:!0,customPosition:["50%","50%"]},displayCondition:null,columnsBackgroundColor:""},columns:[{id:"IT_J8vPWTn",values:{_meta:{htmlID:"u_column_1",htmlClassNames:"u_column"},border:{},padding:"0px",borderRadius:"0px",backgroundColor:""},contents:[{id:"BSAz3H7CN9",type:"text",values:{text:'<p style="line-height: 140%;">Hello from PostHog!</p>',_meta:{htmlID:"u_content_text_1",htmlClassNames:"u_content_text"},anchor:"",fontSize:"14px",hideable:!0,deletable:!0,draggable:!0,linkStyle:{inherit:!0,linkColor:"#0000ee",linkUnderline:!0,linkHoverColor:"#0000ee",linkHoverUnderline:!0},textAlign:"left",_languages:{},lineHeight:"140%",selectable:!0,_styleGuide:null,duplicatable:!0,containerPadding:"10px",displayCondition:null}},{id:"cAnEDJLdIg",type:"button",values:{href:{name:"web",attrs:{href:"{{href}}",target:"{{target}}"},values:{href:"https://posthog.com/",target:"_blank"}},size:{width:"100%",autoWidth:!0},text:"Learn more",_meta:{htmlID:"u_content_button_1",htmlClassNames:"u_content_button"},anchor:"",border:{},padding:"10px 20px",fontSize:"14px",hideable:!0,deletable:!0,draggable:!0,textAlign:"center",_languages:{},lineHeight:"120%",selectable:!0,_styleGuide:null,borderRadius:"4px",buttonColors:{color:"#FFFFFF",hoverColor:"#FFFFFF",backgroundColor:"#3AAEE0",hoverBackgroundColor:"#3AAEE0"},duplicatable:!0,calculatedWidth:112,calculatedHeight:37,containerPadding:"10px",displayCondition:null}}]}]}],values:{_meta:{htmlID:"u_body",htmlClassNames:"u_body"},language:{},linkStyle:{body:!0,linkColor:"#0000ee",linkUnderline:!0,linkHoverColor:"#0000ee",linkHoverUnderline:!0},textColor:"#000000",fontFamily:{label:"Arial",value:"arial,helvetica,sans-serif"},popupWidth:"600px",_styleGuide:null,popupHeight:"auto",borderRadius:"10px",contentAlign:"center",contentWidth:"500px",popupPosition:"center",preheaderText:"",backgroundColor:"#F7F8F9",backgroundImage:{url:"",size:"custom",repeat:"no-repeat",position:"center",fullWidth:!0},contentVerticalAlign:"center",popupBackgroundColor:"#FFFFFF",popupBackgroundImage:{url:"",size:"cover",repeat:"no-repeat",position:"center",fullWidth:!0},popupCloseButton_action:{name:"close_popup",attrs:{onClick:"document.querySelector('.u-popup-container').style.display = 'none';"}},popupCloseButton_margin:"0px",popupCloseButton_position:"top-right",popupCloseButton_iconColor:"#000000",popupOverlay_backgroundColor:"rgba(0, 0, 0, 0.1)",popupCloseButton_borderRadius:"0px",popupCloseButton_backgroundColor:"#DDDDDD"},footers:[],headers:[]},counters:{u_row:1,u_column:1,u_content_text:1,u_content_button:1},schemaVersion:17},text:"Hello from PostHog!\n\n[Learn more]\nhttps://posthog.com/"}},created_at:null,updated_at:null,created_by:null}},"../../node_modules/.pnpm/elkjs@0.10.0/node_modules/elkjs/lib sync recursive":module=>{function webpackEmptyContext(req){var e=Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/.pnpm/elkjs@0.10.0/node_modules/elkjs/lib sync recursive",module.exports=webpackEmptyContext}}]);