(self.webpackChunkposthog=self.webpackChunkposthog||[]).push([[45021],{"./frontend/src/lib/components/AnimatedCollapsible.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return AnimatedCollapsible}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function AnimatedCollapsible(_ref){let{collapsed:collapsed,children:children}=_ref;const collapsibleSectionRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[height,setHeight]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{collapsed?setHeight(0):collapsibleSectionRef.current&&setHeight(collapsibleSectionRef.current?.getBoundingClientRect().height)}),[collapsed,children]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"collapsible overflow-hidden",style:{height:height,transition:"height 0.3s ease-in-out"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{ref:collapsibleSectionRef,children:children})})}try{AnimatedCollapsible.displayName="AnimatedCollapsible",AnimatedCollapsible.__docgenInfo={description:"",displayName:"AnimatedCollapsible",props:{collapsed:{defaultValue:null,description:"",name:"collapsed",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/AnimatedCollapsible.tsx#AnimatedCollapsible"]={docgenInfo:AnimatedCollapsible.__docgenInfo,name:"AnimatedCollapsible",path:"frontend/src/lib/components/AnimatedCollapsible.tsx#AnimatedCollapsible"})}catch(__react_docgen_typescript_loader_error){}},"./frontend/src/scenes/actions/hints.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return URL_MATCHING_HINTS}});var _posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");const URL_MATCHING_HINTS={exact:void 0,contains:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:["Use ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"%"})," for wildcard, for example: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("code",{children:"/user/%/edit"}),"."]}),regex:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_posthog_lemon_ui__WEBPACK_IMPORTED_MODULE_0__.Link,{to:"https://github.com/google/re2/wiki/Syntax",target:"_blank",children:"RE2 syntax applies."})}},"./frontend/src/toolbar/Toolbar.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Authenticated:function(){return Authenticated},UnAuthenticated:function(){return UnAuthenticated},default:function(){return Toolbar_stories}});__webpack_require__("./frontend/src/styles/index.tsx");var injectStylesIntoStyleTag=__webpack_require__("./node_modules/.pnpm/style-loader@2.0.0_webpack@5.88.2/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),toolbar_styles=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/styles.scss"),styles_default=__webpack_require__.n(toolbar_styles),options={insert:"head",singleton:!1},react=(injectStylesIntoStyleTag_default()(styles_default(),options),styles_default().locals,__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/index.js"));var react_shadow_esm=__webpack_require__("./node_modules/.pnpm/react-shadow@18.6.2_prop-types@15.8.1_react-dom@16.14.0_react@16.14.0/node_modules/react-shadow/react-shadow.esm.js"),index_esm=__webpack_require__("./node_modules/.pnpm/kea@3.1.5_react@16.14.0/node_modules/kea/lib/index.esm.js"),Elements=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/elements/Elements.scss"),Elements_default=__webpack_require__.n(Elements),Elements_options={insert:"head",singleton:!1},lib=(injectStylesIntoStyleTag_default()(Elements_default(),Elements_options),Elements_default().locals,__webpack_require__("./node_modules/.pnpm/kea-router@3.1.3_kea@3.1.5/node_modules/kea-router/lib/index.js"));const currentPageLogic=(0,index_esm.kea)({path:["toolbar","stats","currentPageLogic"],actions:()=>({setHref:href=>({href:href}),setWildcardHref:href=>({href:href})}),reducers:()=>({href:[window.location.href,{setHref:(_,_ref)=>{let{href:href}=_ref;return href}}],wildcardHref:[window.location.href,{setHref:(_,_ref2)=>{let{href:href}=_ref2;return href},setWildcardHref:(_,_ref3)=>{let{href:href}=_ref3;return href}}]}),events:_ref4=>{let{actions:actions,cache:cache,values:values}=_ref4;return{afterMount:()=>{cache.interval=window.setInterval((()=>{window.location.href!==values.href&&actions.setHref(window.location.href)}),500),cache.location=()=>{window.requestAnimationFrame((()=>{actions.setHref(window.location.href)}))},window.addEventListener("popstate",cache.location)},beforeUnmount:()=>{window.clearInterval(cache.interval),window.removeEventListener("popstate",cache.location)}}}});var cssEscape=__webpack_require__("./frontend/src/lib/utils/cssEscape.ts"),types=__webpack_require__("./frontend/src/types.ts"),querySelectorDeep=__webpack_require__("./node_modules/.pnpm/query-selector-shadow-dom@1.0.0/node_modules/query-selector-shadow-dom/src/querySelectorDeep.js"),lib_index_esm=__webpack_require__("./node_modules/.pnpm/posthog-js-lite@2.0.0-alpha5/node_modules/posthog-js-lite/lib/index.esm.js");const runningOnPosthog=!!window.POSTHOG_APP_CONTEXT,apiKey=runningOnPosthog?window.JS_POSTHOG_API_KEY:"sTMFPsFhdP1Ssg",apiHost=runningOnPosthog?window.JS_POSTHOG_HOST:"https://app.posthog.com",posthog=new lib_index_esm.Z(apiKey||"sTMFPsFhdP1Ssg",{host:apiHost,enable:!1,persistence:"memory",persistence_name:apiKey+"_toolbar"});runningOnPosthog&&window.JS_POSTHOG_SELF_CAPTURE&&posthog.debug();var api=__webpack_require__("./frontend/src/lib/api.ts"),fuse_esm=__webpack_require__("./node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js");const actionsLogic=(0,index_esm.kea)({path:["toolbar","actions","actionsLogic"],actions:{setSearchTerm:searchTerm=>({searchTerm:searchTerm})},reducers:{searchTerm:["",{setSearchTerm:(_,_ref)=>{let{searchTerm:searchTerm}=_ref;return searchTerm}}]},loaders:_ref2=>{let{values:values}=_ref2;return{allActions:[[],{getActions:async function(){let breakpoint=arguments.length>1?arguments[1]:void 0;const response=await toolbarFetch("/api/projects/@current/actions/"),results=await response.json();if(403===response.status)return toolbarLogic.actions.authenticate(),[];if(breakpoint(),!Array.isArray(results?.results))throw new Error("Error loading actions!");return results.results},updateAction:_ref3=>{let{action:action}=_ref3;return values.allActions.filter((r=>r.id!==action.id)).concat([action])},deleteAction:_ref4=>{let{id:id}=_ref4;return values.allActions.filter((r=>r.id!==id))}}]}},selectors:{sortedActions:[s=>[s.allActions,s.searchTerm],(allActions,searchTerm)=>[...searchTerm?new fuse_esm.Z(allActions,{threshold:.3,keys:["name"]}).search(searchTerm).map((_ref5=>{let{item:item}=_ref5;return item})):allActions].sort(((a,b)=>{var _a$name,_b$name;return(null!==(_a$name=a.name)&&void 0!==_a$name?_a$name:"Untitled").localeCompare(null!==(_b$name=b.name)&&void 0!==_b$name?_b$name:"Untitled")}))],actionCount:[s=>[s.allActions],allActions=>allActions.length]}});const elementsLogic=(0,index_esm.kea)({path:["toolbar","elements","elementsLogic"],actions:{enableInspect:!0,disableInspect:!0,selectElement:element=>({element:element}),createAction:element=>({element:element}),updateRects:!0,setHoverElement:element=>({element:element}),setHighlightElement:element=>({element:element}),setSelectedElement:element=>({element:element}),setRelativePositionCompensation:compensation=>({compensation:compensation})},reducers:()=>({inspectEnabledRaw:[!1,{enableInspect:()=>!0,disableInspect:()=>!1}],rectUpdateCounter:[0,{updateRects:state=>state+1}],hoverElement:[null,{setHoverElement:(_,_ref)=>{let{element:element}=_ref;return element},enableInspect:()=>null,disableInspect:()=>null,createAction:()=>null,selectElement:()=>null}],highlightElement:[null,{setHighlightElement:(_,_ref2)=>{let{element:element}=_ref2;return element},setHoverElement:()=>null,setSelectedElement:()=>null,selectElement:()=>null,disableInspect:()=>null,createAction:()=>null}],selectedElement:[null,{setSelectedElement:(_,_ref3)=>{let{element:element}=_ref3;return element},disableInspect:()=>null,createAction:()=>null,[heatmapLogic.actionTypes.disableHeatmap]:()=>null,[actionsTabLogic.actionTypes.selectAction]:()=>null}],enabledLast:[null,{enableInspect:()=>"inspect",[heatmapLogic.actionTypes.enableHeatmap]:()=>"heatmap"}],relativePositionCompensation:[0,{setRelativePositionCompensation:(_,_ref4)=>{let{compensation:compensation}=_ref4;return compensation}}]}),selectors:{activeMetaIsSelected:[s=>[s.selectedElementMeta,s.activeMeta],(selectedElementMeta,activeMeta)=>!!selectedElementMeta&&!!activeMeta&&selectedElementMeta.element===activeMeta.element],inspectEnabled:[s=>[s.inspectEnabledRaw,actionsTabLogic.selectors.inspectingElement,actionsTabLogic.selectors.buttonActionsVisible],(inspectEnabledRaw,inspectingElement,buttonActionsVisible)=>inspectEnabledRaw||buttonActionsVisible&&null!==inspectingElement],heatmapEnabled:[()=>[heatmapLogic.selectors.heatmapEnabled],heatmapEnabled=>heatmapEnabled],heatmapElements:[s=>[heatmapLogic.selectors.countedElements,s.rectUpdateCounter,toolbarLogic.selectors.buttonVisible],countedElements=>countedElements.map((e=>({...e,rect:getRectForElement(e.element)})))],allInspectElements:[s=>[s.inspectEnabled,currentPageLogic.selectors.href],inspectEnabled=>inspectEnabled?getAllClickTargets():[]],inspectElements:[s=>[s.allInspectElements,s.rectUpdateCounter,toolbarLogic.selectors.buttonVisible],allInspectElements=>allInspectElements.map((element=>({element:element,rect:getRectForElement(element)}))).filter((e=>e.rect&&e.rect.width*e.rect.height>0))],displayActionElements:[()=>[actionsTabLogic.selectors.buttonActionsVisible],buttonActionsVisible=>buttonActionsVisible],allActionElements:[s=>[s.displayActionElements,actionsTabLogic.selectors.selectedEditedAction],(displayActionElements,selectedEditedAction)=>{if(displayActionElements&&selectedEditedAction?.steps){const allElements=(0,querySelectorDeep.n8)("*",document),steps=[];return selectedEditedAction.steps.forEach(((step,index)=>{const element=getElementForStep(step,allElements);element&&steps.push({element:element,index:index})})),steps}return[]}],actionElements:[s=>[s.allActionElements,s.rectUpdateCounter,toolbarLogic.selectors.buttonVisible],allActionElements=>allActionElements.map((element=>element.element?{...element,rect:getRectForElement(element.element)}:element))],elementMap:[s=>[s.heatmapElements,s.inspectElements,s.actionElements,s.actionsListElements],(heatmapElements,inspectElements,actionElements,actionsListElements)=>{const elementMap=new Map;return[...inspectElements,...heatmapElements,...actionElements,...actionsListElements].forEach((e=>{const elementWithMetadata={...e};elementMap.get(e.element)?elementMap.set(e.element,{...elementMap.get(e.element),...elementWithMetadata}):elementMap.set(e.element,elementWithMetadata)})),elementMap}],actionsForElementMap:[s=>[actionsLogic.selectors.sortedActions,s.rectUpdateCounter,toolbarLogic.selectors.buttonVisible],sortedActions=>{const allElements=(0,querySelectorDeep.n8)("*",document),actionsForElementMap=new Map;return sortedActions.forEach(((action,index)=>{action.steps?.filter((step=>"$autocapture"===step.event)).forEach((step=>{const element=getElementForStep(step,allElements);if(element){const rect=getRectForElement(element);let array=actionsForElementMap.get(element);array||(array=[],actionsForElementMap.set(element,array)),array.push({action:action,step:step,element:element,rect:rect,index:index})}}))})),actionsForElementMap}],elementsWithActions:[s=>[s.actionsForElementMap],actionsForElementMap=>[...actionsForElementMap.keys()]],actionsListElements:[s=>[s.actionsForElementMap],actionsForElementMap=>[...actionsForElementMap.values()].map((a=>a[0]))],elementsToDisplayRaw:[s=>[s.displayActionElements,s.actionElements,s.inspectElements,s.actionsListElements,actionsTabLogic.selectors.selectedAction],(displayActionElements,actionElements,inspectElements,actionsListElements,selectedAction)=>inspectElements.length>0?inspectElements:displayActionElements&&selectedAction&&actionElements.length>0?actionElements:displayActionElements&&!selectedAction&&actionsListElements.length>0?actionsListElements:[]],elementsToDisplay:[s=>[s.elementsToDisplayRaw],elementsToDisplayRaw=>elementsToDisplayRaw.filter((_ref5=>{let{rect:rect}=_ref5;return rect&&(0!==rect.width||0!==rect.height)}))],labelsToDisplay:[s=>[s.displayActionElements,s.actionElements,s.actionsListElements,actionsTabLogic.selectors.selectedAction],(displayActionElements,actionElements,actionsListElements,selectedAction)=>displayActionElements&&selectedAction&&actionElements.length>0?actionElements:displayActionElements&&!selectedAction&&actionsListElements.length>0?actionsListElements:[]],selectedElementMeta:[s=>[s.selectedElement,s.elementMap,s.actionsForElementMap,toolbarLogic.selectors.dataAttributes],(selectedElement,elementMap,actionsForElementMap,dataAttributes)=>{if(selectedElement){const meta=elementMap.get(selectedElement);if(meta){const actions=actionsForElementMap.get(selectedElement);return{...meta,actionStep:elementToActionStep(meta.element,dataAttributes),actions:actions||[]}}}return null}],hoverElementMeta:[s=>[s.hoverElement,s.elementMap,s.actionsForElementMap,toolbarLogic.selectors.dataAttributes],(hoverElement,elementMap,actionsForElementMap,dataAttributes)=>{if(hoverElement){const meta=elementMap.get(hoverElement);if(meta){const actions=actionsForElementMap.get(hoverElement);return{...meta,actionStep:elementToActionStep(meta.element,dataAttributes),actions:actions||[]}}}return null}],highlightElementMeta:[s=>[s.highlightElement,s.elementMap,s.actionsForElementMap,toolbarLogic.selectors.dataAttributes],(highlightElement,elementMap,actionsForElementMap,dataAttributes)=>{if(highlightElement){const meta=elementMap.get(highlightElement);if(meta){const actions=actionsForElementMap.get(highlightElement);return{...meta,actionStep:elementToActionStep(meta.element,dataAttributes),actions:actions||[]}}}return null}],activeMeta:[s=>[s.selectedElementMeta,s.hoverElementMeta],(selectedElementMeta,hoverElementMeta)=>selectedElementMeta||hoverElementMeta]},events:_ref6=>{let{cache:cache,values:values,actions:actions}=_ref6;return{afterMount:()=>{cache.updateRelativePosition=function debounce(func,waitFor){let timeout;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(timeout),timeout=setTimeout((()=>func(...args)),waitFor)}}((()=>{const relativePositionCompensation="relative"===window.getComputedStyle(document.body).position?document.documentElement.getBoundingClientRect().y-document.body.getBoundingClientRect().y:0;relativePositionCompensation!==values.relativePositionCompensation&&actions.setRelativePositionCompensation(relativePositionCompensation)}),100),cache.onClick=()=>actions.updateRects(),cache.onScrollResize=()=>{window.clearTimeout(cache.clickDelayTimeout),actions.updateRects(),cache.clickDelayTimeout=window.setTimeout(actions.updateRects,100),cache.updateRelativePosition()},cache.onKeyDown=e=>{27===e.keyCode&&(values.hoverElement&&actions.setHoverElement(null),values.selectedElement?actions.setSelectedElement(null):"heatmap"===values.enabledLast&&values.heatmapEnabled?heatmapLogic.actions.disableHeatmap():values.inspectEnabled?actions.disableInspect():values.heatmapEnabled&&heatmapLogic.actions.disableHeatmap())},window.addEventListener("click",cache.onClick),window.addEventListener("resize",cache.onScrollResize),window.addEventListener("keydown",cache.onKeyDown),window.document.addEventListener("scroll",cache.onScrollResize,!0),cache.updateRelativePosition()},beforeUnmount:()=>{window.removeEventListener("click",cache.onClick),window.removeEventListener("resize",cache.onScrollResize),window.removeEventListener("keydown",cache.onKeyDown),window.document.removeEventListener("scroll",cache.onScrollResize,!0)}}},listeners:_ref7=>{let{actions:actions,values:values}=_ref7;return{enableInspect:()=>{posthog.capture("toolbar mode triggered",{mode:"inspect",enabled:!0}),actionsLogic.actions.getActions()},disableInspect:()=>{posthog.capture("toolbar mode triggered",{mode:"inspect",enabled:!1})},selectElement:_ref8=>{let{element:element}=_ref8;actionsTabLogic.values.buttonActionsVisible&&null!==actionsTabLogic.values.inspectingElement?(actions.setHoverElement(null),element&&actionsTabLogic.actions.inspectElementSelected(element,actionsTabLogic.values.inspectingElement)):actions.setSelectedElement(element);const{inspectEnabled:inspectEnabled,heatmapEnabled:heatmapEnabled,enabledLast:enabledLast,selectedElementMeta:selectedElementMeta}=values,{buttonActionsVisible:actionsEnabled}=actionsTabLogic.values,data_attributes=[];if(element?.attributes)for(let i=0;i<element.attributes.length;i++){const name=element.attributes.item(i)?.nodeName;name&&name.indexOf("data-")>-1&&data_attributes.push(name)}posthog.capture("toolbar selected HTML element",{element_tag:element?.tagName.toLowerCase(),element_type:element?.type,has_href:!!element?.href,has_class:!!element?.className,has_id:!!element?.id,has_name:!!element?.name,has_data_attr:data_attributes.includes("data-attr"),data_attributes:data_attributes,attribute_length:element?.attributes.length,inspect_enabled:inspectEnabled,heatmap_enabled:heatmapEnabled,actions_enabled:actionsEnabled,enabled_last:enabledLast,heatmap_count:heatmapEnabled?selectedElementMeta?.count||0:void 0,actions_count:actionsEnabled?selectedElementMeta?.actions.length:void 0})},createAction:_ref9=>{let{element:element}=_ref9;actionsTabLogic.actions.showButtonActions(),toolbarButtonLogic.actions.showActionsInfo(),elementsLogic.actions.selectElement(null),actionsTabLogic.actions.newAction(element)}}}}),toolbarButtonLogic=(0,index_esm.kea)({path:["toolbar","button","toolbarButtonLogic"],connect:()=>({actions:[actionsTabLogic,["showButtonActions"],elementsLogic,["enableInspect"]]}),actions:()=>({showHeatmapInfo:!0,hideHeatmapInfo:!0,showActionsInfo:!0,hideActionsInfo:!0,showFlags:!0,hideFlags:!0,setHedgehogMode:hedgehogMode=>({hedgehogMode:hedgehogMode}),setExtensionPercentage:percentage=>({percentage:percentage}),saveDragPosition:(x,y)=>({x:x,y:y}),setDragPosition:(x,y)=>({x:x,y:y}),saveHeatmapPosition:(x,y)=>({x:x,y:y}),saveActionsPosition:(x,y)=>({x:x,y:y}),saveFlagsPosition:(x,y)=>({x:x,y:y}),setHedgehogActor:actor=>({actor:actor})}),windowValues:()=>({windowHeight:window=>window.innerHeight,windowWidth:window=>Math.min(window.innerWidth,window.document.body.clientWidth)}),reducers:()=>({heatmapInfoVisible:[!1,{showHeatmapInfo:()=>!0,hideHeatmapInfo:()=>!1,[heatmapLogic.actionTypes.disableHeatmap]:()=>!1,[heatmapLogic.actionTypes.enableHeatmap]:()=>!1}],actionsInfoVisible:[!1,{showActionsInfo:()=>!0,hideActionsInfo:()=>!1,[actionsTabLogic.actionTypes.showButtonActions]:()=>!1,[actionsTabLogic.actionTypes.hideButtonActions]:()=>!1}],flagsVisible:[!1,{showFlags:()=>!0,hideFlags:()=>!1}],extensionPercentage:[0,{setExtensionPercentage:(_,_ref)=>{let{percentage:percentage}=_ref;return percentage}}],lastDragPosition:[null,{persist:!0},{setDragPosition:(_,_ref2)=>{let{x:x,y:y}=_ref2;return{x:x,y:y}}}],heatmapPosition:[{x:100,y:100},{saveHeatmapPosition:(_,_ref3)=>{let{x:x,y:y}=_ref3;return{x:x,y:y}}}],actionsPosition:[{x:120,y:100},{saveActionsPosition:(_,_ref4)=>{let{x:x,y:y}=_ref4;return{x:x,y:y}}}],flagsPosition:[{x:140,y:100},{saveFlagsPosition:(_,_ref5)=>{let{x:x,y:y}=_ref5;return{x:x,y:y}}}],hedgehogMode:[!1,{persist:!0},{setHedgehogMode:(_,_ref6)=>{let{hedgehogMode:hedgehogMode}=_ref6;return hedgehogMode}}],hedgehogActor:[null,{setHedgehogActor:(_,_ref7)=>{let{actor:actor}=_ref7;return actor}}]}),selectors:{dragPosition:[s=>[s.lastDragPosition,s.windowWidth,s.windowHeight],(lastDragPosition,windowWidth,windowHeight)=>{const{x:x,y:y}=lastDragPosition||{x:-35,y:60},dragY=y<0?windowHeight+y:y;return{x:inBounds(35,x<0?windowWidth+x:x,windowWidth-35),y:inBounds(30,dragY,windowHeight-30)}}],toolbarListVerticalPadding:[s=>[s.dragPosition,s.windowHeight],(_ref8,windowHeight)=>{let{y:y}=_ref8;return y<90?30-y:y>windowHeight-160?-60-(160-(windowHeight-y)):-60}],helpButtonOnTop:[s=>[s.dragPosition,s.windowHeight],(_ref9,windowHeight)=>{let{y:y}=_ref9;return y>windowHeight-100}],side:[s=>[s.dragPosition,s.windowWidth],(_ref10,windowWidth)=>{let{x:x}=_ref10;return x<windowWidth/2?"left":"right"}],hedgehogModeDistance:[s=>[s.dragPosition,s.windowWidth],(_ref11,windowWidth)=>{let{x:x,y:y}=_ref11;return 90+(x>windowWidth-40||y<80?-28:0)+(y<40?-6:0)}],hedgehogModeRotation:[s=>[s.dragPosition,s.windowWidth],(_ref12,windowWidth)=>{let{x:x,y:y}=_ref12;return(x>windowWidth-40||y<80?10:0)-68+(y<40?10:0)}],closeDistance:[s=>[s.dragPosition,s.windowWidth],(_ref13,windowWidth)=>{let{x:x,y:y}=_ref13;return 58+(x>windowWidth-40||y<80?-28:0)+(y<40?-6:0)}],closeRotation:[s=>[s.dragPosition,s.windowWidth],(_ref14,windowWidth)=>{let{x:x,y:y}=_ref14;return(x>windowWidth-40||y<80?10:0)-54+(y<40?10:0)}],inspectExtensionPercentage:[s=>[elementsLogic.selectors.inspectEnabled,s.extensionPercentage],(inspectEnabled,extensionPercentage)=>inspectEnabled?Math.max(extensionPercentage,.53):extensionPercentage],heatmapExtensionPercentage:[s=>[heatmapLogic.selectors.heatmapEnabled,s.extensionPercentage],(heatmapEnabled,extensionPercentage)=>heatmapEnabled?Math.max(extensionPercentage,.53):extensionPercentage],heatmapWindowVisible:[s=>[s.heatmapInfoVisible,heatmapLogic.selectors.heatmapEnabled],(heatmapInfoVisible,heatmapEnabled)=>heatmapInfoVisible&&heatmapEnabled],actionsExtensionPercentage:[s=>[actionsTabLogic.selectors.buttonActionsVisible,s.extensionPercentage],(buttonActionsVisible,extensionPercentage)=>buttonActionsVisible?Math.max(extensionPercentage,.53):extensionPercentage],actionsWindowVisible:[s=>[s.actionsInfoVisible,actionsTabLogic.selectors.buttonActionsVisible],(actionsInfoVisible,buttonActionsVisible)=>actionsInfoVisible&&buttonActionsVisible],featureFlagsExtensionPercentage:[s=>[s.flagsVisible,s.extensionPercentage],(flagsVisible,extensionPercentage)=>flagsVisible?Math.max(extensionPercentage,.53):extensionPercentage]},listeners:_ref15=>{let{actions:actions,values:values}=_ref15;return{showFlags:()=>{posthog.capture("toolbar mode triggered",{mode:"flags",enabled:!0}),values.hedgehogActor?.setAnimation("flag")},hideFlags:()=>{posthog.capture("toolbar mode triggered",{mode:"flags",enabled:!1})},showHeatmapInfo:()=>{values.hedgehogActor?.setAnimation("heatmaps")},showButtonActions:()=>{values.hedgehogActor?.setAnimation("action")},hideActionsInfo:()=>{actionsTabLogic.actions.selectAction(null)},enableInspect:()=>{values.hedgehogActor?.setAnimation("inspect")},saveDragPosition:_ref16=>{let{x:x,y:y}=_ref16;const{windowWidth:windowWidth,windowHeight:windowHeight}=values;actions.setDragPosition(x>windowWidth/2?-(windowWidth-x):x,y>windowHeight/2?-(windowHeight-y):y)}}}});var lemonToast=__webpack_require__("./frontend/src/lib/lemon-ui/lemonToast.tsx"),urls=__webpack_require__("./frontend/src/scenes/urls.ts");function toElementsChain(element){const chain=[];let currentElement=element;for(;currentElement&&chain.length<=10&&currentElement!==document.body;)chain.push(currentElement),currentElement=currentElement.parentElement;return chain.map(((element,index)=>({attr_class:element.getAttribute("class")||void 0,attr_id:element.getAttribute("id")||void 0,attributes:Array.from(element.attributes).reduce(((acc,attr)=>(acc[attr.name]?acc[attr.name]+=` ${attr.value}`:acc[attr.name]=attr.value,acc)),{}),href:element.getAttribute("href")||void 0,tag_name:element.tagName.toLowerCase(),text:0===index?element.innerText:void 0})))}const actionsTabLogic=(0,index_esm.kea)({path:["toolbar","actions","actionsTabLogic"],actions:{setForm:form=>({form:form}),selectAction:id=>({id:id||null}),newAction:element=>({element:element||null}),inspectForElementWithIndex:index=>({index:index}),editSelectorWithIndex:index=>({index:index}),inspectElementSelected:(element,index)=>({element:element,index:index}),setEditingFields:editingFields=>({editingFields:editingFields}),incrementCounter:!0,saveAction:formValues=>({formValues:formValues}),deleteAction:!0,showButtonActions:!0,hideButtonActions:!0,setShowActionsTooltip:showActionsTooltip=>({showActionsTooltip:showActionsTooltip}),setElementSelector:(selector,index)=>({selector:selector,index:index})},reducers:{actionFormElementsChains:[{},{inspectElementSelected:(state,_ref)=>{let{element:element,index:index}=_ref;return null===index?[]:{...state,[index]:toElementsChain(element)}},newAction:(_,_ref2)=>{let{element:element}=_ref2;return{0:element?toElementsChain(element):[]}}}],buttonActionsVisible:[!1,{showButtonActions:()=>!0,hideButtonActions:()=>!1}],selectedActionId:[null,{selectAction:(_,_ref3)=>{let{id:id}=_ref3;return id},newAction:()=>"new"}],newActionForElement:[null,{newAction:(_,_ref4)=>{let{element:element}=_ref4;return element},selectAction:()=>null}],inspectingElement:[null,{inspectForElementWithIndex:(_,_ref5)=>{let{index:index}=_ref5;return index},inspectElementSelected:()=>null,selectAction:()=>null,newAction:()=>null}],editingSelector:[null,{editSelectorWithIndex:(_,_ref6)=>{let{index:index}=_ref6;return index}}],editingFields:[null,{setEditingFields:(_,_ref7)=>{let{editingFields:editingFields}=_ref7;return editingFields},selectAction:()=>null,newAction:()=>null}],form:[null,{setForm:(_,_ref8)=>{let{form:form}=_ref8;return form}}],counter:[0,{incrementCounter:state=>state+1}],showActionsTooltip:[!1,{setShowActionsTooltip:(_,_ref9)=>{let{showActionsTooltip:showActionsTooltip}=_ref9;return showActionsTooltip}}]},selectors:{editingSelectorValue:[s=>[s.editingSelector,s.form],(editingSelector,form)=>{if(null===editingSelector)return null;return form.getFieldValue("steps")[editingSelector].selector||null}],elementsChainBeingEdited:[s=>[s.editingSelector,s.actionFormElementsChains],(editingSelector,elementChains)=>null===editingSelector?[]:elementChains[editingSelector]||[]],selectedAction:[s=>[s.selectedActionId,s.newActionForElement,actionsLogic.selectors.allActions,toolbarLogic.selectors.dataAttributes],(selectedActionId,newActionForElement,allActions,dataAttributes)=>"new"===selectedActionId?function newAction(element){return{name:"",steps:[element?actionStepToAntdForm(elementToActionStep(element,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),!0):{}]}}(newActionForElement,dataAttributes):allActions.find((a=>a.id===selectedActionId))||null],initialValuesForForm:[s=>[s.selectedAction],selectedAction=>selectedAction?{...selectedAction,steps:selectedAction.steps?.map((step=>actionStepToAntdForm(step)))||[]}:{name:"",steps:[]}],selectedEditedAction:[s=>[s.selectedAction,s.initialValuesForForm,s.form,s.editingFields,s.inspectingElement,s.counter],(selectedAction,initialValuesForForm,form)=>selectedAction?{...initialValuesForForm,...form?.getFieldValue("")||{}}:null]},listeners:_ref10=>{let{actions:actions,values:values}=_ref10;return{setElementSelector:_ref11=>{let{selector:selector,index:index}=_ref11;if(values.form){const fieldsValue={...values.form.getFieldsValue()},steps=fieldsValue.steps;steps&&steps[index]&&(steps[index].selector=selector),values.form.setFieldsValue(fieldsValue)}},selectAction:_ref12=>{let{id:id}=_ref12;id&&(toolbarLogic.values.buttonVisible||toolbarLogic.actions.showButton(),values.buttonActionsVisible||actions.showButtonActions(),toolbarButtonLogic.values.actionsInfoVisible||toolbarButtonLogic.actions.showActionsInfo())},inspectElementSelected:_ref13=>{let{element:element,index:index}=_ref13;if(values.form){const actionStep=actionStepToAntdForm(elementToActionStep(element,toolbarLogic.values.dataAttributes),!0),fields=Object.entries(actionStep).map((_ref14=>{let[key,value]=_ref14;return{name:["steps",index||0,key],value:value}}));values.form.setFields(fields),actions.incrementCounter()}},saveAction:async(_ref15,breakpoint)=>{let{formValues:formValues}=_ref15;const actionToSave={...formValues,steps:formValues.steps?.map(stepToDatabaseFormat)||[]},{apiURL:apiURL,temporaryToken:temporaryToken}=toolbarLogic.values,{selectedActionId:selectedActionId}=values;let response;response=selectedActionId&&"new"!==selectedActionId?await api.ZP.update(`${apiURL}/api/projects/@current/actions/${selectedActionId}/?temporary_token=${temporaryToken}`,actionToSave):await api.ZP.create(`${apiURL}/api/projects/@current/actions/?temporary_token=${temporaryToken}`,actionToSave),breakpoint(),actionsLogic.actions.updateAction({action:response}),actions.selectAction(null),lemonToast.UJ.success("Action saved",{button:{label:"Open in PostHog",action:()=>window.open(`${apiURL}${urls.j.action(response.id)}`,"_blank")}})},deleteAction:async()=>{const{apiURL:apiURL,temporaryToken:temporaryToken}=toolbarLogic.values,{selectedActionId:selectedActionId}=values;selectedActionId&&"new"!==selectedActionId&&(await api.ZP.delete(`${apiURL}/api/projects/@current/actions/${selectedActionId}/?temporary_token=${temporaryToken}`),actionsLogic.actions.deleteAction({id:selectedActionId}),actions.selectAction(null),lemonToast.UJ.info("Action deleted"))},showButtonActions:()=>{actionsLogic.actions.getActions(),posthog.capture("toolbar mode triggered",{mode:"actions",enabled:!0})},hideButtonActions:()=>{actions.setShowActionsTooltip(!1),posthog.capture("toolbar mode triggered",{mode:"actions",enabled:!1})},[actionsLogic.actionTypes.getActionsSuccess]:()=>{const{userIntent:userIntent}=toolbarLogic.values;"edit-action"===userIntent?(actions.selectAction(toolbarLogic.values.actionId),toolbarLogic.actions.clearUserIntent()):"add-action"===userIntent?(actions.newAction(),toolbarLogic.actions.clearUserIntent()):actions.setShowActionsTooltip(!0)},setShowActionsTooltip:async(_ref16,breakpoint)=>{let{showActionsTooltip:showActionsTooltip}=_ref16;showActionsTooltip&&(await breakpoint(1e3),actions.setShowActionsTooltip(!1))}}}}),toolbarLogic=(0,index_esm.kea)([(0,index_esm.path)(["toolbar","toolbarLogic"]),(0,index_esm.props)({}),(0,index_esm.actions)({authenticate:!0,logout:!0,tokenExpired:!0,processUserIntent:!0,clearUserIntent:!0,showButton:!0,hideButton:!0}),(0,index_esm.reducers)((_ref=>{var _props$posthog;let{props:props}=_ref;return{rawApiURL:[props.apiURL],rawJsURL:[props.jsURL||props.apiURL],temporaryToken:[props.temporaryToken||null,{logout:()=>null,tokenExpired:()=>null}],actionId:[props.actionId||null,{logout:()=>null,clearUserIntent:()=>null}],userIntent:[props.userIntent||null,{logout:()=>null,clearUserIntent:()=>null}],source:[props.source||null,{logout:()=>null}],buttonVisible:[!0,{showButton:()=>!0,hideButton:()=>!1,logout:()=>!1}],dataAttributes:[props.dataAttributes||[]],posthog:[null!==(_props$posthog=props.posthog)&&void 0!==_props$posthog?_props$posthog:null]}})),(0,index_esm.selectors)({apiURL:[s=>[s.rawApiURL],apiURL=>`${apiURL.endsWith("/")?apiURL.replace(/\/+$/,""):apiURL}`],jsURL:[s=>[s.rawJsURL,s.apiURL],(rawJsURL,apiUrl)=>`${rawJsURL?rawJsURL.endsWith("/")?rawJsURL.replace(/\/+$/,""):rawJsURL:apiUrl}`],isAuthenticated:[s=>[s.temporaryToken],temporaryToken=>!!temporaryToken]}),(0,index_esm.listeners)((_ref2=>{let{values:values,props:props}=_ref2;return{authenticate:()=>{posthog.capture("toolbar authenticate",{is_authenticated:values.isAuthenticated});const encodedUrl=encodeURIComponent(window.location.href);window.location.href=`${values.apiURL}/authorize_and_redirect/?redirect=${encodedUrl}`,clearSessionToolbarToken()},logout:()=>{posthog.capture("toolbar logout"),clearSessionToolbarToken()},tokenExpired:()=>{posthog.capture("toolbar token expired"),console.warn("PostHog Toolbar API token expired. Clearing session."),"localstorage"!==values.source&&lemonToast.UJ.error("PostHog Toolbar API token expired."),clearSessionToolbarToken()},processUserIntent:async()=>{"add-action"!==props.userIntent&&"edit-action"!==props.userIntent||(actionsTabLogic.actions.showButtonActions(),toolbarButtonLogic.actions.showActionsInfo())}}})),(0,index_esm.afterMount)((_ref3=>{let{props:props,actions:actions,values:values}=_ref3;if(props.instrument){const distinctId=props.distinctId;distinctId&&posthog.identify(distinctId,props.userEmail?{email:props.userEmail}:{}),posthog.optIn()}props.userIntent&&actions.processUserIntent(),posthog.capture("toolbar loaded",{is_authenticated:values.isAuthenticated})}))]);var actionUtils=__webpack_require__("./frontend/src/lib/actionUtils.ts"),finder=__webpack_require__("./node_modules/.pnpm/@medv+finder@2.1.0/node_modules/@medv/finder/finder.js"),index_es=__webpack_require__("./node_modules/.pnpm/wildcard-match@5.1.2/node_modules/wildcard-match/build/index.es.mjs");function getSafeText(el){if(!el.childNodes||!el.childNodes.length)return"";let elText="";return el.childNodes.forEach((child=>{3===child.nodeType&&child.textContent&&(elText+=child.textContent.trim().replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))})),elText}function elementToActionStep(element,dataAttributes){const query=function elementToQuery(element,dataAttributes){if(element){for(const{name:name,value:value}of Array.from(element.attributes)){if(!dataAttributes.includes(name))continue;const selector=`[${(0,cssEscape.Q)(name)}="${(0,cssEscape.Q)(value)}"]`;if(1==(0,querySelectorDeep.Jp)(selector).length)return selector}try{return(0,finder.w)(element,{attr:name=>dataAttributes.some((dataAttribute=>(0,index_es.Z)(dataAttribute)(name))),tagName:name=>!actionUtils.Kr.includes(name),seedMinLength:5})}catch(error){return void console.warn("Error while trying to find a selector for element",element,error)}}}(element,dataAttributes);return{event:"$autocapture",href:element.getAttribute("href")||"",name:element.getAttribute("name")||"",text:getSafeText(element)||"",selector:query||"",url:window.location.protocol+"//"+window.location.host+window.location.pathname,url_matching:types.E_.Exact}}function getToolbarElement(){return window.document.getElementById("__POSTHOG_TOOLBAR__")||null}function getShadowRoot(){return getToolbarElement()?.shadowRoot||null}function getShadowRootPopoverContainer(){return getShadowRoot()}function getParent(element){const parent=element.parentNode;return parent?.nodeType===window.Node.DOCUMENT_FRAGMENT_NODE?parent.host:parent?.nodeType===window.Node.ELEMENT_NODE?parent:null}function trimElement(element){if(!element)return null;const toolbarElement=getToolbarElement();if(toolbarElement&&isParentOf(element,toolbarElement))return null;let loopElement=element;for(;1===loopElement.children.length;)loopElement=loopElement.children[0];for(;loopElement;){const parent=getParent(loopElement);if(!parent)return null;if(loopElement.matches?.(actionUtils.cR))return loopElement;if("pointer"===window.getComputedStyle(loopElement).getPropertyValue("cursor")){const parentStyles=parent?window.getComputedStyle(parent):null;if(!parentStyles||"pointer"!==parentStyles.getPropertyValue("cursor"))return loopElement}loopElement=parent}return null}function inBounds(min,value,max){return Math.max(min,Math.min(max,value))}function getAllClickTargets(){let startNode=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const elements=startNode.querySelectorAll(actionUtils.cR),allElements=[...startNode.querySelectorAll("*")],selectedElements=[...elements,...allElements.filter((el=>{if(actionUtils.OK.indexOf(el.tagName.toLowerCase())>=0)return!1;return"pointer"===window.getComputedStyle(el).getPropertyValue("cursor")})),...allElements.filter((el=>el.shadowRoot&&"__POSTHOG_TOOLBAR__"!==el.getAttribute("id"))).map((el=>el.shadowRoot?getAllClickTargets(el.shadowRoot):[])).reduce(((a,b)=>[...a,...b]),[])].map((e=>trimElement(e))).filter((e=>e));return Array.from(new Set(selectedElements))}function isParentOf(element,possibleParent){let loopElement=element;for(;loopElement;){if(loopElement!==element&&loopElement===possibleParent)return!0;loopElement=getParent(loopElement)}return!1}function getElementForStep(step,allElements){if(!step)return null;let selector="";step.selector&&(step.selector_selected||void 0===step.selector_selected)&&(selector=step.selector),step.href&&(step.href_selected||void 0===step.href_selected)&&(selector+=`[href="${(0,cssEscape.Q)(step.href)}"]`);const hasText=step.text&&step.text.trim()&&(step.text_selected||void 0===step.text_selected);if(!selector&&!hasText)return null;let elements=[];try{elements=[...(0,querySelectorDeep.Jp)(selector||"*",document,allElements)]}catch(e){return console.error("Cannot use selector:",selector,". with exception: ",e),null}if(hasText&&step?.text){const textToSearch=step.text.toString().trim();elements=elements.filter((e=>-1===actionUtils.Kr.indexOf(e.tagName.toLowerCase())&&e.innerText?.trim()===textToSearch&&(e.matches(actionUtils.cR)||function hasCursorPointer(element){return"pointer"===window.getComputedStyle(element)?.getPropertyValue("cursor")}(e)))),elements=elements.filter((e=>!elements.find((e2=>isParentOf(e2,e)))))}return 1===elements.length?elements[0]:null}function getBoxColors(color){let hover=arguments.length>1&&void 0!==arguments[1]&&arguments[1],opacity=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;return"blue"===color?{backgroundBlendMode:"multiply",background:`hsla(240, 90%, 58%, ${opacity})`,boxShadow:`hsla(240, 90%, 27%, 0.5) 0px 3px 10px ${hover?4:2}px`}:"red"===color?{backgroundBlendMode:"multiply",background:`hsla(4, 90%, 58%, ${opacity})`,boxShadow:`hsla(4, 90%, 27%, 0.8) 0px 3px 10px ${hover?4:2}px`}:"green"===color?{backgroundBlendMode:"multiply",background:`hsla(97, 90%, 58%, ${opacity})`,boxShadow:`hsla(97, 90%, 27%, 0.8) 0px 3px 10px ${hover?4:2}px`}:void 0}function actionStepToAntdForm(step){let isNew=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!step)return{};if(void 0!==step.selector_selected)return step;if(isNew){const hasSelector=!!step.selector;return"a"===step.tag_name?{...step,href_selected:!0,selector_selected:hasSelector,text_selected:!1,url_selected:!1}:"button"===step.tag_name?{...step,text_selected:!0,selector_selected:hasSelector,href_selected:!1,url_selected:!1}:{...step,selector_selected:hasSelector,text_selected:!1,url_selected:!1,href_selected:!1}}return{...step,url_matching:step.url_matching||types.E_.Exact,href_selected:void 0!==step.href&&null!==step.href,text_selected:void 0!==step.text&&null!==step.text,selector_selected:void 0!==step.selector&&null!==step.selector,url_selected:void 0!==step.url&&null!==step.url}}function stepToDatabaseFormat(step){const{href_selected:href_selected,text_selected:text_selected,selector_selected:selector_selected,url_selected:url_selected,...rest}=step;return{...rest,href:href_selected&&rest.href||null,text:text_selected&&rest.text||null,selector:selector_selected&&rest.selector||null,url:url_selected&&rest.url||null}}function clearSessionToolbarToken(){window.sessionStorage?.removeItem("_postHogToolbarParams"),window.localStorage?.removeItem("_postHogToolbarParams"),window.sessionStorage?.removeItem("_postHogEditorParams"),window.localStorage?.removeItem("_postHogEditorParams")}function getRectForElement(element){const elements=[elementToAreaRect(element)];let loopElement=element;for(;1===loopElement.children.length;)loopElement=loopElement.children[0],elements.push(elementToAreaRect(loopElement));let maxArea=0,maxRect=elements[0].rect;for(const{rect:rect,area:area}of elements)area>=maxArea&&(maxArea=area,maxRect=rect);return maxRect}const getRect=el=>{if(!el)return{x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0};const rect=el?.getBoundingClientRect(),zooms=(el=>{const zooms=[],getZoom=el=>{const zoom=window.getComputedStyle(el).getPropertyValue("zoom"),rzoom=zoom?parseFloat(zoom):1;1!==rzoom&&zooms.push(rzoom),el.parentElement?.parentElement&&getZoom(el.parentElement)};return getZoom(el),zooms.reverse(),zooms})(el);return{bottom:zooms.reduce(((a,b)=>a*b),rect.bottom),height:zooms.reduce(((a,b)=>a*b),rect.height),left:zooms.reduce(((a,b)=>a*b),rect.left),right:zooms.reduce(((a,b)=>a*b),rect.right),top:zooms.reduce(((a,b)=>a*b),rect.top),width:zooms.reduce(((a,b)=>a*b),rect.width),x:zooms.reduce(((a,b)=>a*b),rect.x),y:zooms.reduce(((a,b)=>a*b),rect.y)}};function elementToAreaRect(element){var _rect$width,_rect$height;const rect=getRect(element);return{element:element,rect:rect,area:(null!==(_rect$width=rect.width)&&void 0!==_rect$width?_rect$width:0)*(null!==(_rect$height=rect.height)&&void 0!==_rect$height?_rect$height:0)}}function getHeatMapHue(count,maxCount){return 0===maxCount?60:60-count/maxCount*40}async function toolbarFetch(url){let fullUrl,method=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",payload=arguments.length>2?arguments[2]:void 0,urlConstruction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"full";if("use-as-provided"===urlConstruction)fullUrl=url;else if("only-add-token"===urlConstruction)fullUrl=`${url}&temporary_token=${toolbarLogic.values.temporaryToken}`;else{const{pathname:pathname,searchParams:searchParams}=(0,lib.combineUrl)(url),params={...searchParams,temporary_token:toolbarLogic.values.temporaryToken};fullUrl=`${toolbarLogic.values.apiURL}${pathname}${(0,lib.encodeParams)(params,"?")}`}const payloadData=payload?{body:JSON.stringify(payload),headers:{"Content-Type":"application/json"}}:{},response=await fetch(fullUrl,{method:method,...payloadData});if(403===response.status){"You don't have access to the project."!==(await response.json()).detail&&toolbarLogic.actions.authenticate()}return response}var kea_loaders_lib=__webpack_require__("./node_modules/.pnpm/kea-loaders@3.0.0_kea@3.1.5/node_modules/kea-loaders/lib/index.js"),utils=__webpack_require__("./frontend/src/lib/utils.tsx");const emptyElementsStatsPages={next:void 0,previous:void 0,results:[]},heatmapLogic=(0,index_esm.kea)([(0,index_esm.path)(["toolbar","elements","heatmapLogic"]),(0,index_esm.connect)({values:[toolbarLogic,["apiURL"]]}),(0,index_esm.actions)({getElementStats:url=>({url:url}),enableHeatmap:!0,disableHeatmap:!0,setShowHeatmapTooltip:showHeatmapTooltip=>({showHeatmapTooltip:showHeatmapTooltip}),setShiftPressed:shiftPressed=>({shiftPressed:shiftPressed}),setHeatmapFilter:filter=>({filter:filter}),loadMoreElementStats:!0,setMatchLinksByHref:matchLinksByHref=>({matchLinksByHref:matchLinksByHref})}),(0,index_esm.reducers)({matchLinksByHref:[!1,{setMatchLinksByHref:(_,_ref)=>{let{matchLinksByHref:matchLinksByHref}=_ref;return matchLinksByHref}}],canLoadMoreElementStats:[!0,{getElementStatsSuccess:(_,_ref2)=>{let{elementStats:elementStats}=_ref2;return null!==elementStats.next},getElementStatsFailure:()=>!0}],heatmapEnabled:[!1,{enableHeatmap:()=>!0,disableHeatmap:()=>!1,getElementStatsFailure:()=>!1}],heatmapLoading:[!1,{getElementStats:()=>!0,getElementStatsSuccess:()=>!1,getElementStatsFailure:()=>!1,resetElementStats:()=>!1}],showHeatmapTooltip:[!1,{setShowHeatmapTooltip:(_,_ref3)=>{let{showHeatmapTooltip:showHeatmapTooltip}=_ref3;return showHeatmapTooltip}}],shiftPressed:[!1,{setShiftPressed:(_,_ref4)=>{let{shiftPressed:shiftPressed}=_ref4;return shiftPressed}}],heatmapFilter:[{},{setHeatmapFilter:(_,_ref5)=>{let{filter:filter}=_ref5;return filter}}]}),(0,kea_loaders_lib.loaders)((_ref6=>{let{values:values}=_ref6;return{elementStats:[null,{resetElementStats:()=>emptyElementsStatsPages,getElementStats:async(_ref7,breakpoint)=>{let{url:url}=_ref7;const{href:href,wildcardHref:wildcardHref}=currentPageLogic.values;let defaultUrl="";if(!url){const params={properties:[wildcardHref===href?{key:"$current_url",value:href,operator:types.WV.Exact,type:types.FT.Event}:{key:"$current_url",value:`^${wildcardHref.split("*").map(actionUtils.yI).join(".*")}$`,operator:types.WV.Regex,type:types.FT.Event}],...values.heatmapFilter},includeEventsParams="&include=$autocapture&include=$rageclick";defaultUrl=`${values.apiURL}/api/element/stats/${(0,lib.encodeParams)({...params,paginate_response:!0},"?")}${includeEventsParams}`}const response=await toolbarFetch(url||defaultUrl,"GET",void 0,url?"use-as-provided":"only-add-token");if(403===response.status)return toolbarLogic.actions.authenticate(),emptyElementsStatsPages;const paginatedResults=await response.json();if(breakpoint(),!Array.isArray(paginatedResults.results))throw new Error("Error loading HeatMap data!");return{results:[...values.elementStats?.results||[],...paginatedResults.results],next:paginatedResults.next,previous:paginatedResults.previous}}}]}})),(0,index_esm.selectors)((_ref8=>{let{cache:cache}=_ref8;return{dateRange:[s=>[s.heatmapFilter],heatmapFilter=>(0,utils.Kl)(heatmapFilter.date_from,heatmapFilter.date_to,"Last 7 days")],elements:[selectors=>[selectors.elementStats,toolbarLogic.selectors.dataAttributes,currentPageLogic.selectors.href,selectors.matchLinksByHref],(elementStats,dataAttributes,href,matchLinksByHref)=>{cache.pageElements=cache.lastHref==href?cache.pageElements:(0,querySelectorDeep.n8)("*",document),cache.selectorToElements=cache.lastHref==href?cache.selectorToElements:{},cache.lastHref=href;const elements=[];return elementStats?.results.forEach((event=>{let combinedSelector,lastSelector;for(let i=0;i<event.elements.length;i++){const element=event.elements[i],selector=(0,actionUtils.nr)(matchLinksByHref?element:{...element,href:void 0},dataAttributes)||"*";combinedSelector=lastSelector?`${selector} > ${lastSelector}`:selector;try{let domElements=cache.selectorToElements?.[combinedSelector];if(void 0===domElements&&(domElements=Array.from((0,querySelectorDeep.Jp)(combinedSelector,document,cache.pageElements)),cache.selectorToElements[combinedSelector]=domElements),1===domElements.length){const e=event.elements[i];if(0!==i||!e.tag_name||e.attr_class||e.attr_id||e.href||e.text||1!==e.nth_child||1!==e.nth_of_type||e.attributes["attr__data-attr"])return elements.push({element:domElements[0],count:event.count,selector:selector,hash:event.hash,type:event.type}),null}if(0===domElements.length){if(i===event.elements.length-1)return null;if(i>0&&lastSelector){lastSelector=lastSelector?`* > ${lastSelector}`:"*";continue}}}catch(error){break}lastSelector=combinedSelector}})),elements}],countedElements:[selectors=>[selectors.elements,toolbarLogic.selectors.dataAttributes],(elements,dataAttributes)=>{const normalisedElements=new Map;(elements||[]).forEach((countedElement=>{const trimmedElement=trimElement(countedElement.element);if(trimmedElement)if(normalisedElements.has(trimmedElement)){const existing=normalisedElements.get(trimmedElement);existing&&(existing.count+=countedElement.count,existing.clickCount+="$rageclick"===countedElement.type?0:countedElement.count,existing.rageclickCount+="$rageclick"===countedElement.type?countedElement.count:0)}else normalisedElements.set(trimmedElement,{...countedElement,clickCount:"$rageclick"===countedElement.type?0:countedElement.count,rageclickCount:"$rageclick"===countedElement.type?countedElement.count:0,element:trimmedElement,actionStep:elementToActionStep(trimmedElement,dataAttributes)})}));const countedElements=Array.from(normalisedElements.values());return countedElements.sort(((a,b)=>b.count-a.count)),countedElements.map(((e,i)=>({...e,position:i+1})))}],elementCount:[selectors=>[selectors.countedElements],countedElements=>countedElements.length],clickCount:[selectors=>[selectors.countedElements],countedElements=>countedElements?countedElements.map((e=>e.count)).reduce(((a,b)=>a+b),0):0],highestClickCount:[selectors=>[selectors.countedElements],countedElements=>countedElements?countedElements.map((e=>e.count)).reduce(((a,b)=>b>a?b:a),0):0]}})),(0,index_esm.afterMount)((_ref9=>{let{actions:actions,values:values,cache:cache}=_ref9;values.heatmapEnabled&&actions.getElementStats(),cache.keyDownListener=event=>{event.shiftKey&&!values.shiftPressed&&actions.setShiftPressed(!0)},cache.keyUpListener=event=>{!event.shiftKey&&values.shiftPressed&&actions.setShiftPressed(!1)},window.addEventListener("keydown",cache.keyDownListener),window.addEventListener("keyup",cache.keyUpListener)})),(0,index_esm.beforeUnmount)((_ref10=>{let{cache:cache}=_ref10;window.removeEventListener("keydown",cache.keyDownListener),window.removeEventListener("keyup",cache.keyUpListener)})),(0,index_esm.listeners)((_ref11=>{let{actions:actions,values:values}=_ref11;return{loadMoreElementStats:()=>{values.elementStats?.next&&actions.getElementStats(values.elementStats.next)},[currentPageLogic.actionTypes.setHref]:()=>{values.heatmapEnabled&&(actions.resetElementStats(),actions.getElementStats())},[currentPageLogic.actionTypes.setWildcardHref]:async(_,breakpoint)=>{await breakpoint(100),values.heatmapEnabled&&(actions.resetElementStats(),actions.getElementStats())},enableHeatmap:()=>{actions.getElementStats(),posthog.capture("toolbar mode triggered",{mode:"heatmap",enabled:!0})},disableHeatmap:()=>{actions.resetElementStats(),actions.setShowHeatmapTooltip(!1),posthog.capture("toolbar mode triggered",{mode:"heatmap",enabled:!1})},getElementStatsSuccess:()=>{actions.setShowHeatmapTooltip(!0)},setShowHeatmapTooltip:async(_ref12,breakpoint)=>{let{showHeatmapTooltip:showHeatmapTooltip}=_ref12;showHeatmapTooltip&&(await breakpoint(1e3),actions.setShowHeatmapTooltip(!1))},setHeatmapFilter:()=>{actions.resetElementStats(),actions.getElementStats()}}}))]);var jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@16.14.0/node_modules/react/jsx-runtime.js");function FocusRect(_ref){let{rect:rect}=_ref;const widths=[0,rect.left+window.pageXOffset,rect.left+window.pageXOffset+rect.width,window.innerWidth],heights=[0,rect.top+window.pageYOffset,rect.top+window.pageYOffset+rect.height,document.body.scrollHeight],rects=[];for(let i=0;i<3;i++)for(let j=0;j<3;j++)1===i&&1===j||rects.push({id:3*j+i,x:widths[i],w:widths[i+1]-widths[i],y:heights[j],h:heights[j+1]-heights[j],bg:1===i||1===j?`linear-gradient(${1===j?180:90}deg, rgba(0,0,0,0.1) calc(50% - 12px), rgba(255,255,255,0.1) calc(50% - 4px), rgba(255,255,255,0.1) calc(50% + 4px), rgba(0,0,0,0.1) calc(50% + 12px)`:"rgba(0,0,0,0.1)"});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:rects.map((r=>(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:r.y,left:r.x,width:r.w,height:r.h,zIndex:10,background:r.bg,backgroundBlendMode:"multiply",transition:"opacity 0.3s"}},r.id)))})}try{FocusRect.displayName="FocusRect",FocusRect.__docgenInfo={description:"",displayName:"FocusRect",props:{rect:{defaultValue:null,description:"",name:"rect",required:!0,type:{name:"ElementRect"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/elements/FocusRect.tsx#FocusRect"]={docgenInfo:FocusRect.__docgenInfo,name:"FocusRect",path:"frontend/src/toolbar/elements/FocusRect.tsx#FocusRect"})}catch(__react_docgen_typescript_loader_error){}var CloseOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/CloseOutlined.js"),icons=__webpack_require__("./frontend/src/lib/lemon-ui/icons/index.ts");function SelectorString(_ref){let{value:value}=_ref;const[last,...rest]=value.split(" ").reverse();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[rest.reverse().join(" ")," ",(0,jsx_runtime.jsx)("strong",{children:last})]})}function ActionAttribute(_ref2){let{attribute:attribute,value:value}=_ref2;const icon="text"===attribute?(0,jsx_runtime.jsx)(icons.eec,{}):"href"===attribute?(0,jsx_runtime.jsx)(icons.JHz,{}):"selector"===attribute?(0,jsx_runtime.jsx)(icons.$Mr,{}):(0,jsx_runtime.jsx)(icons.yKb,{}),text="href"===attribute?(0,jsx_runtime.jsx)("a",{href:value,target:"_blank",rel:"noopener noreferrer",children:value}):"selector"===attribute?value?(0,jsx_runtime.jsx)("span",{className:"font-mono",children:(0,jsx_runtime.jsx)(SelectorString,{value:value})}):(0,jsx_runtime.jsxs)("span",{children:["Could not generate a unique selector for this element. Please instrument it with a unique"," ",(0,jsx_runtime.jsx)("code",{children:"id"})," or ",(0,jsx_runtime.jsx)("code",{children:"data-attr"})," attribute."]}):value;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-2 justify-between items-center",children:[(0,jsx_runtime.jsx)("div",{className:"text-muted text-xl",children:icon}),(0,jsx_runtime.jsx)("div",{className:"grow",children:text})]},attribute)}try{ActionAttribute.displayName="ActionAttribute",ActionAttribute.__docgenInfo={description:"",displayName:"ActionAttribute",props:{attribute:{defaultValue:null,description:"",name:"attribute",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/elements/ActionAttribute.tsx#ActionAttribute"]={docgenInfo:ActionAttribute.__docgenInfo,name:"ActionAttribute",path:"frontend/src/toolbar/elements/ActionAttribute.tsx#ActionAttribute"})}catch(__react_docgen_typescript_loader_error){}function ActionStep(_ref){let{actionStep:actionStep}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex flex-col gap-2",children:["text","name","href","selector"].map((attr=>actionStep[attr]||"selector"===attr?(0,jsx_runtime.jsx)(ActionAttribute,{attribute:attr,value:actionStep[attr]||void 0},attr):null))})}try{ActionStep.displayName="ActionStep",ActionStep.__docgenInfo={description:"",displayName:"ActionStep",props:{actionStep:{defaultValue:null,description:"",name:"actionStep",required:!0,type:{name:"ActionStepType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/elements/ActionStep.tsx#ActionStep"]={docgenInfo:ActionStep.__docgenInfo,name:"ActionStep",path:"frontend/src/toolbar/elements/ActionStep.tsx#ActionStep"})}catch(__react_docgen_typescript_loader_error){}var list=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/list/index.js"),space=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/space/index.js");function ActionsListView(_ref){let{actions:actions}=_ref;const{selectAction:selectAction}=(0,index_esm.useActions)(actionsTabLogic);return(0,jsx_runtime.jsx)(list.ZP,{itemLayout:"horizontal",dataSource:actions,renderItem:(action,index)=>(0,jsx_runtime.jsx)(list.ZP.Item,{onClick:()=>selectAction(action.id||null),style:{cursor:"pointer"},children:(0,jsx_runtime.jsx)(list.ZP.Item.Meta,{title:(0,jsx_runtime.jsxs)(space.Z,{children:[(0,jsx_runtime.jsxs)("span",{className:"inline-block text-right mr-1",style:{width:12*Math.floor(Math.log10(actions.length)+1)+6},children:[index+1,"."]}),action.name||(0,jsx_runtime.jsx)("span",{className:"italic text-muted-alt",children:"Untitled"})]})})})})}try{ActionsListView.displayName="ActionsListView",ActionsListView.__docgenInfo={description:"",displayName:"ActionsListView",props:{actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"ActionType[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/actions/ActionsListView.tsx#ActionsListView"]={docgenInfo:ActionsListView.__docgenInfo,name:"ActionsListView",path:"frontend/src/toolbar/actions/ActionsListView.tsx#ActionsListView"})}catch(__react_docgen_typescript_loader_error){}var src=__webpack_require__("./frontend/@posthog/lemon-ui/src/index.ts");function ElementStatistic(_ref){let{prefix:prefix,suffix:suffix,title:title,value:value}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"flex flex-col",children:[(0,jsx_runtime.jsx)("div",{children:title}),(0,jsx_runtime.jsxs)("div",{className:"text-2xl",children:[prefix,value," ",suffix]})]})}function ElementInfo(){const{clickCount:totalClickCount,dateRange:dateRange}=(0,index_esm.useValues)(heatmapLogic),{activeMeta:activeMeta}=(0,index_esm.useValues)(elementsLogic),{createAction:createAction}=(0,index_esm.useActions)(elementsLogic);if(!activeMeta)return null;const{element:element,position:position,count:count,clickCount:clickCount,rageclickCount:rageclickCount,actionStep:actionStep}=activeMeta;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"p-3",style:{borderLeft:"5px solid #8F98FF",background:"hsla(235, 100%, 99%, 1)"},children:[(0,jsx_runtime.jsx)("h1",{className:"section-title",children:"Selected Element"}),(0,jsx_runtime.jsx)(ActionStep,{actionStep:actionStep})]}),position?(0,jsx_runtime.jsxs)("div",{className:"p-3",style:{borderLeft:"5px solid #FF9870",background:"hsla(19, 99%, 99%, 1)"},children:[(0,jsx_runtime.jsx)("h1",{className:"section-title",children:"Stats"}),(0,jsx_runtime.jsxs)("p",{children:[(0,jsx_runtime.jsx)(icons.jt6,{})," ",(0,jsx_runtime.jsx)("u",{children:dateRange})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"w-2/3",children:(0,jsx_runtime.jsx)(ElementStatistic,{title:"Clicks",value:count||0,suffix:`/ ${totalClickCount} (${0===totalClickCount?"-":Math.round((count||0)/totalClickCount*1e4)/100}%)`})}),(0,jsx_runtime.jsx)("div",{className:"w-1/3",children:(0,jsx_runtime.jsx)(ElementStatistic,{title:"Ranking",prefix:"#",value:position||0})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-row gap-4 mt-2",children:[(0,jsx_runtime.jsx)(ElementStatistic,{title:"Autocapture clicks",value:clickCount||0}),(0,jsx_runtime.jsx)(ElementStatistic,{title:"Rageclicks",value:rageclickCount||0})]})]}):null,(0,jsx_runtime.jsxs)("div",{className:"p-3",style:{borderLeft:"5px solid #94D674",background:"hsla(100, 74%, 98%, 1)"},children:[(0,jsx_runtime.jsxs)("h1",{className:"section-title",children:["Actions (",activeMeta.actions.length,")"]}),0===activeMeta.actions.length?(0,jsx_runtime.jsx)("p",{children:"No actions include this element"}):(0,jsx_runtime.jsx)(ActionsListView,{actions:activeMeta.actions.map((a=>a.action))}),(0,jsx_runtime.jsx)(src.LemonButton,{size:"small",type:"secondary",status:"primary-alt",onClick:()=>createAction(element),icon:(0,jsx_runtime.jsx)(icons.SC9,{}),children:"Create a new action"})]})]})}function InfoWindow(){const{hoverElement:hoverElement,hoverElementMeta:hoverElementMeta,selectedElement:selectedElement,selectedElementMeta:selectedElementMeta,relativePositionCompensation:relativePositionCompensation,activeMetaIsSelected:activeMetaIsSelected}=(0,index_esm.useValues)(elementsLogic),{setSelectedElement:setSelectedElement}=(0,index_esm.useActions)(elementsLogic);(0,index_esm.useValues)(elementsLogic).rectUpdateCounter;const activeMeta=hoverElementMeta||selectedElementMeta;if(!activeMeta||!activeMeta.rect)return null;const pointerEvents=selectedElementMeta&&(!hoverElement||hoverElement===selectedElement),onClose=activeMetaIsSelected?()=>setSelectedElement(null):null,{rect:rect}=activeMeta,windowWidth=Math.min(document.documentElement.clientWidth,window.innerWidth),windowHeight=Math.min(document.documentElement.clientHeight,window.innerHeight);let positioningHeight=windowHeight;"relative"===window.getComputedStyle(document.body).position&&(positioningHeight=document.documentElement.offsetHeight);let left=rect.left+window.pageXOffset+(rect.width>300?(rect.width-300)/2:0),width=300;left+width>windowWidth-10&&(left-=left+width-(windowWidth-10),left<0&&(left=5,width=windowWidth-10));let bottom,top=Math.max(window.pageYOffset+16,rect.top+rect.height+10+window.pageYOffset)+relativePositionCompensation;let maxHeight;const spaceAbove=Math.max(50,rect.top-20),spaceBelow=Math.max(50,windowHeight-top+window.pageYOffset-10);return spaceAbove>spaceBelow?(top=void 0,bottom=positioningHeight-rect.top+10-window.pageYOffset-relativePositionCompensation,maxHeight=spaceAbove):maxHeight=spaceBelow,(0,jsx_runtime.jsxs)("div",{style:{pointerEvents:pointerEvents?"all":"none",position:"absolute",top:top,bottom:bottom,left:left,width:width,minHeight:50,maxHeight:maxHeight,zIndex:1,opacity:1,transformOrigin:"top left",transition:"opacity 0.2s, box-shadow 0.2s",backgroundBlendMode:"multiply",background:"white",boxShadow:"hsla(4, 30%, 27%, 0.6) 0px 3px 10px 2px"},children:[onClose?(0,jsx_runtime.jsx)("div",{onClick:onClose,style:{pointerEvents:pointerEvents?"all":"none",position:"absolute",top:-8,right:left+width>windowWidth-20?-6:-12,transformOrigin:"top left",background:"black",color:"white",boxShadow:"hsla(4, 30%, 27%, 0.6) 0px 3px 10px 2px",borderRadius:"100%",width:24,height:24,zIndex:7,display:"flex",alignItems:"center",justifyContent:"space-around",textAlign:"center",cursor:"pointer"},children:(0,jsx_runtime.jsx)(CloseOutlined.Z,{})}):null,(0,jsx_runtime.jsx)("div",{style:{minHeight:50,maxHeight:maxHeight,overflow:"auto"},children:(0,jsx_runtime.jsx)(ElementInfo,{})})]})}function HeatmapElement(_ref){let{rect:rect,style:style={},onClick:onClick,onMouseOver:onMouseOver,onMouseOut:onMouseOut}=_ref;return rect?(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:`${rect.top+window.pageYOffset}px`,left:`${rect.left+window.pageXOffset}px`,width:rect.right-rect.left+"px",height:rect.bottom-rect.top+"px",...style},onClick:onClick,onMouseOver:onMouseOver,onMouseOut:onMouseOut}):null}try{HeatmapElement.displayName="HeatmapElement",HeatmapElement.__docgenInfo={description:"",displayName:"HeatmapElement",props:{rect:{defaultValue:null,description:"",name:"rect",required:!1,type:{name:"ElementRect"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"Record<string, any>"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}},onMouseOver:{defaultValue:null,description:"",name:"onMouseOver",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}},onMouseOut:{defaultValue:null,description:"",name:"onMouseOut",required:!0,type:{name:"(event: MouseEvent<Element, MouseEvent>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/elements/HeatmapElement.tsx#HeatmapElement"]={docgenInfo:HeatmapElement.__docgenInfo,name:"HeatmapElement",path:"frontend/src/toolbar/elements/HeatmapElement.tsx#HeatmapElement"})}catch(__react_docgen_typescript_loader_error){}const heatmapLabelStyle={lineHeight:"14px",padding:"1px 4px",color:"hsla(54, 20%, 12%, 1)",background:"#FFEB3B",boxShadow:"hsla(54, 100%, 32%, 1) 0px 1px 5px 1px",fontSize:16,fontWeight:"bold",fontFamily:"monospace"};function HeatmapLabel(_ref){let{rect:rect,style:style={},align:align="right",children:children,...props}=_ref;if(!rect)return null;const width="string"==typeof children?10*children.length+4:14;return(0,jsx_runtime.jsx)("div",{style:{position:"absolute",top:`${inBounds(window.pageYOffset-1,rect.top-7+window.pageYOffset,window.pageYOffset+window.innerHeight-14)}px`,left:`${inBounds(window.pageXOffset,rect.left+("left"===align?10:rect.width)-width+window.pageXOffset,window.pageXOffset+window.innerWidth-14)}px`,...heatmapLabelStyle,...style},...props,children:children})}try{HeatmapLabel.displayName="HeatmapLabel",HeatmapLabel.__docgenInfo={description:"",displayName:"HeatmapLabel",props:{rect:{defaultValue:null,description:"",name:"rect",required:!1,type:{name:"ElementRect"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/elements/HeatmapLabel.tsx#HeatmapLabel"]={docgenInfo:HeatmapLabel.__docgenInfo,name:"HeatmapLabel",path:"frontend/src/toolbar/elements/HeatmapLabel.tsx#HeatmapLabel"})}catch(__react_docgen_typescript_loader_error){}function Elements_Elements(){const{heatmapElements:heatmapElements,elementsToDisplay:elementsToDisplay,labelsToDisplay:labelsToDisplay,hoverElement:hoverElement,selectedElement:selectedElement,inspectEnabled:inspectEnabled,highlightElementMeta:highlightElementMeta,relativePositionCompensation:relativePositionCompensation}=(0,index_esm.useValues)(elementsLogic),{setHoverElement:setHoverElement,selectElement:selectElement}=(0,index_esm.useActions)(elementsLogic),{highestClickCount:highestClickCount,shiftPressed:shiftPressed}=(0,index_esm.useValues)(heatmapLogic),heatmapPointerEvents=shiftPressed?"none":"all";return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{id:"posthog-infowindow-container",className:"w-full h-full absolute top-0 left-0 pointer-events-none",style:{zIndex:2147483021},children:(0,jsx_runtime.jsx)(InfoWindow,{})}),(0,jsx_runtime.jsxs)("div",{id:"posthog-toolbar-elements",className:"w-full h-full absolute top-0 pointer-events-none",style:{top:relativePositionCompensation,zIndex:2147483010},children:[highlightElementMeta?.rect?(0,jsx_runtime.jsx)(FocusRect,{rect:highlightElementMeta.rect}):null,elementsToDisplay.map(((_ref,index)=>{let{rect:rect,element:element}=_ref;return(0,jsx_runtime.jsx)(HeatmapElement,{rect:rect,style:{pointerEvents:heatmapPointerEvents,cursor:"pointer",zIndex:0,opacity:!hoverElement&&!selectedElement||selectedElement===element||hoverElement===element?1:.4,transition:"opacity 0.2s, box-shadow 0.2s",...getBoxColors("blue",hoverElement===element||selectedElement===element)},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null)},`inspect-${index}`)})),heatmapElements.map(((_ref2,index)=>{let{rect:rect,count:count,clickCount:clickCount,rageclickCount:rageclickCount,element:element}=_ref2;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(HeatmapElement,{rect:rect,style:{pointerEvents:inspectEnabled?"none":heatmapPointerEvents,zIndex:1,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, box-shadow 0.2s",cursor:"pointer",...getBoxColors("red",hoverElement===element,(count||0)/highestClickCount*.4)},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null)}),!!clickCount&&(0,jsx_runtime.jsx)(HeatmapLabel,{rect:rect,style:{pointerEvents:heatmapPointerEvents,zIndex:5,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, transform 0.2s linear",transform:hoverElement===element?"scale(1.3)":"none",cursor:"pointer",color:`hsla(${getHeatMapHue(clickCount||0,highestClickCount)}, 20%, 12%, 1)`,background:`hsla(${getHeatMapHue(clickCount||0,highestClickCount)}, 100%, 62%, 1)`,boxShadow:`hsla(${getHeatMapHue(clickCount||0,highestClickCount)}, 100%, 32%, 1) 0px 1px 5px 1px`},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null),children:(0,utils.JP)(clickCount||0)}),!!rageclickCount&&(0,jsx_runtime.jsxs)(HeatmapLabel,{rect:rect,style:{pointerEvents:heatmapPointerEvents,zIndex:5,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, transform 0.2s linear",transform:hoverElement===element?"scale(1.3)":"none",cursor:"pointer",color:`hsla(${getHeatMapHue(rageclickCount||0,highestClickCount)}, 20%, 12%, 1)`,background:`hsla(${getHeatMapHue(rageclickCount||0,highestClickCount)}, 100%, 62%, 1)`,boxShadow:`hsla(${getHeatMapHue(rageclickCount||0,highestClickCount)}, 100%, 32%, 1) 0px 1px 5px 1px`},align:"left",onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null),children:[(0,utils.JP)(rageclickCount),"😡"]})]},`heatmap-${index}`)})),labelsToDisplay.map(((_ref3,loopIndex)=>{let{element:element,rect:rect,index:index}=_ref3;if(rect)return(0,jsx_runtime.jsx)(HeatmapLabel,{rect:rect,align:"left",style:{zIndex:5,opacity:hoverElement&&hoverElement!==element?.4:1,transition:"opacity 0.2s, transform 0.2s linear",transform:hoverElement===element?"scale(1.3)":"none",pointerEvents:heatmapPointerEvents,cursor:"pointer",color:"hsla(141, 21%, 12%, 1)",background:"hsl(147, 100%, 62%)",boxShadow:"hsla(141, 100%, 32%, 1) 0px 1px 5px 1px"},onClick:()=>selectElement(element),onMouseOver:()=>null===selectedElement&&setHoverElement(element),onMouseOut:()=>null===selectedElement&&setHoverElement(null),children:(index||loopIndex)+1},`label-${loopIndex}`)}))]})]})}var ToolbarButton=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/button/ToolbarButton.scss"),ToolbarButton_default=__webpack_require__.n(ToolbarButton),ToolbarButton_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(ToolbarButton_default(),ToolbarButton_options),ToolbarButton_default().locals;function Logomark(){return(0,jsx_runtime.jsxs)("svg",{width:"45",height:"25",viewBox:"0 0 45 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsx)("path",{d:"M39.879 19.8046L31.0519 10.9776C30.4611 10.3868 29.451 10.8052 29.451 11.6407V23.9879C29.451 24.5058 29.8709 24.9256 30.3888 24.9256H44.0622C44.5802 24.9256 45 24.5058 45 23.9879V22.8635C45 22.3455 44.5784 21.9319 44.0648 21.865C42.4886 21.6598 41.0143 20.94 39.879 19.8046ZM33.951 21.9257C33.123 21.9257 32.451 21.2537 32.451 20.4256C32.451 19.5976 33.123 18.9256 33.951 18.9256C34.779 18.9256 35.451 19.5976 35.451 20.4256C35.451 21.2537 34.779 21.9257 33.951 21.9257Z",fill:"black"}),(0,jsx_runtime.jsx)("path",{d:"M0 19.6897C0 18.8542 1.01012 18.4357 1.6009 19.0265L5.89911 23.3248C6.48988 23.9156 6.07147 24.9257 5.236 24.9257H0.937781C0.419859 24.9257 0 24.5058 0 23.9879V19.6897ZM0 15.1622C0 15.4109 0.0988018 15.6495 0.27467 15.8253L9.10034 24.651C9.2762 24.8268 9.51473 24.9257 9.76343 24.9257H14.611C15.4465 24.9257 15.8649 23.9156 15.2741 23.3248L1.6009 9.65155C1.01012 9.06075 0 9.47918 0 10.3147V15.1622V15.1622ZM0 5.78722C0 6.03593 0.0988018 6.27447 0.27467 6.45033L18.4753 24.651C18.6512 24.8268 18.8897 24.9257 19.1384 24.9257H23.986C24.8215 24.9257 25.2399 23.9156 24.6491 23.3248L1.6009 0.276556C1.01013 -0.314209 0 0.104191 0 0.939661V5.78722V5.78722ZM9.375 5.78722C9.375 6.03593 9.47384 6.27447 9.64968 6.45033L26.5241 23.3248C27.1149 23.9156 28.125 23.4971 28.125 22.6617V17.8141C28.125 17.5654 28.0262 17.3268 27.8503 17.151L10.9759 0.276546C10.3851 -0.314219 9.375 0.104191 9.375 0.939661V5.78722ZM20.3509 0.276556C19.7601 -0.314219 18.75 0.104191 18.75 0.939661V5.78722C18.75 6.03593 18.8488 6.27447 19.0247 6.45033L26.5241 13.9498C27.1149 14.5406 28.125 14.1221 28.125 13.2867V8.43909C28.125 8.19039 28.0262 7.95182 27.8503 7.77599L20.3509 0.276556V0.276556Z",fill:"#F9BD2B"}),(0,jsx_runtime.jsx)("path",{d:"M18.75 8.43909C18.75 8.19039 18.6513 7.95181 18.4753 7.77598L10.9759 0.276553C10.3852 -0.314222 9.37501 0.104188 9.37501 0.939658V5.78722C9.37501 6.03593 9.47384 6.27446 9.64968 6.45032L18.75 15.5507V8.43909V8.43909ZM9.37501 24.9257H14.611C15.4465 24.9257 15.8649 23.9156 15.2741 23.3248L9.37501 17.4257V24.9257ZM9.37501 8.05066V15.1622C9.37501 15.4109 9.47384 15.6495 9.64968 15.8253L18.75 24.9257V17.8141C18.75 17.5654 18.6513 17.3268 18.4753 17.151L9.37501 8.05066Z",fill:"#F54E00"}),(0,jsx_runtime.jsx)("path",{d:"M0 23.9879C0 24.5058 0.419859 24.9257 0.937782 24.9257H5.236C6.07147 24.9257 6.48988 23.9156 5.89912 23.3248L1.6009 19.0265C1.01012 18.4357 0 18.8542 0 19.6897V23.9879V23.9879ZM9.375 8.05066L1.6009 0.276553C1.01012 -0.314222 0 0.104188 0 0.939658V5.78722C0 6.03593 0.0988019 6.27446 0.27467 6.45032L9.375 15.5507V8.05066ZM1.6009 9.65154C1.01012 9.06074 0 9.47918 0 10.3146V15.1622C0 15.4109 0.0988019 15.6495 0.27467 15.8253L9.375 24.9257V17.4257L1.6009 9.65154V9.65154Z",fill:"#1D4AFF"})]})}function Circle(_ref){let{width:width,x:x,y:y,extensionPercentage:extensionPercentage=1,distance:distance,rotation:rotation=0,content:content,className:className,top:top,left:left,right:right,bottom:bottom,zIndex:zIndex,animate:animate,animationStart:animationStart=rotation+0,animationEnd:animationEnd=rotation+360,animationId:animationId,animationDuration:animationDuration=15,label:label,labelPosition:labelPosition="bottom",style:style={},labelStyle:labelStyle={},children:children,rootNode:rootNode=!1,accumulatedRotation:accumulatedRotation=0,rotationFixer:rotationFixer=(()=>0),...props}=_ref,usedDistance=0,usedRotation=0;void 0!==x&&void 0!==y?(usedDistance=Math.sqrt(x*x+y*y)*extensionPercentage,usedRotation=Math.atan2(y,x)*(180/Math.PI)):void 0!==distance&&(usedDistance=distance*extensionPercentage,usedRotation=rotation),usedRotation-=accumulatedRotation,usedRotation+=rotationFixer(usedRotation);const clonedChildren=react.Children.toArray(children).map((child=>react.cloneElement(child,{accumulatedRotation:usedRotation+accumulatedRotation})));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[animate?(0,jsx_runtime.jsx)("style",{children:`\t\n@keyframes circle-spin-${animationId} { \n    0% { transform: rotate(${animationStart}deg) translate(${usedDistance}px, 0px); } \t\n    100% { transform: rotate(${animationEnd}deg) translate(${usedDistance}px, 0px); }\n}\n@keyframes circle-spin-${animationId}-reverse { \t          \n    0% { transform: rotate(${-animationStart}deg); } \t              \n    100% { transform: rotate(${-animationEnd}deg); } \t      \n}\n                `}):null,(0,jsx_runtime.jsxs)("div",{className:"circle-transformer",style:rootNode?{position:"fixed",top:top,left:left,right:right,bottom:bottom,zIndex:zIndex}:{zIndex:zIndex,position:"absolute",top:0,left:0,transform:`rotate(${usedRotation}deg) translate(${usedDistance}px, 0px)`,transformOrigin:"0px 0px",transition:"transform ease 0.2s, opacity ease 0.2s",willChange:"transform",animation:animate?`circle-spin-${animationId} ${animationDuration}s linear infinite`:""},children:[(0,jsx_runtime.jsx)("div",{className:"circle-transform-correcter",style:rootNode?{}:{transform:`rotate(${-usedRotation}deg)`,transformOrigin:"0 50%",transition:"transform ease 0.2s, opacity ease 0.2s",willChange:"transform",animation:animate?`circle-spin-${animationId}-reverse ${animationDuration}s linear infinite`:""},children:(0,jsx_runtime.jsxs)("div",{className:"circle-align-fixer",style:{position:"absolute",transformOrigin:"50% 50%",transform:`rotate(${-accumulatedRotation}deg)`,transition:"transform 0.2s",zIndex:zIndex},children:[(0,jsx_runtime.jsx)("div",{className:"circle-button"+(className?` ${className}`:""),style:{position:"absolute",width:width,height:width,marginLeft:-width/2,marginTop:-width/2,borderRadius:width/2,background:"white",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",zIndex:zIndex,...style},...props,children:content}),label?(0,jsx_runtime.jsx)("div",{className:"circle-label",style:{position:"absolute",fontSize:"16px",lineHeight:"26px",..."bottom"===labelPosition?{width:100,height:20,marginLeft:-50,marginTop:width/2,textAlign:"center"}:"left"===labelPosition?{right:width/2+8,marginTop:-13}:"right"===labelPosition?{left:width/2+8,marginTop:-13}:{},whiteSpace:"nowrap",color:"white",pointerEvents:"none",zIndex:zIndex,...labelStyle},children:label}):null]})}),clonedChildren]})]})}try{Circle.displayName="Circle",Circle.__docgenInfo={description:"",displayName:"Circle",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},x:{defaultValue:null,description:"",name:"x",required:!1,type:{name:"number"}},y:{defaultValue:null,description:"",name:"y",required:!1,type:{name:"number"}},extensionPercentage:{defaultValue:{value:"1"},description:"",name:"extensionPercentage",required:!1,type:{name:"number"}},distance:{defaultValue:null,description:"",name:"distance",required:!1,type:{name:"number"}},rotation:{defaultValue:{value:"0"},description:"",name:"rotation",required:!1,type:{name:"number"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"string | Element"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"number"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"number"}},right:{defaultValue:null,description:"",name:"right",required:!1,type:{name:"number"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"number"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"number"}},animate:{defaultValue:null,description:"",name:"animate",required:!1,type:{name:"boolean"}},animationStart:{defaultValue:{value:"rotation + 0"},description:"",name:"animationStart",required:!1,type:{name:"number"}},animationEnd:{defaultValue:{value:"rotation + 360"},description:"",name:"animationEnd",required:!1,type:{name:"number"}},animationId:{defaultValue:null,description:"",name:"animationId",required:!1,type:{name:"string"}},animationDuration:{defaultValue:{value:"15"},description:"",name:"animationDuration",required:!1,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | Element | null"}},labelPosition:{defaultValue:{value:"bottom"},description:"",name:"labelPosition",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"bottom"'}]}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"Record<string, any>"}},labelStyle:{defaultValue:{value:"{}"},description:"",name:"labelStyle",required:!1,type:{name:"Record<string, any>"}},rootNode:{defaultValue:{value:"false"},description:"",name:"rootNode",required:!1,type:{name:"boolean"}},accumulatedRotation:{defaultValue:{value:"0"},description:"",name:"accumulatedRotation",required:!1,type:{name:"number"}},rotationFixer:{defaultValue:{value:"() => 0"},description:"",name:"rotationFixer",required:!1,type:{name:"((usedRotation: number) => number)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/button/Circle.tsx#Circle"]={docgenInfo:Circle.__docgenInfo,name:"Circle",path:"frontend/src/toolbar/button/Circle.tsx#Circle"})}catch(__react_docgen_typescript_loader_error){}function getCoords(e){return e&&e.touches&&e.touches[0]?[e.touches[0].clientX,e.touches[0].clientY]:[e.clientX,e.clientY]}function useLongPress(){let callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},{ms:ms=300,pixelDistance:pixelDistance=10,touch:touch=!0,click:click=!0,exclude:exclude="",clickMs:clickMs=null}=arguments.length>1?arguments[1]:void 0;const[startLongPress,setStartLongPress]=(0,react.useState)(null),[initialCoords,setInitialCoords]=(0,react.useState)(null);function start(e){exclude&&e.target.matches(exclude)||e.button&&e.button>1||e.ctrlKey||e.altKey||e.metaKey||(setInitialCoords(getCoords(e)),setStartLongPress(window.performance.now()))}function move(e){initialCoords&&function diffInCoords(e,initialCoords){const coords=getCoords(e);return Math.abs(coords[0]-initialCoords[0])+Math.abs(coords[1]-initialCoords[1])}(e,initialCoords)>pixelDistance&&(setInitialCoords(null),setStartLongPress(null))}function stopClick(){if(clickMs&&startLongPress){const timeDiff=window.performance.now()-startLongPress;timeDiff>=clickMs&&(!ms||timeDiff<ms)&&callback(!0,timeDiff)}setInitialCoords(null),setStartLongPress(null)}function stop(){setInitialCoords(null),setStartLongPress(null)}(0,react.useEffect)((()=>{let timerId;return startLongPress&&ms&&(timerId=setTimeout((()=>{callback?.(!1,window.performance.now()-startLongPress,initialCoords),stop()}),ms)),()=>{clearTimeout(timerId)}}),[callback,ms,startLongPress]);let events={};return touch&&(events.onTouchStart=start,events.onTouchMove=move,events.onTouchEnd=stopClick),click&&(events.onMouseDown=start,events.onMouseMove=move,events.onMouseUp=stopClick,events.onMouseLeave=stop),events}var Flag=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/button/icons/Flag.scss"),Flag_default=__webpack_require__.n(Flag),Flag_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Flag_default(),Flag_options),Flag_default().locals;function Flag_Flag(_ref){let{engaged:engaged,animated:animated,...props}=_ref;return engaged?(0,jsx_runtime.jsxs)("svg",{className:"posthog-toolbar-icon-flag"+(animated?" animated":""),width:"40",height:"50",viewBox:"0 0 40 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...props,children:[(0,jsx_runtime.jsx)("path",{className:"color1",d:"M16.1252 7.51476L22.9475 7.60607L31.2672 6.48863C31.2672 6.48863 32.6643 6.24008 33.4094 6.67454C34.1545 7.10947 35.2461 13.8975 36.132 17.2913C36.911 20.276 38.2148 22.5702 39.048 25.5403C39.1619 25.947 39.2767 27.1323 38.0967 27.3187C37.2343 27.4547 34.3668 27.321 31.4541 27.852C30.3828 28.0469 27.2404 28.9501 26.3004 29.1191C22.8049 29.747 21.7369 30.6404 18.6326 29.4298L17.7322 27.8463L17.7289 25.8157C16.6147 25.1148 13.9468 25.9287 12.2998 26.4493C10.6528 26.9704 9.43507 27.908 7.87799 28.6065C6.68146 24.6545 7.42564 26.4493 4.97328 16.702C2.67107 7.55007 1.75179 8.77107 1.58092 4.64535C1.55362 3.99248 3.10929 3.28926 4.76098 2.73665C6.41268 2.18357 8.15994 1.78159 8.51579 1.73169C11.325 1.33583 13.0882 1.42855 14.2193 2.297C15.3499 3.16545 15.8479 4.80916 16.1252 7.51476Z",fill:"#70AA54"}),(0,jsx_runtime.jsx)("path",{d:"M0.815899 0.21889C1.33979 0.113923 1.85662 0.421282 1.97053 0.905164L13.0377 47.9849C13.1516 48.4692 12.8188 48.947 12.2949 49.0524C11.771 49.1574 11.2542 48.85 11.1403 48.3662L0.073128 1.28645C-0.0407821 0.802094 0.292006 0.324327 0.815899 0.21889Z",fill:"#2F4823"}),(0,jsx_runtime.jsx)("path",{className:"color2",d:"M2.43759 3.93929L5.17285 15.0272L8.40751 28.2092C8.98648 27.8595 8.40846 28.213 8.40846 28.213C8.40846 28.213 9.78479 27.9838 9.6737 27.3248L8.97377 24.7157C8.45835 21.657 7.92035 17.4621 7.17381 13.2357C6.47858 9.30013 4.50774 6.04944 3.52068 3.15274L3.48444 3.04589C2.87676 3.30148 3.85252 3.16451 3.48396 3.04448C3.1154 2.92445 2.28461 3.30714 2.43759 3.93929Z",fill:"#527940"}),(0,jsx_runtime.jsx)("path",{className:"color2",d:"M19.6432 28.1181L19.5231 24.7898L18.0583 16.5337C17.5302 12.672 16.9955 8.81131 16.433 4.95438C16.3445 4.34576 15.7844 2.76185 15.2431 2.36269C14.7022 1.96354 13.5099 1.72865 13.1254 1.4707C13.2539 2.04402 12.8985 2.25959 13.0275 2.92846C13.1254 3.43259 14.2141 3.828 14.5459 4.29917C14.7563 4.5976 13.4468 5.38789 13.9434 6.16173C14.0668 6.35378 15.4949 6.8452 15.1677 7.54043C15.0392 7.81343 14.8914 8.44089 14.7705 9.11399C14.6236 9.93066 15.5269 10.0935 15.541 10.4936C15.5565 10.9464 14.9903 11.9608 14.9724 12.4381C14.955 12.905 15.5198 13.7081 15.517 14.158C15.5151 14.488 14.6311 14.7327 14.6156 15.6742C14.6081 16.1369 16.1774 16.6495 16.3906 17.308C16.6114 17.9905 15.4807 18.8236 15.7632 19.5641C15.9246 19.9886 16.9526 20.2414 17.18 20.69C17.5368 21.3941 16.617 22.739 16.8058 23.5316C16.8646 23.7797 17.8065 23.5161 17.935 23.75C18.1134 24.0748 17.2416 25.4841 17.606 25.5217C19.719 25.742 19.4987 27.0134 19.6432 28.1181Z",fill:"#527940"}),(0,jsx_runtime.jsx)("path",{className:"color2",d:"M39.2666 25.6895L36.7977 18.1051C36.0295 14.9368 35.2566 11.7699 34.4654 8.60915C34.3402 8.1102 33.7885 6.80683 33.3733 6.53241C32.9577 6.25752 32.2197 6.14172 32.158 6.44815C32.0959 6.75458 32.8151 7.90827 33.0938 8.26601C33.2703 8.49241 32.4484 9.29448 32.8725 9.88709C32.9775 10.034 34.0154 10.29 33.8619 10.9062C33.8017 11.1481 33.765 11.688 33.7518 12.2637C33.7358 12.9617 34.3764 12.9999 34.4282 13.3322C34.4861 13.7092 34.2013 14.6177 34.239 15.0182C34.2757 15.4103 34.7492 16.0199 34.7944 16.396C34.8278 16.6718 34.2432 16.9721 34.3308 17.7601C34.3741 18.1475 35.5108 18.4054 35.7269 18.9326C35.9509 19.4786 35.2571 20.2972 35.5296 20.8851C35.6854 21.2221 36.4216 21.3224 36.6254 21.6721C36.9455 22.2219 36.4508 23.4448 36.664 24.0868C36.7309 24.2873 37.3536 23.9649 37.4666 24.1466C37.6233 24.3984 37.62 27.1746 37.8751 27.1671C39.3574 27.1224 39.2666 25.6895 39.2666 25.6895Z",fill:"#527940"}),(0,jsx_runtime.jsx)("path",{className:"color2",d:"M16.4722 7.498C16.426 9.1257 17.2083 11.1992 17.4009 12.8132C17.9281 17.2392 18.4783 21.6026 19.0907 26.0254C19.1411 26.3883 19.3886 27.1367 19.255 27.7741C19.0775 28.6199 18.1107 29.181 18.6374 29.4276C19.5638 29.8602 25.6363 30.3704 26.0322 28.5902C26.2567 27.5806 25.6344 27.1536 25.2964 26.1581C24.7584 24.5747 24.6615 22.6895 24.493 21.0529C24.1187 17.4237 26.0486 11.3248 23.7055 7.96308C23.1783 7.20618 22.3696 7.40482 19.6974 7.31209C18.2227 7.26079 17.2408 7.24243 16.7946 7.19583C16.4468 7.15911 16.4863 6.99576 16.4722 7.498Z",fill:"#527940"}),(0,jsx_runtime.jsx)("path",{className:"color3",d:"M18.1311 7.57242L24.3425 29.2295C24.431 29.5298 23.5357 30.0678 23.2232 30.049L22.3378 30.097C21.813 30.1252 20.9619 30.1271 20.4371 30.1008L19.9118 30.0744C19.5997 30.0556 18.7581 29.7482 18.6075 29.3467C18.4568 28.9452 19.3559 28.4825 19.4604 27.4902C19.5606 26.5371 18.9337 26.9136 19.1092 25.96C19.1092 25.96 19.217 26.8228 19.113 25.9524C19.009 25.0821 19.419 24.8293 19.3493 24.3732L16.7764 7.54749C16.7327 7.23729 17.0047 7.48251 17.3173 7.49569L17.3893 7.49853C17.7018 7.51171 18.0426 7.27211 18.1311 7.57242Z",fill:"#415E32"})]}):(0,jsx_runtime.jsxs)("svg",{width:"40",height:"50",viewBox:"0 0 40 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",...props,children:[(0,jsx_runtime.jsx)("path",{d:"M39.8016 26.16L37.3327 18.5756C36.5645 15.4073 35.7916 12.2404 35.0004 9.07965C34.8756 8.5807 34.3235 7.27732 33.9084 7.00243C33.4932 6.72801 32.7547 6.61222 32.693 6.91865C32.6309 7.22508 33.3501 8.37877 33.6288 8.7365C33.8053 8.96291 32.9834 9.765 33.4075 10.3576C33.5125 10.5045 34.5504 10.7605 34.397 11.3767C34.3367 11.6186 34.3005 12.1585 34.2868 12.7337C34.2708 13.4322 34.9114 13.4704 34.9632 13.8027C35.0216 14.1792 34.7363 15.0882 34.774 15.4888C34.8107 15.8808 35.2842 16.4899 35.3294 16.8665C35.3628 17.1423 34.7782 17.4426 34.8658 18.2306C34.9091 18.618 36.0463 18.8759 36.2619 19.4031C36.4859 19.9491 35.7921 20.7677 36.0647 21.3556C36.2205 21.6926 36.9566 21.7929 37.1604 22.1426C37.4805 22.6924 36.9858 23.9153 37.199 24.5568C37.2659 24.7578 37.8886 24.4354 38.0016 24.6171C38.1583 24.8689 38.155 27.6451 38.4106 27.6376C39.8924 27.5929 39.8016 26.16 39.8016 26.16Z",fill:"#71AA55"}),(0,jsx_runtime.jsx)("path",{d:"M16.7521 7.77182L23.5745 7.86313L31.8942 6.74569C31.8942 6.74569 33.2912 6.49716 34.0359 6.93209C34.781 7.36655 35.873 14.1546 36.7584 17.5483C37.5374 20.5331 38.8417 22.8277 39.6749 25.7974C39.7888 26.2041 39.9032 27.3898 38.7236 27.5757C37.8613 27.7122 34.9937 27.5781 32.081 28.109C31.0097 28.3044 27.8673 29.2076 26.9273 29.3766C23.4319 30.0045 22.3638 30.8975 19.2595 29.6868L18.3591 28.1038L18.3558 26.0732C17.2416 25.3719 14.5732 26.1862 12.9267 26.7068C11.2797 27.2274 10.0615 28.165 8.50492 28.8636C7.30839 24.9115 8.05258 26.7068 5.60022 16.959C3.29754 7.80713 2.37825 9.02811 2.20786 4.90287C2.18056 4.24954 3.73624 3.54632 5.38793 2.99372C7.03916 2.44111 8.78688 2.03913 9.14273 1.98876C11.9519 1.5929 13.7151 1.68609 14.8458 2.55407C15.9764 3.42252 16.4744 5.06622 16.7521 7.77182Z",fill:"#93D673"}),(0,jsx_runtime.jsx)("path",{d:"M1.35076 0.68937C1.87466 0.584403 2.39147 0.891305 2.50539 1.37566L13.5726 48.4554C13.6865 48.9397 13.3537 49.4175 12.8303 49.5225C12.3064 49.6279 11.7891 49.3205 11.6752 48.8362L0.607991 1.75693C0.494551 1.27257 0.826869 0.794807 1.35076 0.68937Z",fill:"#415F32"}),(0,jsx_runtime.jsx)("path",{d:"M2.97627 4.40975L5.71153 15.4976L8.94621 28.6797C9.52517 28.3295 8.94716 28.683 8.94716 28.683C8.94716 28.683 10.3235 28.4542 10.2124 27.7952L9.51247 25.1861C8.99705 22.1275 8.45903 17.9326 7.71249 13.7061C7.01774 9.77059 5.04644 6.5199 4.05937 3.62319L4.02312 3.51635C3.41544 3.77194 4.39122 3.63497 4.02266 3.51494C3.6541 3.39491 2.8233 3.77759 2.97627 4.40975Z",fill:"#71AA55"}),(0,jsx_runtime.jsx)("path",{d:"M20.1779 28.5886L20.0579 25.2603L18.5931 17.0036C18.0649 13.1425 17.5302 9.28176 16.9677 5.42482C16.8793 4.8162 16.3191 3.2323 15.7778 2.83314C15.237 2.43398 14.0447 2.19911 13.6601 1.94116C13.7886 2.51448 13.4332 2.73007 13.5627 3.39894C13.6601 3.90306 14.7488 4.29844 15.0807 4.76962C15.2911 5.06804 13.9816 5.85834 14.4782 6.63218C14.6015 6.82375 16.0301 7.31565 15.7025 8.01087C15.574 8.28388 15.4262 8.91134 15.3052 9.58444C15.1584 10.4011 16.0616 10.564 16.0757 10.9641C16.0913 11.4169 15.525 12.4313 15.5071 12.9086C15.4897 13.3755 16.0546 14.178 16.0517 14.6285C16.0499 14.9585 15.1659 15.2032 15.1503 16.1446C15.1428 16.6073 16.7121 17.1199 16.9254 17.7785C17.1461 18.4605 16.0155 19.2941 16.2979 20.0345C16.4594 20.4591 17.4874 20.7119 17.7147 21.1605C18.0715 21.8646 17.1518 23.2094 17.3405 24.0021C17.3998 24.2501 18.3412 23.9861 18.4697 24.2205C18.6481 24.5453 17.7764 25.9545 18.1407 25.9922C20.2537 26.2125 20.0334 27.4839 20.1779 28.5886Z",fill:"#71AA55"}),(0,jsx_runtime.jsx)("path",{d:"M17.0072 7.96846C16.9611 9.59616 17.7438 11.6696 17.9359 13.2836C18.4631 17.7092 19.0133 22.0731 19.6257 26.4958C19.6761 26.8582 19.9237 27.6071 19.79 28.2445C19.6125 29.0903 18.6457 29.6514 19.1729 29.8976C20.0988 30.3306 26.1713 30.8404 26.5672 29.0607C26.7917 28.051 26.1694 27.6241 25.8315 26.6286C25.2939 25.0451 25.1969 23.1599 25.028 21.5233C24.6538 17.8937 26.5836 11.7953 24.2405 8.43351C23.7133 7.67662 22.9046 7.87526 20.2324 7.78253C18.7577 7.73122 17.7758 7.71286 17.3296 7.66626C16.9818 7.62954 17.0218 7.46622 17.0072 7.96846Z",fill:"#71AA55"}),(0,jsx_runtime.jsx)("path",{d:"M18.6698 8.043L24.8812 29.7001C24.9697 30.0004 24.0744 30.5384 23.7619 30.5196L22.8765 30.5676C22.3516 30.5958 21.5011 30.5977 20.9762 30.5713L20.4509 30.5445C20.1384 30.5262 19.2968 30.2188 19.1461 29.8173C18.996 29.4158 19.8946 28.9531 19.9991 27.9608C20.0993 27.0076 19.4723 27.3837 19.6479 26.4306C19.6479 26.4306 19.7557 27.2934 19.6517 26.423C19.5477 25.5527 19.9576 25.2999 19.888 24.8434L17.3151 8.01757C17.2713 7.70785 17.5434 7.95311 17.8559 7.96629L17.928 7.9691C18.2405 7.98228 18.5813 7.74269 18.6698 8.043Z",fill:"#629948"})]})}try{Flag_Flag.displayName="Flag",Flag_Flag.__docgenInfo={description:"",displayName:"Flag",props:{engaged:{defaultValue:null,description:"",name:"engaged",required:!1,type:{name:"boolean"}},animated:{defaultValue:null,description:"",name:"animated",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/button/icons/Flag.tsx#Flag"]={docgenInfo:Flag_Flag.__docgenInfo,name:"Flag",path:"frontend/src/toolbar/button/icons/Flag.tsx#Flag"})}catch(__react_docgen_typescript_loader_error){}var Fire=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/button/icons/Fire.scss"),Fire_default=__webpack_require__.n(Fire),Fire_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Fire_default(),Fire_options),Fire_default().locals;const fireColors={engaged:["#FB4F0E","#FE6D37","#FCB811"],disengaged:["#FF9770","#FF6E37","#FB4F0D"]};function Fire_Fire(_ref){let{engaged:engaged=!1,animated:animated=!1,...props}=_ref;const colors=fireColors[engaged?"engaged":"disengaged"];return(0,jsx_runtime.jsxs)("svg",{className:"posthog-toolbar-icon-fire"+(animated?" animated":""),width:"24",height:"33",viewBox:"0 0 24 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",...props,children:[(0,jsx_runtime.jsx)("path",{d:"M23.8644 21.1755C23.8644 19.5827 23.3857 15.5878 22.7865 14.2077C22.1873 12.8271 18.9808 6.52866 19.0689 8.0222C19.1315 9.08411 17.1635 11.0837 17.1635 11.0837C17.1635 11.0837 15.7438 6.80167 13.4458 4.08618C10.6969 0.836918 5.96685 0.522954 6.08593 1.17394C6.21632 1.88564 6.99109 2.56957 7.29046 3.73221C7.59124 4.9019 7.4152 6.55078 7.13561 7.30391C6.32317 9.49032 4.71995 11.9728 3.64815 13.0168C2.57683 14.0608 1.7098 15.304 1.1106 16.6845C0.510924 18.0646 0.17955 19.5827 0.17955 21.1755C0.17955 22.7689 0.510924 24.2864 1.1106 25.667C1.7098 27.0475 2.57683 28.2907 3.64815 29.3347C4.71995 30.3787 5.99555 31.2232 7.41237 31.8073C8.82919 32.391 10.3872 32.7139 12.022 32.7139C13.6572 32.7139 15.2147 32.391 16.6316 31.8073C18.0484 31.2232 19.3245 30.3787 20.3958 29.3347C21.4676 28.2907 22.3346 27.0475 22.9338 25.667C23.533 24.2864 23.8644 22.7689 23.8644 21.1755Z",fill:colors[0]}),(0,jsx_runtime.jsx)("path",{d:"M18.8307 14.8311C17.9557 16.0018 17.5692 17.6139 16.1392 19.5113C15.3494 13.105 11.3127 9.44815 10.4645 8.366C9.61577 7.28339 10.1133 9.27258 9.2651 11.2034C8.2705 16.2352 -0.679909 21.1418 4.77648 29.0275C8.67626 34.6628 17.7688 33.8786 20.5064 27.5406C22.5418 22.8274 21.0369 18.8923 18.8307 14.8311Z",fill:colors[1]}),(0,jsx_runtime.jsx)("path",{d:"M18.6336 21.046C18.315 21.4724 16.7165 23.4842 16.4364 24.0575C16.1559 24.6304 15.4865 25.0611 14.4015 26.4445C13.8861 25.4678 13.5336 23.9761 13.4291 23.4127C13.0897 21.5774 13.0808 21.1528 12.5027 18.9843C11.8518 16.5428 11.1245 16.314 10.9485 15.0073C10.7936 13.8569 10.5757 14.7781 10.5117 15.2177C10.4476 15.6569 9.17626 18.3898 8.86748 19.093C7.72791 20.9918 7.90161 20.7165 6.67778 22.7862C5.45442 24.8559 4.81803 27.1854 6.80534 30.0576C8.22545 32.1099 10.5917 32.9934 12.852 32.7867C15.1118 32.5796 16.5244 31.9541 17.5214 29.6457C18.2627 27.9291 18.3079 26.9058 18.6336 25.5492C19.0135 23.9662 18.7692 22.2397 18.6336 21.046Z",fill:colors[2]})]})}try{Fire_Fire.displayName="Fire",Fire_Fire.__docgenInfo={description:"",displayName:"Fire",props:{engaged:{defaultValue:{value:"false"},description:"",name:"engaged",required:!1,type:{name:"boolean"}},animated:{defaultValue:{value:"false"},description:"",name:"animated",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/button/icons/Fire.tsx#Fire"]={docgenInfo:Fire_Fire.__docgenInfo,name:"Fire",path:"frontend/src/toolbar/button/icons/Fire.tsx#Fire"})}catch(__react_docgen_typescript_loader_error){}function Magnifier(_ref){let{engaged:engaged=!1,...props}=_ref;return(0,jsx_runtime.jsxs)("svg",{width:"34",height:"42",viewBox:"0 0 34 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",...props,children:[(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3967 8.30682C6.42789 8.30682 0.775696 13.8249 0.775696 20.6185C0.775696 27.4122 6.42789 32.9156 13.3967 32.9156C15.4951 32.9156 17.4508 32.3725 19.192 31.4889L28.4785 40.5424C29.5074 41.546 31.1991 41.5704 32.2568 40.597L32.2954 40.5617C33.3531 39.5883 33.3738 37.9884 32.342 36.9882L27.9588 32.7391L23.296 28.1498C24.9717 26.0617 26.0172 23.4752 26.0172 20.6185C26.0172 13.8249 20.3649 8.30682 13.3967 8.30682Z",fill:engaged?"#5362FD":"#8F98FF"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.21771 20.6248C4.21771 15.5723 8.26811 11.4767 13.2642 11.4767C18.2607 11.4767 22.3106 15.5723 22.3106 20.6248C22.3106 25.6769 18.2607 29.7725 13.2642 29.7725C8.26811 29.7725 4.21771 25.6769 4.21771 20.6248Z",fill:"#CED2FF"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8274 12.8533C10.9517 13.1192 10.5266 14.3205 9.87801 15.5363L7.61345 19.782C6.96482 20.9974 6.33832 21.7675 6.21405 21.501C6.08979 21.2351 6.51483 20.0339 7.16346 18.818L9.42849 14.5723C10.0767 13.3565 10.7032 12.5869 10.8274 12.8533Z",fill:"white"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9173 12.7576C13.0237 12.9868 12.6599 14.0215 12.104 15.0688L10.1637 18.7257C9.60829 19.7725 9.07169 20.4352 8.96531 20.206C8.85893 19.9768 9.22278 18.9422 9.77821 17.8953L11.7189 14.2384C12.2743 13.1916 12.811 12.5284 12.9173 12.7576Z",fill:"white"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5633 13.3028C14.7276 13.4436 14.6335 14.0122 14.3534 14.5728L13.3739 16.5314C13.0938 17.092 12.7332 17.4323 12.5689 17.292C12.4047 17.1513 12.4988 16.5827 12.7789 16.0221L13.7584 14.0635C14.0385 13.5029 14.399 13.1626 14.5633 13.3028Z",fill:"white"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9336 15.519C14.9336 15.2159 15.1633 14.9702 15.4462 14.9702C15.7295 14.9702 15.9592 15.2159 15.9592 15.519C15.9592 15.8222 15.7295 16.0679 15.4462 16.0679C15.1633 16.0679 14.9336 15.8222 14.9336 15.519Z",fill:"white"}),engaged?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1687 0.510796H11.6907C12.0969 0.510796 12.4269 0.875119 12.4269 1.32417V4.65017C12.4269 5.09969 12.0969 5.46354 11.6907 5.46354H11.1687C10.762 5.46354 10.4325 5.09969 10.4325 4.65017V1.32417C10.4325 0.875119 10.762 0.510796 11.1687 0.510796Z",fill:"#CED2FF"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3405 0.765771L16.8531 0.865088C17.2523 0.942284 17.5064 1.36215 17.4212 1.8032L16.7905 5.06894C16.7053 5.50999 16.3123 5.80465 15.9136 5.72745L15.4005 5.6286C15.0013 5.55141 14.7472 5.13154 14.8324 4.69049L15.4636 1.42475C15.5488 0.983704 15.9413 0.688575 16.3405 0.765771Z",fill:"#CED2FF"}),(0,jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.589 2.27077L22.0696 2.47505C22.4438 2.63415 22.6048 3.09826 22.4292 3.51153L21.1277 6.57252C20.9521 6.9858 20.5064 7.19196 20.1322 7.03287L19.6516 6.82859C19.2778 6.66996 19.1169 6.20584 19.2924 5.79257L20.5939 2.73158C20.7695 2.3183 21.2153 2.11167 21.589 2.27077Z",fill:"#CED2FF"})]}):null]})}try{Magnifier.displayName="Magnifier",Magnifier.__docgenInfo={description:"",displayName:"Magnifier",props:{engaged:{defaultValue:{value:"false"},description:"",name:"engaged",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/button/icons/Magnifier.tsx#Magnifier"]={docgenInfo:Magnifier.__docgenInfo,name:"Magnifier",path:"frontend/src/toolbar/button/icons/Magnifier.tsx#Magnifier"})}catch(__react_docgen_typescript_loader_error){}function Close(props){return(0,jsx_runtime.jsx)("svg",{width:"79",height:"79",viewBox:"0 0 79 79",fill:"none",xmlns:"http://www.w3.org/2000/svg",...props,children:(0,jsx_runtime.jsx)("path",{d:"M1.24867 10.525L30.0975 38.6565L0.99292 68.7213L10.4176 78.272L40.3023 48.3034L69.4361 77.7602L78.261 68.9394L48.6951 38.8956L77.7828 9.0947L69.2013 0.27417L39.3963 29.3575L9.59561 1.70445L1.24867 10.525Z",fill:"white"})})}try{Close.displayName="Close",Close.__docgenInfo={description:"",displayName:"Close",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/button/icons/Close.tsx#Close"]={docgenInfo:Close.__docgenInfo,name:"Close",path:"frontend/src/toolbar/button/icons/Close.tsx#Close"})}catch(__react_docgen_typescript_loader_error){}var QuestionOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/QuestionOutlined.js"),AimOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/AimOutlined.js"),Tooltip=__webpack_require__("./frontend/src/lib/lemon-ui/Tooltip.tsx");const HELP_URL="https://posthog.com/docs/user-guides/toolbar?utm_medium=in-product&utm_campaign=toolbar-help-button";function ToolbarButton_ToolbarButton(){const{extensionPercentage:extensionPercentage,heatmapInfoVisible:heatmapInfoVisible,toolbarListVerticalPadding:toolbarListVerticalPadding,helpButtonOnTop:helpButtonOnTop,side:side,closeDistance:closeDistance,closeRotation:closeRotation,hedgehogModeDistance:hedgehogModeDistance,hedgehogModeRotation:hedgehogModeRotation,inspectExtensionPercentage:inspectExtensionPercentage,heatmapExtensionPercentage:heatmapExtensionPercentage,actionsExtensionPercentage:actionsExtensionPercentage,actionsInfoVisible:actionsInfoVisible,featureFlagsExtensionPercentage:featureFlagsExtensionPercentage,flagsVisible:flagsVisible,hedgehogMode:hedgehogMode}=(0,index_esm.useValues)(toolbarButtonLogic),{setExtensionPercentage:setExtensionPercentage,showHeatmapInfo:showHeatmapInfo,hideHeatmapInfo:hideHeatmapInfo,showActionsInfo:showActionsInfo,hideActionsInfo:hideActionsInfo,showFlags:showFlags,hideFlags:hideFlags,setHedgehogMode:setHedgehogMode}=(0,index_esm.useActions)(toolbarButtonLogic),{buttonActionsVisible:buttonActionsVisible,showActionsTooltip:showActionsTooltip}=(0,index_esm.useValues)(actionsTabLogic),{hideButtonActions:hideButtonActions,showButtonActions:showButtonActions}=(0,index_esm.useActions)(actionsTabLogic),{actionCount:actionCount,allActionsLoading:allActionsLoading}=(0,index_esm.useValues)(actionsLogic),{enableInspect:enableInspect,disableInspect:disableInspect}=(0,index_esm.useActions)(elementsLogic),{inspectEnabled:inspectEnabled,selectedElement:selectedElement}=(0,index_esm.useValues)(elementsLogic),{enableHeatmap:enableHeatmap,disableHeatmap:disableHeatmap}=(0,index_esm.useActions)(heatmapLogic),{heatmapEnabled:heatmapEnabled,heatmapLoading:heatmapLoading,elementCount:elementCount,showHeatmapTooltip:showHeatmapTooltip}=(0,index_esm.useValues)(heatmapLogic),{isAuthenticated:isAuthenticated}=(0,index_esm.useValues)(toolbarLogic),{authenticate:authenticate,logout:logout}=(0,index_esm.useActions)(toolbarLogic),globalMouseMove=(0,react.useRef)((e=>{}));(0,react.useEffect)((()=>(globalMouseMove.current=function(e){const buttonDiv=getShadowRoot()?.getElementById("button-toolbar");if(buttonDiv){const rect=buttonDiv.getBoundingClientRect(),x=rect.left+rect.width/2,y=rect.top+rect.height/2;Math.sqrt((e.clientX-x)*(e.clientX-x)+(e.clientY-y)*(e.clientY-y))>=(isAuthenticated?300:100)&&0!==toolbarButtonLogic.values.extensionPercentage&&setExtensionPercentage(0)}},window.addEventListener("mousemove",globalMouseMove.current),()=>window.removeEventListener("mousemove",globalMouseMove.current))),[isAuthenticated]);const clickEvents=useLongPress((clicked=>{clicked&&(isAuthenticated?setExtensionPercentage(1===extensionPercentage?0:1):authenticate())}),{ms:void 0,clickMs:1,touch:!0,click:!0});let n=0;return(0,jsx_runtime.jsxs)(Circle,{rootNode:!0,width:62,className:"floating-toolbar-button",content:hedgehogMode?void 0:(0,jsx_runtime.jsx)("div",{style:{width:45,display:"flex"},children:(0,jsx_runtime.jsx)(Logomark,{})}),...clickEvents,onMouseOver:isAuthenticated?void 0:()=>setExtensionPercentage(1),style:{borderRadius:10,height:46,marginTop:-23,pointerEvents:hedgehogMode?"none":void 0,display:hedgehogMode?"none":"flex",cursor:"pointer"},zIndex:3,children:[(0,jsx_runtime.jsx)(Circle,{width:26,extensionPercentage:extensionPercentage,distance:closeDistance,rotation:closeRotation,content:(0,jsx_runtime.jsx)(Close,{style:{width:14,height:14}}),zIndex:extensionPercentage>.95?5:2,onClick:logout,style:{cursor:"pointer",background:"#393939",borderRadius:6,color:"white",transform:`scale(${.2+.8*extensionPercentage})`}}),(0,jsx_runtime.jsx)(Circle,{width:26,extensionPercentage:extensionPercentage,distance:hedgehogModeDistance,rotation:hedgehogModeRotation,content:"🦔",zIndex:extensionPercentage>.95?5:2,onClick:()=>setHedgehogMode(!hedgehogMode),style:{cursor:"pointer",background:"#FFF",borderRadius:6,color:"white",transform:`scale(${.2+.8*extensionPercentage})`}}),isAuthenticated?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Circle,{width:32,extensionPercentage:extensionPercentage,distance:helpButtonOnTop?75:55,rotation:helpButtonOnTop?"left"===side?265:-95:90,content:(0,jsx_runtime.jsx)(QuestionOutlined.Z,{style:{fontSize:22}}),label:"Help",zIndex:2,onClick:()=>window.open(HELP_URL,"_blank")?.focus(),labelStyle:{opacity:extensionPercentage>.8?(extensionPercentage-.8)/.2:0},style:{cursor:"pointer",background:"#777",color:"white",borderRadius:10,transform:`scale(${.2+.8*extensionPercentage})`}}),(0,jsx_runtime.jsx)(Circle,{width:42,x:"left"===side?80:-80,y:toolbarListVerticalPadding+60*n++,extensionPercentage:inspectExtensionPercentage,rotationFixer:r=>"right"===side&&r<0?360:0,label:"Inspect",labelPosition:"left"===side?"right":"left",labelStyle:{opacity:inspectExtensionPercentage>.8?(inspectExtensionPercentage-.8)/.2:0},content:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(Magnifier,{style:{height:34,paddingTop:2},engaged:inspectEnabled}),inspectEnabled&&selectedElement?(0,jsx_runtime.jsx)("div",{className:"absolute top-2 left-2.5 text-white text-xs",children:(0,jsx_runtime.jsx)(Close,{style:{width:10,height:10}})}):null]}),zIndex:1,onClick:inspectEnabled?disableInspect:enableInspect,style:{cursor:"pointer",background:inspectEnabled?"#8F98FF":"#E7EAFD",transition:"transform 0.2s, color 0.2s, background: 0.2s",transform:`scale(${.2+.8*inspectExtensionPercentage})`,borderRadius:14}}),(0,jsx_runtime.jsx)(Circle,{width:42,x:"left"===side?80:-80,y:toolbarListVerticalPadding+60*n++,extensionPercentage:heatmapExtensionPercentage,rotationFixer:r=>"right"===side&&r<0?360:0,label:heatmapEnabled&&!heatmapLoading?null:"Heatmap",labelPosition:"left"===side?"right":"left",labelStyle:{opacity:heatmapEnabled&&!heatmapLoading?0:heatmapExtensionPercentage>.8?(heatmapExtensionPercentage-.8)/.2:0},content:(0,jsx_runtime.jsx)(Fire_Fire,{style:{height:26},engaged:heatmapEnabled,animated:heatmapLoading}),zIndex:2,onClick:heatmapEnabled?disableHeatmap:enableHeatmap,style:{cursor:"pointer",background:heatmapEnabled?"#FF9870":"#FEE3DA",transform:`scale(${.2+.8*heatmapExtensionPercentage})`,borderRadius:14},children:heatmapEnabled&&!heatmapLoading?(0,jsx_runtime.jsx)(Circle,{width:26,x:("left"===side?50:-50)*heatmapExtensionPercentage*heatmapExtensionPercentage,y:0,content:(0,jsx_runtime.jsx)(Tooltip.u,{visible:showHeatmapTooltip,title:"Click for details",placement:"left"===side?"right":"left",getPopupContainer:getShadowRootPopoverContainer,children:(0,jsx_runtime.jsx)("div",{className:"whitespace-nowrap text-center",children:elementCount})}),zIndex:4,onClick:heatmapInfoVisible?hideHeatmapInfo:showHeatmapInfo,style:{cursor:"pointer",background:heatmapInfoVisible?"hsla(17, 100%, 47%, 1)":"hsla(17, 84%, 95%, 1)",color:heatmapInfoVisible?"#FFEB3B":"hsl(17, 64%, 32%)",width:"auto",minWidth:26,fontSize:"20px",lineHeight:"26px",padding:"0 4px",transform:`scale(${.2+.8*heatmapExtensionPercentage})`,borderRadius:7}}):null}),(0,jsx_runtime.jsx)(Circle,{width:42,x:"left"===side?80:-80,y:toolbarListVerticalPadding+60*n++,extensionPercentage:actionsExtensionPercentage,rotationFixer:r=>"right"===side&&r<0?360:0,label:buttonActionsVisible&&(!allActionsLoading||actionCount>0)?null:"Actions",labelPosition:"left"===side?"right":"left",labelStyle:{opacity:actionsExtensionPercentage>.8?(actionsExtensionPercentage-.8)/.2:0},content:(0,jsx_runtime.jsx)(AimOutlined.Z,{style:{fontSize:"28px",color:buttonActionsVisible?"#fef5e2":"#f1aa04"}}),zIndex:1,onClick:buttonActionsVisible?hideButtonActions:showButtonActions,style:{cursor:"pointer",transform:`scale(${.2+.8*actionsExtensionPercentage})`,background:buttonActionsVisible?"#f1aa04":"#fef5e2",borderRadius:14},children:buttonActionsVisible&&(!allActionsLoading||actionCount>0)?(0,jsx_runtime.jsx)(Circle,{width:26,x:("left"===side?50:-50)*actionsExtensionPercentage*actionsExtensionPercentage,y:0,content:(0,jsx_runtime.jsx)(Tooltip.u,{visible:showActionsTooltip,title:"Click for details",placement:"left"===side?"right":"left",getPopupContainer:getShadowRootPopoverContainer,children:(0,jsx_runtime.jsx)("div",{className:"whitespace-nowrap text-center",children:actionCount})}),zIndex:4,onClick:actionsInfoVisible?hideActionsInfo:showActionsInfo,style:{cursor:"pointer",background:actionsInfoVisible?"#f1aa04":"#fef5e2",color:actionsInfoVisible?"#fef5e2":"#f1aa04",width:"auto",minWidth:26,fontSize:"20px",lineHeight:"26px",padding:"0 4px",transform:`scale(${.2+.8*actionsExtensionPercentage})`,borderRadius:7}}):null}),(0,jsx_runtime.jsx)(Circle,{width:42,x:"left"===side?80:-80,y:toolbarListVerticalPadding+60*n++,extensionPercentage:featureFlagsExtensionPercentage,rotationFixer:r=>"right"===side&&r<0?360:0,label:"Feature Flags",labelPosition:"left"===side?"right":"left",labelStyle:{opacity:featureFlagsExtensionPercentage>.8?(featureFlagsExtensionPercentage-.8)/.2:0},content:(0,jsx_runtime.jsx)(Flag_Flag,{style:{height:29},engaged:flagsVisible}),zIndex:1,onClick:flagsVisible?hideFlags:showFlags,style:{cursor:"pointer",transform:`scale(${.2+.8*featureFlagsExtensionPercentage})`,background:flagsVisible?"#94D674":"#D6EBCC",borderRadius:14}})]}):null]})}var cjs=__webpack_require__("./node_modules/.pnpm/react-draggable@4.4.5_react-dom@16.14.0_react@16.14.0/node_modules/react-draggable/build/cjs/cjs.js"),cjs_default=__webpack_require__.n(cjs),DateFilter=__webpack_require__("./frontend/src/lib/components/DateFilter/DateFilter.tsx"),Spinner=__webpack_require__("./frontend/src/lib/lemon-ui/Spinner/Spinner.tsx"),LemonInput=__webpack_require__("./frontend/src/lib/lemon-ui/LemonInput/LemonInput.tsx"),LemonButton=__webpack_require__("./frontend/src/lib/lemon-ui/LemonButton/index.ts"),LemonSwitch=__webpack_require__("./frontend/src/lib/lemon-ui/LemonSwitch/LemonSwitch.tsx");function HeatmapStats(){var _heatmapFilter$date_f;const{matchLinksByHref:matchLinksByHref,countedElements:countedElements,clickCount:clickCount,heatmapEnabled:heatmapEnabled,heatmapLoading:heatmapLoading,heatmapFilter:heatmapFilter,canLoadMoreElementStats:canLoadMoreElementStats}=(0,index_esm.useValues)(heatmapLogic),{setHeatmapFilter:setHeatmapFilter,loadMoreElementStats:loadMoreElementStats,setMatchLinksByHref:setMatchLinksByHref}=(0,index_esm.useActions)(heatmapLogic),{setHighlightElement:setHighlightElement,setSelectedElement:setSelectedElement}=(0,index_esm.useActions)(elementsLogic),{wildcardHref:wildcardHref}=(0,index_esm.useValues)(currentPageLogic),{setWildcardHref:setWildcardHref}=(0,index_esm.useActions)(currentPageLogic);return(0,jsx_runtime.jsx)("div",{className:"m-4",children:heatmapEnabled?(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(LemonInput.D,{value:wildcardHref,onChange:setWildcardHref}),(0,jsx_runtime.jsx)("div",{className:"text-muted",children:"Use * as a wildcard"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(DateFilter.f,{dateFrom:null!==(_heatmapFilter$date_f=heatmapFilter.date_from)&&void 0!==_heatmapFilter$date_f?_heatmapFilter$date_f:"-7d",dateTo:heatmapFilter.date_to,onChange:(date_from,date_to)=>setHeatmapFilter({date_from:date_from,date_to:date_to}),getPopupContainer:getShadowRootPopoverContainer}),heatmapLoading?(0,jsx_runtime.jsx)(Spinner.$,{}):null]}),(0,jsx_runtime.jsxs)("div",{children:["Found: ",countedElements.length," elements / ",clickCount," clicks!"]}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(LemonButton.Jp,{icon:(0,jsx_runtime.jsx)(icons.JKM,{}),type:"secondary",status:"primary-alt",size:"small",onClick:loadMoreElementStats,disabledReason:canLoadMoreElementStats?void 0:"Loaded all elements in this data range.",getTooltipPopupContainer:getShadowRootPopoverContainer,children:"Load more"})}),(0,jsx_runtime.jsx)(Tooltip.u,{title:"Matching links by their target URL can exclude clicks from the heatmap if the URL is too unique.",getPopupContainer:getShadowRootPopoverContainer,children:(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(LemonSwitch.f,{checked:matchLinksByHref,label:"Match links by their target URL",onChange:checked=>setMatchLinksByHref(checked),fullWidth:!0,bordered:!0})})}),(0,jsx_runtime.jsx)("div",{className:"flex flex-col w-full",children:countedElements.map(((_ref,index)=>{let{element:element,count:count,actionStep:actionStep}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"p-2 flex flex-row justify-between cursor-pointer hover:bg-primary-highlight",onClick:()=>setSelectedElement(element),onMouseEnter:()=>setHighlightElement(element),onMouseLeave:()=>setHighlightElement(null),children:[(0,jsx_runtime.jsxs)("div",{children:[index+1,". ",actionStep?.text||(actionStep?.tag_name?(0,jsx_runtime.jsxs)("code",{children:["<",actionStep.tag_name,">"]}):(0,jsx_runtime.jsx)("em",{children:"Element"}))]}),(0,jsx_runtime.jsxs)("div",{children:[count," clicks"]})]},index)}))})]}):null})}var ActionsTab=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/actions/ActionsTab.scss"),ActionsTab_default=__webpack_require__.n(ActionsTab),ActionsTab_options={insert:"head",singleton:!1},input=(injectStylesIntoStyleTag_default()(ActionsTab_default(),ActionsTab_options),ActionsTab_default().locals,__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/input/index.js")),row=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/row/index.js"),es_button=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/button/index.js"),PlusOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/PlusOutlined.js");function ActionsList(){const{allActions:allActions,sortedActions:sortedActions,allActionsLoading:allActionsLoading,searchTerm:searchTerm}=(0,index_esm.useValues)(actionsLogic),{setSearchTerm:setSearchTerm}=(0,index_esm.useActions)(actionsLogic),{newAction:newAction}=(0,index_esm.useActions)(actionsTabLogic);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(input.Z.Search,{allowClear:!0,autoFocus:!0,placeholder:"Search",value:searchTerm,style:{paddingBottom:"4px"},onChange:e=>setSearchTerm(e.target.value)}),(0,jsx_runtime.jsxs)("div",{className:"actions-list",children:[(0,jsx_runtime.jsx)(row.Z,{className:"actions-list-header",children:(0,jsx_runtime.jsxs)(es_button.Z,{type:"primary",size:"small",onClick:()=>newAction(),style:{float:"right"},children:[(0,jsx_runtime.jsx)(PlusOutlined.Z,{})," New action"]})}),0===allActions.length&&allActionsLoading?(0,jsx_runtime.jsx)("div",{className:"text-center my-4",children:(0,jsx_runtime.jsx)(Spinner.$,{})}):(0,jsx_runtime.jsx)(ActionsListView,{actions:sortedActions})]})]})}var es_form=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/form/index.js"),es_checkbox=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/checkbox/index.js");function SelectorCount(_ref){let{selector:selector}=_ref;const[matches,selectorError]=(0,react.useMemo)((()=>{let _selectorError=!1,_matches=0;if(selector)try{_matches=(0,querySelectorDeep.Jp)(selector).length}catch{_selectorError=!0}return[_matches,_selectorError]}),[selector]);return(0,jsx_runtime.jsx)("small",{className:`float-right ${selectorError&&"text-danger"}`,children:selectorError?"Invalid selector":`Matches ${matches} element${1===matches?"":"s"}`})}try{SelectorCount.displayName="SelectorCount",SelectorCount.__docgenInfo={description:"",displayName:"SelectorCount",props:{selector:{defaultValue:null,description:"",name:"selector",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/actions/SelectorCount.tsx#SelectorCount"]={docgenInfo:SelectorCount.__docgenInfo,name:"SelectorCount",path:"frontend/src/toolbar/actions/SelectorCount.tsx#SelectorCount"})}catch(__react_docgen_typescript_loader_error){}var es_radio=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/radio/index.js");function StringMatchingToggle(_ref){let{value:value,onChange:onChange,style:style}=_ref;return(0,jsx_runtime.jsxs)(es_radio.ZP.Group,{size:"small",buttonStyle:"solid",style:style,value:value,onChange:e=>onChange&&onChange(e.target.value),children:[(0,jsx_runtime.jsx)(es_radio.ZP.Button,{value:types.E_.Exact,children:"Exact match"}),(0,jsx_runtime.jsx)(es_radio.ZP.Button,{value:types.E_.Regex,children:"Regex"}),(0,jsx_runtime.jsx)(es_radio.ZP.Button,{value:types.E_.Contains,children:"Contains"})]})}try{StringMatchingToggle.displayName="StringMatchingToggle",StringMatchingToggle.__docgenInfo={description:"",displayName:"StringMatchingToggle",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"enum",value:[{value:'"contains"'},{value:'"regex"'},{value:'"exact"'}]}},style:{defaultValue:null,description:"",name:"style",required:!0,type:{name:"Record<string, any>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((urlMatching: StringMatching) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/actions/StringMatchingToggle.tsx#StringMatchingToggle"]={docgenInfo:StringMatchingToggle.__docgenInfo,name:"StringMatchingToggle",path:"frontend/src/toolbar/actions/StringMatchingToggle.tsx#StringMatchingToggle"})}catch(__react_docgen_typescript_loader_error){}var hints=__webpack_require__("./frontend/src/scenes/actions/hints.tsx");function StepField(_ref){let{field:field,step:step,item:item,label:label,caption:caption}=_ref;const selected=step&&step[`${item}_selected`],fieldStyle=selected?{}:{opacity:.5};return(0,jsx_runtime.jsxs)("div",{className:selected?"action-field action-field-selected":"action-field",children:[(0,jsx_runtime.jsxs)(es_form.Z.Item,{style:{margin:0},children:["href"===item&&step?.href&&(0,jsx_runtime.jsx)(SelectorCount,{selector:`a[href="${(0,cssEscape.Q)(step.href)}"]`}),"selector"===item&&step?.selector&&(0,jsx_runtime.jsx)(SelectorCount,{selector:step.selector}),(0,jsx_runtime.jsx)(es_form.Z.Item,{name:[field.name,`${item}_selected`],fieldKey:[field.fieldKey,`${item}_selected`],valuePropName:"checked",noStyle:!0,children:(0,jsx_runtime.jsx)(es_checkbox.Z,{children:label})}),caption&&(0,jsx_runtime.jsx)("div",{className:"action-field-caption",children:caption})]}),["url","href","text"].includes(item)?(0,jsx_runtime.jsx)(es_form.Z.Item,{name:[field.name,`${item}_matching`],fieldKey:[field.fieldKey,`${item}_matching`],children:(0,jsx_runtime.jsx)(StringMatchingToggle,{style:fieldStyle})}):null,(0,jsx_runtime.jsx)(es_form.Z.Item,{name:[field.name,item],fieldKey:[field.fieldKey,item],children:"selector"===item?(0,jsx_runtime.jsx)(input.Z.TextArea,{onChange:e=>e.stopPropagation(),autoSize:!0,style:fieldStyle}):(0,jsx_runtime.jsx)(input.Z,{onChange:e=>e.stopPropagation(),style:fieldStyle})}),"url"===item&&step?.url_matching&&step.url_matching in hints.i?(0,jsx_runtime.jsx)("div",{className:"action-field-hint",children:hints.i[step.url_matching]}):null]})}try{StepField.displayName="StepField",StepField.__docgenInfo={description:"",displayName:"StepField",props:{item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"enum",value:[{value:'"href"'},{value:'"text"'},{value:'"url"'},{value:'"selector"'}]}},step:{defaultValue:null,description:"",name:"step",required:!0,type:{name:"ActionStepForm"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},caption:{defaultValue:null,description:"",name:"caption",required:!1,type:{name:"string | Element"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"{ name: number; fieldKey: number; key: number; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/actions/StepField.tsx#StepField"]={docgenInfo:StepField.__docgenInfo,name:"StepField",path:"frontend/src/toolbar/actions/StepField.tsx#StepField"})}catch(__react_docgen_typescript_loader_error){}var MinusCircleOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/MinusCircleOutlined.js"),PlusCircleOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js"),DeleteOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"),HTMLElementsDisplay=__webpack_require__("./frontend/src/lib/components/HTMLElementsDisplay/HTMLElementsDisplay.tsx"),LemonModal=__webpack_require__("./frontend/src/lib/lemon-ui/LemonModal/index.ts");const SelectorEditingModal=_ref=>{let{isOpen:isOpen,setIsOpen:setIsOpen,activeElementChain:activeElementChain,onChange:onChange,startingSelector:startingSelector}=_ref;const[chosenSelector,setChosenSelector]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(LemonModal.f,{forceAbovePopovers:!0,getPopupContainer:getShadowRootPopoverContainer,description:"Click on elements and their attributes to build a selector",footer:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"secondary",onClick:()=>setIsOpen(!1),children:"Cancel"}),(0,jsx_runtime.jsx)(LemonButton.Jp,{type:"primary",onClick:e=>{e.stopPropagation(),onChange?.(chosenSelector),setIsOpen(!1)},children:"Apply"})]}),onClose:()=>setIsOpen(!1),isOpen:isOpen,title:"Edit the selector",children:(0,jsx_runtime.jsx)(HTMLElementsDisplay.t,{editable:!0,highlight:!1,elements:activeElementChain,checkUniqueness:!0,onChange:setChosenSelector,startingSelector:null!=startingSelector?startingSelector:void 0})})};try{SelectorEditingModal.displayName="SelectorEditingModal",SelectorEditingModal.__docgenInfo={description:"",displayName:"SelectorEditingModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(open: boolean) => void"}},activeElementChain:{defaultValue:null,description:"",name:"activeElementChain",required:!0,type:{name:"ElementType[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((selector: string | null) => void)"}},startingSelector:{defaultValue:null,description:"",name:"startingSelector",required:!1,type:{name:"string | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/elements/SelectorEditingModal.tsx#SelectorEditingModal"]={docgenInfo:SelectorEditingModal.__docgenInfo,name:"SelectorEditingModal",path:"frontend/src/toolbar/elements/SelectorEditingModal.tsx#SelectorEditingModal"})}catch(__react_docgen_typescript_loader_error){}function EditAction(){const[form]=es_form.Z.useForm(),{initialValuesForForm:initialValuesForForm,selectedActionId:selectedActionId,inspectingElement:inspectingElement,editingFields:editingFields,editingSelector:editingSelector,elementsChainBeingEdited:elementsChainBeingEdited,editingSelectorValue:editingSelectorValue}=(0,index_esm.useValues)(actionsTabLogic),{selectAction:selectAction,inspectForElementWithIndex:inspectForElementWithIndex,setEditingFields:setEditingFields,setForm:setForm,saveAction:saveAction,deleteAction:deleteAction,setElementSelector:setElementSelector,editSelectorWithIndex:editSelectorWithIndex}=(0,index_esm.useActions)(actionsTabLogic),{getFieldValue:getFieldValue}=form;return(0,react.useEffect)((()=>{setForm(form)}),[form]),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(SelectorEditingModal,{isOpen:null!==editingSelector,setIsOpen:()=>editSelectorWithIndex(null),activeElementChain:elementsChainBeingEdited,startingSelector:editingSelectorValue,onChange:selector=>{selector&&null!==editingSelector&&(posthog.capture("toolbar_manual_selector_applied",{chosenSelector:selector}),setElementSelector(selector,editingSelector))}}),(0,jsx_runtime.jsxs)(es_button.Z,{type:"default",size:"small",onClick:()=>selectAction(null),style:{float:"right"},children:["Cancel ",(0,jsx_runtime.jsx)(CloseOutlined.Z,{})]}),(0,jsx_runtime.jsxs)("h1",{className:"section-title pt-1",children:["new"===selectedActionId?"New ":"Edit ","action"]}),(0,jsx_runtime.jsxs)(es_form.Z,{name:"action_step",form:form,initialValues:initialValuesForForm,onFinish:saveAction,fields:editingFields||void 0,onChange:e=>{e.stopPropagation()},onFieldsChange:(_,allFields)=>{setEditingFields(allFields)},children:[(0,jsx_runtime.jsx)("p",{children:"What did your user do?"}),(0,jsx_runtime.jsx)(es_form.Z.Item,{name:"name",className:"action-title-field",rules:[{required:!0,message:"Please enter a name for this action!"}],children:(0,jsx_runtime.jsx)(input.Z,{onChange:e=>e.stopPropagation(),placeholder:"E.g: Clicked Sign Up"})}),(0,jsx_runtime.jsx)(es_form.Z.List,{name:"steps",children:(fields,_ref)=>{let{add:add,remove:remove}=_ref;return(0,jsx_runtime.jsxs)("div",{children:[fields.map(((field,index)=>{const step=getFieldValue&&getFieldValue("steps")[index];return(0,jsx_runtime.jsxs)("div",{className:"action-section highlight",children:[(0,jsx_runtime.jsxs)(es_button.Z,{type:"link",size:"small",onClick:()=>remove(field.name),style:{float:"right",padding:0,marginTop:-5,color:"hsl(219, 15%, 49%)"},children:["Remove ",(0,jsx_runtime.jsx)(MinusCircleOutlined.Z,{})]}),(0,jsx_runtime.jsxs)("h1",{className:"section-title",children:[index>0?"OR ":null,"Element #",index+1]}),(0,jsx_runtime.jsx)("div",{className:"action-inspect",children:(0,jsx_runtime.jsx)(LemonButton.Jp,{size:"small",type:inspectingElement===index?"primary":"secondary",onClick:e=>{e.stopPropagation(),inspectForElementWithIndex(inspectingElement===index?null:index)},icon:(0,jsx_runtime.jsx)(icons.j$p,{}),children:"$autocapture"===step?.event?"Change Element":"Select Element"})}),"$autocapture"===step?.event||inspectingElement===index?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StepField,{field:field,step:step,item:"selector",label:"Selector",caption:"CSS selector that uniquely identifies your element"}),(0,jsx_runtime.jsx)("div",{className:"flex flex-row justify-end mb-2",children:(0,jsx_runtime.jsx)(LemonButton.Jp,{size:"small",type:"secondary",icon:(0,jsx_runtime.jsx)(icons.yl5,{}),onClick:e=>{e.stopPropagation(),posthog.capture("toolbar_manual_selector_modal_opened",{selector:step?.selector}),editSelectorWithIndex(index)},getTooltipPopupContainer:getShadowRootPopoverContainer,children:"Edit the selector"})}),(0,jsx_runtime.jsx)(StepField,{field:field,step:step,item:"href",label:"Link target",caption:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["If your element is a link, the location that the link opens (",(0,jsx_runtime.jsx)("code",{children:"href"})," tag)"]})}),(0,jsx_runtime.jsx)(StepField,{field:field,step:step,item:"text",label:"Text",caption:"Text content inside your element"}),(0,jsx_runtime.jsx)(StepField,{field:field,step:step,item:"url",label:"Page URL",caption:"Elements will match only when triggered from the URL."})]}):null,index===fields.length-1?(0,jsx_runtime.jsx)("div",{className:"text-right mt-4",children:(0,jsx_runtime.jsxs)(es_button.Z,{size:"small",onClick:()=>add(),children:["Add Another Element ",(0,jsx_runtime.jsx)(PlusCircleOutlined.Z,{})]})}):null]},field.key)})),0===fields.length?(0,jsx_runtime.jsxs)(es_button.Z,{size:"small",type:"primary",onClick:()=>add(),children:[(0,jsx_runtime.jsx)(PlusCircleOutlined.Z,{})," Add An Element"]}):null]})}}),(0,jsx_runtime.jsxs)(es_form.Z.Item,{style:{marginTop:20,marginBottom:0},children:["new"!==selectedActionId?(0,jsx_runtime.jsx)(es_button.Z,{type:"link",onClick:deleteAction,danger:!0,style:{float:"right"},children:(0,jsx_runtime.jsx)(DeleteOutlined.Z,{})}):null,(0,jsx_runtime.jsxs)(es_button.Z,{type:"primary",htmlType:"submit",children:["new"===selectedActionId?"Create ":"Save ","action"]})]})]})]})}var ExportOutlined=__webpack_require__("./node_modules/.pnpm/@ant-design+icons@4.7.0_react-dom@16.14.0_react@16.14.0/node_modules/@ant-design/icons/es/icons/ExportOutlined.js");function ActionsTab_ActionsTab(){const{selectedAction:selectedAction}=(0,index_esm.useValues)(actionsTabLogic),{apiURL:apiURL}=(0,index_esm.useValues)(toolbarLogic);return(0,jsx_runtime.jsx)("div",{className:"toolbar-content",children:(0,jsx_runtime.jsx)("div",{className:"toolbar-block action-block-body",children:selectedAction?(0,jsx_runtime.jsx)(EditAction,{}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(ActionsList,{}),(0,jsx_runtime.jsx)("div",{className:"text-right",children:(0,jsx_runtime.jsxs)("a",{href:`${apiURL}${urls.j.actions()}`,target:"_blank",rel:"noopener noreferrer",children:["View & edit all actions ",(0,jsx_runtime.jsx)(ExportOutlined.Z,{})]})})]})})})}var Fade=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/Fade/Fade.scss"),Fade_default=__webpack_require__.n(Fade),Fade_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(Fade_default(),Fade_options),Fade_default().locals;function Fade_Fade_Fade(_ref){let{visible:visible,children:children,className:className,style:style={},...props}=_ref;const[shouldRender,setShouldRender]=(0,react.useState)(visible);(0,react.useEffect)((()=>{visible&&setShouldRender(!0)}),[visible]);return shouldRender?(0,jsx_runtime.jsx)("div",{className:"fade-component-container"+(className?` ${className}`:""),style:{animation:(visible?"fadeComponentFadeIn":"fadeComponentFadeOut")+" 0.3s",...style},onAnimationEnd:()=>{visible||setShouldRender(!1)},...props,children:children}):null}try{Fade_Fade_Fade.displayName="Fade",Fade_Fade_Fade.__docgenInfo={description:"",displayName:"Fade",props:{visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/Fade/Fade.tsx#Fade"]={docgenInfo:Fade_Fade_Fade.__docgenInfo,name:"Fade",path:"frontend/src/lib/components/Fade/Fade.tsx#Fade"})}catch(__react_docgen_typescript_loader_error){}function ButtonWindow(_ref){let{name:name,visible:visible,position:position,savePosition:savePosition,close:close,label:label,tagComponent:tagComponent,children:children}=_ref;return(0,jsx_runtime.jsx)(Fade_Fade_Fade,{visible:visible,children:(0,jsx_runtime.jsx)(cjs_default(),{handle:".toolbar-info-window-draggable",position:position,onDrag:(_,_ref2)=>{let{x:x,y:y}=_ref2;return savePosition(x,y)},onStop:(_,_ref3)=>{let{x:x,y:y}=_ref3;return savePosition(x,y)},children:(0,jsx_runtime.jsxs)("div",{className:`toolbar-info-windows ${name}-button-window`,children:[(0,jsx_runtime.jsxs)("div",{className:"toolbar-info-window-title",children:[(0,jsx_runtime.jsxs)("div",{className:"toolbar-info-window-draggable",children:[(0,jsx_runtime.jsx)("div",{className:"window-label",children:label}),tagComponent]}),(0,jsx_runtime.jsx)(CloseOutlined.Z,{className:"close-button",onClick:close})]}),children]})})})}try{ButtonWindow.displayName="ButtonWindow",ButtonWindow.__docgenInfo={description:"",displayName:"ButtonWindow",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"{ x: number; y: number; }"}},savePosition:{defaultValue:null,description:"",name:"savePosition",required:!0,type:{name:"(x: number, y: number) => void"}},close:{defaultValue:null,description:"",name:"close",required:!0,type:{name:"() => void"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string | Element"}},tagComponent:{defaultValue:null,description:"",name:"tagComponent",required:!1,type:{name:"Element | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/button/ButtonWindow.tsx#ButtonWindow"]={docgenInfo:ButtonWindow.__docgenInfo,name:"ButtonWindow",path:"frontend/src/toolbar/button/ButtonWindow.tsx#ButtonWindow"})}catch(__react_docgen_typescript_loader_error){}var featureFlags=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/flags/featureFlags.scss"),featureFlags_default=__webpack_require__.n(featureFlags),featureFlags_options={insert:"head",singleton:!1};injectStylesIntoStyleTag_default()(featureFlags_default(),featureFlags_options),featureFlags_default().locals;const featureFlagsLogic=(0,index_esm.kea)({path:["toolbar","flags","featureFlagsLogic"],actions:{getUserFlags:!0,setOverriddenUserFlag:(flagKey,overrideValue)=>({flagKey:flagKey,overrideValue:overrideValue}),deleteOverriddenUserFlag:flagKey=>({flagKey:flagKey}),setSearchTerm:searchTerm=>({searchTerm:searchTerm}),checkLocalOverrides:!0,storeLocalOverrides:localOverrides=>({localOverrides:localOverrides})},connect:()=>[toolbarLogic],listeners:_ref=>{let{actions:actions,values:values}=_ref;return{checkLocalOverrides:()=>{const{posthog:clientPostHog}=toolbarLogic.values;if(clientPostHog){const locallyOverrideFeatureFlags=clientPostHog.get_property("$override_feature_flags")||{};actions.storeLocalOverrides(locallyOverrideFeatureFlags)}},setOverriddenUserFlag:_ref2=>{let{flagKey:flagKey,overrideValue:overrideValue}=_ref2;const{posthog:clientPostHog}=toolbarLogic.values;clientPostHog&&(clientPostHog.featureFlags.override({...values.localOverrides,[flagKey]:overrideValue}),posthog.capture("toolbar feature flag overridden"),actions.checkLocalOverrides(),toolbarLogic.values.posthog?.featureFlags.reloadFeatureFlags())},deleteOverriddenUserFlag:async _ref3=>{let{flagKey:flagKey}=_ref3;const{posthog:clientPostHog}=toolbarLogic.values;if(clientPostHog){const updatedFlags={...values.localOverrides};delete updatedFlags[flagKey],Object.keys(updatedFlags).length>0?clientPostHog.featureFlags.override({...updatedFlags}):clientPostHog.featureFlags.override(!1),posthog.capture("toolbar feature flag override removed"),actions.checkLocalOverrides(),toolbarLogic.values.posthog?.featureFlags.reloadFeatureFlags()}}}},loaders:()=>({userFlags:[[],{getUserFlags:async(_,breakpoint)=>{const params={groups:getGroups(toolbarLogic.values.posthog)},response=await toolbarFetch(`/api/projects/@current/feature_flags/my_flags${(0,lib.encodeParams)(params,"?")}`);return response.status>=400?(toolbarLogic.actions.tokenExpired(),[]):(breakpoint(),response.ok?await response.json():[])}}]}),reducers:{localOverrides:[{},{storeLocalOverrides:(_,_ref4)=>{let{localOverrides:localOverrides}=_ref4;return localOverrides}}],searchTerm:["",{setSearchTerm:(_,_ref5)=>{let{searchTerm:searchTerm}=_ref5;return searchTerm}}]},selectors:{userFlagsWithOverrideInfo:[s=>[s.userFlags,s.localOverrides],(userFlags,localOverrides)=>userFlags.map((flag=>{const hasVariants=(flag.feature_flag.filters?.multivariate?.variants?.length||0)>0,currentValue=flag.feature_flag.key in localOverrides?localOverrides[flag.feature_flag.key]:flag.value;return{...flag,hasVariants:hasVariants,currentValue:currentValue,hasOverride:flag.feature_flag.key in localOverrides}}))],filteredFlags:[s=>[s.searchTerm,s.userFlagsWithOverrideInfo],(searchTerm,userFlagsWithOverrideInfo)=>searchTerm?new fuse_esm.Z(userFlagsWithOverrideInfo,{threshold:.3,keys:["feature_flag.key","feature_flag.name"]}).search(searchTerm).map((_ref6=>{let{item:item}=_ref6;return item})):userFlagsWithOverrideInfo],countFlagsOverridden:[s=>[s.localOverrides],localOverrides=>Object.keys(localOverrides).length]},events:_ref7=>{let{actions:actions}=_ref7;return{afterMount:async()=>{await actions.getUserFlags(),actions.checkLocalOverrides()}}}});function getGroups(posthogInstance){try{return posthogInstance?.getGroups()||{}}catch{return{}}}var es_switch=__webpack_require__("./node_modules/.pnpm/antd@4.17.1_react-dom@16.14.0_react@16.14.0/node_modules/antd/es/switch/index.js"),AnimatedCollapsible=__webpack_require__("./frontend/src/lib/components/AnimatedCollapsible.tsx");function FeatureFlags(){const{searchTerm:searchTerm,filteredFlags:filteredFlags}=(0,index_esm.useValues)(featureFlagsLogic),{setOverriddenUserFlag:setOverriddenUserFlag,deleteOverriddenUserFlag:deleteOverriddenUserFlag,setSearchTerm:setSearchTerm}=(0,index_esm.useActions)(featureFlagsLogic),{apiURL:apiURL}=(0,index_esm.useValues)(toolbarLogic);return(0,jsx_runtime.jsxs)("div",{className:"toolbar-block",children:[(0,jsx_runtime.jsx)("div",{className:"local-feature-flag-override-note",children:"Note, overriding feature flags below will only affect this browser."}),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(input.Z.Search,{allowClear:!0,autoFocus:!0,placeholder:"Search",value:searchTerm,className:"feature-flag-row",onChange:e=>setSearchTerm(e.target.value)}),(0,jsx_runtime.jsx)(list.ZP,{dataSource:filteredFlags,renderItem:_ref=>{let{feature_flag:feature_flag,value:value,hasOverride:hasOverride,hasVariants:hasVariants,currentValue:currentValue}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"feature-flag-row",children:[(0,jsx_runtime.jsxs)(row.Z,{className:hasOverride?"feature-flag-row-header overridden":"feature-flag-row-header",children:[(0,jsx_runtime.jsx)("div",{className:"feature-flag-title",children:feature_flag.key}),(0,jsx_runtime.jsx)("a",{className:"feature-flag-external-link",href:`${apiURL}${feature_flag.id?urls.j.featureFlag(feature_flag.id):urls.j.featureFlags()}`,target:"_blank",rel:"noopener noreferrer",children:(0,jsx_runtime.jsx)(icons.pFn,{})}),(0,jsx_runtime.jsx)(es_switch.Z,{checked:!!currentValue,onChange:checked=>{const newValue=hasVariants&&checked?feature_flag.filters?.multivariate?.variants[0]?.key:checked;newValue===value&&hasOverride?deleteOverriddenUserFlag(feature_flag.key):setOverriddenUserFlag(feature_flag.key,newValue)}})]}),(0,jsx_runtime.jsx)(AnimatedCollapsible.r,{collapsed:!hasVariants||!currentValue,children:(0,jsx_runtime.jsx)(row.Z,{className:hasOverride?"variant-radio-group overridden":"variant-radio-group",children:(0,jsx_runtime.jsx)(es_radio.ZP.Group,{disabled:!currentValue,value:currentValue,onChange:event=>{const newValue=event.target.value;newValue===value&&hasOverride?deleteOverriddenUserFlag(feature_flag.key):setOverriddenUserFlag(feature_flag.key,newValue)},children:feature_flag.filters?.multivariate?.variants.map((variant=>(0,jsx_runtime.jsx)(es_radio.ZP,{value:variant.key,children:`${variant.key} - ${variant.name} (${variant.rollout_percentage}%)`},variant.key)))})})})]})}})]})]})}var HedgehogBuddy=__webpack_require__("./frontend/src/lib/components/HedgehogBuddy/HedgehogBuddy.tsx"),sprites=__webpack_require__("./frontend/src/lib/components/HedgehogBuddy/sprites/sprites.tsx");function HedgehogButton(){const{hedgehogMode:hedgehogMode,extensionPercentage:extensionPercentage}=(0,index_esm.useValues)(toolbarButtonLogic),{saveDragPosition:saveDragPosition,setExtensionPercentage:setExtensionPercentage,setHedgehogActor:setHedgehogActor}=(0,index_esm.useActions)(toolbarButtonLogic),{authenticate:authenticate}=(0,index_esm.useActions)(toolbarLogic),{isAuthenticated:isAuthenticated}=(0,index_esm.useValues)(toolbarLogic),{heatmapEnabled:heatmapEnabled}=(0,index_esm.useValues)(heatmapLogic),actorRef=(0,react.useRef)();return(0,react.useEffect)((()=>{heatmapEnabled&&actorRef.current?.setAnimation("heatmaps")}),[heatmapEnabled]),(0,react.useEffect)((()=>{actorRef.current&&setHedgehogActor(actorRef.current)}),[actorRef.current]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:hedgehogMode&&(0,jsx_runtime.jsx)(HedgehogBuddy.CV,{onClose:()=>{},actorRef:actorRef,onClick:()=>{isAuthenticated?setExtensionPercentage(1===extensionPercentage?0:1):authenticate()},onPositionChange:actor=>{saveDragPosition(actor.x+.5*sprites.TE,-actor.y-.5*sprites.TE)}})})}function DraggableButton(){const{dragPosition:dragPosition,heatmapPosition:heatmapPosition,heatmapWindowVisible:heatmapWindowVisible,actionsWindowVisible:actionsWindowVisible,actionsPosition:actionsPosition,flagsVisible:flagsVisible,flagsPosition:flagsPosition}=(0,index_esm.useValues)(toolbarButtonLogic),{saveDragPosition:saveDragPosition,saveHeatmapPosition:saveHeatmapPosition,saveActionsPosition:saveActionsPosition,hideActionsInfo:hideActionsInfo,hideHeatmapInfo:hideHeatmapInfo,hideFlags:hideFlags,saveFlagsPosition:saveFlagsPosition}=(0,index_esm.useActions)(toolbarButtonLogic),{countFlagsOverridden:countFlagsOverridden}=(0,index_esm.useValues)(featureFlagsLogic);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(cjs_default(),{handle:".floating-toolbar-button",position:dragPosition,onDrag:(_,_ref)=>{let{x:x,y:y}=_ref;saveDragPosition(x,y)},onStop:(_,_ref2)=>{let{x:x,y:y}=_ref2;posthog.capture("toolbar dragged",{x:x,y:y}),saveDragPosition(x,y)},children:(0,jsx_runtime.jsx)("div",{id:"button-toolbar",className:"ph-no-capture",children:(0,jsx_runtime.jsx)(ToolbarButton_ToolbarButton,{})})}),(0,jsx_runtime.jsx)(HedgehogButton,{}),(0,jsx_runtime.jsx)(ButtonWindow,{name:"heatmap",label:"Heatmap",visible:heatmapWindowVisible,close:hideHeatmapInfo,position:heatmapPosition,savePosition:saveHeatmapPosition,children:(0,jsx_runtime.jsx)("div",{className:"toolbar-block",children:(0,jsx_runtime.jsx)(HeatmapStats,{})})}),(0,jsx_runtime.jsx)(ButtonWindow,{name:"actions",label:"Actions",visible:actionsWindowVisible,close:hideActionsInfo,position:actionsPosition,savePosition:saveActionsPosition,children:(0,jsx_runtime.jsx)(ActionsTab_ActionsTab,{})}),(0,jsx_runtime.jsx)(ButtonWindow,{name:"flags",label:"Feature Flags",tagComponent:countFlagsOverridden>0?(0,jsx_runtime.jsx)("span",{className:"overridden-tag",children:`${countFlagsOverridden} overridden`}):null,visible:flagsVisible,close:hideFlags,position:flagsPosition,savePosition:saveFlagsPosition,children:(0,jsx_runtime.jsx)(FeatureFlags,{})})]})}function ToolbarContainer(){const{buttonVisible:buttonVisible}=(0,index_esm.useValues)(toolbarLogic);return(0,jsx_runtime.jsxs)(Fade_Fade_Fade,{visible:buttonVisible,className:"toolbar-global-fade-container ph-no-capture",children:[(0,jsx_runtime.jsx)(Elements_Elements,{}),(0,jsx_runtime.jsx)(DraggableButton,{})]})}var react_toastify_esm=__webpack_require__("./node_modules/.pnpm/react-toastify@8.2.0_react-dom@16.14.0_react@16.14.0/node_modules/react-toastify/dist/react-toastify.esm.js");function ToolbarApp(){let props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{jsURL:jsURL}=(0,index_esm.useValues)(toolbarLogic(props)),shadowRef=(0,react.useRef)(null),[didLoadStyles,setDidLoadStyles]=(0,react.useState)(!1),didRender=function useSecondRender(callback){const[secondRender,setSecondRender]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{requestAnimationFrame((()=>{setSecondRender(!0),callback()}))}),[]),secondRender}(props.disableExternalStyles?()=>{}:()=>{const styleLink=document.createElement("link");styleLink.rel="stylesheet",styleLink.type="text/css",styleLink.href=`${jsURL}/static/toolbar.css`,styleLink.onload=()=>setDidLoadStyles(!0);const shadowRoot=shadowRef.current?.shadowRoot||window.document.getElementById("__POSTHOG_TOOLBAR__")?.shadowRoot;shadowRoot?.getElementById("posthog-toolbar-styles")?.appendChild(styleLink)});return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsxs)(react_shadow_esm.ZP.div,{id:"__POSTHOG_TOOLBAR__",className:"ph-no-capture",ref:shadowRef,children:[(0,jsx_runtime.jsx)("div",{id:"posthog-toolbar-styles"}),didRender&&(didLoadStyles||props.disableExternalStyles)?(0,jsx_runtime.jsx)(ToolbarContainer,{}):null,(0,jsx_runtime.jsx)(react_toastify_esm.Ix,{autoClose:6e4,transition:react_toastify_esm.Mi,closeOnClick:!1,draggable:!1,position:"bottom-center"})]})})}try{ToolbarApp.displayName="ToolbarApp",ToolbarApp.__docgenInfo={description:"",displayName:"ToolbarApp",props:{posthog:{defaultValue:null,description:"",name:"posthog",required:!1,type:{name:"PostHog"}},disableExternalStyles:{defaultValue:null,description:"",name:"disableExternalStyles",required:!1,type:{name:"boolean"}},apiURL:{defaultValue:null,description:"",name:"apiURL",required:!1,type:{name:"string"}},jsURL:{defaultValue:null,description:"",name:"jsURL",required:!1,type:{name:"string"}},token:{defaultValue:null,description:"",name:"token",required:!1,type:{name:"string"}},temporaryToken:{defaultValue:null,description:"",name:"temporaryToken",required:!1,type:{name:"string"}},actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}},userIntent:{defaultValue:null,description:"",name:"userIntent",required:!1,type:{name:"enum",value:[{value:'"add-action"'},{value:'"edit-action"'}]}},source:{defaultValue:null,description:"",name:"source",required:!1,type:{name:"enum",value:[{value:'"url"'},{value:'"localstorage"'}]}},toolbarVersion:{defaultValue:null,description:"",name:"toolbarVersion",required:!1,type:{name:"enum",value:[{value:'"toolbar"'}]}},instrument:{defaultValue:null,description:"",name:"instrument",required:!1,type:{name:"boolean"}},distinctId:{defaultValue:null,description:"",name:"distinctId",required:!1,type:{name:"string"}},userEmail:{defaultValue:null,description:"",name:"userEmail",required:!1,type:{name:"string"}},dataAttributes:{defaultValue:null,description:"",name:"dataAttributes",required:!1,type:{name:"string[]"}},featureFlags:{defaultValue:null,description:"",name:"featureFlags",required:!1,type:{name:"Record<string, string | boolean>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["frontend/src/toolbar/ToolbarApp.tsx#ToolbarApp"]={docgenInfo:ToolbarApp.__docgenInfo,name:"ToolbarApp",path:"frontend/src/toolbar/ToolbarApp.tsx#ToolbarApp"})}catch(__react_docgen_typescript_loader_error){}var browser=__webpack_require__("./frontend/src/mocks/browser.tsx");const toolbarParams={temporaryToken:"UExb1dCsoqBtrhrZYxzmxXQ7XdjVH5Ea_zbQjTFuJqk",actionId:void 0,userIntent:void 0,dataAttributes:["data-attr"],apiURL:"/",jsURL:"http://localhost:8234/",userEmail:"foobar@posthog.com"};var Toolbar_stories={title:"Scenes-Other/Toolbar",parameters:{layout:"fullscreen",viewMode:"story",testOptions:{skip:!0}}};function useToolbarStyles(){(0,react.useEffect)((()=>{const head=document.getElementsByTagName("head")[0],shadowRoot=window.document.getElementById("__POSTHOG_TOOLBAR__")?.shadowRoot;Array.from(head.getElementsByTagName("style")).forEach((tag=>{const style=document.createElement("style"),text=tag.innerText;style.appendChild(document.createTextNode(text)),shadowRoot?.appendChild(style)}))}),[])}const Authenticated=()=>(useToolbarStyles(),(0,browser.ok)({get:{"/decide":{config:{enable_collect_everything:!0},toolbarParams:{toolbarVersion:"toolbar",jsURL:toolbarParams.jsURL},isAuthenticated:!0,supportedCompression:["gzip","gzip-js","lz64"],featureFlags:{},sessionRecording:{endpoint:"/s/"}},"/api/element/stats":()=>[200,[]],"/api/projects/@current/feature_flags/my_flags":()=>[200,[]],"/api/organizations/@current/members/?limit=200":{results:[]}}}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{children:"The toolbar should show up now! Click it to open."}),(0,jsx_runtime.jsx)("button",{children:"Click Me"}),(0,jsx_runtime.jsx)(ToolbarApp,{...toolbarParams,disableExternalStyles:!0})]})),UnAuthenticated=()=>(useToolbarStyles(),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{children:"The toolbar should show up now!"}),(0,jsx_runtime.jsx)("button",{children:"Click Me"}),(0,jsx_runtime.jsx)(ToolbarApp,{...toolbarParams,disableExternalStyles:!0})]}));Authenticated.parameters={...Authenticated.parameters,docs:{...Authenticated.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  useToolbarStyles();\n  useStorybookMocks({\n    get: {\n      '/decide': {\n        config: {\n          enable_collect_everything: true\n        },\n        toolbarParams: {\n          toolbarVersion: 'toolbar',\n          jsURL: toolbarParams.jsURL\n        },\n        isAuthenticated: true,\n        supportedCompression: ['gzip', 'gzip-js', 'lz64'],\n        featureFlags: {},\n        sessionRecording: {\n          endpoint: '/s/'\n        }\n      },\n      '/api/element/stats': () => [200, []],\n      '/api/projects/@current/feature_flags/my_flags': () => [200, []],\n      '/api/organizations/@current/members/?limit=200': {\n        results: []\n      }\n    }\n  });\n  return <div>\n            <div>The toolbar should show up now! Click it to open.</div>\n            <button>Click Me</button>\n            <ToolbarApp {...toolbarParams} disableExternalStyles />\n        </div>;\n}",...Authenticated.parameters?.docs?.source}}},UnAuthenticated.parameters={...UnAuthenticated.parameters,docs:{...UnAuthenticated.parameters?.docs,source:{originalSource:"(): JSX.Element => {\n  useToolbarStyles();\n  return <div>\n            <div>The toolbar should show up now!</div>\n            <button>Click Me</button>\n            <ToolbarApp {...toolbarParams} disableExternalStyles />\n        </div>;\n}",...UnAuthenticated.parameters?.docs?.source}}}},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/lib/components/Fade/Fade.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"@keyframes fadeComponentFadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeComponentFadeOut{0%{opacity:1}to{opacity:0}}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/actions/ActionsTab.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".action-block-body{padding:16px}.action-section{padding:8px}.action-section.highlight{background:#f3f4f6}.action-section.highlight:nth-child(2n){background:#fff}.action-section.highlight:nth-child(2n):last-child{padding-bottom:10px}.action-title-field{margin-bottom:10px}.action-inspect{margin:20px 0}.action-field{margin:5px -20px;padding:2px 20px 8px}.action-field .ant-form-item{margin-bottom:0}.action-field .action-field-hint{font-size:12px;margin-top:4px}.action-field .action-field-caption{font-size:.8em;color:rgba(0,0,0,.5);padding:8px 0}.actions-list .actions-list-header,.actions-list .ant-list-item{padding:6px 0}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/button/ToolbarButton.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"#button-toolbar{position:fixed;left:0;top:0;z-index:2147483020;opacity:1;transition:opacity .5s ease}#button-toolbar .circle-button{transition:box-shadow .2s ease;box-shadow:0 .3px .7px rgba(0,0,0,.25),0 .8px 1.7px rgba(0,0,0,.18),0 1.5px 3.1px rgba(0,0,0,.149),0 2.7px 5.4px rgba(0,0,0,.125),0 5px 10px rgba(0,0,0,.101),0 12px 24px rgba(0,0,0,.07)}#button-toolbar .circle-button:hover{box-shadow:0 1.3px 2.7px rgba(0,0,0,.25),0 3.2px 6.4px rgba(0,0,0,.18),0 6px 12px rgba(0,0,0,.149),0 10.7px 21.4px rgba(0,0,0,.125),0 20.1px 40.1px rgba(0,0,0,.101),0 48px 96px rgba(0,0,0,.07)}#button-toolbar .circle-label{font-weight:700;text-shadow:#000 0 0 1px,#000 0 0 2px,rgba(0,0,0,.25) 0 .3px .7px,rgba(0,0,0,.18) 0 .8px 1.6px,rgba(0,0,0,.15) 0 1.5px 3px,rgba(0,0,0,.125) 0 2.7px 5.4px,rgba(0,0,0,.1) 0 5px 10px,rgba(0,0,0,.07) 0 12px 24px}#button-toolbar+.HedgehogBuddy{z-index:2147483020}.toolbar-info-windows{position:fixed;width:300px;left:0;top:0;z-index:2147483020;box-shadow:0 .3px .7px rgba(0,0,0,.25),0 .8px 1.7px rgba(0,0,0,.18),0 1.5px 3.1px rgba(0,0,0,.149),0 2.7px 5.4px rgba(0,0,0,.125),0 5px 10px rgba(0,0,0,.101),0 12px 24px rgba(0,0,0,.07);opacity:1;transition:opacity .5s ease;background-color:#fff;border-radius:4px;border:1px solid var(--border)}.toolbar-info-windows .toolbar-block{max-height:80vh;overflow:auto}.toolbar-info-windows .toolbar-info-window-title{line-height:26px;display:flex;align-items:center;margin:0 8px;border-bottom:1px solid var(--border)}.toolbar-info-windows .toolbar-info-window-title .toolbar-info-window-draggable{flex:1;display:flex;width:100%;align-items:center;cursor:move;padding:15px 0}.toolbar-info-windows .toolbar-info-window-title .toolbar-info-window-draggable .window-label{font-size:14px;font-weight:700;margin-bottom:0;padding-left:8px}.toolbar-info-windows .toolbar-info-window-title .close-button{cursor:pointer;padding:8px;color:rgba(0,0,0,.6);transition:color .1s ease-in-out}.toolbar-info-windows .toolbar-info-window-title .close-button:hover{color:#000}.overridden-tag{margin-left:5px;font-size:11px;padding:0 4px;line-height:20px;background:var(--mark);border-radius:4px;font-weight:700}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/button/icons/Fire.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"svg.posthog-toolbar-icon-fire.animated path:first-child{animation:posthHogToolbarIconOnFire1 .5s infinite}svg.posthog-toolbar-icon-fire.animated path:nth-child(2){animation:posthHogToolbarIconOnFire2 .5s infinite}svg.posthog-toolbar-icon-fire.animated path:nth-child(3){animation:posthHogToolbarIconOnFire3 .5s infinite}@keyframes posthHogToolbarIconOnFire1{0%{fill:#fb4f0e}33.3%{fill:#fe6d37}66.6%{fill:#fcb811}to{fill:#fb4f0e}}@keyframes posthHogToolbarIconOnFire2{0%{fill:#fe6d37}33.3%{fill:#fcb811}66.6%{fill:#fb4f0e}to{fill:#fe6d37}}@keyframes posthHogToolbarIconOnFire3{0%{fill:#fcb811}33.3%{fill:#fb4f0e}66.6%{fill:#fe6d37}to{fill:#fcb811}}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/button/icons/Flag.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"svg.posthog-toolbar-icon-flag.animated path.color1{animation:posthHogToolbarIconOnFlag1 .5s infinite}svg.posthog-toolbar-icon-flag.animated path.color2{animation:posthHogToolbarIconOnFlag2 .5s infinite}svg.posthog-toolbar-icon-flag.animated path.color3{animation:posthHogToolbarIconOnFlag3 .5s infinite}@keyframes posthHogToolbarIconOnFlag1{0%{fill:#70aa54}33.3%{fill:#527940}66.6%{fill:#415e32}to{fill:#70aa54}}@keyframes posthHogToolbarIconOnFlag2{0%{fill:#527940}33.3%{fill:#415e32}66.6%{fill:#70aa54}to{fill:#527940}}@keyframes posthHogToolbarIconOnFlag3{0%{fill:#415e32}33.3%{fill:#70aa54}66.6%{fill:#527940}to{fill:#415e32}}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/elements/Elements.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,"#posthog-infowindow-container,#posthog-toolbar-elements{color:#333;pointer-events:none}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/flags/featureFlags.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,".flags-button-window{width:min(350px,100vw)}.toolbar-block .ant-list{padding-top:5px}.toolbar-block .feature-flag-row{margin-bottom:5px;padding:0 8px}.toolbar-block .feature-flag-row .feature-flag-row-header{background-color:#fafafa;border-radius:4px;align-items:center;min-height:38px;padding:0 5px}.toolbar-block .feature-flag-row .feature-flag-row-header>*{margin:0 5px}.toolbar-block .feature-flag-row .feature-flag-row-header .feature-flag-title{flex:1;font-weight:700;font-size:13px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.toolbar-block .feature-flag-row .feature-flag-row-header .feature-flag-external-link{color:rgba(0,0,0,.5);line-height:normal}.toolbar-block .feature-flag-row .feature-flag-row-header .feature-flag-external-link:hover{color:rgba(0,0,0,.8)}.toolbar-block .feature-flag-row .feature-flag-row-header.overridden{background-color:var(--mark)}.toolbar-block .feature-flag-row .variant-radio-group{margin-left:15px;padding:4px 0 4px 15px;border-left:2px solid #fafafa}.toolbar-block .feature-flag-row .variant-radio-group .ant-radio-wrapper-checked{background-color:var(--primary-highlight);border-radius:var(--radius)}.toolbar-block .feature-flag-row .variant-radio-group .ant-radio-wrapper-checked>span{font-weight:700}.toolbar-block .feature-flag-row .variant-radio-group .ant-radio-wrapper{padding:8px;width:100%}.toolbar-block .feature-flag-row .variant-radio-group.overridden{border-left-color:var(--mark)}.toolbar-block .local-feature-flag-override-note{color:var(--default);background-color:#fafafa;border-radius:4px;border:1px solid var(--border);padding:.5rem;margin:.5rem}",""]),module.exports=exports},"./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/cjs.js!./node_modules/.pnpm/postcss-loader@4.3.0_postcss@8.4.18_webpack@5.88.2/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@10.3.1_sass@1.56.0_webpack@5.88.2/node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./frontend/src/toolbar/styles.scss":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/.pnpm/css-loader@3.6.0_webpack@5.88.2/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,':host{--primary-highlight:rgba(29,74,255,0.1);--primary-light:#345cff;--primary:#1d4aff;--primary-dark:#1330a6;--danger-highlight:rgba(219,55,7,0.1);--danger-lighter:#ffa599;--danger-light:#df4b20;--danger:#db3707;--danger-dark:#992705;--warning-highlight:rgba(247,165,1,0.1);--warning-light:#f8b633;--warning:#f7a501;--warning-dark:#a06b01;--success-highlight:rgba(56,134,0,0.1);--success-light:#5f9d32;--success:#388600;--success-dark:#245700;--primary-alt-highlight:rgba(53,65,107,0.1);--primary-alt:#35416b;--primary-alt-dark:#222a46;--default:#2d2d2d;--default-dark:#050505;--muted:#5f5f5f;--muted-dark:#403939;--muted-alt:#747ea1;--muted-alt-dark:#515871;--mark:hsla(42,93%,86%,0.8);--white:#fff;--bg-light:#fff;--side:#fafaf9;--mid:#f2f2f2;--border:rgba(0,0,0,0.15);--border-light:rgba(0,0,0,0.08);--border-bold:rgba(0,0,0,0.24);--border-active:rgba(0,0,0,0.36);--transparent:transparent;--brand-blue:#1d4aff;--brand-red:#f54e00;--brand-yellow:#f9bd2b;--brand-key:#000;--text-3000-light:#111;--muted-3000-light:rgba(17,17,17,0.5);--trace-3000-light:rgba(17,17,17,0.25);--primary-3000-light:rgba(0,0,0,0.75);--primary-3000-hover-light:#000;--secondary-3000-light:hsla(68,14%,79%,0.6);--secondary-3000-hover-light:#cfd1c2;--accent-3000-light:#eeefe9;--bg-3000-light:#f3f4ef;--border-3000-light:#dadbd2;--border-bold-3000-light:#c1c2b9;--glass-bg-3000-light:rgba(228,229,222,0.7019607843);--glass-border-3000-light:#e4e5de;--text-3000-dark:#fff;--muted-3000-dark:hsla(0,0%,100%,0.5);--trace-3000-dark:hsla(0,0%,100%,0.25);--primary-3000-dark:var(--primary);--primary-3000-hover-dark:var(--primary-light);--secondary-3000-dark:#3b4159;--secondary-3000-hover-dark:#575d77;--accent-3000-dark:#1d1f27;--bg-3000-dark:#151619;--border-3000-dark:#2b2c32;--border-bold-3000-dark:#3f4046;--glass-bg-3000-dark:rgba(29,31,39,0.7019607843);--glass-border-3000-dark:var(--border-3000-dark);--text-3000:var(--text-3000);--muted-3000:var(--muted-3000);--trace-3000:var(--trace-3000);--primary-3000:var(--primary-3000);--primary-3000-hover:var(--primary-3000-hover);--secondary-3000:var(--secondary-3000);--secondary-3000-hover:var(--secondary-3000-hover);--accent-3000:var(--accent-3000);--bg-3000:var(--bg-3000);--border-3000:var(--border-3000);--border-bold-3000:var(--border-bold-3000);--glass-bg-3000:var(--glass-bg-3000);--glass-border-3000:var(--glass-border-3000);--primary-bg-hover:var(--primary-highlight);--primary-bg-active:rgba(29,74,255,0.2);--bg-charcoal:#2d2d2d;--bg-bridge:#ebece8;--radius:4px;--shadow-elevation:0px 16px 16px -16px rgba(0,0,0,0.35);--opacity-disabled:0.6;--font-medium:500;--font-semibold:600;--font-sans:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI","Roboto","Helvetica Neue",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--font-mono:ui-monospace,"SFMono-Regular","SF Mono","Menlo","Consolas","Liberation Mono",monospace;--blue:#597dce;--purple:#c278cf;--green:var(--success);--black:var(--default);--purple-light:#dcb1e3;--data-brand-blue:var(--primary);--data-purple:#621da6;--data-viridian:#42827e;--data-magenta:#ce0e74;--data-vermilion:#f14f58;--data-brown:#7c440e;--data-green:#529a0a;--data-blue:#0476fb;--data-pink:#fe729e;--data-navy:var(--primary-alt);--data-turquoise:#41cbc4;--data-brick:#b64b02;--data-yellow:#e4a604;--data-lilac:#a56eff;--lifecycle-new:#1d4aff;--lifecycle-returning:#388600;--lifecycle-resurrecting:#a56eff;--lifecycle-dormant:#db3707;--lifecycle-new-hover:#0024b6;--lifecycle-returning-hover:#0d2000;--lifecycle-resurrecting-hover:#6608ff;--lifecycle-dormant-hover:#781e04;--funnel-default:var(--primary);--funnel-background:var(--border-light);--funnel-axis:var(--border);--funnel-grid:#ddd;--antd-table-background-dark:#fafafa;--recording-spacing:0.66667rem;--recording-player-container-bg:#797973;--recording-buffer-bg:#faaf8c;--recording-seekbar-red:var(--brand-red);--recording-hover-event:var(--primary-bg-hover);--recording-hover-event-mid:var(--primary-bg-active);--recording-hover-event-dark:var(--primary);--recording-current-event:#eef2ff;--recording-current-event-dark:var(--primary-alt);--recording-failure-event:#fee9e2;--recording-failure-event-dark:#cd3000;--recording-highlight-event:var(--mark);--recording-highlight-event-dark:#946508;--z-bottom-notice:5100;--z-command-palette:1875;--z-force-modal-above-popovers:1850;--z-ant-message:1070;--z-ant-select-dropdown:1065;--z-definition-popover:1063;--z-popover:1061;--z-modal:1060;--z-hedgehog-buddy:1059;--z-ant-modal-wrap:1060;--z-ant-modal-mask:1050;--z-plugins-popconfirm:1001;--z-graph-tooltip:952;--z-annotation-popover:951;--z-drawer:950;--z-notifications-popover:949;--z-main-nav:948;--z-lemon-sidebar:940;--z-lemon-activation-sidebar:939;--z-mobile-nav-overlay:931;--z-top-navigation:800;--z-content-overlay:488;--z-raised:5;--toastify-color-dark:var(--accent-3000-dark);--toastify-color-light:var(--bg-light);--toastify-color-info:var(--primary);--toastify-color-success:var(--success);--toastify-color-warning:var(--warning);--toastify-color-error:var(--danger);--toastify-toast-background:var(--bg-light);--toastify-toast-width:26rem;--toastify-toast-min-height:3.5rem;--toastify-toast-max-height:16rem;--toastify-text-color-light:#757575;--toastify-color-progress-success:var(--toastify-color-success);--toastify-color-progress-warning:var(--toastify-color-warning);--toastify-color-progress-error:var(--toastify-color-error);--in-app-prompts-width:26rem;--lettermark-1-bg:#dcb1e3;--lettermark-1-text:#572e5e;--lettermark-2-bg:#ffc4b2;--lettermark-2-text:#3e5891;--lettermark-3-bg:#fdedc9;--lettermark-3-text:#3e5891;--lettermark-4-bg:#3e5891;--lettermark-4-text:#ffc4b2;--lettermark-5-bg:#8da9e7;--lettermark-5-text:#572e5e;--lettermark-6-bg:#572e5e;--lettermark-6-text:#dcb1e3;--lettermark-7-bg:#ffc035;--lettermark-7-text:#35416b;--lettermark-8-bg:#ff906e;--lettermark-8-text:#2a3d65;--lettermark-8-bg:#e8edff;--lettermark-8-text:#35416b;--modal-backdrop-blur:5px;--modal-backdrop-color:rgba(0,0,0,0.2);--modal-transition-time:200ms;--notebook-popover-transition-properties:150ms cubic-bezier(0,0.5,0.5,1);--notebook-sidebar-width:20rem;all:initial;font-family:var(--font-sans);font-size:14px;line-height:1.5}.toolbar-block{background:#fff;color:#000;font-size:14px}.toolbar-block.no-padding{padding:0}.ant-modal-mask,.ant-modal-wrap{z-index:2147483030!important}.ant-picker-dropdown,.ant-select-dropdown{z-index:2147483031!important}.ant-tooltip{z-index:2147483032!important}.LemonModal__overlay--force-modal-above-popovers{z-index:2147483033!important}.ant-list-item:hover{background:#f0f0f0}.section-title{font-size:12px;text-transform:uppercase;font-weight:700;color:#6a7790;margin-bottom:10px}.fade-component-container{position:fixed;z-index:2147483020}.Toastify__toast-container{z-index:2147483040}.toolbar-global-fade-container{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}.toolbar-global-fade-container>*{pointer-events:auto}.Popover{z-index:2147483020!important}',""]),module.exports=exports}}]);