(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{"./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx":function(U,u,e){"use strict";e.d(u,"a",function(){return g});var A=e("./node_modules/core-js/modules/es.array.map.js"),N=e.n(A),B=e("./node_modules/react/index.js"),t=e.n(B),j=e("./node_modules/clsx/dist/clsx.m.js"),n=e("./node_modules/kea/lib/index.esm.js"),R=e("./frontend/src/lib/components/LemonTag/LemonTag.tsx"),i=e("./frontend/src/lib/components/LemonButton/index.ts"),D=e("./node_modules/antd/es/popconfirm/index.js"),c=e("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),m=e("./frontend/src/lib/components/LemonRow/index.ts"),E=e("./frontend/src/lib/components/icons.tsx"),K=e("./frontend/src/lib/components/Spinner/Spinner.tsx"),I=e("./node_modules/kea-forms/lib/index.js"),W=e.n(I),x=e("./frontend/src/lib/components/LemonInput/LemonInput.tsx"),y=e("./frontend/src/lib/forms/Field.tsx");function P(o){var r=o.numberOfResults,l=o.isSearching,d=o.isAddingEntry,h=o.type;return r>0?null:l?t.a.createElement(m.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},"There are no authorized ",h===c.a.RECORDING_DOMAINS?"domains":"URLs"," that match your search."):d?null:t.a.createElement(m.a,{outlined:!0,fullWidth:!0,size:"large",className:"AuthorizedUrlRow"},h===c.a.RECORDING_DOMAINS?"No domains are specified, so recordings will be authorized on all domains.":"There are no authorized urls. Add one to get started.")}function T(o){var r=o.actionId,l=o.type,d=Object(c.c)({actionId:r,type:l}),h=Object(n.useValues)(d),f=h.isProposedUrlSubmitting,a=Object(n.useActions)(d),s=a.cancelProposingUrl;return t.a.createElement(I.Form,{logic:c.c,props:{actionId:r,type:l},formKey:"proposedUrl",enableFormOnSubmit:!0,className:"w-full space-y-2"},t.a.createElement(y.a,{name:"url"},t.a.createElement(x.a,{autoFocus:!0,placeholder:"Enter a URL or wildcard subdomain (e.g. https://*.posthog.com)","data-attr":"url-input"})),t.a.createElement("div",{className:"flex justify-end gap-2"},t.a.createElement(i.a,{type:"secondary",onClick:s},"Cancel"),t.a.createElement(i.a,{htmlType:"submit",type:"primary",disabled:f,"data-attr":"url-save"},"Save")))}function g(o){var r=o.actionId,l=o.type,d=o.addText,h=d===void 0?"Add":d,f=Object(c.c)({actionId:r,type:l}),a=Object(n.useValues)(f),s=a.urlsKeyed,b=a.suggestionsLoading,v=a.searchTerm,S=a.launchUrl,M=a.editUrlIndex,L=a.isAddUrlFormVisible,C=a.onlyAllowDomains,O=Object(n.useActions)(f),F=O.addUrl,V=O.removeUrl,H=O.setSearchTerm,G=O.newUrl,J=O.setEditUrlIndex;return t.a.createElement("div",null,t.a.createElement("div",{className:"flex items-center mb-4 gap-2 justify-between"},t.a.createElement(x.a,{type:"search",placeholder:"Search for authorized ".concat(C?"domains":"URLs"),onChange:H,value:v}),t.a.createElement(i.a,{onClick:G,type:"secondary",icon:t.a.createElement(E.IconPlus,null),"data-attr":"toolbar-add-url"},h)),b?t.a.createElement(m.a,{outlined:!0,fullWidth:!0,size:"large",key:-1},t.a.createElement(K.a,{className:"text-xl"})):t.a.createElement("div",{className:"space-y-2"},L&&t.a.createElement(m.a,{outlined:!0,fullWidth:!0,size:"large"},t.a.createElement(T,{type:l,actionId:r})),t.a.createElement(P,{numberOfResults:s.length,isSearching:v.length>0,isAddingEntry:L,type:l}),s.map(function(p,z){return t.a.createElement("div",{key:z,className:Object(j.a)("border rounded flex items-center py-2 px-4 min-h-14")},M===z?t.a.createElement(T,{type:l,actionId:r}):t.a.createElement(t.a.Fragment,null,p.type==="suggestion"&&t.a.createElement(R.a,{type:"highlight",className:"mr-4 uppercase"},"Suggestion"),t.a.createElement("span",{title:p.url,className:"flex-1 truncate"},p.url),t.a.createElement("div",{className:"Actions flex space-x-2 shrink-0"},p.type==="suggestion"?t.a.createElement(i.a,{onClick:function(){return F(p.url)},icon:t.a.createElement(E.IconPlus,null),"data-attr":"toolbar-apply-suggestion"},"Apply suggestion"):t.a.createElement(t.a.Fragment,null,t.a.createElement(i.a,{icon:t.a.createElement(E.IconOpenInApp,null),to:S(p.url),targetBlank:!0,tooltip:l===c.a.TOOLBAR_URLS?"Launch toolbar":"Launch url",center:!0,className:"ActionButton","data-attr":"toolbar-open"},"Launch"),t.a.createElement(i.a,{icon:t.a.createElement(E.IconEdit,null),onClick:function(){return J(p.originalIndex)},tooltip:"Edit",center:!0,className:"ActionButton"}),t.a.createElement(D.a,{placement:"topRight",title:t.a.createElement(t.a.Fragment,null,"Are you sure you want to remove this authorized"," ",C?"domain":"URL","?"),onConfirm:function(){return V(z)}},t.a.createElement(i.a,{icon:t.a.createElement(E.IconDelete,null),tooltip:"Remove ".concat(C?"domain":"URL"),center:!0,className:"ActionButton"}))))))})))}try{g.displayName="AuthorizedUrlList",g.__docgenInfo={description:"",displayName:"AuthorizedUrlList",props:{actionId:{defaultValue:null,description:"",name:"actionId",required:!1,type:{name:"number"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"TOOLBAR_URLS"'},{value:'"RECORDING_DOMAINS"'}]}},addText:{defaultValue:{value:"Add"},description:"",name:"addText",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx#AuthorizedUrlList"]={docgenInfo:g.__docgenInfo,name:"AuthorizedUrlList",path:"frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx#AuthorizedUrlList"})}catch(o){}},"./frontend/src/scenes/toolbar-launch/ToolbarLaunch.tsx":function(U,u,e){"use strict";e.r(u),e.d(u,"scene",function(){return d});var A=e("./node_modules/@babel/runtime/helpers/extends.js"),N=e.n(A),B=e("./node_modules/core-js/modules/es.array.map.js"),t=e("./frontend/src/lib/components/PageHeader.tsx"),j=e("./node_modules/react/index.js"),n=e.n(j),R=e("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=e.n(R),D=e("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss"),c=e.n(D),m={};m.insert="head",m.singleton=!1;var E=i()(c.a,m),K=c.a.locals||{},I=e("./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"),W=e("./frontend/src/lib/components/Link.tsx"),x=e("./frontend/src/scenes/urls.ts"),y=e("./frontend/src/lib/components/icons.tsx"),P=e("./frontend/src/lib/components/AuthorizedUrlList/AuthorizedUrlList.tsx"),T=e("./frontend/src/lib/components/AuthorizedUrlList/authorizedUrlListLogic.ts"),g=e("./frontend/src/lib/components/LemonDivider/index.ts"),o=e("./frontend/src/lib/components/LemonSwitch/LemonSwitch.tsx"),r=e("./node_modules/kea/lib/index.esm.js"),l=e("./frontend/src/scenes/userLogic.ts"),d={component:h};function h(){var a=Object(r.useValues)(l.a),s=a.user,b=a.userLoading,v=Object(r.useActions)(l.a),S=v.updateUser,M=[{title:"Heatmaps",caption:"Understand where your users interact the most.",icon:n.a.createElement(y.IconHeatmap,null)},{title:"Actions",caption:"Create actions visually from elements in your website.",icon:n.a.createElement(y.IconGroupedEvents,null)},{title:"Feature Flags",caption:"Toggle feature flags on/off right on your app.",icon:n.a.createElement(y.IconFlag,null)},{title:"Inspect",caption:"Inspect clickable elements on your website.",icon:n.a.createElement(I.a,null)}];return n.a.createElement("div",{className:"toolbar-launch-page"},n.a.createElement(t.a,{title:"Toolbar",caption:"The toolbar launches PostHog right in your app or website."}),n.a.createElement(g.a,null),n.a.createElement("div",{className:"my-4"},n.a.createElement(o.a,{"data-attr":"toolbar-authorized-toggle",label:"Enable the PostHog toolbar",onChange:function(){return S({toolbar_mode:(s==null?void 0:s.toolbar_mode)==="disabled"?"toolbar":"disabled"})},checked:(s==null?void 0:s.toolbar_mode)!=="disabled",disabled:b,bordered:!0})),n.a.createElement("h2",{className:"subtitle",id:"urls"},"Authorized URLs for Toolbar"),n.a.createElement("p",null,"Click on the URL to launch the toolbar."," ",window.location.host==="app.posthog.com"&&"Remember to disable your adblocker."),n.a.createElement(P.a,{type:T.a.TOOLBAR_URLS,addText:"Add authorized URL"}),n.a.createElement("div",{className:"footer-caption text-muted mt-4 text-center"},"Make sure you're using the ",n.a.createElement(W.a,{to:"".concat(x.a.projectSettings(),"#snippet")},"HTML snippet")," or the latest ",n.a.createElement("code",null,"posthog-js")," version."),n.a.createElement("div",{className:"feature-highlight-list mt-8 mx-auto mb-0 flex flex-wrap items-center justify-center"},M.map(function(L){return n.a.createElement(f,N()({key:L.title},L))})))}function f(a){var s=a.title,b=a.caption,v=a.icon;return n.a.createElement("div",{className:"fh-item flex items-center mt-4"},n.a.createElement("div",{className:"fh-icon mr-4 text-muted-alt"},v),n.a.createElement("div",null,n.a.createElement("h4",{className:"mb-0 text-muted-alt"},s),n.a.createElement("div",{className:"caption"},b)))}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js?!./frontend/src/scenes/toolbar-launch/ToolbarLaunch.scss":function(U,u,e){var A=e("./node_modules/css-loader/dist/runtime/api.js");u=A(!1),u.push([U.i,".toolbar-launch-page{margin-bottom:48px}.toolbar-launch-page .feature-highlight-list{max-width:800px}.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(50% - 8px)}@media(max-width:599px){.toolbar-launch-page .feature-highlight-list .fh-item{width:calc(100% - 8px)}}.toolbar-launch-page .feature-highlight-list .fh-item .fh-icon{font-size:1.6em}.toolbar-launch-page .feature-highlight-list .fh-item h4{font-size:1.2em}",""]),U.exports=u}}]);
